<script>
let dateFormats = {
  'dd-MMM-yy': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{2}$/,
  'dd-MMM-yyyy': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{4}$/,
  'dd-MMMM-yy': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{2}$/,
  'dd-MMMM-yyyy': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{4}$/,
  'MM-dd-yy': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{2}$/,
  'yy-MM-dd': /^\d{2}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/,
  'dd-MM-yy': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{2}$/,
  'dd-MM-yyyy': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{4}$/,
  'MM-dd-yyyy': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{4}$/,
  'yyyy-MM-dd': /^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])$/,
  'yy/MM/dd': /^\d{2}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])$/,
  'dd/MM/yy': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{2}$/,
  'MM/dd/yy': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{2}$/,
  'yyyy/MM/dd': /^\d{4}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])$/,
  'MM/dd/yyyy': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/,
  'dd/MM/yyyy': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{4}$/,
  'dd MMM,yy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{2}$/,
  'MMM dd,yy': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}$/,
  'dd MMM,yyyy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{4}$/,
  'MMM dd,yyyy': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}$/,
  'dd MMMM,yy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,},\d{2}$/,
  'MMMM dd,yy': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}$/,
  'MMMM dd,yyyy': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}$/,
  'E dd.MM.yyyy': /^$([a-zA-Z]{3}|[a-zA-Z]{0,})\s(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}$/,
  'E,MMMM dd,yyyy': /^$([a-zA-Z]{3}|[a-zA-Z]{0,}),[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}$/,
  'MMM dd yy': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}$/,
  'dd MMM yy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{2}$/,
  'MMM dd yyyy': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{4}$/,
  'dd MMM yyyy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{4}$/,
  'dd MMMM yy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{2}$/,
  'dd MMMM yyyy': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{4}$/,
  'MMMM dd yy': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}$/,
  'MM.dd.yy': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{2}$/,
  'yy.MM.dd': /^\d{2}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])$/,
  'dd MM yyyy': /^(0?[1-9]|[12][0-9]|3[01])\s(0?[1-9]|1[012])\s\d{4}$/,
  'dd.MM.yyyy': /^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}$/,
  'MM.dd.yyyy': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{4}$/,
  'yyyy.MM.dd': /^\d{4}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])$/,
  'dd-MMM-yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMM-yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMMM-yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMMM-yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM-dd-yy HH:mm': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy-MM-dd HH:mm': /^\d{2}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MM-yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MM-yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM-dd-yyyy HH:mm': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy-MM-dd HH:mm': /^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy/MM/dd HH:mm': /^\d{2}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd/MM/yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM/dd/yy HH:mm': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy/MM/dd HH:mm': /^\d{4}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM/dd/yyyy HH:mm': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd/MM/yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM,yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd,yy HH:mm': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM,yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd,yyyy HH:mm': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM,yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,},\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd,yy HH:mm': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd,yyyy HH:mm': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'E dd.MM.yyyy HH:mm': /^$([a-zA-Z]{3}|[a-zA-Z]{0,})\s(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'E,MMMM dd,yyyy HH:mm': /^$([a-zA-Z]{3}|[a-zA-Z]{0,}),[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd yy HH:mm': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd yyyy HH:mm': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM yy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd yy HH:mm': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM.dd.yy HH:mm': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy.MM.dd HH:mm': /^\d{2}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MM yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\s(0?[1-9]|1[012])\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd.MM.yyyy HH:mm': /^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM.dd.yyyy HH:mm': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy.MM.dd HH:mm': /^\d{4}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMM-yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMM-yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{3}-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMMM-yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MMMM-yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-[a-zA-Z]{0,}-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM-dd-yy HH:mm:ss': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy-MM-dd HH:mm:ss': /^\d{2}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MM-yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd-MM-yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])-(0?[1-9]|1[012])-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM-dd-yyyy HH:mm:ss': /^(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])-\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy-MM-dd HH:mm:ss': /^\d{4}-(0?[1-9]|1[012])-(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy/MM/dd HH:mm:ss': /^\d{2}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd/MM/yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM/dd/yy HH:mm:ss': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy/MM/dd HH:mm:ss': /^\d{4}\/(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM/dd/yyyy HH:mm:ss': /^(0?[1-9]|1[012])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd/MM/yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM,yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd,yy HH:mm:ss': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM,yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3},\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd,yyyy HH:mm:ss': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM,yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,},\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd,yy HH:mm:ss': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd,yyyy HH:mm:ss': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'E dd.MM.yyyy HH:mm:ss': /^$([a-zA-Z]{3}|[a-zA-Z]{0,})\s(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'E,MMMM dd,yyyy HH:mm:ss': /^$([a-zA-Z]{3}|[a-zA-Z]{0,}),[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01]),\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd yy HH:mm:ss': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMM dd yyyy HH:mm:ss': /^[a-zA-Z]{3}\s(0?[1-9]|[12][0-9]|3[01])\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMM yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{3}\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM yy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MMMM yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s[a-zA-Z]{0,}\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MMMM dd yy HH:mm:ss': /^[a-zA-Z]{0,}\s(0?[1-9]|[12][0-9]|3[01])\s\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM.dd.yy HH:mm:ss': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{2}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yy.MM.dd HH:mm:ss': /^\d{2}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd MM yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\s(0?[1-9]|1[012])\s\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'dd.MM.yyyy HH:mm:ss': /^(0?[1-9]|[12][0-9]|3[01])\.(0?[1-9]|1[012])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'MM.dd.yyyy HH:mm:ss': /^(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\.\d{4}\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  'yyyy.MM.dd HH:mm:ss': /^\d{4}\.(0?[1-9]|1[012])\.(0?[1-9]|[12][0-9]|3[01])\s(0?\d{1}|1[0-9]|2[0-3])[:/](0?\d{1}|[1-5]\d{1})[:/](0?\d{1}|[1-5]\d{1})$/,
  TimeStamp: /^\d+$/,
}

export default {
  methods: {
    getDateFormats(dateString) {
      if (dateString === null) {
        return null
      } else {
        let matchingFormats = []
        for (let index in dateFormats) {
          let regEx = new RegExp(dateFormats[index])
          if (regEx.test(dateString)) {
            matchingFormats.push(index)
          } else {
            continue
          }
        }
        if (matchingFormats.length === 0) {
          return null
        }
        return matchingFormats
      }
    },
    getMatch(date, dateFormatString) {
      let regEx = new RegExp(dateFormatString)
      if (regEx.test(date)) {
        return true
      } else {
        return false
      }
    },
    formatTo(milliSecond, dateFormat) {
      return this.$options.filters.toDateFormat(milliSecond, dateFormat)
    },
    upperCaseDateYearfromFormat(dateFormat) {
      dateFormat = dateFormat.replace(/y/g, 'Y')
      dateFormat = dateFormat.replace(/d/g, 'D')
      return dateFormat
    },
    printableModuleName() {
      let name = null
      if (
        this.importProcessContext.module.name === 'purchasedTool' ||
        this.importProcessContext.module.name === 'purchasedItem'
      ) {
        name =
          this.importProcessContext.module.name === 'purchasedTool'
            ? 'Tool'
            : 'Item'
      } else if (
        this.importProcessContext.module.name.toLowerCase() === 'asset' ||
        (this.importProcessContext.module.extendModule &&
          this.importProcessContext.module.extendModule.name.toLowerCase() ===
            'asset')
      ) {
        name = 'Asset'
      } else if (this.importProcessContext.module.name) {
        name = this.stringWithCaps(this.importProcessContext.module.name)
      }
      return name
    },
    stringWithCaps(string) {
      let firstChar = string.charAt(0)
      let remaining = string.slice(1)
      return firstChar.toUpperCase() + remaining.toLowerCase()
    },

    checkStatus() {
      this.$http
        .post('/import/checkImport', {
          importProcessContext: this.importProcessContext,
        })
        .then(response => {
          this.importProcessContext = response.data.importProcessContext
          if (response.data.importProcessContext.status === 3) {
            clearInterval(this.interval)
            let importJobMeta = null
            this.parseError.visibility = true
            if (
              this.importProcessContext.importJobMetaJson &&
              Object.keys(this.importProcessContext.importJobMetaJson)
                .length !== 0
            ) {
              this.parseError.errorMessage = this.importProcessContext.importJobMetaJson.initialParseError
            } else {
              importJobMeta = JSON.parse(
                this.importProcessContext.importJobMeta
              )
              this.parseError.errorMessage = importJobMeta.initialParseError
            }
          } else if (response.data.importProcessContext.status === 5) {
            clearInterval(this.interval)
          } else if (response.data.importProcessContext.status === 6) {
            clearInterval(this.interval)
          } else if (
            response.data.importProcessContext.status === 7 ||
            response.data.importProcessContext.status === 8 ||
            response.data.importProcessContext.status === 9
          ) {
            clearInterval(this.interval)
            this.loadFinal(this.importProcessContext)
          }
        })
    },
    toggleDateFormatPopover(field) {
      this.$set(this, `dateToggles.${field}.datePopoverToggle`, true)
    },
  },
}
</script>
