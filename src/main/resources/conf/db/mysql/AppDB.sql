
CREATE DATABASE IF NOT EXISTS ${defaultAppDB};
USE ${defaultAppDB};

-- Create Roles Table
CREATE TABLE IF NOT EXISTS Role (
	ROLE_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	IS_PREVILEGED_ROLE TINYINT,
	CREATED_TIME BIGINT
);


CREATE TABLE IF NOT EXISTS FacilioFile (
  FILE_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FILE_NAME VARCHAR(255),
  FILE_PATH VARCHAR(255),
  COMPRESSED_FILE_PATH VARCHAR(255),
  COMPRESSED_FILE_SIZE BIGINT,
  FILE_SIZE BIGINT,
  CONTENT_TYPE VARCHAR(255),
  UPLOADED_BY BIGINT,
  UPLOADED_TIME BIGINT,
  IS_DELETED BOOLEAN,
  DELETED_BY BIGINT,
  DELETED_TIME BIGINT,
  IS_ORPHAN BOOLEAN
);

CREATE TABLE IF NOT EXISTS Criteria (
	CRITERIAID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PATTERN VARCHAR(255),
	FORMULA_ID BIGINT DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS Conditions (
	CONDITIONID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_CRITERIA_ID BIGINT NOT NULL,
	SEQUENCE TINYINT NOT NULL,
	FIELD_NAME VARCHAR(50) NOT NULL,
	COLUMN_NAME VARCHAR(50) NOT NULL,
	OPERATOR INT NOT NULL,
	VAL VARCHAR(500),
	JSON_VAL VARCHAR(1000),
	CRITERIA_VAL_ID  BIGINT,
	IS_EXPRESSION_VALUE BOOLEAN,
	COMPUTED_WHERE_CLAUSE VARCHAR(2000),
	CONSTRAINT CONDITIONS_PARENT_CRITERIA_ID_FK FOREIGN KEY (PARENT_CRITERIA_ID) REFERENCES Criteria(CRITERIAID) ON DELETE CASCADE,
	CONSTRAINT CONDITIONS_CRITERIA_VAL_ID_FK FOREIGN KEY (CRITERIA_VAL_ID) REFERENCES Criteria(CRITERIAID)
);

CREATE TABLE IF NOT EXISTS Modules (
	MODULEID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	DISPLAY_NAME VARCHAR(150),
	TABLE_NAME VARCHAR(50) NOT NULL,
	EXTENDS_ID BIGINT,
	HIDE_FROM_PARENTS BOOLEAN,
	MODULE_TYPE TINYINT NOT NULL,
	IS_TRASH_ENABLED BOOLEAN,
	STATE_FLOW_ENABLED BOOLEAN,
	DATA_INTERVAL INT,
	SHOW_AS_VIEW BOOLEAN,
	DESCRIPTION VARCHAR(255),
	CREATED_TIME BIGINT,
	CREATED_BY BIGINT,
	STATUS TINYINT,
	IS_CUSTOM BOOLEAN,
	CRITERIA_ID BIGINT DEFAULT NULL,
	CONSTRAINT MODULES_FK_PARENT FOREIGN KEY (EXTENDS_ID) REFERENCES Modules(MODULEID),
	CONSTRAINT MODULES_UNQIUE UNIQUE(ORGID, NAME),
	CONSTRAINT MODULES_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID)
);

CREATE TABLE IF NOT EXISTS Permission (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ROLE_ID BIGINT NOT NULL,
	MODULE_NAME VARCHAR(100),
	MODULE_ID BIGINT,
	PERMISSION BIGINT NOT NULL,
	CONSTRAINT UNIQUE_PERMISSION_MODULE_NAME UNIQUE(ORGID,ROLE_ID, MODULE_NAME),
	CONSTRAINT UNIQUE_PERMISSION_MODULE_ID UNIQUE(ORGID,ROLE_ID,MODULE_ID),
	CONSTRAINT PERMISSION_FK_ROLEID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
	CONSTRAINT PERMISSION_MODULE_ID_FK FOREIGN KEY (MODULE_ID) REFERENCES Modules(MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS BusinessHours (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    NAME VARCHAR(45) NOT NULL,
    BUSINESS_HOUR_TYPE_ID TINYINT NULL,
    CUSTOM_HOUR_TYPE_ID TINYINT NULL

);


CREATE TABLE IF NOT EXISTS Forms (
     ID BIGINT AUTO_INCREMENT PRIMARY KEY,
     ORGID BIGINT NOT NULL,
     SITE_ID BIGINT,
     NAME VARCHAR(255) NOT NULL,
     DISPLAYNAME VARCHAR(255) NOT NULL,
     DESCRIPTION VARCHAR(1000),
     MODULEID BIGINT NOT NULL,
     FORM_TYPE TINYINT NOT NULL,
     LABEL_POSITION TINYINT NOT NULL,
     SHOW_IN_MOBILE BOOLEAN DEFAULT TRUE,
     SHOW_IN_WEB BOOLEAN DEFAULT TRUE,
     HIDE_IN_LIST BOOLEAN DEFAULT FALSE,
     STATE_FLOW_ID BIGINT,
     CONSTRAINT FORMS_UNIQUE UNIQUE (ORGID, MODULEID, NAME),
     CONSTRAINT FORMS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS SingleDayBusinessHours (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	DAY_OF_WEEK TINYINT NOT NULL,
	START_TIME TIME NULL,
	END_TIME TIME NULL,
	CONSTRAINT SINGLE_DAY_BUSINESS_HOURS FOREIGN KEY (PARENT_ID) REFERENCES BusinessHours(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Resources (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255) NOT NULL,
	DESCRIPTION VARCHAR(1000),
	PHOTO_ID BIGINT,
	RESOURCE_TYPE TINYINT NOT NULL,
	SPACE_ID BIGINT,
	CONTROLLER_ID BIGINT,
	FORM_ID BIGINT,
    SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED BOOLEAN,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
    SOURCE_TYPE BIGINT,
    SOURCE_ID BIGINT,
	SITE_ID BIGINT,
	QR_VALUE VARCHAR(500),
    BUSINESS_HOURS_ID BIGINT,
	CONSTRAINT RESOURCES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT RESOURCES_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES Resources(ID),
	CONSTRAINT RESOURCES_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES Resources(ID),
	CONSTRAINT RESOURCES_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES Resources(ID),
	CONSTRAINT RESOURCES_FK_SPACE_ID FOREIGN KEY (SPACE_ID) REFERENCES Resources(ID),
	CONSTRAINT RESOURCES_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT RESOURCES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT RESOURCES_UNIQYE_QR_VALUE UNIQUE (ORGID, QR_VALUE),
	CONSTRAINT RESOURCES_FK_BUSINESS_HOURS_ID FOREIGN KEY (BUSINESS_HOURS_ID) REFERENCES BusinessHours(ID),
	CONSTRAINT RESOURCES_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL

);

-- CREATE INDEX RESOURCES_NAME ON Resources (ORGID,MODULEID,NAME);

CREATE TABLE IF NOT EXISTS BaseSpace (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	AREA DOUBLE(9,3),
	SPACE_TYPE TINYINT NOT NULL,
	OPERATION_HOURS_START FLOAT,
	OPERATION_HOURS_END FLOAT,
	MAX_OCCUPANCY INT,
	LOCAL_ID INT,
	SITE_ID BIGINT,
	BUILDING_ID BIGINT,
	FLOOR_ID BIGINT,
	SPACE_ID1 BIGINT,
	SPACE_ID2 BIGINT,
	SPACE_ID3 BIGINT,
	SPACE_ID4 BIGINT,
	CONSTRAINT BASE_SPACE_FK_ID FOREIGN KEY (ID) REFERENCES Resources(ID) ON DELETE CASCADE,
	CONSTRAINT BASE_SPACE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BASE_SPACE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_BUILDING_ID FOREIGN KEY (BUILDING_ID) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_FLOOR_ID FOREIGN KEY (FLOOR_ID) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_SPACE_ID1 FOREIGN KEY (SPACE_ID1) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_SPACE_ID2 FOREIGN KEY (SPACE_ID2) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_SPACE_ID3 FOREIGN KEY (SPACE_ID3) REFERENCES BaseSpace (ID),
	CONSTRAINT BASE_SPACE_FK_SPACE_ID4 FOREIGN KEY (SPACE_ID4) REFERENCES BaseSpace (ID)
);

CREATE TABLE IF NOT EXISTS ORG_Users (
	ORG_USERID BIGINT PRIMARY KEY,
	USERID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	INVITEDTIME BIGINT,
	LICENSE INT,
	INVITATION_ACCEPT_STATUS BOOLEAN,
	ROLE_ID BIGINT,
	USER_TYPE TINYINT,
	PORTAL_VERIFIED TINYINT DEFAULT NULL,
	PEOPLE_ID BIGINT,
	IAM_ORG_USERID BIGINT,
	CONSTRAINT App_ORG_USERS_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
	CONSTRAINT App_ORG_USERS_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES Resources(ID) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS People (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      PEOPLE_TYPE 	TINYINT,
      OCCUPANT_PORTAL_ACCESS TINYINT,
      LOCAL_ID			BIGINT,
      NAME				VARCHAR(500) ,
      EMAIL 			VARCHAR(500),
      PHONE 			VARCHAR(500),
      FORM_ID 			BIGINT,
      ROLE_ID           BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
	  SYS_DELETED_BY    BIGINT,
   	  LOCATED_SPACE		BIGINT,
   	  IS_ACTIVE			TINYINT,
   	  ENUM_CF1 INTEGER,
      ENUM_CF2 INTEGER,
	  ENUM_CF3 INTEGER,
	  ENUM_CF4 INTEGER,
	  ENUM_CF5 INTEGER,
   	  CONSTRAINT People_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT People_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES BaseSpace (ID),
      CONSTRAINT People_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
      CONSTRAINT People_FK_LOCATED_SPACE FOREIGN KEY (LOCATED_SPACE) REFERENCES BaseSpace (ID),
      CONSTRAINT People_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
  
);



ALTER TABLE Modules ADD CONSTRAINT MODULES_FK_USER FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID);

CREATE TABLE IF NOT EXISTS Global_FacilioAuthToken (
	`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	authtoken DOUBLE not null,
	ORGID BIGINT not null,
	USERID BIGINT not null,
	CONSTRAINT Global_FacilioAuthToken_USERID_FK FOREIGN KEY (USERID) REFERENCES ORG_Users (ORG_USERID)
);

-- Create GLobal_Domain_Index
CREATE TABLE IF NOT EXISTS Global_Domain_Index (
	DOMAINNAME VARCHAR(50),
	ORGID BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS Locations (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  NAME VARCHAR(255) NOT NULL,
  STREET VARCHAR(255),
  CITY VARCHAR(255),
  STATE VARCHAR(255),
  ZIP VARCHAR(255),
  COUNTRY VARCHAR(255),
  LAT DOUBLE NOT NULL,
  LNG DOUBLE NOT NULL,
  CONTACT_ID BIGINT NULL,
  PHONE VARCHAR(100),
  FAX_PHONE VARCHAR(100),
  CONSTRAINT LOCATIONS_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT LOCATIONS_CONTACT_FK FOREIGN KEY (CONTACT_ID) REFERENCES ORG_Users (ORG_USERID)
);



CREATE TABLE IF NOT EXISTS TicketStatus (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	DISPLAY_NAME varchar(50),
	STATUS VARCHAR(20) NOT NULL,
	STATUS_TYPE TINYINT NOT NULL,
	IS_TIMER_ENABLED BOOLEAN NOT NULL DEFAULT 0,
	RECORD_LOCKED BOOLEAN NOT NULL DEFAULT 0,
	REQUESTED_STATE BOOLEAN NOT NULL DEFAULT 0,
	PARENT_MODULEID BIGINT,
	CONSTRAINT TICKET_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKET_STATUS_UNIQUE UNIQUE (ORGID, STATUS, PARENT_MODULEID)
);

CREATE TABLE IF NOT EXISTS Clients
(
    ID                    BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID                 BIGINT      NOT NULL,
    MODULEID              BIGINT      NOT NULL,
    SYS_CREATED_TIME      BIGINT(20),
    SYS_MODIFIED_TIME     BIGINT(20),
    SYS_CREATED_BY        BIGINT,
    SYS_MODIFIED_BY       BIGINT,
    SYS_DELETED           TINYINT,
    SYS_DELETED_TIME      BIGINT,
    SYS_DELETED_BY        BIGINT,
    NAME                  VARCHAR(50) NOT NULL,
    AVATAR_ID             BIGINT,
    DESCRIPTION           VARCHAR(500),
    FORM_ID               BIGINT,
    WEBSITE               VARCHAR(255),
    ADDRESS               BIGINT,
    PRIMARY_CONTACT_EMAIL VARCHAR(255),
    PRIMARY_CONTACT_PHONE VARCHAR(20),
    PRIMARY_CONTACT_NAME  VARCHAR(50),
    STRING_CF1            VARCHAR(255),
    STRING_CF2            VARCHAR(255),
    STRING_CF3            VARCHAR(255),
    STRING_CF4            VARCHAR(255),
    STRING_CF5            VARCHAR(255),
    STRING_CF6            VARCHAR(255),
    STRING_CF7            VARCHAR(255),
    STRING_CF8            VARCHAR(255),
    STRING_CF9            VARCHAR(255),
    STRING_CF10           VARCHAR(255),
    STRING_CF11           VARCHAR(255),
    STRING_CF12           VARCHAR(255),
    STRING_CF13           VARCHAR(255),
    STRING_CF14           VARCHAR(255),
    STRING_CF15           VARCHAR(255),
    STRING_CF16           VARCHAR(255),
    STRING_CF17           VARCHAR(255),
    STRING_CF18           VARCHAR(255),
    STRING_CF19           VARCHAR(255),
    STRING_CF20           VARCHAR(255),
    STRING_CF21           VARCHAR(255),
    STRING_CF22           VARCHAR(255),
    STRING_CF23           VARCHAR(255),
    STRING_CF24           VARCHAR(255),
    STRING_CF25           VARCHAR(255),
    STRING_CF26           VARCHAR(255),
    STRING_CF27           VARCHAR(255),
    STRING_CF28           VARCHAR(255),
    STRING_CF29           VARCHAR(255),
    STRING_CF30           VARCHAR(255),
    NUMBER_CF1            BIGINT,
    NUMBER_CF2            BIGINT,
    NUMBER_CF3            BIGINT,
    NUMBER_CF4            BIGINT,
    NUMBER_CF5            BIGINT,
    NUMBER_CF6            BIGINT,
    NUMBER_CF7            BIGINT,
    NUMBER_CF8            BIGINT,
    NUMBER_CF9            BIGINT,
    NUMBER_CF10           BIGINT,
    NUMBER_CF11           BIGINT,
    NUMBER_CF12           BIGINT,
    NUMBER_CF13           BIGINT,
    NUMBER_CF14           BIGINT,
    NUMBER_CF15           BIGINT,
    NUMBER_CF16           BIGINT,
    NUMBER_CF17           BIGINT,
    NUMBER_CF18           BIGINT,
    NUMBER_CF19           BIGINT,
    NUMBER_CF20           BIGINT,
    NUMBER_CF21           BIGINT,
    NUMBER_CF22           BIGINT,
    NUMBER_CF23           BIGINT,
    NUMBER_CF24           BIGINT,
    NUMBER_CF25           BIGINT,
    NUMBER_CF26           BIGINT,
    NUMBER_CF27           BIGINT,
    NUMBER_CF28           BIGINT,
    NUMBER_CF29           BIGINT,
    NUMBER_CF30           BIGINT,
    DECIMAL_CF1           DOUBLE,
    DECIMAL_CF2           DOUBLE,
    DECIMAL_CF3           DOUBLE,
    DECIMAL_CF4           DOUBLE,
    DECIMAL_CF5           DOUBLE,
    DECIMAL_CF6           DOUBLE,
    DECIMAL_CF7           DOUBLE,
    DECIMAL_CF8           DOUBLE,
    DECIMAL_CF9           DOUBLE,
    DECIMAL_CF10          DOUBLE,
    DECIMAL_CF11          DOUBLE,
    DECIMAL_CF12          DOUBLE,
    DECIMAL_CF13          DOUBLE,
    DECIMAL_CF14          DOUBLE,
    DECIMAL_CF15          DOUBLE,
    DECIMAL_CF16          DOUBLE,
    DECIMAL_CF17          DOUBLE,
    DECIMAL_CF18          DOUBLE,
    DECIMAL_CF19          DOUBLE,
    DECIMAL_CF20          DOUBLE,
    DECIMAL_CF21          DOUBLE,
    DECIMAL_CF22          DOUBLE,
    DECIMAL_CF23          DOUBLE,
    DECIMAL_CF24          DOUBLE,
    DECIMAL_CF25          DOUBLE,
    DECIMAL_CF26          DOUBLE,
    DECIMAL_CF27          DOUBLE,
    DECIMAL_CF28          DOUBLE,
    DECIMAL_CF29          DOUBLE,
    DECIMAL_CF30          DOUBLE,
    BOOLEAN_CF1           BOOLEAN,
    BOOLEAN_CF2           BOOLEAN,
    BOOLEAN_CF3           BOOLEAN,
    BOOLEAN_CF4           BOOLEAN,
    BOOLEAN_CF5           BOOLEAN,
    BOOLEAN_CF6           BOOLEAN,
    BOOLEAN_CF7           BOOLEAN,
    BOOLEAN_CF8           BOOLEAN,
    BOOLEAN_CF9           BOOLEAN,
    BOOLEAN_CF10          BOOLEAN,
    BOOLEAN_CF11          BOOLEAN,
    BOOLEAN_CF12          BOOLEAN,
    BOOLEAN_CF13          BOOLEAN,
    BOOLEAN_CF14          BOOLEAN,
    BOOLEAN_CF15          BOOLEAN,
    BOOLEAN_CF16          BOOLEAN,
    BOOLEAN_CF17          BOOLEAN,
    BOOLEAN_CF18          BOOLEAN,
    BOOLEAN_CF19          BOOLEAN,
    BOOLEAN_CF20          BOOLEAN,
    BOOLEAN_CF21          BOOLEAN,
    BOOLEAN_CF22          BOOLEAN,
    BOOLEAN_CF23          BOOLEAN,
    BOOLEAN_CF24          BOOLEAN,
    BOOLEAN_CF25          BOOLEAN,
    BOOLEAN_CF26          BOOLEAN,
    BOOLEAN_CF27          BOOLEAN,
    BOOLEAN_CF28          BOOLEAN,
    BOOLEAN_CF29          BOOLEAN,
    BOOLEAN_CF30          BOOLEAN,
    DATE_CF1              BIGINT,
    DATE_CF2              BIGINT,
    DATE_CF3              BIGINT,
    DATE_CF4              BIGINT,
    DATE_CF5              BIGINT,
    DATE_CF6              BIGINT,
    DATE_CF7              BIGINT,
    DATE_CF8              BIGINT,
    DATE_CF9              BIGINT,
    DATE_CF10             BIGINT,
    DATE_CF11             BIGINT,
    DATE_CF12             BIGINT,
    DATE_CF13             BIGINT,
    DATE_CF14             BIGINT,
    DATE_CF15             BIGINT,
    DATE_CF16             BIGINT,
    DATE_CF17             BIGINT,
    DATE_CF18             BIGINT,
    DATE_CF19             BIGINT,
    DATE_CF20             BIGINT,
    DATE_CF21             BIGINT,
    DATE_CF22             BIGINT,
    DATE_CF23             BIGINT,
    DATE_CF24             BIGINT,
    DATE_CF25             BIGINT,
    DATE_CF26             BIGINT,
    DATE_CF27             BIGINT,
    DATE_CF28             BIGINT,
    DATE_CF29             BIGINT,
    DATE_CF30             BIGINT,
    DATETIME_CF1          BIGINT,
    DATETIME_CF2          BIGINT,
    DATETIME_CF3          BIGINT,
    DATETIME_CF4          BIGINT,
    DATETIME_CF5          BIGINT,
    DATETIME_CF6          BIGINT,
    DATETIME_CF7          BIGINT,
    DATETIME_CF8          BIGINT,
    DATETIME_CF9          BIGINT,
    DATETIME_CF10         BIGINT,
    DATETIME_CF11         BIGINT,
    DATETIME_CF12         BIGINT,
    DATETIME_CF13         BIGINT,
    DATETIME_CF14         BIGINT,
    DATETIME_CF15         BIGINT,
    DATETIME_CF16         BIGINT,
    DATETIME_CF17         BIGINT,
    DATETIME_CF18         BIGINT,
    DATETIME_CF19         BIGINT,
    DATETIME_CF20         BIGINT,
    DATETIME_CF21         BIGINT,
    DATETIME_CF22         BIGINT,
    DATETIME_CF23         BIGINT,
    DATETIME_CF24         BIGINT,
    DATETIME_CF25         BIGINT,
    DATETIME_CF26         BIGINT,
    DATETIME_CF27         BIGINT,
    DATETIME_CF28         BIGINT,
    DATETIME_CF29         BIGINT,
    DATETIME_CF30         BIGINT,
    ENUM_CF1              INTEGER,
    ENUM_CF2              INTEGER,
    ENUM_CF3              INTEGER,
    ENUM_CF4              INTEGER,
    ENUM_CF5              INTEGER,
    ENUM_CF6              INTEGER,
    ENUM_CF7              INTEGER,
    ENUM_CF8              INTEGER,
    ENUM_CF9              INTEGER,
    ENUM_CF10             INTEGER,
    ENUM_CF11             INTEGER,
    ENUM_CF12             INTEGER,
    ENUM_CF13             INTEGER,
    ENUM_CF14             INTEGER,
    ENUM_CF15             INTEGER,
    ENUM_CF16             INTEGER,
    ENUM_CF17             INTEGER,
    ENUM_CF18             INTEGER,
    ENUM_CF19             INTEGER,
    ENUM_CF20             INTEGER,
    ENUM_CF21             INTEGER,
    ENUM_CF22             INTEGER,
    ENUM_CF23             INTEGER,
    ENUM_CF24             INTEGER,
    ENUM_CF25             INTEGER,
    ENUM_CF26             INTEGER,
    ENUM_CF27             INTEGER,
    ENUM_CF28             INTEGER,
    ENUM_CF29             INTEGER,
    ENUM_CF30             INTEGER,
    FILE_CF1              BIGINT,
    FILE_CF2              BIGINT,
    FILE_CF3              BIGINT,
    FILE_CF4              BIGINT,
    FILE_CF5              BIGINT,
    FILE_CF6              BIGINT,
    FILE_CF7              BIGINT,
    FILE_CF8              BIGINT,
    FILE_CF9              BIGINT,
    FILE_CF10             BIGINT,
    FILE_CF11             BIGINT,
    FILE_CF12             BIGINT,
    FILE_CF13             BIGINT,
    FILE_CF14             BIGINT,
    FILE_CF15             BIGINT,
    FILE_CF16             BIGINT,
    FILE_CF17             BIGINT,
    FILE_CF18             BIGINT,
    FILE_CF19             BIGINT,
    FILE_CF20             BIGINT,
    FILE_CF21             BIGINT,
    FILE_CF22             BIGINT,
    FILE_CF23             BIGINT,
    FILE_CF24             BIGINT,
    FILE_CF25             BIGINT,
    FILE_CF26             BIGINT,
    FILE_CF27             BIGINT,
    FILE_CF28             BIGINT,
    FILE_CF29             BIGINT,
    FILE_CF30             BIGINT,
    LOOKUP_CF1            BIGINT,
    LOOKUP_CF2            BIGINT,
    LOOKUP_CF3            BIGINT,
    LOOKUP_CF4            BIGINT,
    LOOKUP_CF5            BIGINT,
    LOOKUP_CF6            BIGINT,
    LOOKUP_CF7            BIGINT,
    LOOKUP_CF8            BIGINT,
    LOOKUP_CF9            BIGINT,
    LOOKUP_CF10           BIGINT,
    LOOKUP_CF11           BIGINT,
    LOOKUP_CF12           BIGINT,
    LOOKUP_CF13           BIGINT,
    LOOKUP_CF14           BIGINT,
    LOOKUP_CF15           BIGINT,
    LOOKUP_CF16           BIGINT,
    LOOKUP_CF17           BIGINT,
    LOOKUP_CF18           BIGINT,
    LOOKUP_CF19           BIGINT,
    LOOKUP_CF20           BIGINT,
    LOOKUP_CF21           BIGINT,
    LOOKUP_CF22           BIGINT,
    LOOKUP_CF23           BIGINT,
    LOOKUP_CF24           BIGINT,
    LOOKUP_CF25           BIGINT,
    LOOKUP_CF26           BIGINT,
    LOOKUP_CF27           BIGINT,
    LOOKUP_CF28           BIGINT,
    LOOKUP_CF29           BIGINT,
    LOOKUP_CF30           BIGINT,
    SCORE_CF1             DOUBLE,
    SCORE_CF2             DOUBLE,
    SCORE_CF3             DOUBLE,
    SCORE_CF4             DOUBLE,
    SCORE_CF5             DOUBLE,
    SCORE_CF6             DOUBLE,
    SCORE_CF7             DOUBLE,
    SCORE_CF8             DOUBLE,
    SCORE_CF9             DOUBLE,
    SCORE_CF10            DOUBLE,
    SCORE_CF11            DOUBLE,
    SCORE_CF12            DOUBLE,
    SCORE_CF13            DOUBLE,
    SCORE_CF14            DOUBLE,
    SCORE_CF15            DOUBLE,
    SCORE_CF16            DOUBLE,
    SCORE_CF17            DOUBLE,
    SCORE_CF18            DOUBLE,
    SCORE_CF19            DOUBLE,
    SCORE_CF20            DOUBLE,
    SCORE_CF21            DOUBLE,
    SCORE_CF22            DOUBLE,
    SCORE_CF23            DOUBLE,
    SCORE_CF24            DOUBLE,
    SCORE_CF25            DOUBLE,
    SCORE_CF26            DOUBLE,
    SCORE_CF27            DOUBLE,
    SCORE_CF28            DOUBLE,
    SCORE_CF29            DOUBLE,
    SCORE_CF30            DOUBLE,
    MODULE_STATE          BIGINT,
    STATE_FLOW_ID         BIGINT,
    CONSTRAINT CLIENTS_FK_MODULE_STATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT CLIENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT CLIENTS_FK_ADDRESS FOREIGN KEY (ADDRESS) REFERENCES Locations (ID),
    CONSTRAINT CLIENTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT CLIENTS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT CLIENTS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT CLIENTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Clients_Notes(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT CLIENT_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CLIENT_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT CLIENT_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Clients (ID)
);

CREATE TABLE IF NOT EXISTS Clients_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT CLIENT_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CLIENT_ATTACHMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Clients (ID),
	CONSTRAINT CLIENT_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Site (
       ID BIGINT PRIMARY KEY,
       ORGID BIGINT NOT NULL,
       MODULEID BIGINT NOT NULL,
       LOCATION_ID BIGINT,
       MANAGED_BY BIGINT,
       NO_OF_BUILDINGS INT,
       NO_OF_INDEPENDENT_SPACES BIGINT,
       GROSS_FLOOR_AREA DOUBLE(9,3),
       SITE_TYPE INT,
       WEATHER_STATION BIGINT,
       CDD_BASE_TEMPERATURE DOUBLE,
       HDD_BASE_TEMPERATURE DOUBLE,
       WDD_BASE_TEMPERATURE DOUBLE,
       TIME_ZONE VARCHAR(100),
       STRING_CF1 VARCHAR(50),
       STRING_CF2 VARCHAR(50),
       STRING_CF3 VARCHAR(50),
       STRING_CF4 VARCHAR(50),
       STRING_CF5 VARCHAR(50),
       STRING_CF6 VARCHAR(50),
	   STRING_CF7 VARCHAR(50),
	   STRING_CF8 VARCHAR(50),
	   STRING_CF9 VARCHAR(50),
	   STRING_CF10 VARCHAR(50),
	   STRING_CF11 VARCHAR(50),
       NUMBER_CF1 BIGINT,
       NUMBER_CF2 BIGINT,
       NUMBER_CF3 BIGINT,
       NUMBER_CF4 BIGINT,
       NUMBER_CF5 BIGINT,
       NUMBER_CF6 BIGINT,
       NUMBER_CF7 BIGINT,
       NUMBER_CF8 BIGINT,
       NUMBER_CF9 BIGINT,
       NUMBER_CF10 BIGINT,
       DECIMAL_CF1 DOUBLE(9,3),
       DECIMAL_CF2 DOUBLE(9,3),
       DECIMAL_CF3 DOUBLE(9,3),
       DECIMAL_CF4 DOUBLE(9,3),
       DECIMAL_CF5 DOUBLE(9,3),
       BOOLEAN_CF1 BOOLEAN,
       BOOLEAN_CF2 BOOLEAN,
       BOOLEAN_CF3 BOOLEAN,
       BOOLEAN_CF4 BOOLEAN,
       BOOLEAN_CF5 BOOLEAN,
       DATE_CF1 BIGINT,
       DATE_CF2 BIGINT,
       DATE_CF3 BIGINT,
       DATE_CF4 BIGINT,
       DATE_CF5 BIGINT,
       DATE_CF6 BIGINT,
       DATE_CF7 BIGINT,
       DATE_CF8 BIGINT,
       DATE_CF9 BIGINT,
       DATE_CF10 BIGINT,
       DATETIME_CF1 BIGINT,
       DATETIME_CF2 BIGINT,
       DATETIME_CF3 BIGINT,
       DATETIME_CF4 BIGINT,
       DATETIME_CF5 BIGINT,
       DATETIME_CF6 BIGINT,
       DATETIME_CF7 BIGINT,
       DATETIME_CF8 BIGINT,
       DATETIME_CF9 BIGINT,
       DATETIME_CF10 BIGINT,
       ENUM_CF1 INTEGER,
       ENUM_CF2 INTEGER,
       ENUM_CF3 INTEGER,
       ENUM_CF4 INTEGER,
       ENUM_CF5 INTEGER,
       ENUM_CF6 INTEGER,
       ENUM_CF7 INTEGER,
       ENUM_CF8 INTEGER,
       ENUM_CF9 INTEGER,
       ENUM_CF10 INTEGER,
       BOUNDARY_RADIUS INT,
       CLIENT_ID BIGINT,
       CONSTRAINT SITE_FK_ID FOREIGN KEY (ID) REFERENCES BaseSpace(ID) ON DELETE CASCADE,
       CONSTRAINT SITE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
       CONSTRAINT SITE_FK_MANAGED_BY FOREIGN KEY (MANAGED_BY) REFERENCES ORG_Users (ORG_USERID),
       CONSTRAINT SITE_FK_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES Locations(ID),
       CONSTRAINT SITE_FK_CLIENT_ID FOREIGN KEY (CLIENT_ID) REFERENCES Clients(ID)
);

ALTER TABLE Forms ADD CONSTRAINT FORMS_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID);

-- Creating org_units table
CREATE TABLE IF NOT EXISTS Org_Units (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  METRIC int(11) DEFAULT NULL,
  UNIT int(11) DEFAULT NULL
);

-- CREATE TABLE IF NOT EXISTS UtilityProviders (
-- 	UTILITYID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	USERID BIGINT,
-- 	LOGINURL TEXT,
-- 	USERNAME TEXT,
-- 	PASSWORD TEXT,
-- 	STATUS INT,
-- 	CONSTRAINT UTILITY_PROVIDERS_FK_USERID FOREIGN KEY (USERID) REFERENCES ORG_Users(ORG_USERID)
-- );


CREATE TABLE IF NOT EXISTS FacilioGroups (
	GROUPID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	GROUP_NAME VARCHAR(255),
	GROUP_EMAIL VARCHAR(255),
	GROUP_DESC VARCHAR(1000),
	IS_ACTIVE BOOLEAN NOT NULL,
	CREATED_TIME BIGINT,
	CREATED_BY BIGINT,
	PARENT BIGINT,
	SITE_ID BIGINT,
	CONSTRAINT GROUPS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS  FacilioGroupMembers (
	MEMBERID BIGINT AUTO_INCREMENT PRIMARY KEY,
	GROUPID BIGINT,
	ORGID BIGINT NOT NULL,
	ORG_USERID BIGINT,
	MEMBER_ROLE INT,
	CONSTRAINT GROUP_MEMBERS_FK_GROUPID FOREIGN KEY (GROUPID) REFERENCES  FacilioGroups (GROUPID) ON DELETE CASCADE,
	CONSTRAINT GROUP_MEMBERS_FK_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID) ON DELETE CASCADE
);

-- CREATE TABLE IF NOT EXISTS ORGCache	(
--    ORGID BIGINT NOT NULL,
--    URL VARCHAR(500),
--    CONTENT TEXT,
--    EXPIREAT BIGINT
-- );

CREATE TABLE IF NOT EXISTS SubModulesRel (
	PARENT_MODULE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	CHILD_MODULE_ID BIGINT,
	DELETE_TYPE INT,
	PRIMARY KEY (PARENT_MODULE_ID, CHILD_MODULE_ID),
	CONSTRAINT SUB_MODULES_REL_PARENT_FK FOREIGN KEY (PARENT_MODULE_ID) REFERENCES Modules(MODULEID) ON DELETE CASCADE,
	CONSTRAINT SUB_MODULES_REL_CHILD_FK FOREIGN KEY (CHILD_MODULE_ID) REFERENCES Modules(MODULEID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Fields (
	FIELDID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	DISPLAY_NAME VARCHAR(150),
	DISPLAY_TYPE TINYINT,
	COLUMN_NAME VARCHAR(50),
	SEQUENCE_NUMBER TINYINT,
	DATA_TYPE TINYINT NOT NULL,
	IS_DEFAULT BOOLEAN,
	IS_MAIN_FIELD BOOLEAN,
	REQUIRED BOOLEAN,
	DISABLED BOOLEAN,
	STYLE_CLASS VARCHAR(50),
	ICON VARCHAR(20),
	PLACE_HOLDER VARCHAR(50),
	ACCESS_TYPE INTEGER,
	IS_SYSTEM_UPDATED BOOLEAN,
	CONSTRAINT FIELDS_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT FIELDS_NAME_UNIQUE UNIQUE (ORGID, MODULEID, NAME),
	CONSTRAINT FIELDS_COLUMN_NAME_UNIQUE UNIQUE (ORGID, MODULEID, COLUMN_NAME)
);

CREATE TABLE IF NOT EXISTS LookupFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	LOOKUP_MODULE_ID BIGINT,
	SPECIAL_TYPE VARCHAR(25),
	CONSTRAINT LOOKUP_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT LOOKUP_FIELDS_FK_MODULE_ID FOREIGN KEY (LOOKUP_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS MultiLookupFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	REL_MODULE_ID BIGINT NOT NULL,
	PARENT_FIELD_POSITION TINYINT NOT NULL,
	CONSTRAINT MULTI_LOOKUP_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT MULTI_LOOKUP_FIELDS_FK_REL_MODULE_ID FOREIGN KEY (REL_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS MultiEnumFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	REL_MODULE_ID BIGINT NOT NULL,
	CONSTRAINT MULTI_ENUM_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT MULTI_ENUM_FIELDS_FK_REL_MODULE_ID FOREIGN KEY (REL_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS NumberFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	UNIT VARCHAR(50),
	METRIC INT,
	UNIT_ID INT,
	IS_COUNTER_FIELD BOOLEAN,
	CONSTRAINT NUMBER_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS BooleanFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TRUE_VAL VARCHAR(100),
	FALSE_VAL VARCHAR(100),
	CONSTRAINT BOOLEAN_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS EnumFieldValues (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	FIELDID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	IDX INT NOT NULL,
	VAL VARCHAR(100) NOT NULL,
	SEQUENCE_NUMBER INT NOT NULL,
	VISIBLE BOOLEAN NOT NULL,
	CONSTRAINT ENUM_FIELD_IDX_UNIQUE UNIQUE (ORGID,FIELDID,IDX),
	CONSTRAINT ENUM_FIELD_VALUES_UNIQUE UNIQUE (ORGID,FIELDID,VAL),
	CONSTRAINT ENUM_FIELD_VALUES_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SystemEnumFields (
    FIELDID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    ENUM_NAME VARCHAR(100) NOT NULL,
    CONSTRAINT SYSTEM_ENUM_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS FileFields (
	FIELDID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FORMAT TINYINT,
	CONSTRAINT FILE_FIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ScoreFields (
    FIELDID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    TYPE INT,
    SCALE DOUBLE,
    CONSTRAINT SCOREFIELDS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Base_Field_Relation (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    BASE_FIELD_MODULE_ID BIGINT NOT NULL,
    BASE_FIELD_ID BIGINT NOT NULL,
    DERIVED_FIELD_MODULE_ID BIGINT NOT NULL,
    DERIVED_FIELD_ID BIGINT NOT NULL,
    TYPE TINYINT NOT NULL,

    CONSTRAINT BASEFIELDRELATION_FK_BASEFIELDMODULEID FOREIGN KEY (BASE_FIELD_MODULE_ID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
    CONSTRAINT BASEFIELDRELATION_FK_BASEFIELDID FOREIGN KEY (BASE_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE,
    CONSTRAINT BASEFIELDRELATION_FK_DERIVEDFIELDMODULEID FOREIGN KEY (DERIVED_FIELD_MODULE_ID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
    CONSTRAINT BASEFIELDRELATION_FK_DERIVEDFIELDID FOREIGN KEY (DERIVED_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS TimeDelta_Field_Relation (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    UNIT TINYINT NOT NULL,

    CONSTRAINT TIMEDELTAFIELD_FK_ID FOREIGN KEY (ID) REFERENCES Base_Field_Relation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Dependency_Job_Detail (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    ASSET_ID BIGINT NOT NULL,
    FIELD_RELATION_ID BIGINT NOT NULL,
    START_TIME BIGINT NOT NULL,
    END_TIME BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS Shift_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SHIFT_ENTRY TINYINT NOT NULL,
	CONSTRAINT SHIFT_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIFT_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES ORG_Users(ORG_USERID)
);

-- Create indexes for Shift_Reading table
CREATE INDEX SHIFT_READINGS_PARENT_ID_INDEX on Shift_Readings (PARENT_ID);
CREATE INDEX SHIFT_READINGS_PARENT_ID_TTIME_INDEX ON Shift_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX SHIFT_READINGS_TTIME_INDEX ON Shift_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS ResizedFile (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  FILE_ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  WIDTH INT,
  HEIGHT INT,
  FILE_PATH VARCHAR(255),
  FILE_SIZE BIGINT,
  CONTENT_TYPE VARCHAR(255),
  GENERATED_TIME BIGINT,
  URL VARCHAR(8000),
  EXPIRY_TIME BIGINT,
  CONSTRAINT RESIZEDFILE_FK_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile(FILE_ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Common_Job_Props (
	JOBID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	JOBNAME VARCHAR(50) NOT NULL,
	PROPS VARCHAR(10000) NOT NULL,
	CONSTRAINT COMMON_JOB_PROPS_PK PRIMARY KEY (JOBID, JOBNAME)
);

CREATE TABLE IF NOT EXISTS Workflow_Namespace (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  NAME VARCHAR(45) NOT NULL,
  UNIQUE KEY NAMESPACE_NAME_UNIQUE (ORGID,NAME)
);

CREATE TABLE IF NOT EXISTS Workflow (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WORKFLOW_XML_STRING TEXT DEFAULT NULL,
  WORKFLOW_STRING TEXT DEFAULT NULL,
  UI_MODE TINYINT,
  TYPE TINYINT,
  IS_LOG_NEEDED TINYINT,
  RETURN_TYPE INT DEFAULT NULL,
  IS_V2 TINYINT
);

CREATE TABLE IF NOT EXISTS Workflow_User_Function (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  NAMESPACE_ID BIGINT NOT NULL,
  NAME VARCHAR(100) NOT NULL,
  CONSTRAINT Workflow_User_Function_NAME_SPACE_ID FOREIGN KEY (NAMESPACE_ID) REFERENCES Workflow_Namespace (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Workflow_User_Function_workflowID FOREIGN KEY (ID) REFERENCES Workflow (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Workflow_Field (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WORKFLOW_ID BIGINT DEFAULT NULL,
  MODULEID BIGINT DEFAULT NULL,
  FIELD_ID BIGINT DEFAULT NULL,
  RESOURCE_ID BIGINT DEFAULT NULL,
  AGGREGATION INT DEFAULT NULL,
  CONSTRAINT WORKFLOW_FIELDS_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID),
  CONSTRAINT WORKFLOW_FIELDS_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT WORKFLOW_FIELDS_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
  CONSTRAINT WORKFLOW_FIELDS_WORKLFOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Workflow_Log (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WORKFLOW_ID BIGINT NOT NULL,
  EXECUTION_TIME BIGINT NOT NULL,
  INPUT_PARAMS VARCHAR(1000) NULL,
  VARIABLE_MAP VARCHAR(5000) NULL,
  RESULT VARCHAR(1000) NULL,
  CONSTRAINT WORKFLOW_LOG_WORKLFOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE CASCADE
 );

CREATE TABLE IF NOT EXISTS Scheduled_Workflow (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  NAME varchar(100) NOT NULL,
  WORKFLOW_ID BIGINT NOT NULL,
  TIMEZONE varchar(100) DEFAULT NULL,
  IS_ACTIVE BOOLEAN DEFAULT NULL,
  START_TIME BIGINT NOT NULL,
  SCHEDULE_INFO varchar(1000) NOT NULL,
  CONSTRAINT Workflow_Scheduled_Action_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Accessible_Space (
	ORGID BIGINT NOT NULL,
	ORG_USER_ID BIGINT,
	BS_ID BIGINT,
	SITE_ID BIGINT,
	PRIMARY KEY (ORG_USER_ID, BS_ID),
	CONSTRAINT ACCESSIBLE_SPACE_ORG_USER_ID_FK FOREIGN KEY (ORG_USER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ACCESSIBLE_SPACE_BS_ID_FK FOREIGN KEY (BS_ID) REFERENCES BaseSpace(ID),
	CONSTRAINT ACCESSIBLE_SPACE_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Resource_Readings (
	RESOURCE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	READING_ID BIGINT,
	PRIMARY KEY (RESOURCE_ID,READING_ID),
	CONSTRAINT RESOURCE_READINGS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID) ON DELETE CASCADE,
	CONSTRAINT RESOURCE_READINGS_FK_READING_ID FOREIGN KEY (READING_ID) REFERENCES Modules(MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Current_Occupancy_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	CURRENT_OCCUPANCY INT NOT NULL,
	CONSTRAINT CURRENT_OCCUPANCY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CURRENT_OCCUPANCY_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX CURRENT_OCCUPANCY_PARENT_ID_INDEX on Current_Occupancy_Reading (PARENT_SPACE);
CREATE INDEX CURRENT_OCCUPANCY_PARENT_ID_TTIME_INDEX ON Current_Occupancy_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX CURRENT_OCCUPANCY_TTIME_INDEX ON Current_Occupancy_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Assigned_Occupancy_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	ASSIGNED_OCCUPANCY INT NOT NULL,
	CONSTRAINT ASSIGNED_OCCUPANCY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSIGNED_OCCUPANCY_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX ASSIGNED_OCCUPANCY_PARENT_ID_INDEX on Assigned_Occupancy_Reading (PARENT_SPACE);
CREATE INDEX ASSIGNED_OCCUPANCY_PARENT_ID_TTIME_INDEX ON Assigned_Occupancy_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX ASSIGNED_OCCUPANCY_TTIME_INDEX ON Assigned_Occupancy_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Temperature_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	TEMPERATURE DOUBLE(9,3) NOT NULL,
	CONSTRAINT TEMPERATURE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TEMPERATURE_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX TEMPERATURE_PARENT_ID_INDEX on Temperature_Reading (PARENT_SPACE);
CREATE INDEX TEMPERATURE_PARENT_ID_TTIME_INDEX ON Temperature_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX TEMPERATURE_TTIME_INDEX ON Temperature_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Humidity_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	HUMIDITY INT NOT NULL,
	CONSTRAINT HUMIDITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT HUMIDITY_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX HUMIDITY_PARENT_ID_INDEX on Humidity_Reading (PARENT_SPACE);
CREATE INDEX HUMIDITY_PARENT_ID_TTIME_INDEX ON Humidity_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX HUMIDITY_TTIME_INDEX ON Humidity_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS CO2_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	CO2 DOUBLE(9,3) NOT NULL,
	CONSTRAINT CO2_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CO2_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX CO2_PARENT_ID_INDEX on CO2_Reading (PARENT_SPACE);
CREATE INDEX CO2_PARENT_ID_TTIME_INDEX ON CO2_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX CO2_TTIME_INDEX ON CO2_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Set_Point_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	SET_POINT DOUBLE(9,3) NOT NULL,
	CONSTRAINT SET_POINT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SET_POINT_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX SET_POINT_PARENT_ID_INDEX on Set_Point_Reading (PARENT_SPACE);
CREATE INDEX SET_POINT_PARENT_ID_TTIME_INDEX ON Set_Point_Reading (ORGID, MODULEID, PARENT_SPACE, TTIME);
CREATE INDEX SET_POINT_TTIME_INDEX ON Set_Point_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Weather_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SUMMARY VARCHAR(100),
	ICON INT(11),
	TEMPERATURE DOUBLE,
	HUMIDITY DOUBLE,
	DEW_POINT DOUBLE,
	PRESSURE DOUBLE,
	APPARENT_TEMPERATURE DOUBLE,
	PRECIPITATION_INTENSITY DOUBLE,
	PRECIPITATION_INTENSITY_ERROR DOUBLE,
	PRECIPITATION_PROBABILITY DOUBLE,
	PRECIPITATION_TYPE INT(11),
	WIND_SPEED DOUBLE,
	WIND_GUST DOUBLE,
	WIND_BEARING DOUBLE,
	CLOUD_COVER DOUBLE,
	UV_INDEX DOUBLE,
	VISIBILITY DOUBLE,
	OZONE DOUBLE,
	NEAREST_STORM_DISTANCE DOUBLE,
	NEAREST_STORM_BEARING DOUBLE,
	CONSTRAINT WEATHER_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WEATHER_READING_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for Weather_Reading table
CREATE INDEX WEATHER_READING_PARENT_ID_INDEX on Weather_Reading (PARENT_ID);
CREATE INDEX WEATHER_READING_PARENT_ID_TTIME_INDEX ON Weather_Reading (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WEATHER_READING_TTIME_INDEX ON Weather_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Weather_Reading_Daily (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SUMMARY VARCHAR(1000),
	ICON INT(11),
	HUMIDITY DOUBLE,
	DEW_POINT DOUBLE,
	PRESSURE DOUBLE,
	PRECIPITATION_INTENSITY DOUBLE,
	PRECIPITATION_PROBABILITY DOUBLE,
	PRECIPITATION_TYPE INT(11),
    PRECIPITATION_INTENSITY_ERROR DOUBLE,
	WIND_SPEED DOUBLE,
	WIND_GUST DOUBLE,
	WIND_BEARING DOUBLE,
	CLOUD_COVER DOUBLE,
	UV_INDEX DOUBLE,
	VISIBILITY DOUBLE,
	OZONE DOUBLE,
	MOON_PHASE DOUBLE,
	APPARENT_TEMPERATURE_LOW DOUBLE,
    APPARENT_TEMPERATURE_LOW_TIME BIGINT,
    APPARENT_TEMPERATURE_HIGH DOUBLE,
  	APPARENT_TEMPERATURE_HIGH_TIME BIGINT,
  	TEMPERATURE_LOW DOUBLE,
  	TEMPERATURE_LOW_TIME BIGINT,
  	TEMPERATURE_HIGH DOUBLE,
  	TEMPERATURE_HIGH_TIME BIGINT,
  	PRECIPITATION_INTENSITY_MAX DOUBLE,
  	PRECIPITATION_INTENSITY_MAX_TIME BIGINT,
  	SUNRISE_TIME BIGINT,
  	SUNSET_TIME BIGINT,
  	WIND_GUST_TIME BIGINT,
  	UV_INDEX_TIME BIGINT,
	CONSTRAINT WEATHER_READING_DAILY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WEATHER_READING_DAILY_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for Weather_Reading table
CREATE INDEX WEATHER_READING_DAILY_PARENT_ID_INDEX on Weather_Reading_Daily (PARENT_ID);
CREATE INDEX WEATHER_READING_DAILY_PARENT_ID_TTIME_INDEX ON Weather_Reading_Daily (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WEATHER_READING_DAILY_TTIME_INDEX ON Weather_Reading_Daily (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Weather_Reading_Hourly_Forecast (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FORECAST_TIME BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SUMMARY VARCHAR(100),
	ICON INT(11),
	TEMPERATURE DOUBLE,
	HUMIDITY DOUBLE,
	DEW_POINT DOUBLE,
	PRESSURE DOUBLE,
	APPARENT_TEMPERATURE DOUBLE,
	PRECIPITATION_INTENSITY DOUBLE,
	PRECIPITATION_INTENSITY_ERROR DOUBLE,
	PRECIPITATION_PROBABILITY DOUBLE,
	PRECIPITATION_TYPE INT(11),
	WIND_SPEED DOUBLE,
	WIND_GUST DOUBLE,
	WIND_BEARING DOUBLE,
	CLOUD_COVER DOUBLE,
	UV_INDEX DOUBLE,
	VISIBILITY DOUBLE,
	OZONE DOUBLE,
	CONSTRAINT WEATHER_READING_HOURLY_FORECAST_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WEATHER_READING_HOURLY_FORECAST_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for Weather_Reading table
CREATE INDEX WEATHER_READING_HOURLY_FORECAST_PARENT_ID_INDEX on Weather_Reading_Hourly_Forecast (PARENT_ID);
CREATE INDEX WEATHER_READING_HOURLY_FORECAST_PARENT_ID_TTIME_INDEX ON Weather_Reading_Hourly_Forecast (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WEATHER_READING_HOURLY_FORECAST_TTIME_INDEX ON Weather_Reading_Hourly_Forecast (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Weather_Reading_Daily_Forecast (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FORECAST_TIME BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SUMMARY VARCHAR(1000),
	ICON INT(11),
	HUMIDITY DOUBLE,
	DEW_POINT DOUBLE,
	PRESSURE DOUBLE,
	PRECIPITATION_INTENSITY DOUBLE,
	PRECIPITATION_PROBABILITY DOUBLE,
	PRECIPITATION_TYPE INT(11),
    PRECIPITATION_INTENSITY_ERROR DOUBLE,
	WIND_SPEED DOUBLE,
	WIND_GUST DOUBLE,
	WIND_BEARING DOUBLE,
	CLOUD_COVER DOUBLE,
	UV_INDEX DOUBLE,
	VISIBILITY DOUBLE,
	OZONE DOUBLE,
	MOON_PHASE DOUBLE,
	APPARENT_TEMPERATURE_LOW DOUBLE,
    APPARENT_TEMPERATURE_LOW_TIME BIGINT,
    APPARENT_TEMPERATURE_HIGH DOUBLE,
  	APPARENT_TEMPERATURE_HIGH_TIME BIGINT,
  	TEMPERATURE_LOW DOUBLE,
  	TEMPERATURE_LOW_TIME BIGINT,
  	TEMPERATURE_HIGH DOUBLE,
  	TEMPERATURE_HIGH_TIME BIGINT,
  	PRECIPITATION_INTENSITY_MAX DOUBLE,
  	PRECIPITATION_INTENSITY_MAX_TIME BIGINT,
  	SUNRISE_TIME BIGINT,
  	SUNSET_TIME BIGINT,
  	WIND_GUST_TIME BIGINT,
  	UV_INDEX_TIME BIGINT,
	CONSTRAINT WEATHER_READING_DAILY_FORECAST_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WEATHER_READING_DAILY_FORECAST_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for Weather_Reading table
CREATE INDEX WEATHER_READING_DAILY_FORECAST_PARENT_ID_INDEX on Weather_Reading_Daily_Forecast (PARENT_ID);
CREATE INDEX WEATHER_READING_DAILY_FORECAST_PARENT_ID_TTIME_INDEX ON Weather_Reading_Daily_Forecast (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WEATHER_READING_DAILY_FORECAST_TTIME_INDEX ON Weather_Reading_Daily_Forecast (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Psychrometric_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	DEWPOINT_TEMPERATURE DOUBLE,
	WETBULB_TEMPERATURE DOUBLE,
	ENTHALPY DOUBLE,
	CONSTRAINT PSYCHROMETRIC_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PSYCHROMETRIC_READING_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for Psychrometric_Reading table
CREATE INDEX PSYCHROMETRIC_READING_PARENT_ID_INDEX on Psychrometric_Reading (PARENT_ID);
CREATE INDEX PSYCHROMETRIC_READING_PARENT_ID_TTIME_INDEX ON Psychrometric_Reading (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX PSYCHROMETRIC_READING_TTIME_INDEX ON Psychrometric_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS CDD_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CDD DOUBLE,
	CONSTRAINT CDD_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CDD_READING_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for CDD_Reading table
CREATE INDEX CDD_READING_PARENT_ID_INDEX on CDD_Reading (PARENT_ID);
CREATE INDEX CDD_READING_PARENT_ID_TTIME_INDEX ON CDD_Reading (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CDD_READING_TTIME_INDEX ON CDD_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS HDD_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	HDD DOUBLE,
	CONSTRAINT HDD_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT HDD_READING_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for CDD_Reading table
CREATE INDEX HDD_READING_PARENT_ID_INDEX on HDD_Reading (PARENT_ID);
CREATE INDEX HDD_READING_PARENT_ID_TTIME_INDEX ON HDD_Reading (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX HDD_READING_TTIME_INDEX ON HDD_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS WDD_Reading (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	WDD DOUBLE,
	CONSTRAINT WDD_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WDD_READING_FK_PARENT_SPACE FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);
-- Create indexes for CDD_Reading table
CREATE INDEX WDD_READING_PARENT_ID_INDEX on WDD_Reading (PARENT_ID);
CREATE INDEX WDD_READING_PARENT_ID_TTIME_INDEX ON WDD_Reading (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WDD_READING_TTIME_INDEX ON WDD_Reading (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS BaseSpace_Photos (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	PHOTO_ID BIGINT NOT NULL,
	CONSTRAINT BASESPACE_PHOTOS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BASESPACE_PHOTOS_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID),
	CONSTRAINT BASESPACE_PHOTOS_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS BaseSpace_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_SPACE BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	CONSTRAINT BASESPACE_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BASESPACE_ATTACHEMENTS_FK_PARENT_SPACE FOREIGN KEY (PARENT_SPACE) REFERENCES BaseSpace (ID),
	CONSTRAINT BASESPACE_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS BaseSpace_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT BASESPACE_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BASESPACE_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT BASESPACE_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES BaseSpace (ID)
);

CREATE TABLE IF NOT EXISTS Form_Section (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FORMID BIGINT NOT NULL,
	NAME VARCHAR(100),
	SEQUENCE_NUMBER TINYINT NOT NULL,
	SHOW_LABEL BOOLEAN DEFAULT FALSE,
	SECTION_TYPE TINYINT,
	SUB_FORM_ID BIGINT,
	SUB_FORM_DEFAULT_VALUE TEXT,
	LOOKUP_FIELDID BIGINT,
	NUMBER_OF_SUB_FORM_RECORDS INT,

	CONSTRAINT FORMSECTION_FORMID FOREIGN KEY (FORMID) REFERENCES Forms(ID) ON DELETE CASCADE,
	CONSTRAINT FORMSECTION_LOOKUPFIELDID FOREIGN KEY (LOOKUP_FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT FORMSECTION_SUBFORMID FOREIGN KEY (SUB_FORM_ID) REFERENCES Forms(ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Form_Fields (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORMID BIGINT NOT NULL,
	SECTIONID BIGINT,
	DISPLAYNAME VARCHAR(255) NOT NULL,
	NAME VARCHAR(100), -- Only if no Facilio Field available
	FIELDID BIGINT,
	DISPLAY_TYPE TINYINT NOT NULL,
	REQUIRED BOOLEAN DEFAULT false NOT NULL,
	SEQUENCE_NUMBER TINYINT NOT NULL,
	HIDE_FIELD BOOLEAN DEFAULT FALSE,
	IS_DISABLED BOOLEAN DEFAULT FALSE,
	SPAN TINYINT NOT NULL DEFAULT 1,
	DEFAULT_VALUE VARCHAR(500),
	CONFIG TEXT,
	ALLOW_CREATE_OPTIONS BOOLEAN,
	CONSTRAINT FORMFIELDS_FORMID FOREIGN KEY (FORMID) REFERENCES Forms(ID) ON DELETE CASCADE,
	CONSTRAINT FORMFIELDS_SECTIONID FOREIGN KEY (SECTIONID) REFERENCES Form_Section(ID) ON DELETE CASCADE,
	CONSTRAINT FORMFIELDS_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT FORMFIELDS_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS Building (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	LOCATION_ID BIGINT,
	MANAGED_BY BIGINT,
	GROSS_FLOOR_AREA DOUBLE(10,3),
	NO_OF_FLOORS INT,
	NO_OF_INDEPENDENT_SPACES BIGINT,
	STRING_CF1 VARCHAR(250),
	STRING_CF2 VARCHAR(250),
	STRING_CF3 VARCHAR(250),
	STRING_CF4 VARCHAR(250),
	STRING_CF5 VARCHAR(250),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE(9,3),
	DECIMAL_CF2 DOUBLE(9,3),
	DECIMAL_CF3 DOUBLE(9,3),
	DECIMAL_CF4 DOUBLE(9,3),
	DECIMAL_CF5 DOUBLE(9,3),
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	LOOKUP_CF1 BIGINT,
	LOOKUP_CF2 BIGINT,
	LOOKUP_CF3 BIGINT,
	LOOKUP_CF4 BIGINT,
	LOOKUP_CF5 BIGINT,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT BUILDING_FK_ID FOREIGN KEY (ID) REFERENCES BaseSpace(ID) ON DELETE CASCADE,
	CONSTRAINT BUILDING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BUILDING_FK_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES Locations(ID),
	CONSTRAINT BUILDING_FK_MANAGED_BY FOREIGN KEY (MANAGED_BY) REFERENCES ORG_Users (ORG_USERID),
	CONSTRAINT BUILDING_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Agent_Data (
        ID bigint AUTO_INCREMENT PRIMARY KEY,
        DEVICE_DETAILS varchar(1000),
        Conn_status tinyint(1) ,
        ORGID bigint(20) NOT NULL,
        NAME varchar(250) NOT NULL,
        DISPLAY_NAME varchar(250) ,
        DATA_INTERVAL bigint(20) DEFAULT 10 not null,
        TYPE varchar(100) ,
        VERSION varchar(20),
        LAST_MODIFIED_TIME bigint(20),
        CREATED_TIME bigint(20),
        LAST_DATA_RECEIVED_TIME bigint(30),
        STATE int(1),
        SITE_ID bigint(20),
        WRITABLE tinyint(4),
        DELETED_TIME BIGINT(20),
        TRANSFORM_WORKFLOW_ID bigint(20),
        UNIQUE (ORGID,NAME),
        CONSTRAINT AGENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
        CONSTRAINT AGENT_DATA_FK_TRANS_WF_ID FOREIGN KEY (TRANSFORM_WORKFLOW_ID) REFERENCES Workflow(ID)
);

CREATE TABLE IF NOT EXISTS Agent_Log(
        ID bigint AUTO_INCREMENT PRIMARY KEY,
        ORGID bigint(20) NOT NULL,
        AGENT_ID BIGINT(20),
        DEVICE_ID varchar(250),
        COMMAND BIGINT(1),
        COMMAND_STATUS BIGINT(1),
        MSG_ID BIGINT(20),
        CONTENT VARCHAR(500),
        TIME bigint(30),
        CREATED_TIME bigint(20),
    CONSTRAINT Agent_Log_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent_Data(ID)
);

CREATE TABLE IF NOT EXISTS Agent_Metrics(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT(20) NOT NULL,
	AGENT_ID BIGINT(20) NOT NULL,
	PUBLISH_TYPE INT(11) NOT NULL,
    NO_OF_MSGS BIGINT(20),
    SIZE BIGINT(30),
    LAST_UPDATED_TIME BIGINT(20),
    CREATED_TIME BIGINT(20),
    UNIQUE(ORGID,AGENT_ID,PUBLISH_TYPE,CREATED_TIME),
    CONSTRAINT Agent_METRICS_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent_Data(ID)
);

CREATE TABLE IF NOT EXISTS Agent_Message(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT(20) NOT NULL,
    RECORD_ID BIGINT(20) NOT NULL,
    MSG_STATUS bigint(2) NOT NULL,
    START_TIME bigint(20) NOT NULL,
    FINISH_TIME bigint(20),
	AGENT_ID BIGINT(20),
	SELECT_QUERIES TINYINT,
	INSERT_QUERIES TINYINT,
	UPDATE_QUERIES TINYINT,
	DELETE_QUERIES TINYINT,
	REDIS_GET_COUNT TINYINT,
	REDIS_PUT_COUNT TINYINT,
	REDIS_DELETE_COUNT TINYINT,
	SELECT_QUERIES_TIME BIGINT(20),
	INSERT_QUERIES_TIME BIGINT(20),
	UPDATE_QUERIES_TIME BIGINT(20),
	DELETE_QUERIES_TIME BIGINT(20),
	REDIS_GET_TIME BIGINT(20),
    REDIS_PUT_TIME BIGINT(20),
    REDIS_DELETE_TIME BIGINT(20),
    PUBLIC_SELECT_QUERIES TINYINT,
    PUBLIC_INSERT_QUERIES TINYINT,
    PUBLIC_UPDATE_QUERIES TINYINT,
    PUBLIC_DELETE_QUERIES TINYINT,
    PUBLIC_REDIS_GET_COUNT TINYINT,
    PUBLIC_REDIS_PUT_COUNT TINYINT,
    PUBLIC_REDIS_DELETE_COUNT TINYINT,
    PUBLIC_SELECT_QUERIES_TIME BIGINT(20),
    PUBLIC_INSERT_QUERIES_TIME BIGINT(20),
    PUBLIC_UPDATE_QUERIES_TIME BIGINT(20),
   	PUBLIC_DELETE_QUERIES_TIME BIGINT(20),
    PUBLIC_REDIS_GET_TIME BIGINT(20),
    PUBLIC_REDIS_PUT_TIME BIGINT(20),
   	PUBLIC_REDIS_DELETE_TIME BIGINT(20),
    UNIQUE (ORGID,RECORD_ID)
);

CREATE TABLE IF NOT EXISTS Agent_Integration(
     ID BIGINT AUTO_INCREMENT PRIMARY KEY,
     ORGID BIGINT(20) NOT NULL,
     NAME VARCHAR(50),
     TYPE BIGINT(2),
     PROP_KEY VARCHAR(100),
     PROP_VALUE VARCHAR(200)
);


CREATE TABLE IF NOT EXISTS Controller (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(250) NOT NULL,
	DISPLAY_NAME VARCHAR(250) DEFAULT NULL,
	MAC_ADDR VARCHAR(100) NOT NULL,
	DATA_INTERVAL INT,
	BATCHES_PER_CYCLE TINYINT,
	SITE_ID BIGINT,
	AGENT_ID BIGINT,
	WRITABLE tinyint DEFAULT 0,
	ACTIVE BOOLEAN NOT NULL,
	CONTROLLER_TYPE INT,
	IP_ADDRESS VARCHAR(200),
	INSTANCE_NUMBER BIGINT,
	NETWORK_NUMBER BIGINT,
	CONTROLLER_PROPS VARCHAR(1000),
	AVAILABLE_POINTS INT,
	PORT_NUMBER INT,
	COM_PORT VARCHAR(200),
	SLAVE_ID INT,
	CREATED_TIME BIGINT NOT NULL,
	LAST_MODIFIED_TIME BIGINT NOT NULL,
	LAST_DATA_RECEIVED_TIME BIGINT,
	DELETED_TIME BIGINT,
	CONSTRAINT CONTROLLER_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent_Data(ID),
	CONSTRAINT CONTROLLER_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT CONTROLLER_UNIQUE_ORGID_MAC_ADDR UNIQUE(ORGID, MAC_ADDR)
);
ALTER TABLE Resources ADD CONSTRAINT RESOURCES_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE SET NULL;

CREATE TABLE IF NOT EXISTS Controller_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	CONTROLLER_MAC_ADDR VARCHAR(100) NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	RECORD_TIME BIGINT NOT NULL,
	CONSTRAINT CONTROLLER_ACTIVITY_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE INDEX CONTROLLER_ACTIVITY_ORG_MAC_ADDR_TIME ON Controller_Activity (ORGID,CONTROLLER_MAC_ADDR,RECORD_TIME);

CREATE TABLE IF NOT EXISTS Controller_Activity_Records ( -- Having separate table because Controller_Activity will be queried frequently
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	CURRENT_RECORDS LONGTEXT NOT NULL,
	CONSTRAINT CONTROLLER_ACTIVITY_RECORDS_FK_ID FOREIGN KEY (ID) REFERENCES Controller_Activity(ID) ON DELETE CASCADE,
	CONSTRAINT CONTROLLER_ACTIVITY_RECORDS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Controller_Activity_Watcher (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	RECORD_TIME BIGINT NOT NULL,
	DATA_INTERVAL INT NOT NULL,
	LEVEL TINYINT NOT NULL,
	COMPLETION_STATUS BOOLEAN,
	CONSTRAINT CONTROLLER_ACTIVITY_WATCHER_UNIQUE_RECORD UNIQUE(ORGID,RECORD_TIME,DATA_INTERVAL, LEVEL)
);

CREATE TABLE IF NOT EXISTS Controller_Building_Rel (
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	CONTROLLER_ID BIGINT NOT NULL,
	BUILDING_ID BIGINT NOT NULL,
	CONSTRAINT CONTROLLER_BUILDING_REL_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT CONTROLLER_BUILDING_REL_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller(ID) ON DELETE CASCADE,
	CONSTRAINT CONTROLLER_BUILDING_REL_FK_BUILDING_ID FOREIGN KEY (BUILDING_ID) REFERENCES Building(ID)
);

CREATE TABLE IF NOT EXISTS Publish_Data (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	CONTROLLER_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	ACKNOWLEDGE_TIME BIGINT,
	RESPONSE_ACKNOWLEDGE_TIME BIGINT,
	PING_ACKNOWLEDGE_TIME BIGINT,
	RESPONSE_JSON TEXT DEFAULT NULL,
	COMMAND TINYINT,
	CONSTRAINT PUBLISH_DATA_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Publish_Message (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	SENT_TIME BIGINT NOT NULL,
	ACKNOWLEDGE_TIME BIGINT,
	MSG_DATA VARCHAR (5000) NOT NULL,
	RESPONSE_ACKNOWLEDGE_TIME BIGINT,
	RESPONSE_JSON TEXT DEFAULT NULL,
	CONSTRAINT PUBLISH_MESSAGE_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Publish_Data(ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Floor (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FLOOR_LEVEL TINYINT,
	FLOOR_PLAN_ID BIGINT,
	DEFAULT_FLOOR_PLAN_ID BIGINT,
	FLOOR_PLAN_INFO VARCHAR(5000),
	NO_OF_INDEPENDENT_SPACES BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT FLOOR_FK_ID FOREIGN KEY (ID) REFERENCES BaseSpace(ID) ON DELETE CASCADE,
	CONSTRAINT FLOOR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT FLOOR_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT FLOOR_FK_FLOOR_PLAN_ID FOREIGN KEY (FLOOR_PLAN_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Space_Category (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50),
	DESCRIPTION VARCHAR(1000),
	IS_COMMON_AREA BOOLEAN,
	SPACE_MODULE_ID BIGINT,
	CONSTRAINT SPACE_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SPACE_CATEGORY_FK_SPACE_MODULEID FOREIGN KEY (SPACE_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Space_Category_Readings (
	PARENT_CATEGORY_ID BIGINT,
	ORGID BIGINT NOT NULL,
	READING_MODULE_ID BIGINT,
	PRIMARY KEY (PARENT_CATEGORY_ID, READING_MODULE_ID),
	CONSTRAINT SPACE_CATEGORY_READINGS_PARENT_FK FOREIGN KEY (PARENT_CATEGORY_ID) REFERENCES Space_Category(ID),
	CONSTRAINT SPACE_CATEGORY_READINGS_CHILD_FK FOREIGN KEY (READING_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Space (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SPACE_CATEGORY_ID BIGINT,
    IS_RESERVABLE BOOLEAN,
    UNIT_RESERVATION_COST DOUBLE,
    NO_OF_SUB_SPACES BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT SPACE_FK_ID FOREIGN KEY (ID) REFERENCES BaseSpace(ID) ON DELETE CASCADE,
	CONSTRAINT SPACE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SPACE_FK_CATEGORY_ID FOREIGN KEY (SPACE_CATEGORY_ID) REFERENCES Space_Category(ID),
	CONSTRAINT SPACE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);


CREATE TABLE IF NOT EXISTS Zone (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	TENANT_ZONE TINYINT,
	CONSTRAINT ZONE_FK_ID FOREIGN KEY (ID) REFERENCES BaseSpace(ID) ON DELETE CASCADE,
	CONSTRAINT ZONE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ZONE_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Zone_Space (
	ZONE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	BASE_SPACE_ID BIGINT,
	IS_IMMEDIATE TINYINT,
	CONSTRAINT ZONE_SPACE_FK_ZONE_ID FOREIGN KEY (ZONE_ID) REFERENCES Zone(ID) ON DELETE CASCADE,
	CONSTRAINT ZONE_SPACE_FK_BASE_SPACE_ID FOREIGN KEY (BASE_SPACE_ID) REFERENCES BaseSpace(ID)
);

CREATE TABLE IF NOT EXISTS Store_room (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(100),
	DESCRIPTION VARCHAR(500),
	LOCATION_ID BIGINT,
	OWNER_ID BIGINT,
	FORM_ID BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	SITE_ID BIGINT,
	NO_OF_TOOL_TYPES INT,
	NO_OF_ITEM_TYPES INT,
	IS_APPROVAL_NEEDED BOOLEAN,
	LAST_PURCHASED_DATE BIGINT,
	IS_GATE_PASS_REQUIRED BOOLEAN,
	CONSTRAINT STORE_ROOM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT STORE_ROOM_FK_LOCATION FOREIGN KEY (LOCATION_ID) REFERENCES Locations(ID),
	CONSTRAINT STORE_ROOM_FK_OWNER FOREIGN KEY (OWNER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT STORE_ROOM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT STORE_ROOM_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Item_Types_category (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	CONSTRAINT ITEM_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item_Type_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	ACTIVITY_TYPE TINYINT NOT NULL,
	DONE_BY_ID BIGINT NOT NULL,
	INFO VARCHAR(5000),
	CONSTRAINT ITEM_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ITEM_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ITEM_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Inventory_category (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	CONSTRAINT INVENTORY_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item_Types_status (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,
	CONSTRAINT ITEM_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item_Types (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR (50),
	DESCRIPTION VARCHAR(500),
	FORM_ID BIGINT,
	CATEGORY BIGINT,
	STATUS BIGINT,
	PHOTO BIGINT,
	SERIAL_NUMBER VARCHAR(100),
	UNIT INT,
	MINIMUM_QUANTITY DOUBLE,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	LOCAL_ID BIGINT,
	INDIVIDUAL_TRACKING BOOLEAN,
	CURRENT_QUANTITY DOUBLE,
	LAST_PURCHASED_DATE BIGINT,
	LAST_ISSUED_DATE BIGINT,
	LAST_PURCHASED_PRICE DOUBLE,
	SELLING_PRICE DOUBLE,
	IS_APPROVAL_NEEDED BOOLEAN,
	IS_CONSUMABLE BOOLEAN,
	CONSTRAINT ITEM_TYPES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_TYPES_FK_CATEGORY FOREIGN KEY (CATEGORY) REFERENCES Inventory_category(ID),
	CONSTRAINT ITEM_TYPES_FK_PHOTO FOREIGN KEY (PHOTO) REFERENCES FacilioFile(FILE_ID),
	CONSTRAINT ITEM_TYPES_FK_STATUS FOREIGN KEY (STATUS) REFERENCES Item_Types_status(ID),
	CONSTRAINT ITEM_TYPES_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Item_status (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	CONSTRAINT INVENTORY_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ITEM_TYPES_ID BIGINT,
	STORE_ROOM_ID BIGINT,
	FORM_ID BIGINT,
	STATUS BIGINT,
	COST_TYPE INT,
	QUANTITY DOUBLE,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	LOCAL_ID BIGINT,
	SITE_ID BIGINT,
	LAST_PURCHASED_DATE BIGINT,
	LAST_PURCHASED_PRICE DOUBLE,
	MINIMUM_QUANTITY DOUBLE,
	IS_UNDERSTOCKED TINYINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),	
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,	
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT ITEM_UNIQUE_ITEM_TYPES_ID_STORE_ROOM_ID UNIQUE (ITEM_TYPES_ID,STORE_ROOM_ID),
	CONSTRAINT ITEM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_FK_ITEM_TYPES_ID FOREIGN KEY (ITEM_TYPES_ID) REFERENCES Item_Types(ID),
	CONSTRAINT ITEM_FK_STORE_ROOM_ID FOREIGN KEY (STORE_ROOM_ID) REFERENCES Store_room(ID),
	CONSTRAINT ITEM_FK_STATUS FOREIGN KEY (STATUS) REFERENCES Item_status(ID),
	CONSTRAINT ITEM_FK_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT ITEM_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Tool_types_status (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	CONSTRAINT TOOL_TYPES_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Tool_types(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR (50),
	DESCRIPTION VARCHAR(500),
	FORM_ID BIGINT,
	CATEGORY BIGINT,
	STATUS BIGINT,
	PHOTO BIGINT,
	SERIAL_NUMBER VARCHAR(100),
	UNIT INT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	LOCAL_ID BIGINT,
	INDIVIDUAL_TRACKING BOOLEAN,
	CURRENT_QUANTITY DOUBLE,
	LAST_PURCHASED_DATE BIGINT,
	LAST_ISSUED_DATE BIGINT,
	IS_APPROVAL_NEEDED BOOLEAN,
	SELLING_PRICE DOUBLE,
	MINIMUM_QUANTITY DOUBLE,
	CONSTRAINT TOOLS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOLS_FK_STATUS FOREIGN KEY (STATUS) REFERENCES Tool_types_status(ID),
	CONSTRAINT TOOLS_FK_PHOTO FOREIGN KEY (PHOTO) REFERENCES FacilioFile(FILE_ID),
	CONSTRAINT TOOLS_FK_CATEGORY FOREIGN KEY (CATEGORY) REFERENCES Inventory_category(ID),
	CONSTRAINT TOOLS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Tool_status (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	CONSTRAINT TOOL_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);


CREATE TABLE IF NOT EXISTS Tool (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	TOOL_TYPE_ID BIGINT,
	STORE_ROOM_ID BIGINT,
	FORM_ID BIGINT,
	STATUS BIGINT,
	QUANTITY DOUBLE,
	CURRENT_QUANTITY DOUBLE,
	RATE DOUBLE,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	LOCAL_ID BIGINT,
	SITE_ID BIGINT,
	LAST_PURCHASED_DATE BIGINT,
	IS_UNDERSTOCKED TINYINT,
	MINIMUM_QUANTITY DOUBLE,
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,	
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT STOCKED_TOOLS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT STOCKED_TOOLS_FK_TOOLS_ID FOREIGN KEY (TOOL_TYPE_ID) REFERENCES Tool_types(ID),
	CONSTRAINT STOCKED_TOOLS_FK_STORE_ROOM_ID FOREIGN KEY (STORE_ROOM_ID) REFERENCES Store_room(ID),
	CONSTRAINT STOCKED_TOOLS_FK_STATUS FOREIGN KEY (STATUS) REFERENCES Tool_status(ID),
	CONSTRAINT STOCKED_TOOLS_FK_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT STOCKED_TOOLS_UNIQUE_STORE_TOOL_TYPE UNIQUE(STORE_ROOM_ID, TOOL_TYPE_ID),
	CONSTRAINT STOCKED_TOOLS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Tenants
(
    ID                    BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID                 BIGINT(20)   NOT NULL,
    NAME                  VARCHAR(100) NOT NULL,
    DESCRIPTION           VARCHAR(500),
    LOGO_ID               BIGINT,
    AVATAR_ID             BIGINT,
    LOCAL_ID              BIGINT(11),
    SITE_ID               BIGINT(20),
    ZONE_ID               BIGINT(20),
    MODULEID              BIGINT(20),
    FORM_ID               BIGINT,
    CREATED_TIME          BIGINT(20),
    MODIFIED_TIME         BIGINT(20),
    STATUS                TINYINT,
    SYS_DELETED           TINYINT,
    SYS_DELETED_TIME      BIGINT,
    SYS_DELETED_BY        BIGINT,
    IN_TIME               BIGINT(20),
    OUT_TIME              BIGINT(20),
    TENANT_TYPE           TINYINT,
    PRIMARY_CONTACT_NAME  VARCHAR(50),
    PRIMARY_CONTACT_EMAIL VARCHAR(50),
    PRIMARY_CONTACT_PHONE VARCHAR(30),
    MODULE_STATE          BIGINT DEFAULT NULL,
    STATE_FLOW_ID         BIGINT DEFAULT NULL,
    ADDRESS_ID            BIGINT,
    STRING_CF1            VARCHAR(255),
    STRING_CF2            VARCHAR(255),
    STRING_CF3            VARCHAR(255),
    STRING_CF4            VARCHAR(255),
    STRING_CF5            VARCHAR(255),
    STRING_CF6            VARCHAR(255),
    STRING_CF7            VARCHAR(255),
    STRING_CF8            VARCHAR(255),
    STRING_CF9            VARCHAR(255),
    STRING_CF10           VARCHAR(255),
    STRING_CF11           VARCHAR(255),
    STRING_CF12           VARCHAR(255),
    STRING_CF13           VARCHAR(255),
    STRING_CF14           VARCHAR(255),
    STRING_CF15           VARCHAR(255),
    STRING_CF16           VARCHAR(255),
    STRING_CF17           VARCHAR(255),
    STRING_CF18           VARCHAR(255),
    STRING_CF19           VARCHAR(255),
    STRING_CF20           VARCHAR(255),
    STRING_CF21           VARCHAR(255),
    STRING_CF22           VARCHAR(255),
    STRING_CF23           VARCHAR(255),
    STRING_CF24           VARCHAR(255),
    STRING_CF25           VARCHAR(255),
    STRING_CF26           VARCHAR(255),
    STRING_CF27           VARCHAR(255),
    STRING_CF28           VARCHAR(255),
    STRING_CF29           VARCHAR(255),
    STRING_CF30           VARCHAR(255),
    NUMBER_CF1            BIGINT,
    NUMBER_CF2            BIGINT,
    NUMBER_CF3            BIGINT,
    NUMBER_CF4            BIGINT,
    NUMBER_CF5            BIGINT,
    NUMBER_CF6            BIGINT,
    NUMBER_CF7            BIGINT,
    NUMBER_CF8            BIGINT,
    NUMBER_CF9            BIGINT,
    NUMBER_CF10           BIGINT,
    NUMBER_CF11           BIGINT,
    NUMBER_CF12           BIGINT,
    NUMBER_CF13           BIGINT,
    NUMBER_CF14           BIGINT,
    NUMBER_CF15           BIGINT,
    NUMBER_CF16           BIGINT,
    NUMBER_CF17           BIGINT,
    NUMBER_CF18           BIGINT,
    NUMBER_CF19           BIGINT,
    NUMBER_CF20           BIGINT,
    NUMBER_CF21           BIGINT,
    NUMBER_CF22           BIGINT,
    NUMBER_CF23           BIGINT,
    NUMBER_CF24           BIGINT,
    NUMBER_CF25           BIGINT,
    NUMBER_CF26           BIGINT,
    NUMBER_CF27           BIGINT,
    NUMBER_CF28           BIGINT,
    NUMBER_CF29           BIGINT,
    NUMBER_CF30           BIGINT,
    DECIMAL_CF1           DOUBLE,
    DECIMAL_CF2           DOUBLE,
    DECIMAL_CF3           DOUBLE,
    DECIMAL_CF4           DOUBLE,
    DECIMAL_CF5           DOUBLE,
    DECIMAL_CF6           DOUBLE,
    DECIMAL_CF7           DOUBLE,
    DECIMAL_CF8           DOUBLE,
    DECIMAL_CF9           DOUBLE,
    DECIMAL_CF10          DOUBLE,
    DECIMAL_CF11          DOUBLE,
    DECIMAL_CF12          DOUBLE,
    DECIMAL_CF13          DOUBLE,
    DECIMAL_CF14          DOUBLE,
    DECIMAL_CF15          DOUBLE,
    DECIMAL_CF16          DOUBLE,
    DECIMAL_CF17          DOUBLE,
    DECIMAL_CF18          DOUBLE,
    DECIMAL_CF19          DOUBLE,
    DECIMAL_CF20          DOUBLE,
    DECIMAL_CF21          DOUBLE,
    DECIMAL_CF22          DOUBLE,
    DECIMAL_CF23          DOUBLE,
    DECIMAL_CF24          DOUBLE,
    DECIMAL_CF25          DOUBLE,
    DECIMAL_CF26          DOUBLE,
    DECIMAL_CF27          DOUBLE,
    DECIMAL_CF28          DOUBLE,
    DECIMAL_CF29          DOUBLE,
    DECIMAL_CF30          DOUBLE,
    BOOLEAN_CF1           BOOLEAN,
    BOOLEAN_CF2           BOOLEAN,
    BOOLEAN_CF3           BOOLEAN,
    BOOLEAN_CF4           BOOLEAN,
    BOOLEAN_CF5           BOOLEAN,
    BOOLEAN_CF6           BOOLEAN,
    BOOLEAN_CF7           BOOLEAN,
    BOOLEAN_CF8           BOOLEAN,
    BOOLEAN_CF9           BOOLEAN,
    BOOLEAN_CF10          BOOLEAN,
    BOOLEAN_CF11          BOOLEAN,
    BOOLEAN_CF12          BOOLEAN,
    BOOLEAN_CF13          BOOLEAN,
    BOOLEAN_CF14          BOOLEAN,
    BOOLEAN_CF15          BOOLEAN,
    BOOLEAN_CF16          BOOLEAN,
    BOOLEAN_CF17          BOOLEAN,
    BOOLEAN_CF18          BOOLEAN,
    BOOLEAN_CF19          BOOLEAN,
    BOOLEAN_CF20          BOOLEAN,
    BOOLEAN_CF21          BOOLEAN,
    BOOLEAN_CF22          BOOLEAN,
    BOOLEAN_CF23          BOOLEAN,
    BOOLEAN_CF24          BOOLEAN,
    BOOLEAN_CF25          BOOLEAN,
    BOOLEAN_CF26          BOOLEAN,
    BOOLEAN_CF27          BOOLEAN,
    BOOLEAN_CF28          BOOLEAN,
    BOOLEAN_CF29          BOOLEAN,
    BOOLEAN_CF30          BOOLEAN,
    DATE_CF1              BIGINT,
    DATE_CF2              BIGINT,
    DATE_CF3              BIGINT,
    DATE_CF4              BIGINT,
    DATE_CF5              BIGINT,
    DATE_CF6              BIGINT,
    DATE_CF7              BIGINT,
    DATE_CF8              BIGINT,
    DATE_CF9              BIGINT,
    DATE_CF10             BIGINT,
    DATE_CF11             BIGINT,
    DATE_CF12             BIGINT,
    DATE_CF13             BIGINT,
    DATE_CF14             BIGINT,
    DATE_CF15             BIGINT,
    DATE_CF16             BIGINT,
    DATE_CF17             BIGINT,
    DATE_CF18             BIGINT,
    DATE_CF19             BIGINT,
    DATE_CF20             BIGINT,
    DATE_CF21             BIGINT,
    DATE_CF22             BIGINT,
    DATE_CF23             BIGINT,
    DATE_CF24             BIGINT,
    DATE_CF25             BIGINT,
    DATE_CF26             BIGINT,
    DATE_CF27             BIGINT,
    DATE_CF28             BIGINT,
    DATE_CF29             BIGINT,
    DATE_CF30             BIGINT,
    DATETIME_CF1          BIGINT,
    DATETIME_CF2          BIGINT,
    DATETIME_CF3          BIGINT,
    DATETIME_CF4          BIGINT,
    DATETIME_CF5          BIGINT,
    DATETIME_CF6          BIGINT,
    DATETIME_CF7          BIGINT,
    DATETIME_CF8          BIGINT,
    DATETIME_CF9          BIGINT,
    DATETIME_CF10         BIGINT,
    DATETIME_CF11         BIGINT,
    DATETIME_CF12         BIGINT,
    DATETIME_CF13         BIGINT,
    DATETIME_CF14         BIGINT,
    DATETIME_CF15         BIGINT,
    DATETIME_CF16         BIGINT,
    DATETIME_CF17         BIGINT,
    DATETIME_CF18         BIGINT,
    DATETIME_CF19         BIGINT,
    DATETIME_CF20         BIGINT,
    DATETIME_CF21         BIGINT,
    DATETIME_CF22         BIGINT,
    DATETIME_CF23         BIGINT,
    DATETIME_CF24         BIGINT,
    DATETIME_CF25         BIGINT,
    DATETIME_CF26         BIGINT,
    DATETIME_CF27         BIGINT,
    DATETIME_CF28         BIGINT,
    DATETIME_CF29         BIGINT,
    DATETIME_CF30         BIGINT,
    ENUM_CF1              INTEGER,
    ENUM_CF2              INTEGER,
    ENUM_CF3              INTEGER,
    ENUM_CF4              INTEGER,
    ENUM_CF5              INTEGER,
    ENUM_CF6              INTEGER,
    ENUM_CF7              INTEGER,
    ENUM_CF8              INTEGER,
    ENUM_CF9              INTEGER,
    ENUM_CF10             INTEGER,
    ENUM_CF11             INTEGER,
    ENUM_CF12             INTEGER,
    ENUM_CF13             INTEGER,
    ENUM_CF14             INTEGER,
    ENUM_CF15             INTEGER,
    ENUM_CF16             INTEGER,
    ENUM_CF17             INTEGER,
    ENUM_CF18             INTEGER,
    ENUM_CF19             INTEGER,
    ENUM_CF20             INTEGER,
    ENUM_CF21             INTEGER,
    ENUM_CF22             INTEGER,
    ENUM_CF23             INTEGER,
    ENUM_CF24             INTEGER,
    ENUM_CF25             INTEGER,
    ENUM_CF26             INTEGER,
    ENUM_CF27             INTEGER,
    ENUM_CF28             INTEGER,
    ENUM_CF29             INTEGER,
    ENUM_CF30             INTEGER,
    FILE_CF1              BIGINT,
    FILE_CF2              BIGINT,
    FILE_CF3              BIGINT,
    FILE_CF4              BIGINT,
    FILE_CF5              BIGINT,
    FILE_CF6              BIGINT,
    FILE_CF7              BIGINT,
    FILE_CF8              BIGINT,
    FILE_CF9              BIGINT,
    FILE_CF10             BIGINT,
    FILE_CF11             BIGINT,
    FILE_CF12             BIGINT,
    FILE_CF13             BIGINT,
    FILE_CF14             BIGINT,
    FILE_CF15             BIGINT,
    FILE_CF16             BIGINT,
    FILE_CF17             BIGINT,
    FILE_CF18             BIGINT,
    FILE_CF19             BIGINT,
    FILE_CF20             BIGINT,
    FILE_CF21             BIGINT,
    FILE_CF22             BIGINT,
    FILE_CF23             BIGINT,
    FILE_CF24             BIGINT,
    FILE_CF25             BIGINT,
    FILE_CF26             BIGINT,
    FILE_CF27             BIGINT,
    FILE_CF28             BIGINT,
    FILE_CF29             BIGINT,
    FILE_CF30             BIGINT,
    LOOKUP_CF1            BIGINT,
    LOOKUP_CF2            BIGINT,
    LOOKUP_CF3            BIGINT,
    LOOKUP_CF4            BIGINT,
    LOOKUP_CF5            BIGINT,
    LOOKUP_CF6            BIGINT,
    LOOKUP_CF7            BIGINT,
    LOOKUP_CF8            BIGINT,
    LOOKUP_CF9            BIGINT,
    LOOKUP_CF10           BIGINT,
    LOOKUP_CF11           BIGINT,
    LOOKUP_CF12           BIGINT,
    LOOKUP_CF13           BIGINT,
    LOOKUP_CF14           BIGINT,
    LOOKUP_CF15           BIGINT,
    LOOKUP_CF16           BIGINT,
    LOOKUP_CF17           BIGINT,
    LOOKUP_CF18           BIGINT,
    LOOKUP_CF19           BIGINT,
    LOOKUP_CF20           BIGINT,
    LOOKUP_CF21           BIGINT,
    LOOKUP_CF22           BIGINT,
    LOOKUP_CF23           BIGINT,
    LOOKUP_CF24           BIGINT,
    LOOKUP_CF25           BIGINT,
    LOOKUP_CF26           BIGINT,
    LOOKUP_CF27           BIGINT,
    LOOKUP_CF28           BIGINT,
    LOOKUP_CF29           BIGINT,
    LOOKUP_CF30           BIGINT,
    SCORE_CF1             DOUBLE,
    SCORE_CF2             DOUBLE,
    SCORE_CF3             DOUBLE,
    SCORE_CF4             DOUBLE,
    SCORE_CF5             DOUBLE,
    SCORE_CF6             DOUBLE,
    SCORE_CF7             DOUBLE,
    SCORE_CF8             DOUBLE,
    SCORE_CF9             DOUBLE,
    SCORE_CF10            DOUBLE,
    SCORE_CF11            DOUBLE,
    SCORE_CF12            DOUBLE,
    SCORE_CF13            DOUBLE,
    SCORE_CF14            DOUBLE,
    SCORE_CF15            DOUBLE,
    SCORE_CF16            DOUBLE,
    SCORE_CF17            DOUBLE,
    SCORE_CF18            DOUBLE,
    SCORE_CF19            DOUBLE,
    SCORE_CF20            DOUBLE,
    SCORE_CF21            DOUBLE,
    SCORE_CF22            DOUBLE,
    SCORE_CF23            DOUBLE,
    SCORE_CF24            DOUBLE,
    SCORE_CF25            DOUBLE,
    SCORE_CF26            DOUBLE,
    SCORE_CF27            DOUBLE,
    SCORE_CF28            DOUBLE,
    SCORE_CF29            DOUBLE,
    SCORE_CF30            DOUBLE,
    CONSTRAINT TENANTS_FK_LOGO_ID FOREIGN KEY (LOGO_ID) REFERENCES FacilioFile (FILE_ID),
    CONSTRAINT TENANTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT TENANTS_FK_MODULE_STATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT TENANTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT TENANTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT TENANTS_FK_ZONE_ID FOREIGN KEY (ZONE_ID) REFERENCES Zone (ID),
    CONSTRAINT TENANTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT TENANTS_FK_ADDRESS_ID FOREIGN KEY (ADDRESS_ID) REFERENCES Locations (ID)
);


CREATE TABLE IF NOT EXISTS Vendors
(
    ID                    BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID                 BIGINT       NOT NULL,
    MODULEID              BIGINT       NOT NULL,
    NAME                  VARCHAR(255) NOT NULL,
    DESCRIPTION           VARCHAR(500),
    FORM_ID               BIGINT,
    WEBSITE               VARCHAR(255),
    ADDRESS               BIGINT,
    REGISTERED_BY         BIGINT,
    CREATED_TIME          BIGINT       NOT NULL,
    MODIFIED_TIME         BIGINT,
    HAS_INSURANCE         TINYINT,
    SOURCE_TYPE           TINYINT,
    SOURCE_ID             BIGINT,
    PRIMARY_CONTACT_EMAIL VARCHAR(255),
    PRIMARY_CONTACT_PHONE VARCHAR(20),
    PRIMARY_CONTACT_NAME  VARCHAR(50),
    TENANT_ID             BIGINT,
    MODULE_STATE          BIGINT,
    STATE_FLOW_ID         BIGINT,
    STRING_CF1            VARCHAR(255),
    STRING_CF2            VARCHAR(255),
    STRING_CF3            VARCHAR(255),
    STRING_CF4            VARCHAR(255),
    STRING_CF5            VARCHAR(255),
    STRING_CF6            VARCHAR(255),
    STRING_CF7            VARCHAR(255),
    STRING_CF8            VARCHAR(255),
    STRING_CF9            VARCHAR(255),
    STRING_CF10           VARCHAR(255),
    STRING_CF11           VARCHAR(255),
    STRING_CF12           VARCHAR(255),
    STRING_CF13           VARCHAR(255),
    STRING_CF14           VARCHAR(255),
    STRING_CF15           VARCHAR(255),
    STRING_CF16           VARCHAR(255),
    STRING_CF17           VARCHAR(255),
    STRING_CF18           VARCHAR(255),
    STRING_CF19           VARCHAR(255),
    STRING_CF20           VARCHAR(255),
    STRING_CF21           VARCHAR(255),
    STRING_CF22           VARCHAR(255),
    STRING_CF23           VARCHAR(255),
    STRING_CF24           VARCHAR(255),
    STRING_CF25           VARCHAR(255),
    STRING_CF26           VARCHAR(255),
    STRING_CF27           VARCHAR(255),
    STRING_CF28           VARCHAR(255),
    STRING_CF29           VARCHAR(255),
    STRING_CF30           VARCHAR(255),
    NUMBER_CF1            BIGINT,
    NUMBER_CF2            BIGINT,
    NUMBER_CF3            BIGINT,
    NUMBER_CF4            BIGINT,
    NUMBER_CF5            BIGINT,
    NUMBER_CF6            BIGINT,
    NUMBER_CF7            BIGINT,
    NUMBER_CF8            BIGINT,
    NUMBER_CF9            BIGINT,
    NUMBER_CF10           BIGINT,
    NUMBER_CF11           BIGINT,
    NUMBER_CF12           BIGINT,
    NUMBER_CF13           BIGINT,
    NUMBER_CF14           BIGINT,
    NUMBER_CF15           BIGINT,
    NUMBER_CF16           BIGINT,
    NUMBER_CF17           BIGINT,
    NUMBER_CF18           BIGINT,
    NUMBER_CF19           BIGINT,
    NUMBER_CF20           BIGINT,
    NUMBER_CF21           BIGINT,
    NUMBER_CF22           BIGINT,
    NUMBER_CF23           BIGINT,
    NUMBER_CF24           BIGINT,
    NUMBER_CF25           BIGINT,
    NUMBER_CF26           BIGINT,
    NUMBER_CF27           BIGINT,
    NUMBER_CF28           BIGINT,
    NUMBER_CF29           BIGINT,
    NUMBER_CF30           BIGINT,
    DECIMAL_CF1           DOUBLE,
    DECIMAL_CF2           DOUBLE,
    DECIMAL_CF3           DOUBLE,
    DECIMAL_CF4           DOUBLE,
    DECIMAL_CF5           DOUBLE,
    DECIMAL_CF6           DOUBLE,
    DECIMAL_CF7           DOUBLE,
    DECIMAL_CF8           DOUBLE,
    DECIMAL_CF9           DOUBLE,
    DECIMAL_CF10          DOUBLE,
    DECIMAL_CF11          DOUBLE,
    DECIMAL_CF12          DOUBLE,
    DECIMAL_CF13          DOUBLE,
    DECIMAL_CF14          DOUBLE,
    DECIMAL_CF15          DOUBLE,
    DECIMAL_CF16          DOUBLE,
    DECIMAL_CF17          DOUBLE,
    DECIMAL_CF18          DOUBLE,
    DECIMAL_CF19          DOUBLE,
    DECIMAL_CF20          DOUBLE,
    DECIMAL_CF21          DOUBLE,
    DECIMAL_CF22          DOUBLE,
    DECIMAL_CF23          DOUBLE,
    DECIMAL_CF24          DOUBLE,
    DECIMAL_CF25          DOUBLE,
    DECIMAL_CF26          DOUBLE,
    DECIMAL_CF27          DOUBLE,
    DECIMAL_CF28          DOUBLE,
    DECIMAL_CF29          DOUBLE,
    DECIMAL_CF30          DOUBLE,
    BOOLEAN_CF1           BOOLEAN,
    BOOLEAN_CF2           BOOLEAN,
    BOOLEAN_CF3           BOOLEAN,
    BOOLEAN_CF4           BOOLEAN,
    BOOLEAN_CF5           BOOLEAN,
    BOOLEAN_CF6           BOOLEAN,
    BOOLEAN_CF7           BOOLEAN,
    BOOLEAN_CF8           BOOLEAN,
    BOOLEAN_CF9           BOOLEAN,
    BOOLEAN_CF10          BOOLEAN,
    BOOLEAN_CF11          BOOLEAN,
    BOOLEAN_CF12          BOOLEAN,
    BOOLEAN_CF13          BOOLEAN,
    BOOLEAN_CF14          BOOLEAN,
    BOOLEAN_CF15          BOOLEAN,
    BOOLEAN_CF16          BOOLEAN,
    BOOLEAN_CF17          BOOLEAN,
    BOOLEAN_CF18          BOOLEAN,
    BOOLEAN_CF19          BOOLEAN,
    BOOLEAN_CF20          BOOLEAN,
    BOOLEAN_CF21          BOOLEAN,
    BOOLEAN_CF22          BOOLEAN,
    BOOLEAN_CF23          BOOLEAN,
    BOOLEAN_CF24          BOOLEAN,
    BOOLEAN_CF25          BOOLEAN,
    BOOLEAN_CF26          BOOLEAN,
    BOOLEAN_CF27          BOOLEAN,
    BOOLEAN_CF28          BOOLEAN,
    BOOLEAN_CF29          BOOLEAN,
    BOOLEAN_CF30          BOOLEAN,
    DATE_CF1              BIGINT,
    DATE_CF2              BIGINT,
    DATE_CF3              BIGINT,
    DATE_CF4              BIGINT,
    DATE_CF5              BIGINT,
    DATE_CF6              BIGINT,
    DATE_CF7              BIGINT,
    DATE_CF8              BIGINT,
    DATE_CF9              BIGINT,
    DATE_CF10             BIGINT,
    DATE_CF11             BIGINT,
    DATE_CF12             BIGINT,
    DATE_CF13             BIGINT,
    DATE_CF14             BIGINT,
    DATE_CF15             BIGINT,
    DATE_CF16             BIGINT,
    DATE_CF17             BIGINT,
    DATE_CF18             BIGINT,
    DATE_CF19             BIGINT,
    DATE_CF20             BIGINT,
    DATE_CF21             BIGINT,
    DATE_CF22             BIGINT,
    DATE_CF23             BIGINT,
    DATE_CF24             BIGINT,
    DATE_CF25             BIGINT,
    DATE_CF26             BIGINT,
    DATE_CF27             BIGINT,
    DATE_CF28             BIGINT,
    DATE_CF29             BIGINT,
    DATE_CF30             BIGINT,
    DATETIME_CF1          BIGINT,
    DATETIME_CF2          BIGINT,
    DATETIME_CF3          BIGINT,
    DATETIME_CF4          BIGINT,
    DATETIME_CF5          BIGINT,
    DATETIME_CF6          BIGINT,
    DATETIME_CF7          BIGINT,
    DATETIME_CF8          BIGINT,
    DATETIME_CF9          BIGINT,
    DATETIME_CF10         BIGINT,
    DATETIME_CF11         BIGINT,
    DATETIME_CF12         BIGINT,
    DATETIME_CF13         BIGINT,
    DATETIME_CF14         BIGINT,
    DATETIME_CF15         BIGINT,
    DATETIME_CF16         BIGINT,
    DATETIME_CF17         BIGINT,
    DATETIME_CF18         BIGINT,
    DATETIME_CF19         BIGINT,
    DATETIME_CF20         BIGINT,
    DATETIME_CF21         BIGINT,
    DATETIME_CF22         BIGINT,
    DATETIME_CF23         BIGINT,
    DATETIME_CF24         BIGINT,
    DATETIME_CF25         BIGINT,
    DATETIME_CF26         BIGINT,
    DATETIME_CF27         BIGINT,
    DATETIME_CF28         BIGINT,
    DATETIME_CF29         BIGINT,
    DATETIME_CF30         BIGINT,
    ENUM_CF1              INTEGER,
    ENUM_CF2              INTEGER,
    ENUM_CF3              INTEGER,
    ENUM_CF4              INTEGER,
    ENUM_CF5              INTEGER,
    ENUM_CF6              INTEGER,
    ENUM_CF7              INTEGER,
    ENUM_CF8              INTEGER,
    ENUM_CF9              INTEGER,
    ENUM_CF10             INTEGER,
    ENUM_CF11             INTEGER,
    ENUM_CF12             INTEGER,
    ENUM_CF13             INTEGER,
    ENUM_CF14             INTEGER,
    ENUM_CF15             INTEGER,
    ENUM_CF16             INTEGER,
    ENUM_CF17             INTEGER,
    ENUM_CF18             INTEGER,
    ENUM_CF19             INTEGER,
    ENUM_CF20             INTEGER,
    ENUM_CF21             INTEGER,
    ENUM_CF22             INTEGER,
    ENUM_CF23             INTEGER,
    ENUM_CF24             INTEGER,
    ENUM_CF25             INTEGER,
    ENUM_CF26             INTEGER,
    ENUM_CF27             INTEGER,
    ENUM_CF28             INTEGER,
    ENUM_CF29             INTEGER,
    ENUM_CF30             INTEGER,
    FILE_CF1              BIGINT,
    FILE_CF2              BIGINT,
    FILE_CF3              BIGINT,
    FILE_CF4              BIGINT,
    FILE_CF5              BIGINT,
    FILE_CF6              BIGINT,
    FILE_CF7              BIGINT,
    FILE_CF8              BIGINT,
    FILE_CF9              BIGINT,
    FILE_CF10             BIGINT,
    FILE_CF11             BIGINT,
    FILE_CF12             BIGINT,
    FILE_CF13             BIGINT,
    FILE_CF14             BIGINT,
    FILE_CF15             BIGINT,
    FILE_CF16             BIGINT,
    FILE_CF17             BIGINT,
    FILE_CF18             BIGINT,
    FILE_CF19             BIGINT,
    FILE_CF20             BIGINT,
    FILE_CF21             BIGINT,
    FILE_CF22             BIGINT,
    FILE_CF23             BIGINT,
    FILE_CF24             BIGINT,
    FILE_CF25             BIGINT,
    FILE_CF26             BIGINT,
    FILE_CF27             BIGINT,
    FILE_CF28             BIGINT,
    FILE_CF29             BIGINT,
    FILE_CF30             BIGINT,

    LOOKUP_CF1            BIGINT,
    LOOKUP_CF2            BIGINT,
    LOOKUP_CF3            BIGINT,
    LOOKUP_CF4            BIGINT,
    LOOKUP_CF5            BIGINT,
    LOOKUP_CF6            BIGINT,
    LOOKUP_CF7            BIGINT,
    LOOKUP_CF8            BIGINT,
    LOOKUP_CF9            BIGINT,
    LOOKUP_CF10           BIGINT,
    LOOKUP_CF11           BIGINT,
    LOOKUP_CF12           BIGINT,
    LOOKUP_CF13           BIGINT,
    LOOKUP_CF14           BIGINT,
    LOOKUP_CF15           BIGINT,
    LOOKUP_CF16           BIGINT,
    LOOKUP_CF17           BIGINT,
    LOOKUP_CF18           BIGINT,
    LOOKUP_CF19           BIGINT,
    LOOKUP_CF20           BIGINT,
    LOOKUP_CF21           BIGINT,
    LOOKUP_CF22           BIGINT,
    LOOKUP_CF23           BIGINT,
    LOOKUP_CF24           BIGINT,
    LOOKUP_CF25           BIGINT,
    LOOKUP_CF26           BIGINT,
    LOOKUP_CF27           BIGINT,
    LOOKUP_CF28           BIGINT,
    LOOKUP_CF29           BIGINT,
    LOOKUP_CF30           BIGINT,
    SCORE_CF1             DOUBLE,
    SCORE_CF2             DOUBLE,
    SCORE_CF3             DOUBLE,
    SCORE_CF4             DOUBLE,
    SCORE_CF5             DOUBLE,
    SCORE_CF6             DOUBLE,
    SCORE_CF7             DOUBLE,
    SCORE_CF8             DOUBLE,
    SCORE_CF9             DOUBLE,
    SCORE_CF10            DOUBLE,
    SCORE_CF11            DOUBLE,
    SCORE_CF12            DOUBLE,
    SCORE_CF13            DOUBLE,
    SCORE_CF14            DOUBLE,
    SCORE_CF15            DOUBLE,
    SCORE_CF16            DOUBLE,
    SCORE_CF17            DOUBLE,
    SCORE_CF18            DOUBLE,
    SCORE_CF19            DOUBLE,
    SCORE_CF20            DOUBLE,
    SCORE_CF21            DOUBLE,
    SCORE_CF22            DOUBLE,
    SCORE_CF23            DOUBLE,
    SCORE_CF24            DOUBLE,
    SCORE_CF25            DOUBLE,
    SCORE_CF26            DOUBLE,
    SCORE_CF27            DOUBLE,
    SCORE_CF28            DOUBLE,
    SCORE_CF29            DOUBLE,
    SCORE_CF30            DOUBLE,
    CONSTRAINT VENDORS_FK_MODULE_STATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT VENDORS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT VENDORS_FK_ADDRESS FOREIGN KEY (ADDRESS) REFERENCES Locations (ID),
    CONSTRAINT VENDORS_FK_REGISTERED_BY FOREIGN KEY (REGISTERED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT VENDORS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT VENDORS_FK_STATUS_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT VENDORS_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID)
);

CREATE TABLE IF NOT EXISTS Contracts (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255),
	DESCRIPTION VARCHAR(255),
	VENDOR BIGINT,
	STATUS TINYINT,
	TOTAL_COST DOUBLE,
	FROM_DATE BIGINT(20),
	END_DATE BIGINT(20),
	RENEWAL_DATE BIGINT(20),
	CONTRACT_TYPE TINYINT,
	REVISION_NUMBER BIGINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	SITE_ID BIGINT,
	PARENT_ID BIGINT,
	FORM_ID BIGINT,
	FREQUENCY_TYPE TINYINT,
    SCHEDULE_MONTH INTEGER,
    SCHEDULE_DAY INTEGER,
    SCHEDULE_TIME BIGINT,
    PAYMENT_INTERVAL INTEGER,
    NEXT_PAYMENT_DATE BIGINT,
  	CONSTRAINT CONTRACTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT CONTRACTS_FK_VENDOR FOREIGN KEY (VENDOR) REFERENCES Vendors(ID),
	CONSTRAINT CONTRACTS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT CONTRACTS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT CONTRACTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT CONTRACTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
	CONSTRAINT CONTRACTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS Workflow_Rule (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(1000),
	CRITERIAID BIGINT,
	MODULEID BIGINT,
	ACTIVITY_TYPE INT,
	WORKFLOW_ID BIGINT,
	EXECUTION_ORDER INT,
	STATUS BOOLEAN,
	RULE_TYPE INT NOT NULL,
	PARENT_RULE_ID BIGINT,
	ON_SUCCESS BOOLEAN,
	VERSION_GROUP_ID BIGINT,
	VERSION_NO INT,
	IS_LATEST_VERSION BOOLEAN NOT NULL,
	SCHEDULE_INFO VARCHAR(1000) DEFAULT NULL,
	DATE_FIELD_ID BIGINT,
	SCHEDULE_TYPE BIGINT,
	TIME_INTERVAL BIGINT,
	JOB_TIME VARCHAR(5),
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,
	PARENT_ID BIGINT,
	CONSTRAINT WORKFLOW_RULE_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT WORKFLOW_RULE_CRITERIAID_FK FOREIGN KEY (CRITERIAID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT WORKFLOW_RULE_WORKFLOW_ID_FK FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow(ID),
	CONSTRAINT WORKFLOW_RULE_PARENT_RULE_ID_FK FOREIGN KEY (PARENT_RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT WORKFLOW_RULE_DATE_FIELD_ID_FK FOREIGN KEY (DATE_FIELD_ID) REFERENCES Fields(FIELDID)
);
-- ALTER TABLE Workflow_Rule ADD INDEX WORKFLOW_RULE_PERF_IMPROV (ORGID,MODULEID,STATUS,PARENT_ID,PARENT_RULE_ID,EXECUTION_ORDER), LOCK=NONE, ALGORITHM=INPLACE;

CREATE TABLE IF NOT EXISTS Workflow_Field_Change_Fields (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RULE_ID BIGINT NOT NULL,
	FIELD_ID BIGINT NOT NULL,
	OLD_VALUE VARCHAR(500),
	NEW_VALUE VARCHAR(500),
	CONSTRAINT WORKFLOW_FIELD_CHANGE_FIELDS_UNIQUE UNIQUE (ORGID, RULE_ID, FIELD_ID),
	CONSTRAINT WORKFLOW_FIELD_CHANGE_FIELDS_RULE_ID_FK FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT WORKFLOW_FIELD_CHANGE_FIELDS_FIELD_ID_FK FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Templates (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(500) NOT NULL,
	TEMPLATE_TYPE INT,
	PLACEHOLDER VARCHAR(250),
	WORKFLOW_ID BIGINT,
	IS_FTL BOOLEAN,
	CONSTRAINT TEMPLATES_WORKFLOW_ID_FK FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow(ID)
);

CREATE TABLE IF NOT EXISTS Action (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ACTION_TYPE INT NOT NULL,
	DEFAULT_TEMPLATE_ID INT,
	TEMPLATE_ID BIGINT,
	STATUS BOOLEAN,
	CONSTRAINT ACTION_TEMPLATE_FK FOREIGN KEY (TEMPLATE_ID) REFERENCES Templates(ID)
);

CREATE TABLE IF NOT EXISTS Workflow_Rule_Action (
	WORKFLOW_RULE_ACTION_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	WORKFLOW_RULE_ID BIGINT NOT NULL,
	ACTION_ID BIGINT NOT NULL,
	CONSTRAINT WORKFLOW_ACTION_RULE_WORKFLOW_ID_FK FOREIGN KEY (WORKFLOW_RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT WORKFLOW_ACTION_RULE_ACTION_ID_FK FOREIGN KEY (ACTION_ID) REFERENCES Action(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Excel_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	EXCEL_FILE_ID BIGINT,
	CONSTRAINT EXCEL_TEMPLATES_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT EXCEL_FILE_ID_FK FOREIGN KEY (EXCEL_FILE_ID) REFERENCES FacilioFile(FILE_ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS StateFlow (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	DEFAULT_STATE_ID BIGINT NOT NULL,
	DEFAULT_STATE_FLOW BOOLEAN,
	DIAGRAM_JSON TEXT,
	DRAFT_PARENT_ID BIGINT,
	DRAFT BOOLEAN,
	FORM_LEVEL BOOLEAN,
	PUBLISHED_DATE BIGINT,
	CONFIG_JSON VARCHAR(1000),
	CONSTRAINT STATEFLOW_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT STATEFLOW_FK_DRAFTPARENTID FOREIGN KEY (DRAFT_PARENT_ID) REFERENCES StateFlow (ID) ON DELETE CASCADE,
	CONSTRAINT STATEFLOW_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID)
);

CREATE TABLE IF NOT EXISTS StateFlowTransition (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FROM_STATE_ID BIGINT NOT NULL,
	TO_STATE_ID BIGINT NOT NULL,
	FORM_ID BIGINT,
	FORM_MODULE_NAME VARCHAR(100),
	DIALOG_TYPE TINYINT,
	STATE_FLOW_ID BIGINT NOT NULL,
	ALL_APPROVAL_REQUIRED BOOLEAN,
	APPROVAL_ORDER TINYINT,
	BUTTON_TYPE TINYINT,
	TYPE TINYINT NOT NULL DEFAULT 1,
	SCHEDULE_TIME INT,
	PARALLEL_TRANSITION BOOLEAN,
	SHOW_IN_TENANT_PORTAL BOOLEAN,
	SHOW_IN_VENDOR_PORTAL BOOLEAN,
	SHOULD_EXECUTE_FROM_PERMALINK BOOLEAN,
	CONSTRAINT STATEFLOWTRANS_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
	CONSTRAINT STATEFLOWTRANS_FK_FROMSTATE FOREIGN KEY (FROM_STATE_ID) REFERENCES TicketStatus (ID),
	CONSTRAINT STATEFLOWTRANS_FK_TOSTATE FOREIGN KEY (TO_STATE_ID) REFERENCES TicketStatus (ID),
	CONSTRAINT STATEFLOWTRANS_FK_FORMID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
	CONSTRAINT STATEFLOWTRANS_FK_STATEFLOW FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
	CONSTRAINT STATEFLOWTRANS_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ParallelStateTransitionStatus (
    ID BIGINT  AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    PARENT_ID BIGINT NOT NULL,
    FROM_STATE_ID BIGINT NOT NULL,
    TO_STATE_ID BIGINT NOT NULL,
    STATE_TRANSITION_ID BIGINT NOT NULL,

    CONSTRAINT PARALLELSTATUS_FK_FROMSTATEID FOREIGN KEY (FROM_STATE_ID) REFERENCES TicketStatus (ID) ON DELETE CASCADE,
    CONSTRAINT PARALLELSTATUS_FK_TOSTATEID FOREIGN KEY (TO_STATE_ID) REFERENCES TicketStatus (ID) ON DELETE CASCADE,
    CONSTRAINT PARALLELSTATUS_FK_TRANSITIONID FOREIGN KEY (STATE_TRANSITION_ID) REFERENCES StateFlowTransition (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS StateFlowScheduler (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	RECORD_ID BIGINT NOT NULL,
	TRANSITION_ID BIGINT NOT NULL,
	CONSTRAINT RECORDTRANS_FK_TID FOREIGN KEY (TRANSITION_ID) REFERENCES StateFlowTransition (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Purchase_Orders
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    NAME               VARCHAR(255),
    DESCRIPTION        VARCHAR(255),
    VENDOR             BIGINT,
    STOREROOM          BIGINT,
    STATUS             TINYINT,
    TOTAL_COST         DOUBLE,
    FORM_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT(20),
    SYS_MODIFIED_TIME  BIGINT(20),
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    COMPLETED_TIME     BIGINT,
    LOCAL_ID           BIGINT(20),
    SITE_ID            BIGINT,
    TOTAL_QUANTITY     DOUBLE,
    SHIP_TO_ADDRESS_ID BIGINT(20),
    BILL_TO_ADDRESS_ID BIGINT(20),
    ORDERED_TIME       BIGINT(20),
    REQUIRED_TIME      BIGINT(20),
    REQUESTED_BY       BIGINT,
    QUANTITY_RECEIVED  DOUBLE,
    CONTRACT_ID        BIGINT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    RECEIVABLE_STATUS  TINYINT,
    SUB_TOTAL                  DOUBLE,
    TOTAL_TAX_AMOUNT    DOUBLE,
    DISCOUNT_AMOUNT     DOUBLE,
    DISCOUNT_PERCENTAGE DOUBLE,
    TAX_ID              BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT PURCHASE_ORDERS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_VENDOR FOREIGN KEY (VENDOR) REFERENCES Vendors (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_STORE_ROOM FOREIGN KEY (STOREROOM) REFERENCES Store_room (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_SHIP_TO_ADDRESS_ID FOREIGN KEY (SHIP_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_BILL_TO_ADDRESS_ID FOREIGN KEY (BILL_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
    CONSTRAINT PURCHASE_ORDERS_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT PURCHASE_ORDERS_FK_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES Contracts (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID)
);

CREATE TABLE IF NOT EXISTS Asset_Types (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(225),
	IS_MOVABLE BOOLEAN,
	CONSTRAINT ASSET_TYPES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Asset_Categories (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255),
	CATEGORY_TYPE TINYINT NOT NULL,
	PARENT_CATEGORY_ID BIGINT,
	ASSET_MODULEID BIGINT,
	IS_DEFAULT BOOLEAN,
	DISPLAY_NAME varchar(250),
	CONSTRAINT ASSET_CATEGORIES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSET_CATEGORIES_FK_PARENT_CATEGORY_ID FOREIGN KEY (PARENT_CATEGORY_ID) REFERENCES Asset_Categories(ID),
	CONSTRAINT ASSET_CATEGORIES_FK_ASSET_MODULEID FOREIGN KEY (ASSET_MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS RecommendedRule(
	ID BIGINT  AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RULE_ID BIGINT,
	CATEGORY_ID BIGINT,
	CONSTRAINT FOREIGN KEY (CATEGORY_ID) REFERENCES Asset_Categories(ID)
);

CREATE TABLE IF NOT EXISTS Asset_Category_Readings (
	ORGID BIGINT NOT NULL,
	PARENT_CATEGORY_ID BIGINT,
	READING_MODULE_ID BIGINT,
	PRIMARY KEY (PARENT_CATEGORY_ID, READING_MODULE_ID),
	CONSTRAINT ASSET_CATEGORY_READINGS_PARENT_FK FOREIGN KEY (PARENT_CATEGORY_ID) REFERENCES Asset_Categories(ID),
	CONSTRAINT ASSET_CATEGORY_READINGS_CHILD_FK FOREIGN KEY (READING_MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Asset_Departments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50),
	CONSTRAINT ASSET_DEPARTMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Assets
(
    ID                          BIGINT PRIMARY KEY,
    ORGID                       BIGINT  NOT NULL,
    MODULEID                    BIGINT  NOT NULL,
    STATE                       TINYINT,
    ASSET_TYPE                  BIGINT,
    CATEGORY                    BIGINT NOT NULL,
    PARENT_ASSET_ID             BIGINT,
    DEPARTMENT_ID               BIGINT,
    MANUFACTURER                VARCHAR(100),
    MODEL                       VARCHAR(100),
    SERIAL_NUMBER               VARCHAR(100),
    TAG_NUMBER                  VARCHAR(100),
    PART_NUMBER                 VARCHAR(100),
    UNIT_PRICE                  INT,
    SUPPLIER                    VARCHAR(100),
    PURCHASED_DATE              BIGINT,
    RETIRE_DATE                 BIGINT,
    WARRANTY_EXPIRY_DATE        BIGINT,
    LOCAL_ID                    INT,
    HIDE_TO_CUSTOMER            BOOLEAN,
    GEO_LOCATION                VARCHAR(100),
    CURRENT_LOCATION            VARCHAR(100),
    BOUNDARY_RADIUS             INT,
    IS_DESIGNATED_LOCATION      BOOLEAN,
    DISTANCE_MOVED              DOUBLE,
    GEO_TRACKING_ENABLED        BOOLEAN,
    IDENTIFIED_LOCATION         BIGINT,
    IS_CONNECTED                BOOLEAN,
    IS_MOVE_APPROVAL_NEEDED     TINYINT,
    CURRENT_SPACE_ID            BIGINT,
    SITE_ID                     BIGINT  NOT NULL,
    MODULE_STATE                BIGINT DEFAULT NULL,
    STATE_FLOW_ID               BIGINT DEFAULT NULL,
    ROTATING_ITEM               BIGINT,
    ROTATING_TOOL               BIGINT,
    PO_ID                       BIGINT,
    IS_USED                     BOOLEAN,
    DOWNTIME_STATUS             TINYINT NULL,
    LAST_DOWNTIME_ID            BIGINT  NULL,
    LAST_ISSUED_TO_USERID       BIGINT,
    LAST_ISSUED_TO_TIME         BIGINT,
    LAST_ISSUED_TO_WORKORDER_ID BIGINT,
    SALVAGE_AMOUNT              INT,
    CURRENT_PRICE               INT,
    STRING_CF1                  VARCHAR(255),
    STRING_CF2                  VARCHAR(255),
    STRING_CF3                  VARCHAR(255),
    STRING_CF4                  VARCHAR(255),
    STRING_CF5                  VARCHAR(255),
    STRING_CF6                  VARCHAR(255),
    STRING_CF7                  VARCHAR(255),
    STRING_CF8                  VARCHAR(255),
    STRING_CF9                  VARCHAR(255),
    STRING_CF10                 VARCHAR(255),
    STRING_CF11                 VARCHAR(255),
    STRING_CF12                 VARCHAR(255),
    STRING_CF13                 VARCHAR(255),
    STRING_CF14                 VARCHAR(255),
    STRING_CF15                 VARCHAR(255),
    STRING_CF16                 VARCHAR(255),
    STRING_CF17                 VARCHAR(255),
    STRING_CF18                 VARCHAR(255),
    STRING_CF19                 VARCHAR(255),
    STRING_CF20                 VARCHAR(255),
    STRING_CF21                 VARCHAR(255),
    STRING_CF22                 VARCHAR(255),
    STRING_CF23                 VARCHAR(255),
    STRING_CF24                 VARCHAR(255),
    STRING_CF25                 VARCHAR(255),
    STRING_CF26                 VARCHAR(255),
    STRING_CF27                 VARCHAR(255),
    STRING_CF28                 VARCHAR(255),
    STRING_CF29                 VARCHAR(255),
    STRING_CF30                 VARCHAR(255),
    NUMBER_CF1                  BIGINT,
    NUMBER_CF2                  BIGINT,
    NUMBER_CF3                  BIGINT,
    NUMBER_CF4                  BIGINT,
    NUMBER_CF5                  BIGINT,
    NUMBER_CF6                  BIGINT,
    NUMBER_CF7                  BIGINT,
    NUMBER_CF8                  BIGINT,
    NUMBER_CF9                  BIGINT,
    NUMBER_CF10                 BIGINT,
    NUMBER_CF11                 BIGINT,
    NUMBER_CF12                 BIGINT,
    NUMBER_CF13                 BIGINT,
    NUMBER_CF14                 BIGINT,
    NUMBER_CF15                 BIGINT,
    NUMBER_CF16                 BIGINT,
    NUMBER_CF17                 BIGINT,
    NUMBER_CF18                 BIGINT,
    NUMBER_CF19                 BIGINT,
    NUMBER_CF20                 BIGINT,
    NUMBER_CF21                 BIGINT,
    NUMBER_CF22                 BIGINT,
    NUMBER_CF23                 BIGINT,
    NUMBER_CF24                 BIGINT,
    NUMBER_CF25                 BIGINT,
    NUMBER_CF26                 BIGINT,
    NUMBER_CF27                 BIGINT,
    NUMBER_CF28                 BIGINT,
    NUMBER_CF29                 BIGINT,
    NUMBER_CF30                 BIGINT,
    DECIMAL_CF1                 DOUBLE,
    DECIMAL_CF2                 DOUBLE,
    DECIMAL_CF3                 DOUBLE,
    DECIMAL_CF4                 DOUBLE,
    DECIMAL_CF5                 DOUBLE,
    DECIMAL_CF6                 DOUBLE,
    DECIMAL_CF7                 DOUBLE,
    DECIMAL_CF8                 DOUBLE,
    DECIMAL_CF9                 DOUBLE,
    DECIMAL_CF10                DOUBLE,
    DECIMAL_CF11                DOUBLE,
    DECIMAL_CF12                DOUBLE,
    DECIMAL_CF13                DOUBLE,
    DECIMAL_CF14                DOUBLE,
    DECIMAL_CF15                DOUBLE,
    DECIMAL_CF16                DOUBLE,
    DECIMAL_CF17                DOUBLE,
    DECIMAL_CF18                DOUBLE,
    DECIMAL_CF19                DOUBLE,
    DECIMAL_CF20                DOUBLE,
    DECIMAL_CF21                DOUBLE,
    DECIMAL_CF22                DOUBLE,
    DECIMAL_CF23                DOUBLE,
    DECIMAL_CF24                DOUBLE,
    DECIMAL_CF25                DOUBLE,
    DECIMAL_CF26                DOUBLE,
    DECIMAL_CF27                DOUBLE,
    DECIMAL_CF28                DOUBLE,
    DECIMAL_CF29                DOUBLE,
    DECIMAL_CF30                DOUBLE,
    BOOLEAN_CF1                 BOOLEAN,
    BOOLEAN_CF2                 BOOLEAN,
    BOOLEAN_CF3                 BOOLEAN,
    BOOLEAN_CF4                 BOOLEAN,
    BOOLEAN_CF5                 BOOLEAN,
    BOOLEAN_CF6                 BOOLEAN,
    BOOLEAN_CF7                 BOOLEAN,
    BOOLEAN_CF8                 BOOLEAN,
    BOOLEAN_CF9                 BOOLEAN,
    BOOLEAN_CF10                BOOLEAN,
    BOOLEAN_CF11                BOOLEAN,
    BOOLEAN_CF12                BOOLEAN,
    BOOLEAN_CF13                BOOLEAN,
    BOOLEAN_CF14                BOOLEAN,
    BOOLEAN_CF15                BOOLEAN,
    BOOLEAN_CF16                BOOLEAN,
    BOOLEAN_CF17                BOOLEAN,
    BOOLEAN_CF18                BOOLEAN,
    BOOLEAN_CF19                BOOLEAN,
    BOOLEAN_CF20                BOOLEAN,
    BOOLEAN_CF21                BOOLEAN,
    BOOLEAN_CF22                BOOLEAN,
    BOOLEAN_CF23                BOOLEAN,
    BOOLEAN_CF24                BOOLEAN,
    BOOLEAN_CF25                BOOLEAN,
    BOOLEAN_CF26                BOOLEAN,
    BOOLEAN_CF27                BOOLEAN,
    BOOLEAN_CF28                BOOLEAN,
    BOOLEAN_CF29                BOOLEAN,
    BOOLEAN_CF30                BOOLEAN,
    DATE_CF1                    BIGINT,
    DATE_CF2                    BIGINT,
    DATE_CF3                    BIGINT,
    DATE_CF4                    BIGINT,
    DATE_CF5                    BIGINT,
    DATE_CF6                    BIGINT,
    DATE_CF7                    BIGINT,
    DATE_CF8                    BIGINT,
    DATE_CF9                    BIGINT,
    DATE_CF10                   BIGINT,
    DATE_CF11                   BIGINT,
    DATE_CF12                   BIGINT,
    DATE_CF13                   BIGINT,
    DATE_CF14                   BIGINT,
    DATE_CF15                   BIGINT,
    DATE_CF16                   BIGINT,
    DATE_CF17                   BIGINT,
    DATE_CF18                   BIGINT,
    DATE_CF19                   BIGINT,
    DATE_CF20                   BIGINT,
    DATE_CF21                   BIGINT,
    DATE_CF22                   BIGINT,
    DATE_CF23                   BIGINT,
    DATE_CF24                   BIGINT,
    DATE_CF25                   BIGINT,
    DATE_CF26                   BIGINT,
    DATE_CF27                   BIGINT,
    DATE_CF28                   BIGINT,
    DATE_CF29                   BIGINT,
    DATE_CF30                   BIGINT,
    DATETIME_CF1                BIGINT,
    DATETIME_CF2                BIGINT,
    DATETIME_CF3                BIGINT,
    DATETIME_CF4                BIGINT,
    DATETIME_CF5                BIGINT,
    DATETIME_CF6                BIGINT,
    DATETIME_CF7                BIGINT,
    DATETIME_CF8                BIGINT,
    DATETIME_CF9                BIGINT,
    DATETIME_CF10               BIGINT,
    DATETIME_CF11               BIGINT,
    DATETIME_CF12               BIGINT,
    DATETIME_CF13               BIGINT,
    DATETIME_CF14               BIGINT,
    DATETIME_CF15               BIGINT,
    DATETIME_CF16               BIGINT,
    DATETIME_CF17               BIGINT,
    DATETIME_CF18               BIGINT,
    DATETIME_CF19               BIGINT,
    DATETIME_CF20               BIGINT,
    DATETIME_CF21               BIGINT,
    DATETIME_CF22               BIGINT,
    DATETIME_CF23               BIGINT,
    DATETIME_CF24               BIGINT,
    DATETIME_CF25               BIGINT,
    DATETIME_CF26               BIGINT,
    DATETIME_CF27               BIGINT,
    DATETIME_CF28               BIGINT,
    DATETIME_CF29               BIGINT,
    DATETIME_CF30               BIGINT,
    ENUM_CF1                    INTEGER,
    ENUM_CF2                    INTEGER,
    ENUM_CF3                    INTEGER,
    ENUM_CF4                    INTEGER,
    ENUM_CF5                    INTEGER,
    ENUM_CF6                    INTEGER,
    ENUM_CF7                    INTEGER,
    ENUM_CF8                    INTEGER,
    ENUM_CF9                    INTEGER,
    ENUM_CF10                   INTEGER,
    ENUM_CF11                   INTEGER,
    ENUM_CF12                   INTEGER,
    ENUM_CF13                   INTEGER,
    ENUM_CF14                   INTEGER,
    ENUM_CF15                   INTEGER,
    ENUM_CF16                   INTEGER,
    ENUM_CF17                   INTEGER,
    ENUM_CF18                   INTEGER,
    ENUM_CF19                   INTEGER,
    ENUM_CF20                   INTEGER,
    ENUM_CF21                   INTEGER,
    ENUM_CF22                   INTEGER,
    ENUM_CF23                   INTEGER,
    ENUM_CF24                   INTEGER,
    ENUM_CF25                   INTEGER,
    ENUM_CF26                   INTEGER,
    ENUM_CF27                   INTEGER,
    ENUM_CF28                   INTEGER,
    ENUM_CF29                   INTEGER,
    ENUM_CF30                   INTEGER,
    FILE_CF1                    BIGINT,
    FILE_CF2                    BIGINT,
    FILE_CF3                    BIGINT,
    FILE_CF4                    BIGINT,
    FILE_CF5                    BIGINT,
    FILE_CF6                    BIGINT,
    FILE_CF7                    BIGINT,
    FILE_CF8                    BIGINT,
    FILE_CF9                    BIGINT,
    FILE_CF10                   BIGINT,
    FILE_CF11                   BIGINT,
    FILE_CF12                   BIGINT,
    FILE_CF13                   BIGINT,
    FILE_CF14                   BIGINT,
    FILE_CF15                   BIGINT,
    FILE_CF16                   BIGINT,
    FILE_CF17                   BIGINT,
    FILE_CF18                   BIGINT,
    FILE_CF19                   BIGINT,
    FILE_CF20                   BIGINT,
    FILE_CF21                   BIGINT,
    FILE_CF22                   BIGINT,
    FILE_CF23                   BIGINT,
    FILE_CF24                   BIGINT,
    FILE_CF25                   BIGINT,
    FILE_CF26                   BIGINT,
    FILE_CF27                   BIGINT,
    FILE_CF28                   BIGINT,
    FILE_CF29                   BIGINT,
    FILE_CF30                   BIGINT,
    LOOKUP_CF1                  BIGINT,
    LOOKUP_CF2                  BIGINT,
    LOOKUP_CF3                  BIGINT,
    LOOKUP_CF4                  BIGINT,
    LOOKUP_CF5                  BIGINT,
    LOOKUP_CF6                  BIGINT,
    LOOKUP_CF7                  BIGINT,
    LOOKUP_CF8                  BIGINT,
    LOOKUP_CF9                  BIGINT,
    LOOKUP_CF10                 BIGINT,
    LOOKUP_CF11                 BIGINT,
    LOOKUP_CF12                 BIGINT,
    LOOKUP_CF13                 BIGINT,
    LOOKUP_CF14                 BIGINT,
    LOOKUP_CF15                 BIGINT,
    LOOKUP_CF16                 BIGINT,
    LOOKUP_CF17                 BIGINT,
    LOOKUP_CF18                 BIGINT,
    LOOKUP_CF19                 BIGINT,
    LOOKUP_CF20                 BIGINT,
    LOOKUP_CF21                 BIGINT,
    LOOKUP_CF22                 BIGINT,
    LOOKUP_CF23                 BIGINT,
    LOOKUP_CF24                 BIGINT,
    LOOKUP_CF25                 BIGINT,
    LOOKUP_CF26                 BIGINT,
    LOOKUP_CF27                 BIGINT,
    LOOKUP_CF28                 BIGINT,
    LOOKUP_CF29                 BIGINT,
    LOOKUP_CF30                 BIGINT,
    SCORE_CF1                   DOUBLE,
    SCORE_CF2                   DOUBLE,
    SCORE_CF3                   DOUBLE,
    SCORE_CF4                   DOUBLE,
    SCORE_CF5                   DOUBLE,
    SCORE_CF6                   DOUBLE,
    SCORE_CF7                   DOUBLE,
    SCORE_CF8                   DOUBLE,
    SCORE_CF9                   DOUBLE,
    SCORE_CF10                  DOUBLE,
    SCORE_CF11                  DOUBLE,
    SCORE_CF12                  DOUBLE,
    SCORE_CF13                  DOUBLE,
    SCORE_CF14                  DOUBLE,
    SCORE_CF15                  DOUBLE,
    SCORE_CF16                  DOUBLE,
    SCORE_CF17                  DOUBLE,
    SCORE_CF18                  DOUBLE,
    SCORE_CF19                  DOUBLE,
    SCORE_CF20                  DOUBLE,
    SCORE_CF21                  DOUBLE,
    SCORE_CF22                  DOUBLE,
    SCORE_CF23                  DOUBLE,
    SCORE_CF24                  DOUBLE,
    SCORE_CF25                  DOUBLE,
    SCORE_CF26                  DOUBLE,
    SCORE_CF27                  DOUBLE,
    SCORE_CF28                  DOUBLE,
    SCORE_CF29                  DOUBLE,
    SCORE_CF30                  DOUBLE,
    CONSTRAINT ASSET_FK_ID FOREIGN KEY (ID) REFERENCES Resources (ID) ON DELETE CASCADE,
    CONSTRAINT ASSET_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ASSET_FK_ASSET_TYPE FOREIGN KEY (ASSET_TYPE) REFERENCES Asset_Types (ID) ON DELETE SET NULL,
    CONSTRAINT ASSET_FK_CATEGORY FOREIGN KEY (CATEGORY) REFERENCES Asset_Categories (ID),
    CONSTRAINT ASSET_FK_PARENT_ASSET_ID FOREIGN KEY (PARENT_ASSET_ID) REFERENCES Assets (ID),
    CONSTRAINT ASSET_FK_DEPARTMENT_ID FOREIGN KEY (DEPARTMENT_ID) REFERENCES Asset_Departments (ID) ON DELETE SET NULL,
    CONSTRAINT ASSET_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT ASSET_FK_IDENTIFIED_LOCATION FOREIGN KEY (IDENTIFIED_LOCATION) REFERENCES Site (ID),
    CONSTRAINT ASSET_FK_ROTATING_ITEM FOREIGN KEY (ROTATING_ITEM) REFERENCES Item (ID),
    CONSTRAINT ASSET_FK_ROTATING_TOOL FOREIGN KEY (ROTATING_TOOL) REFERENCES Tool (ID),
    CONSTRAINT ASSET_FK_ISSUED_TO_USER_ID FOREIGN KEY (LAST_ISSUED_TO_USERID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Assets_FK_CURRENT_SPACE FOREIGN KEY (CURRENT_SPACE_ID) REFERENCES Resources (ID)
);
CREATE INDEX ASSETS_LOCAL_ID ON Assets (ORGID,MODULEID,LOCAL_ID);
CREATE INDEX ASSETS_TYPE ON Assets (ORGID,MODULEID,ASSET_TYPE);

CREATE TABLE IF NOT EXISTS  Relationship (
  ID BIGINT(20) AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  NAME VARCHAR(45) NOT NULL,
  TYPE TINYINT(4) NOT NULL
);

CREATE TABLE IF NOT EXISTS  Related_Assets (
  ID BIGINT(20) AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  SOURCE_ID BIGINT(20) NULL,
  TARGET_ID BIGINT(20) NULL,
  RELATION_ID BIGINT(20) NULL,
  CONSTRAINT RELATED_ASSETES_SOURCE_ID_FK FOREIGN KEY (SOURCE_ID) REFERENCES Assets (ID) ON DELETE CASCADE,
  CONSTRAINT RELATED_ASSETES_TARGET_ID_FK FOREIGN KEY (TARGET_ID) REFERENCES Assets (ID) ON DELETE CASCADE,
  CONSTRAINT RELATED_ASSETES_RELATION_ID_FK FOREIGN KEY (RELATION_ID) REFERENCES Relationship (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Asset_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	ACTIVITY_TYPE TINYINT NOT NULL,
	DONE_BY_ID BIGINT NOT NULL,
	INFO VARCHAR(5000),
	CONSTRAINT ASSET_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSET_ACTIVITY_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT ASSET_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ASSET_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ASSET_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS AssetDepreciation (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FORM_ID BIGINT,
	NAME VARCHAR(50) NOT NULL,
	DEPRECIATION_TYPE BIGINT,
	FREQUENCY INT NOT NULL,
	FREQUENCY_TYPE TINYINT NOT NULL,

	START_DATE_FIELDID BIGINT NOT NULL,
	TOTAL_PRICE_FIELDID BIGINT NOT NULL,
	SALVAGE_PRICE_FIELDID BIGINT NOT NULL,
	CURRENT_PRICE_FIELDID BIGINT NOT NULL,
	ACTIVE BOOLEAN,

	CONSTRAINT ASSETDEPRECIATION_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSETDEPRECIATION_FK_STARTDATEFIELDID FOREIGN KEY (START_DATE_FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT ASSETDEPRECIATION_FK_TOTALPRICEFIELDID FOREIGN KEY (TOTAL_PRICE_FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT ASSETDEPRECIATION_FK_SALVAGEPRICEFIELDID FOREIGN KEY (SALVAGE_PRICE_FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT ASSETDEPRECIATION_FK_CURRENTPRICEFIELDID FOREIGN KEY (CURRENT_PRICE_FIELDID) REFERENCES Fields(FIELDID)
);

CREATE TABLE IF NOT EXISTS Asset_Depreication_Rel (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	ASSET_ID BIGINT NOT NULL,
	DEPRECIATION_ID BIGINT NOT NULL,
	DEPRECIATION_AMOUNT INTEGER,
	ACTIVATED BOOLEAN,
	LAST_CALCULATED_ID BIGINT,

	CONSTRAINT ASSETDEPREREL_FK_ASSETID FOREIGN KEY (ASSET_ID) REFERENCES Assets(ID),
	CONSTRAINT ASSETDEPREREL_FK_DEPRECIATIONID FOREIGN KEY (DEPRECIATION_ID) REFERENCES AssetDepreciation(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Asset_Depreciation_Calculation (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	ASSET_ID BIGINT NOT NULL,
	DEPRECIATION_ID BIGINT NOT NULL,
	CALCULATED_DATE BIGINT NOT NULL,
	CURRENT_PRICE INT NOT NULL,
	DEPRECIATED_AMOUNT INT NOT NULL,

	CONSTRAINT ASSDEPRCAL_FK_ASSETID FOREIGN KEY (ASSET_ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT ASSDEPRCAL_FK_DEPRECIATIONID FOREIGN KEY (DEPRECIATION_ID) REFERENCES AssetDepreciation(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Agent (
        ID bigint AUTO_INCREMENT PRIMARY KEY,
        ORGID bigint(20) NOT NULL,
        SITE_ID bigint(20),
        NAME varchar(250) NOT NULL,
        AGENT_TYPE TINYINT,
        TYPE varchar(100) ,
        CONNECTED tinyint(1) ,
        DISPLAY_NAME varchar(250) ,
        DATA_INTERVAL bigint(20) DEFAULT 10 not null,
        PROCESSOR_VERSION bigint(20),
        WRITABLE tinyint(4),
        VERSION varchar(20),
        LAST_MODIFIED_TIME bigint(20),
        CREATED_TIME bigint(20),
        LAST_DATA_RECEIVED_TIME bigint(30),
        DELETED_TIME BIGINT(20),
        TRANSFORM_WORKFLOW_ID bigint(20),
        DEVICE_DETAILS varchar(1000),
        IS_DISABLE boolean,
        LAST_ACTION_MODIFIED bigint(20),
        RECORD_ID BIGINT(20),
        WORKFLOW_ID BIGINT(20),
        INBOUND_CONNECTION_ID BIGINT(20),
        UNIQUE (ORGID,NAME),
        CONSTRAINT NEW_AGENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
        CONSTRAINT AGENT_FK_TRANS_WF_ID FOREIGN KEY (TRANSFORM_WORKFLOW_ID) REFERENCES Workflow(ID),
        CONSTRAINT AGENT_FK_WF_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow(ID)

);

CREATE TABLE IF NOT EXISTS AGENT_PRE_PROCESSOR ( 
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	AGENT_ID BIGINT NOT NULL,
	LAST_UPDATED_TIME BIGINT(20),
	CONSTRAINT PRE_PROCESSOR_AGENT_FK_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID)
);

CREATE TABLE IF NOT EXISTS AGENT_PROCESSOR ( 
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	AGENT_ID BIGINT NOT NULL,
	LAST_UPDATED_TIME BIGINT(20),
	CONSTRAINT PROCESSOR_AGENT_FK_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID)
);

CREATE TABLE IF NOT EXISTS  Asset_Breakdown (
       ID BIGINT AUTO_INCREMENT PRIMARY KEY,
       ORGID BIGINT NOT NULL,
       MODULEID BIGINT NOT NULL,
       PARENT_ID BIGINT NOT NULL,
       FROM_TIME BIGINT NULL,
       TO_TIME BIGINT NULL,
       DURATION BIGINT NULL,
       TIME_BETWEEN_FAILURE BIGINT,
       BD_CONDITION LONGTEXT NULL,
       ENUM_CF1 INTEGER,
	   ENUM_CF2 INTEGER,
	   ENUM_CF3 INTEGER,
	   ENUM_CF4 INTEGER,
	   ENUM_CF5 INTEGER,
       CONSTRAINT ASSET_BREAKDOWN_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
       CONSTRAINT ASSET_BREAKDOWN_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Assets(ID) ON DELETE CASCADE
);

ALTER TABLE  Assets
ADD CONSTRAINT ASSET_FK_LAST_DOWNTIME_ID FOREIGN KEY (LAST_DOWNTIME_ID) REFERENCES  Asset_Breakdown (ID) ON DELETE SET NULL;


CREATE TABLE IF NOT EXISTS Asset_BD_SourceDetails (
       ID BIGINT AUTO_INCREMENT PRIMARY KEY,
       ORGID BIGINT NOT NULL,
       MODULEID BIGINT NOT NULL,
       PARENT_ID BIGINT NOT NULL,
       BD_CONDITION VARCHAR(300) NULL,
       FROM_TIME BIGINT NULL,
       TO_TIME BIGINT NULL,
       SOURCE_TYPE TINYINT NOT NULL,
       SOURCE_ID BIGINT NOT NULL,
       CONSTRAINT ASSET_BD_SOURCEDETAILS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Asset_Breakdown(ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Agent_V2_Metrics
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID            BIGINT NOT NULL,
    SITE_ID          BIGINT NOT NULL,
    MODULEID         BIGINT NOT NULL,
    AGENT_ID         BIGINT NOT NULL,
    PUBLISH_TYPE     BIGINT NOT NULL,
    NO_OF_MSGS       BIGINT(30) NOT NULL,
    DATA_SIZE        BIGINT(30) NOT NULL,
    CREATED_TIME     BIGINT NOT NULL,
    LAST_UPDATED_TIME bigint(20) NOT NULL,
    UNIQUE (ORGID,AGENT_ID,CREATED_TIME,PUBLISH_TYPE),
    CONSTRAINT AGENT_V2_METRICS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT AGENT_V2_METRICS_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID)
);
CREATE TABLE IF NOT EXISTS Field_Device
(
	ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID            BIGINT NOT NULL,
	SITE_ID          BIGINT,
	NAME             VARCHAR(200),
	IDENTIFIER       VARCHAR(1000),
	AGENT_ID         BIGINT,
	TYPE             INT,
	CONTROLLER_PROPS VARCHAR(2000),
	CREATED_TIME     BIGINT NOT NULL,
	DELETED_TIME     BIGINT DEFAULT NULL,
	CONFIGURE 		 BOOLEAN,
	UNIQUE (AGENT_ID, NAME),
	CONSTRAINT FIELD_DEVICE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT FIELD_DEVICE_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT FIELD_DEVICE_UNIQUE_ORGID_AGENTID_NAME UNIQUE (ORGID,AGENT_ID, NAME)
);


CREATE TABLE IF NOT EXISTS Controllers
(
	ID                      BIGINT PRIMARY KEY,
	ORGID                   BIGINT  NOT NULL,
	SITE_ID                 BIGINT,
	MODULEID                BIGINT  NOT NULL,
	AGENT_ID                BIGINT,
	DATA_INTERVAL           INT,
	WRITABLE                tinyint DEFAULT 0,
	ACTIVE                  BOOLEAN NOT NULL,
	CONTROLLER_TYPE         INT,
	DEVICE_ID               BIGINT,
	AVAILABLE_POINTS        INT,
	CONTROLLER_PROPS        VARCHAR(1000),
	CREATED_TIME            BIGINT  NOT NULL,
	LAST_MODIFIED_TIME      BIGINT  NOT NULL,
	LAST_DATA_RECEIVED_TIME BIGINT,
	UNIQUE (DEVICE_ID),
	CONSTRAINT CONTROLLERS_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
	CONSTRAINT CONTROLLERS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT CONTROLLERS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT CONTROLLERS_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID)
);

ALTER TABLE Controllers ADD CONSTRAINT CONTROLLERS_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE;

CREATE TABLE IF NOT EXISTS Misc_Controller (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	AGENT_ID BIGINT,
	CONSTRAINT Misc_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Misc_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT Misc_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Misc_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID)
);

CREATE TABLE IF NOT EXISTS Custom_Controller (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	AGENT_ID BIGINT,
	CONSTRAINT Custom_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Custom_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT Custom_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Custom_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID)
);

CREATE TABLE IF NOT EXISTS Rest_Controller (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	AGENT_ID BIGINT,
	CONSTRAINT Rest_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Rest_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT Rest_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Rest_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID)
);

CREATE TABLE IF NOT EXISTS BACnet_IP_Controller
(
	ID              BIGINT PRIMARY KEY,
	ORGID           BIGINT NOT NULL,
	SITE_ID         BIGINT,
	MODULEID        BIGINT NOT NULL,
	AGENT_ID        BIGINT,
	IP_ADDRESS      VARCHAR(200),
	INSTANCE_NUMBER BIGINT,
	NETWORK_NUMBER  BIGINT,
	UNIQUE (IP_ADDRESS, INSTANCE_NUMBER, NETWORK_NUMBER, AGENT_ID),
	CONSTRAINT BACnet_IP_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT BACnet_IP_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BACnet_IP_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BACnet_IP_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT BACnet_IP_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, IP_ADDRESS, INSTANCE_NUMBER,
														NETWORK_NUMBER)
);

CREATE TABLE IF NOT EXISTS Niagara_Controller
(
	ID          BIGINT PRIMARY KEY,
	ORGID       BIGINT NOT NULL,
	SITE_ID     BIGINT,
	MODULEID    BIGINT NOT NULL,
	AGENT_ID    BIGINT,
	IP_ADDRESS  VARCHAR(200),
	PORT_NUMBER INT,
	UNIQUE (PORT_NUMBER, IP_ADDRESS, AGENT_ID),
	CONSTRAINT Niagara_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Niagara_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT Niagara_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT Niagara_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT Niagara_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, IP_ADDRESS)
);

CREATE TABLE IF NOT EXISTS LonWorks_Controller
(
	ID          BIGINT PRIMARY KEY,
	ORGID       BIGINT NOT NULL,
	SITE_ID     BIGINT,
	MODULEID    BIGINT NOT NULL,
	AGENT_ID    BIGINT,
	NEURON_ID   VARCHAR(100),
	SUBNET_NODE VARCHAR(100),
	UNIQUE (NEURON_ID, SUBNET_NODE, AGENT_ID),
	CONSTRAINT LonWorks_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT LonWorks_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT LonWorks_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT LonWorks_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT LonWorks_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, NEURON_ID)
);

Create TABLE  IF NOT EXISTS Rtu_Network
(
    	ID         BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID      BIGINT NOT NULL,
        NAME       VARCHAR(20) NOT NULL,
    	AGENT_ID   BIGINT,
        COM_PORT   VARCHAR(150) NOT NULL,
        BAUD_RATE  BIGINT NOT NULL,
        DATA_BITS  BIGINT NOT NULL,
        STOP_BITS  BIGINT NOT NULL,
        PARITY     BIGINT NOT NULL,
        UNIQUE (AGENT_ID,COM_PORT),
        CONSTRAINT RTU_NETWORK_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID)
);

CREATE TABLE IF NOT EXISTS Modbus_Rtu_Controller
(
	ID         BIGINT PRIMARY KEY,
	ORGID      BIGINT NOT NULL,
	SITE_ID    BIGINT,
	MODULEID   BIGINT NOT NULL,
	AGENT_ID   BIGINT,
	SLAVE_ID   INT,
	NETWORK_ID BIGINT(20),
	UNIQUE (NETWORK_ID, SLAVE_ID, AGENT_ID),
	CONSTRAINT Modbus_Controller_FK_NETWORK_ID FOREIGN KEY (NETWORK_ID) REFERENCES Rtu_Network (ID),
	CONSTRAINT Modbus_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Modbus_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT Modbus_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT Modbus_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT Modbus_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, SLAVE_ID, NETWORK_ID)
);

CREATE TABLE IF NOT EXISTS Modbus_Tcp_Controller
(
	ID         BIGINT PRIMARY KEY,
	ORGID      BIGINT NOT NULL,
	SITE_ID    BIGINT,
	MODULEID   BIGINT NOT NULL,
	AGENT_ID   BIGINT,
	SLAVE_ID   INT,
	IP_ADDRESS VARCHAR(100),
	UNIQUE (IP_ADDRESS, SLAVE_ID, AGENT_ID),
	CONSTRAINT Modbus_Tcp_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT Modbus_Tcp_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT Modbus_Tcp_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT Modbus_Tcp_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT Modbus_Tcp_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, SLAVE_ID, IP_ADDRESS)
);

CREATE TABLE IF NOT EXISTS OpcXMLDA_Controller
(
	ID        BIGINT PRIMARY KEY,
	ORGID     BIGINT NOT NULL,
	SITE_ID   BIGINT,
	MODULEID  BIGINT NOT NULL,
	AGENT_ID  BIGINT,
	URL       VARCHAR(750),
	USER_NAME VARCHAR(50),
	PASSWORD  VARCHAR(50),
	CONSTRAINT OpcXMLDA_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT OpcXMLDA_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT OpcXMLDA_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT OpcXMLDA_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT OpcXMLDA_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, URL)
);

CREATE TABLE IF NOT EXISTS OpcUA_Controller
(
	ID              BIGINT PRIMARY KEY,
	ORGID           BIGINT NOT NULL,
	SITE_ID         BIGINT,
	MODULEID        BIGINT NOT NULL,
	AGENT_ID        BIGINT,
	URL             VARCHAR(750),
	CERT_PATH       VARCHAR(1000),
	SECURITY_MODE   INT,
	SECURITY_POLICY INT,
	CONSTRAINT OpcUA_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers (ID) ON DELETE CASCADE,
	CONSTRAINT OpcUA_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT OpcUA_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT OpcUA_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID),
	CONSTRAINT OpcUA_Controller_META_UNIQUE UNIQUE (ORGID, MODULEID, AGENT_ID, URL, SECURITY_MODE, SECURITY_POLICY)
);

CREATE TABLE IF NOT EXISTS System_Controller
(
    ID              BIGINT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    SITE_ID         BIGINT,
    MODULEID        BIGINT NOT NULL,
    AGENT_ID        BIGINT,
    NAME            VARCHAR(300),
    CONSTRAINT System_Controller_FK_ID FOREIGN KEY (ID) REFERENCES Controllers(ID) ON DELETE CASCADE ,
    CONSTRAINT System_Controller_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES  Agent(ID),
    CONSTRAINT System_Controller_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT System_Controller_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT System_Controller_META_UNIQUE UNIQUE (ORGID,MODULEID,AGENT_ID,NAME)
);

CREATE TABLE IF NOT EXISTS Iot_Data (
                                        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
                                        ORGID BIGINT NOT NULL,
                                        AGENT_ID BIGINT NOT NULL,
                                        CONTROLLER_ID BIGINT DEFAULT NULL,
                                        COMMAND INT,
                                        CREATED_TIME BIGINT NOT NULL,
                                        CONSTRAINT IOT_DATA_FK_NEW_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controllers(ID) ON DELETE CASCADE,
                                        CONSTRAINT IOT_DATA_FK_AGENT_ID FOREIGN KEY  (AGENT_ID) REFERENCES Agent(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS System_Controller_Readings
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT NOT NULL,
    SOURCE_TYPE BIGINT,
    SOURCE_ID BIGINT,
    ACTUAL_TTIME BIGINT NOT NULL,
    TTIME BIGINT NOT NULL,
    TTIME_DATE DATE NOT NULL,
    TTIME_MONTH INT NOT NULL,
    TTIME_WEEK INT NOT NULL,
    TTIME_DAY INT NOT NULL,
    TTIME_HOUR INT NOT NULL,
    PARENT_ID BIGINT NOT NULL,
    LOAD_AVERAGE BIGINT,
    TOTAL_LOADED_CLASS_COUNT BIGINT ,
    FREE_HEAP_MEMORY BIGINT ,
    FREE_NON_HEAP_MEMORY BIGINT ,
    LIVE_THREAD_COUNT BIGINT ,
    FREE_DISK_SPACE BIGINT ,
    MONITOR_DEAD_LOCKED_THREADS BIGINT ,
    PEAK_THREAD_COUNT BIGINT ,
    DEAD_LOCKED_THREADS BIGINT ,
    FREE_MEMORY BIGINT ,
    CONSTRAINT System_Controller_Readings_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT System_Controller_Readings_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES System_Controller(ID)
);

CREATE TABLE IF NOT EXISTS Iot_Message
(
	ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID            BIGINT        NOT NULL,
	PARENT_ID        BIGINT        NOT NULL,
	COMMAND          BIGINT,
	STATUS           INT,
	SENT_TIME        BIGINT,
	ACKNOWLEDGE_TIME BIGINT,
	COMPLETED_TIME   BIGINT,
	MSG_DATA         VARCHAR(5000) NOT NULL,
	CONSTRAINT IOT_MESSAGE_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Iot_Data (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Modbus_Import
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    IDX BIGINT NOT NULL,
    TYPE BIGINT NOT NULL,
    STATUS BIGINT NOT NULL,
    FILEID BIGINT NOT NULL,
    CREATED_TIME bigint(20) NOT NULL ,
    LAST_MODIFIED_TIME bigint(20) NOT NULL
);

CREATE TABLE IF NOT EXISTS Agent_V2_Log(
        ID bigint AUTO_INCREMENT PRIMARY KEY,
        ORGID bigint(20) NOT NULL,
        AGENT_ID BIGINT(20),
        MSGID BIGINT(20),
        COMMAND BIGINT(1),
        STATUS BIGINT(1),
        ACTUAL_TIME bigint(20),
        CREATED_TIME bigint(20),
        CONSTRAINT Agent_V2_Log_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID),
        CONSTRAINT Agent_V2_Log_FK_MSGID FOREIGN KEY (MSGID) REFERENCES Iot_Message(ID)
);

-- CREATE TABLE IF NOT EXISTS Agent_Thread_Dump(
--                                            ID bigint AUTO_INCREMENT PRIMARY KEY,
--                                            ORGID bigint(20) NOT NULL,
--                                            AGENT_ID BIGINT(20) NOT NULL,
--                                            FILE_ID BIGINT(20) NOT NULL,
--                                            CREATED_TIME bigint(20),
--                                            CONSTRAINT Agent_Thread_Dump_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID),
--                                            CONSTRAINT Agent_Thread_Dump_FILEID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
-- );


CREATE TABLE IF NOT EXISTS AssetCustomModuleData (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT ACM_DATA_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT ACM_DATA_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
	);

CREATE TABLE IF NOT EXISTS Work_Order_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	ACTIVITY_TYPE TINYINT NOT NULL,
	DONE_BY_ID BIGINT NOT NULL,
	INFO VARCHAR(10000),
	CONSTRAINT WORK_ORDER_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WORK_ORDER_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT WORK_ORDER_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT WORK_ORDER_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE INDEX WORK_ORDER_ACTIVITY_ORGID_MODULEID_PARENT_ID_TTIME ON Work_Order_Activity (ORGID, MODULEID, PARENT_ID, TTIME);

CREATE TABLE IF NOT EXISTS Energy_Meter_Purpose (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	CONSTRAINT ENERGY_METER_PURPOSE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Energy_Meter (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PURPOSE_ID BIGINT,
	IS_ROOT BOOLEAN,
	PURPOSE_SPACE_ID BIGINT,
	IS_VIRTUAL BOOLEAN,
	CHILD_METER_EXPRESSION VARCHAR(100),
	MULTIPLICATION_FACTOR BIGINT,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT ENERGY_METER_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT ENERGY_METER_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ENERGY_METER_FK_PURPOSE_ID FOREIGN KEY (PURPOSE_ID) REFERENCES Energy_Meter_Purpose(ID),
	CONSTRAINT ENERGY_METER_FK_PURPOSE_SPACE_ID FOREIGN KEY (PURPOSE_SPACE_ID) REFERENCES BaseSpace(ID),
	CONSTRAINT ENERGY_METER_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(id)
);

CREATE TABLE IF NOT EXISTS Controller_Asset (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT CONTROLLER_CATEGORY_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ,
	CONSTRAINT CONTROLLER_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CONTROLLER_CATEGORY_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(id)
);

CREATE TABLE IF NOT EXISTS Virtual_Energy_Meter_Rel (
	VIRTUAL_METER_ID BIGINT,
	ORGID BIGINT NOT NULL,
	CHILD_METER_ID BIGINT,
	PRIMARY KEY (VIRTUAL_METER_ID, CHILD_METER_ID),
	CONSTRAINT VIRTUAL_ENERGY_METER_REL_METER_ID FOREIGN KEY (VIRTUAL_METER_ID) REFERENCES Energy_Meter(ID) ON DELETE CASCADE,
	CONSTRAINT VIRTUAL_ENERGY_METER_REL_CHILD_ID FOREIGN KEY (CHILD_METER_ID) REFERENCES Energy_Meter(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Hvac (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT HVAC_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT HVAC_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT HVAC_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Chiller (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CHILLER_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT CHILLER_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Chiller_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	OUT_DOOR_TEMPERATURE DOUBLE,
	RETURN_TEMPERATURE DOUBLE,
	SUPPLY_TEMPERATURE DOUBLE,
	CHILLER_SETPOINT DOUBLE,
	CHILLED_WATER_RETURN DOUBLE,
	CONTROL_POINT DOUBLE,
	CIRCUIT_A_CURRENT DOUBLE,
	CIRCUIT_B_CURRENT DOUBLE,
	DELTA_T DOUBLE,
	DIFFERENTIAL_PRESSURE DOUBLE,
	FAILURE BOOLEAN,
	CHILLER_LOAD DOUBLE,
	RUN_STATUS BOOLEAN,
	SETPOINT DOUBLE,
	TOTAL_CURRENT DOUBLE,
	TRIP_STATUS BOOLEAN,
	CAP_T_CH_2 DOUBLE,
	CAP_T_CH_3 DOUBLE,
	CAPA_T DOUBLE,
	CAPB_T DOUBLE,
	CTRL_WT DOUBLE,
	CURR_LIM DOUBLE,
	DB_B DOUBLE,
	ALARM_STATUS BOOLEAN,
	AVERAGE_LINE_VOLTAGE DOUBLE,
	CHILLED_WATER_P_FV_STATUS BOOLEAN,
	CHILLED_WATER_FLOW_STATUS BOOLEAN,
	CHILLED_WATER_VALVE_OPEN_STATUS BOOLEAN,
	COMPRESSOR_RUNNING_HOURS DOUBLE,
	COMPRESSOR_STARTS DOUBLE,
	CURRENT_SET_POINT_ACTIVE DOUBLE,
	EVAPORATOR_APPROACH_TEMPERATURE DOUBLE,
	EVAPORATOR_SATURATED_REFRIGERANT_PRESSURE DOUBLE,
	EVAPORATOR_SATURATED_REFRIGERANT_TEMPERATURE DOUBLE,
	OIL_TEMPERATURE DOUBLE,
	RLA DOUBLE,
	SYSTEM_SUPPLY_TEMPERATURE DOUBLE,
	SYSTEM_RETURN_TEMPERATURE DOUBLE,
	CPC_ALARM DOUBLE,
	CONDENSER_SUPPLY_HEADER_TEMPERATURE DOUBLE,
	CONDENSER_RETURN_HEADER_TEMPERATURE DOUBLE,
	DPT DOUBLE,
	CIRCUIT_A_SUCTION_PRESSURE DOUBLE,
	CIRCUIT_A_EXV_VALVE_POSITION DOUBLE,
	CIRCUIT_B_SUCTION_PRESSURE DOUBLE,
	CIRCUIT_B_EXV_VALVE_POSITION DOUBLE,
	COMPRESSOR_A_SUCTION_TEMPERATURE DOUBLE,
	COMPRESSOR_B_SUCTION_TEMPERATURE DOUBLE,
	COMPRESSOR_A_HOURS DOUBLE,
	COMPRESSOR_A_STARTS DOUBLE,
	COMPRESSOR_B_HOURS DOUBLE,
	COMPRESSOR_B_STARTS DOUBLE,
	SHUT_DOWN BOOLEAN,
	ALARM_OUT BOOLEAN,
	ALERT BOOLEAN,
	READY BOOLEAN,
	MACHINE_OPERATING_HOURS DOUBLE,
	MACHINE_START_NUMBER DOUBLE,
	COOLING_SETPOINT_2 DOUBLE,
	CHILLER_OCCUPIED BOOLEAN,
	MINUTES_LEFT_FOR_START DOUBLE,
	HEAT_RECLAIM_SELECT BOOLEAN,
	FREE_COOLING_DISABLE BOOLEAN,
	EMERGENCY_STOP BOOLEAN,
	SETPOINT_OCCUPIED BOOLEAN,
	COOLING_SETPOINT_1 DOUBLE,
	TRIP_ALARM BOOLEAN,
	ALARM BOOLEAN,
	HEAT_COOL_SELECT BOOLEAN,
	CHILLER_CAPACITY_SIGNAL DOUBLE,
	LAG_CAPACITY_LIMIT_VALVE DOUBLE,
	ACTIVE_DEMAND_LIMIT_VALVE DOUBLE,
	RUN_HOURS DOUBLE,
	CURRENT_CONTROL VARCHAR(500),
	FAIL_RESET VARCHAR(500),
	CIRCUIT_A_DIFFERENTIAL_PRESSURE DOUBLE,
	CIRCUIT_B_DIFFERENTIAL_PRESSURE DOUBLE,
	CHILLED_WATER_SUPPLY_TEMPERATURE DOUBLE,
	CHILLED_WATER_RETURN_SETPOINT DOUBLE,
	CAP_T DOUBLE,
	CONSTRAINT CHILLER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller(ID)
);
-- Create indexes for Chiller_Readings table
CREATE INDEX CHILLER_READINGS_PARENT_ID_INDEX on Chiller_Readings (PARENT_ID);
CREATE INDEX CHILLER_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CHILLER_READINGS_TTIME_INDEX ON Chiller_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Chiller_Readings2 (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	AUTO_MANUAL_STATUS BOOLEAN,
	RUN_COMMAND BOOLEAN,
	CHILLED_WATER_DELTA_TEMPERATURE DOUBLE,
	CHILLED_LEAVING_WATER_TEMPERATURE DOUBLE,
	CONDENSER_WATER_ENTERING_TEMPERATURE DOUBLE,
	CONDENSER_WATER_LEAVING_TEMPERATURE DOUBLE,
	CHILLED_WATER_RETURN_SETPOINT DOUBLE,
	CONDENSER_WATER_DELTA_TEMPERATURE DOUBLE,
	CHILLED_WATER_SUPPLY_PRESSURE DOUBLE,
	CHILLED_RETURN_SUPPLY_PRESSURE DOUBLE,
	EVAPORATOR_BUTTERFLY_VALVE_COMMAND BOOLEAN,
	CHILLED_WATER_FLOW_RATE DOUBLE,
	CONDENSER_WATER_SUPPLY_PRESSURE DOUBLE,
	CONDENSER_RETURN_SUPPLY_PRESSURE DOUBLE,
	CONDENSER_BUTTERFLY_VALVE_COMMAND BOOLEAN,
	CONDENSER_BUTTERFLY_VALVE_STATUS BOOLEAN,
	CONDENSER_WATER_FLOW_STATUS BOOLEAN,
	CONDENSER_WATER_FLOW_RATE DOUBLE,
	EVAPORATOR_REFRIGERANT_TEMPERATURE DOUBLE,
	EVAPORATOR_REFRIGERANT_PRESSURE DOUBLE,
	CONDENSER_APPROACH_TEMPERATURE DOUBLE,
	CONDENSER_REFRIGERANT_TEMPERATURE DOUBLE,
	CONDENSER_REFRIGERANT_PRESSURE DOUBLE,
	CONDENSER_SATURATED_REFRIGERANT_TEMPERATURE DOUBLE,
	CONDENSER_SATURATED_REFRIGERANT_PRESSURE DOUBLE,
	REFRIGERANT_DISCHARGE_TEMPERATURE DOUBLE,
	REFRIGERANT_DISCHARGE_PRESSURE DOUBLE,
	REFRIGERANT_SUCTION_PRESSURE DOUBLE,
	REFRIGERANT_SUCTION_TEMPERATURE DOUBLE,
	SATURATED_REFRIGERANT_TEMPERATURE DOUBLE,
	SATURATED_REFRIGERANT_PRESSURE DOUBLE,
	COMPRESSOR_CAPACITY DOUBLE,
	COMPRESSOR_C_CAPACITY DOUBLE,
	COMPRESSOR_D_CAPACITY DOUBLE,
	COMPRESSOR_DISCHARGE_PRESSURE DOUBLE,
	COMPRESSOR_A_DISCHARGE_PRESSURE DOUBLE,
	COMPRESSOR_B_DISCHARGE_PRESSURE DOUBLE,
	COMPRESSOR_C_DISCHARGE_PRESSURE DOUBLE,
	COMPRESSOR_D_DISCHARGE_PRESSURE DOUBLE,
	COMPRESSOR_DISCHARGE_TEMPERATURE DOUBLE,
	COMPRESSOR_A_DISCHARGE_TEMPERATURE DOUBLE,
	COMPRESSOR_C_DISCHARGE_TEMPERATURE DOUBLE,
	COMPRESSOR_D_DISCHARGE_TEMPERATURE DOUBLE,
	COMPRESSOR_SUCTION_PRESSURE DOUBLE,
	COMPRESSOR_C_SUCTION_PRESSURE DOUBLE,
	COMPRESSOR_D_SUCTION_PRESSURE DOUBLE,
	COMPRESSOR_SUCTION_TEMPERATURE DOUBLE,
	COMPRESSOR_C_SUCTION_TEMPERATURE DOUBLE,
	COMPRESSOR_D_SUCTION_TEMPERATURE DOUBLE,
	COMPRESSOR_C_MOTOR_CURRENT DOUBLE,
	COMPRESSOR_D_MOTOR_CURRENT DOUBLE,
	COMPRESSOR_POWER DOUBLE,
	COMPRESSOR_A_POWER DOUBLE,
	COMPRESSOR_B_POWER DOUBLE,
	COMPRESSOR_C_POWER DOUBLE,
	COMPRESSOR_D_POWER DOUBLE,
	COMPRESSOR_C_RUNHOUR DOUBLE,
	COMPRESSOR_D_RUNHOUR DOUBLE,
	COMPRESSOR_CONSUMPTION DOUBLE,
	COMPRESSOR_A_CONSUMPTION DOUBLE,
	COMPRESSOR_B_CONSUMPTION DOUBLE,
	COMPRESSOR_C_CONSUMPTION DOUBLE,
	COMPRESSOR_D_CONSUMPTION DOUBLE,
	DP_IN_COMPRESSOR DOUBLE,
	DP_IN_COMPRESSOR_A DOUBLE,
	DP_IN_COMPRESSOR_B DOUBLE,
	DP_IN_COMPRESSOR_C DOUBLE,
	DP_IN_COMPRESSOR_D DOUBLE,
	COMPRESSOR_C_STARTS DOUBLE,
	COMPRESSOR_D_STARTS DOUBLE,
	COMPRESSOR_THRUST_BEARING_TEMPERATURE DOUBLE,
	COMPRESSOR_MOTOR_WINDING_TEMPERATURE DOUBLE,
	EXPANSION_VALVE_POSITION DOUBLE,
	EXPANSION_VALVE_POSITION_C DOUBLE,
	EXPANSION_VALVE_POSITION_D DOUBLE,
	CHILLER_POWER DOUBLE,
	ACTUAL_LINE_CURRENT DOUBLE,
	ACTUAL_LINE_VOLT DOUBLE,
	OIL_DIFFERENCE_PRESSURE DOUBLE,
	GUIDE_VANE_POSITION DOUBLE,
	TARGET_GUIDE_VANE DOUBLE,
	AMBIENT_TEMPERATURE DOUBLE,
	AMBIENT_HUMIDITY DOUBLE,
	OUTSIDE_AIR_HUMIDITY DOUBLE,
	TR_GENERATED DOUBLE,
	TONS_OF_REFRIGERATION DOUBLE,
	KW_TR DOUBLE,
	CONSTRAINT CHILLER_READINGS2_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_READINGS2_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller(ID)
	);

-- Create indexes for Chiller_Readings table
CREATE INDEX CHILLER_READINGS2_PARENT_ID_INDEX on Chiller_Readings2 (PARENT_ID);
CREATE INDEX CHILLER_READINGS2_PARENT_ID_TTIME_INDEX ON Chiller_Readings2 (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CHILLER_READINGS2_TTIME_INDEX ON Chiller_Readings2 (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Chiller_Plant_Manager (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CHILLER_PLANT_MANAGER_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT CHILLER_PLANT_MANAGER_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_PLANT_MANAGER_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);


CREATE TABLE IF NOT EXISTS Chiller_Plant_Manager_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CHW_HEADER_RETURN_PRESSURE DOUBLE,
	CHW_HEADER_SUPPLY_PRESSURE DOUBLE,
	CNDW_HEADER_SUPPLY_PRESSURE DOUBLE,
	CNDW_HEADER_RETURN_PRESSURE DOUBLE,
	CNDW_DELTA_TEMPERATURE DOUBLE,
	DIFFERENTIAL_PRESSURE_SETPOINT DOUBLE,
	CPM_COMMAND BOOLEAN,
  	DIFFERENTIAL_PRESSURE DOUBLE,
  	CHW_HEADER_SUPPLY_TEMPERATURE DOUBLE,
  	CHW_HEADER_RETURN_TEMPERATURE DOUBLE,
  	CHW_DELTA_TEMPERATURE DOUBLE,
  	CNDW_HEADER_RETURN_TEMPERATURE DOUBLE,
  	CNDW_HEADER_SUPPLY_TEMPERATURE DOUBLE,
 	CONSTRAINT CHILLER_PLANT_MANAGER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_PLANT_MANAGER_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Plant_Manager(ID)
  );
  -- Create indexes for Chiller_Plant_Manager_Readings table
CREATE INDEX CHILLER_PLANT_MANAGER_READINGS_PARENT_ID_INDEX on Chiller_Plant_Manager_Readings (PARENT_ID);
CREATE INDEX CHILLER_PLANT_MANAGER_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Plant_Manager_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CHILLER_PLANT_MANAGER_READINGS_TTIME_INDEX ON Chiller_Plant_Manager_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Chiller_Condenser_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CONDENSER_ENTERING_WATER_TEMPERATURE DOUBLE,
	CONDENSER_LEAVING_WATER_TEMPERATURE DOUBLE,
	COOLING_TOWER_ENTERING_WATER_TEMPERATURE DOUBLE,
	COOLING_TOWER_LEAVING_WATER_TEMPERATURE DOUBLE,
	CONDENSER_APPROACH_TEMPERATURE DOUBLE,
	CONDENSER_SATURATED_REFRIGERANT_PRESSURE DOUBLE,
	CONDENSER_SATURATED_REFRIGERANT_TEMPERATURE DOUBLE,
	CONDENSER_VALVE_OPEN_STATUS BOOLEAN,
	CONDENSER_WATER_FLOW_STATUS BOOLEAN,
	CONDENSER_WATER_P_FV_STATUS BOOLEAN,
	CONSTRAINT CHILLER_CONDENSER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_CONDENSER_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller(ID)
);

-- Create indexes for Chiller_Condenser_Readings table
CREATE INDEX CHILLER_CONDENSER_READINGS_PARENT_ID_INDEX on Chiller_Condenser_Readings (PARENT_ID);
CREATE INDEX CHILLER_CONDENSER_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Condenser_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CHILLER_CONDENSER_READINGS_TTIME_INDEX ON Chiller_Condenser_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Chiller_Primary_Pump (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CHILLER_PRIMARY_PUMP_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT CHILLER_PRIMARY_PUMP_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_PRIMARY_PUMP_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

-- CREATE TABLE IF NOT EXISTS Chiller_Primary_Pump_Readings (
-- 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	MODULEID BIGINT NOT NULL,
-- 	SOURCE_TYPE BIGINT,
-- 	SOURCE_ID BIGINT,
-- 	ACTUAL_TTIME BIGINT NOT NULL,
-- 	TTIME BIGINT NOT NULL,
-- 	TTIME_DATE DATE NOT NULL,
-- 	TTIME_MONTH INT NOT NULL,
-- 	TTIME_WEEK INT NOT NULL,
-- 	TTIME_DAY INT NOT NULL,
-- 	TTIME_HOUR INT NOT NULL,
-- 	PARENT_ID BIGINT NOT NULL,
-- 	FREQUENCY_SET_POINT DOUBLE,
-- 	OUTPUT_FREQUENCY DOUBLE,
-- 	PUMP_FAIL_STATUS BOOLEAN,
-- 	PUMP_AUTO_MANUAL_STATUS BOOLEAN,
-- 	PUMP_COMMAND DOUBLE,
-- 	PUMP_RUN_STATUS BOOLEAN,
-- 	VFD_LOCAL_REMOTE_STATUS BOOLEAN,
-- 	VFD_RUN_COMMAND DOUBLE,
-- 	PUMP_VFD_FEEDBACK DOUBLE,
-- 	PUMP_COMMANDS BOOLEAN,
-- 	PUMP_TRIP_STATUS BOOLEAN,
-- 	CONSTRAINT CHILLER_PRIMARY_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
-- 	CONSTRAINT CHILLER_PRIMARY_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Primary_Pump(ID)
-- );

-- -- Create indexes for Chiller_Primary_Pump_Readings table
-- CREATE INDEX CHILLER_PRIMARY_PUMP_READINGS_PARENT_ID_INDEX on Chiller_Primary_Pump_Readings (PARENT_ID);
-- CREATE INDEX CHILLER_PRIMARY_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Primary_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX CHILLER_PRIMARY_PUMP_READINGS_TTIME_INDEX ON Chiller_Primary_Pump_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Primary_Pump_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	RUN_STATUS BOOLEAN ,
	RUN_HOURS DOUBLE,
    TRIP_STATUS BOOLEAN,
    RUN_COMMAND BOOLEAN,
    AUTO_MANUAL_STATUS BOOLEAN,
    VFD_AUTO_MANUAL_STATUS BOOLEAN,
    VFD_CONTROL DOUBLE,
    VFD_FEEDBACK DOUBLE,
    VFD_FREQUENCY DOUBLE,
    VFD_SPEED DOUBLE,
    INLET_PRESSURE DOUBLE,
    OUTLET_PRESSURE DOUBLE,
	CONSTRAINT PRIMARY_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PRIMARY_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Primary_Pump(ID)
);

-- Create indexes for Primary_Pump_Readings table
CREATE INDEX PRIMARY_PUMP_READINGS_PARENT_ID_INDEX on Primary_Pump_Readings (PARENT_ID);
CREATE INDEX PRIMARY_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Primary_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX PRIMARY_PUMP_READINGS_TTIME_INDEX ON  Primary_Pump_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Chiller_Secondary_Pump (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CHILLER_SECONDARY_PUMP_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT CHILLER_SECONDARY_PUMP_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_SECONDARY_PUMP_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

-- CREATE TABLE IF NOT EXISTS Chiller_Secondary_Pump_Readings (
-- 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	MODULEID BIGINT NOT NULL,
-- 	SOURCE_TYPE BIGINT,
-- 	SOURCE_ID BIGINT,
-- 	ACTUAL_TTIME BIGINT NOT NULL,
-- 	TTIME BIGINT NOT NULL,
-- 	TTIME_DATE DATE NOT NULL,
-- 	TTIME_MONTH INT NOT NULL,
-- 	TTIME_WEEK INT NOT NULL,
-- 	TTIME_DAY INT NOT NULL,
-- 	TTIME_HOUR INT NOT NULL,
-- 	PARENT_ID BIGINT NOT NULL,
-- 	FREQUENCY_SET_POINT DOUBLE,
-- 	OUTPUT_FREQUENCY DOUBLE,
-- 	PUMP_FAIL_STATUS BOOLEAN,
-- 	PUMP_AUTO_MANUAL_STATUS BOOLEAN,
-- 	PUMP_COMMAND DOUBLE,
-- 	PUMP_RUN_STATUS BOOLEAN,
-- 	VFD_LOCAL_REMOTE_STATUS BOOLEAN,
-- 	VFD_COMMAND DOUBLE,
-- 	VFD_FEEDBACK DOUBLE,
-- 	PUMP_COMMANDS DOUBLE,
-- 	PUMP_TRIP_STATUS BOOLEAN,
-- 	CONSTRAINT CHILLER_SECONDARY_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
-- 	CONSTRAINT CHILLER_SECONDARY_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Secondary_Pump(ID)
-- );
--
-- -- Create indexes for Chiller_Secondary_Pump_Readings table
-- CREATE INDEX CHILLER_SECONDARY_PUMP_READINGS_PARENT_ID_INDEX on Chiller_Secondary_Pump_Readings (PARENT_ID);
-- CREATE INDEX CHILLER_SECONDARY_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Secondary_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX CHILLER_SECONDARY_PUMP_READINGS_TTIME_INDEX ON Chiller_Secondary_Pump_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Secondary_Pump_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	RUN_STATUS BOOLEAN ,
	RUN_HOURS DOUBLE,
    TRIP_STATUS BOOLEAN,
    RUN_COMMAND BOOLEAN,
    AUTO_MANUAL_STATUS BOOLEAN,
    VFD_AUTO_MANUAL_STATUS BOOLEAN,
    VFD_CONTROL DOUBLE,
    VFD_FEEDBACK DOUBLE,
    VFD_FREQUENCY DOUBLE,
    VFD_SPEED DOUBLE,
    INLET_PRESSURE DOUBLE,
    OUTLET_PRESSURE DOUBLE,
	CONSTRAINT SECONDARY_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SECONDARY_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Secondary_Pump(ID)
);

-- Create indexes for Secondary_Pump_Readings table
CREATE INDEX SECONDARY_PUMP_READINGS_PARENT_ID_INDEX on Secondary_Pump_Readings (PARENT_ID);
CREATE INDEX SECONDARY_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Secondary_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX SECONDARY_PUMP_READINGS_TTIME_INDEX ON  Secondary_Pump_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Chiller_Condenser_Pump (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CHILLER_CONDENSER_PUMP_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT CHILLER_CONDENSER_PUMP_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CHILLER_CONDENSER_PUMP_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

-- CREATE TABLE IF NOT EXISTS Chiller_Condenser_Pump_Readings (
-- 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	MODULEID BIGINT NOT NULL,
-- 	SOURCE_TYPE BIGINT,
-- 	SOURCE_ID BIGINT,
-- 	ACTUAL_TTIME BIGINT NOT NULL,
-- 	TTIME BIGINT NOT NULL,
-- 	TTIME_DATE DATE NOT NULL,
-- 	TTIME_MONTH INT NOT NULL,
-- 	TTIME_WEEK INT NOT NULL,
-- 	TTIME_DAY INT NOT NULL,
-- 	TTIME_HOUR INT NOT NULL,
-- 	PARENT_ID BIGINT NOT NULL,
-- 	FREQUENCY_SET_POINT DOUBLE,
-- 	OUTPUT_FREQUENCY DOUBLE,
-- 	PUMP_FAIL_STATUS BOOLEAN,
-- 	PUMP_AUTO_MANUAL_STATUS BOOLEAN,
-- 	PUMP_COMMAND DOUBLE,
-- 	PUMP_RUN_STATUS BOOLEAN,
-- 	VFD_LOCAL_REMOTE_STATUS BOOLEAN,
-- 	VFD_RUN_COMMAND DOUBLE,
-- 	PUMP_VFD_FEEDBACK DOUBLE,
-- 	PUMP_COMMANDS BOOLEAN,
-- 	PUMP_TRIP_STATUS BOOLEAN,
-- 	CONSTRAINT CHILLER_CONDENSER_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
-- 	CONSTRAINT CHILLER_CONDENSER_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Condenser_Pump(ID)
-- );
--
-- -- Create indexes for Chiller_Condenser_Pump_Readings table
-- CREATE INDEX CHILLER_CONDENSER_PUMP_READINGS_PARENT_ID_INDEX on Chiller_Condenser_Pump_Readings (PARENT_ID);
-- CREATE INDEX CHILLER_CONDENSER_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Chiller_Condenser_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX CHILLER_CONDENSER_PUMP_READINGS_TTIME_INDEX ON Chiller_Condenser_Pump_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Condenser_Pump_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	RUN_STATUS BOOLEAN ,
	RUN_HOURS DOUBLE,
    TRIP_STATUS BOOLEAN,
    RUN_COMMAND BOOLEAN,
    AUTO_MANUAL_STATUS BOOLEAN,
    VFD_AUTO_MANUAL_STATUS BOOLEAN,
    VFD_CONTROL DOUBLE,
    VFD_FEEDBACK DOUBLE,
    VFD_FREQUENCY DOUBLE,
    VFD_SPEED DOUBLE,
    INLET_PRESSURE DOUBLE,
    OUTLET_PRESSURE DOUBLE,
	CONSTRAINT CONDENSER_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CONDENSER_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Chiller_Condenser_Pump(ID)
);

-- Create indexes for Condenser_Pump_Readings table
CREATE INDEX CONDENSER_PUMP_READINGS_PARENT_ID_INDEX on Condenser_Pump_Readings (PARENT_ID);
CREATE INDEX CONDENSER_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Condenser_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CONDENSER_PUMP_READINGS_TTIME_INDEX ON  Condenser_Pump_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS AHU (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT AHU_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT AHU_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT AHU_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);
-- CREATE TABLE IF NOT EXISTS AHU_Readings (
--     ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	MODULEID BIGINT NOT NULL,
-- 	SOURCE_TYPE BIGINT,
-- 	SOURCE_ID BIGINT,
-- 	ACTUAL_TTIME BIGINT NOT NULL,
-- 	TTIME BIGINT NOT NULL,
-- 	TTIME_DATE DATE NOT NULL,
-- 	TTIME_MONTH INT NOT NULL,
-- 	TTIME_WEEK INT NOT NULL,
-- 	TTIME_DAY INT NOT NULL,
-- 	TTIME_HOUR INT NOT NULL,
-- 	PARENT_ID BIGINT NOT NULL,
--     RUN_STATUS	BOOLEAN	,
--     AUTO_MANUAL_STATUS	BOOLEAN	,
--     TRIP_STATUS	BOOLEAN	,
--     PRE_FILTER_STATUS	BOOLEAN	,
--     BAG_FILTER_STATUS	BOOLEAN ,
--     BAG_FILTER_DP	DOUBLE	,
--     PRE_FILTER_DP	DOUBLE	,
--     FILTER_DIRTY_STATUS	BOOLEAN	,
--     RUN_COMMAND	BOOLEAN	,
--     COOLING_COIL_VALVE_COMMAND	DOUBLE	,
--     COOLING_COIL_VALVE_FEEDBACK	DOUBLE	,
--     COOLING_COIL_VALVE_POSITION	BOOLEAN	,
--     SPACE_TEMPERATURE	DOUBLE	,
--     CHILLED_WATER_ENTERING_TEMPERATURE	DOUBLE	,
--     CHILLED_WATER_LEAVING_TEMPERATURE	DOUBLE	,
--     SUPPLY_AIR_TEMPERATURE	DOUBLE	,
--     RETURN_AIR_TEMPERATURE	DOUBLE	,
--     SUPPLY_AIR_TEMPERATURE_SET_POINT	DOUBLE	,
--     SUPPLY_AIR_HUMIDITY_SET_POINT	DOUBLE	,
--     RETURN_AIR_TEMPERATURE_SET_POINT	DOUBLE	,
--     ON_COIL_HUMIDITY	DOUBLE	,
--     ON_COIL_TEMPERATURE	DOUBLE	,
--     OFF_COIL_HUMIDITY	DOUBLE	,
--     OFF_COIL_TEMPERATURE	DOUBLE	,
--     SUPPLY_AIR_HUMIDITY	DOUBLE	,
--     RETURN_AIR_HUMIDITY	DOUBLE	,
--     DUCT_STATIC_PRESSURE	DOUBLE	,
--     SUPPLY_AIR_FAN_COMMAND	BOOLEAN	,
--     SUPPLY_FAN_AIR_FLOW_STATUS	BOOLEAN	,
--     SUPPLY_FAN_AIR_FLOW_FAIL_ALARM	BOOLEAN	,
--     SUPPLY_AIR_FAN_AUTO_MANUAL_STATUS	BOOLEAN	,
--     SUPPLY_FAN_TRIP_ALARM	BOOLEAN	,
--     SUPPLY_FAN_VFD_COMMAND	DOUBLE	,
--     SUPPLY_FAN_VFD_FEEDBACK	DOUBLE	,
--     SUPPLY_AIR_DAMPER_COMMAND	BOOLEAN	,
--     SUPPLY_AIR_DAMPER_STATUS	BOOLEAN	,
--     SUPPLY_FAN_MOTOR_POWER	DOUBLE	,
--     EXHAUST_AIR_FAN_COMMAND	BOOLEAN	,
--     EXHAUST_FAN_AIR_FLOW_STATUS	BOOLEAN	,
--     EXHAUST_AIR_FAN_AUTO_MANUAL_STATUS	BOOLEAN	,
--     EXHASUT_FAN_VFD_TRIP_ALARM	BOOLEAN	,
--     EXHAUST_FAN_VFD_COMMAND	DOUBLE	,
--     EXHAUST_FAN_VFD_FEEDBACK	DOUBLE	,
--     EXHAUST_AIR_DAMPER_COMMAND	BOOLEAN	,
--     EXHAUST_AIR_DAMPER_STATUS	BOOLEAN	,
--     EXHASUT_FAN_MOTOR_POWER	DOUBLE	,
--     RETURN_AIR_CO2	DOUBLE	,
--     ENTHALPY_HEAT_WHEEL_RUN_STATUS	BOOLEAN	,
--     ENTHALPY_HEAT_WHEEL_AUTO_MANUAL_STATUS	BOOLEAN	,
--     ENTHALPY_HEAT_WHEEL_COMMAND	BOOLEAN	,
--     ENTHALPY_HEAT_WHEEL_TRIP_ALARM	BOOLEAN	,
--     OUTSIDE_AIR_TEMPERATURE	DOUBLE	,
--     OUTSIDE_AIR_HUMIDITY	DOUBLE	,
--     SENSIBLE_HEAT_WHEEL_RUN_STATUS	BOOLEAN	,
--     SENSIBLE_HEAT_WHEEL_AUTO_MANUAL_STATUS	BOOLEAN	,
--     SENSIBLE_HEAT_WHEEL_COMMAND	BOOLEAN	,
--     SENSIBLE_HEAT_WHEEL_TRIP_ALARM	BOOLEAN	,
--     AIRFLOW_COIL_DP	DOUBLE	,
--     CHILLED_WATER_FLOW_DP	DOUBLE	,
--     CHILLED_WATER_STRAINER_DP	DOUBLE	,
--     CHILLED_WATER_STRAINER_ALARM	BOOLEAN,
--     MIX_AIR_DAMPER_STATUS	BOOLEAN,
-- 	SUPPLY_FAN_COMMAND_WORD	BOOLEAN,
-- 	SUPPLY_FAN_STATUS_ALARM	BOOLEAN,
-- 	SUPPLY_FAN_TRIP_CODE	BOOLEAN,
-- 	SUPPLY_FAN_VFD_COMMAND_MODE	BOOLEAN,
-- 	SUPPLY_FAN_VFD_COMMAND_MODE_STATUS	BOOLEAN,
-- 	SUPPLY_FAN_VFD_LOCAL_REMOTE_STATUS	BOOLEAN,
-- 	SUPPLY_FAN_VFD_RUN_COMMAND_STATUS	BOOLEAN,
-- 	EXHAUST_FAN_COMMAND_WORD	BOOLEAN,
-- 	EXHAUST_FAN_STATUS_ALARM	BOOLEAN,
-- 	EXHAUST_FAN_TRIP_CODE	BOOLEAN,
-- 	EXHAUST_FAN_VFD_COMMAND_MODE	BOOLEAN,
-- 	EXHAUST_FAN_VFD_COMMAND_MODE_STATUS	BOOLEAN,
-- 	EXHAUST_FAN_VFD_LOCAL_REMOTE_STATUS	BOOLEAN,
-- 	EXHAUST_FAN_VFD_RUN_COMMAND_STATUS	BOOLEAN,
-- 	OCCUPANCY	BOOLEAN,
-- 	IS_COMPRESSOR	BOOLEAN,
-- 	INVALID_SETPOINT_ALARM	BOOLEAN,
-- 	EXHAUST_FAN_ALARM_CODE	BOOLEAN,
-- 	SUPPLY_FAN_ALARM_CODE	BOOLEAN,
--     SUPPLY_FAN_SET_POINT_MODE BOOLEAN,
-- 	EXHAUST_FAN_SET_POINT_MODE BOOLEAN,
-- 	EXHAUST_FAN_SET_POINT_MODE_STATUS BOOLEAN,
-- 	SUPPLY_FAN_SET_POINT_MODE_STATUS BOOLEAN,
-- 	MIX_AIR_TEMPERATURE	DOUBLE,
-- 	MIX_AIR_HUMIDITY	DOUBLE,
-- 	SUPPLY_AIR_ENTHALPHY	DOUBLE,
-- 	RETURN_AIR_ENTHALPHY	DOUBLE,
-- 	SUPPLY_AIR_PRESSURE	DOUBLE,
-- 	EXHAUST_AIR_PRESSURE	DOUBLE,
-- 	SUPPLY_AIR_PRESSURE_SETPOINT	DOUBLE,
-- 	EXHAUST_AIR_PRESSURE_SETPOINT	DOUBLE,
-- 	SUPPLY_FAN_MOTOR_VIBRATION	DOUBLE,
-- 	EXHAUST_FAN_MOTOR_VIBRATION	DOUBLE,
-- 	SUPPLY_AIR_VELOCITY	DOUBLE,
-- 	RETURN_AIR_VELOCITY	DOUBLE,
-- 	SUPPLY_FAN_FREQUENCY_SET_POINT	DOUBLE,
-- 	SUPPLY_FAN_INPUT_POWER	DOUBLE,
-- 	SUPPLY_FAN_OUTPUT_CURRENTRLA	DOUBLE,
-- 	SUPPLY_FAN_OUTPUT_FREQUENCY	DOUBLE,
-- 	SUPPLY_FAN_TORQUE	DOUBLE,
-- 	EXHAUST_FAN_FREQUENCY_SET_POINT	DOUBLE,
-- 	EXHAUST_FAN_INPUT_POWER	DOUBLE,
-- 	EXHAUST_FAN_OUTPUT_CURRENTRLA	DOUBLE,
-- 	EXHAUST_FAN_OUTPUT_FREQUENCY	DOUBLE,
-- 	EXHAUST_FAN_TORQUE	DOUBLE,
-- 	OCCUPANCY_HEAT	DOUBLE,
-- 	OCCUPANCY_COOL	DOUBLE,
-- 	HEAT_PERCENTAGE	DOUBLE,
-- 	SUPPLY_FAN_DRIVE_RESET DOUBLE,
-- 	SUPPLY_FAN_TIME_OUT DOUBLE,
-- 	EXHAUST_FAN_DRIVE_RESET DOUBLE,
-- 	SUPPLY_FAN_INPUT_ENERGY DOUBLE,
-- 	SUPPLY_FAN_STATUS_WORD DOUBLE,
-- 	OUTSIDE_AIR_VELOCITY DOUBLE,
-- 	EXHAUST_FAN_TIME_OUT DOUBLE,
-- 	EXHAUST_FAN_INPUT_ENERGY DOUBLE,
-- 	Exhaust_FAN_STATUS_WORD DOUBLE,
-- 	MIX_AIR_DAMPER_COMMAND DOUBLE,
--    CONSTRAINT AHU_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
-- 	CONSTRAINT AHU_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AHU(ID)
--     );
-- Create indexes for AHU_Readings table
-- CREATE INDEX AHU_READINGS_PARENT_ID_INDEX on AHU_Readings (PARENT_ID);
-- CREATE INDEX AHU_READINGS_PARENT_ID_TTIME_INDEX ON AHU_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX AHU_READINGS_TTIME_INDEX ON AHU_Readings (ORGID, MODULEID, TTIME);

-- AHU Readings Tables ---

    CREATE TABLE IF NOT EXISTS AHU_Readings_General(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        RUN_COMMAND BOOLEAN,
        RUN_STATUS BOOLEAN,
        AUTO_MANUAL_STATUS BOOLEAN,
        TRIP_STATUS BOOLEAN,
        RUN_HOUR DOUBLE,
        FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        FILTER_DIRTY_STATUS BOOLEAN,
        PRE_FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        PRE_FILTER_STATUS BOOLEAN,
        BAG_FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        BAG_FILTER_STATUS BOOLEAN,
        CHILLED_WATER_ENTERING_TEMPERATURE DOUBLE,
        CHILLED_WATER_LEAVING_TEMPERATURE DOUBLE,
        CHILLED_WATER_DELTA_TEMPERATURE DOUBLE,
        CHILLED_WATER_FLOW_DIFFERENTIAL_PRESSURE DOUBLE,
        CHILLED_WATER_STRAINER_DIFFERENTIAL_PRESSURE DOUBLE,
        COOLING_COIL_VALVE_COMMAND BOOLEAN,
        COOLING_COIL_VALVE_STATUS BOOLEAN,
        COOLING_COIL_VALVE_CONTROL DOUBLE,
        COOLING_COIL_VALVE_FEEDBACK DOUBLE,
        AIRFLOW_COIL_DIFFERINATIAL_PRESSURE BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_AUTO_MANUAL_STATUS BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_COMMAND BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_RUN_STATUS BOOLEAN,
        SENSIBLE_HEAT_WHEEL_AUTO_MANUAL_STATUS BOOLEAN,
        SENSIBLE_HEAT_WHEEL_COMMAND BOOLEAN,
        SENSIBLE_HEAT_WHEEL_RUN_STATUS BOOLEAN,
          CONSTRAINT AHU_READINGS_GENERAL_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT AHU_READINGS_GENERAL_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AHU(ID));

    CREATE INDEX AHU_READINGS_GENERAL_PARENT_ID_INDEX on AHU_Readings_General (PARENT_ID);
    CREATE INDEX AHU_READINGS_GENERAL_PARENT_ID_TTIME_INDEX ON AHU_Readings_General (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX AHU_READINGS_GENERAL_TTIME_INDEX ON AHU_Readings_General (ORGID, MODULEID, TTIME);

    CREATE TABLE IF NOT EXISTS AHU_Readings_Supply_Air(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        OUTSIDE_AIR_TEMPERATURE DOUBLE,
        OUTSIDE_AIR_HUMIDITY DOUBLE,
        OUTSIDE_AIR_DAMPER_CONTROL DOUBLE,
        OUTSIDE_AIR_DAMPER_FEEDBACK DOUBLE,
        SUPPLY_AIR_DAMPER_CONTROL DOUBLE,
        SUPPLY_AIR_DAMPER_FEEDBACK DOUBLE,
        SUPPLY_AIR_TEMPERATURE DOUBLE,
        SUPPLY_AIR_TEMPERATURE_SETPOINT DOUBLE,
        SUPPLY_AIR_HUMIDITY DOUBLE,
        SUPPLY_AIR_HUMIDITY_SETPOINT DOUBLE,
        SUPPLY_AIR_PRESSURE DOUBLE,
        SUPPLY_AIR_PRESSURE_SETPOINT DOUBLE,
        SUPPLY_AIR_FLOW_RATE DOUBLE,
        SUPPLY_FAN_MOTOR_ENERGY DOUBLE,
        SUPPLY_FAN_MOTOR_POWER DOUBLE,
        SUPPLY_FAN_MOTOR_DRIVE_END_TEMPERATURE DOUBLE,
        SUPPLY_FAN_MOTOR_DRIVE_END_VIBRATION DOUBLE,
        SUPPLY_FAN_MOTOR_NONDRIVE_END_TEMPERATURE DOUBLE,
        SUPPLY_FAN_MOTOR_NONDRIVE_END_VIBRATION DOUBLE,
        SUPPLY_FAN_VFD_CONTROL DOUBLE,
        SUPPLY_FAN_VFD_FEEDBACK DOUBLE,
        SUPPLY_FAN_VFD_FREQUENCY DOUBLE,
        SUPPLY_FAN_VFD_SPEED DOUBLE,
        SUPPLY_FAN_VFD_AUTO_MANUAL_STATUS BOOLEAN,
        SUPPLY_FAN_VFD_RUN_STATUS BOOLEAN,
        OUTSIDE_AIR_DAMPER_COMMAND BOOLEAN,
        OUTSIDE_AIR_DAMPER_STATUS BOOLEAN,
        SUPPLY_AIR_DAMPER_COMMAND BOOLEAN,
        SUPPLY_AIR_DAMPER_STATUS BOOLEAN,
        SUPPLY_AIR_FLOW_STATUS BOOLEAN,
        SUPPLY_AIR_FLOW_FAIL_ALARM BOOLEAN,
        SUPPLY_FAN_AUTO_MANUAL_STATUS BOOLEAN,
        SUPPLY_FAN_COMMAND BOOLEAN,
        SUPPLY_FAN_RUN_STATUS BOOLEAN,
        CONSTRAINT AHU_READINGS_SUPPLY_AIR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT AHU_READINGS_SUPPLY_AIR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AHU(ID));

    CREATE INDEX AHU_READINGS_SUPPLY_AIR_PARENT_ID_INDEX on AHU_Readings_Supply_Air (PARENT_ID);
    CREATE INDEX AHU_READINGS_SUPPLY_AIR_PARENT_ID_TTIME_INDEX ON AHU_Readings_Supply_Air (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX AHU_READINGS_SUPPLY_AIR_TTIME_INDEX ON AHU_Readings_Supply_Air (ORGID, MODULEID, TTIME);

 CREATE TABLE IF NOT EXISTS AHU_Readings_Exhaust_Air(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        EXHAUST_AIR_DAMPER_COMMAND BOOLEAN,
        EXHAUST_AIR_DAMPER_STATUS BOOLEAN,
        EXHAUST_AIR_DAMPER_CONTROL DOUBLE,
        EXHAUST_AIR_DAMPER_FEEDBACK DOUBLE,
        RETURN_AIR_TEMPERATURE DOUBLE,
        RETURN_AIR_TEMPERATURE_SETPOINT DOUBLE,
        RETURN_AIR_HUMIDITY DOUBLE,
        RETURN_AIR_HUMIDITY_SETPOINT DOUBLE,
        RETURN_AIR_DAMPER_COMMAND BOOLEAN,
        RETURN_AIR_DAMPER_STATUS BOOLEAN,
        RETURN_AIR_DAMPER_CONTROL DOUBLE,
        RETURN_AIR_DAMPER_FEEDBACK DOUBLE,
        RETURN_AIR_FLOW_RATE DOUBLE,
        RETURN_AIR_FLOW_STATUS BOOLEAN,
        RETURN_AIR_FLOW_FAIL_ALARM BOOLEAN,
        RETURN_FAN_AUTO_MANUAL_STATUS BOOLEAN,
        RETURN_FAN_COMMAND BOOLEAN,
        RETURN_FAN_RUN_STATUS BOOLEAN,
        RETURN_FAN_MOTOR_ENERGY DOUBLE,
        RETURN_FAN_MOTOR_POWER DOUBLE,
        RETURN_FAN_MOTOR_DRIVE_END_TEMPERATURE DOUBLE,
        RETURN_FAN_MOTOR_DRIVE_END_VIBRATION DOUBLE,
        RETURN_FAN_MOTOR_NONDRIVE_END_TEMPERATURE DOUBLE,
        RETURN_FAN_MOTOR_NONDRIVE_END_VIBRATION DOUBLE,
        RETURN_FAN_VFD_CONTROL DOUBLE,
        RETURN_FAN_VFD_FEEDBACK DOUBLE,
        RETURN_FAN_VFD_FREQUENCY DOUBLE,
        RETURN_FAN_VFD_SPEED DOUBLE,
        RETURN_FAN_VFD_AUTO_MANUAL_STATUS BOOLEAN,
        RETURN_FAN_VFD_RUN_STATUS BOOLEAN,
        CONSTRAINT AHU_READINGS_EXHAUST_AIR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT AHU_READINGS_EXHAUST_AIR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AHU(ID));

    CREATE INDEX AHU_READINGS_EXHAUST_AIR_PARENT_ID_INDEX on AHU_Readings_Exhaust_Air (PARENT_ID);
    CREATE INDEX AHU_READINGS_EXHAUST_AIR_PARENT_ID_TTIME_INDEX ON AHU_Readings_Exhaust_Air (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX AHU_READINGS_EXHAUST_AIR_TTIME_INDEX ON AHU_Readings_Exhaust_Air (ORGID, MODULEID, TTIME);

    CREATE TABLE IF NOT EXISTS AHU_Readings_Mix_Air(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        MIXED_AIR_TEMPERATURE DOUBLE,
        MIXED_AIR_HUMIDITY DOUBLE,
        MIXED_AIR_DAMPER_COMMAND  BOOLEAN,
        MIXED_AIR_DAMPER_STATUS  BOOLEAN,
        MIXED_AIR_DAMPER_CONTROL DOUBLE,
        MIXED_AIR_DAMPER_FEEDBACK DOUBLE,
        CONSTRAINT AHU_READINGS_MIX_AIR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT AHU_READINGS_MIX_AIR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AHU(ID));

    CREATE INDEX AHU_READINGS_MIX_AIR_PARENT_ID_INDEX on AHU_Readings_Mix_Air (PARENT_ID);
    CREATE INDEX AHU_READINGS_MIX_AIR_PARENT_ID_TTIME_INDEX ON AHU_Readings_Mix_Air (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX AHU_READINGS_MIX_AIR_TTIME_INDEX ON AHU_Readings_Mix_Air (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS FAHU (
  ID bigint(20) NOT NULL,
  ORGID bigint(20) NOT NULL,
  MODULEID bigint(20) NOT NULL,
  STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
  SITE_ID bigint(20) NOT NULL,
  PRIMARY KEY (ID),
  KEY FAHU_FK_ORGID (ORGID),
  KEY FAHU_FK_MODULEID (MODULEID),
  KEY FAHU_FK_SITEID (SITE_ID),
  CONSTRAINT FAHU_FK_ID FOREIGN KEY (ID) REFERENCES Assets (ID) ON DELETE CASCADE,
  CONSTRAINT FAHU_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT FAHU_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

-- FAHU Readings Tables ---

    CREATE TABLE IF NOT EXISTS FAHU_Readings_General(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        RUN_COMMAND BOOLEAN,
        RUN_STATUS BOOLEAN,
        AUTO_MANUAL_STATUS BOOLEAN,
        TRIP_STATUS BOOLEAN,
        RUN_HOUR DOUBLE,
        FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        FILTER_DIRTY_STATUS BOOLEAN,
        PRE_FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        PRE_FILTER_STATUS BOOLEAN,
        BAG_FILTER_DIFFERENTIAL_PRESSURE DOUBLE,
        BAG_FILTER_STATUS BOOLEAN,
        CHILLED_WATER_ENTERING_TEMPERATURE DOUBLE,
        CHILLED_WATER_LEAVING_TEMPERATURE DOUBLE,
        CHILLED_WATER_DELTA_TEMPERATURE DOUBLE,
        CHILLED_WATER_FLOW_DIFFERENTIAL_PRESSURE DOUBLE,
        CHILLED_WATER_STRAINER_DIFFERENTIAL_PRESSURE DOUBLE,
        COOLING_COIL_VALVE_COMMAND BOOLEAN,
        COOLING_COIL_VALVE_STATUS BOOLEAN,
        COOLING_COIL_VALVE_CONTROL DOUBLE,
        COOLING_COIL_VALVE_FEEDBACK DOUBLE,
        AIRFLOW_COIL_DIFFERINATIAL_PRESSURE BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_AUTO_MANUAL_STATUS BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_COMMAND BOOLEAN,
        ENTHALPHY_HEAT_WHEEL_RUN_STATUS BOOLEAN,
        SENSIBLE_HEAT_WHEEL_AUTO_MANUAL_STATUS BOOLEAN,
        SENSIBLE_HEAT_WHEEL_COMMAND BOOLEAN,
        SENSIBLE_HEAT_WHEEL_RUN_STATUS BOOLEAN,
          CONSTRAINT FAHU_READINGS_GENERAL_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT FAHU_READINGS_GENERAL_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FAHU(ID));

    CREATE INDEX FAHU_READINGS_GENERAL_PARENT_ID_INDEX on FAHU_Readings_General (PARENT_ID);
    CREATE INDEX FAHU_READINGS_GENERAL_PARENT_ID_TTIME_INDEX ON FAHU_Readings_General (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX FAHU_READINGS_GENERAL_TTIME_INDEX ON FAHU_Readings_General (ORGID, MODULEID, TTIME);

    CREATE TABLE IF NOT EXISTS FAHU_Readings_Supply_Air(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        OUTSIDE_AIR_TEMPERATURE DOUBLE,
        OUTSIDE_AIR_HUMIDITY DOUBLE,
        OUTSIDE_AIR_DAMPER_CONTROL DOUBLE,
        OUTSIDE_AIR_DAMPER_FEEDBACK DOUBLE,
        SUPPLY_AIR_DAMPER_CONTROL DOUBLE,
        SUPPLY_AIR_DAMPER_FEEDBACK DOUBLE,
        SUPPLY_AIR_TEMPERATURE DOUBLE,
        SUPPLY_AIR_TEMPERATURE_SETPOINT DOUBLE,
        SUPPLY_AIR_HUMIDITY DOUBLE,
        SUPPLY_AIR_HUMIDITY_SETPOINT DOUBLE,
        SUPPLY_AIR_PRESSURE DOUBLE,
        SUPPLY_AIR_PRESSURE_SETPOINT DOUBLE,
        SUPPLY_AIR_FLOW_RATE DOUBLE,
        SUPPLY_FAN_MOTOR_ENERGY DOUBLE,
        SUPPLY_FAN_MOTOR_POWER DOUBLE,
        SUPPLY_FAN_MOTOR_DRIVE_END_TEMPERATURE DOUBLE,
        SUPPLY_FAN_MOTOR_DRIVE_END_VIBRATION DOUBLE,
        SUPPLY_FAN_MOTOR_NONDRIVE_END_TEMPERATURE DOUBLE,
        SUPPLY_FAN_MOTOR_NONDRIVE_END_VIBRATION DOUBLE,
        SUPPLY_FAN_VFD_CONTROL DOUBLE,
        SUPPLY_FAN_VFD_FEEDBACK DOUBLE,
        SUPPLY_FAN_VFD_FREQUENCY DOUBLE,
        SUPPLY_FAN_VFD_SPEED DOUBLE,
        SUPPLY_FAN_VFD_AUTO_MANUAL_STATUS BOOLEAN,
        SUPPLY_FAN_VFD_RUN_STATUS BOOLEAN,
        OUTSIDE_AIR_DAMPER_COMMAND BOOLEAN,
        OUTSIDE_AIR_DAMPER_STATUS BOOLEAN,
        SUPPLY_AIR_DAMPER_COMMAND BOOLEAN,
        SUPPLY_AIR_DAMPER_STATUS BOOLEAN,
        SUPPLY_AIR_FLOW_STATUS BOOLEAN,
        SUPPLY_AIR_FLOW_FAIL_ALARM BOOLEAN,
        SUPPLY_FAN_AUTO_MANUAL_STATUS BOOLEAN,
        SUPPLY_FAN_COMMAND BOOLEAN,
        SUPPLY_FAN_RUN_STATUS BOOLEAN,
        CONSTRAINT FAHU_READINGS_SUPPLY_AIR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT FAHU_READINGS_SUPPLY_AIR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FAHU(ID));

    CREATE INDEX FAHU_READINGS_SUPPLY_AIR_PARENT_ID_INDEX on FAHU_Readings_Supply_Air (PARENT_ID);
    CREATE INDEX FAHU_READINGS_SUPPLY_AIR_PARENT_ID_TTIME_INDEX ON FAHU_Readings_Supply_Air (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX FAHU_READINGS_SUPPLY_AIR_TTIME_INDEX ON FAHU_Readings_Supply_Air (ORGID, MODULEID, TTIME);

    CREATE TABLE IF NOT EXISTS FAHU_Readings_Return_Air(
        ID BIGINT AUTO_INCREMENT PRIMARY KEY,
        ORGID BIGINT NOT NULL,
        MODULEID BIGINT NOT NULL,
        SOURCE_TYPE BIGINT,
        SOURCE_ID BIGINT,
        ACTUAL_TTIME BIGINT NOT NULL,
        TTIME BIGINT NOT NULL,
        TTIME_DATE DATE NOT NULL,
        TTIME_MONTH INT NOT NULL,
        TTIME_WEEK INT NOT NULL,
        TTIME_DAY INT NOT NULL,
        TTIME_HOUR INT NOT NULL,
        PARENT_ID BIGINT NOT NULL,
        RETURN_AIR_DAMPER_COMMAND BOOLEAN,
        RETURN_AIR_DAMPER_STATUS BOOLEAN,
        RETURN_AIR_DAMPER_CONTROL DOUBLE,
        RETURN_AIR_DAMPER_FEEDBACK DOUBLE,
        RETURN_AIR_TEMPERATURE DOUBLE,
        RETURN_AIR_TEMPERATURE_SETPOINT DOUBLE,
        EXHAUST_AIR_HUMIDITY DOUBLE,
        EXHAUST_AIR_HUMIDITY_SETPOINT DOUBLE,
        EXHAUST_AIR_DAMPER_COMMAND BOOLEAN,
        EXHAUST_AIR_DAMPER_STATUS BOOLEAN,
        EXHAUST_AIR_DAMPER_CONTROL DOUBLE,
        EXHAUST_AIR_DAMPER_FEEDBACK DOUBLE,
        EXHAUST_AIR_FLOW_RATE DOUBLE,
        EXHAUST_AIR_FLOW_STATUS BOOLEAN,
        EXHAUST_AIR_FLOW_FAIL_ALARM BOOLEAN,
        EXHAUST_FAN_AUTO_MANUAL_STATUS BOOLEAN,
        EXHAUST_FAN_COMMAND BOOLEAN,
        EXHAUST_FAN_RUN_STATUS BOOLEAN,
        EXHAUST_FAN_MOTOR_ENERGY DOUBLE,
        EXHAUST_FAN_MOTOR_POWER DOUBLE,
        EXHAUST_FAN_MOTOR_DRIVE_END_TEMPERATURE DOUBLE,
        EXHAUST_FAN_MOTOR_DRIVE_END_VIBRATION DOUBLE,
        EXHAUST_FAN_MOTOR_NONDRIVE_END_TEMPERATURE DOUBLE,
        EXHAUST_FAN_MOTOR_NONDRIVE_END_VIBRATION DOUBLE,
        EXHAUST_FAN_VFD_CONTROL DOUBLE,
        EXHAUST_FAN_VFD_FEEDBACK DOUBLE,
        EXHAUST_FAN_VFD_FREQUENCY DOUBLE,
        EXHAUST_FAN_VFD_SPEED DOUBLE,
        EXHAUST_FAN_VFD_AUTO_MANUAL_STATUS BOOLEAN,
        EXHAUST_FAN_VFD_RUN_STATUS BOOLEAN,
        CONSTRAINT FAHU_READINGS_RETURN_AIR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
        CONSTRAINT FAHU_READINGS_RETURN_AIR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FAHU(ID));

    CREATE INDEX FAHU_READINGS_RETURN_AIR_PARENT_ID_INDEX on FAHU_Readings_Return_Air (PARENT_ID);
    CREATE INDEX FAHU_READINGS_RETURN_AIR_PARENT_ID_TTIME_INDEX ON FAHU_Readings_Return_Air (ORGID, MODULEID, PARENT_ID, TTIME);
    CREATE INDEX FAHU_READINGS_RETURN_AIR_TTIME_INDEX ON FAHU_Readings_Return_Air (ORGID, MODULEID, TTIME);

-- CREATE TABLE IF NOT EXISTS FAHU_Readings (
--   ID bigint(20) NOT NULL AUTO_INCREMENT,
--   ORGID bigint(20) NOT NULL,
--   MODULEID bigint(20) NOT NULL,
--   SOURCE_TYPE BIGINT,
--   SOURCE_ID BIGINT,
--   ACTUAL_TTIME bigint(20) NOT NULL,
--   TTIME bigint(20) NOT NULL,
--   TTIME_DATE date NOT NULL,
--   TTIME_MONTH int(11) NOT NULL,
--   TTIME_WEEK int(11) NOT NULL,
--   TTIME_DAY int(11) NOT NULL,
--   TTIME_HOUR int(11) NOT NULL,
--   PARENT_ID bigint(20) NOT NULL,
--   RUN_STATUS tinyint(1) DEFAULT NULL,
--   AUTO_MANUAL_STATUS tinyint(1) DEFAULT NULL,
--   TRIP_STATUS tinyint(1) DEFAULT NULL,
--   PRE_FILTER_STATUS tinyint(1) DEFAULT NULL,
--   BAG_FILTER_STATUS tinyint(1) DEFAULT NULL,
--   BAG_FILTER_DP double DEFAULT NULL,
--   PRE_FILTER_DP double DEFAULT NULL,
--   FILTER_DIRTY_STATUS tinyint(1) DEFAULT NULL,
--   RUN_COMMAND tinyint(1) DEFAULT NULL,
--   COOLING_COIL_VALVE_COMMAND double DEFAULT NULL,
--   COOLING_COIL_VALVE_FEEDBACK double DEFAULT NULL,
--   COOLING_COIL_VALVE_POSITION tinyint(1) DEFAULT NULL,
--   SPACE_TEMPERATURE double DEFAULT NULL,
--   CHILLED_WATER_ENTERING_TEMPERATURE double DEFAULT NULL,
--   CHILLED_WATER_LEAVING_TEMPERATURE double DEFAULT NULL,
--   SUPPLY_AIR_TEMPERATURE double DEFAULT NULL,
--   RETURN_AIR_TEMPERATURE double DEFAULT NULL,
--   SUPPLY_AIR_TEMPERATURE_SET_POINT double DEFAULT NULL,
--   SUPPLY_AIR_HUMIDITY_SET_POINT double DEFAULT NULL,
--   RETURN_AIR_TEMPERATURE_SET_POINT double DEFAULT NULL,
--   ON_COIL_HUMIDITY double DEFAULT NULL,
--   ON_COIL_TEMPERATURE double DEFAULT NULL,
--   OFF_COIL_HUMIDITY double DEFAULT NULL,
--   OFF_COIL_TEMPERATURE double DEFAULT NULL,
--   SUPPLY_AIR_HUMIDITY double DEFAULT NULL,
--   RETURN_AIR_HUMIDITY double DEFAULT NULL,
--   DUCT_STATIC_PRESSURE double DEFAULT NULL,
--   SUPPLY_AIR_FAN_COMMAND tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_AIR_FLOW_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_AIR_FLOW_FAIL_ALARM tinyint(1) DEFAULT NULL,
--   SUPPLY_AIR_FAN_AUTO_MANUAL_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_TRIP_ALARM tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_VFD_COMMAND double DEFAULT NULL,
--   SUPPLY_FAN_VFD_FEEDBACK double DEFAULT NULL,
--   SUPPLY_AIR_DAMPER_COMMAND tinyint(1) DEFAULT NULL,
--   SUPPLY_AIR_DAMPER_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_MOTOR_POWER double DEFAULT NULL,
--   EXHAUST_AIR_FAN_COMMAND tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_AIR_FLOW_STATUS tinyint(1) DEFAULT NULL,
--   EXHAUST_AIR_FAN_AUTO_MANUAL_STATUS tinyint(1) DEFAULT NULL,
--   EXHASUT_FAN_VFD_TRIP_ALARM tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_VFD_COMMAND double DEFAULT NULL,
--   EXHAUST_FAN_VFD_FEEDBACK double DEFAULT NULL,
--   EXHAUST_AIR_DAMPER_COMMAND tinyint(1) DEFAULT NULL,
--   EXHAUST_AIR_DAMPER_STATUS tinyint(1) DEFAULT NULL,
--   EXHASUT_FAN_MOTOR_POWER double DEFAULT NULL,
--   RETURN_AIR_CO2 double DEFAULT NULL,
--   ENTHALPY_HEAT_WHEEL_RUN_STATUS tinyint(1) DEFAULT NULL,
--   ENTHALPY_HEAT_WHEEL_AUTO_MANUAL_STATUS tinyint(1) DEFAULT NULL,
--   ENTHALPY_HEAT_WHEEL_COMMAND tinyint(1) DEFAULT NULL,
--   ENTHALPY_HEAT_WHEEL_TRIP_ALARM tinyint(1) DEFAULT NULL,
--   OUTSIDE_AIR_TEMPERATURE double DEFAULT NULL,
--   OUTSIDE_AIR_HUMIDITY double DEFAULT NULL,
--   SENSIBLE_HEAT_WHEEL_RUN_STATUS tinyint(1) DEFAULT NULL,
--   SENSIBLE_HEAT_WHEEL_AUTO_MANUAL_STATUS tinyint(1) DEFAULT NULL,
--   SENSIBLE_HEAT_WHEEL_COMMAND tinyint(1) DEFAULT NULL,
--   SENSIBLE_HEAT_WHEEL_TRIP_ALARM tinyint(1) DEFAULT NULL,
--   AIRFLOW_COIL_DP double DEFAULT NULL,
--   CHILLED_WATER_FLOW_DP double DEFAULT NULL,
--   CHILLED_WATER_STRAINER_DP double DEFAULT NULL,
--   CHILLED_WATER_STRAINER_ALARM tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_COMMAND_WORD tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_STATUS_ALARM tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_TRIP_CODE tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_VFD_COMMAND_MODE tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_VFD_COMMAND_MODE_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_VFD_LOCAL_REMOTE_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_VFD_RUN_COMMAND_STATUS tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_COMMAND_WORD tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_STATUS_ALARM tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_TRIP_CODE tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_VFD_COMMAND_MODE tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_VFD_COMMAND_MODE_STATUS tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_VFD_LOCAL_REMOTE_STATUS tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_VFD_RUN_COMMAND_STATUS tinyint(1) DEFAULT NULL,
--   OCCUPANCY tinyint(1) DEFAULT NULL,
--   IS_COMPRESSOR tinyint(1) DEFAULT NULL,
--   INVALID_SETPOINT_ALARM tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_ALARM_CODE tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_ALARM_CODE tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_SET_POINT_MODE tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_SET_POINT_MODE tinyint(1) DEFAULT NULL,
--   EXHAUST_FAN_SET_POINT_MODE_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_FAN_SET_POINT_MODE_STATUS tinyint(1) DEFAULT NULL,
--   SUPPLY_AIR_ENTHALPHY double DEFAULT NULL,
--   RETURN_AIR_ENTHALPHY double DEFAULT NULL,
--   SUPPLY_AIR_PRESSURE double DEFAULT NULL,
--   EXHAUST_AIR_PRESSURE double DEFAULT NULL,
--   SUPPLY_AIR_PRESSURE_SETPOINT double DEFAULT NULL,
--   EXHAUST_AIR_PRESSURE_SETPOINT double DEFAULT NULL,
--   SUPPLY_FAN_MOTOR_VIBRATION double DEFAULT NULL,
--   EXHAUST_FAN_MOTOR_VIBRATION double DEFAULT NULL,
--   SUPPLY_AIR_VELOCITY double DEFAULT NULL,
--   RETURN_AIR_VELOCITY double DEFAULT NULL,
--   SUPPLY_FAN_FREQUENCY_SET_POINT double DEFAULT NULL,
--   SUPPLY_FAN_INPUT_POWER double DEFAULT NULL,
--   SUPPLY_FAN_OUTPUT_CURRENTRLA double DEFAULT NULL,
--   SUPPLY_FAN_OUTPUT_FREQUENCY double DEFAULT NULL,
--   SUPPLY_FAN_TORQUE double DEFAULT NULL,
--   EXHAUST_FAN_FREQUENCY_SET_POINT double DEFAULT NULL,
--   EXHAUST_FAN_INPUT_POWER double DEFAULT NULL,
--   EXHAUST_FAN_OUTPUT_CURRENTRLA double DEFAULT NULL,
--   EXHAUST_FAN_OUTPUT_FREQUENCY double DEFAULT NULL,
--   EXHAUST_FAN_TORQUE double DEFAULT NULL,
--   OCCUPANCY_HEAT double DEFAULT NULL,
--   OCCUPANCY_COOL double DEFAULT NULL,
--   HEAT_PERCENTAGE double DEFAULT NULL,
--   SUPPLY_FAN_DRIVE_RESET double DEFAULT NULL,
--   SUPPLY_FAN_TIME_OUT double DEFAULT NULL,
--   EXHAUST_FAN_DRIVE_RESET double DEFAULT NULL,
--   SUPPLY_FAN_INPUT_ENERGY double DEFAULT NULL,
--   SUPPLY_FAN_STATUS_WORD double DEFAULT NULL,
--   OUTSIDE_AIR_VELOCITY double DEFAULT NULL,
--   EXHAUST_FAN_TIME_OUT double DEFAULT NULL,
--   EXHAUST_FAN_INPUT_ENERGY double DEFAULT NULL,
--   Exhaust_FAN_STATUS_WORD double DEFAULT NULL,
--   PRIMARY KEY (ID),
--   KEY FAHU_READINGS_FK_ORGID (ORGID),
--   KEY FAHU_READINGS_FK_MODULEID (MODULEID),
--   KEY FAHU_READINGS_FK_PARENT_ID (PARENT_ID),
--   CONSTRAINT FAHU_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
--   CONSTRAINT FAHU_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FAHU (ID)
-- );
--
-- -- Create indexes for FAHU_Readings table
-- CREATE INDEX FAHU_READINGS_PARENT_ID_INDEX on FAHU_Readings (PARENT_ID);
-- CREATE INDEX FAHU_READINGS_PARENT_ID_TTIME_INDEX ON FAHU_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX FAHU_READINGS_TTIME_INDEX ON FAHU_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Cooling_Tower (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT COOLING_TOWER_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT COOLING_TOWER_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT COOLING_TOWER_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Cooling_Tower_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	AUTO_MANUAL_STATUS BOOLEAN,
	COMMAND DOUBLE,
	FAIL_STATUS BOOLEAN,
	INLET_VALVE_COMMAND DOUBLE,
	INLET_VALVE_OPEN_STATUS BOOLEAN,
	OUTLET_TEMPERATURE DOUBLE,
	OUTLET_VALVE_COMMAND DOUBLE,
	OUTLET_VALVE_OPEN_STATUS BOOLEAN,
	RUN_STATUS BOOLEAN,
	RUN_HOURS DOUBLE,
	VFD_COMMAND_STATUS BOOLEAN,
	VFD_FEEDBACK DOUBLE,
	TRIP_STATUS BOOLEAN,
	RUN_COMMAND BOOLEAN,
	VFD_COMMAND BOOLEAN,
	INLET_VALVE_COMMANDS BOOLEAN,
	INLET_VALVE1_COMMAND BOOLEAN,
	INLET_VALVE2_COMMAND BOOLEAN,
	INLET_VALVE1_OPEN_STATUS BOOLEAN,
	INLET_VALVE2_OPEN_STATUS BOOLEAN,
	OUTLET_VALVE_COMMANDS BOOLEAN,
	OUTLET_VALVE1_COMMAND BOOLEAN,
	OUTLET_VALVE2_COMMAND BOOLEAN,
	OUTLET_VALVE1_OPEN_STATUS BOOLEAN,
	OUTLET_VALVE2_OPEN_STATUS BOOLEAN,
	INTEL_TEMPERATURE DOUBLE,
	FAN_COMMAND BOOLEAN,
	FAN1_COMMAND BOOLEAN,
	FAN2_COMMAND BOOLEAN,
	FAN3_COMMAND BOOLEAN,
	FAN4_COMMAND BOOLEAN,
	FAN_RUN_STATUS BOOLEAN,
	FAN1_RUN_STATUS BOOLEAN,
	FAN2_RUN_STATUS BOOLEAN,
	FAN3_RUN_STATUS BOOLEAN,
	FAN4_RUN_STATUS BOOLEAN,
	CONSTRAINT COOLING_TOWER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT COOLING_TOWER_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Cooling_Tower(ID)
);
-- Create indexes for Cooling_Tower_Readings table
CREATE INDEX COOLING_TOWER_READINGS_PARENT_ID_INDEX on Cooling_Tower_Readings (PARENT_ID);
CREATE INDEX COOLING_TOWER_READINGS_PARENT_ID_TTIME_INDEX ON Cooling_Tower_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX COOLING_TOWER_READINGS_TTIME_INDEX ON Cooling_Tower_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS FCU (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT FCU_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT FCU_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT FCU_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

-- CREATE TABLE IF NOT EXISTS FCU_Readings_2 (
-- 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	MODULEID BIGINT NOT NULL,
-- 	SOURCE_TYPE BIGINT,
-- 	SOURCE_ID BIGINT,
-- 	ACTUAL_TTIME BIGINT NOT NULL,
-- 	TTIME BIGINT NOT NULL,
-- 	TTIME_DATE DATE NOT NULL,
-- 	TTIME_MONTH INT NOT NULL,
-- 	TTIME_WEEK INT NOT NULL,
-- 	TTIME_DAY INT NOT NULL,
-- 	TTIME_HOUR INT NOT NULL,
-- 	PARENT_ID BIGINT NOT NULL,
-- 	FAN_MODE TINYINT,
-- 	FCU_VALVE BOOLEAN,
-- 	ROOM_TEMPERATURE DOUBLE,
-- 	SET_POINT DOUBLE,
-- 	FCU_RUN_STATUS BOOLEAN,
-- 	FCU_RUN_COMMAND BOOLEAN,
-- 	SUPPLY_AIR_TEMPERATURE DOUBLE,
-- 	SUPPLY_AIR_TEMPERATURE_SET_POINT DOUBLE,
-- 	CHILLED_WATER_ENTERING_TEMPERATURE DOUBLE,
-- 	CHILLED_WATER_LEAVING_TEMPERATURE DOUBLE,
-- 	VALVE_FEEDBACK DOUBLE,
-- 	VALVE_COMMAND DOUBLE,
-- 	FCU_FAN_MODE TINYINT,
-- 	CONSTRAINT FCU_READINGS_2_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
-- 	CONSTRAINT FCU_READINGS_2_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FCU(ID)
-- );
-- -- Create indexes for FCU_Readings table
-- CREATE INDEX FCU_READINGS_2_PARENT_ID_INDEX on FCU_Readings_2 (PARENT_ID);
-- CREATE INDEX FCU_READINGS_2_PARENT_ID_TTIME_INDEX ON FCU_Readings_2 (ORGID, MODULEID, PARENT_ID, TTIME);
-- CREATE INDEX FCU_READINGS_2_TTIME_INDEX ON FCU_Readings_2 (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS FCU_Readings_Default (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
    RUN_STATUS	BOOLEAN,
    RUN_HOURS DOUBLE,
    RUN_COMMAND	BOOLEAN,
    AUTO_MANUAL_STATUS	BOOLEAN,
    TRIP_STATUS	BOOLEAN,
    FCU_MODE	BOOLEAN,
    SUPPLY_AIR_TEMPERATURE	DOUBLE,
    SUPPLY_AIR_TEMPERATURE_SETPOINT	DOUBLE,
    RETURN_AIR_TEMPERATURE	DOUBLE,
    RETURN_AIR_TEMPERATURE_SETPOINT	DOUBLE,
    SPACE_TEMPERATURE	DOUBLE,
    SPACE_TEMPERATURE_SETPOINT	DOUBLE,
    COOLING_COIL_VALVE_COMMAND	BOOLEAN,
    COOLING_COIL_VALVE_STATUS	BOOLEAN,
    COOLING_COIL_VALVE_CONTROL	DOUBLE,
    COOLING_COIL_VALVE_FEEDBACK	DOUBLE,
    FAN_STATUS	BOOLEAN,
    FAN_COMMAND	BOOLEAN,
    VFD_FAN_CONTROL	DOUBLE,
    VFD_FAN_FEEDBACK	DOUBLE,
    CHILLED_WATER_ENTERING_TEMPERATURE	DOUBLE,
    CHILLED_WATER_LEAVING_TEMPERATURE	DOUBLE,
    OCCUPANCY_STATUS	BOOLEAN,
    CONSTRAINT FCU_READINGS_DEFAULT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT FCU_READINGS_DEFAULT_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FCU(ID)
);


CREATE INDEX FCU_READINGS_DEFAULT_PARENT_ID_INDEX on FCU_Readings_Default (PARENT_ID);
CREATE INDEX FCU_READINGS_DEFAULT_PARENT_ID_TTIME_INDEX ON FCU_Readings_Default (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX FCU_READINGS_DEFAULT_TTIME_INDEX ON FCU_Readings_Default (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Heat_Pump (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT HEAT_PUMP_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT HEAT_PUMP_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT HEAT_PUMP_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Heat_Pump_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	FAN_POWER BIGINT,
	OCCUPANCY_STATUS BOOLEAN,
	DISCHARGE_AIR_TEMPERATURE BIGINT,
	REVERSING_VALVE_COMMAND BOOLEAN,
	ISOLATION_VALVE_COMMAND BOOLEAN,
	COMPRESSOR_POWER BIGINT,
	FAN_COMMAND BOOLEAN,
	SPACE_TEMPERATURE BIGINT,
	LEAVING_WATER_TEMPERATURE BIGINT,
	COMPRESSOR_COMMAND BOOLEAN,
	FAN_STATUS BOOLEAN,
	CONSTRAINT HEAT_PUMP_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT HEAT_PUMP_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Heat_Pump(ID)
);
-- Create indexes for Heat_Pump_Readings table
CREATE INDEX HEAT_PUMP_READINGS_PARENT_ID_INDEX on Heat_Pump_Readings (PARENT_ID);
CREATE INDEX HEAT_PUMP_READINGS_PARENT_ID_TTIME_INDEX ON Heat_Pump_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX HEAT_PUMP_READINGS_TTIME_INDEX ON Heat_Pump_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Utility_Meters (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ASSET_NUMBER VARCHAR(100),
	PREMISE VARCHAR(100),
	LOCATION VARCHAR(100),
	CONSUMER_NUMBER VARCHAR(100),
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	SITE_ID BIGINT NOT NULL,
	CONSTRAINT UTILITY_METERS_FK_ID FOREIGN KEY (ID) REFERENCES Assets(ID) ON DELETE CASCADE,
	CONSTRAINT UTILITY_METERS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT UTILITY_METERS_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS Utility_Bill_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	BILL_START_DATE BIGINT,
	BILL_DATE BIGINT,
	BILL_DUE_DATE BIGINT,
	BILL_ID VARCHAR(50),
	ENERGY_CONSUMPTION DOUBLE,
	ENERGY_COST DOUBLE,
	DEMAND DOUBLE,
	DEMAND_COST DOUBLE,
	WATER_CONSUMPTION DOUBLE,
	WATER_COST DOUBLE,
	GAS_CONSUMPTION DOUBLE,
	GAS_COST DOUBLE,
	SEWER_USAGE DOUBLE,
	SEWER_USAGE_COST DOUBLE,
	STORM_WATER_COST DOUBLE,
	TOTAL_COST DOUBLE,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	CONSTRAINT UTILITY_BILL_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT UTILITY_BILL_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Utility_Meters(ID)
);

-- Create indexes for Utility_Bill_Readings table
CREATE INDEX UTILITY_BILL_READINGS_PARENT_ID_INDEX on Utility_Bill_Readings (PARENT_ID);
CREATE INDEX UTILITY_BILL_READINGS_PARENT_ID_TTIME_INDEX ON Utility_Bill_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX UTILITY_BILL_READINGS_TTIME_INDEX ON Utility_Bill_Readings (ORGID, MODULEID, TTIME);



CREATE TABLE IF NOT EXISTS Water_Meter (
  ID BIGINT(20) PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  MODULEID BIGINT(20) NOT NULL,
  STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
  SITE_ID BIGINT(20) DEFAULT NULL,
  CONSTRAINT WATER_METER_FK_ID FOREIGN KEY (ID) REFERENCES Assets (ID) ON DELETE CASCADE,
  CONSTRAINT WATER_METER_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT WATER_METER_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS Water_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	WATER_CONSUMPTION DOUBLE,
	WATER_CONSUMPTION_DELTA DOUBLE,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	CONSTRAINT WATER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WATER_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Water_Meter(ID)
);

-- Create indexes for Water_Readings table
CREATE INDEX WATER_READINGS_PARENT_ID_INDEX on Water_Readings (PARENT_ID);
CREATE INDEX WATER_READINGS_PARENT_ID_TTIME_INDEX ON Water_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX WATER_READINGS_TTIME_INDEX ON Water_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Asset_Photos (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ASSET BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	PHOTO_ID BIGINT NOT NULL,
	CONSTRAINT ASSET_PHOTOS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSET_PHOTOS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ASSET) REFERENCES Assets (ID),
	CONSTRAINT ASSET_PHOTOS_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Asset_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ASSET BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	CONSTRAINT ASSET_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSET_ATTACHEMENTS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ASSET) REFERENCES Assets (ID),
	CONSTRAINT ASSET_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Site_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_SITE BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	CONSTRAINT SITE_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SITE_ATTACHEMENTS_FK_PARENT_SITE FOREIGN KEY (PARENT_SITE) REFERENCES Site (ID),
	CONSTRAINT SITE_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Asset_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT ASSET_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ASSET_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ASSET_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Assets(ID) ON DELETE CASCADE
);

-- Create Tickets Tables
CREATE TABLE IF NOT EXISTS TicketStatus (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	DISPLAY_NAME varchar(50),
	STATUS VARCHAR(20) NOT NULL,
	STATUS_TYPE TINYINT NOT NULL,
	IS_TIMER_ENABLED BOOLEAN NOT NULL DEFAULT 0,
	RECORD_LOCKED BOOLEAN NOT NULL DEFAULT 0,
	REQUESTED_STATE BOOLEAN NOT NULL DEFAULT 0,
	PARENT_MODULEID BIGINT,
	CONSTRAINT TICKET_STATUS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKET_STATUS_UNIQUE UNIQUE (ORGID, STATUS, PARENT_MODULEID)
);

CREATE TABLE IF NOT EXISTS TicketStateFlow (
	ACTIVITY_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ACTIVITY_NAME VARCHAR(20) NOT NULL,
	STATE_ID BIGINT NOT NULL,
	NEXT_STATE_ID BIGINT NOT NULL,
	CONSTRAINT TICKET_STATEFLOW_FK_STATE FOREIGN KEY (STATE_ID) REFERENCES TicketStatus(ID),
	CONSTRAINT TICKET_STATEFLOW_FK_NEXT_STATE FOREIGN KEY (STATE_ID) REFERENCES TicketStatus(ID),
	CONSTRAINT TICKET_STATEFLOW_UNIQUE UNIQUE (STATE_ID, NEXT_STATE_ID)
);


CREATE INDEX TENANTS_LOCAL_ID ON Tenants (ORGID,MODULEID,LOCAL_ID);

CREATE TABLE IF NOT EXISTS Tenant_Unit_Space
(
    ID            BIGINT PRIMARY KEY,
    ORGID         BIGINT NOT NULL,
    MODULEID      BIGINT NOT NULL,
    IS_OCCUPIED   TINYINT,
    TENANT_ID     BIGINT,
    SITE_ID       BIGINT,
    STRING_CF1    VARCHAR(255),
    STRING_CF2    VARCHAR(255),
    STRING_CF3    VARCHAR(255),
    STRING_CF4    VARCHAR(255),
    STRING_CF5    VARCHAR(255),
    STRING_CF6    VARCHAR(255),
    STRING_CF7    VARCHAR(255),
    STRING_CF8    VARCHAR(255),
    STRING_CF9    VARCHAR(255),
    STRING_CF10   VARCHAR(255),
    STRING_CF11   VARCHAR(255),
    STRING_CF12   VARCHAR(255),
    STRING_CF13   VARCHAR(255),
    STRING_CF14   VARCHAR(255),
    STRING_CF15   VARCHAR(255),
    STRING_CF16   VARCHAR(255),
    STRING_CF17   VARCHAR(255),
    STRING_CF18   VARCHAR(255),
    STRING_CF19   VARCHAR(255),
    STRING_CF20   VARCHAR(255),
    STRING_CF21   VARCHAR(255),
    STRING_CF22   VARCHAR(255),
    STRING_CF23   VARCHAR(255),
    STRING_CF24   VARCHAR(255),
    STRING_CF25   VARCHAR(255),
    STRING_CF26   VARCHAR(255),
    STRING_CF27   VARCHAR(255),
    STRING_CF28   VARCHAR(255),
    STRING_CF29   VARCHAR(255),
    STRING_CF30   VARCHAR(255),
    NUMBER_CF1    BIGINT,
    NUMBER_CF2    BIGINT,
    NUMBER_CF3    BIGINT,
    NUMBER_CF4    BIGINT,
    NUMBER_CF5    BIGINT,
    NUMBER_CF6    BIGINT,
    NUMBER_CF7    BIGINT,
    NUMBER_CF8    BIGINT,
    NUMBER_CF9    BIGINT,
    NUMBER_CF10   BIGINT,
    NUMBER_CF11   BIGINT,
    NUMBER_CF12   BIGINT,
    NUMBER_CF13   BIGINT,
    NUMBER_CF14   BIGINT,
    NUMBER_CF15   BIGINT,
    NUMBER_CF16   BIGINT,
    NUMBER_CF17   BIGINT,
    NUMBER_CF18   BIGINT,
    NUMBER_CF19   BIGINT,
    NUMBER_CF20   BIGINT,
    NUMBER_CF21   BIGINT,
    NUMBER_CF22   BIGINT,
    NUMBER_CF23   BIGINT,
    NUMBER_CF24   BIGINT,
    NUMBER_CF25   BIGINT,
    NUMBER_CF26   BIGINT,
    NUMBER_CF27   BIGINT,
    NUMBER_CF28   BIGINT,
    NUMBER_CF29   BIGINT,
    NUMBER_CF30   BIGINT,
    DECIMAL_CF1   DOUBLE,
    DECIMAL_CF2   DOUBLE,
    DECIMAL_CF3   DOUBLE,
    DECIMAL_CF4   DOUBLE,
    DECIMAL_CF5   DOUBLE,
    DECIMAL_CF6   DOUBLE,
    DECIMAL_CF7   DOUBLE,
    DECIMAL_CF8   DOUBLE,
    DECIMAL_CF9   DOUBLE,
    DECIMAL_CF10  DOUBLE,
    DECIMAL_CF11  DOUBLE,
    DECIMAL_CF12  DOUBLE,
    DECIMAL_CF13  DOUBLE,
    DECIMAL_CF14  DOUBLE,
    DECIMAL_CF15  DOUBLE,
    DECIMAL_CF16  DOUBLE,
    DECIMAL_CF17  DOUBLE,
    DECIMAL_CF18  DOUBLE,
    DECIMAL_CF19  DOUBLE,
    DECIMAL_CF20  DOUBLE,
    DECIMAL_CF21  DOUBLE,
    DECIMAL_CF22  DOUBLE,
    DECIMAL_CF23  DOUBLE,
    DECIMAL_CF24  DOUBLE,
    DECIMAL_CF25  DOUBLE,
    DECIMAL_CF26  DOUBLE,
    DECIMAL_CF27  DOUBLE,
    DECIMAL_CF28  DOUBLE,
    DECIMAL_CF29  DOUBLE,
    DECIMAL_CF30  DOUBLE,
    BOOLEAN_CF1   BOOLEAN,
    BOOLEAN_CF2   BOOLEAN,
    BOOLEAN_CF3   BOOLEAN,
    BOOLEAN_CF4   BOOLEAN,
    BOOLEAN_CF5   BOOLEAN,
    BOOLEAN_CF6   BOOLEAN,
    BOOLEAN_CF7   BOOLEAN,
    BOOLEAN_CF8   BOOLEAN,
    BOOLEAN_CF9   BOOLEAN,
    BOOLEAN_CF10  BOOLEAN,
    BOOLEAN_CF11  BOOLEAN,
    BOOLEAN_CF12  BOOLEAN,
    BOOLEAN_CF13  BOOLEAN,
    BOOLEAN_CF14  BOOLEAN,
    BOOLEAN_CF15  BOOLEAN,
    BOOLEAN_CF16  BOOLEAN,
    BOOLEAN_CF17  BOOLEAN,
    BOOLEAN_CF18  BOOLEAN,
    BOOLEAN_CF19  BOOLEAN,
    BOOLEAN_CF20  BOOLEAN,
    BOOLEAN_CF21  BOOLEAN,
    BOOLEAN_CF22  BOOLEAN,
    BOOLEAN_CF23  BOOLEAN,
    BOOLEAN_CF24  BOOLEAN,
    BOOLEAN_CF25  BOOLEAN,
    BOOLEAN_CF26  BOOLEAN,
    BOOLEAN_CF27  BOOLEAN,
    BOOLEAN_CF28  BOOLEAN,
    BOOLEAN_CF29  BOOLEAN,
    BOOLEAN_CF30  BOOLEAN,
    DATE_CF1      BIGINT,
    DATE_CF2      BIGINT,
    DATE_CF3      BIGINT,
    DATE_CF4      BIGINT,
    DATE_CF5      BIGINT,
    DATE_CF6      BIGINT,
    DATE_CF7      BIGINT,
    DATE_CF8      BIGINT,
    DATE_CF9      BIGINT,
    DATE_CF10     BIGINT,
    DATE_CF11     BIGINT,
    DATE_CF12     BIGINT,
    DATE_CF13     BIGINT,
    DATE_CF14     BIGINT,
    DATE_CF15     BIGINT,
    DATE_CF16     BIGINT,
    DATE_CF17     BIGINT,
    DATE_CF18     BIGINT,
    DATE_CF19     BIGINT,
    DATE_CF20     BIGINT,
    DATE_CF21     BIGINT,
    DATE_CF22     BIGINT,
    DATE_CF23     BIGINT,
    DATE_CF24     BIGINT,
    DATE_CF25     BIGINT,
    DATE_CF26     BIGINT,
    DATE_CF27     BIGINT,
    DATE_CF28     BIGINT,
    DATE_CF29     BIGINT,
    DATE_CF30     BIGINT,
    DATETIME_CF1  BIGINT,
    DATETIME_CF2  BIGINT,
    DATETIME_CF3  BIGINT,
    DATETIME_CF4  BIGINT,
    DATETIME_CF5  BIGINT,
    DATETIME_CF6  BIGINT,
    DATETIME_CF7  BIGINT,
    DATETIME_CF8  BIGINT,
    DATETIME_CF9  BIGINT,
    DATETIME_CF10 BIGINT,
    DATETIME_CF11 BIGINT,
    DATETIME_CF12 BIGINT,
    DATETIME_CF13 BIGINT,
    DATETIME_CF14 BIGINT,
    DATETIME_CF15 BIGINT,
    DATETIME_CF16 BIGINT,
    DATETIME_CF17 BIGINT,
    DATETIME_CF18 BIGINT,
    DATETIME_CF19 BIGINT,
    DATETIME_CF20 BIGINT,
    DATETIME_CF21 BIGINT,
    DATETIME_CF22 BIGINT,
    DATETIME_CF23 BIGINT,
    DATETIME_CF24 BIGINT,
    DATETIME_CF25 BIGINT,
    DATETIME_CF26 BIGINT,
    DATETIME_CF27 BIGINT,
    DATETIME_CF28 BIGINT,
    DATETIME_CF29 BIGINT,
    DATETIME_CF30 BIGINT,
    ENUM_CF1      INTEGER,
    ENUM_CF2      INTEGER,
    ENUM_CF3      INTEGER,
    ENUM_CF4      INTEGER,
    ENUM_CF5      INTEGER,
    ENUM_CF6      INTEGER,
    ENUM_CF7      INTEGER,
    ENUM_CF8      INTEGER,
    ENUM_CF9      INTEGER,
    ENUM_CF10     INTEGER,
    ENUM_CF11     INTEGER,
    ENUM_CF12     INTEGER,
    ENUM_CF13     INTEGER,
    ENUM_CF14     INTEGER,
    ENUM_CF15     INTEGER,
    ENUM_CF16     INTEGER,
    ENUM_CF17     INTEGER,
    ENUM_CF18     INTEGER,
    ENUM_CF19     INTEGER,
    ENUM_CF20     INTEGER,
    ENUM_CF21     INTEGER,
    ENUM_CF22     INTEGER,
    ENUM_CF23     INTEGER,
    ENUM_CF24     INTEGER,
    ENUM_CF25     INTEGER,
    ENUM_CF26     INTEGER,
    ENUM_CF27     INTEGER,
    ENUM_CF28     INTEGER,
    ENUM_CF29     INTEGER,
    ENUM_CF30     INTEGER,
    FILE_CF1      BIGINT,
    FILE_CF2      BIGINT,
    FILE_CF3      BIGINT,
    FILE_CF4      BIGINT,
    FILE_CF5      BIGINT,
    FILE_CF6      BIGINT,
    FILE_CF7      BIGINT,
    FILE_CF8      BIGINT,
    FILE_CF9      BIGINT,
    FILE_CF10     BIGINT,
    FILE_CF11     BIGINT,
    FILE_CF12     BIGINT,
    FILE_CF13     BIGINT,
    FILE_CF14     BIGINT,
    FILE_CF15     BIGINT,
    FILE_CF16     BIGINT,
    FILE_CF17     BIGINT,
    FILE_CF18     BIGINT,
    FILE_CF19     BIGINT,
    FILE_CF20     BIGINT,
    FILE_CF21     BIGINT,
    FILE_CF22     BIGINT,
    FILE_CF23     BIGINT,
    FILE_CF24     BIGINT,
    FILE_CF25     BIGINT,
    FILE_CF26     BIGINT,
    FILE_CF27     BIGINT,
    FILE_CF28     BIGINT,
    FILE_CF29     BIGINT,
    FILE_CF30     BIGINT,
    LOOKUP_CF1    BIGINT,
    LOOKUP_CF2    BIGINT,
    LOOKUP_CF3    BIGINT,
    LOOKUP_CF4    BIGINT,
    LOOKUP_CF5    BIGINT,
    LOOKUP_CF6    BIGINT,
    LOOKUP_CF7    BIGINT,
    LOOKUP_CF8    BIGINT,
    LOOKUP_CF9    BIGINT,
    LOOKUP_CF10   BIGINT,
    LOOKUP_CF11   BIGINT,
    LOOKUP_CF12   BIGINT,
    LOOKUP_CF13   BIGINT,
    LOOKUP_CF14   BIGINT,
    LOOKUP_CF15   BIGINT,
    LOOKUP_CF16   BIGINT,
    LOOKUP_CF17   BIGINT,
    LOOKUP_CF18   BIGINT,
    LOOKUP_CF19   BIGINT,
    LOOKUP_CF20   BIGINT,
    LOOKUP_CF21   BIGINT,
    LOOKUP_CF22   BIGINT,
    LOOKUP_CF23   BIGINT,
    LOOKUP_CF24   BIGINT,
    LOOKUP_CF25   BIGINT,
    LOOKUP_CF26   BIGINT,
    LOOKUP_CF27   BIGINT,
    LOOKUP_CF28   BIGINT,
    LOOKUP_CF29   BIGINT,
    LOOKUP_CF30   BIGINT,
    SCORE_CF1     DOUBLE,
    SCORE_CF2     DOUBLE,
    SCORE_CF3     DOUBLE,
    SCORE_CF4     DOUBLE,
    SCORE_CF5     DOUBLE,
    SCORE_CF6     DOUBLE,
    SCORE_CF7     DOUBLE,
    SCORE_CF8     DOUBLE,
    SCORE_CF9     DOUBLE,
    SCORE_CF10    DOUBLE,
    SCORE_CF11    DOUBLE,
    SCORE_CF12    DOUBLE,
    SCORE_CF13    DOUBLE,
    SCORE_CF14    DOUBLE,
    SCORE_CF15    DOUBLE,
    SCORE_CF16    DOUBLE,
    SCORE_CF17    DOUBLE,
    SCORE_CF18    DOUBLE,
    SCORE_CF19    DOUBLE,
    SCORE_CF20    DOUBLE,
    SCORE_CF21    DOUBLE,
    SCORE_CF22    DOUBLE,
    SCORE_CF23    DOUBLE,
    SCORE_CF24    DOUBLE,
    SCORE_CF25    DOUBLE,
    SCORE_CF26    DOUBLE,
    SCORE_CF27    DOUBLE,
    SCORE_CF28    DOUBLE,
    SCORE_CF29    DOUBLE,
    SCORE_CF30    DOUBLE,
    CONSTRAINT TENANT_UNIT_SPACE_FK_ID FOREIGN KEY (ID) REFERENCES Space (ID) ON DELETE CASCADE,
    CONSTRAINT TENANT_UNIT_SPACE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT TENANT_UNIT_SPACE_FK_TENANTID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
    CONSTRAINT TENANT_UNIT_SPACE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);


CREATE TABLE IF NOT EXISTS Contacts (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT, 
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      CONTACT_TYPE 		TINYINT,
      TENANT_ID 		BIGINT,
      VENDOR_ID BIGINT,
      REQUESTER_ID 		BIGINT,
      LOCAL_ID			BIGINT,
      NAME				VARCHAR(500),
      EMAIL 			VARCHAR(500),
      PHONE 			VARCHAR(500),
      FORM_ID 			BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
   	  IS_PORTAL_ACCESS_NEEDED TINYINT,
   	  IS_PRIMARY_CONTACT TINYINT,
   	  CLIENT_ID BIGINT,
   	  CONSTRAINT Contacts_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT Contacts_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT Contacts_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Contacts_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Contacts_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Contacts_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Contacts_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
      CONSTRAINT Contacts_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors (ID),
      CONSTRAINT Contacts_FK_CLIENT_ID FOREIGN KEY (CLIENT_ID) REFERENCES Clients (ID),
      CONSTRAINT Contacts_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
  
);


CREATE TABLE IF NOT EXISTS Contacts_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_CONTACT BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Contacts_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Contacts_Attachments_Attachments_FK_PARENT_CONTACT FOREIGN KEY (PARENT_CONTACT) REFERENCES Contacts (ID),
	CONSTRAINT Contacts_Attachments_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Contacts_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Contacts_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Contacts_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Contacts_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Contacts (ID)
);

CREATE TABLE IF NOT EXISTS ServiceRequestPriority (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PRIORITY VARCHAR(20) NOT NULL,
	SEQUENCE_NUMBER TINYINT NOT NULL,
	COLOUR VARCHAR(7) NOT NULL,
	ISDEFAULT BOOLEAN,
	DISPLAY_NAME VARCHAR(50),
	CONSTRAINT SERVICE_REQUESTS_PRIORITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SERVICE_REQUESTS_PRIORITY_UNIQUE UNIQUE (ORGID, PRIORITY)
);

CREATE TABLE IF NOT EXISTS Service_Requests
(
    ID                  BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID               BIGINT       NOT NULL,
    MODULEID            BIGINT       NOT NULL,
    SITE_ID             BIGINT,
    SUBJECT             VARCHAR(300) NOT NULL,
    DESCRIPTION         VARCHAR(2000),
    FORM_ID             BIGINT,
    MODULE_STATE        BIGINT,
    STATE_FLOW_ID       BIGINT,
    ASSIGNMENT_GROUP_ID BIGINT,
    ASSIGNED_TO_ID      BIGINT,
    LOCALID             BIGINT,
    DUE_DATE            BIGINT,
    REQUESTER_ID        BIGINT,
    SYS_CREATED_TIME    BIGINT,
    SYS_MODIFIED_TIME   BIGINT,
    SYS_CREATED_BY      BIGINT,
    SYS_MODIFIED_BY     BIGINT,
    SYS_DELETED         BOOLEAN,
    SYS_DELETED_TIME    BIGINT,
    SYS_DELETED_BY      BIGINT,
    SOURCE_TYPE         TINYINT      NOT NULL,
    CLASSIFICATION      TINYINT,
    PRIORITY            BIGINT,
    RESOURCE_ID         BIGINT,
    REQUEST_TYPE        INT,
    RATING_VAL          INT,
    STRING_CF1          VARCHAR(255),
    STRING_CF2          VARCHAR(255),
    STRING_CF3          VARCHAR(255),
    STRING_CF4          VARCHAR(255),
    STRING_CF5          VARCHAR(255),
    STRING_CF6          VARCHAR(255),
    STRING_CF7          VARCHAR(255),
    STRING_CF8          VARCHAR(255),
    STRING_CF9          VARCHAR(255),
    STRING_CF10         VARCHAR(255),
    STRING_CF11         VARCHAR(255),
    STRING_CF12         VARCHAR(255),
    STRING_CF13         VARCHAR(255),
    STRING_CF14         VARCHAR(255),
    STRING_CF15         VARCHAR(255),
    STRING_CF16         VARCHAR(255),
    STRING_CF17         VARCHAR(255),
    STRING_CF18         VARCHAR(255),
    STRING_CF19         VARCHAR(255),
    STRING_CF20         VARCHAR(255),
    STRING_CF21         VARCHAR(255),
    STRING_CF22         VARCHAR(255),
    STRING_CF23         VARCHAR(255),
    STRING_CF24         VARCHAR(255),
    STRING_CF25         VARCHAR(255),
    STRING_CF26         VARCHAR(255),
    STRING_CF27         VARCHAR(255),
    STRING_CF28         VARCHAR(255),
    STRING_CF29         VARCHAR(255),
    STRING_CF30         VARCHAR(255),
    NUMBER_CF1          BIGINT,
    NUMBER_CF2          BIGINT,
    NUMBER_CF3          BIGINT,
    NUMBER_CF4          BIGINT,
    NUMBER_CF5          BIGINT,
    NUMBER_CF6          BIGINT,
    NUMBER_CF7          BIGINT,
    NUMBER_CF8          BIGINT,
    NUMBER_CF9          BIGINT,
    NUMBER_CF10         BIGINT,
    NUMBER_CF11         BIGINT,
    NUMBER_CF12         BIGINT,
    NUMBER_CF13         BIGINT,
    NUMBER_CF14         BIGINT,
    NUMBER_CF15         BIGINT,
    NUMBER_CF16         BIGINT,
    NUMBER_CF17         BIGINT,
    NUMBER_CF18         BIGINT,
    NUMBER_CF19         BIGINT,
    NUMBER_CF20         BIGINT,
    NUMBER_CF21         BIGINT,
    NUMBER_CF22         BIGINT,
    NUMBER_CF23         BIGINT,
    NUMBER_CF24         BIGINT,
    NUMBER_CF25         BIGINT,
    NUMBER_CF26         BIGINT,
    NUMBER_CF27         BIGINT,
    NUMBER_CF28         BIGINT,
    NUMBER_CF29         BIGINT,
    NUMBER_CF30         BIGINT,
    DECIMAL_CF1         DOUBLE,
    DECIMAL_CF2         DOUBLE,
    DECIMAL_CF3         DOUBLE,
    DECIMAL_CF4         DOUBLE,
    DECIMAL_CF5         DOUBLE,
    DECIMAL_CF6         DOUBLE,
    DECIMAL_CF7         DOUBLE,
    DECIMAL_CF8         DOUBLE,
    DECIMAL_CF9         DOUBLE,
    DECIMAL_CF10        DOUBLE,
    DECIMAL_CF11        DOUBLE,
    DECIMAL_CF12        DOUBLE,
    DECIMAL_CF13        DOUBLE,
    DECIMAL_CF14        DOUBLE,
    DECIMAL_CF15        DOUBLE,
    DECIMAL_CF16        DOUBLE,
    DECIMAL_CF17        DOUBLE,
    DECIMAL_CF18        DOUBLE,
    DECIMAL_CF19        DOUBLE,
    DECIMAL_CF20        DOUBLE,
    DECIMAL_CF21        DOUBLE,
    DECIMAL_CF22        DOUBLE,
    DECIMAL_CF23        DOUBLE,
    DECIMAL_CF24        DOUBLE,
    DECIMAL_CF25        DOUBLE,
    DECIMAL_CF26        DOUBLE,
    DECIMAL_CF27        DOUBLE,
    DECIMAL_CF28        DOUBLE,
    DECIMAL_CF29        DOUBLE,
    DECIMAL_CF30        DOUBLE,
    BOOLEAN_CF1         BOOLEAN,
    BOOLEAN_CF2         BOOLEAN,
    BOOLEAN_CF3         BOOLEAN,
    BOOLEAN_CF4         BOOLEAN,
    BOOLEAN_CF5         BOOLEAN,
    BOOLEAN_CF6         BOOLEAN,
    BOOLEAN_CF7         BOOLEAN,
    BOOLEAN_CF8         BOOLEAN,
    BOOLEAN_CF9         BOOLEAN,
    BOOLEAN_CF10        BOOLEAN,
    BOOLEAN_CF11        BOOLEAN,
    BOOLEAN_CF12        BOOLEAN,
    BOOLEAN_CF13        BOOLEAN,
    BOOLEAN_CF14        BOOLEAN,
    BOOLEAN_CF15        BOOLEAN,
    BOOLEAN_CF16        BOOLEAN,
    BOOLEAN_CF17        BOOLEAN,
    BOOLEAN_CF18        BOOLEAN,
    BOOLEAN_CF19        BOOLEAN,
    BOOLEAN_CF20        BOOLEAN,
    BOOLEAN_CF21        BOOLEAN,
    BOOLEAN_CF22        BOOLEAN,
    BOOLEAN_CF23        BOOLEAN,
    BOOLEAN_CF24        BOOLEAN,
    BOOLEAN_CF25        BOOLEAN,
    BOOLEAN_CF26        BOOLEAN,
    BOOLEAN_CF27        BOOLEAN,
    BOOLEAN_CF28        BOOLEAN,
    BOOLEAN_CF29        BOOLEAN,
    BOOLEAN_CF30        BOOLEAN,
    DATE_CF1            BIGINT,
    DATE_CF2            BIGINT,
    DATE_CF3            BIGINT,
    DATE_CF4            BIGINT,
    DATE_CF5            BIGINT,
    DATE_CF6            BIGINT,
    DATE_CF7            BIGINT,
    DATE_CF8            BIGINT,
    DATE_CF9            BIGINT,
    DATE_CF10           BIGINT,
    DATE_CF11           BIGINT,
    DATE_CF12           BIGINT,
    DATE_CF13           BIGINT,
    DATE_CF14           BIGINT,
    DATE_CF15           BIGINT,
    DATE_CF16           BIGINT,
    DATE_CF17           BIGINT,
    DATE_CF18           BIGINT,
    DATE_CF19           BIGINT,
    DATE_CF20           BIGINT,
    DATE_CF21           BIGINT,
    DATE_CF22           BIGINT,
    DATE_CF23           BIGINT,
    DATE_CF24           BIGINT,
    DATE_CF25           BIGINT,
    DATE_CF26           BIGINT,
    DATE_CF27           BIGINT,
    DATE_CF28           BIGINT,
    DATE_CF29           BIGINT,
    DATE_CF30           BIGINT,
    DATETIME_CF1        BIGINT,
    DATETIME_CF2        BIGINT,
    DATETIME_CF3        BIGINT,
    DATETIME_CF4        BIGINT,
    DATETIME_CF5        BIGINT,
    DATETIME_CF6        BIGINT,
    DATETIME_CF7        BIGINT,
    DATETIME_CF8        BIGINT,
    DATETIME_CF9        BIGINT,
    DATETIME_CF10       BIGINT,
    DATETIME_CF11       BIGINT,
    DATETIME_CF12       BIGINT,
    DATETIME_CF13       BIGINT,
    DATETIME_CF14       BIGINT,
    DATETIME_CF15       BIGINT,
    DATETIME_CF16       BIGINT,
    DATETIME_CF17       BIGINT,
    DATETIME_CF18       BIGINT,
    DATETIME_CF19       BIGINT,
    DATETIME_CF20       BIGINT,
    DATETIME_CF21       BIGINT,
    DATETIME_CF22       BIGINT,
    DATETIME_CF23       BIGINT,
    DATETIME_CF24       BIGINT,
    DATETIME_CF25       BIGINT,
    DATETIME_CF26       BIGINT,
    DATETIME_CF27       BIGINT,
    DATETIME_CF28       BIGINT,
    DATETIME_CF29       BIGINT,
    DATETIME_CF30       BIGINT,
    ENUM_CF1            INTEGER,
    ENUM_CF2            INTEGER,
    ENUM_CF3            INTEGER,
    ENUM_CF4            INTEGER,
    ENUM_CF5            INTEGER,
    ENUM_CF6            INTEGER,
    ENUM_CF7            INTEGER,
    ENUM_CF8            INTEGER,
    ENUM_CF9            INTEGER,
    ENUM_CF10           INTEGER,
    ENUM_CF11           INTEGER,
    ENUM_CF12           INTEGER,
    ENUM_CF13           INTEGER,
    ENUM_CF14           INTEGER,
    ENUM_CF15           INTEGER,
    ENUM_CF16           INTEGER,
    ENUM_CF17           INTEGER,
    ENUM_CF18           INTEGER,
    ENUM_CF19           INTEGER,
    ENUM_CF20           INTEGER,
    ENUM_CF21           INTEGER,
    ENUM_CF22           INTEGER,
    ENUM_CF23           INTEGER,
    ENUM_CF24           INTEGER,
    ENUM_CF25           INTEGER,
    ENUM_CF26           INTEGER,
    ENUM_CF27           INTEGER,
    ENUM_CF28           INTEGER,
    ENUM_CF29           INTEGER,
    ENUM_CF30           INTEGER,
    FILE_CF1            BIGINT,
    FILE_CF2            BIGINT,
    FILE_CF3            BIGINT,
    FILE_CF4            BIGINT,
    FILE_CF5            BIGINT,
    FILE_CF6            BIGINT,
    FILE_CF7            BIGINT,
    FILE_CF8            BIGINT,
    FILE_CF9            BIGINT,
    FILE_CF10           BIGINT,
    FILE_CF11           BIGINT,
    FILE_CF12           BIGINT,
    FILE_CF13           BIGINT,
    FILE_CF14           BIGINT,
    FILE_CF15           BIGINT,
    FILE_CF16           BIGINT,
    FILE_CF17           BIGINT,
    FILE_CF18           BIGINT,
    FILE_CF19           BIGINT,
    FILE_CF20           BIGINT,
    FILE_CF21           BIGINT,
    FILE_CF22           BIGINT,
    FILE_CF23           BIGINT,
    FILE_CF24           BIGINT,
    FILE_CF25           BIGINT,
    FILE_CF26           BIGINT,
    FILE_CF27           BIGINT,
    FILE_CF28           BIGINT,
    FILE_CF29           BIGINT,
    FILE_CF30           BIGINT,
    LOOKUP_CF1          BIGINT,
    LOOKUP_CF2          BIGINT,
    LOOKUP_CF3          BIGINT,
    LOOKUP_CF4          BIGINT,
    LOOKUP_CF5          BIGINT,
    LOOKUP_CF6          BIGINT,
    LOOKUP_CF7          BIGINT,
    LOOKUP_CF8          BIGINT,
    LOOKUP_CF9          BIGINT,
    LOOKUP_CF10         BIGINT,
    LOOKUP_CF11         BIGINT,
    LOOKUP_CF12         BIGINT,
    LOOKUP_CF13         BIGINT,
    LOOKUP_CF14         BIGINT,
    LOOKUP_CF15         BIGINT,
    LOOKUP_CF16         BIGINT,
    LOOKUP_CF17         BIGINT,
    LOOKUP_CF18         BIGINT,
    LOOKUP_CF19         BIGINT,
    LOOKUP_CF20         BIGINT,
    LOOKUP_CF21         BIGINT,
    LOOKUP_CF22         BIGINT,
    LOOKUP_CF23         BIGINT,
    LOOKUP_CF24         BIGINT,
    LOOKUP_CF25         BIGINT,
    LOOKUP_CF26         BIGINT,
    LOOKUP_CF27         BIGINT,
    LOOKUP_CF28         BIGINT,
    LOOKUP_CF29         BIGINT,
    LOOKUP_CF30         BIGINT,
    SCORE_CF1           DOUBLE,
    SCORE_CF2           DOUBLE,
    SCORE_CF3           DOUBLE,
    SCORE_CF4           DOUBLE,
    SCORE_CF5           DOUBLE,
    SCORE_CF6           DOUBLE,
    SCORE_CF7           DOUBLE,
    SCORE_CF8           DOUBLE,
    SCORE_CF9           DOUBLE,
    SCORE_CF10          DOUBLE,
    SCORE_CF11          DOUBLE,
    SCORE_CF12          DOUBLE,
    SCORE_CF13          DOUBLE,
    SCORE_CF14          DOUBLE,
    SCORE_CF15          DOUBLE,
    SCORE_CF16          DOUBLE,
    SCORE_CF17          DOUBLE,
    SCORE_CF18          DOUBLE,
    SCORE_CF19          DOUBLE,
    SCORE_CF20          DOUBLE,
    SCORE_CF21          DOUBLE,
    SCORE_CF22          DOUBLE,
    SCORE_CF23          DOUBLE,
    SCORE_CF24          DOUBLE,
    SCORE_CF25          DOUBLE,
    SCORE_CF26          DOUBLE,
    SCORE_CF27          DOUBLE,
    SCORE_CF28          DOUBLE,
    SCORE_CF29          DOUBLE,
    SCORE_CF30          DOUBLE,
    CONSTRAINT SERVICE_REQUESTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT SERVICE_REQUESTS_FK_ASSIGNMENT_GROUP FOREIGN KEY (ASSIGNMENT_GROUP_ID) REFERENCES FacilioGroups (GROUPID),
    CONSTRAINT SERVICE_REQUESTS_FK_ASSIGNED_TO_ID FOREIGN KEY (ASSIGNED_TO_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT SERVICE_REQUESTS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT SERVICE_REQUESTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT SERVICE_REQUESTS_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT SERVICE_REQUESTS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT SERVICE_REQUESTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT SERVICE_REQUESTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT SERVICE_REQUESTS_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT SERVICE_REQUESTS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
    CONSTRAINT SERVICE_REQUESTS_FK_PRIORITY FOREIGN KEY (PRIORITY) REFERENCES ServiceRequestPriority (ID)
);

CREATE TABLE IF NOT EXISTS TicketPriority (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PRIORITY VARCHAR(20) NOT NULL,
	SEQUENCE_NUMBER TINYINT NOT NULL,
	COLOUR VARCHAR(7) NOT NULL,
	ISDEFAULT BOOLEAN,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(255),
	CONSTRAINT TICKET_PRIORITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKET_PRIORITY_UNIQUE UNIQUE (ORGID, PRIORITY)
);

CREATE TABLE IF NOT EXISTS TicketCategory (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(1000),
	CONSTRAINT TICKET_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS TicketType (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50),
	DESCRIPTION VARCHAR(1000),
	CONSTRAINT TICKET_TYPE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Tickets (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SUBJECT VARCHAR(300),
	DESCRIPTION VARCHAR(2000),
	FORM_ID BIGINT,
	STATUS_ID BIGINT,
	PRIORITY_ID BIGINT,
	CATEGORY_ID BIGINT,
	TYPE_ID BIGINT,
	SOURCE_TYPE TINYINT NOT NULL,
	CREATED_BY BIGINT,
	ASSIGNMENT_GROUP_ID BIGINT,
	ASSIGNED_TO_ID BIGINT,
	ASSIGNED_BY_ID BIGINT,
	RESOURCE_ID BIGINT,
	DUE_DATE BIGINT,
	SERIAL_NUMBER BIGINT,
	NO_OF_NOTES INT,
	NO_OF_ATTACHMENTS INT,
	NO_OF_TASKS INT,
	NO_OF_CLOSED_TASKS INT,
	SCHEDULED_START BIGINT,
	ESTIMATED_START BIGINT,
	ESTIMATED_END BIGINT,
	ACTUAL_WORK_START BIGINT,
	ACTUAL_WORK_END BIGINT,
	RESUMED_WORK_START BIGINT,
	ACTUAL_WORK_DURATION BIGINT,
	ESTIMATED_WORK_DURATION BIGINT,
	SITE_ID BIGINT,
	TENANT_ID BIGINT,
	VENDOR_ID BIGINT,
	MODULE_STATE BIGINT,
	STATE_FLOW_ID BIGINT,
	SYS_DELETED BOOLEAN,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
    SERVICE_REQUEST_ID BIGINT,
    SLA_POLICY_ID BIGINT,
    APPROVAL_FLOW_ID BIGINT,
    ARRPOVAL_STATE BIGINT,
	CONSTRAINT TICKETS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKETS_FK_STATUS_ID FOREIGN KEY (STATUS_ID) REFERENCES TicketStatus(ID) ON DELETE SET NULL,
	CONSTRAINT TICKETS_FK_PRIORITY_ID FOREIGN KEY (PRIORITY_ID) REFERENCES TicketPriority(ID) ON DELETE SET NULL,
	CONSTRAINT TICKETS_FK_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TicketCategory(ID) ON DELETE SET NULL,
	CONSTRAINT TICKETS_FK_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TicketType(ID) ON DELETE SET NULL,
	CONSTRAINT TICKETS_FK_ASSIGNMENT_GROUP FOREIGN KEY (ASSIGNMENT_GROUP_ID) REFERENCES FacilioGroups(GROUPID),
	CONSTRAINT TICKETS_FK_ASSIGNED_TO_ID FOREIGN KEY (ASSIGNED_TO_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TICKETS_FK_ASSIGNED_BY_ID FOREIGN KEY (ASSIGNED_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TICKETS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT TICKETS_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TICKETS_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants(ID),
	CONSTRAINT TICKETS_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID),
	CONSTRAINT TICKETS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
	CONSTRAINT TICKETS_FK_APPROVALSTATE_ID FOREIGN KEY (ARRPOVAL_STATE) REFERENCES TicketStatus (ID),
	CONSTRAINT TICKETS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT TICKETS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT TICKET_SERVICE_REQUEST_ID FOREIGN KEY(SERVICE_REQUEST_ID) REFERENCES Service_Requests(ID)
);

CREATE TABLE IF NOT EXISTS Ticket_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_TICKET BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	PARENT BIGINT,
	CONSTRAINT TICKET_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKET_ATTACHEMENTS_FK_PARENT_TICKET FOREIGN KEY (PARENT_TICKET) REFERENCES Tickets (ID),
	CONSTRAINT TICKET_ATTACHEMENTS_FK_PARENT FOREIGN KEY (PARENT) REFERENCES Tickets (ID),
	CONSTRAINT TICKET_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Ticket_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT TICKET_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TICKET_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TICKET_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS WorkOrderRequests (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	REQUESTER_ID BIGINT,
	STATUS TINYINT,
	URGENCY TINYINT,
	CREATED_TIME BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE(9,3),
	DECIMAL_CF2 DOUBLE(9,3),
	DECIMAL_CF3 DOUBLE(9,3),
	DECIMAL_CF4 DOUBLE(9,3),
	DECIMAL_CF5 DOUBLE(9,3),
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	SITE_ID BIGINT,
	CONSTRAINT WORK_ORDER_REQUESTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WORK_ORDER_REQUESTS_FK_ID FOREIGN KEY (ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT WORK_ORDER_REQUESTS_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT WORK_ORDER_REQUESTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

-- Create table for WorkOrderRequests creation from Email
CREATE TABLE IF NOT EXISTS WorkOrderRequest_EMail (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	S3_MESSAGE_ID VARCHAR(100) NOT NULL,
	TO_ADDR VARCHAR(500) NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	IS_PROCESSED BOOLEAN,
	REQUEST_ID BIGINT,
	CONSTRAINT WORK_ORDER_REQUESTS_EMAIL_FK_REQUEST_ID FOREIGN KEY (REQUEST_ID) REFERENCES Tickets(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Task_Section (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(300) NOT NULL,
	IS_EDITABLE BOOLEAN,
	PARENT_TICKET_ID BIGINT NOT NULL,
	SEQUENCE_NUMBER INT NOT NULL,
	IS_PRE_REQUEST TINYINT DEFAULT 0,
	CONSTRAINT TASK_SECTION_FK_PARENT_TICKET_ID FOREIGN KEY (PARENT_TICKET_ID) REFERENCES Tickets(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Tasks (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	SUBJECT VARCHAR(500),
	DESCRIPTION VARCHAR(1000),
	FORM_ID BIGINT,
	STATUS TINYINT NOT NULL DEFAULT 1,
	RESOURCE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_TICKET_ID BIGINT,
	UNIQUE_ID INT,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,
	INPUT_TYPE TINYINT NOT NULL,
	INPUT_TIME BIGINT,
	READING_ID BIGINT,
	READING_DATA_ID BIGINT,
	LAST_READING VARCHAR(500),
	INPUT_VALUE VARCHAR(500),
	SECTION_ID BIGINT,
	SEQUENCE INT,
	ATTACHMENT_REQUIRED BOOLEAN,
	ATTACHMENT_OPTIONS varchar(500),
	NO_OF_ATTACHMENTS INT,
	REMARKS VARCHAR(1000),
	DEFAULT_VALUE VARCHAR(500),
	FAILURE_VALUE VARCHAR(500),
	REMARKS_OPTIONS varchar(500),
	REMARKS_REQUIRED TINYINT,
	DEVIATION_OPERATOR INT,
	ACTION_ID BIGINT,
	READING_FIELD_UNIT INT,
	IS_FAILED BOOLEAN,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	SITE_ID BIGINT,
	CREATED_BY BIGINT NOT NULL,
	IS_PRE_REQUEST TINYINT DEFAULT 0,
	CONSTRAINT TASKS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TASKS_FK_PARENT_TICKET_ID FOREIGN KEY (PARENT_TICKET_ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT TASKS_FK_READING_ID FOREIGN KEY (READING_ID) REFERENCES Fields(FIELDID),
	CONSTRAINT TASKS_FK_SECTION_ID FOREIGN KEY (SECTION_ID) REFERENCES Task_Section(ID),
	CONSTRAINT TASKS_UNIQUE_ID UNIQUE(PARENT_TICKET_ID, RESOURCE_ID, UNIQUE_ID,IS_PRE_REQUEST),
	CONSTRAINT TASKS_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(id),
	CONSTRAINT TASKS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT TASKS_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TASKS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT TASKS_FK_ACTION_ID FOREIGN KEY (ACTION_ID) REFERENCES Action(ID)
);

CREATE TABLE IF NOT EXISTS Task_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT TASK_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TASK_ATTACHMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tasks (ID) ON DELETE CASCADE,
	CONSTRAINT TASK_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Task_Input_Options (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TASK_ID BIGINT,
	OPTION_VALUE VARCHAR(100),
	CONSTRAINT TASK_INPUT_OPTIONS_FK_TASK_ID FOREIGN KEY (TASK_ID) REFERENCES Tasks(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS UserLocationCoverage (
  USER_LOCATION_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  ORG_USERID BIGINT,
  LOCATION_ID BIGINT,
  CONSTRAINT USERLOCATIONS_USERID_FK FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID) ON DELETE CASCADE,
  CONSTRAINT USERLOCATIONS_LOCATION_FK FOREIGN KEY (LOCATION_ID) REFERENCES Locations (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS GroupLocationCoverage (
  GROUP_LOCATION_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  GROUPID BIGINT,
  LOCATION_ID BIGINT,
  CONSTRAINT GLC_GROUPID_FK FOREIGN KEY (GROUPID) REFERENCES FacilioGroups(GROUPID) ON DELETE CASCADE,
  CONSTRAINT GLC_LOCATION_FK FOREIGN KEY (LOCATION_ID) REFERENCES Locations (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Skills (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  NAME VARCHAR(255) NOT NULL,
  ACTIVE BOOLEAN,
  DESCRIPTION VARCHAR(1000),
  CATEGORY_ID BIGINT,
  CONSTRAINT SKILLS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT SKILLS_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES TicketCategory(ID)
);

CREATE TABLE IF NOT EXISTS UserSkills (
  USER_SKILL_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  ORG_USERID BIGINT,
  SKILL_ID BIGINT,
  CONSTRAINT USERSKILLS_USERID_FK FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID) ON DELETE CASCADE,
  CONSTRAINT USERSKILLS_SKILL_FK FOREIGN KEY (SKILL_ID) REFERENCES Skills (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS GroupSkills (
  GROUP_SKILL_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  GROUPID BIGINT,
  SKILL_ID BIGINT,
  CONSTRAINT GROUPSKILLS_GROUPID_FK FOREIGN KEY (GROUPID) REFERENCES FacilioGroups(GROUPID) ON DELETE CASCADE,
  CONSTRAINT GROUPSKILLS_SKILL_FK FOREIGN KEY (SKILL_ID) REFERENCES Skills (ID) ON DELETE CASCADE
);

-- Device Table

/*CREATE TABLE IF NOT EXISTS Service (
	SERVICE_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	NAME VARCHAR(50)
);*/

CREATE TABLE IF NOT EXISTS Alarm_Severity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SEVERITY VARCHAR(50) NOT NULL,
	CARDINALITY TINYINT NOT NULL,
	ISDEFAULT BOOLEAN,
	DISPLAY_NAME VARCHAR(50),
	COLOR VARCHAR(7),
	CONSTRAINT ALARM_SEVERITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Alarm_Entity (
	ENTITY_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Readings table
CREATE INDEX READINGS_PARENT_ID_INDEX on Readings (PARENT_ID);
CREATE INDEX READINGS_PARENT_ID_TTIME_INDEX ON Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX READINGS_TTIME_INDEX ON Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Readings_2 (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT READINGS_2_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Readings_2 table
CREATE INDEX READINGS_2_PARENT_ID_INDEX on Readings_2 (PARENT_ID);
CREATE INDEX READINGS_2_PARENT_ID_TTIME_INDEX ON Readings_2 (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX READINGS_2_TTIME_INDEX ON Readings_2 (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Readings_3 (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT READINGS_3_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Readings_3 table
CREATE INDEX READINGS_3_PARENT_ID_INDEX on Readings_3 (PARENT_ID);
CREATE INDEX READINGS_3_PARENT_ID_TTIME_INDEX ON Readings_3 (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX READINGS_3_TTIME_INDEX ON Readings_3 (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS AlarmLogData (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	BOOLEAN_CF1 BOOLEAN,
	CONSTRAINT ALARM_LOG_DATA_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE INDEX ALARM_LOG_PARENT_ID_INDEX on AlarmLogData (PARENT_ID);
CREATE INDEX ALARM_LOG_PARENT_ID_TTIME_INDEX ON AlarmLogData (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX ALARM_LOG_TTIME_INDEX ON AlarmLogData (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Formula_Readings	(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	DECIMAL_CF1 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	ENUM_CF1 INTEGER,
	CONSTRAINT Formula_Readings_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE INDEX Formula_Readings_PARENT_ID_INDEX on Formula_Readings (PARENT_ID);
CREATE INDEX Formula_Readings_PARENT_ID_TTIME_INDEX ON Formula_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX Formula_Readings_TTIME_INDEX ON Formula_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Aggregated_Readings (
	ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	DECIMAL_CF1 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	ENUM_CF1 INTEGER,
	CONSTRAINT Aggregated_Readings_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE INDEX Aggregated_Readings_PARENT_ID_INDEX on Aggregated_Readings (PARENT_ID);
CREATE INDEX Aggregated_Readings_PARENT_ID_TTIME_INDEX ON Aggregated_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX Aggregated_Readings_TTIME_INDEX ON Aggregated_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Controller_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT CONTROLLER_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Controller_Readings table
CREATE INDEX CONTROLLER_READINGS_PARENT_ID_INDEX on Controller_Readings (PARENT_ID);
CREATE INDEX CONTROLLER_READINGS_PARENT_ID_TTIME_INDEX ON Controller_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX CONTROLLER_READINGS_TTIME_INDEX ON Controller_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Predicted_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	PREDICTED_TIME BIGINT NOT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT PREDICTED_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Predicted_Readings table
CREATE INDEX PREDICTED_READINGS_PARENT_ID_INDEX on Predicted_Readings (PREDICTED_TIME, PARENT_ID);
CREATE INDEX PREDICTED_READINGS_PARENT_ID_TTIME_INDEX ON Predicted_Readings (ORGID, MODULEID, PREDICTED_TIME, PARENT_ID, TTIME);
CREATE INDEX PREDICTED_READINGS_TTIME_INDEX ON Predicted_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS CustomModuleData
(
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT NOT NULL,
    SITE_ID           BIGINT,
    MODULEID          BIGINT NOT NULL,
    NAME              VARCHAR(100),
    FORM_ID           BIGINT,
    PHOTO_ID          BIGINT,
    LOCAL_ID          BIGINT,
    MODULE_STATE      BIGINT,
    STATE_FLOW_ID     BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    STRING_CF31       VARCHAR(255),
    STRING_CF32       VARCHAR(255),
    STRING_CF33       VARCHAR(255),
    STRING_CF34       VARCHAR(255),
    STRING_CF35       VARCHAR(255),
    STRING_CF36       VARCHAR(255),
    STRING_CF37       VARCHAR(255),
    STRING_CF38       VARCHAR(255),
    STRING_CF39       VARCHAR(255),
    STRING_CF40       VARCHAR(255),
    STRING_CF41       VARCHAR(255),
    STRING_CF42       VARCHAR(255),
    STRING_CF43       VARCHAR(255),
    STRING_CF44       VARCHAR(255),
    STRING_CF45       VARCHAR(255),
    STRING_CF46       VARCHAR(255),
    STRING_CF47       VARCHAR(255),
    STRING_CF48       VARCHAR(255),
    STRING_CF49       VARCHAR(255),
    STRING_CF50       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    NUMBER_CF31       BIGINT,
    NUMBER_CF32       BIGINT,
    NUMBER_CF33       BIGINT,
    NUMBER_CF34       BIGINT,
    NUMBER_CF35       BIGINT,
    NUMBER_CF36       BIGINT,
    NUMBER_CF37       BIGINT,
    NUMBER_CF38       BIGINT,
    NUMBER_CF39       BIGINT,
    NUMBER_CF40       BIGINT,
    NUMBER_CF41       BIGINT,
    NUMBER_CF42       BIGINT,
    NUMBER_CF43       BIGINT,
    NUMBER_CF44       BIGINT,
    NUMBER_CF45       BIGINT,
    NUMBER_CF46       BIGINT,
    NUMBER_CF47       BIGINT,
    NUMBER_CF48       BIGINT,
    NUMBER_CF49       BIGINT,
    NUMBER_CF50       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    DECIMAL_CF31      DOUBLE,
    DECIMAL_CF32      DOUBLE,
    DECIMAL_CF33      DOUBLE,
    DECIMAL_CF34      DOUBLE,
    DECIMAL_CF35      DOUBLE,
    DECIMAL_CF36      DOUBLE,
    DECIMAL_CF37      DOUBLE,
    DECIMAL_CF38      DOUBLE,
    DECIMAL_CF39      DOUBLE,
    DECIMAL_CF40      DOUBLE,
    DECIMAL_CF41      DOUBLE,
    DECIMAL_CF42      DOUBLE,
    DECIMAL_CF43      DOUBLE,
    DECIMAL_CF44      DOUBLE,
    DECIMAL_CF45      DOUBLE,
    DECIMAL_CF46      DOUBLE,
    DECIMAL_CF47      DOUBLE,
    DECIMAL_CF48      DOUBLE,
    DECIMAL_CF49      DOUBLE,
    DECIMAL_CF50      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    BOOLEAN_CF31      BOOLEAN,
    BOOLEAN_CF32      BOOLEAN,
    BOOLEAN_CF33      BOOLEAN,
    BOOLEAN_CF34      BOOLEAN,
    BOOLEAN_CF35      BOOLEAN,
    BOOLEAN_CF36      BOOLEAN,
    BOOLEAN_CF37      BOOLEAN,
    BOOLEAN_CF38      BOOLEAN,
    BOOLEAN_CF39      BOOLEAN,
    BOOLEAN_CF40      BOOLEAN,
    BOOLEAN_CF41      BOOLEAN,
    BOOLEAN_CF42      BOOLEAN,
    BOOLEAN_CF43      BOOLEAN,
    BOOLEAN_CF44      BOOLEAN,
    BOOLEAN_CF45      BOOLEAN,
    BOOLEAN_CF46      BOOLEAN,
    BOOLEAN_CF47      BOOLEAN,
    BOOLEAN_CF48      BOOLEAN,
    BOOLEAN_CF49      BOOLEAN,
    BOOLEAN_CF50      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATE_CF31         BIGINT,
    DATE_CF32         BIGINT,
    DATE_CF33         BIGINT,
    DATE_CF34         BIGINT,
    DATE_CF35         BIGINT,
    DATE_CF36         BIGINT,
    DATE_CF37         BIGINT,
    DATE_CF38         BIGINT,
    DATE_CF39         BIGINT,
    DATE_CF40         BIGINT,
    DATE_CF41         BIGINT,
    DATE_CF42         BIGINT,
    DATE_CF43         BIGINT,
    DATE_CF44         BIGINT,
    DATE_CF45         BIGINT,
    DATE_CF46         BIGINT,
    DATE_CF47         BIGINT,
    DATE_CF48         BIGINT,
    DATE_CF49         BIGINT,
    DATE_CF50         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    DATETIME_CF31     BIGINT,
    DATETIME_CF32     BIGINT,
    DATETIME_CF33     BIGINT,
    DATETIME_CF34     BIGINT,
    DATETIME_CF35     BIGINT,
    DATETIME_CF36     BIGINT,
    DATETIME_CF37     BIGINT,
    DATETIME_CF38     BIGINT,
    DATETIME_CF39     BIGINT,
    DATETIME_CF40     BIGINT,
    DATETIME_CF41     BIGINT,
    DATETIME_CF42     BIGINT,
    DATETIME_CF43     BIGINT,
    DATETIME_CF44     BIGINT,
    DATETIME_CF45     BIGINT,
    DATETIME_CF46     BIGINT,
    DATETIME_CF47     BIGINT,
    DATETIME_CF48     BIGINT,
    DATETIME_CF49     BIGINT,
    DATETIME_CF50     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    ENUM_CF31         INTEGER,
    ENUM_CF32         INTEGER,
    ENUM_CF33         INTEGER,
    ENUM_CF34         INTEGER,
    ENUM_CF35         INTEGER,
    ENUM_CF36         INTEGER,
    ENUM_CF37         INTEGER,
    ENUM_CF38         INTEGER,
    ENUM_CF39         INTEGER,
    ENUM_CF40         INTEGER,
    ENUM_CF41         INTEGER,
    ENUM_CF42         INTEGER,
    ENUM_CF43         INTEGER,
    ENUM_CF44         INTEGER,
    ENUM_CF45         INTEGER,
    ENUM_CF46         INTEGER,
    ENUM_CF47         INTEGER,
    ENUM_CF48         INTEGER,
    ENUM_CF49         INTEGER,
    ENUM_CF50         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    FILE_CF31         BIGINT,
    FILE_CF32         BIGINT,
    FILE_CF33         BIGINT,
    FILE_CF34         BIGINT,
    FILE_CF35         BIGINT,
    FILE_CF36         BIGINT,
    FILE_CF37         BIGINT,
    FILE_CF38         BIGINT,
    FILE_CF39         BIGINT,
    FILE_CF40         BIGINT,
    FILE_CF41         BIGINT,
    FILE_CF42         BIGINT,
    FILE_CF43         BIGINT,
    FILE_CF44         BIGINT,
    FILE_CF45         BIGINT,
    FILE_CF46         BIGINT,
    FILE_CF47         BIGINT,
    FILE_CF48         BIGINT,
    FILE_CF49         BIGINT,
    FILE_CF50         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    LOOKUP_CF31       BIGINT,
    LOOKUP_CF32       BIGINT,
    LOOKUP_CF33       BIGINT,
    LOOKUP_CF34       BIGINT,
    LOOKUP_CF35       BIGINT,
    LOOKUP_CF36       BIGINT,
    LOOKUP_CF37       BIGINT,
    LOOKUP_CF38       BIGINT,
    LOOKUP_CF39       BIGINT,
    LOOKUP_CF40       BIGINT,
    LOOKUP_CF41       BIGINT,
    LOOKUP_CF42       BIGINT,
    LOOKUP_CF43       BIGINT,
    LOOKUP_CF44       BIGINT,
    LOOKUP_CF45       BIGINT,
    LOOKUP_CF46       BIGINT,
    LOOKUP_CF47       BIGINT,
    LOOKUP_CF48       BIGINT,
    LOOKUP_CF49       BIGINT,
    LOOKUP_CF50       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    SCORE_CF31        DOUBLE,
    SCORE_CF32        DOUBLE,
    SCORE_CF33        DOUBLE,
    SCORE_CF34        DOUBLE,
    SCORE_CF35        DOUBLE,
    SCORE_CF36        DOUBLE,
    SCORE_CF37        DOUBLE,
    SCORE_CF38        DOUBLE,
    SCORE_CF39        DOUBLE,
    SCORE_CF40        DOUBLE,
    SCORE_CF41        DOUBLE,
    SCORE_CF42        DOUBLE,
    SCORE_CF43        DOUBLE,
    SCORE_CF44        DOUBLE,
    SCORE_CF45        DOUBLE,
    SCORE_CF46        DOUBLE,
    SCORE_CF47        DOUBLE,
    SCORE_CF48        DOUBLE,
    SCORE_CF49        DOUBLE,
    SCORE_CF50        DOUBLE,
    CONSTRAINT CM_DATA_FK_MODULE_STATE FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT CM_DATA_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT CM_DATA_FK_FORMID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID)
);

CREATE TABLE IF NOT EXISTS Custom_Rel_Records (
  ID bigint(20) PRIMARY KEY AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  MODULEID bigint(20) NOT NULL,
  SYS_CREATED_TIME BIGINT NOT NULL,
  SYS_CREATED_BY BIGINT NOT NULL,
  LEFT_ID BIGINT NOT NULL,
  RIGHT_ID BIGINT NOT NULL,
  CONSTRAINT REL_RECORDS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
  CONSTRAINT REL_RECORDS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS Custom_Multi_Enum_Values (
  ID bigint(20) PRIMARY KEY AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  MODULEID bigint(20) NOT NULL,
  SYS_CREATED_TIME BIGINT NOT NULL,
  SYS_CREATED_BY BIGINT NOT NULL,
  PARENT_ID BIGINT NOT NULL,
  INDEX_ID INTEGER NOT NULL,
  CONSTRAINT CUSTOM_MULTI_ENUM_VALUES_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
  CONSTRAINT CUSTOM_MULTI_ENUM_VALUES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS CMD_Notes (
  ID bigint(20) PRIMARY KEY AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  MODULEID bigint(20) NOT NULL,
  CREATED_BY bigint(20) DEFAULT NULL,
  CREATED_TIME bigint(20) DEFAULT NULL,
  PARENT_ID bigint(20) NOT NULL,
  TITLE varchar(50) DEFAULT NULL,
  BODY varchar(1000) NOT NULL,
  SYS_CREATED_TIME BIGINT,
  SYS_MODIFIED_TIME BIGINT,
  SYS_CREATED_BY BIGINT,
  SYS_MODIFIED_BY BIGINT,
  SITE_ID BIGINT,
  CONSTRAINT CMD_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
  CONSTRAINT CMD_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT CMD_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES CustomModuleData (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS CMD_Attachments (
  ID bigint PRIMARY KEY AUTO_INCREMENT,
  ORGID bigint NOT NULL,
  MODULEID bigint NOT NULL,
  PARENT_TICKET bigint NOT NULL,
  CREATED_TIME bigint NOT NULL,
  FILE_ID bigint NOT NULL,
  ATTACHMENT_TYPE tinyint DEFAULT NULL,
  SYS_MODIFIED_TIME BIGINT,
  SYS_CREATED_BY    BIGINT,
  SYS_MODIFIED_BY   BIGINT,
  SYS_CREATED_TIME BIGINT,
  SITE_ID BIGINT,
  CONSTRAINT CMD_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
  CONSTRAINT CMD_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT CMD_ATTACHEMENTS_FK_PARENT_TICKET FOREIGN KEY (PARENT_TICKET) REFERENCES CustomModuleData (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	CONSTRAINT ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

-- Create Notes Table
CREATE TABLE IF NOT EXISTS Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Energy_Data_2 (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	CREATED_TIME BIGINT,
	MARKED BOOLEAN,
	PARENT_METER_ID BIGINT NOT NULL,
	TOTAL_ENERGY_CONSUMPTION DOUBLE,
	TOTAL_ENERGY_CONSUMPTION_DELTA DOUBLE DEFAULT 0,
	LINE_VOLTAGE_R DOUBLE,
	LINE_VOLTAGE_Y DOUBLE,
	LINE_VOLTAGE_B DOUBLE,
	PHASE_VOLTAGE_R DOUBLE,
	PHASE_VOLTAGE_Y DOUBLE,
	PHASE_VOLTAGE_B DOUBLE,
	LINE_CURRENT_R DOUBLE,
	LINE_CURRENT_Y DOUBLE,
	LINE_CURRENT_B DOUBLE,
	POWER_FACTOR_R DOUBLE,
	POWER_FACTOR_Y DOUBLE,
	POWER_FACTOR_B DOUBLE,
	FREQUENCY_R DOUBLE,
	FREQUENCY_Y DOUBLE,
	FREQUENCY_B DOUBLE,
	ACTIVE_POWER_R DOUBLE,
	ACTIVE_POWER_Y DOUBLE,
	ACTIVE_POWER_B DOUBLE,
	REACTIVE_POWER_R DOUBLE,
	REACTIVE_POWER_Y DOUBLE,
	REACTIVE_POWER_B DOUBLE,
	APPARENT_POWER_R DOUBLE,
	APPARENT_POWER_Y DOUBLE,
	APPARENT_POWER_B DOUBLE,
	PHASE_ENERGY_R DOUBLE,
	PHASE_ENERGY_R_DELTA DOUBLE,
	PHASE_ENERGY_Y DOUBLE,
	PHASE_ENERGY_Y_DELTA DOUBLE,
	PHASE_ENERGY_B DOUBLE,
	PHASE_ENERGY_B_DELTA DOUBLE,
	TOTAL_DEMAND DOUBLE,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	CONSTRAINT ENERGY_DATA_2_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ENERGY_DATA_2_FK_PARENT_DEVICE_ID FOREIGN KEY (PARENT_METER_ID) REFERENCES Energy_Meter(ID)
);
-- Create indexes for Energy_Data table
CREATE INDEX ENERGY_DATA_2_PARENT_ID_INDEX on Energy_Data_2 (PARENT_METER_ID);
CREATE INDEX ENERGY_DATA_2_PARENT_METER_ID_TTIME_INDEX ON Energy_Data_2 (ORGID, MODULEID, PARENT_METER_ID, TTIME);
CREATE INDEX ENERGY_DATA_2_TTIME_INDEX ON Energy_Data_2 (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS Energy_Daily_Aggregation (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	AGGREGATED_TIME BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,

	SUM_ENERGY DOUBLE,
	COUNT_ENERGY DOUBLE,
	MIN_ENERGY DOUBLE,
	MAX_ENERGY DOUBLE,

	SUM_TOTAL_DEMAND DOUBLE,
	COUNT_TOTAL_DEMAND DOUBLE,
	MIN_TOTAL_DEMAND DOUBLE,
	MAX_TOTAL_DEMAND DOUBLE
);

-- Trigger change starts..
-- Create trigger for calculating TOTAL_ENERGY_CONSUMPTION_DELTA in Energy_Data table
-- DELIMITER $$
-- CREATE TRIGGER calculate_delta BEFORE INSERT ON Energy_Data FOR EACH ROW
-- BEGIN
-- DECLARE PREV_ENERGY_CONSUMPTION DOUBLE;
-- SELECT TOTAL_ENERGY_CONSUMPTION INTO PREV_ENERGY_CONSUMPTION FROM Energy_Data WHERE PARENT_METER_ID = NEW.PARENT_METER_ID ORDER BY TTIME DESC LIMIT 1;
-- IF (PREV_ENERGY_CONSUMPTION IS NOT NULL  AND NEW.TOTAL_ENERGY_CONSUMPTION_DELTA IS NULL ) THEN
-- IF( NEW.TOTAL_ENERGY_CONSUMPTION - PREV_ENERGY_CONSUMPTION > -1 ) THEN
-- SET NEW.TOTAL_ENERGY_CONSUMPTION_DELTA = NEW.TOTAL_ENERGY_CONSUMPTION - PREV_ENERGY_CONSUMPTION;
-- ELSE
-- SET NEW.TOTAL_ENERGY_CONSUMPTION_DELTA =0;
-- END IF;
-- END IF;
-- END; $$
-- DELIMITER ;
-- Trigger change Ends..

CREATE TABLE IF NOT EXISTS RollUpFields (
  	ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  	ORGID BIGINT NOT NULL,
  	DESCRIPTION VARCHAR(500),
  	CHILD_MODULE_ID BIGINT,
	CHILD_FIELD_ID BIGINT,
	CHILD_CRITERIA_ID BIGINT,
	AGGREGATE_FUNCTION INT DEFAULT NULL,
	AGGREGATE_FIELD_ID BIGINT,
    PARENT_MODULE_ID BIGINT,
    PARENT_ROLLUP_FIELD_ID BIGINT,
    IS_SYSTEM_ROLL_UP_FIELD BOOLEAN,
	CONSTRAINT RollUpFields_FK_CHILD_MODULE_ID FOREIGN KEY (CHILD_MODULE_ID) REFERENCES Modules(MODULEID),
	CONSTRAINT RollUpFields_FK_CHILD_FIELD_ID FOREIGN KEY (CHILD_FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT RollUpFields_FK_CHILD_CRITERIA_ID FOREIGN KEY (CHILD_CRITERIA_ID) REFERENCES Criteria (CRITERIAID) ON DELETE NO ACTION ON UPDATE NO ACTION,
	CONSTRAINT RollUpFields_FK_AGGREGATE_FIELD_ID FOREIGN KEY (AGGREGATE_FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT RollUpFields_FK_PARENT_MODULE_ID FOREIGN KEY (PARENT_MODULE_ID) REFERENCES Modules(MODULEID),
	CONSTRAINT RollUpFields_FK_PARENT_ROLLUP_FIELD_ID FOREIGN KEY (PARENT_ROLLUP_FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SensorRule (
  	ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  	ORGID BIGINT NOT NULL,
  	MODULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	ASSET_CATEGORY_ID BIGINT,
	SENSOR_RULE_TYPE INT NOT NULL,
	STATUS BOOLEAN DEFAULT TRUE,
	CONSTRAINT SensorRule_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules(MODULEID),
	CONSTRAINT SensorRule_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT SensorRule_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SensorRuleProps(
  	ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  	ORGID BIGINT NOT NULL,
  	PARENT_SENSOR_RULE_ID BIGINT,
  	RULE_VALIDATOR_PROPS VARCHAR(10000) NOT NULL,
	CONSTRAINT SensorRuleProps_FK_PARENT_SENSOR_RULE_ID FOREIGN KEY (PARENT_SENSOR_RULE_ID) REFERENCES SensorRule(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Form_Rule (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  NAME VARCHAR(50) NOT NULL,
  DESCRIPTION VARCHAR(500),
  SITE_ID BIGINT,
  ORGID BIGINT NOT NULL,
  RULE_TYPE int(11) NOT NULL,
  TRIGGER_TYPE int(11) NOT NULL,
  FORM_ID BIGINT NOT NULL,
  FORM_ON_LOAD_RULE_TYPE INT DEFAULT NULL,
  CRITERIA_ID BIGINT DEFAULT NULL,
  FORM_RULE_TYPE int(11) NOT NULL,
  CONSTRAINT Form_Rules_criteria_id FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Form_Rules_form_id FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT Form_Rules_site_id FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Form_Rule_Action (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FORM_RULE_ID BIGINT NOT NULL,
  ACTION_TYPE int(11) NOT NULL,
  WORKFLOW_ID BIGINT NULL,
  CONSTRAINT Form_Rule_Action_FORM_RULE_ID FOREIGN KEY (FORM_RULE_ID) REFERENCES Form_Rule (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);
  
CREATE TABLE IF NOT EXISTS Form_Rule_Action_Field (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  FORM_RULE_ACTION_ID BIGINT NOT NULL,
  FORM_FIELD_ID BIGINT NOT NULL,
  ACTION_META_JSON varchar(500) DEFAULT NULL,
  CRITERIA_ID BIGINT DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Form_Rule_Action_Field_criteria_id FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT Form_Rule_Action_Field_form_field_id FOREIGN KEY (FORM_FIELD_ID) REFERENCES Form_Fields (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT Form_Rule_Action_Field_rule_action_id FOREIGN KEY (FORM_RULE_ACTION_ID) REFERENCES Form_Rule_Action (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Form_Rule_Trigger_Field (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  FIELD_ID bigint(20) NOT NULL,
  RULE_ID bigint(20) NOT NULL,
  RULE_EXECUTION_ORDER int(11) DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Form_Rule_Trigger_Field_field_id FOREIGN KEY (FIELD_ID) REFERENCES Form_Fields (ID) ON DELETE CASCADE,
  CONSTRAINT Form_Rule_Trigger_Field_rule_id FOREIGN KEY (RULE_ID) REFERENCES Form_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS View_Groups (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	SEQUENCE_NUMBER INT,
	CONSTRAINT VIEW_GROUPS_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Views (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(150),
	VIEW_TYPE TINYINT NOT NULL,
	MODULEID BIGINT,
	MODULENAME varchar(100),
	CRITERIAID BIGINT,
	ISDEFAULT BOOLEAN,
	SEQUENCE_NUMBER INT,
	ISHIDDEN BOOLEAN DEFAULT FALSE,
	ISPRIMARY BOOLEAN DEFAULT FALSE,
	GROUPID BIGINT,
	CONSTRAINT VIEWS_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT VIEWS_CRITERIAID_FK FOREIGN KEY (CRITERIAID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT VIEWS_GROUPID_FK FOREIGN KEY (GROUPID) REFERENCES View_Groups(ID),
	CONSTRAINT VIEWS_NAME_UNIQUE UNIQUE(ORGID, MODULEID, NAME)
);

CREATE TABLE IF NOT EXISTS View_Sort_Columns (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	VIEWID BIGINT NOT NULL,
	FIELDID BIGINT,
	FIELDNAME VARCHAR(100),
	IS_ASCENDING BOOLEAN NOT NULL,
	CONSTRAINT VIEW_SORT_COLUMN_FIELD_UNIQUE UNIQUE (VIEWID, FIELDID, FIELDNAME),
	CONSTRAINT VIEW_SORT_COLUMN_VIEWID_FK FOREIGN KEY (VIEWID) REFERENCES Views(ID) ON DELETE CASCADE,
	CONSTRAINT VIEW_SORT_COLUMN_FIELDID_FK FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS ImportProcess (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	STATUS INT,
	UPLOADED_BY BIGINT,
	COLUMN_HEADING VARCHAR(5000),
	FILE_PATH VARCHAR(100),
	FILEID BIGINT,
	FILE_PATH_FAILED VARCHAR(100),
	FIELD_MAPPING VARCHAR(5000),
	IMPORT_TIME BIGINT,
	IMPORT_TYPE INT,
	IMPORT_JOB_META VARCHAR(5000),
	IMPORT_SETTING INT,
	MAIL_SETTING INT,
	IMPORT_MODE INT,
	TEMPLATE_ID BIGINT DEFAULT NULL,
  	ROW_TOTAL bigint(20) DEFAULT NULL,
  	FIRST_ROW_STRING TEXT,
	CONSTRAINT IMPORT_PROCESS_SITEID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT IMPORT_PROCESS_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT IMPORT_PROCESS_UPLOADED_BY_ID FOREIGN KEY (UPLOADED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT IMPORT_ORGFILE_FK_ORGID FOREIGN KEY (FILEID) REFERENCES FacilioFile(FILE_ID)
);

-- # CREATE TABLE IF NOT EXISTS ImportPoints (
-- # 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- # 	ORGID BIGINT NOT NULL,
-- # 	CONTROLLER_ID BIGINT,
-- # 	STATUS INT,
-- # 	COLUMN_HEADING VARCHAR(5000),
-- # 	FILE_PATH VARCHAR(100),
-- # 	FILEID BIGINT,
-- # 	FILE_PATH_FAILED VARCHAR(100),
-- # 	FIELD_MAPPING VARCHAR(5000),
-- # 	IMPORT_TIME BIGINT,
-- # 	IMPORT_TYPE INT,
-- # 	IMPORT_JOB_META VARCHAR(5000),
-- # 	IMPORT_SETTING INT,
-- # 	IMPORT_MODE INT,
-- # 	CONSTRAINT IMPORT_POINTS_ORGID_FK FOREIGN KEY (ORGID) REFERENCES Organizations(ORGID),
-- # 	CONSTRAINT IMPORT_POINTS_ORGFILE_FK_ORGID FOREIGN KEY (FILEID) REFERENCES FacilioFile(FILE_ID)
-- # );
-- #
-- # CREATE TABLE IF NOT EXISTS ImportPointsLog (
-- #   ID bigint(20) NOT NULL AUTO_INCREMENT,
-- #   ORGID bigint(20) NOT NULL,
-- #   IMPORTID bigint(20) DEFAULT NULL,
-- #   TEMPLATEID bigint(20) DEFAULT NULL,
-- #   ROW_TOTAL bigint(20) DEFAULT NULL,
-- #   GROUPED_ROWS TEXT DEFAULT NULL,
-- #   ERROR_RESOLVED int(2) DEFAULT NULL,
-- #   CORRECTED_ROW varchar(5000) DEFAULT NULL,
-- #   TTIME bigint(20) DEFAULT NULL,
-- #   IMPORT_MODE int(10) DEFAULT 1,
-- #   PRIMARY KEY (ID),
-- #   CONSTRAINT IMPORT_READING_IMPORTID FOREIGN KEY (IMPORTID) REFERENCES ImportPoints(ID)
-- # );


CREATE TABLE IF NOT EXISTS ImportTemplate(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TEMPLATE_NAME VARCHAR(1000) DEFAULT NULL,
	MODULE TEXT DEFAULT NULL,
	UNIQUE_MAPPING VARCHAR(3000) DEFAULT NULL,
	FIELD_MAPPING VARCHAR(8000) DEFAULT NULL,
	SYS_SHOW TINYINT DEFAULT NULL,
	TEMPLATE_META VARCHAR(3000) DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS ImportProcessLog (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  IMPORTID bigint(20) DEFAULT NULL,
  TEMPLATEID bigint(20) DEFAULT NULL,
  GROUPED_ROWS TEXT DEFAULT NULL,
  ERROR_RESOLVED int(2) DEFAULT NULL,
  CORRECTED_ROW varchar(5000) DEFAULT NULL,
  PARENTID bigint(20) DEFAULT NULL,
  TTIME bigint(20) DEFAULT NULL,
  IMPORT_MODE int(10) DEFAULT 1,
  PRIMARY KEY (ID),
  CONSTRAINT IMPORT_READING_IMPORTID FOREIGN KEY (IMPORTID) REFERENCES ImportProcess(ID),
  CONSTRAINT IMPORT_READING_TEMPLATEID FOREIGN KEY (TEMPLATEID) REFERENCES ImportTemplate(ID),
  CONSTRAINT IMPORT_READING_PARENT FOREIGN KEY (PARENTID) REFERENCES Resources(ID)
);

CREATE TABLE IF NOT EXISTS Expression (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  EXPRESSION_STRING VARCHAR(5000) DEFAULT NULL

);

CREATE TABLE IF NOT EXISTS KPI_Category (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  NAME VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS Formula_Field (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(500),
	KPI_CATEGORY BIGINT,
	VIOLATION_RULE_ID BIGINT,
	TARGET DOUBLE,
	MIN_TARGET DOUBLE,
	FORMULA_FIELD_TYPE TINYINT NOT NULL,
	WORKFLOW_ID BIGINT NOT NULL,
	TRIGGER_TYPE TINYINT NOT NULL,
	FREQUENCY_TYPE TINYINT,
	DATA_INTERVAL INT,
	MODULE_ID BIGINT NOT NULL,
	READING_FIELD_ID BIGINT NOT NULL,
	RESOURCE_TYPE TINYINT NOT NULL,
	RESOURCE_ID BIGINT,
	ASSET_CATEGORY_ID BIGINT,
	SPACE_CATEGORY_ID BIGINT,
	ACTIVE BOOLEAN NOT NULL,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,
	START_TIME BIGINT,
	END_TIME BIGINT,
	CONSTRAINT FORMULA_FIELD_FK_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID),
	CONSTRAINT FORMULA_FIELD_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID),
	CONSTRAINT FORMULA_FIELD_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT FORMULA_FIELD_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID),
	CONSTRAINT FORMULA_FIELD_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT FORMULA_FIELD_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories(ID),
	CONSTRAINT Formula_Field_KPI_CATEGORY_ID FOREIGN KEY (KPI_CATEGORY) REFERENCES KPI_Category(ID),
	CONSTRAINT FORMULA_FIELD_FK_SPACE_CATEGORY_ID FOREIGN KEY (SPACE_CATEGORY_ID) REFERENCES Space_Category(ID),
	CONSTRAINT FORMULA_FIELD_FK_VIOLATION_RULE_ID FOREIGN KEY (VIOLATION_RULE_ID) REFERENCES Workflow_Rule(ID)
);

CREATE TABLE IF NOT EXISTS Formula_Field_Inclusions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FORMULA_FIELD_ID BIGINT NOT NULL,
	RESOURCE_ID BIGINT NOT NULL,
	CONSTRAINT FORMULA_FIELD_INCLUSIONS_FK_RULE_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE,
	CONSTRAINT FORMULA_FIELD_INCLUSIONS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT FORMULA_FIELD_INCLUSIONS_UNIQUE UNIQUE (FORMULA_FIELD_ID, RESOURCE_ID)
);

CREATE TABLE IF NOT EXISTS Formula_Field_Resource_Jobs (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FORMULA_FIELD_ID BIGINT NOT NULL,
	RESOURCE_ID BIGINT NOT NULL,
	START_TIME BIGINT NOT NULL,
	END_TIME BIGINT NOT NULL,
	IS_SYSTEM BOOLEAN NOT NULL,
	CALCULATE_HISTORICAL_ALARM BOOLEAN,
	SKIP_OPTIMISED_WORKFLOW BOOLEAN,
	CONSTRAINT FORMULA_FIELD_RESOURCE_JOBS_FK_RULE_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE,
	CONSTRAINT FORMULA_FIELD_RESOURCE_JOBS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT FORMULA_FIELD_RESOURCE_JOBS_UNIQUE UNIQUE (FORMULA_FIELD_ID, RESOURCE_ID, IS_SYSTEM)
);

CREATE TABLE IF NOT EXISTS Aggregation_Meta(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	NAME VARCHAR(50) NOT NULL,
	STORAGE_MODULE_ID BIGINT NOT NULL,
	FILTER_JSON VARCHAR(1000),
	FREQUENCY_TYPE TINYINT NOT NULL,
	TIME_INTERVAL BIGINT NOT NULL,
	LAST_SYNC BIGINT,

	CONSTRAINT AGGREGATIONMETA_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT AGGREGATIONMETA_FK_STORAGEMODULEID FOREIGN KEY (STORAGE_MODULE_ID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS Aggregation_Column_Meta(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	AGGREGATION_META_ID BIGINT NOT NULL,
	FIELD_MODULE_ID BIGINT NOT NULL,
	FIELD_ID BIGINT NOT NULL,
	AGGREGATE_OPERATOR_ID BIGINT NOT NULL,
	STORAGE_FIELD_ID BIGINT NOT NULL,

	CONSTRAINT AGGREGATIONCOLUMNMETA_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT AGGREGATIONCOLUMNMETA_FK_AGGREGATIONMETA FOREIGN KEY (AGGREGATION_META_ID) REFERENCES Aggregation_Meta (ID) ON DELETE CASCADE,
	CONSTRAINT AGGREGATIONCOLUMNMETA_FK_FIELDMODULEID FOREIGN KEY (FIELD_MODULE_ID) REFERENCES Modules (MODULEID),
	CONSTRAINT AGGREGATIONCOLUMNMETA_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID),
	CONSTRAINT AGGREGATIONCOLUMNMETA_FK_STORAGEFIELDID FOREIGN KEY (STORAGE_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Module_KPIs (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    DESCRIPTION VARCHAR(500),
    SITE_ID BIGINT,
	MODULE_ID BIGINT NOT NULL,
	METRIC_FIELD_ID BIGINT,
	METRIC_NAME VARCHAR(100),
    KPI_CATEGORY BIGINT,
    TARGET DOUBLE,
	MIN_TARGET DOUBLE,
	WORKFLOW_ID BIGINT,
	CRITERIA_ID BIGINT,
	ACTIVE BOOLEAN NOT NULL,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,
	PERIOD BIGINT,
	DATE_FIELD_ID BIGINT,
	DATE_OPERATOR INT,
	DATE_VALUE VARCHAR(50),
	AGGREGATION TINYINT,
	CONSTRAINT MODULE_KPI_FK_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID),
	CONSTRAINT MODULE_KPI_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID),
	CONSTRAINT MODULE_KPI_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT MODULE_KPI_CATEGORY_ID FOREIGN KEY (KPI_CATEGORY) REFERENCES KPI_Category(ID),
	CONSTRAINT MODULE_KPI_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID),
	CONSTRAINT MODULE_KPI_FIELD_ID FOREIGN KEY (METRIC_FIELD_ID) REFERENCES Fields (FIELDID),
	CONSTRAINT MODULE_KPI_DATE_FIELD_ID FOREIGN KEY (DATE_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Job_Plan (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL
);

CREATE TABLE IF NOT EXISTS EMail_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FROM_ADDR VARCHAR(50) NOT NULL,
	TO_ADDR VARCHAR(500) NOT NULL,
	CC_ADDR VARCHAR(500),
	BCC_ADDR VARCHAR(500),
	SUBJECT VARCHAR(100),
	BODY_ID BIGINT NOT NULL,
	SEND_AS_SEPARATE_MAIL BOOLEAN,
	IS_HTML BOOLEAN,
	CONSTRAINT EMAIL_TEMPLATES_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT EMAIL_TEMPLATES_BODY_FK FOREIGN KEY (BODY_ID) REFERENCES FacilioFile(FILE_ID)
);

CREATE TABLE IF NOT EXISTS Workflow_Template (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WORKFLOW_ID BIGINT NOT NULL,
  META varchar(1000) DEFAULT NULL,
  CONSTRAINT Workflow_Template_id FOREIGN KEY (ID) REFERENCES Templates (ID) ON DELETE CASCADE,
  CONSTRAINT Workflow_Template_workflow_id FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Control_Groups (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  SITE_ID BIGINT DEFAULT NULL,
  NAME varchar(45) NOT NULL,
  ASSET_CATEGORY_ID BIGINT NOT NULL,
  FIELD_ID BIGINT NOT NULL,
  MODE INT NOT NULL DEFAULT 1,
  IS_DELETED TINYINT DEFAULT NULL,
  CONSTRAINT Control_Groups_asset_Category_id FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Groups_fieldid FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Groups_siteid FOREIGN KEY (SITE_ID) REFERENCES Site (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Control_Action_Template (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    ASSET_CATEGORY BIGINT,
    METRIC VARCHAR(250),
    RESOURCE VARCHAR(250),
    VAL VARCHAR(250) NOT NULL,
    ACTION_TYPE INT,
    CONTROL_ACTION_GROUP_ID BIGINT,
    CONSTRAINT Control_Action_Template_CONTROL_ACTION_GROUP_ID FOREIGN KEY (CONTROL_ACTION_GROUP_ID) REFERENCES Control_Groups (ID),
    CONSTRAINT CONTROL_ACTION_TEMPLATE_ID_FK FOREIGN KEY (ID) REFERENCES Templates (ID) ON DELETE CASCADE,
    CONSTRAINT CONTROL_ACTION_TEMPLATE_ASSET_CATEGORY_FK FOREIGN KEY (ASSET_CATEGORY) REFERENCES Asset_Categories (ID)
);

CREATE TABLE IF NOT EXISTS SMS_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FROM_NUM VARCHAR(50),
	TO_NUM VARCHAR(100) NOT NULL,
	MSG VARCHAR(500) NOT NULL,
	CONSTRAINT SMS_TEMPLATES_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Whatsapp_Message_Template (
  ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  FROM_NUM varchar(100),
  TO_NUM varchar(100) NOT NULL,
  MSG varchar(5000) NOT NULL,
  IS_HTML_CONTENT boolean,
  HTML_CONTENT varchar(5000),
  PRIMARY KEY (ID),
  CONSTRAINT Whatsapp_Message_Template_ID FOREIGN KEY (ID) REFERENCES Templates (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Call_Template (
  ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  FROM_NUM varchar(100) DEFAULT NULL,
  TO_NUM varchar(100) NOT NULL,
  MSG varchar(5000) NOT NULL,
  VOICE varchar(100) DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Call_Template_ID FOREIGN KEY (ID) REFERENCES Templates (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Assignment_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	USERID BIGINT,
	GROUPID BIGINT,
	CONSTRAINT ASSIGNMENT_TEMPLATES_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT ASSIGNMENT_TEMPLATES_USER_FK FOREIGN KEY (USERID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ASSIGNMENT_TEMPLATES_GROUP_FK FOREIGN KEY (GROUPID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS SLA_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SLAPOLICYJSON VARCHAR(1000),
	CONSTRAINT SLA_TEMPLATES_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Push_Notification_Templates (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TO_UID VARCHAR(100) NOT NULL,
	APP_TYPE INTEGER,
	MSG VARCHAR(5000) NOT NULL,
	TITLE VARCHAR(250),
	URL VARCHAR(250),
	APPLICATION BIGINT,
	IS_SEND_NOTIFICATION BOOLEAN,
	MODULEID BIGINT,
	CONSTRAINT PUSH_NOTIFICATION_TEMPLATE_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE
);

-- CREATE TABLE IF NOT EXISTS Web_Notification_Templates (
-- 	ID BIGINT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	TO_UID VARCHAR(100) NOT NULL,
-- 	MSG VARCHAR(250) NOT NULL,
-- 	TITLE VARCHAR(250),
-- 	URL VARCHAR(250),
-- 	CONSTRAINT WEB_NOTIFICATION_TEMPLATE_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE
-- );

CREATE TABLE IF NOT EXISTS JSON_Template (
  	ID BIGINT PRIMARY KEY,
  	ORGID BIGINT NOT NULL,
  	CONTENT_ID BIGINT NOT NULL,
  	CONSTRAINT JSON_TEMPLATE_ID_FK FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Form_Template (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FORM_ID BIGINT NOT NULL,
  MAPPING_JSON MEDIUMTEXT,
  SOURCE_TYPE TINYINT NOT NULL,
  CONSTRAINT FORM_TEMPLATE_ID_FK FOREIGN KEY (ID) REFERENCES Templates (ID) ON DELETE CASCADE,
  CONSTRAINT FORM_TEMPLATE_FORM_ID_FK FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Safety_Plan(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(200),
	DESCRIPTION VARCHAR(1000),
	FORM_ID BIGINT,
	LOCAL_ID BIGINT,
	SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    SYS_DELETED 		TINYINT,
	SYS_DELETED_TIME 	BIGINT,
   	SYS_DELETED_BY 	BIGINT,
   	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT Safety_Plan_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT Safety_Plan_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
    CONSTRAINT Safety_Plan_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Safety_Plan_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Safety_Plan_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)

);

CREATE TABLE IF NOT EXISTS Workorder_Template (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SUBJECT VARCHAR(300),
	DESCRIPTION VARCHAR(2000),
	QR_ENABLED BOOLEAN,
	STATUS_ID BIGINT,
	PRIORITY_ID BIGINT,
	CATEGORY_ID BIGINT,
	TYPE_ID BIGINT,
	ASSIGNMENT_GROUP_ID BIGINT,
	ASSIGNED_TO_ID BIGINT,
	RESOURCE_ID VARCHAR(100),
	DURATION BIGINT,
	REQUESTER_ID BIGINT,
	ADDITIONAL_INFO VARCHAR(5000),
	SITE_ID BIGINT,
	TENANT_ID BIGINT,
	VENDOR_ID BIGINT,
	SAFETY_PLAN_ID BIGINT,
	ESTIMATED_WORK_DURATION BIGINT,
	WO_CREATION_OFFSET INTEGER,
	WORK_PERMIT_NEEDED TINYINT,
	SEND_FOR_APPROVAL BOOLEAN,
	CONSTRAINT WORKORDER_TEMPLATE_FK_STATUS_ID FOREIGN KEY (STATUS_ID) REFERENCES TicketStatus(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_PRIORITY_ID FOREIGN KEY (PRIORITY_ID) REFERENCES TicketPriority(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TicketCategory(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TicketType(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_ASSIGNMENT_GROUP FOREIGN KEY (ASSIGNMENT_GROUP_ID) REFERENCES FacilioGroups (GROUPID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_ASSIGNED_TO_ID FOREIGN KEY (ASSIGNED_TO_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_ID FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT WORKORDER_TEMPLATE_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID),
	CONSTRAINT WORKORDER_TEMPLATE_FK_SAFETY_PLAN_ID FOREIGN KEY (SAFETY_PLAN_ID) REFERENCES Safety_Plan(ID),
	CONSTRAINT WORKOREDER_TEMPLATE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS Task_Section_Template (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	IS_EDITABLE BOOLEAN,
	PARENT_WO_TEMPLATE_ID BIGINT,
	JOB_PLAN_ID BIGINT,
	SEQUENCE_NUMBER INT,
	ASSIGNMENT_TYPE INT DEFAULT NULL,
  	ASSET_CATEGORY_ID BIGINT DEFAULT NULL,
  	SPACE_CATEGORY_ID BIGINT DEFAULT NULL,
  	RESOURCE_ID BIGINT DEFAULT NULL,
  	INPUT_TYPE INT DEFAULT NULL,
	ADDITIONAL_INFO VARCHAR(5000) DEFAULT NULL,
	ATTACHMENT_REQUIRED INT DEFAULT NULL,
	CONSTRAINT TASK_SECTION_TEMPLATE_FK_ID FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT Task_Section_Template_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
  	CONSTRAINT Task_Section_Template_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID),
  	CONSTRAINT Task_Section_Template_SPACE_CATEGORY_ID FOREIGN KEY (SPACE_CATEGORY_ID) REFERENCES Space_Category (ID),
	CONSTRAINT TASK_SECTION_TEMPLATE_FK_PARENT_WO_TEMPLATE_ID FOREIGN KEY (PARENT_WO_TEMPLATE_ID) REFERENCES Workorder_Template (ID) ON DELETE CASCADE,
	CONSTRAINT TASK_SECTION_TEMPLATE_FK_JOB_PLAN_ID FOREIGN KEY (JOB_PLAN_ID) REFERENCES Job_Plan (ID) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS Prerequisite_Approvers_Template (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PARENT_WO_TEMPLATE_ID BIGINT NOT NULL,
  ORG_USERID BIGINT NULL,
  ROLE_ID BIGINT NULL,
  GROUP_ID BIGINT NULL,
  SHARING_TYPE TINYINT NOT NULL,
  CONSTRAINT APPROVERS_TEMPLATE_FK_PARENT_WO_TEMPLATE_ID FOREIGN KEY (PARENT_WO_TEMPLATE_ID)  REFERENCES Workorder_Template (ID),
  CONSTRAINT APPROVERS_TEMPLATE_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT APPROVERS_TEMPLATE_FK_ROLE_ID FOREIGN KEY (ROLE_ID)  REFERENCES Role (ROLE_ID),
  CONSTRAINT APPROVERS_TEMPLATE_FK_GROUP_ID FOREIGN KEY (GROUP_ID)  REFERENCES FacilioGroups (GROUPID));

CREATE TABLE IF NOT EXISTS Task_Template (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	DESCRIPTION VARCHAR(1000),
	STATUS TINYINT DEFAULT 1,
	PRIORITY_ID BIGINT,
	CATEGORY_ID BIGINT,
	TYPE_ID BIGINT,
	ASSIGNMENT_GROUP_ID BIGINT,
	ASSIGNED_TO_ID BIGINT,
	RESOURCE_ID BIGINT,
	DURATION BIGINT,
	PARENT_WO_TEMPLATE_ID BIGINT,
	JOB_PLAN_ID BIGINT,
	INPUT_TYPE TINYINT,
	READING_ID BIGINT,
	SECTION_ID BIGINT,
	SEQUENCE INT,
	ATTACHMENT_REQUIRED INT,
	ADDITIONAL_INFO VARCHAR(5000),
	SITE_ID BIGINT,
	ASSIGNMENT_TYPE INT DEFAULT NULL,
  	ASSET_CATEGORY_ID BIGINT DEFAULT NULL,
  	SPACE_CATEGORY_ID BIGINT DEFAULT NULL,
  	CONSTRAINT TASK_TEMPLATE_FK_ID FOREIGN KEY (ID) REFERENCES Templates(ID) ON DELETE CASCADE,
	CONSTRAINT TASK_TEMPLATE_FK_PRIORITY_ID FOREIGN KEY (PRIORITY_ID) REFERENCES TicketPriority(ID),
	CONSTRAINT TASK_TEMPLATE_FK_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES TicketCategory(ID),
	CONSTRAINT TASK_TEMPLATE_FK_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES TicketType(ID),
	CONSTRAINT TASK_TEMPLATE_FK_ASSIGNMENT_GROUP FOREIGN KEY (ASSIGNMENT_GROUP_ID) REFERENCES FacilioGroups(GROUPID),
	CONSTRAINT TASK_TEMPLATE_FK_ASSIGNED_TO_ID FOREIGN KEY (ASSIGNED_TO_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TASK_TEMPLATE_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT TASK_TEMPLATE_FK_PARENT_WO_TEMPLATE_ID FOREIGN KEY (PARENT_WO_TEMPLATE_ID) REFERENCES Workorder_Template (ID) ON DELETE CASCADE,
	CONSTRAINT TASK_TEMPLATE_FK_READING_ID FOREIGN KEY (READING_ID) REFERENCES Fields(FIELDID),
	CONSTRAINT TASK_TEMPLATE_FK_SECTION_ID FOREIGN KEY (SECTION_ID) REFERENCES Task_Section_Template(ID) ON DELETE CASCADE,
	CONSTRAINT Task_Template_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID),
  	CONSTRAINT Task_Template_SPACE_CATEGORY_ID FOREIGN KEY (SPACE_CATEGORY_ID) REFERENCES Space_Category (ID),
	CONSTRAINT TASK_TEMPLATE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT TASK_TEMPLATE_FK_JOB_PLAN_ID FOREIGN KEY (JOB_PLAN_ID) REFERENCES Job_Plan (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Named_Criteria (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAMED_CRITERIA_MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255) NOT NULL,
	PATTERN VARCHAR(50) NOT NULL,

	CONSTRAINT NAMEDCRITERIA_FK_MODULEID FOREIGN KEY (NAMED_CRITERIA_MODULEID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS Named_Condition (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAMED_CRITERIA_ID BIGINT NOT NULL,
	SEQUENCE INT NOT NULL,
    TYPE TINYINT NOT NULL,
    CRITERIA_ID BIGINT,
    WORKFLOW_ID BIGINT,
    SYSTEM_CRITERIA_ID INT,

    CONSTRAINT NAMEDCONDITION_FK_NAMEDCRITERIA FOREIGN KEY (NAMED_CRITERIA_ID) REFERENCES Named_Criteria (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Excel_PlaceHolders (
	TEMPLATEID BIGINT,
	ORGID BIGINT NOT NULL,
	PLACEHOLDERNAME VARCHAR(50),
	CELLDATA VARCHAR(50),
	CONSTRAINT TEMPLATE_EXCELPLACEHOLDER_ID_FK FOREIGN KEY (TEMPLATEID) REFERENCES Excel_Templates(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Tenant_spaces (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SPACE BIGINT NOT NULL,
	TENANT_ID BIGINT NOT NULL,
	CONSTRAINT TENANT_SPACES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TENANT_SPACES_FK_SPACE FOREIGN KEY (SPACE) REFERENCES BaseSpace (ID),
	CONSTRAINT TENANT_SPACES_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants(ID)
);

CREATE TABLE IF NOT EXISTS Preventive_Maintenance (
  	ID BIGINT PRIMARY KEY,
  	ORGID BIGINT NOT NULL,
  	TITLE VARCHAR(250) NOT NULL,
  	STATUS INT,
	CREATED_BY BIGINT NOT NULL,
	MODIFIED_BY BIGINT,
	CREATION_TIME BIGINT NOT NULL,
	LAST_MODIFIED_TIME BIGINT,
	TEMPLATE_ID BIGINT,
	TRIGGER_TYPE TINYINT NOT NULL,
	END_TIME BIGINT,
	CURRENT_EXECUTION_COUNT INT,
	MAX_COUNT INT,
	WAIT_FOR_ALL_TRIGGERS BOOLEAN,
	FREQUENCY_TYPE TINYINT,
	IS_CUSTOM BOOLEAN,
	SITE_ID BIGINT,
	ASSIGNMENT_TYPE TINYINT DEFAULT NULL,
  	BASE_SPACE_ID BIGINT DEFAULT NULL,
  	PM_CREARTION_TYPE TINYINT DEFAULT NULL,
  	ASSET_CATEGORY_ID BIGINT DEFAULT NULL,
  	SPACE_CATEGORY_ID BIGINT DEFAULT NULL,
  	PREVENT_ON_NO_TASK BOOLEAN DEFAULT FALSE,
  	WO_GENERATION_STATUS BOOLEAN NOT NULL DEFAULT FALSE,
  	WO_GENERATED_UPTO BIGINT,
  	IS_USER_TRIGGER_PRESENT BOOLEAN,
  	IS_DEFAULT_ALL_TRIGGERS BOOLEAN,
  	ENABLE_SKIP_TRIGGERS BOOLEAN,
  	WO_CREATION_OFFSET INTEGER,
    MARK_IGNORED_WO BOOLEAN,
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_ID FOREIGN KEY (ID) REFERENCES Resources(ID) ON DELETE CASCADE,
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_MODIFIED_BY FOREIGN KEY (MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_TEMPLATE_ID FOREIGN KEY (TEMPLATE_ID) REFERENCES Templates(ID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_BASESPACE_ID FOREIGN KEY (BASE_SPACE_ID) REFERENCES BaseSpace (ID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_SPACE_CATEGORY_ID FOREIGN KEY (SPACE_CATEGORY_ID) REFERENCES Space_Category (ID),
	CONSTRAINT PREVENTIVE_MAINTENANCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS PM_Sites (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    PM_ID BIGINT NOT NULL,
    SITE_ID BIGINT NOT NULL,
    CONSTRAINT PM_SITES FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
    CONSTRAINT PM_SITES_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PM_Include_Exclude_Resource (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  PARENT_TYPE INT DEFAULT NULL,
  PM_ID BIGINT DEFAULT NULL,
  TASK_SECTION_TEMPLATE_ID BIGINT DEFAULT NULL,
  TASK_TEMPLATE_ID BIGINT DEFAULT NULL,
  RESOURCE_ID BIGINT DEFAULT NULL,
  IS_INCLUDE TINYINT DEFAULT NULL,
  CONSTRAINT PM_INCLUDE_EXCLUDE_RESOURCE_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE CASCADE,
  CONSTRAINT PM_INCLUDE_EXCLUDE_RESOURCE_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
  CONSTRAINT PM_INCLUDE_EXCLUDE_RESOURCE_TASK_SECTION_ID FOREIGN KEY (TASK_SECTION_TEMPLATE_ID) REFERENCES Task_Section_Template (ID) ON DELETE CASCADE,
  CONSTRAINT PM_INCLUDE_EXCLUDE_RESOURCE_TASK_TEMPLATE_ID FOREIGN KEY (TASK_TEMPLATE_ID) REFERENCES Task_Template (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Approval_Rules (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	APPROVAL_RULE_ID BIGINT,
	REJECTION_RULE_ID BIGINT,
	APPROVAL_FORM_ID BIGINT,
	REJECTION_FORM_ID BIGINT,
	APPROVAL_BUTTON VARCHAR(50),
	REJECTION_BUTTON VARCHAR(50),
	ALL_APPROVAL_REQUIRED BOOLEAN,
	APPROVAL_ORDER TINYINT,
	CONSTRAINT APPROVAL_RULES_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT APPROVAL_RULES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT APPROVAL_RULES_FK_APPROVAL_RULE_ID FOREIGN KEY (APPROVAL_RULE_ID) REFERENCES Workflow_Rule(ID),
	CONSTRAINT APPROVAL_RULES_FK_REJECTION_RULE_ID FOREIGN KEY (REJECTION_RULE_ID) REFERENCES Workflow_Rule(ID),
	CONSTRAINT APPROVAL_RULES_FK_APPROVAL_FORM_ID FOREIGN KEY (APPROVAL_FORM_ID) REFERENCES Forms(ID),
	CONSTRAINT APPROVAL_RULES_FK_REJECTION_FORM_ID FOREIGN KEY (REJECTION_FORM_ID) REFERENCES Forms(ID)
);

CREATE TABLE IF NOT EXISTS Approvers (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	ORG_USERID BIGINT,
	ROLE_ID BIGINT,
	GROUP_ID BIGINT,
	FIELD_ID BIGINT,
	COMPANY_ID BIGINT,
	SHARING_TYPE TINYINT NOT NULL,
	CONSTRAINT APPROVERS_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT APPROVERS_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
	CONSTRAINT APPROVERS_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS  Approver_Actions_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	APPROVER_ID BIGINT NOT NULL,
	ACTION_ID BIGINT NOT NULL,
	CONSTRAINT APPROVER_ACTIONS_REL_FK_APPROVER_ID FOREIGN KEY (APPROVER_ID) REFERENCES Approvers(ID) ON DELETE CASCADE,
	CONSTRAINT APPROVER_ACTIONS_REL_FK_ACTION_ID FOREIGN KEY (ACTION_ID) REFERENCES Action(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Approval_Steps (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT NOT NULL,
	RECORD_ID BIGINT NOT NULL,
	ACTION_BY BIGINT,
	APPROVER_GROUP BIGINT,
	APPROVAL_ACTION TINYINT,
	ACTION_TIME BIGINT NOT NULL,
	CONSTRAINT APPROVAL_STEPS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT APPROVAL_STEPS_FK_ACTION_BY FOREIGN KEY (ACTION_BY) REFERENCES ORG_Users(ORG_USERID) ON DELETE SET NULL,
	CONSTRAINT APPROVAL_STEPS_FK_APPROVER_GROUP FOREIGN KEY (APPROVER_GROUP) REFERENCES Approvers(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS PM_Triggers(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(150) DEFAULT NULL,
	PM_ID BIGINT NOT NULL,
	SCHEDULE_INFO VARCHAR(1000),
	START_TIME BIGINT,
	TRIGGER_EXECUTION_SOURCE INT NOT NULL,
	RULE_ID BIGINT,
	TRIGGER_TYPE INT DEFAULT NULL,
	ASSIGNED_TO BIGINT DEFAULT NULL,
	FREQUENCY INT,
	IS_CUSTOM BOOLEAN,
	DATE_FIELDID BIGINT DEFAULT NULL,
    CUSTOM_MODULEID BIGINT DEFAULT NULL,
    EXECUTE_ON TINYINT DEFAULT NULL,
    EXECUTION_OFFSET INTEGER DEFAULT NULL,
	CONSTRAINT PM_TRIGGERS_FK_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance(ID) ON DELETE CASCADE,
	CONSTRAINT PM_Triggers_ASSIGNED_TO FOREIGN KEY (ASSIGNED_TO) REFERENCES ORG_Users (ORG_USERID),
	CONSTRAINT PM_TRIGGERS_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
    CONSTRAINT PM_TRIGGERS_FK_CUSTOM_MODULEID FOREIGN KEY (CUSTOM_MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT PM_TRIGGERS_FK_DATE_FIELDID FOREIGN KEY (DATE_FIELDID) REFERENCES Fields(FIELDID)
);


CREATE TABLE IF NOT EXISTS WorkOrders
(
    ID                             BIGINT PRIMARY KEY,
    ORGID                          BIGINT  NOT NULL,
    MODULEID                       BIGINT  NOT NULL,
    QR_ENABLED                     BOOLEAN,
    REQUESTER_ID                   BIGINT,
    CREATED_TIME                   BIGINT,
    MODIFIED_TIME                  BIGINT,
    PM_ID                          BIGINT,
    IS_WORKDURATION_CHANGE_ALLOWED BOOLEAN,
    APPROVAL_STATE                 TINYINT NOT NULL,
    APPROVAL_RULE_ID               BIGINT,
    REQUESTED_BY_ID                BIGINT,
    SEND_FOR_APPROVAL              BOOLEAN,
    URGENCY                        TINYINT,
    WO_CREATION_OFFSET             INTEGER,
    IS_SIGNATURE_REQUIRED          BOOLEAN,
    SIGNATURE_ID1                  BIGINT,
    IS_QUOTATION_NEEDED            BOOLEAN,
    IS_QUOTATION_APPROVED          BOOLEAN,
    SITE_ID                        BIGINT,
    TOTAL_COST                     DOUBLE,
    TRIGGER_ID                     BIGINT,
    SYS_CREATED_TIME               BIGINT,
    JOB_STATUS                     TINYINT,
    PRE_REQUEST_STATUS             TINYINT,
    PHOTO_MANDATORY                BOOLEAN,
    PREREQUEST_ENABLED             BOOLEAN,
    ALLOW_NEG_PREREQ               TINYINT,
    PREREQ_APPROVED                BOOLEAN,
    PARENT_WOID                    BIGINT,
    RESPONSE_DUE_DATE              BIGINT,
    WORK_PERMIT_NEEDED             TINYINT,
    WORK_PERMIT_ISSUED             TINYINT,
    SAFETY_PLAN_ID                 BIGINT,
    IS_ACTIVE                      BOOLEAN,
    CLIENT_ID                      BIGINT,
    DEVIATION_TASK_UNIQUE_ID       VARCHAR(50),
    STRING_CF1                     VARCHAR(255),
    STRING_CF2                     VARCHAR(255),
    STRING_CF3                     VARCHAR(255),
    STRING_CF4                     VARCHAR(255),
    STRING_CF5                     VARCHAR(255),
    STRING_CF6                     VARCHAR(255),
    STRING_CF7                     VARCHAR(255),
    STRING_CF8                     VARCHAR(255),
    STRING_CF9                     VARCHAR(255),
    STRING_CF10                    VARCHAR(255),
    STRING_CF11                    VARCHAR(255),
    STRING_CF12                    VARCHAR(255),
    STRING_CF13                    VARCHAR(255),
    STRING_CF14                    VARCHAR(255),
    STRING_CF15                    VARCHAR(255),
    STRING_CF16                    VARCHAR(255),
    STRING_CF17                    VARCHAR(255),
    STRING_CF18                    VARCHAR(255),
    STRING_CF19                    VARCHAR(255),
    STRING_CF20                    VARCHAR(255),
    STRING_CF21                    VARCHAR(255),
    STRING_CF22                    VARCHAR(255),
    STRING_CF23                    VARCHAR(255),
    STRING_CF24                    VARCHAR(255),
    STRING_CF25                    VARCHAR(255),
    STRING_CF26                    VARCHAR(255),
    STRING_CF27                    VARCHAR(255),
    STRING_CF28                    VARCHAR(255),
    STRING_CF29                    VARCHAR(255),
    STRING_CF30                    VARCHAR(255),
    NUMBER_CF1                     BIGINT,
    NUMBER_CF2                     BIGINT,
    NUMBER_CF3                     BIGINT,
    NUMBER_CF4                     BIGINT,
    NUMBER_CF5                     BIGINT,
    NUMBER_CF6                     BIGINT,
    NUMBER_CF7                     BIGINT,
    NUMBER_CF8                     BIGINT,
    NUMBER_CF9                     BIGINT,
    NUMBER_CF10                    BIGINT,
    NUMBER_CF11                    BIGINT,
    NUMBER_CF12                    BIGINT,
    NUMBER_CF13                    BIGINT,
    NUMBER_CF14                    BIGINT,
    NUMBER_CF15                    BIGINT,
    NUMBER_CF16                    BIGINT,
    NUMBER_CF17                    BIGINT,
    NUMBER_CF18                    BIGINT,
    NUMBER_CF19                    BIGINT,
    NUMBER_CF20                    BIGINT,
    NUMBER_CF21                    BIGINT,
    NUMBER_CF22                    BIGINT,
    NUMBER_CF23                    BIGINT,
    NUMBER_CF24                    BIGINT,
    NUMBER_CF25                    BIGINT,
    NUMBER_CF26                    BIGINT,
    NUMBER_CF27                    BIGINT,
    NUMBER_CF28                    BIGINT,
    NUMBER_CF29                    BIGINT,
    NUMBER_CF30                    BIGINT,
    DECIMAL_CF1                    DOUBLE,
    DECIMAL_CF2                    DOUBLE,
    DECIMAL_CF3                    DOUBLE,
    DECIMAL_CF4                    DOUBLE,
    DECIMAL_CF5                    DOUBLE,
    DECIMAL_CF6                    DOUBLE,
    DECIMAL_CF7                    DOUBLE,
    DECIMAL_CF8                    DOUBLE,
    DECIMAL_CF9                    DOUBLE,
    DECIMAL_CF10                   DOUBLE,
    DECIMAL_CF11                   DOUBLE,
    DECIMAL_CF12                   DOUBLE,
    DECIMAL_CF13                   DOUBLE,
    DECIMAL_CF14                   DOUBLE,
    DECIMAL_CF15                   DOUBLE,
    DECIMAL_CF16                   DOUBLE,
    DECIMAL_CF17                   DOUBLE,
    DECIMAL_CF18                   DOUBLE,
    DECIMAL_CF19                   DOUBLE,
    DECIMAL_CF20                   DOUBLE,
    DECIMAL_CF21                   DOUBLE,
    DECIMAL_CF22                   DOUBLE,
    DECIMAL_CF23                   DOUBLE,
    DECIMAL_CF24                   DOUBLE,
    DECIMAL_CF25                   DOUBLE,
    DECIMAL_CF26                   DOUBLE,
    DECIMAL_CF27                   DOUBLE,
    DECIMAL_CF28                   DOUBLE,
    DECIMAL_CF29                   DOUBLE,
    DECIMAL_CF30                   DOUBLE,
    BOOLEAN_CF1                    BOOLEAN,
    BOOLEAN_CF2                    BOOLEAN,
    BOOLEAN_CF3                    BOOLEAN,
    BOOLEAN_CF4                    BOOLEAN,
    BOOLEAN_CF5                    BOOLEAN,
    BOOLEAN_CF6                    BOOLEAN,
    BOOLEAN_CF7                    BOOLEAN,
    BOOLEAN_CF8                    BOOLEAN,
    BOOLEAN_CF9                    BOOLEAN,
    BOOLEAN_CF10                   BOOLEAN,
    BOOLEAN_CF11                   BOOLEAN,
    BOOLEAN_CF12                   BOOLEAN,
    BOOLEAN_CF13                   BOOLEAN,
    BOOLEAN_CF14                   BOOLEAN,
    BOOLEAN_CF15                   BOOLEAN,
    BOOLEAN_CF16                   BOOLEAN,
    BOOLEAN_CF17                   BOOLEAN,
    BOOLEAN_CF18                   BOOLEAN,
    BOOLEAN_CF19                   BOOLEAN,
    BOOLEAN_CF20                   BOOLEAN,
    BOOLEAN_CF21                   BOOLEAN,
    BOOLEAN_CF22                   BOOLEAN,
    BOOLEAN_CF23                   BOOLEAN,
    BOOLEAN_CF24                   BOOLEAN,
    BOOLEAN_CF25                   BOOLEAN,
    BOOLEAN_CF26                   BOOLEAN,
    BOOLEAN_CF27                   BOOLEAN,
    BOOLEAN_CF28                   BOOLEAN,
    BOOLEAN_CF29                   BOOLEAN,
    BOOLEAN_CF30                   BOOLEAN,
    DATE_CF1                       BIGINT,
    DATE_CF2                       BIGINT,
    DATE_CF3                       BIGINT,
    DATE_CF4                       BIGINT,
    DATE_CF5                       BIGINT,
    DATE_CF6                       BIGINT,
    DATE_CF7                       BIGINT,
    DATE_CF8                       BIGINT,
    DATE_CF9                       BIGINT,
    DATE_CF10                      BIGINT,
    DATE_CF11                      BIGINT,
    DATE_CF12                      BIGINT,
    DATE_CF13                      BIGINT,
    DATE_CF14                      BIGINT,
    DATE_CF15                      BIGINT,
    DATE_CF16                      BIGINT,
    DATE_CF17                      BIGINT,
    DATE_CF18                      BIGINT,
    DATE_CF19                      BIGINT,
    DATE_CF20                      BIGINT,
    DATE_CF21                      BIGINT,
    DATE_CF22                      BIGINT,
    DATE_CF23                      BIGINT,
    DATE_CF24                      BIGINT,
    DATE_CF25                      BIGINT,
    DATE_CF26                      BIGINT,
    DATE_CF27                      BIGINT,
    DATE_CF28                      BIGINT,
    DATE_CF29                      BIGINT,
    DATE_CF30                      BIGINT,
    DATETIME_CF1                   BIGINT,
    DATETIME_CF2                   BIGINT,
    DATETIME_CF3                   BIGINT,
    DATETIME_CF4                   BIGINT,
    DATETIME_CF5                   BIGINT,
    DATETIME_CF6                   BIGINT,
    DATETIME_CF7                   BIGINT,
    DATETIME_CF8                   BIGINT,
    DATETIME_CF9                   BIGINT,
    DATETIME_CF10                  BIGINT,
    DATETIME_CF11                  BIGINT,
    DATETIME_CF12                  BIGINT,
    DATETIME_CF13                  BIGINT,
    DATETIME_CF14                  BIGINT,
    DATETIME_CF15                  BIGINT,
    DATETIME_CF16                  BIGINT,
    DATETIME_CF17                  BIGINT,
    DATETIME_CF18                  BIGINT,
    DATETIME_CF19                  BIGINT,
    DATETIME_CF20                  BIGINT,
    DATETIME_CF21                  BIGINT,
    DATETIME_CF22                  BIGINT,
    DATETIME_CF23                  BIGINT,
    DATETIME_CF24                  BIGINT,
    DATETIME_CF25                  BIGINT,
    DATETIME_CF26                  BIGINT,
    DATETIME_CF27                  BIGINT,
    DATETIME_CF28                  BIGINT,
    DATETIME_CF29                  BIGINT,
    DATETIME_CF30                  BIGINT,
    ENUM_CF1                       INTEGER,
    ENUM_CF2                       INTEGER,
    ENUM_CF3                       INTEGER,
    ENUM_CF4                       INTEGER,
    ENUM_CF5                       INTEGER,
    ENUM_CF6                       INTEGER,
    ENUM_CF7                       INTEGER,
    ENUM_CF8                       INTEGER,
    ENUM_CF9                       INTEGER,
    ENUM_CF10                      INTEGER,
    ENUM_CF11                      INTEGER,
    ENUM_CF12                      INTEGER,
    ENUM_CF13                      INTEGER,
    ENUM_CF14                      INTEGER,
    ENUM_CF15                      INTEGER,
    ENUM_CF16                      INTEGER,
    ENUM_CF17                      INTEGER,
    ENUM_CF18                      INTEGER,
    ENUM_CF19                      INTEGER,
    ENUM_CF20                      INTEGER,
    ENUM_CF21                      INTEGER,
    ENUM_CF22                      INTEGER,
    ENUM_CF23                      INTEGER,
    ENUM_CF24                      INTEGER,
    ENUM_CF25                      INTEGER,
    ENUM_CF26                      INTEGER,
    ENUM_CF27                      INTEGER,
    ENUM_CF28                      INTEGER,
    ENUM_CF29                      INTEGER,
    ENUM_CF30                      INTEGER,
    FILE_CF1                       BIGINT,
    FILE_CF2                       BIGINT,
    FILE_CF3                       BIGINT,
    FILE_CF4                       BIGINT,
    FILE_CF5                       BIGINT,
    FILE_CF6                       BIGINT,
    FILE_CF7                       BIGINT,
    FILE_CF8                       BIGINT,
    FILE_CF9                       BIGINT,
    FILE_CF10                      BIGINT,
    FILE_CF11                      BIGINT,
    FILE_CF12                      BIGINT,
    FILE_CF13                      BIGINT,
    FILE_CF14                      BIGINT,
    FILE_CF15                      BIGINT,
    FILE_CF16                      BIGINT,
    FILE_CF17                      BIGINT,
    FILE_CF18                      BIGINT,
    FILE_CF19                      BIGINT,
    FILE_CF20                      BIGINT,
    FILE_CF21                      BIGINT,
    FILE_CF22                      BIGINT,
    FILE_CF23                      BIGINT,
    FILE_CF24                      BIGINT,
    FILE_CF25                      BIGINT,
    FILE_CF26                      BIGINT,
    FILE_CF27                      BIGINT,
    FILE_CF28                      BIGINT,
    FILE_CF29                      BIGINT,
    FILE_CF30                      BIGINT,
    LOOKUP_CF1                     BIGINT,
    LOOKUP_CF2                     BIGINT,
    LOOKUP_CF3                     BIGINT,
    LOOKUP_CF4                     BIGINT,
    LOOKUP_CF5                     BIGINT,
    LOOKUP_CF6                     BIGINT,
    LOOKUP_CF7                     BIGINT,
    LOOKUP_CF8                     BIGINT,
    LOOKUP_CF9                     BIGINT,
    LOOKUP_CF10                    BIGINT,
    LOOKUP_CF11                    BIGINT,
    LOOKUP_CF12                    BIGINT,
    LOOKUP_CF13                    BIGINT,
    LOOKUP_CF14                    BIGINT,
    LOOKUP_CF15                    BIGINT,
    LOOKUP_CF16                    BIGINT,
    LOOKUP_CF17                    BIGINT,
    LOOKUP_CF18                    BIGINT,
    LOOKUP_CF19                    BIGINT,
    LOOKUP_CF20                    BIGINT,
    LOOKUP_CF21                    BIGINT,
    LOOKUP_CF22                    BIGINT,
    LOOKUP_CF23                    BIGINT,
    LOOKUP_CF24                    BIGINT,
    LOOKUP_CF25                    BIGINT,
    LOOKUP_CF26                    BIGINT,
    LOOKUP_CF27                    BIGINT,
    LOOKUP_CF28                    BIGINT,
    LOOKUP_CF29                    BIGINT,
    LOOKUP_CF30                    BIGINT,
    SCORE_CF1                      DOUBLE,
    SCORE_CF2                      DOUBLE,
    SCORE_CF3                      DOUBLE,
    SCORE_CF4                      DOUBLE,
    SCORE_CF5                      DOUBLE,
    SCORE_CF6                      DOUBLE,
    SCORE_CF7                      DOUBLE,
    SCORE_CF8                      DOUBLE,
    SCORE_CF9                      DOUBLE,
    SCORE_CF10                     DOUBLE,
    SCORE_CF11                     DOUBLE,
    SCORE_CF12                     DOUBLE,
    SCORE_CF13                     DOUBLE,
    SCORE_CF14                     DOUBLE,
    SCORE_CF15                     DOUBLE,
    SCORE_CF16                     DOUBLE,
    SCORE_CF17                     DOUBLE,
    SCORE_CF18                     DOUBLE,
    SCORE_CF19                     DOUBLE,
    SCORE_CF20                     DOUBLE,
    SCORE_CF21                     DOUBLE,
    SCORE_CF22                     DOUBLE,
    SCORE_CF23                     DOUBLE,
    SCORE_CF24                     DOUBLE,
    SCORE_CF25                     DOUBLE,
    SCORE_CF26                     DOUBLE,
    SCORE_CF27                     DOUBLE,
    SCORE_CF28                     DOUBLE,
    SCORE_CF29                     DOUBLE,
    SCORE_CF30                     DOUBLE,
    CONSTRAINT WORK_ORDERS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORK_ORDERS_FK_PARENTWOID FOREIGN KEY (PARENT_WOID) REFERENCES WorkOrders (ID) ON DELETE SET NULL,
    CONSTRAINT WORK_ORDERS_FK_ID FOREIGN KEY (ID) REFERENCES Tickets (ID) ON DELETE CASCADE,
    CONSTRAINT WORK_ORDERS_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORK_ORDERS_FK_REQUESTED_BY_ID FOREIGN KEY (REQUESTED_BY_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORK_ORDERS_FK_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE SET NULL,
    CONSTRAINT WORK_ORDERS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT WORK_ORDERS_FK_APPROVAL_RULE_ID FOREIGN KEY (APPROVAL_RULE_ID) REFERENCES Approval_Rules (ID),
    CONSTRAINT WORK_ORDERS_FK_TRIGGER_ID FOREIGN KEY (TRIGGER_ID) REFERENCES PM_Triggers (ID) ON DELETE SET NULL,
    CONSTRAINT WORK_ORDERS_FK_SAFETY_PLAN_ID FOREIGN KEY (SAFETY_PLAN_ID) REFERENCES Safety_Plan (ID) ON DELETE SET NULL,
    CONSTRAINT WORK_ORDERS_FK_CLIENT_ID FOREIGN KEY (CLIENT_ID) REFERENCES Clients (ID)
);

CREATE TABLE IF NOT EXISTS Related_Workorders (
	ORGID BIGINT NOT NULL,
	SOURCE_WO BIGINT NOT NULL,
	TARGET_WO BIGINT NOT NULL,
	CONSTRAINT RELATED_WO_FK_SOURCE FOREIGN KEY (SOURCE_WO) REFERENCES WorkOrders(ID) ON DELETE CASCADE,
	CONSTRAINT RELATED_WO_FK_TARGET FOREIGN KEY (TARGET_WO) REFERENCES WorkOrders(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Prerequisite_Photos (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	WO_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	PHOTO_ID BIGINT NOT NULL,
	CONSTRAINT PREREQUISITE_PHOTOS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PREREQUISITE_PHOTOS_FK_PARENT_ASSET FOREIGN KEY (WO_ID) REFERENCES WorkOrders (ID),
	CONSTRAINT PREREQUISITE_PHOTOS_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Prerequisite_Approvers (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	ORG_USERID BIGINT,
	ROLE_ID BIGINT,
	GROUP_ID BIGINT,
	SHARING_TYPE TINYINT NOT NULL,
	FIELD_ID BIGINT,
	COMPANY_ID BIGINT,
	CONSTRAINT PREREQ_APPROVERS_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PREREQ_APPROVERS_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
	CONSTRAINT PREREQ_APPROVERS_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups (GROUPID)
);

CREATE TABLE IF NOT EXISTS WorkOrderTimeLog (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT,
  SITEID BIGINT,
  PARENT_ID BIGINT NOT NULL,
  NAME VARCHAR(100),
  FROM_STATUS_ID BIGINT,
  TO_STATUS_ID BIGINT,

  START_TIME BIGINT,
  END_TIME BIGINT,
  DURATION BIGINT,

  IS_TIMER_ENABLED BOOLEAN,
  DONE_BY BIGINT,

  CONSTRAINT WOTL_FK_PARENT FOREIGN KEY (PARENT_ID) REFERENCES WorkOrders (ID) ON DELETE CASCADE,
  CONSTRAINT WOTL_FK_SITE FOREIGN KEY (SITEID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS BaseAlarm (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	SUBJECT VARCHAR(1000) NOT NULL,
	DESCRIPTION VARCHAR(1000),
	ALARM_KEY VARCHAR(100) NOT NULL,
	RESOURCE_ID BIGINT,
	SEVERITY_ID BIGINT NOT NULL,
	TYPE TINYINT(4) NOT NULL,
	ACKNOWLEDGED BOOLEAN,
	ACKNOWLEDGED_BY BIGINT,
	ACKNOWLEDGED_TIME BIGINT,
	LAST_OCCURRED_TIME BIGINT,
	LAST_CLEARED_TIME BIGINT,
	FORM_ID BIGINT,
	LAST_OCCURRENCE_ID BIGINT,
	NO_OF_OCCURRENCE INT,
	LAST_CREATED_TIME BIGINT,
	LAST_WOID BIGINT,
	NO_OF_NOTES INT,

	CONSTRAINT BASEALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BASEALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BASEALARM_FK_RESOURCEID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT BASEALARM_FK_SERVERITYID FOREIGN KEY (SEVERITY_ID) REFERENCES Alarm_Severity (ID)
);

CREATE TABLE IF NOT EXISTS BaseAlarm_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	OCCURRENCE_ID BIGINT,
	CONSTRAINT BaseAlarm_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT BaseAlarm_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT BaseAlarm_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES BaseAlarm (ID)
);

CREATE TABLE IF NOT EXISTS AlarmOccurrence (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	ALARM_ID BIGINT NOT NULL,
	SEVERITY_ID BIGINT NOT NULL,
	PREVIOUS_SEVERITY_ID BIGINT,
	ACKNOWLEDGED BOOLEAN,
	ACKNOWLEDGED_BY BIGINT,
	ACKNOWLEDGED_TIME BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	CLEARED_TIME BIGINT,
	WOID BIGINT,
	PROBLEM VARCHAR(500),
	POSSIBLE_CAUSE VARCHAR(1000),
	RECOMMANDATIONS TEXT,
	NO_OF_EVENTS INT,
	AUTO_CLEAR BOOLEAN,
	RESOURCE_ID BIGINT,
	ADDITIONAL_INFO VARCHAR(5000),
	TYPE TINYINT,
	DURATION BIGINT,
    TIME_BTW_OCCURENCE BIGINT,
	CONSTRAINT ALARMOCCURANCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ALARMOCCURANCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT ALARMOCCURANCE_FK_ALARMID FOREIGN KEY (ALARM_ID) REFERENCES BaseAlarm (ID) ON DELETE CASCADE,
	CONSTRAINT ALARMOCCURANCE_FK_SERVERITYID FOREIGN KEY (SEVERITY_ID) REFERENCES Alarm_Severity (ID),
	CONSTRAINT ALARMOCCURANCE_FK_PREVIOUSSERVERITYID FOREIGN KEY (PREVIOUS_SEVERITY_ID) REFERENCES Alarm_Severity (ID),
	CONSTRAINT ALARMOCCURANCE_FK_RESOURCEID	FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT ALARMOCCURANCE_FK_WOID FOREIGN KEY (WOID) REFERENCES WorkOrders (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS ReadingAlarmCategory (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50) NOT NULL,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	IS_DEFAULT BOOLEAN
);

CREATE TABLE IF NOT EXISTS BaseEvent (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	RESOURCE_ID BIGINT,
	EVENT_MESSAGE VARCHAR(500),
	MESSAGE_KEY VARCHAR(1000),
	SEVERITY_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT,
	EVENT_STATE TINYINT,
	INTERNAL_STATE TINYINT,
	ALARM_OCCURRENCE_ID BIGINT,
	PRIORITY VARCHAR(100),
	STATE VARCHAR(100),
	DESCRIPTION VARCHAR(1000),
	COMMENT VARCHAR(1000),
	POSSIBLE_CAUSE VARCHAR(1000),
	RECOMMANDATIONS VARCHAR(1000),
	AUTO_CLEAR BOOLEAN,
	EVENT_TYPE TINYINT,
	ADDITIONAL_INFO VARCHAR(5000),
    ALARM_ID BIGINT,
    COST BIGINT,
    IS_LIVE_EVENT BOOLEAN,
	EVENT_PROCESSING_STATUS TINYINT,
	CONSTRAINT BASEEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BASEEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BASEEVENT_FK_RESOURCEID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT BASEEVENT_FK_SERVERITYID FOREIGN KEY (SEVERITY_ID) REFERENCES Alarm_Severity (ID),
	CONSTRAINT BASEEVENT_FK_ALARMID FOREIGN KEY (ALARM_OCCURRENCE_ID) REFERENCES AlarmOccurrence (ID) ON DELETE CASCADE
);
CREATE INDEX BASE_EVENT_ORGID_MODULEID_OCCURRENCE_ID ON BaseEvent (ORGID,MODULEID,ALARM_OCCURRENCE_ID);

CREATE TABLE IF NOT EXISTS Alarms (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	ALARM_CONDITION VARCHAR(500),
	SOURCE VARCHAR(100),
	IS_ACKNOWLEDGED BOOLEAN,
	ACKNOWLEDGED_BY BIGINT,
	ACKNOWLEDGED_TIME BIGINT,
	ALARM_TYPE TINYINT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT NOT NULL,
	CLEARED_TIME BIGINT,
	CLEARED_BY BIGINT,
	AUTO_CLEAR BOOLEAN,
	PREVIOUS_SEVERITY BIGINT,
	SEVERITY BIGINT NOT NULL,
	ALARM_PRIORITY VARCHAR(100),
	ALARM_CLASS VARCHAR(100),
	STATE VARCHAR(100),
	ADDITIONAL_INFO VARCHAR(5000),
	NO_OF_EVENTS INT,
	IS_WO_CREATED BOOLEAN,
	ENTITY_ID BIGINT NOT NULL,
	PROBLEM VARCHAR(500),
	POSSIBLE_CAUSES VARCHAR(1000),
	RECOMMENDATION VARCHAR(1000),
	CONTROLLER_ID BIGINT,
	WO_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE(9,3),
	DECIMAL_CF2 DOUBLE(9,3),
	DECIMAL_CF3 DOUBLE(9,3),
	DECIMAL_CF4 DOUBLE(9,3),
	DECIMAL_CF5 DOUBLE(9,3),
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	CONSTRAINT ALARMS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ALARMS_FK_ID FOREIGN KEY (ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT ALARMS_FK_PREVIOUS_SEVERITY FOREIGN KEY (PREVIOUS_SEVERITY) REFERENCES Alarm_Severity(ID),
	CONSTRAINT ALARMS_FK_SEVERITY FOREIGN KEY (SEVERITY) REFERENCES Alarm_Severity(ID),
	CONSTRAINT ALARMS_FK_ASSIGNED_TO_ID FOREIGN KEY (ACKNOWLEDGED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ALARMS_FK_CLEARED_BY_ID FOREIGN KEY (CLEARED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ALARMS_FK_ENTITY_ID FOREIGN KEY (ENTITY_ID) REFERENCES Alarm_Entity(ENTITY_ID),
	CONSTRAINT ALARMS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT ALARMS_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE CASCADE,
	CONSTRAINT ALARMS_FK_WO_ID FOREIGN KEY (WO_ID) REFERENCES WorkOrders (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS AlarmFollowers (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ALARM_ID BIGINT NOT NULL,
	FOLLOWER_TYPE VARCHAR(50),
	FOLLOWER VARCHAR(255),
	CONSTRAINT ALARM_FOLLOWERS_FK_ALARMID FOREIGN KEY (ALARM_ID) REFERENCES Alarms(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS User_Workhour_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	WORK_HOUR_ENTRY TINYINT NOT NULL,
	WO_ID BIGINT NOT NULL,
	SOURCE_ACTIVITY BIGINT NOT NULL,
	HAS_MANUAL_ENTRY BOOLEAN,
	CONSTRAINT USER_WORKHOUR_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT USER_WORKHOUR_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES ORG_Users(ORG_USERID)
);

-- Create indexes for User_Workhour_Readings table
CREATE INDEX USER_WORKHOUR_READINGS_PARENT_ID_INDEX on User_Workhour_Readings (PARENT_ID);
CREATE INDEX USER_WORKHOUR_READINGS_PARENT_ID_TTIME_INDEX ON User_Workhour_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX USER_WORKHOUR_READINGS_TTIME_INDEX ON User_Workhour_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS  PM_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	WO_ID BIGINT NOT NULL,
	TASK_ID BIGINT NOT NULL,
	TASK_UNIQUE_ID BIGINT NOT NULL,
	RESOURCE_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT PM_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PM_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Preventive_Maintenance(ID) ON DELETE CASCADE
);

-- Create indexes for PM_Readings table
CREATE INDEX PM_READINGS_PARENT_ID_INDEX on PM_Readings (PARENT_ID);
CREATE INDEX PM_READINGS_PARENT_ID_TTIME_INDEX ON PM_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX PM_READINGS_TTIME_INDEX ON PM_Readings (ORGID, MODULEID, TTIME);

CREATE TABLE IF NOT EXISTS CustomMailMessage (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PARENT_ID BIGINT,
  MESSAGE_UID BIGINT,
  FROM_MAIL VARCHAR(500) ,
  TO_MAIL VARCHAR(500),
  CC VARCHAR(50),
  BCC VARCHAR(50),
  CONTENT_TYPE VARCHAR(500),
  SENT_DATE BIGINT,
  RECEVIED_DATE BIGINT ,
  MAIL_SUBJECT TEXT ,
  CONTENT LONGTEXT,
  MODULEID BIGINT,
  FORM_ID BIGINT,
  SITE_ID BIGINT,
  SYS_CREATED_TIME BIGINT(20),
  SYS_MODIFIED_TIME BIGINT(20),
  SYS_CREATED_BY BIGINT,
  SYS_MODIFIED_BY BIGINT
--   CONSTRAINT SUPPORT_MAIL_FK_ID FOREIGN KEY (PARENT_ID) REFERENCES SupportEmails (ID)
) ;

CREATE TABLE IF NOT EXISTS Mail_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	FORM_ID BIGINT,
	ATTACHMENT_ID BIGINT NOT NULL,
	SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
	CONSTRAINT MAIL_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT MAIL_ATTACHEMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES CustomMailMessage (ID),
	CONSTRAINT MAIL_ATTACHEMENTS_FK_ATTACHMENT_ID FOREIGN KEY (ATTACHMENT_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS EmailSettings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT UNIQUE NOT NULL,
	BCC_EMAIL VARCHAR(50),
	FLAGS TINYINT
);

-- service portal --
CREATE TABLE IF NOT EXISTS PortalInfo (
	PORTALID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PORTALTYPE INT DEFAULT 0,
	SIGNUP_ALLOWED BOOLEAN,
	GMAILLOGIN_ALLOWED BOOLEAN,
	IS_PUBLIC_CREATE_ALLOWED BOOLEAN,
	IS_ANYDOMAIN_ALLOWED BOOLEAN,
	WHITELISTED_DOMAINS VARCHAR(255),
	SAML_ENABLED BOOLEAN,
	CAPTCHA_ENABLED BOOLEAN,
	CUSTOM_DOMAIN VARCHAR(100),
	ALGORITHM VARCHAR(50),
	PUBLICKEY BIGINT,
	LOGIN_URL VARCHAR(50),
	LOGOUT_URL VARCHAR(50),
	PASSWORD_URL VARCHAR(50),
	UNIQUE KEY PortalInfo_type (ORGID,PORTALTYPE),
	CONSTRAINT `PORTALINFO_PUBLICKEY_FILEID` FOREIGN KEY (`PUBLICKEY`) REFERENCES `FacilioFile` (`FILE_ID`)
);

CREATE TABLE IF NOT EXISTS Ticket_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TICKET_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT NOT NULL,
	MODIFIED_BY BIGINT NOT NULL,
	ACTIVITY_TYPE INT NOT NULL,
	INFO VARCHAR(5000),
	CONSTRAINT Ticket_Activity_FK_TICKET_ID FOREIGN KEY (TICKET_ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT Ticket_Activity_FK_MODIFIED_BY FOREIGN KEY (MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Connected_App (
	CONNECTED_APP_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100),
	LINK_NAME VARCHAR(100),
	DESCRIPTION VARCHAR(500),
	BASEURL VARCHAR(500)
);

CREATE TABLE IF NOT EXISTS Tab_Widget (
	TAB_WIDGET_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULE_LINK_NAME VARCHAR(100),
	TAB_NAME VARCHAR(100),
	TAB_LINK_NAME VARCHAR(100),
	WIDGET_NAME VARCHAR(100),
	CONNECTED_APP_ID BIGINT,
	RESOURCE_PATH VARCHAR(500),
	CONSTRAINT TAB_WIDGET_FK_CONNECTED_APP_ID FOREIGN KEY (CONNECTED_APP_ID) REFERENCES Connected_App(CONNECTED_APP_ID)
);

CREATE TABLE IF NOT EXISTS Notification (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	USERID BIGINT NOT NULL,
	NOTIFICATION_TYPE INT NOT NULL,
	ACTOR_ID BIGINT,
	INFO VARCHAR(5000),
	IS_READ BOOLEAN DEFAULT FALSE,
	READ_AT BIGINT,
	IS_SEEN BOOLEAN DEFAULT FALSE,
	SEEN_AT BIGINT,
	CREATED_TIME BIGINT,
	CONSTRAINT NOTIFICATION_FK_USERID FOREIGN KEY (USERID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT NOTIFICATION_FK_ACTORID FOREIGN KEY (ACTOR_ID) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Report_Folder (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT DEFAULT NULL,
  PARENT_FOLDER_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(500) DEFAULT NULL,
  BUILDING_ID BIGINT DEFAULT NULL,
  CONSTRAINT REPORT_FOLDER_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT REPORT_FOLDER_PARENT_ID FOREIGN KEY (PARENT_FOLDER_ID) REFERENCES Report_Folder (ID)
);

CREATE TABLE IF NOT EXISTS Report_Formula_Field (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT DEFAULT NULL,
  NAME VARCHAR(500) DEFAULT NULL,
  DATA_TYPE INT DEFAULT NULL,
  FORMULA VARCHAR(500) DEFAULT NULL,
  CONSTRAINT REPORT_FORMULA_FIELDS_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Report_Field (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FIELD_LABEL VARCHAR(500) DEFAULT NULL,
  MODULE_FIELD_ID BIGINT DEFAULT NULL,
  FORMULA_FIELD_ID BIGINT DEFAULT NULL,
  UNIT VARCHAR(50) DEFAULT NULL,
  CONSTRAINT REPORT_FIELD_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Report_Formula_Field (ID),
  CONSTRAINT REPORT_FIELD_MODULE_FIELD_ID FOREIGN KEY (MODULE_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Report_Entity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS Report (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT DEFAULT NULL,
  REPORT_FOLDER_ID BIGINT DEFAULT NULL,
  REPORT_ENTITY_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(250) DEFAULT NULL,
  DESCRIPTION VARCHAR(1000),
  CHART_TYPE INT DEFAULT NULL,
  SEC_CHART_TYPE INT DEFAULT NULL,
  X_AXIS BIGINT NOT NULL,
  X_AGGREGATE_FUNCTION INT DEFAULT NULL,
  X_AXIS_LABEL VARCHAR(255) DEFAULT NULL,
  X_AXIS_UNIT VARCHAR(50) DEFAULT NULL,
  Y1_AXIS BIGINT DEFAULT NULL,
  Y1_AGGREGATE_FUNCTION INT DEFAULT NULL,
  Y1_AXIS_LABEL VARCHAR(255) DEFAULT NULL,
  Y1_AXIS_UNIT VARCHAR(50) DEFAULT NULL,
  Y2_AXIS BIGINT DEFAULT NULL,
  Y2_AGGREGATE_FUNCTION INT DEFAULT NULL,
  Y3_AXIS BIGINT DEFAULT NULL,
  Y3_AGGREGATE_FUNCTION INT DEFAULT NULL,
  IS_COMPARISION_REPORT TINYINT DEFAULT NULL,
  IS_HIGHRESOLUTION_REPORT TINYINT DEFAULT NULL,
  IS_COMBINATION_REPORT TINYINT DEFAULT NULL,
  EXCLUDE_BASELINE TINYINT DEFAULT NULL,
  REPORT_ORDER INT DEFAULT NULL,
  X_AXIS_LEGEND VARCHAR(45) DEFAULT NULL,
  GROUP_BY BIGINT DEFAULT NULL,
  GROUP_BY_AGGREGATE_FUNCTION INT DEFAULT NULL,
  GROUP_BY_LABEL VARCHAR(255) DEFAULT NULL,
  GROUP_BY_UNIT VARCHAR(50) DEFAULT NULL,
  LLIMIT INT DEFAULT NULL,
  ORDER_BY VARCHAR(45) DEFAULT NULL,
  ORDER_BY_FUNCTION INT DEFAULT NULL,
  REPORT_COLOR VARCHAR(30) DEFAULT NULL,
  CUSTOM_REPORT_CLASS VARCHAR(200) DEFAULT NULL,
  IS_WORK_REQUEST_REPORT TINYINT DEFAULT NULL,
  CONSTRAINT REPORT_PARENT_FOLDER_ID FOREIGN KEY (REPORT_FOLDER_ID) REFERENCES Report_Folder (ID),
  CONSTRAINT REPORT_MODULE_ID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT REPORT_ENTITY_FK_ID FOREIGN KEY (REPORT_ENTITY_ID) REFERENCES Report_Entity (ID),
  CONSTRAINT REPORT_X_AXIS FOREIGN KEY (X_AXIS) REFERENCES Report_Field (ID),
  CONSTRAINT REPORT_Y1_AXIS FOREIGN KEY (Y1_AXIS) REFERENCES Report_Field (ID),
  CONSTRAINT REPORT_Y2_AXIS FOREIGN KEY (Y2_AXIS) REFERENCES Report_Field (ID),
  CONSTRAINT REPORT_Y3_AXIS FOREIGN KEY (Y3_AXIS) REFERENCES Report_Field (ID),
  CONSTRAINT REPORT_GROUP_BY FOREIGN KEY (GROUP_BY) REFERENCES Report_Field (ID)
);

CREATE TABLE IF NOT EXISTS Report_DateFilter (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  FIELD_ID BIGINT DEFAULT NULL,
  OPERATOR INT NOT NULL,
  VAL VARCHAR(50),
  START_TIME BIGINT DEFAULT NULL,
  END_TIME BIGINT DEFAULT NULL,
  CONSTRAINT REPORT_DATEFILTER_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID)
);

CREATE TABLE IF NOT EXISTS Report_EnergyMeter (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  BUILDING_ID BIGINT DEFAULT NULL,
  SERVICE_ID BIGINT DEFAULT NULL,
  SUB_METER_ID BIGINT DEFAULT NULL,
  GROUP_BY VARCHAR(100),
  CONSTRAINT REPORT_ENERGYMETER_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID)
);

CREATE TABLE IF NOT EXISTS Report_Criteria (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  CRITERIA_ID BIGINT DEFAULT NULL,
  CONSTRAINT REPORT_COMPARISION_CONDITIONS_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID),
  CONSTRAINT REPORT_COMPARISION_CONDITIONS_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_Threshold (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(45) DEFAULT NULL,
  VALUE BIGINT DEFAULT NULL,
  COLOR VARCHAR(45) DEFAULT NULL,
  LINE_STYLE INT DEFAULT NULL,
  CONSTRAINT REPORT_THRESHOLD_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID)
);

CREATE TABLE IF NOT EXISTS Report_User_Filter (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  REPORT_FIELD_ID BIGINT DEFAULT NULL,
  WHERE_CLAUSE VARCHAR(1000) DEFAULT NULL,
  CONSTRAINT REPORT_USER_FILTER_REPORT_FIELD_ID FOREIGN KEY (REPORT_FIELD_ID) REFERENCES Report_Field (ID),
  CONSTRAINT REPORT_USER_FILTER_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID)
);

CREATE TABLE IF NOT EXISTS BaseLines (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	SPACE_ID BIGINT,
	RANGE_TYPE TINYINT NOT NULL,
	START_TIME BIGINT,
	END_TIME BIGINT,
	CONSTRAINT BASE_LINE_SPACE_ID_FK FOREIGN KEY (SPACE_ID) REFERENCES BaseSpace(ID)
);

CREATE TABLE IF NOT EXISTS Benchmark (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	VAL DOUBLE NOT NULL,
	METRIC TINYINT NOT NULL,
	DURATION TINYINT
);

CREATE TABLE IF NOT EXISTS Report1_Folder (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  SITE_ID BIGINT DEFAULT NULL,
  MODULEID BIGINT DEFAULT NULL,
  PARENT_FOLDER_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(100) DEFAULT NULL,
  MODIFIED_TIME BIGINT NOT NULL,
  CONSTRAINT REPORT1_FOLDER_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
  CONSTRAINT REPORT1_FOLDER_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT REPORT1_FOLDER_PARENT_FOLDER_ID_FK FOREIGN KEY (PARENT_FOLDER_ID) REFERENCES Report1_Folder (ID)
);

CREATE TABLE IF NOT EXISTS Report1 (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  SITE_ID BIGINT DEFAULT NULL,
  MODULEID BIGINT DEFAULT NULL,
  REPORT_FOLDER_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(250) NOT NULL,
  DESCRIPTION VARCHAR(1000) DEFAULT NULL,
  WORKFLOW_ID BIGINT DEFAULT NULL,
  CHART_STATE_JSON MEDIUMTEXT DEFAULT NULL,
  TABULAR_STATE_JSON TEXT DEFAULT NULL,
  COMMON_STATE_JSON TEXT DEFAULT NULL,
  REPORT_STATE_JSON TEXT DEFAULT NULL,
  X_AGGR TINYINT,
  DATE_OPERATOR INT DEFAULT NULL,
  DATE_VALUE VARCHAR(45) DEFAULT NULL,
  DATE_RANGE_JSON VARCHAR(100) DEFAULT NULL,
  DATA_POINT_JSON MEDIUMTEXT DEFAULT NULL,
  FILTERS_JSON text DEFAULT NULL,
  BASELINE_JSON text DEFAULT NULL,
  BENCHMARK_JSON text DEFAULT NULL,
  ANALYTICS_TYPE TINYINT DEFAULT NULL,
  REPORT_TYPE TINYINT NOT NULL,
  BOOLEAN_SETTINGS TINYINT DEFAULT NULL,
  TRANSFORM_CLASS VARCHAR(200),
  IS_TEMP BOOLEAN,
  MODULE_TYPE INT,
  USER_FILTER_JSON TEXT,
  REPORT_TEMPLATE TEXT,
  TIME_FILTER TEXT DEFAULT NULL,
  DATA_FILTER TEXT DEFAULT NULL,
  DRILLDOWN_PATH_JSON TEXT DEFAULT NULL,
  REPORT_SETTINGS_JSON TEXT DEFAULT NULL,
  CONSTRAINT REPORT1_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
  CONSTRAINT REPORT1_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT REPORT1_WF_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID)
);

CREATE TABLE IF NOT EXISTS Report_Notes (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
ORGID BIGINT NOT NULL,
MODULEID BIGINT NOT NULL,
CREATED_BY BIGINT,
CREATED_TIME BIGINT,
PARENT_ID BIGINT NOT NULL,
TITLE VARCHAR(50),
BODY VARCHAR(1000) NOT NULL,
CONSTRAINT REPORT_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
CONSTRAINT REPORT_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
CONSTRAINT REPORT_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Report1(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_Fields (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  FIELD_ID BIGINT DEFAULT NULL,
  FIELD_NAME VARCHAR(100) DEFAULT NULL,
  MODULE_NAME VARCHAR(100) DEFAULT NULL,
  CONSTRAINT REPORT_FIELDS_REPORT_ID1 FOREIGN KEY (REPORT_ID) REFERENCES Report1 (ID) ON DELETE CASCADE,
  CONSTRAINT REPORT_FIELD_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID)
);




CREATE TABLE IF NOT EXISTS Dashboard_Folder (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  PARENT_FOLDER_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(500) DEFAULT NULL,
  DISPLAY_ORDER INT DEFAULT NULL,
  CONSTRAINT Dashboard_FOLDER_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT Dashboard_FOLDER_PARENT_ID FOREIGN KEY (PARENT_FOLDER_ID) REFERENCES Dashboard_Folder (ID)
);

CREATE TABLE IF NOT EXISTS Dashboard (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  DASHBOARD_FOLDER_ID BIGINT NOT NULL,
  DASHBOARD_NAME VARCHAR(45) NOT NULL,
  LINK_NAME VARCHAR(45) NULL,
  CREATED_BY_USER_ID BIGINT DEFAULT NULL,
  PUBLISH_STATUS INT DEFAULT NULL,
  DASHBOARD_URL VARCHAR(100) DEFAULT NULL,
  BASE_SPACE_ID BIGINT DEFAULT NULL,
  DISPLAY_ORDER INT DEFAULT NULL,
  SHOW_HIDE_MOBILE TINYINT DEFAULT NULL,
  DATE_OPERATOR INT DEFAULT NULL,
  DATE_VALUE VARCHAR(50) DEFAULT NULL,
  IS_TAB_ENABLED TINYINT DEFAULT NULL,
  DASHBOARD_TAB_PLACEMENT INT DEFAULT NULL,
  CLIENT_META_JSON VARCHAR(5000) DEFAULT NULL,
  CONSTRAINT DASHBOARD_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT DASHBOARD_BASE_SPACE_ID FOREIGN KEY (BASE_SPACE_ID) REFERENCES BaseSpace (ID),
  CONSTRAINT DASHBOARD_FOLDER_ID1 FOREIGN KEY (DASHBOARD_FOLDER_ID) REFERENCES Dashboard_Folder (ID),
  CONSTRAINT DASHBOARD_CREATED_BY_USER_ID FOREIGN KEY (CREATED_BY_USER_ID) REFERENCES ORG_Users (ORG_USERID)
);


CREATE TABLE IF NOT EXISTS Dashboard_Tab (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  DASHBOARD_ID BIGINT NOT NULL,
  NAME VARCHAR(45) NOT NULL,
  DASHBOARD_TAB_ID BIGINT DEFAULT NULL,
  SEQUENCE INT NOT NULL,
  CONSTRAINT Dashboard_Tab_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Dashboard_Tab_parent_tab_id FOREIGN KEY (DASHBOARD_TAB_ID) REFERENCES Dashboard_Tab (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Dashboard_Notes (
ID BIGINT AUTO_INCREMENT PRIMARY KEY,
ORGID BIGINT NOT NULL,
MODULEID BIGINT NOT NULL,
CREATED_BY BIGINT,
CREATED_TIME BIGINT,
PARENT_ID BIGINT NOT NULL,
TITLE VARCHAR(50),
BODY VARCHAR(1000) NOT NULL,
CONSTRAINT DASHBOARD_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
CONSTRAINT DASHBOARD_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
CONSTRAINT DASHBOARD_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Dashboard(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Space_Filtered_Dashboard_Settings (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  DASHBOARD_ID BIGINT NOT NULL,
  BASESPACE_ID BIGINT NOT NULL,
  MOBILE_ENABLED TINYINT DEFAULT NULL,
  CONSTRAINT Space_Filtered_Dashboard_Settings_Dashboard_id FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID),
  CONSTRAINT Space_Filtered_Dashboard_Settings_basespace_id FOREIGN KEY (BASESPACE_ID) REFERENCES BaseSpace (ID),
  CONSTRAINT Space_Filtered_Dashboard_Settings_UNQIUE UNIQUE(DASHBOARD_ID, BASESPACE_ID)
);

CREATE TABLE IF NOT EXISTS Widget (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT DEFAULT NULL,
  WIDGET_NAME VARCHAR(500) DEFAULT NULL,
  TYPE INT DEFAULT NULL,
  WIDGET_URL VARCHAR(100) DEFAULT NULL,
  DATA_REFRESH_INTERTVEL INT DEFAULT NULL,
  HEADER_TEXT VARCHAR(500) DEFAULT NULL,
  HEADER_SUB_TEXT VARCHAR(45) DEFAULT NULL,
  HEADER_IS_EXPORT TINYINT DEFAULT NULL,
  DASHBOARD_ID BIGINT DEFAULT NULL,
  DASHBOARD_TAB_ID BIGINT DEFAULT NULL,
  META_JSON VARCHAR(1000) DEFAULT NULL,
  WIDGET_SETTINGS_JSON VARCHAR(1000),
  CONSTRAINT WIDGET_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT WIDGET_dashboard_id FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Widget_Chart (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  NEW_REPORT_ID BIGINT DEFAULT NULL,
  CHART_TYPE INT DEFAULT NULL,
  DATE_FILTER BIGINT DEFAULT NULL,
  REPORT_TEMPLATE TEXT DEFAULT NULL,
  CONSTRAINT WIDGET_CHART_REPORT_DATE_FILTER FOREIGN KEY (DATE_FILTER) REFERENCES Report_DateFilter (ID),
  CONSTRAINT WIDGET_CHART_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID),
  CONSTRAINT WIDGET_CHART_NEW_REPORT_ID FOREIGN KEY (NEW_REPORT_ID) REFERENCES Report1 (ID),
  CONSTRAINT WIDGET_CHART_WIDGET_ID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Widget_List_View (
  ID bigint(20) NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
   MODULE_NAME VARCHAR(100) DEFAULT NULL,
  VIEW_NAME VARCHAR(100) DEFAULT NULL,
  CONSTRAINT WIDGET_LIST_WIDGET_ID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Widget_Static (
  ID bigint(20) NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  STATIC_KEY VARCHAR(100) DEFAULT NULL,
  PARAMS_JSON VARCHAR(1000) DEFAULT NULL,
  META_JSON LONGTEXT DEFAULT NULL,
  CONSTRAINT WIDGET_STATIC_WIDGET_ID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Widget_Vs_Workflow (
  ID bigint(20) AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WIDGET_ID bigint(20) DEFAULT NULL,
  WORKFLOW_NAME varchar(100) DEFAULT NULL,
  WORKFLOW_ID bigint(20) DEFAULT NULL,
  BASE_SPACE_ID bigint(20) DEFAULT NULL,
  CONSTRAINT WIDGET_WF_BASE_SPACE_ID FOREIGN KEY (BASE_SPACE_ID) REFERENCES BaseSpace (ID),
  CONSTRAINT WIDGET_WF_WIDGET_ID FOREIGN KEY (WIDGET_ID) REFERENCES Widget (ID) ON DELETE CASCADE,
  CONSTRAINT WIDGET_WF_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID)
);

CREATE TABLE IF NOT EXISTS Widget_Web (
  ID bigint(20) NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  WEB_URL VARCHAR(1000) DEFAULT NULL,
  CONSTRAINT WIDGET_WEB_WIDGET_ID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Widget_Card (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  CARD_LAYOUT varchar(150) DEFAULT NULL,
  SCRIPT_MODE INT DEFAULT NULL,
  CUSTOM_SCRIPT_ID bigint(20) DEFAULT NULL,
  CARD_PARAMS VARCHAR(2000) DEFAULT NULL,
  CARD_STATE VARCHAR(3000) DEFAULT NULL,
  CARD_CONDITIONAL_FORMATTING VARCHAR(3000) DEFAULT NULL,
  CARD_DRILLDOWN VARCHAR(1000) DEFAULT NULL,
  CONSTRAINT WIDGET_CARD_WIDGET_ID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE,
  CONSTRAINT WIDGET_CARD_CUSTOMSCRIPT_ID FOREIGN KEY (CUSTOM_SCRIPT_ID) REFERENCES Workflow (ID)
);

CREATE TABLE IF NOT EXISTS Screen_Dashboard_Rel (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  SCREEN_ID BIGINT NOT NULL,
  DASHBOARD_ID BIGINT NOT NULL,
  SPACE_ID BIGINT DEFAULT NULL,
  SEQUENCE_NO INT NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT SCREEN_DASHBOARD_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID)
  
);

CREATE TABLE IF NOT EXISTS Formula (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT DEFAULT NULL,
  SELECT_FIELD_ID BIGINT DEFAULT NULL,
  AGGREGATE_OPERATION INT DEFAULT NULL,
  CRITERIA_ID BIGINT DEFAULT NULL,
  CONSTRAINT FORMULA_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID),
  CONSTRAINT FORMULA_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT FORMULA_SELECT_FIELD_ID FOREIGN KEY (SELECT_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Report_SpaceFilter (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  REPORT_ID BIGINT DEFAULT NULL,
  DASHBOARD_ID BIGINT DEFAULT NULL,
  SITE_ID BIGINT DEFAULT NULL,
  BUILDING_ID BIGINT DEFAULT NULL,
  FLOOR_ID BIGINT DEFAULT NULL,
  CHILLER_ID BIGINT DEFAULT NULL,
  GROUP_BY VARCHAR(250) DEFAULT NULL,
  CONSTRAINT REPORT_SPACE_FILTER_REPORT_ID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID),
  CONSTRAINT REPORT_SPACE_FILTER_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID)
);

CREATE TABLE IF NOT EXISTS Unmodeled_Instance (
												  ID                     BIGINT(20) AUTO_INCREMENT PRIMARY KEY,
												  ORGID                  BIGINT(20) NOT NULL,
												  DEVICE_NAME            VARCHAR(500) NOT NULL,
												  INSTANCE_NAME          VARCHAR(250) NOT NULL,
												  CONTROLLER_ID          BIGINT,
												  OBJECT_INSTANCE_NUMBER BIGINT,
												  INSTANCE_DESCRIPTION   VARCHAR(250),
												  INSTANCE_TYPE          INT,
												  IN_USE                 BOOLEAN DEFAULT 0,
												  IS_SUBSCRIBED          BOOLEAN DEFAULT 0,
												  THRESHOLD_JSON         TEXT,
												  CREATED_TIME           BIGINT NOT NULL,
												  CONSTRAINT UNIQUE_DEVICE_INSTANCE_ID UNIQUE (ORGID, CONTROLLER_ID, DEVICE_NAME, INSTANCE_NAME),
												  CONSTRAINT Unmodeled_Instance_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Points
(
	ID                     BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID                  BIGINT        NOT NULL,
	DEVICE_NAME            VARCHAR(500)  NOT NULL,
	INSTANCE_NAME          VARCHAR(1000) NOT NULL,
	DISPLAY_NAME           VARCHAR(1000),
	RESOURCE_ID            BIGINT(20),
	ASSET_CATEGORY_ID      BIGINT(20),
	FIELD_ID               BIGINT(20),
	CONTROLLER_ID          BIGINT,
	MAPPED_TIME            BIGINT,
	OBJECT_INSTANCE_NUMBER BIGINT,
	INSTANCE_DESCRIPTION   VARCHAR(250),
	INSTANCE_TYPE          INT,
	DATA_TYPE              INT,
	POINT_PATH             VARCHAR(1000),
	IS_WRITABLE            BOOLEAN DEFAULT 0,
	IN_USE                 BOOLEAN DEFAULT 0,
	CONFIGURE_STATUS       TINYINT DEFAULT 1,
	IS_SUBSCRIBED          BOOLEAN DEFAULT 0,
	SUBSCRIBE_STATUS       TINYINT DEFAULT 1,
	THRESHOLD_JSON         TEXT,
	CREATED_TIME           BIGINT,
	UNIT                   INT,
	CONSTRAINT Points_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID),
	CONSTRAINT Points_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT Points_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE CASCADE,
	CONSTRAINT Points_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID)
);
CREATE INDEX POINTS_ORGID_DEVICE_NAME ON Points (ORGID,DEVICE_NAME);

CREATE TABLE IF NOT EXISTS Point
(
	ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID             BIGINT        NOT NULL,
	NAME              VARCHAR(1000) NOT NULL,
	DISPLAY_NAME      VARCHAR(1000),
	DESCRIPTION       VARCHAR(500),
	DATA_TYPE         INT,
	POINT_TYPE        INT,
	DEVICE_ID         BIGINT,
	DEVICE_NAME       VARCHAR(500),
	CONTROLLER_ID     BIGINT,
	ASSET_CATEGORY_ID BIGINT(20),
	RESOURCE_ID       BIGINT(20),
	FIELD_ID          BIGINT(20),
	LOGICAL		      BOOLEAN DEFAULT 0,
	WRITABLE          BOOLEAN DEFAULT 0,
	CONFIGURE_STATUS  TINYINT DEFAULT 1,
	SUBSCRIBE_STATUS  TINYINT DEFAULT 1,
	THRESHOLD_JSON    TEXT,
	CREATED_TIME      BIGINT,
	MAPPED_TIME       BIGINT,
	DELETED_TIME      BIGINT,
	UNIT              INT,
	AGENT_WRITABLE    BOOLEAN DEFAULT 0,
	CONSTRAINT Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
	CONSTRAINT Point_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID),
	CONSTRAINT Point_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT Point_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories (ID)
);

CREATE TABLE IF NOT EXISTS Misc_Point
(
	ID            BIGINT PRIMARY KEY,
	ORGID         BIGINT NOT NULL,
	DEVICE_ID         BIGINT,
    CONTROLLER_ID     BIGINT,
    PATH          VARCHAR(1000),
	CONSTRAINT Misc_Point_META_UNIQUE UNIQUE (ORGID, PATH(500), DEVICE_ID),
    CONSTRAINT Misc_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
	CONSTRAINT Misc_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS BACnet_IP_Point
(
	ID              BIGINT PRIMARY KEY,
	ORGID           BIGINT NOT NULL,
	DEVICE_ID         BIGINT,
    CONTROLLER_ID     BIGINT,
	INSTANCE_NUMBER BIGINT NOT NULL,
	INSTANCE_TYPE   INT    NOT NULL,
    CONSTRAINT BACnet_IP_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
	CONSTRAINT BACnet_IP_Point_META_UNIQUE UNIQUE ( ORGID, DEVICE_ID, INSTANCE_NUMBER, INSTANCE_TYPE),
	CONSTRAINT BACnet_IP_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point (ID) ON DELETE CASCADE
);

   CREATE TABLE IF NOT EXISTS Niagara_Point (
   ID BIGINT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   DEVICE_ID  BIGINT,
   CONTROLLER_ID     BIGINT,
   PATH VARCHAR(1000) NOT NULL,
   CONSTRAINT Niagara_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
   CONSTRAINT Niagara_Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,PATH(500)),
   CONSTRAINT Niagara_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
   );

   CREATE TABLE IF NOT EXISTS OPC_XML_DA_Point (
   	ID BIGINT PRIMARY KEY,
   	ORGID BIGINT NOT NULL,
   	DEVICE_ID         BIGINT,
    CONTROLLER_ID     BIGINT,
    PATH VARCHAR(1000) NOT NULL,
    CONSTRAINT OPC_XML_DA_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
   	CONSTRAINT OPC_XML_DA__Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,PATH(500)),
   	CONSTRAINT OPC_XML_DA_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
   );

   CREATE TABLE IF NOT EXISTS Modbus_Tcp_Point (
   ID BIGINT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   DEVICE_ID  BIGINT,
   CONTROLLER_ID BIGINT,
   REGISTER_NUMBER BIGINT NOT NULL,
   REGISTER_TYPE INT NOT NULL,
   MODBUS_DATA_TYPE INT NOT NULL,
   CONSTRAINT Modbus_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
   CONSTRAINT Modbus_Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,REGISTER_NUMBER),
   CONSTRAINT Modbus_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
   );

   CREATE TABLE IF NOT EXISTS Modbus_Rtu_Point (
   ID BIGINT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   DEVICE_ID  BIGINT NOT NULL,
   CONTROLLER_ID  BIGINT,
   REGISTER_NUMBER BIGINT NOT NULL,
   REGISTER_TYPE INT NOT NULL,
   MODBUS_DATA_TYPE INT NOT NULL,
   CONSTRAINT Modbus_Rtu_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
   CONSTRAINT Modbus_Rtu_Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,REGISTER_NUMBER),
   CONSTRAINT Modbus_Rtu_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
   );

   CREATE TABLE IF NOT EXISTS OPC_UA_Point (
   ID BIGINT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   DEVICE_ID  BIGINT,
   CONTROLLER_ID     BIGINT,
   NAME_SPACE INT NOT NULL,
   IDENTIFIER VARCHAR(1000) NOT NULL,
   CONSTRAINT OPC_UA_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
   CONSTRAINT OPC_UA_Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,NAME_SPACE,IDENTIFIER(500)),
   CONSTRAINT OPC_UA_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
   );

CREATE TABLE IF NOT EXISTS System_Point(
                                           ID BIGINT PRIMARY KEY,
                                           ORGID BIGINT NOT NULL,
                                           NAME VARCHAR(300),
                                           DEVICE_ID  BIGINT NOT NULL ,
                                           CONTROLLER_ID     BIGINT,
                                           CONSTRAINT System_Point_FK_DEVICE_ID FOREIGN KEY (DEVICE_ID) REFERENCES Field_Device (ID),
                                           CONSTRAINT System_Point_META_UNIQUE UNIQUE (ORGID,DEVICE_ID,NAME),
                                           CONSTRAINT System_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point(ID) ON DELETE CASCADE
);

 CREATE TABLE IF NOT EXISTS Historical_Logger (
  ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PARENT_ID BIGINT,
  TYPE INT,
  DEPENDENT_ID BIGINT DEFAULT NULL,
  LOGGER_GROUP_ID BIGINT DEFAULT NULL,
  STATUS INT,
  START_TIME BIGINT,
  END_TIME BIGINT,
  CALCULATION_START_TIME BIGINT,
  CALCULATION_END_TIME BIGINT,
  CREATED_BY BIGINT,
  CREATED_TIME BIGINT,
  CONSTRAINT VM_Historical_Logger_FK_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Workflow_Rule_Historical_Logger (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    RULE_ID BIGINT,
    TYPE INT,
    RESOURCE_ID BIGINT,
    STATUS INT,
    LOGGER_GROUP_ID BIGINT,
    ALARM_COUNT BIGINT,
    START_TIME BIGINT,
	END_TIME BIGINT,
    CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
    CREATED_BY BIGINT,
    CREATED_TIME BIGINT,
    CONSTRAINT Workflow_Rule_Historical_Logger_FK_RULEID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
  	CONSTRAINT Workflow_Rule_Historical_Logger_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
  	CONSTRAINT Workflow_Rule_Historical_Logger_FK_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID)
);

  CREATE TABLE IF NOT EXISTS Formula_Field_Historical_Logger (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    FORMULA_ID BIGINT,
    RESOURCE_ID BIGINT,
    DEPENDENT_FORMULA_ID BIGINT DEFAULT NULL,
    LOGGER_GROUP_ID BIGINT,
    STATUS INT,
    START_TIME BIGINT,
	END_TIME BIGINT,
    CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
    CREATED_BY BIGINT,
    CREATED_TIME BIGINT,
	CONSTRAINT Formula_Field_Historical_Logger_FK_FORMULA_ID FOREIGN KEY (FORMULA_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE,
    CONSTRAINT Formula_Field_Historical_Logger_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
  	CONSTRAINT Formula_Field_Historical_Logger_FK_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID)
  	);

 CREATE TABLE IF NOT EXISTS Workflow_Rule_Logger (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    RULE_ID BIGINT,
    NO_OF_RESOURCES BIGINT,
    RESOLVED_RESOURCES_COUNT BIGINT,
    STATUS INT,
    RULE_JOB_TYPE INT,
    START_TIME BIGINT,
	END_TIME BIGINT,
	TOTAL_ALARM_COUNT BIGINT,
    CREATED_BY BIGINT,
    CREATED_TIME BIGINT,
    CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
  	CONSTRAINT Workflow_Rule_Logger_FK_CREATED_BY FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Workflow_Rule_Resource_Logger (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    PARENT_RULE_LOGGER_ID BIGINT,
    RESOURCE_ID BIGINT,
    LOGGER_INFO VARCHAR(1000),
    STATUS INT,
    RULE_JOB_TYPE INT,
    ALARM_COUNT BIGINT,
    MODIFIED_START_TIME BIGINT,
	MODIFIED_END_TIME BIGINT,
    CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
  	CONSTRAINT Workflow_Rule_Resource_Logger_FK_PARENT_RULE_LOGGER_ID FOREIGN KEY (PARENT_RULE_LOGGER_ID) REFERENCES Workflow_Rule_Logger(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Workflow_Rule_Historical_Logs (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    PARENT_RULE_RESOURCE_ID BIGINT,
	SPLIT_START_TIME BIGINT,
	SPLIT_END_TIME BIGINT,
    STATUS INT,
    RULE_JOB_TYPE INT,
    LOG_STATE INT,
    ERROR_MESSAGE VARCHAR(1000),
   	CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
  	CONSTRAINT Workflow_Rule_Historical_Logs_FK_PARENT_RULE_RESOURCE_ID FOREIGN KEY (PARENT_RULE_RESOURCE_ID) REFERENCES Workflow_Rule_Resource_Logger(ID) ON DELETE CASCADE
 );
 
 CREATE TABLE IF NOT EXISTS Formula_Field_Resource_Status (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    FORMULA_FIELD_ID BIGINT,
    FIELD_ID BIGINT,
    RESOURCE_ID BIGINT,
    STATUS INT,
    IS_LEAF boolean,
    ACTUAL_START_TIME BIGINT,
    CALCULATION_START_TIME BIGINT,
    CALCULATION_END_TIME BIGINT,
    TRIGGER_TYPE TINYINT,
	FREQUENCY_TYPE TINYINT,
	DATA_INTERVAL INT,
	CONSTRAINT Formula_Field_Resource_Status_FK_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE,
    CONSTRAINT Formula_Field_Resource_Status_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID) ON DELETE CASCADE,
    CONSTRAINT Formula_Field_Resource_Status_FK_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);
	
CREATE TABLE IF NOT EXISTS Formula_Field_Dependencies (
 	ID BIGINT AUTO_INCREMENT NOT NULL PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_FORMULA_RESOURCE_ID BIGINT,
	FIELD_ID BIGINT,
	RESOURCE_ID BIGINT,
	DEPENDENT_FORMULA_RESOURCE_ID BIGINT,
	CONSTRAINT Formula_Field_Dependencies_FK_PARENT_FORMULA_RESOURCE_ID FOREIGN KEY (PARENT_FORMULA_RESOURCE_ID) REFERENCES Formula_Field_Resource_Status(ID) ON DELETE CASCADE,
	CONSTRAINT Formula_Field_Dependencies_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID) ON DELETE CASCADE,
	CONSTRAINT Formula_Field_Dependencies_FK_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT Formula_Field_Dependencies_FK_DEPENDENT_FORMULA_RESOURCE_ID FOREIGN KEY (DEPENDENT_FORMULA_RESOURCE_ID) REFERENCES Formula_Field_Resource_Status(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Unmodeled_Data (
  ID BIGINT(20) AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  INSTANCE_ID BIGINT(20) ,
  NEW_INSTANCE_ID BIGINT,
  TTIME BIGINT(20) NOT NULL,
  VALUE VARCHAR(1000),
  CONSTRAINT NEW_UNMODELED_DATA_FK_NEW_INSTANCEID FOREIGN KEY (NEW_INSTANCE_ID) REFERENCES Points(ID),
  CONSTRAINT NEW_UNMODELED_DATA_FK_POINT_ID FOREIGN KEY (INSTANCE_ID) REFERENCES Point(ID)
 );

 -- Index for Unmodeled_Data
 
CREATE INDEX UNMODELED_DATA_ORGID_INSTANCE_ID on Unmodeled_Data (ORGID,INSTANCE_ID);
CREATE INDEX UNMODELED_DATA_ORGID_INSTANCE_ID_TTIME on Unmodeled_Data (ORGID,INSTANCE_ID,TTIME);

 CREATE TABLE IF NOT EXISTS Instance_To_Asset_Mapping (
   ID BIGINT AUTO_INCREMENT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   DEVICE_NAME VARCHAR(500) NOT NULL,
   INSTANCE_NAME VARCHAR(250),
   ASSET_ID BIGINT(20),
   ASSET_CATEGORY_ID BIGINT(20),
   FIELD_ID BIGINT(20),
   CONTROLLER_ID BIGINT,
   MAPPED_TIME BIGINT,
   CONSTRAINT INSTANCE_TO_ASSET_MAPPING_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
   CONSTRAINT INSTANCE_TO_ASSET_MAPPING_FK_ASSETID FOREIGN KEY (ASSET_ID) REFERENCES Assets(ID) ON DELETE CASCADE,
   CONSTRAINT INSTANCE_TO_ASSET_MAPPING_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE CASCADE,
   CONSTRAINT INSTANCE_TO_ASSET_MAPPING_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories(ID)
 );

CREATE TABLE IF NOT EXISTS View_Column (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	VIEWID BIGINT NOT NULL,
	FIELDID BIGINT,
	FIELDNAME VARCHAR(100),
	DISPLAY_NAME VARCHAR(250),
	PARENT_FIELDID BIGINT,
	CONSTRAINT VIEW_COLUMN_VIEWID_FK FOREIGN KEY (VIEWID) REFERENCES Views(ID)  ON DELETE CASCADE,
	CONSTRAINT VIEW_COLUMN_FIELDID_FK FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT VIEW_COLUMN_PARENT_FIELDID_FK FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Custom_Filters (
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT  NOT NULL,
    NAME 			  VARCHAR(50),
    VIEWID BIGINT 	  NOT NULL,
    CRITERIA_ID BIGINT,
	CONSTRAINT CUSTOM_FILTERS_VIEWID_FK FOREIGN KEY (VIEWID) REFERENCES Views(ID) ON DELETE CASCADE,
	CONSTRAINT CUSTOM_FILTERS_FK_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID)

);

CREATE TABLE IF NOT EXISTS Quick_Filters (
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT  NOT NULL,
    VIEWID BIGINT 	  NOT NULL,
    FIELDID BIGINT,
	FIELDNAME VARCHAR(100),
    CONSTRAINT QUICK_FILTERS_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
	CONSTRAINT QUICK_FILTERS_VIEWID_FK FOREIGN KEY (VIEWID) REFERENCES Views(ID) ON DELETE CASCADE

);

CREATE TABLE IF NOT EXISTS License (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	LICENSE INT NOT NULL,
	TOTAL_LICENSE INT,
	USED_LICENSE INT,
	LICENSETYPE INT NULL DEFAULT 1,
	EXPIRY_DATE BIGINT DEFAULT -1
);

CREATE TABLE IF NOT EXISTS FeatureLicense (
	ORGID BIGINT NOT NULL,
	MODULE BIGINT
);

-- CREATE TABLE IF NOT EXISTS UserLicense (
-- 	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
-- 	ORGID BIGINT NOT NULL,
-- 	ROLE_ID BIGINT NOT NULL,
-- 	NUMBER_OF_USERS INT,
-- 	CONSTRAINT USERLICENSE_FK_ORGID FOREIGN KEY (ORGID) REFERENCES Organizations(ORGID)
-- );

CREATE TABLE IF NOT EXISTS OrgInfo (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    NAME VARCHAR(50),
	VALUE VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS View_Schedule_Info (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	VIEWID BIGINT NOT NULL,
	FILE_FORMAT INT NOT NULL,
	MODULEID BIGINT NOT NULL,
	TEMPLATEID BIGINT,
	CONSTRAINT VIEW_SCHEDULE_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID) ON DELETE CASCADE,
	CONSTRAINT VIEW_SCHEDULE_VIEWID_FK FOREIGN KEY (VIEWID) REFERENCES Views(ID)  ON DELETE CASCADE,
	CONSTRAINT View_SCHEDULE_TEMPLATEID_FK FOREIGN KEY (TEMPLATEID) REFERENCES EMail_Templates(ID)  ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_Schedule_Info (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	REPORTID BIGINT NOT NULL,
	FILE_FORMAT INT NOT NULL,
	DATE_FILTER VARCHAR(50),
	TEMPLATEID BIGINT NOT NULL,
	CONSTRAINT REPORT_SCHEDULE_REPORTID_FK FOREIGN KEY (REPORTID) REFERENCES Report(ID)  ON DELETE CASCADE,
	CONSTRAINT REPORT_SCHEDULE_TEMPLATEID_FK FOREIGN KEY (TEMPLATEID) REFERENCES EMail_Templates(ID)  ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_Schedule_Info1 (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	REPORTID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FILE_FORMAT INT NOT NULL,
	TEMPLATEID BIGINT NOT NULL,
	PRINT_PARAMS VARCHAR(100),
	CONSTRAINT REPORT_SCHEDULE1_REPORTID_FK FOREIGN KEY (REPORTID) REFERENCES Report1(ID)  ON DELETE CASCADE,
	CONSTRAINT REPORT_SCHEDULE1_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID) ON DELETE CASCADE,
	CONSTRAINT REPORT_SCHEDULE1_TEMPLATEID_FK FOREIGN KEY (TEMPLATEID) REFERENCES EMail_Templates(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Calendar_Color (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
  	BASED_ON VARCHAR(100) DEFAULT NULL
);

CREATE TABLE IF NOT EXISTS Benchmark_Units (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	BENCHMARK_ID BIGINT NOT NULL,
	UNIT TINYINT NOT NULL,
	CONSTRAINT BENCHMARK_UNITS_BENCHMARK_ID_FK FOREIGN KEY (BENCHMARK_ID) REFERENCES Benchmark (ID)
);

CREATE TABLE IF NOT EXISTS Report_Benchmark_Rel (
  REPORT_ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  BENCHMARK_ID BIGINT NOT NULL,
  CONSTRAINT REPORT_BENCHMARK_BENCHMARKID FOREIGN KEY (BENCHMARK_ID) REFERENCES Benchmark (ID),
  CONSTRAINT REPORT_BENCHMARK_REPORTID FOREIGN KEY (REPORT_ID) REFERENCES Report (ID)
);

CREATE TABLE IF NOT EXISTS Reading_Rule (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RESOURCE_ID BIGINT,
	ASSET_CATEGORY_ID BIGINT,
	READING_FIELD_ID BIGINT,
	START_VALUE BIGINT,
	INTERVAL_VALUE BIGINT,
	LATEST_VALUE BIGINT,
	BASELINE_ID BIGINT,
	AGGREGATION VARCHAR(50),
	DATE_RANGE INT,
	OPERATOR_ID INT,
	PERCENTAGE VARCHAR(50),
	THRESHOLD_TYPE TINYINT,
	CLEAR_ALARM BOOLEAN,
	OCCURENCES INT,
	OVER_PERIOD BIGINT,
	IS_CONSECUTIVE BOOLEAN,
	FLAP_COUNT INT,
	FLAP_INTERVAL INT,
	MIN_FLAP_VAL DOUBLE,
	MAX_FLAP_VAL DOUBLE,
	FLAP_FREQUENCY INT,
	RULE_GROUP_ID BIGINT NOT NULL,
	ALARM_SEVERITY_ID BIGINT DEFAULT NULL,
	TRIGGER_EXECUTE_PERIOD INT DEFAULT NULL,
	READING_RULE_TYPE INT NOT NULL,
	UPPER_BOUND DOUBLE,
	LOWER_BOUND DOUBLE,
	ALARM_CATEGORY_ID BIGINT,
	FAULT_TYPE INT DEFAULT NULL,
	DATA_MODULE_ID BIGINT,
	DATA_MODULE_FIELD_ID BIGINT,
	CONSTRAINT READING_RULE_ID_FK FOREIGN KEY (ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT READING_RULE_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories(ID),
	CONSTRAINT READING_RULE_FK_READING_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields(FIELDID),
	CONSTRAINT READING_RULE_FK_BASELINE_ID FOREIGN KEY (BASELINE_ID) REFERENCES BaseLines(ID) ON DELETE CASCADE,
	CONSTRAINT Reading_Rule_RULE_GROUP_ID FOREIGN KEY (RULE_GROUP_ID) REFERENCES Reading_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT Reading_Rule_alarm_severity_id FOREIGN KEY (ALARM_SEVERITY_ID) REFERENCES Alarm_Severity (ID),
	CONSTRAINT READING_RULE_FK_ALARM_CATEGORY FOREIGN KEY (ALARM_CATEGORY_ID) REFERENCES ReadingAlarmCategory(ID),
	CONSTRAINT READING_RULE_FK_DATA_MODULE_ID FOREIGN KEY (DATA_MODULE_ID) REFERENCES Modules (MODULEID),
	CONSTRAINT READING_RULE_FK_DATA_MODULE_FIELD_ID FOREIGN KEY (DATA_MODULE_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Reading_Alarm_Rule (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  READING_RULE_GROUP_ID BIGINT NOT NULL,
  RESOURCE_ID BIGINT,
  RCA_RULE_ID BIGINT,
  CONSTRAINT Reading_Alarm_Rule_id FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
  CONSTRAINT Reading_Alarm_Rule_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
  CONSTRAINT Reading_Alarm_Rule_RCA_RULE_ID FOREIGN KEY (RCA_RULE_ID) REFERENCES Reading_Rule(ID),
  CONSTRAINT Reading_Alarm_Rule_reading_rule_group_id FOREIGN KEY (READING_RULE_GROUP_ID) REFERENCES Reading_Rule (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Reading_Rule_Inclusions_Exclusions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RULE_GROUP_ID BIGINT NOT NULL,
	RESOURCE_ID BIGINT NOT NULL,
	IS_INCLUDE BOOLEAN NOT NULL,
	CONSTRAINT READING_RULE_INCLUSIONS_FK_RULE_ID FOREIGN KEY (RULE_GROUP_ID) REFERENCES Reading_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_INCLUSIONS_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID)
);

CREATE TABLE IF NOT EXISTS ReadingAlarmCategory (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50) NOT NULL,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ISDEFAULT BOOLEAN
);

CREATE TABLE IF NOT EXISTS ReadingEvent (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	FAULT_TYPE INT DEFAULT NULL,
	CONSTRAINT READINGEVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT READINGEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT READINGEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT READINGEVENT_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT READINGEVENT_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT READINGEVENT_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS ReadingAlarmOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CATEGORY_ID BIGINT,
	FORM_ID BIGINT,
	FAULT_TYPE INT DEFAULT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT READINGALARMOCCURRENCE_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT READINGALARMOCCURRENCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT READINGALARMOCCURRENCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT READINGALARMOCCURRENCE_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT READINGALARMOCCURRENCE_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT READINGALARMOCCURRENCE_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL,
    CONSTRAINT READINGALARMOCCURRENCE_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES ReadingAlarmCategory(ID)
);

CREATE TABLE IF NOT EXISTS ReadingAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CATEGORY_ID BIGINT,
	FORM_ID BIGINT,
	FAULT_TYPE INT DEFAULT NULL,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	LOOKUP_CF1 BIGINT,
	LOOKUP_CF2 BIGINT,
	LOOKUP_CF3 BIGINT,
	LOOKUP_CF4 BIGINT,
	LOOKUP_CF5 BIGINT,
	CONSTRAINT READINGALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT READINGALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT READINGALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT READINGALARM_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT READINGALARM_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT READINGALARM_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL,
    CONSTRAINT READINGALARM_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES ReadingAlarmCategory(ID)
);

CREATE TABLE IF NOT EXISTS BMSEvent (
    ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	EVENT_CONDITION VARCHAR(1000),
	SOURCE VARCHAR(1000),
	CONTROLLER_ID BIGINT,
	CONSTRAINT BMSEVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT BMSEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BMSEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BMSEVENT_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS BMSAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	EVENT_CONDITION VARCHAR(1000),
	SOURCE VARCHAR(1000),
	CONTROLLER_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,
	CONSTRAINT BMSALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT BMSALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BMSALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BMSALARM_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Reading_Alarms (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	READING_FIELD_ID BIGINT NOT NULL,
	READING_DATA_ID BIGINT,
	READING_VAL VARCHAR (100),
	BASELINE_ID BIGINT,
	START_TIME BIGINT,
	END_TIME BIGINT,
	READING_MSG VARCHAR(2000),
	RULE_ID BIGINT,
	SITE_ID BIGINT,
	CONSTRAINT READING_ALARMS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT READING_ALARMS_FK_ID FOREIGN KEY (ID) REFERENCES Alarms(ID) ON DELETE CASCADE,
	CONSTRAINT READING_ALARMS_FK_READING_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields(FIELDID),
	CONSTRAINT READING_ALARMS_FK_BASELINE_ID FOREIGN KEY (BASELINE_ID) REFERENCES BaseLines(ID) ON DELETE SET NULL,
	CONSTRAINT READING_ALARMS_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT REAING_ALARMS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID)
);

CREATE TABLE IF NOT EXISTS ML (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	SEQUENCE varchar(1000),
	MODEL_PATH VARCHAR(500),
	PREDICTION_LOG_MODULEID BIGINT(20),
	PREDICTION_MODULEID BIGINT(20),
	CRITERIA_ID BIGINT(20),
	RULE_ID BIGINT(20),
	CONSTRAINT ML_FK_PREDICTION_LOG_MODULEID FOREIGN KEY (PREDICTION_LOG_MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ML_FK_PREDICTION_MODULEID FOREIGN KEY (PREDICTION_MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_FK_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT ML_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule(ID)
);

CREATE TABLE IF NOT EXISTS ML_Anomaly_Event(
	ID BIGINT PRIMARY KEY,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	READING_TIME BIGINT,
	FORM_ID BIGINT,
	ENERGY_DATA_FIELDID BIGINT,
	UPPER_ANOMALY_FIELDID BIGINT,
	ENERGY_DATA_VALUE BIGINT,
	UPPER_ANOMALY_VALUE BIGINT,
	RATIO DOUBLE,
	CONSTRAINT ML_ANOMALY_EVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT ML_ANOMALY_EVENT_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT ML_ANOMALY_EVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_ANOMALY_EVENT_FK_ENERGY_DATA_FIELDID FOREIGN KEY (ENERGY_DATA_FIELDID) REFERENCES Fields(FIELDID) ON DELETE SET NULL,
	CONSTRAINT ML_ANOMALY_EVENT_FK_UPPER_ANOMALY_FIELDID FOREIGN KEY (UPPER_ANOMALY_FIELDID) REFERENCES Fields(FIELDID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS MLAlarmOccurence(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	OCCURRENCE_ID BIGINT,
	MLANOMALYTYPE TINYINT,
	RATIO DOUBLE,
	LOWER_ANOMALY DOUBLE,
	UPPER_ANOMALY DOUBLE,
	ALARM_ID BIGINT,
	CONSTRAINT MLAlarmOccurence_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ML_Anomaly_Alarm(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	FORM_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	READING_TIME BIGINT,
	ENERGY_DATA_FIELDID BIGINT,
	UPPER_ANOMALY_FIELDID BIGINT,
	ENERGY_DATA_VALUE BIGINT,
	UPPER_ANOMALY_VALUE BIGINT,
	RATIO DOUBLE,
	CONSTRAINT ML_ANOMALY_ALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT ML_Anomaly_Alarm_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_ANOMALY_ALARM_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT ML_ANOMALY_ALARM_FK_ENERGY_DATA_FIELDID FOREIGN KEY (ENERGY_DATA_FIELDID) REFERENCES Fields(FIELDID) ON DELETE SET NULL,
	CONSTRAINT ML_ANOMALY_ALARM_FK_UPPER_ANOMALY_FIELDID FOREIGN KEY (UPPER_ANOMALY_FIELDID) REFERENCES Fields(FIELDID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS PreEvent (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CONSTRAINT PREEVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT PREEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PREEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT PREEVENT_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT PREEVENT_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT PREEVENT_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS PreAlarmOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CATEGORY_ID BIGINT,
	READING_EVENT_CREATED TINYINT,
	FORM_ID BIGINT,
	CONSTRAINT PREALARMOCCURRENCE_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT PREALARMOCCURRENCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PREALARMOCCURRENCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT PREALARMOCCURRENCE_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT PREARMOCCURRENCE_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT PREALARMOCCURRENCE_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL,
    CONSTRAINT PREALARMOCCURRENCE_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES ReadingAlarmCategory(ID)
);

CREATE TABLE IF NOT EXISTS PreAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	SUB_RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CATEGORY_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT PREALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT PREALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PREALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT PREALARM_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT PREALARM_FK_SUB_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
    CONSTRAINT PREALARM_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL,
    CONSTRAINT PREALARM_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES ReadingAlarmCategory(ID)
);

-- <-- Sensor Alarm --->

CREATE TABLE IF NOT EXISTS SensorAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	SENSOR_RULE_TYPE TINYINT NOT NULL,
	IS_METER_ROLL_UP BOOLEAN,
	CONSTRAINT SensorAlarm_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT SensorAlarm_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorAlarm_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT SensorAlarm_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES SensorRule(ID) ON DELETE SET NULL,
    CONSTRAINT SensorAlarm_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
 );

CREATE TABLE IF NOT EXISTS SensorAlarmOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	SENSOR_RULE_TYPE TINYINT NOT NULL,
	IS_METER_ROLL_UP BOOLEAN,
	CONSTRAINT SensorAlarmOccurrence_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT SensorAlarmOccurrence_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorAlarmOccurrence_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT SensorAlarmOccurrence_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES SensorRule(ID) ON DELETE SET NULL,
    CONSTRAINT SensorAlarmOccurrence_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
 );

CREATE TABLE IF NOT EXISTS SensorEvent(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	SENSOR_RULE_TYPE TINYINT NOT NULL,
	IS_METER_ROLL_UP BOOLEAN,
	CONSTRAINT SensorEvent_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT SensorEvent_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorEvent_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT SensorEvent_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES SensorRule(ID) ON DELETE SET NULL,
    CONSTRAINT SensorEvent_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS SensorRollUpAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CONSTRAINT SensorRollUpAlarm_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT SensorRollUpAlarm_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorRollUpAlarm_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT SensorRollUpAlarm_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
 );

CREATE TABLE IF NOT EXISTS SensorRollUpAlarmOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CONSTRAINT SensorRollUpAlarmOccurrence_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT SensorRollUpAlarmOccurrence_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorRollUpAlarmOccurrence_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT SensorRollUpAlarmOccurrence_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
 );

CREATE TABLE IF NOT EXISTS SensorRollUpEvent(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	READING_FIELD_ID BIGINT,
	CONSTRAINT SensorRollUpEvent_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT SensorRollUpEvent_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SensorRollUpEvent_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT SensorRollUpEvent_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS MultiVariateAnomalyAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	MULTIVARIATE_ANOMALY_ID BIGINT,
	CAUSING_VARIABLE_ID BIGINT,
	START_DATE BIGINT,
	END_DATE BIGINT,
	OUTLIER BOOLEAN,
	LIST_OF_VARFIELDS VARCHAR(1000),
	RATIO VARCHAR(1000),
	NEIGHBOUR_COUNT VARCHAR(1000),
	CONSTRAINT MultiVariateAnomalyAlarm_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT MultiVariateAnomalyAlarm_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT MultiVariateAnomalyAlarm_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS MultiVariateAnomalyAlarmOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	MULTIVARIATE_ANOMALY_ID BIGINT,
	CAUSING_VARIABLE_ID BIGINT,
	START_DATE BIGINT,
	END_DATE BIGINT,
	OUTLIER BOOLEAN,
	LIST_OF_VARFIELDS VARCHAR(1000),
	RATIO VARCHAR(1000),
	NEIGHBOUR_COUNT VARCHAR(1000),	
	CONSTRAINT MultiVariateAnomalyAlarmOccurrence_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT MultiVariateAnomalyAlarmOccurrence_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT MultiVariateAnomalyAlarmOccurrence_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
 );

CREATE TABLE IF NOT EXISTS MultiVariateAnomalyEvent(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	MULTIVARIATE_ANOMALY_ID BIGINT,
	CAUSING_VARIABLE_ID BIGINT,
	START_DATE BIGINT,
	END_DATE BIGINT,
	OUTLIER BOOLEAN,
	LIST_OF_VARFIELDS VARCHAR(1000),
	RATIO VARCHAR(1000),
	NEIGHBOUR_COUNT VARCHAR(1000),	
	CONSTRAINT MultiVariateAnomalyEvent_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT MultiVariateAnomalyEvent_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT MultiVariateAnomalyEvent_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

-- <-- Alarm rollup --->

CREATE TABLE IF NOT EXISTS RuleRollUpEvent (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	RULE_ID BIGINT,
	CONSTRAINT RULEROLLUPEVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT RULEROLLUPEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RULEROLLUPEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT RULEROLLUPEVENT_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS RuleRollUpOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT RULEROLLUPOCCURRENCE_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT RULEROLLUPOCCURRENCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RULEROLLUPOCCURRENCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT RULEROLLUPOCCURRENCE_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS RuleRollUpAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	RULE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT RULEROLLUPALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT RULEROLLUPALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RULEROLLUPALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT RULEROLLUPALARM_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS AssetRollUpAlarm (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT ASSETROLLUPALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT ASSETROLLUPALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ASSETROLLUPALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS AssetRollUpEvent (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT ASSETROLLUPEVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT ASSETROLLUPEVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ASSETROLLUPEVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS AssetRollUpOccurrence (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT ASSETROLLUPOCCURRENCE_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT ASSETROLLUPOCCURRENCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ASSETROLLUPOCCURRENCE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);


CREATE TABLE IF NOT EXISTS RCA_Event(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	CONSTRAINT RCA_EVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT RCA_EVENT_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID)
);

CREATE TABLE IF NOT EXISTS RCA_Alarm(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CONSTRAINT RCA_ALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT RCA_ALARM_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT RCA_ALARM_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ReadingRCAEvent (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  FORM_ID BIGINT,
  PARENT_ID BIGINT NOT NULL,
  RULE_ID BIGINT NOT NULL,
  SUB_RULE_ID BIGINT NOT NULL,
  CONSTRAINT READINGRCA_EVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent (ID) ON DELETE CASCADE,
  CONSTRAINT ReadingRCAEvent_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT ReadingRCAEvent_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
  CONSTRAINT READINGRCA_EVENT_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AlarmOccurrence (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ReadingRCAAlarm (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  FORM_ID BIGINT,
  PARENT_ID BIGINT NOT NULL,
  RULE_ID BIGINT NOT NULL,
  SUB_RULE_ID BIGINT NOT NULL,
  CONSTRAINT READINGRCA_ALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm (ID) ON DELETE CASCADE,
  CONSTRAINT ReadingRCAAlarm_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT ReadingRCAAlarmt_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
  CONSTRAINT READINGRCA_ALARM_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AlarmOccurrence (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ML_Alarms (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	READING_FIELD_ID BIGINT NOT NULL,
	RULE_ID BIGINT,
	CONSTRAINT ML_ALARMS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_ALARMS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT ML_ALARMS_FK_ID FOREIGN KEY (ID) REFERENCES Alarms(ID) ON DELETE CASCADE,
	CONSTRAINT ML_ALARMS_FK_READING_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields(FIELDID),
	CONSTRAINT ML_ALARMS_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS ML_Alarm_Occurrences (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	PARENT_ALARM BIGINT NOT NULL,
	RULE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT ML_ALARM_OCCURRENCES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_ALARM_OCCURRENCES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT ML_ALARM_OCCURRENCES_FK_PARENT_ALARM FOREIGN KEY (PARENT_ALARM) REFERENCES ML_Alarms (ID) ON DELETE CASCADE,
	CONSTRAINT ML_ALARM_OCCURRENCES_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT ML_ALARM_OCCURRENCES_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS ReadingViolationEvent (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  FORMULA_FIELD_ID BIGINT NOT NULL,
  CONSTRAINT VIOLATION_EVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent (ID) ON DELETE CASCADE,
  CONSTRAINT VIOLATION_EVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT VIOLATION_EVENT_FK_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ReadingViolationAlarm (
  ID BIGINT NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  FORMULA_FIELD_ID BIGINT NOT NULL,
  CONSTRAINT VIOLATION_ALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm (ID) ON DELETE CASCADE,
  CONSTRAINT VIOLATION_ALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
  CONSTRAINT VIOLATION_ALARM_FK_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ReadingViolationOccurrence (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FORMULA_FIELD_ID BIGINT NOT NULL,
	CONSTRAINT VIOLATION_OCCURRENCE_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT VIOLATION_OCCURRENCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT VIOLATION_OCCURRENCE_FK_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Reading_Rule_Alarm_Meta (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ALARM_ID BIGINT NOT NULL,
	RULE_GROUP_ID BIGINT NOT NULL,
	RESOURCE_ID BIGINT NOT NULL,
	READING_FIELD_ID BIGINT NOT NULL,
	IS_CLEAR BOOLEAN NOT NULL,
	CONSTRAINT READING_RULE_ALARM_META_FK_ALARM_ID FOREIGN KEY (ALARM_ID) REFERENCES Alarms (ID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_ALARM_META_FK_RULE_ID FOREIGN KEY (RULE_GROUP_ID) REFERENCES Reading_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_ALARM_META_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_ALARM_META_FK_READING_FIELD_ID FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE,
	CONSTRAINT READING_RULE_ALARM_META_UNIQUE_RULE_ID_RESOURCE_ID UNIQUE (RULE_GROUP_ID, RESOURCE_ID),
	CONSTRAINT READING_RULE_ALARM_META_UNIQUE_ALARM_ID UNIQUE (ALARM_ID)
);

CREATE TABLE IF NOT EXISTS SLA_Rule (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RESOURCE_ID BIGINT,
	GROUP_ID BIGINT,
	CONSTRAINT SLA_RULE_ID_FK FOREIGN KEY (ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
	CONSTRAINT SLA_RULE_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT SLA_RULE_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS Reading_Rule_Flaps (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RULE_ID BIGINT NOT NULL,
	FLAP_TIME BIGINT NOT NULL,
	RESOURCE_ID BIGINT NOT NULL,
	CONSTRAINT READING_RULE_FLAPS_RULE_ID_FK FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Reading_Rule_Metrics (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  READING_RULE_ID BIGINT NOT NULL,
  FIELD_ID BIGINT NOT NULL,
  RESOURCE_ID BIGINT DEFAULT NULL,
  CONSTRAINT Reading_Rule_Metrics_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE,
  CONSTRAINT Reading_Rule_Metrics_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Reading_Rule_Metrics_RULE_ID FOREIGN KEY (READING_RULE_ID) REFERENCES Reading_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Scheduled_Actions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(100) NOT NULL,
	ACTION_ID BIGINT NOT NULL,
	FREQUENCY_TYPE TINYINT NOT NULL,
	JOB_TIME VARCHAR(5) NOT NULL,
	CONSTRAINT SCHEDULED_ACTIONS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT SCHEDULED_ACTIONS_FK_ACTION_ID FOREIGN KEY (ACTION_ID) REFERENCES Action(ID)
);

CREATE TABLE IF NOT EXISTS Task_Section_Template_Triggers (
	SECTION_ID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	PM_TRIGGER_ID BIGINT NOT NULL,
	EXECUTE_IF_NOT_IN_TIME BIGINT,
	PRIMARY KEY (SECTION_ID, PM_TRIGGER_ID),
	CONSTRAINT Task_Section_Template_Triggers_FK_SECTION_ID FOREIGN KEY (SECTION_ID) REFERENCES Task_Section_Template(ID) ON DELETE CASCADE,
	CONSTRAINT Task_Section_Template_Triggers_FK_PM_TRIGGER_ID FOREIGN KEY (PM_TRIGGER_ID) REFERENCES PM_Triggers(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PM_Jobs(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PM_ID BIGINT NOT NULL,
	PM_TRIGGER_ID BIGINT NOT NULL,
	NEXT_EXECUTION_TIME BIGINT NOT NULL,
	TEMPLATE_ID BIGINT,
	STATUS TINYINT NOT NULL,
	RESOURCE_ID BIGINT DEFAULT NULL,
	CONSTRAINT PM_JOBS_FK_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance(ID),	-- removed unnecessary cascade
	CONSTRAINT PM_JOBS_FK_PM_TRIGGER_ID FOREIGN KEY (PM_TRIGGER_ID) REFERENCES PM_Triggers(ID) ON DELETE CASCADE,
	CONSTRAINT PM_Jobs_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
	CONSTRAINT PM_JOBS_FK_TEMPLATE_ID FOREIGN KEY (TEMPLATE_ID) REFERENCES Workorder_Template(ID)
);
-- Index for PM_Jobs
CREATE INDEX PM_JOBS_TRIGGER_ID_TIME_INDEX on PM_Jobs (PM_TRIGGER_ID,NEXT_EXECUTION_TIME);
CREATE INDEX PM_JOBS_PM_ID_TIME_INDEX on PM_Jobs (PM_ID,NEXT_EXECUTION_TIME);

CREATE TABLE IF NOT EXISTS PM_Reminders (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(150) DEFAULT NULL,
	PM_ID BIGINT NOT NULL,
	REMINDER_TYPE TINYINT NOT NULL,
	DURATION BIGINT NOT NULL,
	SCHEDULE_RULE_ID BIGINT,
	CONSTRAINT PM_REMINDER_FK_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance(ID) ON DELETE CASCADE,
	CONSTRAINT PM_REMINDER_FK_SCHEDULE_RULE_ID FOREIGN KEY (SCHEDULE_RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PM_Reminder_Action (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PM_REMINDER_ID BIGINT NOT NULL,
  ACTION_ID BIGINT NOT NULL,
  CONSTRAINT PM_Reminder_Action_action_id FOREIGN KEY (ACTION_ID) REFERENCES Action (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT PM_Reminder_Action_reminder_id FOREIGN KEY (PM_REMINDER_ID) REFERENCES PM_Reminders (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Before_PM_Reminder_Trigger_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PM_REMINDER_ID BIGINT,
	PM_TRIGGER_ID BIGINT,
	RESOURCE_ID BIGINT,
	CONSTRAINT BEFORE_PM_REMINDER_TRIGGER_REL_UK UNIQUE(PM_REMINDER_ID, PM_TRIGGER_ID,RESOURCE_ID),
	CONSTRAINT BEFORE_PM_REMINDER_TRIGGER_REL_FK_PM_REMINDER_ID FOREIGN KEY (PM_REMINDER_ID) REFERENCES PM_Reminders(ID) ON DELETE CASCADE,
	CONSTRAINT BEFORE_PM_REMINDER_TRIGGER_REL_PM_TRIGGER_ID FOREIGN KEY (PM_TRIGGER_ID) REFERENCES PM_Triggers(ID) ON DELETE CASCADE,
	CONSTRAINT BEFORE_PM_REMINDER_TRIGGER_REL_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS After_PM_Reminder_WO_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PM_REMINDER_ID BIGINT,
	WO_ID BIGINT,
	CONSTRAINT AFTER_PM_REMINDERS_WO_REL_FK_PM_REMINDER_ID FOREIGN KEY (PM_REMINDER_ID) REFERENCES PM_Reminders(ID) ON DELETE CASCADE,
	CONSTRAINT AFTER_PM_REMINDERS_WO_REL_FK_WO_ID FOREIGN KEY (WO_ID) REFERENCES WorkOrders(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PM_Resource_Planner (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PM_ID BIGINT DEFAULT NULL,
  RESOURCE_ID BIGINT DEFAULT NULL,
  TRIGGER_ID BIGINT DEFAULT NULL,
  ASSIGNED_TO BIGINT DEFAULT NULL,
  CONSTRAINT PM_Triggers_Resource_ASSIGNED_TO_ID FOREIGN KEY (ASSIGNED_TO) REFERENCES ORG_Users (ORG_USERID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_Triggers_Resource_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_Triggers_Resource_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_Triggers_Resource_TRIGGER_ID FOREIGN KEY (TRIGGER_ID) REFERENCES PM_Triggers (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS PM_Resource_Planner_Reminder (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  PM_ID BIGINT DEFAULT NULL,
  PM_RESOURCE_PLANNER_ID BIGINT DEFAULT NULL,
  PM_REMAINDER_ID BIGINT DEFAULT NULL,
  CONSTRAINT PM_Resource_Planner_Remainder_fk_id FOREIGN KEY (PM_RESOURCE_PLANNER_ID) REFERENCES PM_Resource_Planner (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT PM_Resource_Planner_Remainder_pmid FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_Resource_Planner_Remainder_reminder_id FOREIGN KEY (PM_REMAINDER_ID) REFERENCES PM_Reminders (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS PM_Resource_Planner_Triggers (
	PM_RESOURCE_PLANNER_ID BIGINT NOT NULL,
	TRIGGER_ID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	PRIMARY KEY (PM_RESOURCE_PLANNER_ID, TRIGGER_ID),
	CONSTRAINT PM_Resource_Planner_Triggers_TRIGGER_ID FOREIGN KEY (TRIGGER_ID) REFERENCES PM_Triggers (ID) ON DELETE CASCADE,
	CONSTRAINT PM_Resource_Planner_fk_id FOREIGN KEY (PM_RESOURCE_PLANNER_ID) REFERENCES PM_Resource_Planner (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PM_Resource_Schedule_Rule_Rel (
     ORGID BIGINT NOT NULL,
     PM_ID BIGINT NOT NULL,
     RESOURCE_ID BIGINT NOT NULL,
     SCHEDULE_RULE_ID BIGINT NOT NULL,
     PRIMARY KEY (PM_ID, RESOURCE_ID, SCHEDULE_RULE_ID),
     CONSTRAINT PM_Resource_Schedule_Rule_Rel_pmid FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE CASCADE,
     CONSTRAINT PM_Resource_Schedule_Rule_Rel_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE CASCADE,
     CONSTRAINT PM_Resource_Schedule_Rule_Rel_Rule_Id FOREIGN KEY (SCHEDULE_RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_BaseLine_Rel (
	BASE_LINE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	REPORT_ID BIGINT,
	ADJUST_TYPE TINYINT,
	PRIMARY KEY(BASE_LINE_ID, REPORT_ID),
	CONSTRAINT REPORT_BASE_LINE_REL_BASE_LINE_ID_FK FOREIGN KEY (BASE_LINE_ID) REFERENCES BaseLines(ID) ON DELETE CASCADE,
	CONSTRAINT REPORT_BASE_LINE_REL_REPORT_ID_FK FOREIGN KEY (REPORT_ID) REFERENCES Report(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Report_Columns (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	REPORT_ENTITY_ID BIGINT,
	REPORT_ID BIGINT,
	BASE_LINE_ID BIGINT,
	BASE_LINE_ADJUST BOOLEAN,
	IS_ACTIVE BOOLEAN,
	SEQUENCE_NUMBER INT,
	WIDTH INT,
	CONSTRAINT REPORT_COLUMNS_REPORT_ENTITY_ID_FK FOREIGN KEY (REPORT_ENTITY_ID) REFERENCES Report_Entity (ID) ON DELETE CASCADE,
	CONSTRAINT REPORT_COLUMNS_REPORT_ID_FK FOREIGN KEY (REPORT_ID) REFERENCES Report(ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Reading_Data_Meta (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  RESOURCE_ID BIGINT(20) NOT NULL,
  FIELD_ID BIGINT(20) NOT NULL,
  TTIME BIGINT(20) NOT NULL,
  VALUE VARCHAR(500) NOT NULL,
  READING_DATA_ID BIGINT,
  INPUT_TYPE TINYINT NOT NULL,
  READING_TYPE TINYINT,
  UNIT INT,
  IS_CUSTOM BOOLEAN,
  IS_CONTROLLABLE BOOLEAN,
  CONTROL_MODE TINYINT,
  CONSTRAINT READING_DATA_META_UNIQUE UNIQUE (ORGID,RESOURCE_ID,FIELD_ID),
  CONSTRAINT READING_DATA_META_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
);

-- CREATE INDEX READING_DATA_META_ORGID_RESOURCE_ID_FIELD_ID ON Reading_Data_Meta (ORGID, RESOURCE_ID, FIELD_ID); Unique key itself adds index
-- CREATE INDEX READING_DATA_META_ORGID_RESOURCE_ID ON Reading_Data_Meta (ORGID, RESOURCE_ID); No need separate orgid, resourceid

CREATE TABLE Reset_Counter_Meta (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  READING_DATA_ID BIGINT(20) NOT NULL,
  FIELD_ID BIGINT(20) NOT NULL,
  RESOURCE_ID BIGINT(20) NOT NULL,
  TTIME BIGINT(20) NOT NULL,
  START_VALUE BIGINT(20) NULL,
  END_VALUE BIGINT(20) NULL,
  CONSTRAINT RESET_COUNTER_META_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE,
  CONSTRAINT RESET_COUNTER_META_FK_RESOURCEID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Reading_Input_Values (
	ORGID BIGINT NOT NULL,
	RDMID BIGINT NOT NULL,
	INPUT_VALUE VARCHAR(100) NOT NULL,
	IDX INT NOT NULL,
	PRIMARY KEY(ORGID,RDMID,IDX),
	CONSTRAINT READING_INPUT_VALUES_UNIQUE UNIQUE (ORGID,RDMID,INPUT_VALUE),
	CONSTRAINT READING_INPUT_VALUES_FK_RDMID FOREIGN KEY (RDMID) REFERENCES Reading_Data_Meta(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Marked_Reading (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  DATA_ID BIGINT(20),
  MODULEID BIGINT(20),
  RESOURCE_ID BIGINT(20),
  FIELD_ID BIGINT(20),
  MARK_TYPE TINYINT NOT NULL,
  TTIME BIGINT(20),
  ACTUAL_VALUE VARCHAR(500),
  MODIFIED_VALUE VARCHAR(500),
  CONSTRAINT MARKED_READING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID) ON DELETE CASCADE,
  CONSTRAINT MARKED_READING_FK_FIELDID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE,
  CONSTRAINT MARKED_READING_FK_RESOURCEID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Dashboard_Sharing (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  DASHBOARD_ID BIGINT(20) NOT NULL,
  ORG_USERID BIGINT(20),
  ROLE_ID BIGINT(20),
  GROUP_ID BIGINT(20),
  SHARING_TYPE TINYINT NOT NULL,
  CONSTRAINT DASHBOARD_SHARING_FK_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID),
  CONSTRAINT DASHBOARD_SHARING_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT DASHBOARD_SHARING_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
  CONSTRAINT DASHBOARD_SHARING_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS View_Sharing (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  PARENT_ID BIGINT(20) NOT NULL,
  ORG_USERID BIGINT(20),
  ROLE_ID BIGINT(20),
  GROUP_ID BIGINT(20),
  APP_TYPE INTEGER,
  SHARING_TYPE TINYINT NOT NULL,
  FIELD_ID BIGINT,
  COMPANY_ID BIGINT,
  CONSTRAINT VIEW_SHARING_VIEWID_FK FOREIGN KEY (PARENT_ID) REFERENCES Views(ID)  ON DELETE CASCADE,
  CONSTRAINT VIEW_SHARING_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT VIEW_SHARING_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
  CONSTRAINT VIEW_SHARING_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS Pm_Exec_Sharing (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  PARENT_ID BIGINT(20) NOT NULL,
  ORG_USERID BIGINT(20),
  ROLE_ID BIGINT(20),
  GROUP_ID BIGINT(20),
  SHARING_TYPE TINYINT NOT NULL,
  FIELD_ID BIGINT,
  COMPANY_ID BIGINT,
  CONSTRAINT PM_EXEC_SHARING_PARENT_ID_FK FOREIGN KEY (PARENT_ID) REFERENCES PM_Triggers(ID) ON DELETE CASCADE,
  CONSTRAINT PM_EXEC_SHARING_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT PM_EXEC_SHARING_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
  CONSTRAINT PM_EXEC_SHARING_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS Report_Folder_Sharing (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  PARENT_ID BIGINT(20) NOT NULL,
  ORG_USERID BIGINT(20),
  ROLE_ID BIGINT(20),
  GROUP_ID BIGINT(20),
  SHARING_TYPE TINYINT NOT NULL,
  FIELD_ID BIGINT,
  COMPANY_ID BIGINT,
  CONSTRAINT REPORT_FOLDER_SHARING_PARENT_ID_FK FOREIGN KEY (PARENT_ID) REFERENCES Report1_Folder(ID) ON DELETE CASCADE,
  CONSTRAINT REPORT_FOLDER_SHARING_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT REPORT_FOLDER_SHARING_FK_ROLE_ID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID),
  CONSTRAINT REPORT_FOLDER_SHARING_FK_GROUP_ID FOREIGN KEY (GROUP_ID) REFERENCES FacilioGroups(GROUPID)
);

CREATE TABLE IF NOT EXISTS Derivations (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT(20) NOT NULL,
  NAME VARCHAR(45) NOT NULL,
  ANALYTICS_TYPE TINYINT NOT NULL,
  WORKFLOW_ID BIGINT NOT NULL,
  FORMULA_FIELD_ID BIGINT,
  CONSTRAINT DERIVATIONS_FORMULA_FIELD_ID FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field(ID),
  CONSTRAINT DERIVATIONS_WORKLFOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE CASCADE
);



CREATE TABLE IF NOT EXISTS Tenant_Users (
	TENANTID BIGINT(20) NOT NULL,
    ORGID BIGINT(20) NOT NULL,
    ORG_USERID BIGINT(20) NOT NULL,
  	CONSTRAINT TENANT_USERS_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users (ORG_USERID) ON DELETE CASCADE,
	CONSTRAINT TENANT_USERS_FK_TENANTID FOREIGN KEY (TENANTID) REFERENCES Tenants (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Tenants_Utility_Mapping (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT(20) NOT NULL,
	TENANT_ID BIGINT NOT NULL,
	UTILITY_ID BIGINT NOT NULL,
	ASSET_ID BIGINT NOT NULL,
	SHOW_IN_PORTAL TINYINT DEFAULT NULL,
	CONSTRAINT TENANTS_UTILITY_MAPPING_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID) ON DELETE CASCADE,
	CONSTRAINT TENANTS_UTILITY_MAPPING_FK_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID),
	CONSTRAINT TENANTS_UTILITY_MAPPING_UNIQUE UNIQUE (TENANT_ID,UTILITY_ID,ASSET_ID)
);


CREATE TABLE IF NOT EXISTS Tenant_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_TENANT BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Tenant_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Tenant_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Tenant_ATTACHEMENTS_FK_PARENT_TENANT FOREIGN KEY (PARENT_TENANT) REFERENCES Tenants (ID)

);

CREATE TABLE IF NOT EXISTS Tenant_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Tenant_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Tenant_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Tenant_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES Tenants (ID)
);


 CREATE TABLE IF NOT EXISTS Rate_Card (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT(20) NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(500)
 );

 CREATE TABLE IF NOT EXISTS Rate_Card_Services (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT(20) NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	RATE_CARD_ID BIGINT NOT NULL,
	SERVICE_TYPE TINYINT NOT NULL,
	UTILITY_ID BIGINT,
	PRICE DOUBLE,
	WORKFLOW_ID BIGINT,
	CONSTRAINT RATE_CARD_SERVICES_FK_RATE_CARD_ID FOREIGN KEY (RATE_CARD_ID) REFERENCES Rate_Card (ID) ON DELETE CASCADE,
	CONSTRAINT RATE_CARD_SERVICES_FK_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID),
	CONSTRAINT RATE_CARD_SERVICES_UNIQUE UNIQUE (RATE_CARD_ID,UTILITY_ID)
 );

 CREATE TABLE IF NOT EXISTS Module_Local_ID (
  ORGID BIGINT NOT NULL,
  MODULE_NAME varchar(45) NOT NULL,
  LAST_LOCAL_ID BIGINT NOT NULL,
  PRIMARY KEY (MODULE_NAME,ORGID)
 );

CREATE TABLE IF NOT EXISTS Shift (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	SITE_ID BIGINT,
	BUSINESSHOURSID BIGINT,
	FORM_ID BIGINT,
	ISSAMETIME BOOLEAN,
	START_TIME BIGINT,
	END_TIME BIGINT,
	IS_DEFAULT BOOLEAN NOT NULL,
	WEEKEND VARCHAR(1000),
	COLOR_CODE VARCHAR(20),
	CONSTRAINT SHIFT_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT SHIFT_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIFT_BUSINESSHOURS_FK FOREIGN KEY (BUSINESSHOURSID) REFERENCES BusinessHours (ID),
	CONSTRAINT SHIFT_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Shift_User_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ORG_USERID BIGINT NOT NULL,
	SHIFTID BIGINT NOT NULL,
	START_TIME BIGINT NOT NULL,
	END_TIME BIGINT NOT NULL,
	CONSTRAINT SHIFT_USER_REL_USERID_FK FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users (ORG_USERID) ON DELETE CASCADE,
	CONSTRAINT SHIFT_USER_REL_SHIFTID_FK FOREIGN KEY (SHIFTID) REFERENCES Shift (ID)
);

CREATE TABLE IF NOT EXISTS Break (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	NAME VARCHAR(100) NOT NULL,
	BREAK_TIME INT NOT NULL,
	BREAK_TYPE TINYINT(4) NOT NULL,
	BREAK_MODE TINYINT(4) NOT NULL,

	CONSTRAINT BREAK_MODULEID_FK FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT BREAK_SITEID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT BREAK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Shift_Break_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	BREAK_ID BIGINT NOT NULL,
	SHIFTID BIGINT NOT NULL,

	CONSTRAINT SHIFTBREAKREL_SHIFTID_FK FOREIGN KEY (SHIFTID) REFERENCES Shift (ID),
	CONSTRAINT SHIFTBREAKREL_BREAK_ID_FK FOREIGN KEY (BREAK_ID) REFERENCES Break (ID)
);

CREATE TABLE IF NOT EXISTS Costs (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(100) NOT NULL,
	UTILITY_ID TINYINT NOT NULL,
	UTILITY_PROVIDER VARCHAR(100),
	READING_ID BIGINT NOT NULL,
	CONSTRAINT COSTS_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT COSTS_READING_ID_FK FOREIGN KEY (READING_ID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS Cost_Slabs (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	COST_ID BIGINT NOT NULL,
	NAME VARCHAR(100),
	UNIT_COST DOUBLE NOT NULL,
	START_RANGE DOUBLE,
	END_RANGE DOUBLE,
	MAX_UNIT DOUBLE,
	CONSTRAINT COST_SLABS_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT COST_SLABS_COST_ID_FK FOREIGN KEY (COST_ID) REFERENCES Costs (ID)
);

CREATE TABLE IF NOT EXISTS Additional_Costs (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	COST_ID BIGINT NOT NULL,
	NAME VARCHAR (100) NOT NULL,
	COST DOUBLE NOT NULL,
	COST_TYPE TINYINT NOT NULL,
	READING_FIELD_ID BIGINT NOT NULL,
	CONSTRAINT ADDITONAL_COSTS_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT ADDITONAL_COSTS_COST_ID_FK FOREIGN KEY (COST_ID) REFERENCES Costs (ID),
	CONSTRAINT ADDITONAL_COSTS_READING_FIELD_ID_FK FOREIGN KEY (READING_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS Cost_Assets (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	COST_ID BIGINT NOT NULL,
	ASSET_ID BIGINT NOT NULL,
	BILL_START_DAY INT NOT NULL,
	NO_OF_BILL_MONTHS INT NOT NULL,
	FIRST_BILL_TIME BIGINT NOT NULL,
	CONSTRAINT COST_ASSETS_SITE_ID_FK FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT COST_ASSETS_COST_ID_FK FOREIGN KEY (COST_ID) REFERENCES Costs (ID)
);

CREATE TABLE IF NOT EXISTS Cost_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	TOTAL_COST DOUBLE NOT NULL,
	SLAB_COST DOUBLE,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	CONSTRAINT COST_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT COST_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Assets(ID)
);

-- Create indexes for Cost_Readings table
CREATE INDEX COST_READINGS_PARENT_ID_INDEX on Cost_Readings (PARENT_ID);
CREATE INDEX COST_READINGS_PARENT_ID_TTIME_INDEX ON Cost_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX COST_READINGS_TTIME_INDEX ON Cost_Readings (ORGID, MODULEID, TTIME);

  CREATE TABLE IF NOT EXISTS Sync_Errors (
  	ORGID BIGINT NOT NULL,
  	MODULE_NAME VARCHAR(100),
  	SYNCED_BY BIGINT NOT NULL,
  	CREATED_TIME BIGINT NOT NULL,
  	LAST_SYNC_TIME BIGINT NOT NULL,
  	ERROR_INFO VARCHAR(5000) NOT NULL,
	CONSTRAINT SYNC_ERRORS_FK_SYNCED_BY FOREIGN KEY (SYNCED_BY) REFERENCES ORG_Users(ORG_USERID)
  );

  CREATE TABLE IF NOT EXISTS DeviceDetails (
    ID bigint(20) NOT NULL AUTO_INCREMENT,
    ORGID bigint(20) NOT NULL,
    DEVICE_NAME varchar(30) DEFAULT NULL,
    DEVICE_ID varchar(30) NOT NULL,
    IN_USE tinyint(4) NOT NULL,
    LAST_UPDATED_TIME bigint(20) NOT NULL,
    ALERT_FREQUENCY bigint(20) NOT NULL DEFAULT 2400000,
    LAST_ALERTED_TIME bigint(20) NOT NULL DEFAULT 0,
    PRIMARY KEY (ID)
   );

CREATE TABLE IF NOT EXISTS Workorder_cost (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	FORM_ID BIGINT,
	COST_TYPE INT(11),
	COST DOUBLE,
	TTIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	NAME VARCHAR(100),
	QUANTITY BIGINT,

	CONSTRAINT WORKORDER_COST_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WORKORDER_COST_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT WORKORDER_COST_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS Store_room_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT STORE_ROOM_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT STORE_ROOM_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT STORE_ROOM_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Store_room(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Store_room_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT STORE_ROOM_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT STORE_ROOM_ATTACHEMENTS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ID) REFERENCES Store_room (ID) ON DELETE CASCADE,
	CONSTRAINT STORE_ROOM_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

    CREATE TABLE IF NOT EXISTS Store_Room_Photos (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_STORE_ROOM BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	PHOTO_ID BIGINT NOT NULL,
	CONSTRAINT STORE_ROOM_PHOTOS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT STORE_ROOM_PHOTOS_FK_PARENT_STORE_ROOM FOREIGN KEY (PARENT_STORE_ROOM) REFERENCES Store_room (ID),
	CONSTRAINT STORE_ROOM_PHOTOS_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID)
);


CREATE TABLE IF NOT EXISTS Vendors_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	MODIFIED_TIME BIGINT,
	NOTIFY_REQUESTER BOOLEAN,

	CONSTRAINT VENDORS_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT VENDORS_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT VENDORS_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Vendors(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Vendors_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT VENDORS_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT VENDORS_ATTACHEMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Vendors (ID) ON DELETE CASCADE,
	CONSTRAINT VENDORS_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Item_Types_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT ITEM_TYPES_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_TYPES_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ITEM_TYPES_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Item_Types(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Item_Types_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT ITEM_TYPES_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_TYPES_ATTACHEMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Item_Types (ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TYPES_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

-- PRIMARY KEY (ITEM_ID, STORE_ROOM_ID),

CREATE TABLE IF NOT EXISTS Purchased_Item (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ITEM_ID BIGINT,
	UNIT_COST DOUBLE,
	QUANTITY DOUBLE,
	CURRENT_QUANTITY DOUBLE,
	COST_DATE BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	SERIAL_NUMBER VARCHAR(100),
	IS_USED BOOLEAN,
	ITEM_TYPE_ID BIGINT,

	CONSTRAINT PURCHASED_ITEM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PURCHASED_ITEM_FK_ITEM_ID FOREIGN KEY (ITEM_ID) REFERENCES Item(ID),
	CONSTRAINT PURCHASED_ITEM_FK_ITEM_TYPE_ID FOREIGN KEY (ITEM_TYPE_ID) REFERENCES Item_Types(ID) ON DELETE CASCADE
);


-- Stateflow Tables
CREATE TABLE IF NOT EXISTS StateFlow (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	DEFAULT_STATE_ID BIGINT NOT NULL,
	DEFAULT_STATE_FLOW BOOLEAN,
	DIAGRAM_JSON TEXT,
	DRAFT_PARENT_ID BIGINT,
	DRAFT BOOLEAN,
	FORM_LEVEL BOOLEAN,
	PUBLISHED_DATE BIGINT,
	CONFIG_JSON VARCHAR(1000),
	CONSTRAINT STATEFLOW_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT STATEFLOW_FK_DRAFTPARENTID FOREIGN KEY (DRAFT_PARENT_ID) REFERENCES StateFlow (ID) ON DELETE CASCADE,
	CONSTRAINT STATEFLOW_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID)
);

CREATE TABLE IF NOT EXISTS Tax
(
    ID        BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID     BIGINT,
    MODULEID  BIGINT      NOT NULL,
    NAME      VARCHAR(50) NOT NULL,
    RATE      DOUBLE,
    IS_ACTIVE BOOLEAN,
    TYPE      TINYINT     NOT NULL,
    FORM_ID   BIGINT,
    CONSTRAINT TAX_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT TAX_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Purchase_Orders
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    NAME               VARCHAR(255),
    DESCRIPTION        VARCHAR(255),
    VENDOR             BIGINT,
    STOREROOM          BIGINT,
    STATUS             TINYINT,
    TOTAL_COST         DOUBLE,
    FORM_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT(20),
    SYS_MODIFIED_TIME  BIGINT(20),
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    COMPLETED_TIME     BIGINT,
    LOCAL_ID           BIGINT(20),
    SITE_ID            BIGINT,
    TOTAL_QUANTITY     DOUBLE,
    SHIP_TO_ADDRESS_ID BIGINT(20),
    BILL_TO_ADDRESS_ID BIGINT(20),
    ORDERED_TIME       BIGINT(20),
    REQUIRED_TIME      BIGINT(20),
    REQUESTED_BY       BIGINT,
    QUANTITY_RECEIVED  DOUBLE,
    CONTRACT_ID        BIGINT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    RECEIVABLE_STATUS  TINYINT,
    SUB_TOTAL                  DOUBLE,
    TOTAL_TAX_AMOUNT           DOUBLE,
    DISCOUNT_AMOUNT            DOUBLE,
    DISCOUNT_PERCENTAGE        DOUBLE,
    TAX_ID BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT PURCHASE_ORDERS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_VENDOR FOREIGN KEY (VENDOR) REFERENCES Vendors (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_STORE_ROOM FOREIGN KEY (STOREROOM) REFERENCES Store_room (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_SHIP_TO_ADDRESS_ID FOREIGN KEY (SHIP_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_BILL_TO_ADDRESS_ID FOREIGN KEY (BILL_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
    CONSTRAINT PURCHASE_ORDERS_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_ORDERS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT PURCHASE_ORDERS_FK_CONTRACT_ID FOREIGN KEY (CONTRACT_ID) REFERENCES Contracts (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT PURCHASE_ORDERS_FK_TAX_ID FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);


CREATE TABLE IF NOT EXISTS Gate_Pass
(
    ID                     BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID                  BIGINT  NOT NULL,
    MODULEID               BIGINT  NOT NULL,
    FORM_ID                BIGINT,
    SYS_CREATED_TIME       BIGINT(20),
    SYS_MODIFIED_TIME      BIGINT(20),
    SYS_CREATED_BY         BIGINT,
    SYS_MODIFIED_BY        BIGINT,
    SYS_DELETED            TINYINT,
    SYS_DELETED_TIME       BIGINT,
    SYS_DELETED_BY         BIGINT,
    ISSUED_TIME            BIGINT,
    RETURN_TIME            BIGINT,
    ISSUED_TO              VARCHAR(100),
    ISSUED_TO_PHONE_NUMBER BIGINT,
    ISSUED_BY              BIGINT,
    IS_RETURNABLE          BOOLEAN,
    GATE_PASS_TYPE         TINYINT NOT NULL,
    LOCAL_ID               BIGINT,
    VEHICLE_NO             VARCHAR(50),
    STATUS                 TINYINT,
    PARENT_WORKORDER_ID    BIGINT,
    PARENT_PO_ID           BIGINT,
    PARENT_SHIPMENT_ID     BIGINT,
    FROM_STORE_ROOM        BIGINT,
    TO_STORE_ROOM          BIGINT,
    CONSTRAINT GATE_PASS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT GATE_PASS_FK_PARENT_WORKORDER_ID FOREIGN KEY (PARENT_WORKORDER_ID) REFERENCES Tickets (ID),
    CONSTRAINT GATE_PASS_FK_PARENT_PO_ID FOREIGN KEY (PARENT_PO_ID) REFERENCES Purchase_Orders (ID),
    CONSTRAINT GATE_PASS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT GATE_PASS_FK_FROM_STORE_ROOM FOREIGN KEY (FROM_STORE_ROOM) REFERENCES Store_room (ID),
    CONSTRAINT GATE_PASS_FK_TO_STORE_ROOM FOREIGN KEY (TO_STORE_ROOM) REFERENCES Store_room (ID),
    CONSTRAINT GATE_PASS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT GATE_PASS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT GATE_PASS_FK_SYS_ISSUED_BY FOREIGN KEY (ISSUED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT GATE_PASS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Gate_Pass_Notes
(
    ID            BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID         BIGINT,
    MODULEID      BIGINT        NOT NULL,
    CREATED_BY    BIGINT,
    CREATED_TIME  BIGINT,
    PARENT_ID     BIGINT        NOT NULL,
    TITLE         VARCHAR(50),
    BODY          VARCHAR(1000) NOT NULL,
    MODIFIED_TIME BIGINT,

    CONSTRAINT GATE_PASS_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT GATE_PASS_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT GATE_PASS_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Gate_Pass (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Gate_Pass_Attachments
(
    ID            BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID         BIGINT NOT NULL,
    MODULEID      BIGINT NOT NULL,
    PARENT_ID     BIGINT NOT NULL,
    CREATED_TIME  BIGINT NOT NULL,
    FILE_ID       BIGINT NOT NULL,
    MODIFIED_TIME BIGINT,

    CONSTRAINT GATE_PASS_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT GATE_PASS_ATTACHMENTS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ID) REFERENCES Gate_Pass (ID) ON DELETE CASCADE,
    CONSTRAINT GATE_PASS_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Inventory_Requests (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255),
	DESCRIPTION VARCHAR(255),
	STATUS TINYINT,
	FORM_ID BIGINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	LOCAL_ID BIGINT(20),
	REQUESTED_TIME BIGINT(20),
	REQUIRED_TIME BIGINT(20),
	SITE_ID BIGINT,
	REQUESTED_BY BIGINT,
	REQUESTED_FOR BIGINT,
	PARENT_ID BIGINT,
	STOREROOM BIGINT,
	MODULE_STATE BIGINT,
	STATE_FLOW_ID BIGINT,
	APPROVAL_FLOW_ID BIGINT,
    ARRPOVAL_STATE BIGINT,
	CONSTRAINT INVENTORY_REQUESTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT INVENTORY_REQUESTS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT INVENTORY_REQUESTS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT INVENTORY_REQUESTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT INVENTORY_REQUESTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
	CONSTRAINT INVENTORY_REQUESTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID),
	CONSTRAINT INVENTORY_REQUESTS_FK_STOREROOM_ID FOREIGN KEY (STOREROOM) REFERENCES Store_room(ID),
	CONSTRAINT INVENTORY_REQUESTS_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT INVENTORY_REQUESTS_FK_REQUESTED_FOR FOREIGN KEY (REQUESTED_FOR) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT INVENTORY_REQUESTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT INVENTORY_REQUESTS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow(ID),
    CONSTRAINT INVENTORY_REQUESTS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus(ID),
    CONSTRAINT INVENTORY_REQUESTS_FK_APPROVALSTATE_ID FOREIGN KEY (ARRPOVAL_STATE) REFERENCES TicketStatus (ID)
	
);

CREATE TABLE IF NOT EXISTS Inventory_Request_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_INVENTORY_REQUEST BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Inventory_Request_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Inventory_Request_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Inventory_Request_ATTACHEMENTS_FK_PARENT_INVENTORY_REQUEST FOREIGN KEY (PARENT_INVENTORY_REQUEST) REFERENCES Inventory_Requests (ID)

);

CREATE TABLE IF NOT EXISTS Inventory_Request_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Inventory_Request_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Inventory_Request_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Inventory_Request_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES Inventory_Requests (ID)
);




CREATE TABLE IF NOT EXISTS InventoryRequestLineItems (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	INVENTORY_REQUEST_ID BIGINT NOT NULL,
	INVENTORY_TYPE TINYINT NOT NULL,
	ITEM_TYPE BIGINT,
	TOOL_TYPE BIGINT,
	QUANTITY DOUBLE,
	USED_QUANTITY DOUBLE,
	ISSUED_QUANTITY DOUBLE,
	PARENT_ID BIGINT,
	STATUS TINYINT,
	ASSET BIGINT,
	STOREROOM BIGINT,
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_STOREROOM_ID FOREIGN KEY (STOREROOM) REFERENCES Store_room(ID),
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_PR FOREIGN KEY (INVENTORY_REQUEST_ID) REFERENCES Inventory_Requests (ID) ON DELETE CASCADE,
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_ITEM_TYPE FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID),
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_TOOL_TYPE FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID),
	CONSTRAINT INVENTORYREQUESTLINEITEMS_FK_ASSET_ID FOREIGN KEY (ASSET) REFERENCES Assets (ID)
);



CREATE TABLE IF NOT EXISTS Shipment (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	TRANFERRED_BY BIGINT,
	RECEIVED_BY BIGINT,
	STATUS TINYINT,
	FROM_STORE BIGINT,
	TO_STORE BIGINT,
	LOCAL_ID BIGINT(20),
	SYS_DELETED TINYINT,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT SHIPMENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIPMENT_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_FK_TRANFERRED_BY FOREIGN KEY (TRANFERRED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_FK_RECEIVED_BY FOREIGN KEY (RECEIVED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_FK_FROM_STORE FOREIGN KEY (FROM_STORE) REFERENCES Store_room(ID),
	CONSTRAINT SHIPMENT_FK_TO_STORE FOREIGN KEY (TO_STORE) REFERENCES Store_room(ID),
	CONSTRAINT SHIPMENT_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Shipment_line_item (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SHIPMENT_ID BIGINT,
	INVENTORY_TYPE TINYINT NOT NULL,
	ITEM_TYPE BIGINT,
	TOOL_TYPE BIGINT,
	QUANTITY DOUBLE,

	UNIT_PRICE DOUBLE,
	RATE_PER_HOUR DOUBLE,
	ASSET BIGINT,

	CONSTRAINT SHIPMENT_LINE_ITEM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_SYS_SHIPMENT_ID FOREIGN KEY (SHIPMENT_ID) REFERENCES Shipment(ID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_SYS_ITEM_TYPE FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_SYS_TOOL_TYPE FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID),
	CONSTRAINT SHIPMENT_LINE_ITEM_FK_ASSET FOREIGN KEY (ASSET) REFERENCES Assets(ID)

);

CREATE TABLE IF NOT EXISTS Shipment_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT SHIPMENT_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIPMENT_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SHIPMENT_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Shipment(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Shipment_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT SHIPMENT_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIPMENT_ATTACHMENTS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ID) REFERENCES Shipment (ID) ON DELETE CASCADE,
	CONSTRAINT SHIPMENT_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);


CREATE TABLE IF NOT EXISTS Item_Transactions (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PURCHASED_ITEM_ID BIGINT,
	ITEM_ID BIGINT NOT NULL,
	STORE_ROOM_ID BIGINT,
	QUANTITY DOUBLE NOT NULL,
	TRANSACTION_TYPE INT,
	TRANSACTION_STATE INT,
	IS_RETURNABLE BOOLEAN,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT NOT NULL,
	PARENT_TRANSACTION_ID BIGINT,
	ITEM_TYPE_ID BIGINT,
	REMAINING_QUANTITY DOUBLE,
	ISSUED_TO BIGINT,
	APPROVED_STATE INT,
	WO_ID BIGINT,
	SHIPMENT_ID BIGINT,
	GATE_PASS_ID BIGINT,
	ASSET_ID BIGINT,
	REQUESTED_LINEITEM BIGINT,
	TRANSACTION_COST DOUBLE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_REQUESTED_LINEITEM FOREIGN KEY (REQUESTED_LINEITEM) REFERENCES InventoryRequestLineItems(ID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_PURCHASED_ITEM_ID FOREIGN KEY (PURCHASED_ITEM_ID) REFERENCES Purchased_Item(ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_REQUESTED_ITEM_ID FOREIGN KEY (REQUESTED_LINEITEM) REFERENCES InventoryRequestLineItems(ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_ITEM_ID FOREIGN KEY (ITEM_ID) REFERENCES Item(ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_ITEM_TYPE_ID FOREIGN KEY (ITEM_TYPE_ID) REFERENCES Item_Types(ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_ISSUED_TO FOREIGN KEY (ISSUED_TO) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_WO_ID FOREIGN KEY (WO_ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT ITEM_TRANSACTIONS_FK_GATE_PASS FOREIGN KEY (GATE_PASS_ID) REFERENCES Gate_Pass (ID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_SHIPMENT_ID FOREIGN KEY (SHIPMENT_ID) REFERENCES Shipment (ID),
	CONSTRAINT ITEM_TRANSACTIONS_FK_STOREROOM_ID FOREIGN KEY (STORE_ROOM_ID) REFERENCES Store_room (ID)
	

);

CREATE TABLE IF NOT EXISTS Workorder_items (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	COST DOUBLE,
	CONSTRAINT WORKORDER_ITEMS_FK_ID FOREIGN KEY (ID) REFERENCES Item_Transactions(ID) ON DELETE CASCADE,
	CONSTRAINT WORKORDER_ITEMS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ITEM_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT NOT NULL,
	MODIFIED_BY BIGINT NOT NULL,
	ACTIVITY_TYPE INT NOT NULL,
	INFO VARCHAR(5000),
	CREATED_TIME BIGINT NOT NULL,

	CONSTRAINT Inventory_Activity_FK_INVENTORY_ID FOREIGN KEY (ITEM_ID) REFERENCES Item(ID) ON DELETE CASCADE,
	CONSTRAINT Inventory_Activity_FK_MODIFIED_BY FOREIGN KEY (MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Tool_types_category (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DISPLAY_NAME VARCHAR(50),
	DESCRIPTION VARCHAR(500),
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT TOOL_TYPES_CATEGORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Purchased_Tool (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	TOOL_ID BIGINT,
	RATE DOUBLE,
	COST_DATE BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,
	SERIAL_NUMBER VARCHAR(100),
	IS_USED BOOLEAN,
	TOOL_TYPE_ID BIGINT,

	CONSTRAINT PURCHASED_TOOL_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT PURCHASED_TOOL_FK_ITEM_ID FOREIGN KEY (TOOL_ID) REFERENCES Tool(ID),
	CONSTRAINT PURCHASED_TOOL_FK_TOOL_TYPE_ID FOREIGN KEY (TOOL_TYPE_ID) REFERENCES Tool_types(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Tool_types_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT TOOL_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOL_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TOOL_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tool_types(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Tool_types_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	MODIFIED_TIME BIGINT,

	CONSTRAINT TOOL_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOL_ATTACHEMENTS_FK_PARENT_ASSET FOREIGN KEY (PARENT_ID) REFERENCES Tool_types (ID) ON DELETE CASCADE,
	CONSTRAINT TOOL_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Tool_transactions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	TOOL BIGINT NOT NULL,
	STORE_ROOM_ID BIGINT,
	QUANTITY DOUBLE NOT NULL,
	TRANSACTION_TYPE INT,
	TRANSACTION_STATE INT,
	PARENT_ID BIGINT NOT NULL,
	PARENT_TRANSACTION_ID BIGINT,
	CREATED_TIME BIGINT NOT NULL,
	MODIFIED_TIME BIGINT NOT NULL,
	PURCHASED_TOOL_ID BIGINT,
	TOOL_TYPE_ID BIGINT,
	REMAINING_QUANTITY DOUBLE,
	ISSUED_TO BIGINT,
	APPROVED_STATE INT,
	WO_ID BIGINT,
	GATE_PASS_ID BIGINT,
	ASSET_ID BIGINT,
	REQUESTED_LINEITEM BIGINT,
	SHIPMENT_ID BIGINT,
	TRANSACTION_COST DOUBLE,
    CONSTRAINT TOOL_TRANSACTIONS_FK_REQUESTED_LINEITEM FOREIGN KEY (REQUESTED_LINEITEM) REFERENCES InventoryRequestLineItems(ID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_TOOL FOREIGN KEY (TOOL) REFERENCES Tool(ID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_PURCHASED_TOOL_ID FOREIGN KEY (PURCHASED_TOOL_ID) REFERENCES Purchased_Tool(ID) ON DELETE CASCADE,
	CONSTRAINT TOOL_TRANSACTIONS_FK_REQUESTED_TOOL_ID FOREIGN KEY (REQUESTED_LINEITEM) REFERENCES InventoryRequestLineItems(ID) ON DELETE CASCADE,
	CONSTRAINT TOOL_TRANSACTIONS_FK_TOOL_TYPE_ID FOREIGN KEY (TOOL_TYPE_ID) REFERENCES Tool_types(ID) ON DELETE CASCADE,
	CONSTRAINT TOOL_TRANSACTIONS_FK_ISSUED_TO FOREIGN KEY (ISSUED_TO) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_WO_ID FOREIGN KEY (WO_ID) REFERENCES Tickets(ID) ON DELETE CASCADE,
	CONSTRAINT TOOL_TRANSACTIONS_FK_GATE_PASS FOREIGN KEY (GATE_PASS_ID) REFERENCES Gate_Pass (ID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_SHIPMENT_ID FOREIGN KEY (SHIPMENT_ID) REFERENCES Shipment (ID),
	CONSTRAINT TOOL_TRANSACTIONS_FK_STOREROOM_ID FOREIGN KEY (STORE_ROOM_ID) REFERENCES Store_room (ID)

);

CREATE TABLE IF NOT EXISTS Workorder_tools (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ISSUE_TIME BIGINT,
	RETURN_TIME BIGINT,
	DURATION DOUBLE,
	COST DOUBLE,
	CONSTRAINT WORKORDER_TOOLS_FK_ID FOREIGN KEY (ID) REFERENCES Tool_transactions(ID) ON DELETE CASCADE,
	CONSTRAINT WORKORDER_TOOLS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Item_vendors (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ITEM_TYPES_ID BIGINT,
	VENDOR_ID BIGINT,
	ORDERING_UNIT INT,
	PRICE DOUBLE,
	DATE_ORDERED BIGINT,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,

	CONSTRAINT ITEM_VENDORS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_VENDORS_FK_ITEM_TYPES_ID FOREIGN KEY (ITEM_TYPES_ID) REFERENCES Item_Types(ID),
	CONSTRAINT ITEM_VENDORS_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID)
);


CREATE TABLE IF NOT EXISTS Tool_vendors (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	TOOL_TYPES_ID BIGINT,
	VENDOR_ID BIGINT,
	ORDERING_UNIT INT,
	PRICE DOUBLE,
	DATE_ORDERED BIGINT,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,

	CONSTRAINT TOOL_VENDORS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOL_VENDORS_FK_TOOL_TYPES_ID FOREIGN KEY (TOOL_TYPES_ID) REFERENCES Tool_types(ID),
	CONSTRAINT TOOL_VENDORS_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID)
);

CREATE TABLE IF NOT EXISTS Labour (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255),
	PHONE BIGINT,
	EMAIL VARCHAR(255),
	LOCATION_ID BIGINT(20),
	COST DOUBLE,
	UNIT TINYINT,
	USER_ID BIGINT,
	AVAILABILITY TINYINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	LOCAL_ID BIGINT(20),
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT LABOUR_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT LABOUR_FK_USER_ID FOREIGN KEY (USER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT LABOUR_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT LABOUR_FK_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES Locations(ID),
  	CONSTRAINT LABOUR_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
  	CONSTRAINT LABOUR_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Workorder_labour (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
    START_TIME BIGINT,
	END_TIME BIGINT,
	DURATION DOUBLE,
	COST DOUBLE,
	PARENT_ID BIGINT,
	PARENT_WO BIGINT,
	LABOUR BIGINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_DELETED TINYINT,
	SYS_DELETED_BY BIGINT,
	SYS_DELETED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	CONSTRAINT WORKORDER_LABOUR_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WORKORDER_LABOUR_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID),
	CONSTRAINT WORKORDER_LABOUR_FK_PARENT_WO FOREIGN KEY (PARENT_WO) REFERENCES Tickets(ID),
	CONSTRAINT WORKORDER_LABOUR_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKORDER_LABOUR_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
	CONSTRAINT WORKORDER_LABOUR_FK_LABOUR FOREIGN KEY (LABOUR) REFERENCES Labour(ID)
);



-- Triggers
DELIMITER $$

CREATE TRIGGER generateBaseSpaceLocalId BEFORE INSERT
ON BaseSpace FOR EACH ROW
BEGIN
DECLARE MAX_LOCAL_ID INT;
SELECT COALESCE(MAX(LOCAL_ID),0) INTO MAX_LOCAL_ID FROM BaseSpace WHERE ORGID = NEW.ORGID AND SPACE_TYPE = NEW.SPACE_TYPE;
SET NEW.LOCAL_ID = MAX_LOCAL_ID + 1;
END; $$

-- CREATE TRIGGER incrementTicketNoteCount AFTER INSERT
-- ON Ticket_Notes FOR EACH ROW
-- BEGIN
-- UPDATE Tickets SET NO_OF_NOTES = COALESCE(NO_OF_NOTES,0)+1 WHERE ID = NEW.PARENT_ID;
-- END; $$

-- CREATE TRIGGER decrementTicketNoteCount AFTER DELETE
-- ON Ticket_Notes FOR EACH ROW
-- BEGIN
-- UPDATE Tickets SET NO_OF_NOTES = NO_OF_NOTES-1 WHERE ID = OLD.PARENT_ID;
-- END; $$

-- CREATE TRIGGER incrementTicketAttachmentCount AFTER INSERT
-- ON Ticket_Attachments FOR EACH ROW
-- BEGIN
-- UPDATE Tickets SET NO_OF_ATTACHMENTS = COALESCE(NO_OF_ATTACHMENTS,0)+1 WHERE ID = NEW.PARENT_TICKET;
-- END; $$

-- CREATE TRIGGER ticketAttachmentCascadeDelete BEFORE DELETE
-- ON FacilioFile FOR EACH ROW
-- BEGIN
-- DELETE FROM Ticket_Attachments WHERE FILE_ID = OLD.FILE_ID;
-- END; $$

-- CREATE TRIGGER decrementTicketAttachmentCount AFTER DELETE
-- ON Ticket_Attachments FOR EACH ROW
-- BEGIN
-- UPDATE Tickets SET NO_OF_ATTACHMENTS = NO_OF_ATTACHMENTS-1 WHERE ID = OLD.PARENT_TICKET;
-- END; $$

-- CREATE TRIGGER incrementTaskAttachmentCount AFTER INSERT
-- ON Task_Attachments FOR EACH ROW
-- BEGIN
-- UPDATE Tasks SET NO_OF_ATTACHMENTS = COALESCE(NO_OF_ATTACHMENTS,0)+1 WHERE ID = NEW.PARENT_ID;
-- END; $$

-- CREATE TRIGGER decrementTaskAttachmentCount AFTER DELETE
-- ON Task_Attachments FOR EACH ROW
-- BEGIN
-- UPDATE Tasks SET NO_OF_ATTACHMENTS = NO_OF_ATTACHMENTS-1 WHERE ID = OLD.PARENT_ID;
-- END; $$

-- CREATE TRIGGER incrementTaskCount AFTER INSERT
-- ON Tasks FOR EACH ROW
-- BEGIN
-- DECLARE TICKET_STATUS_TYPE TINYINT;
-- UPDATE Tickets SET NO_OF_TASKS = COALESCE(NO_OF_TASKS,0)+1 WHERE ID = NEW.PARENT_TICKET_ID;
-- SELECT STATUS_TYPE INTO TICKET_STATUS_TYPE FROM TicketStatus INNER JOIN Tickets ON TicketStatus.ID = Tickets.STATUS_ID WHERE Tickets.ID = NEW.ID;
-- IF TICKET_STATUS_TYPE = 2 THEN
-- UPDATE Tickets SET NO_OF_CLOSED_TASKS = COALESCE(NO_OF_CLOSED_TASKS,0)+1 WHERE ID = NEW.PARENT_TICKET_ID;
-- END IF;
-- END; $$

-- CREATE TRIGGER decrementTaskCount AFTER DELETE
-- ON Tasks FOR EACH ROW
-- BEGIN
-- DECLARE TICKET_STATUS_TYPE TINYINT;
-- UPDATE Tickets SET NO_OF_TASKS = NO_OF_TASKS-1 WHERE ID = OLD.PARENT_TICKET_ID;
-- SELECT STATUS_TYPE INTO TICKET_STATUS_TYPE FROM TicketStatus INNER JOIN Tickets ON TicketStatus.ID = Tickets.STATUS_ID WHERE Tickets.ID = OLD.ID;
-- IF TICKET_STATUS_TYPE = 2 THEN
-- UPDATE Tickets SET NO_OF_CLOSED_TASKS = NO_OF_CLOSED_TASKS-1 WHERE ID = OLD.PARENT_TICKET_ID;
-- END IF;
-- END; $$

CREATE TRIGGER generateCustomViewOrder BEFORE INSERT
ON Views FOR EACH ROW
BEGIN
DECLARE MAX_SEQUENCE_NUMBER INT;
SELECT GREATEST(COALESCE(MAX(SEQUENCE_NUMBER),1000),1000) INTO MAX_SEQUENCE_NUMBER FROM Views WHERE ORGID = NEW.ORGID AND MODULEID = NEW.MODULEID;
IF NEW.ISDEFAULT = FALSE THEN
SET NEW.SEQUENCE_NUMBER = MAX_SEQUENCE_NUMBER + 1;
END IF;
END; $$

CREATE TRIGGER generateTaskSequence BEFORE INSERT
ON Tasks FOR EACH ROW
BEGIN
DECLARE MAX_SEQUENCE_NUMBER INT;
IF NEW.SECTION_ID IS NULL THEN
SELECT COALESCE(MAX(SEQUENCE),0) INTO MAX_SEQUENCE_NUMBER FROM Tasks WHERE ORGID = NEW.ORGID AND SECTION_ID = NEW.SECTION_ID;
SET NEW.SEQUENCE = MAX_SEQUENCE_NUMBER + 1;
END IF;
END; $$

DELIMITER ;

-- Create Event console
CREATE TABLE IF NOT EXISTS Event_Property (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	IS_EVENT_ENABLED BOOLEAN,
	EVENTS_TOPIC_NAME VARCHAR(50)
);

CREATE TABLE IF NOT EXISTS Event_Rule (
	EVENT_RULE_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	RULE_ORDER INT NOT NULL,
	BASE_CRITERIAID BIGINT NOT NULL,
	IGNORE_EVENT BOOLEAN,
	TRANSFORM_CRITERIAID BIGINT,
	TRANSFORM_ALARM_TEMPLATE_ID BIGINT,
	THRESHOLD_CRITERIAID BIGINT,
	THRESHOLD_OCCURS INT,
	THRESHOLD_OVER_SECONDS INT,
	CO_REL_WORKFLOW_ID BIGINT,
	CO_REL_ACTION TINYINT,
	CO_REL_TRANSFORM_TEMPLATE_ID BIGINT,
	CONSTRAINT EVENT_RULE_BASE_CRITERIAID_FK FOREIGN KEY (BASE_CRITERIAID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT EVENT_RULE_TRANSFORM_CRITERIAID_FK FOREIGN KEY (TRANSFORM_CRITERIAID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT EVENT_RULE_THRESHOLD_CRITERIAID_FK FOREIGN KEY (THRESHOLD_CRITERIAID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT EVENT_RULE_TRANSFORM_TEMPLATE_ID_FK FOREIGN KEY (TRANSFORM_ALARM_TEMPLATE_ID) REFERENCES JSON_Template(ID),
	CONSTRAINT EVENT_RULE_CO_REL_TRANSFORM_TEMPLATE_ID_FK FOREIGN KEY (CO_REL_TRANSFORM_TEMPLATE_ID) REFERENCES JSON_Template(ID),
	CONSTRAINT EVENT_RULE_CO_REL_WORKFLOW_ID_FK FOREIGN KEY (CO_REL_WORKFLOW_ID) REFERENCES Workflow(ID)
);

CREATE TABLE IF NOT EXISTS Event_Rules (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NOT NULL,
	DESCRIPTION VARCHAR(1000),
	CRITERIA_ID BIGINT,
	WORKFLOW_ID BIGINT,
	EXECUTION_ORDER INT NOT NULL,
	SUCCESS_ACTION TINYINT NOT NULL,
	TRANSFORM_TEMPLATE_ID BIGINT,
	IS_ACTIVE BOOLEAN,
	CONSTRAINT EVENT_RULES_FK_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT EVENT_RULES_FK_WORKFLOW_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow(ID),
	CONSTRAINT EVENT_RULES_FK_TRANSFORM_TEMPLATE_ID FOREIGN KEY (TRANSFORM_TEMPLATE_ID) REFERENCES Templates(ID)
);

CREATE TABLE IF NOT EXISTS Event (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	EVENT_CONDITION VARCHAR(500),
	SOURCE VARCHAR(100),
	RESOURCE_ID BIGINT,
	EVENT_MESSAGE VARCHAR(500),
	MESSAGE_KEY VARCHAR(1000),
	SEVERITY VARCHAR(100),
	CREATED_TIME BIGINT,
	EVENT_STATE TINYINT,
	INTERNAL_STATE TINYINT,
	EVENT_RULE_ID BIGINT,
	ALARM_ID BIGINT,
	PRIORITY VARCHAR(100),
	ALARM_CLASS VARCHAR(100),
	STATE VARCHAR(100),
	DESCRIPTION VARCHAR(1000),
	COMMENT VARCHAR(1000),
	ADDITIONAL_INFO VARCHAR(5000),
	CONTROLLER_ID BIGINT,
	SUB_RULE_ID BIGINT,
	ALARM_RULE_ENTITY_ID BIGINT,
	CONSTRAINT EVENT_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT EVENT_FK_ALARM_ID FOREIGN KEY (ALARM_ID) REFERENCES Alarms(ID) ON DELETE SET NULL,
	CONSTRAINT EVENT_FK_EVENT_RULE_ID FOREIGN KEY (EVENT_RULE_ID) REFERENCES Event_Rule(EVENT_RULE_ID),
	CONSTRAINT EVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT EVENT_FK_RULE_ID FOREIGN KEY (SUB_RULE_ID) REFERENCES Reading_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT EVENT_FK_ALARM_RULE_ENTITY_ID FOREIGN KEY (ALARM_RULE_ENTITY_ID) REFERENCES Workflow_Rule(ID) ON DELETE SET NULL,
	CONSTRAINT EVENT_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID)
);

# CREATE INDEX EVENT_ORGID_MESSAGE_KEY ON Event (ORGID,MESSAGE_KEY);
# CREATE INDEX EVENT_ORGID_MESSAGE_KEY_CREATED_TIME ON Event (ORGID,MESSAGE_KEY,CREATED_TIME);
CREATE INDEX EVENT_ORGID_SUB_RULE_ID ON Event (ORGID,SUB_RULE_ID);
CREATE INDEX EVENT_ORGID_SUB_RULE_ID_RESOURCE_ID ON Event (ORGID, SUB_RULE_ID, RESOURCE_ID);

CREATE TABLE IF NOT EXISTS Event_To_Alarm_Field_Mapping (
	EVENT_TO_ALARM_FIELD_MAPPING_ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TRANSFORM_TYPE TINYINT NOT NULL,
	FROM_FIELD VARCHAR(100),
	TO_FIELD VARCHAR(100),
	CONSTANT_VALUE VARCHAR(100),
	MAPPING_ORDER INT NOT NULL,
	MAPPING_PAIRS VARCHAR(1000)
);

CREATE TABLE IF NOT EXISTS Source_To_Resource_Mapping (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SOURCE VARCHAR(100),
	RESOURCE_ID BIGINT,
	CONTROLLER_ID BIGINT,
    AGENT_ID BIGINT(20),
	CONSTRAINT SOURCE_ASSET_MAPPING_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources(ID),
	CONSTRAINT SOURCE_ASSET_MAPPING_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controller (ID),
	CONSTRAINT SOURCE_ASSET_MAPPING_UNIQUE_NODE UNIQUE(ORGID, CONTROLLER_ID, SOURCE)
);

CREATE TABLE IF NOT EXISTS Notification_Logger (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NOTIFICATION_TYPE TINYINT NOT NULL,
	TO_ADDR VARCHAR(200) NOT NULL,
	INFO VARCHAR(5000),
	THREAD_NAME  VARCHAR(200) NOT NULL,
	CREATED_TIME BIGINT NOT NULL
);


CREATE TABLE IF NOT EXISTS Purchase_Requests
(
    ID                  BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID               BIGINT NOT NULL,
    MODULEID            BIGINT NOT NULL,
    NAME                VARCHAR(255),
    DESCRIPTION         VARCHAR(255),
    VENDOR              BIGINT,
    STOREROOM           BIGINT,
    STATUS              TINYINT,
    TOTAL_COST          DOUBLE,
    FORM_ID             BIGINT,
    SYS_CREATED_TIME    BIGINT(20),
    SYS_MODIFIED_TIME   BIGINT(20),
    SYS_CREATED_BY      BIGINT,
    SYS_MODIFIED_BY     BIGINT,
    SYS_DELETED         TINYINT,
    SYS_DELETED_TIME    BIGINT,
    SYS_DELETED_BY      BIGINT,
    LOCAL_ID            BIGINT(20),
    PURCHASE_ORDER_ID   BIGINT(20),
    SHIP_TO_ADDRESS_ID  BIGINT(20),
    BILL_TO_ADDRESS_ID  BIGINT(20),
    REQUESTED_TIME      BIGINT(20),
    REQUIRED_TIME       BIGINT(20),
    SITE_ID             BIGINT,
    REQUESTED_BY        BIGINT,
    MODULE_STATE        BIGINT,
    STATE_FLOW_ID       BIGINT,
    APPROVAL_FLOW_ID    BIGINT,
    APPROVAL_STATE      BIGINT,
    PO_CREATED          TINYINT,
    SUB_TOTAL           DOUBLE,
    TOTAL_TAX_AMOUNT    DOUBLE,
    DISCOUNT_AMOUNT     DOUBLE,
    DISCOUNT_PERCENTAGE DOUBLE,
    TAX_ID              BIGINT,
    STRING_CF1          VARCHAR(255),
    STRING_CF2          VARCHAR(255),
    STRING_CF3          VARCHAR(255),
    STRING_CF4          VARCHAR(255),
    STRING_CF5          VARCHAR(255),
    STRING_CF6          VARCHAR(255),
    STRING_CF7          VARCHAR(255),
    STRING_CF8          VARCHAR(255),
    STRING_CF9          VARCHAR(255),
    STRING_CF10         VARCHAR(255),
    STRING_CF11         VARCHAR(255),
    STRING_CF12         VARCHAR(255),
    STRING_CF13         VARCHAR(255),
    STRING_CF14         VARCHAR(255),
    STRING_CF15         VARCHAR(255),
    STRING_CF16         VARCHAR(255),
    STRING_CF17         VARCHAR(255),
    STRING_CF18         VARCHAR(255),
    STRING_CF19         VARCHAR(255),
    STRING_CF20         VARCHAR(255),
    STRING_CF21         VARCHAR(255),
    STRING_CF22         VARCHAR(255),
    STRING_CF23         VARCHAR(255),
    STRING_CF24         VARCHAR(255),
    STRING_CF25         VARCHAR(255),
    STRING_CF26         VARCHAR(255),
    STRING_CF27         VARCHAR(255),
    STRING_CF28         VARCHAR(255),
    STRING_CF29         VARCHAR(255),
    STRING_CF30         VARCHAR(255),
    NUMBER_CF1          BIGINT,
    NUMBER_CF2          BIGINT,
    NUMBER_CF3          BIGINT,
    NUMBER_CF4          BIGINT,
    NUMBER_CF5          BIGINT,
    NUMBER_CF6          BIGINT,
    NUMBER_CF7          BIGINT,
    NUMBER_CF8          BIGINT,
    NUMBER_CF9          BIGINT,
    NUMBER_CF10         BIGINT,
    NUMBER_CF11         BIGINT,
    NUMBER_CF12         BIGINT,
    NUMBER_CF13         BIGINT,
    NUMBER_CF14         BIGINT,
    NUMBER_CF15         BIGINT,
    NUMBER_CF16         BIGINT,
    NUMBER_CF17         BIGINT,
    NUMBER_CF18         BIGINT,
    NUMBER_CF19         BIGINT,
    NUMBER_CF20         BIGINT,
    NUMBER_CF21         BIGINT,
    NUMBER_CF22         BIGINT,
    NUMBER_CF23         BIGINT,
    NUMBER_CF24         BIGINT,
    NUMBER_CF25         BIGINT,
    NUMBER_CF26         BIGINT,
    NUMBER_CF27         BIGINT,
    NUMBER_CF28         BIGINT,
    NUMBER_CF29         BIGINT,
    NUMBER_CF30         BIGINT,
    DECIMAL_CF1         DOUBLE,
    DECIMAL_CF2         DOUBLE,
    DECIMAL_CF3         DOUBLE,
    DECIMAL_CF4         DOUBLE,
    DECIMAL_CF5         DOUBLE,
    DECIMAL_CF6         DOUBLE,
    DECIMAL_CF7         DOUBLE,
    DECIMAL_CF8         DOUBLE,
    DECIMAL_CF9         DOUBLE,
    DECIMAL_CF10        DOUBLE,
    DECIMAL_CF11        DOUBLE,
    DECIMAL_CF12        DOUBLE,
    DECIMAL_CF13        DOUBLE,
    DECIMAL_CF14        DOUBLE,
    DECIMAL_CF15        DOUBLE,
    DECIMAL_CF16        DOUBLE,
    DECIMAL_CF17        DOUBLE,
    DECIMAL_CF18        DOUBLE,
    DECIMAL_CF19        DOUBLE,
    DECIMAL_CF20        DOUBLE,
    DECIMAL_CF21        DOUBLE,
    DECIMAL_CF22        DOUBLE,
    DECIMAL_CF23        DOUBLE,
    DECIMAL_CF24        DOUBLE,
    DECIMAL_CF25        DOUBLE,
    DECIMAL_CF26        DOUBLE,
    DECIMAL_CF27        DOUBLE,
    DECIMAL_CF28        DOUBLE,
    DECIMAL_CF29        DOUBLE,
    DECIMAL_CF30        DOUBLE,
    BOOLEAN_CF1         BOOLEAN,
    BOOLEAN_CF2         BOOLEAN,
    BOOLEAN_CF3         BOOLEAN,
    BOOLEAN_CF4         BOOLEAN,
    BOOLEAN_CF5         BOOLEAN,
    BOOLEAN_CF6         BOOLEAN,
    BOOLEAN_CF7         BOOLEAN,
    BOOLEAN_CF8         BOOLEAN,
    BOOLEAN_CF9         BOOLEAN,
    BOOLEAN_CF10        BOOLEAN,
    BOOLEAN_CF11        BOOLEAN,
    BOOLEAN_CF12        BOOLEAN,
    BOOLEAN_CF13        BOOLEAN,
    BOOLEAN_CF14        BOOLEAN,
    BOOLEAN_CF15        BOOLEAN,
    BOOLEAN_CF16        BOOLEAN,
    BOOLEAN_CF17        BOOLEAN,
    BOOLEAN_CF18        BOOLEAN,
    BOOLEAN_CF19        BOOLEAN,
    BOOLEAN_CF20        BOOLEAN,
    BOOLEAN_CF21        BOOLEAN,
    BOOLEAN_CF22        BOOLEAN,
    BOOLEAN_CF23        BOOLEAN,
    BOOLEAN_CF24        BOOLEAN,
    BOOLEAN_CF25        BOOLEAN,
    BOOLEAN_CF26        BOOLEAN,
    BOOLEAN_CF27        BOOLEAN,
    BOOLEAN_CF28        BOOLEAN,
    BOOLEAN_CF29        BOOLEAN,
    BOOLEAN_CF30        BOOLEAN,
    DATE_CF1            BIGINT,
    DATE_CF2            BIGINT,
    DATE_CF3            BIGINT,
    DATE_CF4            BIGINT,
    DATE_CF5            BIGINT,
    DATE_CF6            BIGINT,
    DATE_CF7            BIGINT,
    DATE_CF8            BIGINT,
    DATE_CF9            BIGINT,
    DATE_CF10           BIGINT,
    DATE_CF11           BIGINT,
    DATE_CF12           BIGINT,
    DATE_CF13           BIGINT,
    DATE_CF14           BIGINT,
    DATE_CF15           BIGINT,
    DATE_CF16           BIGINT,
    DATE_CF17           BIGINT,
    DATE_CF18           BIGINT,
    DATE_CF19           BIGINT,
    DATE_CF20           BIGINT,
    DATE_CF21           BIGINT,
    DATE_CF22           BIGINT,
    DATE_CF23           BIGINT,
    DATE_CF24           BIGINT,
    DATE_CF25           BIGINT,
    DATE_CF26           BIGINT,
    DATE_CF27           BIGINT,
    DATE_CF28           BIGINT,
    DATE_CF29           BIGINT,
    DATE_CF30           BIGINT,
    DATETIME_CF1        BIGINT,
    DATETIME_CF2        BIGINT,
    DATETIME_CF3        BIGINT,
    DATETIME_CF4        BIGINT,
    DATETIME_CF5        BIGINT,
    DATETIME_CF6        BIGINT,
    DATETIME_CF7        BIGINT,
    DATETIME_CF8        BIGINT,
    DATETIME_CF9        BIGINT,
    DATETIME_CF10       BIGINT,
    DATETIME_CF11       BIGINT,
    DATETIME_CF12       BIGINT,
    DATETIME_CF13       BIGINT,
    DATETIME_CF14       BIGINT,
    DATETIME_CF15       BIGINT,
    DATETIME_CF16       BIGINT,
    DATETIME_CF17       BIGINT,
    DATETIME_CF18       BIGINT,
    DATETIME_CF19       BIGINT,
    DATETIME_CF20       BIGINT,
    DATETIME_CF21       BIGINT,
    DATETIME_CF22       BIGINT,
    DATETIME_CF23       BIGINT,
    DATETIME_CF24       BIGINT,
    DATETIME_CF25       BIGINT,
    DATETIME_CF26       BIGINT,
    DATETIME_CF27       BIGINT,
    DATETIME_CF28       BIGINT,
    DATETIME_CF29       BIGINT,
    DATETIME_CF30       BIGINT,
    ENUM_CF1            INTEGER,
    ENUM_CF2            INTEGER,
    ENUM_CF3            INTEGER,
    ENUM_CF4            INTEGER,
    ENUM_CF5            INTEGER,
    ENUM_CF6            INTEGER,
    ENUM_CF7            INTEGER,
    ENUM_CF8            INTEGER,
    ENUM_CF9            INTEGER,
    ENUM_CF10           INTEGER,
    ENUM_CF11           INTEGER,
    ENUM_CF12           INTEGER,
    ENUM_CF13           INTEGER,
    ENUM_CF14           INTEGER,
    ENUM_CF15           INTEGER,
    ENUM_CF16           INTEGER,
    ENUM_CF17           INTEGER,
    ENUM_CF18           INTEGER,
    ENUM_CF19           INTEGER,
    ENUM_CF20           INTEGER,
    ENUM_CF21           INTEGER,
    ENUM_CF22           INTEGER,
    ENUM_CF23           INTEGER,
    ENUM_CF24           INTEGER,
    ENUM_CF25           INTEGER,
    ENUM_CF26           INTEGER,
    ENUM_CF27           INTEGER,
    ENUM_CF28           INTEGER,
    ENUM_CF29           INTEGER,
    ENUM_CF30           INTEGER,
    FILE_CF1            BIGINT,
    FILE_CF2            BIGINT,
    FILE_CF3            BIGINT,
    FILE_CF4            BIGINT,
    FILE_CF5            BIGINT,
    FILE_CF6            BIGINT,
    FILE_CF7            BIGINT,
    FILE_CF8            BIGINT,
    FILE_CF9            BIGINT,
    FILE_CF10           BIGINT,
    FILE_CF11           BIGINT,
    FILE_CF12           BIGINT,
    FILE_CF13           BIGINT,
    FILE_CF14           BIGINT,
    FILE_CF15           BIGINT,
    FILE_CF16           BIGINT,
    FILE_CF17           BIGINT,
    FILE_CF18           BIGINT,
    FILE_CF19           BIGINT,
    FILE_CF20           BIGINT,
    FILE_CF21           BIGINT,
    FILE_CF22           BIGINT,
    FILE_CF23           BIGINT,
    FILE_CF24           BIGINT,
    FILE_CF25           BIGINT,
    FILE_CF26           BIGINT,
    FILE_CF27           BIGINT,
    FILE_CF28           BIGINT,
    FILE_CF29           BIGINT,
    FILE_CF30           BIGINT,
    LOOKUP_CF1          BIGINT,
    LOOKUP_CF2          BIGINT,
    LOOKUP_CF3          BIGINT,
    LOOKUP_CF4          BIGINT,
    LOOKUP_CF5          BIGINT,
    LOOKUP_CF6          BIGINT,
    LOOKUP_CF7          BIGINT,
    LOOKUP_CF8          BIGINT,
    LOOKUP_CF9          BIGINT,
    LOOKUP_CF10         BIGINT,
    LOOKUP_CF11         BIGINT,
    LOOKUP_CF12         BIGINT,
    LOOKUP_CF13         BIGINT,
    LOOKUP_CF14         BIGINT,
    LOOKUP_CF15         BIGINT,
    LOOKUP_CF16         BIGINT,
    LOOKUP_CF17         BIGINT,
    LOOKUP_CF18         BIGINT,
    LOOKUP_CF19         BIGINT,
    LOOKUP_CF20         BIGINT,
    LOOKUP_CF21         BIGINT,
    LOOKUP_CF22         BIGINT,
    LOOKUP_CF23         BIGINT,
    LOOKUP_CF24         BIGINT,
    LOOKUP_CF25         BIGINT,
    LOOKUP_CF26         BIGINT,
    LOOKUP_CF27         BIGINT,
    LOOKUP_CF28         BIGINT,
    LOOKUP_CF29         BIGINT,
    LOOKUP_CF30         BIGINT,
    SCORE_CF1           DOUBLE,
    SCORE_CF2           DOUBLE,
    SCORE_CF3           DOUBLE,
    SCORE_CF4           DOUBLE,
    SCORE_CF5           DOUBLE,
    SCORE_CF6           DOUBLE,
    SCORE_CF7           DOUBLE,
    SCORE_CF8           DOUBLE,
    SCORE_CF9           DOUBLE,
    SCORE_CF10          DOUBLE,
    SCORE_CF11          DOUBLE,
    SCORE_CF12          DOUBLE,
    SCORE_CF13          DOUBLE,
    SCORE_CF14          DOUBLE,
    SCORE_CF15          DOUBLE,
    SCORE_CF16          DOUBLE,
    SCORE_CF17          DOUBLE,
    SCORE_CF18          DOUBLE,
    SCORE_CF19          DOUBLE,
    SCORE_CF20          DOUBLE,
    SCORE_CF21          DOUBLE,
    SCORE_CF22          DOUBLE,
    SCORE_CF23          DOUBLE,
    SCORE_CF24          DOUBLE,
    SCORE_CF25          DOUBLE,
    SCORE_CF26          DOUBLE,
    SCORE_CF27          DOUBLE,
    SCORE_CF28          DOUBLE,
    SCORE_CF29          DOUBLE,
    SCORE_CF30          DOUBLE,
    CONSTRAINT PURCHASE_REQUESTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_VENDOR FOREIGN KEY (VENDOR) REFERENCES Vendors (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_PURCHASE_ORDER_ID FOREIGN KEY (PURCHASE_ORDER_ID) REFERENCES Purchase_Orders (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_STORE_ROOM FOREIGN KEY (STOREROOM) REFERENCES Store_room (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_SHIP_TO_ADDRESS_ID FOREIGN KEY (SHIP_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_BILL_TO_ADDRESS_ID FOREIGN KEY (BILL_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_REQUESTS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_REQUESTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_REQUESTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
    CONSTRAINT PURCHASE_REQUESTS_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT PURCHASE_REQUESTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT PURCHASE_REQUESTS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT PURCHASE_REQUESTS_FK_TAX_ID FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);

CREATE TABLE IF NOT EXISTS Purchase_Request_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_PURCHASE_REQUEST BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Purchase_Request_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Purchase_Request_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Purchase_Request_ATTACHEMENTS_FK_PARENT_PURCHASE_REQUEST FOREIGN KEY (PARENT_PURCHASE_REQUEST) REFERENCES Purchase_Requests (ID)

);

CREATE TABLE IF NOT EXISTS Purchase_Request_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Purchase_Request_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Purchase_Request_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Purchase_Request_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES Purchase_Requests (ID)
);



-- Service

CREATE TABLE IF NOT EXISTS Service (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(255),
	DESCRIPTION VARCHAR(255),
	STATUS TINYINT,
	DURATION DOUBLE,
	SELLING_PRICE DOUBLE,
	BUYING_PRICE DOUBLE,
	PAYMENT_TYPE TINYINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_DELETED TINYINT,
	SYS_DELETED_BY BIGINT,
	SYS_DELETED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	LOCAL_ID BIGINT(20),
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	ENUM_CF1 INT,
	ENUM_CF2 INT,
	ENUM_CF3 INT,
	ENUM_CF4 INT,
	ENUM_CF5 INT,
	LOOKUP_CF1 BIGINT,
	LOOKUP_CF2 BIGINT,
	LOOKUP_CF3 BIGINT,
	LOOKUP_CF4 BIGINT,
	LOOKUP_CF5 BIGINT,
	CONSTRAINT SERVICE_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SERVICE_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT SERVICE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT SERVICE_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
	CONSTRAINT SERVICE_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SERVICE_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)

);

CREATE TABLE IF NOT EXISTS PurchaseRequestLineItems
(
    ID              BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID           BIGINT  NOT NULL,
    MODULEID        BIGINT  NOT NULL,
    PR_ID           BIGINT  NOT NULL,
    INVENTORY_TYPE  TINYINT NOT NULL,
    ITEM_TYPE       BIGINT,
    TOOL_TYPE       BIGINT,
    SERVICE         BIGINT,
    QUANTITY        DOUBLE,
    UNIT_PRICE      DOUBLE,
    COST            DOUBLE,
    DESCRIPTION     VARCHAR(2000),
    TAX_ID          BIGINT,
    TAX_AMOUNT      DOUBLE,
    UNIT_OF_MEASURE BIGINT,
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_PR FOREIGN KEY (PR_ID) REFERENCES Purchase_Requests (ID) ON DELETE CASCADE,
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_ITEM FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_SERVICE FOREIGN KEY (SERVICE) REFERENCES Service (ID),
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_TOOL FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID),
    CONSTRAINT PURCHASEREQUESTLINEITEMS_FK_TAX FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);


CREATE TABLE IF NOT EXISTS Purchase_Order_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_PURCHASE_ORDER BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Purchase_Order_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Purchase_Order_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Purchase_Order_ATTACHEMENTS_FK_PARENT_PURCHASE_REQUEST FOREIGN KEY (PARENT_PURCHASE_ORDER) REFERENCES Purchase_Orders (ID)

);

CREATE TABLE IF NOT EXISTS Purchase_Order_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Purchase_Order_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Purchase_Order_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Purchase_Order_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES Purchase_Orders (ID)
);

CREATE TABLE IF NOT EXISTS PurchaseOrderLineItems
(
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT  NOT NULL,
    MODULEID          BIGINT  NOT NULL,
    PO_ID             BIGINT  NOT NULL,
    INVENTORY_TYPE    TINYINT NOT NULL,
    ITEM_TYPE         BIGINT,
    TOOL_TYPE         BIGINT,
    SERVICE           BIGINT,
    QUANTITY          DOUBLE,
    UNIT_PRICE        DOUBLE,
    COST              DOUBLE,
    QUANTITY_RECEIVED DOUBLE,
    QUANTITY_USED     DOUBLE,
    DESCRIPTION       VARCHAR(2000),
    TAX_ID            BIGINT,
    TAX_AMOUNT        DOUBLE,
    UNIT_OF_MEASURE   BIGINT,
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_PO FOREIGN KEY (PO_ID) REFERENCES Purchase_Orders (ID) ON DELETE CASCADE,
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_ITEM FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_SERVICE FOREIGN KEY (SERVICE) REFERENCES Service (ID),
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_TOOL FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID),
    CONSTRAINT PURCHASEORDERLINEITEMS_FK_TAX FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);

-- CREATE TABLE IF NOT EXISTS PurchaseRequest_PurchaseOrder (
-- 	ORGID BIGINT NOT NULL,
-- 	PO_ID BIGINT NOT NULL,
-- 	PR_ID BIGINT NOT NULL,
-- 	PRIMARY KEY (PO_ID, PR_ID),
-- 	CONSTRAINT PURCHASEREQUESTS_PURCHASEORDER_FK_PO FOREIGN KEY (PO_ID) REFERENCES Purchase_Orders (ID),
-- 	CONSTRAINT PURCHASEREQUESTS_PURCHASEORDER_FK_PR FOREIGN KEY (PR_ID) REFERENCES Purchase_Requests (ID)
-- );

CREATE TABLE IF NOT EXISTS Receivables (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	PO_ID BIGINT NOT NULL,
	STATUS TINYINT NOT NULL,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	LOCAL_ID BIGINT(20),
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	REQUIRED_TIME BIGINT(20),
	CONSTRAINT RECEIVABLE_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RECEIVABLE_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIVABLE_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIVABLES_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIVABLE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT RECEIVABLE_FK_POID FOREIGN KEY (PO_ID) REFERENCES Purchase_Orders (ID),
	CONSTRAINT RECEIVABLE_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Receivables_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_RECEIVABLE BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Receivables_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Receivables_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Receivables_ATTACHEMENTS_FK_PARENT_RECEIVABLE FOREIGN KEY (PARENT_RECEIVABLE) REFERENCES Receivables (ID)

);

CREATE TABLE IF NOT EXISTS Receivables_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Receivables_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Receivables_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Receivables_NOTES_FK_PARENT_TENANT FOREIGN KEY (PARENT_ID) REFERENCES Receivables (ID)
);

CREATE TABLE IF NOT EXISTS Receipts (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	RECEIVABLE_ID BIGINT NOT NULL,
	LINE_ITEM_ID BIGINT NOT NULL,
	QUANTITY DOUBLE NOT NULL,
	STATUS TINYINT NOT NULL,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	LOCAL_ID BIGINT(20),
	RECEIPT_TIME BIGINT,
	SITE_ID BIGINT,
	FORM_ID BIGINT,
	REMARKS VARCHAR(500),
	CONSTRAINT RECEIPTS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RECEIPTS_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIPTS_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIPTS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RECEIPTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT RECEIPTS_FK_RECEIVABLEID FOREIGN KEY (RECEIVABLE_ID) REFERENCES Receivables(ID),
	CONSTRAINT RECEIPTS_FK_ITEMID FOREIGN KEY (LINE_ITEM_ID) REFERENCES PurchaseOrderLineItems(ID),
	CONSTRAINT RECEIPTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);



CREATE TABLE IF NOT EXISTS Contracts_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_CONTRACT BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT CONTRACTS_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CONTRACTS_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT CONTRACTS_ATTACHEMENTS_FK_PARENT_CONTRACT FOREIGN KEY (PARENT_CONTRACT) REFERENCES Contracts (ID)

);

CREATE TABLE IF NOT EXISTS Contracts_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT CONTRACTS_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT CONTRACTS_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT CONTRACTS_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Contracts (ID)
);

CREATE TABLE IF NOT EXISTS Purchase_Contracts
(
    ID            BIGINT PRIMARY KEY,
    ORGID         BIGINT NOT NULL,
    MODULEID      BIGINT NOT NULL,
    LOCAL_ID      BIGINT(20),
    SITE_ID       BIGINT,
    STRING_CF1    VARCHAR(255),
    STRING_CF2    VARCHAR(255),
    STRING_CF3    VARCHAR(255),
    STRING_CF4    VARCHAR(255),
    STRING_CF5    VARCHAR(255),
    STRING_CF6    VARCHAR(255),
    STRING_CF7    VARCHAR(255),
    STRING_CF8    VARCHAR(255),
    STRING_CF9    VARCHAR(255),
    STRING_CF10   VARCHAR(255),
    STRING_CF11   VARCHAR(255),
    STRING_CF12   VARCHAR(255),
    STRING_CF13   VARCHAR(255),
    STRING_CF14   VARCHAR(255),
    STRING_CF15   VARCHAR(255),
    STRING_CF16   VARCHAR(255),
    STRING_CF17   VARCHAR(255),
    STRING_CF18   VARCHAR(255),
    STRING_CF19   VARCHAR(255),
    STRING_CF20   VARCHAR(255),
    STRING_CF21   VARCHAR(255),
    STRING_CF22   VARCHAR(255),
    STRING_CF23   VARCHAR(255),
    STRING_CF24   VARCHAR(255),
    STRING_CF25   VARCHAR(255),
    STRING_CF26   VARCHAR(255),
    STRING_CF27   VARCHAR(255),
    STRING_CF28   VARCHAR(255),
    STRING_CF29   VARCHAR(255),
    STRING_CF30   VARCHAR(255),
    NUMBER_CF1    BIGINT,
    NUMBER_CF2    BIGINT,
    NUMBER_CF3    BIGINT,
    NUMBER_CF4    BIGINT,
    NUMBER_CF5    BIGINT,
    NUMBER_CF6    BIGINT,
    NUMBER_CF7    BIGINT,
    NUMBER_CF8    BIGINT,
    NUMBER_CF9    BIGINT,
    NUMBER_CF10   BIGINT,
    NUMBER_CF11   BIGINT,
    NUMBER_CF12   BIGINT,
    NUMBER_CF13   BIGINT,
    NUMBER_CF14   BIGINT,
    NUMBER_CF15   BIGINT,
    NUMBER_CF16   BIGINT,
    NUMBER_CF17   BIGINT,
    NUMBER_CF18   BIGINT,
    NUMBER_CF19   BIGINT,
    NUMBER_CF20   BIGINT,
    NUMBER_CF21   BIGINT,
    NUMBER_CF22   BIGINT,
    NUMBER_CF23   BIGINT,
    NUMBER_CF24   BIGINT,
    NUMBER_CF25   BIGINT,
    NUMBER_CF26   BIGINT,
    NUMBER_CF27   BIGINT,
    NUMBER_CF28   BIGINT,
    NUMBER_CF29   BIGINT,
    NUMBER_CF30   BIGINT,
    DECIMAL_CF1   DOUBLE,
    DECIMAL_CF2   DOUBLE,
    DECIMAL_CF3   DOUBLE,
    DECIMAL_CF4   DOUBLE,
    DECIMAL_CF5   DOUBLE,
    DECIMAL_CF6   DOUBLE,
    DECIMAL_CF7   DOUBLE,
    DECIMAL_CF8   DOUBLE,
    DECIMAL_CF9   DOUBLE,
    DECIMAL_CF10  DOUBLE,
    DECIMAL_CF11  DOUBLE,
    DECIMAL_CF12  DOUBLE,
    DECIMAL_CF13  DOUBLE,
    DECIMAL_CF14  DOUBLE,
    DECIMAL_CF15  DOUBLE,
    DECIMAL_CF16  DOUBLE,
    DECIMAL_CF17  DOUBLE,
    DECIMAL_CF18  DOUBLE,
    DECIMAL_CF19  DOUBLE,
    DECIMAL_CF20  DOUBLE,
    DECIMAL_CF21  DOUBLE,
    DECIMAL_CF22  DOUBLE,
    DECIMAL_CF23  DOUBLE,
    DECIMAL_CF24  DOUBLE,
    DECIMAL_CF25  DOUBLE,
    DECIMAL_CF26  DOUBLE,
    DECIMAL_CF27  DOUBLE,
    DECIMAL_CF28  DOUBLE,
    DECIMAL_CF29  DOUBLE,
    DECIMAL_CF30  DOUBLE,
    BOOLEAN_CF1   BOOLEAN,
    BOOLEAN_CF2   BOOLEAN,
    BOOLEAN_CF3   BOOLEAN,
    BOOLEAN_CF4   BOOLEAN,
    BOOLEAN_CF5   BOOLEAN,
    BOOLEAN_CF6   BOOLEAN,
    BOOLEAN_CF7   BOOLEAN,
    BOOLEAN_CF8   BOOLEAN,
    BOOLEAN_CF9   BOOLEAN,
    BOOLEAN_CF10  BOOLEAN,
    BOOLEAN_CF11  BOOLEAN,
    BOOLEAN_CF12  BOOLEAN,
    BOOLEAN_CF13  BOOLEAN,
    BOOLEAN_CF14  BOOLEAN,
    BOOLEAN_CF15  BOOLEAN,
    BOOLEAN_CF16  BOOLEAN,
    BOOLEAN_CF17  BOOLEAN,
    BOOLEAN_CF18  BOOLEAN,
    BOOLEAN_CF19  BOOLEAN,
    BOOLEAN_CF20  BOOLEAN,
    BOOLEAN_CF21  BOOLEAN,
    BOOLEAN_CF22  BOOLEAN,
    BOOLEAN_CF23  BOOLEAN,
    BOOLEAN_CF24  BOOLEAN,
    BOOLEAN_CF25  BOOLEAN,
    BOOLEAN_CF26  BOOLEAN,
    BOOLEAN_CF27  BOOLEAN,
    BOOLEAN_CF28  BOOLEAN,
    BOOLEAN_CF29  BOOLEAN,
    BOOLEAN_CF30  BOOLEAN,
    DATE_CF1      BIGINT,
    DATE_CF2      BIGINT,
    DATE_CF3      BIGINT,
    DATE_CF4      BIGINT,
    DATE_CF5      BIGINT,
    DATE_CF6      BIGINT,
    DATE_CF7      BIGINT,
    DATE_CF8      BIGINT,
    DATE_CF9      BIGINT,
    DATE_CF10     BIGINT,
    DATE_CF11     BIGINT,
    DATE_CF12     BIGINT,
    DATE_CF13     BIGINT,
    DATE_CF14     BIGINT,
    DATE_CF15     BIGINT,
    DATE_CF16     BIGINT,
    DATE_CF17     BIGINT,
    DATE_CF18     BIGINT,
    DATE_CF19     BIGINT,
    DATE_CF20     BIGINT,
    DATE_CF21     BIGINT,
    DATE_CF22     BIGINT,
    DATE_CF23     BIGINT,
    DATE_CF24     BIGINT,
    DATE_CF25     BIGINT,
    DATE_CF26     BIGINT,
    DATE_CF27     BIGINT,
    DATE_CF28     BIGINT,
    DATE_CF29     BIGINT,
    DATE_CF30     BIGINT,
    DATETIME_CF1  BIGINT,
    DATETIME_CF2  BIGINT,
    DATETIME_CF3  BIGINT,
    DATETIME_CF4  BIGINT,
    DATETIME_CF5  BIGINT,
    DATETIME_CF6  BIGINT,
    DATETIME_CF7  BIGINT,
    DATETIME_CF8  BIGINT,
    DATETIME_CF9  BIGINT,
    DATETIME_CF10 BIGINT,
    DATETIME_CF11 BIGINT,
    DATETIME_CF12 BIGINT,
    DATETIME_CF13 BIGINT,
    DATETIME_CF14 BIGINT,
    DATETIME_CF15 BIGINT,
    DATETIME_CF16 BIGINT,
    DATETIME_CF17 BIGINT,
    DATETIME_CF18 BIGINT,
    DATETIME_CF19 BIGINT,
    DATETIME_CF20 BIGINT,
    DATETIME_CF21 BIGINT,
    DATETIME_CF22 BIGINT,
    DATETIME_CF23 BIGINT,
    DATETIME_CF24 BIGINT,
    DATETIME_CF25 BIGINT,
    DATETIME_CF26 BIGINT,
    DATETIME_CF27 BIGINT,
    DATETIME_CF28 BIGINT,
    DATETIME_CF29 BIGINT,
    DATETIME_CF30 BIGINT,
    ENUM_CF1      INTEGER,
    ENUM_CF2      INTEGER,
    ENUM_CF3      INTEGER,
    ENUM_CF4      INTEGER,
    ENUM_CF5      INTEGER,
    ENUM_CF6      INTEGER,
    ENUM_CF7      INTEGER,
    ENUM_CF8      INTEGER,
    ENUM_CF9      INTEGER,
    ENUM_CF10     INTEGER,
    ENUM_CF11     INTEGER,
    ENUM_CF12     INTEGER,
    ENUM_CF13     INTEGER,
    ENUM_CF14     INTEGER,
    ENUM_CF15     INTEGER,
    ENUM_CF16     INTEGER,
    ENUM_CF17     INTEGER,
    ENUM_CF18     INTEGER,
    ENUM_CF19     INTEGER,
    ENUM_CF20     INTEGER,
    ENUM_CF21     INTEGER,
    ENUM_CF22     INTEGER,
    ENUM_CF23     INTEGER,
    ENUM_CF24     INTEGER,
    ENUM_CF25     INTEGER,
    ENUM_CF26     INTEGER,
    ENUM_CF27     INTEGER,
    ENUM_CF28     INTEGER,
    ENUM_CF29     INTEGER,
    ENUM_CF30     INTEGER,
    FILE_CF1      BIGINT,
    FILE_CF2      BIGINT,
    FILE_CF3      BIGINT,
    FILE_CF4      BIGINT,
    FILE_CF5      BIGINT,
    FILE_CF6      BIGINT,
    FILE_CF7      BIGINT,
    FILE_CF8      BIGINT,
    FILE_CF9      BIGINT,
    FILE_CF10     BIGINT,
    FILE_CF11     BIGINT,
    FILE_CF12     BIGINT,
    FILE_CF13     BIGINT,
    FILE_CF14     BIGINT,
    FILE_CF15     BIGINT,
    FILE_CF16     BIGINT,
    FILE_CF17     BIGINT,
    FILE_CF18     BIGINT,
    FILE_CF19     BIGINT,
    FILE_CF20     BIGINT,
    FILE_CF21     BIGINT,
    FILE_CF22     BIGINT,
    FILE_CF23     BIGINT,
    FILE_CF24     BIGINT,
    FILE_CF25     BIGINT,
    FILE_CF26     BIGINT,
    FILE_CF27     BIGINT,
    FILE_CF28     BIGINT,
    FILE_CF29     BIGINT,
    FILE_CF30     BIGINT,
    LOOKUP_CF1    BIGINT,
    LOOKUP_CF2    BIGINT,
    LOOKUP_CF3    BIGINT,
    LOOKUP_CF4    BIGINT,
    LOOKUP_CF5    BIGINT,
    LOOKUP_CF6    BIGINT,
    LOOKUP_CF7    BIGINT,
    LOOKUP_CF8    BIGINT,
    LOOKUP_CF9    BIGINT,
    LOOKUP_CF10   BIGINT,
    LOOKUP_CF11   BIGINT,
    LOOKUP_CF12   BIGINT,
    LOOKUP_CF13   BIGINT,
    LOOKUP_CF14   BIGINT,
    LOOKUP_CF15   BIGINT,
    LOOKUP_CF16   BIGINT,
    LOOKUP_CF17   BIGINT,
    LOOKUP_CF18   BIGINT,
    LOOKUP_CF19   BIGINT,
    LOOKUP_CF20   BIGINT,
    LOOKUP_CF21   BIGINT,
    LOOKUP_CF22   BIGINT,
    LOOKUP_CF23   BIGINT,
    LOOKUP_CF24   BIGINT,
    LOOKUP_CF25   BIGINT,
    LOOKUP_CF26   BIGINT,
    LOOKUP_CF27   BIGINT,
    LOOKUP_CF28   BIGINT,
    LOOKUP_CF29   BIGINT,
    LOOKUP_CF30   BIGINT,
    SCORE_CF1     DOUBLE,
    SCORE_CF2     DOUBLE,
    SCORE_CF3     DOUBLE,
    SCORE_CF4     DOUBLE,
    SCORE_CF5     DOUBLE,
    SCORE_CF6     DOUBLE,
    SCORE_CF7     DOUBLE,
    SCORE_CF8     DOUBLE,
    SCORE_CF9     DOUBLE,
    SCORE_CF10    DOUBLE,
    SCORE_CF11    DOUBLE,
    SCORE_CF12    DOUBLE,
    SCORE_CF13    DOUBLE,
    SCORE_CF14    DOUBLE,
    SCORE_CF15    DOUBLE,
    SCORE_CF16    DOUBLE,
    SCORE_CF17    DOUBLE,
    SCORE_CF18    DOUBLE,
    SCORE_CF19    DOUBLE,
    SCORE_CF20    DOUBLE,
    SCORE_CF21    DOUBLE,
    SCORE_CF22    DOUBLE,
    SCORE_CF23    DOUBLE,
    SCORE_CF24    DOUBLE,
    SCORE_CF25    DOUBLE,
    SCORE_CF26    DOUBLE,
    SCORE_CF27    DOUBLE,
    SCORE_CF28    DOUBLE,
    SCORE_CF29    DOUBLE,
    SCORE_CF30    DOUBLE,
    CONSTRAINT PURCHASE_CONTRACTS_FK_ID FOREIGN KEY (ID) REFERENCES Contracts (ID) ON DELETE CASCADE,
    CONSTRAINT PURCHASE_CONTRACTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT PURCHASE_CONTRACTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PurchaseContractLineItems (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PURCHASE_CONTRACT BIGINT NOT NULL,
	INVENTORY_TYPE TINYINT NOT NULL,
	ITEM_TYPE BIGINT,
	TOOL_TYPE BIGINT,
	QUANTITY DOUBLE,
	UNIT_PRICE DOUBLE,
	COST DOUBLE,
	QUANTITY_RECEIVED DOUBLE,
	CONSTRAINT PurchaseContractLineItems_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PurchaseContractLineItems_FK_PURCHASE_CONTRACT FOREIGN KEY (PURCHASE_CONTRACT) REFERENCES Purchase_Contracts (ID) ON DELETE CASCADE,
	CONSTRAINT PurchaseContractLineItems_FK_ITEM FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
	CONSTRAINT PurchaseContractLineItems_FK_TOOL FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID)
);

CREATE TABLE IF NOT EXISTS Labour_Contracts
(
    ID            BIGINT PRIMARY KEY,
    ORGID         BIGINT NOT NULL,
    MODULEID      BIGINT NOT NULL,
    LOCAL_ID      BIGINT(20),
    SITE_ID       BIGINT,
    STRING_CF1    VARCHAR(255),
    STRING_CF2    VARCHAR(255),
    STRING_CF3    VARCHAR(255),
    STRING_CF4    VARCHAR(255),
    STRING_CF5    VARCHAR(255),
    STRING_CF6    VARCHAR(255),
    STRING_CF7    VARCHAR(255),
    STRING_CF8    VARCHAR(255),
    STRING_CF9    VARCHAR(255),
    STRING_CF10   VARCHAR(255),
    STRING_CF11   VARCHAR(255),
    STRING_CF12   VARCHAR(255),
    STRING_CF13   VARCHAR(255),
    STRING_CF14   VARCHAR(255),
    STRING_CF15   VARCHAR(255),
    STRING_CF16   VARCHAR(255),
    STRING_CF17   VARCHAR(255),
    STRING_CF18   VARCHAR(255),
    STRING_CF19   VARCHAR(255),
    STRING_CF20   VARCHAR(255),
    STRING_CF21   VARCHAR(255),
    STRING_CF22   VARCHAR(255),
    STRING_CF23   VARCHAR(255),
    STRING_CF24   VARCHAR(255),
    STRING_CF25   VARCHAR(255),
    STRING_CF26   VARCHAR(255),
    STRING_CF27   VARCHAR(255),
    STRING_CF28   VARCHAR(255),
    STRING_CF29   VARCHAR(255),
    STRING_CF30   VARCHAR(255),
    NUMBER_CF1    BIGINT,
    NUMBER_CF2    BIGINT,
    NUMBER_CF3    BIGINT,
    NUMBER_CF4    BIGINT,
    NUMBER_CF5    BIGINT,
    NUMBER_CF6    BIGINT,
    NUMBER_CF7    BIGINT,
    NUMBER_CF8    BIGINT,
    NUMBER_CF9    BIGINT,
    NUMBER_CF10   BIGINT,
    NUMBER_CF11   BIGINT,
    NUMBER_CF12   BIGINT,
    NUMBER_CF13   BIGINT,
    NUMBER_CF14   BIGINT,
    NUMBER_CF15   BIGINT,
    NUMBER_CF16   BIGINT,
    NUMBER_CF17   BIGINT,
    NUMBER_CF18   BIGINT,
    NUMBER_CF19   BIGINT,
    NUMBER_CF20   BIGINT,
    NUMBER_CF21   BIGINT,
    NUMBER_CF22   BIGINT,
    NUMBER_CF23   BIGINT,
    NUMBER_CF24   BIGINT,
    NUMBER_CF25   BIGINT,
    NUMBER_CF26   BIGINT,
    NUMBER_CF27   BIGINT,
    NUMBER_CF28   BIGINT,
    NUMBER_CF29   BIGINT,
    NUMBER_CF30   BIGINT,
    DECIMAL_CF1   DOUBLE,
    DECIMAL_CF2   DOUBLE,
    DECIMAL_CF3   DOUBLE,
    DECIMAL_CF4   DOUBLE,
    DECIMAL_CF5   DOUBLE,
    DECIMAL_CF6   DOUBLE,
    DECIMAL_CF7   DOUBLE,
    DECIMAL_CF8   DOUBLE,
    DECIMAL_CF9   DOUBLE,
    DECIMAL_CF10  DOUBLE,
    DECIMAL_CF11  DOUBLE,
    DECIMAL_CF12  DOUBLE,
    DECIMAL_CF13  DOUBLE,
    DECIMAL_CF14  DOUBLE,
    DECIMAL_CF15  DOUBLE,
    DECIMAL_CF16  DOUBLE,
    DECIMAL_CF17  DOUBLE,
    DECIMAL_CF18  DOUBLE,
    DECIMAL_CF19  DOUBLE,
    DECIMAL_CF20  DOUBLE,
    DECIMAL_CF21  DOUBLE,
    DECIMAL_CF22  DOUBLE,
    DECIMAL_CF23  DOUBLE,
    DECIMAL_CF24  DOUBLE,
    DECIMAL_CF25  DOUBLE,
    DECIMAL_CF26  DOUBLE,
    DECIMAL_CF27  DOUBLE,
    DECIMAL_CF28  DOUBLE,
    DECIMAL_CF29  DOUBLE,
    DECIMAL_CF30  DOUBLE,
    BOOLEAN_CF1   BOOLEAN,
    BOOLEAN_CF2   BOOLEAN,
    BOOLEAN_CF3   BOOLEAN,
    BOOLEAN_CF4   BOOLEAN,
    BOOLEAN_CF5   BOOLEAN,
    BOOLEAN_CF6   BOOLEAN,
    BOOLEAN_CF7   BOOLEAN,
    BOOLEAN_CF8   BOOLEAN,
    BOOLEAN_CF9   BOOLEAN,
    BOOLEAN_CF10  BOOLEAN,
    BOOLEAN_CF11  BOOLEAN,
    BOOLEAN_CF12  BOOLEAN,
    BOOLEAN_CF13  BOOLEAN,
    BOOLEAN_CF14  BOOLEAN,
    BOOLEAN_CF15  BOOLEAN,
    BOOLEAN_CF16  BOOLEAN,
    BOOLEAN_CF17  BOOLEAN,
    BOOLEAN_CF18  BOOLEAN,
    BOOLEAN_CF19  BOOLEAN,
    BOOLEAN_CF20  BOOLEAN,
    BOOLEAN_CF21  BOOLEAN,
    BOOLEAN_CF22  BOOLEAN,
    BOOLEAN_CF23  BOOLEAN,
    BOOLEAN_CF24  BOOLEAN,
    BOOLEAN_CF25  BOOLEAN,
    BOOLEAN_CF26  BOOLEAN,
    BOOLEAN_CF27  BOOLEAN,
    BOOLEAN_CF28  BOOLEAN,
    BOOLEAN_CF29  BOOLEAN,
    BOOLEAN_CF30  BOOLEAN,
    DATE_CF1      BIGINT,
    DATE_CF2      BIGINT,
    DATE_CF3      BIGINT,
    DATE_CF4      BIGINT,
    DATE_CF5      BIGINT,
    DATE_CF6      BIGINT,
    DATE_CF7      BIGINT,
    DATE_CF8      BIGINT,
    DATE_CF9      BIGINT,
    DATE_CF10     BIGINT,
    DATE_CF11     BIGINT,
    DATE_CF12     BIGINT,
    DATE_CF13     BIGINT,
    DATE_CF14     BIGINT,
    DATE_CF15     BIGINT,
    DATE_CF16     BIGINT,
    DATE_CF17     BIGINT,
    DATE_CF18     BIGINT,
    DATE_CF19     BIGINT,
    DATE_CF20     BIGINT,
    DATE_CF21     BIGINT,
    DATE_CF22     BIGINT,
    DATE_CF23     BIGINT,
    DATE_CF24     BIGINT,
    DATE_CF25     BIGINT,
    DATE_CF26     BIGINT,
    DATE_CF27     BIGINT,
    DATE_CF28     BIGINT,
    DATE_CF29     BIGINT,
    DATE_CF30     BIGINT,
    DATETIME_CF1  BIGINT,
    DATETIME_CF2  BIGINT,
    DATETIME_CF3  BIGINT,
    DATETIME_CF4  BIGINT,
    DATETIME_CF5  BIGINT,
    DATETIME_CF6  BIGINT,
    DATETIME_CF7  BIGINT,
    DATETIME_CF8  BIGINT,
    DATETIME_CF9  BIGINT,
    DATETIME_CF10 BIGINT,
    DATETIME_CF11 BIGINT,
    DATETIME_CF12 BIGINT,
    DATETIME_CF13 BIGINT,
    DATETIME_CF14 BIGINT,
    DATETIME_CF15 BIGINT,
    DATETIME_CF16 BIGINT,
    DATETIME_CF17 BIGINT,
    DATETIME_CF18 BIGINT,
    DATETIME_CF19 BIGINT,
    DATETIME_CF20 BIGINT,
    DATETIME_CF21 BIGINT,
    DATETIME_CF22 BIGINT,
    DATETIME_CF23 BIGINT,
    DATETIME_CF24 BIGINT,
    DATETIME_CF25 BIGINT,
    DATETIME_CF26 BIGINT,
    DATETIME_CF27 BIGINT,
    DATETIME_CF28 BIGINT,
    DATETIME_CF29 BIGINT,
    DATETIME_CF30 BIGINT,
    ENUM_CF1      INTEGER,
    ENUM_CF2      INTEGER,
    ENUM_CF3      INTEGER,
    ENUM_CF4      INTEGER,
    ENUM_CF5      INTEGER,
    ENUM_CF6      INTEGER,
    ENUM_CF7      INTEGER,
    ENUM_CF8      INTEGER,
    ENUM_CF9      INTEGER,
    ENUM_CF10     INTEGER,
    ENUM_CF11     INTEGER,
    ENUM_CF12     INTEGER,
    ENUM_CF13     INTEGER,
    ENUM_CF14     INTEGER,
    ENUM_CF15     INTEGER,
    ENUM_CF16     INTEGER,
    ENUM_CF17     INTEGER,
    ENUM_CF18     INTEGER,
    ENUM_CF19     INTEGER,
    ENUM_CF20     INTEGER,
    ENUM_CF21     INTEGER,
    ENUM_CF22     INTEGER,
    ENUM_CF23     INTEGER,
    ENUM_CF24     INTEGER,
    ENUM_CF25     INTEGER,
    ENUM_CF26     INTEGER,
    ENUM_CF27     INTEGER,
    ENUM_CF28     INTEGER,
    ENUM_CF29     INTEGER,
    ENUM_CF30     INTEGER,
    FILE_CF1      BIGINT,
    FILE_CF2      BIGINT,
    FILE_CF3      BIGINT,
    FILE_CF4      BIGINT,
    FILE_CF5      BIGINT,
    FILE_CF6      BIGINT,
    FILE_CF7      BIGINT,
    FILE_CF8      BIGINT,
    FILE_CF9      BIGINT,
    FILE_CF10     BIGINT,
    FILE_CF11     BIGINT,
    FILE_CF12     BIGINT,
    FILE_CF13     BIGINT,
    FILE_CF14     BIGINT,
    FILE_CF15     BIGINT,
    FILE_CF16     BIGINT,
    FILE_CF17     BIGINT,
    FILE_CF18     BIGINT,
    FILE_CF19     BIGINT,
    FILE_CF20     BIGINT,
    FILE_CF21     BIGINT,
    FILE_CF22     BIGINT,
    FILE_CF23     BIGINT,
    FILE_CF24     BIGINT,
    FILE_CF25     BIGINT,
    FILE_CF26     BIGINT,
    FILE_CF27     BIGINT,
    FILE_CF28     BIGINT,
    FILE_CF29     BIGINT,
    FILE_CF30     BIGINT,
    LOOKUP_CF1    BIGINT,
    LOOKUP_CF2    BIGINT,
    LOOKUP_CF3    BIGINT,
    LOOKUP_CF4    BIGINT,
    LOOKUP_CF5    BIGINT,
    LOOKUP_CF6    BIGINT,
    LOOKUP_CF7    BIGINT,
    LOOKUP_CF8    BIGINT,
    LOOKUP_CF9    BIGINT,
    LOOKUP_CF10   BIGINT,
    LOOKUP_CF11   BIGINT,
    LOOKUP_CF12   BIGINT,
    LOOKUP_CF13   BIGINT,
    LOOKUP_CF14   BIGINT,
    LOOKUP_CF15   BIGINT,
    LOOKUP_CF16   BIGINT,
    LOOKUP_CF17   BIGINT,
    LOOKUP_CF18   BIGINT,
    LOOKUP_CF19   BIGINT,
    LOOKUP_CF20   BIGINT,
    LOOKUP_CF21   BIGINT,
    LOOKUP_CF22   BIGINT,
    LOOKUP_CF23   BIGINT,
    LOOKUP_CF24   BIGINT,
    LOOKUP_CF25   BIGINT,
    LOOKUP_CF26   BIGINT,
    LOOKUP_CF27   BIGINT,
    LOOKUP_CF28   BIGINT,
    LOOKUP_CF29   BIGINT,
    LOOKUP_CF30   BIGINT,
    SCORE_CF1     DOUBLE,
    SCORE_CF2     DOUBLE,
    SCORE_CF3     DOUBLE,
    SCORE_CF4     DOUBLE,
    SCORE_CF5     DOUBLE,
    SCORE_CF6     DOUBLE,
    SCORE_CF7     DOUBLE,
    SCORE_CF8     DOUBLE,
    SCORE_CF9     DOUBLE,
    SCORE_CF10    DOUBLE,
    SCORE_CF11    DOUBLE,
    SCORE_CF12    DOUBLE,
    SCORE_CF13    DOUBLE,
    SCORE_CF14    DOUBLE,
    SCORE_CF15    DOUBLE,
    SCORE_CF16    DOUBLE,
    SCORE_CF17    DOUBLE,
    SCORE_CF18    DOUBLE,
    SCORE_CF19    DOUBLE,
    SCORE_CF20    DOUBLE,
    SCORE_CF21    DOUBLE,
    SCORE_CF22    DOUBLE,
    SCORE_CF23    DOUBLE,
    SCORE_CF24    DOUBLE,
    SCORE_CF25    DOUBLE,
    SCORE_CF26    DOUBLE,
    SCORE_CF27    DOUBLE,
    SCORE_CF28    DOUBLE,
    SCORE_CF29    DOUBLE,
    SCORE_CF30    DOUBLE,
    CONSTRAINT LABOUR_CONTRACTS_FK_ID FOREIGN KEY (ID) REFERENCES Contracts (ID) ON DELETE CASCADE,
    CONSTRAINT LABOUR_CONTRACTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT LABOUR_CONTRACTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS LabourContractLineItems (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	LABOUR_CONTRACT BIGINT NOT NULL,
	LABOUR BIGINT,
	COST_PER_HOUR DOUBLE,
	CONSTRAINT LabourContractLineItems_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT LabourContractLineItems_FK_LABOUR_CONTRACT FOREIGN KEY (LABOUR_CONTRACT) REFERENCES Labour_Contracts (ID) ON DELETE CASCADE,
	CONSTRAINT LabourContractLineItems_FK_LABOUR FOREIGN KEY (LABOUR) REFERENCES Labour (ID)
);


CREATE TABLE IF NOT EXISTS Storeroom_Sites (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	STORE_ROOM_ID BIGINT,
	SITE_ID BIGINT,

	CONSTRAINT STORE_ROOM_SITES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT STORE_ROOM_SITES_FK_STORE_ROOM_ID FOREIGN KEY (STORE_ROOM_ID) REFERENCES Store_room(ID)
);

CREATE TABLE IF NOT EXISTS PO_Line_Item_Serial_Numbers (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	LINE_ITEM_ID BIGINT,
	PO_ID BIGINT,
	RECEIPT_ID BIGINT,
	SERIAL_NUMBER VARCHAR(100),
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	ASSET_ID BIGINT,

	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_LINE_ITEM_ID FOREIGN KEY (LINE_ITEM_ID) REFERENCES PurchaseOrderLineItems (ID),
	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_PO_ID FOREIGN KEY (PO_ID) REFERENCES Purchase_Orders (ID),
 	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_RECEIPT_ID FOREIGN KEY (RECEIPT_ID) REFERENCES Receipts (ID),
 	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBERS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT PO_LINE_ITEM_SERIAL_NUMBER_FK_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID)

);

CREATE TABLE IF NOT EXISTS Item_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ITEM BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT ITEM_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT ITEM_ATTACHEMENTS_FK_PARENT_CONTRACT FOREIGN KEY (PARENT_ITEM) REFERENCES Item (ID)

);

CREATE TABLE IF NOT EXISTS Item_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT ITEM_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ITEM_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ITEM_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Item (ID)
);

CREATE TABLE IF NOT EXISTS Tool_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_TOOL BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT TOOLS_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOLS_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT TOOLS_ATTACHEMENTS_FK_PARENT_CONTRACT FOREIGN KEY (PARENT_TOOL) REFERENCES Tool (ID)

);

CREATE TABLE IF NOT EXISTS Tool_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT TOOLS_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT TOOLS_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TOOLS_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tool (ID)
);

CREATE TABLE IF NOT EXISTS Gate_Pass_Line_Items (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	GATE_PASS_ID BIGINT,
	INVENTORY_TYPE TINYINT NOT NULL,
	ITEM_TYPE BIGINT,
	TOOL_TYPE BIGINT,
	QUANTITY DOUBLE,
	SERIAL_NUMBER VARCHAR(100),
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	SYS_DELETED TINYINT,
	SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
	ASSET BIGINT,
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT GATE_PASS_LINE_ITEMS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_ITEM FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_TOOL FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_ASSET FOREIGN KEY (ASSET) REFERENCES Assets (ID),
	CONSTRAINT GATE_PASS_LINE_ITEM_FK_GATE_PASS FOREIGN KEY (GATE_PASS_ID) REFERENCES Gate_Pass (ID)
);

CREATE TABLE IF NOT EXISTS Workflow_RCA_Mapping (
  RULE_ID BIGINT DEFAULT NULL,
  RCA_RULE_ID BIGINT DEFAULT NULL,
  ORGID BIGINT DEFAULT NULL,
  CONSTRAINT WORKFLOW_MAPPING_RCA_RULEID_FK FOREIGN KEY (RCA_RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
  CONSTRAINT WORKFLOW_MAPPING_RULEID_FK FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS AlarmWorkflow_Rule (
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT DEFAULT NULL,
	RULE_ID BIGINT NOT NULL,
	CONSTRAINT ALARMWKF_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT ALARMWKF_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
	CONSTRAINT ALARMWKF_FK_RULEID FOREIGN KEY (RULE_ID) REFERENCES Reading_Rule (ID) ON DELETE CASCADE
);

-- Adding foreign key to forms db
ALTER TABLE Forms ADD CONSTRAINT FORMS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow(ID) ON DELETE SET NULL;

-- Adding foreign key to tickets table
ALTER TABLE Tickets ADD CONSTRAINT TICKETS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID);

CREATE TABLE IF NOT EXISTS Workflow_Validation (
  ID bigint NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID bigint NOT NULL,
  SITE_ID bigint DEFAULT NULL,
  NAME VARCHAR(100),
  RULE_ID bigint NOT NULL,
  ERROR_MESSAGE varchar(100) NOT NULL,
  CRITERIA_ID bigint,
  CONSTRAINT VALIDATION_FK_CRITERIAID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID),
  CONSTRAINT VALIDATION_FK_RULEID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS CustomButton (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    SITE_ID BIGINT,
	FORM_ID BIGINT,
	FORM_MODULE_NAME VARCHAR(100),
	LOOKUP_FIELD_ID BIGINT,
	BUTTON_TYPE TINYINT,
	POSITION_TYPE TINYINT,
	ALL_APPROVAL_REQUIRED BOOLEAN,
	APPROVAL_ORDER TINYINT,
	CONFIG VARCHAR(1000),
	CONSTRAINT CUSTOMBUTTON_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT CUSTOMBUTTON_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT CUSTOMBUTTON_FK_FORMID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
	CONSTRAINT CUSTOMBUTTON_FK_LOOKUPFIELDID FOREIGN KEY (LOOKUP_FIELD_ID) REFERENCES Fields (FIELDID)
);

CREATE TABLE IF NOT EXISTS SLA_Entity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DESCRIPTION VARCHAR(255),
	MODULEID BIGINT NOT NULL,
	BASE_FIELDID BIGINT NOT NULL,
	DUE_FIELDID BIGINT NOT NULL,
	CRITERIA_ID BIGINT NOT NULL,
	VERB_NAME VARCHAR(20),
	CONSTRAINT FK_SLAENTITY_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT FK_SLAENTITY_BASEFIELDID FOREIGN KEY (BASE_FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT FK_SLAENTITY_DUEFIELDID FOREIGN KEY (DUE_FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT FK_SLAENTITY_CRITERIAID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID)
);

CREATE TABLE IF NOT EXISTS SLA_Workflow_Commitment_Duration (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	SLA_ENTITY_ID BIGINT NOT NULL,
	ADD_DURATION INTEGER NOT NULL,
	SLA_COMMITMENT_ID BIGINT NOT NULL,
	TYPE TINYINT,

	CONSTRAINT SLAWFCD_FK_COMMITMENT FOREIGN KEY (SLA_COMMITMENT_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE,
	CONSTRAINT SLAWFCD_FK_ENTITY FOREIGN KEY (SLA_ENTITY_ID) REFERENCES SLA_Entity (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SLA_Workflow_Escalation (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT,
	SLA_POLICY_ID BIGINT NOT NULL,
	TYPE TINYINT,
	TIME_INTERVAL BIGINT,
	SLA_ENTITY_ID BIGINT NOT NULL,
	ACTION_ARRAY TEXT,
	CONSTRAINT SLAWFES_FK_ENTITY FOREIGN KEY (SLA_ENTITY_ID) REFERENCES SLA_Entity (ID) ON DELETE CASCADE,
  	CONSTRAINT SLAWFES_FK_POLICY FOREIGN KEY (SLA_POLICY_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SLA_Workflow_Escalation_Action (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT,
	ESCALATION_ID BIGINT NOT NULL,
	ACTION_ID BIGINT NOT NULL,

	CONSTRAINT SLAWFESCALATIONACTION_FK_ESCALATION FOREIGN KEY (ESCALATION_ID) REFERENCES SLA_Workflow_Escalation (ID) ON DELETE CASCADE,
	CONSTRAINT SLAWFESCALATIONACTION_FK_ACTION FOREIGN KEY (ACTION_ID) REFERENCES Action (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS SLA_WorkflowRule_Rel (
	ORGID BIGINT,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	SLA_POLICY_ID BIGINT NOT NULL,
	WORKFLOW_RULE_ID BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS SLA_Edit_Job_Details (
    ORGID BIGINT,
    MODULEID BIGINT,
    SITE_ID BIGINT,
    SLA_POLICY_ID BIGINT NOT NULL,
    SLA_ENTITY_ID BIGINT NOT NULL,
    LAST_RECORD_ID BIGINT
);

CREATE TABLE IF NOT EXISTS Scoring_Rule (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    SITE_ID BIGINT,
    SCORING_FIELD_ID BIGINT,
    DRAFT BOOLEAN,
    SCORE_TYPE TINYINT NOT NULL,
    SCORE_RANGE INT,
    SCORE_FIELDNAME VARCHAR(50),

    CONSTRAINT SCORINGRULE_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE,
    CONSTRAINT SCORINGRULE_FK_SCORINGFIELDID FOREIGN KEY (SCORING_FIELD_ID) REFERENCES Fields(FIELDID)
);

CREATE TABLE IF NOT EXISTS Scoring_Commitment (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    NAME VARCHAR(255),
    NAMED_CRITERIA_ID BIGINT,
    COMMITMENT_ORDER INT,
    SCORING_RULE_ID BIGINT NOT NULL,

    CONSTRAINT SCORINGCOMMITMENT_FK_SCORINGRULEID FOREIGN KEY (SCORING_RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Base_Scoring (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT,
    SITE_ID BIGINT,
    WEIGHTAGE DOUBLE,
    TYPE TINYINT,
    SCORING_COMMITMENT_ID BIGINT NOT NULL,

    CONSTRAINT BASESCORING_FK_SCORINGCOMMITMENTID FOREIGN KEY (SCORING_COMMITMENT_ID) REFERENCES Scoring_Commitment (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Condition_Scoring (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT,
    SITE_ID BIGINT,
    NAMED_CRITERIA_ID BIGINT,

    CONSTRAINT CONDITIONSCORING_FK_ID FOREIGN KEY (ID) REFERENCES Base_Scoring(ID) ON DELETE CASCADE,
    CONSTRAINT CONDITIONSCORING_FK_NAMEDCRITERIAID FOREIGN KEY (NAMED_CRITERIA_ID) REFERENCES Named_Criteria(ID)
);

CREATE TABLE IF NOT EXISTS Node_Scoring (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT,
    SITE_ID BIGINT,
    NAME VARCHAR(255),
    NODE_TYPE TINYINT,
    FIELD_ID BIGINT,
    FIELD_MODULE_ID BIGINT,
    SCORING_FIELD_ID BIGINT NOT NULL,

    CONSTRAINT NODESCORING_FK_ID FOREIGN KEY (ID) REFERENCES Base_Scoring(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Actual_Score (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT,
    SITE_ID BIGINT,
    RECORD_ID BIGINT NOT NULL,
    RECORD_MODULEID BIGINT NOT NULL,
    SCORE DOUBLE NOT NULL,
    BASE_SCORE_ID BIGINT NOT NULL,

    CONSTRAINT ACTUALSCORE_FK_BASESCOREID FOREIGN KEY (BASE_SCORE_ID) REFERENCES Base_Scoring(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Base_Alarm_Impact (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    NAME VARCHAR(50),
    DESCRIPTION VARCHAR(255),
    CATEGORY_ID BIGINT NOT NULL,
    ENABLED BOOLEAN,
    TYPE TINYINT NOT NULL,
    IMPACT_TYPE TINYINT NOT NULL,

    CONSTRAINT BASEALARMIMPACT_FK_CATEGORYID FOREIGN KEY (CATEGORY_ID) REFERENCES Asset_Categories(ID)
);

CREATE TABLE IF NOT EXISTS Constant_Alarm_Impact (
    ID BIGINT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    CONSTANT DOUBLE NOT NULL,

    CONSTRAINT CONSTANTALARMIMPACT_FK_BASEALARMIMPACT FOREIGN KEY (ID) REFERENCES Base_Alarm_Impact (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ConnectedApps (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100),
	LINK_NAME VARCHAR(100),
	DESCRIPTION VARCHAR(500),
	LOGO_ID BIGINT,
	IS_ACTIVE BOOLEAN DEFAULT TRUE,
	SANDBOX_BASE_URL VARCHAR(250),
	PRODUCTION_BASE_URL VARCHAR(250),
	START_URL VARCHAR(250),
	SHOW_IN_LAUNCHER TINYINT(1),
	HOSTING_TYPE TINYINT(4),
	CONSTRAINT CONNECTEDAPPS_FK_LOGO_ID FOREIGN KEY (LOGO_ID) REFERENCES FacilioFile (FILE_ID)
);


CREATE TABLE ConnectedApps_SAML (
  CONNECTEDAPP_ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  SP_ENTITY_ID VARCHAR(255),
  SP_ACS_URL VARCHAR(255),
  SP_LOGOUT_URL VARCHAR(255),
  SUBJECT_TYPE TINYINT(4),
  NAME_ID_FORMAT TINYINT(4),
  CONSTRAINT CONNECTEDAPPSAML_FK_CONNECTEDAPP_ID FOREIGN KEY (CONNECTEDAPP_ID) REFERENCES ConnectedApps (ID)
  );


CREATE TABLE ConnectedApp_Widgets (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  CRITERIA_ID BIGINT,
  CONNECTEDAPP_ID BIGINT NOT NULL,
  WIDGET_NAME VARCHAR(100),
  LINK_NAME VARCHAR(100),
  ENTITY_TYPE TINYINT(4),
  ENTITY_ID BIGINT,
  RESOURCE_PATH VARCHAR(255),
  CONSTRAINT CONNECTEDAPPWIDGET_FK_CONNECTEDAPP_ID FOREIGN KEY (CONNECTEDAPP_ID) REFERENCES ConnectedApps (ID)
 );
 
 CREATE TABLE Variables (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  NAME VARCHAR(250) NOT NULL,
  VALUE VARCHAR(1000),
  CONNECTEDAPP_ID BIGINT NOT NULL,
  VISIBILITY BOOLEAN,
  SYS_CREATED_TIME BIGINT,
  SYS_CREATED_BY BIGINT,
  SYS_MODIFIED_TIME BIGINT,
  SYS_MODIFIED_BY BIGINT,
  CONSTRAINT VARIABLES_FK_CONNECTEDAPP_ID FOREIGN KEY (CONNECTEDAPP_ID) REFERENCES ConnectedApps (ID)
  );

CREATE TABLE IF NOT EXISTS Connection (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  SYS_CREATED_TIME BIGINT(20),
  SYS_MODIFIED_TIME BIGINT(20),
  SYS_CREATED_BY BIGINT,
  SYS_MODIFIED_BY BIGINT,
  NAME varchar(200) NOT NULL,
  SERVICE_NAME varchar(200) NOT NULL,
  AUTH_TYPE int(11) NOT NULL,
  OAUTH_PARAM_IN_HEADER TINYINT,
  GRANT_TYPE int(11),
  PARAM_TYPE int(11) DEFAULT NULL,
  STATE int(11) NOT NULL,
  CLIENT_ID varchar(500) DEFAULT NULL,
  CLIENT_SECRET_ID varchar(500) DEFAULT NULL,
  USER_NAME varchar(200),
  PASSWORD varchar(200),
  AUDIENCE varchar(200),
  RESOURCE varchar(200),
  SCOPE varchar(500) DEFAULT NULL,
  AUTHORIZE_URL varchar(500) DEFAULT NULL,
  ACCESS_TOKEN_URL varchar(500) DEFAULT NULL,
  REFRESH_TOKEN_URL varchar(500) DEFAULT NULL,
  REVOKE_TOKEN_URL varchar(500) DEFAULT NULL,
  AUTH_CODE varchar(500) DEFAULT NULL,
  ACCESS_TOKEN varchar(8000) DEFAULT NULL,
  REFRESH_TOKEN varchar(500) DEFAULT NULL,
  ACCESS_EXPIRY_TIME BIGINT DEFAULT NULL,
  REFRESH_EXPIRY_TIME BIGINT DEFAULT NULL,
  SECRET_STATE_KEY varchar(500) DEFAULT NULL,
  ACCESS_TOKEN_SETTING int(11) DEFAULT NULL,
  CONSTRAINT Connection_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
  CONSTRAINT Connection_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE ConnectedApp_Connectors (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  CONNECTEDAPP_ID BIGINT NOT NULL,
  CONNECTOR_ID BIGINT NOT NULL,
  CONSTRAINT CONNECTEDAPPCONNECTORS_FK_CONNECTEDAPP_ID FOREIGN KEY (CONNECTEDAPP_ID) REFERENCES ConnectedApps (ID),
  CONSTRAINT CONNECTEDAPPCONNECTORS_FK_CONNECTOR_ID FOREIGN KEY (CONNECTOR_ID) REFERENCES Connection (ID)
 );

CREATE TABLE IF NOT EXISTS Connection_Api (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  CONNECTION_ID BIGINT NOT NULL,
  NAME varchar(250) NOT NULL,
  URL varchar(1000) NOT NULL,
  TYPE INT NOT NULL,
  CONSTRAINT Connection_Api_CONNECTION_ID FOREIGN KEY (CONNECTION_ID) REFERENCES Connection (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);
CREATE TABLE IF NOT EXISTS Connection_Params (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  CONNECTION_ID BIGINT NOT NULL,
  CONNECTION_API_ID BIGINT NOT NULL,
  KEY_STRING varchar(250) NOT NULL,
  VALUE_STRING varchar(500) NOT NULL,
  IS_PROPERTY BOOLEAN NOT NULL,
  CONSTRAINT Connection_Params_CONNECTION_ID FOREIGN KEY (CONNECTION_ID) REFERENCES Connection (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT Connection_Params_CONNECTION_API_ID FOREIGN KEY (CONNECTION_API_ID) REFERENCES Connection_Api (ID) ON DELETE CASCADE ON UPDATE NO ACTION
  );

CREATE TABLE IF NOT EXISTS ML (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	SEQUENCE varchar(1000),
	MODEL_PATH VARCHAR(500),
	PREDICTION_LOG_MODULEID BIGINT(20),
	PREDICTION_MODULEID BIGINT(20),
	CRITERIA_ID BIGINT(20),
	RULE_ID BIGINT(20),


	CONSTRAINT ML_FK_PREDICTION_LOG_MODULEID FOREIGN KEY (PREDICTION_LOG_MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT ML_FK_PREDICTION_MODULEID FOREIGN KEY (PREDICTION_MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ML_FK_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID),
	CONSTRAINT ML_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule(ID)
);

CREATE TABLE IF NOT EXISTS ML_Service (
  USECASE_ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  ML_ID BIGINT,
  STATUS VARCHAR(500),
  WORKFLOW_ID BIGINT,
  MODEL_NAME VARCHAR(100),
  MODEL_TYPE VARCHAR(100),
  SCENARIO VARCHAR(100),
  ML_MODEL_META VARCHAR(1000) NOT NULL,
  CONSTRAINT ML_Service_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID) ON DELETE NO ACTION,
  CONSTRAINT ML_Service_FK_Workflow_ID FOREIGN KEY (WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE NO ACTION
);

CREATE TABLE IF NOT EXISTS ML_Variables (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	MODULEID BIGINT(20) NOT NULL,
	FIELDID BIGINT(20) NOT NULL,
	IS_SOURCE TINYINT,
	PARENT_FIELDID BIGINT(20) ,
	PARENT_ID BIGINT(20) NOT NULL,
	MAX_SAMPLING_PERIOD BIGINT(20) NOT NULL,
	FUTURE_SAMPLING_PERIOD BIGINT(20) NULL,
    AGGREGATION VARCHAR(3) NULL,
	CONSTRAINT MLVARIABLES_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT MLVARIABLES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT MLVARIABLES_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID),
	CONSTRAINT MLVARIABLES_FK_PARENTID FOREIGN KEY(PARENT_ID) REFERENCES Resources(ID)
);

 CREATE TABLE IF NOT EXISTS ML_Model_Variables (
 	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	VARIABLE_KEY varchar(200) NOT NULL,
	VARIABLE_VALUE varchar(500) NOT NULL,

	CONSTRAINT MLMODELVARIABLES_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID)
 );

 CREATE TABLE IF NOT EXISTS ML_Asset_Variables (
  	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	ASSETID BIGINT NOT NULL,
	VARIABLE_KEY varchar(200) NOT NULL,
	VARIABLE_VALUE varchar(200) NOT NULL,

	CONSTRAINT MLASSETVARIABLES_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT MLASSETVARIABLES_FK_ASSETIS FOREIGN KEY (ASSETID) REFERENCES Resources(ID)
  );

  CREATE TABLE IF NOT EXISTS ML_Criteria_Variables (
  	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	ML_ID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	FIELDID BIGINT NOT NULL,

	CONSTRAINT MLCRITERIAVARIABLES_FK_ML_ID FOREIGN KEY (ML_ID) REFERENCES ML(ID),
	CONSTRAINT MLCRITERIAVARIABLES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT MLCRITERIAVARIABLES_FK_FIELDID FOREIGN KEY (FIELDID) REFERENCES Fields(FIELDID)
  );

  CREATE TABLE IF NOT EXISTS ML_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	DECIMAL_CF16 DOUBLE,
	DECIMAL_CF17 DOUBLE,
	DECIMAL_CF18 DOUBLE,
	DECIMAL_CF19 DOUBLE,
	DECIMAL_CF20 DOUBLE,
	ML_RUNNING TINYINT,
	ERROR_CODE TINYINT,
	CONSTRAINT ML_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);
-- Create indexes for Readings table
CREATE INDEX ML_READINGS_PARENT_ID_INDEX on ML_Readings (PARENT_ID);
CREATE INDEX ML_READINGS_PARENT_ID_TTIME_INDEX ON ML_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX ML_READINGS_TTIME_INDEX ON ML_Readings (ORGID, MODULEID, TTIME);

  CREATE TABLE IF NOT EXISTS ML_Log_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	PREDICTED_TIME BIGINT NOT NULL,
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	DECIMAL_CF16 DOUBLE,
	DECIMAL_CF17 DOUBLE,
	DECIMAL_CF18 DOUBLE,
	DECIMAL_CF19 DOUBLE,
	DECIMAL_CF20 DOUBLE,
	ML_RUNNING TINYINT,
	ERROR_CODE TINYINT,
	CONSTRAINT ML_LOG_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);


-- Create indexes for Readings table
CREATE INDEX ML_LOG_READINGS_PARENT_ID_INDEX on ML_Readings (PARENT_ID);
CREATE INDEX ML_LOG_READINGS_PARENT_ID_TTIME_INDEX ON ML_Readings (ORGID, MODULEID, PARENT_ID, TTIME);
CREATE INDEX ML_LOG_READINGS_TTIME_INDEX ON ML_Readings (ORGID, MODULEID, TTIME);


CREATE TABLE IF NOT EXISTS Rule_Templates_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	RULE_ID BIGINT NOT NULL,
	DEFAULT_TEMPLATE_ID BIGINT NOT NULL,
	CONSTRAINT TEMPLATE_RULE_ID_FK FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Shipped_Asset_Rel (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ASSET_ID_FROM_STORE BIGINT NOT NULL,
	ASSET_ID_TO_STORE BIGINT NOT NULL,
	SHIPMENT_ID BIGINT,
	CONSTRAINT Shipped_Asset_Rel_asset_from_FK FOREIGN KEY (ASSET_ID_FROM_STORE) REFERENCES Assets(ID),
	CONSTRAINT Shipped_Asset_Rel_asset_to_FK FOREIGN KEY (ASSET_ID_TO_STORE) REFERENCES Assets(ID),
	CONSTRAINT Shipped_Asset_Rel_shipment_FK FOREIGN KEY (SHIPMENT_ID) REFERENCES Shipment(ID)
);


CREATE TABLE IF NOT EXISTS PM_Planner_Settings (
  ID BIGINT(20) NOT NULL AUTO_INCREMENT,
  ORGID BIGINT(20) NOT NULL,
  VIEW_SETTINGS VARCHAR(1000) DEFAULT NULL,
  MOVE_TYPE VARCHAR(1000) DEFAULT NULL,
  COLUMN_SETTINGS VARCHAR(1000) DEFAULT NULL,
  TIME_METRIC_SETTINGS VARCHAR(1000) DEFAULT NULL,
  LEGEND_SETTINGS VARCHAR(1000) DEFAULT NULL,
  PLANNER_TYPE tinyint(4) NOT NULL,
  PRIMARY KEY (ID)
);
CREATE TABLE IF NOT EXISTS Attendance (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	USER_ID BIGINT,
	CHECK_IN_TIME BIGINT,
	CHECKOUT_OUT_TIME BIGINT,
	WORKING_HOURS BIGINT,
	DAY BIGINT,
	STATUS TINYINT,
	LAST_CHECK_IN_TIME BIGINT,
	TOTAL_PAID_BREAK_HRS BIGINT,
	TOTAL_UNPAID_BREAK_HRS BIGINT,
	LAST_BREAK_START_TIME BIGINT,
	LAST_BREAK_ID BIGINT,
	FORM_ID BIGINT,
	SHIFT_ID BIGINT,

	CONSTRAINT ATTENDANCE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ATTENDANCE_FK_USER_ID FOREIGN KEY (USER_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ATTENDANCE_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ATTENDANCE_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ATTENDANCE_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT ATTENDANCE_FK_SHIFT_ID FOREIGN KEY (SHIFT_ID) REFERENCES Shift(ID),
	CONSTRAINT ATTENDANCE_FK_BREAK_ID FOREIGN KEY (LAST_BREAK_ID) REFERENCES Break (ID)
);

CREATE TABLE IF NOT EXISTS Attendance_Transactions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	ATTENDANCE_ID BIGINT,
	FORM_ID BIGINT,
	TRANSACTION_TYPE TINYINT,
	SOURCE_TYPE TINYINT,
	LOCATION BIGINT,
	IP_ADDRESS VARCHAR (50),
	TERMINAL VARCHAR(100),
	TRANSACTION_TIME BIGINT,
	REMARKS VARCHAR(1000),

	CONSTRAINT ATTENDANCE_TRANSACTION_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ATTENDANCE_TRANSACTION_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ATTENDANCE_TRANSACTION_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ATTENDANCE_TRANSACTION_FK_LOCATION FOREIGN KEY (LOCATION) REFERENCES Locations (ID),
	CONSTRAINT ATTENDANCE_TRANSACTION_FK_ATTENDANCE_ID FOREIGN KEY (ATTENDANCE_ID) REFERENCES Attendance (ID),
	CONSTRAINT ATTENDANCE_TRANSACTION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Graphics_Folder (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100),
	DESCRIPTION VARCHAR(500)
);

CREATE TABLE IF NOT EXISTS Graphics (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100),
	DESCRIPTION VARCHAR(500),
	ASSET_CATEGORY_ID BIGINT,
	ASSET_ID BIGINT,
	VARIABLES TEXT,
	CANVAS LONGTEXT,
	IS_DEFAULT BOOLEAN,
	PARENT_FOLDER_ID BIGINT,
	APPLY_TO VARCHAR(5000),
	CONSTRAINT GRAPHICS_FK_ASSET_CATEGORY_ID FOREIGN KEY (ASSET_CATEGORY_ID) REFERENCES Asset_Categories(ID),
	CONSTRAINT GRAPHICS_FK_PARENT_GRAPHICS_FOLDER_ID FOREIGN KEY (PARENT_FOLDER_ID) REFERENCES Graphics_Folder(ID),
	CONSTRAINT GRAPHICS_FK_ASSETID FOREIGN KEY (ASSET_ID) REFERENCES Assets(ID)
);

CREATE TABLE IF NOT EXISTS Widget_Graphics (
  ID bigint(20) NOT NULL PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  GRAPHICS_ID BIGINT DEFAULT NULL,
  GRAPHICS_OPTIONS TEXT DEFAULT NULL,
  CONSTRAINT WIDGET_GRAPHICS_ID FOREIGN KEY (GRAPHICS_ID) REFERENCES Graphics (ID),
  CONSTRAINT WIDGET_GRAPHICS_WIDGETID FOREIGN KEY (ID) REFERENCES Widget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS MV_Project (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  SITE_ID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  FORM_ID BIGINT DEFAULT NULL,
  NAME VARCHAR(100) NOT NULL,
  DESCRIPTION VARCHAR(1000) DEFAULT NULL,
  EMC_OPTION INT NOT NULL,
  START_TIME BIGINT DEFAULT NULL,
  END_TIME BIGINT DEFAULT NULL,
  FREQUENCY INT NOT NULL,
  METER_ID BIGINT NOT NULL,
  IS_AUTO_GEN_VM tinyint(4) DEFAULT NULL,
  OWNER BIGINT DEFAULT NULL,
  SAVE_GOAL INT DEFAULT NULL,
  SAVE_GOAL_FORMULA_FIELD BIGINT DEFAULT NULL,
  REPORTING_START_TIME BIGINT DEFAULT NULL,
  REPORTING_END_TIME BIGINT DEFAULT NULL,
  STATUS tinyint(4) DEFAULT NULL,
  IS_LOCKED tinyint(4) DEFAULT NULL,
  CONSTRAINT MV_Project_meter_id FOREIGN KEY (METER_ID) REFERENCES Assets (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Project_moduleid FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Project_owner_id FOREIGN KEY (OWNER) REFERENCES ORG_Users (ORG_USERID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Project_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_PROJECT__SAVE_GOAL_FORMULA_FIELD_ID FOREIGN KEY (SAVE_GOAL_FORMULA_FIELD) REFERENCES Formula_Field (ID) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT MV_Project_site_id FOREIGN KEY (SITE_ID) REFERENCES Site (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS MV_Baseline (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  PROJECT_ID BIGINT NOT NULL,
  NAME VARCHAR(100) NOT NULL,
  FORMULA_FIELD_ID BIGINT NOT NULL,
  FORMULA_FIELD_WITH_ADJUSTMENT BIGINT DEFAULT NULL,
  START_TIME BIGINT DEFAULT NULL,
  END_TIME BIGINT DEFAULT NULL,
  WORKFLOW BIGINT DEFAULT NULL,
  TARGET_CONSUMPTION_FF_ID BIGINT DEFAULT NULL,
  SAVED_CONSUMPTION_FF_ID BIGINT DEFAULT NULL,
  CUMULATIVE_CONSUMPTION_FF_ID BIGINT DEFAULT NULL,
  PERCENTAGE_SAVING_FF_ID BIGINT DEFAULT NULL,
  CONSTRAINT MV_Baseline_FORMULA_FIELD1 FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_FORMULA_FIELD2 FOREIGN KEY (FORMULA_FIELD_WITH_ADJUSTMENT) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_FORMULA_FIELD3 FOREIGN KEY (TARGET_CONSUMPTION_FF_ID) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_FORMULA_FIELD4 FOREIGN KEY (SAVED_CONSUMPTION_FF_ID) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_FORMULA_FIELD5 FOREIGN KEY (CUMULATIVE_CONSUMPTION_FF_ID) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_FORMULA_FIELD6 FOREIGN KEY (PERCENTAGE_SAVING_FF_ID) REFERENCES Formula_Field (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_WORKFLOWID FOREIGN KEY (WORKFLOW) REFERENCES Workflow (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Baseline_PROJECT_ID FOREIGN KEY (PROJECT_ID) REFERENCES MV_Project (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS MV_Adjustment (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  PROJECT_ID BIGINT NOT NULL,
  NAME VARCHAR(100) NOT NULL,
  FORMULA_FIELD_ID BIGINT DEFAULT NULL,
  START_TIME BIGINT NOT NULL,
  END_TIME BIGINT NOT NULL,
  CONSTANT_VALUE DOUBLE(9,3) DEFAULT NULL,
  WORKFLOW BIGINT DEFAULT NULL,
  FREQUENCY INT DEFAULT NULL,
  CONSTRAINT MV_Adjustment_formula_field_id FOREIGN KEY (FORMULA_FIELD_ID) REFERENCES Formula_Field (ID) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT MV_Adjustment_moduleid FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Adjustment_WORKFLOWID FOREIGN KEY (WORKFLOW) REFERENCES Workflow (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT MV_Adjustment_projectid FOREIGN KEY (PROJECT_ID) REFERENCES MV_Project (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Shift_Rotation (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SCHEDULAR_NAME VARCHAR(500),
	SCHEDULAR_FREQUENCY TINYINT,
	SCHEDULAR_DAY TINYINT,
	SHIFT_SPAN_FROM TINYINT,
	SHIFT_SPAN_TO TINYINT,
	TIME_OF_SCHEDULE BIGINT,
	FORM_ID BIGINT,

	CONSTRAINT SHIFT_ROTATION_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SHIFT_ROTATION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS Shift_Rotation_Details (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	SHIFT_ROTATION_ID BIGINT NOT NULL,
	FROM_SHIFT BIGINT NOT NULL,
	TO_SHIFT BIGINT NOT NULL,

	CONSTRAINT SHIFT_ROTATION_DETAILS_FK_FROM_SHIFT FOREIGN KEY (FROM_SHIFT) REFERENCES Shift(ID),
	CONSTRAINT SHIFT_ROTATION_DETAILS_FK_TO_SHIFT FOREIGN KEY (TO_SHIFT) REFERENCES Shift(ID),
	CONSTRAINT SHIFT_ROTATION_DETAILS_SHIFT_ROTATION_ID_FK FOREIGN KEY (SHIFT_ROTATION_ID) REFERENCES Shift_Rotation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Shift_Rotation_Applicable_For (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	APPLICABLE_FOR_TYPE TINYINT NOT NULL,
	APPLICABLE_FOR_ID BIGINT NOT NULL,
	SHIFT_ROTATION_ID BIGINT NOT NULL,

	CONSTRAINT SHIFTROTATION_USER_REL_SHIFT_ROTATION_ID_FK FOREIGN KEY (SHIFT_ROTATION_ID) REFERENCES Shift_Rotation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Store_Notification_config (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	STORE_ID BIGINT NOT NULL,
	WORKFLOW_RULE_ID BIGINT NOT NULL,

	CONSTRAINT Store_Notification_config_STORE_ID_FK FOREIGN KEY (STORE_ID) REFERENCES Store_room (ID) ON DELETE CASCADE,
	CONSTRAINT Store_Notification_config_WORKFLOW_RULE_ID_FK FOREIGN KEY (WORKFLOW_RULE_ID) REFERENCES Workflow_Rule (ID) ON DELETE CASCADE

);
  CREATE TABLE IF NOT EXISTS Break_Transaction (
    	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    	ORGID BIGINT NOT NULL,
    	MODULEID BIGINT NOT NULL,
    	SYS_CREATED_TIME BIGINT,
    	SYS_MODIFIED_TIME BIGINT,
    	ATTENDANCE_ID BIGINT,
    	BREAK_ID BIGINT,
    	TRANSACTION_TYPE TINYINT,
    	TIME_TAKEN BIGINT,
    	START_TIME BIGINT,
    	STOP_TIME BIGINT,
    	FORM_ID BIGINT,

    	CONSTRAINT BREAK_TRANSACTION_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    	CONSTRAINT BREAK_TRANSACTION_FK_ATTENDANCE_ID FOREIGN KEY (ATTENDANCE_ID) REFERENCES Attendance (ID),
    	CONSTRAINT BREAK_TRANSACTION_FK_BREAK_ID FOREIGN KEY (BREAK_ID) REFERENCES Break (ID),
    	CONSTRAINT BREAK_TRANSACTION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
    );


CREATE TABLE IF NOT EXISTS Warranty_Contracts
(
    ID                     BIGINT PRIMARY KEY,
    ORGID                  BIGINT NOT NULL,
    MODULEID               BIGINT NOT NULL,
    LOCAL_ID               BIGINT(20),
    SITE_ID                BIGINT,
    WARRANTY_CONTRACT_TYPE TINYINT,
    STRING_CF1             VARCHAR(255),
    STRING_CF2             VARCHAR(255),
    STRING_CF3             VARCHAR(255),
    STRING_CF4             VARCHAR(255),
    STRING_CF5             VARCHAR(255),
    STRING_CF6             VARCHAR(255),
    STRING_CF7             VARCHAR(255),
    STRING_CF8             VARCHAR(255),
    STRING_CF9             VARCHAR(255),
    STRING_CF10            VARCHAR(255),
    STRING_CF11            VARCHAR(255),
    STRING_CF12            VARCHAR(255),
    STRING_CF13            VARCHAR(255),
    STRING_CF14            VARCHAR(255),
    STRING_CF15            VARCHAR(255),
    STRING_CF16            VARCHAR(255),
    STRING_CF17            VARCHAR(255),
    STRING_CF18            VARCHAR(255),
    STRING_CF19            VARCHAR(255),
    STRING_CF20            VARCHAR(255),
    STRING_CF21            VARCHAR(255),
    STRING_CF22            VARCHAR(255),
    STRING_CF23            VARCHAR(255),
    STRING_CF24            VARCHAR(255),
    STRING_CF25            VARCHAR(255),
    STRING_CF26            VARCHAR(255),
    STRING_CF27            VARCHAR(255),
    STRING_CF28            VARCHAR(255),
    STRING_CF29            VARCHAR(255),
    STRING_CF30            VARCHAR(255),
    NUMBER_CF1             BIGINT,
    NUMBER_CF2             BIGINT,
    NUMBER_CF3             BIGINT,
    NUMBER_CF4             BIGINT,
    NUMBER_CF5             BIGINT,
    NUMBER_CF6             BIGINT,
    NUMBER_CF7             BIGINT,
    NUMBER_CF8             BIGINT,
    NUMBER_CF9             BIGINT,
    NUMBER_CF10            BIGINT,
    NUMBER_CF11            BIGINT,
    NUMBER_CF12            BIGINT,
    NUMBER_CF13            BIGINT,
    NUMBER_CF14            BIGINT,
    NUMBER_CF15            BIGINT,
    NUMBER_CF16            BIGINT,
    NUMBER_CF17            BIGINT,
    NUMBER_CF18            BIGINT,
    NUMBER_CF19            BIGINT,
    NUMBER_CF20            BIGINT,
    NUMBER_CF21            BIGINT,
    NUMBER_CF22            BIGINT,
    NUMBER_CF23            BIGINT,
    NUMBER_CF24            BIGINT,
    NUMBER_CF25            BIGINT,
    NUMBER_CF26            BIGINT,
    NUMBER_CF27            BIGINT,
    NUMBER_CF28            BIGINT,
    NUMBER_CF29            BIGINT,
    NUMBER_CF30            BIGINT,
    DECIMAL_CF1            DOUBLE,
    DECIMAL_CF2            DOUBLE,
    DECIMAL_CF3            DOUBLE,
    DECIMAL_CF4            DOUBLE,
    DECIMAL_CF5            DOUBLE,
    DECIMAL_CF6            DOUBLE,
    DECIMAL_CF7            DOUBLE,
    DECIMAL_CF8            DOUBLE,
    DECIMAL_CF9            DOUBLE,
    DECIMAL_CF10           DOUBLE,
    DECIMAL_CF11           DOUBLE,
    DECIMAL_CF12           DOUBLE,
    DECIMAL_CF13           DOUBLE,
    DECIMAL_CF14           DOUBLE,
    DECIMAL_CF15           DOUBLE,
    DECIMAL_CF16           DOUBLE,
    DECIMAL_CF17           DOUBLE,
    DECIMAL_CF18           DOUBLE,
    DECIMAL_CF19           DOUBLE,
    DECIMAL_CF20           DOUBLE,
    DECIMAL_CF21           DOUBLE,
    DECIMAL_CF22           DOUBLE,
    DECIMAL_CF23           DOUBLE,
    DECIMAL_CF24           DOUBLE,
    DECIMAL_CF25           DOUBLE,
    DECIMAL_CF26           DOUBLE,
    DECIMAL_CF27           DOUBLE,
    DECIMAL_CF28           DOUBLE,
    DECIMAL_CF29           DOUBLE,
    DECIMAL_CF30           DOUBLE,
    BOOLEAN_CF1            BOOLEAN,
    BOOLEAN_CF2            BOOLEAN,
    BOOLEAN_CF3            BOOLEAN,
    BOOLEAN_CF4            BOOLEAN,
    BOOLEAN_CF5            BOOLEAN,
    BOOLEAN_CF6            BOOLEAN,
    BOOLEAN_CF7            BOOLEAN,
    BOOLEAN_CF8            BOOLEAN,
    BOOLEAN_CF9            BOOLEAN,
    BOOLEAN_CF10           BOOLEAN,
    BOOLEAN_CF11           BOOLEAN,
    BOOLEAN_CF12           BOOLEAN,
    BOOLEAN_CF13           BOOLEAN,
    BOOLEAN_CF14           BOOLEAN,
    BOOLEAN_CF15           BOOLEAN,
    BOOLEAN_CF16           BOOLEAN,
    BOOLEAN_CF17           BOOLEAN,
    BOOLEAN_CF18           BOOLEAN,
    BOOLEAN_CF19           BOOLEAN,
    BOOLEAN_CF20           BOOLEAN,
    BOOLEAN_CF21           BOOLEAN,
    BOOLEAN_CF22           BOOLEAN,
    BOOLEAN_CF23           BOOLEAN,
    BOOLEAN_CF24           BOOLEAN,
    BOOLEAN_CF25           BOOLEAN,
    BOOLEAN_CF26           BOOLEAN,
    BOOLEAN_CF27           BOOLEAN,
    BOOLEAN_CF28           BOOLEAN,
    BOOLEAN_CF29           BOOLEAN,
    BOOLEAN_CF30           BOOLEAN,
    DATE_CF1               BIGINT,
    DATE_CF2               BIGINT,
    DATE_CF3               BIGINT,
    DATE_CF4               BIGINT,
    DATE_CF5               BIGINT,
    DATE_CF6               BIGINT,
    DATE_CF7               BIGINT,
    DATE_CF8               BIGINT,
    DATE_CF9               BIGINT,
    DATE_CF10              BIGINT,
    DATE_CF11              BIGINT,
    DATE_CF12              BIGINT,
    DATE_CF13              BIGINT,
    DATE_CF14              BIGINT,
    DATE_CF15              BIGINT,
    DATE_CF16              BIGINT,
    DATE_CF17              BIGINT,
    DATE_CF18              BIGINT,
    DATE_CF19              BIGINT,
    DATE_CF20              BIGINT,
    DATE_CF21              BIGINT,
    DATE_CF22              BIGINT,
    DATE_CF23              BIGINT,
    DATE_CF24              BIGINT,
    DATE_CF25              BIGINT,
    DATE_CF26              BIGINT,
    DATE_CF27              BIGINT,
    DATE_CF28              BIGINT,
    DATE_CF29              BIGINT,
    DATE_CF30              BIGINT,
    DATETIME_CF1           BIGINT,
    DATETIME_CF2           BIGINT,
    DATETIME_CF3           BIGINT,
    DATETIME_CF4           BIGINT,
    DATETIME_CF5           BIGINT,
    DATETIME_CF6           BIGINT,
    DATETIME_CF7           BIGINT,
    DATETIME_CF8           BIGINT,
    DATETIME_CF9           BIGINT,
    DATETIME_CF10          BIGINT,
    DATETIME_CF11          BIGINT,
    DATETIME_CF12          BIGINT,
    DATETIME_CF13          BIGINT,
    DATETIME_CF14          BIGINT,
    DATETIME_CF15          BIGINT,
    DATETIME_CF16          BIGINT,
    DATETIME_CF17          BIGINT,
    DATETIME_CF18          BIGINT,
    DATETIME_CF19          BIGINT,
    DATETIME_CF20          BIGINT,
    DATETIME_CF21          BIGINT,
    DATETIME_CF22          BIGINT,
    DATETIME_CF23          BIGINT,
    DATETIME_CF24          BIGINT,
    DATETIME_CF25          BIGINT,
    DATETIME_CF26          BIGINT,
    DATETIME_CF27          BIGINT,
    DATETIME_CF28          BIGINT,
    DATETIME_CF29          BIGINT,
    DATETIME_CF30          BIGINT,
    ENUM_CF1               INTEGER,
    ENUM_CF2               INTEGER,
    ENUM_CF3               INTEGER,
    ENUM_CF4               INTEGER,
    ENUM_CF5               INTEGER,
    ENUM_CF6               INTEGER,
    ENUM_CF7               INTEGER,
    ENUM_CF8               INTEGER,
    ENUM_CF9               INTEGER,
    ENUM_CF10              INTEGER,
    ENUM_CF11              INTEGER,
    ENUM_CF12              INTEGER,
    ENUM_CF13              INTEGER,
    ENUM_CF14              INTEGER,
    ENUM_CF15              INTEGER,
    ENUM_CF16              INTEGER,
    ENUM_CF17              INTEGER,
    ENUM_CF18              INTEGER,
    ENUM_CF19              INTEGER,
    ENUM_CF20              INTEGER,
    ENUM_CF21              INTEGER,
    ENUM_CF22              INTEGER,
    ENUM_CF23              INTEGER,
    ENUM_CF24              INTEGER,
    ENUM_CF25              INTEGER,
    ENUM_CF26              INTEGER,
    ENUM_CF27              INTEGER,
    ENUM_CF28              INTEGER,
    ENUM_CF29              INTEGER,
    ENUM_CF30              INTEGER,
    FILE_CF1               BIGINT,
    FILE_CF2               BIGINT,
    FILE_CF3               BIGINT,
    FILE_CF4               BIGINT,
    FILE_CF5               BIGINT,
    FILE_CF6               BIGINT,
    FILE_CF7               BIGINT,
    FILE_CF8               BIGINT,
    FILE_CF9               BIGINT,
    FILE_CF10              BIGINT,
    FILE_CF11              BIGINT,
    FILE_CF12              BIGINT,
    FILE_CF13              BIGINT,
    FILE_CF14              BIGINT,
    FILE_CF15              BIGINT,
    FILE_CF16              BIGINT,
    FILE_CF17              BIGINT,
    FILE_CF18              BIGINT,
    FILE_CF19              BIGINT,
    FILE_CF20              BIGINT,
    FILE_CF21              BIGINT,
    FILE_CF22              BIGINT,
    FILE_CF23              BIGINT,
    FILE_CF24              BIGINT,
    FILE_CF25              BIGINT,
    FILE_CF26              BIGINT,
    FILE_CF27              BIGINT,
    FILE_CF28              BIGINT,
    FILE_CF29              BIGINT,
    FILE_CF30              BIGINT,
    LOOKUP_CF1             BIGINT,
    LOOKUP_CF2             BIGINT,
    LOOKUP_CF3             BIGINT,
    LOOKUP_CF4             BIGINT,
    LOOKUP_CF5             BIGINT,
    LOOKUP_CF6             BIGINT,
    LOOKUP_CF7             BIGINT,
    LOOKUP_CF8             BIGINT,
    LOOKUP_CF9             BIGINT,
    LOOKUP_CF10            BIGINT,
    LOOKUP_CF11            BIGINT,
    LOOKUP_CF12            BIGINT,
    LOOKUP_CF13            BIGINT,
    LOOKUP_CF14            BIGINT,
    LOOKUP_CF15            BIGINT,
    LOOKUP_CF16            BIGINT,
    LOOKUP_CF17            BIGINT,
    LOOKUP_CF18            BIGINT,
    LOOKUP_CF19            BIGINT,
    LOOKUP_CF20            BIGINT,
    LOOKUP_CF21            BIGINT,
    LOOKUP_CF22            BIGINT,
    LOOKUP_CF23            BIGINT,
    LOOKUP_CF24            BIGINT,
    LOOKUP_CF25            BIGINT,
    LOOKUP_CF26            BIGINT,
    LOOKUP_CF27            BIGINT,
    LOOKUP_CF28            BIGINT,
    LOOKUP_CF29            BIGINT,
    LOOKUP_CF30            BIGINT,
    SCORE_CF1              DOUBLE,
    SCORE_CF2              DOUBLE,
    SCORE_CF3              DOUBLE,
    SCORE_CF4              DOUBLE,
    SCORE_CF5              DOUBLE,
    SCORE_CF6              DOUBLE,
    SCORE_CF7              DOUBLE,
    SCORE_CF8              DOUBLE,
    SCORE_CF9              DOUBLE,
    SCORE_CF10             DOUBLE,
    SCORE_CF11             DOUBLE,
    SCORE_CF12             DOUBLE,
    SCORE_CF13             DOUBLE,
    SCORE_CF14             DOUBLE,
    SCORE_CF15             DOUBLE,
    SCORE_CF16             DOUBLE,
    SCORE_CF17             DOUBLE,
    SCORE_CF18             DOUBLE,
    SCORE_CF19             DOUBLE,
    SCORE_CF20             DOUBLE,
    SCORE_CF21             DOUBLE,
    SCORE_CF22             DOUBLE,
    SCORE_CF23             DOUBLE,
    SCORE_CF24             DOUBLE,
    SCORE_CF25             DOUBLE,
    SCORE_CF26             DOUBLE,
    SCORE_CF27             DOUBLE,
    SCORE_CF28             DOUBLE,
    SCORE_CF29             DOUBLE,
    SCORE_CF30             DOUBLE,
    CONSTRAINT WARRANTY_CONTRACTS_FK_ID FOREIGN KEY (ID) REFERENCES Contracts (ID) ON DELETE CASCADE,
    CONSTRAINT WARRANTY_CONTRACTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT WARRANTY_CONTRACTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Contracts_Associated_Assets (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CONTRACT_ID BIGINT,
	ASSET_ID BIGINT,
	STATUS TINYINT,
	LEASE_END_VALUE DOUBLE,
	TOTAL_COST DOUBLE,
	PO_ID BIGINT,
	CONSTRAINT Contracts_Associated_Assets_FK_POID FOREIGN KEY (PO_ID) REFERENCES Purchase_Orders (ID),
	CONSTRAINT Contracts_Associated_Assets_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT Contracts_Associated_Assets_FK_ASSETID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID),
	CONSTRAINT Contracts_Associated_Assets_FK_ID FOREIGN KEY (CONTRACT_ID) REFERENCES Contracts (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS WarrantyContractLineItems (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	WARRANTY_CONTRACT BIGINT NOT NULL,
	SERVICE BIGINT,
	UNIT_PRICE DOUBLE,
	QUANTITY DOUBLE,
	COST DOUBLE,
	LABOUR_COVERAGE DOUBLE,
	ITEM_COVERAGE DOUBLE,
	TOOL_COVERAGE DOUBLE,
	DURATION DOUBLE,
	TIME_UNIT TINYINT,
	CONSTRAINT WarrantyContractLineItems_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT WarrantyContractLineItems_FK_WARRANTY_CONTRACT FOREIGN KEY (WARRANTY_CONTRACT) REFERENCES Warranty_Contracts (ID) ON DELETE CASCADE,
	CONSTRAINT WarrantyContractLineItems_FK_SERVICE FOREIGN KEY (SERVICE) REFERENCES Service (ID)
);

CREATE TABLE IF NOT EXISTS Workorder_service (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
    COST DOUBLE,
	QUANTITY DOUBLE,
	UNIT_PRICE DOUBLE,
	PARENT_ID BIGINT,
	PARENT_WO BIGINT,
	VENDOR BIGINT,
	SERVICE BIGINT,
	START_TIME BIGINT,
	END_TIME BIGINT,
	DURATION DOUBLE,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_DELETED TINYINT,
	SYS_DELETED_BY BIGINT,
	SYS_DELETED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	CONSTRAINT WORKORDER_SERVICE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT WORKORDER_SERVICE_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Tickets(ID),
	CONSTRAINT WORKORDER_SERVICE_FK_PARENT_WO FOREIGN KEY (PARENT_WO) REFERENCES Tickets(ID),
	CONSTRAINT WORKORDER_SERVICE_FK_VENDOR FOREIGN KEY (VENDOR) REFERENCES Vendors(ID),
	CONSTRAINT WORKORDER_SERVICE_FK_SERVICE FOREIGN KEY (SERVICE) REFERENCES Service(ID),
	CONSTRAINT WORKORDER_SERVICE_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKORDER_SERVICE_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID)

);


CREATE TABLE IF NOT EXISTS Service_vendors (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SERVICE_ID BIGINT,
	VENDOR_ID BIGINT,
	ORDERING_UNIT INT,
	LAST_PRICE DOUBLE,
	LAST_ORDERED_DATE BIGINT,
	CREATED_TIME BIGINT,
	MODIFIED_TIME BIGINT,


	CONSTRAINT SERVICE_VENDORS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SERVICE_VENDORS_FK_SERVICE_ID FOREIGN KEY (SERVICE_ID) REFERENCES Service(ID),
	CONSTRAINT SERVICE_VENDORS_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID)
);

CREATE TABLE IF NOT EXISTS Rental_Lease_Contracts
(
    ID                BIGINT PRIMARY KEY,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    LOCAL_ID          BIGINT(20),
    SITE_ID           BIGINT,
    RENTAL_LEASE_TYPE TINYINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    CONSTRAINT RENTAL_LEASE_CONTRACTS_FK_ID FOREIGN KEY (ID) REFERENCES Contracts (ID) ON DELETE CASCADE,
    CONSTRAINT RENTAL_LEASE_CONTRACTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources (ID),
    CONSTRAINT RENTAL_LEASE_CONTRACTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS RentalLeaseContractLineItems (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	RENTAL_LEASE_CONTRACT BIGINT NOT NULL,
	INVENTORY_TYPE TINYINT NOT NULL,
	ITEM_TYPE BIGINT,
	TOOL_TYPE BIGINT,
	QUANTITY DOUBLE,
	UNIT_PRICE DOUBLE,
	COST DOUBLE,
	QUANTITY_RECEIVED DOUBLE,
	LEASE_END_VALUE DOUBLE,
	CONSTRAINT RentalLeaseContractLineItems_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT RentalLeaseContractLineItems_FK_RENTAL_LEASE_CONTRACT FOREIGN KEY (RENTAL_LEASE_CONTRACT) REFERENCES Rental_Lease_Contracts (ID) ON DELETE CASCADE,
	CONSTRAINT RentalLeaseContractLineItems_FK_ITEM FOREIGN KEY (ITEM_TYPE) REFERENCES Item_Types (ID),
	CONSTRAINT RentalLeaseContractLineItems_FK_TOOL FOREIGN KEY (TOOL_TYPE) REFERENCES Tool_types (ID)
);

CREATE TABLE IF NOT EXISTS Terms_And_Conditions (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	LOCAL_ID BIGINT(20),
	NAME VARCHAR(100),
	TERM_TYPE VARCHAR(100),
	SHORT_DESC VARCHAR(255),
	LONG_DESC TEXT,
	EDITABLE TINYINT,
	DEFAULT_ON_PO TINYINT,
	SITE_ID BIGINT,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_DELETED TINYINT,
	SYS_DELETED_BY BIGINT,
	SYS_DELETED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT TERMS_AND_CONDITIONS_FK_FROM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID),
	CONSTRAINT TERMS_AND_CONDITIONS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Resources(ID),
	CONSTRAINT TERMS_AND_CONDITIONS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TERMS_AND_CONDITIONS_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TERMS_AND_CONDITIONSY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT TERMS_AND_CONDITIONS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Terms_And_Conditions_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_TERMS_AND_CONDITIONS BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Terms_And_Conditions_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Terms_And_Conditions_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Terms_And_Conditions_ATTACHEMENTS_FK_PARENT_TERMS_AND_CONDITIONS FOREIGN KEY (PARENT_TERMS_AND_CONDITIONS) REFERENCES Terms_And_Conditions (ID)

);

CREATE TABLE IF NOT EXISTS Terms_And_Conditions_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Terms_And_Conditions_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Terms_And_Conditions_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Terms_And_Conditions_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Terms_And_Conditions (ID)
);


CREATE TABLE IF NOT EXISTS Contracts_Associated_Terms (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	CONTRACT_ID BIGINT,
	TERMS_AND_CONDITIONS_ID BIGINT,
	CONSTRAINT Contracts_Associated_Terms_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT Contracts_Associated_Terms_FK_TERMSID FOREIGN KEY (TERMS_AND_CONDITIONS_ID) REFERENCES Terms_And_Conditions (ID),
	CONSTRAINT Contracts_Associated_Terms_FK_ID FOREIGN KEY (CONTRACT_ID) REFERENCES Contracts (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Digest_Configuration (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	DEFAULT_TEMPLATE_ID BIGINT,
	ORGID BIGINT NOT NULL,
	SCHEDULED_ACTION_ID BIGINT,
	SCOPE TINYINT,
	SITE_ID BIGINT,
	DASHBOARD_ID BIGINT,
	IS_ACTIVE BOOLEAN,
	CONSTRAINT Digest_Configuration_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT Digest_Configuration_FK_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard (ID),
	CONSTRAINT Digest_Configuration_FK_SCHEDULED_ACTION_ID FOREIGN KEY (SCHEDULED_ACTION_ID) REFERENCES Scheduled_Actions (ID)
);

CREATE TABLE IF NOT EXISTS Digest_Configuration_Users (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	DIGEST_CONFIGURATION_ID BIGINT,
	USER_ID BIGINT,
	CONSTRAINT Digest_Configuration_Users_FK_CONFIG_ID FOREIGN KEY (DIGEST_CONFIGURATION_ID) REFERENCES Digest_Configuration (ID),
	CONSTRAINT Digest_Configuration_Users_FK_USER_ID FOREIGN KEY (USER_ID) REFERENCES ORG_Users (ORG_USERID)

);

CREATE TABLE IF NOT EXISTS Preferences (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULE_ID BIGINT,
	RECORD_ID BIGINT,
	PREFERENCE_NAME VARCHAR(500),
	FORM_DATA VARCHAR(1000),
	IS_ACTIVE BOOLEAN,
	CONSTRAINT Preferences_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID)
);

CREATE TABLE IF NOT EXISTS Preference_Rules (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULE_ID BIGINT,
	RECORD_ID BIGINT,
	PREFERENCE_NAME VARCHAR(500),
	RULE_ID BIGINT,
	CONSTRAINT Preference_Rules_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID),
	CONSTRAINT Preference_Rules_FK_RULE_ID FOREIGN KEY (RULE_ID) REFERENCES Workflow_Rule (ID)

);

CREATE TABLE IF NOT EXISTS Reading_Tools (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	EMAIL VARCHAR(300),
	ASSET_ID BIGINT NOT NULL,
	FIELD_OPTION_TYPE BIGINT NOT NULL,
	FIELD_ID BIGINT NOT NULL,
	START_TTIME BIGINT NOT NULL,
	END_TTIME BIGINT NOT NULL
);
CREATE UNIQUE INDEX READING_TOOLS_ID ON Reading_Tools(ASSET_ID,FIELD_OPTION_TYPE,FIELD_ID);


CREATE TABLE IF NOT EXISTS Control_Group_Spaces (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  CONTROL_GROUP_ID BIGINT NOT NULL,
  SPACE_ID BIGINT NOT NULL,
  CONSTRAINT Control_Group_Spaces_CONTROL_GROUP_ID FOREIGN KEY (CONTROL_GROUP_ID) REFERENCES Control_Groups (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Group_Spaces_SPACE_ID FOREIGN KEY (SPACE_ID) REFERENCES BaseSpace (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Control_Group_Include_Exclude_Resource (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  CONTROL_GROUP_ID BIGINT NOT NULL,
  RESOURCE_ID BIGINT NOT NULL,
  IS_INCLUDE tinyint(4) DEFAULT NULL,
  CONSTRAINT Control_Group_Include_Exclude_Resource_cg_id FOREIGN KEY (CONTROL_GROUP_ID) REFERENCES Control_Groups (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Group_Include_Exclude_Resource_resourceid FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

-- Reservation Tables
CREATE TABLE IF NOT EXISTS Reservations (
   ID BIGINT PRIMARY KEY AUTO_INCREMENT,
   ORGID BIGINT NOT NULL,
   MODULEID BIGINT NOT NULL,
   SITE_ID BIGINT,
   FORM_ID BIGINT,
   SYS_CREATED_TIME BIGINT,
   SYS_MODIFIED_TIME BIGINT,
   SYS_CREATED_BY BIGINT,
   SYS_MODIFIED_BY BIGINT,
   NAME VARCHAR(255) NOT NULL,
   DESCRIPTION VARCHAR(1000),
   RESERVED_FOR BIGINT NOT NULL,
   SCHEDULED_START_TIME BIGINT NOT NULL,
   SCHEDULED_END_TIME BIGINT NOT NULL,
   ACTUAL_START_TIME BIGINT,
   ACTUAL_END_TIME BIGINT,
   NO_OF_ATTENDEES INT,
   DURATION_TYPE TINYINT NOT NULL,
   SPACE BIGINT NOT NULL,
   LOCAL_ID BIGINT NOT NULL,
   STATUS TINYINT NOT NULL,
   CONSTRAINT RESERVATION_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
   CONSTRAINT RESERVATION_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
   CONSTRAINT RESERVATION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID),
   CONSTRAINT RESERVATION_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT RESERVATION_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT RESERVATION_FK_RESERVED_FOR FOREIGN KEY (RESERVED_FOR) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT RESERVATION_FK_SPACE FOREIGN KEY (SPACE) REFERENCES Space(ID)
);

CREATE TABLE IF NOT EXISTS Reservation_Internal_Attendees (
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    RESERVATION       BIGINT NOT NULL,
    ATTENDEE          BIGINT NOT NULL,
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_ATTENDEE_USER FOREIGN KEY (ATTENDEE) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT RESERVATION_INTERNAL_ATTENDEES_FK_RESERVATION FOREIGN KEY (RESERVATION) REFERENCES Reservations(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Reservation_External_Attendees (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      RESERVATION       BIGINT NOT NULL,
      NAME              VARCHAR(255) NOT NULL,
      EMAIL             VARCHAR(255),
      PHONE             VARCHAR(50),
      CONSTRAINT RESERVATION_EXTERNAL_ATTENDEES_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT RESERVATION_EXTERNAL_ATTENDEES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT RESERVATION_EXTERNAL_ATTENDEES_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT RESERVATION_EXTERNAL_ATTENDEES_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT RESERVATION_EXTERNAL_ATTENDEES_FK_RESERVATION FOREIGN KEY (RESERVATION) REFERENCES Reservations(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Reservation_Attachments (
     ID BIGINT AUTO_INCREMENT PRIMARY KEY,
     ORGID BIGINT NOT NULL,
     MODULEID BIGINT NOT NULL,
     PARENT_ID BIGINT NOT NULL,
     CREATED_TIME BIGINT NOT NULL,
     FILE_ID BIGINT NOT NULL,
     CONSTRAINT RESERVATION_ATTACHEMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
     CONSTRAINT RESERVATION_ATTACHEMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
     CONSTRAINT RESERVATION_ATTACHEMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Reservations (ID)
);

CREATE TABLE IF NOT EXISTS Reservation_Notes (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT NOT NULL,
    CREATED_BY BIGINT,
    CREATED_TIME BIGINT,
    PARENT_ID BIGINT NOT NULL,
    TITLE VARCHAR(50),
    BODY VARCHAR(1000) NOT NULL,
    CONSTRAINT RESERVATION_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT RESERVATION_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT RESERVATION_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Reservations (ID)
);

CREATE TABLE IF NOT EXISTS Asset_Movement (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT(20),
	SYS_MODIFIED_TIME BIGINT(20),
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	REQUESTED_BY BIGINT,
	ASSET_ID BIGINT,
	FROM_SITE BIGINT,
	TO_SITE BIGINT,
	FROM_SPACE BIGINT,
	TO_SPACE BIGINT,
	DESCRIPTION VARCHAR(1000),
	FROM_GEO_LOCATION VARCHAR(100),
	TO_GEO_LOCATION VARCHAR(100),
	SYS_DELETED TINYINT,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
    IS_APPROVAL_NEEDED TINYINT,
    MODULE_STATE BIGINT,
	STATE_FLOW_ID BIGINT,
	FORM_ID BIGINT,
	CONSTRAINT Asset_Movement_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Asset_Movement_FK_SYS_CREATED_BY_ID FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Asset_Movement_FK_SYS_MODIFIED_BY_ID FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Asset_Movement_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Asset_Movement_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Asset_Movement_FK_FROM_SITE FOREIGN KEY (FROM_SITE) REFERENCES Site(ID),
	CONSTRAINT Asset_Movement_FK_TO_SITE FOREIGN KEY (TO_SITE) REFERENCES Site(ID),
	CONSTRAINT Asset_Movement_FK_FROM_SPACE FOREIGN KEY (FROM_SPACE) REFERENCES Resources(ID),
	CONSTRAINT Asset_Movement_FK_TO_SPACE FOREIGN KEY (TO_SPACE) REFERENCES Resources(ID),
	CONSTRAINT Asset_Movement_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
	CONSTRAINT Asset_Movement_FK_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets(ID),
	CONSTRAINT Asset_Movement_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID)

);

CREATE TABLE IF NOT EXISTS PO_Associated_Terms (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PURCHASE_ORDER_ID BIGINT,
	TERMS_AND_CONDITIONS_ID BIGINT,
	CONSTRAINT PO_Associated_Terms_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT PO_Associated_Terms_FK_TERMSID FOREIGN KEY (TERMS_AND_CONDITIONS_ID) REFERENCES Terms_And_Conditions (ID),
	CONSTRAINT PO_Associated_Terms_FK_ID FOREIGN KEY (PURCHASE_ORDER_ID) REFERENCES Purchase_Orders (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PR_Associated_Terms
(
    ID                      BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID                   BIGINT NOT NULL,
    MODULEID                BIGINT NOT NULL,
    PURCHASE_REQUEST_ID     BIGINT,
    TERMS_AND_CONDITIONS_ID BIGINT,
    CONSTRAINT PR_ASSOCIATED_TERMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT PR_ASSOCIATED_TERMS_FK_TERMSID FOREIGN KEY (TERMS_AND_CONDITIONS_ID) REFERENCES Terms_And_Conditions (ID),
    CONSTRAINT PR_ASSOCIATED_TERMS_FK_ID FOREIGN KEY (PURCHASE_REQUEST_ID) REFERENCES Purchase_Requests (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Devices (
  ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  SITE_ID BIGINT NOT NULL,
  DEVICE_TYPE TINYINT(4) NOT NULL,
  KIOSK_TYPE TINYINT(4) DEFAULT NULL,
  DEVICE_INFO VARCHAR(1000) DEFAULT NULL,
  ASSOCIATED_RESOURCE BIGINT DEFAULT NULL,
  IS_DEVICE_CONNECTED TINYINT(1) DEFAULT NULL,
  CONNECTED_TIME BIGINT DEFAULT NULL,
  ONLINE_STATUS BOOLEAN DEFAULT NULL,
  LAST_SEEN_ONLINE_TIME BIGINT(20) DEFAULT NULL,
  LAST_ACTIVITY_TIME BIGINT(20) DEFAULT NULL,
  PRIMARY KEY (ID),  
  CONSTRAINT DEVICES_KF_ASSOCIATED_RESOURCE FOREIGN KEY (ASSOCIATED_RESOURCE) REFERENCES Resources (ID),
  CONSTRAINT DEVICES_FK_ASSET_ID FOREIGN KEY (ID) REFERENCES Assets (ID) ON DELETE CASCADE,
  CONSTRAINT DEVICES_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT DEVICES_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);
CREATE TABLE IF NOT EXISTS Digital_Log_Book (
  ID bigint(20) NOT NULL,
  ORGID bigint(20) NOT NULL,
  SITE_ID bigint(20) NOT NULL,
  LOG_FOR bigint(20) DEFAULT NULL,

  PRIMARY KEY (ID),
  CONSTRAINT DIGITAL_LOG_BOOK_FK_ID FOREIGN KEY (ID) REFERENCES Devices (ID) ON DELETE CASCADE,
  CONSTRAINT DIGITAL_LOG_BOOK_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
  CONSTRAINT DIGITAL_LOG_BOOK_FK_LOG_FOR FOREIGN KEY (LOG_FOR) REFERENCES Resources (ID)
) ;
CREATE TABLE IF NOT EXISTS FacilioQueue (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,	
  QUEUE_NAME VARCHAR(255) NOT NULL,
  DATA TEXT NOT NULL,
  ADDED_TIME BIGINT ,
  VISIBILITY_TIMEOUT BIGINT NOT NULL,
  LAST_CLIENT_RECEIVED_TIME BIGINT,
  MAX_CLIENT_RECEIPT_COUNT INT,
  CLIENT_RECEIPT_COUNT INT,
  DELETED_TIME BIGINT
	
);

CREATE TABLE  IF NOT EXISTS VisitorType (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  ORGID bigint(20) NOT NULL,
  MODULEID bigint(20) NOT NULL,
  NAME varchar(50) DEFAULT NULL,
  DESCRIPTION varchar(1000) DEFAULT NULL,
  IS_ENABLED BOOLEAN DEFAULT TRUE,
  VISITOR_LOGO TINYINT(4),
  PRIMARY KEY (ID),  
  CONSTRAINT VISITOR_TYPE_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID)
);


CREATE TABLE IF NOT EXISTS Visitor (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
   	  LAST_VISITED_TIME BIGINT,
   	  FIRST_VISITED_TIME BIGINT,
   	  LAST_VISITED_SPACE BIGINT,
	  LAST_VISITED_HOST BIGINT,
	  LAST_VISIT_DURATION BIGINT,
	  NAME              VARCHAR(255) NOT NULL,
      EMAIL             VARCHAR(255),
      PHONE             VARCHAR(50),
      AVATAR_ID 		BIGINT,
      SIGNATURE_ID 		BIGINT,
      LOCATION			BIGINT,
      FORM_ID 			BIGINT,
	  VISITOR_TYPE_ID   BIGINT(20), 
      LOCAL_ID 			BIGINT(20),
      IS_RETURNING_VISITOR	TINYINT,
      CONSTRAINT Visitor_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT Visitor_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
      CONSTRAINT Visitor_FK_LOCATION FOREIGN KEY (LOCATION) REFERENCES Locations(ID) ON DELETE SET NULL,
      CONSTRAINT Visitor_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT Visitor_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_FK_LAST_VISITED_HOST FOREIGN KEY (LAST_VISITED_HOST) REFERENCES People(ID),
      CONSTRAINT Visitor_FK_LAST_VISITED_SPACE FOREIGN KEY (LAST_VISITED_SPACE) REFERENCES BaseSpace(ID),
      CONSTRAINT VISITOR_FK_TYPE_ID FOREIGN KEY (VISITOR_TYPE_ID) REFERENCES VisitorType (ID)       
);

CREATE TABLE IF NOT EXISTS FaceCollections (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	COLLECTION_ID VARCHAR(50) NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	CONSTRAINT FACECOLLECTIONS_UNQIUE UNIQUE(ORGID, COLLECTION_ID)
);

CREATE TABLE IF NOT EXISTS Visitor_Faces (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	PHOTO_ID BIGINT NOT NULL,
	COLLECTION_ID BIGINT NOT NULL,
	FACE_ID VARCHAR(100),
	CREATED_TIME BIGINT NOT NULL,
	CONSTRAINT Visitor_Faces_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Visitor (ID),
	CONSTRAINT Visitor_Faces_FK_PHOTO_ID FOREIGN KEY (PHOTO_ID) REFERENCES FacilioFile (FILE_ID),
	CONSTRAINT Visitor_Faces_FK_COLLECTION_ID FOREIGN KEY (COLLECTION_ID) REFERENCES FaceCollections (ID)
);

CREATE TABLE IF NOT EXISTS Visitor_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_VISITOR BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Visitor_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Visitor_Attachments_FK_PARENT_VISITOR FOREIGN KEY (PARENT_VISITOR) REFERENCES Visitor (ID),
	CONSTRAINT Visitor_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Visitor_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Visitor_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Visitor_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Visitor_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Visitor (ID)
);


CREATE TABLE IF NOT EXISTS Visitor_Invites (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      INVITE_NAME        VARCHAR(255) NOT NULL,
      INVITE_HOST        BIGINT,
      EXPECTED_START_TIME  BIGINT,
      EXPECTED_END_TIME  	BIGINT,
      EXPECTED_DURATION	BIGINT,
      INVITE_SOURCE TINYINT,
   	  SOURCE_ID BIGINT,
   	  IS_RECURRING TINYINT,
   	  IS_HOST_APPROVAL_NEEDED TINYINT,
      IS_VISITOR_APPROVAL_NEEDED TINYINT,
      MODULE_STATE      BIGINT,
      STATE_FLOW_ID 	BIGINT,
      FORM_ID 			BIGINT,
      LOCAL_ID 			BIGINT(20),
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
   	  VISITOR_TYPE BIGINT,
   	  VISITING_HOURS_ID BIGINT,
   	  VENDOR_ID BIGINT,
   	  REQUESTED_BY BIGINT,
   	  STRING_CF1 VARCHAR(50),
		STRING_CF2 VARCHAR(50),
		STRING_CF3 VARCHAR(50),
		STRING_CF4 VARCHAR(50),
		STRING_CF5 VARCHAR(50),
		STRING_CF6 VARCHAR(50),
		STRING_CF7 VARCHAR(50),
		STRING_CF8 VARCHAR(50),
		STRING_CF9 VARCHAR(50),
		STRING_CF10 VARCHAR(50),
		STRING_CF11 VARCHAR(50),
		STRING_CF12 VARCHAR(50),
		STRING_CF13 VARCHAR(50),
		STRING_CF14 VARCHAR(50),
		STRING_CF15 VARCHAR(50),
		NUMBER_CF1 BIGINT,
		NUMBER_CF2 BIGINT,
		NUMBER_CF3 BIGINT,
		NUMBER_CF4 BIGINT,
		NUMBER_CF5 BIGINT,
		NUMBER_CF6 BIGINT,
		NUMBER_CF7 BIGINT,
		NUMBER_CF8 BIGINT,
		NUMBER_CF9 BIGINT,
		NUMBER_CF10 BIGINT,
		NUMBER_CF11 BIGINT,
		NUMBER_CF12 BIGINT,
		NUMBER_CF13 BIGINT,
		NUMBER_CF14 BIGINT,
		NUMBER_CF15 BIGINT,
		DECIMAL_CF1 DOUBLE,
		DECIMAL_CF2 DOUBLE,
		DECIMAL_CF3 DOUBLE,
		DECIMAL_CF4 DOUBLE,
		DECIMAL_CF5 DOUBLE,
		DECIMAL_CF6 DOUBLE,
		DECIMAL_CF7 DOUBLE,
		DECIMAL_CF8 DOUBLE,
		DECIMAL_CF9 DOUBLE,
		DECIMAL_CF10 DOUBLE,
		DECIMAL_CF11 DOUBLE,
		DECIMAL_CF12 DOUBLE,
		DECIMAL_CF13 DOUBLE,
		DECIMAL_CF14 DOUBLE,
		DECIMAL_CF15 DOUBLE,
		BOOLEAN_CF1 BOOLEAN,
		BOOLEAN_CF2 BOOLEAN,
		BOOLEAN_CF3 BOOLEAN,
		BOOLEAN_CF4 BOOLEAN,
		BOOLEAN_CF5 BOOLEAN,
		BOOLEAN_CF6 BOOLEAN,
		BOOLEAN_CF7 BOOLEAN,
		BOOLEAN_CF8 BOOLEAN,
		BOOLEAN_CF9 BOOLEAN,
		BOOLEAN_CF10 BOOLEAN,
		BOOLEAN_CF11 BOOLEAN,
		BOOLEAN_CF12 BOOLEAN,
		BOOLEAN_CF13 BOOLEAN,
		BOOLEAN_CF14 BOOLEAN,
		BOOLEAN_CF15 BOOLEAN,
		DATE_CF1 BIGINT,
		DATE_CF2 BIGINT,
		DATE_CF3 BIGINT,
		DATE_CF4 BIGINT,
		DATE_CF5 BIGINT,
		DATE_CF6 BIGINT,
		DATE_CF7 BIGINT,
		DATE_CF8 BIGINT,
		DATE_CF9 BIGINT,
		DATE_CF10 BIGINT,
		DATE_CF11 BIGINT,
		DATE_CF12 BIGINT,
		DATE_CF13 BIGINT,
		DATE_CF14 BIGINT,
		DATE_CF15 BIGINT,
		DATETIME_CF1 BIGINT,
		DATETIME_CF2 BIGINT,
		DATETIME_CF3 BIGINT,
		DATETIME_CF4 BIGINT,
		DATETIME_CF5 BIGINT,
		DATETIME_CF6 BIGINT,
		DATETIME_CF7 BIGINT,
		DATETIME_CF8 BIGINT,
		DATETIME_CF9 BIGINT,
		DATETIME_CF10 BIGINT,
		DATETIME_CF11 BIGINT,
		DATETIME_CF12 BIGINT,
		DATETIME_CF13 BIGINT,
		DATETIME_CF14 BIGINT,
		DATETIME_CF15 BIGINT,
		ENUM_CF1 INTEGER,
		ENUM_CF2 INTEGER,
		ENUM_CF3 INTEGER,
		ENUM_CF4 INTEGER,
		ENUM_CF5 INTEGER,
	  CONSTRAINT Visitor_Invites_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT Visitor_Invites_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
      CONSTRAINT Visitor_Invites_FK_TICKET_STATUS_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
      CONSTRAINT Visitor_Invites_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT Visitor_Invites_FK_VISITOR_TYPE FOREIGN KEY (VISITOR_TYPE) REFERENCES VisitorType (ID),
      CONSTRAINT Visitor_Invites_FK_BUSINESS_HOURS_ID FOREIGN KEY (VISITING_HOURS_ID) REFERENCES BusinessHours (ID),
      CONSTRAINT Visitor_Invites_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_Invites_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_Invites_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_Invites_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID),
      CONSTRAINT Visitor_Invites_FK_EVENT_HOST FOREIGN KEY (INVITE_HOST) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Visitor_Invites_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Invite_Visitor_Rel (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      INVITE_ID			BIGINT,
      VISITOR_ID        BIGINT,
      IS_APPROVAL_NEEDED TINYINT,
      MODULE_STATE		BIGINT,
      STATE_FLOW_ID 	BIGINT,
      QR_URL			VARCHAR(1000),
      CONSTRAINT Invite_Visitor_Rel_FK_MODULE_STATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
      CONSTRAINT Invite_Visitor_Rel_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT Invite_Visitor_Rel_FK_EVENT FOREIGN KEY (INVITE_ID) REFERENCES Visitor_Invites(ID) ON DELETE CASCADE,
      CONSTRAINT Invite_Visitor_Rel_FK_VISITOR_ID FOREIGN KEY (VISITOR_ID) REFERENCES Visitor(ID) ON DELETE CASCADE
      
);

CREATE TABLE IF NOT EXISTS Visitor_Logging
(
    ID                        BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID                     BIGINT NOT NULL,
    MODULEID                  BIGINT NOT NULL,
    SITE_ID                   BIGINT,
    SYS_CREATED_TIME          BIGINT,
    SYS_MODIFIED_TIME         BIGINT,
    SYS_CREATED_BY            BIGINT,
    SYS_MODIFIED_BY           BIGINT,
    VISITOR                   BIGINT,
    VISITOR_INVITE            BIGINT,
    HOST                      BIGINT,
    PURPOSE_OF_VISIT          BIGINT,
    MODULE_STATE              BIGINT,
    STATE_FLOW_ID             BIGINT,
    CHECKIN_TIME              BIGINT,
    CHECKOUT_TIME             BIGINT,
    FORM_ID                   BIGINT,
    ATTACHMENT_PREVIEW        TINYINT,
    LOCAL_ID                  BIGINT(20),
    IS_APPROVAL_NEEDED        TINYINT,
    IS_NDA_SIGNED             TINYINT,
    SYS_DELETED               TINYINT,
    SYS_DELETED_TIME          BIGINT,
    SYS_DELETED_BY            BIGINT,
    VISITED_SPACE             BIGINT,
    VISITOR_TYPE_ID           BIGINT(20),
    AVATAR_ID                 BIGINT,
    SIGNATURE_ID              BIGINT,
    NDA_ID                    BIGINT,
    EXPECTED_VISIT_DURATION   BIGINT,
    EXPECTED_CHECKOUT_TIME    BIGINT,
    IS_BLOCKED                TINYINT,
    IS_VIP                    TINYINT,
    IS_INVITED                TINYINT,
    IS_OVERSTAY               TINYINT,
    PHOTO_STATUS              TINYINT,
    HOST_STATUS               TINYINT,
    ID_PROOF_SCANNED          TINYINT,
    VENDOR_ID                 BIGINT,
    PARENT_LOG_ID             BIGINT,
    GROUP_NAME                VARCHAR(300),
    EXPECTED_CHECKIN_TIME     BIGINT,
    SOURCE                    TINYINT,
    SOURCE_ID                 BIGINT,
    IS_RECURRING              TINYINT,
    IS_PREREGISTERED          TINYINT,
    IS_INVITE_APPROVAL_NEEDED TINYINT,
    VISITING_HOURS_ID         BIGINT,
    LOG_GENERATED_UPTO        BIGINT,
    LOG_GENERATION_STATUS     TINYINT,
    INVITATION_SENT           TINYINT,
    QR_URL                    VARCHAR(2000),
    REQUESTED_BY              BIGINT,
    ACTUAL_VISIT_DURATION     BIGINT,
    IS_RETURNING_VISITOR      TINYINT,
    PASSCODE                  VARCHAR(20),
    VISITOR_NAME              VARCHAR(50),
    VISITOR_EMAIL             VARCHAR(100),
    VISITOR_PHONE             VARCHAR(50),
    TENANT_ID                 BIGINT,
    STRING_CF1                VARCHAR(255),
    STRING_CF2                VARCHAR(255),
    STRING_CF3                VARCHAR(255),
    STRING_CF4                VARCHAR(255),
    STRING_CF5                VARCHAR(255),
    STRING_CF6                VARCHAR(255),
    STRING_CF7                VARCHAR(255),
    STRING_CF8                VARCHAR(255),
    STRING_CF9                VARCHAR(255),
    STRING_CF10               VARCHAR(255),
    STRING_CF11               VARCHAR(255),
    STRING_CF12               VARCHAR(255),
    STRING_CF13               VARCHAR(255),
    STRING_CF14               VARCHAR(255),
    STRING_CF15               VARCHAR(255),
    STRING_CF16               VARCHAR(255),
    STRING_CF17               VARCHAR(255),
    STRING_CF18               VARCHAR(255),
    STRING_CF19               VARCHAR(255),
    STRING_CF20               VARCHAR(255),
    STRING_CF21               VARCHAR(255),
    STRING_CF22               VARCHAR(255),
    STRING_CF23               VARCHAR(255),
    STRING_CF24               VARCHAR(255),
    STRING_CF25               VARCHAR(255),
    STRING_CF26               VARCHAR(255),
    STRING_CF27               VARCHAR(255),
    STRING_CF28               VARCHAR(255),
    STRING_CF29               VARCHAR(255),
    STRING_CF30               VARCHAR(255),
    NUMBER_CF1                BIGINT,
    NUMBER_CF2                BIGINT,
    NUMBER_CF3                BIGINT,
    NUMBER_CF4                BIGINT,
    NUMBER_CF5                BIGINT,
    NUMBER_CF6                BIGINT,
    NUMBER_CF7                BIGINT,
    NUMBER_CF8                BIGINT,
    NUMBER_CF9                BIGINT,
    NUMBER_CF10               BIGINT,
    NUMBER_CF11               BIGINT,
    NUMBER_CF12               BIGINT,
    NUMBER_CF13               BIGINT,
    NUMBER_CF14               BIGINT,
    NUMBER_CF15               BIGINT,
    NUMBER_CF16               BIGINT,
    NUMBER_CF17               BIGINT,
    NUMBER_CF18               BIGINT,
    NUMBER_CF19               BIGINT,
    NUMBER_CF20               BIGINT,
    NUMBER_CF21               BIGINT,
    NUMBER_CF22               BIGINT,
    NUMBER_CF23               BIGINT,
    NUMBER_CF24               BIGINT,
    NUMBER_CF25               BIGINT,
    NUMBER_CF26               BIGINT,
    NUMBER_CF27               BIGINT,
    NUMBER_CF28               BIGINT,
    NUMBER_CF29               BIGINT,
    NUMBER_CF30               BIGINT,
    DECIMAL_CF1               DOUBLE,
    DECIMAL_CF2               DOUBLE,
    DECIMAL_CF3               DOUBLE,
    DECIMAL_CF4               DOUBLE,
    DECIMAL_CF5               DOUBLE,
    DECIMAL_CF6               DOUBLE,
    DECIMAL_CF7               DOUBLE,
    DECIMAL_CF8               DOUBLE,
    DECIMAL_CF9               DOUBLE,
    DECIMAL_CF10              DOUBLE,
    DECIMAL_CF11              DOUBLE,
    DECIMAL_CF12              DOUBLE,
    DECIMAL_CF13              DOUBLE,
    DECIMAL_CF14              DOUBLE,
    DECIMAL_CF15              DOUBLE,
    DECIMAL_CF16              DOUBLE,
    DECIMAL_CF17              DOUBLE,
    DECIMAL_CF18              DOUBLE,
    DECIMAL_CF19              DOUBLE,
    DECIMAL_CF20              DOUBLE,
    DECIMAL_CF21              DOUBLE,
    DECIMAL_CF22              DOUBLE,
    DECIMAL_CF23              DOUBLE,
    DECIMAL_CF24              DOUBLE,
    DECIMAL_CF25              DOUBLE,
    DECIMAL_CF26              DOUBLE,
    DECIMAL_CF27              DOUBLE,
    DECIMAL_CF28              DOUBLE,
    DECIMAL_CF29              DOUBLE,
    DECIMAL_CF30              DOUBLE,
    BOOLEAN_CF1               BOOLEAN,
    BOOLEAN_CF2               BOOLEAN,
    BOOLEAN_CF3               BOOLEAN,
    BOOLEAN_CF4               BOOLEAN,
    BOOLEAN_CF5               BOOLEAN,
    BOOLEAN_CF6               BOOLEAN,
    BOOLEAN_CF7               BOOLEAN,
    BOOLEAN_CF8               BOOLEAN,
    BOOLEAN_CF9               BOOLEAN,
    BOOLEAN_CF10              BOOLEAN,
    BOOLEAN_CF11              BOOLEAN,
    BOOLEAN_CF12              BOOLEAN,
    BOOLEAN_CF13              BOOLEAN,
    BOOLEAN_CF14              BOOLEAN,
    BOOLEAN_CF15              BOOLEAN,
    BOOLEAN_CF16              BOOLEAN,
    BOOLEAN_CF17              BOOLEAN,
    BOOLEAN_CF18              BOOLEAN,
    BOOLEAN_CF19              BOOLEAN,
    BOOLEAN_CF20              BOOLEAN,
    BOOLEAN_CF21              BOOLEAN,
    BOOLEAN_CF22              BOOLEAN,
    BOOLEAN_CF23              BOOLEAN,
    BOOLEAN_CF24              BOOLEAN,
    BOOLEAN_CF25              BOOLEAN,
    BOOLEAN_CF26              BOOLEAN,
    BOOLEAN_CF27              BOOLEAN,
    BOOLEAN_CF28              BOOLEAN,
    BOOLEAN_CF29              BOOLEAN,
    BOOLEAN_CF30              BOOLEAN,
    DATE_CF1                  BIGINT,
    DATE_CF2                  BIGINT,
    DATE_CF3                  BIGINT,
    DATE_CF4                  BIGINT,
    DATE_CF5                  BIGINT,
    DATE_CF6                  BIGINT,
    DATE_CF7                  BIGINT,
    DATE_CF8                  BIGINT,
    DATE_CF9                  BIGINT,
    DATE_CF10                 BIGINT,
    DATE_CF11                 BIGINT,
    DATE_CF12                 BIGINT,
    DATE_CF13                 BIGINT,
    DATE_CF14                 BIGINT,
    DATE_CF15                 BIGINT,
    DATE_CF16                 BIGINT,
    DATE_CF17                 BIGINT,
    DATE_CF18                 BIGINT,
    DATE_CF19                 BIGINT,
    DATE_CF20                 BIGINT,
    DATE_CF21                 BIGINT,
    DATE_CF22                 BIGINT,
    DATE_CF23                 BIGINT,
    DATE_CF24                 BIGINT,
    DATE_CF25                 BIGINT,
    DATE_CF26                 BIGINT,
    DATE_CF27                 BIGINT,
    DATE_CF28                 BIGINT,
    DATE_CF29                 BIGINT,
    DATE_CF30                 BIGINT,
    DATETIME_CF1              BIGINT,
    DATETIME_CF2              BIGINT,
    DATETIME_CF3              BIGINT,
    DATETIME_CF4              BIGINT,
    DATETIME_CF5              BIGINT,
    DATETIME_CF6              BIGINT,
    DATETIME_CF7              BIGINT,
    DATETIME_CF8              BIGINT,
    DATETIME_CF9              BIGINT,
    DATETIME_CF10             BIGINT,
    DATETIME_CF11             BIGINT,
    DATETIME_CF12             BIGINT,
    DATETIME_CF13             BIGINT,
    DATETIME_CF14             BIGINT,
    DATETIME_CF15             BIGINT,
    DATETIME_CF16             BIGINT,
    DATETIME_CF17             BIGINT,
    DATETIME_CF18             BIGINT,
    DATETIME_CF19             BIGINT,
    DATETIME_CF20             BIGINT,
    DATETIME_CF21             BIGINT,
    DATETIME_CF22             BIGINT,
    DATETIME_CF23             BIGINT,
    DATETIME_CF24             BIGINT,
    DATETIME_CF25             BIGINT,
    DATETIME_CF26             BIGINT,
    DATETIME_CF27             BIGINT,
    DATETIME_CF28             BIGINT,
    DATETIME_CF29             BIGINT,
    DATETIME_CF30             BIGINT,
    ENUM_CF1                  INTEGER,
    ENUM_CF2                  INTEGER,
    ENUM_CF3                  INTEGER,
    ENUM_CF4                  INTEGER,
    ENUM_CF5                  INTEGER,
    ENUM_CF6                  INTEGER,
    ENUM_CF7                  INTEGER,
    ENUM_CF8                  INTEGER,
    ENUM_CF9                  INTEGER,
    ENUM_CF10                 INTEGER,
    ENUM_CF11                 INTEGER,
    ENUM_CF12                 INTEGER,
    ENUM_CF13                 INTEGER,
    ENUM_CF14                 INTEGER,
    ENUM_CF15                 INTEGER,
    ENUM_CF16                 INTEGER,
    ENUM_CF17                 INTEGER,
    ENUM_CF18                 INTEGER,
    ENUM_CF19                 INTEGER,
    ENUM_CF20                 INTEGER,
    ENUM_CF21                 INTEGER,
    ENUM_CF22                 INTEGER,
    ENUM_CF23                 INTEGER,
    ENUM_CF24                 INTEGER,
    ENUM_CF25                 INTEGER,
    ENUM_CF26                 INTEGER,
    ENUM_CF27                 INTEGER,
    ENUM_CF28                 INTEGER,
    ENUM_CF29                 INTEGER,
    ENUM_CF30                 INTEGER,
    FILE_CF1                  BIGINT,
    FILE_CF2                  BIGINT,
    FILE_CF3                  BIGINT,
    FILE_CF4                  BIGINT,
    FILE_CF5                  BIGINT,
    FILE_CF6                  BIGINT,
    FILE_CF7                  BIGINT,
    FILE_CF8                  BIGINT,
    FILE_CF9                  BIGINT,
    FILE_CF10                 BIGINT,
    FILE_CF11                 BIGINT,
    FILE_CF12                 BIGINT,
    FILE_CF13                 BIGINT,
    FILE_CF14                 BIGINT,
    FILE_CF15                 BIGINT,
    FILE_CF16                 BIGINT,
    FILE_CF17                 BIGINT,
    FILE_CF18                 BIGINT,
    FILE_CF19                 BIGINT,
    FILE_CF20                 BIGINT,
    FILE_CF21                 BIGINT,
    FILE_CF22                 BIGINT,
    FILE_CF23                 BIGINT,
    FILE_CF24                 BIGINT,
    FILE_CF25                 BIGINT,
    FILE_CF26                 BIGINT,
    FILE_CF27                 BIGINT,
    FILE_CF28                 BIGINT,
    FILE_CF29                 BIGINT,
    FILE_CF30                 BIGINT,
    LOOKUP_CF1                BIGINT,
    LOOKUP_CF2                BIGINT,
    LOOKUP_CF3                BIGINT,
    LOOKUP_CF4                BIGINT,
    LOOKUP_CF5                BIGINT,
    LOOKUP_CF6                BIGINT,
    LOOKUP_CF7                BIGINT,
    LOOKUP_CF8                BIGINT,
    LOOKUP_CF9                BIGINT,
    LOOKUP_CF10               BIGINT,
    LOOKUP_CF11               BIGINT,
    LOOKUP_CF12               BIGINT,
    LOOKUP_CF13               BIGINT,
    LOOKUP_CF14               BIGINT,
    LOOKUP_CF15               BIGINT,
    LOOKUP_CF16               BIGINT,
    LOOKUP_CF17               BIGINT,
    LOOKUP_CF18               BIGINT,
    LOOKUP_CF19               BIGINT,
    LOOKUP_CF20               BIGINT,
    LOOKUP_CF21               BIGINT,
    LOOKUP_CF22               BIGINT,
    LOOKUP_CF23               BIGINT,
    LOOKUP_CF24               BIGINT,
    LOOKUP_CF25               BIGINT,
    LOOKUP_CF26               BIGINT,
    LOOKUP_CF27               BIGINT,
    LOOKUP_CF28               BIGINT,
    LOOKUP_CF29               BIGINT,
    LOOKUP_CF30               BIGINT,
    SCORE_CF1                 DOUBLE,
    SCORE_CF2                 DOUBLE,
    SCORE_CF3                 DOUBLE,
    SCORE_CF4                 DOUBLE,
    SCORE_CF5                 DOUBLE,
    SCORE_CF6                 DOUBLE,
    SCORE_CF7                 DOUBLE,
    SCORE_CF8                 DOUBLE,
    SCORE_CF9                 DOUBLE,
    SCORE_CF10                DOUBLE,
    SCORE_CF11                DOUBLE,
    SCORE_CF12                DOUBLE,
    SCORE_CF13                DOUBLE,
    SCORE_CF14                DOUBLE,
    SCORE_CF15                DOUBLE,
    SCORE_CF16                DOUBLE,
    SCORE_CF17                DOUBLE,
    SCORE_CF18                DOUBLE,
    SCORE_CF19                DOUBLE,
    SCORE_CF20                DOUBLE,
    SCORE_CF21                DOUBLE,
    SCORE_CF22                DOUBLE,
    SCORE_CF23                DOUBLE,
    SCORE_CF24                DOUBLE,
    SCORE_CF25                DOUBLE,
    SCORE_CF26                DOUBLE,
    SCORE_CF27                DOUBLE,
    SCORE_CF28                DOUBLE,
    SCORE_CF29                DOUBLE,
    SCORE_CF30                DOUBLE,
    CONSTRAINT Visitor_Logging_FK_BUSINESS_HOURS_ID FOREIGN KEY (VISITING_HOURS_ID) REFERENCES BusinessHours (ID),
    CONSTRAINT Visitor_Logging_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Visitor_Logging_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Visitor_Logging_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Visitor_Logging_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Visitor_Logging_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Visitor_Logging_FK_EVENT_HOST FOREIGN KEY (HOST) REFERENCES Contacts (ID),
    CONSTRAINT Visitor_Logging_FK_VISITOR_INVITE FOREIGN KEY (VISITOR_INVITE) REFERENCES Visitor_Invites (ID),
    CONSTRAINT Visitor_Logging_FK_VISITOR FOREIGN KEY (VISITOR) REFERENCES Visitor (ID),
    CONSTRAINT Visitor_Logging_FK_STATUS_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Visitor_Logging_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Visitor_Logging_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT Visitor_Logging_FK_VISITED_SPACE FOREIGN KEY (VISITED_SPACE) REFERENCES BaseSpace (ID),
    CONSTRAINT Visitor_Logging_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors (ID),
    CONSTRAINT Visitor_Logging_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
    CONSTRAINT Visitor_Logging_FK_TYPE_ID FOREIGN KEY (VISITOR_TYPE_ID) REFERENCES VisitorType (ID)
);

CREATE TABLE IF NOT EXISTS BaseVisit (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
      MODULE_STATE		BIGINT,
      STATE_FLOW_ID		BIGINT,
      FORM_ID 			BIGINT,
      LOCAL_ID 			BIGINT(20),
      VISITOR_TYPE_ID   BIGINT(20), 
      HOST        		BIGINT,
      VISITOR 			BIGINT,
      PURPOSE_OF_VISIT  BIGINT,
      AVATAR_ID 		BIGINT,
      IS_BLOCKED		TINYINT,
      IS_VIP			TINYINT,
      VENDOR_ID 		BIGINT,
      SOURCE 			TINYINT,
   	  SOURCE_ID 		BIGINT,
   	  TENANT_ID 		BIGINT,
	  QR_URL			VARCHAR(2000),
   	  REQUESTED_BY 			BIGINT,
   	  IS_RETURNING_VISITOR	TINYINT,
   	  PASSCODE			VARCHAR(20),
   	  VISITOR_NAME 		VARCHAR(50),
   	  VISITOR_EMAIL 	VARCHAR(100),
   	  VISITOR_PHONE 	VARCHAR(50),
   	  PHOTO_STATUS			TINYINT,
      HOST_STATUS			TINYINT,
      ID_PROOF_SCANNED		TINYINT,
      CHILD_VISIT_TYPE		TINYINT,
   	   STRING_CF1 VARCHAR(50),
		STRING_CF2 VARCHAR(50),
		STRING_CF3 VARCHAR(50),
		STRING_CF4 VARCHAR(50),
		STRING_CF5 VARCHAR(50),
		STRING_CF6 VARCHAR(50),
		STRING_CF7 VARCHAR(50),
		STRING_CF8 VARCHAR(50),
		STRING_CF9 VARCHAR(50),
		STRING_CF10 VARCHAR(50),
		STRING_CF11 VARCHAR(50),
		STRING_CF12 VARCHAR(50),
		STRING_CF13 VARCHAR(50),
		STRING_CF14 VARCHAR(50),
		STRING_CF15 VARCHAR(50),
		NUMBER_CF1 BIGINT,
		NUMBER_CF2 BIGINT,
		NUMBER_CF3 BIGINT,
		NUMBER_CF4 BIGINT,
		NUMBER_CF5 BIGINT,
		NUMBER_CF6 BIGINT,
		NUMBER_CF7 BIGINT,
		NUMBER_CF8 BIGINT,
		NUMBER_CF9 BIGINT,
		NUMBER_CF10 BIGINT,
		NUMBER_CF11 BIGINT,
		NUMBER_CF12 BIGINT,
		NUMBER_CF13 BIGINT,
		NUMBER_CF14 BIGINT,
		NUMBER_CF15 BIGINT,
		DECIMAL_CF1 DOUBLE,
		DECIMAL_CF2 DOUBLE,
		DECIMAL_CF3 DOUBLE,
		DECIMAL_CF4 DOUBLE,
		DECIMAL_CF5 DOUBLE,
		DECIMAL_CF6 DOUBLE,
		DECIMAL_CF7 DOUBLE,
		DECIMAL_CF8 DOUBLE,
		DECIMAL_CF9 DOUBLE,
		DECIMAL_CF10 DOUBLE,
		DECIMAL_CF11 DOUBLE,
		DECIMAL_CF12 DOUBLE,
		DECIMAL_CF13 DOUBLE,
		DECIMAL_CF14 DOUBLE,
		DECIMAL_CF15 DOUBLE,
		BOOLEAN_CF1 BOOLEAN,
		BOOLEAN_CF2 BOOLEAN,
		BOOLEAN_CF3 BOOLEAN,
		BOOLEAN_CF4 BOOLEAN,
		BOOLEAN_CF5 BOOLEAN,
		BOOLEAN_CF6 BOOLEAN,
		BOOLEAN_CF7 BOOLEAN,
		BOOLEAN_CF8 BOOLEAN,
		BOOLEAN_CF9 BOOLEAN,
		BOOLEAN_CF10 BOOLEAN,
		BOOLEAN_CF11 BOOLEAN,
		BOOLEAN_CF12 BOOLEAN,
		BOOLEAN_CF13 BOOLEAN,
		BOOLEAN_CF14 BOOLEAN,
		BOOLEAN_CF15 BOOLEAN,
		DATE_CF1 BIGINT,
		DATE_CF2 BIGINT,
		DATE_CF3 BIGINT,
		DATE_CF4 BIGINT,
		DATE_CF5 BIGINT,
		DATE_CF6 BIGINT,
		DATE_CF7 BIGINT,
		DATE_CF8 BIGINT,
		DATE_CF9 BIGINT,
		DATE_CF10 BIGINT,
		DATE_CF11 BIGINT,
		DATE_CF12 BIGINT,
		DATE_CF13 BIGINT,
		DATE_CF14 BIGINT,
		DATE_CF15 BIGINT,
		DATETIME_CF1 BIGINT,
		DATETIME_CF2 BIGINT,
		DATETIME_CF3 BIGINT,
		DATETIME_CF4 BIGINT,
		DATETIME_CF5 BIGINT,
		DATETIME_CF6 BIGINT,
		DATETIME_CF7 BIGINT,
		DATETIME_CF8 BIGINT,
		DATETIME_CF9 BIGINT,
		DATETIME_CF10 BIGINT,
		DATETIME_CF11 BIGINT,
		DATETIME_CF12 BIGINT,
		DATETIME_CF13 BIGINT,
		DATETIME_CF14 BIGINT,
		DATETIME_CF15 BIGINT,
		ENUM_CF1 INTEGER,
		ENUM_CF2 INTEGER,
		ENUM_CF3 INTEGER,
		ENUM_CF4 INTEGER,
		ENUM_CF5 INTEGER,
		FILE_CF1 VARCHAR(100),
		FILE_CF2 VARCHAR(100),
		FILE_CF3 VARCHAR(100),
		FILE_CF4 VARCHAR(100),
		FILE_CF5 VARCHAR(100),
      CONSTRAINT BaseVisit_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT BaseVisit_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT BaseVisit_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT BaseVisit_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT BaseVisit_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT BaseVisit_FK_EVENT_HOST FOREIGN KEY (HOST) REFERENCES People(ID),
      CONSTRAINT BaseVisit_FK_VISITOR FOREIGN KEY (VISITOR) REFERENCES Visitor(ID),
      CONSTRAINT BaseVisit_FK_STATUS_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
      CONSTRAINT BaseVisit_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT BaseVisit_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
      CONSTRAINT BaseVisit_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors(ID),
      CONSTRAINT BaseVisit_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants(ID),
      CONSTRAINT BaseVisit_FK_TYPE_ID FOREIGN KEY (VISITOR_TYPE_ID) REFERENCES VisitorType (ID)            
);

CREATE TABLE IF NOT EXISTS InviteVisitor (
      ID                BIGINT PRIMARY KEY,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      EXPECTED_VISIT_DURATION BIGINT,
	  EXPECTED_CHECKOUT_TIME BIGINT,
	  EXPECTED_CHECKIN_TIME  BIGINT,
	  IS_INVITE_APPROVAL_NEEDED TINYINT, 
      IS_RECURRING TINYINT,
      LOG_GENERATED_UPTO BIGINT,
   	  LOG_GENERATION_STATUS TINYINT,
   	  INVITATION_SENT	TINYINT,
   	  GROUP_ID BIGINT,
   	  PARENT_INVITE_ID BIGINT,
   	  IS_INVITED TINYINT,
   	  HAS_CHECKED_IN TINYINT,
   	  CONSTRAINT InviteVisitor_FK_ID FOREIGN KEY (ID) REFERENCES BaseVisit(ID) ON DELETE CASCADE,
      CONSTRAINT InviteVisitor_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT InviteVisitor_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS VisitorLog (
      ID                BIGINT PRIMARY KEY,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      CHECKIN_TIME  	BIGINT,
      CHECKOUT_TIME  	BIGINT,
      ACTUAL_VISIT_DURATION BIGINT,
      IS_APPROVAL_NEEDED TINYINT,
      IS_OVERSTAY			TINYINT,
   	  VISITED_SPACE     BIGINT,
      SIGNATURE_ID      BIGINT,
	  NDA_ID			BIGINT,
	  IS_NDA_SIGNED TINYINT,
      ATTACHMENT_PREVIEW TINYINT,
      INVITE_ID BIGINT,
      CONSTRAINT VisitorLog_FK_ID FOREIGN KEY (ID) REFERENCES BaseVisit(ID) ON DELETE CASCADE,
      CONSTRAINT VisitorLog_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT VisitorLog_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT VisitorLog_FK_VISITED_SPACE FOREIGN KEY (VISITED_SPACE) REFERENCES BaseSpace(ID),
      CONSTRAINT VisitorLog_FK_INVITE_ID FOREIGN KEY (INVITE_ID) REFERENCES InviteVisitor(ID)
);

CREATE TABLE IF NOT EXISTS BaseScheduler(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	RECORD_ID BIGINT NOT NULL,
	START_TIME BIGINT,
	END_TIME BIGINT,
	SCHEDULE_INFO VARCHAR(1000),
	SCHEDULE_TYPE INT NOT NULL,
	GENERATED_UPTO_TIME BIGINT
);

CREATE TABLE IF NOT EXISTS RecurringInviteVisitor(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SCHEDULE_ID BIGINT NOT NULL
);

CREATE TABLE IF NOT EXISTS VisitorLog_Triggers(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(150) DEFAULT NULL,
	VISITOR_LOG_ID BIGINT NOT NULL,
	SCHEDULE_INFO VARCHAR(1000),
	START_TIME BIGINT,
	END_TIME BIGINT,
	TRIGGER_EXECUTION_SOURCE INT NOT NULL,
	TRIGGER_TYPE INT DEFAULT NULL,
	FREQUENCY INT,
	IS_CUSTOM BOOLEAN,
	LOG_GENERATED_UPTO BIGINT,
   CONSTRAINT VISITOR_LOG_TRIGGERS_FK_PM_ID FOREIGN KEY (VISITOR_LOG_ID) REFERENCES Visitor_Logging(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Visitor_Logging_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_VISITOR_LOG BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Visitor_Logging_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Visitor_Logging_Attachments_FK_PARENT_VISITOR FOREIGN KEY (PARENT_VISITOR_LOG) REFERENCES Visitor_Logging (ID),
	CONSTRAINT Visitor_Logging_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Visitor_Logging_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT Visitor_Logging_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Visitor_Logging_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Visitor_Logging_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Visitor_Logging (ID)
);
CREATE TABLE IF NOT EXISTS VisitorSettings (
  VISITOR_TYPE_ID bigint(20) NOT NULL,
  ORGID bigint(20) NOT NULL,
  VISITOR_LOG_FORM_ID bigint(20) DEFAULT NULL,
  VISITOR_INVITE_FORM_ID bigint(20) DEFAULT NULL,
  IS_NDA_ENABLED BOOLEAN DEFAULT FALSE,
  IS_BADGE_ENABLED BOOLEAN DEFAULT FALSE,
  IS_PHOTO_ENABLED BOOLEAN DEFAULT FALSE,
  AUTO_SIGNOUT_TIME bigint(20) DEFAULT NULL,
  HOST_ENABLED BOOLEAN  DEFAULT FALSE,
  HOST_SETTINGS_JSON VARCHAR(1000) DEFAULT NULL,  
  IS_ID_SCAN_ENABLED BOOLEAN DEFAULT NULL,
  NDA_CONTENT LONGTEXT DEFAULT NULL,
  PHOTO_SETTINGS_JSON VARCHAR(1000) DEFAULT NULL,  
  IS_INVITE_APPROVAL_REQUIRED BOOLEAN DEFAULT NULL,
  INVITE_APPROVAL_SETTINGS_JSON VARCHAR(1000) DEFAULT NULL,
  FACE_RECOGNITION_ENABLED BOOLEAN DEFAULT FALSE,
  PRIMARY KEY (VISITOR_TYPE_ID),
  CONSTRAINT VISITOR_SETTING_FK_VISITOR_LOG_FORM_ID FOREIGN KEY (VISITOR_LOG_FORM_ID) REFERENCES Forms (ID),
  CONSTRAINT VISITOR_SETTING_FK_VISITOR_INVITE_FORM_ID FOREIGN KEY (VISITOR_INVITE_FORM_ID) REFERENCES Forms (ID),
  CONSTRAINT VISITOR_SETTING_FK_VISITOR_TYPE_ID FOREIGN KEY (VISITOR_TYPE_ID) REFERENCES VisitorType (ID)
);

CREATE TABLE IF NOT EXISTS Service_Catalog_Group (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    SITE_ID BIGINT,
	NAME VARCHAR(50) NOT NULL,
	DESCRIPTION VARCHAR(255) NOT NULL,
	CONSTRAINT SERVICECATALOGGROUP_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);

CREATE TABLE IF NOT EXISTS Service_Catalog (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    SITE_ID BIGINT,
	MODULEID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	DESCRIPTION VARCHAR(255),
	FORM_ID BIGINT,
	PHOTO_ID BIGINT,
	GROUP_ID BIGINT NOT NULL,
	CONSTRAINT SERVICECATALOG_FK_GROUPID FOREIGN KEY (GROUP_ID) REFERENCES Service_Catalog_Group (ID),
	CONSTRAINT SERVICECATALOG_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT SERVICECATALOG_FK_FORMID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS Insurance
(
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    VENDOR_ID         BIGINT,
    COMPANY_NAME      VARCHAR(200),
    LOCAL_ID          BIGINT,
    INSURANCE_TYPE    TINYINT,
    VALID_FROM        BIGINT,
    INSURANCE_ID      BIGINT,
    VALID_TILL        BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    ADDED_BY          BIGINT,
    MODULE_STATE      BIGINT,
    STATE_FLOW_ID     BIGINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    CONSTRAINT Insurance_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Insurance_FK_MODULE_STATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Insurance_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Insurance_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Insurance_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Insurance_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Insurance_FK_ADDED_BY FOREIGN KEY (ADDED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Insurance_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors (ID),
    CONSTRAINT Insurance_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL

);

CREATE TABLE IF NOT EXISTS Insurance_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_INSURANCE BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Insurance_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Insurance_Attachments_FK_PARENT_INSURANCE FOREIGN KEY (PARENT_INSURANCE) REFERENCES Insurance (ID),
	CONSTRAINT Insurance_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Insurance_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Insurance_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Insurance_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Insurance_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Insurance (ID)
);

CREATE TABLE IF NOT EXISTS WatchList (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      NAME				VARCHAR(200),
      PHONE 			VARCHAR(200),
      EMAIL 			VARCHAR(200),
      ALIASES 			VARCHAR(200),
      PHYSICAL_DESCRIPTION VARCHAR(500),
      REMARKS			VARCHAR(500),
      IS_VIP 			TINYINT,
      AVATAR_ID			BIGINT,
      IS_BLOCKED 		TINYINT,
      FORM_ID 			BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
   	  LOCAL_ID			BIGINT,
   	  CONSTRAINT WatchList_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT WatchList_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT WatchList_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT WatchList_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT WatchList_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT WatchList_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL
  
);

CREATE TABLE IF NOT EXISTS MV_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	BASELINE DOUBLE,
	ADJUSTED_BASELINE DOUBLE,
	TARGET_SAVING DOUBLE,
	ACTUAL_SAVING DOUBLE,
	CUMULATIVE_SAVING DOUBLE,
	SAVING_PERCENTAGE DOUBLE,
	SAVE_GOAL DOUBLE,
	CONSTRAINT MV_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT MV_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES MV_Project(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Alarm_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	ACTIVITY_TYPE TINYINT NOT NULL,
	DONE_BY_ID BIGINT NOT NULL,
	INFO VARCHAR(5000),
	OCCURRENCE_ID BIGINT,
	CONSTRAINT ALARM_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT ALARM_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ALARM_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT ALARM_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);

CREATE TABLE IF NOT EXISTS Form_Site_Relation (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	FORM_ID BIGINT,
	SITE_ID BIGINT,
	CONSTRAINT Form_Site_Relation_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT Form_Site_Relation_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE CASCADE

);

CREATE TABLE IF NOT EXISTS MV_Adjustment_Readings (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SOURCE_TYPE BIGINT,
	SOURCE_ID BIGINT,
	ACTUAL_TTIME BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	TTIME_DATE DATE NOT NULL,
	TTIME_MONTH INT NOT NULL,
	TTIME_WEEK INT NOT NULL,
	TTIME_DAY INT NOT NULL,
	TTIME_HOUR INT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	BASELINE DOUBLE,
	ADJUSTED_BASELINE DOUBLE,
	ADJUSTMENT_1 DOUBLE,
	ADJUSTMENT_2 DOUBLE,
	ADJUSTMENT_3 DOUBLE,
	ADJUSTMENT_4 DOUBLE,
	ADJUSTMENT_5 DOUBLE,
	ADJUSTMENT_6 DOUBLE,
	ADJUSTMENT_7 DOUBLE,
	ADJUSTMENT_8 DOUBLE,
	ADJUSTMENT_9 DOUBLE,
	ADJUSTMENT_10 DOUBLE,
	CONSTRAINT MV_Adjustment_READINGS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT MV_Adjustment_READINGS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES MV_Project(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Printers(
ID BIGINT AUTO_INCREMENT NOT NULL,
ORGID bigint(20) NOT NULL,
NAME VARCHAR(20),
IP VARCHAR(20),
MODEL TINYINT(4) NOT NULL,
CONNECT_MODE TINYINT(4) NOT NULL,
INFO VARCHAR(1000) DEFAULT NULL,
IS_CONNECTED TINYINT(1) DEFAULT NULL,
PRIMARY KEY (ID)  
);


CREATE TABLE IF NOT EXISTS Devices_Visitor_Kiosk(
ID BIGINT NOT NULL,
ORGID bigint(20) NOT NULL,
PRINTER_ID BIGINT DEFAULT NULL,
PRIMARY KEY(ID),
CONSTRAINT DEVICES_VISITOR_KIOSK_ID FOREIGN KEY(ID) REFERENCES Devices(ID) ON DELETE CASCADE,
CONSTRAINT DEVICES_VISITOR_KIOSK_PRINTER_ID FOREIGN KEY(PRINTER_ID) REFERENCES Printers(ID) ON DELETE SET NULL,
KIOSK_FOR_SPACE BIGINT(20) DEFAULT NULL,
CONSTRAINT KIOSK_FOR_SPACE_ID FOREIGN KEY(KIOSK_FOR_SPACE) REFERENCES BaseSpace(ID)
);

CREATE TABLE IF NOT EXISTS Occupants (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      OCCUPANT_TYPE 	TINYINT,
      TENANT_ID 		BIGINT,
      REQUESTER_ID 		BIGINT,
      LOCAL_ID			BIGINT,
      NAME				VARCHAR(500),
      EMAIL 			VARCHAR(500),
      PHONE 			VARCHAR(500),
      FORM_ID 			BIGINT,
      SYS_DELETED 		TINYINT,
	  SYS_DELETED_TIME 	BIGINT,
   	  SYS_DELETED_BY 	BIGINT,
   	  LOCATED_SPACE		BIGINT,
   	  IS_PORTAL_ACCESS_NEEDED TINYINT,
   	  CONSTRAINT Occupants_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT Occupants_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT Occupants_FK_LOCATED_SPACE FOREIGN KEY (LOCATED_SPACE) REFERENCES Resources (ID),
      CONSTRAINT Occupants_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Occupants_FK_REQUESTER_ID FOREIGN KEY (REQUESTER_ID) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Occupants_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Occupants_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT Occupants_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
      CONSTRAINT Occupants_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL

);


CREATE TABLE IF NOT EXISTS Occupants_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_OCCUPANT BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Occupants_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Occupants_Attachments_FK_PARENT_OCCUPANT FOREIGN KEY (PARENT_OCCUPANT) REFERENCES Occupants (ID),
	CONSTRAINT Occupants_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Occupants_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT Occupants_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Occupants_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Occupants_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Occupants (ID)
);

CREATE TABLE IF NOT EXISTS Scoping (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    SCOPE_NAME VARCHAR(200),
    ORGID BIGINT
);

CREATE TABLE IF NOT EXISTS Application(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	APPLICATION_NAME VARCHAR(100),
	DESCRIPTION VARCHAR(10000),
	IS_DEFAULT TINYINT,
	DOMAIN_TYPE INTEGER NOT NULL,
	LINK_NAME VARCHAR(100),
	SCOPING_ID BIGINT,
	APP_CATEGORY TINYINT,
	CONSTRAINT UNIQUE_APPLICATION_LINK_NAME UNIQUE(ORGID, LINK_NAME),
	CONSTRAINT Application_FK_SCOPING_ID FOREIGN KEY (SCOPING_ID) REFERENCES Scoping(ID)
);

CREATE TABLE IF NOT EXISTS Application_Layout(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	APPLICATION_ID BIGINT,
	LAYOUT_TYPE TINYINT,
	DEVICE_TYPE TINYINT,
	APP_TYPE VARCHAR(100),
	CONSTRAINT UNIQUE_APPLICATION_LAYOUT_TYPE UNIQUE(ORGID, DEVICE_TYPE, APP_TYPE),
	CONSTRAINT Application_Layout_FK_APPLICATION_ID FOREIGN KEY (APPLICATION_ID) REFERENCES Application(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS WebTab_Group(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	ICON_TYPE INT NOT NULL,
	LAYOUT_ID BIGINT NOT NULL,
	ROUTE VARCHAR(50) NOT NULL,
	TABGROUP_ORDER INT NOT NULL,
	FEATURE_LICENSE BIGINT,
	CONSTRAINT WEBTAB_GROUP_FK_LAYOUT_ID FOREIGN KEY (LAYOUT_ID) REFERENCES Application_Layout(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS WebTab(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	APPLICATION_ID BIGINT NOT NULL,
	TYPE INT NOT NULL,
	ROUTE VARCHAR(50) NOT NULL,
	FEATURE_LICENSE BIGINT,
	CONFIG TEXT,
	CONSTRAINT WEBTAB_APPLICATION_ID FOREIGN KEY (APPLICATION_ID) REFERENCES Application (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS WebTab_WebGroup(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	WEBTAB_ID BIGINT NOT NULL,
	WEBTAB_GROUP_ID BIGINT NOT NULL,
    TAB_ORDER INT NOT NULL,
    CONSTRAINT UNIQUE_WebTab_WebGroup UNIQUE(ORGID, WEBTAB_ID, WEBTAB_GROUP_ID),
	CONSTRAINT WebTab_WebGroup_FK_WEBTAB_ID FOREIGN KEY (WEBTAB_ID) REFERENCES WebTab (ID) ON DELETE CASCADE,
	CONSTRAINT WebTab_WebGroup_FK_WEBTAB_GROUP_ID FOREIGN KEY (WEBTAB_GROUP_ID) REFERENCES WebTab_Group (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS NewPermission (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	ROLE_ID BIGINT NOT NULL,
	TAB_ID BIGINT,
	PERMISSION BIGINT NOT NULL,
	CONSTRAINT UNIQUE_NEW_PERMISSION_MODULE_ID UNIQUE(ORGID, ROLE_ID, TAB_ID),
	CONSTRAINT NEW_PERMISSION_FK_ROLEID FOREIGN KEY (ROLE_ID) REFERENCES Role(ROLE_ID) ON DELETE CASCADE,
	CONSTRAINT NEW_PERMISSION_TAB_ID_FK FOREIGN KEY (TAB_ID) REFERENCES WebTab(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS TABID_MODULEID_APPID_MAPPING(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TAB_ID BIGINT NOT NULL,
	APP_ID BIGINT NOT NULL,
	MODULE_ID BIGINT,
	SPECIAL_TYPE VARCHAR (100),
	CONSTRAINT TABID_MODULEID_APPID_MAPPING_APP_ID_FK FOREIGN KEY (APP_ID) REFERENCES Application(ID),
	CONSTRAINT TABID_MODULEID_APPID_MAPPING_TAB_ID_FK FOREIGN KEY (TAB_ID) REFERENCES WebTab(ID) ON DELETE CASCADE,
	CONSTRAINT TABID_MODULEID_APPID_MAPPING_MODULE_ID_FK FOREIGN KEY (MODULE_ID) REFERENCES Modules(MODULEID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Service_Requests_Notes(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT SERVICE_REQUEST_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SERVICE_REQUEST_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SERVICE_REQUEST_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Service_Requests (ID)
);

CREATE TABLE IF NOT EXISTS Service_Requests_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT SERVICE_REQUEST_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SERVICE_REQUEST_ATTACHMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Service_Requests (ID),
	CONSTRAINT SERVICE_REQUEST_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Service_Requests_Activity (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TTIME BIGINT NOT NULL,
	ACTIVITY_TYPE TINYINT NOT NULL,
	DONE_BY_ID BIGINT NOT NULL,
	INFO VARCHAR(5000),
	CONSTRAINT SERVICE_REQUEST_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SERVICE_REQUEST_ACTIVITY_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Service_Requests(ID),
	CONSTRAINT SERVICE_REQUEST_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SERVICE_REQUEST_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT SERVICE_REQUEST_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID)
);


CREATE TABLE IF NOT EXISTS CB_Model (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  APP_TYPE int(11) NOT NULL,
  ORGID BIGINT NOT NULL,
  ML_MODEL_STRING VARCHAR(200) NOT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS CB_Model_Versions (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  MODEL_ID BIGINT NOT NULL,
  VERSION_NO int(11) NOT NULL,
  ML_MODEL_ID VARCHAR(200) NOT NULL,
  IS_LATEST_VERSION tinyint(4) DEFAULT NULL,
  ACCURACY_RATE double DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Model_Versions_Model_id FOREIGN KEY (MODEL_ID) REFERENCES CB_Model (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS CB_Intent (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  MODEL_VERSION_ID BIGINT NOT NULL,
  NAME VARCHAR(500) NOT NULL,
  DISPLAY_NAME VARCHAR(100) NOT NULL,
  CONTEXT_WORKFLOW_ID BIGINT DEFAULT NULL,
  TYPE tinyint(4) NOT NULL,
  IS_DELETED tinyint(4) DEFAULT NULL,
  IS_WITH_PARAMS tinyint(4) DEFAULT NULL,
  IS_CONFIRMATION_NEEDED TINYINT(4) DEFAULT NULL,
  CONFIRMATION_TEXT VARCHAR(1000) DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Intent_Model_Version_Id FOREIGN KEY (MODEL_VERSION_ID) REFERENCES CB_Model_Versions (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT CB_Intent_Workflow_Id FOREIGN KEY (CONTEXT_WORKFLOW_ID) REFERENCES Workflow (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS CB_Intent_Action (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  INTENT_ID BIGINT NOT NULL,
  ACTION_ID BIGINT DEFAULT NULL,
  RESPONSE VARCHAR(100) DEFAULT NULL,
  RESPONSE_TYPE INT DEFAULT NULL,
  MODULE_NAME VARCHAR(500) NULL,
  VIEW_NAME VARCHAR(500) NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Intent_Action_action_id FOREIGN KEY (ACTION_ID) REFERENCES Action (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT CB_Intent_Action_intent_id FOREIGN KEY (INTENT_ID) REFERENCES CB_Intent (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS CB_Intent_Invoke_Sample (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  INTENT_ID BIGINT NOT NULL,
  SAMPLE VARCHAR(1000) NOT NULL,
  SAMPLE_LOCAL_ID int(11) NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Intent_Invoke_Sample_intent_id FOREIGN KEY (INTENT_ID) REFERENCES CB_Intent (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS CB_Intent_Params (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  INTENT_ID BIGINT NOT NULL,
  NAME VARCHAR(500) NOT NULL,
  DISPLAY_NAME VARCHAR(500),
  ASK_AS VARCHAR(1000) DEFAULT NULL,
  ML_TYPE int(11) DEFAULT NULL,
  DATA_TYPE int(11) NOT NULL,
  LOCAL_ID int(11) NOT NULL,
  TYPE_CONFIG int(11) NOT NULL,
  IS_EDITABLE TINYINT(4),
  IS_FILLABLE_BY_PARENT TINYINT(4),
  ADD_PARAM_TRIGGER_TEXT VARCHAR(500),
  UPDATE_PARAM_TRIGGER_TEXT VARCHAR(500),
  MODULE_NAME VARCHAR(500),
  CRITERIA_ID BIGINT,
  IS_MULTIPLE_ALLOWED TINYINT(4) NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Intent_Params_Intent_Id FOREIGN KEY (INTENT_ID) REFERENCES CB_Intent (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT CB_Intent_Params_criteria_Id FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria (CRITERIAID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS `CB_Intent_Child` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `ORGID` bigint(20) NOT NULL,
  `PARENT_ID` bigint(20) NOT NULL,
  `CHILD_ID` bigint(20) NOT NULL,
  PRIMARY KEY (`ID`),
  CONSTRAINT `CB_Intent_Child_child_id` FOREIGN KEY (`CHILD_ID`) REFERENCES `CB_Intent` (`ID`) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT `CB_Intent_Child_parent_id` FOREIGN KEY (`PARENT_ID`) REFERENCES `CB_Intent` (`ID`) ON DELETE CASCADE ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS CB_Session (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  USER_ID BIGINT NOT NULL,
  PARENT_SESSION_ID BIGINT DEFAULT NULL,
  QUERY VARCHAR(1000) NOT NULL,
  INTENT_ID BIGINT DEFAULT NULL,
  RESPONSE VARCHAR(10000) DEFAULT NULL,
  SUGGESTION VARCHAR(1000) DEFAULT NULL,
  STATE int(11) NOT NULL,
  REQUIRED_PARAM_COUNT int(11) DEFAULT NULL,
  RECIEVED_PARAM_COUNT int(11) DEFAULT NULL,
  START_TIME BIGINT NOT NULL,
  END_TIME BIGINT,
  IS_CONFIRMED TINYINT(4),
  CONTEXT_PARAMS MEDIUMTEXT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Session_Intent_id FOREIGN KEY (INTENT_ID) REFERENCES CB_Intent (ID) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT CB_Session_PARENT_SESSION_ID FOREIGN KEY (PARENT_SESSION_ID) REFERENCES CB_Session (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);



CREATE TABLE IF NOT EXISTS CB_Session_Conversation (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  SESSION_ID BIGINT NOT NULL,
  INTENT_PARAM_ID BIGINT,
  PARENT_CONVERSATION_ID BIGINT DEFAULT NULL,
  QUERY MEDIUMTEXT NOT NULL,
  RESPONSE VARCHAR(1000) DEFAULT NULL,
  SUGGESTION VARCHAR(1000) DEFAULT NULL,
  STATE int(11) NOT NULL,
  REQUESTED_TIME BIGINT DEFAULT NULL,
  RESPONDED_TIME BIGINT DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Session_Conversation_INTENT_PARAM_ID FOREIGN KEY (INTENT_PARAM_ID) REFERENCES CB_Intent_Params (ID) ON DELETE SET NULL ON UPDATE NO ACTION,
  CONSTRAINT CB_Session_Conversation_Session_Convo_parent_id FOREIGN KEY (PARENT_CONVERSATION_ID) REFERENCES CB_Session_Conversation (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT CB_Session_Conversation_Session_id FOREIGN KEY (SESSION_ID) REFERENCES CB_Session (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS CB_Session_Params (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  SESSION_ID BIGINT NOT NULL,
  INTENT_PARAM_ID BIGINT,
  VALUE VARCHAR(1000) NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT CB_Session_Params_Session_id FOREIGN KEY (SESSION_ID) REFERENCES CB_Session (ID) ON DELETE CASCADE ON UPDATE NO ACTION,
  CONSTRAINT CB_Session_Params_intent_param_id FOREIGN KEY (INTENT_PARAM_ID) REFERENCES CB_Intent_Params (ID) ON DELETE SET NULL ON UPDATE NO ACTION
);
--Agent Alarm
CREATE TABLE IF NOT EXISTS  Agent_Alarm (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	AGENT_ID BIGINT,
	TYPE TINYINT(4),
	NOTIFIED BOOLEAN,
	CONSTRAINT AGENT_ALARM_FK_ID FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT AGENT_ALARM_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT AGENT_ALARM_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT AGENT_ALARM_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID) ON DELETE SET NULL
);
CREATE TABLE IF NOT EXISTS  Agent_Event (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	AGENT_ID BIGINT,
	TYPE TINYINT(4),
	CONSTRAINT AGENT_ALARM_EVENT_FK_ID FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
	CONSTRAINT AGENT_ALARM_EVENT_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT AGENT_ALARM_EVENT_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
	CONSTRAINT AGENT_ALARM_Event_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID) ON DELETE SET NULL
);
CREATE TABLE IF NOT EXISTS  Agent_AlarmOccurrence(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	AGENT_ID BIGINT,
	TYPE TINYINT(4),
	CONSTRAINT AGENT_ALARM_Occurrence_FK_ID FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
	CONSTRAINT AGENT_ALARM_Occurrence_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent(ID) ON DELETE SET NULL
);
CREATE TABLE IF NOT EXISTS AgentAlarm_Controller_Rel (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
    ALARM_ID BIGINT NOT NULL,
    CONTROLLER_ID BIGINT NOT NULL,
    CONSTRAINT AgentAlarm_Controller_Rel_FK_ALARM_ID FOREIGN KEY (ALARM_ID) REFERENCES Agent_Alarm(ID) ON DELETE CASCADE,
    CONSTRAINT AgentAlarm_Controller_Rel_FK_CONTROLELR_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controllers(ID) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS AgentEvent_Controller_Rel (
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
    EVENT_ID BIGINT NOT NULL,
    CONTROLLER_ID BIGINT NOT NULL,
    CONSTRAINT AgentEvent_Controller_Rel_FK_ALARM_ID FOREIGN KEY (EVENT_ID) REFERENCES Agent_Event(ID) ON DELETE CASCADE,
    CONSTRAINT AgentEvent_Controller_Rel_FK_CONTROLELR_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controllers(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Vendor_Documents(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	PARENT_ID BIGINT NOT NULL,
	DOCUMENT_TYPE BIGINT,
	DOCUMENT_NAME VARCHAR(30),
	DOCUMENT_FILE_ID BIGINT,
	MODULE_STATE BIGINT,
	STATE_FLOW_ID BIGINT,
	SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    DATE_CF1 BIGINT,
    DATE_CF2 BIGINT,
    DATE_CF3 BIGINT,
    DATE_CF4 BIGINT,
    DATE_CF5 BIGINT,
    CONSTRAINT VENDOR_DOCUMENTS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT VENDOR_DOCUMENTS_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT VENDOR_DOCUMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Vendors(ID),
	CONSTRAINT VENDORS_DOCUMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT VENDOR_DOCUMENTS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow(ID),
    CONSTRAINT VENDOR_DOCUMENTS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus(ID)
);


CREATE TABLE IF NOT EXISTS Hazard(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	SITE_ID BIGINT,
	HAZARD_NAME VARCHAR(200),
	HAZARD_DESCRIPTION  VARCHAR(1000),
	HAZARD_TYPE BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    SYS_DELETED 		TINYINT,
	SYS_DELETED_TIME 	BIGINT,
	SYS_CREATED_TIME 	BIGINT,
   	SYS_DELETED_BY 	BIGINT,
   	FORM_ID BIGINT,
   	LOCAL_ID BIGINT,
	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,

    CONSTRAINT Hazards_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Hazards_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Hazards_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Hazards_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
    CONSTRAINT Hazards_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)

);

CREATE TABLE IF NOT EXISTS Safety_Plan_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_SAFETY_PLAN BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Safety_Plan_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Safety_Plan_Attachments_FK_PARENT_PLAN FOREIGN KEY (PARENT_SAFETY_PLAN) REFERENCES Safety_Plan (ID),
	CONSTRAINT Safety_Plan_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Safety_Plan_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT Safety_Plan_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Safety_Plan_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Safety_Plan_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Safety_Plan (ID)
);

CREATE TABLE IF NOT EXISTS Hazard_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_HAZARD BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Hazard_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Hazard_Attachments_FK_PARENT_HAZARD FOREIGN KEY (PARENT_HAZARD) REFERENCES Hazard (ID),
	CONSTRAINT Hazard_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Hazard_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT Hazard_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Hazard_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Hazard_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Hazard (ID)
);

CREATE TABLE IF NOT EXISTS Precaution(
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	MODULEID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(200),
	LOCAL_ID BIGINT,
	SITE_ID BIGINT,
	DESCRIPTION  VARCHAR(1000),
	SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    SYS_DELETED 		TINYINT,
	SYS_DELETED_TIME 	BIGINT,
	SYS_CREATED_TIME 	BIGINT,
   	SYS_DELETED_BY 	BIGINT,
   	FORM_ID BIGINT,
   	STRING_CF1 VARCHAR(50),
	STRING_CF2 VARCHAR(50),
	STRING_CF3 VARCHAR(50),
	STRING_CF4 VARCHAR(50),
	STRING_CF5 VARCHAR(50),
	STRING_CF6 VARCHAR(50),
	STRING_CF7 VARCHAR(50),
	STRING_CF8 VARCHAR(50),
	STRING_CF9 VARCHAR(50),
	STRING_CF10 VARCHAR(50),
	STRING_CF11 VARCHAR(50),
	STRING_CF12 VARCHAR(50),
	STRING_CF13 VARCHAR(50),
	STRING_CF14 VARCHAR(50),
	STRING_CF15 VARCHAR(50),
	NUMBER_CF1 BIGINT,
	NUMBER_CF2 BIGINT,
	NUMBER_CF3 BIGINT,
	NUMBER_CF4 BIGINT,
	NUMBER_CF5 BIGINT,
	NUMBER_CF6 BIGINT,
	NUMBER_CF7 BIGINT,
	NUMBER_CF8 BIGINT,
	NUMBER_CF9 BIGINT,
	NUMBER_CF10 BIGINT,
	NUMBER_CF11 BIGINT,
	NUMBER_CF12 BIGINT,
	NUMBER_CF13 BIGINT,
	NUMBER_CF14 BIGINT,
	NUMBER_CF15 BIGINT,
	DECIMAL_CF1 DOUBLE,
	DECIMAL_CF2 DOUBLE,
	DECIMAL_CF3 DOUBLE,
	DECIMAL_CF4 DOUBLE,
	DECIMAL_CF5 DOUBLE,
	DECIMAL_CF6 DOUBLE,
	DECIMAL_CF7 DOUBLE,
	DECIMAL_CF8 DOUBLE,
	DECIMAL_CF9 DOUBLE,
	DECIMAL_CF10 DOUBLE,
	DECIMAL_CF11 DOUBLE,
	DECIMAL_CF12 DOUBLE,
	DECIMAL_CF13 DOUBLE,
	DECIMAL_CF14 DOUBLE,
	DECIMAL_CF15 DOUBLE,
	BOOLEAN_CF1 BOOLEAN,
	BOOLEAN_CF2 BOOLEAN,
	BOOLEAN_CF3 BOOLEAN,
	BOOLEAN_CF4 BOOLEAN,
	BOOLEAN_CF5 BOOLEAN,
	BOOLEAN_CF6 BOOLEAN,
	BOOLEAN_CF7 BOOLEAN,
	BOOLEAN_CF8 BOOLEAN,
	BOOLEAN_CF9 BOOLEAN,
	BOOLEAN_CF10 BOOLEAN,
	BOOLEAN_CF11 BOOLEAN,
	BOOLEAN_CF12 BOOLEAN,
	BOOLEAN_CF13 BOOLEAN,
	BOOLEAN_CF14 BOOLEAN,
	BOOLEAN_CF15 BOOLEAN,
	DATE_CF1 BIGINT,
	DATE_CF2 BIGINT,
	DATE_CF3 BIGINT,
	DATE_CF4 BIGINT,
	DATE_CF5 BIGINT,
	DATE_CF6 BIGINT,
	DATE_CF7 BIGINT,
	DATE_CF8 BIGINT,
	DATE_CF9 BIGINT,
	DATE_CF10 BIGINT,
	DATE_CF11 BIGINT,
	DATE_CF12 BIGINT,
	DATE_CF13 BIGINT,
	DATE_CF14 BIGINT,
	DATE_CF15 BIGINT,
	DATETIME_CF1 BIGINT,
	DATETIME_CF2 BIGINT,
	DATETIME_CF3 BIGINT,
	DATETIME_CF4 BIGINT,
	DATETIME_CF5 BIGINT,
	DATETIME_CF6 BIGINT,
	DATETIME_CF7 BIGINT,
	DATETIME_CF8 BIGINT,
	DATETIME_CF9 BIGINT,
	DATETIME_CF10 BIGINT,
	DATETIME_CF11 BIGINT,
	DATETIME_CF12 BIGINT,
	DATETIME_CF13 BIGINT,
	DATETIME_CF14 BIGINT,
	DATETIME_CF15 BIGINT,
	ENUM_CF1 INTEGER,
	ENUM_CF2 INTEGER,
	ENUM_CF3 INTEGER,
	ENUM_CF4 INTEGER,
	ENUM_CF5 INTEGER,

    CONSTRAINT Precaution_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Precaution_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Precaution_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Precaution_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
    CONSTRAINT Precaution_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
	

);

CREATE TABLE IF NOT EXISTS Precaution_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_PRECAUTION BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT Precaution_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Precaution_Attachments_FK_PARENT_PRECAUTION FOREIGN KEY (PARENT_PRECAUTION) REFERENCES Precaution (ID),
	CONSTRAINT Precaution_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Precaution_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	NOTIFY_REQUESTER BOOLEAN,
	CONSTRAINT Precaution_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Precaution_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT Precaution_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Precaution (ID)
);

CREATE TABLE IF NOT EXISTS SafetyPlan_Hazard (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	SAFETY_PLAN_ID BIGINT NOT NULL,
	HAZARD_ID BIGINT NOT NULL,
	CONSTRAINT SafetyPlan_Hazard_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT SafetyPlan_Hazard_FK_PARENT_SAFETY_PLAN FOREIGN KEY (SAFETY_PLAN_ID) REFERENCES Safety_Plan (ID) ON DELETE CASCADE,
	CONSTRAINT SafetyPlan_Hazard_FK_HAZARD_ID FOREIGN KEY (HAZARD_ID) REFERENCES Hazard (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Hazard_Precautions (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PRECAUTION_ID BIGINT NOT NULL,
	HAZARD_ID BIGINT NOT NULL,
	CONSTRAINT Hazard_Precautions_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Hazard_Precautions_FK_PARENT_PRECAUTION FOREIGN KEY (PRECAUTION_ID) REFERENCES Precaution (ID) ON DELETE CASCADE,
	CONSTRAINT Hazard_Precautions_FK_HAZARD_ID FOREIGN KEY (HAZARD_ID) REFERENCES Hazard (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Workorder_Hazards (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	WORKORDER_ID BIGINT NOT NULL,
	HAZARD_ID BIGINT NOT NULL,
	CONSTRAINT Workorder_Hazards_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Workorder_Hazards_FK_PARENT_WORKORDER_ID FOREIGN KEY (WORKORDER_ID) REFERENCES WorkOrders (ID) ON DELETE CASCADE,
	CONSTRAINT Workorder_Hazards_FK_HAZARD_ID FOREIGN KEY (HAZARD_ID) REFERENCES Hazard (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Asset_Hazards (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	ASSET_ID BIGINT NOT NULL,
	HAZARD_ID BIGINT NOT NULL,
	CONSTRAINT Asset_Hazards_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT Asset_Hazards_FK_PARENT_ASSET_ID FOREIGN KEY (ASSET_ID) REFERENCES Assets (ID) ON DELETE CASCADE,
	CONSTRAINT Asset_Hazards_FK_HAZARD_ID FOREIGN KEY (HAZARD_ID) REFERENCES Hazard (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS DEMO_ROLLUP_TOOL (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	STARTTIME varchar(100)
);
CREATE TABLE IF NOT EXISTS Feedback_Type(
    ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT(20) NOT NULL,
    NAME VARCHAR(40) NOT NULL
);

CREATE TABLE IF NOT EXISTS Feedback_Type_Catalog_Mapping(
    ID BIGINT(20) PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT(20) NOT NULL,
    FEEDBACK_TYPE_ID BIGINT(20) NOT NULL,
    CATALOG_ID BIGINT(20) NOT NULL,
    CATALOG_ORDER TINYINT,
    CONSTRAINT Feedback_Type_Catalog_Mapping_Feedback_type_id FOREIGN KEY(FEEDBACK_TYPE_ID) REFERENCES Feedback_Type(ID) ON DELETE CASCADE,
    CONSTRAINT Feedback_Type_Catalog_Mapping_Catalog_id FOREIGN KEY(CATALOG_ID) REFERENCES Service_Catalog(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Feedback_Kiosk(
    ID BIGINT(20) PRIMARY KEY,
    ORGID BIGINT(20) NOT NULL,
    FEEDBACK_TYPE_ID BIGINT(20) NOT NULL,
    CONSTRAINT Feedback_Kiosk_DEVICE_ID FOREIGN KEY(ID) REFERENCES Devices(ID) ON DELETE CASCADE,
    CONSTRAINT Feedback_Kiosk_FEEDBACK_TYPE_ID FOREIGN KEY(FEEDBACK_TYPE_ID) REFERENCES Feedback_Type(ID)
);

CREATE TABLE IF NOT EXISTS Rating(
    ID BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT NOT NULL,
	SITE_ID BIGINT,
	NAME VARCHAR(100),
	DESCRIPTION VARCHAR(255),
	RATING_VALUE TINYINT,
	PARENT_ID BIGINT NOT NULL,
	SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
	SYS_CREATED_TIME 	BIGINT,
	FORM_ID BIGINT,

	CONSTRAINT RATING_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RATING_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT RATING_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL,
    CONSTRAINT RATING_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);


CREATE TABLE IF NOT EXISTS PM_Job_Plan (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  PM_ID BIGINT NOT NULL,
  JOB_PLAN_ID BIGINT NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT PM_vs_Job_Plan_JOB_PLAN_ID FOREIGN KEY (JOB_PLAN_ID) REFERENCES Job_Plan (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_vs_Job_Plan_PM_ID FOREIGN KEY (PM_ID) REFERENCES Preventive_Maintenance (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS PM_Job_Plan_Triggers (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  PM_JOB_PLAN_ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  PM_TRIGGER_ID BIGINT NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT PM_Job_Plan_Triggers_job_plan_id FOREIGN KEY (PM_JOB_PLAN_ID) REFERENCES PM_Job_Plan (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT PM_Job_Plan_Triggers_pm_trigger_fk FOREIGN KEY (PM_TRIGGER_ID) REFERENCES PM_Triggers (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Controllable_Asset_Category (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  CONTROL_TYPE int(11) NOT NULL,
  MODULEID BIGINT NOT NULL,
  CONSTRAINT Asset_Category_vs_Control_Types_asset_category_id FOREIGN KEY (ID) REFERENCES Asset_Categories (ID) ON DELETE CASCADE,
  CONSTRAINT Asset_Category_vs_Control_Types_module_id FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Controllable_Point (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FIELD_ID BIGINT NOT NULL,
  CONTROLLABLE_POINT_ID BIGINT NOT NULL,
  CONSTRAINT Control_Points_vs_Fields_field_id FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE
);
CREATE TABLE IF NOT EXISTS Floor_Plan (
   ID BIGINT AUTO_INCREMENT PRIMARY KEY,
   ORGID BIGINT NOT NULL,
   SITE_ID BIGINT,
   FLOOR_ID BIGINT,
   NAME VARCHAR(500) NOT NULL,
   FILE_ID BIGINT,
   CANVAS LONGTEXT,
   IS_ACTIVE BOOLEAN,
	SYS_CREATED_TIME BIGINT,
	SYS_MODIFIED_TIME BIGINT,
	SYS_CREATED_BY BIGINT,
	SYS_MODIFIED_BY BIGINT,
	LEAGEND LONGTEXT,
  	CONSTRAINT FLOOR_PLAN_FK_SITEID FOREIGN KEY (SITE_ID) REFERENCES Site(ID),
	CONSTRAINT FLOOR_PLAN_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT FLOOR_PLAN_K_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT FLOOR_PLAN_FK_FLOOR_ID FOREIGN KEY (FLOOR_ID) REFERENCES BaseSpace (ID)
  );

  
CREATE TABLE IF NOT EXISTS Floorplan_Objects (
  ID BIGINT AUTO_INCREMENT PRIMARY KEY,
  FLOORPLAN_ID BIGINT NOT NULL,
  OBJECT_TYPE BIGINT NOT NULL	,
	RESOURCE_ID BIGINT,
  X BIGINT,
  Y BIGINT,
  W BIGINT,
  H BIGINT,
  INFO VARCHAR(500),
  CONSTRAINT FLOOR_BOUNDARY_FK_FLOORPLAN_ID FOREIGN KEY (FLOORPLAN_ID) REFERENCES Floor_Plan(ID) ON DELETE CASCADE,
  CONSTRAINT FLOOR_BOUNDARY_RESOURCE_FK_BASE_SPACE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES BaseSpace(ID)
);

CREATE TABLE IF NOT EXISTS Control_Point (
  ID BIGINT NOT NULL,
  ORGID BIGINT NOT NULL,
  CHILD_RDM_ID BIGINT DEFAULT NULL,
  MIN_VALUE double DEFAULT NULL,
  MAX_VALUE double DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Control_Point_child_id FOREIGN KEY (CHILD_RDM_ID) REFERENCES Reading_Data_Meta (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Point_id FOREIGN KEY (ID) REFERENCES Reading_Data_Meta (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Smart_Control_Kiosk (
	ID bigint(20) NOT NULL,
	ORGID bigint(20) NOT NULL,
	SPACE_TYPE tinyint(4) NOT NULL,
	TENANT_ID bigint(20) DEFAULT NULL,
	PRIMARY KEY (ID),
	KEY Smart_Control_Kiosk_TENANT_ID (TENANT_ID),
	CONSTRAINT Smart_Control_Kiosk_DEVICE_ID FOREIGN KEY (ID) REFERENCES Devices (ID) ON DELETE CASCADE,
	CONSTRAINT Smart_Control_Kiosk_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID)
);

CREATE TABLE IF NOT EXISTS CommissioningLog (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    AGENT_ID BIGINT NOT NULL,
    SYS_CREATED_TIME BIGINT(20) NOT NULL,
    SYS_CREATED_BY BIGINT NOT NULL,
    SYS_MODIFIED_TIME BIGINT(20),
    SYS_MODIFIED_BY BIGINT,
    PUBLISHED_TIME BIGINT,
    CONTROLLER_TYPE INT NOT NULL,
    POINT_JSON LONGTEXT,
    CLIENT_META_JSON TEXT,
    CONSTRAINT COMMISSIONING_LOGS_FK_AGENT_ID FOREIGN KEY (AGENT_ID) REFERENCES Agent (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS CommissioningLogController (
	COMMISSIONING_LOG_ID BIGINT NOT NULL,
	CONTROLLER_ID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
	PRIMARY KEY(COMMISSIONING_LOG_ID, CONTROLLER_ID),
	CONSTRAINT COMM_LOG_COML_ID FOREIGN KEY (COMMISSIONING_LOG_ID) REFERENCES CommissioningLog (ID) ON DELETE CASCADE,
	CONSTRAINT COMM_LOG_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controllers (ID)
);

CREATE TABLE Bim_Integration_Logs (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  FILEID BIGINT NULL,
  FILE_NAME VARCHAR(200) NULL,
  NO_OF_MODULES TINYINT(4),
  STATUS TINYINT(2) NOT NULL,
  UPLOADED_BY BIGINT NOT NULL,
  IMPORTED_TIME BIGINT NULL,
  THIRD_PARTY TINYINT(2) NULL,
  CONSTRAINT BIM_INTEGRATION_LOGS_FK_FILEID FOREIGN KEY (FILEID) REFERENCES FacilioFile (FILE_ID) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT BIM_INTEGRATION_LOGS_FK_UPLOADED_BY_ID FOREIGN KEY (UPLOADED_BY) REFERENCES ORG_Users (ORG_USERID) ON DELETE RESTRICT ON UPDATE RESTRICT
  );
  
  CREATE TABLE Bim_Import_Process_Mapping (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  BIM_ID BIGINT NOT NULL,
  IMPORT_PROCESS_ID BIGINT NOT NULL,
  SHEET_NAME VARCHAR(100) NOT NULL,
  MODULE_NAME VARCHAR(100) NOT NULL,
  STATUS TINYINT(2) NOT NULL,
  CONSTRAINT BIM_IMPORT_PROCESS_MAPPING_FK_IMPORT_PROCESS_ID FOREIGN KEY (IMPORT_PROCESS_ID) REFERENCES ImportProcess (ID) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT BIM_IMPORT_PROCESS_MAPPING_FK_BIM_ID FOREIGN KEY (BIM_ID) REFERENCES Bim_Integration_Logs (ID) ON DELETE RESTRICT ON UPDATE RESTRICT
  );
  
  CREATE TABLE Bim_Default_Values (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  BIM_ID BIGINT NOT NULL,
  MODULE_ID BIGINT NOT NULL,
  FIELD_ID BIGINT NOT NULL,
  DEFAULT_VALUE VARCHAR(200) NULL,
  CONSTRAINT BIM_DEFAULT_VALUES_FK_BIM_ID FOREIGN KEY (BIM_ID) REFERENCES Bim_Integration_Logs (ID) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT BIM_DEFAULT_VALUES_FK_MODULE_ID FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID) ON DELETE RESTRICT ON UPDATE RESTRICT,
  CONSTRAINT BIM_DEFAULT_VALUES_FK_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE RESTRICT ON UPDATE RESTRICT
);

CREATE TABLE IF NOT EXISTS People_Attachments (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
	PARENT_PEOPLE BIGINT NOT NULL,
	CREATED_TIME BIGINT NOT NULL,
	FILE_ID BIGINT NOT NULL,
	ATTACHMENT_TYPE TINYINT,
	CONSTRAINT People_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT People_Attachments_FK_PARENT_PEOPLE FOREIGN KEY (PARENT_PEOPLE) REFERENCES People (ID),
	CONSTRAINT People_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS People_Notes (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	MODULEID BIGINT NOT NULL,
	CREATED_BY BIGINT,
	CREATED_TIME BIGINT,
	PARENT_ID BIGINT NOT NULL,
	TITLE VARCHAR(50),
	BODY VARCHAR(1000) NOT NULL,
	CONSTRAINT People_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
	CONSTRAINT People_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
	CONSTRAINT People_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES People (ID)
);


CREATE TABLE IF NOT EXISTS Vendor_Contacts
(
    ID                   BIGINT PRIMARY KEY,
    ORGID                BIGINT NOT NULL,
    MODULEID             BIGINT NOT NULL,
    SITE_ID              BIGINT,
    VENDOR_ID            BIGINT,
    LOCAL_ID             BIGINT,
    IS_PRIMARY_CONTACT   TINYINT,
    VENDOR_PORTAL_ACCESS TINYINT,
    IS_LABOUR            TINYINT,
    STRING_CF1           VARCHAR(255),
    STRING_CF2           VARCHAR(255),
    STRING_CF3           VARCHAR(255),
    STRING_CF4           VARCHAR(255),
    STRING_CF5           VARCHAR(255),
    STRING_CF6           VARCHAR(255),
    STRING_CF7           VARCHAR(255),
    STRING_CF8           VARCHAR(255),
    STRING_CF9           VARCHAR(255),
    STRING_CF10          VARCHAR(255),
    STRING_CF11          VARCHAR(255),
    STRING_CF12          VARCHAR(255),
    STRING_CF13          VARCHAR(255),
    STRING_CF14          VARCHAR(255),
    STRING_CF15          VARCHAR(255),
    STRING_CF16          VARCHAR(255),
    STRING_CF17          VARCHAR(255),
    STRING_CF18          VARCHAR(255),
    STRING_CF19          VARCHAR(255),
    STRING_CF20          VARCHAR(255),
    STRING_CF21          VARCHAR(255),
    STRING_CF22          VARCHAR(255),
    STRING_CF23          VARCHAR(255),
    STRING_CF24          VARCHAR(255),
    STRING_CF25          VARCHAR(255),
    STRING_CF26          VARCHAR(255),
    STRING_CF27          VARCHAR(255),
    STRING_CF28          VARCHAR(255),
    STRING_CF29          VARCHAR(255),
    STRING_CF30          VARCHAR(255),
    NUMBER_CF1           BIGINT,
    NUMBER_CF2           BIGINT,
    NUMBER_CF3           BIGINT,
    NUMBER_CF4           BIGINT,
    NUMBER_CF5           BIGINT,
    NUMBER_CF6           BIGINT,
    NUMBER_CF7           BIGINT,
    NUMBER_CF8           BIGINT,
    NUMBER_CF9           BIGINT,
    NUMBER_CF10          BIGINT,
    NUMBER_CF11          BIGINT,
    NUMBER_CF12          BIGINT,
    NUMBER_CF13          BIGINT,
    NUMBER_CF14          BIGINT,
    NUMBER_CF15          BIGINT,
    NUMBER_CF16          BIGINT,
    NUMBER_CF17          BIGINT,
    NUMBER_CF18          BIGINT,
    NUMBER_CF19          BIGINT,
    NUMBER_CF20          BIGINT,
    NUMBER_CF21          BIGINT,
    NUMBER_CF22          BIGINT,
    NUMBER_CF23          BIGINT,
    NUMBER_CF24          BIGINT,
    NUMBER_CF25          BIGINT,
    NUMBER_CF26          BIGINT,
    NUMBER_CF27          BIGINT,
    NUMBER_CF28          BIGINT,
    NUMBER_CF29          BIGINT,
    NUMBER_CF30          BIGINT,
    DECIMAL_CF1          DOUBLE,
    DECIMAL_CF2          DOUBLE,
    DECIMAL_CF3          DOUBLE,
    DECIMAL_CF4          DOUBLE,
    DECIMAL_CF5          DOUBLE,
    DECIMAL_CF6          DOUBLE,
    DECIMAL_CF7          DOUBLE,
    DECIMAL_CF8          DOUBLE,
    DECIMAL_CF9          DOUBLE,
    DECIMAL_CF10         DOUBLE,
    DECIMAL_CF11         DOUBLE,
    DECIMAL_CF12         DOUBLE,
    DECIMAL_CF13         DOUBLE,
    DECIMAL_CF14         DOUBLE,
    DECIMAL_CF15         DOUBLE,
    DECIMAL_CF16         DOUBLE,
    DECIMAL_CF17         DOUBLE,
    DECIMAL_CF18         DOUBLE,
    DECIMAL_CF19         DOUBLE,
    DECIMAL_CF20         DOUBLE,
    DECIMAL_CF21         DOUBLE,
    DECIMAL_CF22         DOUBLE,
    DECIMAL_CF23         DOUBLE,
    DECIMAL_CF24         DOUBLE,
    DECIMAL_CF25         DOUBLE,
    DECIMAL_CF26         DOUBLE,
    DECIMAL_CF27         DOUBLE,
    DECIMAL_CF28         DOUBLE,
    DECIMAL_CF29         DOUBLE,
    DECIMAL_CF30         DOUBLE,
    BOOLEAN_CF1          BOOLEAN,
    BOOLEAN_CF2          BOOLEAN,
    BOOLEAN_CF3          BOOLEAN,
    BOOLEAN_CF4          BOOLEAN,
    BOOLEAN_CF5          BOOLEAN,
    BOOLEAN_CF6          BOOLEAN,
    BOOLEAN_CF7          BOOLEAN,
    BOOLEAN_CF8          BOOLEAN,
    BOOLEAN_CF9          BOOLEAN,
    BOOLEAN_CF10         BOOLEAN,
    BOOLEAN_CF11         BOOLEAN,
    BOOLEAN_CF12         BOOLEAN,
    BOOLEAN_CF13         BOOLEAN,
    BOOLEAN_CF14         BOOLEAN,
    BOOLEAN_CF15         BOOLEAN,
    BOOLEAN_CF16         BOOLEAN,
    BOOLEAN_CF17         BOOLEAN,
    BOOLEAN_CF18         BOOLEAN,
    BOOLEAN_CF19         BOOLEAN,
    BOOLEAN_CF20         BOOLEAN,
    BOOLEAN_CF21         BOOLEAN,
    BOOLEAN_CF22         BOOLEAN,
    BOOLEAN_CF23         BOOLEAN,
    BOOLEAN_CF24         BOOLEAN,
    BOOLEAN_CF25         BOOLEAN,
    BOOLEAN_CF26         BOOLEAN,
    BOOLEAN_CF27         BOOLEAN,
    BOOLEAN_CF28         BOOLEAN,
    BOOLEAN_CF29         BOOLEAN,
    BOOLEAN_CF30         BOOLEAN,
    DATE_CF1             BIGINT,
    DATE_CF2             BIGINT,
    DATE_CF3             BIGINT,
    DATE_CF4             BIGINT,
    DATE_CF5             BIGINT,
    DATE_CF6             BIGINT,
    DATE_CF7             BIGINT,
    DATE_CF8             BIGINT,
    DATE_CF9             BIGINT,
    DATE_CF10            BIGINT,
    DATE_CF11            BIGINT,
    DATE_CF12            BIGINT,
    DATE_CF13            BIGINT,
    DATE_CF14            BIGINT,
    DATE_CF15            BIGINT,
    DATE_CF16            BIGINT,
    DATE_CF17            BIGINT,
    DATE_CF18            BIGINT,
    DATE_CF19            BIGINT,
    DATE_CF20            BIGINT,
    DATE_CF21            BIGINT,
    DATE_CF22            BIGINT,
    DATE_CF23            BIGINT,
    DATE_CF24            BIGINT,
    DATE_CF25            BIGINT,
    DATE_CF26            BIGINT,
    DATE_CF27            BIGINT,
    DATE_CF28            BIGINT,
    DATE_CF29            BIGINT,
    DATE_CF30            BIGINT,
    DATETIME_CF1         BIGINT,
    DATETIME_CF2         BIGINT,
    DATETIME_CF3         BIGINT,
    DATETIME_CF4         BIGINT,
    DATETIME_CF5         BIGINT,
    DATETIME_CF6         BIGINT,
    DATETIME_CF7         BIGINT,
    DATETIME_CF8         BIGINT,
    DATETIME_CF9         BIGINT,
    DATETIME_CF10        BIGINT,
    DATETIME_CF11        BIGINT,
    DATETIME_CF12        BIGINT,
    DATETIME_CF13        BIGINT,
    DATETIME_CF14        BIGINT,
    DATETIME_CF15        BIGINT,
    DATETIME_CF16        BIGINT,
    DATETIME_CF17        BIGINT,
    DATETIME_CF18        BIGINT,
    DATETIME_CF19        BIGINT,
    DATETIME_CF20        BIGINT,
    DATETIME_CF21        BIGINT,
    DATETIME_CF22        BIGINT,
    DATETIME_CF23        BIGINT,
    DATETIME_CF24        BIGINT,
    DATETIME_CF25        BIGINT,
    DATETIME_CF26        BIGINT,
    DATETIME_CF27        BIGINT,
    DATETIME_CF28        BIGINT,
    DATETIME_CF29        BIGINT,
    DATETIME_CF30        BIGINT,
    ENUM_CF1             INTEGER,
    ENUM_CF2             INTEGER,
    ENUM_CF3             INTEGER,
    ENUM_CF4             INTEGER,
    ENUM_CF5             INTEGER,
    ENUM_CF6             INTEGER,
    ENUM_CF7             INTEGER,
    ENUM_CF8             INTEGER,
    ENUM_CF9             INTEGER,
    ENUM_CF10            INTEGER,
    ENUM_CF11            INTEGER,
    ENUM_CF12            INTEGER,
    ENUM_CF13            INTEGER,
    ENUM_CF14            INTEGER,
    ENUM_CF15            INTEGER,
    ENUM_CF16            INTEGER,
    ENUM_CF17            INTEGER,
    ENUM_CF18            INTEGER,
    ENUM_CF19            INTEGER,
    ENUM_CF20            INTEGER,
    ENUM_CF21            INTEGER,
    ENUM_CF22            INTEGER,
    ENUM_CF23            INTEGER,
    ENUM_CF24            INTEGER,
    ENUM_CF25            INTEGER,
    ENUM_CF26            INTEGER,
    ENUM_CF27            INTEGER,
    ENUM_CF28            INTEGER,
    ENUM_CF29            INTEGER,
    ENUM_CF30            INTEGER,
    FILE_CF1             BIGINT,
    FILE_CF2             BIGINT,
    FILE_CF3             BIGINT,
    FILE_CF4             BIGINT,
    FILE_CF5             BIGINT,
    FILE_CF6             BIGINT,
    FILE_CF7             BIGINT,
    FILE_CF8             BIGINT,
    FILE_CF9             BIGINT,
    FILE_CF10            BIGINT,
    FILE_CF11            BIGINT,
    FILE_CF12            BIGINT,
    FILE_CF13            BIGINT,
    FILE_CF14            BIGINT,
    FILE_CF15            BIGINT,
    FILE_CF16            BIGINT,
    FILE_CF17            BIGINT,
    FILE_CF18            BIGINT,
    FILE_CF19            BIGINT,
    FILE_CF20            BIGINT,
    FILE_CF21            BIGINT,
    FILE_CF22            BIGINT,
    FILE_CF23            BIGINT,
    FILE_CF24            BIGINT,
    FILE_CF25            BIGINT,
    FILE_CF26            BIGINT,
    FILE_CF27            BIGINT,
    FILE_CF28            BIGINT,
    FILE_CF29            BIGINT,
    FILE_CF30            BIGINT,
    LOOKUP_CF1           BIGINT,
    LOOKUP_CF2           BIGINT,
    LOOKUP_CF3           BIGINT,
    LOOKUP_CF4           BIGINT,
    LOOKUP_CF5           BIGINT,
    LOOKUP_CF6           BIGINT,
    LOOKUP_CF7           BIGINT,
    LOOKUP_CF8           BIGINT,
    LOOKUP_CF9           BIGINT,
    LOOKUP_CF10          BIGINT,
    LOOKUP_CF11          BIGINT,
    LOOKUP_CF12          BIGINT,
    LOOKUP_CF13          BIGINT,
    LOOKUP_CF14          BIGINT,
    LOOKUP_CF15          BIGINT,
    LOOKUP_CF16          BIGINT,
    LOOKUP_CF17          BIGINT,
    LOOKUP_CF18          BIGINT,
    LOOKUP_CF19          BIGINT,
    LOOKUP_CF20          BIGINT,
    LOOKUP_CF21          BIGINT,
    LOOKUP_CF22          BIGINT,
    LOOKUP_CF23          BIGINT,
    LOOKUP_CF24          BIGINT,
    LOOKUP_CF25          BIGINT,
    LOOKUP_CF26          BIGINT,
    LOOKUP_CF27          BIGINT,
    LOOKUP_CF28          BIGINT,
    LOOKUP_CF29          BIGINT,
    LOOKUP_CF30          BIGINT,
    SCORE_CF1            DOUBLE,
    SCORE_CF2            DOUBLE,
    SCORE_CF3            DOUBLE,
    SCORE_CF4            DOUBLE,
    SCORE_CF5            DOUBLE,
    SCORE_CF6            DOUBLE,
    SCORE_CF7            DOUBLE,
    SCORE_CF8            DOUBLE,
    SCORE_CF9            DOUBLE,
    SCORE_CF10           DOUBLE,
    SCORE_CF11           DOUBLE,
    SCORE_CF12           DOUBLE,
    SCORE_CF13           DOUBLE,
    SCORE_CF14           DOUBLE,
    SCORE_CF15           DOUBLE,
    SCORE_CF16           DOUBLE,
    SCORE_CF17           DOUBLE,
    SCORE_CF18           DOUBLE,
    SCORE_CF19           DOUBLE,
    SCORE_CF20           DOUBLE,
    SCORE_CF21           DOUBLE,
    SCORE_CF22           DOUBLE,
    SCORE_CF23           DOUBLE,
    SCORE_CF24           DOUBLE,
    SCORE_CF25           DOUBLE,
    SCORE_CF26           DOUBLE,
    SCORE_CF27           DOUBLE,
    SCORE_CF28           DOUBLE,
    SCORE_CF29           DOUBLE,
    SCORE_CF30           DOUBLE,
    CONSTRAINT Vendor_Contacts_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Vendor_Contacts_FK_ID FOREIGN KEY (ID) REFERENCES People (ID) ON DELETE CASCADE,
    CONSTRAINT Vendor_Contacts_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Vendor_Contacts_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors (ID)
);

CREATE TABLE IF NOT EXISTS Tenant_Contacts
(
    ID                   BIGINT PRIMARY KEY,
    ORGID                BIGINT NOT NULL,
    MODULEID             BIGINT NOT NULL,
    SITE_ID              BIGINT,
    TENANT_ID            BIGINT,
    LOCAL_ID             BIGINT,
    IS_PRIMARY_CONTACT   TINYINT,
    TENANT_PORTAL_ACCESS TINYINT,
    STRING_CF1           VARCHAR(255),
    STRING_CF2           VARCHAR(255),
    STRING_CF3           VARCHAR(255),
    STRING_CF4           VARCHAR(255),
    STRING_CF5           VARCHAR(255),
    STRING_CF6           VARCHAR(255),
    STRING_CF7           VARCHAR(255),
    STRING_CF8           VARCHAR(255),
    STRING_CF9           VARCHAR(255),
    STRING_CF10          VARCHAR(255),
    STRING_CF11          VARCHAR(255),
    STRING_CF12          VARCHAR(255),
    STRING_CF13          VARCHAR(255),
    STRING_CF14          VARCHAR(255),
    STRING_CF15          VARCHAR(255),
    STRING_CF16          VARCHAR(255),
    STRING_CF17          VARCHAR(255),
    STRING_CF18          VARCHAR(255),
    STRING_CF19          VARCHAR(255),
    STRING_CF20          VARCHAR(255),
    STRING_CF21          VARCHAR(255),
    STRING_CF22          VARCHAR(255),
    STRING_CF23          VARCHAR(255),
    STRING_CF24          VARCHAR(255),
    STRING_CF25          VARCHAR(255),
    STRING_CF26          VARCHAR(255),
    STRING_CF27          VARCHAR(255),
    STRING_CF28          VARCHAR(255),
    STRING_CF29          VARCHAR(255),
    STRING_CF30          VARCHAR(255),
    NUMBER_CF1           BIGINT,
    NUMBER_CF2           BIGINT,
    NUMBER_CF3           BIGINT,
    NUMBER_CF4           BIGINT,
    NUMBER_CF5           BIGINT,
    NUMBER_CF6           BIGINT,
    NUMBER_CF7           BIGINT,
    NUMBER_CF8           BIGINT,
    NUMBER_CF9           BIGINT,
    NUMBER_CF10          BIGINT,
    NUMBER_CF11          BIGINT,
    NUMBER_CF12          BIGINT,
    NUMBER_CF13          BIGINT,
    NUMBER_CF14          BIGINT,
    NUMBER_CF15          BIGINT,
    NUMBER_CF16          BIGINT,
    NUMBER_CF17          BIGINT,
    NUMBER_CF18          BIGINT,
    NUMBER_CF19          BIGINT,
    NUMBER_CF20          BIGINT,
    NUMBER_CF21          BIGINT,
    NUMBER_CF22          BIGINT,
    NUMBER_CF23          BIGINT,
    NUMBER_CF24          BIGINT,
    NUMBER_CF25          BIGINT,
    NUMBER_CF26          BIGINT,
    NUMBER_CF27          BIGINT,
    NUMBER_CF28          BIGINT,
    NUMBER_CF29          BIGINT,
    NUMBER_CF30          BIGINT,
    DECIMAL_CF1          DOUBLE,
    DECIMAL_CF2          DOUBLE,
    DECIMAL_CF3          DOUBLE,
    DECIMAL_CF4          DOUBLE,
    DECIMAL_CF5          DOUBLE,
    DECIMAL_CF6          DOUBLE,
    DECIMAL_CF7          DOUBLE,
    DECIMAL_CF8          DOUBLE,
    DECIMAL_CF9          DOUBLE,
    DECIMAL_CF10         DOUBLE,
    DECIMAL_CF11         DOUBLE,
    DECIMAL_CF12         DOUBLE,
    DECIMAL_CF13         DOUBLE,
    DECIMAL_CF14         DOUBLE,
    DECIMAL_CF15         DOUBLE,
    DECIMAL_CF16         DOUBLE,
    DECIMAL_CF17         DOUBLE,
    DECIMAL_CF18         DOUBLE,
    DECIMAL_CF19         DOUBLE,
    DECIMAL_CF20         DOUBLE,
    DECIMAL_CF21         DOUBLE,
    DECIMAL_CF22         DOUBLE,
    DECIMAL_CF23         DOUBLE,
    DECIMAL_CF24         DOUBLE,
    DECIMAL_CF25         DOUBLE,
    DECIMAL_CF26         DOUBLE,
    DECIMAL_CF27         DOUBLE,
    DECIMAL_CF28         DOUBLE,
    DECIMAL_CF29         DOUBLE,
    DECIMAL_CF30         DOUBLE,
    BOOLEAN_CF1          BOOLEAN,
    BOOLEAN_CF2          BOOLEAN,
    BOOLEAN_CF3          BOOLEAN,
    BOOLEAN_CF4          BOOLEAN,
    BOOLEAN_CF5          BOOLEAN,
    BOOLEAN_CF6          BOOLEAN,
    BOOLEAN_CF7          BOOLEAN,
    BOOLEAN_CF8          BOOLEAN,
    BOOLEAN_CF9          BOOLEAN,
    BOOLEAN_CF10         BOOLEAN,
    BOOLEAN_CF11         BOOLEAN,
    BOOLEAN_CF12         BOOLEAN,
    BOOLEAN_CF13         BOOLEAN,
    BOOLEAN_CF14         BOOLEAN,
    BOOLEAN_CF15         BOOLEAN,
    BOOLEAN_CF16         BOOLEAN,
    BOOLEAN_CF17         BOOLEAN,
    BOOLEAN_CF18         BOOLEAN,
    BOOLEAN_CF19         BOOLEAN,
    BOOLEAN_CF20         BOOLEAN,
    BOOLEAN_CF21         BOOLEAN,
    BOOLEAN_CF22         BOOLEAN,
    BOOLEAN_CF23         BOOLEAN,
    BOOLEAN_CF24         BOOLEAN,
    BOOLEAN_CF25         BOOLEAN,
    BOOLEAN_CF26         BOOLEAN,
    BOOLEAN_CF27         BOOLEAN,
    BOOLEAN_CF28         BOOLEAN,
    BOOLEAN_CF29         BOOLEAN,
    BOOLEAN_CF30         BOOLEAN,
    DATE_CF1             BIGINT,
    DATE_CF2             BIGINT,
    DATE_CF3             BIGINT,
    DATE_CF4             BIGINT,
    DATE_CF5             BIGINT,
    DATE_CF6             BIGINT,
    DATE_CF7             BIGINT,
    DATE_CF8             BIGINT,
    DATE_CF9             BIGINT,
    DATE_CF10            BIGINT,
    DATE_CF11            BIGINT,
    DATE_CF12            BIGINT,
    DATE_CF13            BIGINT,
    DATE_CF14            BIGINT,
    DATE_CF15            BIGINT,
    DATE_CF16            BIGINT,
    DATE_CF17            BIGINT,
    DATE_CF18            BIGINT,
    DATE_CF19            BIGINT,
    DATE_CF20            BIGINT,
    DATE_CF21            BIGINT,
    DATE_CF22            BIGINT,
    DATE_CF23            BIGINT,
    DATE_CF24            BIGINT,
    DATE_CF25            BIGINT,
    DATE_CF26            BIGINT,
    DATE_CF27            BIGINT,
    DATE_CF28            BIGINT,
    DATE_CF29            BIGINT,
    DATE_CF30            BIGINT,
    DATETIME_CF1         BIGINT,
    DATETIME_CF2         BIGINT,
    DATETIME_CF3         BIGINT,
    DATETIME_CF4         BIGINT,
    DATETIME_CF5         BIGINT,
    DATETIME_CF6         BIGINT,
    DATETIME_CF7         BIGINT,
    DATETIME_CF8         BIGINT,
    DATETIME_CF9         BIGINT,
    DATETIME_CF10        BIGINT,
    DATETIME_CF11        BIGINT,
    DATETIME_CF12        BIGINT,
    DATETIME_CF13        BIGINT,
    DATETIME_CF14        BIGINT,
    DATETIME_CF15        BIGINT,
    DATETIME_CF16        BIGINT,
    DATETIME_CF17        BIGINT,
    DATETIME_CF18        BIGINT,
    DATETIME_CF19        BIGINT,
    DATETIME_CF20        BIGINT,
    DATETIME_CF21        BIGINT,
    DATETIME_CF22        BIGINT,
    DATETIME_CF23        BIGINT,
    DATETIME_CF24        BIGINT,
    DATETIME_CF25        BIGINT,
    DATETIME_CF26        BIGINT,
    DATETIME_CF27        BIGINT,
    DATETIME_CF28        BIGINT,
    DATETIME_CF29        BIGINT,
    DATETIME_CF30        BIGINT,
    ENUM_CF1             INTEGER,
    ENUM_CF2             INTEGER,
    ENUM_CF3             INTEGER,
    ENUM_CF4             INTEGER,
    ENUM_CF5             INTEGER,
    ENUM_CF6             INTEGER,
    ENUM_CF7             INTEGER,
    ENUM_CF8             INTEGER,
    ENUM_CF9             INTEGER,
    ENUM_CF10            INTEGER,
    ENUM_CF11            INTEGER,
    ENUM_CF12            INTEGER,
    ENUM_CF13            INTEGER,
    ENUM_CF14            INTEGER,
    ENUM_CF15            INTEGER,
    ENUM_CF16            INTEGER,
    ENUM_CF17            INTEGER,
    ENUM_CF18            INTEGER,
    ENUM_CF19            INTEGER,
    ENUM_CF20            INTEGER,
    ENUM_CF21            INTEGER,
    ENUM_CF22            INTEGER,
    ENUM_CF23            INTEGER,
    ENUM_CF24            INTEGER,
    ENUM_CF25            INTEGER,
    ENUM_CF26            INTEGER,
    ENUM_CF27            INTEGER,
    ENUM_CF28            INTEGER,
    ENUM_CF29            INTEGER,
    ENUM_CF30            INTEGER,
    FILE_CF1             BIGINT,
    FILE_CF2             BIGINT,
    FILE_CF3             BIGINT,
    FILE_CF4             BIGINT,
    FILE_CF5             BIGINT,
    FILE_CF6             BIGINT,
    FILE_CF7             BIGINT,
    FILE_CF8             BIGINT,
    FILE_CF9             BIGINT,
    FILE_CF10            BIGINT,
    FILE_CF11            BIGINT,
    FILE_CF12            BIGINT,
    FILE_CF13            BIGINT,
    FILE_CF14            BIGINT,
    FILE_CF15            BIGINT,
    FILE_CF16            BIGINT,
    FILE_CF17            BIGINT,
    FILE_CF18            BIGINT,
    FILE_CF19            BIGINT,
    FILE_CF20            BIGINT,
    FILE_CF21            BIGINT,
    FILE_CF22            BIGINT,
    FILE_CF23            BIGINT,
    FILE_CF24            BIGINT,
    FILE_CF25            BIGINT,
    FILE_CF26            BIGINT,
    FILE_CF27            BIGINT,
    FILE_CF28            BIGINT,
    FILE_CF29            BIGINT,
    FILE_CF30            BIGINT,
    LOOKUP_CF1           BIGINT,
    LOOKUP_CF2           BIGINT,
    LOOKUP_CF3           BIGINT,
    LOOKUP_CF4           BIGINT,
    LOOKUP_CF5           BIGINT,
    LOOKUP_CF6           BIGINT,
    LOOKUP_CF7           BIGINT,
    LOOKUP_CF8           BIGINT,
    LOOKUP_CF9           BIGINT,
    LOOKUP_CF10          BIGINT,
    LOOKUP_CF11          BIGINT,
    LOOKUP_CF12          BIGINT,
    LOOKUP_CF13          BIGINT,
    LOOKUP_CF14          BIGINT,
    LOOKUP_CF15          BIGINT,
    LOOKUP_CF16          BIGINT,
    LOOKUP_CF17          BIGINT,
    LOOKUP_CF18          BIGINT,
    LOOKUP_CF19          BIGINT,
    LOOKUP_CF20          BIGINT,
    LOOKUP_CF21          BIGINT,
    LOOKUP_CF22          BIGINT,
    LOOKUP_CF23          BIGINT,
    LOOKUP_CF24          BIGINT,
    LOOKUP_CF25          BIGINT,
    LOOKUP_CF26          BIGINT,
    LOOKUP_CF27          BIGINT,
    LOOKUP_CF28          BIGINT,
    LOOKUP_CF29          BIGINT,
    LOOKUP_CF30          BIGINT,
    SCORE_CF1            DOUBLE,
    SCORE_CF2            DOUBLE,
    SCORE_CF3            DOUBLE,
    SCORE_CF4            DOUBLE,
    SCORE_CF5            DOUBLE,
    SCORE_CF6            DOUBLE,
    SCORE_CF7            DOUBLE,
    SCORE_CF8            DOUBLE,
    SCORE_CF9            DOUBLE,
    SCORE_CF10           DOUBLE,
    SCORE_CF11           DOUBLE,
    SCORE_CF12           DOUBLE,
    SCORE_CF13           DOUBLE,
    SCORE_CF14           DOUBLE,
    SCORE_CF15           DOUBLE,
    SCORE_CF16           DOUBLE,
    SCORE_CF17           DOUBLE,
    SCORE_CF18           DOUBLE,
    SCORE_CF19           DOUBLE,
    SCORE_CF20           DOUBLE,
    SCORE_CF21           DOUBLE,
    SCORE_CF22           DOUBLE,
    SCORE_CF23           DOUBLE,
    SCORE_CF24           DOUBLE,
    SCORE_CF25           DOUBLE,
    SCORE_CF26           DOUBLE,
    SCORE_CF27           DOUBLE,
    SCORE_CF28           DOUBLE,
    SCORE_CF29           DOUBLE,
    SCORE_CF30           DOUBLE,
    CONSTRAINT Tenant_Contacts_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Tenant_Contacts_FK_ID FOREIGN KEY (ID) REFERENCES People (ID) ON DELETE CASCADE,
    CONSTRAINT Tenant_Contacts_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Tenant_Contacts_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID)
);

CREATE TABLE IF NOT EXISTS Employee
(
    ID              BIGINT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    SITE_ID         BIGINT,
    LOCAL_ID        BIGINT,
    CAN_BE_ASSIGNED TINYINT,
    APP_ACCESS      TINYINT,
    IS_LABOUR       TINYINT,
    STRING_CF1      VARCHAR(255),
    STRING_CF2      VARCHAR(255),
    STRING_CF3      VARCHAR(255),
    STRING_CF4      VARCHAR(255),
    STRING_CF5      VARCHAR(255),
    STRING_CF6      VARCHAR(255),
    STRING_CF7      VARCHAR(255),
    STRING_CF8      VARCHAR(255),
    STRING_CF9      VARCHAR(255),
    STRING_CF10     VARCHAR(255),
    STRING_CF11     VARCHAR(255),
    STRING_CF12     VARCHAR(255),
    STRING_CF13     VARCHAR(255),
    STRING_CF14     VARCHAR(255),
    STRING_CF15     VARCHAR(255),
    STRING_CF16     VARCHAR(255),
    STRING_CF17     VARCHAR(255),
    STRING_CF18     VARCHAR(255),
    STRING_CF19     VARCHAR(255),
    STRING_CF20     VARCHAR(255),
    STRING_CF21     VARCHAR(255),
    STRING_CF22     VARCHAR(255),
    STRING_CF23     VARCHAR(255),
    STRING_CF24     VARCHAR(255),
    STRING_CF25     VARCHAR(255),
    STRING_CF26     VARCHAR(255),
    STRING_CF27     VARCHAR(255),
    STRING_CF28     VARCHAR(255),
    STRING_CF29     VARCHAR(255),
    STRING_CF30     VARCHAR(255),
    NUMBER_CF1      BIGINT,
    NUMBER_CF2      BIGINT,
    NUMBER_CF3      BIGINT,
    NUMBER_CF4      BIGINT,
    NUMBER_CF5      BIGINT,
    NUMBER_CF6      BIGINT,
    NUMBER_CF7      BIGINT,
    NUMBER_CF8      BIGINT,
    NUMBER_CF9      BIGINT,
    NUMBER_CF10     BIGINT,
    NUMBER_CF11     BIGINT,
    NUMBER_CF12     BIGINT,
    NUMBER_CF13     BIGINT,
    NUMBER_CF14     BIGINT,
    NUMBER_CF15     BIGINT,
    NUMBER_CF16     BIGINT,
    NUMBER_CF17     BIGINT,
    NUMBER_CF18     BIGINT,
    NUMBER_CF19     BIGINT,
    NUMBER_CF20     BIGINT,
    NUMBER_CF21     BIGINT,
    NUMBER_CF22     BIGINT,
    NUMBER_CF23     BIGINT,
    NUMBER_CF24     BIGINT,
    NUMBER_CF25     BIGINT,
    NUMBER_CF26     BIGINT,
    NUMBER_CF27     BIGINT,
    NUMBER_CF28     BIGINT,
    NUMBER_CF29     BIGINT,
    NUMBER_CF30     BIGINT,
    DECIMAL_CF1     DOUBLE,
    DECIMAL_CF2     DOUBLE,
    DECIMAL_CF3     DOUBLE,
    DECIMAL_CF4     DOUBLE,
    DECIMAL_CF5     DOUBLE,
    DECIMAL_CF6     DOUBLE,
    DECIMAL_CF7     DOUBLE,
    DECIMAL_CF8     DOUBLE,
    DECIMAL_CF9     DOUBLE,
    DECIMAL_CF10    DOUBLE,
    DECIMAL_CF11    DOUBLE,
    DECIMAL_CF12    DOUBLE,
    DECIMAL_CF13    DOUBLE,
    DECIMAL_CF14    DOUBLE,
    DECIMAL_CF15    DOUBLE,
    DECIMAL_CF16    DOUBLE,
    DECIMAL_CF17    DOUBLE,
    DECIMAL_CF18    DOUBLE,
    DECIMAL_CF19    DOUBLE,
    DECIMAL_CF20    DOUBLE,
    DECIMAL_CF21    DOUBLE,
    DECIMAL_CF22    DOUBLE,
    DECIMAL_CF23    DOUBLE,
    DECIMAL_CF24    DOUBLE,
    DECIMAL_CF25    DOUBLE,
    DECIMAL_CF26    DOUBLE,
    DECIMAL_CF27    DOUBLE,
    DECIMAL_CF28    DOUBLE,
    DECIMAL_CF29    DOUBLE,
    DECIMAL_CF30    DOUBLE,
    BOOLEAN_CF1     BOOLEAN,
    BOOLEAN_CF2     BOOLEAN,
    BOOLEAN_CF3     BOOLEAN,
    BOOLEAN_CF4     BOOLEAN,
    BOOLEAN_CF5     BOOLEAN,
    BOOLEAN_CF6     BOOLEAN,
    BOOLEAN_CF7     BOOLEAN,
    BOOLEAN_CF8     BOOLEAN,
    BOOLEAN_CF9     BOOLEAN,
    BOOLEAN_CF10    BOOLEAN,
    BOOLEAN_CF11    BOOLEAN,
    BOOLEAN_CF12    BOOLEAN,
    BOOLEAN_CF13    BOOLEAN,
    BOOLEAN_CF14    BOOLEAN,
    BOOLEAN_CF15    BOOLEAN,
    BOOLEAN_CF16    BOOLEAN,
    BOOLEAN_CF17    BOOLEAN,
    BOOLEAN_CF18    BOOLEAN,
    BOOLEAN_CF19    BOOLEAN,
    BOOLEAN_CF20    BOOLEAN,
    BOOLEAN_CF21    BOOLEAN,
    BOOLEAN_CF22    BOOLEAN,
    BOOLEAN_CF23    BOOLEAN,
    BOOLEAN_CF24    BOOLEAN,
    BOOLEAN_CF25    BOOLEAN,
    BOOLEAN_CF26    BOOLEAN,
    BOOLEAN_CF27    BOOLEAN,
    BOOLEAN_CF28    BOOLEAN,
    BOOLEAN_CF29    BOOLEAN,
    BOOLEAN_CF30    BOOLEAN,
    DATE_CF1        BIGINT,
    DATE_CF2        BIGINT,
    DATE_CF3        BIGINT,
    DATE_CF4        BIGINT,
    DATE_CF5        BIGINT,
    DATE_CF6        BIGINT,
    DATE_CF7        BIGINT,
    DATE_CF8        BIGINT,
    DATE_CF9        BIGINT,
    DATE_CF10       BIGINT,
    DATE_CF11       BIGINT,
    DATE_CF12       BIGINT,
    DATE_CF13       BIGINT,
    DATE_CF14       BIGINT,
    DATE_CF15       BIGINT,
    DATE_CF16       BIGINT,
    DATE_CF17       BIGINT,
    DATE_CF18       BIGINT,
    DATE_CF19       BIGINT,
    DATE_CF20       BIGINT,
    DATE_CF21       BIGINT,
    DATE_CF22       BIGINT,
    DATE_CF23       BIGINT,
    DATE_CF24       BIGINT,
    DATE_CF25       BIGINT,
    DATE_CF26       BIGINT,
    DATE_CF27       BIGINT,
    DATE_CF28       BIGINT,
    DATE_CF29       BIGINT,
    DATE_CF30       BIGINT,
    DATETIME_CF1    BIGINT,
    DATETIME_CF2    BIGINT,
    DATETIME_CF3    BIGINT,
    DATETIME_CF4    BIGINT,
    DATETIME_CF5    BIGINT,
    DATETIME_CF6    BIGINT,
    DATETIME_CF7    BIGINT,
    DATETIME_CF8    BIGINT,
    DATETIME_CF9    BIGINT,
    DATETIME_CF10   BIGINT,
    DATETIME_CF11   BIGINT,
    DATETIME_CF12   BIGINT,
    DATETIME_CF13   BIGINT,
    DATETIME_CF14   BIGINT,
    DATETIME_CF15   BIGINT,
    DATETIME_CF16   BIGINT,
    DATETIME_CF17   BIGINT,
    DATETIME_CF18   BIGINT,
    DATETIME_CF19   BIGINT,
    DATETIME_CF20   BIGINT,
    DATETIME_CF21   BIGINT,
    DATETIME_CF22   BIGINT,
    DATETIME_CF23   BIGINT,
    DATETIME_CF24   BIGINT,
    DATETIME_CF25   BIGINT,
    DATETIME_CF26   BIGINT,
    DATETIME_CF27   BIGINT,
    DATETIME_CF28   BIGINT,
    DATETIME_CF29   BIGINT,
    DATETIME_CF30   BIGINT,
    ENUM_CF1        INTEGER,
    ENUM_CF2        INTEGER,
    ENUM_CF3        INTEGER,
    ENUM_CF4        INTEGER,
    ENUM_CF5        INTEGER,
    ENUM_CF6        INTEGER,
    ENUM_CF7        INTEGER,
    ENUM_CF8        INTEGER,
    ENUM_CF9        INTEGER,
    ENUM_CF10       INTEGER,
    ENUM_CF11       INTEGER,
    ENUM_CF12       INTEGER,
    ENUM_CF13       INTEGER,
    ENUM_CF14       INTEGER,
    ENUM_CF15       INTEGER,
    ENUM_CF16       INTEGER,
    ENUM_CF17       INTEGER,
    ENUM_CF18       INTEGER,
    ENUM_CF19       INTEGER,
    ENUM_CF20       INTEGER,
    ENUM_CF21       INTEGER,
    ENUM_CF22       INTEGER,
    ENUM_CF23       INTEGER,
    ENUM_CF24       INTEGER,
    ENUM_CF25       INTEGER,
    ENUM_CF26       INTEGER,
    ENUM_CF27       INTEGER,
    ENUM_CF28       INTEGER,
    ENUM_CF29       INTEGER,
    ENUM_CF30       INTEGER,
    FILE_CF1        BIGINT,
    FILE_CF2        BIGINT,
    FILE_CF3        BIGINT,
    FILE_CF4        BIGINT,
    FILE_CF5        BIGINT,
    FILE_CF6        BIGINT,
    FILE_CF7        BIGINT,
    FILE_CF8        BIGINT,
    FILE_CF9        BIGINT,
    FILE_CF10       BIGINT,
    FILE_CF11       BIGINT,
    FILE_CF12       BIGINT,
    FILE_CF13       BIGINT,
    FILE_CF14       BIGINT,
    FILE_CF15       BIGINT,
    FILE_CF16       BIGINT,
    FILE_CF17       BIGINT,
    FILE_CF18       BIGINT,
    FILE_CF19       BIGINT,
    FILE_CF20       BIGINT,
    FILE_CF21       BIGINT,
    FILE_CF22       BIGINT,
    FILE_CF23       BIGINT,
    FILE_CF24       BIGINT,
    FILE_CF25       BIGINT,
    FILE_CF26       BIGINT,
    FILE_CF27       BIGINT,
    FILE_CF28       BIGINT,
    FILE_CF29       BIGINT,
    FILE_CF30       BIGINT,
    LOOKUP_CF1      BIGINT,
    LOOKUP_CF2      BIGINT,
    LOOKUP_CF3      BIGINT,
    LOOKUP_CF4      BIGINT,
    LOOKUP_CF5      BIGINT,
    LOOKUP_CF6      BIGINT,
    LOOKUP_CF7      BIGINT,
    LOOKUP_CF8      BIGINT,
    LOOKUP_CF9      BIGINT,
    LOOKUP_CF10     BIGINT,
    LOOKUP_CF11     BIGINT,
    LOOKUP_CF12     BIGINT,
    LOOKUP_CF13     BIGINT,
    LOOKUP_CF14     BIGINT,
    LOOKUP_CF15     BIGINT,
    LOOKUP_CF16     BIGINT,
    LOOKUP_CF17     BIGINT,
    LOOKUP_CF18     BIGINT,
    LOOKUP_CF19     BIGINT,
    LOOKUP_CF20     BIGINT,
    LOOKUP_CF21     BIGINT,
    LOOKUP_CF22     BIGINT,
    LOOKUP_CF23     BIGINT,
    LOOKUP_CF24     BIGINT,
    LOOKUP_CF25     BIGINT,
    LOOKUP_CF26     BIGINT,
    LOOKUP_CF27     BIGINT,
    LOOKUP_CF28     BIGINT,
    LOOKUP_CF29     BIGINT,
    LOOKUP_CF30     BIGINT,
    SCORE_CF1       DOUBLE,
    SCORE_CF2       DOUBLE,
    SCORE_CF3       DOUBLE,
    SCORE_CF4       DOUBLE,
    SCORE_CF5       DOUBLE,
    SCORE_CF6       DOUBLE,
    SCORE_CF7       DOUBLE,
    SCORE_CF8       DOUBLE,
    SCORE_CF9       DOUBLE,
    SCORE_CF10      DOUBLE,
    SCORE_CF11      DOUBLE,
    SCORE_CF12      DOUBLE,
    SCORE_CF13      DOUBLE,
    SCORE_CF14      DOUBLE,
    SCORE_CF15      DOUBLE,
    SCORE_CF16      DOUBLE,
    SCORE_CF17      DOUBLE,
    SCORE_CF18      DOUBLE,
    SCORE_CF19      DOUBLE,
    SCORE_CF20      DOUBLE,
    SCORE_CF21      DOUBLE,
    SCORE_CF22      DOUBLE,
    SCORE_CF23      DOUBLE,
    SCORE_CF24      DOUBLE,
    SCORE_CF25      DOUBLE,
    SCORE_CF26      DOUBLE,
    SCORE_CF27      DOUBLE,
    SCORE_CF28      DOUBLE,
    SCORE_CF29      DOUBLE,
    SCORE_CF30      DOUBLE,
    CONSTRAINT Employee_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Employee_FK_ID FOREIGN KEY (ID) REFERENCES People (ID) ON DELETE CASCADE,
    CONSTRAINT Employee_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID)

);

CREATE TABLE IF NOT EXISTS Client_Contacts
(
    ID                   BIGINT PRIMARY KEY,
    ORGID                BIGINT NOT NULL,
    MODULEID             BIGINT NOT NULL,
    SITE_ID              BIGINT,
    CLIENT_ID            BIGINT,
    LOCAL_ID             BIGINT,
    IS_PRIMARY_CONTACT   TINYINT,
    CLIENT_PORTAL_ACCESS TINYINT,
    STRING_CF1           VARCHAR(255),
    STRING_CF2           VARCHAR(255),
    STRING_CF3           VARCHAR(255),
    STRING_CF4           VARCHAR(255),
    STRING_CF5           VARCHAR(255),
    STRING_CF6           VARCHAR(255),
    STRING_CF7           VARCHAR(255),
    STRING_CF8           VARCHAR(255),
    STRING_CF9           VARCHAR(255),
    STRING_CF10          VARCHAR(255),
    STRING_CF11          VARCHAR(255),
    STRING_CF12          VARCHAR(255),
    STRING_CF13          VARCHAR(255),
    STRING_CF14          VARCHAR(255),
    STRING_CF15          VARCHAR(255),
    STRING_CF16          VARCHAR(255),
    STRING_CF17          VARCHAR(255),
    STRING_CF18          VARCHAR(255),
    STRING_CF19          VARCHAR(255),
    STRING_CF20          VARCHAR(255),
    STRING_CF21          VARCHAR(255),
    STRING_CF22          VARCHAR(255),
    STRING_CF23          VARCHAR(255),
    STRING_CF24          VARCHAR(255),
    STRING_CF25          VARCHAR(255),
    STRING_CF26          VARCHAR(255),
    STRING_CF27          VARCHAR(255),
    STRING_CF28          VARCHAR(255),
    STRING_CF29          VARCHAR(255),
    STRING_CF30          VARCHAR(255),
    NUMBER_CF1           BIGINT,
    NUMBER_CF2           BIGINT,
    NUMBER_CF3           BIGINT,
    NUMBER_CF4           BIGINT,
    NUMBER_CF5           BIGINT,
    NUMBER_CF6           BIGINT,
    NUMBER_CF7           BIGINT,
    NUMBER_CF8           BIGINT,
    NUMBER_CF9           BIGINT,
    NUMBER_CF10          BIGINT,
    NUMBER_CF11          BIGINT,
    NUMBER_CF12          BIGINT,
    NUMBER_CF13          BIGINT,
    NUMBER_CF14          BIGINT,
    NUMBER_CF15          BIGINT,
    NUMBER_CF16          BIGINT,
    NUMBER_CF17          BIGINT,
    NUMBER_CF18          BIGINT,
    NUMBER_CF19          BIGINT,
    NUMBER_CF20          BIGINT,
    NUMBER_CF21          BIGINT,
    NUMBER_CF22          BIGINT,
    NUMBER_CF23          BIGINT,
    NUMBER_CF24          BIGINT,
    NUMBER_CF25          BIGINT,
    NUMBER_CF26          BIGINT,
    NUMBER_CF27          BIGINT,
    NUMBER_CF28          BIGINT,
    NUMBER_CF29          BIGINT,
    NUMBER_CF30          BIGINT,
    DECIMAL_CF1          DOUBLE,
    DECIMAL_CF2          DOUBLE,
    DECIMAL_CF3          DOUBLE,
    DECIMAL_CF4          DOUBLE,
    DECIMAL_CF5          DOUBLE,
    DECIMAL_CF6          DOUBLE,
    DECIMAL_CF7          DOUBLE,
    DECIMAL_CF8          DOUBLE,
    DECIMAL_CF9          DOUBLE,
    DECIMAL_CF10         DOUBLE,
    DECIMAL_CF11         DOUBLE,
    DECIMAL_CF12         DOUBLE,
    DECIMAL_CF13         DOUBLE,
    DECIMAL_CF14         DOUBLE,
    DECIMAL_CF15         DOUBLE,
    DECIMAL_CF16         DOUBLE,
    DECIMAL_CF17         DOUBLE,
    DECIMAL_CF18         DOUBLE,
    DECIMAL_CF19         DOUBLE,
    DECIMAL_CF20         DOUBLE,
    DECIMAL_CF21         DOUBLE,
    DECIMAL_CF22         DOUBLE,
    DECIMAL_CF23         DOUBLE,
    DECIMAL_CF24         DOUBLE,
    DECIMAL_CF25         DOUBLE,
    DECIMAL_CF26         DOUBLE,
    DECIMAL_CF27         DOUBLE,
    DECIMAL_CF28         DOUBLE,
    DECIMAL_CF29         DOUBLE,
    DECIMAL_CF30         DOUBLE,
    BOOLEAN_CF1          BOOLEAN,
    BOOLEAN_CF2          BOOLEAN,
    BOOLEAN_CF3          BOOLEAN,
    BOOLEAN_CF4          BOOLEAN,
    BOOLEAN_CF5          BOOLEAN,
    BOOLEAN_CF6          BOOLEAN,
    BOOLEAN_CF7          BOOLEAN,
    BOOLEAN_CF8          BOOLEAN,
    BOOLEAN_CF9          BOOLEAN,
    BOOLEAN_CF10         BOOLEAN,
    BOOLEAN_CF11         BOOLEAN,
    BOOLEAN_CF12         BOOLEAN,
    BOOLEAN_CF13         BOOLEAN,
    BOOLEAN_CF14         BOOLEAN,
    BOOLEAN_CF15         BOOLEAN,
    BOOLEAN_CF16         BOOLEAN,
    BOOLEAN_CF17         BOOLEAN,
    BOOLEAN_CF18         BOOLEAN,
    BOOLEAN_CF19         BOOLEAN,
    BOOLEAN_CF20         BOOLEAN,
    BOOLEAN_CF21         BOOLEAN,
    BOOLEAN_CF22         BOOLEAN,
    BOOLEAN_CF23         BOOLEAN,
    BOOLEAN_CF24         BOOLEAN,
    BOOLEAN_CF25         BOOLEAN,
    BOOLEAN_CF26         BOOLEAN,
    BOOLEAN_CF27         BOOLEAN,
    BOOLEAN_CF28         BOOLEAN,
    BOOLEAN_CF29         BOOLEAN,
    BOOLEAN_CF30         BOOLEAN,
    DATE_CF1             BIGINT,
    DATE_CF2             BIGINT,
    DATE_CF3             BIGINT,
    DATE_CF4             BIGINT,
    DATE_CF5             BIGINT,
    DATE_CF6             BIGINT,
    DATE_CF7             BIGINT,
    DATE_CF8             BIGINT,
    DATE_CF9             BIGINT,
    DATE_CF10            BIGINT,
    DATE_CF11            BIGINT,
    DATE_CF12            BIGINT,
    DATE_CF13            BIGINT,
    DATE_CF14            BIGINT,
    DATE_CF15            BIGINT,
    DATE_CF16            BIGINT,
    DATE_CF17            BIGINT,
    DATE_CF18            BIGINT,
    DATE_CF19            BIGINT,
    DATE_CF20            BIGINT,
    DATE_CF21            BIGINT,
    DATE_CF22            BIGINT,
    DATE_CF23            BIGINT,
    DATE_CF24            BIGINT,
    DATE_CF25            BIGINT,
    DATE_CF26            BIGINT,
    DATE_CF27            BIGINT,
    DATE_CF28            BIGINT,
    DATE_CF29            BIGINT,
    DATE_CF30            BIGINT,
    DATETIME_CF1         BIGINT,
    DATETIME_CF2         BIGINT,
    DATETIME_CF3         BIGINT,
    DATETIME_CF4         BIGINT,
    DATETIME_CF5         BIGINT,
    DATETIME_CF6         BIGINT,
    DATETIME_CF7         BIGINT,
    DATETIME_CF8         BIGINT,
    DATETIME_CF9         BIGINT,
    DATETIME_CF10        BIGINT,
    DATETIME_CF11        BIGINT,
    DATETIME_CF12        BIGINT,
    DATETIME_CF13        BIGINT,
    DATETIME_CF14        BIGINT,
    DATETIME_CF15        BIGINT,
    DATETIME_CF16        BIGINT,
    DATETIME_CF17        BIGINT,
    DATETIME_CF18        BIGINT,
    DATETIME_CF19        BIGINT,
    DATETIME_CF20        BIGINT,
    DATETIME_CF21        BIGINT,
    DATETIME_CF22        BIGINT,
    DATETIME_CF23        BIGINT,
    DATETIME_CF24        BIGINT,
    DATETIME_CF25        BIGINT,
    DATETIME_CF26        BIGINT,
    DATETIME_CF27        BIGINT,
    DATETIME_CF28        BIGINT,
    DATETIME_CF29        BIGINT,
    DATETIME_CF30        BIGINT,
    ENUM_CF1             INTEGER,
    ENUM_CF2             INTEGER,
    ENUM_CF3             INTEGER,
    ENUM_CF4             INTEGER,
    ENUM_CF5             INTEGER,
    ENUM_CF6             INTEGER,
    ENUM_CF7             INTEGER,
    ENUM_CF8             INTEGER,
    ENUM_CF9             INTEGER,
    ENUM_CF10            INTEGER,
    ENUM_CF11            INTEGER,
    ENUM_CF12            INTEGER,
    ENUM_CF13            INTEGER,
    ENUM_CF14            INTEGER,
    ENUM_CF15            INTEGER,
    ENUM_CF16            INTEGER,
    ENUM_CF17            INTEGER,
    ENUM_CF18            INTEGER,
    ENUM_CF19            INTEGER,
    ENUM_CF20            INTEGER,
    ENUM_CF21            INTEGER,
    ENUM_CF22            INTEGER,
    ENUM_CF23            INTEGER,
    ENUM_CF24            INTEGER,
    ENUM_CF25            INTEGER,
    ENUM_CF26            INTEGER,
    ENUM_CF27            INTEGER,
    ENUM_CF28            INTEGER,
    ENUM_CF29            INTEGER,
    ENUM_CF30            INTEGER,
    FILE_CF1             BIGINT,
    FILE_CF2             BIGINT,
    FILE_CF3             BIGINT,
    FILE_CF4             BIGINT,
    FILE_CF5             BIGINT,
    FILE_CF6             BIGINT,
    FILE_CF7             BIGINT,
    FILE_CF8             BIGINT,
    FILE_CF9             BIGINT,
    FILE_CF10            BIGINT,
    FILE_CF11            BIGINT,
    FILE_CF12            BIGINT,
    FILE_CF13            BIGINT,
    FILE_CF14            BIGINT,
    FILE_CF15            BIGINT,
    FILE_CF16            BIGINT,
    FILE_CF17            BIGINT,
    FILE_CF18            BIGINT,
    FILE_CF19            BIGINT,
    FILE_CF20            BIGINT,
    FILE_CF21            BIGINT,
    FILE_CF22            BIGINT,
    FILE_CF23            BIGINT,
    FILE_CF24            BIGINT,
    FILE_CF25            BIGINT,
    FILE_CF26            BIGINT,
    FILE_CF27            BIGINT,
    FILE_CF28            BIGINT,
    FILE_CF29            BIGINT,
    FILE_CF30            BIGINT,
    LOOKUP_CF1           BIGINT,
    LOOKUP_CF2           BIGINT,
    LOOKUP_CF3           BIGINT,
    LOOKUP_CF4           BIGINT,
    LOOKUP_CF5           BIGINT,
    LOOKUP_CF6           BIGINT,
    LOOKUP_CF7           BIGINT,
    LOOKUP_CF8           BIGINT,
    LOOKUP_CF9           BIGINT,
    LOOKUP_CF10          BIGINT,
    LOOKUP_CF11          BIGINT,
    LOOKUP_CF12          BIGINT,
    LOOKUP_CF13          BIGINT,
    LOOKUP_CF14          BIGINT,
    LOOKUP_CF15          BIGINT,
    LOOKUP_CF16          BIGINT,
    LOOKUP_CF17          BIGINT,
    LOOKUP_CF18          BIGINT,
    LOOKUP_CF19          BIGINT,
    LOOKUP_CF20          BIGINT,
    LOOKUP_CF21          BIGINT,
    LOOKUP_CF22          BIGINT,
    LOOKUP_CF23          BIGINT,
    LOOKUP_CF24          BIGINT,
    LOOKUP_CF25          BIGINT,
    LOOKUP_CF26          BIGINT,
    LOOKUP_CF27          BIGINT,
    LOOKUP_CF28          BIGINT,
    LOOKUP_CF29          BIGINT,
    LOOKUP_CF30          BIGINT,
    SCORE_CF1            DOUBLE,
    SCORE_CF2            DOUBLE,
    SCORE_CF3            DOUBLE,
    SCORE_CF4            DOUBLE,
    SCORE_CF5            DOUBLE,
    SCORE_CF6            DOUBLE,
    SCORE_CF7            DOUBLE,
    SCORE_CF8            DOUBLE,
    SCORE_CF9            DOUBLE,
    SCORE_CF10           DOUBLE,
    SCORE_CF11           DOUBLE,
    SCORE_CF12           DOUBLE,
    SCORE_CF13           DOUBLE,
    SCORE_CF14           DOUBLE,
    SCORE_CF15           DOUBLE,
    SCORE_CF16           DOUBLE,
    SCORE_CF17           DOUBLE,
    SCORE_CF18           DOUBLE,
    SCORE_CF19           DOUBLE,
    SCORE_CF20           DOUBLE,
    SCORE_CF21           DOUBLE,
    SCORE_CF22           DOUBLE,
    SCORE_CF23           DOUBLE,
    SCORE_CF24           DOUBLE,
    SCORE_CF25           DOUBLE,
    SCORE_CF26           DOUBLE,
    SCORE_CF27           DOUBLE,
    SCORE_CF28           DOUBLE,
    SCORE_CF29           DOUBLE,
    SCORE_CF30           DOUBLE,
    CONSTRAINT Client_Contacts_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Client_Contacts_FK_ID FOREIGN KEY (ID) REFERENCES People (ID) ON DELETE CASCADE,
    CONSTRAINT Client_Contacts_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Client_Contacts_FK_CLIENT_ID FOREIGN KEY (CLIENT_ID) REFERENCES Clients (ID)
);

CREATE TABLE IF NOT EXISTS ORG_User_Apps (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    APPLICATION_ID BIGINT NOT NULL,
    ORG_USERID  BIGINT, 
    ORGID BIGINT,
    CONSTRAINT User_Apps_FK_ORG_USERID FOREIGN KEY (ORG_USERID) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT User_Apps_FK_APPLICATION_ID FOREIGN KEY (APPLICATION_ID) REFERENCES Application(ID),
	UNIQUE(APPLICATION_ID, ORG_USERID)
   );
  
CREATE TABLE IF NOT EXISTS Operation_Alarm (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  SITE_ID BIGINT,
  READING_FIELD_ID BIGINT,
  COVERAGE_TYPE TINYINT(4) NOT NULL,
  CONSTRAINT FOREIGN KEY (ID) REFERENCES BaseAlarm(ID) ON DELETE CASCADE,
	CONSTRAINT FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);
CREATE TABLE IF NOT EXISTS Operation_Event (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  SITE_ID BIGINT,
  READING_FIELD_ID BIGINT,
  COVERAGE_TYPE TINYINT(4) NOT NULL,
  CONSTRAINT FOREIGN KEY (ID) REFERENCES BaseEvent(ID) ON DELETE CASCADE,
  CONSTRAINT FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);
CREATE TABLE IF NOT EXISTS Operation_Alarm_Occurrence (
  ID BIGINT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  MODULEID BIGINT NOT NULL,
  SITE_ID BIGINT,
  READING_FIELD_ID BIGINT,
  COVERAGE_TYPE TINYINT(4) NOT NULL,
  CONSTRAINT FOREIGN KEY (ID) REFERENCES AlarmOccurrence(ID) ON DELETE CASCADE,
  CONSTRAINT FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
  CONSTRAINT FOREIGN KEY (SITE_ID) REFERENCES Site (ID)
);
CREATE TABLE IF NOT EXISTS Operation_Alarm_Historical_Logs (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  PARENT_ID bigint(20) DEFAULT NULL,
  ORGID bigint(20) NOT NULL,
  RESOURCE_ID bigint(20) DEFAULT NULL,
  SPLIT_START_TIME bigint(20) DEFAULT NULL,
  SPLIT_END_TIME bigint(20) DEFAULT NULL,
  STATUS int(11) DEFAULT NULL,
  LOG_STATE int(11) DEFAULT NULL,
  ERROR_MESSAGE varchar(1000) DEFAULT NULL,
  CALCULATION_START_TIME bigint(20) DEFAULT NULL,
  CALCULATION_END_TIME bigint(20) DEFAULT NULL,
  PRIMARY KEY (ID)
);


CREATE TABLE IF NOT EXISTS Energy_Star_Customer (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  CREATED_TIME BIGINT NOT NULL,
  CREATED_BY BIGINT NOT NULL,
  ENERGY_STAR_CUSTOMER_ID varchar(45) NULL,
  USERNAME varchar(500) NULL,
  PASSWORD varchar(500) NULL,
  DATA_EXCHANGE_MODE int(11) NULL,
  TYPE int(11) NOT NULL,
  SHARE_STATUS INT NULL,
  SHARE_KEY varchar(500) NULL,
  SYNC_STATUS INT NULL,
  LAST_SYNC_TIME BIGINT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE IF NOT EXISTS Energy_Star_Property (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  BUILDING_ID BIGINT DEFAULT NULL,
  BUILDING_TYPE int(11) DEFAULT NULL,
  ES_PROPERTY_ID varchar(45) NOT NULL,
  ES_PROPERTY_USE_ID varchar(45) DEFAULT NULL,
  ES_DESIGN_ID varchar(45) DEFAULT NULL,
  YEAR_BUILD varchar(45) DEFAULT NULL,
  OCCUPANCY_PERCENTAGE varchar(45) DEFAULT NULL,
  BASELINE_MONTH BIGINT DEFAULT NULL,
  META_JSON varchar(1000) NULL,
  LAST_METRICS_FETCHED_DATE BIGINT DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_Property_building_id FOREIGN KEY (BUILDING_ID) REFERENCES BaseSpace (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Energy_Star_Property_Use (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  PROPERTY_ID BIGINT NOT NULL,
  USE_INT int(11) NOT NULL,
  VALUE varchar(500) NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_Property_Use_PROPERTY_ID FOREIGN KEY (PROPERTY_ID) REFERENCES Energy_Star_Property (ID) ON DELETE CASCADE ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Energy_Star_Meter (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  PROPERTY_ID BIGINT NOT NULL,
  TYPE int(11) NOT NULL,
  METER_ID BIGINT NULL,
  ENERGY_STAR_METER_ID varchar(45) DEFAULT NULL,
  FIRST_BILL_DATE varchar(45) DEFAULT NULL,
  META_JSON varchar(1000) NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_Meter_meter_id FOREIGN KEY (METER_ID) REFERENCES Assets (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Energy_Star_Meter_property_id FOREIGN KEY (PROPERTY_ID) REFERENCES Energy_Star_Property (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Energy_Star_Meter_Data (
  ID bigint NOT NULL AUTO_INCREMENT,
  ORGID bigint NOT NULL,
  MODULEID bigint NOT NULL,
  SOURCE_TYPE BIGINT,
  SOURCE_ID BIGINT,
  FROM_DATE bigint NOT NULL,
  TO_DATE bigint NOT NULL,
  PARENT_ID bigint NOT NULL,
  ACTUAL_TTIME bigint NOT NULL,
  TTIME bigint NOT NULL,
  TTIME_DATE date NOT NULL,
  TTIME_MONTH int NOT NULL,
  TTIME_WEEK int NOT NULL,
  TTIME_DAY int NOT NULL,
  TTIME_HOUR int NOT NULL,
  ENERGY_STAR_ID VARCHAR(50),
  ENERGY_CONSUMPTION DOUBLE,
	ENERGY_COST DOUBLE,
	DEMAND DOUBLE,
	DEMAND_COST DOUBLE,
	WATER_CONSUMPTION DOUBLE,
	WATER_COST DOUBLE,
	GAS_CONSUMPTION DOUBLE,
	GAS_COST DOUBLE,
	SEWER_USAGE DOUBLE,
	SEWER_USAGE_COST DOUBLE,
	STORM_WATER_COST DOUBLE,
	TOTAL_COST DOUBLE,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_Meter_Data_parent_id FOREIGN KEY (PARENT_ID) REFERENCES Energy_Star_Meter (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Energy_Star_Property_Data (
  ID bigint NOT NULL AUTO_INCREMENT,
  ORGID bigint NOT NULL,
  MODULEID bigint NOT NULL,
  SOURCE_TYPE BIGINT,
  SOURCE_ID BIGINT,
  PARENT_ID bigint NOT NULL,
  ACTUAL_TTIME bigint NOT NULL,
  TTIME bigint NOT NULL,
  TTIME_DATE date NOT NULL,
  TTIME_MONTH int NOT NULL,
  TTIME_WEEK int NOT NULL,
  TTIME_DAY int NOT NULL,
  TTIME_HOUR int NOT NULL,
  SCORE DOUBLE,
  TARGET_SCORE DOUBLE,
  MEDIAN_SCORE DOUBLE,
  SOURCE_INTENSITY DOUBLE,
  TARGET_SOURCE_INTENSITY DOUBLE,
  MEDIAN_SOURCE_INTENSITY DOUBLE,
  SITE_EUI DOUBLE,
  TARGET_SITE_EUI DOUBLE,
  MEDIAN_SITE_EUI DOUBLE,
  TOTAL_GHG_EMISSIONS DOUBLE,
  TARGET_TOTAL_GHG_EMISSIONS DOUBLE,
  MEDIAN_TOTAL_GHG_EMISSIONS DOUBLE,
  COST DOUBLE,
  TARGET_COST DOUBLE,
  MEDIAN_COST DOUBLE,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_property_Data_parent_id FOREIGN KEY (PARENT_ID) REFERENCES Energy_Star_Property (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Energy_Star_Meter_Point (
  ID BIGINT NOT NULL AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  METER_ID BIGINT NOT NULL,
  POINT_ID int(11) NOT NULL,
  FIELD_ID BIGINT DEFAULT NULL,
  AGGR int(11) DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT Energy_Star_Meter_Point_field_id FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID),
  CONSTRAINT Energy_Star_Meter_Point_meter_id FOREIGN KEY (METER_ID) REFERENCES Energy_Star_Meter (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Scoping_Config
(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	SCOPING_ID BIGINT NOT NULL,
	ORGID BIGINT NOT NULL,
   	MODULE_ID BIGINT,
  	FIELD_NAME VARCHAR(200) NOT NULL,
  	OPERATOR_ID INTEGER NOT NULL,
  	FIELD_VALUE VARCHAR(200),
  	FIELD_VALUE_GENERATOR VARCHAR(500),
  	CONSTRAINT FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID),
  	CONSTRAINT FOREIGN KEY (SCOPING_ID) REFERENCES Scoping (ID)
);

CREATE TABLE IF NOT EXISTS Field_Module_Permission (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
   	FIELD_ID BIGINT,
   	MODULE_ID BIGINT NOT NULL,
   	SUB_MODULE_ID BIGINT,
  	ROLE_ID BIGINT,
  	CHECK_TYPE INTEGER NOT NULL,
  	PERMISSION_TYPE INTEGER NOT NULL,
	CONSTRAINT FOREIGN KEY (MODULE_ID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
	CONSTRAINT FOREIGN KEY (SUB_MODULE_ID) REFERENCES Modules (MODULEID) ON DELETE CASCADE,
  	CONSTRAINT FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE CASCADE,
  	CONSTRAINT FOREIGN KEY (ROLE_ID) REFERENCES Role (ROLE_ID) ON DELETE CASCADE
 );
CREATE TABLE Asset_Rollup_Summary (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	LAST_ROLLED_UP_DATE BIGINT NOT NULL
);

CREATE TABLE Rule_Rollup_Summary (
	ID BIGINT PRIMARY KEY AUTO_INCREMENT,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	LAST_ROLLED_UP_DATE BIGINT NOT NULL
);
-- Quotation Module Tables Start

CREATE TABLE IF NOT EXISTS TaxGroups
(
    ID            BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID         BIGINT,
    MODULEID      BIGINT NOT NULL,
    PARENT_TAX_ID BIGINT NOT NULL,
    CHILD_TAX_ID  BIGINT NOT NULL,
    CONSTRAINT TAXGROUPS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT TAXGROUPS_FK_PARENT_TAX_ID FOREIGN KEY (PARENT_TAX_ID) REFERENCES Tax (ID),
    CONSTRAINT TAXGROUPS_FK_CHILD_TAX_ID FOREIGN KEY (CHILD_TAX_ID) REFERENCES Tax (ID)

);

CREATE TABLE IF NOT EXISTS Quotation
(
    ID                         BIGINT AUTO_INCREMENT PRIMARY KEY,
    LOCAL_ID                   BIGINT,
    ORGID                      BIGINT       NOT NULL,
    MODULEID                   BIGINT       NOT NULL,
    SITE_ID                    BIGINT,
    SUBJECT                    VARCHAR(100) NOT NULL,
    SYS_CREATED_TIME           BIGINT,
    SYS_MODIFIED_TIME          BIGINT,
    FORM_ID                    BIGINT,
    SYS_DELETED                TINYINT,
    SYS_DELETED_TIME           BIGINT,
    SYS_DELETED_BY             BIGINT,
    SYS_CREATED_BY             BIGINT,
    SYS_MODIFIED_BY            BIGINT,
    MODULE_STATE               BIGINT,
    STATE_FLOW_ID              BIGINT,
    APPROVAL_FLOW_ID           BIGINT,
    APPROVAL_STATE             BIGINT,
    DESCRIPTION                VARCHAR(5000),
    NOTES                      VARCHAR(500),
    BILL_DATE                  BIGINT,
    EXPIRY_DATE                BIGINT,
    SIGNATURE_ID               BIGINT,
    SUB_TOTAL                  DOUBLE,
    TOTAL_TAX_AMOUNT           DOUBLE,
    DISCOUNT_AMOUNT            DOUBLE,
    DISCOUNT_PERCENTAGE        DOUBLE,
    SHIPPING_CHARGES           DOUBLE,
    ADJUSTMENTS_COST           DOUBLE,
    ADJUSTMENTS_COST_NAME      VARCHAR(50),
    MISCELLANEOUS_CHARGES      DOUBLE,
    TOTAL_COST                 DOUBLE,
    SHIP_TO_ADDRESS_ID         BIGINT,
    BILL_TO_ADDRESS_ID         BIGINT,
    CUSTOMER_TYPE              TINYINT,
    PARENT_ID                  BIGINT,
    REVISION_NUMBER            BIGINT,
    CLIENT_ID                  BIGINT,
    TENANT_ID                  BIGINT,
    WORKORDER_ID               BIGINT,
    IS_QUOTATION_REVISED       TINYINT,
    REVISION_HISTORY_AVAILABLE TINYINT,
    CONTACT_ID                 BIGINT,
    TAX_ID                     BIGINT,
    STRING_CF1                 VARCHAR(255),
    STRING_CF2                 VARCHAR(255),
    STRING_CF3                 VARCHAR(255),
    STRING_CF4                 VARCHAR(255),
    STRING_CF5                 VARCHAR(255),
    STRING_CF6                 VARCHAR(255),
    STRING_CF7                 VARCHAR(255),
    STRING_CF8                 VARCHAR(255),
    STRING_CF9                 VARCHAR(255),
    STRING_CF10                VARCHAR(255),
    STRING_CF11                VARCHAR(255),
    STRING_CF12                VARCHAR(255),
    STRING_CF13                VARCHAR(255),
    STRING_CF14                VARCHAR(255),
    STRING_CF15                VARCHAR(255),
    STRING_CF16                VARCHAR(255),
    STRING_CF17                VARCHAR(255),
    STRING_CF18                VARCHAR(255),
    STRING_CF19                VARCHAR(255),
    STRING_CF20                VARCHAR(255),
    STRING_CF21                VARCHAR(255),
    STRING_CF22                VARCHAR(255),
    STRING_CF23                VARCHAR(255),
    STRING_CF24                VARCHAR(255),
    STRING_CF25                VARCHAR(255),
    STRING_CF26                VARCHAR(255),
    STRING_CF27                VARCHAR(255),
    STRING_CF28                VARCHAR(255),
    STRING_CF29                VARCHAR(255),
    STRING_CF30                VARCHAR(255),
    NUMBER_CF1                 BIGINT,
    NUMBER_CF2                 BIGINT,
    NUMBER_CF3                 BIGINT,
    NUMBER_CF4                 BIGINT,
    NUMBER_CF5                 BIGINT,
    NUMBER_CF6                 BIGINT,
    NUMBER_CF7                 BIGINT,
    NUMBER_CF8                 BIGINT,
    NUMBER_CF9                 BIGINT,
    NUMBER_CF10                BIGINT,
    NUMBER_CF11                BIGINT,
    NUMBER_CF12                BIGINT,
    NUMBER_CF13                BIGINT,
    NUMBER_CF14                BIGINT,
    NUMBER_CF15                BIGINT,
    NUMBER_CF16                BIGINT,
    NUMBER_CF17                BIGINT,
    NUMBER_CF18                BIGINT,
    NUMBER_CF19                BIGINT,
    NUMBER_CF20                BIGINT,
    NUMBER_CF21                BIGINT,
    NUMBER_CF22                BIGINT,
    NUMBER_CF23                BIGINT,
    NUMBER_CF24                BIGINT,
    NUMBER_CF25                BIGINT,
    NUMBER_CF26                BIGINT,
    NUMBER_CF27                BIGINT,
    NUMBER_CF28                BIGINT,
    NUMBER_CF29                BIGINT,
    NUMBER_CF30                BIGINT,
    DECIMAL_CF1                DOUBLE,
    DECIMAL_CF2                DOUBLE,
    DECIMAL_CF3                DOUBLE,
    DECIMAL_CF4                DOUBLE,
    DECIMAL_CF5                DOUBLE,
    DECIMAL_CF6                DOUBLE,
    DECIMAL_CF7                DOUBLE,
    DECIMAL_CF8                DOUBLE,
    DECIMAL_CF9                DOUBLE,
    DECIMAL_CF10               DOUBLE,
    DECIMAL_CF11               DOUBLE,
    DECIMAL_CF12               DOUBLE,
    DECIMAL_CF13               DOUBLE,
    DECIMAL_CF14               DOUBLE,
    DECIMAL_CF15               DOUBLE,
    DECIMAL_CF16               DOUBLE,
    DECIMAL_CF17               DOUBLE,
    DECIMAL_CF18               DOUBLE,
    DECIMAL_CF19               DOUBLE,
    DECIMAL_CF20               DOUBLE,
    DECIMAL_CF21               DOUBLE,
    DECIMAL_CF22               DOUBLE,
    DECIMAL_CF23               DOUBLE,
    DECIMAL_CF24               DOUBLE,
    DECIMAL_CF25               DOUBLE,
    DECIMAL_CF26               DOUBLE,
    DECIMAL_CF27               DOUBLE,
    DECIMAL_CF28               DOUBLE,
    DECIMAL_CF29               DOUBLE,
    DECIMAL_CF30               DOUBLE,
    BOOLEAN_CF1                BOOLEAN,
    BOOLEAN_CF2                BOOLEAN,
    BOOLEAN_CF3                BOOLEAN,
    BOOLEAN_CF4                BOOLEAN,
    BOOLEAN_CF5                BOOLEAN,
    BOOLEAN_CF6                BOOLEAN,
    BOOLEAN_CF7                BOOLEAN,
    BOOLEAN_CF8                BOOLEAN,
    BOOLEAN_CF9                BOOLEAN,
    BOOLEAN_CF10               BOOLEAN,
    BOOLEAN_CF11               BOOLEAN,
    BOOLEAN_CF12               BOOLEAN,
    BOOLEAN_CF13               BOOLEAN,
    BOOLEAN_CF14               BOOLEAN,
    BOOLEAN_CF15               BOOLEAN,
    BOOLEAN_CF16               BOOLEAN,
    BOOLEAN_CF17               BOOLEAN,
    BOOLEAN_CF18               BOOLEAN,
    BOOLEAN_CF19               BOOLEAN,
    BOOLEAN_CF20               BOOLEAN,
    BOOLEAN_CF21               BOOLEAN,
    BOOLEAN_CF22               BOOLEAN,
    BOOLEAN_CF23               BOOLEAN,
    BOOLEAN_CF24               BOOLEAN,
    BOOLEAN_CF25               BOOLEAN,
    BOOLEAN_CF26               BOOLEAN,
    BOOLEAN_CF27               BOOLEAN,
    BOOLEAN_CF28               BOOLEAN,
    BOOLEAN_CF29               BOOLEAN,
    BOOLEAN_CF30               BOOLEAN,
    DATE_CF1                   BIGINT,
    DATE_CF2                   BIGINT,
    DATE_CF3                   BIGINT,
    DATE_CF4                   BIGINT,
    DATE_CF5                   BIGINT,
    DATE_CF6                   BIGINT,
    DATE_CF7                   BIGINT,
    DATE_CF8                   BIGINT,
    DATE_CF9                   BIGINT,
    DATE_CF10                  BIGINT,
    DATE_CF11                  BIGINT,
    DATE_CF12                  BIGINT,
    DATE_CF13                  BIGINT,
    DATE_CF14                  BIGINT,
    DATE_CF15                  BIGINT,
    DATE_CF16                  BIGINT,
    DATE_CF17                  BIGINT,
    DATE_CF18                  BIGINT,
    DATE_CF19                  BIGINT,
    DATE_CF20                  BIGINT,
    DATE_CF21                  BIGINT,
    DATE_CF22                  BIGINT,
    DATE_CF23                  BIGINT,
    DATE_CF24                  BIGINT,
    DATE_CF25                  BIGINT,
    DATE_CF26                  BIGINT,
    DATE_CF27                  BIGINT,
    DATE_CF28                  BIGINT,
    DATE_CF29                  BIGINT,
    DATE_CF30                  BIGINT,
    DATETIME_CF1               BIGINT,
    DATETIME_CF2               BIGINT,
    DATETIME_CF3               BIGINT,
    DATETIME_CF4               BIGINT,
    DATETIME_CF5               BIGINT,
    DATETIME_CF6               BIGINT,
    DATETIME_CF7               BIGINT,
    DATETIME_CF8               BIGINT,
    DATETIME_CF9               BIGINT,
    DATETIME_CF10              BIGINT,
    DATETIME_CF11              BIGINT,
    DATETIME_CF12              BIGINT,
    DATETIME_CF13              BIGINT,
    DATETIME_CF14              BIGINT,
    DATETIME_CF15              BIGINT,
    DATETIME_CF16              BIGINT,
    DATETIME_CF17              BIGINT,
    DATETIME_CF18              BIGINT,
    DATETIME_CF19              BIGINT,
    DATETIME_CF20              BIGINT,
    DATETIME_CF21              BIGINT,
    DATETIME_CF22              BIGINT,
    DATETIME_CF23              BIGINT,
    DATETIME_CF24              BIGINT,
    DATETIME_CF25              BIGINT,
    DATETIME_CF26              BIGINT,
    DATETIME_CF27              BIGINT,
    DATETIME_CF28              BIGINT,
    DATETIME_CF29              BIGINT,
    DATETIME_CF30              BIGINT,
    ENUM_CF1                   INTEGER,
    ENUM_CF2                   INTEGER,
    ENUM_CF3                   INTEGER,
    ENUM_CF4                   INTEGER,
    ENUM_CF5                   INTEGER,
    ENUM_CF6                   INTEGER,
    ENUM_CF7                   INTEGER,
    ENUM_CF8                   INTEGER,
    ENUM_CF9                   INTEGER,
    ENUM_CF10                  INTEGER,
    ENUM_CF11                  INTEGER,
    ENUM_CF12                  INTEGER,
    ENUM_CF13                  INTEGER,
    ENUM_CF14                  INTEGER,
    ENUM_CF15                  INTEGER,
    ENUM_CF16                  INTEGER,
    ENUM_CF17                  INTEGER,
    ENUM_CF18                  INTEGER,
    ENUM_CF19                  INTEGER,
    ENUM_CF20                  INTEGER,
    ENUM_CF21                  INTEGER,
    ENUM_CF22                  INTEGER,
    ENUM_CF23                  INTEGER,
    ENUM_CF24                  INTEGER,
    ENUM_CF25                  INTEGER,
    ENUM_CF26                  INTEGER,
    ENUM_CF27                  INTEGER,
    ENUM_CF28                  INTEGER,
    ENUM_CF29                  INTEGER,
    ENUM_CF30                  INTEGER,
    FILE_CF1                   BIGINT,
    FILE_CF2                   BIGINT,
    FILE_CF3                   BIGINT,
    FILE_CF4                   BIGINT,
    FILE_CF5                   BIGINT,
    FILE_CF6                   BIGINT,
    FILE_CF7                   BIGINT,
    FILE_CF8                   BIGINT,
    FILE_CF9                   BIGINT,
    FILE_CF10                  BIGINT,
    FILE_CF11                  BIGINT,
    FILE_CF12                  BIGINT,
    FILE_CF13                  BIGINT,
    FILE_CF14                  BIGINT,
    FILE_CF15                  BIGINT,
    FILE_CF16                  BIGINT,
    FILE_CF17                  BIGINT,
    FILE_CF18                  BIGINT,
    FILE_CF19                  BIGINT,
    FILE_CF20                  BIGINT,
    FILE_CF21                  BIGINT,
    FILE_CF22                  BIGINT,
    FILE_CF23                  BIGINT,
    FILE_CF24                  BIGINT,
    FILE_CF25                  BIGINT,
    FILE_CF26                  BIGINT,
    FILE_CF27                  BIGINT,
    FILE_CF28                  BIGINT,
    FILE_CF29                  BIGINT,
    FILE_CF30                  BIGINT,
    LOOKUP_CF1                 BIGINT,
    LOOKUP_CF2                 BIGINT,
    LOOKUP_CF3                 BIGINT,
    LOOKUP_CF4                 BIGINT,
    LOOKUP_CF5                 BIGINT,
    LOOKUP_CF6                 BIGINT,
    LOOKUP_CF7                 BIGINT,
    LOOKUP_CF8                 BIGINT,
    LOOKUP_CF9                 BIGINT,
    LOOKUP_CF10                BIGINT,
    LOOKUP_CF11                BIGINT,
    LOOKUP_CF12                BIGINT,
    LOOKUP_CF13                BIGINT,
    LOOKUP_CF14                BIGINT,
    LOOKUP_CF15                BIGINT,
    LOOKUP_CF16                BIGINT,
    LOOKUP_CF17                BIGINT,
    LOOKUP_CF18                BIGINT,
    LOOKUP_CF19                BIGINT,
    LOOKUP_CF20                BIGINT,
    LOOKUP_CF21                BIGINT,
    LOOKUP_CF22                BIGINT,
    LOOKUP_CF23                BIGINT,
    LOOKUP_CF24                BIGINT,
    LOOKUP_CF25                BIGINT,
    LOOKUP_CF26                BIGINT,
    LOOKUP_CF27                BIGINT,
    LOOKUP_CF28                BIGINT,
    LOOKUP_CF29                BIGINT,
    LOOKUP_CF30                BIGINT,
    SCORE_CF1                  DOUBLE,
    SCORE_CF2                  DOUBLE,
    SCORE_CF3                  DOUBLE,
    SCORE_CF4                  DOUBLE,
    SCORE_CF5                  DOUBLE,
    SCORE_CF6                  DOUBLE,
    SCORE_CF7                  DOUBLE,
    SCORE_CF8                  DOUBLE,
    SCORE_CF9                  DOUBLE,
    SCORE_CF10                 DOUBLE,
    SCORE_CF11                 DOUBLE,
    SCORE_CF12                 DOUBLE,
    SCORE_CF13                 DOUBLE,
    SCORE_CF14                 DOUBLE,
    SCORE_CF15                 DOUBLE,
    SCORE_CF16                 DOUBLE,
    SCORE_CF17                 DOUBLE,
    SCORE_CF18                 DOUBLE,
    SCORE_CF19                 DOUBLE,
    SCORE_CF20                 DOUBLE,
    SCORE_CF21                 DOUBLE,
    SCORE_CF22                 DOUBLE,
    SCORE_CF23                 DOUBLE,
    SCORE_CF24                 DOUBLE,
    SCORE_CF25                 DOUBLE,
    SCORE_CF26                 DOUBLE,
    SCORE_CF27                 DOUBLE,
    SCORE_CF28                 DOUBLE,
    SCORE_CF29                 DOUBLE,
    SCORE_CF30                 DOUBLE,
    CONSTRAINT QUOTATION_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATION_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT QUOTATION_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT QUOTATION_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT QUOTATION_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT QUOTATION_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT QUOTATION_FK_SIGNATURE FOREIGN KEY (SIGNATURE_ID) REFERENCES FacilioFile (FILE_ID),
    CONSTRAINT QUOTATION_FK_SHIP_TO_ADDRESS_ID FOREIGN KEY (SHIP_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT QUOTATION_FK_BILL_TO_ADDRESS_ID FOREIGN KEY (BILL_TO_ADDRESS_ID) REFERENCES Locations (ID),
    CONSTRAINT QUOTATION_FK_TENANTID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
    CONSTRAINT QUOTATION_FK_CLIENTID FOREIGN KEY (CLIENT_ID) REFERENCES Clients (ID),
    CONSTRAINT QUOTATION_FK_CONTACT_ID FOREIGN KEY (CONTACT_ID) REFERENCES People (ID),
    CONSTRAINT QUOTATION_FK_TAX_ID FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);


CREATE TABLE IF NOT EXISTS Quotation_Attachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT_ID       BIGINT NOT NULL,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT QUOTATION_ATTACHMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATION_ATTACHMENTS_FK_PARENT FOREIGN KEY (PARENT_ID) REFERENCES Quotation (ID) ON DELETE CASCADE,
    CONSTRAINT QUOTATION_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Quotation_Notes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT QUOTATION_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATION_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Quotation (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS QuotationLineItems
(
    ID              BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID           BIGINT  NOT NULL,
    MODULEID        BIGINT  NOT NULL,
    QUOTATION_ID    BIGINT  NOT NULL,
    TYPE            TINYINT NOT NULL,
    ITEM_TYPE_ID    BIGINT,
    TOOL_TYPE_ID    BIGINT,
    SERVICE_ID      BIGINT,
    LABOUR_ID       BIGINT,
    QUANTITY        DOUBLE,
    DESCRIPTION     VARCHAR(5000),
    UNIT_PRICE      DOUBLE,
    TAX_ID          BIGINT,
    TAX_AMOUNT      DOUBLE,
    COST            DOUBLE,
    UNIT_OF_MEASURE BIGINT,
    CONSTRAINT QUOTATIONLINEITEMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATIONLINEITEMS_FK_QUOTATION FOREIGN KEY (QUOTATION_ID) REFERENCES Quotation (ID) ON DELETE CASCADE,
    CONSTRAINT QUOTATIONLINEITEMS_FK_ITEM FOREIGN KEY (ITEM_TYPE_ID) REFERENCES Item_Types (ID),
    CONSTRAINT QUOTATIONLINEITEMS_FK_SERVICE FOREIGN KEY (SERVICE_ID) REFERENCES Service (ID),
    CONSTRAINT QUOTATIONLINEITEMS_FK_TOOL FOREIGN KEY (TOOL_TYPE_ID) REFERENCES Tool_types (ID),
    CONSTRAINT QUOTATIONLINEITEMS_FK_LABOUR FOREIGN KEY (LABOUR_ID) REFERENCES Labour (ID),
    CONSTRAINT QUOTATIONLINEITEMS_FK_TAX FOREIGN KEY (TAX_ID) REFERENCES Tax (ID)
);

CREATE TABLE IF NOT EXISTS QuotationAssociatedTerms
(
    ID                      BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID                   BIGINT NOT NULL,
    MODULEID                BIGINT NOT NULL,
    QUOTATION_ID            BIGINT,
    TERMS_AND_CONDITIONS_ID BIGINT,
    CONSTRAINT QUOTATIONASSOCIATEDTERMS_FK_MODULE FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATIONASSOCIATEDTERMS_FK_TERMSID FOREIGN KEY (TERMS_AND_CONDITIONS_ID) REFERENCES Terms_And_Conditions (ID),
    CONSTRAINT QUOTATIONASSOCIATEDTERMS_FK_ID FOREIGN KEY (QUOTATION_ID) REFERENCES Quotation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS QuotationActivity
(
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT  NOT NULL,
    MODULEID          BIGINT  NOT NULL,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    PARENT_ID         BIGINT  NOT NULL,
    TTIME             BIGINT  NOT NULL,
    ACTIVITY_TYPE     TINYINT NOT NULL,
    DONE_BY_ID        BIGINT  NOT NULL,
    INFO              VARCHAR(5000),
    CONSTRAINT QUOTATION_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT QUOTATION_ACTIVITY_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Quotation (ID) ON DELETE CASCADE,
    CONSTRAINT QUOTATION_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT QUOTATION_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID)
);
-- Quotation Module Tables End

-- WorkPermit Tables Start

CREATE TABLE IF NOT EXISTS WorkPermitType
(
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    TYPE              VARCHAR(255),
    DESCRIPTION       VARCHAR(500),
    STRING_CF1        VARCHAR(50),
    STRING_CF2        VARCHAR(50),
    STRING_CF3        VARCHAR(50),
    STRING_CF4        VARCHAR(50),
    STRING_CF5        VARCHAR(50),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    ENUM_CF1          INT,
    ENUM_CF2          INT,
    ENUM_CF3          INT,
    ENUM_CF4          INT,
    ENUM_CF5          INT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    CONSTRAINT WORK_PERMIT_TYPE_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORK_PERMIT_TYPE_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT WORK_PERMIT_TYPE_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORK_PERMIT_TYPE_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORK_PERMIT_TYPE_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS WorkPermitTypeChecklist_Category
(
    ID                  BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID               BIGINT NOT NULL,
    MODULEID            BIGINT NOT NULL,
    SITE_ID             BIGINT,
    FORM_ID             BIGINT,
    NAME                VARCHAR(255),
    DESCRIPTION         VARCHAR(500),
    WORK_PERMIT_TYPE_ID BIGINT,
    VALIDATION_TYPE     INT,
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_CATEGORY_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_CATEGORY_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_CATEGORY_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_WPT_FK_FORM_ID FOREIGN KEY (WORK_PERMIT_TYPE_ID) REFERENCES WorkPermitType (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS WorkPermit
(
    ID                      BIGINT PRIMARY KEY AUTO_INCREMENT,
    LOCAL_ID                BIGINT,
    ORGID                   BIGINT NOT NULL,
    MODULEID                BIGINT NOT NULL,
    SITE_ID                 BIGINT,
    BASE_SPACE_ID           BIGINT,
    SYS_CREATED_TIME        BIGINT,
    SYS_MODIFIED_TIME       BIGINT,
    SYS_CREATED_BY          BIGINT,
    SYS_MODIFIED_BY         BIGINT,
    SYS_DELETED             TINYINT,
    SYS_DELETED_TIME        BIGINT,
    SYS_DELETED_BY          BIGINT,
    TICKET_ID               BIGINT,
    NAME                    VARCHAR(200),
    DESCRIPTION             VARCHAR(200),
    PERMIT_TYPE             TINYINT,
    WORK_PERMIT_TYPE_ID     BIGINT,
    WORK_TYPE               TINYINT,
    VENDOR_ID               BIGINT,
    VENDOR_CONTACT_ID       BIGINT,
    PEOPLE_ID               BIGINT,
    RECURRING_INFO_ID       BIGINT,
    IS_RECURRING            TINYINT,
    MODULE_STATE            BIGINT,
    STATE_FLOW_ID           BIGINT,
    FORM_ID                 BIGINT,
    EXPECTED_START_TIME     BIGINT,
    EXPECTED_END_TIME       BIGINT,
    REQUESTED_BY            BIGINT,
    ISSUED_TO_USER          BIGINT,
    APPROVAL_STATE          BIGINT,
    APPROVAL_FLOW_ID        BIGINT,
    TENANT_ID               BIGINT,
    IS_PRE_VALIDATION_DONE  BOOLEAN,
    IS_POST_VALIDATION_DONE BOOLEAN,
    STRING_CF1              VARCHAR(255),
    STRING_CF2              VARCHAR(255),
    STRING_CF3              VARCHAR(255),
    STRING_CF4              VARCHAR(255),
    STRING_CF5              VARCHAR(255),
    STRING_CF6              VARCHAR(255),
    STRING_CF7              VARCHAR(255),
    STRING_CF8              VARCHAR(255),
    STRING_CF9              VARCHAR(255),
    STRING_CF10             VARCHAR(255),
    STRING_CF11             VARCHAR(255),
    STRING_CF12             VARCHAR(255),
    STRING_CF13             VARCHAR(255),
    STRING_CF14             VARCHAR(255),
    STRING_CF15             VARCHAR(255),
    STRING_CF16             VARCHAR(255),
    STRING_CF17             VARCHAR(255),
    STRING_CF18             VARCHAR(255),
    STRING_CF19             VARCHAR(255),
    STRING_CF20             VARCHAR(255),
    STRING_CF21             VARCHAR(255),
    STRING_CF22             VARCHAR(255),
    STRING_CF23             VARCHAR(255),
    STRING_CF24             VARCHAR(255),
    STRING_CF25             VARCHAR(255),
    STRING_CF26             VARCHAR(255),
    STRING_CF27             VARCHAR(255),
    STRING_CF28             VARCHAR(255),
    STRING_CF29             VARCHAR(255),
    STRING_CF30             VARCHAR(255),
    NUMBER_CF1              BIGINT,
    NUMBER_CF2              BIGINT,
    NUMBER_CF3              BIGINT,
    NUMBER_CF4              BIGINT,
    NUMBER_CF5              BIGINT,
    NUMBER_CF6              BIGINT,
    NUMBER_CF7              BIGINT,
    NUMBER_CF8              BIGINT,
    NUMBER_CF9              BIGINT,
    NUMBER_CF10             BIGINT,
    NUMBER_CF11             BIGINT,
    NUMBER_CF12             BIGINT,
    NUMBER_CF13             BIGINT,
    NUMBER_CF14             BIGINT,
    NUMBER_CF15             BIGINT,
    NUMBER_CF16             BIGINT,
    NUMBER_CF17             BIGINT,
    NUMBER_CF18             BIGINT,
    NUMBER_CF19             BIGINT,
    NUMBER_CF20             BIGINT,
    NUMBER_CF21             BIGINT,
    NUMBER_CF22             BIGINT,
    NUMBER_CF23             BIGINT,
    NUMBER_CF24             BIGINT,
    NUMBER_CF25             BIGINT,
    NUMBER_CF26             BIGINT,
    NUMBER_CF27             BIGINT,
    NUMBER_CF28             BIGINT,
    NUMBER_CF29             BIGINT,
    NUMBER_CF30             BIGINT,
    DECIMAL_CF1             DOUBLE,
    DECIMAL_CF2             DOUBLE,
    DECIMAL_CF3             DOUBLE,
    DECIMAL_CF4             DOUBLE,
    DECIMAL_CF5             DOUBLE,
    DECIMAL_CF6             DOUBLE,
    DECIMAL_CF7             DOUBLE,
    DECIMAL_CF8             DOUBLE,
    DECIMAL_CF9             DOUBLE,
    DECIMAL_CF10            DOUBLE,
    DECIMAL_CF11            DOUBLE,
    DECIMAL_CF12            DOUBLE,
    DECIMAL_CF13            DOUBLE,
    DECIMAL_CF14            DOUBLE,
    DECIMAL_CF15            DOUBLE,
    DECIMAL_CF16            DOUBLE,
    DECIMAL_CF17            DOUBLE,
    DECIMAL_CF18            DOUBLE,
    DECIMAL_CF19            DOUBLE,
    DECIMAL_CF20            DOUBLE,
    DECIMAL_CF21            DOUBLE,
    DECIMAL_CF22            DOUBLE,
    DECIMAL_CF23            DOUBLE,
    DECIMAL_CF24            DOUBLE,
    DECIMAL_CF25            DOUBLE,
    DECIMAL_CF26            DOUBLE,
    DECIMAL_CF27            DOUBLE,
    DECIMAL_CF28            DOUBLE,
    DECIMAL_CF29            DOUBLE,
    DECIMAL_CF30            DOUBLE,
    BOOLEAN_CF1             BOOLEAN,
    BOOLEAN_CF2             BOOLEAN,
    BOOLEAN_CF3             BOOLEAN,
    BOOLEAN_CF4             BOOLEAN,
    BOOLEAN_CF5             BOOLEAN,
    BOOLEAN_CF6             BOOLEAN,
    BOOLEAN_CF7             BOOLEAN,
    BOOLEAN_CF8             BOOLEAN,
    BOOLEAN_CF9             BOOLEAN,
    BOOLEAN_CF10            BOOLEAN,
    BOOLEAN_CF11            BOOLEAN,
    BOOLEAN_CF12            BOOLEAN,
    BOOLEAN_CF13            BOOLEAN,
    BOOLEAN_CF14            BOOLEAN,
    BOOLEAN_CF15            BOOLEAN,
    BOOLEAN_CF16            BOOLEAN,
    BOOLEAN_CF17            BOOLEAN,
    BOOLEAN_CF18            BOOLEAN,
    BOOLEAN_CF19            BOOLEAN,
    BOOLEAN_CF20            BOOLEAN,
    BOOLEAN_CF21            BOOLEAN,
    BOOLEAN_CF22            BOOLEAN,
    BOOLEAN_CF23            BOOLEAN,
    BOOLEAN_CF24            BOOLEAN,
    BOOLEAN_CF25            BOOLEAN,
    BOOLEAN_CF26            BOOLEAN,
    BOOLEAN_CF27            BOOLEAN,
    BOOLEAN_CF28            BOOLEAN,
    BOOLEAN_CF29            BOOLEAN,
    BOOLEAN_CF30            BOOLEAN,
    DATE_CF1                BIGINT,
    DATE_CF2                BIGINT,
    DATE_CF3                BIGINT,
    DATE_CF4                BIGINT,
    DATE_CF5                BIGINT,
    DATE_CF6                BIGINT,
    DATE_CF7                BIGINT,
    DATE_CF8                BIGINT,
    DATE_CF9                BIGINT,
    DATE_CF10               BIGINT,
    DATE_CF11               BIGINT,
    DATE_CF12               BIGINT,
    DATE_CF13               BIGINT,
    DATE_CF14               BIGINT,
    DATE_CF15               BIGINT,
    DATE_CF16               BIGINT,
    DATE_CF17               BIGINT,
    DATE_CF18               BIGINT,
    DATE_CF19               BIGINT,
    DATE_CF20               BIGINT,
    DATE_CF21               BIGINT,
    DATE_CF22               BIGINT,
    DATE_CF23               BIGINT,
    DATE_CF24               BIGINT,
    DATE_CF25               BIGINT,
    DATE_CF26               BIGINT,
    DATE_CF27               BIGINT,
    DATE_CF28               BIGINT,
    DATE_CF29               BIGINT,
    DATE_CF30               BIGINT,
    DATETIME_CF1            BIGINT,
    DATETIME_CF2            BIGINT,
    DATETIME_CF3            BIGINT,
    DATETIME_CF4            BIGINT,
    DATETIME_CF5            BIGINT,
    DATETIME_CF6            BIGINT,
    DATETIME_CF7            BIGINT,
    DATETIME_CF8            BIGINT,
    DATETIME_CF9            BIGINT,
    DATETIME_CF10           BIGINT,
    DATETIME_CF11           BIGINT,
    DATETIME_CF12           BIGINT,
    DATETIME_CF13           BIGINT,
    DATETIME_CF14           BIGINT,
    DATETIME_CF15           BIGINT,
    DATETIME_CF16           BIGINT,
    DATETIME_CF17           BIGINT,
    DATETIME_CF18           BIGINT,
    DATETIME_CF19           BIGINT,
    DATETIME_CF20           BIGINT,
    DATETIME_CF21           BIGINT,
    DATETIME_CF22           BIGINT,
    DATETIME_CF23           BIGINT,
    DATETIME_CF24           BIGINT,
    DATETIME_CF25           BIGINT,
    DATETIME_CF26           BIGINT,
    DATETIME_CF27           BIGINT,
    DATETIME_CF28           BIGINT,
    DATETIME_CF29           BIGINT,
    DATETIME_CF30           BIGINT,
    ENUM_CF1                INTEGER,
    ENUM_CF2                INTEGER,
    ENUM_CF3                INTEGER,
    ENUM_CF4                INTEGER,
    ENUM_CF5                INTEGER,
    ENUM_CF6                INTEGER,
    ENUM_CF7                INTEGER,
    ENUM_CF8                INTEGER,
    ENUM_CF9                INTEGER,
    ENUM_CF10               INTEGER,
    ENUM_CF11               INTEGER,
    ENUM_CF12               INTEGER,
    ENUM_CF13               INTEGER,
    ENUM_CF14               INTEGER,
    ENUM_CF15               INTEGER,
    ENUM_CF16               INTEGER,
    ENUM_CF17               INTEGER,
    ENUM_CF18               INTEGER,
    ENUM_CF19               INTEGER,
    ENUM_CF20               INTEGER,
    ENUM_CF21               INTEGER,
    ENUM_CF22               INTEGER,
    ENUM_CF23               INTEGER,
    ENUM_CF24               INTEGER,
    ENUM_CF25               INTEGER,
    ENUM_CF26               INTEGER,
    ENUM_CF27               INTEGER,
    ENUM_CF28               INTEGER,
    ENUM_CF29               INTEGER,
    ENUM_CF30               INTEGER,
    FILE_CF1                BIGINT,
    FILE_CF2                BIGINT,
    FILE_CF3                BIGINT,
    FILE_CF4                BIGINT,
    FILE_CF5                BIGINT,
    FILE_CF6                BIGINT,
    FILE_CF7                BIGINT,
    FILE_CF8                BIGINT,
    FILE_CF9                BIGINT,
    FILE_CF10               BIGINT,
    FILE_CF11               BIGINT,
    FILE_CF12               BIGINT,
    FILE_CF13               BIGINT,
    FILE_CF14               BIGINT,
    FILE_CF15               BIGINT,
    FILE_CF16               BIGINT,
    FILE_CF17               BIGINT,
    FILE_CF18               BIGINT,
    FILE_CF19               BIGINT,
    FILE_CF20               BIGINT,
    FILE_CF21               BIGINT,
    FILE_CF22               BIGINT,
    FILE_CF23               BIGINT,
    FILE_CF24               BIGINT,
    FILE_CF25               BIGINT,
    FILE_CF26               BIGINT,
    FILE_CF27               BIGINT,
    FILE_CF28               BIGINT,
    FILE_CF29               BIGINT,
    FILE_CF30               BIGINT,
    LOOKUP_CF1              BIGINT,
    LOOKUP_CF2              BIGINT,
    LOOKUP_CF3              BIGINT,
    LOOKUP_CF4              BIGINT,
    LOOKUP_CF5              BIGINT,
    LOOKUP_CF6              BIGINT,
    LOOKUP_CF7              BIGINT,
    LOOKUP_CF8              BIGINT,
    LOOKUP_CF9              BIGINT,
    LOOKUP_CF10             BIGINT,
    LOOKUP_CF11             BIGINT,
    LOOKUP_CF12             BIGINT,
    LOOKUP_CF13             BIGINT,
    LOOKUP_CF14             BIGINT,
    LOOKUP_CF15             BIGINT,
    LOOKUP_CF16             BIGINT,
    LOOKUP_CF17             BIGINT,
    LOOKUP_CF18             BIGINT,
    LOOKUP_CF19             BIGINT,
    LOOKUP_CF20             BIGINT,
    LOOKUP_CF21             BIGINT,
    LOOKUP_CF22             BIGINT,
    LOOKUP_CF23             BIGINT,
    LOOKUP_CF24             BIGINT,
    LOOKUP_CF25             BIGINT,
    LOOKUP_CF26             BIGINT,
    LOOKUP_CF27             BIGINT,
    LOOKUP_CF28             BIGINT,
    LOOKUP_CF29             BIGINT,
    LOOKUP_CF30             BIGINT,
    SCORE_CF1               DOUBLE,
    SCORE_CF2               DOUBLE,
    SCORE_CF3               DOUBLE,
    SCORE_CF4               DOUBLE,
    SCORE_CF5               DOUBLE,
    SCORE_CF6               DOUBLE,
    SCORE_CF7               DOUBLE,
    SCORE_CF8               DOUBLE,
    SCORE_CF9               DOUBLE,
    SCORE_CF10              DOUBLE,
    SCORE_CF11              DOUBLE,
    SCORE_CF12              DOUBLE,
    SCORE_CF13              DOUBLE,
    SCORE_CF14              DOUBLE,
    SCORE_CF15              DOUBLE,
    SCORE_CF16              DOUBLE,
    SCORE_CF17              DOUBLE,
    SCORE_CF18              DOUBLE,
    SCORE_CF19              DOUBLE,
    SCORE_CF20              DOUBLE,
    SCORE_CF21              DOUBLE,
    SCORE_CF22              DOUBLE,
    SCORE_CF23              DOUBLE,
    SCORE_CF24              DOUBLE,
    SCORE_CF25              DOUBLE,
    SCORE_CF26              DOUBLE,
    SCORE_CF27              DOUBLE,
    SCORE_CF28              DOUBLE,
    SCORE_CF29              DOUBLE,
    SCORE_CF30              DOUBLE,
    CONSTRAINT WorkPermit_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WorkPermit_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT WorkPermit_FK_VENDOR_ID FOREIGN KEY (VENDOR_ID) REFERENCES Vendors (ID),
    CONSTRAINT WorkPermit_FK_VENDOR_CONTACT_ID FOREIGN KEY (VENDOR_CONTACT_ID) REFERENCES Contacts (ID),
    CONSTRAINT WorkPermit_FK_BUSINESS_HOURS_ID FOREIGN KEY (RECURRING_INFO_ID) REFERENCES BusinessHours (ID),
    CONSTRAINT WorkPermit_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WorkPermit_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WorkPermit_FK_REQUESTED_BY FOREIGN KEY (REQUESTED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WorkPermit_FK_ISSUED_TO_USER FOREIGN KEY (ISSUED_TO_USER) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WorkPermit_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WorkPermit_FK_STATUS_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT WorkPermit_FK_TICKET_ID FOREIGN KEY (TICKET_ID) REFERENCES Tickets (ID) ON DELETE CASCADE,
    CONSTRAINT WorkPermit_FK_TENANT_ID FOREIGN KEY (TENANT_ID) REFERENCES Tenants (ID),
    CONSTRAINT WorkPermit_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT WorkPermit_FK_BASE_SPACE_ID_ID FOREIGN KEY (BASE_SPACE_ID) REFERENCES BaseSpace (ID),
    CONSTRAINT WorkPermit_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT WORKPERMIT_FK_PERMIT_TYPE_ID FOREIGN KEY (WORK_PERMIT_TYPE_ID) REFERENCES WorkPermitType (ID) ON DELETE SET NULL,
    CONSTRAINT WORKPERMIT_FK_PEOPLE_ID FOREIGN KEY (PEOPLE_ID) REFERENCES People (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS WorkPermitTypeChecklist
(
    ID                  BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID               BIGINT NOT NULL,
    MODULEID            BIGINT NOT NULL,
    SITE_ID             BIGINT,
    FORM_ID             BIGINT,
    SYS_CREATED_TIME    BIGINT,
    SYS_MODIFIED_TIME   BIGINT,
    SYS_CREATED_BY      BIGINT,
    SYS_MODIFIED_BY     BIGINT,
    WORK_PERMIT_TYPE_ID BIGINT,
    ITEM                VARCHAR(500),
    DESCRIPTION         VARCHAR(500),
    CATEGORY_ID         BIGINT,
    VALIDATION_TYPE     INT,
    STRING_CF1          VARCHAR(255),
    STRING_CF2          VARCHAR(255),
    STRING_CF3          VARCHAR(255),
    STRING_CF4          VARCHAR(255),
    STRING_CF5          VARCHAR(255),
    STRING_CF6          VARCHAR(255),
    STRING_CF7          VARCHAR(255),
    STRING_CF8          VARCHAR(255),
    STRING_CF9          VARCHAR(255),
    STRING_CF10         VARCHAR(255),
    STRING_CF11         VARCHAR(255),
    STRING_CF12         VARCHAR(255),
    STRING_CF13         VARCHAR(255),
    STRING_CF14         VARCHAR(255),
    STRING_CF15         VARCHAR(255),
    STRING_CF16         VARCHAR(255),
    STRING_CF17         VARCHAR(255),
    STRING_CF18         VARCHAR(255),
    STRING_CF19         VARCHAR(255),
    STRING_CF20         VARCHAR(255),
    STRING_CF21         VARCHAR(255),
    STRING_CF22         VARCHAR(255),
    STRING_CF23         VARCHAR(255),
    STRING_CF24         VARCHAR(255),
    STRING_CF25         VARCHAR(255),
    STRING_CF26         VARCHAR(255),
    STRING_CF27         VARCHAR(255),
    STRING_CF28         VARCHAR(255),
    STRING_CF29         VARCHAR(255),
    STRING_CF30         VARCHAR(255),
    NUMBER_CF1          BIGINT,
    NUMBER_CF2          BIGINT,
    NUMBER_CF3          BIGINT,
    NUMBER_CF4          BIGINT,
    NUMBER_CF5          BIGINT,
    NUMBER_CF6          BIGINT,
    NUMBER_CF7          BIGINT,
    NUMBER_CF8          BIGINT,
    NUMBER_CF9          BIGINT,
    NUMBER_CF10         BIGINT,
    NUMBER_CF11         BIGINT,
    NUMBER_CF12         BIGINT,
    NUMBER_CF13         BIGINT,
    NUMBER_CF14         BIGINT,
    NUMBER_CF15         BIGINT,
    NUMBER_CF16         BIGINT,
    NUMBER_CF17         BIGINT,
    NUMBER_CF18         BIGINT,
    NUMBER_CF19         BIGINT,
    NUMBER_CF20         BIGINT,
    NUMBER_CF21         BIGINT,
    NUMBER_CF22         BIGINT,
    NUMBER_CF23         BIGINT,
    NUMBER_CF24         BIGINT,
    NUMBER_CF25         BIGINT,
    NUMBER_CF26         BIGINT,
    NUMBER_CF27         BIGINT,
    NUMBER_CF28         BIGINT,
    NUMBER_CF29         BIGINT,
    NUMBER_CF30         BIGINT,
    DECIMAL_CF1         DOUBLE,
    DECIMAL_CF2         DOUBLE,
    DECIMAL_CF3         DOUBLE,
    DECIMAL_CF4         DOUBLE,
    DECIMAL_CF5         DOUBLE,
    DECIMAL_CF6         DOUBLE,
    DECIMAL_CF7         DOUBLE,
    DECIMAL_CF8         DOUBLE,
    DECIMAL_CF9         DOUBLE,
    DECIMAL_CF10        DOUBLE,
    DECIMAL_CF11        DOUBLE,
    DECIMAL_CF12        DOUBLE,
    DECIMAL_CF13        DOUBLE,
    DECIMAL_CF14        DOUBLE,
    DECIMAL_CF15        DOUBLE,
    DECIMAL_CF16        DOUBLE,
    DECIMAL_CF17        DOUBLE,
    DECIMAL_CF18        DOUBLE,
    DECIMAL_CF19        DOUBLE,
    DECIMAL_CF20        DOUBLE,
    DECIMAL_CF21        DOUBLE,
    DECIMAL_CF22        DOUBLE,
    DECIMAL_CF23        DOUBLE,
    DECIMAL_CF24        DOUBLE,
    DECIMAL_CF25        DOUBLE,
    DECIMAL_CF26        DOUBLE,
    DECIMAL_CF27        DOUBLE,
    DECIMAL_CF28        DOUBLE,
    DECIMAL_CF29        DOUBLE,
    DECIMAL_CF30        DOUBLE,
    BOOLEAN_CF1         BOOLEAN,
    BOOLEAN_CF2         BOOLEAN,
    BOOLEAN_CF3         BOOLEAN,
    BOOLEAN_CF4         BOOLEAN,
    BOOLEAN_CF5         BOOLEAN,
    BOOLEAN_CF6         BOOLEAN,
    BOOLEAN_CF7         BOOLEAN,
    BOOLEAN_CF8         BOOLEAN,
    BOOLEAN_CF9         BOOLEAN,
    BOOLEAN_CF10        BOOLEAN,
    BOOLEAN_CF11        BOOLEAN,
    BOOLEAN_CF12        BOOLEAN,
    BOOLEAN_CF13        BOOLEAN,
    BOOLEAN_CF14        BOOLEAN,
    BOOLEAN_CF15        BOOLEAN,
    BOOLEAN_CF16        BOOLEAN,
    BOOLEAN_CF17        BOOLEAN,
    BOOLEAN_CF18        BOOLEAN,
    BOOLEAN_CF19        BOOLEAN,
    BOOLEAN_CF20        BOOLEAN,
    BOOLEAN_CF21        BOOLEAN,
    BOOLEAN_CF22        BOOLEAN,
    BOOLEAN_CF23        BOOLEAN,
    BOOLEAN_CF24        BOOLEAN,
    BOOLEAN_CF25        BOOLEAN,
    BOOLEAN_CF26        BOOLEAN,
    BOOLEAN_CF27        BOOLEAN,
    BOOLEAN_CF28        BOOLEAN,
    BOOLEAN_CF29        BOOLEAN,
    BOOLEAN_CF30        BOOLEAN,
    DATE_CF1            BIGINT,
    DATE_CF2            BIGINT,
    DATE_CF3            BIGINT,
    DATE_CF4            BIGINT,
    DATE_CF5            BIGINT,
    DATE_CF6            BIGINT,
    DATE_CF7            BIGINT,
    DATE_CF8            BIGINT,
    DATE_CF9            BIGINT,
    DATE_CF10           BIGINT,
    DATE_CF11           BIGINT,
    DATE_CF12           BIGINT,
    DATE_CF13           BIGINT,
    DATE_CF14           BIGINT,
    DATE_CF15           BIGINT,
    DATE_CF16           BIGINT,
    DATE_CF17           BIGINT,
    DATE_CF18           BIGINT,
    DATE_CF19           BIGINT,
    DATE_CF20           BIGINT,
    DATE_CF21           BIGINT,
    DATE_CF22           BIGINT,
    DATE_CF23           BIGINT,
    DATE_CF24           BIGINT,
    DATE_CF25           BIGINT,
    DATE_CF26           BIGINT,
    DATE_CF27           BIGINT,
    DATE_CF28           BIGINT,
    DATE_CF29           BIGINT,
    DATE_CF30           BIGINT,
    DATETIME_CF1        BIGINT,
    DATETIME_CF2        BIGINT,
    DATETIME_CF3        BIGINT,
    DATETIME_CF4        BIGINT,
    DATETIME_CF5        BIGINT,
    DATETIME_CF6        BIGINT,
    DATETIME_CF7        BIGINT,
    DATETIME_CF8        BIGINT,
    DATETIME_CF9        BIGINT,
    DATETIME_CF10       BIGINT,
    DATETIME_CF11       BIGINT,
    DATETIME_CF12       BIGINT,
    DATETIME_CF13       BIGINT,
    DATETIME_CF14       BIGINT,
    DATETIME_CF15       BIGINT,
    DATETIME_CF16       BIGINT,
    DATETIME_CF17       BIGINT,
    DATETIME_CF18       BIGINT,
    DATETIME_CF19       BIGINT,
    DATETIME_CF20       BIGINT,
    DATETIME_CF21       BIGINT,
    DATETIME_CF22       BIGINT,
    DATETIME_CF23       BIGINT,
    DATETIME_CF24       BIGINT,
    DATETIME_CF25       BIGINT,
    DATETIME_CF26       BIGINT,
    DATETIME_CF27       BIGINT,
    DATETIME_CF28       BIGINT,
    DATETIME_CF29       BIGINT,
    DATETIME_CF30       BIGINT,
    ENUM_CF1            INTEGER,
    ENUM_CF2            INTEGER,
    ENUM_CF3            INTEGER,
    ENUM_CF4            INTEGER,
    ENUM_CF5            INTEGER,
    ENUM_CF6            INTEGER,
    ENUM_CF7            INTEGER,
    ENUM_CF8            INTEGER,
    ENUM_CF9            INTEGER,
    ENUM_CF10           INTEGER,
    ENUM_CF11           INTEGER,
    ENUM_CF12           INTEGER,
    ENUM_CF13           INTEGER,
    ENUM_CF14           INTEGER,
    ENUM_CF15           INTEGER,
    ENUM_CF16           INTEGER,
    ENUM_CF17           INTEGER,
    ENUM_CF18           INTEGER,
    ENUM_CF19           INTEGER,
    ENUM_CF20           INTEGER,
    ENUM_CF21           INTEGER,
    ENUM_CF22           INTEGER,
    ENUM_CF23           INTEGER,
    ENUM_CF24           INTEGER,
    ENUM_CF25           INTEGER,
    ENUM_CF26           INTEGER,
    ENUM_CF27           INTEGER,
    ENUM_CF28           INTEGER,
    ENUM_CF29           INTEGER,
    ENUM_CF30           INTEGER,
    FILE_CF1            BIGINT,
    FILE_CF2            BIGINT,
    FILE_CF3            BIGINT,
    FILE_CF4            BIGINT,
    FILE_CF5            BIGINT,
    FILE_CF6            BIGINT,
    FILE_CF7            BIGINT,
    FILE_CF8            BIGINT,
    FILE_CF9            BIGINT,
    FILE_CF10           BIGINT,
    FILE_CF11           BIGINT,
    FILE_CF12           BIGINT,
    FILE_CF13           BIGINT,
    FILE_CF14           BIGINT,
    FILE_CF15           BIGINT,
    FILE_CF16           BIGINT,
    FILE_CF17           BIGINT,
    FILE_CF18           BIGINT,
    FILE_CF19           BIGINT,
    FILE_CF20           BIGINT,
    FILE_CF21           BIGINT,
    FILE_CF22           BIGINT,
    FILE_CF23           BIGINT,
    FILE_CF24           BIGINT,
    FILE_CF25           BIGINT,
    FILE_CF26           BIGINT,
    FILE_CF27           BIGINT,
    FILE_CF28           BIGINT,
    FILE_CF29           BIGINT,
    FILE_CF30           BIGINT,
    LOOKUP_CF1          BIGINT,
    LOOKUP_CF2          BIGINT,
    LOOKUP_CF3          BIGINT,
    LOOKUP_CF4          BIGINT,
    LOOKUP_CF5          BIGINT,
    LOOKUP_CF6          BIGINT,
    LOOKUP_CF7          BIGINT,
    LOOKUP_CF8          BIGINT,
    LOOKUP_CF9          BIGINT,
    LOOKUP_CF10         BIGINT,
    LOOKUP_CF11         BIGINT,
    LOOKUP_CF12         BIGINT,
    LOOKUP_CF13         BIGINT,
    LOOKUP_CF14         BIGINT,
    LOOKUP_CF15         BIGINT,
    LOOKUP_CF16         BIGINT,
    LOOKUP_CF17         BIGINT,
    LOOKUP_CF18         BIGINT,
    LOOKUP_CF19         BIGINT,
    LOOKUP_CF20         BIGINT,
    LOOKUP_CF21         BIGINT,
    LOOKUP_CF22         BIGINT,
    LOOKUP_CF23         BIGINT,
    LOOKUP_CF24         BIGINT,
    LOOKUP_CF25         BIGINT,
    LOOKUP_CF26         BIGINT,
    LOOKUP_CF27         BIGINT,
    LOOKUP_CF28         BIGINT,
    LOOKUP_CF29         BIGINT,
    LOOKUP_CF30         BIGINT,
    SCORE_CF1           DOUBLE,
    SCORE_CF2           DOUBLE,
    SCORE_CF3           DOUBLE,
    SCORE_CF4           DOUBLE,
    SCORE_CF5           DOUBLE,
    SCORE_CF6           DOUBLE,
    SCORE_CF7           DOUBLE,
    SCORE_CF8           DOUBLE,
    SCORE_CF9           DOUBLE,
    SCORE_CF10          DOUBLE,
    SCORE_CF11          DOUBLE,
    SCORE_CF12          DOUBLE,
    SCORE_CF13          DOUBLE,
    SCORE_CF14          DOUBLE,
    SCORE_CF15          DOUBLE,
    SCORE_CF16          DOUBLE,
    SCORE_CF17          DOUBLE,
    SCORE_CF18          DOUBLE,
    SCORE_CF19          DOUBLE,
    SCORE_CF20          DOUBLE,
    SCORE_CF21          DOUBLE,
    SCORE_CF22          DOUBLE,
    SCORE_CF23          DOUBLE,
    SCORE_CF24          DOUBLE,
    SCORE_CF25          DOUBLE,
    SCORE_CF26          DOUBLE,
    SCORE_CF27          DOUBLE,
    SCORE_CF28          DOUBLE,
    SCORE_CF29          DOUBLE,
    SCORE_CF30          DOUBLE,
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_PERMIT_TYPE_ID FOREIGN KEY (WORK_PERMIT_TYPE_ID) REFERENCES WorkPermitType (ID) ON DELETE SET NULL,
    CONSTRAINT WORKPERMITTYPE_CHECKLIST_FK_CATEGORY_ID FOREIGN KEY (CATEGORY_ID) REFERENCES WorkPermitTypeChecklist_Category (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS WorkPermitChecklist
(
    ID             BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID          BIGINT NOT NULL,
    MODULEID       BIGINT NOT NULL,
    CHECKLIST_ID   BIGINT,
    WORK_PERMIT_ID BIGINT,
    REMARKS        VARCHAR(500),
    REQUIRED       INT,
    IS_REVIEWED       BOOLEAN,
    CONSTRAINT WORK_PERMIT_CHECK_LIST_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORK_PERMIT_CHECK_LIST_FK_CHECKLIST_ID FOREIGN KEY (CHECKLIST_ID) REFERENCES WorkPermitTypeChecklist (ID) ON DELETE SET NULL,
    CONSTRAINT WORK_PERMIT_CHECK_LIST_FK_WORK_PERMIT_ID FOREIGN KEY (WORK_PERMIT_ID) REFERENCES WorkPermit (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS WorkPermit_Attachments
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    PARENT_WORK_PERMIT BIGINT NOT NULL,
    CREATED_TIME       BIGINT NOT NULL,
    FILE_ID            BIGINT NOT NULL,
    ATTACHMENT_TYPE    TINYINT,
    CONSTRAINT WorkPermit_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WorkPermit_Attachments_FK_PARENT FOREIGN KEY (PARENT_WORK_PERMIT) REFERENCES WorkPermit (ID) ON DELETE CASCADE,
    CONSTRAINT WorkPermit_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS WorkPermit_Notes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT WorkPermit_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WorkPermit_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKPERMIT_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES WorkPermit (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS WorkPermitActivity
(
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT  NOT NULL,
    MODULEID          BIGINT  NOT NULL,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    PARENT_ID         BIGINT  NOT NULL,
    TTIME             BIGINT  NOT NULL,
    ACTIVITY_TYPE     TINYINT NOT NULL,
    DONE_BY_ID        BIGINT  NOT NULL,
    INFO              VARCHAR(5000),
    CONSTRAINT WORKPERMIT_ACTIVITY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT WORKPERMIT_ACTIVITY_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES WorkPermit (ID) ON DELETE CASCADE,
    CONSTRAINT WORKPERMIT_ACTIVITY_FK_DONE_BY_ID FOREIGN KEY (DONE_BY_ID) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKPERMIT_ACTIVITY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT WORKPERMIT_ACTIVITY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID)
);

-- Work Permit Tables End


-- Dashboard filters --
CREATE TABLE IF NOT EXISTS Dashboard_Filter
(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	DASHBOARD_ID BIGINT DEFAULT NULL UNIQUE,
	DASHBOARD_TAB_ID BIGINT DEFAULT NULL UNIQUE,
	IS_TIMELINE_FILTER_ENABLED BOOLEAN DEFAULT FALSE,
	DATE_OPERATOR INT DEFAULT NULL,
  	DATE_VALUE VARCHAR(50) DEFAULT NULL,
	DATE_LABEL varchar(50) DEFAULT NULL,
	CONSTRAINT DASHBOARD_FILTER_FK_DASHBOARD_ID FOREIGN KEY (DASHBOARD_ID) REFERENCES Dashboard(ID) ON DELETE CASCADE,
	CONSTRAINT  DASHBOARD_FILTER_FK_DASHBOARD_TAB_ID FOREIGN KEY (DASHBOARD_TAB_ID) REFERENCES Dashboard_Tab(ID) ON DELETE CASCADE 
);

CREATE TABLE IF NOT EXISTS Dashboard_User_Filter
(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	DASHBOARD_FILTER_ID BIGINT NOT NULL,
	COMPONENT_TYPE TINYINT(4) NOT NULL,
	OPTION_TYPE TINYINT(4) NOT NULL,
	IS_OTHERS_OPTION_ENABLED BOOLEAN NOT NULL DEFAULT 0,
	IS_ALL_OPTION_ENABLED BOOLEAN NOT NULL DEFAULT 1,
	SHOW_ONLY_RELEVANT_VALUES BOOLEAN DEFAULT 0,
	LABEL VARCHAR(50) DEFAULT NULL,
	FIELD_ID BIGINT,
	DASHBOARD_USER_FILTER_JSON TEXT DEFAULT NULL,	
	FILTER_ORDER TINYINT NOT NULL,
	CRITERIA_ID BIGINT ,
	MODULE_NAME VARCHAR(100),
	CONSTRAINT  DASHBOARD_USER_FILTER_FK_CRITERIA_ID FOREIGN KEY (CRITERIA_ID) REFERENCES Criteria(CRITERIAID) ,
	CONSTRAINT  DASHBOARD_USER_FILTER_FK_DASHBOARD_FILTER_ID FOREIGN KEY (DASHBOARD_FILTER_ID) REFERENCES Dashboard_Filter(ID) ON DELETE CASCADE,
	CONSTRAINT  DASHBOARD_USER_FILTER_FK_FIELD_ID FOREIGN KEY (FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE
	

);

-- Dashboard filters end--

CREATE TABLE IF NOT EXISTS Sharing_Audience
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(500),
    ORGID BIGINT,
    FORM_ID BIGINT,
    MODULEID BIGINT,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED TINYINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    SYS_DELETED_BY   BIGINT,
    SITE_ID           BIGINT,
    CONSTRAINT Sharing_Audience_FK_UNIQUE UNIQUE (ORGID,NAME),
    CONSTRAINT Sharing_Audience_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Sharing_Audience_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Sharing_Audience_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Sharing_Audience_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT Sharing_Audience_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS Sharing_Audience_Info
(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	AUDIENCE_ID BIGINT,
	MODULEID   BIGINT,
	SHARING_TYPE TINYINT,
	SHARED_TO_SPACE_ID BIGINT,
	CONSTRAINT Sharing_Audience_List_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace(ID),
	CONSTRAINT Sharing_Audience_List_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT Sharing_Audience_List_FK_ANNOUNCEMENT_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID)
);

CREATE TABLE IF NOT EXISTS Announcements
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    TITLE              VARCHAR(200),
    LOCAL_ID           BIGINT(20),
    SHORT_DESC         VARCHAR(255),
    LONG_DESC          TEXT,
    EXPIRY_DATE        BIGINT,
    MODULEID           BIGINT NOT NULL,
    SITE_ID            BIGINT,
    FORM_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT,
    SYS_MODIFIED_TIME  BIGINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    SYS_DELETED_BY     BIGINT,
    SYS_DELETED        TINYINT,
    CATEGORY           TINYINT,
    IS_PUBLISHED       TINYINT,
    IS_CANCELLED       TINYINT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    READ_COUNT         BIGINT,
    ATTACHMENT_PREVIEW TINYINT,
    AUDIENCE_ID        BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT Announcement_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Announcement_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Announcement_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Announcement_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT Announcement_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT Announcement_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Announcement_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Announcement_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID)
);

CREATE TABLE IF NOT EXISTS Announcement_Sharing
(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT NOT NULL,
    ANNOUNCEMENT_ID BIGINT,
	SHARING_TYPE TINYINT,
	SHARED_TO_SPACE_ID BIGINT,
	CONSTRAINT Announcement_Sharing_Info_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace(ID),
    CONSTRAINT Announcement_Sharing_Info_FK_ANNOUNCEMENT_ID FOREIGN KEY (ANNOUNCEMENT_ID) REFERENCES Announcements (ID)
);


CREATE TABLE IF NOT EXISTS People_Announcements
(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID  BIGINT  NOT NULL,
 	PEOPLE_ID    BIGINT,
	IS_READ TINYINT,
	PARENT_ANNOUNCEMENT_ID BIGINT,
	CONSTRAINT tactsPeople_Announcement_FK_ID FOREIGN KEY (ID) REFERENCES Announcements(ID) ON DELETE CASCADE,
	CONSTRAINT People_Announcement_FK_PARENT_ANNOUNCEMENT_ID FOREIGN KEY (PARENT_ANNOUNCEMENT_ID) REFERENCES Announcements (ID),
    CONSTRAINT People_Announcement_FK_PEOPLEID FOREIGN KEY (PEOPLE_ID) REFERENCES People (ID)
);

CREATE TABLE IF NOT EXISTS Announcement_Attachments
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    PARENT_ID BIGINT,
    PARENT              BIGINT,
    CREATED_TIME       BIGINT NOT NULL,
    FILE_ID            BIGINT NOT NULL,
    ATTACHMENT_TYPE    TINYINT,
    CONSTRAINT Announcement_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Announcement_Attachments_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Announcements (ID) ON DELETE CASCADE,
    CONSTRAINT Announcement_Attachments_FK_PARENT FOREIGN KEY (PARENT) REFERENCES Announcements (ID) ON DELETE CASCADE,
    CONSTRAINT Announcement_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS Announcement_Notes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT Announcement_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Announcement_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Announcement_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Announcements (ID) ON DELETE CASCADE
);
-- News & Information Module

CREATE TABLE IF NOT EXISTS NewsAndInformation
(
    ID                 BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    LOCAL_ID           BIGINT,
    SITE_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT,
    SYS_MODIFIED_TIME  BIGINT,
    FORM_ID            BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    TITLE              VARCHAR(255),
    DESCRIPTION        TEXT,
    TYPE               INT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    ATTACHMENT_PREVIEW TINYINT,
    AUDIENCE_ID        BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT NEWS_AND_INFORMATION_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT NEWS_AND_INFORMATION_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT NEWS_AND_INFORMATION_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID)
);

CREATE TABLE IF NOT EXISTS NewsAndInformationSharing
(
    ID           BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID        BIGINT NOT NULL,
    MODULEID     BIGINT NOT NULL,
    NEWS_ID      BIGINT,
    SHARING_TYPE TINYINT,
    SHARED_TO_SPACE_ID BIGINT,
    CONSTRAINT NEWS_AND_INFORMATION_SHARING_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace(ID),
    CONSTRAINT NEWS_AND_INFORMATION_SHARING_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEW_AND_INFORMATION_SHARING_FK_NEWS_ID FOREIGN KEY (NEWS_ID) REFERENCES NewsAndInformation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS NewsAndInformationAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT NEWS_AND_INFORMATION_ATTACHMENTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEWS_AND_INFORMATION_ATTACHMENTS_FK_PARENT FOREIGN KEY (PARENT) REFERENCES NewsAndInformation (ID) ON DELETE CASCADE,
    CONSTRAINT NEWS_AND_INFORMATION_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS NewsAndInformationNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT NewsAndInformationNotes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NewsAndInformationNotes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NewsAndInformationNotes_FK_PARENT_ID FOREIGN KEY (PARENT) REFERENCES NewsAndInformation (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Sync_To_ES (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	MODULEID BIGINT,
	SITE_ID BIGINT,
	SYNC_MODULE_ID BIGINT,
	SYNCING BOOLEAN,
	LAST_SYNC_RECORD_ID BIGINT,

	CONSTRAINT SYNCTOES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
	CONSTRAINT SYNCTOES_FK_SYNCMODULEID FOREIGN KEY (SYNC_MODULE_ID) REFERENCES Modules (MODULEID)
);

-- Neighbourhood Module

CREATE TABLE IF NOT EXISTS Neighbourhood
(
    ID                 BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    LOCAL_ID           BIGINT,
    SITE_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT,
    SYS_MODIFIED_TIME  BIGINT,
    FORM_ID            BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    TITLE              VARCHAR(255),
    DESCRIPTION        TEXT,
    CATEGORY           INT,
    LOCATION_ID        BIGINT,
    NO_OF_ACTIVE_DEALS BIGINT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    ATTACHMENT_PREVIEW TINYINT,
    AUDIENCE_ID        BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT NEIGHBOURHOOD_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID),
    CONSTRAINT NEIGHBOURHOOD_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEIGHBOURHOOD_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT NEIGHBOURHOOD_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NEIGHBOURHOOD_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NEIGHBOURHOOD_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT NEIGHBOURHOOD_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT NEIGHBOURHOOD_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT NEIGHBOURHOOD_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT NEIGHBOURHOOD_FK_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES Locations (ID)
);

CREATE TABLE IF NOT EXISTS NeighbourhoodSharing
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT NOT NULL,
    MODULEID         BIGINT NOT NULL,
    NEIGHBOURHOOD_ID BIGINT,
    SHARING_TYPE     TINYINT,
    SHARED_TO_SPACE_ID BIGINT,
    CONSTRAINT NEIGHBOURHOOD_SHARING_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace(ID),
    CONSTRAINT NEIGHBOURHOOD_SHARING_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEIGHBOURHOOD_SHARING_FK_NEIGHBOURHOOD_ID FOREIGN KEY (NEIGHBOURHOOD_ID) REFERENCES Neighbourhood (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS NeighbourhoodAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT NEIGHBOURHOOD_ATTACHMENTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEIGHBOURHOOD_ATTACHMENTS_FK_PARENT FOREIGN KEY (PARENT) REFERENCES Neighbourhood (ID) ON DELETE CASCADE,
    CONSTRAINT NEIGHBOURHOOD_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);


CREATE TABLE IF NOT EXISTS NeighbourhoodNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT NEIGHBOURHOOD_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT NEIGHBOURHOOD_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT NEIGHBOURHOOD_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Neighbourhood (ID) ON DELETE CASCADE
);

-- Deals and Offers Module

CREATE TABLE IF NOT EXISTS DealsAndOffers
(
    ID                 BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    LOCAL_ID           BIGINT,
    SITE_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT,
    SYS_MODIFIED_TIME  BIGINT,
    FORM_ID            BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    TITLE              VARCHAR(255),
    DESCRIPTION        TEXT,
    START_DATE         BIGINT,
    EXPIRY_DATE        BIGINT,
    NEIGHBOURHOOD_ID   BIGINT,
    IS_ACTIVE          BOOLEAN,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    ATTACHMENT_PREVIEW TINYINT,
    DEALER             VARCHAR(200),
    AUDIENCE_ID        BIGINT,
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT DEALS_AND_OFFERS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT DEALS_AND_OFFERS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT DEALS_AND_OFFERS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT DEALS_AND_OFFERS_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT DEALS_AND_OFFERS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT DEALS_AND_OFFERS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT DEALS_AND_OFFERS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT DEALS_AND_OFFERS_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT DEALS_AND_OFFERS_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID),
    CONSTRAINT DEALS_AND_OFFERS_FK_NEIGHBOURHOOD_ID FOREIGN KEY (NEIGHBOURHOOD_ID) REFERENCES Neighbourhood (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS DealsAndOffersSharing
(
    ID           BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID        BIGINT NOT NULL,
    MODULEID     BIGINT NOT NULL,
    DEALS_ID     BIGINT,
    SHARING_TYPE TINYINT,
    SHARED_TO_SPACE_ID BIGINT,
    CONSTRAINT DEALS_AND_OFFERS_SHARING_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace(ID),
    CONSTRAINT DEALS_AND_OFFERS_SHARING_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT DEALS_AND_OFFERS_SHARING_FK_DEALS_ID FOREIGN KEY (DEALS_ID) REFERENCES DealsAndOffers (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS DealsAndOffersAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT DEALS_AND_OFFERS_ATTACHMENTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT DEALS_AND_OFFERS_ATTACHMENTS_FK_PARENT FOREIGN KEY (PARENT) REFERENCES DealsAndOffers (ID) ON DELETE CASCADE,
    CONSTRAINT DEALS_AND_OFFERS_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS DealsAndOffersNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT DEALS_NOTES_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT DEALS_NOTES_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT DEALS_NOTES_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES DealsAndOffers (ID) ON DELETE CASCADE
);

-- Contact Directory Module

CREATE TABLE IF NOT EXISTS ContactDirectory
(
    ID                 BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    LOCAL_ID           BIGINT,
    SITE_ID            BIGINT,
    SYS_CREATED_TIME   BIGINT,
    SYS_MODIFIED_TIME  BIGINT,
    FORM_ID            BIGINT,
    SYS_DELETED        TINYINT,
    SYS_DELETED_TIME   BIGINT,
    SYS_DELETED_BY     BIGINT,
    SYS_CREATED_BY     BIGINT,
    SYS_MODIFIED_BY    BIGINT,
    PEOPLE_ID          BIGINT,
    CATEGORY           INT,
    DESCRIPTION        TEXT,
    MODULE_STATE       BIGINT,
    STATE_FLOW_ID      BIGINT,
    APPROVAL_FLOW_ID   BIGINT,
    APPROVAL_STATE     BIGINT,
    ATTACHMENT_PREVIEW TINYINT,
    AUDIENCE_ID        BIGINT,
    CONTACT_NAME       VARCHAR(500),
    CONTACT_EMAIL      VARCHAR(500),
    CONTACT_PHONE      VARCHAR(500),
    STRING_CF1         VARCHAR(255),
    STRING_CF2         VARCHAR(255),
    STRING_CF3         VARCHAR(255),
    STRING_CF4         VARCHAR(255),
    STRING_CF5         VARCHAR(255),
    STRING_CF6         VARCHAR(255),
    STRING_CF7         VARCHAR(255),
    STRING_CF8         VARCHAR(255),
    STRING_CF9         VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    STRING_CF11        VARCHAR(255),
    STRING_CF12        VARCHAR(255),
    STRING_CF13        VARCHAR(255),
    STRING_CF14        VARCHAR(255),
    STRING_CF15        VARCHAR(255),
    STRING_CF16        VARCHAR(255),
    STRING_CF17        VARCHAR(255),
    STRING_CF18        VARCHAR(255),
    STRING_CF19        VARCHAR(255),
    STRING_CF20        VARCHAR(255),
    STRING_CF21        VARCHAR(255),
    STRING_CF22        VARCHAR(255),
    STRING_CF23        VARCHAR(255),
    STRING_CF24        VARCHAR(255),
    STRING_CF25        VARCHAR(255),
    STRING_CF26        VARCHAR(255),
    STRING_CF27        VARCHAR(255),
    STRING_CF28        VARCHAR(255),
    STRING_CF29        VARCHAR(255),
    STRING_CF30        VARCHAR(255),
    NUMBER_CF1         BIGINT,
    NUMBER_CF2         BIGINT,
    NUMBER_CF3         BIGINT,
    NUMBER_CF4         BIGINT,
    NUMBER_CF5         BIGINT,
    NUMBER_CF6         BIGINT,
    NUMBER_CF7         BIGINT,
    NUMBER_CF8         BIGINT,
    NUMBER_CF9         BIGINT,
    NUMBER_CF10        BIGINT,
    NUMBER_CF11        BIGINT,
    NUMBER_CF12        BIGINT,
    NUMBER_CF13        BIGINT,
    NUMBER_CF14        BIGINT,
    NUMBER_CF15        BIGINT,
    NUMBER_CF16        BIGINT,
    NUMBER_CF17        BIGINT,
    NUMBER_CF18        BIGINT,
    NUMBER_CF19        BIGINT,
    NUMBER_CF20        BIGINT,
    NUMBER_CF21        BIGINT,
    NUMBER_CF22        BIGINT,
    NUMBER_CF23        BIGINT,
    NUMBER_CF24        BIGINT,
    NUMBER_CF25        BIGINT,
    NUMBER_CF26        BIGINT,
    NUMBER_CF27        BIGINT,
    NUMBER_CF28        BIGINT,
    NUMBER_CF29        BIGINT,
    NUMBER_CF30        BIGINT,
    DECIMAL_CF1        DOUBLE,
    DECIMAL_CF2        DOUBLE,
    DECIMAL_CF3        DOUBLE,
    DECIMAL_CF4        DOUBLE,
    DECIMAL_CF5        DOUBLE,
    DECIMAL_CF6        DOUBLE,
    DECIMAL_CF7        DOUBLE,
    DECIMAL_CF8        DOUBLE,
    DECIMAL_CF9        DOUBLE,
    DECIMAL_CF10       DOUBLE,
    DECIMAL_CF11       DOUBLE,
    DECIMAL_CF12       DOUBLE,
    DECIMAL_CF13       DOUBLE,
    DECIMAL_CF14       DOUBLE,
    DECIMAL_CF15       DOUBLE,
    DECIMAL_CF16       DOUBLE,
    DECIMAL_CF17       DOUBLE,
    DECIMAL_CF18       DOUBLE,
    DECIMAL_CF19       DOUBLE,
    DECIMAL_CF20       DOUBLE,
    DECIMAL_CF21       DOUBLE,
    DECIMAL_CF22       DOUBLE,
    DECIMAL_CF23       DOUBLE,
    DECIMAL_CF24       DOUBLE,
    DECIMAL_CF25       DOUBLE,
    DECIMAL_CF26       DOUBLE,
    DECIMAL_CF27       DOUBLE,
    DECIMAL_CF28       DOUBLE,
    DECIMAL_CF29       DOUBLE,
    DECIMAL_CF30       DOUBLE,
    BOOLEAN_CF1        BOOLEAN,
    BOOLEAN_CF2        BOOLEAN,
    BOOLEAN_CF3        BOOLEAN,
    BOOLEAN_CF4        BOOLEAN,
    BOOLEAN_CF5        BOOLEAN,
    BOOLEAN_CF6        BOOLEAN,
    BOOLEAN_CF7        BOOLEAN,
    BOOLEAN_CF8        BOOLEAN,
    BOOLEAN_CF9        BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    BOOLEAN_CF11       BOOLEAN,
    BOOLEAN_CF12       BOOLEAN,
    BOOLEAN_CF13       BOOLEAN,
    BOOLEAN_CF14       BOOLEAN,
    BOOLEAN_CF15       BOOLEAN,
    BOOLEAN_CF16       BOOLEAN,
    BOOLEAN_CF17       BOOLEAN,
    BOOLEAN_CF18       BOOLEAN,
    BOOLEAN_CF19       BOOLEAN,
    BOOLEAN_CF20       BOOLEAN,
    BOOLEAN_CF21       BOOLEAN,
    BOOLEAN_CF22       BOOLEAN,
    BOOLEAN_CF23       BOOLEAN,
    BOOLEAN_CF24       BOOLEAN,
    BOOLEAN_CF25       BOOLEAN,
    BOOLEAN_CF26       BOOLEAN,
    BOOLEAN_CF27       BOOLEAN,
    BOOLEAN_CF28       BOOLEAN,
    BOOLEAN_CF29       BOOLEAN,
    BOOLEAN_CF30       BOOLEAN,
    DATE_CF1           BIGINT,
    DATE_CF2           BIGINT,
    DATE_CF3           BIGINT,
    DATE_CF4           BIGINT,
    DATE_CF5           BIGINT,
    DATE_CF6           BIGINT,
    DATE_CF7           BIGINT,
    DATE_CF8           BIGINT,
    DATE_CF9           BIGINT,
    DATE_CF10          BIGINT,
    DATE_CF11          BIGINT,
    DATE_CF12          BIGINT,
    DATE_CF13          BIGINT,
    DATE_CF14          BIGINT,
    DATE_CF15          BIGINT,
    DATE_CF16          BIGINT,
    DATE_CF17          BIGINT,
    DATE_CF18          BIGINT,
    DATE_CF19          BIGINT,
    DATE_CF20          BIGINT,
    DATE_CF21          BIGINT,
    DATE_CF22          BIGINT,
    DATE_CF23          BIGINT,
    DATE_CF24          BIGINT,
    DATE_CF25          BIGINT,
    DATE_CF26          BIGINT,
    DATE_CF27          BIGINT,
    DATE_CF28          BIGINT,
    DATE_CF29          BIGINT,
    DATE_CF30          BIGINT,
    DATETIME_CF1       BIGINT,
    DATETIME_CF2       BIGINT,
    DATETIME_CF3       BIGINT,
    DATETIME_CF4       BIGINT,
    DATETIME_CF5       BIGINT,
    DATETIME_CF6       BIGINT,
    DATETIME_CF7       BIGINT,
    DATETIME_CF8       BIGINT,
    DATETIME_CF9       BIGINT,
    DATETIME_CF10      BIGINT,
    DATETIME_CF11      BIGINT,
    DATETIME_CF12      BIGINT,
    DATETIME_CF13      BIGINT,
    DATETIME_CF14      BIGINT,
    DATETIME_CF15      BIGINT,
    DATETIME_CF16      BIGINT,
    DATETIME_CF17      BIGINT,
    DATETIME_CF18      BIGINT,
    DATETIME_CF19      BIGINT,
    DATETIME_CF20      BIGINT,
    DATETIME_CF21      BIGINT,
    DATETIME_CF22      BIGINT,
    DATETIME_CF23      BIGINT,
    DATETIME_CF24      BIGINT,
    DATETIME_CF25      BIGINT,
    DATETIME_CF26      BIGINT,
    DATETIME_CF27      BIGINT,
    DATETIME_CF28      BIGINT,
    DATETIME_CF29      BIGINT,
    DATETIME_CF30      BIGINT,
    ENUM_CF1           INTEGER,
    ENUM_CF2           INTEGER,
    ENUM_CF3           INTEGER,
    ENUM_CF4           INTEGER,
    ENUM_CF5           INTEGER,
    ENUM_CF6           INTEGER,
    ENUM_CF7           INTEGER,
    ENUM_CF8           INTEGER,
    ENUM_CF9           INTEGER,
    ENUM_CF10          INTEGER,
    ENUM_CF11          INTEGER,
    ENUM_CF12          INTEGER,
    ENUM_CF13          INTEGER,
    ENUM_CF14          INTEGER,
    ENUM_CF15          INTEGER,
    ENUM_CF16          INTEGER,
    ENUM_CF17          INTEGER,
    ENUM_CF18          INTEGER,
    ENUM_CF19          INTEGER,
    ENUM_CF20          INTEGER,
    ENUM_CF21          INTEGER,
    ENUM_CF22          INTEGER,
    ENUM_CF23          INTEGER,
    ENUM_CF24          INTEGER,
    ENUM_CF25          INTEGER,
    ENUM_CF26          INTEGER,
    ENUM_CF27          INTEGER,
    ENUM_CF28          INTEGER,
    ENUM_CF29          INTEGER,
    ENUM_CF30          INTEGER,
    FILE_CF1           BIGINT,
    FILE_CF2           BIGINT,
    FILE_CF3           BIGINT,
    FILE_CF4           BIGINT,
    FILE_CF5           BIGINT,
    FILE_CF6           BIGINT,
    FILE_CF7           BIGINT,
    FILE_CF8           BIGINT,
    FILE_CF9           BIGINT,
    FILE_CF10          BIGINT,
    FILE_CF11          BIGINT,
    FILE_CF12          BIGINT,
    FILE_CF13          BIGINT,
    FILE_CF14          BIGINT,
    FILE_CF15          BIGINT,
    FILE_CF16          BIGINT,
    FILE_CF17          BIGINT,
    FILE_CF18          BIGINT,
    FILE_CF19          BIGINT,
    FILE_CF20          BIGINT,
    FILE_CF21          BIGINT,
    FILE_CF22          BIGINT,
    FILE_CF23          BIGINT,
    FILE_CF24          BIGINT,
    FILE_CF25          BIGINT,
    FILE_CF26          BIGINT,
    FILE_CF27          BIGINT,
    FILE_CF28          BIGINT,
    FILE_CF29          BIGINT,
    FILE_CF30          BIGINT,
    LOOKUP_CF1         BIGINT,
    LOOKUP_CF2         BIGINT,
    LOOKUP_CF3         BIGINT,
    LOOKUP_CF4         BIGINT,
    LOOKUP_CF5         BIGINT,
    LOOKUP_CF6         BIGINT,
    LOOKUP_CF7         BIGINT,
    LOOKUP_CF8         BIGINT,
    LOOKUP_CF9         BIGINT,
    LOOKUP_CF10        BIGINT,
    LOOKUP_CF11        BIGINT,
    LOOKUP_CF12        BIGINT,
    LOOKUP_CF13        BIGINT,
    LOOKUP_CF14        BIGINT,
    LOOKUP_CF15        BIGINT,
    LOOKUP_CF16        BIGINT,
    LOOKUP_CF17        BIGINT,
    LOOKUP_CF18        BIGINT,
    LOOKUP_CF19        BIGINT,
    LOOKUP_CF20        BIGINT,
    LOOKUP_CF21        BIGINT,
    LOOKUP_CF22        BIGINT,
    LOOKUP_CF23        BIGINT,
    LOOKUP_CF24        BIGINT,
    LOOKUP_CF25        BIGINT,
    LOOKUP_CF26        BIGINT,
    LOOKUP_CF27        BIGINT,
    LOOKUP_CF28        BIGINT,
    LOOKUP_CF29        BIGINT,
    LOOKUP_CF30        BIGINT,
    SCORE_CF1          DOUBLE,
    SCORE_CF2          DOUBLE,
    SCORE_CF3          DOUBLE,
    SCORE_CF4          DOUBLE,
    SCORE_CF5          DOUBLE,
    SCORE_CF6          DOUBLE,
    SCORE_CF7          DOUBLE,
    SCORE_CF8          DOUBLE,
    SCORE_CF9          DOUBLE,
    SCORE_CF10         DOUBLE,
    SCORE_CF11         DOUBLE,
    SCORE_CF12         DOUBLE,
    SCORE_CF13         DOUBLE,
    SCORE_CF14         DOUBLE,
    SCORE_CF15         DOUBLE,
    SCORE_CF16         DOUBLE,
    SCORE_CF17         DOUBLE,
    SCORE_CF18         DOUBLE,
    SCORE_CF19         DOUBLE,
    SCORE_CF20         DOUBLE,
    SCORE_CF21         DOUBLE,
    SCORE_CF22         DOUBLE,
    SCORE_CF23         DOUBLE,
    SCORE_CF24         DOUBLE,
    SCORE_CF25         DOUBLE,
    SCORE_CF26         DOUBLE,
    SCORE_CF27         DOUBLE,
    SCORE_CF28         DOUBLE,
    SCORE_CF29         DOUBLE,
    SCORE_CF30         DOUBLE,
    CONSTRAINT CONTACT_DIRECTORY_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID),
    CONSTRAINT CONTACT_DIRECTORY_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT CONTACT_DIRECTORY_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT CONTACT_DIRECTORY_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT CONTACT_DIRECTORY_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT CONTACT_DIRECTORY_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT CONTACT_DIRECTORY_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT CONTACT_DIRECTORY_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT CONTACT_DIRECTORY_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT CONTACT_DIRECTORY_FK_PEOPLE_ID FOREIGN KEY (PEOPLE_ID) REFERENCES People (ID)
);


CREATE TABLE IF NOT EXISTS ContactDirectorySharing
(
    ID                   BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID                BIGINT NOT NULL,
    MODULEID             BIGINT NOT NULL,
    CONTACT_DIRECTORY_ID BIGINT,
    SHARING_TYPE         TINYINT,
    SHARED_TO_SPACE_ID   BIGINT,
    CONSTRAINT CONTACT_DIRECTORY_SHARING_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace (ID),
    CONSTRAINT CONTACT_DIRECTORY_SHARING_FK_DEALS_ID FOREIGN KEY (CONTACT_DIRECTORY_ID) REFERENCES ContactDirectory (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS ContactDirectoryAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT CONTACT_DIRECTORY_ATTACHMENTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT CONTACT_DIRECTORY_ATTACHMENTS_FK_PARENT FOREIGN KEY (PARENT) REFERENCES ContactDirectory (ID) ON DELETE CASCADE,
    CONSTRAINT CONTACT_DIRECTORY_ATTACHMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS ContactDirectoryNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT CONTACT_DIRECTORY_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT CONTACT_DIRECTORY_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT CONTACT_DIRECTORY_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES ContactDirectory (ID) ON DELETE CASCADE
);

-- Admin Documents Module

CREATE TABLE IF NOT EXISTS AdminDocuments
(
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    LOCAL_ID          BIGINT,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    TITLE             VARCHAR(255),
    FILE_ID           BIGINT,
    CATEGORY          INT,
    DESCRIPTION       TEXT,
    MODULE_STATE      BIGINT,
    STATE_FLOW_ID     BIGINT,
    APPROVAL_FLOW_ID  BIGINT,
    APPROVAL_STATE    BIGINT,
    AUDIENCE_ID       BIGINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    CONSTRAINT ADMIN_DOCUMENTS_FK_AUDIENCE_ID FOREIGN KEY (AUDIENCE_ID) REFERENCES Sharing_Audience (ID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT ADMIN_DOCUMENTS_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS AdminDocumentSharing
(
    ID                 BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID              BIGINT NOT NULL,
    MODULEID           BIGINT NOT NULL,
    DOCUMENT_ID        BIGINT,
    SHARING_TYPE       TINYINT,
    SHARED_TO_SPACE_ID BIGINT,
    CONSTRAINT ADMIN_DOCUMENTS_SHARING_FK_SHARED_TO_SPACE FOREIGN KEY (SHARED_TO_SPACE_ID) REFERENCES BaseSpace (ID),
    CONSTRAINT ADMIN_DOCUMENTS_SHARING_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ADMIN_DOCUMENTS_SHARING_FK_DEALS_ID FOREIGN KEY (DOCUMENT_ID) REFERENCES AdminDocuments (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS AdminDocumentNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT ADMIN_DOCUMENTS_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ADMIN_DOCUMENTS_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES AdminDocuments (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Account_Types
(
    ID                BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID             BIGINT,
    MODULEID          BIGINT NOT NULL,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    NAME              VARCHAR(50),
    GROUP_TYPE        TINYINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    CONSTRAINT Account_Types_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Account_Types_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Account_Types_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Account_Types_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL
);

CREATE TABLE IF NOT EXISTS ChartOfAccounts
(
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    LOCAL_ID          BIGINT,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    NAME              VARCHAR(255),
    ACCOUNT_TYPE      INTEGER.
    TYPE_ID           BIGINT,
    PARENT_ACCOUNT_ID BIGINT,
    DESCRIPTION       TEXT,
    CODE              VARCHAR(200),
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10       VARCHAR(255),
    STRING_CF11       VARCHAR(255),
    STRING_CF12       VARCHAR(255),
    STRING_CF13       VARCHAR(255),
    STRING_CF14       VARCHAR(255),
    STRING_CF15       VARCHAR(255),
    STRING_CF16       VARCHAR(255),
    STRING_CF17       VARCHAR(255),
    STRING_CF18       VARCHAR(255),
    STRING_CF19       VARCHAR(255),
    STRING_CF20       VARCHAR(255),
    STRING_CF21       VARCHAR(255),
    STRING_CF22       VARCHAR(255),
    STRING_CF23       VARCHAR(255),
    STRING_CF24       VARCHAR(255),
    STRING_CF25       VARCHAR(255),
    STRING_CF26       VARCHAR(255),
    STRING_CF27       VARCHAR(255),
    STRING_CF28       VARCHAR(255),
    STRING_CF29       VARCHAR(255),
    STRING_CF30       VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10       BIGINT,
    NUMBER_CF11       BIGINT,
    NUMBER_CF12       BIGINT,
    NUMBER_CF13       BIGINT,
    NUMBER_CF14       BIGINT,
    NUMBER_CF15       BIGINT,
    NUMBER_CF16       BIGINT,
    NUMBER_CF17       BIGINT,
    NUMBER_CF18       BIGINT,
    NUMBER_CF19       BIGINT,
    NUMBER_CF20       BIGINT,
    NUMBER_CF21       BIGINT,
    NUMBER_CF22       BIGINT,
    NUMBER_CF23       BIGINT,
    NUMBER_CF24       BIGINT,
    NUMBER_CF25       BIGINT,
    NUMBER_CF26       BIGINT,
    NUMBER_CF27       BIGINT,
    NUMBER_CF28       BIGINT,
    NUMBER_CF29       BIGINT,
    NUMBER_CF30       BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10      DOUBLE,
    DECIMAL_CF11      DOUBLE,
    DECIMAL_CF12      DOUBLE,
    DECIMAL_CF13      DOUBLE,
    DECIMAL_CF14      DOUBLE,
    DECIMAL_CF15      DOUBLE,
    DECIMAL_CF16      DOUBLE,
    DECIMAL_CF17      DOUBLE,
    DECIMAL_CF18      DOUBLE,
    DECIMAL_CF19      DOUBLE,
    DECIMAL_CF20      DOUBLE,
    DECIMAL_CF21      DOUBLE,
    DECIMAL_CF22      DOUBLE,
    DECIMAL_CF23      DOUBLE,
    DECIMAL_CF24      DOUBLE,
    DECIMAL_CF25      DOUBLE,
    DECIMAL_CF26      DOUBLE,
    DECIMAL_CF27      DOUBLE,
    DECIMAL_CF28      DOUBLE,
    DECIMAL_CF29      DOUBLE,
    DECIMAL_CF30      DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10      BOOLEAN,
    BOOLEAN_CF11      BOOLEAN,
    BOOLEAN_CF12      BOOLEAN,
    BOOLEAN_CF13      BOOLEAN,
    BOOLEAN_CF14      BOOLEAN,
    BOOLEAN_CF15      BOOLEAN,
    BOOLEAN_CF16      BOOLEAN,
    BOOLEAN_CF17      BOOLEAN,
    BOOLEAN_CF18      BOOLEAN,
    BOOLEAN_CF19      BOOLEAN,
    BOOLEAN_CF20      BOOLEAN,
    BOOLEAN_CF21      BOOLEAN,
    BOOLEAN_CF22      BOOLEAN,
    BOOLEAN_CF23      BOOLEAN,
    BOOLEAN_CF24      BOOLEAN,
    BOOLEAN_CF25      BOOLEAN,
    BOOLEAN_CF26      BOOLEAN,
    BOOLEAN_CF27      BOOLEAN,
    BOOLEAN_CF28      BOOLEAN,
    BOOLEAN_CF29      BOOLEAN,
    BOOLEAN_CF30      BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10         BIGINT,
    DATE_CF11         BIGINT,
    DATE_CF12         BIGINT,
    DATE_CF13         BIGINT,
    DATE_CF14         BIGINT,
    DATE_CF15         BIGINT,
    DATE_CF16         BIGINT,
    DATE_CF17         BIGINT,
    DATE_CF18         BIGINT,
    DATE_CF19         BIGINT,
    DATE_CF20         BIGINT,
    DATE_CF21         BIGINT,
    DATE_CF22         BIGINT,
    DATE_CF23         BIGINT,
    DATE_CF24         BIGINT,
    DATE_CF25         BIGINT,
    DATE_CF26         BIGINT,
    DATE_CF27         BIGINT,
    DATE_CF28         BIGINT,
    DATE_CF29         BIGINT,
    DATE_CF30         BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10     BIGINT,
    DATETIME_CF11     BIGINT,
    DATETIME_CF12     BIGINT,
    DATETIME_CF13     BIGINT,
    DATETIME_CF14     BIGINT,
    DATETIME_CF15     BIGINT,
    DATETIME_CF16     BIGINT,
    DATETIME_CF17     BIGINT,
    DATETIME_CF18     BIGINT,
    DATETIME_CF19     BIGINT,
    DATETIME_CF20     BIGINT,
    DATETIME_CF21     BIGINT,
    DATETIME_CF22     BIGINT,
    DATETIME_CF23     BIGINT,
    DATETIME_CF24     BIGINT,
    DATETIME_CF25     BIGINT,
    DATETIME_CF26     BIGINT,
    DATETIME_CF27     BIGINT,
    DATETIME_CF28     BIGINT,
    DATETIME_CF29     BIGINT,
    DATETIME_CF30     BIGINT,
    ENUM_CF1          INTEGER,
    ENUM_CF2          INTEGER,
    ENUM_CF3          INTEGER,
    ENUM_CF4          INTEGER,
    ENUM_CF5          INTEGER,
    ENUM_CF6          INTEGER,
    ENUM_CF7          INTEGER,
    ENUM_CF8          INTEGER,
    ENUM_CF9          INTEGER,
    ENUM_CF10         INTEGER,
    ENUM_CF11         INTEGER,
    ENUM_CF12         INTEGER,
    ENUM_CF13         INTEGER,
    ENUM_CF14         INTEGER,
    ENUM_CF15         INTEGER,
    ENUM_CF16         INTEGER,
    ENUM_CF17         INTEGER,
    ENUM_CF18         INTEGER,
    ENUM_CF19         INTEGER,
    ENUM_CF20         INTEGER,
    ENUM_CF21         INTEGER,
    ENUM_CF22         INTEGER,
    ENUM_CF23         INTEGER,
    ENUM_CF24         INTEGER,
    ENUM_CF25         INTEGER,
    ENUM_CF26         INTEGER,
    ENUM_CF27         INTEGER,
    ENUM_CF28         INTEGER,
    ENUM_CF29         INTEGER,
    ENUM_CF30         INTEGER,
    FILE_CF1          BIGINT,
    FILE_CF2          BIGINT,
    FILE_CF3          BIGINT,
    FILE_CF4          BIGINT,
    FILE_CF5          BIGINT,
    FILE_CF6          BIGINT,
    FILE_CF7          BIGINT,
    FILE_CF8          BIGINT,
    FILE_CF9          BIGINT,
    FILE_CF10         BIGINT,
    FILE_CF11         BIGINT,
    FILE_CF12         BIGINT,
    FILE_CF13         BIGINT,
    FILE_CF14         BIGINT,
    FILE_CF15         BIGINT,
    FILE_CF16         BIGINT,
    FILE_CF17         BIGINT,
    FILE_CF18         BIGINT,
    FILE_CF19         BIGINT,
    FILE_CF20         BIGINT,
    FILE_CF21         BIGINT,
    FILE_CF22         BIGINT,
    FILE_CF23         BIGINT,
    FILE_CF24         BIGINT,
    FILE_CF25         BIGINT,
    FILE_CF26         BIGINT,
    FILE_CF27         BIGINT,
    FILE_CF28         BIGINT,
    FILE_CF29         BIGINT,
    FILE_CF30         BIGINT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10       BIGINT,
    LOOKUP_CF11       BIGINT,
    LOOKUP_CF12       BIGINT,
    LOOKUP_CF13       BIGINT,
    LOOKUP_CF14       BIGINT,
    LOOKUP_CF15       BIGINT,
    LOOKUP_CF16       BIGINT,
    LOOKUP_CF17       BIGINT,
    LOOKUP_CF18       BIGINT,
    LOOKUP_CF19       BIGINT,
    LOOKUP_CF20       BIGINT,
    LOOKUP_CF21       BIGINT,
    LOOKUP_CF22       BIGINT,
    LOOKUP_CF23       BIGINT,
    LOOKUP_CF24       BIGINT,
    LOOKUP_CF25       BIGINT,
    LOOKUP_CF26       BIGINT,
    LOOKUP_CF27       BIGINT,
    LOOKUP_CF28       BIGINT,
    LOOKUP_CF29       BIGINT,
    LOOKUP_CF30       BIGINT,
    SCORE_CF1         DOUBLE,
    SCORE_CF2         DOUBLE,
    SCORE_CF3         DOUBLE,
    SCORE_CF4         DOUBLE,
    SCORE_CF5         DOUBLE,
    SCORE_CF6         DOUBLE,
    SCORE_CF7         DOUBLE,
    SCORE_CF8         DOUBLE,
    SCORE_CF9         DOUBLE,
    SCORE_CF10        DOUBLE,
    SCORE_CF11        DOUBLE,
    SCORE_CF12        DOUBLE,
    SCORE_CF13        DOUBLE,
    SCORE_CF14        DOUBLE,
    SCORE_CF15        DOUBLE,
    SCORE_CF16        DOUBLE,
    SCORE_CF17        DOUBLE,
    SCORE_CF18        DOUBLE,
    SCORE_CF19        DOUBLE,
    SCORE_CF20        DOUBLE,
    SCORE_CF21        DOUBLE,
    SCORE_CF22        DOUBLE,
    SCORE_CF23        DOUBLE,
    SCORE_CF24        DOUBLE,
    SCORE_CF25        DOUBLE,
    SCORE_CF26        DOUBLE,
    SCORE_CF27        DOUBLE,
    SCORE_CF28        DOUBLE,
    SCORE_CF29        DOUBLE,
    SCORE_CF30        DOUBLE,
    CONSTRAINT ChartOfAccounts_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ChartOfAccounts_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT ChartOfAccounts_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ChartOfAccounts_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ChartOfAccounts_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT ChartOfAccounts_FK_TYPE_ID FOREIGN KEY (TYPE_ID) REFERENCES Account_Types (ID) ON DELETE SET NULL,
    CONSTRAINT ChartOfAccounts_FK_PARENT_ACCOUNT_ID FOREIGN KEY (PARENT_ACCOUNT_ID) REFERENCES ChartOfAccounts (ID) ON DELETE SET NULL
);


CREATE TABLE IF NOT EXISTS ChartOfAccountAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT ChartOfAccountAttachments_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ChartOfAccountAttachments_FK_PARENT FOREIGN KEY (PARENT) REFERENCES ChartOfAccounts (ID) ON DELETE CASCADE,
    CONSTRAINT ChartOfAccountAttachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS ChartOfAccountNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT ChartOfAccountNotes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT ChartOfAccountNotes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT ChartOfAccountNotes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES ChartOfAccounts (ID) ON DELETE CASCADE

);
CREATE TABLE IF NOT EXISTS User_Notification
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT,
    MODULEID BIGINT NOT NULL,
    SITE_ID BIGINT,
    FORM_ID BIGINT,
    USER BIGINT,
    SUBJECT VARCHAR(1000) NOT NULL,
    SEEN_AT BIGINT,
    READ_AT BIGINT,
    APP_NAME VARCHAR (50),
    APPLICATION BIGINT,
    NOTIFICATION_STATUS BIGINT,
    INFO VARCHAR(5000),
    TITLE VARCHAR(50),
    PARENT_ID BIGINT NOT NULL,
    ACTION_TYPE BIGINT,
    PARENT_MODULE_ID BIGINT,
    SYS_CREATED_TIME BIGINT(20),
    SYS_MODIFIED_TIME BIGINT(20),
    SYS_CREATED_BY BIGINT,
    SYS_MODIFIED_BY BIGINT,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED BIGINT,
    SYS_DELETED_BY BIGINT,
    CONSTRAINT USER_FK_ID FOREIGN KEY (USER) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT USER_NOTIFICATION_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID)
);
CREATE TABLE IF NOT EXISTS User_Notification_Seen_Mapping (
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT(20) NOT NULL,
	USER BIGINT NOT NULL,
	LAST_SEEN BIGINT,
	LAST_SEEN_AT BIGINT,
	CONSTRAINT USER_SEEN_MAPPING_FK_ID FOREIGN KEY (USER) REFERENCES ORG_Users (ORG_USERID),
	CONSTRAINT USER_SEEN_MAPPING_FK_USER_UNIQUE UNIQUE (ORGID,USER)
);


CREATE TABLE IF NOT EXISTS Budget
(
    ID                      BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID                   BIGINT NOT NULL,
    MODULEID                BIGINT NOT NULL,
    LOCAL_ID                BIGINT,
    SITE_ID                 BIGINT,
    SYS_CREATED_TIME        BIGINT,
    SYS_MODIFIED_TIME       BIGINT,
    FORM_ID                 BIGINT,
    SYS_DELETED             TINYINT,
    SYS_DELETED_TIME        BIGINT,
    SYS_DELETED_BY          BIGINT,
    SYS_CREATED_BY          BIGINT,
    SYS_MODIFIED_BY         BIGINT,
    NAME                    VARCHAR(255),
    FISCAL_YEAR             INTEGER,
    FISCAL_YEAR_START       BIGINT,
    START_DATE              BIGINT,
    END_DATE                BIGINT,
    FOCAL_POINT_TYPE        TINYINT,
    FOCAL_POINT_RESOURCE_ID BIGINT,
    TOTAL_INCOME            DOUBLE,
    TOTAL_EXPENSE           DOUBLE,
    NET_INCOME              DOUBLE,
    ACTUAL_INCOME           DOUBLE,
    ACTUAL_EXPENSE          DOUBLE,
    MODULE_STATE            BIGINT,
    STATE_FLOW_ID           BIGINT,
    APPROVAL_FLOW_ID        BIGINT,
    APPROVAL_STATE          BIGINT,
    STRING_CF1              VARCHAR(255),
    STRING_CF2              VARCHAR(255),
    STRING_CF3              VARCHAR(255),
    STRING_CF4              VARCHAR(255),
    STRING_CF5              VARCHAR(255),
    STRING_CF6              VARCHAR(255),
    STRING_CF7              VARCHAR(255),
    STRING_CF8              VARCHAR(255),
    STRING_CF9              VARCHAR(255),
    STRING_CF10             VARCHAR(255),
    STRING_CF11             VARCHAR(255),
    STRING_CF12             VARCHAR(255),
    STRING_CF13             VARCHAR(255),
    STRING_CF14             VARCHAR(255),
    STRING_CF15             VARCHAR(255),
    STRING_CF16             VARCHAR(255),
    STRING_CF17             VARCHAR(255),
    STRING_CF18             VARCHAR(255),
    STRING_CF19             VARCHAR(255),
    STRING_CF20             VARCHAR(255),
    STRING_CF21             VARCHAR(255),
    STRING_CF22             VARCHAR(255),
    STRING_CF23             VARCHAR(255),
    STRING_CF24             VARCHAR(255),
    STRING_CF25             VARCHAR(255),
    STRING_CF26             VARCHAR(255),
    STRING_CF27             VARCHAR(255),
    STRING_CF28             VARCHAR(255),
    STRING_CF29             VARCHAR(255),
    STRING_CF30             VARCHAR(255),
    NUMBER_CF1              BIGINT,
    NUMBER_CF2              BIGINT,
    NUMBER_CF3              BIGINT,
    NUMBER_CF4              BIGINT,
    NUMBER_CF5              BIGINT,
    NUMBER_CF6              BIGINT,
    NUMBER_CF7              BIGINT,
    NUMBER_CF8              BIGINT,
    NUMBER_CF9              BIGINT,
    NUMBER_CF10             BIGINT,
    NUMBER_CF11             BIGINT,
    NUMBER_CF12             BIGINT,
    NUMBER_CF13             BIGINT,
    NUMBER_CF14             BIGINT,
    NUMBER_CF15             BIGINT,
    NUMBER_CF16             BIGINT,
    NUMBER_CF17             BIGINT,
    NUMBER_CF18             BIGINT,
    NUMBER_CF19             BIGINT,
    NUMBER_CF20             BIGINT,
    NUMBER_CF21             BIGINT,
    NUMBER_CF22             BIGINT,
    NUMBER_CF23             BIGINT,
    NUMBER_CF24             BIGINT,
    NUMBER_CF25             BIGINT,
    NUMBER_CF26             BIGINT,
    NUMBER_CF27             BIGINT,
    NUMBER_CF28             BIGINT,
    NUMBER_CF29             BIGINT,
    NUMBER_CF30             BIGINT,
    DECIMAL_CF1             DOUBLE,
    DECIMAL_CF2             DOUBLE,
    DECIMAL_CF3             DOUBLE,
    DECIMAL_CF4             DOUBLE,
    DECIMAL_CF5             DOUBLE,
    DECIMAL_CF6             DOUBLE,
    DECIMAL_CF7             DOUBLE,
    DECIMAL_CF8             DOUBLE,
    DECIMAL_CF9             DOUBLE,
    DECIMAL_CF10            DOUBLE,
    DECIMAL_CF11            DOUBLE,
    DECIMAL_CF12            DOUBLE,
    DECIMAL_CF13            DOUBLE,
    DECIMAL_CF14            DOUBLE,
    DECIMAL_CF15            DOUBLE,
    DECIMAL_CF16            DOUBLE,
    DECIMAL_CF17            DOUBLE,
    DECIMAL_CF18            DOUBLE,
    DECIMAL_CF19            DOUBLE,
    DECIMAL_CF20            DOUBLE,
    DECIMAL_CF21            DOUBLE,
    DECIMAL_CF22            DOUBLE,
    DECIMAL_CF23            DOUBLE,
    DECIMAL_CF24            DOUBLE,
    DECIMAL_CF25            DOUBLE,
    DECIMAL_CF26            DOUBLE,
    DECIMAL_CF27            DOUBLE,
    DECIMAL_CF28            DOUBLE,
    DECIMAL_CF29            DOUBLE,
    DECIMAL_CF30            DOUBLE,
    BOOLEAN_CF1             BOOLEAN,
    BOOLEAN_CF2             BOOLEAN,
    BOOLEAN_CF3             BOOLEAN,
    BOOLEAN_CF4             BOOLEAN,
    BOOLEAN_CF5             BOOLEAN,
    BOOLEAN_CF6             BOOLEAN,
    BOOLEAN_CF7             BOOLEAN,
    BOOLEAN_CF8             BOOLEAN,
    BOOLEAN_CF9             BOOLEAN,
    BOOLEAN_CF10            BOOLEAN,
    BOOLEAN_CF11            BOOLEAN,
    BOOLEAN_CF12            BOOLEAN,
    BOOLEAN_CF13            BOOLEAN,
    BOOLEAN_CF14            BOOLEAN,
    BOOLEAN_CF15            BOOLEAN,
    BOOLEAN_CF16            BOOLEAN,
    BOOLEAN_CF17            BOOLEAN,
    BOOLEAN_CF18            BOOLEAN,
    BOOLEAN_CF19            BOOLEAN,
    BOOLEAN_CF20            BOOLEAN,
    BOOLEAN_CF21            BOOLEAN,
    BOOLEAN_CF22            BOOLEAN,
    BOOLEAN_CF23            BOOLEAN,
    BOOLEAN_CF24            BOOLEAN,
    BOOLEAN_CF25            BOOLEAN,
    BOOLEAN_CF26            BOOLEAN,
    BOOLEAN_CF27            BOOLEAN,
    BOOLEAN_CF28            BOOLEAN,
    BOOLEAN_CF29            BOOLEAN,
    BOOLEAN_CF30            BOOLEAN,
    DATE_CF1                BIGINT,
    DATE_CF2                BIGINT,
    DATE_CF3                BIGINT,
    DATE_CF4                BIGINT,
    DATE_CF5                BIGINT,
    DATE_CF6                BIGINT,
    DATE_CF7                BIGINT,
    DATE_CF8                BIGINT,
    DATE_CF9                BIGINT,
    DATE_CF10               BIGINT,
    DATE_CF11               BIGINT,
    DATE_CF12               BIGINT,
    DATE_CF13               BIGINT,
    DATE_CF14               BIGINT,
    DATE_CF15               BIGINT,
    DATE_CF16               BIGINT,
    DATE_CF17               BIGINT,
    DATE_CF18               BIGINT,
    DATE_CF19               BIGINT,
    DATE_CF20               BIGINT,
    DATE_CF21               BIGINT,
    DATE_CF22               BIGINT,
    DATE_CF23               BIGINT,
    DATE_CF24               BIGINT,
    DATE_CF25               BIGINT,
    DATE_CF26               BIGINT,
    DATE_CF27               BIGINT,
    DATE_CF28               BIGINT,
    DATE_CF29               BIGINT,
    DATE_CF30               BIGINT,
    DATETIME_CF1            BIGINT,
    DATETIME_CF2            BIGINT,
    DATETIME_CF3            BIGINT,
    DATETIME_CF4            BIGINT,
    DATETIME_CF5            BIGINT,
    DATETIME_CF6            BIGINT,
    DATETIME_CF7            BIGINT,
    DATETIME_CF8            BIGINT,
    DATETIME_CF9            BIGINT,
    DATETIME_CF10           BIGINT,
    DATETIME_CF11           BIGINT,
    DATETIME_CF12           BIGINT,
    DATETIME_CF13           BIGINT,
    DATETIME_CF14           BIGINT,
    DATETIME_CF15           BIGINT,
    DATETIME_CF16           BIGINT,
    DATETIME_CF17           BIGINT,
    DATETIME_CF18           BIGINT,
    DATETIME_CF19           BIGINT,
    DATETIME_CF20           BIGINT,
    DATETIME_CF21           BIGINT,
    DATETIME_CF22           BIGINT,
    DATETIME_CF23           BIGINT,
    DATETIME_CF24           BIGINT,
    DATETIME_CF25           BIGINT,
    DATETIME_CF26           BIGINT,
    DATETIME_CF27           BIGINT,
    DATETIME_CF28           BIGINT,
    DATETIME_CF29           BIGINT,
    DATETIME_CF30           BIGINT,
    ENUM_CF1                INTEGER,
    ENUM_CF2                INTEGER,
    ENUM_CF3                INTEGER,
    ENUM_CF4                INTEGER,
    ENUM_CF5                INTEGER,
    ENUM_CF6                INTEGER,
    ENUM_CF7                INTEGER,
    ENUM_CF8                INTEGER,
    ENUM_CF9                INTEGER,
    ENUM_CF10               INTEGER,
    ENUM_CF11               INTEGER,
    ENUM_CF12               INTEGER,
    ENUM_CF13               INTEGER,
    ENUM_CF14               INTEGER,
    ENUM_CF15               INTEGER,
    ENUM_CF16               INTEGER,
    ENUM_CF17               INTEGER,
    ENUM_CF18               INTEGER,
    ENUM_CF19               INTEGER,
    ENUM_CF20               INTEGER,
    ENUM_CF21               INTEGER,
    ENUM_CF22               INTEGER,
    ENUM_CF23               INTEGER,
    ENUM_CF24               INTEGER,
    ENUM_CF25               INTEGER,
    ENUM_CF26               INTEGER,
    ENUM_CF27               INTEGER,
    ENUM_CF28               INTEGER,
    ENUM_CF29               INTEGER,
    ENUM_CF30               INTEGER,
    FILE_CF1                BIGINT,
    FILE_CF2                BIGINT,
    FILE_CF3                BIGINT,
    FILE_CF4                BIGINT,
    FILE_CF5                BIGINT,
    FILE_CF6                BIGINT,
    FILE_CF7                BIGINT,
    FILE_CF8                BIGINT,
    FILE_CF9                BIGINT,
    FILE_CF10               BIGINT,
    FILE_CF11               BIGINT,
    FILE_CF12               BIGINT,
    FILE_CF13               BIGINT,
    FILE_CF14               BIGINT,
    FILE_CF15               BIGINT,
    FILE_CF16               BIGINT,
    FILE_CF17               BIGINT,
    FILE_CF18               BIGINT,
    FILE_CF19               BIGINT,
    FILE_CF20               BIGINT,
    FILE_CF21               BIGINT,
    FILE_CF22               BIGINT,
    FILE_CF23               BIGINT,
    FILE_CF24               BIGINT,
    FILE_CF25               BIGINT,
    FILE_CF26               BIGINT,
    FILE_CF27               BIGINT,
    FILE_CF28               BIGINT,
    FILE_CF29               BIGINT,
    FILE_CF30               BIGINT,
    LOOKUP_CF1              BIGINT,
    LOOKUP_CF2              BIGINT,
    LOOKUP_CF3              BIGINT,
    LOOKUP_CF4              BIGINT,
    LOOKUP_CF5              BIGINT,
    LOOKUP_CF6              BIGINT,
    LOOKUP_CF7              BIGINT,
    LOOKUP_CF8              BIGINT,
    LOOKUP_CF9              BIGINT,
    LOOKUP_CF10             BIGINT,
    LOOKUP_CF11             BIGINT,
    LOOKUP_CF12             BIGINT,
    LOOKUP_CF13             BIGINT,
    LOOKUP_CF14             BIGINT,
    LOOKUP_CF15             BIGINT,
    LOOKUP_CF16             BIGINT,
    LOOKUP_CF17             BIGINT,
    LOOKUP_CF18             BIGINT,
    LOOKUP_CF19             BIGINT,
    LOOKUP_CF20             BIGINT,
    LOOKUP_CF21             BIGINT,
    LOOKUP_CF22             BIGINT,
    LOOKUP_CF23             BIGINT,
    LOOKUP_CF24             BIGINT,
    LOOKUP_CF25             BIGINT,
    LOOKUP_CF26             BIGINT,
    LOOKUP_CF27             BIGINT,
    LOOKUP_CF28             BIGINT,
    LOOKUP_CF29             BIGINT,
    LOOKUP_CF30             BIGINT,
    SCORE_CF1               DOUBLE,
    SCORE_CF2               DOUBLE,
    SCORE_CF3               DOUBLE,
    SCORE_CF4               DOUBLE,
    SCORE_CF5               DOUBLE,
    SCORE_CF6               DOUBLE,
    SCORE_CF7               DOUBLE,
    SCORE_CF8               DOUBLE,
    SCORE_CF9               DOUBLE,
    SCORE_CF10              DOUBLE,
    SCORE_CF11              DOUBLE,
    SCORE_CF12              DOUBLE,
    SCORE_CF13              DOUBLE,
    SCORE_CF14              DOUBLE,
    SCORE_CF15              DOUBLE,
    SCORE_CF16              DOUBLE,
    SCORE_CF17              DOUBLE,
    SCORE_CF18              DOUBLE,
    SCORE_CF19              DOUBLE,
    SCORE_CF20              DOUBLE,
    SCORE_CF21              DOUBLE,
    SCORE_CF22              DOUBLE,
    SCORE_CF23              DOUBLE,
    SCORE_CF24              DOUBLE,
    SCORE_CF25              DOUBLE,
    SCORE_CF26              DOUBLE,
    SCORE_CF27              DOUBLE,
    SCORE_CF28              DOUBLE,
    SCORE_CF29              DOUBLE,
    SCORE_CF30              DOUBLE,
    CONSTRAINT Budget_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Budget_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT Budget_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Budget_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Budget_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT Budget_FK_FOCAL_POINT_ID FOREIGN KEY (FOCAL_POINT_RESOURCE_ID) REFERENCES Resources (ID) ON DELETE CASCADE,
    CONSTRAINT Budget_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT Budget_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Budget_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID)
);

CREATE TABLE IF NOT EXISTS Budget_Amount
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    AMOUNT_TYPE             TINYINT,
    CHART_OF_ACCOUNT_ID BIGINT NOT NULL,
    RESOURCE_ID      BIGINT,
    YEARLY_AMOUNT    DOUBLE,
    ACTUAL_YEARLY_AMOUNT    DOUBLE,
    BUDGET_ID        BIGINT,
    CONSTRAINT Budget_Amount_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Budget_Amount_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
    CONSTRAINT Budget_Amount_FK_BUDGETID FOREIGN KEY (BUDGET_ID) REFERENCES Budget (ID),
    CONSTRAINT Budget_Amount_FK_ACCOUNT_ID FOREIGN KEY (CHART_OF_ACCOUNT_ID) REFERENCES ChartOfAccounts (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Budget_Monthly_Amount
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    AMOUNT_ID        BIGINT,
    MONTHLY_AMOUNT    DOUBLE,
    ACTUAL_MONTHLY_AMOUNT    DOUBLE,
    START_DATE    BIGINT ,
    ACCOUNT_ID          BIGINT,
    RESOURCE_ID         BIGINT,
    CONSTRAINT Budget_Monthly_Amount_FK_ACCOUNT_ID FOREIGN KEY (ACCOUNT_ID) REFERENCES ChartOfAccounts (ID),
    CONSTRAINT Budget_Monthly_Amount_FK_RESOURCE_ID FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID),
    CONSTRAINT Budget_Monthly_Amount_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Budget_Monthly_Amount_FK_AMOUNT_ID FOREIGN KEY (AMOUNT_ID) REFERENCES Budget_Amount (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS BudgetAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT BudgetAttachments_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT BudgetAttachments_FK_PARENT FOREIGN KEY (PARENT) REFERENCES Budget (ID) ON DELETE CASCADE,
    CONSTRAINT BudgetAttachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS BudgetNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT BudgetNotes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT BudgetNotes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT BudgetNotes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Budget (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Transactions
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    TRANSACTION_DATE  BIGINT,
    TRANSACTION_NAME  VARCHAR(200),
    TRANSACTION_ROLLUP_MODULE_NAME VARCHAR(100),
    TRANSACTION_ROLLUP_FIELD_NAME VARCHAR(100),
    TRANSACTION_SOURCE_MODULE_NAME VARCHAR(100),
    TRANSACTION_SOURCE_RECORD_ID BIGINT,
    TRANSACTION_RESOURCE  BIGINT,
    TRANSACTION_ACCOUNT  BIGINT,
    TRANSACTION_TYPE TINYINT,
    TRANSACTION_AMOUNT DOUBLE,
    CONSTRAINT Transactions_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Transactions_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Transactions_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Transactions_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT Transactions_FK_TRANSACTION_RESOURCE FOREIGN KEY (TRANSACTION_RESOURCE) REFERENCES Resources (ID) ON DELETE SET NULL,
    CONSTRAINT Transactions_FK_TRANSACTION_ACCOUNT FOREIGN KEY (TRANSACTION_ACCOUNT) REFERENCES ChartOfAccounts (ID) ON DELETE SET NULL

);

CREATE TABLE IF NOT EXISTS Transaction_Rule_Config
(
    ID BIGINT PRIMARY KEY,
    TRANSACTION_CONFIG_JSON VARCHAR(10000),
    ORGID BIGINT,
    CONSTRAINT Transaction_Rule_Config_FK_ID FOREIGN KEY (ID) REFERENCES Workflow_Rule (ID)
);

CREATE TABLE IF NOT EXISTS Dashboard_User_Filter_Widget_Field_Mapping(

	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT,
	USER_FILTER_ID BIGINT NOT NULL,
	WIDGET_ID BIGINT NOT NULL,
	WIDGET_FIELD_ID BIGINT NOT NULL,
	CONSTRAINT Dashboard_User_Filter_Widget_Field_Mapping_USER_FILTER_ID FOREIGN KEY(USER_FILTER_ID) REFERENCES Dashboard_User_Filter(ID) ON DELETE CASCADE,
	CONSTRAINT Dashboard_User_Filter_Widget_Field_Mapping_WIDGET_ID FOREIGN KEY(WIDGET_ID) REFERENCES Widget(ID) ON DELETE CASCADE,
	CONSTRAINT Dashboard_User_Filter_Widget_Field_Mapping_WIDGET_FIELD_ID FOREIGN KEY(WIDGET_FIELD_ID) REFERENCES Fields(FIELDID) ON DELETE CASCADE

);

CREATE TABLE IF NOT EXISTS Facilio_Trigger(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NULL,
	TYPE INT NOT NULL,
	MODULE_ID BIGINT,
	EVENT_TYPE INT,
	STATUS TINYINT,
	CONSTRAINT TRIGGER_MODULE_ID_FK FOREIGN KEY (MODULE_ID) REFERENCES Modules(MODULEID)
);

CREATE TABLE IF NOT EXISTS Trigger_Action(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	NAME VARCHAR(100) NULL,
	TYPE INT NOT NULL,
	TYPE_PRIMARY_ID BIGINT
);

CREATE TABLE IF NOT EXISTS Trigger_Action_Rel(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	TRIGGER_ID BIGINT NOT NULL,
	TRIGGER_ACTION_ID BIGINT NOT NULL,
	EXECUTION_ORDER INT,
	CONSTRAINT TRIGGER_ACTION_REL_TRIGGER_ID_FK FOREIGN KEY (TRIGGER_ID) REFERENCES Facilio_Trigger(ID) ON DELETE CASCADE,
	CONSTRAINT TRIGGER_ACTION_REL_TRIGGER_ACTION_ID_FK FOREIGN KEY (TRIGGER_ACTION_ID) REFERENCES Trigger_Action(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Trigger_Include_Exclude_Resource (
  ID BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
  ORGID BIGINT NOT NULL,
  TRIGGER_ID BIGINT NOT NULL,
  RESOURCE_ID BIGINT NOT NULL,
  IS_INCLUDE tinyint(4) DEFAULT NULL,
  CONSTRAINT Trigger_Include_Exclude_Resource_cg_id FOREIGN KEY (TRIGGER_ID) REFERENCES Facilio_Trigger (ID) ON DELETE CASCADE,
  CONSTRAINT Trigger_Include_Exclude_Resource_resourceid FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE NO ACTION ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Trigger_Log(
	ID BIGINT AUTO_INCREMENT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
	EXECUTION_TIME BIGINT NOT NULL,
	TRIGGER_ID BIGINT NOT NULL,
	RECORD_ID BIGINT,
	TRIGGER_ACTION_ID BIGINT NOT NULL,
	CONSTRAINT TRIGGER_LOG_TRIGGER_ID_FK FOREIGN KEY (TRIGGER_ID) REFERENCES Facilio_Trigger(ID) ON DELETE CASCADE,
	CONSTRAINT TRIGGER_LOG_TRIGGER_ACTION_ID_FK FOREIGN KEY (TRIGGER_ACTION_ID) REFERENCES Trigger_Action(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS LonWorks_Point
(
	ID BIGINT PRIMARY KEY,
	ORGID BIGINT NOT NULL,
    CONTROLLER_ID BIGINT,
	TARGET_NAME varchar(50),
	TARGET_COMP varchar(50),
	LINK_TYPE varchar(50),
	DEVICE_ID BIGINT,
    CONSTRAINT LonWorks_Point_FK_CONTROLLER_ID FOREIGN KEY (CONTROLLER_ID) REFERENCES Controllers (ID),
	CONSTRAINT LonWorks_Point_FK_ID FOREIGN KEY (ID) REFERENCES Point (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Facility
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT,
    NAME VARCHAR(500),
    MODULEID BIGINT NOT NULL,
    MANAGER BIGINT,
    DESCRIPTION VARCHAR(1000),
    USAGE_GUIDANCE VARCHAR(2000),
    FACILITY_TYPE TINYINT,
    SITE_ID BIGINT,
    PARENT_ID BIGINT,
    PARENT_MODULE_ID BIGINT,
    LOCATION_ID BIGINT,
    CATEGORY INTEGER,
    USAGE_CAPACITY INTEGER,
    SLOT_DURATION BIGINT,
    MAXIMUM_ATTENDEE_COUNT_PER_BOOKING INTEGER,
    MULTI_BOOKING_PER_SLOT_ALLOWED TINYINT,
    MAX_SLOT_BOOKING BIGINT,
    IS_CHARGEABLE   TINYINT,
    SECURITY_DEPOSIT DOUBLE,
    PRICE_PER_SLOT  DOUBLE,
    ATTENDEES_LIST_NEEDED TINYINT,
    MODULE_STATE      BIGINT,
    LOCAL_ID          BIGINT,
    STATE_FLOW_ID     BIGINT,
    APPROVAL_FLOW_ID  BIGINT,
    APPROVAL_STATE    BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    FORM_ID           BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    SLOT_GENERATED_UPTO BIGINT,
    BOOKING_ADVANCE_DAYS BIGINT,
    STRING_CF1              VARCHAR(255),
    STRING_CF2              VARCHAR(255),
    STRING_CF3              VARCHAR(255),
    STRING_CF4              VARCHAR(255),
    STRING_CF5              VARCHAR(255),
    STRING_CF6              VARCHAR(255),
    STRING_CF7              VARCHAR(255),
    STRING_CF8              VARCHAR(255),
    STRING_CF9              VARCHAR(255),
    STRING_CF10             VARCHAR(255),
    STRING_CF11             VARCHAR(255),
    STRING_CF12             VARCHAR(255),
    STRING_CF13             VARCHAR(255),
    STRING_CF14             VARCHAR(255),
    STRING_CF15             VARCHAR(255),
    STRING_CF16             VARCHAR(255),
    STRING_CF17             VARCHAR(255),
    STRING_CF18             VARCHAR(255),
    STRING_CF19             VARCHAR(255),
    STRING_CF20             VARCHAR(255),
    STRING_CF21             VARCHAR(255),
    STRING_CF22             VARCHAR(255),
    STRING_CF23             VARCHAR(255),
    STRING_CF24             VARCHAR(255),
    STRING_CF25             VARCHAR(255),
    STRING_CF26             VARCHAR(255),
    STRING_CF27             VARCHAR(255),
    STRING_CF28             VARCHAR(255),
    STRING_CF29             VARCHAR(255),
    STRING_CF30             VARCHAR(255),
    NUMBER_CF1              BIGINT,
    NUMBER_CF2              BIGINT,
    NUMBER_CF3              BIGINT,
    NUMBER_CF4              BIGINT,
    NUMBER_CF5              BIGINT,
    NUMBER_CF6              BIGINT,
    NUMBER_CF7              BIGINT,
    NUMBER_CF8              BIGINT,
    NUMBER_CF9              BIGINT,
    NUMBER_CF10             BIGINT,
    NUMBER_CF11             BIGINT,
    NUMBER_CF12             BIGINT,
    NUMBER_CF13             BIGINT,
    NUMBER_CF14             BIGINT,
    NUMBER_CF15             BIGINT,
    NUMBER_CF16             BIGINT,
    NUMBER_CF17             BIGINT,
    NUMBER_CF18             BIGINT,
    NUMBER_CF19             BIGINT,
    NUMBER_CF20             BIGINT,
    NUMBER_CF21             BIGINT,
    NUMBER_CF22             BIGINT,
    NUMBER_CF23             BIGINT,
    NUMBER_CF24             BIGINT,
    NUMBER_CF25             BIGINT,
    NUMBER_CF26             BIGINT,
    NUMBER_CF27             BIGINT,
    NUMBER_CF28             BIGINT,
    NUMBER_CF29             BIGINT,
    NUMBER_CF30             BIGINT,
    DECIMAL_CF1             DOUBLE,
    DECIMAL_CF2             DOUBLE,
    DECIMAL_CF3             DOUBLE,
    DECIMAL_CF4             DOUBLE,
    DECIMAL_CF5             DOUBLE,
    DECIMAL_CF6             DOUBLE,
    DECIMAL_CF7             DOUBLE,
    DECIMAL_CF8             DOUBLE,
    DECIMAL_CF9             DOUBLE,
    DECIMAL_CF10            DOUBLE,
    DECIMAL_CF11            DOUBLE,
    DECIMAL_CF12            DOUBLE,
    DECIMAL_CF13            DOUBLE,
    DECIMAL_CF14            DOUBLE,
    DECIMAL_CF15            DOUBLE,
    DECIMAL_CF16            DOUBLE,
    DECIMAL_CF17            DOUBLE,
    DECIMAL_CF18            DOUBLE,
    DECIMAL_CF19            DOUBLE,
    DECIMAL_CF20            DOUBLE,
    DECIMAL_CF21            DOUBLE,
    DECIMAL_CF22            DOUBLE,
    DECIMAL_CF23            DOUBLE,
    DECIMAL_CF24            DOUBLE,
    DECIMAL_CF25            DOUBLE,
    DECIMAL_CF26            DOUBLE,
    DECIMAL_CF27            DOUBLE,
    DECIMAL_CF28            DOUBLE,
    DECIMAL_CF29            DOUBLE,
    DECIMAL_CF30            DOUBLE,
    BOOLEAN_CF1             BOOLEAN,
    BOOLEAN_CF2             BOOLEAN,
    BOOLEAN_CF3             BOOLEAN,
    BOOLEAN_CF4             BOOLEAN,
    BOOLEAN_CF5             BOOLEAN,
    BOOLEAN_CF6             BOOLEAN,
    BOOLEAN_CF7             BOOLEAN,
    BOOLEAN_CF8             BOOLEAN,
    BOOLEAN_CF9             BOOLEAN,
    BOOLEAN_CF10            BOOLEAN,
    BOOLEAN_CF11            BOOLEAN,
    BOOLEAN_CF12            BOOLEAN,
    BOOLEAN_CF13            BOOLEAN,
    BOOLEAN_CF14            BOOLEAN,
    BOOLEAN_CF15            BOOLEAN,
    BOOLEAN_CF16            BOOLEAN,
    BOOLEAN_CF17            BOOLEAN,
    BOOLEAN_CF18            BOOLEAN,
    BOOLEAN_CF19            BOOLEAN,
    BOOLEAN_CF20            BOOLEAN,
    BOOLEAN_CF21            BOOLEAN,
    BOOLEAN_CF22            BOOLEAN,
    BOOLEAN_CF23            BOOLEAN,
    BOOLEAN_CF24            BOOLEAN,
    BOOLEAN_CF25            BOOLEAN,
    BOOLEAN_CF26            BOOLEAN,
    BOOLEAN_CF27            BOOLEAN,
    BOOLEAN_CF28            BOOLEAN,
    BOOLEAN_CF29            BOOLEAN,
    BOOLEAN_CF30            BOOLEAN,
    DATE_CF1                BIGINT,
    DATE_CF2                BIGINT,
    DATE_CF3                BIGINT,
    DATE_CF4                BIGINT,
    DATE_CF5                BIGINT,
    DATE_CF6                BIGINT,
    DATE_CF7                BIGINT,
    DATE_CF8                BIGINT,
    DATE_CF9                BIGINT,
    DATE_CF10               BIGINT,
    DATE_CF11               BIGINT,
    DATE_CF12               BIGINT,
    DATE_CF13               BIGINT,
    DATE_CF14               BIGINT,
    DATE_CF15               BIGINT,
    DATE_CF16               BIGINT,
    DATE_CF17               BIGINT,
    DATE_CF18               BIGINT,
    DATE_CF19               BIGINT,
    DATE_CF20               BIGINT,
    DATE_CF21               BIGINT,
    DATE_CF22               BIGINT,
    DATE_CF23               BIGINT,
    DATE_CF24               BIGINT,
    DATE_CF25               BIGINT,
    DATE_CF26               BIGINT,
    DATE_CF27               BIGINT,
    DATE_CF28               BIGINT,
    DATE_CF29               BIGINT,
    DATE_CF30               BIGINT,
    DATETIME_CF1            BIGINT,
    DATETIME_CF2            BIGINT,
    DATETIME_CF3            BIGINT,
    DATETIME_CF4            BIGINT,
    DATETIME_CF5            BIGINT,
    DATETIME_CF6            BIGINT,
    DATETIME_CF7            BIGINT,
    DATETIME_CF8            BIGINT,
    DATETIME_CF9            BIGINT,
    DATETIME_CF10           BIGINT,
    DATETIME_CF11           BIGINT,
    DATETIME_CF12           BIGINT,
    DATETIME_CF13           BIGINT,
    DATETIME_CF14           BIGINT,
    DATETIME_CF15           BIGINT,
    DATETIME_CF16           BIGINT,
    DATETIME_CF17           BIGINT,
    DATETIME_CF18           BIGINT,
    DATETIME_CF19           BIGINT,
    DATETIME_CF20           BIGINT,
    DATETIME_CF21           BIGINT,
    DATETIME_CF22           BIGINT,
    DATETIME_CF23           BIGINT,
    DATETIME_CF24           BIGINT,
    DATETIME_CF25           BIGINT,
    DATETIME_CF26           BIGINT,
    DATETIME_CF27           BIGINT,
    DATETIME_CF28           BIGINT,
    DATETIME_CF29           BIGINT,
    DATETIME_CF30           BIGINT,
    ENUM_CF1                INTEGER,
    ENUM_CF2                INTEGER,
    ENUM_CF3                INTEGER,
    ENUM_CF4                INTEGER,
    ENUM_CF5                INTEGER,
    ENUM_CF6                INTEGER,
    ENUM_CF7                INTEGER,
    ENUM_CF8                INTEGER,
    ENUM_CF9                INTEGER,
    ENUM_CF10               INTEGER,
    ENUM_CF11               INTEGER,
    ENUM_CF12               INTEGER,
    ENUM_CF13               INTEGER,
    ENUM_CF14               INTEGER,
    ENUM_CF15               INTEGER,
    ENUM_CF16               INTEGER,
    ENUM_CF17               INTEGER,
    ENUM_CF18               INTEGER,
    ENUM_CF19               INTEGER,
    ENUM_CF20               INTEGER,
    ENUM_CF21               INTEGER,
    ENUM_CF22               INTEGER,
    ENUM_CF23               INTEGER,
    ENUM_CF24               INTEGER,
    ENUM_CF25               INTEGER,
    ENUM_CF26               INTEGER,
    ENUM_CF27               INTEGER,
    ENUM_CF28               INTEGER,
    ENUM_CF29               INTEGER,
    ENUM_CF30               INTEGER,
    FILE_CF1                BIGINT,
    FILE_CF2                BIGINT,
    FILE_CF3                BIGINT,
    FILE_CF4                BIGINT,
    FILE_CF5                BIGINT,
    FILE_CF6                BIGINT,
    FILE_CF7                BIGINT,
    FILE_CF8                BIGINT,
    FILE_CF9                BIGINT,
    FILE_CF10               BIGINT,
    FILE_CF11               BIGINT,
    FILE_CF12               BIGINT,
    FILE_CF13               BIGINT,
    FILE_CF14               BIGINT,
    FILE_CF15               BIGINT,
    FILE_CF16               BIGINT,
    FILE_CF17               BIGINT,
    FILE_CF18               BIGINT,
    FILE_CF19               BIGINT,
    FILE_CF20               BIGINT,
    FILE_CF21               BIGINT,
    FILE_CF22               BIGINT,
    FILE_CF23               BIGINT,
    FILE_CF24               BIGINT,
    FILE_CF25               BIGINT,
    FILE_CF26               BIGINT,
    FILE_CF27               BIGINT,
    FILE_CF28               BIGINT,
    FILE_CF29               BIGINT,
    FILE_CF30               BIGINT,
    LOOKUP_CF1              BIGINT,
    LOOKUP_CF2              BIGINT,
    LOOKUP_CF3              BIGINT,
    LOOKUP_CF4              BIGINT,
    LOOKUP_CF5              BIGINT,
    LOOKUP_CF6              BIGINT,
    LOOKUP_CF7              BIGINT,
    LOOKUP_CF8              BIGINT,
    LOOKUP_CF9              BIGINT,
    LOOKUP_CF10             BIGINT,
    LOOKUP_CF11             BIGINT,
    LOOKUP_CF12             BIGINT,
    LOOKUP_CF13             BIGINT,
    LOOKUP_CF14             BIGINT,
    LOOKUP_CF15             BIGINT,
    LOOKUP_CF16             BIGINT,
    LOOKUP_CF17             BIGINT,
    LOOKUP_CF18             BIGINT,
    LOOKUP_CF19             BIGINT,
    LOOKUP_CF20             BIGINT,
    LOOKUP_CF21             BIGINT,
    LOOKUP_CF22             BIGINT,
    LOOKUP_CF23             BIGINT,
    LOOKUP_CF24             BIGINT,
    LOOKUP_CF25             BIGINT,
    LOOKUP_CF26             BIGINT,
    LOOKUP_CF27             BIGINT,
    LOOKUP_CF28             BIGINT,
    LOOKUP_CF29             BIGINT,
    LOOKUP_CF30             BIGINT,
    SCORE_CF1               DOUBLE,
    SCORE_CF2               DOUBLE,
    SCORE_CF3               DOUBLE,
    SCORE_CF4               DOUBLE,
    SCORE_CF5               DOUBLE,
    SCORE_CF6               DOUBLE,
    SCORE_CF7               DOUBLE,
    SCORE_CF8               DOUBLE,
    SCORE_CF9               DOUBLE,
    SCORE_CF10              DOUBLE,
    SCORE_CF11              DOUBLE,
    SCORE_CF12              DOUBLE,
    SCORE_CF13              DOUBLE,
    SCORE_CF14              DOUBLE,
    SCORE_CF15              DOUBLE,
    SCORE_CF16              DOUBLE,
    SCORE_CF17              DOUBLE,
    SCORE_CF18              DOUBLE,
    SCORE_CF19              DOUBLE,
    SCORE_CF20              DOUBLE,
    SCORE_CF21              DOUBLE,
    SCORE_CF22              DOUBLE,
    SCORE_CF23              DOUBLE,
    SCORE_CF24              DOUBLE,
    SCORE_CF25              DOUBLE,
    SCORE_CF26              DOUBLE,
    SCORE_CF27              DOUBLE,
    SCORE_CF28              DOUBLE,
    SCORE_CF29              DOUBLE,
    SCORE_CF30              DOUBLE,
    CONSTRAINT Facility_FK_MANAGER FOREIGN KEY (MANAGER) REFERENCES People (ID),
    CONSTRAINT Facility_FK_PARENT_MODULE_ID FOREIGN KEY (PARENT_MODULE_ID) REFERENCES Modules (MODULEID),
    CONSTRAINT Facility_FK_LOCATION_ID FOREIGN KEY (LOCATION_ID) REFERENCES BaseSpace (ID),
    CONSTRAINT Facility_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL,
    CONSTRAINT Facility_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
    CONSTRAINT Facility_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Facility_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
    CONSTRAINT Facility_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID)

);


CREATE TABLE IF NOT EXISTS Amenities
(
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT,
    NAME VARCHAR(200),
    CATEGORY INTEGER,
    DESCRIPTION VARCHAR(500),
    FORM_ID           BIGINT,
    MODULEID         BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    STRING_CF1        VARCHAR(255),
    STRING_CF2        VARCHAR(255),
    STRING_CF3        VARCHAR(255),
    STRING_CF4        VARCHAR(255),
    STRING_CF5        VARCHAR(255),
    STRING_CF6        VARCHAR(255),
    STRING_CF7        VARCHAR(255),
    STRING_CF8        VARCHAR(255),
    STRING_CF9        VARCHAR(255),
    STRING_CF10        VARCHAR(255),
    NUMBER_CF1        BIGINT,
    NUMBER_CF2        BIGINT,
    NUMBER_CF3        BIGINT,
    NUMBER_CF4        BIGINT,
    NUMBER_CF5        BIGINT,
    NUMBER_CF6        BIGINT,
    NUMBER_CF7        BIGINT,
    NUMBER_CF8        BIGINT,
    NUMBER_CF9        BIGINT,
    NUMBER_CF10        BIGINT,
    DECIMAL_CF1       DOUBLE,
    DECIMAL_CF2       DOUBLE,
    DECIMAL_CF3       DOUBLE,
    DECIMAL_CF4       DOUBLE,
    DECIMAL_CF5       DOUBLE,
    DECIMAL_CF6       DOUBLE,
    DECIMAL_CF7       DOUBLE,
    DECIMAL_CF8       DOUBLE,
    DECIMAL_CF9       DOUBLE,
    DECIMAL_CF10       DOUBLE,
    BOOLEAN_CF1       BOOLEAN,
    BOOLEAN_CF2       BOOLEAN,
    BOOLEAN_CF3       BOOLEAN,
    BOOLEAN_CF4       BOOLEAN,
    BOOLEAN_CF5       BOOLEAN,
    BOOLEAN_CF6       BOOLEAN,
    BOOLEAN_CF7       BOOLEAN,
    BOOLEAN_CF8       BOOLEAN,
    BOOLEAN_CF9       BOOLEAN,
    BOOLEAN_CF10       BOOLEAN,
    DATE_CF1          BIGINT,
    DATE_CF2          BIGINT,
    DATE_CF3          BIGINT,
    DATE_CF4          BIGINT,
    DATE_CF5          BIGINT,
    DATE_CF6          BIGINT,
    DATE_CF7          BIGINT,
    DATE_CF8          BIGINT,
    DATE_CF9          BIGINT,
    DATE_CF10          BIGINT,
    DATETIME_CF1      BIGINT,
    DATETIME_CF2      BIGINT,
    DATETIME_CF3      BIGINT,
    DATETIME_CF4      BIGINT,
    DATETIME_CF5      BIGINT,
    DATETIME_CF6      BIGINT,
    DATETIME_CF7      BIGINT,
    DATETIME_CF8      BIGINT,
    DATETIME_CF9      BIGINT,
    DATETIME_CF10      BIGINT,
    ENUM_CF1          INT,
    ENUM_CF2          INT,
    ENUM_CF3          INT,
    ENUM_CF4          INT,
    ENUM_CF5          INT,
    ENUM_CF6          INT,
    ENUM_CF7          INT,
    ENUM_CF8          INT,
    ENUM_CF9          INT,
    ENUM_CF10          INT,
    LOOKUP_CF1        BIGINT,
    LOOKUP_CF2        BIGINT,
    LOOKUP_CF3        BIGINT,
    LOOKUP_CF4        BIGINT,
    LOOKUP_CF5        BIGINT,
    LOOKUP_CF6        BIGINT,
    LOOKUP_CF7        BIGINT,
    LOOKUP_CF8        BIGINT,
    LOOKUP_CF9        BIGINT,
    LOOKUP_CF10        BIGINT,
    CONSTRAINT Amenities_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Amenities_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Amenities_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Amenities_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Amenities_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID) ON DELETE SET NULL

);


CREATE TABLE IF NOT EXISTS Facility_Amenities
(
    ID             BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID          BIGINT NOT NULL,
    MODULEID       BIGINT NOT NULL,
    AMENITY_ID     BIGINT,
    FACILITY_ID    BIGINT,
    SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    CONSTRAINT Facility_Amenities_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Facility_Amenities_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Amenities_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Amenities_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Amenities_FK_AMENITY_ID FOREIGN KEY (AMENITY_ID) REFERENCES Amenities (ID) ON DELETE CASCADE,
    CONSTRAINT Facility_Amenities_FK_FACILITY_ID FOREIGN KEY (FACILITY_ID) REFERENCES Facility (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS FacilityAttachments
(
    ID              BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID           BIGINT NOT NULL,
    MODULEID        BIGINT NOT NULL,
    PARENT          BIGINT,
    PARENT_ID       BIGINT,
    CREATED_TIME    BIGINT NOT NULL,
    FILE_ID         BIGINT NOT NULL,
    ATTACHMENT_TYPE TINYINT,
    CONSTRAINT FacilityAttachments_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT FacilityAttachments_FK_PARENT FOREIGN KEY (PARENT) REFERENCES Facility (ID) ON DELETE CASCADE,
    CONSTRAINT FacilityAttachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID)
);

CREATE TABLE IF NOT EXISTS FacilityNotes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT FacilityNotes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT FacilityNotes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT FacilityNotes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES Facility (ID) ON DELETE CASCADE
);



CREATE TABLE IF NOT EXISTS Facility_WeekDay_Availability
(
    ID             BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID          BIGINT NOT NULL,
    MODULEID       BIGINT NOT NULL,
    FACILITY_ID    BIGINT,
    DAY_OF_WEEK    INTEGER,
    START_TIME     TIME NOT NULL,
	END_TIME       TIME NOT NULL,
	START_DATE     BIGINT,
	END_DATE       BIGINT,
	COST           DOUBLE,
	SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    CONSTRAINT Facility_WeekDay_Availability_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_WeekDay_Availability_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_WeekDay_Availability_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_WeekDay_Availability_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Facility_WeekDay_Availability_FK_FACILITY_ID FOREIGN KEY (FACILITY_ID) REFERENCES Facility (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Facility_Special_Availability
(
    ID             BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID          BIGINT NOT NULL,
    MODULEID       BIGINT NOT NULL,
    FACILITY_ID    BIGINT,
    START_DATE     BIGINT NOT NULL,
    END_DATE       BIGINT NOT NULL,
    START_TIME     TIME NULL,
	END_TIME       TIME NULL,
	COST           DOUBLE,
	SPECIAL_TYPE   TINYINT,
	SYS_DELETED       TINYINT,
    SYS_DELETED_TIME  BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_DELETED_BY    BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    CONSTRAINT Facility_Special_Availability_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Special_Availability_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Special_Availability_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Special_Availability_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Facility_Special_Availability_FK_FACILITY_ID FOREIGN KEY (FACILITY_ID) REFERENCES Facility (ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS Slots (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT NOT NULL,
    START_TIME BIGINT NOT NULL,
    END_TIME BIGINT NOT NULL,
    COST DOUBLE,
    FACILITY_ID BIGINT,
    BOOKING_COUNT BIGINT,
    SYS_DELETED TINYINT,
    SYS_DELETED_TIME BIGINT,
    SYS_DELETED_BY BIGINT,
    CONSTRAINT Slots_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID)
);


CREATE TABLE IF NOT EXISTS FacilityBooking (
   ID BIGINT PRIMARY KEY AUTO_INCREMENT,
   ORGID BIGINT NOT NULL,
   MODULEID BIGINT NOT NULL,
   SITE_ID BIGINT,
   FORM_ID BIGINT,
   SYS_DELETED       TINYINT,
   SYS_DELETED_TIME  BIGINT,
   SYS_CREATED_TIME  BIGINT,
   SYS_MODIFIED_TIME BIGINT,
   SYS_DELETED_BY    BIGINT,
   SYS_CREATED_BY    BIGINT,
   SYS_MODIFIED_BY   BIGINT,
   NAME VARCHAR(255) NOT NULL,
   DESCRIPTION VARCHAR(1000),
   RESERVED_FOR BIGINT NOT NULL,
   NO_OF_ATTENDEES INT,
   LOCAL_ID BIGINT NOT NULL,
   FACILITY_ID BIGINT,
   MODULE_STATE      BIGINT,
    STATE_FLOW_ID     BIGINT,
    APPROVAL_FLOW_ID  BIGINT,
    APPROVAL_STATE    BIGINT,
    IS_CANCELLED      TINYINT,
    CAN_EDIT          TINYINT,
    BOOKING_AMOUNT    DOUBLE,
    STRING_CF1              VARCHAR(255),
    STRING_CF2              VARCHAR(255),
    STRING_CF3              VARCHAR(255),
    STRING_CF4              VARCHAR(255),
    STRING_CF5              VARCHAR(255),
    STRING_CF6              VARCHAR(255),
    STRING_CF7              VARCHAR(255),
    STRING_CF8              VARCHAR(255),
    STRING_CF9              VARCHAR(255),
    STRING_CF10             VARCHAR(255),
    STRING_CF11             VARCHAR(255),
    STRING_CF12             VARCHAR(255),
    STRING_CF13             VARCHAR(255),
    STRING_CF14             VARCHAR(255),
    STRING_CF15             VARCHAR(255),
    STRING_CF16             VARCHAR(255),
    STRING_CF17             VARCHAR(255),
    STRING_CF18             VARCHAR(255),
    STRING_CF19             VARCHAR(255),
    STRING_CF20             VARCHAR(255),
    STRING_CF21             VARCHAR(255),
    STRING_CF22             VARCHAR(255),
    STRING_CF23             VARCHAR(255),
    STRING_CF24             VARCHAR(255),
    STRING_CF25             VARCHAR(255),
    STRING_CF26             VARCHAR(255),
    STRING_CF27             VARCHAR(255),
    STRING_CF28             VARCHAR(255),
    STRING_CF29             VARCHAR(255),
    STRING_CF30             VARCHAR(255),
    NUMBER_CF1              BIGINT,
    NUMBER_CF2              BIGINT,
    NUMBER_CF3              BIGINT,
    NUMBER_CF4              BIGINT,
    NUMBER_CF5              BIGINT,
    NUMBER_CF6              BIGINT,
    NUMBER_CF7              BIGINT,
    NUMBER_CF8              BIGINT,
    NUMBER_CF9              BIGINT,
    NUMBER_CF10             BIGINT,
    NUMBER_CF11             BIGINT,
    NUMBER_CF12             BIGINT,
    NUMBER_CF13             BIGINT,
    NUMBER_CF14             BIGINT,
    NUMBER_CF15             BIGINT,
    NUMBER_CF16             BIGINT,
    NUMBER_CF17             BIGINT,
    NUMBER_CF18             BIGINT,
    NUMBER_CF19             BIGINT,
    NUMBER_CF20             BIGINT,
    NUMBER_CF21             BIGINT,
    NUMBER_CF22             BIGINT,
    NUMBER_CF23             BIGINT,
    NUMBER_CF24             BIGINT,
    NUMBER_CF25             BIGINT,
    NUMBER_CF26             BIGINT,
    NUMBER_CF27             BIGINT,
    NUMBER_CF28             BIGINT,
    NUMBER_CF29             BIGINT,
    NUMBER_CF30             BIGINT,
    DECIMAL_CF1             DOUBLE,
    DECIMAL_CF2             DOUBLE,
    DECIMAL_CF3             DOUBLE,
    DECIMAL_CF4             DOUBLE,
    DECIMAL_CF5             DOUBLE,
    DECIMAL_CF6             DOUBLE,
    DECIMAL_CF7             DOUBLE,
    DECIMAL_CF8             DOUBLE,
    DECIMAL_CF9             DOUBLE,
    DECIMAL_CF10            DOUBLE,
    DECIMAL_CF11            DOUBLE,
    DECIMAL_CF12            DOUBLE,
    DECIMAL_CF13            DOUBLE,
    DECIMAL_CF14            DOUBLE,
    DECIMAL_CF15            DOUBLE,
    DECIMAL_CF16            DOUBLE,
    DECIMAL_CF17            DOUBLE,
    DECIMAL_CF18            DOUBLE,
    DECIMAL_CF19            DOUBLE,
    DECIMAL_CF20            DOUBLE,
    DECIMAL_CF21            DOUBLE,
    DECIMAL_CF22            DOUBLE,
    DECIMAL_CF23            DOUBLE,
    DECIMAL_CF24            DOUBLE,
    DECIMAL_CF25            DOUBLE,
    DECIMAL_CF26            DOUBLE,
    DECIMAL_CF27            DOUBLE,
    DECIMAL_CF28            DOUBLE,
    DECIMAL_CF29            DOUBLE,
    DECIMAL_CF30            DOUBLE,
    BOOLEAN_CF1             BOOLEAN,
    BOOLEAN_CF2             BOOLEAN,
    BOOLEAN_CF3             BOOLEAN,
    BOOLEAN_CF4             BOOLEAN,
    BOOLEAN_CF5             BOOLEAN,
    BOOLEAN_CF6             BOOLEAN,
    BOOLEAN_CF7             BOOLEAN,
    BOOLEAN_CF8             BOOLEAN,
    BOOLEAN_CF9             BOOLEAN,
    BOOLEAN_CF10            BOOLEAN,
    BOOLEAN_CF11            BOOLEAN,
    BOOLEAN_CF12            BOOLEAN,
    BOOLEAN_CF13            BOOLEAN,
    BOOLEAN_CF14            BOOLEAN,
    BOOLEAN_CF15            BOOLEAN,
    BOOLEAN_CF16            BOOLEAN,
    BOOLEAN_CF17            BOOLEAN,
    BOOLEAN_CF18            BOOLEAN,
    BOOLEAN_CF19            BOOLEAN,
    BOOLEAN_CF20            BOOLEAN,
    BOOLEAN_CF21            BOOLEAN,
    BOOLEAN_CF22            BOOLEAN,
    BOOLEAN_CF23            BOOLEAN,
    BOOLEAN_CF24            BOOLEAN,
    BOOLEAN_CF25            BOOLEAN,
    BOOLEAN_CF26            BOOLEAN,
    BOOLEAN_CF27            BOOLEAN,
    BOOLEAN_CF28            BOOLEAN,
    BOOLEAN_CF29            BOOLEAN,
    BOOLEAN_CF30            BOOLEAN,
    DATE_CF1                BIGINT,
    DATE_CF2                BIGINT,
    DATE_CF3                BIGINT,
    DATE_CF4                BIGINT,
    DATE_CF5                BIGINT,
    DATE_CF6                BIGINT,
    DATE_CF7                BIGINT,
    DATE_CF8                BIGINT,
    DATE_CF9                BIGINT,
    DATE_CF10               BIGINT,
    DATE_CF11               BIGINT,
    DATE_CF12               BIGINT,
    DATE_CF13               BIGINT,
    DATE_CF14               BIGINT,
    DATE_CF15               BIGINT,
    DATE_CF16               BIGINT,
    DATE_CF17               BIGINT,
    DATE_CF18               BIGINT,
    DATE_CF19               BIGINT,
    DATE_CF20               BIGINT,
    DATE_CF21               BIGINT,
    DATE_CF22               BIGINT,
    DATE_CF23               BIGINT,
    DATE_CF24               BIGINT,
    DATE_CF25               BIGINT,
    DATE_CF26               BIGINT,
    DATE_CF27               BIGINT,
    DATE_CF28               BIGINT,
    DATE_CF29               BIGINT,
    DATE_CF30               BIGINT,
    DATETIME_CF1            BIGINT,
    DATETIME_CF2            BIGINT,
    DATETIME_CF3            BIGINT,
    DATETIME_CF4            BIGINT,
    DATETIME_CF5            BIGINT,
    DATETIME_CF6            BIGINT,
    DATETIME_CF7            BIGINT,
    DATETIME_CF8            BIGINT,
    DATETIME_CF9            BIGINT,
    DATETIME_CF10           BIGINT,
    DATETIME_CF11           BIGINT,
    DATETIME_CF12           BIGINT,
    DATETIME_CF13           BIGINT,
    DATETIME_CF14           BIGINT,
    DATETIME_CF15           BIGINT,
    DATETIME_CF16           BIGINT,
    DATETIME_CF17           BIGINT,
    DATETIME_CF18           BIGINT,
    DATETIME_CF19           BIGINT,
    DATETIME_CF20           BIGINT,
    DATETIME_CF21           BIGINT,
    DATETIME_CF22           BIGINT,
    DATETIME_CF23           BIGINT,
    DATETIME_CF24           BIGINT,
    DATETIME_CF25           BIGINT,
    DATETIME_CF26           BIGINT,
    DATETIME_CF27           BIGINT,
    DATETIME_CF28           BIGINT,
    DATETIME_CF29           BIGINT,
    DATETIME_CF30           BIGINT,
    ENUM_CF1                INTEGER,
    ENUM_CF2                INTEGER,
    ENUM_CF3                INTEGER,
    ENUM_CF4                INTEGER,
    ENUM_CF5                INTEGER,
    ENUM_CF6                INTEGER,
    ENUM_CF7                INTEGER,
    ENUM_CF8                INTEGER,
    ENUM_CF9                INTEGER,
    ENUM_CF10               INTEGER,
    ENUM_CF11               INTEGER,
    ENUM_CF12               INTEGER,
    ENUM_CF13               INTEGER,
    ENUM_CF14               INTEGER,
    ENUM_CF15               INTEGER,
    ENUM_CF16               INTEGER,
    ENUM_CF17               INTEGER,
    ENUM_CF18               INTEGER,
    ENUM_CF19               INTEGER,
    ENUM_CF20               INTEGER,
    ENUM_CF21               INTEGER,
    ENUM_CF22               INTEGER,
    ENUM_CF23               INTEGER,
    ENUM_CF24               INTEGER,
    ENUM_CF25               INTEGER,
    ENUM_CF26               INTEGER,
    ENUM_CF27               INTEGER,
    ENUM_CF28               INTEGER,
    ENUM_CF29               INTEGER,
    ENUM_CF30               INTEGER,
    FILE_CF1                BIGINT,
    FILE_CF2                BIGINT,
    FILE_CF3                BIGINT,
    FILE_CF4                BIGINT,
    FILE_CF5                BIGINT,
    FILE_CF6                BIGINT,
    FILE_CF7                BIGINT,
    FILE_CF8                BIGINT,
    FILE_CF9                BIGINT,
    FILE_CF10               BIGINT,
    FILE_CF11               BIGINT,
    FILE_CF12               BIGINT,
    FILE_CF13               BIGINT,
    FILE_CF14               BIGINT,
    FILE_CF15               BIGINT,
    FILE_CF16               BIGINT,
    FILE_CF17               BIGINT,
    FILE_CF18               BIGINT,
    FILE_CF19               BIGINT,
    FILE_CF20               BIGINT,
    FILE_CF21               BIGINT,
    FILE_CF22               BIGINT,
    FILE_CF23               BIGINT,
    FILE_CF24               BIGINT,
    FILE_CF25               BIGINT,
    FILE_CF26               BIGINT,
    FILE_CF27               BIGINT,
    FILE_CF28               BIGINT,
    FILE_CF29               BIGINT,
    FILE_CF30               BIGINT,
    LOOKUP_CF1              BIGINT,
    LOOKUP_CF2              BIGINT,
    LOOKUP_CF3              BIGINT,
    LOOKUP_CF4              BIGINT,
    LOOKUP_CF5              BIGINT,
    LOOKUP_CF6              BIGINT,
    LOOKUP_CF7              BIGINT,
    LOOKUP_CF8              BIGINT,
    LOOKUP_CF9              BIGINT,
    LOOKUP_CF10             BIGINT,
    LOOKUP_CF11             BIGINT,
    LOOKUP_CF12             BIGINT,
    LOOKUP_CF13             BIGINT,
    LOOKUP_CF14             BIGINT,
    LOOKUP_CF15             BIGINT,
    LOOKUP_CF16             BIGINT,
    LOOKUP_CF17             BIGINT,
    LOOKUP_CF18             BIGINT,
    LOOKUP_CF19             BIGINT,
    LOOKUP_CF20             BIGINT,
    LOOKUP_CF21             BIGINT,
    LOOKUP_CF22             BIGINT,
    LOOKUP_CF23             BIGINT,
    LOOKUP_CF24             BIGINT,
    LOOKUP_CF25             BIGINT,
    LOOKUP_CF26             BIGINT,
    LOOKUP_CF27             BIGINT,
    LOOKUP_CF28             BIGINT,
    LOOKUP_CF29             BIGINT,
    LOOKUP_CF30             BIGINT,
    SCORE_CF1               DOUBLE,
    SCORE_CF2               DOUBLE,
    SCORE_CF3               DOUBLE,
    SCORE_CF4               DOUBLE,
    SCORE_CF5               DOUBLE,
    SCORE_CF6               DOUBLE,
    SCORE_CF7               DOUBLE,
    SCORE_CF8               DOUBLE,
    SCORE_CF9               DOUBLE,
    SCORE_CF10              DOUBLE,
    SCORE_CF11              DOUBLE,
    SCORE_CF12              DOUBLE,
    SCORE_CF13              DOUBLE,
    SCORE_CF14              DOUBLE,
    SCORE_CF15              DOUBLE,
    SCORE_CF16              DOUBLE,
    SCORE_CF17              DOUBLE,
    SCORE_CF18              DOUBLE,
    SCORE_CF19              DOUBLE,
    SCORE_CF20              DOUBLE,
    SCORE_CF21              DOUBLE,
    SCORE_CF22              DOUBLE,
    SCORE_CF23              DOUBLE,
    SCORE_CF24              DOUBLE,
    SCORE_CF25              DOUBLE,
    SCORE_CF26              DOUBLE,
    SCORE_CF27              DOUBLE,
    SCORE_CF28              DOUBLE,
    SCORE_CF29              DOUBLE,
    SCORE_CF30              DOUBLE,
   CONSTRAINT FacilityBooking_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
   CONSTRAINT FacilityBooking_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
   CONSTRAINT FacilityBooking_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID),
   CONSTRAINT FacilityBooking_FK_STATEFLOWID FOREIGN KEY (STATE_FLOW_ID) REFERENCES StateFlow (ID),
   CONSTRAINT FacilityBooking_FK_MODULESTATE_ID FOREIGN KEY (MODULE_STATE) REFERENCES TicketStatus (ID),
   CONSTRAINT FacilityBooking_FK_APPROVALSTATE_ID FOREIGN KEY (APPROVAL_STATE) REFERENCES TicketStatus (ID),
   CONSTRAINT FacilityBooking_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT FacilityBooking_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT FacilityBooking_FK_SYS_DELETED_BY FOREIGN KEY (SYS_DELETED_BY) REFERENCES ORG_Users(ORG_USERID),
   CONSTRAINT FacilityBooking_FK_RESERVED_FOR FOREIGN KEY (RESERVED_FOR) REFERENCES People(ID),
   CONSTRAINT FacilityBooking_FK_FACILITY_ID FOREIGN KEY (FACILITY_ID) REFERENCES Facility(ID)

);

CREATE TABLE IF NOT EXISTS FacilityBooking_Internal_Attendees (
    ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
    ORGID             BIGINT NOT NULL,
    MODULEID          BIGINT NOT NULL,
    SITE_ID           BIGINT,
    SYS_CREATED_TIME  BIGINT,
    SYS_MODIFIED_TIME BIGINT,
    SYS_CREATED_BY    BIGINT,
    SYS_MODIFIED_BY   BIGINT,
    FACILITY_BOOKING       BIGINT NOT NULL,
    ATTENDEE_TYPE       INTEGER,
    ATTENDEE          BIGINT NOT NULL,
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_ATTENDEE_PEOPLE FOREIGN KEY (ATTENDEE) REFERENCES People(ID),
    CONSTRAINT FacilityBooking_Internal_Attendees_FK_BOOKING FOREIGN KEY (FACILITY_BOOKING) REFERENCES FacilityBooking(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS FacilityBooking_External_Attendees (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      SYS_CREATED_TIME  BIGINT,
      SYS_MODIFIED_TIME BIGINT,
      SYS_CREATED_BY    BIGINT,
      SYS_MODIFIED_BY   BIGINT,
      FACILITY_BOOKING       BIGINT NOT NULL,
      NAME              VARCHAR(255) NOT NULL,
      EMAIL             VARCHAR(255),
      PHONE             VARCHAR(50),
      CONSTRAINT FacilityBooking_External_Attendees_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT FacilityBooking_External_Attendees_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT FacilityBooking_External_Attendees_FK_SYS_CREATED_BY FOREIGN KEY (SYS_CREATED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT FacilityBooking_External_Attendees_FK_SYS_MODIFIED_BY FOREIGN KEY (SYS_MODIFIED_BY) REFERENCES ORG_Users(ORG_USERID),
      CONSTRAINT FacilityBooking_External_Attendees_FK_BOOKING FOREIGN KEY (FACILITY_BOOKING) REFERENCES FacilityBooking(ID) ON DELETE CASCADE
);


CREATE TABLE IF NOT EXISTS FacilityBooking_Slots (
      ID                BIGINT PRIMARY KEY AUTO_INCREMENT,
      ORGID             BIGINT NOT NULL,
      MODULEID          BIGINT NOT NULL,
      SITE_ID           BIGINT,
      FACILITY_BOOKING       BIGINT NOT NULL,
      SLOT_ID           BIGINT NOT NULL,
      CONSTRAINT FacilityBooking_Slots_FK_MODULE_ID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
      CONSTRAINT FacilityBooking_Slots_FK_SITE_ID FOREIGN KEY (SITE_ID) REFERENCES Site (ID),
      CONSTRAINT FacilityBooking_Slots_FK_SLOT_ID FOREIGN KEY (SLOT_ID) REFERENCES Slots (ID) ON DELETE CASCADE,
      CONSTRAINT FacilityBooking_Slots_FK_BOOKING FOREIGN KEY (FACILITY_BOOKING) REFERENCES FacilityBooking(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Facility_Booking_Attachments (
     ID BIGINT AUTO_INCREMENT PRIMARY KEY,
     ORGID BIGINT NOT NULL,
     MODULEID BIGINT NOT NULL,
     PARENT BIGINT NOT NULL,
     CREATED_TIME BIGINT NOT NULL,
     FILE_ID BIGINT NOT NULL,
     CONSTRAINT Facility_Booking_Attachments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
     CONSTRAINT Facility_Booking_Attachments_FK_FILE_ID FOREIGN KEY (FILE_ID) REFERENCES FacilioFile (FILE_ID),
     CONSTRAINT Facility_Booking_Attachments_FK_PARENT_ID FOREIGN KEY (PARENT) REFERENCES FacilityBooking (ID)
);

CREATE TABLE IF NOT EXISTS Facility_Booking_Notes
(
    ID               BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID            BIGINT,
    MODULEID         BIGINT        NOT NULL,
    CREATED_BY       BIGINT,
    CREATED_TIME     BIGINT,
    PARENT_ID        BIGINT        NOT NULL,
    TITLE            VARCHAR(50),
    BODY             VARCHAR(1000) NOT NULL,
    NOTIFY_REQUESTER BOOLEAN,
    CONSTRAINT Facility_Booking_Notes_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID),
    CONSTRAINT Facility_Booking_Notes_FK_CREATED_BY_ID FOREIGN KEY (CREATED_BY) REFERENCES ORG_Users (ORG_USERID),
    CONSTRAINT Facility_Booking_Notes_FK_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES FacilityBooking (ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS Facility_Booking_Payments (
    ID BIGINT AUTO_INCREMENT PRIMARY KEY,
    ORGID BIGINT NOT NULL,
    MODULEID BIGINT NOT NULL,
    FACILITY_BOOKING_ID BIGINT,
    PAYMENT_STATUS  TINYINT,
    PAYMENT_MODE    TINYINT,
    PAYMENT_DATE    BIGINT,
    AMOUNT DOUBLE,
    CONSTRAINT Facility_Booking_Payments_FK_MODULEID FOREIGN KEY (MODULEID) REFERENCES Modules(MODULEID),
    CONSTRAINT Facility_Booking_Payments_FK_BOOKING_ID FOREIGN KEY (FACILITY_BOOKING_ID) REFERENCES FacilityBooking(ID)
);

 CREATE TABLE IF NOT EXISTS  `Control_Schedule` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `NAME` VARCHAR(100) NOT NULL,
  `BUSINESS_HOUR_ID` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Schedule_FK_Business_Hour`
    FOREIGN KEY (`BUSINESS_HOUR_ID`)
    REFERENCES `BusinessHours` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_fk_module_id`
  FOREIGN KEY (`MODULEID`)
  REFERENCES  `Modules` (`MODULEID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT Control_Schedule_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);


 CREATE TABLE IF NOT EXISTS  `Control_Schedule_Exceptions` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(100) NULL,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `TYPE` INT NOT NULL,
  `OFF_SCHEDULE` BOOLEAN null,
  `START_SCHEDULE_JSON` VARCHAR(1000) NULL,
  `END_SCHEDULE_JSON` VARCHAR(1000) NULL,
  `START_TIME` BIGINT NULL,
  `END_TIME` BIGINT NULL,
  `EXCLUDE_PARENT_SCHEDULE` TINYINT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Schedule_Exceptions_fk_module_id`
  FOREIGN KEY (`MODULEID`)
  REFERENCES  `Modules` (`MODULEID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT Control_Schedule_Exceptions_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);

  CREATE TABLE `bmslocal`.`Control_Schedule_vs_Exception` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `SCHEDULE_ID` BIGINT NOT NULL,
  `EXCEPTION_ID` BIGINT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `Control_Schedule_vs_Exception_schedule_id_idx` (`SCHEDULE_ID` ASC) VISIBLE,
  INDEX `Control_Schedule_vs_Exception_exception_id_idx` (`EXCEPTION_ID` ASC) VISIBLE,
  CONSTRAINT `Control_Schedule_vs_Exception_schedule_id`
    FOREIGN KEY (`SCHEDULE_ID`)
    REFERENCES `bmslocal`.`Control_Schedule` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_vs_Exception_exception_id`
    FOREIGN KEY (`EXCEPTION_ID`)
    REFERENCES `bmslocal`.`Control_Schedule_Exceptions` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION);

   CREATE TABLE IF NOT EXISTS  `Control_Group_V2` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(100) NOT NULL,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `SITE` BIGINT NULL,
  `SPACE` BIGINT NULL,
  `CONTROL_SCHEDULE` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Group_V2_moduleid`
    FOREIGN KEY (`MODULEID`)
    REFERENCES  `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_siteid`
    FOREIGN KEY (`SITE`)
    REFERENCES  `Site` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_spaceid`
    FOREIGN KEY (`SPACE`)
    REFERENCES  `BaseSpace` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_control_schedule`
    FOREIGN KEY (`CONTROL_SCHEDULE`)
    REFERENCES  `Control_Schedule` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    CONSTRAINT Control_Group_V2_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);
    
    
 CREATE TABLE `Control_Group_V2_Section` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `NAME` VARCHAR(100) NOT NULL,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `CONTROL_GROUP` BIGINT(20) NOT NULL,
  `TYPE` INT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  INDEX `Control_Group_V2_Section_module_id_idx` (`MODULEID` ASC) VISIBLE,
  INDEX `Control_Group_V2_Section_form_id_idx` (`FORM_ID` ASC) VISIBLE,
  CONSTRAINT `Control_Group_V2_Section_module_id`
    FOREIGN KEY (`MODULEID`)
    REFERENCES `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Section_form_id`
    FOREIGN KEY (`FORM_ID`)
    REFERENCES `Forms` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Section_group_id`
    FOREIGN KEY (`CONTROL_GROUP`)
    REFERENCES `Control_Group_V2` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION);


 CREATE TABLE IF NOT EXISTS  `Control_Group_V2_Asset_Category` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `NAME` VARCHAR(100) NULL,
  `CONTROL_GROUP_SECTION` BIGINT NOT NULL,
  `CONTROL_GROUP` BIGINT NOT NULL,
  `ASSET_CATEGORY` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  INDEX `Control_Group_Assets_Category_module_id_idx` (`MODULEID` ASC) VISIBLE,
  INDEX `Control_Group_Assets_Category_control_group_v2_idx` (`CONTROL_GROUP` ASC) VISIBLE,
  INDEX `Control_Group_Assets_Category_asset_category_id_idx` (`ASSET_CATEGORY` ASC) VISIBLE,
  CONSTRAINT `Control_Group_Assets_Category_module_id`
    FOREIGN KEY (`MODULEID`)
    REFERENCES  `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_Assets_Category_control_group_v2`
    FOREIGN KEY (`CONTROL_GROUP`)
    REFERENCES  `Control_Group_V2` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Asset_Category_section_id`
  	FOREIGN KEY (`CONTROL_GROUP_SECTION`)
  	REFERENCES `Control_Group_V2_Section` (`ID`)
  	ON DELETE CASCADE
  	ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_Assets_Category_asset_category_id`
    FOREIGN KEY (`ASSET_CATEGORY`)
    REFERENCES  `Asset_Categories` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    CONSTRAINT Control_Group_V2_Assets_Category_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);

 CREATE TABLE IF NOT EXISTS  `Control_Group_V2_Asset` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `NAME` VARCHAR(100) NULL,
  `CONTROL_GROUP` BIGINT NOT NULL,
  `CONTROL_GROUP_ASSET_CATEGORY` BIGINT NOT NULL,
  `ASSET_ID` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Group_V2_Asset_module_id`
    FOREIGN KEY (`MODULEID`)
    REFERENCES  `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Asset_control_group_v2`
    FOREIGN KEY (`CONTROL_GROUP`)
    REFERENCES  `Control_Group_V2` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Asset_control_group_asset_category_v2`
    FOREIGN KEY (`CONTROL_GROUP_ASSET_CATEGORY`)
    REFERENCES  `Control_Group_V2_Asset_Category` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_v2_asset_id_asset`
    FOREIGN KEY (`ASSET_ID`)
    REFERENCES  `Resources` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
    CONSTRAINT Control_Group_V2_Assets_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);

 CREATE TABLE IF NOT EXISTS  `Control_Group_V2_Routine` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `NAME` VARCHAR(100) NULL,
  `CONTROL_GROUP` BIGINT NOT NULL,
  `SCHEDULE_JSON` VARCHAR(1000) NOT NULL,
  `SEQUENCE` INT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Group_V2_Routine_module_id`
    FOREIGN KEY (`MODULEID`)
    REFERENCES  `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Routine_control_group_v2`
    FOREIGN KEY (`CONTROL_GROUP`)
    REFERENCES  `Control_Group_V2` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
    CONSTRAINT Control_Group_V2_Routine_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);
    
 CREATE TABLE `Control_Group_V2_Routine_Section` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `NAME` VARCHAR(250) NOT NULL,
  `CONTROL_ROUTINE` BIGINT NOT NULL,
  `CONTROL_SECTION` BIGINT NOT NULL,
  `CONTROL_CATEGORY` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  INDEX `Control_Group_Routine_Section_routineId_idx` (`CONTROL_ROUTINE` ASC) VISIBLE,
  INDEX `Control_Group_V2_Routine_Section_category_id_idx` (`CONTROL_CATEGORY` ASC) VISIBLE,
  INDEX `Control_Group_Routine_Section_section_id_idx` (`CONTROL_SECTION` ASC) VISIBLE,
  CONSTRAINT `Control_Group_Routine_Section_routineId`
    FOREIGN KEY (`CONTROL_ROUTINE`)
    REFERENCES `Control_Group_V2_Routine` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_Routine_Section_section_id`
    FOREIGN KEY (`CONTROL_SECTION`)
    REFERENCES `Control_Group_V2_Section` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Routine_Section_category_id`
    FOREIGN KEY (`CONTROL_CATEGORY`)
    REFERENCES `Control_Group_V2_Asset_Category` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION);

 CREATE TABLE IF NOT EXISTS  `Control_Group_V2_Field` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `TYPE` INT NOT NULL,
  `NAME` VARCHAR(100) NULL,
  `CONTROL_GROUP` BIGINT NOT NULL,
  `CONTROL_GROUP_ASSET` BIGINT NOT NULL,
  `ROUTINE_ID` BIGINT NULL,
  `ROUTINE_SECTION_ID` BIGINT NULL,
  `FIELD_ID` BIGINT NOT NULL,
  `TRUE_VAL` VARCHAR(100) NULL,
  `FALSE_VAL` VARCHAR(100) NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Group_V2_field_module_id`
    FOREIGN KEY (`MODULEID`)
    REFERENCES  `Modules` (`MODULEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_field_control_group_v2`
    FOREIGN KEY (`CONTROL_GROUP`)
    REFERENCES  `Control_Group_V2` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_field_asset_id`
    FOREIGN KEY (`CONTROL_GROUP_ASSET`)
    REFERENCES  `Control_Group_V2_Asset` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_v2_field_field_id`
    FOREIGN KEY (`FIELD_ID`)
    REFERENCES  `Fields` (`FIELDID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Field_routine_section_id`
  FOREIGN KEY (`ROUTINE_SECTION_ID`)
  REFERENCES `Control_Group_V2_Routine_Section` (`ID`)
  ON DELETE CASCADE
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Group_V2_Field_routine`
    FOREIGN KEY (`ROUTINE_ID`)
    REFERENCES  `Control_Group_V2_Routine` (`ID`)
    ON DELETE CASCADE
    ON UPDATE NO ACTION,
    CONSTRAINT Control_Group_V2_Field_FK_FORM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms(ID) ON DELETE SET NULL);


CREATE TABLE IF NOT EXISTS `Control_Schedule_Slot` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `SCHEDULE_ID` BIGINT NOT NULL,
  `EXCEPTION_ID` BIGINT NULL,
  `ROUTINE_ID` BIGINT NULL,
  `START_TIME` BIGINT NOT NULL,
  `END_TIME` BIGINT NOT NULL,
  `OFF_SCHEDULE_EXCEPTION` TINYINT NULL,
  `SEQUENCE` INT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Schedule_Slot_moduleid`
  FOREIGN KEY (`MODULEID`)
  REFERENCES `Modules` (`MODULEID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_Slot_schedule_id`
  FOREIGN KEY (`SCHEDULE_ID`)
  REFERENCES `Control_Schedule` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_Slot_exception_id`
  FOREIGN KEY (`EXCEPTION_ID`)
  REFERENCES `Control_Schedule_Exceptions` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_Slot_routine_id`
  FOREIGN KEY (`ROUTINE_ID`)
  REFERENCES `Control_Group_V2_Routine` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION
);


CREATE TABLE IF NOT EXISTS `Control_Schedule_Grouped_Slot` (
  `ID` BIGINT NOT NULL AUTO_INCREMENT,
  `ORGID` BIGINT NOT NULL,
  `MODULEID` BIGINT NOT NULL,
  `FORM_ID` BIGINT NULL,
  `SCHEDULE_ID` BIGINT NOT NULL,
  `START_TIME` BIGINT NOT NULL,
  `END_TIME` BIGINT NOT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  PRIMARY KEY (`ID`),
  CONSTRAINT `Control_Schedule_Grouped_Slot_moduleid`
  FOREIGN KEY (`MODULEID`)
  REFERENCES `Modules` (`MODULEID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Schedule_Grouped_Slot_schedule_id`
  FOREIGN KEY (`SCHEDULE_ID`)
  REFERENCES `Control_Schedule` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION
);

CREATE TABLE IF NOT EXISTS Control_Action_Command (
  ID BIGINT PRIMARY KEY AUTO_INCREMENT,
  ORGID BIGINT NOT NULL,
  SITE_ID BIGINT DEFAULT NULL,
  FORM_ID BIGINT DEFAULT NULL,
  MODULEID BIGINT NOT NULL,
  RESOURCE_ID BIGINT NOT NULL,
  FIELD_ID BIGINT NOT NULL,
  VALUE varchar(45) NOT NULL,
  EXECUTED_BY BIGINT NOT NULL,
  EXECUTED_MODE INT NOT NULL,
  EXECUTED_TIME BIGINT NOT NULL,
  CONTROL_ACTION_MODE INT NOT NULL,
  COMMAND varchar(500) DEFAULT NULL,
  STATUS INT,
  `SCHEDULE_ID` BIGINT NULL,
  `EXCEPTION_ID` BIGINT NULL,
  `ROUTINE_ID` BIGINT NULL,
  `SYS_DELETED` BOOLEAN,
  `SYS_CREATED_TIME` BIGINT,
  `SYS_CREATED_BY` BIGINT,
  `SYS_MODIFIED_TIME` BIGINT,
  `SYS_MODIFIED_BY` BIGINT,
  `SYS_DELETED_TIME` BIGINT,
  `SYS_DELETED_BY` BIGINT,
  CONSTRAINT Control_Action_Command_FK_FROM_ID FOREIGN KEY (FORM_ID) REFERENCES Forms (ID),
  CONSTRAINT Control_Action_Command_executed_by FOREIGN KEY (EXECUTED_BY) REFERENCES ORG_Users (ORG_USERID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Action_Command_field_id FOREIGN KEY (FIELD_ID) REFERENCES Fields (FIELDID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Action_Command_moduleid FOREIGN KEY (MODULEID) REFERENCES Modules (MODULEID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Action_Command_resource_id FOREIGN KEY (RESOURCE_ID) REFERENCES Resources (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT Control_Action_Command_site_id FOREIGN KEY (SITE_ID) REFERENCES Site (ID) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `Control_Action_Command_schedule_id`
  FOREIGN KEY (`SCHEDULE_ID`)
  REFERENCES `Control_Schedule` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Action_Command_control_schedule_exception`
  FOREIGN KEY (`EXCEPTION_ID`)
  REFERENCES `Control_Schedule_Exceptions` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION,
  CONSTRAINT `Control_Action_Command_routine_id`
  FOREIGN KEY (`ROUTINE_ID`)
  REFERENCES `Control_Group_V2_Routine` (`ID`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION
);