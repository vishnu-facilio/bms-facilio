{
	"1": {
		"fdd_rule": {
			"name":"Damper Fail to Open or Stuck Closed",
			"description": "Damper is stuck or in open state. Unable to open Damper",
			"problem": "Damper fails to follow the command",
			"possible_causes": "1. Poor Lubrication <br/> 2. Sensor Failure",
			"moduleName": "damperstatus",
			"category": "FAHU",
			"severity": "Major",
			"threshold_metric": "damperstatus",
			"possible_solution": "1. Lubricate the bearings and louvres \n 2. Check sensor functioning",
			"ASSET_SELECTION_CRITERIA": {
			 	"categoryType": "FAHU",
			 	"includeResource": "${includeResource}",
			 	"excludeResource": "${excludeResource}"
			},
			"rules": {
				"1": {
					"condition" : "${{fanstatus}}=1",
					"action": "PreRequsite",
					"moduleName": "fanstatus",
					"threshold_metric": "fanstatus",
					"condition_statement" : "When Fan Status is 1",
					"workflow": {
				        "expressions": [
				          {
				            "name": "a",
				            "aggregateString": "lastValue",
				            "fieldName": "fanstatus",
				            "moduleName": "fanstatus",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          }
				        ],
				        "resultEvaluator": "a==1",
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ]
				   }
				},
				"2": {
					"condition": "${{dampercommand}}==1 && ${{damperstatus}}==0",
					"for": "${interval}",
					"action": "TRIGGER_ALARM",
					"workflow": {
				        "expressions": [
				          {
				            "name": "A",
				            "aggregateString": "lastValue",
				            "fieldName": "dampercommand",
				            "moduleName": "dampercommand",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          },
				          {
				            "name": "B",
				            "constant": "1"
				          },
				          {
				            "name": "D",
				            "aggregateString": "lastValue",
				            "fieldName": "damperstatus",
				            "moduleName": "damperstatus",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          },
				          {
				            "name": "F",
				            "constant": "0"
				          }
				        ],
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ],
				        "resultEvaluator": "(A==B)&&(D==F)",
				        "workflowUIMode": 1
				   	},
					"condition_statement" : "Damper Command is 1 and Damper Status is 0 for 10 min"
				}
			},
			"placeHolder": {
				"1": {
                     "label": "Assets",
                     "uniqueId": "resource",
                     "default_value": "All Asset Selected",
                     "selection_criteria": {
                     	"displayType": "ASSETCHOOSER"
                    },
                     "type": "default"
                 },
                 "2":{
                     "label": "Interval",
                     "uniqueId": "interval",
                     "default_value": "10",
                     "selection_criteria": {
                     	"displayType": "DURATION"
                    },
                     "type": "rules"
                 }
			}
		}
	},
	"2": {
		"fdd_rule": {
			"name":"Damper Fail to Close or Stuck Open",
			"description": "Damper is stuck or in open state. Unable to close Damper",
			"problem": "Damper fails to follow the command",
			"possible_causes": "1. Poor Lubrication <br/> 2. Sensor Failure",
			"moduleName": "damperstatus",
			"category": "FAHU",
			"severity": "Major",
			"threshold_metric": "damperstatus",
			"possible_solution": "1. Lubricate the bearings and louvres \n 2. Check sensor functioning",
			"ASSET_SELECTION_CRITERIA": {
			 	"categoryType": "FAHU",
			 	"includeResource": "${includeResource}",
			 	"excludeResource": "${excludeResource}"
			},
			"rules": {
				"1": {
					"condition" : "${{fanstatus}}=1",
					"action": "PreRequsite",
					"moduleName": "fanstatus",
					"threshold_metric": "fanstatus",
					"condition_statement" : "When Fan Status is 1",
					"workflow": {
				        "expressions": [
				          {
				            "name": "a",
				            "aggregateString": "lastValue",
				            "fieldName": "fanstatus",
				            "moduleName": "fanstatus",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          }
				        ],
				        "resultEvaluator": "a==1",
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ]
				   }
				},
				"2": {
					"condition": "${{dampercommand}}==0 && ${{damperstatus}}==1",
					"for": "${interval}",
					"action": "TRIGGER_ALARM",
					"workflow": {
				        "expressions": [
				          {
				            "name": "A",
				            "aggregateString": "lastValue",
				            "fieldName": "dampercommand",
				            "moduleName": "dampercommand",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          },
				          {
				            "name": "B",
				            "constant": "0"
				          },
				          {
				            "name": "D",
				            "aggregateString": "lastValue",
				            "fieldName": "damperstatus",
				            "moduleName": "damperstatus",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          },
				          {
				            "name": "F",
				            "constant": "1"
				          }
				        ],
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ],
				        "resultEvaluator": "(A==B)&&(D==F)",
				        "workflowUIMode": 1
				   	},
					"condition_statement" : "Damper Command is 0 and Damper Status is 1 for 10 min"
				}
			},
			"placeHolder": {
				"1": {
                     "label": "Assets",
                     "uniqueId": "resource",
                     "default_value": "All Asset Selected",
                     "selection_criteria": {
                     	"displayType": "ASSETCHOOSER"
                    },
                     "type": "default"
                 },
                 "2":{
                     "label": "Interval",
                     "uniqueId": "interval",
                     "default_value": "10",
                     "selection_criteria": {
                     	"displayType": "DURATION"
                    },
                     "type": "rules"
                 }
			}
		}
	},
	"3": {
	"fdd_rule": {
			"name":"AHU is OFF but actuator is open",
			"description": "AHU Fans are switched off and CHW valve is open",
			"problem": "Excessive water circulation",
			"possible_causes": "Valve connection issue",
			"moduleName": "prefilterstatus",
			"category": "AHU",
			"severity": "Major",
			"threshold_metric": "valvefeedback",
			"possible_solution": "Check the control logic",
			"ASSET_SELECTION_CRITERIA": {
			 	"categoryType": "AHU",
			 	"includeResource": "${includeResource}",
			 	"excludeResource": "${excludeResource}"
			},
			"rules": {
				"1": {
					"condition" : "${{runstatus}}=1",
					"action": "PreRequsite",
					"moduleName": "${preRquesticMetricModule}",
					"threshold_metric": "${preRquesticMetricFields}",
					"condition_statement" : "When Fan Status is 1",
					"workflow": {
				        "expressions": [
				          {
				            "name": "a",
				            "aggregateString": "lastValue",
				            "fieldName": "${preRquesticMetricFields}",
				            "moduleName": "${preRquesticMetricModule}",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          }
				        ],
				        "resultEvaluator": "a==1",
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ]
				   }
				},
				"2": {
					"condition": "${{valvefeedback}}==0",
					"for": "${interval}",
					"action": "TRIGGER_ALARM",
					"workflow": {
				        "expressions": [
				          {
				            "name": "A",
				            "aggregateString": "lastValue",
				            "fieldName": "valvefeedback",
				            "moduleName": "prefilterstatus",
				            "criteria": {
				              "pattern": "(1)",
				              "conditions": {
				                "1": {
				                  "fieldName": "parentId",
				                  "operatorId": 9,
				                  "sequence": "1",
				                  "value": "${resourceId}"
				                }
				              }
				            }
				          },
				          {
				            "name": "B",
				            "constant": "1"
				          }
				        ],
				        "parameters": [
				          {
				            "name": "resourceId",
				            "typeString": "Number"
				          }
				        ],
				        "resultEvaluator": "(A==B)",
				        "workflowUIMode": 1
				   	},
					"condition_statement" : "Run Status is 1 and Valve Feedback is 0 for 10 min"
				}
			},
			"placeHolder": {
				"1": {
                     "label": "Assets",
                     "uniqueId": "resource",
                     "default_value": "All Asset Selected",
                     "selection_criteria": {
                     	"displayType": "ASSETCHOOSER"
                    },
                     "type": "default"
                 },
                 "2":{
                     "label": "Interval",
                     "uniqueId": "interval",
                     "default_value": "10",
                     "selection_criteria": {
                     	"displayType": "DURATION"
                    },
                     "type": "rules"
                 },
                 "3":{
                     "label": "Run Status",
                     "uniqueId": "preRquesticMetricFields",
                     "default_value": "runstatus",
                     "moduleName": "prefilterstatus",
                     "selection_criteria": {
                     	"displayType": "field"
                    },
                     "type": "Select Fields"
                 },
                 "4":{
                     "label": "Module",
                     "uniqueId": "preRquesticMetricModule",
                     "isVisible": "false",
                     "default_value": "runstatus",
                     "type": "Select Fields"
                 },
                 "5":{
                     "label": "Valve FeedBack",
                     "uniqueId": "triggerMetricFields",
                     "default_value": "valvefeedback",
                     "moduleName": "prefilterstatus",
                     "selection_criteria": {
                     	"displayType": "field"
                    },
                     "type": "Select Fields"
                 },
                 "6":{
                     "label": "Module",
                     "uniqueId": "triggerMetricModule",
                     "isVisible": "false",
                     "default_value": "prefilterstatus",
                     "type": "Select Fields"
                 }
			}
		}
	}
}