(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[86930],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/947748:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSearch.vue?vue&type=template&id=aca29d08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-search-container mR20"},[void 0!=_vm.boolval?_c("div",[_c("el-input",{ref:"quickSearchQuery",staticClass:"fc-input-full-border-h35 mT15 mR10 wo-assigned-search",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_vm.quickSearchQuery?_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"}):_vm._e()])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&void 0==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&1==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input ",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},on:{change:_vm.remoteSearch},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):void 0==_vm.boolval&&_vm.searchHide?_c("div",{staticClass:"pointer flRight",on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})]):_vm._e()])},staticRenderFns=[],FSearchvue_type_script_lang_js=(__webpack_require__(538077),__webpack_require__(260228),{props:["value","searchKey","","boolval","remote"],data:function(){return{showQuickSearch:!1,quickSearchQuery:null,initialList:null,searchHide:!0}},beforeDestroy:function(){this.closeSearch()},mounted:function(){void 0!=this.boolval&&(this.showQuickSearch=this.boolval)},methods:{quickSearch:function(){var list,_this=this;this.value&&(this.quickSearchQuery?(this.initialList||(this.initialList=this.$helpers.cloneObject(this.value)),list=this.initialList.filter((function(item){return item[_this.searchKey||"name"].toLowerCase().indexOf(_this.quickSearchQuery.toLowerCase())>=0}))):(list=this.initialList,this.initialList=null),list&&this.$emit("input",list))},remoteSearch:function(){this.$emit("search",this.quickSearchQuery)},toggleQuickSearch:function(){var _this2=this;this.searchHide=!1,this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this2.$refs.quickSearchQuery&&_this2.$refs.quickSearchQuery.focus()}))},clearSearch:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.searchHide=!0},closeSearch:function(){void 0===this.boolval&&this.toggleQuickSearch(),this.quickSearchQuery=null,this.remote?this.remoteSearch():this.quickSearch(),this.searchHide=!0,this.showQuickSearch=!1,this.$emit("close")}}}),components_FSearchvue_type_script_lang_js=FSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSearch=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/806339:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/utils/WidgetPagination.vue?vue&type=template&id=6b10cd5b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-widget-pagination"},[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_vm._v(" of "+_vm._s(_vm.total)+" "),_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],WidgetPaginationvue_type_script_lang_js={props:["currentPage","perPage","total","hideToggle"],data:function(){return{from:0,to:0,page:1}},mounted:function(){this.init()},watch:{total:function(){this.init()},currentPage:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage||1,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.updateCurrentPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.updateCurrentPage()},updateCurrentPage:function(){
// Update currentPage value
this.$emit("update:currentPage",this.page),this.$emit("onChange")}}},utils_WidgetPaginationvue_type_script_lang_js=WidgetPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(utils_WidgetPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WidgetPagination=component.exports},
/***/786930:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return APISetupNew}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/APISetupNew.vue?vue&type=template&id=020bec38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100vh"},[_c("setupSummaryHeader",{scopedSlots:_vm._u([{key:"summaryLeftSide",fn:function(){return[_c("div",[_c("div",{staticClass:"flex-middle fc-setup-breadcrumb"},[_c("div",{staticClass:"fc-setup-breadcrumb-inner pointer",on:{click:_vm.setupHomeRoute}},[_vm._v(" "+_vm._s(_vm.$t("common.products.home"))+" ")]),_c("div",{staticClass:"fc-setup-breadcrumb-inner pL10 pR10"},[_c("i",{staticClass:"el-icon-arrow-right f14 fwBold"})]),_c("div",{staticClass:"fc-breadcrumbBold-active"},[_vm._v(" "+_vm._s(_vm.$t("setup.portal.summary"))+" ")])]),_c("div",{staticClass:"setting-title-block flex-middle justify-content-space"},[_c("div",{staticClass:"flex-middle pT10"},[_c("div",{staticClass:"fc-portal-icon fc-portal-icon-api-setup-bg flex-center-vH align-center"},[_c("inline-svg",{attrs:{src:"svgs/api",iconClass:"icon text-center icon-lg fc-fill-white"}})],1),_c("div",{staticClass:"visibility-visible-actions"},[_c("div",{staticClass:"fc-grey-txt18 pL10"},[_vm._v(" API Setup ")])])])])])]},proxy:!0},{key:"summaryRightSide",fn:function(){return[_c("portal-target",{staticClass:"portal-summary flex-middle",attrs:{name:"header-buttons"}})]},proxy:!0}])}),_c("div",{staticClass:"fc-main d-flex relative"},[_c("setupSummarySidebar",{scopedSlots:_vm._u([{key:"setupsidebar",fn:function(){return _vm._l(_vm.sidebarMenuList,(function(sidebar,list){return _c("div",{key:list},_vm._l(sidebar.menuList,(function(headingName,inex){return _c("div",{key:inex},[_c("div",{staticClass:"fc-pink f14 bold pB10"},[_vm._v(" "+_vm._s(headingName.name)+" ")]),_vm._l(headingName.submenuList,(function(subMenu,iex){return _c("div",{key:iex},[_c("div",{staticClass:"label-txt-black fc-list-label pointer",class:{isActive:_vm.sidebarTabList==subMenu.link},on:{click:function($event){return _vm.showHideMenu(subMenu.link)}}},[_c("InlineSvg",{attrs:{src:subMenu.icon,iconClass:subMenu.iconClass}}),_vm._v(" "+_vm._s(subMenu.name)+" ")],1)])}))],2)})),0)}))},proxy:!0}])}),_c("setupSummaryMainSection",{scopedSlots:_vm._u([{key:"setupMain",fn:function(){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round"},expression:"{ arrow: true, arrowType: 'round' }"}],staticClass:"fc-open-arrow pointer",attrs:{content:"Open Sidebar"},on:{click:_vm.showArrow}},[_vm.showSideBarOpen?_c("i",{staticClass:"el-icon-d-arrow-right f18"}):_vm._e()]),"users"===_vm.sidebarTabList?[_vm.loading?_vm._e():_c("dev-users",{attrs:{app:_vm.devApp},on:{onEditUser:_vm.editUser}})]:_vm._e(),"modules"===_vm.sidebarTabList?[_c("api-modules",{ref:"listView",attrs:{appId:_vm.devApp.id}})]:_vm._e()]},proxy:!0}])})],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),SetupSummaryHeader=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(202313)),SetupSummaryMainSection=__webpack_require__(825550),SetupSummarySidebar=__webpack_require__(426998),DevUsersNewvue_type_template_id_3594a0da_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"fc-portal-inner-summary-header flex-middle justify-content-space"},[_c("div",{staticClass:"fc-black2-18 text-left bold"},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.users"))+" ")]),_c("div",{staticClass:"flex-middle"},[_c("pagination",{ref:"pagination",staticClass:"flex-middle justify-content-end p0 pL10",attrs:{total:_vm.usersCount,perPage:_vm.perPage,currentPage:_vm.page},on:{"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}}),_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{\n          arrow: true,\n          arrowType: 'round',\n          animation: 'fade',\n        }"}],staticClass:"fc-portal-filter-border",class:{filterActive:_vm.showFilter},attrs:{content:"Advanced filters"},on:{click:_vm.showExtraFilter}},[_c("inline-svg",{staticClass:"pointer",attrs:{src:"svgs/dashboard/filter",iconClass:"icon icon-sm-md fc-fill-path-grey"}}),_c("div",{class:{"dot-active-pink":_vm.querySearch}})],1)],1)]),_vm.showFilter?_c("div",{staticClass:"fc-show-filter-con flex-middle"},[_c("div",{staticClass:"relative"},[_c("div",{staticClass:"fc-black-13 text-left bold pB5"},[_vm._v("Search")]),_c("el-input",{ref:"querySearch",staticClass:"fc-input-full-border2 fc-existing-user-search width250px",attrs:{placeholder:"Search name or email",clearable:""},on:{change:_vm.searchLoadData},model:{value:_vm.querySearch,callback:function($$v){_vm.querySearch=$$v},expression:"querySearch"}})],1)]):_vm._e(),_c("div",{staticClass:"occupantPortal-tab"},[_vm.loading?_c("SetupLoader",{staticClass:"m10 width98",scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})]},proxy:!0}],null,!1,3199698086)}):_vm.$validation.isEmpty(_vm.userlist)&&!_vm.loading?_c("setup-empty",{staticClass:"m10 width98",scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("setup.empty.empty_user"))+" ")]},proxy:!0}])}):_c("div",{staticClass:"occupantPortal-tabrow"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table",attrs:{width:"100%"}},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text uppercase"},[_vm._v(" "+_vm._s(_vm.$t("setup.approvalprocess.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text uppercase"},[_vm._v(" "+_vm._s(_vm.$t("setup.setup_profile.email"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text uppercase"},[_vm._v(" "+_vm._s(_vm.$t("common.roles.role"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),_c("tbody",_vm._l(_vm.userlist,(function(user,index){return _c("tr",{key:index,staticClass:"tablerow visibility-visible-actions"},[_c("td",[_c("user-avatar",{staticClass:"width200px",attrs:{size:"md",user:user}})],1),_c("td",[_vm._v(" "+_vm._s(user.email)+" ")]),_c("td",[_vm._v(" "+_vm._s(_vm.getRoleName(user))+" ")]),_c("td",{staticClass:"pL0 pR0 nowrap"},[_c("i",{staticClass:"visibility-hide-actions el-icon-edit fc-setup-list-edit",on:{click:function($event){return _vm.editUser(user)}}}),_c("i",{staticClass:"visibility-hide-actions el-icon-delete fc-setup-list-delete",on:{click:function($event){return _vm.removeUser(user)}}})])])})),0)])])]),_c("portal",{attrs:{to:"header-buttons"}},[_c("div",{staticClass:"position-relative"},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:_vm.addUser}},[_vm._v(" "+_vm._s(_vm.$t("common.header.add_existing_user"))+" ")])],1)])],1),_vm.showDialog?_c("AddExistingUser",{attrs:{app:_vm.app},on:{close:function($event){_vm.showDialog=!1},saved:_vm.onSave}}):_vm._e()],1)},DevUsersNewvue_type_template_id_3594a0da_staticRenderFns=[],objectSpread2=__webpack_require__(595082),User=(__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(426803)),WidgetPagination=__webpack_require__(806339),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),SetupLoader=__webpack_require__(233432),SetupEmptyState=__webpack_require__(622957),ExistingUserForm=__webpack_require__(928885),DevUsersNewvue_type_script_lang_js={props:["app"],components:{Pagination:WidgetPagination/* default */.Z,UserAvatar:User/* default */.Z,SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,AddExistingUser:ExistingUserForm/* default */.Z},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getRoleNameById"])),data:function(){return{isNew:!0,showDialog:!1,showFilter:!1,loading:!0,userlist:[],usersCount:"",selectFiledSearch:"name",currentUser:null,page:1,perPage:50,querySearch:null}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$store.dispatch("loadRoles");case 2:return _context.next=4,_this.loadUsersCount();case 4:return _context.next=6,_this.loadusers();case 6:case"end":return _context.stop()}}),_callee)})))()},methods:{addUser:function(){this.isNew=!0,this.showDialog=!0},onSave:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.loadUsersCount();case 2:return _context2.next=4,_this2.loadusers();case 4:case"end":return _context2.stop()}}),_callee2)})))()},searchLoadData:function(){this.page=1,this.perPage=50,this.loadusers(this.querySearch),this.loadUsersCount(this.querySearch)},editUser:function(user){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this3.isNew=!1,_this3.currentUser=user,_this3.showDialog=!0;case 3:case"end":return _context3.stop()}}),_callee3)})))()},removeUser:function(user){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var name,value,formData,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return name=user.name,_context4.next=3,_this4.$dialog.confirm({title:_this4.$t("common.header.delete_user"),htmlMessage:_this4.$t("common._common.do_you_want_delete_user_name",{name:name}),rbDanger:!0,rbLabel:_this4.$t("common._common.delete")});case 3:if(value=_context4.sent,value){_context4.next=6;break}return _context4.abrupt("return");case 6:return formData=new FormData,formData.append("user.uid",user.uid),formData.append("user.ouid",user.ouid),_context4.next=11,api/* API */.bl.post("/setup/deleteUser",formData);case 11:if(_yield$API$post=_context4.sent,error=_yield$API$post.error,!error){_context4.next=17;break}_this4.$message.error(error.message),_context4.next=22;break;case 17:return _this4.$message.success(_this4.$t("common._common.delete_success")),_context4.next=20,_this4.loadusers();case 20:return _context4.next=22,_this4.loadUsersCount();case 22:case"end":return _context4.stop()}}),_callee4)})))()},getRoleName:function(user){var roleId=user.roleId;return roleId?this.getRoleNameById(roleId):"---"},showExtraFilter:function(){this.showFilter=!this.showFilter},loadUsersCount:function(search){var _this5=this,app=this.app;api/* API */.bl.get("/v2/application/users/list?appId=".concat(app.id,"&page=").concat(this.page,"&perPage=").concat(this.perPage,"&fetchCount=true&inviteAcceptStatus=true"),{search:search}).then((function(_ref){var data=_ref.data,error=_ref.error;error?_this5.$message.error(error.message||"Error Occured"):_this5.usersCount=data.count}))},loadusers:function(search){var _this6=this,app=this.app,appId=app.id;this.loading=!0,api/* API */.bl.get("/v2/application/users/list?page=".concat(this.page,"&perPage=").concat(this.perPage),{appId:appId,search:search}).then((function(_ref2){var data=_ref2.data,error=_ref2.error;error?_this6.$message.error(error.message||"Error Occured"):_this6.userlist=data.users||[],_this6.loading=!1}))}}},setup_DevUsersNewvue_type_script_lang_js=DevUsersNewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(setup_DevUsersNewvue_type_script_lang_js,DevUsersNewvue_type_template_id_3594a0da_render,DevUsersNewvue_type_template_id_3594a0da_staticRenderFns,!1,null,null,null)
/* harmony default export */,DevUsersNew=component.exports,APIModulesNewvue_type_template_id_09a0df96_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"fc-portal-inner-summary-header flex-middle justify-content-space"},[_c("div",{staticClass:"fc-black2-18 text-left bold"},[_vm._v(" "+_vm._s(_vm.$t("common._common.apimodules"))+" ")])]),_c("div",{staticClass:"occupantPortal-tab"},[_vm.loading?_c("SetupLoader",{staticClass:"m10 width98",scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})]},proxy:!0}],null,!1,3199698086)}):_vm.$validation.isEmpty(_vm.modulelist)&&!_vm.loading?_c("setup-empty",{staticClass:"m10 width98",scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("setup.empty.empty_modules"))+" ")]},proxy:!0}])}):_c("div",{staticClass:"occupantPortal-tabrow"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table",attrs:{width:"100%"}},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text uppercase"},[_vm._v(" "+_vm._s(_vm.$t("setup.approvalprocess.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),_c("tbody",_vm._l(_vm.modulelist,(function(mod,index){return _c("tr",{key:index,staticClass:"tablerow visibility-visible-actions"},[_c("td",[_vm._v(" "+_vm._s(mod.name)+" ")]),_c("td",{staticClass:"pL0 pR0 nowrap"},[_c("i",{staticClass:"visibility-hide-actions el-icon-delete fc-setup-list-delete",on:{click:function($event){return _vm.removeModule(mod)}}})])])})),0)])])])],1),_c("portal",{attrs:{to:"header-buttons"}},[_c("div",{staticClass:"position-relative"},[_c("div",{staticStyle:{height:"42px"}},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){return _vm.addModule()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_module"))+" ")])],1)])]),_vm.showNewApiModule?_c("new-api-module",{attrs:{appId:_vm.appId},on:{onClose:_vm.onCloseAddMod}}):_vm._e()],1)},APIModulesNewvue_type_template_id_09a0df96_staticRenderFns=[],APIModulesvue_type_template_id_0f393e30_render=(__webpack_require__(339772),__webpack_require__(162506),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mT20"},[[_vm.loading?_c("div",[_c("spinner",{staticClass:"flex-middle height450",attrs:{show:_vm.loading,size:"80"}})],1):_c("div",{staticClass:"occupantPortal-tabrow setting-Rlayout pL0 pR0 mT20 pB40"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table",attrs:{width:"100%"}},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text uppercase"},[_vm._v(" "+_vm._s(_vm.$t("setup.approvalprocess.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),_vm.$validation.isEmpty(_vm.modulelist)?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" "+_vm._s(_vm.$t("setup.setup.no_modules"))+" ")])])]):_c("tbody",_vm._l(_vm.modulelist,(function(mod,index){return _c("tr",{key:index,staticClass:"tablerow visibility-visible-actions"},[_c("td",[_vm._v(_vm._s(mod.name))]),_c("td",{staticClass:"d-flex pT20"},[_c("i",{staticClass:"visibility-hide-actions el-icon-delete pL10",on:{click:function($event){return _vm.removeMod(mod)}}})])])})),0)])])])]],2)}),APIModulesvue_type_template_id_0f393e30_staticRenderFns=[],validation=__webpack_require__(990260),webtabUtil=__webpack_require__(617494),APIModulesvue_type_script_lang_js={props:["appId"],data:function(){return{modulelist:null,loading:!1}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadSelectedModules();case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{removeMod:function(_ref){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var id,dialogObj,value,_yield$API$post,error,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return id=_ref.id,dialogObj={title:_this2.$t("common.wo_report.delete_module_title"),htmlMessage:_this2.$t("common.wo_report.are_you_sure_want_to_delete_this_module"),rbDanger:!0,rbLabel:_this2.$t("common.login_expiry.rbLabel")},_context2.next=4,_this2.$dialog.confirm(dialogObj);case 4:if(value=_context2.sent,!value){_context2.next=21;break}return _this2.loading=!0,_context2.next=9,api/* API */.bl.post("/v2/tab/delete",{id:id});case 9:if(_yield$API$post=_context2.sent,error=_yield$API$post.error,!error){_context2.next=15;break}_this2.$message.error(error.message||"Error Occured"),_context2.next=20;break;case 15:return index=_this2.modulelist.findIndex((function(mod){return mod.id===id})),(0,validation/* isEmpty */.xb)(index)||_this2.modulelist.splice(index,1),_this2.$message.success(_this2.$t("common._common.module_deleted_success")),_context2.next=20,_this2.loadSelectedModules();case 20:_this2.loading=!1;case 21:case"end":return _context2.stop()}}),_callee2)})))()},loadSelectedModules:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$loadAppTabs,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this3.loading=!0,_context3.next=3,(0,webtabUtil/* loadAppTabs */.V)(_this3.appId);case 3:_yield$loadAppTabs=_context3.sent,error=_yield$loadAppTabs.error,data=_yield$loadAppTabs.data,error?_this3.$message.error(error.message||"Error Occured"):_this3.modulelist=data,_this3.loading=!1;case 8:case"end":return _context3.stop()}}),_callee3)})))()}}},setup_APIModulesvue_type_script_lang_js=APIModulesvue_type_script_lang_js,APIModules_component=(0,componentNormalizer/* default */.Z)(setup_APIModulesvue_type_script_lang_js,APIModulesvue_type_template_id_0f393e30_render,APIModulesvue_type_template_id_0f393e30_staticRenderFns,!1,null,null,null)
/* harmony default export */,APIModules=APIModules_component.exports,NewAPIModulevue_type_template_id_7764e4b7_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.$t("common._common.module"),width:"30%",visible:!0,"append-to-body":!0,"before-close":_vm.closeDialog}},[_c("div",{staticClass:"height200"},[_c("el-form",{ref:"tabTypeForm",attrs:{model:_vm.webtabObj}},[_c("el-form-item",{attrs:{label:_vm.$t("common._common.module"),prop:"module"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.header.please_select_the_module"),filterable:""},model:{value:_vm.webtabObj.moduleName,callback:function($$v){_vm.$set(_vm.webtabObj,"moduleName",$$v)},expression:"webtabObj.moduleName"}},_vm._l(_vm.allModules,(function(moduleObj,moduleName){return _c("el-option-group",{key:moduleName,attrs:{label:moduleName.toUpperCase()}},_vm._l(moduleObj,(function(list){return _c("el-option",{key:list.moduleId,attrs:{label:list.displayName,value:list.name}})})),1)})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.saveModule()}}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.confirm"))+" ")])],1)],1)])],1)},NewAPIModulevue_type_template_id_7764e4b7_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),NewAPIModulevue_type_script_lang_js=(__webpack_require__(450886),{props:["isNew","appId"],data:function(){return{canShowModule:!1,allModules:[],webtabObj:{moduleName:null},saving:!1}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.getAllModules();case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{getAllModules:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,modulesList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("/v3/modules/list/all");case 2:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||"Error Occured"):(modulesList=Object.assign(data,{"System Modules":data["systemModules"],"Custom Modules":data["customModules"]}),delete modulesList["systemModules"],delete modulesList["customModules"],_this2.allModules=modulesList||{});case 6:case"end":return _context2.stop()}}),_callee2)})))()},saveModule:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var modules,selectedModules,moduleIds,params,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return modules=[].concat((0,toConsumableArray/* default */.Z)(_this3.allModules["System Modules"]),(0,toConsumableArray/* default */.Z)(_this3.allModules["Custom Modules"])),selectedModules=modules.filter((function(m){return _this3.webtabObj.moduleName===m.name})),moduleIds=selectedModules.filter((function(m){return!(0,validation/* isEmpty */.xb)(m.moduleId)})).map((function(m){return m.moduleId})),selectedModules.filter((function(m){return(0,validation/* isEmpty */.xb)(m.moduleId)})).map((function(m){return m.name})),params={tab:{name:selectedModules[0].displayName,route:_this3.webtabObj.moduleName.replace(/\W+/g,"-").toLowerCase(),applicationId:_this3.appId,selectedModules:selectedModules,moduleIds:moduleIds,type:1}},_this3.saving=!0,_context3.next=8,api/* API */.bl.post("/v2/tab/addOrUpdate",params);case 8:_yield$API$post=_context3.sent,error=_yield$API$post.error,_yield$API$post.data,error?_this3.$message.error(error.message||"Error Occured"):(_this3.$message.success(_this3.$t("common._common.new_module_added")),_this3.saving=!1,_this3.closeDialog());case 12:case"end":return _context3.stop()}}),_callee3)})))()},closeDialog:function(){this.$emit("onClose")}}}),setup_NewAPIModulevue_type_script_lang_js=NewAPIModulevue_type_script_lang_js,NewAPIModule_component=(0,componentNormalizer/* default */.Z)(setup_NewAPIModulevue_type_script_lang_js,NewAPIModulevue_type_template_id_7764e4b7_render,NewAPIModulevue_type_template_id_7764e4b7_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewAPIModule=NewAPIModule_component.exports,APIModulesNewvue_type_script_lang_js={props:["appId"],components:{Pagination:WidgetPagination/* default */.Z,SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,ApiModules:APIModules,NewApiModule:NewAPIModule},data:function(){return{loading:!1,perPage:50,page:1,userCount:null,showNewApiModule:!1,modulelist:[]}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadSelectedModules();case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{addModule:function(){this.showNewApiModule=!0},onCloseAddMod:function(){this.showNewApiModule=!1,this.loadSelectedModules()},removeModule:function(_ref){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var id,dialogObj,value,_yield$API$post,error,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return id=_ref.id,dialogObj={title:_this2.$t("common.wo_report.delete_module_title"),htmlMessage:_this2.$t("common.wo_report.are_you_sure_want_to_delete_this_module"),rbDanger:!0,rbLabel:_this2.$t("common.login_expiry.rbLabel")},_context2.next=4,_this2.$dialog.confirm(dialogObj);case 4:if(value=_context2.sent,!value){_context2.next=21;break}return _this2.loading=!0,_context2.next=9,api/* API */.bl.post("/v2/tab/delete",{id:id});case 9:if(_yield$API$post=_context2.sent,error=_yield$API$post.error,!error){_context2.next=15;break}_this2.$message.error(error.message||"Error Occured"),_context2.next=20;break;case 15:return index=_this2.modulelist.findIndex((function(mod){return mod.id===id})),(0,validation/* isEmpty */.xb)(index)||_this2.modulelist.splice(index,1),_this2.$message.success(_this2.$t("common._common.module_deleted_success")),_context2.next=20,_this2.loadSelectedModules();case 20:_this2.loading=!1;case 21:case"end":return _context2.stop()}}),_callee2)})))()},loadSelectedModules:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$loadAppTabs,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this3.loading=!0,_context3.next=3,(0,webtabUtil/* loadAppTabs */.V)(_this3.appId);case 3:_yield$loadAppTabs=_context3.sent,error=_yield$loadAppTabs.error,data=_yield$loadAppTabs.data,error?_this3.$message.error(error.message||"Error Occured"):_this3.modulelist=data,_this3.loading=!1;case 8:case"end":return _context3.stop()}}),_callee3)})))()}}},setup_APIModulesNewvue_type_script_lang_js=APIModulesNewvue_type_script_lang_js,APIModulesNew_component=(0,componentNormalizer/* default */.Z)(setup_APIModulesNewvue_type_script_lang_js,APIModulesNewvue_type_template_id_09a0df96_render,APIModulesNewvue_type_template_id_09a0df96_staticRenderFns,!1,null,null,null)
/* harmony default export */,APIModulesNew=APIModulesNew_component.exports,appUtil=__webpack_require__(843097),router=__webpack_require__(329435),APISetupNewvue_type_script_lang_js={created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$loadApps,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.sidebarTabList="users",_this.loading=!0,_context.next=4,(0,appUtil/* loadApps */.jJ)();case 4:_yield$loadApps=_context.sent,error=_yield$loadApps.error,data=_yield$loadApps.data,error&&_this.$message.error(error.message||"Error Occured"),_this.devApp=data.filter((function(app){return"dev"===app.linkName}))[0],_this.loading=!1;case 10:case"end":return _context.stop()}}),_callee)})))()},computed:{appLinkName:function(){var appName=(0,router/* getApp */.wx)().linkName;return appName}},methods:{setupHomeRoute:function(){return this.$router.replace({path:"/".concat(this.appLinkName,"/setup/home")})},editUser:function(user){this.currentUser=user,this.isNew=!1,this.showDialog=!0},showArrow:function(){this.showSidebar=!0,this.showSideBarOpen=!1},showHideMenu:function(link){return this.sidebarTabList="users"===link?"users":"modules"}},data:function(){return{isNew:!1,showDialog:!1,currentUser:null,devApp:null,loading:!0,activeName:"Users",showSidebar:!0,showSideBarOpen:!1,sidebarTabList:["users"],sidebarMenuList:[{menuList:[{name:"Manage",submenuList:[{name:"Users",link:"users",icon:"svgs/user-new1",iconClass:"icon icon-md op66 mR13"}]}]}]}},components:{setupSummaryHeader:SetupSummaryHeader/* default */.Z,setupSummaryMainSection:SetupSummaryMainSection/* default */.Z,setupSummarySidebar:SetupSummarySidebar/* default */.Z,DevUsers:DevUsersNew,ApiModules:APIModulesNew}},setup_APISetupNewvue_type_script_lang_js=APISetupNewvue_type_script_lang_js,APISetupNew_component=(0,componentNormalizer/* default */.Z)(setup_APISetupNewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,APISetupNew=APISetupNew_component.exports},
/***/622957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupEmptyState}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupEmptyState.vue?vue&type=template&id=839bdf38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-empty"},[_c("div",{staticClass:"fc-setup-empty-image"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}})],1),_c("div",{staticClass:"fc-setup-empty-txt"},[_vm._t("emptyHeading")],2),_c("div",{staticClass:"fc-setup-empty-txt-desc"},[_vm._t("emptyDescription")],2)])},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupEmptyState=component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports},
/***/202313:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupSummaryHeader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupSummaryHeader.vue?vue&type=template&id=ac9b1346
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-portal-summary-header"},[_c("el-header",{attrs:{height:"110px"}},[_vm._t("summaryLeftSide"),_vm._t("summaryRightSide")],2)],1)},staticRenderFns=[],SetupSummaryHeadervue_type_script_lang_js={setup:function(){}},components_SetupSummaryHeadervue_type_script_lang_js=SetupSummaryHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SetupSummaryHeadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupSummaryHeader=component.exports},
/***/825550:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupSummaryMainSection}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupSummaryMainSection.vue?vue&type=template&id=a4d28d8e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-summary-main-sec"},[_c("el-main",[_vm._t("setupMain")],2)],1)},staticRenderFns=[],SetupSummaryMainSectionvue_type_script_lang_js={},components_SetupSummaryMainSectionvue_type_script_lang_js=SetupSummaryMainSectionvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SetupSummaryMainSectionvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupSummaryMainSection=component.exports},
/***/426998:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupSummarySidebar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupSummarySidebar.vue?vue&type=template&id=66318789
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-sidebar-summary"},[_c("el-aside",[_vm._t("setupsidebar")],2)],1)},staticRenderFns=[],SetupSummarySidebarvue_type_script_lang_js={setup:function(){}},components_SetupSummarySidebarvue_type_script_lang_js=SetupSummarySidebarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SetupSummarySidebarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupSummarySidebar=component.exports},
/***/928885:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ExistingUserForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/portal/ExistingUserForm.vue?vue&type=template&id=4c1ce376
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.canShowUsersList?_c("el-dialog",{staticClass:"fc-dialog-center-container fc-dialog-center-body-p0 scale-up-center fc-dialog-header-hide",attrs:{visible:!0,width:"50%","before-close":_vm.close,"append-to-body":!0}},[_c("div",{staticClass:"new-header-container pL20 pR0 height60px line-height30"},[_c("div",{staticClass:"new-header-modal"},[_c("div",{staticClass:"new-header-text flex-middle justify-content-space height30"},[_c("div",{staticClass:"setup-modal-title"},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_existing_user"))+" ")]),_c("div",{staticClass:"fR fc-subheader-right flex-middle"},[_c("div",{staticClass:"flex-middle position-relative mR10"},[_vm.userSearchIcon?_c("i",{staticClass:"el-icon-search pointer fw6 fc-black3-16",on:{click:_vm.showUserSearch}}):_vm._e(),_vm.showUserSearchInput?_c("div",{staticClass:"flex-middle"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Search"},on:{change:_vm.activeUserSearch},model:{value:_vm.activeUserSearchData,callback:function($$v){_vm.activeUserSearchData=$$v},expression:"activeUserSearchData"}}),_c("div",[_c("i",{staticClass:"el-icon-close fc-close-icon-search pointer",on:{click:_vm.clearUser}})])],1):_vm._e()]),_c("pagination",{ref:"pagination",attrs:{total:_vm.userListCount,perPage:50,currentPage:_vm.page},on:{"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1)])])]),_vm.loading?_c("div",{staticClass:"flex-middle height450"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm._e(),_vm.$validation.isEmpty(_vm.userList)&&!_vm.loading?_c("div",{staticClass:"height450 flex-middle justify-content-center flex-direction-column"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_users_available"))+" ")])],1):_vm._e(),_vm.loading||_vm.$validation.isEmpty(_vm.userList)?_vm._e():_c("div",{staticStyle:{"padding-bottom":"52px"}},[_c("el-table",{ref:"elTable",staticClass:"fc-table-th-pLalign-reduce",staticStyle:{width:"100%"},attrs:{data:_vm.userList,height:"450"}},[_c("el-table-column",{attrs:{prop:"name",label:_vm.$t("common.products.name"),width:"270"},scopedSlots:_vm._u([{key:"default",fn:function(data){return[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:data.row},model:{value:_vm.selectedUser,callback:function($$v){_vm.selectedUser=$$v},expression:"selectedUser"}},[_vm._v(" "+_vm._s(data.row.name)+" ")])]}}],null,!1,901707198)}),_c("el-table-column",{attrs:{prop:"email",label:_vm.$t("common.header.email"),width:"250"},scopedSlots:_vm._u([{key:"default",fn:function(data){return[_vm._v(" "+_vm._s(data.row.email)+" ")]}}],null,!1,3513958705)}),_c("el-table-column",{attrs:{prop:"phone",label:_vm.$t("common.header.phone"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(data){return[_vm._v(" "+_vm._s(data.row.phone?data.row.phone:"---")+" ")]}}],null,!1,3666873135)})],1)],1),_c("div",{staticClass:"dialog-footer"},[_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.close()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.next()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.next"))+" ")])],1)])]):_vm.canShowRolesList?_c("el-dialog",{staticClass:"fc-dialog-center-container fc-dialog-center-body-p0 scale-up-center fc-dialog-header-hide",attrs:{visible:!0,width:"35%","before-close":_vm.close,"append-to-body":!0}},[_c("div",{staticClass:"p30 pB100"},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.user"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{disabled:""},model:{value:_vm.selectedUser.id,callback:function($$v){_vm.$set(_vm.selectedUser,"id",$$v)},expression:"selectedUser.id"}},_vm._l(_vm.userList,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1),_c("p",{staticClass:"fc-input-label-txt pT20 pB10"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.role"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{filterable:"",clearable:""},model:{value:_vm.selectedRoleId,callback:function($$v){_vm.selectedRoleId=$$v},expression:"selectedRoleId"}},_vm._l(_vm.rolesList,(function(role){return _c("el-option",{key:role.roleId,attrs:{label:role.name,value:role.roleId}})})),1)],1),_c("div",{staticClass:"dialog-footer"},[_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.back()}}},[_vm._v(_vm._s(_vm.$t("common.header.back")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{loading:_vm.saving,disabled:_vm.$validation.isEmpty(_vm.selectedRoleId),type:"primary"},on:{click:function($event){return _vm.saveRecord()}}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common.products.adding"):_vm.$t("common._common.add"))+" ")])],1)])]):_vm._e()},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FSearch=(__webpack_require__(260228),__webpack_require__(76265),__webpack_require__(456646),__webpack_require__(821694),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(434284),__webpack_require__(947748)),api=__webpack_require__(32284),WidgetPagination=__webpack_require__(806339),ExistingUserFormvue_type_script_lang_js={props:["app"],data:function(){return{saving:!1,userListCount:"",loading:!0,userList:[],selectedUser:null,selectedRoleId:null,canShowUsersList:!0,canShowRolesList:!1,page:1,showUserSearchInput:!1,activeUserSearchData:"",userSearchIcon:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,_this.loadApplicationUserCount();case 3:return _context.next=5,_this.loadApplicationUser();case 5:return _context.next=7,_this.loadRolesForApp();case 7:_this.loading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},components:{FSearch:FSearch/* default */.Z,Pagination:WidgetPagination/* default */.Z},computed:{appId:function(){return this.app.id}},watch:{page:function(newVal,oldVal){oldVal!=newVal&&this.loadApplicationUser()}},methods:{loadApplicationUserCount:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var search;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:
// let userFilters = {}
// if (searchQuery) {
//   userFilters.name = { operatorId: 5, value: [searchQuery] }
// }
_this2.activeUserSearchData&&(search=_this2.activeUserSearchData),api/* API */.bl.get("/v2/application/users/list?fetchCount=true",{appId:_this2.appId||_this2.$route.params.id,fetchNonAppUsers:!0,search:search}).then((function(_ref){var data=_ref.data,error=_ref.error;error?_this2.$message.error(error.message||"Error Occured"):_this2.userListCount=data.count}));case 2:case"end":return _context2.stop()}}),_callee2)})))()},loadApplicationUser:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var search,_yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:
// let userFilters = {}
// if (searchQuery) {
//   userFilters.name = { operatorId: 5, value: [searchQuery] }
// }
return _this3.activeUserSearchData&&(search=_this3.activeUserSearchData),_this3.loading=!0,_context3.next=4,api/* API */.bl.get("/v2/application/users/list?page=".concat(_this3.page,"&perPage=50"),{appId:_this3.appId||_this3.$route.params.id,fetchNonAppUsers:!0,search:search});case 4:_yield$API$get=_context3.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this3.userList=[]:(_this3.userList=data.users||[],_this3.userList=(0,toConsumableArray/* default */.Z)(new Map(_this3.userList.map((function(user){return[user["uid"],user]}))).values())),_this3.loading=!1;case 9:case"end":return _context3.stop()}}),_callee3)})))()},activeUserSearch:function(){this.loadApplicationUserCount(),this.loadApplicationUser(),this.page=1},searchUsers:function(searchQuery){this.page=1,this.loadApplicationUserCount(searchQuery),this.loadApplicationUser(searchQuery)},loadRolesForApp:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var appId,_yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return appId=_this4.appId,_context4.next=3,api/* API */.bl.get("/setup/roles",{appId:appId});case 3:_yield$API$get2=_context4.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?_this4.$message.error(error.message||"Error Occured"):_this4.rolesList=(data.roles||[]).filter((function(role){return"Super Administrator"!==role.name}));case 7:case"end":return _context4.stop()}}),_callee4)})))()},next:function(){this.canShowUsersList=!1,this.canShowRolesList=!0},back:function(){this.canShowRolesList=!1,this.canShowUsersList=!0},close:function(){this.$emit("close")},saveRecord:function(){var _this5=this;this.saving=!0;var selectedRoleId=this.selectedRoleId,selectedUser=this.selectedUser,userData={appId:this.appId||this.$route.params.id,user:{id:selectedUser.id,email:selectedUser.email,roleId:selectedRoleId}};api/* API */.bl.post("/v2/application/users/add",userData).then((function(_ref2){var error=_ref2.error;error?_this5.$message.error(error.message||"Error Occurred"):(_this5.$message(_this5.$t("common.header.existing_user_added")),_this5.$emit("saved"),_this5.$store.dispatch("loadUsers",!0))})).finally((function(){_this5.saving=!1,_this5.close()}))},showUserSearch:function(){this.showUserSearchInput=!0,this.userSearchIcon=!1},clearUser:function(){this.showUserSearchInput=!1,this.userSearchIcon=!0,this.activeUserSearchData=null,this.activeUserSearch()}}},portal_ExistingUserFormvue_type_script_lang_js=ExistingUserFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(portal_ExistingUserFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ExistingUserForm=component.exports},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/86930.js.map