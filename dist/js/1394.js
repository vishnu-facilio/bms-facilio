"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[1394],{
/***/303514:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AsyncButton}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/AsyncButton.vue?vue&type=template&id=16ca9ad1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-button",_vm._b({class:_vm.buttonClass,attrs:{loading:_vm.showLoading,type:_vm.buttonType,size:_vm.size,disabled:_vm.disabled},on:{click:function($event){return _vm.save()}}},"el-button",_vm.$attrs,!1),[_vm._t("default")],2)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),AsyncButtonvue_type_script_lang_js=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),{props:["clickAction","actionParams","buttonType","buttonClass","size","disabled","loading"],data:function(){return{isLoading:!1}},computed:{showLoading:function(){return this.loading||this.isLoading}},methods:{save:function(){var _this=this;if(this.clickAction&&"function"===typeof this.clickAction){this.isLoading=!0;var returnPromise=this.actionParams?this.clickAction.apply(this,(0,toConsumableArray/* default */.Z)(this.actionParams)):this.clickAction(),minimumTimeout=this.$helpers.delay(1e3);returnPromise?Promise.all([returnPromise,minimumTimeout]).finally((function(){_this.isLoading=!1})):this.$helpers.delay(1e3).then((function(){return _this.isLoading=!1}))}}}}),components_AsyncButtonvue_type_script_lang_js=AsyncButtonvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AsyncButtonvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AsyncButton=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/301394:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return TranslationDetails}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/translation/TranslationDetails.vue?vue&type=template&id=7355d3b4&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-container"},[_c("div",{staticClass:"header-container"},[_c("div",{staticClass:"header-title"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"shift-away",placement:"top"},expression:"{\n          arrow: true,\n          arrowType: 'round',\n          animation: 'shift-away',\n          placement: 'top',\n        }"}],staticClass:"fc-black3-13 f16 pointer fwBold vertical-text-super",attrs:{title:_vm.$t("setup.translation.back")},on:{click:function($event){return _vm.back()}}},[_c("i",{staticClass:"el-icon-back f16 fwBold "})]),_c("el-divider",{staticClass:"mR15 mL15",attrs:{direction:"vertical"}}),_vm._v(" "+_vm._s(_vm.$t("setup.translation.title"))+" ")],1),[_vm.loadingApps?_c("div",{staticClass:"loading-shimmer width200px height40 bR5"}):_c("div",{staticClass:"d-flex"},[_c("portal-target",{attrs:{name:"layout-switch"}}),_c("el-select",{staticClass:"fc-input-full-border2 width200px pL15",attrs:{placeholder:"Select App",filterable:""},model:{value:_vm.appId,callback:function($$v){_vm.appId=$$v},expression:"appId"}},_vm._l(_vm.availableApps,(function(app){return _c("el-option",{key:app.linkName,attrs:{label:app.name,value:app.id}})})),1)],1)]],2),_vm.loadingApps?_c("Spinner",{attrs:{show:_vm.loadingApps,size:"80"}}):_c("TranslationTable",{attrs:{appId:_vm.appId}})],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(879288),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(990260)),TranslationTablevue_type_template_id_a44083f6_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"details-container"},[_vm.loadingTabsAndLayouts?_c("Spinner",{attrs:{show:_vm.loadingTabsAndLayouts,size:"80"}}):[_c("portal",{attrs:{to:"layout-switch",slim:""}},[_c("inline-svg",{staticClass:"mL5",attrs:{src:"svgs/web-view",iconClass:_vm.getViewIconClass(_vm.layoutTypes.WEB_VIEW)},nativeOn:{click:function($event){return _vm.selectView(_vm.layoutTypes.WEB_VIEW)}}}),_c("inline-svg",{staticClass:"mL5",attrs:{src:"svgs/mobile-view",iconClass:_vm.getViewIconClass(_vm.layoutTypes.MOBILE_VIEW)},nativeOn:{click:function($event){return _vm.selectView(_vm.layoutTypes.MOBILE_VIEW)}}})],1),_c("div",{staticClass:"groups-and-tabs"},_vm._l(_vm.webTabGroups,(function(group,index){return _c("div",{key:index,staticClass:"groups"},[_c("div",{staticClass:"group-label"},[_vm._v(_vm._s(group.name))]),_vm._l(group.webTabs,(function(tab,index){return _c("div",{key:index},[_c("div",{class:["tab-label",_vm.activeTabId==tab.id&&"selected"],on:{click:function($event){return _vm.setActiveTab(tab,group.name,group.id)}}},[_vm._v(" "+_vm._s(tab.name)+" ")]),_vm.getPortfolioTab(tab)?_c("div",{staticClass:"portfolio-dropdown"},_vm._l(_vm.portfolioCustomModule,(function(item,key){return _c("div",{key:key,class:[_vm.customModuleName===key&&"selected"],on:{click:function($event){return _vm.setProps(key)}}},[_vm._v(" "+_vm._s(item)+" ")])})),0):_vm._e()])}))],2)})),0),_vm.isEmpty(_vm.currentColumns)?_c("div",{staticClass:"empty-container"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-130 emptystate-icon-size"}}),_c("div",{staticClass:"empty-state-text"},[_vm._v(" "+_vm._s(_vm.$t("setup.translation.no_data"))+" ")])],1):_c("el-tabs",{model:{value:_vm.activeColumnId,callback:function($$v){_vm.activeColumnId=$$v},expression:"activeColumnId"}},_vm._l(_vm.currentColumns,(function(column){return _c("el-tab-pane",{key:_vm.activeTabId+"_"+column.type,staticClass:"height-100",attrs:{label:column.label,name:column.type,lazy:""}},[_vm.isEmpty(_vm.getFilterComponent(column.type))?_vm._e():_c(_vm.getFilterComponent(column.type),{tag:"component",attrs:{moduleName:_vm.fetchCustomModuleName(_vm.activeTab),appId:_vm.appId,setFilter:function(value){_vm.setFilter(column.type,value)}}}),_c("TranslationFields",{attrs:{tabId:_vm.activeTabId,activeColumnId:_vm.activeColumnId,columnId:column.type,appId:_vm.appId,filter:_vm.customFilterCheck(column),hasFilter:!_vm.isEmpty(_vm.getFilterComponent(column.type))}})],1)})),1)]],2)},TranslationTablevue_type_template_id_a44083f6_scoped_true_staticRenderFns=[],slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),defineProperty=__webpack_require__(482482),api=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(947522),__webpack_require__(425728),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(32284)),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),TranslationFieldsvue_type_template_id_179533fa_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:{"bg-small":_vm.hasFilter,"bg-large":!_vm.hasFilter}},[_vm.loadingFields?_c("Spinner",{attrs:{show:_vm.loadingFields,size:"80"}}):_vm.showEmpty?_c("div",{staticClass:"empty-container"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-130 emptystate-icon-size"}}),_c("div",{staticClass:"empty-state-text"},[_vm._v(" "+_vm._s(_vm.$t("setup.translation.no_fields"))+" ")])],1):_c("div",{staticClass:"field_container"},[_vm.checkActiveColumnIsReport?_c("div",{staticClass:"mT10 pB20"},[_c("el-select",{staticClass:"fc-input-full-border-select2 pR20",attrs:{filterable:"","default-first-option":"",placeholder:_vm.$t("common._common.select_report_folder")},on:{change:function($event){return _vm.loadReportList()}},model:{value:_vm.selectedReportFolder,callback:function($$v){_vm.selectedReportFolder=$$v},expression:"selectedReportFolder"}},_vm._l(_vm.reportFolderData,(function(item){return _c("el-option",{key:item.id,attrs:{value:item.name}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 pL10",attrs:{filterable:"","default-first-option":"",placeholder:_vm.$t("common._common.select_report")},on:{change:function($event){return _vm.reportLoadDetail()}},model:{value:_vm.selectedReport,callback:function($$v){_vm.selectedReport=$$v},expression:"selectedReport"}},_vm._l(_vm.selectedReportList,(function(item){return _c("el-option",{key:item.id,attrs:{value:item.name}})})),1)],1):_vm._e(),_vm._l(_vm.sections,(function(section){return _c("div",{key:section.key},[_vm.isEmpty(section.label)?_vm._e():_c("div",{staticClass:"bold text-uppercase mB10 fc-black-13 text-left letter-spacing1"},[_vm._v(" "+_vm._s(section.label)+" ")]),_vm._l(section.fields,(function(field){return _c("div",{key:field.prefix+field.key+field.suffix},[_c("div",{staticClass:"input-field"},[_c("i",{class:[field.isExpanded?"el-icon-remove-outline":"el-icon-circle-plus-outline",!field.fields&&"hide-icon","cursor-pointer"],on:{click:function($event){return _vm.toggleExpansion(field)}}}),_c("p",[_vm._v(_vm._s(field.label))]),_c("el-input",{staticClass:"el-input-textbox-full-border",model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}})],1),_c("transition",{attrs:{name:"fade"}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:field.isExpanded,expression:"field.isExpanded"}]},_vm._l(field.fields,(function(option){return _c("div",{key:option.prefix+option.key+option.suffix,staticClass:"input-field"},[_c("i",{staticClass:"el-icon-remove-outline hide-icon"}),_c("p",[_vm._v(_vm._s(option.label))]),_c("el-input",{staticClass:"el-input-textbox-full-border",model:{value:option.value,callback:function($$v){_vm.$set(option,"value",$$v)},expression:"option.value"}})],1)})),0)])],1)}))],2)})),_vm.isEmpty(_vm.sections)?_vm._e():_c("div",{staticClass:"d-flex save"},[_c("AsyncButton",{staticClass:"fc-wo-border-btn",attrs:{clickAction:_vm.saveFields}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)],2)],1)},TranslationFieldsvue_type_template_id_179533fa_scoped_true_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),AsyncButton=(__webpack_require__(538077),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(303514)),Spinner=__webpack_require__(604947),TranslationFieldsvue_type_script_lang_js={props:["tabId","columnId","appId","filter","hasFilter","activeColumnId"],components:{AsyncButton:AsyncButton/* default */.Z,Spinner:Spinner/* default */.Z},data:function(){return{loadingFields:!1,sections:null,showReportDropdown:!1,reportFolderData:null,selectedReportFolder:null,selectedReport:null,reportQuery:{},selectedReportList:[]}},computed:{langCode:function(){var params=this.$route.params,_ref=params||{},language=_ref.language;return language},checkActiveColumnIsReport:function(){var activeColumnId=this.activeColumnId;return"REPORT"===activeColumnId},showEmpty:function(){var filter=this.filter,hasFilter=this.hasFilter,sections=this.sections,checkActiveColumnIsReport=this.checkActiveColumnIsReport,reportFolderData=this.reportFolderData;return checkActiveColumnIsReport?(0,validation/* isEmpty */.xb)(reportFolderData):(!hasFilter||!filter.loading)&&(0,validation/* isEmpty */.xb)(sections)}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var checkActiveColumnIsReport;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:checkActiveColumnIsReport=_this.checkActiveColumnIsReport,checkActiveColumnIsReport?_this.loadReport():_this.loadFields();case 2:case"end":return _context.stop()}}),_callee)})))()},watch:{filter:function(){this.loadFields()}},methods:{loadReport:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var appId,_yield$API$get,data,error,_ref2,reportFolders;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return appId=_this2.appId,_this2.loadingFields=!0,_context2.next=4,api/* API */.bl.get("v3/report/folders",{appId:appId});case 4:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this2.$message.error(error.message||_this2.$t("common._common.report_folder_error")):(_ref2=data||{},reportFolders=_ref2.reportFolders,_this2.reportFolderData=reportFolders,(0,validation/* isEmpty */.xb)(data)||(_this2.loadingFields=!1,_this2.showReportDropdown=!0,_this2.selectedReportFolder=_this2.$getProperty(_this2.reportFolderData,"0.name",null),_this2.loadReportList()));case 8:case"end":return _context2.stop()}}),_callee2)})))()},reportLoadDetail:function(){var selectedReportList=this.selectedReportList,selectedReport=this.selectedReport,currentReportObject=selectedReportList.find((function(ele){return ele.name===selectedReport})),_ref3=currentReportObject||{},reportId=_ref3.id;this.reportQuery={reportId:reportId},this.loadFields()},loadReportList:function(){var selectedReportFolder=this.selectedReportFolder,reportFolderData=this.reportFolderData,selectedReportObject=reportFolderData.find((function(ele){return ele.name===selectedReportFolder}));this.selectedReportList=this.$getProperty(selectedReportObject,"reports",[]),this.selectedReport=this.$getProperty(this.selectedReportList,"0.name",null),this.reportLoadDetail()},toggleExpansion:function(field){this.$set(field,"isExpanded",!field.isExpanded)},isEmpty:validation/* isEmpty */.xb,saveFields:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var filteredFields,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return filteredFields=[],_this3.sections.forEach((function(section){var fields=section.fields.filter((function(field){return!(0,validation/* isEmpty */.xb)(field.value)}));section.fields.forEach((function(field){var options=field.fields,changedOptions=options?options.filter((function(option){return!(0,validation/* isEmpty */.xb)(option.value)})):[];filteredFields=[].concat((0,toConsumableArray/* default */.Z)(filteredFields),(0,toConsumableArray/* default */.Z)(changedOptions))})),filteredFields=[].concat((0,toConsumableArray/* default */.Z)(filteredFields),(0,toConsumableArray/* default */.Z)(fields))})),_context3.next=4,api/* API */.bl.post("v2/translation/update",{langCode:_this3.langCode,translations:filteredFields});case 4:_yield$API$post=_context3.sent,error=_yield$API$post.error,error?_this3.$message.error(error.message||"Error occurred"):_this3.$message.success("Changes saved");case 7:case"end":return _context3.stop()}}),_callee3)})))()},loadFields:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var hasFilter,filter,tabId,columnId,langCode,reportQuery,_ref4,query,loading,_yield$API$post2,error,data,_ref5,sections,list;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(hasFilter=_this4.hasFilter,filter=_this4.filter,tabId=_this4.tabId,columnId=_this4.columnId,langCode=_this4.langCode,reportQuery=_this4.reportQuery,_ref4=filter||{},query=_ref4.query,loading=_ref4.loading,_this4.sections=null,!hasFilter||!loading&&query){_context4.next=5;break}return _context4.abrupt("return");case 5:return _this4.loadingFields=!0,_context4.next=8,api/* API */.bl.post("/v2/translation/getFields",{tabId:tabId,translationType:columnId,langCode:langCode,filter:(0,validation/* isEmpty */.xb)(reportQuery)?query:reportQuery});case 8:_yield$API$post2=_context4.sent,error=_yield$API$post2.error,data=_yield$API$post2.data,error?(_this4.$message.error(error.message||"Error Occured"),_this4.sections={}):(_ref5=null!==data&&void 0!==data?data:{},sections=_ref5.sections,list=[],sections&&sections.forEach((function(section,index){var fields=section.fields,label=section.label;fields=fields?fields.map((function(field){var _field$value;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{value:null!==(_field$value=field.value)&&void 0!==_field$value?_field$value:""},!(0,validation/* isEmpty */.xb)(field.fields)&&{isExpanded:!1})})):[],(0,validation/* isEmpty */.xb)(fields)||(list=[].concat((0,toConsumableArray/* default */.Z)(list),[{label:label,fields:fields,key:index}]))})),_this4.sections=list,_this4.reportQuery={}),_this4.loadingFields=!1;case 13:case"end":return _context4.stop()}}),_callee4)})))()}}},translation_TranslationFieldsvue_type_script_lang_js=TranslationFieldsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(translation_TranslationFieldsvue_type_script_lang_js,TranslationFieldsvue_type_template_id_179533fa_scoped_true_render,TranslationFieldsvue_type_template_id_179533fa_scoped_true_staticRenderFns,!1,null,"179533fa",null)
/* harmony default export */,TranslationFields=component.exports,layoutTypes={WEB_VIEW:1,MOBILE_VIEW:2},defaultFilterValue={loading:!0,query:null},filterHash={STATE_TRANSITION:{component:function(){return __webpack_require__.e(/* import() */92424).then(__webpack_require__.bind(__webpack_require__,892424))},default:defaultFilterValue},VIEWS:{component:function(){return __webpack_require__.e(/* import() */82048).then(__webpack_require__.bind(__webpack_require__,382048))},default:defaultFilterValue},FORMS:{component:function(){return __webpack_require__.e(/* import() */14901).then(__webpack_require__.bind(__webpack_require__,514901))},default:defaultFilterValue},DASHBOARD:{component:function(){return __webpack_require__.e(/* import() */97583).then(__webpack_require__.bind(__webpack_require__,97583))},default:defaultFilterValue},STATE_TRANSITION_FORM:{component:function(){return __webpack_require__.e(/* import() */48152).then(__webpack_require__.bind(__webpack_require__,648152))},default:defaultFilterValue},WORKORDER_FIELDS:{component:function(){return __webpack_require__.e(/* import() */63291).then(__webpack_require__.bind(__webpack_require__,763291))},default:defaultFilterValue},ASSET_FIELDS:{component:function(){return __webpack_require__.e(/* import() */63291).then(__webpack_require__.bind(__webpack_require__,763291))},default:defaultFilterValue}},portfolioCustomModule={site:"Site",building:"Building",floor:"Floor",space:"Space"},TranslationTablevue_type_script_lang_js={props:["appId"],components:{TranslationFields:TranslationFields,Spinner:Spinner/* default */.Z},data:function(){return{appLayouts:null,appDomain:null,webTabGroups:[],activeGroupId:null,activeTabId:null,activeTab:null,activeColumnId:null,loadingTabsAndLayouts:!1,layoutTypes:layoutTypes,portfolioCustomModule:portfolioCustomModule,iconClass:"icon icon-40 p10 pointer",selectedLayout:1,customModuleName:null,customQuery:{},filters:this.getDefaultFilters()}},watch:{selectedLayout:function(){this.constructWebtabGroups()},appId:{handler:function(value){(0,validation/* isEmpty */.xb)(value)||this.init()},immediate:!0}},computed:{enabledLayouts:function(){var _enabledLayouts,appLayouts=this.appLayouts,_this$layoutTypes=this.layoutTypes,WEB_VIEW=_this$layoutTypes.WEB_VIEW,MOBILE_VIEW=_this$layoutTypes.MOBILE_VIEW,enabledLayouts=(_enabledLayouts={},(0,defineProperty/* default */.Z)(_enabledLayouts,WEB_VIEW,!1),(0,defineProperty/* default */.Z)(_enabledLayouts,MOBILE_VIEW,!1),_enabledLayouts);return(0,validation/* isEmpty */.xb)(appLayouts)||appLayouts.forEach((function(layout){enabledLayouts[layout.layoutDeviceType]=!0})),enabledLayouts},currentAppLayout:function(){var appLayouts=this.appLayouts,selectedLayout=this.selectedLayout;return(appLayouts||[]).find((function(view){return view.layoutDeviceType===selectedLayout}))||{}},portfolioTabCheck:function(){var activeTab=this.activeTab,_ref=activeTab||{},configJSON=_ref.configJSON,_ref2=configJSON||{},type=_ref2.type;return"portfolio"===type},currentColumns:function(){var activeTabId=this.activeTabId,activeTab=this.activeTab,_ref3=activeTab||{},typeVsColumns=_ref3.typeVsColumns;return(0,validation/* isEmpty */.xb)(activeTabId)||(0,validation/* isEmpty */.xb)(typeVsColumns)?[]:typeVsColumns}},methods:{getDefaultFilters:function(){var filters={};return Object.keys(filterHash).forEach((function(key){return filters[key]=defaultFilterValue})),filters},getPortfolioTab:function(tab){var activeTabId=this.activeTabId,portfolioTabCheck=this.portfolioTabCheck,_ref4=tab||{},id=_ref4.id;return!(!portfolioTabCheck||activeTabId!=id)},customFilterCheck:function(col){var customQuery=this.customQuery,filters=this.filters,portfolioTabCheck=this.portfolioTabCheck,_ref5=col||{},type=_ref5.type;return portfolioTabCheck&&!["FORMS","VIEWS"].includes(type)?customQuery:filters[type]},isEmpty:validation/* isEmpty */.xb,getFilterComponent:function(columnId){return filterHash[columnId]?filterHash[columnId].component:null},setFilter:function(columnId,value){this.filters[columnId]=value},selectView:function(layoutType){!this.loadingTabsAndLayouts&&this.enabledLayouts[layoutType]&&(this.selectedLayout=layoutType)},getViewIconClass:function(layoutType){var iconClass=this.iconClass;return this.enabledLayouts[layoutType]||(iconClass+=" fill-disabled-grey"),layoutType===this.selectedLayout&&(iconClass+=" fill-pink"),iconClass},loadLayoutsAndTabs:function(appId){return api/* API */.bl.get("/v2/translation/fetchDetail",{applicationId:appId}).then((function(_ref6){var data=_ref6.data,error=_ref6.error;return error?{error:error}:{data:data||{}}}))},setActiveTab:function(tab,groupId){this.filters=this.getDefaultFilters(),this.activeTabId=tab.id,this.activeTab=(0,objectSpread2/* default */.Z)({},tab);var _ref7=tab||{},configJSON=_ref7.configJSON,_ref8=configJSON||{},type=_ref8.type;"portfolio"===type&&(this.customModuleName="site",this.customQuery={loading:!0,query:{moduleName:this.customModuleName}}),this.activeGroupId=groupId;var _ref9=this.activeTab||{},typeVsColumns=_ref9.typeVsColumns;if(!(0,validation/* isEmpty */.xb)(typeVsColumns)){var _typeVsColumns=(0,slicedToArray/* default */.Z)(typeVsColumns,1),firstColumn=_typeVsColumns[0],_ref10=firstColumn||{},_type=_ref10.type;this.activeColumnId=_type}},fetchCustomModuleName:function(data){var customModuleName=this.customModuleName,$getProperty=this.$getProperty,portfolioTabCheck=this.portfolioTabCheck,_ref11=data||{},modules=_ref11.modules;return portfolioTabCheck?customModuleName:$getProperty(modules,"0.name",null)},setProps:function(name){this.customModuleName=name,this.customQuery={loading:!0,query:{moduleName:name}}},loadAppLayoutsAndTabs:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$_this$loadLayo,error,data,webTabDetails,_ref12,linkName,layouts,appDomain;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loadingTabsAndLayouts=!0,_context.next=3,_this.loadLayoutsAndTabs(_this.appId);case 3:_yield$_this$loadLayo=_context.sent,error=_yield$_this$loadLayo.error,data=_yield$_this$loadLayo.data,error?_this.$message.error(error.message||"Error Occured"):(webTabDetails=data.webTabDetails,_ref12=webTabDetails||{},linkName=_ref12.linkName,layouts=_ref12.layouts,appDomain=_ref12.appDomain,_this.appLayouts=layouts,_this.appName=linkName,_this.appDomain=appDomain,_this.selectedLayout=1,_this.constructWebtabGroups()),_this.loadingTabsAndLayouts=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},init:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.loadAppLayoutsAndTabs();case 2:case"end":return _context2.stop()}}),_callee2)})))()},constructWebtabGroups:function(){var groups=this.currentAppLayout.webTabGroupList;if((0,validation/* isEmpty */.xb)(groups))this.webTabGroups=[],this.activeTab=null,this.activeGroupId=null,this.activeTabId=null;else{this.webTabGroups=sortBy_default()(groups,["order"]);var webTabGroups=this.webTabGroups,_ref13=webTabGroups||[],_ref14=(0,slicedToArray/* default */.Z)(_ref13,1),webTabGroup=_ref14[0],_ref15=webTabGroup||{},webTabs=_ref15.webTabs,_ref16=webTabs||[],_ref17=(0,slicedToArray/* default */.Z)(_ref16,1),webTab=_ref17[0];this.activeGroup=webTabGroup.id,this.activeTabId=webTab.id,this.activeTab=(0,objectSpread2/* default */.Z)({},webTab);var _ref18=webTab||{},configJSON=_ref18.configJSON,_ref19=configJSON||{},type=_ref19.type;"portfolio"===type&&(this.customModuleName="site",this.customQuery={loading:!0,query:{moduleName:this.customModuleName}});var _ref20=this.activeTab||{},typeVsColumns=_ref20.typeVsColumns;if(!(0,validation/* isEmpty */.xb)(typeVsColumns)){var _typeVsColumns2=(0,slicedToArray/* default */.Z)(typeVsColumns,1),firstColumn=_typeVsColumns2[0],_ref21=firstColumn||{},_type2=_ref21.type;this.activeColumnId=_type2}}}}},translation_TranslationTablevue_type_script_lang_js=TranslationTablevue_type_script_lang_js,TranslationTable_component=(0,componentNormalizer/* default */.Z)(translation_TranslationTablevue_type_script_lang_js,TranslationTablevue_type_template_id_a44083f6_scoped_true_render,TranslationTablevue_type_template_id_a44083f6_scoped_true_staticRenderFns,!1,null,"a44083f6",null)
/* harmony default export */,TranslationTable=TranslationTable_component.exports,appUtil=__webpack_require__(843097),router=__webpack_require__(329435),TranslationDetailsvue_type_script_lang_js={data:function(){return{loadingApps:!1,availableApps:[]}},components:{TranslationTable:TranslationTable,Spinner:Spinner/* default */.Z},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var availableApps;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadAvailableApps();case 2:(0,validation/* isEmpty */.xb)(_this.appId)&&(availableApps=_this.availableApps,_this.appId=(availableApps[0]||{}).id);case 3:case"end":return _context.stop()}}),_callee)})))()},computed:{appId:{get:function(){var params=this.$route.params,_ref=params||{},appId=_ref.appId;return appId?Number(appId):null},set:function(value){var query=this.$route.query;this.$router.replace({params:{appId:value},query:query}).catch((function(){}))}},currentAppId:function(){return((0,router/* getApp */.wx)()||{}).id}},methods:{back:function(){this.$router.go(-1)},loadAvailableApps:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$loadApps,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loadingApps=!0,_context2.next=3,(0,appUtil/* loadApps */.jJ)();case 3:_yield$loadApps=_context2.sent,error=_yield$loadApps.error,data=_yield$loadApps.data,error?_this2.$message.error(error.message||"Error Occured"):_this2.availableApps=(0,appUtil/* getFilteredApps */.iN)(data),_this2.loadingApps=!1;case 8:case"end":return _context2.stop()}}),_callee2)})))()}}},translation_TranslationDetailsvue_type_script_lang_js=TranslationDetailsvue_type_script_lang_js,TranslationDetails_component=(0,componentNormalizer/* default */.Z)(translation_TranslationDetailsvue_type_script_lang_js,render,staticRenderFns,!1,null,"7355d3b4",null)
/* harmony default export */,TranslationDetails=TranslationDetails_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/1394.js.map