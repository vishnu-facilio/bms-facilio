(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[4395,67004],{
/***/930487:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Home}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/Home.vue?vue&type=template&id=a0a47bca
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasProxy?_c("div",[_c("el-alert",{staticClass:"fc-portal-login-alert",attrs:{title:_vm.proxyBanner,type:"error",closable:!1,effect:"dark"}})],1):_vm._e(),_vm.loading?_c("div",{staticClass:"flex-middle justify-content-center height100vh width100"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",{staticClass:"portal-home-layout"},[_c("tenant-sidebar"),_c("ConnectedAppDialer"),_c("router-view",{staticClass:"flex-grow dashboard-print"}),_vm.$helpers.isLicenseEnabled("CHATBOT")?_c("f-chatbot"):_vm._e()],1)])},staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),portalHomeMixin=(__webpack_require__(634338),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(298563)),TenantSidebarvue_type_template_id_334e8605_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-aside",{staticClass:"fc-v1-portal-sidebar pT0 d-flex flex-col",attrs:{width:"250px"}},[_c("div",{staticClass:"d-flex justify-center width100"},[_c("a",{staticClass:"mT15 pL30 pR30 pointer",on:{click:_vm.onLogoClick}},[_vm.$getProperty(_vm.$account,"org.logoUrl")?_c("img",{staticClass:"object-scale-down",attrs:{src:_vm.getLogoUrl(_vm.$account.org),height:"80",width:"100%"}}):"Moro"==this.brandName?_c("img",{staticClass:"object-scale-down",attrs:{height:"80",width:"220",src:__webpack_require__(700185)}}):_c("img",{staticClass:"object-scale-down",attrs:{src:__webpack_require__(117524),height:"80",width:"100%"}})])]),_c("div",{staticClass:"d-flex justify-center"},[_vm.getRequestRoute()?_c("router-link",{staticClass:"tenant-portal-sub-btn",attrs:{to:_vm.getRequestRoute()}},[_vm._v(" "+_vm._s(_vm.$t("tenant.announcement.submit_req"))+" ")]):_vm._e()],1),_c("ul",{staticClass:"tenantportal-sidebar-list"},[_vm._l(_vm.filteredMenu,(function(group){return[1===group.webTabs.length?[_c("router-link",{key:group.webTabs[0].id,staticClass:"pointer list-item list-hover pT10 pB10 pL15 pR30",attrs:{to:_vm.findRouteForTab(group.webTabs[0].id),tag:"li"}},[_c("InlineSvg",{attrs:{src:_vm.getIconPath(group.iconType),iconClass:"icon icon-md vertical-middle mR10"}}),_vm._v(" "+_vm._s(group.name)+" ")],1)]:[_c("div",{key:group.id,staticClass:"d-flex flex-col"},[_c("div",{staticClass:"list-item pT10 pB10 pL15 pR10 pointer",staticStyle:{border:"3px solid transparent"},on:{click:function($event){return _vm.expandGroup(group)}}},[_c("InlineSvg",{attrs:{src:_vm.getIconPath(group.iconType),iconClass:"icon icon-md vertical-middle mR10"}}),_vm._v(" "+_vm._s(group.name)+" "),_c("i",{class:{"el-icon-arrow-up fR f12 mT5":!0,rotate180:group.id!==_vm.selectedGroupId}})],1),_c("el-collapse-transition",[_c("div",{directives:[{name:"show",rawName:"v-show",value:group.id===_vm.selectedGroupId,expression:"group.id === selectedGroupId"}],staticClass:"d-flex flex-col pointer"},_vm._l(group.webTabs,(function(tab){return _c("router-link",{key:tab.id,staticClass:"pointer list-item list-item-small list-hover pT10 pB10 pL45 pR10",attrs:{to:_vm.findRouteForTab(tab.id)}},[_vm._v(" "+_vm._s(tab.name)+" ")])})),1)])],1)]]}))],2),_c("div",{staticClass:"flex-grow flex-shrink",on:{click:_vm.expandGroup}}),_c("div",{staticClass:"p30 pointer"},[_c("el-dropdown",{on:{command:_vm.profileAction}},[_c("user-avatar",{attrs:{size:"lg",user:_vm.$portaluser}}),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_vm.canShowPrivacyPolicy?_c("el-dropdown-item",{attrs:{command:"privacypolicy"}},[_c("a",{staticClass:"tenant-sidebar-link-text",attrs:{href:_vm.privacyPolicyLink,target:"_blank"}},[_vm._v(_vm._s(_vm.$t("tenant.announcement.privacy_policy")))])]):_vm._e(),_vm.canShowTermsOfService?_c("el-dropdown-item",{attrs:{command:"termsofservice"}},[_c("a",{staticClass:"tenant-sidebar-link-text",attrs:{href:_vm.termsOfServiceLink,target:"_blank"}},[_vm._v(_vm._s(_vm.$t("tenant.announcement.terms_of_service")))])]):_vm._e(),_c("el-dropdown-item",{attrs:{divided:"",command:"myprofile"}},[_vm._v(" "+_vm._s(_vm.$t("tenant.announcement.my_profile"))+" ")]),_c("el-dropdown-item",{attrs:{command:"logout"},on:{change:_vm.logout}},[_vm._v(_vm._s(_vm.$t("tenant.announcement.logout")))])],1)],1)],1)])},TenantSidebarvue_type_template_id_334e8605_scoped_true_staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(976801),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),router=__webpack_require__(329435),webtab_icons=__webpack_require__(326884),User=__webpack_require__(426803),rebrandMixin=__webpack_require__(222174),api=__webpack_require__(32284),helpers=__webpack_require__(778390),TenantSidebarvue_type_script_lang_js={mixins:[portalHomeMixin/* default */.Z,rebrandMixin/* default */.Z],components:{UserAvatar:User/* default */.Z},data:function(){return{openGroupId:null,brandName:"",canShowPrivacyPolicy:!1,canShowTermsOfService:!1}},mounted:function(){
// if (window.rebrandInfo && window.rebrandInfo.brandName) {
//   this.brandName = window.rebrandInfo.brandName
// }
window.brandConfig&&window.brandConfig.name&&(this.brandName=window.brandConfig.name),this.setCanShowPrivacyPolicy(),this.setCanShowTermsOfService()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabGroups","isAppPrefEnabled"])),(0,vuex_esm/* mapState */.rn)("webtabs",["selectedTabGroup"])),{},{appName:function(){return(0,router/* getApp */.wx)().linkName||"tenant"},filteredMenu:function(){var groups=sortBy_default()(this.getTabGroups(),["order"]);return groups.map((function(group){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},group),{},{webTabs:sortBy_default()(group.webTabs||[],["order"])})})).filter((function(group){return!(0,validation/* isEmpty */.xb)(group.webTabs)}))},selectedGroupId:{get:function(){return this.openGroupId||this.$getProperty(this.selectedTabGroup,"id",null)},set:function(value){this.openGroupId=value}},privacyPolicyLink:function(){return(0,helpers/* getAppDomain */.$$)()+"/auth/privacy-policy"},termsOfServiceLink:function(){return(0,helpers/* getAppDomain */.$$)()+"/auth/terms-of-service"}}),watch:{selectedTabGroup:{handler:function(value){value&&(this.openGroup=value.id)},immediate:!0}},methods:{findRouteForTab:router/* findRouteForTab */.OD,getIconPath:function(type){var iconType=webtab_icons/* default */.Z[type]||{};return iconType.icon||webtab_icons/* default */.Z[200].icon},expandGroup:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},id=_ref.id;id&&this.selectedGroupId!==id?this.selectedGroupId=id:this.selectedGroupId=null},getLogoUrl:function(org){return org&&org.logoUrl?this.$prependBaseUrl(org.logoUrl):null},profileAction:function(command){"myprofile"===command?this.$router.push({path:"/".concat(this.appName,"/profile")}):"logout"===command&&this.logout()},getRequestRoute:function(){var _ref2=this.isAppPrefEnabled("canShowSubmitRequest")||{},tab=_ref2.tab,moduleName=_ref2.moduleName,hasPermission=!1;if("service_catelog"===tab)return(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:"serviceCatalog"}});if("module"!==tab){if(["tenant","service"].includes(this.appName)){var _findTab2=(0,router/* findTab */.DU)(router/* tabTypes */.VF.MODULE,{moduleName:"workorder"}),_tabId=_findTab2.tabId;if(!(0,validation/* isEmpty */.xb)(_tabId)&&(hasPermission=this.$hasPermission("workorder:CREATE",_tabId),hasPermission))return(0,router/* findRouteForModule */.Jp)("workorder",router/* pageTypes */.As.CREATE)}return!1}var _findTab=(0,router/* findTab */.DU)(router/* tabTypes */.VF.MODULE,{moduleName:moduleName}),tabId=_findTab.tabId;return hasPermission=this.$hasPermission("".concat(moduleName,":CREATE"),tabId),hasPermission?(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE):void 0},getRouteForFirstTab:function(){var initialGroup=this.filteredMenu[0],tabId=initialGroup.webTabs[0].id;return(0,router/* findRouteForTab */.OD)(tabId)},getLoginRoute:function(){return{name:"login"}},onLogoClick:function(){var _ref3=this.$portaluser?this.getRouteForFirstTab():this.getLoginRoute(),name=_ref3.name;name&&this.$router.push({name:name})},setCanShowPrivacyPolicy:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var url,_yield$API$get,data,showInMenu;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return url="/integ/privacyPolicy",_context.prev=1,_context.next=4,api/* API */.bl.get(url);case 4:_yield$API$get=_context.sent,data=_yield$API$get.data,(0,validation/* isEmpty */.xb)(data)||(showInMenu=_this.$getProperty(data,"result.privacyPolicy.showInMenu",!1),_this.canShowPrivacyPolicy=showInMenu),_context.next=12;break;case 9:_context.prev=9,_context.t0=_context["catch"](1),_this.canShowPrivacyPolicy=!1;case 12:case"end":return _context.stop()}}),_callee,null,[[1,9]])})))()},setCanShowTermsOfService:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var url,_yield$API$get2,data,showInMenu;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return url="/integ/termsOfService",_context2.prev=1,_context2.next=4,api/* API */.bl.get(url);case 4:_yield$API$get2=_context2.sent,data=_yield$API$get2.data,(0,validation/* isEmpty */.xb)(data)||(showInMenu=_this2.$getProperty(data,"result.termsOfService.showInMenu",!1),_this2.canShowTermsOfService=showInMenu),_context2.next=12;break;case 9:_context2.prev=9,_context2.t0=_context2["catch"](1),_this2.canShowTermsOfService=!1;case 12:case"end":return _context2.stop()}}),_callee2,null,[[1,9]])})))()}}},components_TenantSidebarvue_type_script_lang_js=TenantSidebarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_TenantSidebarvue_type_script_lang_js,TenantSidebarvue_type_template_id_334e8605_scoped_true_render,TenantSidebarvue_type_template_id_334e8605_scoped_true_staticRenderFns,!1,null,"334e8605",null)
/* harmony default export */,TenantSidebar=component.exports,Spinner=__webpack_require__(604947),dlv_umd=__webpack_require__(226905),dlv_umd_default=__webpack_require__.n(dlv_umd),FChatbotWrapper=__webpack_require__(568110),websocketMixin=__webpack_require__(222308),wms_client=__webpack_require__(907974),vue_runtime_esm=__webpack_require__(720144),data_dog=__webpack_require__(741003),pendo=__webpack_require__(748332),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),ConnectedAppDialer=__webpack_require__(443036),Homevue_type_script_lang_js={mixins:[portalHomeMixin/* default */.Z,websocketMixin/* default */.Z],components:{tenantSidebar:TenantSidebar,Spinner:Spinner/* default */.Z,FChatbot:FChatbotWrapper/* default */.Z,ConnectedAppDialer:ConnectedAppDialer/* default */.Z},data:function(){return{loading:!0,displayProxyBanner:!0,counterPrefix:null,counter:null,acc:null}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _ref,sessionEndTime,user,_ref2,proxy,userName;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadAccount(!0);case 2:_this.acc=_context.sent,_ref=_this.acc||{},sessionEndTime=_ref.sessionEndTime,user=_ref.user,_ref2=user||{},proxy=_ref2.proxy,userName=_ref2.userName,sessionEndTime&&(_this.counterPrefix="".concat(proxy," will be viewing as ").concat(userName," for "),_this.startTimer(sessionEndTime));case 6:case"end":return _context.stop()}}),_callee)})))()},beforeRouteEnter:function(to,from,next){next(function(){var _ref3=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(vm){var _yield$Promise$all,_yield$Promise$all2,account,isProd;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,vm.loadPublicInfo();case 2:return _context2.next=4,Promise.all([vm.loadAccount(),vm.loadFeatures()]);case 4:_yield$Promise$all=_context2.sent,_yield$Promise$all2=(0,slicedToArray/* default */.Z)(_yield$Promise$all,1),account=_yield$Promise$all2[0],account&&dlv_umd_default()(account,"config.new_ws_endpoint")&&(vue_runtime_esm["default"].prototype.$wms=new wms_client/* default */.Z({endpoint:dlv_umd_default()(account,"config.new_ws_endpoint"),log:!0})),isProd=!0,isProd&&(0,data_dog/* initDataDog */.p)(account),(0,pendo/* initPendo */.x)(account,vm),vm.loading=!1;case 12:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref3.apply(this,arguments)}}())},destroyed:function(){window.removeEventListener("message")},computed:{proxyBanner:function(){return this.counterPrefix+(this.counter||"---")},hasProxy:function(){var _ref4=this.acc||{},user=_ref4.user,_ref5=user||{},proxy=_ref5.proxy;return!(0,validation/* isEmpty */.xb)(proxy)}},methods:{startTimer:function(endTime){var _this2=this,startTime=Date.now();if(!(startTime>endTime)){var duration=endTime-startTime,interval=1e3;setInterval((function(){duration=moment_timezone_default().duration(duration-interval,"milliseconds"),_this2.counter=moment_timezone_default().utc(duration.as("milliseconds")).format("HH:mm:ss")}),interval)}}}},PortalTenant_Homevue_type_script_lang_js=Homevue_type_script_lang_js,Home_component=(0,componentNormalizer/* default */.Z)(PortalTenant_Homevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Home=Home_component.exports},
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/678380:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialog}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialog.vue?vue&type=template&id=621b9da3&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:[_vm.options.className]},[_c("transition",{attrs:{name:_vm.options.transition}},[_vm.visible?_c("div",{staticClass:"f-dialog-wrapper",attrs:{id:_vm.options.id},on:{click:function($event){return $event.target!==$event.currentTarget?null:_vm.maskClick.apply(null,arguments)},keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.escape.apply(null,arguments)}}},[_c("div",{staticClass:"f-dialog-backdrop",style:{background:_vm.options.maskColor}}),_c("div",{ref:"dialogContent",staticClass:"f-dialog-content",class:{"f-dialog-wide":_vm.options.wide},attrs:{tabindex:"-1"}},[_c("div",{staticClass:"f-dialog-header",class:{"with-body":_vm.options.message}},[_c("span",{staticClass:"content delete-heading"})]),_vm.options.message?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):_vm.options.htmlMessage?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content",domProps:{innerHTML:_vm._s(_vm.options.htmlMessage)}})]):"alert"===_vm.options.mode?_c("div",{staticClass:"f-dialog-body"},[_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):"prompt"===_vm.options.mode?_c("div",{staticClass:"prompt-dialog"},[_c("div",{staticClass:"prompt-input-wrapper"},["textarea"===_vm.options.promptType?_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",staticStyle:{resize:"none"},attrs:{placeholder:_vm.options.promptPlaceholder},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}}):_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",attrs:{placeholder:_vm.options.promptPlaceholder,type:"text"},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}})])]):"confirm"===_vm.options.mode&&_vm.options.confirmOptions&&_vm.options.confirmOptions.length?_c("div",{staticClass:"f-dialog-body"},_vm._l(_vm.options.confirmOptions,(function(item,idx){return _c("el-checkbox",{key:idx,model:{value:item.value,callback:function($$v){_vm.$set(item,"value",$$v)},expression:"item.value"}},[_vm._v(_vm._s(item.label))])})),1):_vm._e(),_c("div",{staticClass:"f-dialog-footer btn-block"},[_vm.options.lbHide?_vm._e():_c("button",{ref:"lbButton",staticClass:"btn btn--secondary del-cancel-btn",class:{red:_vm.options.lbDanger},attrs:{type:"button",value:_vm.options.lbLabel},on:{click:_vm.lbClick}},[_vm._v(" "+_vm._s(_vm.options.lbLabel||_vm.$t("common._common.cancel"))+" ")]),_vm.options.rbHide?_vm._e():_c("button",{ref:"rbButton",staticClass:"btn btn--primary",class:[_vm.options.rbDanger&&"btn--danger",_vm.options.rbClass?_vm.options.rbClass:"del-delete-btn"],attrs:{type:"button",value:_vm.options.rbLabel,tabindex:"-1",disabled:_vm.loadingOnConfirm},on:{click:_vm.rbClick}},[_vm._v(" "+_vm._s(_vm.options.rbLabel||"Delete")+" ")])])])]):_vm._e()])],1)},staticRenderFns=[],createClass=__webpack_require__(862833),classCallCheck=__webpack_require__(513087),OPTIONS_TEMPLATE=(__webpack_require__(260228),__webpack_require__(670560),{id:"vue-fdialog-default",
// DOM id
className:"",
// additional class name
maskColor:"rgba(40, 40, 40, 0.6)",
// color of the mask area
override:!1,
// current dialog overrides the queue and cancel any dialogs before it
parent:"body",
// parent DOM node
transition:"f-dialog-transition",
// transition name
duration:0,
// milliseconds before auto close, set to 0 or any falsy value to disable auto close
wide:!1,
// show as a wide dialog
title:"",
// dialog title
message:"",
// dialog message
mode:"alert",
// alert, confirm or prompt
forceStay:!0,
// set to true to prevent closing / canceling the dialog when mask area is clicked
defaultButton:"r",
// set the button that gets focus when the dialog shows, available when at least two buttons are shown
lbDanger:!1,
// set to true to style the left button as danger
rbDanger:!1,
// set to true to style the right button as danger
lbHide:!1,
// hide left button
rbHide:!1,
// hide right button
lbClass:"",rbClass:"",lbLabel:"Cancel",
// left button label text
rbLabel:"Ok",
// right button label text
actionAlt:null,
// callback function when left button is clicked
action:null,
// callback function when right button is clicked
promptType:"text",
// prompt type 'text' or 'textarea'
promptPlaceholder:"",htmlMessage:"",confirmOptions:null,proceedFunc:null}),CANCELLED=!0,Later=(0,createClass/* default */.Z)((function Later(){var _this=this;(0,classCallCheck/* default */.Z)(this,Later),this.promise=new Promise((function(resolve,reject){_this.reject=reject,_this.resolve=resolve}))})),FDialogvue_type_script_lang_js={OPTIONS_TEMPLATE:OPTIONS_TEMPLATE,props:[],components:{},computed:{options:function(){return Object.assign({},OPTIONS_TEMPLATE,this.optionsData)}},watch:{},data:function(){return{queue:[],optionsData:{},visible:!1,input:"",timeoutHandler:null,promiseHandler:null,loadingOnConfirm:!1}},methods:{enqueue:function(args){var pending=this.queue.length;return args.override?(this.queue=[args],this.transit()):(this.queue.push(args),0===pending&&this.transit()),args.promiseHandler=new Later,args.promiseHandler.promise},consume:function(cancelled){var _this2=this;switch(this.options.mode){case"alert":this.optionsData.promiseHandler.resolve();break;case"confirm":var value=!cancelled;this.options.confirmOptions&&this.options.confirmOptions.length&&(value=[value,this.options.confirmOptions]),this.optionsData.promiseHandler.resolve(value);break;case"prompt":cancelled?this.optionsData.promiseHandler.resolve(null):this.optionsData.promiseHandler.resolve(this.input);break;default:this.optionsData.promiseHandler.resolve();break}this.timeoutHandler&&clearTimeout(this.timeoutHandler),this.timeoutHandler=null,this.input="",cancelled||!this.options.proceedFunc?(this.transit(),this.queue.shift()):(this.loadingOnConfirm=!0,this.options.proceedFunc().then((function(){_this2.close()})))},close:function(){this.loadingOnConfirm=!1,this.visible=!1,this.queue.shift()},transit:function(){var _this3=this;this.visible=!1,setTimeout((function(){_this3.queue.length&&(_this3.optionsData=_this3.queue[0],_this3.visible=!0,setTimeout((function(){"prompt"===_this3.options.mode?_this3.$refs.promptInput.focus():_this3.$refs.rbButton.focus()})),_this3.options.duration&&(_this3.timeoutHandler=setTimeout((function(){_this3.consume()}),_this3.options.duration)))}))},escape:function(){this.consume(CANCELLED)},maskClick:function(){!1===this.options.forceStay&&(this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt())},lbClick:function(){this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt()},rbClick:function(){this.consume(),"function"===typeof this.options.action&&this.options.action()}},mounted:function(){}},components_FDialogvue_type_script_lang_js=FDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogvue_type_script_lang_js,render,staticRenderFns,!1,null,"621b9da3",null)
/* harmony default export */,FDialog=component.exports},
/***/989715:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSound}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSound.vue?vue&type=template&id=74a36aeb
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"hide"},_vm._l(_vm.sounds,(function(sound,index){return _c("audio",{key:index,ref:"fglobalSound",refInFor:!0,attrs:{src:sound.url}})})),0)},staticRenderFns=[],FSoundvue_type_script_lang_js=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),{data:function(){return{activeSound:__webpack_require__(405074),sounds:[{name:"default",url:__webpack_require__(405074)},{name:"stuffed",url:__webpack_require__(76834)},{name:"alarm",
// url: require('statics/sounds/alarm_default.mp3'),
url:__webpack_require__(930760)}]}},methods:{play:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].play()},stop:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].pause(),this.$refs.fglobalSound[soundIndex].currentTime=0}}}),components_FSoundvue_type_script_lang_js=FSoundvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSoundvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSound=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/369955:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ValueFormatter}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ValueFormatter.vue?vue&type=template&id=8ba0e75e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_vm.val?_c("span",{staticClass:"value"},[_vm._v(" "+_vm._s(_vm.val)+" ")]):_vm._e(),_vm.withUnit?_c("span",{staticClass:"unit"},[_vm._v(" "+_vm._s(_vm.uni)+" ")]):_vm._e()])},staticRenderFns=[],esm_typeof=__webpack_require__(103336),validation=(__webpack_require__(879288),__webpack_require__(897389),__webpack_require__(990260)),ValueFormattervue_type_script_lang_js={props:["withUnit","config","value","unit","maxDecimal"],data:function(){return{val:null,uni:""}},mounted:function(){this.config?this.loadDataWithConfig():this.loadConfig()},methods:{loadConfig:function(){if(this.unit&&""!==this.unit){var obj=this.$convert(this.value).from(this.unit).toBest();
// value set
"object"===(0,esm_typeof/* default */.Z)(obj)&&(Number(obj.val)%1===0||Number(obj.val)%1===0||(0,validation/* isUndefined */.o8)(this.maxDecimal)?this.val=obj.val:this.val=obj.val.toFixed(this.maxDecimal)),
// unit set
this.withUnit&&"object"===(0,esm_typeof/* default */.Z)(obj)&&(this.uni=obj.unit)}else this.val=this.value},loadDataWithConfig:function(){}}},components_ValueFormattervue_type_script_lang_js=ValueFormattervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ValueFormattervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ValueFormatter=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/231296:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return currency}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/currency.vue?vue&type=template&id=043ee61d
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.prefixUnit?_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))]):_vm._e(),_c("span",{class:"curreny-"+_vm.valueSize},[_vm._v(_vm._s(_vm.formatedValue))]),_vm.prefixUnit?_vm._e():_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize+" mL5"},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))])])},staticRenderFns=[],currencyvue_type_script_lang_js=(__webpack_require__(976801),{props:["value","symbolSize","valueSize","recordCurrency"],computed:{formatedValue:function(){return this.$d3.format(",.2f")(this.value)},prefixUnit:function(){var $currency=this.$currency;return["$","£","₹"].includes($currency)}}}),components_currencyvue_type_script_lang_js=currencyvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_currencyvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,currency=component.exports},
/***/443036:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ConnectedAppDialer}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/ConnectedAppDialer.vue?vue&type=template&id=e6dc1962
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.widget?_c("el-card",{staticClass:"dialer-card",class:{minimized:_vm.minimized,closed:_vm.closed},style:_vm.dialerStyle},[_c("div",{staticClass:"clearfix",attrs:{slot:"header"},on:{click:_vm.toggleDialer},slot:"header"},[_c("span",[_vm._v(_vm._s(_vm.widget.widgetName))]),_c("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:_vm.minimized?"el-icon-arrow-up":"el-icon-arrow-down"}})],1),_vm.widget?_c("ConnectedAppViewWidget",{key:_vm.widget.id,ref:"ref-"+_vm.widget.id,attrs:{widgetId:_vm.widget.id,handlers:_vm.handlers}}):_vm._e()],1):_vm._e()},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(648324),__webpack_require__(32284)),validation=__webpack_require__(990260),ConnectedAppViewWidget=__webpack_require__(767004),router=__webpack_require__(329435),ConnectedAppDialervue_type_script_lang_js={components:{ConnectedAppViewWidget:ConnectedAppViewWidget["default"]},data:function(){return{widget:null,dialerState:{width:"300px",height:"450px",top:null,bottom:"0px",right:"20px",left:null,theme:null,color:null},minimized:!1,closed:!0,handlers:{}}},mounted:function(){this.initWidgetHandlers(),this.loadWidgets()},computed:{dialerStyle:function(){var style="";return null!=this.dialerState.width&&(style+="width: "+this.dialerState.width+";"),null!=this.dialerState.height&&(style+="height: "+this.dialerState.height+";"),null!=this.dialerState.top&&(style+="top: "+this.dialerState.top+";"),null!=this.dialerState.bottom&&(style+="bottom: "+this.dialerState.bottom+";"),null!=this.dialerState.right&&(style+="right: "+this.dialerState.right+";"),null!=this.dialerState.left&&(style+="left: "+this.dialerState.left+";"),null!=this.dialerState.theme&&(style+="background: "+this.dialerState.theme+";",style+="border: 1px solid "+this.dialerState.theme+";"),null!=this.dialerState.color&&(style+="color: "+this.dialerState.color+";"),style},currentAppId:function(){return((0,router/* getApp */.wx)()||{}).id}},methods:{toggleDialer:function(){this.minimized=!this.minimized,this.minimized?this.sendEvent("dialer.inactive",!0):this.sendEvent("dialer.active",!0)},initWidgetHandlers:function(){var _this=this,open=function(){_this.closed=!1},close=function(){_this.closed=!0},maximize=function(){_this.minimized=!1},minimize=function(){_this.minimized=!0},resize=function(_ref){var width=_ref.width,height=_ref.height,top=_ref.top,bottom=_ref.bottom,left=_ref.left,right=_ref.right;_this.dialerState.width=width||"300px",_this.dialerState.height=height||"450px",_this.dialerState.top=top||null,_this.dialerState.bottom=bottom||"0px",_this.dialerState.right=right||"20px",_this.dialerState.left=left||null},style=function(_ref2){var theme=_ref2.theme,color=_ref2.color;_this.dialerState.theme=theme||null,_this.dialerState.color=color||null},subscribe=function(_ref3){var topic=_ref3.topic;topic&&_this.$wms.subscribe(topic,_this.onLiveData)},unsubscribe=function(_ref4){var topic=_ref4.topic;topic&&_this.$wms.unsubscribe(topic,_this.onLiveData)};this.handlers={open:open,close:close,maximize:maximize,minimize:minimize,resize:resize,style:style,subscribe:subscribe,unsubscribe:unsubscribe}},onLiveData:function(eventData){this.sendEvent("live.data.received",eventData)},sendEvent:function(eventName,eventData){var id=this.widget.id,refElement=this.$refs["ref-".concat(id)];(0,validation/* isEmpty */.xb)(refElement)||refElement.sendEvent(eventName,eventData)},loadWidgets:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var filters,encodedFilters,url,_yield$API$get,data,_ref5,connectedAppWidgets;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return filters={entityType:{operatorId:9,value:["4"]},entityId:{operatorId:9,value:["".concat(_this2.currentAppId)]}},encodedFilters=encodeURIComponent(JSON.stringify(filters)),url="/v2/connectedApps/widgetList?filters=".concat(encodedFilters),_context.next=5,api/* API */.bl.get(url);case 5:_yield$API$get=_context.sent,data=_yield$API$get.data,data&&(_ref5=data||{},connectedAppWidgets=_ref5.connectedAppWidgets,connectedAppWidgets&&connectedAppWidgets.length&&(_this2.widget=connectedAppWidgets[0]));case 8:case"end":return _context.stop()}}),_callee)})))()}}},home_ConnectedAppDialervue_type_script_lang_js=ConnectedAppDialervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_ConnectedAppDialervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppDialer=component.exports},
/***/767004:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ConnectedAppViewWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/connectedapps/ConnectedAppViewWidget.vue?vue&type=template&id=2a629fff
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("div",{staticClass:"height100 customize-scroll-hidden"},[_c("form",{ref:"formSubmit",attrs:{action:_vm.actionUrl,method:_vm.samlResponse?"POST":"GET",target:"iframeWidget-"+_vm.widgetId}},[_c("input",{attrs:{type:"hidden",name:"origin"},domProps:{value:_vm.origin}}),_c("input",{attrs:{type:"hidden",name:"capp_id"},domProps:{value:_vm.instanceUid}}),_vm.urlParams?_vm._l(_vm.urlParams,(function(param,index){return _c("input",{key:index,attrs:{type:"hidden",name:param.name},domProps:{value:param.value}})})):_vm._e(),_vm.samlResponse?_c("input",{attrs:{type:"hidden",name:"SAMLResponse"},domProps:{value:_vm.samlResponse}}):_vm._e(),_vm.relay?_c("input",{attrs:{type:"hidden",name:"RelayState"},domProps:{value:_vm.relay}}):_vm._e()],2),_c("iframe",{ref:"cappFrame",staticClass:"fc-connected-app-iframe",staticStyle:{width:"100%",height:"100%",border:"0px"},attrs:{name:"iframeWidget-"+_vm.widgetId,allow:"geolocation *; microphone *;  camera *;"}},[_vm._v(" The URL cannot be loaded in iframe. ")])])},staticRenderFns=[],slicedToArray=__webpack_require__(554621),createForOfIteratorHelper=__webpack_require__(566347),api=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(478730),__webpack_require__(779307),__webpack_require__(398858),__webpack_require__(461318),__webpack_require__(33228),__webpack_require__(670560),__webpack_require__(32284)),ConnectedAppViewWidgetvue_type_script_lang_js={props:["widgetId","recordId","context","handlers","exportMode"],data:function(){return{loading:!0,origin:null,instanceUid:null,urlParams:null,actionUrl:null,samlResponse:null,relay:null}},computed:{widgetKey:function(){var key=this.widgetId+"";return this.recordId&&(key=key+"_"+this.recordId),key}},mounted:function(){this.loadConnectedAppWidget()},watch:{widgetKey:function(){this.loadConnectedAppWidget()}},beforeDestroy:function(){this.destroyCurrentInstance()},methods:{getActions:function(){var _this=this;return{fullscreen:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(_this.$refs.cappFrame.requestFullscreen?_this.$refs.cappFrame.requestFullscreen():_this.$refs.cappFrame.webkitRequestFullscreen?_this.$refs.cappFrame.webkitRequestFullscreen():_this.$refs.cappFrame.mozRequestFullScreen?_this.$refs.cappFrame.mozRequestFullScreen():_this.$refs.cappFrame.msRequestFullscreen&&_this.$refs.cappFrame.msRequestFullscreen(),!0)},trigger:function(namespace,options){if(_this.handlers&&_this.handlers[namespace]&&"function"===typeof _this.handlers[namespace]){var returnValue=_this.handlers[namespace](options);return"undefined"===typeof returnValue||returnValue}return!1}}},getWidgetLinkName:function(key){if(key&&(key+="",key.indexOf("_")>0&&2===key.split("_").length)){var cappLink=key.split("_")[0],widgetLink=key.split("_")[1];if(cappLink.length&&widgetLink.length)return cappLink+"."+widgetLink}return null},loadConnectedAppWidget:function(){var _this2=this;this.destroyCurrentInstance(),this.loading=!0;var url="/v2/connectedApps/viewWidget?";this.getWidgetLinkName(this.widgetId)?url+="&widgetLinkName="+this.getWidgetLinkName(this.widgetId):url+="&widgetId="+this.widgetId,this.recordId&&(url+="&recordId="+this.recordId),api/* API */.bl.get(url).then((function(response){var data=response.data;if(_this2.loading=!1,data.viewUrl){_this2.samlResponse=data.samlResponse,_this2.relay=data.relay,_this2.actionUrl=_this2.samlResponse?data.acsURL:data.viewUrl;var connectedAppWidget=data.connectedAppWidget||{};_this2.$nextTick((function(){var frame=_this2.$refs.cappFrame.contentWindow,widgetOrigin=new URL(data.viewUrl).protocol+"//"+new URL(data.viewUrl).host;_this2.instanceUid=_this2.$connectedAppEventChannel.attachWidget(connectedAppWidget,_this2.context,{frame:frame,origin:widgetOrigin},_this2.getActions(),_this2.exportMode||!1),_this2.origin=_this2.$connectedAppEventChannel.getOrigin();var _step,urlParamsList=[],urlSearchParams=new URL(data.viewUrl).searchParams,_iterator=(0,createForOfIteratorHelper/* default */.Z)(urlSearchParams.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=(0,slicedToArray/* default */.Z)(_step.value,2),key=_step$value[0],value=_step$value[1];urlParamsList.push({name:key,value:value})}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this2.urlParams=urlParamsList,_this2.$nextTick((function(){_this2.$refs.formSubmit.submit()}))}))}}))},destroyCurrentInstance:function(){this.instanceUid&&(this.$connectedAppEventChannel.deattachWidget(this.instanceUid),this.instanceUid=null)},sendEvent:function(key,data){this.instanceUid&&this.$connectedAppEventChannel.sendEventToInstance(this.instanceUid,key,data)}}},connectedapps_ConnectedAppViewWidgetvue_type_script_lang_js=ConnectedAppViewWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(connectedapps_ConnectedAppViewWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppViewWidget=component.exports},
/***/117524:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"10a53ccbae023b46b9211d3725c2236a.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/700185:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/facilio-moro.83ba0ac2.png"},
/***/930760:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/htc_single_beep.2f739e6d.mp3"},
/***/405074:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/notification.3537b31a.mp3"},
/***/76834:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/stuffed-and-dropped.922dd833.mp3"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/4395.js.map