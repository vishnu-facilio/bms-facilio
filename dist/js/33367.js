"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[33367],{
/***/766188:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLocationPickerDialog}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FLocationPickerDialog.vue?vue&type=template&id=5bcba4fb
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.dialogVisibility?_c("el-dialog",{attrs:{visible:_vm.dialogVisibility,"append-to-body":!0,"before-close":_vm.closeDialog,"custom-class":_vm.customClass?_vm.customClass:"width60 map-location-dialog",title:_vm.title?_vm.title:_vm.$t("space.sites.location_picker")},on:{"update:visible":function($event){_vm.dialogVisibility=$event}}},[_c("div",{staticClass:"pB50"},[_c("FLocationPicker",{ref:"location-picker",attrs:{model:_vm.model}})],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.saveLocation}},[_vm._v(_vm._s(_vm.$t("common._common.done")))])],1)]):_vm._e()},staticRenderFns=[],FLocationPickervue_type_template_id_7e8f6ee4_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("gmap-autocomplete",{staticClass:"f-location-autofill-input",attrs:{placeholder:"Search Google Maps",fields:["address_components","geometry"]},on:{place_changed:_vm.setPlace}}),_c("Gmap-Map",{ref:"mapView",class:_vm.customClass?_vm.customClass:"width100 height400",attrs:{zoom:11,center:_vm.center,options:_vm.options?_vm.options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!1,disableDefaultUI:!0}},on:{click:_vm.setLocation}},[_vm.place?_c("Gmap-Marker",{attrs:{draggable:"",position:{lat:_vm.place.lat,lng:_vm.place.lng}},on:{dragend:_vm.setLocation}}):_vm._e()],1)],1)},FLocationPickervue_type_template_id_7e8f6ee4_staticRenderFns=[],validation=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(990260)),gMapsVsFacilioAddressFieldMap={route:"street",locality:"city",administrative_area_level_1:"state",postal_code:"zip",country:"country"},FLocationPickervue_type_script_lang_js={props:["model","customClass","fillAddress","options"],data:function(){return{place:null,center:{lat:40.712776,lng:-74.005974}}},mounted:function(){var _this=this;(0,validation/* isEmpty */.xb)(this.model)||(0,validation/* isEmpty */.xb)(this.model.lat)&&(0,validation/* isEmpty */.xb)(this.model.lng)||(this.place=this.$helpers.cloneObject(this.model),this.$refs.mapView.$mapPromise.then((function(){_this.panTo()})))},methods:{getChoosenLocation:function(){return(0,validation/* isEmpty */.xb)((this.model||{}).id)||this.$setProperty(this.place,"id",this.model.id),this.place},setPlace:function(place){(0,validation/* isEmpty */.xb)(place)||(this.place={lat:place.geometry.location.lat(),lng:place.geometry.location.lng()},this.fillAddress&&!(0,validation/* isEmpty */.xb)((place||{}).address_components)&&(0,validation/* isArray */.kJ)(place.address_components)&&this.fillAddressInModel(place.address_components),this.panTo())},panTo:function(){(0,validation/* isEmpty */.xb)(this.$refs.mapView)||(0,validation/* areValuesEmpty */.sD)(this.place)||this.$refs.mapView.panTo(this.place)},setLocation:function(value){(0,validation/* isEmpty */.xb)(value)||(this.place={lat:value.latLng.lat(),lng:value.latLng.lng()})},fillAddressInModel:function(addressComponents){var _this2=this;addressComponents.forEach((function(level){var addressType=_this2.$getProperty(level,["types",0]);gMapsVsFacilioAddressFieldMap[addressType]&&_this2.$setProperty(_this2.place,"".concat(gMapsVsFacilioAddressFieldMap[addressType]),level.long_name||level.short_name)}))}}},components_FLocationPickervue_type_script_lang_js=FLocationPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FLocationPickervue_type_script_lang_js,FLocationPickervue_type_template_id_7e8f6ee4_render,FLocationPickervue_type_template_id_7e8f6ee4_staticRenderFns,!1,null,null,null)
/* harmony default export */,FLocationPicker=component.exports,FLocationPickerDialogvue_type_script_lang_js={props:["title","customClass","model","dialogVisibility"],components:{FLocationPicker:FLocationPicker},methods:{closeDialog:function(){this.$emit("update:dialogVisibility",!1)},saveLocation:function(){var location=this.$refs["location-picker"].getChoosenLocation();this.$emit("updateLocation",location),this.closeDialog()}}},components_FLocationPickerDialogvue_type_script_lang_js=FLocationPickerDialogvue_type_script_lang_js,FLocationPickerDialog_component=(0,componentNormalizer/* default */.Z)(components_FLocationPickerDialogvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLocationPickerDialog=FLocationPickerDialog_component.exports},
/***/855048:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLookupField}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FLookupField.vue?vue&type=template&id=473d4b8e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isFieldLoading?_c("FieldLoader",{attrs:{isLoading:_vm.isFieldLoading}}):_c("div",{staticClass:"f-lookup-chooser f-lookup-chooser-container"},[_c("el-select",{ref:"selectBox",class:["fc-input-full-border-select2 width100",(!_vm.canHideLookupIcon||_vm.canShowQuickCreateIcon)&&"resource-search",_vm.isMultiple&&"fc-tag",_vm.hideDropDown&&!_vm.disabled&&"skip-disable"],attrs:{"collapse-tags":"",remote:_vm.isRemote,filterable:"",clearable:_vm.canHideLookupIcon,multiple:_vm.isMultiple,popperAppendToBody:_vm.popperAppendToBody,"remote-method":function(searchText){return _vm.remoteMethod(searchText)},loading:_vm.field.isDataLoading,"loading-text":_vm.$t("common._common.searching"),disabled:_vm.disabled||_vm.hideDropDown,placeholder:_vm.field.placeHolderText||"Select"},on:{change:_vm.recordSelected},model:{value:_vm.modelObj,callback:function($$v){_vm.modelObj=$$v},expression:"modelObj"}},[_c("div",{staticClass:"flRight d-flex",class:!_vm.disabled&&"pointer",attrs:{slot:"prefix"},slot:"prefix"},[_vm.canShowSystemClear?_c("div",{staticClass:"flookup-remove-icon-alignment flookup-remove-icon",on:{click:_vm.clearData}},[_c("i",{staticClass:"el-icon-circle-close pointer fc-lookup-icon f13"})]):_vm._e(),_vm.canHideLookupIcon?_vm._e():_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openLookupFieldWizard(_vm.field)}}},[_c("inline-svg",{attrs:{src:"lookup",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1),_vm.canShowQuickCreateIcon?_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openQuickCreate()}}},[_c("el-tooltip",{attrs:{effect:"dark",content:"Add\n          "+_vm.moduleDisplayName,placement:"top"}},[_c("inline-svg",{attrs:{src:"add-pink",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1)],1):_vm._e()]),_vm._l(_vm.field.options,(function(option,index){return _c("el-option",{key:option.value+" "+index,staticClass:"fc-input-full-border-select2 width100",attrs:{label:option.label,value:option.value}},[_c("span",{staticClass:"fL"},[_vm._v(_vm._s(option.label))]),_vm.$validation.isEmpty(option.secondaryLabel)?_vm._e():_c("span",{staticClass:"select-float-right-text13"},[_vm._v(_vm._s(option.secondaryLabel))]),_vm.getIsSiteDecommissioned(option)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"select-float-right-text13 pL10",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{staticClass:"fR pT10",attrs:{group:"alert",name:"decommissioning",size:"16"}})],1):_vm._e()])}))],2),_vm.showQuickCreateData?_c("QuickCreateData",{attrs:{canShowDialog:_vm.showQuickCreateData,quickCreateField:_vm.field,setAddedRecord:_vm.setAddedRecord},on:{"update:canShowDialog":function($event){_vm.showQuickCreateData=$event},"update:can-show-dialog":function($event){_vm.showQuickCreateData=$event}}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(990260)),constant=__webpack_require__(354754),picklist=__webpack_require__(961358),field_utils=__webpack_require__(455344),FieldLoader=__webpack_require__(62979),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),LOOKUP_FIELD_PLACEHOLDER_MAP={people:{value:"${LOGGED_PEOPLE}",label:"Current User"},users:{value:"${LOGGED_USER}",label:"Current User"}},FLookupFieldvue_type_script_lang_js={name:"f-lookup-field",props:{model:{},field:{type:Object},disabled:{type:Boolean},siteId:{type:[Number,String]},categoryId:{type:Number},hideLookupIcon:{type:Boolean,default:!1},popperAppendToBody:{required:!1,type:Boolean,default:!0},fetchOptionsOnLoad:{type:Boolean,default:!0},fetchOptionsMethod:{type:Function},preHookFilterConstruction:{type:Function,default:function(field){return field.filters}},hideDropDown:{type:Boolean,default:!1},skipLoading:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},userfilmoduleEnum:{type:String},parentModuleId:{type:Number},selectedOptions:{type:Array}},components:{FieldLoader:FieldLoader/* default */.Z,QuickCreateData:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(99813)]).then(__webpack_require__.bind(__webpack_require__,676433))}},data:function(){return{localSearch:!1,isLoadedOnce:!1,currentModelValue:!1,showQuickCreateData:!1}},computed:{customOptions:function(){var _ref=this||{},field=_ref.field,_ref2=field||{},lookupModule=_ref2.lookupModule;if((0,validation/* isEmpty */.xb)(lookupModule))return[];var _ref3=lookupModule||{},name=_ref3.name;return(0,validation/* isEmpty */.xb)(LOOKUP_FIELD_PLACEHOLDER_MAP[name])?[]:[LOOKUP_FIELD_PLACEHOLDER_MAP[name]]},modelObj:{get:function(){return this.model},set:function(value){this.currentModelValue=value,this.$emit("update:model",value)}},moduleDisplayName:function(){var field=this.field,_ref4=field.field||{},lookupModule=_ref4.lookupModule,_ref5=lookupModule||{},displayName=_ref5.displayName;return displayName},isFieldLoading:function(){var field=this.field,defaultIds=this.defaultIds,skipLoading=this.skipLoading,isLoadedOnce=this.isLoadedOnce;return!skipLoading&&!isLoadedOnce&&!(0,validation/* isEmpty */.xb)(defaultIds)&&field.isDataLoading},isPickListTypeModule:function(){var field=this.field,fieldObj=field.field,_ref6=fieldObj||field,lookupModule=_ref6.lookupModule,_ref7=lookupModule||{},type=_ref7.type;
// type 1 is for base entity modules
return!!type&&1!==type},isRemote:function(){var localSearch=this.localSearch;return!localSearch},canHideLookupIcon:function(){var hideLookupIcon=this.hideLookupIcon,isPickListTypeModule=this.isPickListTypeModule,hideDropDown=this.hideDropDown,field=this.field,userfilmoduleEnum=this.userfilmoduleEnum,_ref8=field||{},config=_ref8.config,canHide=!1;if(!(0,validation/* isEmpty */.xb)(config)){var canShowLookupWizard=this.$getProperty(config,"canShowLookupWizard",null);(0,validation/* isNull */.Ft)(canShowLookupWizard)||(canHide=!canShowLookupWizard)}return!hideDropDown&&("PICK_LIST"===userfilmoduleEnum||(canHide||hideLookupIcon||isPickListTypeModule))},canShowQuickCreateIcon:function(){var disabled=this.disabled,field=this.field,_ref9=field||{},config=_ref9.config,canShow=!1;return(0,validation/* isEmpty */.xb)(config)||(canShow=this.$getProperty(config,"canShowQuickCreate")),disabled&&(canShow=!1),canShow},isSiteEnabled:function(){var siteId=Number(this.$cookie.get("fc.currentSite")),currentSiteId=siteId>0?siteId:-1;return!(0,validation/* isEmpty */.xb)(currentSiteId)},isMultiple:function(){var field=this.field;return!!field.multiple},resourceModuleName:function(){var field=this.field,config=field.config,lookupModuleName=field.lookupModuleName,_ref10=config||{},isFiltersEnabled=_ref10.isFiltersEnabled,filterValue=_ref10.filterValue;if(isFiltersEnabled&&constant/* default */.Z.LOOKUP_FILTER_ENABLED_FIELDS.includes(lookupModuleName)){var moduleName=constant/* default */.Z.LOOKUP_FILTERS_MAP[filterValue];return moduleName}return null},isResourceField:function(){var field=this.field,name=field.name,isResourceField=(0,field_utils/* isChooserTypeField */.Rq)(field)||"resource"===name;return isResourceField},
// To prefill the existing values, we have to send default ids in picklist api
defaultIds:function(){var modelObj=this.modelObj,selectedOptions=this.selectedOptions,isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(modelObj)||!1,defaultIds=[],selectedOptionsArr=(selectedOptions||[]).map((function(option){return parseInt(option)}));return(0,validation/* isEmpty */.xb)(selectedOptions)?(0,validation/* isEmpty */.xb)(modelObj)||isPlaceHoldersEnabled||(defaultIds=(0,validation/* isArray */.kJ)(modelObj)?(0,toConsumableArray/* default */.Z)(modelObj):[modelObj]):defaultIds=(0,toConsumableArray/* default */.Z)(selectedOptionsArr),defaultIds=defaultIds.filter((function(val){return!constant/* default */.Z.FIELD_PLACEHOLDERS.includes(val)})),defaultIds},operatorLookupModule:function(){var field=this.field,_ref11=field||{},operatorLookupModule=_ref11.operatorLookupModule;return operatorLookupModule||{}},skipSiteFilter:function(){var field=this.field,_ref12=field||{},config=_ref12.config,_ref13=config||{},_ref13$skipSiteFilter=_ref13.skipSiteFilter,skipSiteFilter=void 0!==_ref13$skipSiteFilter&&_ref13$skipSiteFilter;return skipSiteFilter},canShowSystemClear:function(){var canHideLookupIcon=this.canHideLookupIcon,isClearable=this.isClearable,modelObj=this.modelObj,disabled=this.disabled;return!canHideLookupIcon&&!disabled&&(isClearable&&!(0,validation/* isEmpty */.xb)(modelObj))}},watch:{model:function(newVal){var _this=this,currentModelValue=this.currentModelValue,isRemote=this.isRemote;isEqual_default()(newVal,currentModelValue)||(isRemote&&this.getOptions({initialFetch:!0}).then((function(options){_this.$set(_this.field,"options",options)})),this.$set(this,"modelObj",newVal))},siteId:{handler:function(newVal,oldVal){var _this2=this,isSiteEnabled=this.isSiteEnabled,skipSiteFilter=this.skipSiteFilter;skipSiteFilter||isSiteEnabled||newVal===oldVal||this.getOptions({initialFetch:!0}).then((function(options){_this2.$set(_this2.field,"options",options)}))}},parentModuleId:{handler:function(newVal,oldVal){var _this3=this;newVal!==oldVal&&this.getOptions({initialFetch:!0}).then((function(options){_this3.$set(_this3.field,"options",options)}))}},operatorLookupModule:{handler:function(newVal,oldVal){var _this4=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this4.$set(_this4.field,"options",options)}))}},"field.clientCriteria":{handler:function(newVal,oldVal){var _this5=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this5.$set(_this5.field,"options",options)}))}},categoryId:{handler:function(newVal,oldVal){var _this6=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this6.$set(_this6.field,"options",options)}))}},"field.options":{handler:function(value){var modelObj=this.modelObj;if(!(0,validation/* isEmpty */.xb)(value))if((0,validation/* isEmpty */.xb)(modelObj))this.field.selectedItems=[];else if((0,validation/* isArray */.kJ)(modelObj)){var selectedItems=value.filter((function(option){return modelObj.includes(option.value)}));this.field.selectedItems=selectedItems}else{var selectedItem=value.find((function(option){return option.value===modelObj}));this.field.selectedItems=[selectedItem]}},immediate:!0},isLoadedOnce:{handler:function(value){value&&this.$emit("optionsLoadedOnce")}}},created:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var fetchOptionsOnLoad,field,modelObj,customOptions,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:
// Have to skip fetching options initially, when module is 'resource' and filters is not enabled
if(fetchOptionsOnLoad=_this7.fetchOptionsOnLoad,field=_this7.field,modelObj=_this7.modelObj,customOptions=_this7.customOptions,_this7.currentModelValue=modelObj,_this7.getIsSiteDecommissioned=picklist/* getIsSiteDecommissioned */.Yx,!fetchOptionsOnLoad){_context2.next=12;break}return _context2.next=6,_this7.getOptions({initialFetch:!0});case 6:if(_context2.t0=_context2.sent,_context2.t0){_context2.next=9;break}_context2.t0=[];case 9:options=_context2.t0,_this7.$set(_this7.field,"options",[].concat((0,toConsumableArray/* default */.Z)(customOptions),(0,toConsumableArray/* default */.Z)(options))),_this7.$set(_this7,"isLoadedOnce",!0);case 12:_this7.remoteMethod=_this7.$helpers.debounce(function(){var _ref14=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(searchText){var isDataLoading,_options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(isDataLoading=field.isDataLoading,isDataLoading){_context.next=6;break}return _context.next=4,_this7.getOptions({searchText:searchText});case 4:_options=_context.sent,_this7.$set(_this7.field,"options",_options);case 6:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref14.apply(this,arguments)}}(),1e3);case 13:case"end":return _context2.stop()}}),_callee2)})))()},methods:{focus:function(){(0,validation/* isEmpty */.xb)(this.$refs["selectBox"])||this.$refs["selectBox"].focus()},getOptions:function(params){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var searchText,initialFetch,fetchOptionsMethod,field,siteId,categoryId,isRemote,defaultIds,resourceModuleName,isResourceField,skipSiteFilter,selectedOptions,_field$filters,fieldFilters,options,filters,props,perPageCount,_yield$_this8$fetchOp,_yield$_this8$fetchOp2,optionsArr,error,_ref15,message,_yield$getFieldOption,_yield$getFieldOption2,_optionsArr,_error,meta,_ref16,_message,_meta$localSearch,localSearch;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:
/*
                Have to return empty options if field is of resourcetype, if filters havent be enabled
                and if no values selected already
              */
if(searchText=params.searchText,initialFetch=params.initialFetch,fetchOptionsMethod=_this8.fetchOptionsMethod,field=_this8.field,siteId=_this8.siteId,categoryId=_this8.categoryId,isRemote=_this8.isRemote,defaultIds=_this8.defaultIds,resourceModuleName=_this8.resourceModuleName,isResourceField=_this8.isResourceField,skipSiteFilter=_this8.skipSiteFilter,selectedOptions=_this8.selectedOptions,_field$filters=field.filters,fieldFilters=void 0===_field$filters?{}:_field$filters,options=[],(0,validation/* isEmpty */.xb)(resourceModuleName)||(field.resourceLookupModuleName=resourceModuleName),filters=_this8.preHookFilterConstruction(field),(0,validation/* isEmpty */.xb)(filters)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},fieldFilters),filters)),(0,validation/* isEmpty */.xb)(categoryId)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field.filters),{},{category:{operator:"is",value:["".concat(categoryId)]}})),props={field:field,searchText:searchText},skipSiteFilter||(props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{siteId:siteId})),!(isResourceField&&(0,validation/* isEmpty */.xb)(resourceModuleName)&&(0,validation/* isEmpty */.xb)(defaultIds))){_context3.next=12;break}return _context3.abrupt("return",options);case 12:if(initialFetch&&isRemote&&(perPageCount=defaultIds.length>50?defaultIds.length:50,props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{page:1,perPage:perPageCount,defaultIds:defaultIds}),((0,validation/* isEmpty */.xb)(resourceModuleName)&&isResourceField||!(0,validation/* isEmpty */.xb)(selectedOptions))&&(
// Have to fetch only selected values, which is same as the number of defaultids
props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{perPage:defaultIds.length}))),_this8.$set(field,"isDataLoading",!0),(0,validation/* isEmpty */.xb)(fetchOptionsMethod)){_context3.next=25;break}return _context3.next=17,_this8.fetchOptionsMethod(props);case 17:_yield$_this8$fetchOp=_context3.sent,_yield$_this8$fetchOp2=_yield$_this8$fetchOp.options,optionsArr=void 0===_yield$_this8$fetchOp2?[]:_yield$_this8$fetchOp2,error=_yield$_this8$fetchOp.error,error&&(_ref15=error||{},message=_ref15.message,_this8.$message.error(message||"Error Occured")),options=optionsArr,_context3.next=35;break;case 25:return _context3.next=27,(0,picklist/* getFieldOptions */._K)(props);case 27:_yield$getFieldOption=_context3.sent,_yield$getFieldOption2=_yield$getFieldOption.options,_optionsArr=void 0===_yield$getFieldOption2?[]:_yield$getFieldOption2,_error=_yield$getFieldOption.error,meta=_yield$getFieldOption.meta,_error&&(_ref16=_error||{},_message=_ref16.message,_this8.$message.error(_message||"Error Occured")),meta&&(0,validation/* isEmpty */.xb)(searchText)&&(_meta$localSearch=meta.localSearch,localSearch=void 0!==_meta$localSearch&&_meta$localSearch,_this8.$set(_this8,"localSearch",localSearch)),options=_optionsArr;case 35:return _this8.$set(field,"isDataLoading",!1),_context3.abrupt("return",options);case 37:case"end":return _context3.stop()}}),_callee3)})))()},clearData:function(){this.$emit("update:model",""),this.recordSelected("")},recordSelected:function(value){var field=this.field,_this$field$options=this.field.options,options=void 0===_this$field$options?[]:_this$field$options,isMultiple=this.isMultiple,selectedValues=null;isMultiple?(selectedValues=options.filter((function(e){return(value||[]).includes(e.value)})),field.selectedItems=selectedValues):(selectedValues=options.find((function(e){return e.value==value}))||{},field.selectedItems=[],(0,validation/* isEmpty */.xb)(selectedValues)||(field.selectedItems=[selectedValues])),this.$emit("recordSelected",selectedValues,field)},openLookupFieldWizard:function(field){var disabled=this.disabled;disabled||this.$emit("showLookupWizard",field,!0)},openQuickCreate:function(){var disabled=this.disabled;disabled||(this.showQuickCreateData=!0)},setAddedRecord:function(props){var record=props.record,_ref17=record||{},id=_ref17.id,name=record.displayName||record.name||record.subject,field=this.field;field.selectedItems=[{value:id,label:name}],this.$emit("setLookupFieldValue",{field:(0,objectSpread2/* default */.Z)({},field)})}}},forms_FLookupFieldvue_type_script_lang_js=FLookupFieldvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FLookupFieldvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLookupField=component.exports},
/***/62979:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FieldLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FieldLoader.vue?vue&type=template&id=7252e23e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"field-loading loading-shimmer"}):_vm._e()},staticRenderFns=[],FieldLoadervue_type_script_lang_js={props:{isLoading:{type:Boolean,required:!0}}},forms_FieldLoadervue_type_script_lang_js=FieldLoadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FieldLoadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FieldLoader=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/622957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupEmptyState}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupEmptyState.vue?vue&type=template&id=839bdf38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-empty"},[_c("div",{staticClass:"fc-setup-empty-image"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}})],1),_c("div",{staticClass:"fc-setup-empty-txt"},[_vm._t("emptyHeading")],2),_c("div",{staticClass:"fc-setup-empty-txt-desc"},[_vm._t("emptyDescription")],2)])},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupEmptyState=component.exports},
/***/291612:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupHeaderTabs}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupHeaderTabs.vue?vue&type=template&id=86381c1c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{},[_c("el-header",{staticClass:"fc-v1-setup-header",attrs:{height:"150"}},[_c("div",{staticClass:"flex-middle justify-content-space fc-header-border-bottom p20"},[_c("div",[_c("div",{staticClass:"fc-v1-setup-heading"},[_vm._t("heading")],2),_c("div",{staticClass:"fc-v1-setup-description"},[_vm._t("description")],2)]),_c("div",{staticClass:"flex-middle"},[_vm._t("actions")],2)]),_c("div",[_c("div",{staticClass:"fc-setup-tab-content"},[_vm._t("tabs",(function(){return[_vm._t("tabFilter",(function(){return[_c("div",{staticClass:"flex-middle justify-content-space p20"},[_c("div",{},[_vm._t("filter")],2),_c("div",{},[_vm._t("searchAndPagination")],2)])]})),_vm._t("tabContent")]}))],2)])])],1)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={}
/* normalize component */,component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupHeaderTabs=component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports},
/***/533367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WeatherStationSetup}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/weather/WeatherStationSetup.vue?vue&type=template&id=361b0d82&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"weather-station-setup-page fc-setup-page height100"},[_c("SetupHeader",{scopedSlots:_vm._u([{key:"heading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("weather.weather_station"))+" ")]},proxy:!0},{key:"description",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("weather.list_of_all_weather_station_and_service"))+" ")]},proxy:!0},{key:"actions",fn:function(){return["weatherstation.list"==_vm.$route.name?_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"action-btn setting-page-btn mL20"},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:_vm.addNewWeatherStation}},[_vm._v(" "+_vm._s(_vm.$t("common._common.new"))+" "+_vm._s(_vm.currentTabName)+" ")])],1)]):_vm._e()]},proxy:!0},{key:"tabs",fn:function(){return[_c("el-tabs",{staticClass:"fc-setup-list-tab",model:{value:_vm.currentTab,callback:function($$v){_vm.currentTab=$$v},expression:"currentTab"}},[_c("el-tab-pane",{attrs:{label:_vm.$t("weather.weather_station"),name:"weatherstation.list"}},[_c("div",{staticClass:"mT10 mB20"},["Weather Station"===_vm.currentTabName?_c("WeatherStationList",{attrs:{showAddWeatherStation:_vm.showAddWeatherStation},on:{updateShowAddWeatherStation:function(newVal){return _vm.showAddWeatherStation=newVal}}}):_vm._e()],1)]),_c("el-tab-pane",{attrs:{label:_vm.$t("weather.weather_service"),name:"weatherservice.list"}},[_c("div",{staticClass:"mT10 mB20"},["Weather Service"===_vm.currentTabName?_c("WeatherServiceList"):_vm._e()],1)])],1),_c("div",{staticClass:"weather-setup-tab-actions"},[_c("portal-target",{attrs:{name:"weather-setup-tab-actions"}})],1)]},proxy:!0}])})],1)},staticRenderFns=[],SetupHeaderTabs=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(291612)),WeatherStationListvue_type_template_id_3eed1eb4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"weather-station-list"},[_c("portal",{attrs:{to:"weather-setup-tab-actions"}},[_c("div",{staticClass:"search-and-pagination-container flex-middle"},[_c("WeatherStationSearch",{attrs:{isSearchDisabled:_vm.isSearchDisabled},on:{updateSearchData:_vm.loadWeatherStations},model:{value:_vm.searchData,callback:function($$v){_vm.searchData=$$v},expression:"searchData"}}),_vm.weatherStationPageCount?_c("div",{staticClass:"vl"}):_vm._e(),_c("div",{staticClass:"pagination-container"},[_c("Pagination",{ref:"f-page",staticClass:"nowrap",attrs:{total:_vm.weatherStationPageCount,perPage:_vm.weatherStationsPerPage,pageNo:_vm.weatherStationPage},on:{onPageChanged:_vm.setPage}})],1)],1)]),_vm.isLoading?_c("SetupLoader",{scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})]},proxy:!0}],null,!1,3036156284)}):_vm.$validation.isEmpty(_vm.weatherStations)&&!_vm.isLoading?_c("SetupEmpty",{scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("weather.no_weather_stations_available"))+" ")]},proxy:!0},{key:"emptyDescription",fn:function(){},proxy:!0}])}):_c("el-table",{staticClass:"width100 fc-setup-table fc-setup-table-p0 fc-setup-table-th-borderTop",attrs:{data:_vm.weatherStations,height:"calc(100vh - 280px)"}},[_c("el-table-column",{ref:"name",attrs:{label:"Station Name"},scopedSlots:_vm._u([{key:"default",fn:function(weatherstation){return[_vm._v(" "+_vm._s(weatherstation.row.name||"---")+" ")]}}])}),_c("el-table-column",{ref:"description",attrs:{label:"Description"},scopedSlots:_vm._u([{key:"default",fn:function(weatherstation){return[_vm._v(" "+_vm._s(weatherstation.row.description||"---")+" ")]}}])}),_c("el-table-column",{ref:"stationCode",attrs:{label:"Station Code"},scopedSlots:_vm._u([{key:"default",fn:function(weatherstation){return[_vm._v(" "+_vm._s(weatherstation.row.stationCode||"---")+" ")]}}])}),_c("el-table-column",{ref:"weatherService",attrs:{label:"Weather Service"},scopedSlots:_vm._u([{key:"default",fn:function(weatherstation){return[_vm._v(" "+_vm._s(_vm.getServiceName(weatherstation.row.service)||"---")+" ")]}}])}),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130",fixed:"right"},scopedSlots:_vm._u([{key:"default",fn:function(template){return[_c("div",{staticClass:"text-center template-actions"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon visibility-hide-actions pR15",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.editWeatherStation(template.row)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete fc-delete-icon visibility-hide-actions",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deleteWeatherStation([template.row.id])}}})])]}}])})],1),_vm.showDialog?_c("NewWeatherStation",{attrs:{visibility:_vm.showDialog,isNew:_vm.isNew,selectedWeatherStation:_vm.selectedWeatherStation},on:{closeDialog:_vm.updateDialogFields,weatherStationSaved:_vm.loadWeatherStations}}):_vm._e()],1)},WeatherStationListvue_type_template_id_3eed1eb4_scoped_true_staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),SetupLoader=(__webpack_require__(648324),__webpack_require__(233432)),SetupEmptyState=__webpack_require__(622957),FPagination=__webpack_require__(929593),NewWeatherStationvue_type_template_id_5b11fd6a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"new-weather-station-form fc-dialog-form setup-dialog","before-close":_vm.closeDialog}},[_c("div",{staticClass:"new-header-container pL30"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.weatherStationFormHeader)+" ")])])]),_vm.isLoading?_c("div",{staticClass:"mT20"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):[_c("el-form",{ref:"weatherStationForm",staticClass:"p30 pT10 pB30",attrs:{model:_vm.weatherStationDetails,"label-width":"150px","label-position":"top",rules:_vm.weatherStationRules}},[_c("div",{staticClass:"section-container flex-container"},[_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:_vm.$t("weather.create.station_name"),prop:"name"}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("weather.create.station_name"),autofocus:!0},model:{value:_vm.weatherStationDetails.name,callback:function($$v){_vm.$set(_vm.weatherStationDetails,"name",$$v)},expression:"weatherStationDetails.name"}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:_vm.$t("common.roles.description"),prop:"description"}},[_c("el-input",{staticClass:"mT3 fc-input-full-border-textarea",attrs:{type:"textarea","min-rows":2,autosize:{minRows:3,maxRows:4},placeholder:_vm.$t("common.roles.description")},model:{value:_vm.weatherStationDetails.description,callback:function($$v){_vm.$set(_vm.weatherStationDetails,"description",$$v)},expression:"weatherStationDetails.description"}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:_vm.$t("weather.weather_service"),prop:"serviceId"}},[_c("FLookupField",{key:"weatherStation-service",attrs:{model:_vm.serviceId,field:_vm.weatherServiceField,isRemoteField:!1,disabled:!_vm.isNew,hideLookupIcon:!0},on:{"update:model":function($event){_vm.serviceId=$event}}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:_vm.$t("setup.bim.bim_location"),prop:"location"}},[_c("WeatherStationLocation",{attrs:{isNew:_vm.isNew},model:{value:_vm.location,callback:function($$v){_vm.location=$$v},expression:"location"}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:_vm.$t("weather.create.weather_station_code"),prob:"stationCode"}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("weather.create.auto_generated_based_on_location"),disabled:!0},model:{value:_vm.weatherStationDetails.stationCode,callback:function($$v){_vm.$set(_vm.weatherStationDetails,"stationCode",$$v)},expression:"weatherStationDetails.stationCode"}})],1)],1)])])],_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.weatherStationSaving},on:{click:_vm.saveWeatherStation}},[_vm._v(" "+_vm._s(_vm.weatherStationFormSaveTxt)+" ")])],1)],2)},NewWeatherStationvue_type_template_id_5b11fd6a_scoped_true_staticRenderFns=[],FLookupField=(__webpack_require__(821057),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(855048)),validation=__webpack_require__(990260),WeatherStationLocationvue_type_template_id_4efc4983_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"weather-station-location"},[_vm.$validation.isEmpty(_vm.value)?_vm._e():_c("el-input",{staticClass:"fc-input-full-border2 font-lite mB15",attrs:{readonly:"",disabled:!_vm.isNew},model:{value:_vm.locationPlaceHolder,callback:function($$v){_vm.locationPlaceHolder=$$v},expression:"locationPlaceHolder"}}),_c("el-button",{staticClass:"btn-blue-fill location-select-btn",class:{disabled:!_vm.isNew},on:{click:function($event){_vm.dialogVisibility=!0}}},[_vm._v(" "+_vm._s(_vm.locationBtnPlaceHolder)+" ")]),_c("FLocationPickerDialog",{staticClass:"weather-location-select-dialog",attrs:{model:_vm.value,dialogVisibility:_vm.dialogVisibility},on:{"update:dialogVisibility":function($event){_vm.dialogVisibility=!1},updateLocation:_vm.updateLocation}})],1)},WeatherStationLocationvue_type_template_id_4efc4983_scoped_true_staticRenderFns=[],FLocationPickerDialog=(__webpack_require__(634338),__webpack_require__(766188)),WeatherStationLocationvue_type_script_lang_js={name:"WeatherStationLocation",components:{FLocationPickerDialog:FLocationPickerDialog/* default */.Z},props:["value","isNew"],data:function(){return{dialogVisibility:!1,locationPlaceHolder:""}},computed:{locationBtnPlaceHolder:function(){return(0,validation/* isEmpty */.xb)(this.value)?this.$t("weather.create.choose_your_locaiton_in_map"):this.$t("weather.create.change_your_location_in_map")}},watch:{value:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:newVal!=oldVal&&(_this.locationPlaceHolder="".concat(null===newVal||void 0===newVal?void 0:newVal.lat,", ").concat(null===newVal||void 0===newVal?void 0:newVal.lng));case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{updateLocation:function(location){this.$emit("input",location)}}},weather_WeatherStationLocationvue_type_script_lang_js=WeatherStationLocationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(weather_WeatherStationLocationvue_type_script_lang_js,WeatherStationLocationvue_type_template_id_4efc4983_scoped_true_render,WeatherStationLocationvue_type_template_id_4efc4983_scoped_true_staticRenderFns,!1,null,"4efc4983",null)
/* harmony default export */,WeatherStationLocation=component.exports,api=__webpack_require__(32284),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),NewWeatherStationvue_type_script_lang_js={name:"NewWeatherStation",components:{FLookupField:FLookupField/* default */.Z,WeatherStationLocation:WeatherStationLocation},props:["isNew","visibility","selectedWeatherStation"],data:function(){var _this=this;return{weatherStationDetails:{service:{id:null}},field:{},location:{},weatherServiceField:{lookupModuleName:"weatherservice"},isLoading:!1,weatherStationSaving:!1,weatherStationRules:{name:{validator:function(rule,name,callback){(0,validation/* isEmpty */.xb)(name)?callback(new Error(_this.$t("weather.create.please_enter_station_name"))):callback()},trigger:"blur"},serviceId:{validator:function(rule,serviceId,callback){(0,validation/* isEmpty */.xb)(serviceId)?callback(new Error(_this.$t("weather.create.please_select_weather_service"))):callback()},trigger:"blur"},location:{validator:function(rule,location,callback){var lat=_this.$getProperty(_this,"weatherStationDetails.lat"),lng=_this.$getProperty(_this,"weatherStationDetails.lng");(0,validation/* isEmpty */.xb)(lat)||(0,validation/* isEmpty */.xb)(lng)?callback(new Error(_this.$t("weather.create.please_choose_location"))):callback()},trigger:"blur"}}}},computed:{serviceId:{get:function(){var service=this.$getProperty(this,"weatherStationDetails.service");return(0,validation/* isEmpty */.xb)(service)?service:service.id},set:function(newVal){this.weatherStationDetails.service.id=newVal}},weatherStationFormHeader:function(){return this.isNew?this.$t("weather.create.create_weather_station"):this.$t("weather.create.edit_weather_station")},weatherStationFormSaveTxt:function(){return this.weatherStationSaving?this.$t("common._common._saving"):this.$t("common._common._save")}},watch:{location:{handler:function(newVal,oldVal){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:newVal==oldVal||(0,validation/* isEmpty */.xb)(newVal)||_this2.getStationCode(newVal);case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0},serviceId:function(newVal,oldVal){newVal!=oldVal&&(this.weatherStationDetails.serviceId=newVal)}},created:function(){this.isNew||(0,validation/* isEmpty */.xb)(this.selectedWeatherStation)||this.preFillStationDetails(this.selectedWeatherStation)},methods:{closeDialog:function(){this.$emit("closeDialog")},preFillStationDetails:function(selectedWeatherStation){this.weatherStationDetails=cloneDeep_default()(selectedWeatherStation,!0),this.location.lat=null===selectedWeatherStation||void 0===selectedWeatherStation?void 0:selectedWeatherStation.lat,this.location.lng=null===selectedWeatherStation||void 0===selectedWeatherStation?void 0:selectedWeatherStation.lng},saveWeatherStation:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this3.$refs["weatherStationForm"].validate(function(){var _ref=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(valid){var data,promise,_this3$weatherStation,_this3$weatherStation2,_this3$weatherStation3,updatedData,_yield$promise,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(valid){_context2.next=2;break}return _context2.abrupt("return",!1);case 2:if(_this3.weatherStationSaving=!0,data={data:_this3.weatherStationDetails},!_this3.isNew){_context2.next=10;break}return _context2.next=7,api/* API */.bl.createRecord("weatherstation",data);case 7:promise=_context2.sent,_context2.next=15;break;case 10:return updatedData={name:null===(_this3$weatherStation=_this3.weatherStationDetails)||void 0===_this3$weatherStation?void 0:_this3$weatherStation.name,description:null===(_this3$weatherStation2=_this3.weatherStationDetails)||void 0===_this3$weatherStation2?void 0:_this3$weatherStation2.description},data={id:null===(_this3$weatherStation3=_this3.weatherStationDetails)||void 0===_this3$weatherStation3?void 0:_this3$weatherStation3.id,data:updatedData},_context2.next=14,api/* API */.bl.updateRecord("weatherstation",data);case 14:promise=_context2.sent;case 15:return _context2.next=17,promise;case 17:_yield$promise=_context2.sent,error=_yield$promise.error,error?_this3.$message.error(error.message||"Error Occured"):(_this3.closeDialog(),_this3.isNew?_this3.$message.success(_this3.$t("weather.create.weather_station_created_successfully")):_this3.$message.success(_this3.$t("weather.create.weather_station_edited_successfully")),_this3.$emit("weatherStationSaved")),_this3.weatherStationSaving=!1;case 21:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref.apply(this,arguments)}}());case 1:case"end":return _context3.stop()}}),_callee3)})))()},getStationCode:function(newVal){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var url,_yield$API$get,error,data,_ref2,lat,lng,stationCode;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return url="v3/weather/stationcode",_this4.weatherStationDetails.lat=null===newVal||void 0===newVal?void 0:newVal.lat,_this4.weatherStationDetails.lng=null===newVal||void 0===newVal?void 0:newVal.lng,_context4.next=5,api/* API */.bl.get(url,{lat:null===newVal||void 0===newVal?void 0:newVal.lat,lng:null===newVal||void 0===newVal?void 0:newVal.lng});case 5:_yield$API$get=_context4.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this4.$message.error(error.message||"Error Occured"):(_ref2=data||{},lat=_ref2.lat,lng=_ref2.lng,stationCode=_ref2.stationCode,_this4.$set(_this4.weatherStationDetails,"stationCode",stationCode),_this4.weatherStationDetails.lat=lat,_this4.weatherStationDetails.lng=lng);case 9:case"end":return _context4.stop()}}),_callee4)})))()}}},weather_NewWeatherStationvue_type_script_lang_js=NewWeatherStationvue_type_script_lang_js,NewWeatherStation_component=(0,componentNormalizer/* default */.Z)(weather_NewWeatherStationvue_type_script_lang_js,NewWeatherStationvue_type_template_id_5b11fd6a_scoped_true_render,NewWeatherStationvue_type_template_id_5b11fd6a_scoped_true_staticRenderFns,!1,null,"5b11fd6a",null)
/* harmony default export */,NewWeatherStation=NewWeatherStation_component.exports,WeatherStationsearchvue_type_template_id_e6ce3802_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"weather-station-search"},[_c("div",{staticClass:"flex-middle position-relative",class:{mR30:!_vm.isSearchDisabled}},[_vm.showSearchIcon?_c("i",{staticClass:"el-icon-search pointer fw6 fc-black3-16",class:{"cursor-not-allowed":_vm.isSearchDisabled},on:{click:_vm.openSearchInput}}):_vm._e(),_vm.showSearchInput?_c("div",[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.search")},on:{change:_vm.updateSearchData},model:{value:_vm.searchData,callback:function($$v){_vm.searchData=$$v},expression:"searchData"}}),_c("div",[_c("i",{staticClass:"el-icon-close fc-close-icon-search pointer",on:{click:_vm.closeSearchInput}})])],1):_vm._e()])])},WeatherStationsearchvue_type_template_id_e6ce3802_scoped_true_staticRenderFns=[],WeatherStationsearchvue_type_script_lang_js={name:"WeatherStationSearch",props:["value","isSearchDisabled"],data:function(){return{showSearchIcon:!0,showSearchInput:!1,searchtext:null}},computed:{searchData:{get:function(){return this.value},set:function(newVal){(0,validation/* isEmpty */.xb)(newVal)?(this.$emit("input",newVal),this.$emit("updateSearchData",newVal)):this.$emit("input",newVal)}}},methods:{openSearchInput:function(){this.isSearchDisabled||(this.showSearchIcon=!1,this.showSearchInput=!0)},closeSearchInput:function(){this.showSearchIcon=!0,this.showSearchInput=!1,this.$emit("input",null),this.$emit("updateSearchData",null)},updateSearchData:function(newVal){this.$emit("updateSearchData",newVal)}}},weather_WeatherStationsearchvue_type_script_lang_js=WeatherStationsearchvue_type_script_lang_js,WeatherStationsearch_component=(0,componentNormalizer/* default */.Z)(weather_WeatherStationsearchvue_type_script_lang_js,WeatherStationsearchvue_type_template_id_e6ce3802_scoped_true_render,WeatherStationsearchvue_type_template_id_e6ce3802_scoped_true_staticRenderFns,!1,null,"e6ce3802",null)
/* harmony default export */,WeatherStationsearch=WeatherStationsearch_component.exports,WeatherStationListvue_type_script_lang_js={data:function(){return{isLoading:!1,showDialog:!1,isNew:!0,selectedWeatherStation:null,weatherStations:[],weatherStationPage:1,weatherStationsPerPage:50,weatherStationPageCount:null,searchData:null,weatherServices:[]}},computed:{isSearchDisabled:function(){var searchData=this.searchData,weatherStations=this.weatherStations;return(0,validation/* isEmpty */.xb)(searchData)&&(0,validation/* isEmpty */.xb)(weatherStations)}},props:["showAddWeatherStation"],components:{SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,Pagination:FPagination/* default */.Z,NewWeatherStation:NewWeatherStation,WeatherStationSearch:WeatherStationsearch},created:function(){this.loadWeatherStations()},watch:{showAddWeatherStation:function(newVal,oldVal){newVal!=oldVal&&(this.showDialog=newVal)},weatherStationPage:function(newVal,oldVal){newVal!=oldVal&&this.loadWeatherStations()}},methods:{setPage:function(page){this.weatherStationPage=page},updateDialogFields:function(){this.isNew=!0,this.showDialog=!1,this.selectedWeatherStation=null,this.$emit("updateShowAddWeatherStation",!1)},editWeatherStation:function(selectedWeatherStation){this.selectedWeatherStation=selectedWeatherStation,this.isNew=!1,this.showDialog=!0},getServiceName:function(service){return(0,validation/* isEmpty */.xb)(service)?"---":service.displayName||"---"},deleteWeatherStation:function(id){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var value,_yield$API$deleteReco,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$dialog.confirm({title:_this.$t("common.wo_report.delete_rule_title"),message:_this.$t("weather.are_you_sure_to_delete_weather_station"),rbDanger:!0,rbLabel:"Delete"});case 2:if(value=_context.sent,!value){_context.next=9;break}return _context.next=6,api/* API */.bl.deleteRecord("weatherstation",id);case 6:_yield$API$deleteReco=_context.sent,error=_yield$API$deleteReco.error,error?_this.$message.error(error.message||"Error Occured"):(_this.$message.success(_this.$t("weather.weather_station_deleted_successfully")),_this.loadWeatherStations());case 9:case"end":return _context.stop()}}),_callee)})))()},loadWeatherStations:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var filters,_yield$API$fetchAll,list,_yield$API$fetchAll$m,meta,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.isLoading=!0,(0,validation/* isEmpty */.xb)(_this2.searchData)||(filters=JSON.stringify({name:{operatorId:5,value:[_this2.searchData]}})),_context2.next=4,api/* API */.bl.fetchAll("weatherstation",{withCount:!0,page:_this2.weatherStationPage,perPage:_this2.weatherStationsPerPage,filters:filters});case 4:_yield$API$fetchAll=_context2.sent,list=_yield$API$fetchAll.list,_yield$API$fetchAll$m=_yield$API$fetchAll.meta,meta=void 0===_yield$API$fetchAll$m?{}:_yield$API$fetchAll$m,error=_yield$API$fetchAll.error,error?_this2.$message.error(error.message||"Error Occured"):(_this2.weatherStations=list,_this2.weatherServices=_this2.$getProperty(meta,"supplements.weatherstation.service",null),_this2.weatherStationPageCount=_this2.$getProperty(meta,"pagination.totalCount",null),_this2.isLoading=!1);case 10:case"end":return _context2.stop()}}),_callee2)})))()}}},weather_WeatherStationListvue_type_script_lang_js=WeatherStationListvue_type_script_lang_js,WeatherStationList_component=(0,componentNormalizer/* default */.Z)(weather_WeatherStationListvue_type_script_lang_js,WeatherStationListvue_type_template_id_3eed1eb4_scoped_true_render,WeatherStationListvue_type_template_id_3eed1eb4_scoped_true_staticRenderFns,!1,null,"3eed1eb4",null)
/* harmony default export */,WeatherStationList=WeatherStationList_component.exports,WeatherServiceListvue_type_template_id_5fa4736e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"weather-service-list"},[_c("portal",{attrs:{to:"weather-setup-tab-actions"}},[_c("div",{staticClass:"search-and-pagination-container flex-middle"},[_c("WeatherStationSearch",{attrs:{isSearchDisabled:_vm.isSearchDisabled},on:{updateSearchData:_vm.loadWeatherServices},model:{value:_vm.searchData,callback:function($$v){_vm.searchData=$$v},expression:"searchData"}}),_vm.weatherServicePageCount?_c("div",{staticClass:"vl"}):_vm._e(),_c("div",{staticClass:"pagination-container"},[_c("Pagination",{ref:"f-page",staticClass:"nowrap",attrs:{total:_vm.weatherServicePageCount,perPage:_vm.weatherServicesPerPage,pageNo:_vm.weatherServicePage},on:{onPageChanged:_vm.setPage}})],1)],1)]),_vm.isLoading?_c("SetupLoader",{scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})]},proxy:!0}],null,!1,3036156284)}):_vm.$validation.isEmpty(_vm.weatherServices)&&!_vm.isLoading?_c("SetupEmpty",{scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("weather.no_weather_services_available"))+" ")]},proxy:!0},{key:"emptyDescription",fn:function(){},proxy:!0}])}):_c("el-table",{staticClass:"width100 fc-setup-table fc-setup-table-p0 fc-setup-table-th-borderTop",attrs:{data:_vm.weatherServices,height:"calc(100vh - 280px)"}},[_c("el-table-column",{ref:"description",attrs:{label:_vm.$t("common._common.display_name")},scopedSlots:_vm._u([{key:"default",fn:function(weatherService){return[_vm._v(" "+_vm._s(_vm.$getProperty(weatherService,"row.displayName","---"))+" ")]}}])}),_c("el-table-column",{ref:"description",attrs:{label:_vm.$t("setup.users_management.description")},scopedSlots:_vm._u([{key:"default",fn:function(weatherService){return[_vm._v(" "+_vm._s(_vm.$getProperty(weatherService,"row.description","---"))+" ")]}}])}),_c("el-table-column",{ref:"Frequency",attrs:{label:_vm.$t("common._common.frequency")},scopedSlots:_vm._u([{key:"default",fn:function(weatherService){return[_vm._v(" "+_vm._s(_vm.getFormattedTime(weatherService.row.dataInterval))+" ")]}}])}),_c("el-table-column",{ref:"name",attrs:{label:_vm.$t("setup.setupLabel.link_name")},scopedSlots:_vm._u([{key:"default",fn:function(weatherService){return[_vm._v(" "+_vm._s(_vm.$getProperty(weatherService,"row.name","---"))+" ")]}}])})],1)],1)},WeatherServiceListvue_type_template_id_5fa4736e_scoped_true_staticRenderFns=[],WeatherServiceListvue_type_script_lang_js={name:"WeatherServiceList",components:{SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,Pagination:FPagination/* default */.Z,WeatherStationSearch:WeatherStationsearch},data:function(){return{data:{},isLoading:!1,weatherServices:[],weatherServicePage:1,weatherServicesPerPage:50,weatherServicePageCount:null,searchData:null}},computed:{isSearchDisabled:function(){var searchData=this.searchData,weatherServices=this.weatherServices;return(0,validation/* isEmpty */.xb)(searchData)&&(0,validation/* isEmpty */.xb)(weatherServices)}},created:function(){this.loadWeatherServices()},methods:{setPage:function(page){this.weatherServicePage=page},getFormattedTime:function(totalMinutes){if((0,validation/* isEmpty */.xb)(totalMinutes))return"---";if(totalMinutes>60){var hours=Math.floor(totalMinutes/60),minutes=totalMinutes%60;return"".concat(hours," hr ").concat(minutes," min")}return"".concat(totalMinutes," min")},loadWeatherServices:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var filters,_yield$API$fetchAll,list,_yield$API$fetchAll$m,meta,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,(0,validation/* isEmpty */.xb)(_this.searchData)||(filters=JSON.stringify({name:{operatorId:5,value:[_this.searchData]}})),_context.next=4,api/* API */.bl.fetchAll("weatherservice",{withCount:!0,page:_this.weatherServicePage,perPage:_this.weatherServicesPerPage,filters:filters});case 4:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,_yield$API$fetchAll$m=_yield$API$fetchAll.meta,meta=void 0===_yield$API$fetchAll$m?{}:_yield$API$fetchAll$m,error=_yield$API$fetchAll.error,error?_this.$message.error(error.message||"Error Occured"):(_this.weatherServices=list,_this.weatherServicePageCount=_this.$getProperty(meta,"pagination.totalCount",null),_this.isLoading=!1);case 10:case"end":return _context.stop()}}),_callee)})))()}}},weather_WeatherServiceListvue_type_script_lang_js=WeatherServiceListvue_type_script_lang_js,WeatherServiceList_component=(0,componentNormalizer/* default */.Z)(weather_WeatherServiceListvue_type_script_lang_js,WeatherServiceListvue_type_template_id_5fa4736e_scoped_true_render,WeatherServiceListvue_type_template_id_5fa4736e_scoped_true_staticRenderFns,!1,null,"5fa4736e",null)
/* harmony default export */,WeatherServiceList=WeatherServiceList_component.exports,WeatherStationSetupvue_type_script_lang_js={name:"WeatherStationSetup",components:{SetupHeader:SetupHeaderTabs/* default */.Z,WeatherStationList:WeatherStationList,WeatherServiceList:WeatherServiceList},data:function(){return{showAddWeatherStation:!1}},computed:{currentTab:{get:function(){return this.$route.name},set:function(selectedTabName){this.handleTabChange(selectedTabName)}},currentTabName:function(){return"weatherstation.list"==this.$route.name?this.$t("weather.weather_station"):this.$t("weather.weather_service")}},methods:{changeRouteForSelectedTab:function(selectedTabName){this.$route.name!==selectedTabName&&this.$router.push({name:selectedTabName})},handleTabChange:function(selectedTabName){this.changeRouteForSelectedTab(selectedTabName)},addNewWeatherStation:function(){this.showAddWeatherStation=!0}}},weather_WeatherStationSetupvue_type_script_lang_js=WeatherStationSetupvue_type_script_lang_js,WeatherStationSetup_component=(0,componentNormalizer/* default */.Z)(weather_WeatherStationSetupvue_type_script_lang_js,render,staticRenderFns,!1,null,"361b0d82",null)
/* harmony default export */,WeatherStationSetup=WeatherStationSetup_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/33367.js.map