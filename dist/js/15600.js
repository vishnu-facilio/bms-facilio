"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[15600],{
/***/437499:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BaseWidget}});// CONCATENATED MODULE: ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/BaseWidget.vue?vue&type=script&lang=js
/* harmony default export */var render,staticRenderFns,BaseWidgetvue_type_script_lang_js={methods:{widgetInit:function(){
// widget init base class
}}},HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js=BaseWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BaseWidget=component.exports},
/***/315600:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ReservedSpaces}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/ReservedSpaces.vue?vue&type=template&id=49c39cc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-card",{staticClass:"box-card fc-recently-received-card fc-recently-received-card2"},[_c("div",{staticClass:"flex-middle"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/recent",iconClass:"text-center vertical-bottom icon-sm-md"}}),_c("div",{staticClass:"fc-portal-title-txt-14 pL5 fw5"},[_vm._v(" Recently Reserved Space ")])],1),_vm.formatedWidgetData.length?_c("div",{staticClass:"overflow-auto"},[_c("div",{staticClass:"pT10 inline-flex overflow-auto",staticStyle:{display:"inline-flex"}},_vm._l(_vm.formatedWidgetData,(function(space,index){return _c("div",{key:index,staticClass:"fc-hot-desk-cards ellipsis",on:{click:function($event){return _vm.redirectToFloorplan(space.id,space.floorId)}}},[_c("div",{staticClass:"fc-txt12-grey"},[_vm._v(" "+_vm._s(_vm.$getProperty(space,"spaceCategory.name","Space"))+" ")]),_c("div",{staticClass:"flex-middle pT10 pointer"},[space.spaceCategory?_c("div",["Office "===space.spaceCategory.name?_c("inline-svg",{attrs:{src:_vm.iconMap.Office,iconClass:"icon text-center icon-md vertical-bottom"}}):"Parking Stall"===space.spaceCategory.name?_c("inline-svg",{attrs:{src:_vm.iconMap.ParkingStall,iconClass:"icon text-center icon-md vertical-bottom"}}):"Desk"===space.spaceCategory.name?_c("inline-svg",{attrs:{src:_vm.iconMap.Desks,iconClass:"icon text-center icon-md vertical-bottom"}}):_vm._e()],1):_c("div",[_c("inline-svg",{attrs:{src:_vm.iconMap.Office,iconClass:"icon text-center icon-md vertical-bottom"}})],1),_c("el-tooltip",{attrs:{content:space.name,placement:"bottom",effect:"dark"}},[_c("div",{staticClass:"fc-portal-sub-txt-16 pL5 ellipsis"},[_vm._v(" "+_vm._s(space.name)+" ")])])],1)])})),0)]):_c("div",{staticClass:"flex-center"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/EmptyState/Emptystate-recentlyreserved",iconClass:"icon text-center icon-md vertical-bottom empty-state"}})],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),router=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(670560),__webpack_require__(648324),__webpack_require__(108472),__webpack_require__(212826),__webpack_require__(329435)),api=__webpack_require__(32284),BaseWidget=__webpack_require__(437499),ReservedSpacesvue_type_script_lang_js={extends:BaseWidget/* default */.Z,props:["widgetData"],data:function(){return{iconMap:{Desks:"svgs/employeePortal/hot-desk2",ParkingStall:"svgs/employeePortal/parking2",Office:"svgs/employeePortal/meeting-room4",ps:"svgs/employeePortal/announcement",
// need deliveries icon
Announcement:"svgs/employeePortal/announcement"},floorId:null,floorplanId:null,recordIdVsFloorplanId:{}}},computed:{formatedWidgetData:function(){var _this$widgetData,data=[];if(null!==(_this$widgetData=this.widgetData)&&void 0!==_this$widgetData&&_this$widgetData.reservedSpaces){var _this$widgetData$rese=this.widgetData.reservedSpaces,reservedSpaces=void 0===_this$widgetData$rese?[]:_this$widgetData$rese;data=reservedSpaces}return data}},methods:{widgetInit:function(){var _this=this;this.formatedWidgetData.forEach((function(space){space.floorId&&_this.getFirstActivePlanFromFloorList({spaceId:space.id,floorId:space.floorId})}))},redirectToFloorplan:function(recordId,floorId){if(this.recordIdVsFloorplanId[recordId]&&floorId){var floorplanId=this.recordIdVsFloorplanId[recordId],_findRouteForTab=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.INDOOR_FLOORPLAN),path=_findRouteForTab.path;
// 'floorplan/floor-map/indoorfloorplan/:floorId?/:floorplanid?'
path&&(path=path.replaceAll(":floorId?",floorId),path=path.replaceAll(":floorplanid?",floorplanId)),this.$router.push({path:"/employee/".concat(path),query:{featureRecordId:recordId,viewMode:"BOOKING"}})}},getFirstActivePlanFromFloorList:function(_ref){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var spaceId,floorId,params,_yield$API$get,data,error,floorPlanIdFromList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return spaceId=_ref.spaceId,floorId=_ref.floorId,
//get first floor with an  active floor plan
params={viewName:"all",page:1,perPage:1,moduleName:"floor",filters:JSON.stringify({indoorFloorPlanId:{operatorId:2,value:[]},id:{operatorId:9,value:["".concat(floorId)]}})},_context.next=4,api/* API */.bl.get("v2/module/data/list",params);case 4:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this2.$error.message("Error loading all floors",error):(floorPlanIdFromList=data.moduleDatas[0].indoorFloorPlanId,_this2.$set(_this2.recordIdVsFloorplanId,spaceId,floorPlanIdFromList)),_this2.loading=!1;case 9:case"end":return _context.stop()}}),_callee)})))()},getRandomColor:function(){return"#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0")}}},HomepageWidgetComponents_ReservedSpacesvue_type_script_lang_js=ReservedSpacesvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_ReservedSpacesvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ReservedSpaces=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/15600.js.map