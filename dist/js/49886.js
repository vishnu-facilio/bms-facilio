"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[49886],{
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/353324:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupPagination.vue?vue&type=template&id=0e7c1e5a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"mT-5 d-flex",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.hideToggle?_vm._e():_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer pR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.of"))+" "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer pL5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})],1):_vm._e()])},staticRenderFns=[],FPagination=__webpack_require__(929593),SetupPaginationvue_type_script_lang_js={extends:FPagination/* default */.Z},components_SetupPaginationvue_type_script_lang_js=SetupPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SetupPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupPagination=component.exports},
/***/349886:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return JobPlanSectionLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/jobplan/widgets/JobPlanSectionLayout.vue?vue&type=template&id=4c5a920a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"jobplanSectionWidget",staticClass:"jp-section-layout"},[_c("div",{staticClass:"section-banner d-flex"},[_c("div",{staticClass:"width95 mL10"},[_vm._v(_vm._s(_vm.$t("jobplan.tasks")))]),_c("pagination",{staticClass:"justify-end d-flex nowrap pT10",attrs:{pageNo:_vm.sectionPage,total:_vm.sectionCount,perPage:_vm.sectionsPerWidget},on:{"update:pageNo":function($event){_vm.sectionPage=$event},"update:page-no":function($event){_vm.sectionPage=$event},onPageChanged:_vm.setPage}})],1),_vm.isLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_vm.$validation.isEmpty(_vm.currentSections)?[_c("div",{staticClass:" fc-empty-white flex-middle justify-content-center flex-direction-column"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"mT10 fc-black-dark f16 fw6"},[_c("div",{staticClass:"mT10 label-txt-black f14 mL15"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.no_section_available"))+" ")])])],1)]:_vm._l(_vm.currentSections,(function(section,index){return _c("JobPlanTasks",{key:"section-"+_vm.sectionPage+"-"+index,attrs:{sectionData:section,jobPlanId:_vm.jobPlanId,sectionLoading:_vm.isLoading}})}))],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),JobPlanTasksvue_type_template_id_1ebc7cf4_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-view"},[_vm.sectionLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("spinner",{attrs:{show:_vm.sectionLoading,size:"80"}})],1):_c("el-row",{staticClass:"section-area"},[_c("el-col",{staticClass:"d-flex mT10 mL10 section-name",attrs:{span:21}},[_c("div",{staticClass:"section-sequence"},[_vm._v(" "+_vm._s("JP-"+_vm.sectionData.sequenceNumber)+" ")]),_c("div",{staticClass:"mL15"},[_vm._v(_vm._s(_vm.sectionName))])]),_c("el-col",{staticClass:"mT15 pR10",attrs:{span:3}},[_c("div",{staticClass:"view-details",on:{click:function($event){return _vm.setActiveSectionOrTask()}}},[_vm._v(" "+_vm._s(_vm.$t("jobplan.view_detail"))+" ")])])],1),_vm.sectionData?_c("div",{staticClass:"task-area"},[_c("div",{staticClass:"task-details"},[_c("span",{staticClass:"text-capitalize pL20 self-center"},[_vm._v(_vm._s(_vm.$t("jobplan._task_details")))])]),_vm.isLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_c("div",{staticClass:"task-view-area"},_vm._l(_vm.selectedSectionTasks,(function(task,index){return _c("el-row",{key:index,staticClass:"task-row d-flex"},[_c("el-col",{staticClass:"task-info  d-flex pT15",attrs:{span:20}},[_c("div",{staticClass:"task-id pL20"},[_vm._v(" "+_vm._s("#"+task.sequence)+" ")]),_c("div",{staticClass:"d-flex  mL15 flex-direction-column   task-context"},[_c("div",{staticClass:"task-subject"},[_vm._v(" "+_vm._s(_vm.getTaskSubject(task))+" ")]),task.description?_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"task-desc mT5 mB10",attrs:{title:task.description}},[_vm._v(" "+_vm._s(task.description)+" ")]):_vm._e()])]),_c("el-col",{staticClass:"pT15 pL30",attrs:{span:4}},[_c("div",{staticClass:"view-details mL10",on:{click:function($event){return _vm.setActiveSectionOrTask(index)}}},[_vm._v(" "+_vm._s(_vm.$t("jobplan.view_detail"))+" ")])])],1)})),1),_c("pagination",{staticClass:"mT80 pT15 pB10 d-flex justify-center task-pagination",attrs:{pageNo:_vm.taskPage,total:_vm.taskTotalCount,perPage:_vm.taskPerPage},on:{"update:pageNo":function($event){_vm.taskPage=$event},"update:page-no":function($event){_vm.taskPage=$event},onPageChanged:_vm.setPage}})],1):_vm._e(),_vm.showSettingDialog?_c("JobPlanSettingsDialog",{attrs:{showSettingDialog:_vm.showSettingDialog,isSection:_vm.isSection,selectedSectionInfo:_vm.selectedSectionInfo},on:{"update:showSettingDialog":function($event){_vm.showSettingDialog=$event},"update:show-setting-dialog":function($event){_vm.showSettingDialog=$event}}}):_vm._e()],1)},JobPlanTasksvue_type_template_id_1ebc7cf4_scoped_true_staticRenderFns=[],utils_validation=(__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(990260)),SetupPagination=__webpack_require__(353324),JobPlanSettingsDialogvue_type_template_id_7e1fc7f0_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container jp-task-dialog",attrs:{title:_vm.isSection?_vm.$t("jobplan._section_details"):_vm.$t("jobplan._task_details"),visible:_vm.showSettingDialog,width:"40%","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("div",{staticClass:"setting-container"},[_c("div",{staticClass:"pL16 pT20 pR15 d-flex"},[_c("div",{staticClass:"name-icon"},[_c("fc-icon",{attrs:{group:"default",name:"circle-check"}})],1),_c("div",{staticClass:"d-flex flex-direction-column mL10 width100"},[_c("div",{staticClass:"name-and-desc"},[_c("div",{staticClass:"section-name"},[_vm._v(_vm._s(_vm.sectionName))]),_vm.selectedSectionInfo.description?_c("div",{staticClass:"content desc-content"},[_vm._v(" "+_vm._s(_vm.selectedSectionInfo.description)+" ")]):_vm._e()]),_vm.isEmpty(_vm.scopeName)?_vm._e():_c("el-row",{staticClass:"d-flex"},[_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10 mT15",attrs:{span:8}},[_c("div",{staticClass:"title"},[_vm._v(_vm._s(_vm.$t("jobplan._scope")))]),_c("div",{staticClass:"content"},[_vm._v(_vm._s(_vm.scopeName))])]),(_vm.canShowResourceCategory,_vm._e())],1)],1)]),_c("div",{staticClass:"scope-seperator"}),_c("div",{staticClass:"pL16 pT10 pR15 d-flex"},[_c("div",{staticClass:"name-icon"},[_c("fc-icon",{attrs:{group:"default",name:"settings"}})],1),_c("div",{staticClass:"d-flex flex-direction-column mL10 width100"},[_c("div",{staticClass:"name-and-desc"},[_c("div",{staticClass:"section-name"},[_vm._v(_vm._s(_vm.$t("jobplan.input_config")))]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.inputType)+" ")])]),_vm.inputEnabled?_c("div",[[5,6].includes(_vm.selectedSectionInfo.inputType)?_c("div",[_c("div",{staticClass:"title mT15"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.values"))+" ")]),_vm._l(_vm.optionsList,(function(option,index){return _c("div",{key:index,staticClass:"content"},[_vm._v(" "+_vm._s(option.value)+" ")])}))],2):_vm._e(),2===_vm.selectedSectionInfo.inputType?_c("div",[_c("div",{staticClass:"title mT20"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.reading_field"))+" ")]),_c("div",{staticClass:"content mT10"},[_vm._v(" "+_vm._s(_vm.readingFieldName)+" ")])]):_vm._e(),_c("el-row",{staticClass:"mT10 d-flex width100"},[_vm.$validation.isEmpty(_vm.selectedSectionInfo.defaultValue)?_vm._e():_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10",attrs:{span:8}},[_c("div",{staticClass:"title"},[_vm._v(" "+_vm._s(_vm.$t("common._common.default_value"))+" ")]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.selectedSectionInfo,"defaultValue","N/A"))+" ")])]),_vm.$validation.isEmpty(_vm.selectedSectionInfo.failureValue)?_vm._e():_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10",attrs:{span:12}},["Option"===_vm.inputType?_c("div",[_c("div",{staticClass:"title"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.deviation_value"))+" ")]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.selectedSectionInfo,"failureValue","N/A"))+" ")])]):_vm._e(),"Number"===_vm.inputType?_c("div",[_c("div",{staticClass:"title"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.deviation_condition"))+" ")]),_c("div",{staticClass:"content mL7"},[_vm._v(" "+_vm._s(_vm.deviationOperator)+" "+_vm._s(_vm.$getProperty(_vm.selectedSectionInfo,"failureValue","N/A"))+" ")])]):_vm._e()])],1),_vm.$validation.isEmpty(_vm.selectedSectionInfo.createWoOnFailure)?_vm._e():_c("div",[_c("div",{staticClass:"title mT20"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.deviation_Wo"))+" ")]),_vm.createWoOnFailureConfigured?_c("div",{staticClass:"content mT10"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.configured_deviation_Wo"))+" ")]):_c("div",{staticClass:"content mT10"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.not_configured_deviation_Wo"))+" ")])])],1):_c("div",{staticClass:"mT15 content"},[_vm._v(_vm._s(_vm.$t("jobplan.not_defined")))])])]),_c("div",{staticClass:"scope-seperator"}),"Number"===_vm.inputType?_c("div",{staticClass:"pL16 pT10 pR15 d-flex"},[_c("div",{staticClass:"d-flex flex-direction-column mL30 width100"},[_c("div",{staticClass:"name-and-desc"},[_c("div",{staticClass:"section-name"},[_vm._v(_vm._s(_vm.$t("jobplan.data_validation")))]),_vm.dataValidationEnabled?_c("div",{staticClass:"content text-capitalize"},[_vm._v(" "+_vm._s(_vm.selectedSectionInfo.validation)+" ")]):_vm._e()]),"safeLimit"===_vm.selectedSectionInfo.validation?_c("el-row",{staticClass:"d-flex mT15"},[_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10 mT15",attrs:{span:8}},[_c("div",{staticClass:"title"},[_vm._v(_vm._s(_vm.$t("jobplan.min_value")))]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.selectedSectionInfo,"minSafeLimit","N/A"))+" ")])]),_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10  mT15",attrs:{span:12}},[_c("div",{staticClass:"title"},[_vm._v(_vm._s(_vm.$t("jobplan.max_value")))]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.selectedSectionInfo,"maxSafeLimit","N/A"))+" ")])])],1):_vm._e(),_vm.dataValidationEnabled?_vm._e():_c("div",{staticClass:"mT15 content"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.not_defined"))+" ")])],1)]):_vm._e(),"Number"===_vm.inputType?_c("div",{staticClass:"scope-seperator"}):_vm._e(),_c("div",{staticClass:"pL16 pT20 pR15 d-flex"},[_c("div",{staticClass:"name-icon"},[_c("fc-icon",{attrs:{group:"default",name:"verified-check"}})],1),_c("div",{staticClass:"d-flex flex-direction-column mL10 width100"},[_c("div",{staticClass:"name-and-desc"},[_c("div",{staticClass:"section-name"},[_vm._v(_vm._s(_vm.$t("jobplan.validation")))]),_c("div",{staticClass:"content"},[_vm._v(" "+_vm._s(_vm.validationFields)+" ")])]),"Option"===_vm.inputType?_c("div",[_vm.validationEnabled?_c("el-row",{staticClass:"d-flex"},[_vm.attachmentRequired?_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10 mT15",attrs:{span:8}},[_c("div",{staticClass:"title"},[_vm._v(_vm._s(_vm.attachmentTitle))]),_c("div",{staticClass:"content"},[_vm._v(_vm._s(_vm.attachmentOptions))])]):_vm._e(),_vm.remarksRequired?_c("el-col",{staticClass:"scope d-flex flex-direction-column mB10  mT15",attrs:{span:12}},[_c("div",{staticClass:"title"},[_vm._v(_vm._s(_vm.remarksTitle))]),_c("div",{staticClass:"content"},[_vm._v(_vm._s(_vm.remarksOptions))])]):_vm._e()],1):_c("div",{staticClass:"mT15 content"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.not_defined"))+" ")])],1):_vm._e(),_vm.validationEnabled?_vm._e():_c("div",{staticClass:"mT15 content"},[_vm._v(" "+_vm._s(_vm.$t("jobplan.not_defined"))+" ")])])]),_c("div",{staticClass:"scope-seperator"})])])},JobPlanSettingsDialogvue_type_template_id_7e1fc7f0_scoped_true_staticRenderFns=[],scope_util=(__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(976801),__webpack_require__(425728),__webpack_require__(169358),__webpack_require__(594144)),api=__webpack_require__(32284),relatedFieldUtil=__webpack_require__(850558),JobPlanSettingsDialogvue_type_script_lang_js={name:"JPSettingDialog",props:["selectedSectionInfo","showSettingDialog","isSection"],created:function(){this.isEmpty=utils_validation/* isEmpty */.xb},data:function(){return{optionsList:[],
//woForms: [],
operatorHash:{9:"=",10:"!=",11:"<",12:"<=",13:">",14:">="}}},mounted:function(){var inputType=this.inputType;"Option"===inputType&&this.loadOptions();
//this.loadWoForms()
},computed:{inputEnabled:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref=selectedSectionInfo||{},inputType=_ref.inputType;return!(0,utils_validation/* isEmpty */.xb)(inputType)&&1!==inputType},inputType:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref2=selectedSectionInfo||{},inputType=_ref2.inputType,inputOption="";if(!(0,utils_validation/* isEmpty */.xb)(inputType)){var inputHash={2:"Reading",3:"Text",4:"Number",5:"Option"};inputOption=(0,utils_validation/* isEmpty */.xb)(inputHash[inputType])?"":inputHash[inputType]}return inputOption},createWoOnFailureConfigured:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref3=selectedSectionInfo||{},_ref3$createWoOnFailu=_ref3.createWoOnFailure,createWoOnFailure=void 0!==_ref3$createWoOnFailu&&_ref3$createWoOnFailu;return createWoOnFailure},attachmentRequired:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref4=selectedSectionInfo||{},attachmentRequired=_ref4.attachmentRequired;return attachmentRequired},remarksRequired:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref5=selectedSectionInfo||{},remarksRequired=_ref5.remarksRequired;return remarksRequired},deviationOperator:function(){var selectedSectionInfo=this.selectedSectionInfo,operatorHash=this.operatorHash,_ref6=selectedSectionInfo||{},deviationOperatorId=_ref6.deviationOperatorId;return"".concat(operatorHash[deviationOperatorId]," ")||0},validationFields:function(){var attachmentRequired=this.attachmentRequired,remarksRequired=this.remarksRequired,validation="";return attachmentRequired&&(validation="Photo"),remarksRequired&&(validation="".concat(validation,", Remarks")),validation},attachmentTitle:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref7=selectedSectionInfo||{},attachmentOption=_ref7.attachmentOption;return"all"===attachmentOption?this.$t("jobplan.photo_all"):this.$t("jobplan.photo_specific")},remarksTitle:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref8=selectedSectionInfo||{},remarkOption=_ref8.remarkOption;return"all"===remarkOption?this.$t("jobplan.remarks_all"):this.$t("jobplan.remarks_specific")},attachmentOptions:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref9=selectedSectionInfo||{},attachmentOption=_ref9.attachmentOption,attachmentOptionValues=_ref9.attachmentOptionValues;return"specific"===attachmentOption?attachmentOptionValues.toString():""},remarksOptions:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref10=selectedSectionInfo||{},remarkOption=_ref10.remarkOption,remarkOptionValues=_ref10.remarkOptionValues;return"specific"===remarkOption?remarkOptionValues.toString():""},dataValidationEnabled:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref11=selectedSectionInfo||{},validation=_ref11.validation;return!(0,utils_validation/* isEmpty */.xb)(validation)},validationEnabled:function(){var attachmentRequired=this.attachmentRequired,remarksRequired=this.remarksRequired;return attachmentRequired||remarksRequired},scopeName:function(){var selectedSectionInfo=this.selectedSectionInfo,isSection=this.isSection,scopeName="";return scopeName=isSection?this.getSectionScope(selectedSectionInfo):this.getTaskScope(selectedSectionInfo),scopeName},canShowResourceCategory:function(){var scopeName=this.scopeName;return["Asset Category","Space Category"].includes(scopeName)},scopeCategoryName:function(){var scopeName=this.scopeName,selectedSectionInfo=this.selectedSectionInfo;if("Asset Category"===scopeName){var _ref12=selectedSectionInfo||{},assetCategory=_ref12.assetCategory;return this.$getProperty(assetCategory,"displayName","---")}var _ref13=selectedSectionInfo||{},spaceCategory=_ref13.spaceCategory;return this.$getProperty(spaceCategory,"displayName","---")},readingFieldName:function(){var selectedSectionInfo=this.selectedSectionInfo,_ref14=selectedSectionInfo||{},readingField=_ref14.readingField;return this.$getProperty(readingField,"displayName","---")},sectionName:function(){var selectedSectionInfo=this.selectedSectionInfo,isSection=this.isSection;return isSection?this.$getProperty(selectedSectionInfo,"name","N/A"):this.$getProperty(selectedSectionInfo,"subject","N/A")}},methods:{closeDialog:function(){this.$emit("update:showSettingDialog",!1)},loadOptions:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var isSection,selectedSectionInfo,_ref15,id,optionsModuleName,currentModuleName,relatedFieldName,relatedConfig,_yield$API$fetchAllRe,error,list;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return isSection=_this.isSection,selectedSectionInfo=_this.selectedSectionInfo,_ref15=selectedSectionInfo||{},id=_ref15.id,isSection?(optionsModuleName="jobPlanSectionInputOptions",currentModuleName="jobplansection"):(optionsModuleName="jobPlanTaskInputOptions",currentModuleName="jobplantask"),relatedFieldName=(0,relatedFieldUtil/* getRelatedFieldName */.C9)(currentModuleName,optionsModuleName),relatedConfig={moduleName:currentModuleName,id:id,relatedModuleName:optionsModuleName,relatedFieldName:relatedFieldName},_context.next=7,api/* API */.bl.fetchAllRelatedList(relatedConfig);case 7:_yield$API$fetchAllRe=_context.sent,error=_yield$API$fetchAllRe.error,list=_yield$API$fetchAllRe.list,error?_this.$message.error(error.message||"Error Occured"):_this.$set(_this,"optionsList",list);case 11:case"end":return _context.stop()}}),_callee)})))()},getSectionScope:function(section){var _ref16=section||{},jobPlanSectionCategory=_ref16.jobPlanSectionCategory,jobPlan=_ref16.jobPlan,_ref17=jobPlan||{},jobPlanCategory=_ref17.jobPlanCategory,sectionScopeOptions=scope_util/* JOB_PLAN_SECTION_SCOPE */.Si[jobPlanCategory]||[],sectionScope=Object.keys(sectionScopeOptions).find((function(key){return sectionScopeOptions[key]===jobPlanSectionCategory}));return(0,utils_validation/* isEmpty */.xb)(sectionScope)?"---":sectionScope},
// async loadWoForms() {
//   let url = `/v2/forms?moduleName=workorder`
//   let { error, data } = await API.get(url)
//   if (error) {
//     this.$message.error('Error Occured')
//   } else {
//     let { forms = [] } = data || {}
//     this.woForms = forms.filter(
//       form => form.id > 0 && form.name !== 'default_workorder_web'
//     )
//   }
// },
getTaskScope:function(task){var _ref18=task||{},taskSection=_ref18.taskSection,jobPlanTaskCategory=_ref18.jobPlanTaskCategory,jobPlan=_ref18.jobPlan,_ref19=jobPlan||{},jobPlanCategory=_ref19.jobPlanCategory,_ref20=taskSection||{},jobPlanSectionCategory=_ref20.jobPlanSectionCategory,currentSectionScopeOptions=scope_util/* JOB_PLAN_SECTION_SCOPE */.Si[jobPlanCategory],taskScopeKey=Object.keys(currentSectionScopeOptions).find((function(key){return currentSectionScopeOptions[key]===jobPlanSectionCategory})),taskScopeOptions=scope_util/* JOB_PLAN_TASK_SCOPE */.zO[taskScopeKey]||{},taskScope=Object.keys(taskScopeOptions).find((function(key){return taskScopeOptions[key]===jobPlanTaskCategory}));return(0,utils_validation/* isEmpty */.xb)(taskScope)?"---":taskScope}}},widgets_JobPlanSettingsDialogvue_type_script_lang_js=JobPlanSettingsDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_JobPlanSettingsDialogvue_type_script_lang_js,JobPlanSettingsDialogvue_type_template_id_7e1fc7f0_scoped_true_render,JobPlanSettingsDialogvue_type_template_id_7e1fc7f0_scoped_true_staticRenderFns,!1,null,"7e1fc7f0",null)
/* harmony default export */,JobPlanSettingsDialog=component.exports,Spinner=__webpack_require__(604947),JobPlanTasksvue_type_script_lang_js={name:"JobPlanTasks",data:function(){return{selectedSectionTasks:[],taskPage:1,taskPerPage:10,taskTotalCount:null,isSection:!1,selectedSectionInfo:null,showSettingDialog:!1,isLoading:!1}},props:["sectionData","jobPlanId","sectionLoading"],components:{Pagination:SetupPagination/* default */.Z,JobPlanSettingsDialog:JobPlanSettingsDialog,Spinner:Spinner/* default */.Z},watch:{taskPage:{handler:function(newVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:(0,utils_validation/* isEmpty */.xb)(newVal)||_this.getSectionTasks();case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0},sectionData:{handler:function(newVal){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:(0,utils_validation/* isEmpty */.xb)(newVal)||_this2.getSectionTasks();case 1:case"end":return _context2.stop()}}),_callee2)})))()},immediate:!0},showSettingDialog:{handler:function(newVal){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:newVal||(_this3.isSection=!1,_this3.selectedSectionInfo=null);case 1:case"end":return _context3.stop()}}),_callee3)})))()},immediate:!0}},created:function(){this.getSectionTasks()},computed:{sectionName:function(){var sectionData=this.sectionData,_ref=sectionData||{},name=_ref.name;return(0,utils_validation/* isEmpty */.xb)(name)?"":(name=name.replace("JP-",""),name)},jobPlanSectionId:function(){var sectionData=this.sectionData,_ref2=sectionData||{},id=_ref2.id;return id}},methods:{getTaskSubject:function(task){var subject=task.subject;return(0,utils_validation/* isEmpty */.xb)(subject)||(subject=subject.replace("JP-","")),subject},setActiveSectionOrTask:function(taskIndex){var sectionData=this.sectionData,selectedSectionTasks=this.selectedSectionTasks;this.isSection=(0,utils_validation/* isEmpty */.xb)(taskIndex),(0,utils_validation/* isEmpty */.xb)(selectedSectionTasks)||this.isSection?this.selectedSectionInfo=sectionData:this.selectedSectionInfo=selectedSectionTasks[taskIndex],this.showSettingDialog=!0},setPage:function(page){this.taskPage=page},getSectionTasks:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var taskPerPage,taskPage,jobPlanSectionId,params,relatedFieldName,relatedConfig,_yield$API$fetchAllRe,error,list,meta,_ref3,message,_ref4,pagination,_ref5,_ref5$totalCount,totalCount;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this4.isLoading=!0,taskPerPage=_this4.taskPerPage,taskPage=_this4.taskPage,jobPlanSectionId=_this4.jobPlanSectionId,params={page:taskPage,perPage:taskPerPage,jobplansection:jobPlanSectionId,withCount:!0},relatedFieldName=(0,relatedFieldUtil/* getRelatedFieldName */.C9)("jobplansection","jobplantask"),relatedConfig={moduleName:"jobplansection",id:jobPlanSectionId,relatedModuleName:"jobplantask",relatedFieldName:relatedFieldName},_context4.next=7,api/* API */.bl.fetchAllRelatedList(relatedConfig,params);case 7:_yield$API$fetchAllRe=_context4.sent,error=_yield$API$fetchAllRe.error,list=_yield$API$fetchAllRe.list,meta=_yield$API$fetchAllRe.meta,error?(_ref3=error||{},message=_ref3.message,_this4.$message.error(message||"Error Occured")):(_ref4=meta||{},pagination=_ref4.pagination,_ref5=pagination||{},_ref5$totalCount=_ref5.totalCount,totalCount=void 0===_ref5$totalCount?null:_ref5$totalCount,_this4.$set(_this4,"selectedSectionTasks",list),_this4.$set(_this4,"taskTotalCount",totalCount)),_this4.isLoading=!1;case 13:case"end":return _context4.stop()}}),_callee4)})))()}}},widgets_JobPlanTasksvue_type_script_lang_js=JobPlanTasksvue_type_script_lang_js,JobPlanTasks_component=(0,componentNormalizer/* default */.Z)(widgets_JobPlanTasksvue_type_script_lang_js,JobPlanTasksvue_type_template_id_1ebc7cf4_scoped_true_render,JobPlanTasksvue_type_template_id_1ebc7cf4_scoped_true_staticRenderFns,!1,null,"1ebc7cf4",null)
/* harmony default export */,JobPlanTasks=JobPlanTasks_component.exports,JobPlanSectionLayoutvue_type_script_lang_js={name:"JobPlanSectionLayout",data:function(){return{sectionsPerWidget:5,sectionPage:1,sectionCount:null,currentSections:[],isLoading:!1}},props:["resizeWidget","widget","calculateDimensions"],components:{JobPlanTasks:JobPlanTasks,Pagination:SetupPagination/* default */.Z},created:function(){this.getSections()},computed:{jobPlan:function(){var _this$$attrs$details=this.$attrs.details,details=void 0===_this$$attrs$details?{}:_this$$attrs$details;return details},jobPlanId:function(){var jobPlan=this.jobPlan,_ref=jobPlan||{},id=_ref.id;return id},isPrerequisite:function(){var widget=this.widget,_ref2=widget||{},widgetParams=_ref2.widgetParams,_ref3=widgetParams||{},_ref3$isPrerequisite=_ref3.isPrerequisite,isPrerequisite=void 0===_ref3$isPrerequisite||_ref3$isPrerequisite;return isPrerequisite}},watch:{sectionPage:{handler:function(newVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:(0,utils_validation/* isEmpty */.xb)(newVal)||_this.getSections();case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{autoResize:function(){var _this2=this;this.$nextTick((function(){var params={},widget=_this2.widget,_ref4=widget||{},layoutParams=_ref4.layoutParams,_ref5=layoutParams||{},defaultWidgetHeight=_ref5.h,container=_this2.$refs["jobplanSectionWidget"];if(container){var height=container.scrollHeight,width=container.scrollWidth,_this2$calculateDimen=_this2.calculateDimensions({height:height,width:width}),h=_this2$calculateDimen.h;params=h<=defaultWidgetHeight?{height:height,width:width}:{h:h},_this2.resizeWidget(params)}}))},setPage:function(page){this.sectionPage=page},getSections:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var sectionsPerWidget,sectionPage,jobPlanId,params,relatedFieldName,relatedConfig,_yield$API$fetchAllRe,error,list,meta,_ref6,message,_ref7,pagination,_ref8,_ref8$totalCount,totalCount;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this3.isLoading=!0,sectionsPerWidget=_this3.sectionsPerWidget,sectionPage=_this3.sectionPage,jobPlanId=_this3.jobPlanId,params={page:sectionPage,perPage:sectionsPerWidget,withCount:!0},relatedFieldName=(0,relatedFieldUtil/* getRelatedFieldName */.C9)("jobplan","jobplansection"),relatedConfig={moduleName:"jobplan",id:jobPlanId,relatedModuleName:"jobplansection",relatedFieldName:relatedFieldName},_context2.next=7,api/* API */.bl.fetchAllRelatedList(relatedConfig,params);case 7:_yield$API$fetchAllRe=_context2.sent,error=_yield$API$fetchAllRe.error,list=_yield$API$fetchAllRe.list,meta=_yield$API$fetchAllRe.meta,error?(_ref6=error||{},message=_ref6.message,_this3.$message.error(message||"Error Occured")):(_ref7=meta||{},pagination=_ref7.pagination,_ref8=pagination||{},_ref8$totalCount=_ref8.totalCount,totalCount=void 0===_ref8$totalCount?null:_ref8$totalCount,_this3.$set(_this3,"currentSections",list),_this3.$set(_this3,"sectionCount",totalCount),_this3.autoResize()),_this3.isLoading=!1;case 13:case"end":return _context2.stop()}}),_callee2)})))()}}},widgets_JobPlanSectionLayoutvue_type_script_lang_js=JobPlanSectionLayoutvue_type_script_lang_js,JobPlanSectionLayout_component=(0,componentNormalizer/* default */.Z)(widgets_JobPlanSectionLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,"4c5a920a",null)
/* harmony default export */,JobPlanSectionLayout=JobPlanSectionLayout_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/49886.js.map