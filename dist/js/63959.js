(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[63959],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/720096:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PreviewFile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PreviewFile.vue?vue&type=template&id=447c7e89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.currentFile?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"preview-file"},[_c("div",{staticClass:"top-toolbar"},[_c("div",{staticClass:"a-top-toolbar"},[_c("div",{staticClass:"file-name word-break-keep"},[_vm._v(" "+_vm._s(_vm.currentFile.fileName)+" ")]),_c("div",{staticClass:"top-toolbar-icon-right flex align-center"},[_vm.currentFile.contentType.includes("image")?[_c("div",{staticClass:"flex-middle pL15"},[_vm.showOriginalImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showOriginalPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_original"))+" ")]):_vm._e(),_vm.showCompressedImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showCompressedPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_default"))+" ")]):_vm._e()]),_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.currentFile.contentType.includes("pdf")?[_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.showDeleteOption()?_c("div",{staticClass:"flex-middle pL15",on:{click:function($event){return _vm.deletePreview()}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color close vertical-text-top",attrs:{src:"svgs/delete",iconClass:"icon icon-md"}})],1):_vm._e(),_c("div",{staticClass:"pL15"},[_c("i",{staticClass:"el-icon-close close",on:{click:_vm.closePreview}})])],2)])]),_vm.currentFileIndex>0?_c("a",{staticClass:"el-icon-arrow-left prev",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(-1)}}}):_vm._e(),_vm.currentFileIndex<_vm.files.length-1?_c("a",{staticClass:"el-icon-arrow-right next",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(1)}}}):_vm._e(),_c("div",{staticClass:"preview-content"},[_vm.currentFile.contentType.includes("image")?[_vm.compressedImage?_c("img",{staticClass:"content",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl)}}):_vm.originalImage?_c("img",{staticClass:"content original",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl+"?fetchOriginal=true")}}):_vm._e()]:_vm.currentFile.contentType.includes("pdf")?_c("div",{staticClass:"width100 height-100"},[_c("iframe",{staticClass:"fc-preview-pdf",attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl),height:"100%",width:"100%"}})]):_vm.isVideoSupported(_vm.currentFile.contentType)?_c("div",{staticClass:"width100 height-100 fc-preview-video"},[_c("video",{attrs:{controls:""}},[_c("source",{attrs:{src:_vm.$prependBaseUrl(_vm.$getProperty(_vm.currentFile,"downloadUrl",null)),type:_vm.$getProperty(_vm.currentFile,"contentType")}}),_vm._v(" "+_vm._s(_vm.$t("common._common.browser_not_supported"))+" ")])]):_c("div",{staticClass:"no-preview"},[_c("div",{staticClass:"flex justify-center pT24"},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:_vm.getFileIcon(_vm.currentFile),iconClass:"icon icon-60 overlay"}})],1),_c("div",{staticClass:"f14 pT12 pB12"},[_vm._v("No preview available")]),_c("div",{staticClass:"download-button"},[_c("a",{staticClass:"flex flex-row",staticStyle:{color:"#ffff"},on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("div",[_vm._v("Download")])])])])],2),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()]):_vm._e()},staticRenderFns=[],validation=(__webpack_require__(339772),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(228436),__webpack_require__(990260)),PreviewFilevue_type_script_lang_js={props:["previewFile","files","visibility","showDelete","isLockedState","isTaskClosed"],data:function(){return{show:!0,previewUrl:null,currentFileIndex:0,currentFile:null,imageMargin:null,exportDownloadUrl:null,originalImage:!1,compressedImage:!0,showOriginalImage:!0,showCompressedImage:!1}},destroyed:function(){window.removeEventListener("keyup",this.handler)},mounted:function(){window.addEventListener("keyup",this.handler),this.preloadImages()},watch:{},computed:{},methods:{handler:function(){
// If escape key is pressed...
27===event.keyCode?this.closePreview():37===event.keyCode?this.plusSlides(-1):39===event.keyCode&&this.plusSlides(1)},preloadImages:function(){this.currentFile=this.previewFile?this.previewFile:this.files[0],this.currentFileIndex=this.files.indexOf(this.currentFile)},plusSlides:function(n){var index=this.currentFileIndex+n;index<0&&(index=0),index>=this.files.length&&(index=this.files.length-1),this.currentFileIndex=index,this.currentFile=this.files[index]},closePreview:function(){this.$emit("update:visibility",!1)},deletePreview:function(){var currentFile=this.currentFile;this.$emit("onDelete",currentFile)},downloadAttachment:function(file){var _this=this,_ref=file||{},url=_ref.downloadUrl;this.exportDownloadUrl&&(this.exportDownloadUrl=null),this.$nextTick((function(){_this.exportDownloadUrl=url}))},showOriginalPhoto:function(){this.originalImage=!0,this.showCompressedImage=!0,this.showOriginalImage=!1,this.compressedImage=!1},showCompressedPhoto:function(){this.showCompressedImage=!1,this.originalImage=!1,this.showOriginalImage=!0,this.compressedImage=!0},getFileIcon:function(attachment){var contentType=attachment.contentType,FILE_TYPE_ICONS=this.$constants.FILE_TYPE_ICONS,selectedIndex=FILE_TYPE_ICONS.findIndex((function(icons){var fileTypes=icons.fileTypes;return fileTypes.some((function(type){return contentType.includes(type)}))}));return(0,validation/* isEmpty */.xb)(selectedIndex)?FILE_TYPE_ICONS[0].path:FILE_TYPE_ICONS[selectedIndex].path},isVideoSupported:function(contentType){contentType=contentType||"";var supportedTypes=["video/webm","video/mp4","video/ogg"];return supportedTypes.includes(contentType.trim().toLowerCase())},showDeleteOption:function(){var showDelete=this.showDelete,isLockedState=this.isLockedState,isTaskClosed=this.isTaskClosed;return showDelete&&!isLockedState&&!isTaskClosed}}},components_PreviewFilevue_type_script_lang_js=PreviewFilevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PreviewFilevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PreviewFile=component.exports},
/***/882401:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ItemTool}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/ItemTool.vue?vue&type=template&id=eff8209c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.recordData?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[_vm.showSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{attrs:{trigger:"click",height:"120px",autoplay:!1,"indicator-position":"none"}},_vm._l(_vm.photos,(function(photo,index){return photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{target:"_blank",src:photo.url},on:{click:function($event){return _vm.openPhotoUrl(photo.originalUrl)}}})]):_vm._e()})),1)],1):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]),_vm.showName?_c("div",[_c("div",{staticClass:"textoverflow-ellipsis width110px pL8"},[_vm._v(" "+_vm._s("others"===_vm.module?_vm.recordData:_vm.recordData.name)+" ")])]):_vm._e()])]):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),ItemToolvue_type_script_lang_js=(__webpack_require__(434284),{props:["size","recordData","name","hovercard","module"],data:function(){return{avatarUrl:null,sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.recordData.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["shuge","huge","xhuge"]}},mounted:function(){this.loadAvatarUrl()},computed:{showSlide:function(){if(this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},watch:{recordData:function(){this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){this.avatarUrl=this.recordData.photoUrl,this.recordData.photoUrl?this.avatarUrl=this.recordData.photoUrl:this.avatarUrl=this.getDefaultAvatar()},openPhotoUrl:function(url){window.open(url,"_blank")},getDefaultAvatar:function(){if(this.recordData){if("item"===this.module)return __webpack_require__(73188);if("tool"===this.module)return __webpack_require__(392708);if("others"===this.module)return __webpack_require__(73188)}return __webpack_require__(73188)},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}}),avatar_ItemToolvue_type_script_lang_js=ItemToolvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_ItemToolvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ItemTool=component.exports},
/***/664281:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Storeroom}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/Storeroom.vue?vue&type=template&id=1587f6ed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.storeRoom?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[!_vm.showSlide||"undefined"!==typeof _vm.disableSlide&&!1!==_vm.disableSlide?_vm.isSummary?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{attrs:{trigger:"click",height:"180px",autoplay:!1,"indicator-position":"none"}},_vm._l(_vm.photos,(function(photo,index){return photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{target:"_blank",src:photo.url},on:{click:function($event){return _vm.openPhotoUrl(photo.originalUrl)}}})]):_vm._e()})),1)],1),_vm.showName?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(_vm._s(_vm.storeRoom.name))])])]):_vm._e(),!_vm.showUpload||"undefined"!==typeof _vm.disableUpload&&!1!==_vm.disableUpload?_vm._e():_c("div",[_c("span",{staticClass:"upload-space-photos pointer",on:{click:_vm.showUploadPhotoDialog}},[_c("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}})]),_c("f-upload-photos",{ref:"uploadDialog",attrs:{list:_vm.photos,module:"storeroomphotos",record:_vm.storeRoom}})],1)])]):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),FUploadPhotos=(__webpack_require__(434284),__webpack_require__(350367)),Storeroomvue_type_script_lang_js={props:["size","storeRoom","name","hovercard","disableUpload","disableSlide","isSummary"],data:function(){return{avatarUrl:null,sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.storeRoom.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["shuge","huge","xhuge","mxhuge"]}},components:{FUploadPhotos:FUploadPhotos/* default */.Z},mounted:function(){this.loadAvatarUrl()},computed:{showSlide:function(){if(this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},watch:{storeRoom:function(){this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){var self=this;this.storeRoom.id>0&&(self.photosLoading=!0,self.$http.get("/photos/get?module=storeroomphotos&parentId="+this.storeRoom.id).then((function(response){if(self.photos=response.data.photos?response.data.photos:[],self.photosLoading=!1,self.photos.length){var _step2,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(self.photos);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var photo=_step2.value;if(photo.url){self.avatarUrl=photo.url;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}))),this.storeRoom.avatarUrl?this.avatarUrl=this.storeRoom.avatarUrl:(this.avatarUrl=this.getDefaultAvatar(),this.storeRoom.avatarUrl=this.avatarUrl)},openPhotoUrl:function(url){window.open(url,"_blank")},getDefaultAvatar:function(){if(this.storeRoom)return __webpack_require__(494194)},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}},avatar_Storeroomvue_type_script_lang_js=Storeroomvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_Storeroomvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Storeroom=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/281375:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Attachments}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var render,staticRenderFns,objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(634338),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(891719),__webpack_require__(339772),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(821057),__webpack_require__(990260)),Attachmentsvue_type_script_lang_js={props:["module","record","parentModule"],data:function(){return{loading:!0,status:{UPLOADING:1,SUCCESS:2,FAILED:3},attachments:[],formFieldName:"attachment",selectedAttachedFile:null,visibility:!1}},mounted:function(){this.loadAttachments()},watch:{record:function(){this.loadAttachments()},attachments:function(){var _this$attachments=this.attachments,attachments=void 0===_this$attachments?[]:_this$attachments;this.record.noOfAttachments=(attachments||[]).length}},methods:{loadAttachments:function(){var _this=this;this.loading=!0;var url="/attachment?module=".concat(this.module,"&recordId=").concat(this.record.id);return(0,validation/* isEmpty */.xb)(this.parentModule)||(url+="&parentModuleName=".concat(this.parentModule)),this.$http.get(url).then((function(response){_this.loading=!1,_this.attachments=response.data.attachments?response.data.attachments:[]})).catch((function(error){error&&(_this.loading=!1,_this.attachments=null)}))},filesChange:function(file){var _this2=this,fileList=Array.from(file);if(fileList.length){
// Append the files to FormData
var formData=new FormData;formData.append("module",this.module),formData.append("recordId",this.record.id),formData.append("parentModuleName",this.parentModule);var _this$status=this.status,UPLOADING=_this$status.UPLOADING,SUCCESS=_this$status.SUCCESS,FAILED=_this$status.FAILED;fileList.forEach((function(file){var _ref=file||{},name=_ref.name,size=_ref.size,type=_ref.type,fileEntry={fileId:-1,fileName:name,fileSize:size,contentType:type,status:UPLOADING,error:null,previewUrl:null,uploadedBy:_this2.$account.user.id};formData.append(_this2.formFieldName,file,name),_this2.attachments.unshift(fileEntry)})),this.$http.post("/attachment/add",formData).then((function(_ref2){var data=_ref2.data;data.attachments.forEach((function(attachment){var fileId=attachment.fileId,fileName=attachment.fileName,fileSize=attachment.fileSize,attachmentIdx=_this2.attachments.findIndex((function(a){return a.fileName===fileName&&a.fileSize===fileSize}));if(!(0,validation/* isEmpty */.xb)(attachmentIdx)){var attachmentFile=_this2.attachments[attachmentIdx];attachmentFile=fileId?(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),attachment),{},{status:SUCCESS}):(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),{},{status:FAILED,error:"Upload failed."}),_this2.$set(_this2.attachments,attachmentIdx,attachmentFile)}}))})).catch((function(){fileList.forEach((function(file){var _ref3=file||{},name=_ref3.name,size=_ref3.size,attachmentIdx=_this2.attachments.findIndex((function(a){return a.fileName===name&&a.fileSize===size}));if(!(0,validation/* isEmpty */.xb)(attachmentIdx)){var attachmentFile=_this2.attachments[attachmentIdx];attachmentFile=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),{},{status:FAILED,error:"Upload failed."}),_this2.$set(_this2.attachments,attachmentIdx,attachmentFile)}}))}))}},canShowDelete:function(attachment){var _ref4=attachment||{},uploadedBy=_ref4.uploadedBy,status=_ref4.status,SUCCESS=this.status.SUCCESS;return((0,validation/* isEmpty */.xb)(status)||status===SUCCESS)&&uploadedBy===this.$account.user.id},deleteAttachment:function(attachment,index){var _this3=this,ids=[],module=this.module,parentModule=this.parentModule,record=this.record;ids.push(attachment.id);var obj={attachmentId:ids,module:module,parentModuleName:parentModule,recordId:null===record||void 0===record?void 0:record.id};this.$dialog.confirm({title:"Delete Attachment",message:"Are you sure you want to delete this attachment",rbDanger:!0,rbLabel:"Delete"}).then((function(value){value&&_this3.$http.post("/v2/attachments/delete",obj).then((function(_ref5){var _ref5$data=_ref5.data,message=_ref5$data.message,responseCode=_ref5$data.responseCode;_ref5$data.result;if(0!==responseCode)throw new Error(message);_this3.attachments.splice(index,1),_this3.loadAttachments()}))}))}}},base_Attachmentsvue_type_script_lang_js=Attachmentsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Attachmentsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Attachments=component.exports;
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.concat.js
},
/***/349318:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Comments}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var render,staticRenderFns,objectSpread2=__webpack_require__(595082),esm_typeof=__webpack_require__(103336),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),vuex_esm=(__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(843097),__webpack_require__(420629)),api=__webpack_require__(32284),Commentsvue_type_script_lang_js={props:["module","record","notify","parentModule","isServicePortal","setNoOfNotesLength"],created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.availablePortalApps();case 2:_this.canShowSharing&&(_this.newComment.commentSharing=_this.defaultSharingApps),_this.loadComments();case 4:case"end":return _context.stop()}}),_callee)})))()},data:function(){return{isAddingNotes:!1,loading:!0,selectedPortal:[],portalApps:[],defaultSharingApps:[],comments:[],newComment:{parentModuleLinkName:this.module,parentId:this.record.id,body:null,notifyRequester:!1,commentSharing:[]},commentFocus:!1}},watch:{record:function(recordObj){this.loadComments()},comments:function(newVal){this.record&&"object"===(0,esm_typeof/* default */.Z)(this.record)&&this.setNoOfNotesLength&&
//this.record.noOfNotes = this.comments.length
this.setNoOfNotesLength(this.comments.length)}},computed:(0,objectSpread2/* default */.Z)({showNotifyRequester:function(){return"undefined"===typeof this.notify||this.notify}},(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),methods:{availablePortalApps:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,licensedPortalApps,commentSharingPreferences;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("/v3/commentPreferences/sharingOptions");case 2:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||_this2.$t("common._common.error_occured")):(licensedPortalApps=data.licensedPortalApps,commentSharingPreferences=data.commentSharingPreferences,_this2.portalApps=licensedPortalApps,_this2.defaultSharingApps=commentSharingPreferences);case 6:case"end":return _context2.stop()}}),_callee2)})))()},loadComments:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var url;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(_this3.record&&"object"===(0,esm_typeof/* default */.Z)(_this3.record)){_context3.next=2;break}return _context3.abrupt("return");case 2:return _this3.loading=!0,_this3.newComment.parentId=_this3.record.id,url="/note/get?module=",_this3.isServicePortal&&(url="/notelist?module="),_context3.abrupt("return",_this3.$http.get(url+_this3.module+"&parentId="+_this3.record.id+"&parentModuleName="+_this3.parentModule).then((function(response){_this3.loading=!1,_this3.comments=response.data})).catch((function(error){_this3.loading=!1,_this3.comments=[]})));case 7:case"end":return _context3.stop()}}),_callee3)})))()},reset:function(){this.newComment={parentModuleLinkName:this.module,parentId:this.record.id,body:null,notifyRequester:!1},this.canShowSharing&&(this.newComment.commentSharing=this.defaultSharingApps)},addComment:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var param,url,record,parentModule,module,_yield$API$post,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!_this4.newComment.body){_context4.next=13;break}return _this4.isServicePortal&&(_this4.newComment.notifyRequester=!0),param={note:_this4.newComment,module:_this4.module,parentModuleName:_this4.parentModule},"basealarmnotes"===_this4.module&&(param.alarmOccurrenceId=_this4.record.occurrence?_this4.record.occurrence.id:-1),_this4.isAddingNotes=!0,url="v2/notes/add",_this4.$helpers.isLicenseEnabled("THROW_403_WEBTAB")&&(record=_this4.record,parentModule=_this4.parentModule,module=_this4.module,url="v2/notes/".concat(module,"/").concat(parentModule,"/add/").concat(record.id)),_context4.next=9,api/* API */.bl.post(url,param);case 9:_yield$API$post=_context4.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?_this4.$message.error(error.message||"Error Occured"):(_this4.reset(),_this4.comments.push(data.Notes),_this4.closeComment(),_this4.isAddingNotes=!1);case 13:case"end":return _context4.stop()}}),_callee4)})))()}}},base_Commentsvue_type_script_lang_js=Commentsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Commentsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Comments=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/typeof.js
},
/***/77098:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return relatedlist_Attachments}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/Attachments.vue?vue&type=template&id=85c96020
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-attachments"},[_vm.loading?_c("div",{staticClass:"text-center"},[_c("spinner",{attrs:{show:_vm.loading}})],1):_c("div",[_vm._l(_vm.attachments,(function(attachment,index){return _c("div",{key:attachment.attachmentId,staticClass:"fc-attachment-row visibility-visible-actions"},[_c("div",{staticClass:"attachment-label pointer"},[attachment.previewUrl?_c("a",{on:{click:function($event){return _vm.selectedFile(attachment)}}},[_vm._v(_vm._s(attachment.fileName))]):_c("span",[_vm._v(_vm._s(attachment.fileName))])]),_c("div",{staticClass:"attachment-sublabel pT15 pB10"},[_c("span",[_vm._v(_vm._s(_vm._f("prettyBytes")(attachment.fileSize)))]),1===attachment.status?_c("span",{staticClass:"attachment-sublabel"},[_vm._v(", Uploading...")]):2===attachment.status?_c("span",{staticClass:"attachment-sublabel"},[_vm._v(", Success")]):_c("span",{staticClass:"attachment-sublabel"},[_vm._v(" "+_vm._s(attachment.error))])]),_c("div",{staticClass:"remove pull-right"},[1===attachment.status?_c("a",{staticClass:"visibility-hide-actions",staticStyle:{cursor:"wait"},attrs:{onclick:"javascript:void(0)"}},[_c("img",{attrs:{src:__webpack_require__(984329),width:"15",height:"15"}})]):_vm.canShowDelete(attachment)?_c("a",{staticClass:"remove-attachment-link fc-delete visibility-hide-actions",on:{click:function($event){return _vm.deleteAttachment(attachment,index)}}},[_c("img",{attrs:{src:__webpack_require__(984329),width:"15",height:"15"}})]):_vm._e()])])})),_c("form",{staticClass:"pT20 pB20",attrs:{enctype:"multipart/form-data",novalidate:""}},[_c("div",{staticClass:"dropbox"},[_c("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:function($event){return _vm.filesChange($event.target.files)}}}),_c("img",{staticClass:"mT20 opacity-05 mB10",attrs:{src:__webpack_require__(581121),width:"20",height:"20"}}),_c("p",[_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.drag_and_drop_files"))),_c("br"),_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.click_to_browse"))+" ")])])])],2),_vm.visibility&&_vm.selectedAttachedFile?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.selectedAttachedFile,files:_vm.attachments},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)},staticRenderFns=[],Attachments=__webpack_require__(281375),PreviewFile=__webpack_require__(720096),Attachmentsvue_type_script_lang_js={extends:Attachments/* default */.Z,components:{PreviewFile:PreviewFile/* default */.Z},methods:{selectedFile:function(inList){this.selectedAttachedFile=inList,this.visibility=!0}}},relatedlist_Attachmentsvue_type_script_lang_js=Attachmentsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_Attachmentsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,relatedlist_Attachments=component.exports},
/***/147105:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return relatedlist_Comments}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/Comments.vue?vue&type=template&id=9c5de910
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-comments"},[_vm.loading?_c("div",{staticClass:"text-center"},[_c("spinner",{attrs:{show:_vm.loading}})],1):_c("div",{staticClass:"comment-msg-container"},_vm._l(_vm.comments,(function(comment){return _c("div",{key:comment.id,staticClass:"fc-comment-row"},[_c("div",{staticClass:"flLeft f12 secondary-color comment-by"},[_c("user-avatar",{staticClass:"comments-avatar",attrs:{size:"md",user:comment.createdBy,id:comment.createdBy.id}}),_c("div",{staticClass:"pL45 comment-time"},[_c("i",{staticClass:"fa fa-circle",staticStyle:{opacity:"0.4px",color:"rgba(140,161,173,0.30)","font-size":"8px","padding-right":"5px"},attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(_vm._f("fromNow")(comment.createdTime))+" ")])],1),null!=comment.bodyHTML?_c("div",{staticClass:"markdown-style",domProps:{innerHTML:_vm._s(comment.bodyHTML)}}):_vm._e(),_c("div",{staticClass:"clearboth"})])})),0),_c("div",{staticClass:"row new-comment-area width100 mT20",attrs:{id:"commentBoxPar"}},[_c("form",{staticClass:"col-12",on:{submit:function($event){return $event.preventDefault(),_vm.addComment.apply(null,arguments)}}},[_c("div",{staticClass:"markdown-inside"},[_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.newComment.body,expression:"newComment.body"}],ref:"commentBoxRef",staticClass:"comment-box pT10",class:{height75:_vm.commentFocus,height35:!_vm.commentFocus},staticStyle:{"font-size":"13px","letter-spacing":"0.3px",color:"#333333","border-color":"#d0d9e2 !important","border-radius":"3px",width:"100%",height:"40px"},attrs:{placeholder:_vm.placeholder?_vm.placeholder:_vm.$t("common._common.write_comment")},domProps:{value:_vm.newComment.body},on:{focus:_vm.focusCommentBox,input:function($event){$event.target.composing||_vm.$set(_vm.newComment,"body",$event.target.value)}}}),_vm._v(" "),_c("button",{class:[_vm.commentFocus?"show":"hide"],on:{click:_vm.markdownhelplist}},[_c("img",{staticClass:"pull-right pointer",attrs:{src:__webpack_require__(773339)}})])]),this.markdownshow?[_c("markdown-help-list",{attrs:{markdownshow:_vm.markdownshow},on:{"update:markdownshow":function($event){_vm.markdownshow=$event}}})]:_vm._e(),_vm.commentFocus?_c("div",[_c("div",{staticClass:"flRight"},[_c("button",{staticClass:"comment-btn"},[_vm._v(" "+_vm._s(_vm.btnLabel?_vm.btnLabel:_vm.$t("common._common.comment"))+" ")])]),!_vm.isServicePortal&&_vm.showNotifyRequester?_c("div",{staticClass:"flLeft"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.newComment.notifyRequester,expression:"newComment.notifyRequester"}],staticClass:"notify-requester-checkbox",attrs:{type:"checkbox",name:"notifyRequester"},domProps:{checked:Array.isArray(_vm.newComment.notifyRequester)?_vm._i(_vm.newComment.notifyRequester,null)>-1:_vm.newComment.notifyRequester},on:{change:function($event){var $$a=_vm.newComment.notifyRequester,$$el=$event.target,$$c=!!$$el.checked;if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);$$el.checked?$$i<0&&_vm.$set(_vm.newComment,"notifyRequester",$$a.concat([$$v])):$$i>-1&&_vm.$set(_vm.newComment,"notifyRequester",$$a.slice(0,$$i).concat($$a.slice($$i+1)))}else _vm.$set(_vm.newComment,"notifyRequester",$$c)}}}),_c("label",{staticClass:"notify-req",attrs:{for:"notifyRequester"}},[_vm._v(_vm._s(_vm.$t("common._common.notify")))])]):_vm._e(),_c("div",{staticClass:"clearboth"})]):_vm._e()],2)])])},staticRenderFns=[],User=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(228436),__webpack_require__(426803)),Comments=__webpack_require__(349318),MarkdownHelpList=__webpack_require__(566302),Commentsvue_type_script_lang_js={extends:Comments/* default */.Z,props:["placeholder","btnLabel"],components:{UserAvatar:User/* default */.Z,MarkdownHelpList:MarkdownHelpList/* default */.Z},data:function(){return{markdownshow:!1}},created:function(){window.addEventListener("click",this.blurCommentBox)},methods:{markdownhelplist:function(){this.markdownshow=!0},focusCommentBox:function(){this.$refs.commentBoxRef.focus(),this.commentFocus=!0},blurCommentBox:function(e){var itTargetPar=e.path.filter((function(ele){if("commentBoxPar"===ele.id)return!0}));this.newComment.body&&""!==this.newComment.body.trim()||itTargetPar.length||(this.commentFocus=!1)}}},relatedlist_Commentsvue_type_script_lang_js=Commentsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_Commentsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,relatedlist_Comments=component.exports},
/***/566302:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return MarkdownHelpList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/MarkdownHelpList.vue?vue&type=template&id=55b1eae8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.markdownshow,"before-close":_vm.cancelForm,title:_vm.$t("common.markdown.title"),"custom-class":"markdow-dialog markdown-pop"},on:{"update:visible":function($event){_vm.markdownshow=$event}}},[_c("div",{staticClass:"markdown-style"},[_c("table",[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$t("common.markdown.element")))]),_c("th",[_vm._v(_vm._s(_vm.$t("common.markdown.output")))]),_c("th",[_vm._v(_vm._s(_vm.$t("common.markdown.syntax")))]),_c("th",[_vm._v(_vm._s(_vm.$t("common.markdown.null")))])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.bold")))])]),_c("td",[_c("p",[_c("strong",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("**")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v("**")])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.bold)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.h1")))])]),_c("td",[_c("h1",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("# ")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))+" ")])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.h1)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.h2")))])]),_c("td",[_c("h2",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("## ")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))+" ")])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.h2)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.italics")))])]),_c("td",[_c("em",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("*")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v("*")])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.italics)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.strike")))])]),_c("td",[_c("del",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v(_vm._s(_vm.$t("common.markdown.strikesyntax")))]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v(_vm._s(_vm.$t("common.markdown.strikesyntax")))])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.strike)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.underline")))])]),_c("td",[_c("ins",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("++")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v("++")])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.underline)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.list")))])]),_c("td",[_c("li",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("- ")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))+" ")])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.list)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.blockquote")))])]),_c("td",[_c("blockquote",{staticClass:"list-blockquote",staticStyle:{display:"block","margin-top":"1px","margin-bottom":"1px","font-size":"13px",padding:"0px 0px"}},[_vm._v(" "+_vm._s(_vm.$t("common.markdown.hithere"))+" ")])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("> ")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))+" ")])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.blockquote)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.hyperlink")))])]),_c("td",[_c("a",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("[")]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v("]")]),_vm._v(" "),_c("span",{staticClass:"symbol"},[_vm._v("(")]),_vm._v(_vm._s(_vm.$t("common.markdown.url"))),_c("span",{staticClass:"symbol"},[_vm._v(")")])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.hyperlink)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.highlight")))])]),_c("td",[_c("code",[_vm._v(_vm._s(_vm.$t("common.markdown.hithere")))])]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v(_vm._s(_vm.$t("common.markdown.highlightsyntax")))]),_vm._v(_vm._s(_vm.$t("common.markdown.hithere"))),_c("span",{staticClass:"symbol"},[_vm._v(_vm._s(_vm.$t("common.markdown.highlightsyntax")))])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.highlight)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])]),_c("tr",[_c("td",[_c("span",{staticClass:"element-list"},[_vm._v(_vm._s(_vm.$t("common.markdown.hr")))])]),_c("td",[_c("hr")]),_c("td",[_c("span",{staticClass:"syntax-text"},[_c("span",{staticClass:"symbol"},[_vm._v("---")])])]),_c("td",[_c("div",{staticClass:"syntax-copy"},[_c("button",{on:{click:function($event){return _vm.copyLinkName(_vm.hr)}}},[_c("img",{staticClass:"pull-right pointer",staticStyle:{height:"25px",width:"23px"},attrs:{src:__webpack_require__(262079)}})])])])])])])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),MarkdownHelpListvue_type_script_lang_js={props:["markdownshow"],data:function(){return{bold:"**Hi There**",h1:"# Hi There",h2:"## Hi There",italics:"*Hi There*",strike:"~~Hi There~~",underline:"++Hi There++",list:"- Hi There",blockquote:"> Hi There",hyperlink:"[Hi There](URL)",highlight:"`Hi There`",hr:"---"}},methods:{cancelForm:function(){this.$emit("update:markdownshow",!1)},copyLinkName:function(copy){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,navigator.clipboard.writeText(copy);case 2:_this.$message({message:"Copied to clipboard!",type:"success"});case 3:case"end":return _context.stop()}}),_callee)})))()}}},relatedlist_MarkdownHelpListvue_type_script_lang_js=MarkdownHelpListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_MarkdownHelpListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,MarkdownHelpList=component.exports},
/***/463959:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return GatepassSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/Inventory/Gatepass/GatepassSummary.vue?vue&type=template&id=bf3453ac
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"inventory-page-new-con"},[_vm.summaryData?[_c("div",{staticClass:"inventory-header p20"},[_c("div",{staticClass:"fc-dark-grey-txt18"},[_c("div",{staticClass:"fc-id"},[_vm._v("#"+_vm._s(_vm.summaryData.id))]),_c("div",{staticClass:"fc-black-17 bold inline-flex"},[_vm._v(" "+_vm._s(_vm.summaryData.issuedTo)+" "),_c("div",{staticClass:"fc-newsummary-chip mL10 "},[_vm._v(" "+_vm._s(_vm.getGatePassStatus())+" ")])])]),_c("div",{staticClass:"fc__layout__align inventory-overview-btn-group"},[2===_vm.summaryData.status?_c("el-button",{staticClass:"fc__add__btn fc__border__btn mR10",staticStyle:{"font-size":"15px",padding:"10px 12px"},on:{click:function($event){return _vm.printGatePass(_vm.summaryData)}}},[_c("i",{staticClass:"fa fa-print f16",attrs:{"aria-hidden":"true"}})]):_vm._e(),_c("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover"}},[_vm.$hasPermission("inventory:APPROVE_REJECT_WORKREQUEST")?_c("el-button",{staticClass:"fc__border__btn",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" Change Status "),_c("i",{staticClass:"el-icon-arrow-down f14 text-right"})]):_vm._e(),2!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateStatus(2,"Gate Pass Approved Successfully")}}},[_vm._v(" Approve ")]):_vm._e(),4!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateStatus(4,"Gate Pass Rejected Successfully")}}},[_vm._v(" Reject ")]):_vm._e(),5!==_vm.summaryData.status&&_vm.summaryData.returnable?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateStatus(5,"Gate Pass Returned Successfully")}}},[_vm._v(" Return ")]):_vm._e()],1),_vm.$hasPermission("inventory:DELETE")?_c("el-dropdown",{staticClass:"mL15 fc-btn-ico-lg pT5 pB5 pL8 pR8 pointer",on:{command:_vm.handleCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_c("img",{attrs:{src:__webpack_require__(935010),height:"18",width:"18"}})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_vm.$hasPermission("inventory:DELETE")?_c("el-dropdown-item",{attrs:{command:"delete"}},[_vm._v("Delete")]):_vm._e()],1)],1):_vm._e()],1)]),null!==_vm.summaryData?_c("div",{staticClass:"fc__layout__flexes fc__main__con__width"},[_c("div",{staticClass:"fc__asset__main__scroll"},[_c("div",{staticClass:"fc__white__bg__asset"},[_c("el-row",[_c("el-col",{staticClass:"mB30",attrs:{span:16}},[_c("el-col",{staticClass:"mB30",attrs:{span:24}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("Type")]),_c("div",{staticClass:"label-txt-black pT5"},[_vm._v(" "+_vm._s(1===_vm.summaryData.gatePassType?"Inward":"Outward")+" ")])]),_c("el-col",{attrs:{span:12}},[2===_vm.summaryData.gatePassType&&_vm.summaryData.fromStoreRoom?_c("div",{staticClass:"fc-blue-label"},[_vm._v(" From Storeroom ")]):1===_vm.summaryData.gatePassType&&_vm.summaryData.toStoreRoom?_c("div",{staticClass:"fc-blue-label"},[_vm._v(" To Storeroom ")]):_vm._e(),_c("div",{staticClass:"label-txt-black pT5"},[2===_vm.summaryData.gatePassType&&_vm.summaryData.fromStoreRoom?_c("store-room-avatar",{attrs:{name:"true",size:"lg",storeRoom:_vm.summaryData.fromStoreRoom}}):1===_vm.summaryData.gatePassType&&_vm.summaryData.toStoreRoom?_c("store-room-avatar",{attrs:{name:"true",size:"lg",storeRoom:_vm.summaryData.toStoreRoom}}):_vm._e()],1)]),1===_vm.summaryData.gatePassType&&_vm.summaryData.parentPoId?_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("PO ID")]),_c("div",{staticClass:"label-txt-black pT5"},[_c("router-link",{attrs:{to:"/app/purchase/po/all/summary/"+_vm.summaryData.parentPoId.id}},[_vm._v(_vm._s("#"+_vm.summaryData.parentPoId.id))])],1)]):_vm._e()],1)],1)],1),_c("div",{staticClass:"mT20 mB10 inventory-section-header"},[_vm._v(" Summary ")]),_c("div",{staticClass:"fc__white__bg__info"},[_c("el-row",{staticClass:"border-bottom6 pB20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("Issued By")])]),_c("el-col",{attrs:{span:12}},[_vm.summaryData.issuedBy&&_vm.summaryData.issuedBy.id?_c("user-avatar",{attrs:{size:"md",user:_vm.$store.getters.getUser(_vm.summaryData.issuedBy.id)}}):_c("div",[_vm._v("---")])],1)],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" Issued To Phone Number ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(" "+_vm._s(_vm.summaryData.issuedToPhoneNumber?_vm.summaryData.issuedToPhoneNumber:"---")+" ")])],1)],1),_c("el-row",{staticClass:"border-bottom6 pB20 pT20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("Is Returnable")])]),_c("el-col",{attrs:{span:12}},[_vm._v(" "+_vm._s(_vm.summaryData.returnable?"Yes":"No")+" ")])],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("Return Time")])]),_c("el-col",{attrs:{span:12}},[_vm._v(" "+_vm._s(-1!==_vm.summaryData.returnTime?this.$options.filters.formatDate(_vm.summaryData.returnTime,!0):"---")+" ")])],1)],1),_c("el-row",{staticClass:"pT20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v("Vehicle Number")])]),_c("el-col",{attrs:{span:12}},[_vm._v(" "+_vm._s(_vm.summaryData.vehicleNo?_vm.summaryData.vehicleNo:"---")+" ")])],1)],1)],1),_c("div",{staticClass:"fc__white__bg__p0 mT20"},[_c("el-tabs",{staticClass:"fc-tab-hide",model:{value:_vm.activeName1,callback:function($$v){_vm.activeName1=$$v},expression:"activeName1"}},[_c("el-tab-pane",{attrs:{label:"Line Items",name:"first"}},[_c("el-table",{directives:[{name:"loading",rawName:"v-loading",value:_vm.gatePassLoading,expression:"gatePassLoading"}],staticClass:"width100 inventory-inner-table",attrs:{data:_vm.summaryData.lineItems,"empty-text":"No Line Items available."}},[_c("el-table-column",{attrs:{label:"LINE ITEM"},scopedSlots:_vm._u([{key:"default",fn:function(gatePassScope){return[null!==gatePassScope.row.itemType?_c("item-avatar",{attrs:{name:"true",size:"lg",module:"item",recordData:gatePassScope.row.itemType}}):null!==gatePassScope.row.toolType?_c("tool-avatar",{attrs:{name:"true",size:"lg",module:"tool",recordData:gatePassScope.row.toolType}}):_vm._e()]}}],null,!1,2974512965)}),_c("el-table-column",{attrs:{sortable:"",prop:"quantity",label:"QUANTITY"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[6===_vm.summaryData.status&&(1===scope.row.inventoryType&&scope.row.itemType.isRotating||2===scope.row.inventoryType&&scope.row.toolType.isRotating)?_c("div",[_c("div",[_vm._v("1")])]):_c("div",[_c("div",[_vm._v(_vm._s(scope.row.quantity))])])]}}],null,!1,2966345177)}),2===_vm.summaryData.gatePassType?_c("el-table-column",{attrs:{prop:"asset.serialNumber",label:"S NO",sortable:""}}):_vm._e()],1)],1)],1)],1),_c("div",{key:_vm.summaryData.id,staticClass:"fc__white__bg__p0 mT20"},[_c("el-tabs",{model:{value:_vm.activeName,callback:function($$v){_vm.activeName=$$v},expression:"activeName"}},[_c("el-tab-pane",{attrs:{label:"Notes",name:"first"}},["first"===_vm.activeName&&_vm.summaryData&&_vm.summaryData.id?_c("div",{staticClass:"inventory-comments"},[_c("comments",{attrs:{module:"gatePassNotes",placeholder:"Add a note",btnLabel:"Add Note",record:_vm.summaryData,notify:!1}})],1):_vm._e()]),_c("el-tab-pane",{attrs:{label:"Attachments",name:"second"}},["second"===_vm.activeName?_c("div",[_vm.summaryData?_c("attachments",{attrs:{module:"gatePassAttachments",record:_vm.summaryData}}):_vm._e()],1):_vm._e()])],1)],1)])]):_vm._e()]:_c("div",[_c("spinner",{attrs:{show:!_vm.summaryData}})],1)],2)},staticRenderFns=[],Attachments=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(77098)),Comments=__webpack_require__(147105),User=__webpack_require__(426803),Storeroom=__webpack_require__(664281),ItemTool=__webpack_require__(882401),validation=__webpack_require__(990260),router=__webpack_require__(329435),GatepassSummaryvue_type_script_lang_js={components:{Comments:Comments/* default */.Z,Attachments:Attachments/* default */.Z,ToolAvatar:ItemTool/* default */.Z,ItemAvatar:ItemTool/* default */.Z,UserAvatar:User/* default */.Z,StoreRoomAvatar:Storeroom/* default */.Z},props:["viewname"],data:function(){return{activeName:"first",activeName1:"first",activeName2:"first",status:{REQUESTED:"REQUESTED",APPROVED:"APPROVED",ISSUED:"ISSUED",REJECTED:"REJECTED",RETURNED:"RETURNED",COMPLETED:"COMPLETED"},selectindex:!1,loading:!0,page:1,fetchingMore:!1,summaryData:null,saving:!1,gatePassLoading:!1}},created:function(){this.$store.dispatch("view/loadModuleMeta",this.getCurrentModule)},computed:{id:function(){return parseInt(this.$route.params.id)},getCurrentModule:function(){return"gatePass"},currentView:function(){return this.$route.params.viewname},currentViewDetail:function(){return this.$route.query.search?{displayName:"Filtered Gate Pass",name:"filteredgatepass"}:this.$store.state.view.currentViewDetail||{}},views:function(){return this.$store.state.view.views}},watch:{id:{handler:function(newVal){(0,validation/* isEmpty */.xb)(newVal)||this.loadSummary()},immediate:!0}},methods:{updateStatus:function(status,message){var self=this,tempGatePass=this.$helpers.cloneObject(this.summaryData);status&&0!==status&&(tempGatePass.status=status),tempGatePass.status=status;var param={gatePass:tempGatePass};this.$http.post("v2/gatePass/addOrUpdate",param).then((function(response){0===response.data.responseCode?(self.$message.success(message),self.loadSummary()):self.$message.error(response.data.message)})).catch((function(){}))},loadSummary:function(){var self=this,url="/v2/gatePass/";this.id&&this.$http.get(url+this.id).then((function(response){if(0===response.data.responseCode){self.summaryData=response.data.result.gatePass;var title="[#"+self.summaryData.id+"] "+self.summaryData.issuedTo;self.setTitle(title),self.gatePassLoading=!1}})).catch((function(){}))},getViewDetail:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.getCurrentModule})},handleCommand:function(command){"delete"===command&&this.deleteGatePass()},deleteGatePass:function(){var _this=this,self=this,url="/v2/gatePass/delete",params={gatePassIds:[this.summaryData.id]};this.$http.post(url,params).then((function(response){if(0===response.data.responseCode)if(self.$message.success("Deleted Successfully"),(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)("gatePass",router/* pageTypes */.As.LIST)||{},name=_ref.name;name&&_this.$router.push({name:name})}else _this.$router.push({path:"/app/inventory/gatepass/all"})})).catch((function(){}))},getGatePassStatus:function(){switch(this.summaryData.status){case 1:return"Waiting for Approval";case 2:return"Approved";case 3:return"Issued";case 4:return"Rejected";case 5:return"Returned";case 6:return"Completed"}},printGatePass:function(gatePass){window.open(window.location.protocol+"//"+window.location.host+"/app/at/gatepass/pdf/"+gatePass.id)}}},Gatepass_GatepassSummaryvue_type_script_lang_js=GatepassSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Gatepass_GatepassSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,GatepassSummary=component.exports},
/***/984329:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"78e9b94d763d88d92daab6faadbef8f9.svg";
/***/},
/***/262079:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"456de1d725ea1682baf27189b19eb544.svg";
/***/},
/***/773339:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"2ec28172b828295676202641adbd2566.svg";
/***/},
/***/935010:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"765af973ce02f8f593ec7a4e85d08efb.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/581121:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"88cd7135ef1417b08c9498c51d2cda59.svg";
/***/},
/***/73188:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/item-img.7bf6d6bd.jpg"},
/***/494194:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/store-img.8acd997f.jpg"},
/***/392708:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/tool-img.a48b92e6.jpg"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/63959.js.map