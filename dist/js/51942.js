(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[51942,42054,85050],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/436756:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialogNew}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialogNew.vue?vue&type=template&id=388b7f7a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"costdialog",class:["f-dialog",_vm.customClass],attrs:{visible:_vm.visible,"before-close":_vm.close,width:_vm.width,"append-to-body":!0},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("div",{staticClass:"f-dialog-title",attrs:{slot:"title"},slot:"title"},[_vm._t("header",(function(){return[_c("div",{staticClass:"label-txt-black fwBold"},[_vm._v(" "+_vm._s(_vm.title)+" ")])]}))],2),_c("div",{staticClass:"f-dialog-content",style:_vm.styleCss},[_vm._t("content"),_vm._t("default")],2),_c("div",{staticClass:"f-footer row",staticStyle:{height:"46px"}},[_vm._t("footer",(function(){return[_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.close}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.loading},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.loading?_vm.loadingTitle||"Saving...":_vm.confirmTitle||"Save"))])],1)]}))],2)])},staticRenderFns=[],FDialogNewvue_type_script_lang_js={props:["title","confirmTitle","visible","customClass","width","maxHeight","stayOnSave","loading","loadingTitle","record"],computed:{styleCss:function(){return this.maxHeight?{"max-height":this.maxHeight,overflow:"scroll"}:null}},methods:{close:function(){this.$emit("close"),this.$emit("update:visible",!1)},save:function(){this.$emit("save"),this.stayOnSave||this.$emit("update:visible",!1)}}},components_FDialogNewvue_type_script_lang_js=FDialogNewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogNewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDialogNew=component.exports},
/***/201117:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLookupFieldWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FLookupFieldWrapper.vue?vue&type=template&id=0b196d62
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"lookup-wrapper"},[_vm.fieldObj.field?_c("FLookupField",{class:{"handle-wizard-icon":_vm.handleWizardIcon},attrs:{model:_vm.modelObj,field:_vm.fieldObj,disabled:_vm.disabled,siteId:_vm.siteId,hideLookupIcon:_vm.hideWizard,hideDropDown:_vm.hideDropDown,preHookFilterConstruction:_vm.filterConstruction,fetchOptionsOnLoad:_vm.fetchOptionsOnLoad,fetchOptionsMethod:_vm.fetchOptionsMethod},on:{"update:model":function($event){_vm.modelObj=$event},showLookupWizard:_vm.showLookupWizard,recordSelected:_vm.onRecordSelected}}):_c("el-input"),!_vm.hideWizard&&_vm.canShowLookupWizard?_c("div",[_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.fieldObj,siteId:_vm.siteId,withReadings:_vm.withReadings},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue,showMainFieldSearch:function($event){return _vm.onWizardShow(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),FLookupField=(__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(450886),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(891719),__webpack_require__(855048)),validation=__webpack_require__(990260),FLookupFieldWrappervue_type_script_lang_js={name:"f-lookup-field-wrapper",props:{value:[Number,String,Array],label:String,
// Label of selected value if any
formField:Object,field:Object,
// Pass field object if form field not available and field avaialble
moduleName:String,
// Pass module name and field name if field object not avaialble
fieldName:String,disabled:{type:Boolean,default:!1},siteId:Number,hideWizard:{type:Boolean,default:!1},hideDropDown:{type:Boolean,default:!1},fetchOptionsOnLoad:{type:Boolean,default:!0},fetchOptionsMethod:{type:Function},withReadings:Boolean,handleWizardIcon:{
// To handle wizard icon css
type:Boolean,default:!0},filterConstruction:{type:Function,default:function(field){return field.filters}}},components:{FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(99751),__webpack_require__.e(42054)]).then(__webpack_require__.bind(__webpack_require__,499751))}},data:function(){return{fieldObj:{isDataLoading:!1,options:[],lookupModuleName:"",field:null,filters:{},isDisabled:!1},canShowLookupWizard:!1}},computed:{modelObj:{get:function(){return(0,validation/* isEmpty */.xb)(this.value)?this.value:(0,validation/* isArray */.kJ)(this.value)?this.value.map((function(val){return parseInt(val)})):parseInt(this.value)},set:function(value){this.$emit("input",value)}}},created:function(){this.handleDefaultOption()},mounted:function(){var formField=this.formField,field=this.field;(0,validation/* isEmpty */.xb)(formField)?(0,validation/* isEmpty */.xb)(field)?this.fetchField():this.setField(field):this.fieldObj=formField},watch:{canShowLookupWizard:function(value){value||this.onWizardShow(value)}},methods:{showLookupWizard:function(field,canShow){this.fieldObj=field,this.canShowLookupWizard=canShow,this.onWizardShow(!0)},setLookupFieldValue:function(props){var _this=this,field=props.field,_ref=field||{},multiple=_ref.multiple,selectedItems=_ref.selectedItems;if(multiple){var valueArr=[];selectedItems.forEach((function(item){var value=item.value,label=item.label;_this.addOption(value,label),valueArr.push(value)})),this.modelObj=valueArr,this.onRecordSelected(selectedItems,valueArr)}else{var _ref2=selectedItems||[],_ref3=(0,slicedToArray/* default */.Z)(_ref2,1),selectedItem=_ref3[0],value=selectedItem.value,label=selectedItem.label;this.addOption(value,label),this.modelObj=value,this.onRecordSelected(selectedItem)}this.onWizardShow(!1)},onWizardShow:function(show){this.$emit("showingLookupWizard",show)},fetchField:function(){var _this2=this,moduleName=this.moduleName,fieldName=this.fieldName;this.$util.loadModuleMeta(moduleName).then((function(meta){var field=meta.fields.find((function(field){return field.name===fieldName}));_this2.setField(field)}))},onRecordSelected:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.$emit.apply(this,["recordSelected"].concat(args))},handleDefaultOption:function(){var label=this.label,value=this.value;(0,validation/* isEmpty */.xb)(label)||(0,validation/* isEmpty */.xb)(value)||this.addOption(value,label)},setField:function(field){var fieldObj=this.fieldObj;fieldObj.field=field,fieldObj.multiple=field.multiple,fieldObj.lookupModuleName=field.lookupModule.name,(0,validation/* isArray */.kJ)(this.modelObj)?fieldObj.selectedItems=this.modelObj.map((function(id){return{value:id}})):fieldObj.selectedItems={value:this.modelObj}},addOption:function(id,label){var fieldObj=this.fieldObj,options=fieldObj.options,newOptionObj={label:label,value:id};(0,validation/* isEmpty */.xb)(options)?options.push(newOptionObj):options.some((function(option){return option.value===id}))||options.unshift(newOptionObj),this.$set(this.fieldObj,"options",options)}}},components_FLookupFieldWrappervue_type_script_lang_js=FLookupFieldWrappervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FLookupFieldWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLookupFieldWrapper=component.exports},
/***/21864:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return OutsideClick}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/OutsideClick.vue?vue&type=template&id=6761c108
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.onOutsideClick,expression:"onOutsideClick"}]},[_vm._t("default")],2):_vm._e()},staticRenderFns=[],OutsideClickvue_type_script_lang_js={props:["visibility"],methods:{onOutsideClick:function(){this.$emit("onOutsideClick"),this.$emit("update:visibility",!1)}}},components_OutsideClickvue_type_script_lang_js=OutsideClickvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_OutsideClickvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OutsideClick=component.exports},
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/855048:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLookupField}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FLookupField.vue?vue&type=template&id=473d4b8e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isFieldLoading?_c("FieldLoader",{attrs:{isLoading:_vm.isFieldLoading}}):_c("div",{staticClass:"f-lookup-chooser f-lookup-chooser-container"},[_c("el-select",{ref:"selectBox",class:["fc-input-full-border-select2 width100",(!_vm.canHideLookupIcon||_vm.canShowQuickCreateIcon)&&"resource-search",_vm.isMultiple&&"fc-tag",_vm.hideDropDown&&!_vm.disabled&&"skip-disable"],attrs:{"collapse-tags":"",remote:_vm.isRemote,filterable:"",clearable:_vm.canHideLookupIcon,multiple:_vm.isMultiple,popperAppendToBody:_vm.popperAppendToBody,"remote-method":function(searchText){return _vm.remoteMethod(searchText)},loading:_vm.field.isDataLoading,"loading-text":_vm.$t("common._common.searching"),disabled:_vm.disabled||_vm.hideDropDown,placeholder:_vm.field.placeHolderText||"Select"},on:{change:_vm.recordSelected},model:{value:_vm.modelObj,callback:function($$v){_vm.modelObj=$$v},expression:"modelObj"}},[_c("div",{staticClass:"flRight d-flex",class:!_vm.disabled&&"pointer",attrs:{slot:"prefix"},slot:"prefix"},[_vm.canShowSystemClear?_c("div",{staticClass:"flookup-remove-icon-alignment flookup-remove-icon",on:{click:_vm.clearData}},[_c("i",{staticClass:"el-icon-circle-close pointer fc-lookup-icon f13"})]):_vm._e(),_vm.canHideLookupIcon?_vm._e():_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openLookupFieldWizard(_vm.field)}}},[_c("inline-svg",{attrs:{src:"lookup",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1),_vm.canShowQuickCreateIcon?_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openQuickCreate()}}},[_c("el-tooltip",{attrs:{effect:"dark",content:"Add\n          "+_vm.moduleDisplayName,placement:"top"}},[_c("inline-svg",{attrs:{src:"add-pink",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1)],1):_vm._e()]),_vm._l(_vm.field.options,(function(option,index){return _c("el-option",{key:option.value+" "+index,staticClass:"fc-input-full-border-select2 width100",attrs:{label:option.label,value:option.value}},[_c("span",{staticClass:"fL"},[_vm._v(_vm._s(option.label))]),_vm.$validation.isEmpty(option.secondaryLabel)?_vm._e():_c("span",{staticClass:"select-float-right-text13"},[_vm._v(_vm._s(option.secondaryLabel))]),_vm.getIsSiteDecommissioned(option)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"select-float-right-text13 pL10",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{staticClass:"fR pT10",attrs:{group:"alert",name:"decommissioning",size:"16"}})],1):_vm._e()])}))],2),_vm.showQuickCreateData?_c("QuickCreateData",{attrs:{canShowDialog:_vm.showQuickCreateData,quickCreateField:_vm.field,setAddedRecord:_vm.setAddedRecord},on:{"update:canShowDialog":function($event){_vm.showQuickCreateData=$event},"update:can-show-dialog":function($event){_vm.showQuickCreateData=$event}}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(990260)),constant=__webpack_require__(354754),picklist=__webpack_require__(961358),field_utils=__webpack_require__(455344),FieldLoader=__webpack_require__(62979),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),LOOKUP_FIELD_PLACEHOLDER_MAP={people:{value:"${LOGGED_PEOPLE}",label:"Current User"},users:{value:"${LOGGED_USER}",label:"Current User"}},FLookupFieldvue_type_script_lang_js={name:"f-lookup-field",props:{model:{},field:{type:Object},disabled:{type:Boolean},siteId:{type:[Number,String]},categoryId:{type:Number},hideLookupIcon:{type:Boolean,default:!1},popperAppendToBody:{required:!1,type:Boolean,default:!0},fetchOptionsOnLoad:{type:Boolean,default:!0},fetchOptionsMethod:{type:Function},preHookFilterConstruction:{type:Function,default:function(field){return field.filters}},hideDropDown:{type:Boolean,default:!1},skipLoading:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},userfilmoduleEnum:{type:String},parentModuleId:{type:Number},selectedOptions:{type:Array}},components:{FieldLoader:FieldLoader/* default */.Z,QuickCreateData:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(99813)]).then(__webpack_require__.bind(__webpack_require__,676433))}},data:function(){return{localSearch:!1,isLoadedOnce:!1,currentModelValue:!1,showQuickCreateData:!1}},computed:{customOptions:function(){var _ref=this||{},field=_ref.field,_ref2=field||{},lookupModule=_ref2.lookupModule;if((0,validation/* isEmpty */.xb)(lookupModule))return[];var _ref3=lookupModule||{},name=_ref3.name;return(0,validation/* isEmpty */.xb)(LOOKUP_FIELD_PLACEHOLDER_MAP[name])?[]:[LOOKUP_FIELD_PLACEHOLDER_MAP[name]]},modelObj:{get:function(){return this.model},set:function(value){this.currentModelValue=value,this.$emit("update:model",value)}},moduleDisplayName:function(){var field=this.field,_ref4=field.field||{},lookupModule=_ref4.lookupModule,_ref5=lookupModule||{},displayName=_ref5.displayName;return displayName},isFieldLoading:function(){var field=this.field,defaultIds=this.defaultIds,skipLoading=this.skipLoading,isLoadedOnce=this.isLoadedOnce;return!skipLoading&&!isLoadedOnce&&!(0,validation/* isEmpty */.xb)(defaultIds)&&field.isDataLoading},isPickListTypeModule:function(){var field=this.field,fieldObj=field.field,_ref6=fieldObj||field,lookupModule=_ref6.lookupModule,_ref7=lookupModule||{},type=_ref7.type;
// type 1 is for base entity modules
return!!type&&1!==type},isRemote:function(){var localSearch=this.localSearch;return!localSearch},canHideLookupIcon:function(){var hideLookupIcon=this.hideLookupIcon,isPickListTypeModule=this.isPickListTypeModule,hideDropDown=this.hideDropDown,field=this.field,userfilmoduleEnum=this.userfilmoduleEnum,_ref8=field||{},config=_ref8.config,canHide=!1;if(!(0,validation/* isEmpty */.xb)(config)){var canShowLookupWizard=this.$getProperty(config,"canShowLookupWizard",null);(0,validation/* isNull */.Ft)(canShowLookupWizard)||(canHide=!canShowLookupWizard)}return!hideDropDown&&("PICK_LIST"===userfilmoduleEnum||(canHide||hideLookupIcon||isPickListTypeModule))},canShowQuickCreateIcon:function(){var disabled=this.disabled,field=this.field,_ref9=field||{},config=_ref9.config,canShow=!1;return(0,validation/* isEmpty */.xb)(config)||(canShow=this.$getProperty(config,"canShowQuickCreate")),disabled&&(canShow=!1),canShow},isSiteEnabled:function(){var siteId=Number(this.$cookie.get("fc.currentSite")),currentSiteId=siteId>0?siteId:-1;return!(0,validation/* isEmpty */.xb)(currentSiteId)},isMultiple:function(){var field=this.field;return!!field.multiple},resourceModuleName:function(){var field=this.field,config=field.config,lookupModuleName=field.lookupModuleName,_ref10=config||{},isFiltersEnabled=_ref10.isFiltersEnabled,filterValue=_ref10.filterValue;if(isFiltersEnabled&&constant/* default */.Z.LOOKUP_FILTER_ENABLED_FIELDS.includes(lookupModuleName)){var moduleName=constant/* default */.Z.LOOKUP_FILTERS_MAP[filterValue];return moduleName}return null},isResourceField:function(){var field=this.field,name=field.name,isResourceField=(0,field_utils/* isChooserTypeField */.Rq)(field)||"resource"===name;return isResourceField},
// To prefill the existing values, we have to send default ids in picklist api
defaultIds:function(){var modelObj=this.modelObj,selectedOptions=this.selectedOptions,isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(modelObj)||!1,defaultIds=[],selectedOptionsArr=(selectedOptions||[]).map((function(option){return parseInt(option)}));return(0,validation/* isEmpty */.xb)(selectedOptions)?(0,validation/* isEmpty */.xb)(modelObj)||isPlaceHoldersEnabled||(defaultIds=(0,validation/* isArray */.kJ)(modelObj)?(0,toConsumableArray/* default */.Z)(modelObj):[modelObj]):defaultIds=(0,toConsumableArray/* default */.Z)(selectedOptionsArr),defaultIds=defaultIds.filter((function(val){return!constant/* default */.Z.FIELD_PLACEHOLDERS.includes(val)})),defaultIds},operatorLookupModule:function(){var field=this.field,_ref11=field||{},operatorLookupModule=_ref11.operatorLookupModule;return operatorLookupModule||{}},skipSiteFilter:function(){var field=this.field,_ref12=field||{},config=_ref12.config,_ref13=config||{},_ref13$skipSiteFilter=_ref13.skipSiteFilter,skipSiteFilter=void 0!==_ref13$skipSiteFilter&&_ref13$skipSiteFilter;return skipSiteFilter},canShowSystemClear:function(){var canHideLookupIcon=this.canHideLookupIcon,isClearable=this.isClearable,modelObj=this.modelObj,disabled=this.disabled;return!canHideLookupIcon&&!disabled&&(isClearable&&!(0,validation/* isEmpty */.xb)(modelObj))}},watch:{model:function(newVal){var _this=this,currentModelValue=this.currentModelValue,isRemote=this.isRemote;isEqual_default()(newVal,currentModelValue)||(isRemote&&this.getOptions({initialFetch:!0}).then((function(options){_this.$set(_this.field,"options",options)})),this.$set(this,"modelObj",newVal))},siteId:{handler:function(newVal,oldVal){var _this2=this,isSiteEnabled=this.isSiteEnabled,skipSiteFilter=this.skipSiteFilter;skipSiteFilter||isSiteEnabled||newVal===oldVal||this.getOptions({initialFetch:!0}).then((function(options){_this2.$set(_this2.field,"options",options)}))}},parentModuleId:{handler:function(newVal,oldVal){var _this3=this;newVal!==oldVal&&this.getOptions({initialFetch:!0}).then((function(options){_this3.$set(_this3.field,"options",options)}))}},operatorLookupModule:{handler:function(newVal,oldVal){var _this4=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this4.$set(_this4.field,"options",options)}))}},"field.clientCriteria":{handler:function(newVal,oldVal){var _this5=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this5.$set(_this5.field,"options",options)}))}},categoryId:{handler:function(newVal,oldVal){var _this6=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this6.$set(_this6.field,"options",options)}))}},"field.options":{handler:function(value){var modelObj=this.modelObj;if(!(0,validation/* isEmpty */.xb)(value))if((0,validation/* isEmpty */.xb)(modelObj))this.field.selectedItems=[];else if((0,validation/* isArray */.kJ)(modelObj)){var selectedItems=value.filter((function(option){return modelObj.includes(option.value)}));this.field.selectedItems=selectedItems}else{var selectedItem=value.find((function(option){return option.value===modelObj}));this.field.selectedItems=[selectedItem]}},immediate:!0},isLoadedOnce:{handler:function(value){value&&this.$emit("optionsLoadedOnce")}}},created:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var fetchOptionsOnLoad,field,modelObj,customOptions,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:
// Have to skip fetching options initially, when module is 'resource' and filters is not enabled
if(fetchOptionsOnLoad=_this7.fetchOptionsOnLoad,field=_this7.field,modelObj=_this7.modelObj,customOptions=_this7.customOptions,_this7.currentModelValue=modelObj,_this7.getIsSiteDecommissioned=picklist/* getIsSiteDecommissioned */.Yx,!fetchOptionsOnLoad){_context2.next=12;break}return _context2.next=6,_this7.getOptions({initialFetch:!0});case 6:if(_context2.t0=_context2.sent,_context2.t0){_context2.next=9;break}_context2.t0=[];case 9:options=_context2.t0,_this7.$set(_this7.field,"options",[].concat((0,toConsumableArray/* default */.Z)(customOptions),(0,toConsumableArray/* default */.Z)(options))),_this7.$set(_this7,"isLoadedOnce",!0);case 12:_this7.remoteMethod=_this7.$helpers.debounce(function(){var _ref14=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(searchText){var isDataLoading,_options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(isDataLoading=field.isDataLoading,isDataLoading){_context.next=6;break}return _context.next=4,_this7.getOptions({searchText:searchText});case 4:_options=_context.sent,_this7.$set(_this7.field,"options",_options);case 6:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref14.apply(this,arguments)}}(),1e3);case 13:case"end":return _context2.stop()}}),_callee2)})))()},methods:{focus:function(){(0,validation/* isEmpty */.xb)(this.$refs["selectBox"])||this.$refs["selectBox"].focus()},getOptions:function(params){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var searchText,initialFetch,fetchOptionsMethod,field,siteId,categoryId,isRemote,defaultIds,resourceModuleName,isResourceField,skipSiteFilter,selectedOptions,_field$filters,fieldFilters,options,filters,props,perPageCount,_yield$_this8$fetchOp,_yield$_this8$fetchOp2,optionsArr,error,_ref15,message,_yield$getFieldOption,_yield$getFieldOption2,_optionsArr,_error,meta,_ref16,_message,_meta$localSearch,localSearch;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:
/*
                Have to return empty options if field is of resourcetype, if filters havent be enabled
                and if no values selected already
              */
if(searchText=params.searchText,initialFetch=params.initialFetch,fetchOptionsMethod=_this8.fetchOptionsMethod,field=_this8.field,siteId=_this8.siteId,categoryId=_this8.categoryId,isRemote=_this8.isRemote,defaultIds=_this8.defaultIds,resourceModuleName=_this8.resourceModuleName,isResourceField=_this8.isResourceField,skipSiteFilter=_this8.skipSiteFilter,selectedOptions=_this8.selectedOptions,_field$filters=field.filters,fieldFilters=void 0===_field$filters?{}:_field$filters,options=[],(0,validation/* isEmpty */.xb)(resourceModuleName)||(field.resourceLookupModuleName=resourceModuleName),filters=_this8.preHookFilterConstruction(field),(0,validation/* isEmpty */.xb)(filters)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},fieldFilters),filters)),(0,validation/* isEmpty */.xb)(categoryId)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field.filters),{},{category:{operator:"is",value:["".concat(categoryId)]}})),props={field:field,searchText:searchText},skipSiteFilter||(props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{siteId:siteId})),!(isResourceField&&(0,validation/* isEmpty */.xb)(resourceModuleName)&&(0,validation/* isEmpty */.xb)(defaultIds))){_context3.next=12;break}return _context3.abrupt("return",options);case 12:if(initialFetch&&isRemote&&(perPageCount=defaultIds.length>50?defaultIds.length:50,props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{page:1,perPage:perPageCount,defaultIds:defaultIds}),((0,validation/* isEmpty */.xb)(resourceModuleName)&&isResourceField||!(0,validation/* isEmpty */.xb)(selectedOptions))&&(
// Have to fetch only selected values, which is same as the number of defaultids
props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{perPage:defaultIds.length}))),_this8.$set(field,"isDataLoading",!0),(0,validation/* isEmpty */.xb)(fetchOptionsMethod)){_context3.next=25;break}return _context3.next=17,_this8.fetchOptionsMethod(props);case 17:_yield$_this8$fetchOp=_context3.sent,_yield$_this8$fetchOp2=_yield$_this8$fetchOp.options,optionsArr=void 0===_yield$_this8$fetchOp2?[]:_yield$_this8$fetchOp2,error=_yield$_this8$fetchOp.error,error&&(_ref15=error||{},message=_ref15.message,_this8.$message.error(message||"Error Occured")),options=optionsArr,_context3.next=35;break;case 25:return _context3.next=27,(0,picklist/* getFieldOptions */._K)(props);case 27:_yield$getFieldOption=_context3.sent,_yield$getFieldOption2=_yield$getFieldOption.options,_optionsArr=void 0===_yield$getFieldOption2?[]:_yield$getFieldOption2,_error=_yield$getFieldOption.error,meta=_yield$getFieldOption.meta,_error&&(_ref16=_error||{},_message=_ref16.message,_this8.$message.error(_message||"Error Occured")),meta&&(0,validation/* isEmpty */.xb)(searchText)&&(_meta$localSearch=meta.localSearch,localSearch=void 0!==_meta$localSearch&&_meta$localSearch,_this8.$set(_this8,"localSearch",localSearch)),options=_optionsArr;case 35:return _this8.$set(field,"isDataLoading",!1),_context3.abrupt("return",options);case 37:case"end":return _context3.stop()}}),_callee3)})))()},clearData:function(){this.$emit("update:model",""),this.recordSelected("")},recordSelected:function(value){var field=this.field,_this$field$options=this.field.options,options=void 0===_this$field$options?[]:_this$field$options,isMultiple=this.isMultiple,selectedValues=null;isMultiple?(selectedValues=options.filter((function(e){return(value||[]).includes(e.value)})),field.selectedItems=selectedValues):(selectedValues=options.find((function(e){return e.value==value}))||{},field.selectedItems=[],(0,validation/* isEmpty */.xb)(selectedValues)||(field.selectedItems=[selectedValues])),this.$emit("recordSelected",selectedValues,field)},openLookupFieldWizard:function(field){var disabled=this.disabled;disabled||this.$emit("showLookupWizard",field,!0)},openQuickCreate:function(){var disabled=this.disabled;disabled||(this.showQuickCreateData=!0)},setAddedRecord:function(props){var record=props.record,_ref17=record||{},id=_ref17.id,name=record.displayName||record.name||record.subject,field=this.field;field.selectedItems=[{value:id,label:name}],this.$emit("setLookupFieldValue",{field:(0,objectSpread2/* default */.Z)({},field)})}}},forms_FLookupFieldvue_type_script_lang_js=FLookupFieldvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FLookupFieldvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLookupField=component.exports},
/***/62979:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FieldLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FieldLoader.vue?vue&type=template&id=7252e23e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"field-loading loading-shimmer"}):_vm._e()},staticRenderFns=[],FieldLoadervue_type_script_lang_js={props:{isLoading:{type:Boolean,required:!0}}},forms_FieldLoadervue_type_script_lang_js=FieldLoadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FieldLoadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FieldLoader=component.exports},
/***/786113:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkOrderSpecialFieldsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/WorkOrderSpecialFieldsList.vue?vue&type=template&id=c5129894
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",["resource"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position",staticStyle:{"min-width":"170px"}},[_vm.$validation.isEmpty(_vm.moduleData.resource)||_vm.$validation.isEmpty(_vm.moduleData.resource.id)?_c("div",[_c("span",{staticClass:"q-item-label secondary-color color-d"},[_vm._v("--- "+_vm._s(_vm.$t("maintenance.wr_list.space_asset"))+" ---")])]):_c("div",[_c("div",{staticClass:"flLeft mR7"},[1===_vm.moduleData.resource.resourceType?_c("img",{staticStyle:{height:"12px",width:"14px"},attrs:{src:__webpack_require__(572902)}}):_c("img",{staticStyle:{height:"11px",width:"14px"},attrs:{src:__webpack_require__(30684)}})]),_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"flLeft q-item-label ellipsis max-width140px",attrs:{small:"","data-position":"bottom",title:_vm.moduleData.resource.name}},[_vm._v(_vm._s(_vm.moduleData.resource.name))])])]):"assignedTo"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position wo_assignedto_avatarblock"},[_c("div",{staticClass:"wo-assigned-avatar fL"},[_c("user-avatar",{attrs:{size:"md",user:_vm.moduleData.assignedTo,group:_vm.moduleData.assignmentGroup,showLabel:!0,moduleName:"lookupModuleName"}})],1)]):"noOfNotes"===_vm.field.name?_c("div",[_vm._m(0),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.notesLabel))])]):"noOfTasks"===_vm.field.name?_c("div",[_vm.canShowTaskIcon?_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/task-list",iconClass:"icon icon-sm mT5 mR5 task-icon"}}):_vm._e(),_c("span",{staticClass:"q-item-sublabel pL5"},[_vm._v(_vm._s(_vm.taskLabel))])],1):"noOfAttachments"===_vm.field.name?_c("div",{staticStyle:{float:"left"}},[_vm._m(1),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.attachmentLabel))])]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(293656)}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(345265)}})])}],User=(__webpack_require__(634338),__webpack_require__(426803)),validation=__webpack_require__(990260),WorkOrderSpecialFieldsListvue_type_script_lang_js={components:{UserAvatar:User/* default */.Z},props:["field","moduleData"],computed:{canShowTaskIcon:function(){var moduleData=this.moduleData;return!(0,validation/* isEmpty */.xb)(moduleData.noOfTasks)&&0!==moduleData.noOfNotes},taskLabel:function(){var moduleData=this.moduleData,noOfTasks=moduleData.noOfTasks,noOfNotes=moduleData.noOfNotes,noOfClosedTasks=moduleData.noOfClosedTasks,taskLabel="---";return(0,validation/* isEmpty */.xb)(noOfTasks)||0===noOfNotes?taskLabel:(0,validation/* isEmpty */.xb)(noOfClosedTasks)?"0":"".concat(noOfClosedTasks,"/").concat(noOfTasks)},notesLabel:function(){var moduleData=this.moduleData,noOfNotes=moduleData.noOfNotes;return(0,validation/* isEmpty */.xb)(noOfNotes)||0===noOfNotes?"0":moduleData.noOfNotes},attachmentLabel:function(){var moduleData=this.moduleData,_ref=moduleData||{},noOfAttachments=_ref.noOfAttachments;return(0,validation/* isEmpty */.xb)(noOfAttachments)||0===noOfAttachments?"0":noOfAttachments}}},list_WorkOrderSpecialFieldsListvue_type_script_lang_js=WorkOrderSpecialFieldsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_WorkOrderSpecialFieldsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderSpecialFieldsList=component.exports},
/***/806339:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/utils/WidgetPagination.vue?vue&type=template&id=6b10cd5b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-widget-pagination"},[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_vm._v(" of "+_vm._s(_vm.total)+" "),_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],WidgetPaginationvue_type_script_lang_js={props:["currentPage","perPage","total","hideToggle"],data:function(){return{from:0,to:0,page:1}},mounted:function(){this.init()},watch:{total:function(){this.init()},currentPage:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage||1,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.updateCurrentPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.updateCurrentPage()},updateCurrentPage:function(){
// Update currentPage value
this.$emit("update:currentPage",this.page),this.$emit("onChange")}}},utils_WidgetPaginationvue_type_script_lang_js=WidgetPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(utils_WidgetPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WidgetPagination=component.exports},
/***/930871:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FilterCondition}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/FilterCondition.vue?vue&type=template&id=07f5ab06&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"filter-condition-container"},[_c("el-popover",{attrs:{value:!0,visibleArrow:!1,popperClass:_vm.popoverClass}},[_c("outside-click",{staticClass:"filter-condition-block",attrs:{visibility:!0},on:{onOutsideClick:function($event){return _vm.close()}}},[_c("div",{staticClass:"filter-condition-body"},[_vm.isTag?_c("div",{staticClass:"fc-dark-blue-txt13 f13 pointer mL10 pT10 pB10 fwBold",on:{click:function($event){return $event.stopPropagation(),_vm.$emit("back")}}},[_c("i",{staticClass:"el-icon-back fw6 mR10 fc-dark-blue-txt13"}),_vm._v(" Back to Filter List ")]):_vm._e(),_vm.currentFilterProxy?_c("div",{staticClass:"filter-condition-radion-btn pT10"},[_vm.dateTimeFields.includes(_vm.fieldName)||["DATE_TIME","DATE"].includes(_vm.currentFilterProxy.operator)?_c("div",[_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-radio",{key:value,staticClass:"fc-radio-btn pB10",attrs:{label:value},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" "+_vm._s(label)+" ")])})),"date"===_vm.currentFilterProxy.type?_c("div",[_vm.currentFilterProxy.hideDateRange?_vm._e():_c("el-radio",{staticClass:"fc-radio-btn pB10",attrs:{label:"20",value:"20"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" Custom ")]),"20"===_vm.currentFilterValueProxy?_c("f-date-picker",{staticClass:"position-relative fc-subheader-right-search",attrs:{type:"datetimerange","value-format":"timestamp",format:"dd-MM-yyyy HH:mm"},on:{change:_vm.applyFilters},model:{value:_vm.currentFilterProxy.dateRange,callback:function($$v){_vm.$set(_vm.currentFilterProxy,"dateRange",$$v)},expression:"currentFilterProxy.dateRange"}}):_vm._e()],1):_vm._e()],2):_c("div",{staticClass:"filter-radio-display"},[_vm._l(_vm.conditionList,(function(condition){return[_vm.allowedConditions(condition)?_c("el-radio",{key:condition.operatorId,staticClass:"fc-radio-btn pB10",attrs:{label:condition.operatorId},model:{value:_vm.operatorId,callback:function($$v){_vm.operatorId=$$v},expression:"operatorId"}},[_vm._v(" "+_vm._s(condition.operator)+" "),"select"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-select",{staticClass:"search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"Select"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1)],1),["resourceType","lookup"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_vm.$fieldUtils.isLookupDropDownField(_vm.metaInfo.fields.find((function(v){return v.name===_vm.fieldName})))?_c("FLookupFieldWrapper",{staticClass:"search-input-comp search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{hideDropDown:_vm.hideDropDownForLookup,field:_vm.getFieldObj(_vm.currentFilterProxy,_vm.fieldName),label:_vm.currentFilterProxy.selectedLabel},on:{recordSelected:_vm.setLookUpFilter,showingLookupWizard:function($event){_vm.showingLookupWizard=!0}},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}}):_vm._e()],1):_vm._e(),"string"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"text",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"number"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"decimal"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),["asset","space"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_c("div",{staticClass:"resource-list"},[_c("el-select",{staticClass:"multi resource-list el-input-textbox-full-border fc-tag mT1 fc-search-select-width mT10 search-filter-border-left",attrs:{filterable:"",multiple:"","collapse-tags":"",value:_vm.$validation.isEmpty(_vm.currentFilterValueProxy)?null:[1],disabled:""}},[_c("el-option",{attrs:{label:_vm.spaceAssetFilter,value:1}})],1),_c("i",{staticClass:"el-input__icon el-icon-search filter-spacce-condition-search",attrs:{slot:"suffix"},on:{click:function($event){return _vm.spaceAssetProps(_vm.currentFilterProxy)}},slot:"suffix"})],1),_vm.chooserVisibility?_c("space-asset-multi-chooser",{staticClass:"fc-input-full-border-select2",attrs:{showAsset:"asset"===_vm.currentFilterProxy.displayType,initialValues:_vm.initialValues,visibility:_vm.chooserVisibility,hideBanner:!0},on:{associate:function($event){return _vm.associateResource($event,_vm.currentFilterProxy)},"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e()],1):_vm._e()]):_vm._e()]}))],2)]):_vm._e()]),_c("div",{staticClass:"search-select-filter-btn"},[_c("el-button",{staticClass:"btn-green-full filter-footer-btn fw-bold",on:{click:function($event){return _vm.applyFilters()}}},[_vm._v(" DONE ")])],1)])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),OutsideClick=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(21864)),validation=__webpack_require__(990260),SpaceAssetMultiChooser=__webpack_require__(673362),FDatePicker=__webpack_require__(358551),SearchTagMixin=__webpack_require__(200689),FLookupFieldWrapper=__webpack_require__(201117),FilterConditionvue_type_script_lang_js={props:["fieldName","isTag","popClass","hideDropDownForLookup"],components:{SpaceAssetMultiChooser:SpaceAssetMultiChooser/* default */.Z,FDatePicker:FDatePicker/* default */.Z,OutsideClick:OutsideClick/* default */.Z,FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},mixins:[SearchTagMixin/* default */.Z],data:function(){return{initialValues:null,chooserVisibility:!1,excludeOperators:[74,75,76,77,78,79,35,87,52,53],operatorId:null,operators:{subject:"STRING",title:"STRING",primaryContactName:"STRING",description:"STRING",name:"STRING",primaryContactEmail:"STRING",primaryContactPhone:"STRING",assetCategoryId:"LOOKUP",kpiCategory:"LOOKUP",assetDepartment:"LOOKUP",siteId:"LOOKUP",assetType:"LOOKUP",category:"LOOKUP",dueDate:"DATE",actualWorkEnd:"DATE",space:"LOOKUP",visitedSpace:"LOOKUP",asset:"LOOKUP",resource:"LOOKUP",sourceType:"NUMBER",ticketType:"LOOKUP",typeId:"LOOKUP",status:"LOOKUP",moduleState:"LOOKUP",assignedTo:"LOOKUP",registeredBy:"LOOKUP",executedBy:"LOOKUP",frequency:"LOOKUP",createdTime:"LOOKUP",tasks:"LOOKUP",priority:"LOOKUP",alarmType:"NUMBER",acknowledgedBy:"LOOKUP",severity:"LOOKUP",previousSeverity:"LOOKUP",readingAlarmCategory:"LOOKUP",readingrule:"LOOKUP",tenant:"LOOKUP"},popoverClass:"right-0 p0",showingLookupWizard:!1}},computed:{currentFilterProxy:{get:function(){var fieldName=this.fieldName,filterObjectsData=this.filterObjectsData;return filterObjectsData[fieldName]||{}},set:function(value){var filterObjectsData=this.filterObjectsData,fieldName=this.fieldName;this.$set(filterObjectsData,fieldName,value)}},currentFilterValueProxy:{get:function(){var currentFilterProxy=this.currentFilterProxy;return currentFilterProxy.value||[]},set:function(value){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value})}},spaceAssetFilter:function(){var currentFilterProxy=this.currentFilterProxy,filter="";return(0,validation/* isEmpty */.xb)(currentFilterProxy.value)||(filter=currentFilterProxy.value.length,"asset"===currentFilterProxy.displayType?filter+="Asset":filter+="Space",currentFilterProxy.value.length>1&&(filter+="s")),filter},conditionList:function(){var type=this.$getProperty(this.operators,this.fieldName,null),_ref=this.metaInfo||{},_ref$operators=_ref.operators,operators=void 0===_ref$operators?{}:_ref$operators;return(0,validation/* isEmpty */.xb)(type)?(type=this.currentFilterProxy,operators[type.operator]):operators[type]}},watch:{fieldName:{handler:function(){var currentFilterProxy=this.currentFilterProxy;this.operatorId=this.$getProperty(currentFilterProxy,"operatorId",null)},immediate:!0},popClass:{handler:function(newValue){newValue&&(this.popoverClass=newValue,this.popoverClass+=" p0")},immediate:!0}},methods:{allowedConditions:function(label){return!("BUILDING_IS"===label._name&&"space"!==this.fieldName||"LOOKUP"===label._name||this.excludeOperators.includes(label.operatorId))},associateResource:function(resource,field){this.chooserVisibility=!1,field.value=resource.resourceList?resource.resourceList.map((function(res){return res.id})):[],this.applyFilters()},applyFilters:function(){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{operatorId:this.operatorId}),this.applyFilter(),this.close()},close:function(){this.chooserVisibility||this.showingLookupWizard||this.$emit("close")}}},components_FilterConditionvue_type_script_lang_js=FilterConditionvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FilterConditionvue_type_script_lang_js,render,staticRenderFns,!1,null,"07f5ab06",null)
/* harmony default export */,FilterCondition=component.exports},
/***/200689:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SearchTagMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
var render,staticRenderFns,defineProperty=__webpack_require__(482482),slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(336585),__webpack_require__(450886),__webpack_require__(212826),__webpack_require__(420629)),validation=__webpack_require__(990260),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),SPACE_FIELDS=["space","visitedSpace","resourceIdSpace"],OPERATOR_CHECK={isEmpty:1,isNotEmpty:2,related:88},SearchTagMixinvue_type_script_lang_js={created:function(){var moduleName=this.moduleName,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)&&moduleName){var promises=[this.$store.dispatch("loadTicketType"),this.$store.dispatch("loadAssetType"),this.$store.dispatch("loadRoles"),this.$store.dispatch("loadAssetDepartment"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadInventoryCategory"),this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadAlarmSeverity"),this.$store.dispatch("loadReadingAlarmCategory"),this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadTicketStatus",moduleName),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadUsers")];this.searchMetaInfo||promises.push(this.$store.dispatch("view/loadModuleMeta",moduleName)),Promise.all(promises).catch((function(){})).finally(this.initSearchFields)}},data:function(){return{excludeCustomfieldsForSpecificModules:["readingrule","preventivemaintenance"],dateTimeFields:["createdTime","dueDate","responseDueDate","actualWorkEnd","acknowledgedTime","warrantyExpiryDate","clearedTime","modifiedTime"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({showSearch:function(state){return state.search.active},users:function(state){return state.users},groups:function(state){return state.groups},viewMetaInfo:function(state){return state.view.metaInfo}})),(0,vuex_esm/* mapGetters */.Se)({getFilterConfig:"search/getFilterConfig"})),{},{metaInfo:function(){return this.viewMetaInfo},appliedFilters:function(){var $route=this.$route,_ref=$route||{},search=_ref.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(this.$route.query.search)},filterObjectsData:{get:function(){var config=this.getFilterConfig;return this.$getProperty(config,"data",null)},set:function(value){var config=this.getFilterConfig||{};this.$store.dispatch("search/updateFilterConfig",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},config),{},{data:value}))}}}),watch:{moduleName:function(newVal,oldVal){if(newVal&&newVal!==oldVal&&(0,validation/* isUndefined */.o8)(this.singleFieldFilterObj)){var moduleName=this.moduleName,excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName),payload={moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:this.includeAllMetaFields};this.searchMetaInfo||this.$store.dispatch("view/loadModuleMeta",newVal),this.$store.dispatch("loadTicketStatus",newVal),this.$store.dispatch("search/init",payload)}}},methods:{initSearchFields:function(){var _this=this,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)){if(this.config){var config=cloneDeep_default()(this.config);this.$store.dispatch("search/updateFilterConfig",config)}var excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,moduleName=this.moduleName,metaInfo=this.metaInfo,includeAllMetaFields=this.includeAllMetaFields,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName);this.$store.dispatch("search/init",{moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:includeAllMetaFields,metaInfo:metaInfo}).finally((function(){return _this.setFilterApplied()}))}},getFieldObj:function(currentFilterProxy,fieldName){var metaInfo=this.metaInfo;if(88!==currentFilterProxy.operatorId){var searchFieldName=fieldName;["resourceIdSpace","resourceIdAsset"].includes(fieldName)&&(searchFieldName="space");var fieldObj=metaInfo.fields.find((function(field){return field.name===searchFieldName}));return"resourceType"===currentFilterProxy.displayType&&this.$set(fieldObj,"multiple",!0),"siteId"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"site",displayName:"Site"}),this.$set(fieldObj,"multiple",!0)):"resourceIdSpace"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"basespace",displayName:"Space"}),this.$set(fieldObj,"multiple",!0)):"resourceIdAsset"===fieldName&&(this.$set(fieldObj,"lookupModule",{name:"asset",displayName:"Asset"}),this.$set(fieldObj,"multiple",!0)),fieldObj}return"siteId"===fieldName?{lookupModule:{name:"site"}}:{lookupModule:{name:fieldName}}},setFilterApplied:function(){var _this2=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{}),filterObjectsData=clone_default()(this.filterObjectsData||{});Object.entries(filterObjectsData).forEach((function(_ref2){var _ref3=(0,slicedToArray/* default */.Z)(_ref2,2),fieldName=_ref3[0],filterData=_ref3[1],key=filterData.key?filterData.key:fieldName;if(filters.includes(key)){var filterObj=_this2.$getProperty(appliedFilters,key,{});(0,validation/* isArray */.kJ)(filterObj)&&(filterObj=filterObj[0]);var _filterObj=filterObj,operatorId=_filterObj.operatorId,value=_filterObj.value,selectedLabel=_filterObj.selectedLabel,_ref4=_this2.getFieldObj({},"siteId")||{},_ref4$multiple=_ref4.multiple,multiple=void 0!==_ref4$multiple&&_ref4$multiple;if(["string","number"].includes(filterData.displayType))filterData.value=(0,validation/* isEmpty */.xb)(value)?"":value[0];else if("lookup"===filterData.displayType)
//filterData.value = !isEmpty(value) ? value[0] : '' // replacement for this is given in below if-else condition
!(0,validation/* isEmpty */.xb)(value)&&(0,validation/* isArray */.kJ)(value)&&value.length>0?multiple||1!=value.length?filterData.value=value:filterData.value=value[0]:filterData.value="",filterData.selectedLabel=selectedLabel;else if(filterData.customdate){if(!(0,validation/* isEmpty */.xb)(value)){var dateRange=value.map((function(date){return parseInt(date)}));filterData.dateRange=dateRange}filterData.value=operatorId+""}else filterData.value=value;filterData.operatorId=operatorId}})),this.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.filterObjectsData),filterObjectsData)},spaceAssetProps:function(filterData){this.chooserVisibility=!0;var selectedResources=this.$getProperty(filterData,"value",[]).map((function(id){return{id:parseInt(id)}}));this.initialValues={isIncludeResource:!0,selectedResources:selectedResources}},operatorIdForFields:function(filterData,fieldName){var operatorId;return operatorId=(0,validation/* isEmpty */.xb)(filterData.operatorId)?"resourceIdSpace"===fieldName||"resourceIdAsset"===fieldName?15:SPACE_FIELDS.includes(fieldName)?38:["subject","name","title"].includes(fieldName)||"STRING"===this.$getProperty(filterData,"operator","")?5:["sourceType","alarmType"].includes(fieldName)||["NUMBER","DECIMAL"].includes(this.$getProperty(filterData,"operator",""))?9:"isAcknowledged"===fieldName||"BOOLEAN"===this.$getProperty(filterData,"operator","")?15:"ENUM"===this.$getProperty(filterData,"operator","")?54:36:filterData.operatorId,operatorId},setOperatorId:function(fieldData,fieldName){var returnId=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,validation/* isEmpty */.xb)(fieldName)&&(fieldName=this.fieldName),(0,validation/* isEmpty */.xb)(fieldData)&&(fieldData=this.$getProperty(this.filterObjectsData,fieldName,null));var operatorId=this.operatorIdForFields(fieldData,fieldName);if(returnId)return operatorId;this.$setProperty(fieldData,"operatorId",operatorId)},constructDateFilter:function(filterValue,fieldName){filterValue=filterValue.split("_");var operatorId=1===filterValue.length?parseInt(filterValue[0]):parseInt(filterValue[1]),filter={operatorId:operatorId};if(20===operatorId){var filterData=this.$getProperty(this.filterObjectsData,fieldName,null),dateRange=this.$getProperty(filterData,"dateRange",null);if((0,validation/* isEmpty */.xb)(dateRange))return!1;filter.value=dateRange.map((function(date){return date+""}))}else[39,40,41,50,59,60,61].includes(operatorId)&&(filter.value=[filterValue[0]]);return filter},setCustomDateFilters:function(filters,fieldName){var filter,_this3=this,filterData=this.$getProperty(this.filterObjectsData,fieldName),filterVal=filterData.value,key=filterData.key||fieldName;(0,validation/* isArray */.kJ)(filterVal)?(filters[key]=[],filterVal.forEach((function(fval){filter=_this3.constructDateFilter(fval,fieldName),filter&&filters[key].push(filter)}))):(filter=this.constructDateFilter(filterVal,fieldName),filter&&(filters[key]=filter))},applyFilter:function(filterData){(0,validation/* isEmpty */.xb)(filterData)?filterData=this.filterObjectsData:this.filterObjectsData=filterData;var filters=this.formatDataForFilter(filterData);(0,validation/* isEmpty */.xb)(filters)?this.$store.dispatch("search/resetFilters"):this.$store.dispatch("search/applyFilters",filters),this.showFilterCondition=!1,this.close()},formatDataForFilter:function(filterData){var _this4=this,filters={},_loop=function(){var field=filterData[fieldName],key=field.key?field.key:fieldName;if(!(0,validation/* isEmpty */.xb)(field.value)||[OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId))if(field.customdate)_this4.setCustomDateFilters(filters,fieldName);else{var filterObj={operatorId:_this4.setOperatorId(field,fieldName,!0)};if([OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId)){var _ref5=_this4.$getProperty(filterData,fieldName,null)||{},operator=_ref5.operator;["subject","name","title"].includes(fieldName)||!(0,validation/* isEmpty */.xb)(operator)&&"STRING"===operator?field.value="":field.value=[]}if("assignedTo"===fieldName){var users=[],groups=[];field.value.forEach((function(user){-1!==user.indexOf("_group")?groups.push(user.substring(0,user.indexOf("_group"))):users.push(user)})),users.length&&(filterObj.value=users),groups.length&&(filterObj.value=groups,key="assignedToId"===key?"assignmentGroupId":"assignmentGroup"),filters[key]=filterObj}else{var value;if((0,validation/* isArray */.kJ)(field.value)?(0,validation/* isObject */.Kn)(field.value[0])?(field.value[0].value=_this4.$getProperty(field.value[0],"value")+"",value=field.value):value=field.value.map((function(val){return val+""})):value=[field.value],filterObj.value=value,SPACE_FIELDS.includes(fieldName)||"asset"===fieldName||"resourceIdAsset"==fieldName?(key=field.key||fieldName,filters[key]||(filters[key]=[]),(0,validation/* isObject */.Kn)(filters[key])?(0,validation/* isEmpty */.xb)(filters[key].value)||(filters[key]=(0,objectSpread2/* default */.Z)({},filterObj)):filters[key].push(filterObj)):filters[key]=filterObj,"lookup"===field.displayType){
//Since fieldValue is array of only one object
(0,validation/* isArray */.kJ)(filters[key])&&(filters[key]=filters[key][0]);var fieldValue=filters[key].value,_ref6=_this4.getFieldObj(field,fieldName)||{},_ref6$multiple=_ref6.multiple,multiple=void 0!==_ref6$multiple&&_ref6$multiple;(0,validation/* isArray */.kJ)(fieldValue)&&!multiple&&(fieldValue=fieldValue[0]),filters[key]["selectedLabel"]=field.selectedLabel,
// filters[key].value = !isEmpty(fieldValue) ? [fieldValue.toString()]: []
(0,validation/* isEmpty */.xb)(fieldValue)?filters[key].value=[]:filters[key].value=multiple?fieldValue:[fieldValue.toString()],OPERATOR_CHECK.related===field.operatorId&&(filters[key].relatedFieldName=field.relatedFieldName)}}}};for(var fieldName in filterData)_loop();return filters},setLookUpFilter:function(filter){if((0,validation/* isArray */.kJ)(filter)){var valueArr=[];filter.forEach((function(item){var key=item.hasOwnProperty("id")?"id":"value";valueArr.push(item[key])})),this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:valueArr})}else{var value=filter.value,selectedLabel=filter.label;this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value,selectedLabel:selectedLabel})}this.showingLookupWizard=!1,this.applyFilter()},resetFilterData:function(){var _this5=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{});Object.entries(this.filterObjectsData||{}).forEach((function(_ref7){var _ref8=(0,slicedToArray/* default */.Z)(_ref7,2),fieldName=_ref8[0],filterData=_ref8[1],key=filterData.key?filterData.key:fieldName;filters.includes(key)||(filterData.value=(0,validation/* isArray */.kJ)(filterData.value)?[]:"",delete filterData.operatorId,_this5.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this5.filterObjectsData),{},(0,defineProperty/* default */.Z)({},fieldName,filterData)))}))}}},components_SearchTagMixinvue_type_script_lang_js=SearchTagMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SearchTagMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SearchTagMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules
},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/391658:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return CommissioningSheet}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/newcoms/CommissioningSheet.vue?vue&type=template&id=159ac0a5
var CommissioningEventMixin_render,CommissioningEventMixin_staticRenderFns,CommissioningSetupMixin_render,CommissioningSetupMixin_staticRenderFns,CommissioningGetterSetterMixin_render,CommissioningGetterSetterMixin_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"formbuilder-fullscreen-popup commissioning-container"},[_c("div",{staticClass:"header"},[_c("div",{staticClass:"agent"},[_c("div",{staticClass:"label"},[_vm._v(" "+_vm._s(_vm.$t("commissioning.creation.agent"))+": "),_c("span",{staticClass:"name mL5"},[_vm._v(_vm._s(_vm.agentName))])])]),_c("div",{staticClass:"controller mL40"},[_c("div",{staticClass:"label d-flex  "},[_vm._v(" "+_vm._s(_vm.$t("commissioning.creation.controller"))+": "),_c("span",{staticClass:"name mL5",attrs:{display:"inline"}},[_vm._v(_vm._s(_vm.controllersName))]),_vm.hoverControllersName?_c("div",{staticClass:"name ml5",attrs:{display:"inline"}},[_c("el-popover",{attrs:{placement:"bottom-end",trigger:"hover",content:_vm.hoverControllersName}},[_c("span",{staticClass:"name mL5",attrs:{slot:"reference",display:"inline"},slot:"reference"},[_vm._v(_vm._s(_vm.hoverController))])])],1):_vm._e()])]),_vm.isLoading?_vm._e():_c("div",{staticClass:"action-btn setting-page-btn"},[_c("el-button",{staticClass:"fc-btn-secondary-medium shadow-none",attrs:{type:"secondary",disabled:_vm.isPasteInProgress},on:{click:function($event){return _vm.showConfirmDialog()}}},[_vm._v(_vm._s(_vm.redirectionButtonLabel))]),_vm.isPublished?_vm._e():_c("el-button",{staticClass:"fc-btn-green-medium-fill shadow-none",attrs:{type:"primary",loading:_vm.isSaving,disabled:_vm.isPasteInProgress},on:{click:function($event){return _vm.saveCommissioning({redirect:!0})}}},[_vm._v("Save")])],1)]),_vm.isLoading?_vm._e():_c("div",{staticClass:"tabs-bar"},[_c("el-tabs",{attrs:{type:"card",closable:""},on:{"tab-click":_vm.handleTabClick,"tab-remove":_vm.removeCommissioningTab},model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},_vm._l(_vm.commissioningTabs,(function(tab,index){return _c("el-tab-pane",{key:index,attrs:{name:""+index,closable:0!==index}},[_c("div",{attrs:{slot:"label"},slot:"label"},[_c("div",{staticClass:"points-count"},[_c("div",{staticClass:"point"}),_c("span",{staticClass:"point-text"},[_vm._v(" "+_vm._s(0===index?_vm.getTabName:tab.displayName)+" - "+_vm._s(_vm.getInstanceCount(tab.searchText))+" ")])])])])})),1),_c("div",{staticClass:"search-container",class:_vm.isSearchActive?"active":""},[_vm.isSearchActive?_c("div",{staticClass:"d-flex"},[_c("el-input",{ref:"commissioning-search-input",staticClass:"search-input mR10",nativeOn:{change:function($event){return function(event){return _vm.onSearchChange(event)}.apply(null,arguments)}},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}},[_c("div",{attrs:{slot:"suffix"},on:{click:function($event){return _vm.openCloseSearchBox(!1)}},slot:"suffix"},[_c("inline-svg",{staticClass:"vertical-middle cursor-pointer mT8 mR5",attrs:{src:"svgs/close",iconClass:"icon search-close-icon"}})],1)]),_c("inline-svg",{staticClass:"vertical-middle cursor-pointer self-center",attrs:{src:"svgs/search",iconClass:"icon search-icon"}})],1):_c("div",{staticClass:"d-flex",on:{click:function($event){return _vm.openCloseSearchBox(!0)}}},[_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon search-icon"}}),_c("div",{staticClass:"search-label"},[_vm._v(" "+_vm._s(_vm.$t("commissioning.sheet.search_points"))+" ")])],1)])],1),_c("div",{staticClass:"search-result-container"},[_c("div",{staticClass:"d-flex"},[_vm.canShowSearchResults?_c("div",{staticClass:"filtered-points-label"},[_vm._v(" "+_vm._s(_vm.totalFilteredPoints)+" "+_vm._s(_vm.$t("commissioning.sheet.pointsfound"))+" ")]):_vm._e(),_vm.canShowSearchResults||"0"!==_vm.activeTab&&(_vm.commissioningTabs[Number(_vm.activeTab)]||{}).searchText?_c("div",{staticClass:"d-flex map-category"},[_c("div",{staticClass:"label self-center"},[_vm._v(" "+_vm._s(_vm.getMapCategoryLabel())+" ")]),_c("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"hover",content:_vm.mapCategoryPopoverContent,disabled:!_vm.canDisableMapCategory}},[_c("el-select",{staticClass:"search-input",attrs:{slot:"reference","popper-append-to-body":!1,disabled:_vm.canDisableMapCategory,filterable:""},on:{change:_vm.handleCategoryChange},slot:"reference",model:{value:_vm.mappedCategory,callback:function($$v){_vm.mappedCategory=$$v},expression:"mappedCategory"}},_vm._l(_vm.itemsToIterate,(function(category,index){return _c("el-option",{key:index,attrs:{label:category.label,value:category.value}})})),1)],1)],1):_vm._e()])]),_c("div",{staticClass:"filters-container"},[_c("div",{staticClass:"d-flex"},[_c("el-dropdown",{on:{command:_vm.onViewChange}},[_c("el-button",{attrs:{type:"primary"}},[_c("span",{staticClass:"f13"},[_vm._v(_vm._s(_vm.currentViewLabel))]),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.viewsArr,(function(view,index){return _c("el-dropdown-item",{key:index,attrs:{command:view}},[_vm._v(" "+_vm._s(_vm.$t("commissioning.sheet.filter_"+view))+" ")])})),1)],1)],1)]),_vm.$validation.isEmpty(_vm.hotTableSettingsData)||_vm.$validation.isEmpty(_vm.scopeIntVal)?_vm._e():_c("HotTableWrapper",{ref:"hotTableRef",attrs:{hotTableSettingsData:_vm.hotTableSettingsData,getLookupOptions:_vm.getLookupOptions,getSelectOptions:_vm.getSelectOptions,getDynamicPlaceHolder:_vm.getDynamicPlaceHolder,getSpecialFilterValue:_vm.getSpecialFilterValue,getReadingOptions:_vm.getReadingOptions,onPasteEventHook:_vm.onPasteEventHook,afterPasteHook:_vm.afterPasteHook,onAutoFillRowChange:_vm.onAutoFillRowChange,afterRowPaste:_vm.setupUnitInputs,preBeforePasteEventHanlder:_vm.preBeforePasteEventHanlder,handleAfterDocumentKeyDown:_vm.handleAfterDocumentKeyDown,showEnumInputWizard:_vm.showEnumInputWizard,resetActiveRowData:_vm.resetActiveRowData,showSetInputValues:_vm.showSetInputValues,isPasteInProgress:_vm.isPasteInProgress,filterArr:_vm.filterArr,pasteDataMap:_vm.pasteDataMap,handleSorting:_vm.handleSorting},on:{"update:isPasteInProgress":function($event){_vm.isPasteInProgress=$event},"update:is-paste-in-progress":function($event){_vm.isPasteInProgress=$event},"update:filterArr":function($event){_vm.filterArr=$event},"update:filter-arr":function($event){_vm.filterArr=$event},"update:pasteDataMap":function($event){_vm.pasteDataMap=$event},"update:paste-data-map":function($event){_vm.pasteDataMap=$event},onHotTableSelectChange:_vm.handleSelectOrLookupChange,onHotTableLookupFieldChange:_vm.handleSelectOrLookupChange}}),_vm.canShowEnumWizard?_c("CommissioningSetEnum",{attrs:{canShowEnumWizard:_vm.canShowEnumWizard,activeSetInputRowIndex:_vm.activeSetInputRowIndex,currentRowData:_vm.currentRowData,selectedEnumReading:_vm.selectedEnumReading,getPasteDataValue:_vm.getPasteDataValue},on:{"update:canShowEnumWizard":function($event){_vm.canShowEnumWizard=$event},"update:can-show-enum-wizard":function($event){_vm.canShowEnumWizard=$event},"update:activeSetInputRowIndex":function($event){_vm.activeSetInputRowIndex=$event},"update:active-set-input-row-index":function($event){_vm.activeSetInputRowIndex=$event},updateEnumInputValues:_vm.updateEnumInputValues}}):_vm._e()],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),HotTableWrapper=(__webpack_require__(450886),__webpack_require__(879288),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(228436),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(339772),__webpack_require__(434284),__webpack_require__(336585),__webpack_require__(513868)),createForOfIteratorHelper=__webpack_require__(566347),validation=(__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(865137),__webpack_require__(990260)),CommissioningEventMixinvue_type_script_lang_js={methods:{handleSelectOrLookupChange:function(valueObj){var dataConfigMap=this.dataConfigMap,headers=this.headers,activeColumnIndex=valueObj.activeColumnIndex,activeColumnName=(headers[activeColumnIndex]||{}).name;if(!(0,validation/* isEmpty */.xb)(activeColumnName)){var activeColumn=dataConfigMap[activeColumnName];!(0,validation/* isEmpty */.xb)(activeColumn)&&(0,validation/* isFunction */.mf)(activeColumn.onValueChange)&&activeColumn.onValueChange(valueObj)}},handleAfterDocumentKeyDown:function(props,keyName){for(var range=props.range,_ref=range||{},from=_ref.from,to=_ref.to,_ref2=from||{},startRow=_ref2.row,startCol=_ref2.col,hotTableSettingsData=this.hotTableSettingsData,_ref3=hotTableSettingsData||{},_ref3$columns=_ref3.columns,columns=void 0===_ref3$columns?[]:_ref3$columns,_ref4=to||{},endRow=_ref4.row,endCol=_ref4.col,row=startRow;row<=endRow;row++)for(var column=startCol;column<=endCol;column++){var selectedColumn=columns[column],_ref5=selectedColumn||{},data=_ref5.data;"Backspace"===keyName&&("categoryId"===data?this.resetActiveRowData({activeRowIndex:row}):"resourceId"!==data&&"fieldId"!==data||this.resetInputValue({rowIndex:row}))}},onCategoryChange:function(valueObj){this.resetActiveRowData(valueObj)},onAssetChange:function(props){var _this=this,value=props.value,activeRowIndex=props.activeRowIndex,hotTableData=this.hotTableData,physicalRow=this.getPhysicalRowIndex(activeRowIndex),rowData=hotTableData[physicalRow],_ref6=rowData||[],suggestedColumns=_ref6.suggestedColumns;if(suggestedColumns.includes("resourceId")){var index=suggestedColumns.findIndex((function(value){return"resourceId"===value}));suggestedColumns.splice(index,1)}var fieldId=this.getFieldId({rowData:rowData}),categoryId=this.getCategoryId({rowData:rowData});this.getReadingOptions({categoryId:categoryId,row:activeRowIndex}).then((function(options){var selectedOption=options.find((function(option){return option.value===fieldId}));(0,validation/* isEmpty */.xb)(selectedOption)||_this.constructInputValues({selectedOption:selectedOption,rowData:rowData,resourceId:value,fieldId:fieldId,physicalRow:physicalRow})}))},onReadingChange:function(props){var activeRowIndex=props.activeRowIndex,value=props.value,hotTableSettingsData=this.hotTableSettingsData,hotTableData=this.hotTableData,columns=hotTableSettingsData.columns,columnData=columns.find((function(column){return"fieldId"===column.data})),_ref7=columnData||{},_ref7$field=_ref7.field,field=void 0===_ref7$field?[]:_ref7$field,physicalRow=this.getPhysicalRowIndex(activeRowIndex),rowData=hotTableData[physicalRow],_ref8=rowData||[],suggestedColumns=_ref8.suggestedColumns;if(suggestedColumns.includes("fieldId")){var index=suggestedColumns.findIndex((function(value){return"fieldId"===value}));suggestedColumns.splice(index,1)}var resourceId=this.getResourceId({rowData:rowData}),selectedOption=field.options.find((function(option){return option.value===value}));(0,validation/* isEmpty */.xb)(selectedOption)||this.constructInputValues({selectedOption:selectedOption,rowData:rowData,resourceId:resourceId,fieldId:value,physicalRow:physicalRow})},showSetInputValues:function(props){var _ref9=props||{},id=_ref9.id,instances=this.instances,selectedInstance=instances.find((function(instance){return instance.id===id}));if(!(0,validation/* isEmpty */.xb)(selectedInstance)){var canShowSetInputIcon=selectedInstance.canShowSetInputIcon;return!!canShowSetInputIcon}},constructInputValues:function(props){var selectedOption=props.selectedOption,rowData=props.rowData,resourceId=props.resourceId,fieldId=props.fieldId,hotTableSettingsData=this.hotTableSettingsData,instances=this.instances,uniqueDataKey=hotTableSettingsData.uniqueDataKey,id=rowData[uniqueDataKey],selectedInstances=instances.find((function(instance){return instance.id===id}));if(!(0,validation/* isEmpty */.xb)(selectedOption)){var dataType=selectedOption.dataType,canShowSetInputIcon=selectedInstances.canShowSetInputIcon;![4,8].includes(dataType)||(0,validation/* isEmpty */.xb)(resourceId)||(0,validation/* isEmpty */.xb)(fieldId)?canShowSetInputIcon&&(selectedInstances.canShowSetInputIcon=!1,selectedInstances.inputValues=[],selectedInstances.dataType=null):(selectedInstances.canShowSetInputIcon=!0,
// To reset input values when reading type changed
dataType!==selectedInstances.dataType&&(selectedInstances.inputValues=[]))}},onPasteEventHook:function(props){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var pasteOptionsMap,_ref10,preHookData,cellType,cachedMapKey,rowLength,startIndex,selectedRowsArr,rowIndex,propName,field,pasteValue,activeRowData,_ref11,resourceNameVsCategoryMap,fetchReadingsList,currentCategoryId,currentReadingId,promiseHash,_loop,_i,_Object$entries,_iterator,_step,_step$value,categoryId,_this2$getColIndices,categoryColIndex,readingColIndex,selectedCategory;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(pasteOptionsMap=_this2.pasteOptionsMap,_ref10=props||{},preHookData=_ref10.preHookData,cellType=_ref10.cellType,cachedMapKey=_ref10.cachedMapKey,rowLength=_ref10.rowLength,startIndex=_ref10.startIndex,selectedRowsArr=_ref10.selectedRowsArr,rowIndex=_ref10.rowIndex,propName=_ref10.propName,field=_ref10.field,pasteValue=_ref10.pasteValue,activeRowData=_ref10.activeRowData,_ref11=preHookData||{},resourceNameVsCategoryMap=_ref11.resourceNameVsCategoryMap,fetchReadingsList=_ref11.fetchReadingsList,currentCategoryId=_this2.getCategoryId({rowData:activeRowData}),currentReadingId=_this2.getFieldId({rowData:activeRowData}),promiseHash=[],!(0,validation/* isEmpty */.xb)(pasteOptionsMap)){_context2.next=18;break}if((0,validation/* isEmpty */.xb)(resourceNameVsCategoryMap)){_context2.next=15;break}_loop=(0,regeneratorRuntime/* default */.Z)().mark((function _loop(){var _Object$entries$_i,key,values,promise;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_Object$entries$_i=(0,slicedToArray/* default */.Z)(_Object$entries[_i],2),key=_Object$entries$_i[0],values=_Object$entries$_i[1],promise=_this2.getLookupOptions({categoryId:Number(key),pasteValuesArr:values}).then((function(options){(0,validation/* isEmpty */.xb)(pasteOptionsMap[key])?pasteOptionsMap[key]={resourceOptions:options}:pasteOptionsMap[key].resourceOptions=options||[]})),promiseHash.push(promise);case 3:case"end":return _context.stop()}}),_loop)})),_i=0,_Object$entries=Object.entries(resourceNameVsCategoryMap);case 10:if(!(_i<_Object$entries.length)){_context2.next=15;break}return _context2.delegateYield(_loop(),"t0",12);case 12:_i++,_context2.next=10;break;case 15:if(!(0,validation/* isEmpty */.xb)(fetchReadingsList)){_iterator=(0,createForOfIteratorHelper/* default */.Z)(fetchReadingsList.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;)_step$value=(0,slicedToArray/* default */.Z)(_step.value,2),categoryId=_step$value[1],promiseHash.push(_this2.getReadingOptions({categoryId:categoryId}))}catch(err){_iterator.e(err)}finally{_iterator.f()}}return _context2.next=18,Promise.all(promiseHash);case 18:if(_this2$getColIndices=_this2.getColIndices({rowLength:rowLength,startIndex:startIndex}),categoryColIndex=_this2$getColIndices.categoryColIndex,readingColIndex=_this2$getColIndices.readingColIndex,(0,validation/* isEmpty */.xb)(categoryColIndex)||(currentCategoryId=selectedRowsArr[rowIndex][categoryColIndex]||null,(0,validation/* isNumber */.hj)(currentCategoryId)||(selectedCategory=_this2.getSelectedCategoryByLabel(currentCategoryId),currentCategoryId=selectedCategory.value)),currentReadingId||(0,validation/* isEmpty */.xb)(readingColIndex)||(currentReadingId=selectedRowsArr[rowIndex][readingColIndex]||null),"select"!==cellType){_context2.next=28;break}if("unit"!==propName){_context2.next=25;break}return _context2.next=25,_this2.getUnitOptions({categoryId:currentCategoryId,fieldId:currentReadingId});case 25:return _context2.abrupt("return",_this2.handlePasteEventForSelect({cachedMapKey:cachedMapKey,currentCategoryId:currentCategoryId,currentReadingId:currentReadingId,propName:propName,field:field,pasteValue:pasteValue}));case 28:if("lookup"!==cellType){_context2.next=30;break}return _context2.abrupt("return",_this2.handlePasteEventForLookup({currentCategoryId:currentCategoryId,cachedMapKey:cachedMapKey,field:field,pasteValue:pasteValue}));case 30:case"end":return _context2.stop()}}),_callee)})))()},handlePasteEventForSelect:function(props){var _ref12=props||{},cachedMapKey=_ref12.cachedMapKey,currentCategoryId=_ref12.currentCategoryId,field=_ref12.field,pasteValue=_ref12.pasteValue,currentReadingId=_ref12.currentReadingId,propName=_ref12.propName,cachedOptionsMap=this.cachedOptionsMap,mapData=cachedOptionsMap[currentCategoryId]||{},unitMapData=cachedOptionsMap[currentReadingId]||{},options="fieldId"===propName?mapData[cachedMapKey]:unitMapData[cachedMapKey];if(!(0,validation/* isEmpty */.xb)(options)){var selectedOption=options.find((function(option){return option.label.toLowerCase().trim()===pasteValue.toLowerCase().trim()}))||{},_ref13=selectedOption||{},value=_ref13.value,label=_ref13.label;(0,validation/* isEmpty */.xb)(value)||(field.optionsCache[value]=label,pasteValue=value)}return pasteValue},handlePasteEventForLookup:function(props){var pasteOptionsMap=this.pasteOptionsMap,currentCategoryId=props.currentCategoryId,cachedMapKey=props.cachedMapKey,field=props.field,pasteValue=props.pasteValue,dataMap=pasteOptionsMap[currentCategoryId]||{},options=dataMap[cachedMapKey]||[];if(!(0,validation/* isEmpty */.xb)(options)){var selectedOption=options.find((function(option){return option.label.toLowerCase().trim()===pasteValue.toLowerCase().trim()}))||{},label=selectedOption.label,value=selectedOption.value;(0,validation/* isEmpty */.xb)(value)||(field.optionsCache[value]=label,pasteValue=value)}return pasteValue},afterPasteHook:function(){
// To reset paste cached data for paste event is done
this.pasteOptionsMap={}},onAutoFillRowChange:function(props){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var hotTableData,index,rowChanges,physicalRow,activeRowData;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return hotTableData=_this3.hotTableData,index=props.index,rowChanges=props.rowChanges,physicalRow=_this3.getPhysicalRowIndex(index),activeRowData=hotTableData[physicalRow]||{},_context3.next=6,_this3.dragAndDropValidation({row:index,rowChanges:rowChanges,activeRowData:activeRowData});case 6:return _context3.abrupt("return",_this3.setupUnitInputs({activeRowData:activeRowData}));case 7:case"end":return _context3.stop()}}),_callee2)})))()},dragAndDropValidation:function(props){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _ref14,$refs,hotTableSettingsData,_ref15,uniqueDataKey,columns,_ref16,rowChanges,activeRowData,id,_iterator2,_step2,_loop2;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_ref14=_this4||{},$refs=_ref14.$refs,hotTableSettingsData=_ref14.hotTableSettingsData,_ref15=hotTableSettingsData||{},uniqueDataKey=_ref15.uniqueDataKey,columns=_ref15.columns,_ref16=props||{},_ref16.row,rowChanges=_ref16.rowChanges,activeRowData=_ref16.activeRowData,id=activeRowData[uniqueDataKey],_iterator2=(0,createForOfIteratorHelper/* default */.Z)(rowChanges.entries()),_context5.prev=5,_loop2=(0,regeneratorRuntime/* default */.Z)().mark((function _loop2(){var _step2$value,rowData,_rowData,prop,oldValue,newValue,selectedColumn,_ref17,field,_ref18,optionsCache,resourceValueLabel,categoryId,selectedOption,options,_categoryId,_options,_selectedOption,fieldId,_categoryId2,_options2,_selectedOption2;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(_step2$value=(0,slicedToArray/* default */.Z)(_step2.value,2),rowData=_step2$value[1],_rowData=(0,slicedToArray/* default */.Z)(rowData,4),prop=_rowData[1],oldValue=_rowData[2],newValue=_rowData[3],"categoryId"!=prop){_context4.next=6;break}(oldValue!=newValue||(0,validation/* isEmpty */.xb)(oldValue))&&(_this4.$set(activeRowData,"resourceId",null),_this4.$set(activeRowData,"fieldId",null),_this4.$set(activeRowData,"unit",null)),_context4.next=54;break;case 6:if("resourceId"!=prop){_context4.next=29;break}if(selectedColumn=(columns||[]).find((function(column){return"resourceId"===column.data})),_ref17=selectedColumn||{},field=_ref17.field,_ref18=field||{},optionsCache=_ref18.optionsCache,resourceValueLabel=optionsCache[newValue]||"",newValue==oldValue&&!(0,validation/* isEmpty */.xb)(oldValue)){_context4.next=27;break}if(categoryId=_this4.getCategoryId({rowData:activeRowData}),!(0,validation/* isNumber */.hj)(newValue)||!(0,validation/* isNumber */.hj)(categoryId)){_context4.next=27;break}if(selectedOption={},options={},(0,validation/* isEmpty */.xb)(resourceValueLabel)){_context4.next=22;break}return _context4.next=19,_this4.getLookupOptions({categoryId:categoryId,pasteValuesArr:["".concat(resourceValueLabel)]});case 19:options=_context4.sent,_context4.next=25;break;case 22:return _context4.next=24,_this4.getLookupOptions({categoryId:categoryId});case 24:options=_context4.sent;case 25:selectedOption=options.find((function(option){return option.value===newValue}))||{},(0,validation/* isEmpty */.xb)(selectedOption)?($refs["hotTableRef"].pushOrRemoveError({isValidEntry:!1,isAlreadyInvalid:!1,id:id,propName:"resourceId"}),_this4.$set(activeRowData,"resourceId","Invalid Value")):_this4.$set(activeRowData,"resourceId",newValue);case 27:_context4.next=54;break;case 29:if("fieldId"!=prop){_context4.next=40;break}if(newValue==oldValue&&!(0,validation/* isEmpty */.xb)(oldValue)){_context4.next=38;break}if(_categoryId=_this4.getCategoryId({rowData:activeRowData}),!(0,validation/* isNumber */.hj)(_categoryId)||!(0,validation/* isNumber */.hj)(newValue)){_context4.next=38;break}return _context4.next=35,_this4.getReadingOptions({categoryId:_categoryId});case 35:_options=_context4.sent,_selectedOption=_options.find((function(option){return option.value===newValue})),(0,validation/* isEmpty */.xb)(_selectedOption)?($refs["hotTableRef"].pushOrRemoveError({isValidEntry:!1,isAlreadyInvalid:!1,id:id,propName:"fieldId"}),_this4.$set(activeRowData,"fieldId","Invalid Value")):_this4.$set(activeRowData,"fieldId",newValue);case 38:_context4.next=54;break;case 40:if("unit"!=prop){_context4.next=54;break}if(newValue==oldValue&&!(0,validation/* isEmpty */.xb)(oldValue)){_context4.next=54;break}if(fieldId=_this4.getFieldId({rowData:activeRowData}),_categoryId2=_this4.getCategoryId({rowData:activeRowData}),(0,validation/* isEmpty */.xb)(fieldId)){_context4.next=53;break}if(!((0,validation/* isNumber */.hj)(fieldId)&&(0,validation/* isNumber */.hj)(_categoryId2)&&(0,validation/* isNumber */.hj)(newValue))){_context4.next=51;break}return _context4.next=48,_this4.getUnitOptions({categoryId:_categoryId2,fieldId:fieldId});case 48:_options2=_context4.sent,_selectedOption2=_options2.find((function(option){return option.value===newValue})),(0,validation/* isEmpty */.xb)(_selectedOption2)?($refs["hotTableRef"].pushOrRemoveError({isValidEntry:!1,isAlreadyInvalid:!1,id:id,propName:"unit"}),_this4.$set(activeRowData,"unit","Invalid Value")):_this4.$set(activeRowData,"unit",newValue);case 51:_context4.next=54;break;case 53:_this4.$set(activeRowData,"unit",null);case 54:case"end":return _context4.stop()}}),_loop2)})),_iterator2.s();case 8:if((_step2=_iterator2.n()).done){_context5.next=12;break}return _context5.delegateYield(_loop2(),"t0",10);case 10:_context5.next=8;break;case 12:_context5.next=17;break;case 14:_context5.prev=14,_context5.t1=_context5["catch"](5),_iterator2.e(_context5.t1);case 17:return _context5.prev=17,_iterator2.f(),_context5.finish(17);case 20:case"end":return _context5.stop()}}),_callee3,null,[[5,14,17,20]])})))()},setupUnitInputs:function(props){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var hotTableSettingsData,instances,_ref19,uniqueDataKey,activeRowData,id,selectedInstance,canShowSetInputIcon,categoryId,resourceId,fieldId,options,selectedOption,dataType;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:if(hotTableSettingsData=_this5.hotTableSettingsData,instances=_this5.instances,_ref19=hotTableSettingsData||{},uniqueDataKey=_ref19.uniqueDataKey,activeRowData=props.activeRowData,id=activeRowData[uniqueDataKey],selectedInstance=instances.find((function(instance){return instance.id===id})),(0,validation/* isEmpty */.xb)(activeRowData)){_context6.next=19;break}if(canShowSetInputIcon=selectedInstance.canShowSetInputIcon,categoryId=_this5.getCategoryId({rowData:activeRowData}),resourceId=_this5.getResourceId({rowData:activeRowData}),fieldId=_this5.getFieldId({rowData:activeRowData}),!(0,validation/* isNumber */.hj)(resourceId)||!(0,validation/* isNumber */.hj)(fieldId)){_context6.next=18;break}return _context6.next=13,_this5.getReadingOptions({categoryId:categoryId});case 13:options=_context6.sent,selectedOption=options.find((function(option){return option.value===fieldId})),(0,validation/* isEmpty */.xb)(selectedOption)||(dataType=selectedOption.dataType,[4,8].includes(dataType)?(_this5.$set(selectedInstance,"canShowSetInputIcon",!0),
// To reset input values when reading type changed
dataType!==selectedInstance.dataType&&(_this5.$set(selectedInstance,"dataType",dataType),_this5.$set(selectedInstance,"inputValues",[]))):canShowSetInputIcon&&_this5.resetInputValue({selectedInstance:selectedInstance})),_context6.next=19;break;case 18:canShowSetInputIcon&&_this5.resetInputValue({selectedInstance:selectedInstance});case 19:case"end":return _context6.stop()}}),_callee4)})))()},preBeforePasteEventHanlder:function(selectedRowsArr,coords){var _this6=this,_ref20=coords||[],_ref21=(0,slicedToArray/* default */.Z)(_ref20,1),coordsObj=_ref21[0],_ref22=coordsObj||{},startRow=_ref22.startRow,startCol=_ref22.startCol,newCurrentCategoryId=null,fetchReadingsList=[],uniqueReadingsList=[],hotTableData=this.hotTableData,resourceNameVsCategoryMap={};
// Have to reset all selected asset, reading and unit values, if categoryid is different
return selectedRowsArr.forEach((function(row,rowIndex){var activeRow=startRow+rowIndex,physicalRow=_this6.getPhysicalRowIndex(activeRow),activeRowData=hotTableData[physicalRow]||{},endCol=startCol+row.length,existingCategoryId=_this6.getCategoryId({rowData:activeRowData}),resourceValue=null,readingValue=null,_this6$getColIndices=_this6.getColIndices({rowLength:endCol,startIndex:startCol}),categoryColIndex=_this6$getColIndices.categoryColIndex,readingColIndex=_this6$getColIndices.readingColIndex,resourceColIndex=_this6$getColIndices.resourceColIndex;if(!(0,validation/* isEmpty */.xb)(categoryColIndex)){newCurrentCategoryId=selectedRowsArr[rowIndex][categoryColIndex]||null;var selectedCategory=_this6.getSelectedCategoryByLabel(newCurrentCategoryId);newCurrentCategoryId=selectedCategory.value,newCurrentCategoryId!==existingCategoryId&&_this6.resetActiveRowData({activeRowIndex:activeRow})}
// Constructing filters for fetchting resource based on every category pasted
if(!(0,validation/* isEmpty */.xb)(resourceColIndex)&&(newCurrentCategoryId=(0,validation/* isEmpty */.xb)(newCurrentCategoryId)?_this6.getCategoryId({row:activeRow}):newCurrentCategoryId,resourceValue=selectedRowsArr[rowIndex][resourceColIndex]||null,!(0,validation/* isEmpty */.xb)(resourceValue)&&!(0,validation/* isEmpty */.xb)(newCurrentCategoryId))){var cachedArr=resourceNameVsCategoryMap[newCurrentCategoryId];(0,validation/* isEmpty */.xb)(cachedArr)?resourceNameVsCategoryMap[newCurrentCategoryId]=[resourceValue]:cachedArr.includes(resourceValue)||cachedArr.push(resourceValue)}(0,validation/* isEmpty */.xb)(readingColIndex)||(newCurrentCategoryId=(0,validation/* isEmpty */.xb)(newCurrentCategoryId)?_this6.getCategoryId({row:activeRow}):newCurrentCategoryId,readingValue=selectedRowsArr[rowIndex][readingColIndex]||null,(0,validation/* isEmpty */.xb)(readingValue)||(uniqueReadingsList.includes(readingValue)||uniqueReadingsList.push(readingValue),fetchReadingsList.includes(newCurrentCategoryId)||fetchReadingsList.push(newCurrentCategoryId)))})),{resourceNameVsCategoryMap:resourceNameVsCategoryMap,fetchReadingsList:fetchReadingsList,uniqueReadingsList:uniqueReadingsList}},onSearchChange:function(event){var canShowSearchResults=this.canShowSearchResults,mappedCategory=this.mappedCategory,_ref23=event||{},target=_ref23.target,_ref24=target||{},value=_ref24.value,instances=this.getFilteredInstances({searchText:value});this.setFilteredInstances(instances),(0,validation/* isEmpty */.xb)(mappedCategory)||this.$set(this,"mappedCategory",null),canShowSearchResults||this.$set(this,"canShowSearchResults",!0)},handleCategoryChange:function(value){var _this7=this,filteredInstances=this.filteredInstances,commissioningTabs=this.commissioningTabs,activeTab=this.activeTab,isAnyInstanceAlreadyMapped=filteredInstances.some((function(instance){return!(0,validation/* isEmpty */.xb)(instance.categoryId)&&value!==instance.categoryId}));if(isAnyInstanceAlreadyMapped){var dialogObj={title:"Map Category",message:"Are you sure you want to proceed mapping this category?",rbDanger:!0,rbLabel:"Proceed"};this.$dialog.confirm(dialogObj).then((function(canProceed){if(canProceed)_this7.mapSelectedCategory(value);else{var selectedTab=commissioningTabs[Number(activeTab)],_ref25=selectedTab||{},_ref25$mappedCategory=_ref25.mappedCategoryId,mappedCategoryId=void 0===_ref25$mappedCategory?null:_ref25$mappedCategory;_this7.$set(_this7,"mappedCategory",mappedCategoryId)}}))}else this.mapSelectedCategory(value)},mapSelectedCategory:function(value){var _this8=this,filteredInstances=this.filteredInstances,$refs=this.$refs,activeTab=this.activeTab;if(!(0,validation/* isEmpty */.xb)(filteredInstances)){var instances=filteredInstances.map((function(instance){var pointId=instance.id,categoryId=_this8.getCategoryId({rowData:instance});return categoryId!==value&&((0,validation/* isEmpty */.xb)($refs)||$refs["hotTableRef"].clearRowError(pointId),instance.resourceId=null,instance.unit=null,instance.fieldId=null),instance.categoryId=value,instance}));activeTab?this.setFilteredInstances(instances):this.addNewCommissioningTab(value,instances)}},onViewChange:function(view){var commissioningTabs=this.commissioningTabs,activeTab=this.activeTab,activeTabSearchText=(commissioningTabs[Number(activeTab)]||{}).searchText||"";this.$set(this,"appliedView",view);var tabInstances=this.getFilteredInstances({searchText:activeTabSearchText,allInstances:!0});this.setFilteredInstances(tabInstances)},handleTabClick:function(tabData){var index=tabData.index,commissioningTabs=this.commissioningTabs,selectedTab=commissioningTabs[Number(index)]||{},searchText=selectedTab.searchText,mappedCategoryId=selectedTab.mappedCategoryId;this.$set(this,"mappedCategory",mappedCategoryId),this.$set(this,"isSearchActive",!1),this.$set(this,"canShowSearchResults",!1),this.$set(this,"searchText",""),this.$set(this,"filterArr",[]);var instances=this.getFilteredInstances({searchText:searchText,allInstances:!0});this.setFilteredInstances(instances)},handleSorting:function(currentSortConfig,destinationSortConfigs,columnSortPlugin,compInstance){var hotTableSettingsData=this.hotTableSettingsData,hotTableData=this.hotTableData,_ref26=compInstance||{},activeColumn=_ref26.activeColumn,_ref27=hotTableSettingsData||{},columns=_ref27.columns,isAsc=!0,_ref28=destinationSortConfigs||{},length=_ref28.length,sortConfig=destinationSortConfigs[0]||{},_ref29=sortConfig||{},sortOrder=_ref29.sortOrder,column=_ref29.column,sortColumn=length>0?this.$getProperty(columns,"".concat(column,".data")):"name";isAsc=length>0?"asc"==sortOrder:isAsc;var _ref30=activeColumn||{},options=_ref30.options,_ref31=activeColumn||{},field=_ref31.field,_ref32=field||{},optionsCache=_ref32.optionsCache;return hotTableData.sort((function(a,b){var la=null,lb=null;if("categoryId"==sortColumn){la=options.find((function(option){var value=option.value;return value==a[sortColumn]}));var _ref33=la||{},label=_ref33.label;la=label?label.toLowerCase().trim():null,lb=options.find((function(option){var value=option.value;return value==b[sortColumn]}));var _ref34=lb||{},_label=_ref34.label;lb=_label?_label.toLowerCase().trim():null}else if("resourceId"==sortColumn||"fieldId"==sortColumn){var label_a=optionsCache[a[sortColumn]],label_b=optionsCache[b[sortColumn]];la=label_a?label_a.toLowerCase().trim():null,lb=label_b?label_b.toLowerCase().trim():null}else"instanceNumber"==sortColumn?(la=a[sortColumn],lb=b[sortColumn]):(la=a[sortColumn].toLowerCase(),lb=b[sortColumn].toLowerCase());return null==la?1:null==lb?-1:la<lb?isAsc?-1:1:la>lb?isAsc?1:-1:0})),!1}}},mixins_CommissioningEventMixinvue_type_script_lang_js=CommissioningEventMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(mixins_CommissioningEventMixinvue_type_script_lang_js,CommissioningEventMixin_render,CommissioningEventMixin_staticRenderFns,!1,null,null,null)
/* harmony default export */,CommissioningEventMixin=component.exports,defineProperty=__webpack_require__(482482),objectSpread2=__webpack_require__(595082),constant=(__webpack_require__(689730),__webpack_require__(354754)),utility_methods=__webpack_require__(773258),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),api=__webpack_require__(32284),defaultHotTableProps={rowHeaders:!0,manualColumnResize:!0,manualRowResize:!0,autoColumnSize:!0,renderAllRows:!1,scrollH:"auto",scrollV:"auto",stretchH:"all"},CommissioningSetupMixinvue_type_script_lang_js={methods:{loadDefaultMetricUnits:function(){var _this=this;api/* API */.bl.get("/units/getDefaultMetricUnits").then((function(response){var _ref=response||{},_ref$data=_ref.data,data=void 0===_ref$data?{}:_ref$data;_this.metricsUnits=data}))},initializeConstants:function(){var _this2=this;
// Initializing config map
this.dataConfigMap={name:{data:"name",renderer:"input",cellType:"text",filters:!0},deviceName:{data:"deviceName",renderer:"input",cellType:"text"},controllerName:{data:"controllerName",renderer:"input",cellType:"text"},categoryId:{data:"categoryId",editor:"select",renderer:"select",onValueChange:function(prop){return _this2.onCategoryChange(prop)},placeHolderText:"".concat(this.$t("commissioning.sheet.select_category")),cellType:"select"},resourceId:{data:"resourceId",editor:"lookup",renderer:"lookup",specialOptionsFetch:!0,onValueChange:function(prop){return _this2.onAssetChange(prop)},placeHolderText:"".concat(this.$t("commissioning.sheet.select_asset")),cellType:"lookup",cachedMapKey:"resourceOptions"},fieldId:{data:"fieldId",editor:"select",renderer:"select",specialOptionsFetch:!0,onValueChange:function(prop){return _this2.onReadingChange(prop)},getOptionsFn:function(prop){return _this2.getReadingOptions(prop)},placeHolderText:"".concat(this.$t("commissioning.sheet.select_reading")),cellType:"select",cachedMapKey:"readingOptions"},unit:{data:"unit",editor:"select",renderer:"select",specialOptionsFetch:!0,getOptionsFn:function(prop){return _this2.getUnitOptions(prop)},isDynamicPlaceHolderText:!0,cellType:"select",cachedMapKey:"unitOptions"},instanceType:{data:"instanceTypeLabel",renderer:"input",cellType:"text",filters:!0},instanceNumber:{data:"instanceNumber",renderer:"input",cellType:"text",filters:!0},enumInputValues:{data:"",renderer:"input",cellType:"text",isSetValuesColumn:!0}},
// To store options for different categories, each category will be having its own readings, assets options
this.cachedOptionsMap={},this.pasteOptionsMap={}},init:function(){var _this3=this,logId=this.logId,fetchInstances="v2/commissioning/".concat(logId);this.$set(this,"isLoading",!0),api/* API */.bl.get(fetchInstances).then((function(_ref2){var data=_ref2.data,error=_ref2.error;if(error){var _ref3=error||{},message=_ref3.message;_this3.$message.error(message)}else{var _data$log=data.log,log=void 0===_data$log?{}:_data$log,_data$fields=data.fields,fields=void 0===_data$fields?{}:_data$fields,_data$resourceList=data.resourceList,resourceList=void 0===_data$resourceList?{}:_data$resourceList,_data$unit=data.unit,unit=void 0===_data$unit?{}:_data$unit,_ref4=log||{},_ref4$points=_ref4.points,points=void 0===_ref4$points?[]:_ref4$points,agentName=_ref4.agentName,_ref4$controllers=_ref4.controllers,controllers=void 0===_ref4$controllers?[]:_ref4$controllers,_ref4$clientMeta=_ref4.clientMeta,clientMeta=void 0===_ref4$clientMeta?{}:_ref4$clientMeta,_ref4$headers=_ref4.headers,headers=void 0===_ref4$headers?[]:_ref4$headers,publishedTime=_ref4.publishedTime,_ref5=clientMeta||{},commissioningTabs=_ref5.commissioningTabs;if((0,validation/* isEmpty */.xb)(commissioningTabs)||_this3.$set(_this3,"commissioningTabs",commissioningTabs),_this3.$set(_this3,"isPublished",!(0,validation/* isEmpty */.xb)(publishedTime)),_this3.$set(_this3,"agentName",agentName),!(0,validation/* isEmpty */.xb)(controllers)){var controllersName="",controllerCount=0,hoverControllersName="",hoverControllerCount=0;controllers.forEach((function(controller){controllerCount++;var name=controller.name;!(0,validation/* isEmpty */.xb)(controllersName)&&controllerCount<=3?controllersName="".concat(controllersName,", ").concat(name):(0,validation/* isEmpty */.xb)(controllersName)&&(controllersName="".concat(name)),!(0,validation/* isEmpty */.xb)(hoverControllersName)&&controllerCount>3?hoverControllersName="".concat(hoverControllersName,", ").concat(name):(0,validation/* isEmpty */.xb)(hoverControllersName)&&controllerCount>3&&(hoverControllersName="".concat(name),hoverControllerCount=controllers.length-3)})),0!=hoverControllerCount&&(_this3.hoverControllersName=hoverControllersName,_this3.hoverControllerCount=hoverControllerCount),_this3.$set(_this3,"controllersName",controllersName)}_this3.readingScope=log["readingScope"],_this3.fieldsMap=fields||{},_this3.resourceListMap=resourceList||{},_this3.unitsMap=unit||{},_this3.instances=_this3.deserializePoints(points);var filteredInstances=_this3.getFilteredInstances({searchText:""});_this3.setFilteredInstances(filteredInstances),_this3.headers=(headers||[]).map((function(header){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},header),{},{header:header.header||_this3.$t("commissioning.sheet.header_".concat(header.name))})})),_this3.constructHotTableData()}})).catch((function(_ref6){var message=_ref6.message;_this3.$message.error(message)})).finally((function(){return _this3.$set(_this3,"isLoading",!1)}))},deserializePoints:function(points){var fieldsMap=this.fieldsMap;return(0,validation/* isEmpty */.xb)(points)||points.forEach((function(point){var instanceType=point.instanceType,dataType=point.dataType,fieldId=point.fieldId,resourceId=point.resourceId,categoryId=point.categoryId,suggestedResourceId=point.suggestedResourceId,suggestedFieldId=point.suggestedFieldId,suggestedCategoryId=point.suggestedCategoryId,instanceTypeLabel=constant/* default */.Z.AgentInstancePoint[instanceType];if(point.instanceTypeLabel=instanceTypeLabel,(0,validation/* isEmpty */.xb)(dataType)&&!(0,validation/* isEmpty */.xb)(fieldId)&&!(0,validation/* isEmpty */.xb)(resourceId)){var type=(fieldsMap[fieldId]||{}).dataType||"";!(0,validation/* isEmpty */.xb)(type)&&[4,8].includes(type)&&(point.dataType=type,point.canShowSetInputIcon=!0)}point.suggestedColumns=[],(0,validation/* isEmpty */.xb)(categoryId)&&!(0,validation/* isEmpty */.xb)(suggestedCategoryId)&&(point.categoryId=suggestedCategoryId[0],point.suggestedColumns.push("categoryId")),(0,validation/* isEmpty */.xb)(resourceId)&&!(0,validation/* isEmpty */.xb)(suggestedResourceId)&&(point.resourceId=suggestedResourceId[0],point.suggestedColumns.push("resourceId")),(0,validation/* isEmpty */.xb)(fieldId)&&!(0,validation/* isEmpty */.xb)(suggestedFieldId)&&(point.fieldId=suggestedFieldId[0],point.suggestedColumns.push("fieldId"))})),points},constructHotTableData:function(){var hotTableSettingsData=this.hotTableSettingsData;hotTableSettingsData.colHeaders=this.constructHotTableHeaders(),hotTableSettingsData.columns=this.constructHotColumns(),hotTableSettingsData=Object.assign(defaultHotTableProps,hotTableSettingsData),
// To render one data extra below the viewport
hotTableSettingsData.viewportRowRenderingOffset=1,hotTableSettingsData.columnSorting={initialConfig:{column:0,sortOrder:"asc"}},this.$set(this,"hotTableSettingsData",hotTableSettingsData)},constructHotTableHeaders:function(){var headers=this.headers,clonedHeaders=cloneDeep_default()(headers),headersArr=clonedHeaders.map((function(column){return column.header}));return headersArr.concat(["",""])},constructHotColumns:function(){var _this4=this,dataConfigMap=this.dataConfigMap,headers=this.headers,clonedDataConfigMap=cloneDeep_default()(dataConfigMap),clonedHeaders=cloneDeep_default()(headers),columnsConfigArr=[];return clonedHeaders.forEach((function(columnObj){var dataConfigObj={};if((0,validation/* isEmpty */.xb)(columnObj))columnsConfigArr.push({type:"text"});else{var columnName=columnObj.name,editable=columnObj.editable;dataConfigObj=clonedDataConfigMap[columnName];var _ref7=dataConfigObj||{},editor=_ref7.editor,specialOptionsFetch=_ref7.specialOptionsFetch;"lookup"===editor?dataConfigObj.field=_this4.constructLookupField(columnName):"select"===editor&&(
/*
             Specialoptionsfetch boolean is to diffenentiate from normal behaviour of select box fields
             In General, entire column will have same set of dropdown options, but here
             every field have different options depending on the selected category.
            */
specialOptionsFetch?dataConfigObj.field=_this4.constructSpecialSelectField(columnName):dataConfigObj.options=_this4.constructFieldOptions(columnObj)),dataConfigObj.readOnly=!editable,columnsConfigArr.push(dataConfigObj)}})),columnsConfigArr},constructLookupField:function(columnName){var readingScope=this.readingScope;((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1);var moduleName=this.$constants.ReadingScope[readingScope]["moduleName"],displayName=moduleName.charAt(0).toUpperCase()+moduleName.slice(1),resourceListMap=this.resourceListMap,lookupFieldObj={isDataLoading:!1,options:[],optionsCache:{},lookupModuleName:moduleName,field:{lookupModule:{name:moduleName,displayName:displayName}},forceFetchAlways:!0,filters:{}};return"resourceId"===columnName&&(lookupFieldObj.optionsCache=resourceListMap),(0,utility_methods/* deepCloneObject */.kh)(lookupFieldObj)},constructSpecialSelectField:function(columnName){var fieldsMap=this.fieldsMap,field=(0,utility_methods/* deepCloneObject */.kh)({optionsCache:{},isSelectOptionsLoading:!1,options:[]});if("fieldId"===columnName){var cachedOptions={};Object.entries(fieldsMap).forEach((function(_ref8){var _ref9=(0,slicedToArray/* default */.Z)(_ref8,2),key=_ref9[0],value=_ref9[1];cachedOptions=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cachedOptions),{},(0,defineProperty/* default */.Z)({},key,value["name"]))})),field.optionsCache=cachedOptions}else"unit"===columnName&&(field.optionsCache=this.unitsMap);return field},constructFieldOptions:function(columnObj){var categoryList=this.categoryList,readingScope=this.readingScope,meterUtilityList=this.meterUtilityList,name=columnObj.name,options=[];if("categoryId"===name&&!(0,validation/* isEmpty */.xb)(categoryList)){((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1);var readingModule=this.$constants.ReadingScope[readingScope]["moduleName"];return"asset"===readingModule?categoryList:"meter"===readingModule?meterUtilityList:[]}return options}}},mixins_CommissioningSetupMixinvue_type_script_lang_js=CommissioningSetupMixinvue_type_script_lang_js,CommissioningSetupMixin_component=(0,componentNormalizer/* default */.Z)(mixins_CommissioningSetupMixinvue_type_script_lang_js,CommissioningSetupMixin_render,CommissioningSetupMixin_staticRenderFns,!1,null,null,null)
/* harmony default export */,CommissioningSetupMixin=CommissioningSetupMixin_component.exports,picklist=__webpack_require__(961358),CommissioningGetterSetterMixinvue_type_script_lang_js={methods:{getPhysicalRowIndex:function(currentRowIndex){var $refs=this.$refs;return(0,validation/* isEmpty */.xb)($refs)?currentRowIndex:$refs["hotTableRef"].getPhysicalRowIndex(currentRowIndex)},getFilteredInstances:function(props){var _props$searchText=props.searchText,searchText=void 0===_props$searchText?"":_props$searchText,_props$allInstances=props.allInstances,allInstances=void 0!==_props$allInstances&&_props$allInstances,_props$fetchTabCount=props.fetchTabCount,fetchTabCount=void 0!==_props$fetchTabCount&&_props$fetchTabCount,instances=this.instances,commissioningTabs=this.commissioningTabs,appliedView=this.appliedView,points=[];if(points=instances.filter((function(point){var filteredTabs=commissioningTabs.filter((function(tab){return"allpoints"!==tab.name}));return!filteredTabs.some((function(tab){var searchText=tab.searchText;return point.name.toLowerCase().trim().includes(searchText.toLowerCase().trim())}))})),!(0,validation/* isEmpty */.xb)(searchText)){var instanceArr=allInstances?instances:points;points=instanceArr.filter((function(point){return point.name.toLowerCase().trim().includes(searchText.toLowerCase().trim())}))}return(0,validation/* isEmpty */.xb)(appliedView)||fetchTabCount||(points=this.getViewAppliedInstances({points:points,view:appliedView})),points},getViewAppliedInstances:function(props){var points=props.points,view=props.view;return"mapped"===view?points=points.filter((function(instance){var resourceId=instance.resourceId,fieldId=instance.fieldId;return!(0,validation/* isEmpty */.xb)(resourceId)&&!(0,validation/* isEmpty */.xb)(fieldId)})):"unmapped"===view&&(points=points.filter((function(instance){var resourceId=instance.resourceId,fieldId=instance.fieldId;return(0,validation/* isEmpty */.xb)(resourceId)||(0,validation/* isEmpty */.xb)(fieldId)}))),points},
// Returns assets depending on the selected category
getLookupOptions:function(props){var row=props.row,categoryId=props.categoryId,field=props.field,picklistOptions=props.picklistOptions,pasteValuesArr=props.pasteValuesArr,physicalRow=this.getPhysicalRowIndex(row),hotTableData=this.hotTableData,hotTableSettingsData=this.hotTableSettingsData,readingScope=this.readingScope,rowSelectedCategoryId=categoryId||(hotTableData[physicalRow]||{}).categoryId||null;if((0,validation/* isNumber */.hj)(rowSelectedCategoryId)||(rowSelectedCategoryId=this.getCategoryId({rowData:hotTableData[physicalRow]})),!(0,validation/* isEmpty */.xb)(rowSelectedCategoryId)&&(0,validation/* isNumber */.hj)(rowSelectedCategoryId)){var columns=hotTableSettingsData.columns,selectedColumnIndex=(columns||[]).findIndex((function(column){return"resourceId"===column.data}));((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1);var lookupModuleName=this.$constants.ReadingScope[readingScope]["filterType"],filters=(0,defineProperty/* default */.Z)({},lookupModuleName,{operator:"is",value:["".concat(rowSelectedCategoryId)]}),fieldObj=field||(columns[selectedColumnIndex]||{}).field||{};return(0,validation/* isEmpty */.xb)(pasteValuesArr)||(filters.name={operatorId:3,value:pasteValuesArr},(0,validation/* isEmpty */.xb)(picklistOptions)&&(picklistOptions={}),picklistOptions.perPage=pasteValuesArr.length),fieldObj.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},fieldObj.filters||{}),filters),(0,picklist/* getFieldOptions */._K)((0,objectSpread2/* default */.Z)({field:fieldObj},picklistOptions)).then((function(_ref){var options=_ref.options;return fieldObj.filters={},options}))}return Promise.resolve([])},getSelectOptions:function(props){var row=props.row,col=props.col,hotTableData=this.hotTableData,dataConfigMap=this.dataConfigMap,headers=this.headers,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},activeColumnName=(headers[col]||{}).name;if(!(0,validation/* isEmpty */.xb)(activeColumnName)){var activeColumn=dataConfigMap[activeColumnName];if(!(0,validation/* isEmpty */.xb)(activeColumn)&&(0,validation/* isFunction */.mf)(activeColumn.getOptionsFn))return activeColumn.getOptionsFn((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},activeRowData),{},{row:row}))}return Promise.resolve([])},
// Returns reading options for reading column, depending on the selected category
getReadingOptions:function(rowData){var categoryId=rowData.categoryId;
// To replace data from pasteData
(0,validation/* isNumber */.hj)(categoryId)||(categoryId=this.getCategoryId({rowData:rowData}));var cachedOptionsMap=this.cachedOptionsMap,isOptionsAlreadyCached=!1,cachedOptions=cachedOptionsMap[categoryId];return(0,validation/* isEmpty */.xb)(cachedOptions)||(isOptionsAlreadyCached=!(0,validation/* isEmpty */.xb)(cachedOptions.readingOptions)),(0,validation/* isEmpty */.xb)(categoryId)||!(0,validation/* isNumber */.hj)(categoryId)||isOptionsAlreadyCached?Promise.resolve(isOptionsAlreadyCached?cachedOptions.readingOptions:[]):this.fetchReading({categoryId:categoryId}).then((function(readings){var readingOptions=[];return(0,validation/* isEmpty */.xb)(readings)||(readings.forEach((function(reading){readingOptions.push({label:reading.displayName,value:reading.fieldId,metricEnum:reading.metricEnum,dataType:reading.dataType,values:reading.values||[],trueVal:reading.trueVal||"",falseVal:reading.falseVal||""})})),(0,validation/* isEmpty */.xb)(cachedOptionsMap[categoryId])?cachedOptionsMap[categoryId]={readingOptions:readingOptions}:cachedOptionsMap[categoryId].readingOptions=readingOptions),readingOptions}))},fetchReading:function(props){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var categoryId,readingScope,readingFilterField,url,_yield$API$get,data,error,message,_ref2,readings;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return categoryId=props.categoryId,readingScope=_this.readingScope,((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1),readingFilterField=_this.$constants.ReadingScope[readingScope]["readingFilterField"],url="v2/readings/".concat(readingFilterField,"?id=").concat(categoryId,"&excludeEmptyFields=false"),_context.next=7,api/* API */.bl.get(url);case 7:if(_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,!error){_context.next=15;break}message=error.message,_this.$message.error(message),_context.next=17;break;case 15:return _ref2=data||{},readings=_ref2.readings,_context.abrupt("return",readings||[]);case 17:return _context.abrupt("return",[]);case 18:case"end":return _context.stop()}}),_callee)})))()},
// Returns unit options for unit column depending on the selected reading
getUnitOptions:function(rowData){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var fieldId,categoryId,metricsUnits,cachedOptionsMap,cachedOptions,isOptionsAlreadyCached,_ref3,metricWithUnits,_ref4,_ref4$readingOptions,readingOptions,selectedReading,_ref5,metricEnum,_ref6,_name,selectedMetric,metricOptions;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.getReadingOptions(rowData);case 2:if(fieldId=rowData.fieldId,categoryId=rowData.categoryId,metricsUnits=_this2.metricsUnits,cachedOptionsMap=_this2.cachedOptionsMap,// To replace data from pasteData
(0,validation/* isNumber */.hj)(categoryId)||(categoryId=_this2.getCategoryId({rowData:rowData})),
// To replace data from pasteData
(0,validation/* isNumber */.hj)(fieldId)||(fieldId=_this2.getFieldId({rowData:rowData})),cachedOptions=cachedOptionsMap[fieldId],isOptionsAlreadyCached=!1,(0,validation/* isEmpty */.xb)(cachedOptions)||(isOptionsAlreadyCached=!(0,validation/* isEmpty */.xb)(cachedOptions.unitOptions)),isOptionsAlreadyCached||(0,validation/* isEmpty */.xb)(metricsUnits)){_context2.next=21;break}if(_ref3=metricsUnits||{},metricWithUnits=_ref3.metricWithUnits,_ref4=cachedOptionsMap[categoryId]||{},_ref4$readingOptions=_ref4.readingOptions,readingOptions=void 0===_ref4$readingOptions?[]:_ref4$readingOptions,selectedReading={},(0,validation/* isEmpty */.xb)(fieldId)||(selectedReading=(0,validation/* isNumber */.hj)(fieldId)?_this2.getSelectedReadingById(fieldId,readingOptions):_this2.getSelectedReadingByLabel(fieldId,readingOptions)),_ref5=selectedReading||{},metricEnum=_ref5.metricEnum,_ref6=metricEnum||{},_name=_ref6._name,(0,validation/* isEmpty */.xb)(_name)||(0,validation/* isEmpty */.xb)(metricWithUnits)){_context2.next=21;break}return selectedMetric=metricWithUnits[_name]||[],metricOptions=selectedMetric.map((function(metric){var _ref7=metric||{},unitId=_ref7.unitId,symbol=_ref7.symbol;return{label:symbol,value:unitId}})),(0,validation/* isEmpty */.xb)(cachedOptionsMap[fieldId])?cachedOptionsMap[fieldId]={unitOptions:metricOptions}:cachedOptionsMap[fieldId].unitOptions=metricOptions,_context2.abrupt("return",Promise.resolve(metricOptions||[]));case 21:return _context2.abrupt("return",Promise.resolve(isOptionsAlreadyCached?cachedOptions.unitOptions:[]));case 22:case"end":return _context2.stop()}}),_callee2)})))()},
// Returns place holder value for units depending on the selected reading
getDynamicPlaceHolder:function(props){var _ref8=props||{},row=_ref8.row,cachedOptionsMap=this.cachedOptionsMap,hotTableData=this.hotTableData,metricsUnits=this.metricsUnits,_ref9=metricsUnits||{},orgUnitsList=_ref9.orgUnitsList,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{};if(!(0,validation/* isEmpty */.xb)(activeRowData)){var categoryId=this.getCategoryId({rowData:activeRowData}),fieldId=this.getFieldId({rowData:activeRowData}),_ref10=cachedOptionsMap[categoryId]||{},_ref10$readingOptions=_ref10.readingOptions,readingOptions=void 0===_ref10$readingOptions?[]:_ref10$readingOptions,selectedReading=this.getSelectedReadingById(fieldId,readingOptions),_ref11=selectedReading||{},metricEnum=_ref11.metricEnum,_ref12=metricEnum||{},_name=_ref12._name;if(!(0,validation/* isEmpty */.xb)(_name)){var orgUnit=orgUnitsList.find((function(unit){return(unit.metricEnum||{})._name===_name}));if(!(0,validation/* isEmpty */.xb)(orgUnit)&&!(0,validation/* isEmpty */.xb)(orgUnit.unitEnum)){var symbol=orgUnit.unitEnum.symbol;return symbol||""}}}return""},getSelectedReadingById:function(fieldId,readingOptions){var selectedReading=readingOptions.find((function(option){return option.value===fieldId}));return selectedReading||{}},getSelectedReadingByLabel:function(fieldLabel,readingOptions){var selectedReading=readingOptions.find((function(option){return option.label===fieldLabel}));return selectedReading||{}},getSelectedCategoryByLabel:function(categoryLabel){var categoryList=this.categoryList,selectedCategory=(categoryList||[]).find((function(category){return category.label.toLowerCase().trim()===(categoryLabel||"").toLowerCase().trim()}))||{};return selectedCategory},getSelectedResourceByLabel:function(resourceLabel,resourceOptions){var selectedResource=resourceOptions.find((function(option){return option.label===resourceLabel}));return selectedResource||{}},getInstanceCount:function(searchText){var instanceCount=this.getFilteredInstances({searchText:searchText,allInstances:!0,fetchTabCount:!0});return(instanceCount||[]).length},getMapCategoryLabel:function(){var activeTab=this.activeTab,commissioningTabs=this.commissioningTabs,readingScope=this.readingScope,selectedTab=commissioningTabs[Number(activeTab)],_ref13=selectedTab||{},mappedCategoryId=_ref13.mappedCategoryId;((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1);var type=this.$constants.ReadingScope[readingScope]["filterType"];return"category"==type?(0,validation/* isEmpty */.xb)(mappedCategoryId)?this.$t("commissioning.sheet.mapcategory"):this.$t("commissioning.sheet.change_category"):"utility"==type?(0,validation/* isEmpty */.xb)(mappedCategoryId)?this.$t("commissioning.sheet.mapUtility"):this.$t("commissioning.sheet.change_utility"):void 0},getSpecialFilterValue:function(prop){var hotTableData=this.hotTableData,readingScope=this.readingScope,row=prop.row,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},categoryId=this.getCategoryId({rowData:activeRowData}),filters={};((0,validation/* isNullOrUndefined */.le)(readingScope)||-1==readingScope||null==readingScope)&&(readingScope=1);var lookupModuleName=this.$constants.ReadingScope[readingScope]["filterType"];return(0,validation/* isEmpty */.xb)(categoryId)||(filters=(0,defineProperty/* default */.Z)({},lookupModuleName,{operator:"is",value:["".concat(categoryId)]})),filters},getPasteDataValue:function(key,options){return"categoryId"===key?this.getCategoryId(options):"resourceId"===key?this.getResourceId(options):"fieldId"===key?this.getFieldId(options):"unit"===key?this.getUnitId(options):"pointId"===key?this.getPointId(options):void 0},getPointId:function(_ref14){var row=_ref14.row,rowData=_ref14.rowData,hotTableData=this.hotTableData,pasteDataMap=this.pasteDataMap,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},_ref15=rowData||activeRowData,pointId=_ref15.id;if(!(0,validation/* isNumber */.hj)(pointId)){var id=(pasteDataMap[pointId]||{}).id;(0,validation/* isEmpty */.xb)(id)||(pointId=id)}return pointId},getCategoryId:function(_ref16){var row=_ref16.row,rowData=_ref16.rowData,hotTableData=this.hotTableData,pasteDataMap=this.pasteDataMap,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},_ref17=rowData||activeRowData,categoryId=_ref17.categoryId,pointId=_ref17.id;if(!(0,validation/* isNumber */.hj)(categoryId)){var id=(pasteDataMap[pointId]||{}).categoryId;(0,validation/* isEmpty */.xb)(id)||(categoryId=id)}return categoryId},getUnitId:function(_ref18){var row=_ref18.row,rowData=_ref18.rowData,hotTableData=this.hotTableData,pasteDataMap=this.pasteDataMap,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},_ref19=rowData||activeRowData,unit=_ref19.unit,pointId=_ref19.id;if(!(0,validation/* isNumber */.hj)(unit)){var id=(pasteDataMap[pointId]||{}).unit;(0,validation/* isEmpty */.xb)(id)||(unit=id)}return unit},getResourceId:function(_ref20){var row=_ref20.row,rowData=_ref20.rowData,hotTableData=this.hotTableData,pasteDataMap=this.pasteDataMap,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},_ref21=rowData||activeRowData,resourceId=_ref21.resourceId,pointId=_ref21.id;if(!(0,validation/* isNumber */.hj)(resourceId)){var id=(pasteDataMap[pointId]||{}).resourceId;(0,validation/* isEmpty */.xb)(id)||(resourceId=id)}return resourceId},getFieldId:function(_ref22){var row=_ref22.row,rowData=_ref22.rowData,hotTableData=this.hotTableData,pasteDataMap=this.pasteDataMap,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow]||{},_ref23=rowData||activeRowData,fieldId=_ref23.fieldId,pointId=_ref23.id;if(!(0,validation/* isNumber */.hj)(fieldId)){var id=(pasteDataMap[pointId]||{}).fieldId;(0,validation/* isEmpty */.xb)(id)||(fieldId=id)}return fieldId},getColIndices:function(props){var hotTableSettingsData=this.hotTableSettingsData,_ref24=hotTableSettingsData||{},columns=_ref24.columns,rowLength=props.rowLength,startIndex=props.startIndex,categoryColIndex=null,readingColIndex=null,resourceColIndex=null,currentIndex=0;while(startIndex<=rowLength)"categoryId"===columns[startIndex].data&&(categoryColIndex=currentIndex),"resourceId"===columns[startIndex].data&&(resourceColIndex=currentIndex),"fieldId"===columns[startIndex].data&&(readingColIndex=currentIndex),startIndex++,currentIndex++;return{categoryColIndex:categoryColIndex,readingColIndex:readingColIndex,resourceColIndex:resourceColIndex}},setFilteredInstances:function(instances){this.$set(this,"filteredInstances",instances)},setColumnOptions:function(options,columnName){var hotTableSettingsData=this.hotTableSettingsData,columns=hotTableSettingsData.columns,selectedColumnIndex=(columns||[]).findIndex((function(column){return column.data===columnName}));(0,validation/* isEmpty */.xb)(selectedColumnIndex)||this.$set(columns[selectedColumnIndex],"options",options)},
// Have to reset all selected asset, reading and unit values
resetActiveRowData:function(props){var activeRowIndex=props.activeRowIndex,hotTableData=this.hotTableData,$refs=this.$refs,hotTableSettingsData=this.hotTableSettingsData,instances=this.instances,uniqueDataKey=hotTableSettingsData.uniqueDataKey,physicalRow=this.getPhysicalRowIndex(activeRowIndex),activeRowData=hotTableData[physicalRow]||{},_ref25=activeRowData||[],suggestedColumns=_ref25.suggestedColumns;if(suggestedColumns.includes("categoryId")){var index=suggestedColumns.findIndex((function(value){return"categoryId"===value}));suggestedColumns.splice(index,1)}var id=activeRowData[uniqueDataKey],selectedInstance=instances.find((function(instance){return instance.id===id}));
// Have to clear invalid cells in a row
(0,validation/* isEmpty */.xb)($refs)||$refs["hotTableRef"].clearRowError(id),(0,validation/* isEmpty */.xb)(activeRowData)||(this.$set(activeRowData,"resourceId",null),this.$set(activeRowData,"unit",null),this.$set(activeRowData,"fieldId",null),this.resetInputValue({selectedInstance:selectedInstance}))},resetInputValue:function(props){var rowIndex=props.rowIndex,selectedInstance=props.selectedInstance;if(!(0,validation/* isEmpty */.xb)(rowIndex)&&(0,validation/* isEmpty */.xb)(selectedInstance)){var hotTableData=this.hotTableData,hotTableSettingsData=this.hotTableSettingsData,instances=this.instances,_ref26=hotTableSettingsData||{},uniqueDataKey=_ref26.uniqueDataKey,physicalRow=this.getPhysicalRowIndex(rowIndex),activeRowData=hotTableData[physicalRow],id=activeRowData[uniqueDataKey];selectedInstance=instances.find((function(instance){return instance.id===id}))}(0,validation/* isEmpty */.xb)(selectedInstance)||(this.$set(selectedInstance,"canShowSetInputIcon",!1),this.$set(selectedInstance,"dataType",null),this.$set(selectedInstance,"inputValues",[]))}}},mixins_CommissioningGetterSetterMixinvue_type_script_lang_js=CommissioningGetterSetterMixinvue_type_script_lang_js,CommissioningGetterSetterMixin_component=(0,componentNormalizer/* default */.Z)(mixins_CommissioningGetterSetterMixinvue_type_script_lang_js,CommissioningGetterSetterMixin_render,CommissioningGetterSetterMixin_staticRenderFns,!1,null,null,null)
/* harmony default export */,CommissioningGetterSetterMixin=CommissioningGetterSetterMixin_component.exports,router=__webpack_require__(329435),CommissioningSetEnumvue_type_template_id_c5665c94_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.showInputDialog?_c("f-dialog",{attrs:{visible:_vm.showInputDialog,title:"Set Input Values",width:"30%",maxHeight:"500px",customClass:"input-value-dialog"},on:{"update:visible":function($event){_vm.showInputDialog=$event},save:_vm.setInputValue}},[_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("div",[4===_vm.rowData.dataType?_c("div",{staticClass:"pT10 pB10"},[_c("el-row",{staticClass:"pB20 input-value-item d-flex text-capitalize",attrs:{gutter:10}},[_c("el-col",{staticClass:"self-center",attrs:{span:8}},[_vm._v(_vm._s(_vm.rowData.trueVal||"True"))]),_c("el-col",{attrs:{span:10}},[_c("el-input",{staticClass:"el-input-textbox-full-border",model:{value:_vm.valuesArr[1].inputValue,callback:function($$v){_vm.$set(_vm.valuesArr[1],"inputValue",$$v)},expression:"valuesArr[1].inputValue"}})],1)],1),_c("el-row",{staticClass:"pB20 input-value-item d-flex text-capitalize",attrs:{gutter:10}},[_c("el-col",{staticClass:"self-center",attrs:{span:8}},[_vm._v(_vm._s(_vm.rowData.falseVal||"False"))]),_c("el-col",{attrs:{span:10}},[_c("el-input",{staticClass:"el-input-textbox-full-border",model:{value:_vm.valuesArr[0].inputValue,callback:function($$v){_vm.$set(_vm.valuesArr[0],"inputValue",$$v)},expression:"valuesArr[0].inputValue"}})],1)],1)],1):_c("div",{staticClass:"pT10 pB10"},_vm._l(_vm.valuesArr,(function(option,index){return _c("el-row",{key:index,staticClass:"pB20 input-value-item d-flex",attrs:{gutter:10}},[_c("el-col",{staticClass:"self-center",attrs:{span:8}},[_vm._v(_vm._s(option.label))]),_c("el-col",{attrs:{span:10}},[_vm.$validation.isEmpty(_vm.enumStates)?_c("div",[_c("el-input",{key:"input-"+index,staticClass:"el-input-textbox-full-border",model:{value:option.inputValue,callback:function($$v){_vm.$set(option,"inputValue",$$v)},expression:"option.inputValue"}})],1):_c("div",[_c("el-select",{staticClass:"el-input-textbox-full-border",attrs:{"allow-create":"",filterable:"",clearable:""},on:{change:_vm.updateLabel},model:{value:option.inputValue,callback:function($$v){_vm.$set(option,"inputValue",$$v)},expression:"option.inputValue"}},_vm._l(_vm.enumStates,(function(item){return _c("el-option",{key:item.value,attrs:{label:item.label,value:item.value,disabled:_vm.isDisable(item.value)}})})),1)],1)])],1)})),1),_c("div",[_c("el-row",{staticClass:"pB20",attrs:{gutter:10}},[_c("el-col",{attrs:{span:8}},[_c("el-checkbox",{model:{value:_vm.applySameValues,callback:function($$v){_vm.applySameValues=$$v},expression:"applySameValues"}},[_vm._v("Apply same values for the same reading mapped")])],1)],1)],1)])]):_vm._e()},CommissioningSetEnumvue_type_template_id_c5665c94_staticRenderFns=[],FDialogNew=__webpack_require__(436756),utils_utility_methods=__webpack_require__(555005),Spinner=__webpack_require__(604947),CommissioningSetEnumvue_type_script_lang_js={props:{canShowEnumWizard:{type:Boolean},currentRowData:{type:Object},selectedEnumReading:{type:Object},activeSetInputRowIndex:{type:Number},getPasteDataValue:{type:Function}},components:{FDialog:FDialogNew/* default */.Z,Spinner:Spinner/* default */.Z},computed:{mappedStates:function(){return this.valuesArr.filter((function(v){return!(0,validation/* isEmpty */.xb)(v.inputValue)})).map((function(v){return v.inputValue}))},showInputDialog:{get:function(){return this.canShowEnumWizard},set:function(value){this.$emit("update:canShowEnumWizard",value),value||this.$emit("update:activeSetInputRowIndex",null)}},rowData:function(){var currentRowData=this.currentRowData;return cloneDeep_default()(currentRowData)}},data:function(){return{valuesArr:[],applySameValues:!1,isLoading:!1,enumStates:[],newInputValues:null}},created:function(){this.init()},methods:{init:function(){var _this=this,rowData=this.rowData,selectedEnumReading=this.selectedEnumReading;this.$set(this,"isLoading",!0),this.constructInputValues({selectedOption:selectedEnumReading,rowData:rowData}).then((function(inputValues){var valuesArr=(inputValues||[]).map((function(option){var _ref=option||{},inputValue=_ref.inputValue;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},option||{}),{},{inputValue:(0,validation/* isEmpty */.xb)(inputValue)?null:"".concat(inputValue)})}));_this.valuesArr=valuesArr})).finally((function(){return _this.$set(_this,"isLoading",!1)}))},setEnumStates:function(){var _this2=this;(0,validation/* isEmpty */.xb)(this.newInputValues)||this.newInputValues.forEach((function(item){var keylabel={};keylabel.value=item.inputValue,keylabel.label=item.inputLabel,_this2.enumStates.push(keylabel)}))},setInputValues:function(rowData){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var pointId,url,_yield$API$get,data,inputValues;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return pointId=_this3.getPasteDataValue("pointId",{rowData:rowData}),url="/v2/commissioning/inputValues?pointId=".concat(pointId),_context.next=4,api/* API */.bl.get(url);case 4:_yield$API$get=_context.sent,data=_yield$API$get.data,inputValues=data.inputValues,_this3.newInputValues=inputValues,_this3.setEnumStates();case 9:case"end":return _context.stop()}}),_callee)})))()},constructInputValues:function(props){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var selectedOption,rowData,dataType,trueVal,falseVal,values,inputValues,filteredValues;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return selectedOption=props.selectedOption,rowData=props.rowData,_context2.next=3,_this4.setInputValues(rowData);case 3:if((0,validation/* isEmpty */.xb)(selectedOption)){_context2.next=14;break}if(dataType=selectedOption.dataType,trueVal=selectedOption.trueVal,falseVal=selectedOption.falseVal,values=selectedOption.values,inputValues=rowData.inputValues,filteredValues=(0,utils_utility_methods/* constructEnumFieldOptions */.rr)(values),!(0,validation/* isEmpty */.xb)(inputValues)){_context2.next=13;break}return 4===dataType?(rowData.inputValues=[{idx:"0",pointId:rowData.id,inputValue:(0,validation/* isEmpty */.xb)(_this4.newInputValues)?"false":_this4.newInputValues[0].inputValue},{idx:"1",pointId:rowData.id,inputValue:(0,validation/* isEmpty */.xb)(_this4.newInputValues)?"true":_this4.newInputValues[1].inputValue}],rowData.trueVal=trueVal,rowData.falseVal=falseVal):rowData.inputValues=filteredValues.map((function(options){var value=options.value,label=options.label,existingInputValue=null,inputValue=null,inputLabel=null;return(0,validation/* isEmpty */.xb)(_this4.newInputValues)||(existingInputValue=(_this4.newInputValues.find((function(input){return input.idx===value}))||{}).inputValue||"",inputValue=existingInputValue||null,inputLabel=(_this4.enumStates.find((function(v){return v.value==inputValue}))||{}).label||""),{idx:value,label:label,pointId:rowData.id,inputValue:inputValue,inputLabel:inputLabel}})),rowData.dataType=dataType,_context2.abrupt("return",Promise.resolve(rowData.inputValues));case 13:4===dataType?(rowData.trueVal=trueVal,rowData.falseVal=falseVal):rowData.inputValues=filteredValues.map((function(options){var value=options.value,label=options.label,existingInputValue=(inputValues.find((function(input){return input.idx===value}))||{}).inputValue||"",inputValue=existingInputValue||value,inputLabel=(_this4.enumStates.find((function(v){return v.value==inputValue}))||{}).label||"";return{idx:value,label:label,pointId:rowData.id,inputValue:inputValue,inputLabel:inputLabel}}));case 14:return _context2.abrupt("return",Promise.resolve(rowData.inputValues));case 15:case"end":return _context2.stop()}}),_callee2)})))()},updateLabel:function(value){var newLabel=(this.enumStates.find((function(v){return v.value==value}))||{}).label||"",valueObj=this.valuesArr.find((function(v){return v.inputValue==value}))||{};(0,validation/* isEmpty */.xb)(newLabel)?valueObj.inputLabel=value:valueObj.inputLabel=newLabel},setInputValue:function(){var valuesArr=this.valuesArr,applySameValues=this.applySameValues,activeSetInputRowIndex=this.activeSetInputRowIndex;this.$emit("updateEnumInputValues",{valuesArr:valuesArr,applySameValues:applySameValues,activeSetInputRowIndex:activeSetInputRowIndex})},isDisable:function(value){return this.mappedStates.includes(value)}}},newcoms_CommissioningSetEnumvue_type_script_lang_js=CommissioningSetEnumvue_type_script_lang_js,CommissioningSetEnum_component=(0,componentNormalizer/* default */.Z)(newcoms_CommissioningSetEnumvue_type_script_lang_js,CommissioningSetEnumvue_type_template_id_c5665c94_render,CommissioningSetEnumvue_type_template_id_c5665c94_staticRenderFns,!1,null,null,null)
/* harmony default export */,CommissioningSetEnum=CommissioningSetEnum_component.exports,CommissioningSheetvue_type_script_lang_js={mixins:[CommissioningEventMixin,CommissioningSetupMixin,CommissioningGetterSetterMixin],components:{HotTableWrapper:HotTableWrapper/* default */.Z,CommissioningSetEnum:CommissioningSetEnum},data:function(){return{agentName:"",controllersName:"",hoverControllersName:"",hoverControllerCount:0,instances:[],filteredInstances:[],isLoading:!1,hotTableSettingsData:{},isSearchActive:!1,searchText:null,mappedCategory:null,canShowSearchResults:!1,commissioningTabs:[{name:"allpoints",displayName:this.$t("commissioning.creation.allpoints"),searchText:null,mappedCategoryId:null}],activeTab:"0",isSaving:!1,isPasteInProgress:!1,filterArr:[],viewsArr:["all_points","mapped","unmapped"],appliedView:"all_points",canShowEnumWizard:!1,activeSetInputRowIndex:null,isPublished:!1,pasteDataMap:{},selectedEnumReading:{}}},computed:{logId:function(){var $route=this.$route,_ref=$route||{},params=_ref.params,_ref2=params||{},logId=_ref2.logId;return logId},hoverController:function(){var _ref3=this||{},hoverControllerCount=_ref3.hoverControllerCount;return", +".concat(hoverControllerCount," more")},categoryList:function(){var categoryList=this.$store.state.assetCategory||[];return categoryList=categoryList.map((function(option){var displayName=option.displayName,id=option.id;return{label:displayName,value:id}})),categoryList||[]},totalInstanceCount:function(){var filteredInstances=this.filteredInstances,instances=this.instances,instancesLen=(instances||[]).length,filteredInstancesLen=(filteredInstances||[]).length,finalLen=instancesLen;return finalLen!==filteredInstancesLen&&(finalLen=instancesLen-filteredInstancesLen),finalLen},totalFilteredPoints:function(){var filteredInstances=this.filteredInstances;return(filteredInstances||[]).length},getTabName:function(){var commissioningTabs=this.commissioningTabs;return commissioningTabs.length>1?"".concat(this.$t("commissioning.sheet.remaining_points")):"".concat(this.$t("commissioning.creation.allpoints"))},currentViewLabel:function(){var appliedView=this.appliedView;return this.$t("commissioning.sheet.filter_".concat(appliedView))},canDisableMapCategory:function(){var filterArr=this.filterArr,appliedView=this.appliedView;return!(0,validation/* isEmpty */.xb)(filterArr)||"all_points"!==appliedView},mapCategoryPopoverContent:function(){var appliedView=this.appliedView,filterArr=this.filterArr,content=this.$t("commissioning.sheet.removeview");return"all_points"===appliedView||(0,validation/* isEmpty */.xb)(filterArr)?(0,validation/* isEmpty */.xb)(filterArr)||(content=this.$t("commissioning.sheet.removefilter")):content=this.$t("commissioning.sheet.remove_filter_view"),content},hotTableData:function(){var hotTableSettingsData=this.hotTableSettingsData,data=hotTableSettingsData.data;return data||[]},currentRowData:function(){var hotTableData=this.hotTableData,activeSetInputRowIndex=this.activeSetInputRowIndex;return hotTableData[activeSetInputRowIndex]||{}},redirectionButtonLabel:function(){var isPublished=this.isPublished;return isPublished?"Back":"Cancel"},meterUtilityList:function(){var utilityList=this.$store.state.utilitytype||[];return utilityList=utilityList.map((function(option){var displayName=option.displayName,id=option.id;return{label:displayName,value:id}})),utilityList||[]},itemsToIterate:function(){var readingScope=this.readingScope;return 1===readingScope?this.categoryList:this.meterUtilityList},scopeIntVal:function(){var readingScope=this.readingScope;return(0,validation/* isNullOrUndefined */.le)(readingScope)?1:readingScope}},watch:{categoryList:{handler:function(newVal){this.setColumnOptions(newVal,"categoryId")}},filterArr:{handler:function(newVal){var activeTab=this.activeTab,commissioningTabs=this.commissioningTabs,hotTableSettingsData=this.hotTableSettingsData,filteredInstances=this.filteredInstances,isSearchActive=this.isSearchActive,globalSearchText=this.searchText,searchText="",columns=hotTableSettingsData.columns;(0,validation/* isEmpty */.xb)(activeTab)?isSearchActive&&(searchText=globalSearchText):searchText=(commissioningTabs[Number(activeTab)]||{}).searchText||"",filteredInstances=this.getFilteredInstances({searchText:searchText,allInstances:!0}),(0,validation/* isEmpty */.xb)(newVal)||(filteredInstances=(filteredInstances||[]).filter((function(point){return newVal.every((function(filter){var columnIndex=filter.columnIndex,searchText=filter.searchText,currentColumn=columns[columnIndex]||{},data=currentColumn.data;return String(point[data]).toLowerCase().trim().includes(searchText.toLowerCase().trim())}))}))),this.setFilteredInstances(filteredInstances)},deep:!0},filteredInstances:{handler:function(newVal){this.$set(this.hotTableSettingsData,"data",newVal)}},activeTab:{handler:function(newVal){
// Disable category column for the tabs already created
var hotTableSettingsData=this.hotTableSettingsData,columns=hotTableSettingsData.columns,categoryColumn=columns.find((function(column){return"categoryId"===column.data}));(0,validation/* isEmpty */.xb)(categoryColumn)||(0,validation/* isEmpty */.xb)(newVal)||(categoryColumn.readOnly="0"!==newVal)}}},created:function(){this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadMeterUtility"),this.loadDefaultMetricUnits(),this.initializeConstants(),this.init()},methods:{showEnumInputWizard:function(row){var _this=this,hotTableData=this.hotTableData,physicalRow=this.getPhysicalRowIndex(row),activeRowData=hotTableData[physicalRow],fieldId=this.getFieldId({rowData:activeRowData}),categoryId=this.getCategoryId({rowData:activeRowData});this.getReadingOptions({categoryId:categoryId,row:row}).then((function(options){var selectedOption=options.find((function(option){return option.value===fieldId}));(0,validation/* isEmpty */.xb)(selectedOption)||(_this.$set(_this,"selectedEnumReading",selectedOption),_this.$set(_this,"activeSetInputRowIndex",physicalRow),_this.$set(_this,"canShowEnumWizard",!0))}))},openCloseSearchBox:function(value){var _this2=this,searchText=this.searchText;if(this.$set(this,"isSearchActive",value),this.$set(this,"mappedCategory",null),this.$set(this,"filterArr",[]),value)this.$nextTick((function(){var $refs=_this2.$refs;_this2.$set(_this2,"activeTab",null),(0,validation/* isEmpty */.xb)($refs)||(0,validation/* isEmpty */.xb)($refs["commissioning-search-input"])||$refs["commissioning-search-input"].focus()}));else if((0,validation/* isEmpty */.xb)(searchText))(0,validation/* isEmpty */.xb)(searchText)&&this.$set(this,"activeTab","0");else{var firstTabInstances=this.getFilteredInstances({searchText:""});this.setFilteredInstances(firstTabInstances),this.$set(this,"activeTab","0"),this.$set(this,"searchText",""),this.$set(this,"canShowSearchResults",!1)}},addNewCommissioningTab:function(value,instances){var commissioningTabs=this.commissioningTabs,searchText=this.searchText,newTab={name:"".concat(searchText," ").concat(value),displayName:searchText,searchText:searchText,mappedCategoryId:value};commissioningTabs.push(newTab),this.setFilteredInstances(instances),this.$set(this,"isSearchActive",!1),this.$set(this,"canShowSearchResults",!1),this.$set(this,"activeTab","".concat(commissioningTabs.length-1)),this.$set(this,"searchText","")},updateEnumInputValues:function(props){var _this3=this,hotTableData=this.hotTableData,instances=this.instances,valuesArr=props.valuesArr,applySameValues=props.applySameValues,activeSetInputRowIndex=props.activeSetInputRowIndex,physicalRow=this.getPhysicalRowIndex(activeSetInputRowIndex),selectedRow=hotTableData[physicalRow],selectedReadingId=this.getFieldId({rowData:selectedRow}),selectedResourceId=this.getResourceId({rowData:selectedRow});!applySameValues||(0,validation/* isEmpty */.xb)(instances)||(0,validation/* isEmpty */.xb)(selectedResourceId)?selectedRow.inputValues=valuesArr:instances.forEach((function(instance){var resourceId=instance.resourceId,fieldId=_this3.getFieldId({rowData:instance});fieldId!==selectedReadingId||(0,validation/* isEmpty */.xb)(resourceId)||(instance.inputValues=valuesArr)}))},removeCommissioningTab:function(index){var commissioningTabs=this.commissioningTabs,activeTab=this.activeTab;if("0"!==index){var isActiveTab=index===activeTab,tabInstances=[],activeTabSearchText=(commissioningTabs[Number(activeTab)]||{}).searchText||"";if(commissioningTabs.splice(Number(index),1),this.$set(this,"commissioningTabs",commissioningTabs),isActiveTab)tabInstances=this.getFilteredInstances({searchText:""}),this.setFilteredInstances(tabInstances),this.$set(this,"activeTab","0");else{
// have to reset activetab index if tab removed before active tab
var currentIndexOfActiveTab=commissioningTabs.findIndex((function(tab){return tab.searchText===activeTabSearchText}));activeTab!=="".concat(currentIndexOfActiveTab)&&this.$set(this,"activeTab","".concat(currentIndexOfActiveTab)),tabInstances=this.getFilteredInstances({searchText:activeTabSearchText,allInstances:!0}),this.setFilteredInstances(tabInstances)}this.$set(this,"filterArr",[])}},saveCommissioning:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var $refs,logId,commissioningTabs,instances,cellsErrorMap,url,prop,_yield$API$post,data,error,_ref4,message,_ref5,result;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if($refs=_this4.$refs,logId=_this4.logId,commissioningTabs=_this4.commissioningTabs,instances=_this4.instances,cellsErrorMap=$refs["hotTableRef"].cellsErrorMaps(),(0,validation/* isEmpty */.xb)(cellsErrorMap)){_context.next=5;break}return _this4.$message.error("".concat(_this4.$t("commissioning.sheet.commissioning_save_error"))),_context.abrupt("return");case 5:return url="v2/commissioning/update",prop={log:{id:logId,points:_this4.serializePoints(instances),clientMeta:{commissioningTabs:commissioningTabs}}},_this4.isSaving=!0,_context.next=10,api/* API */.bl.post(url,prop);case 10:_yield$API$post=_context.sent,data=_yield$API$post.data,error=_yield$API$post.error,(0,validation/* isEmpty */.xb)(error)?(_ref5=data||{},result=_ref5.result,"success"==result&&(_this4.$message.success("".concat(_this4.$t("commissioning.sheet.commissioning_save_success"))),_this4.redirectToCommissioningList())):(_ref4=error||{},message=_ref4.message,_this4.$message.error(message)),_this4.isSaving=!1;case 15:case"end":return _context.stop()}}),_callee)})))()},serializePoints:function(data){var _this5=this,filteredData=data.filter((function(datum){return!(0,validation/* isEmpty */.xb)(datum.name)})),clonedData=cloneDeep_default()(filteredData);
// Remove empty row
return(0,validation/* isEmpty */.xb)(clonedData)||clonedData.forEach((function(data,index){Object.entries(data).forEach((function(_ref6){var _ref7=(0,slicedToArray/* default */.Z)(_ref6,2),key=_ref7[0],value=_ref7[1];if(["categoryId","resourceId","fieldId","unit"].includes(key)&&!(0,validation/* isNumber */.hj)(value)){var pasteValue=_this5.getPasteDataValue(key,{rowData:clonedData[index]});clonedData[index][key]=pasteValue}(0,validation/* isEmpty */.xb)(value)&&(clonedData[index][key]=null)})),(0,validation/* isEmpty */.xb)(data.instanceTypeLabel)||delete data.instanceTypeLabel,(0,validation/* isEmpty */.xb)(data.dataType)||delete data.dataType,(0,validation/* isEmpty */.xb)(data.canShowSetInputIcon)||delete data.canShowSetInputIcon})),clonedData},showConfirmDialog:function(){var _this6=this,isPublished=this.isPublished;if(isPublished)this.redirectToCommissioningList();else{var dialogObj={title:"You have not saved your changes",htmlMessage:"Are you sure want to exit commissioning?",rbDanger:!0,rbLabel:"Confirm"};this.$dialog.confirm(dialogObj).then((function(value){value&&_this6.redirectToCommissioningList()}))}},redirectToCommissioningList:function(){var _findRouteForTab=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:"commissioning"}}),name=_findRouteForTab.name;name&&this.$router.push({name:name})}}},newcoms_CommissioningSheetvue_type_script_lang_js=CommissioningSheetvue_type_script_lang_js,CommissioningSheet_component=(0,componentNormalizer/* default */.Z)(newcoms_CommissioningSheetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommissioningSheet=CommissioningSheet_component.exports},
/***/513868:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return HotTableWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/newcoms/HotTableWrapper.vue?vue&type=template&id=2dd8a344
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"hot-table-wrapper-container"},[_vm.$validation.isEmpty(_vm.hotTableSettingsData)?_vm._e():_c("div",{ref:"hotTableContainer",staticClass:"relative"},[_vm.isPasteInProgress?_c("div",{directives:[{name:"loading",rawName:"v-loading",value:_vm.isPasteInProgress,expression:"isPasteInProgress"}],staticClass:"loading-container"}):_vm._e(),_c("hot-table",{ref:"hotTableInstance",attrs:{settings:_vm.hotTableSettingsData}})],1),_vm.canShowInput?_c("el-input",{ref:"inputComponent",staticClass:"fc-handson-input hide",model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}}):_vm._e(),_vm.canShowSelect?_c("el-select",{key:"unit-dropdown",ref:"selectComponent",staticClass:"fc-handson-input hide",attrs:{"automatic-dropdown":!0,"popper-append-to-body":!1,placeholder:_vm.selectPlaceHolder,loading:(_vm.activeSelectField||{}).isSelectOptionsLoading||!1,"loading-text":_vm.$t("common._common.searching"),filterable:""},on:{change:_vm.handleSelectChange},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)},keydown:function($event){return $event.stopPropagation(),function($event){return _vm.onKeyDownEvent($event)}.apply(null,arguments)}},model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}},_vm._l(_vm.selectOptions,(function(option,index){return _c("el-option",{key:index,attrs:{label:option.label,value:option.value}})})),1):_vm._e(),_vm.canShowPicker?_c("f-date-picker",{ref:"pickerComponent",staticClass:"fc-input-full-border2 form-date-picker fc-handson-picker",attrs:{type:_vm.hotTableSettingsData.columns[_vm.activeColumnIndex].pickerType,format:_vm.EL_PICKER_DISPLAY_FORMAT,appendToBody:!1,arrowControl:!0},on:{pickerChange:function($event){return _vm.activeEditorInstance.finishEditing()}},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)}},model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}}):_vm._e(),_vm.canShowLookup?_c("FLookupField",{ref:"lookUpComponent",staticClass:"fc-handson-lookup",attrs:{model:_vm.proxyDataSetter,field:_vm.activeLookupField,popperAppendToBody:!1,skipLoading:!0,fetchOptionsMethod:_vm.getLookupOptions?_vm.getLookupOptionsForColumn:null,hideDropDown:_vm.$fieldUtils.isChooserTypeField(_vm.activeLookupField)&&!(_vm.activeLookupField.config||{}).isFiltersEnabled},on:{"update:model":function($event){_vm.proxyDataSetter=$event},recordSelected:_vm.handleRecordSelected,showLookupWizard:_vm.showLookupWizard},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)},keydown:function($event){return $event.stopPropagation(),function($event){return _vm.onKeyDownEvent($event)}.apply(null,arguments)}}}):_vm._e(),_vm.canShowLookupWizard?_c("div",[_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.selectedLookupField,specialFilterValue:_vm.specialFilterValue},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue,closeWizard:_vm.handleCloseWizard}})],1):_vm._e(),_vm.canShowFilterDialog?_c("div",[_c("HandsonColumnFilter",{attrs:{canShowFilterDialog:_vm.canShowFilterDialog,currentFilterColumn:_vm.currentFilterColumn,filteredCondition:_vm.filteredCondition},on:{"update:canShowFilterDialog":function($event){_vm.canShowFilterDialog=$event},"update:can-show-filter-dialog":function($event){_vm.canShowFilterDialog=$event},"update:currentFilterColumn":function($event){_vm.currentFilterColumn=$event},"update:current-filter-column":function($event){_vm.currentFilterColumn=$event},"update:filteredCondition":function($event){_vm.filteredCondition=$event},"update:filtered-condition":function($event){_vm.filteredCondition=$event}}})],1):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),slicedToArray=__webpack_require__(554621),constant=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(336585),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(354754)),validation=__webpack_require__(990260),vue_handsontable=__webpack_require__(366258),FDatePicker=__webpack_require__(358551),FLookupField=__webpack_require__(855048),FLookupFieldWizard=__webpack_require__(499751),HandsonColumnFiltervue_type_template_id_0e3067e1_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"handson-column-filter fc-dialog-center-container",attrs:{title:_vm.$t("commissioning.sheet.filter"),visible:_vm.canShowDialog,"append-to-body":!0,width:"30%"},on:{"update:visible":function($event){_vm.canShowDialog=$event}}},[_c("div",{staticClass:"height150"},[_c("div",{staticClass:"mT10"},[_vm._v(_vm._s(_vm.$t("commissioning.sheet.filter_by_value")))]),_c("div",[_c("el-input",{staticClass:"fc-input-full-border2 mT5",model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}})],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.setFilter}},[_vm._v("Confirm")])],1)])},HandsonColumnFiltervue_type_template_id_0e3067e1_staticRenderFns=[],HandsonColumnFiltervue_type_script_lang_js=(__webpack_require__(879288),__webpack_require__(339772),{props:{canShowFilterDialog:{type:Boolean},currentFilterColumn:{type:Number},filteredCondition:{type:Array}},data:function(){return{searchText:""}},computed:{canShowDialog:{get:function(){return this.canShowFilterDialog},set:function(value){this.$emit("update:canShowFilterDialog",value)}},activeColumnIndex:{get:function(){return this.currentFilterColumn},set:function(value){this.$emit("update:currentFilterColumn",value)}},selectedColumn:function(){var filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumn={};return(0,validation/* isEmpty */.xb)(filteredCondition)||(selectedColumn=filteredCondition.find((function(condition){return condition.columnIndex===activeColumnIndex}))),selectedColumn},selectedColumnIndex:function(){var filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumnIndex=null;return(0,validation/* isEmpty */.xb)(filteredCondition)||(selectedColumnIndex=filteredCondition.findIndex((function(condition){return condition.columnIndex===activeColumnIndex}))),selectedColumnIndex}},created:function(){var selectedColumn=this.selectedColumn;if(!(0,validation/* isEmpty */.xb)(selectedColumn)){var searchText=selectedColumn.searchText;this.$set(this,"searchText",searchText)}},methods:{setFilter:function(){var searchText=this.searchText,filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumn=this.selectedColumn,selectedColumnIndex=this.selectedColumnIndex,conditionArr=filteredCondition;(0,validation/* isEmpty */.xb)(selectedColumn)?(0,validation/* isEmpty */.xb)(searchText)||conditionArr.push({columnIndex:activeColumnIndex,searchText:searchText}):(0,validation/* isEmpty */.xb)(searchText)?conditionArr.splice(selectedColumnIndex,1):selectedColumn.searchText=searchText,this.$emit("update:filteredCondition",conditionArr),this.closeDialog()},closeDialog:function(){this.canShowDialog=!1,this.activeColumnIndex=null}}}),handsontable_HandsonColumnFiltervue_type_script_lang_js=HandsonColumnFiltervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(handsontable_HandsonColumnFiltervue_type_script_lang_js,HandsonColumnFiltervue_type_template_id_0e3067e1_render,HandsonColumnFiltervue_type_template_id_0e3067e1_staticRenderFns,!1,null,null,null)
/* harmony default export */,HandsonColumnFilter=component.exports,hottableEvents=__webpack_require__(663763),hottableGetterSetter=__webpack_require__(906653),hottableSetup=__webpack_require__(580302),HotTableWrappervue_type_script_lang_js={components:{HotTable:vue_handsontable.HotTable,FDatePicker:FDatePicker/* default */.Z,FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:FLookupFieldWizard["default"],HandsonColumnFilter:HandsonColumnFilter},mixins:[hottableEvents/* default */.Z,hottableGetterSetter/* default */.Z,hottableSetup/* default */.Z],props:{hotTableSettingsData:{type:Object,required:!0},isPasteInProgress:{type:Boolean},filterArr:{type:Array},getLookupOptions:{type:[Function,null]},getSelectOptions:{type:Function,default:function(){}},getDynamicPlaceHolder:{type:Function,default:function(){}},getSpecialFilterValue:{type:Function,default:function(){}},getReadingOptions:{type:Function,default:function(){}},onPasteEventHook:{type:Function,default:function(){}},afterPasteHook:{type:Function,default:function(){}},afterRowPaste:{type:Function,default:function(){}},handleAfterDocumentKeyDown:{type:Function,default:function(){}},preBeforePasteEventHanlder:{type:Function,default:function(){}},showEnumInputWizard:{type:Function,default:function(){}},resetActiveRowData:{type:Function,default:function(){}},showSetInputValues:{type:Function,default:function(){}},pasteDataMap:{type:Object},onAutoFillRowChange:{type:Function,default:function(){}},onRowChange:{type:Function,default:function(){}},showCustomFilter:{type:Boolean,default:!1},handleSorting:{type:Function,default:function(){}}},data:function(){return{EL_PICKER_DISPLAY_FORMAT:constant/* default */.Z.EL_PICKER_DISPLAY_FORMAT,canShowInput:!1,canShowSelect:!1,canShowPicker:!1,canShowLookup:!1,activePropName:null,activeRowIndex:null,activeColumnIndex:null,activeEditorInstance:null,isLoading:!0,canShowLookupWizard:!1,selectedLookupField:null,cellsErrorMap:{},canShowFilterDialog:!1,currentFilterColumn:null,specialFilterValue:{},physicalRowArr:[],previousData:null}},computed:{hotTableData:function(){var hotTableSettingsData=this.hotTableSettingsData,data=hotTableSettingsData.data;return data||[]},proxyDataSetter:{get:function(){var activeRowIndex=this.activeRowIndex,hotTableData=this.hotTableData,activePropName=this.activePropName,physicalRow=this.getPhysicalRowIndex(activeRowIndex),currentData=hotTableData[physicalRow]||{};return this.$getProperty(currentData,"".concat(activePropName),null)},set:function(value){var activeRowIndex=this.activeRowIndex,activePropName=this.activePropName,hotTableData=this.hotTableData,physicalRow=this.getPhysicalRowIndex(activeRowIndex),currentData=hotTableData[physicalRow]||{};this.$setProperty(currentData,"".concat(activePropName),value),
/*
          set property doesnot triggers the change, hence to rerender we're
          setting using Vue setter.
        */
this.$set(hotTableData,physicalRow,currentData)}},activeColumn:function(){var hotTableSettingsData=this.hotTableSettingsData,activeColumnIndex=this.activeColumnIndex,columns=hotTableSettingsData.columns;return(0,validation/* isEmpty */.xb)(columns)?{}:columns[activeColumnIndex]||{}},
// This field only exists if column of select type having different options for every row
activeSelectField:function(){var activeColumn=this.activeColumn;if(!(0,validation/* isEmpty */.xb)(activeColumn)){var field=activeColumn.field;return field||{}}return{}},activeLookupField:function(){var activeColumn=this.activeColumn;return activeColumn.field||null},selectOptions:{get:function(){var activeColumn=this.activeColumn,activeSelectField=this.activeSelectField;return(0,validation/* isEmpty */.xb)(activeSelectField)?activeColumn.options||[]:activeSelectField.options||[]},set:function(value){var activeColumn=this.activeColumn,activeSelectField=this.activeSelectField;(0,validation/* isEmpty */.xb)(activeSelectField)?this.$set(activeColumn,"options",value||[]):this.$set(activeSelectField,"options",value||[])}},selectPlaceHolder:function(){var activeColumn=this.activeColumn,activeRowIndex=this.activeRowIndex;if(!(0,validation/* isEmpty */.xb)(activeColumn)){var isDynamicPlaceHolderText=activeColumn.isDynamicPlaceHolderText;if(isDynamicPlaceHolderText){var text=this.getDynamicPlaceHolder({row:activeRowIndex});return text||""}var placeHolderText=activeColumn.placeHolderText;return placeHolderText||""}return""},filteredCondition:{get:function(){return this.filterArr||[]},set:function(value){this.$emit("update:filterArr",value)}}},created:function(){this.$set(this,"isLoading",!0),this.setupHotTableSettingsData(),this.$set(this,"isLoading",!1)},methods:{
/*
      Caching labels for selected options for both lookup and select fields
      Custom Renderer needs ID -> labels map to render
    */
cacheLookUpLabels:function(option){this.activeLookupField.optionsCache||this.$set(this.activeLookupField,"optionsCache",{}),this.$set(this.activeLookupField.optionsCache,option.value,option.label)},handleCloseWizard:function(data){var _data$field$selectedI,_this$getHotTableInst=this.getHotTableInstance(),hotInstance=_this$getHotTableInst.hotInstance;null!==(_data$field$selectedI=data.field.selectedItems[0])&&void 0!==_data$field$selectedI&&_data$field$selectedI.value&&(this.previousData.isAlreadyInvalid=!0,this.previousData.isValidEntry=!0,this.pushOrRemoveError(this.previousData)),hotInstance.render()},cacheSelectLabels:function(value){var activeSelectField=this.activeSelectField;if(!(0,validation/* isEmpty */.xb)(activeSelectField)&&!(0,validation/* isEmpty */.xb)(value)){var options=activeSelectField.options,_activeSelectField$op=activeSelectField.optionsCache,optionsCache=void 0===_activeSelectField$op?{}:_activeSelectField$op,selectedOption=options.find((function(option){return option.value===value}))||{},selectedOptionLabel=selectedOption.label||"";this.$set(optionsCache,value,selectedOptionLabel)}},setLookupFieldValue:function(props){var field=props.field,_ref=field||{},selectedItems=_ref.selectedItems,_selectedItems=(0,slicedToArray/* default */.Z)(selectedItems,1),selectedItem=_selectedItems[0],options=[],label=selectedItem.label,value=selectedItem.value;options=[{label:label,value:value}],this.$set(this.activeLookupField,"options",options),this.$set(this,"specialFilterValue",{}),this.proxyDataSetter=value,this.handleRecordSelected(selectedItem)},
/* Open dialog related methods */showLookupWizard:function(field,canShow){var activeColumnIndex=this.activeColumnIndex,activeRowIndex=this.activeRowIndex;if(this.$set(this,"selectedLookupField",field),this.$set(this,"canShowLookupWizard",canShow),(0,validation/* isFunction */.mf)(this.getSpecialFilterValue)){var filters=this.getSpecialFilterValue({row:activeRowIndex,column:activeColumnIndex});this.$set(this,"specialFilterValue",filters)}},openFilterDialog:function(column){var _ref2=this||{},showCustomFilter=_ref2.showCustomFilter;showCustomFilter?this.$emit("openCustomFilter",{column:column}):(this.$set(this,"canShowFilterDialog",!0),this.$set(this,"currentFilterColumn",column))},cellsErrorMaps:function(){var cellsErrorMap=this.cellsErrorMap;return cellsErrorMap},pushOrRemoveError:function(props){this.previousData=props;var isValidEntry=props.isValidEntry,isAlreadyInvalid=props.isAlreadyInvalid,id=props.id,propName=props.propName,cellsErrorMap=this.cellsErrorMap;if(id)if(isValidEntry){if(isAlreadyInvalid){cellsErrorMap[id].splice(cellsErrorMap[id].indexOf(propName),1);var isAllErrorsCleared=Object.entries(cellsErrorMap).every((function(_ref3){var _ref4=(0,slicedToArray/* default */.Z)(_ref3,2),value=_ref4[1];return(0,validation/* isEmpty */.xb)(value)}));isAllErrorsCleared&&(this.cellsErrorMap={})}}else(0,validation/* isEmpty */.xb)(cellsErrorMap[id])?cellsErrorMap[id]=[propName]:
// Don't have to push, if the entry is invalid again and again
isAlreadyInvalid||cellsErrorMap[id].push(propName)},clearRowError:function(id){var cellsErrorMap=this.cellsErrorMap;(0,validation/* isEmpty */.xb)(id)||(cellsErrorMap[id]=[],delete cellsErrorMap[id])},triggerValidate:function(props,callback){var _step,rows=props.rows,hotTableSettingsData=this.hotTableSettingsData,hotTableData=this.hotTableData,cellsErrorMap=this.cellsErrorMap,pasteDataMap=this.pasteDataMap,_ref5=hotTableSettingsData||{},columns=_ref5.columns,uniqueDataKey=_ref5.uniqueDataKey,_ref6=this.getHotTableInstance()||{},hotInstance=_ref6.hotInstance,_iterator=(0,createForOfIteratorHelper/* default */.Z)(rows);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,row=_step.value,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var column=_step2.value,required=column.required,validateFn=column.validateFn,data=column.data,cellType=column.cellType,rowData=hotTableData[row]||{},id=(0,validation/* isEmpty */.xb)(rowData)?null:rowData[uniqueDataKey],dataFromPasteMap=pasteDataMap[id]?pasteDataMap[id][data]:null,cellValue=dataFromPasteMap||this.$getProperty(rowData,data,null)||{},isValidEntry=!0;required&&!(0,validation/* isEmpty */.xb)(validateFn)&&(isValidEntry=validateFn({cellValue:cellValue,cellType:cellType,skipRowValidation:!0}));var isAlreadyInvalid=(cellsErrorMap[id]||[]).includes(data);isAlreadyInvalid||this.pushOrRemoveError({isValidEntry:isValidEntry,isAlreadyInvalid:isAlreadyInvalid,id:id,propName:data})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}(0,validation/* isEmpty */.xb)(cellsErrorMap)||hotInstance.render(),callback((0,validation/* isEmpty */.xb)(cellsErrorMap))},onEnumIconClick:function(rowIndex){this.showEnumInputWizard&&this.showEnumInputWizard(rowIndex)},_showSetInputValues:function(prop){return this.showSetInputValues(prop)}}},newcoms_HotTableWrappervue_type_script_lang_js=HotTableWrappervue_type_script_lang_js,HotTableWrapper_component=(0,componentNormalizer/* default */.Z)(newcoms_HotTableWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,HotTableWrapper=HotTableWrapper_component.exports},
/***/706881:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CurrencyPopOver}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/organizationSetting/currency/CurrencyPopOver.vue?vue&type=template&id=434b446a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showCurrencyField?_c("div",{staticClass:"d-flex"},[_vm.showInfo?_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))]):_vm._e(),_vm.showMultiCurrencyInfo?_c("el-popover",{attrs:{placement:"right",title:_vm.$t("setup.currency.rate"),width:"230",trigger:"hover",content:_vm.currencyContent,"open-delay":5,disabled:_vm.isEmpty(_vm.baseValue)}},[_vm.showInfo?_vm._e():_c("div",{class:[_vm.baseValue&&"pointer"],attrs:{slot:"reference"},slot:"reference"},[_c("div",[_vm._v(_vm._s(""+_vm.getMultiCurrencyFieldValue))]),_c("div",{staticClass:"f12"},[_vm._v(_vm._s(_vm.baseValue))])]),_vm.isBaseCode||!_vm.showInfo||_vm.hideInfoBtn?_vm._e():_c("fc-icon",{staticClass:"pointer info-position mL2",attrs:{slot:"reference",group:"dsm",name:"info",size:"13"},slot:"reference"})],1):_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))])],1):_c("span",[_vm._v("---")])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(990260)),CurrencyUtil=__webpack_require__(15426),vuex_esm=__webpack_require__(420629),CurrencyPopOvervue_type_script_lang_js={props:["field","details","showInfo","hideInfoBtn"],data:function(){return{baseValue:"",isEmpty:validation/* isEmpty */.xb}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account},currencyList:function(state){return state.activeCurrencies}})),{},{showMultiCurrencyInfo:function(){var _ref=this.multiCurrency||{},multiCurrencyEnabled=_ref.multiCurrencyEnabled;return multiCurrencyEnabled},isBaseCode:function(){var _ref2=this.multiCurrency||{},baseCode=_ref2.currencyCode,_ref3=this.details||{},currencyCode=_ref3.currencyCode;return baseCode===currencyCode},showCurrencyField:function(){var currencyValue=this.currencyValue;return!(0,validation/* isEmpty */.xb)(currencyValue)&&"---"!=currencyValue},multiCurrency:function(){var _ref4=this.$getProperty(this.account,"data.currencyInfo")||{},displaySymbol=_ref4.displaySymbol,currencyCode=_ref4.currencyCode,multiCurrencyEnabled=_ref4.multiCurrencyEnabled;return{displaySymbol:displaySymbol,currencyCode:currencyCode,multiCurrencyEnabled:multiCurrencyEnabled}},currencyContent:function(){var details=this.details,currencyValue=this.currencyValue,baseSymbol=this.multiCurrency.displaySymbol;if(!(0,validation/* isEmpty */.xb)(currencyValue)){var _ref5=details||{},exchangeRate=_ref5.exchangeRate,currencyCode=_ref5.currencyCode,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)||currency.displaySymbol===baseSymbol)return null;var _ref6=currency||{},displaySymbol=_ref6.displaySymbol,content="".concat(baseSymbol," 1 = ").concat(displaySymbol," ").concat(exchangeRate);return content}return"---"},currencyValue:function(){var details=this.details,field=this.field,_ref7=details||{},data=_ref7.data;return field.displayValue||details[field.name]||(null===data||void 0===data?void 0:data[field.name])},getMultiCurrencyFieldValue:function(){var currencyValue=this.currencyValue,showInfo=this.showInfo,_this$multiCurrency=this.multiCurrency,baseSymbol=_this$multiCurrency.displaySymbol,baseCode=_this$multiCurrency.currencyCode,multiCurrencyEnabled=_this$multiCurrency.multiCurrencyEnabled,_ref8=this.details||{},currencyCode=_ref8.currencyCode,exchangeRate=_ref8.exchangeRate,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode})),baseCurrency=(this.currencyList||[]).find((function(currency){return baseCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)&&!(0,validation/* isEmpty */.xb)(currencyValue))return"".concat(baseSymbol," ").concat(currencyValue);var _ref9=currency||{},displaySymbol=_ref9.displaySymbol;displaySymbol=(0,validation/* isEmpty */.xb)(displaySymbol)?baseSymbol:displaySymbol;var baseValue="";if(multiCurrencyEnabled&&baseCode!==currencyCode){var value=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue/exchangeRate,baseCurrency);baseValue="( ".concat(baseSymbol," ").concat(value," )")}return currencyValue=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue,currency),this.setBaseValue(baseValue),showInfo?"".concat(displaySymbol," ").concat(currencyValue," ").concat(baseValue):"".concat(displaySymbol," ").concat(currencyValue)}}),created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$store.dispatch("getActiveCurrencyList");case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{setBaseValue:function(value){this.baseValue=value}}},currency_CurrencyPopOvervue_type_script_lang_js=CurrencyPopOvervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(currency_CurrencyPopOvervue_type_script_lang_js,render,staticRenderFns,!1,null,"434b446a",null)
/* harmony default export */,CurrencyPopOver=component.exports},
/***/345265:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"35079cf978684c9b6a17e182df923ff5.svg";
/***/},
/***/293656:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e179f34e6169d9164845bf6c1d403c8e.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/30684:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"52c2ff301190417db7febd08d4cd5153.svg";
/***/},
/***/572902:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"db5324b7cf9058a0aa45899e55bf6444.svg";
/***/},
/***/754125:
/***/function(module,__unused_webpack_exports,__webpack_require__){var map={"./af":702525,"./af.js":702525,"./ar":689102,"./ar-dz":463778,"./ar-dz.js":463778,"./ar-kw":410960,"./ar-kw.js":410960,"./ar-ly":281490,"./ar-ly.js":281490,"./ar-ma":985507,"./ar-ma.js":985507,"./ar-sa":224042,"./ar-sa.js":224042,"./ar-tn":191523,"./ar-tn.js":191523,"./ar.js":689102,"./az":938365,"./az.js":938365,"./be":544860,"./be.js":544860,"./bg":709904,"./bg.js":709904,"./bm":660952,"./bm.js":660952,"./bn":709807,"./bn.js":709807,"./bo":858437,"./bo.js":858437,"./br":784557,"./br.js":784557,"./bs":979332,"./bs.js":979332,"./ca":493667,"./ca.js":493667,"./cs":276860,"./cs.js":276860,"./cv":515427,"./cv.js":515427,"./cy":158863,"./cy.js":158863,"./da":513520,"./da.js":513520,"./de":112111,"./de-at":30464,"./de-at.js":30464,"./de-ch":750701,"./de-ch.js":750701,"./de.js":112111,"./dv":494438,"./dv.js":494438,"./el":33121,"./el.js":33121,"./en-au":849197,"./en-au.js":849197,"./en-ca":753885,"./en-ca.js":753885,"./en-gb":551914,"./en-gb.js":551914,"./en-ie":880938,"./en-ie.js":880938,"./en-nz":619722,"./en-nz.js":619722,"./eo":742783,"./eo.js":742783,"./es":56820,"./es-do":559651,"./es-do.js":559651,"./es-us":146018,"./es-us.js":146018,"./es.js":56820,"./et":818686,"./et.js":818686,"./eu":831323,"./eu.js":831323,"./fa":261885,"./fa.js":261885,"./fi":263741,"./fi.js":263741,"./fo":219961,"./fo.js":219961,"./fr":802800,"./fr-ca":388121,"./fr-ca.js":388121,"./fr-ch":427979,"./fr-ch.js":427979,"./fr.js":802800,"./fy":428930,"./fy.js":428930,"./gd":695513,"./gd.js":695513,"./gl":224485,"./gl.js":224485,"./gom-latn":703878,"./gom-latn.js":703878,"./gu":25435,"./gu.js":25435,"./he":862825,"./he.js":862825,"./hi":727282,"./hi.js":727282,"./hr":402438,"./hr.js":402438,"./hu":591310,"./hu.js":591310,"./hy-am":614794,"./hy-am.js":614794,"./id":108761,"./id.js":108761,"./is":256593,"./is.js":256593,"./it":272196,"./it.js":272196,"./ja":812645,"./ja.js":812645,"./jv":471869,"./jv.js":471869,"./ka":174093,"./ka.js":174093,"./kk":919794,"./kk.js":919794,"./km":792637,"./km.js":792637,"./kn":828684,"./kn.js":828684,"./ko":94565,"./ko.js":94565,"./ky":465606,"./ky.js":465606,"./lb":472027,"./lb.js":472027,"./lo":280366,"./lo.js":280366,"./lt":327311,"./lt.js":327311,"./lv":531851,"./lv.js":531851,"./me":952700,"./me.js":952700,"./mi":673575,"./mi.js":673575,"./mk":195509,"./mk.js":195509,"./ml":429866,"./ml.js":429866,"./mr":713798,"./mr.js":713798,"./ms":526848,"./ms-my":701212,"./ms-my.js":701212,"./ms.js":526848,"./mt":863181,"./mt.js":863181,"./my":63977,"./my.js":63977,"./nb":47248,"./nb.js":47248,"./ne":891859,"./ne.js":891859,"./nl":127058,"./nl-be":66901,"./nl-be.js":66901,"./nl.js":127058,"./nn":561748,"./nn.js":561748,"./pa-in":634266,"./pa-in.js":634266,"./pl":79581,"./pl.js":79581,"./pt":687410,"./pt-br":906114,"./pt-br.js":906114,"./pt.js":687410,"./ro":138295,"./ro.js":138295,"./ru":539862,"./ru.js":539862,"./sd":59548,"./sd.js":59548,"./se":293236,"./se.js":293236,"./si":340289,"./si.js":340289,"./sk":658339,"./sk.js":658339,"./sl":574170,"./sl.js":574170,"./sq":615316,"./sq.js":615316,"./sr":668791,"./sr-cyrl":447630,"./sr-cyrl.js":447630,"./sr.js":668791,"./ss":65773,"./ss.js":65773,"./sv":731159,"./sv.js":731159,"./sw":422329,"./sw.js":422329,"./ta":267054,"./ta.js":267054,"./te":971280,"./te.js":971280,"./tet":154120,"./tet.js":154120,"./th":254679,"./th.js":254679,"./tl-ph":63270,"./tl-ph.js":63270,"./tlh":845386,"./tlh.js":845386,"./tr":664669,"./tr.js":664669,"./tzl":691434,"./tzl.js":691434,"./tzm":57217,"./tzm-latn":547665,"./tzm-latn.js":547665,"./tzm.js":57217,"./uk":969596,"./uk.js":969596,"./ur":985133,"./ur.js":985133,"./uz":349456,"./uz-latn":978737,"./uz-latn.js":978737,"./uz.js":349456,"./vi":905577,"./vi.js":905577,"./x-pseudo":464564,"./x-pseudo.js":464564,"./yo":68854,"./yo.js":68854,"./zh-cn":795817,"./zh-cn.js":795817,"./zh-hk":266634,"./zh-hk.js":266634,"./zh-tw":749292,"./zh-tw.js":749292};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=754125},
/***/567835:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
// Module
var code='<svg width="17" height="11" viewBox="0 0 17 11" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" stroke-linecap="round"><g id="Approval-Task-Page-Copy" transform="translate(-1224 -105)" stroke="#333" stroke-width="1.8"><g id="Filter" transform="translate(1225 105)"><path d="M.5 1.5h14" id="Line-11"/><path d="M.5 5.5H12" id="Line-11-Copy"/><path d="M.5 9.5h8" id="Line-11-Copy-2"/></g></g></g></svg>';
// Exports
/* harmony default export */__webpack_exports__["default"]=code},
/***/271741:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
// Module
var code='<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g transform="translate(32 .5)" fill="currentcolor" fill-rule="nonzero" id="lookup" stroke="none" stroke-width="1"><path d="M183.466 480.932c0 10.704-8.71 15.247-19.492 15.247H78.082C20.151 496.179 0 480.932 0 418.65V77.528C0 17.254 15.553 0 78.082 0h239.999c62.999 0 78.082 14.659 78.082 77.528v185.098c0 10.705-4.305 20.37-15.083 20.37-10.782 0-14.915-9.665-14.915-20.37V77.528c0-38.847-5.615-47.576-48.084-47.576H78.082c-39.68 0-47.917 13.097-47.917 47.576V418.65c0 40.768 6.732 47.518 47.917 47.518h85.892c10.782 0 19.492 4.058 19.492 14.763z" id="Path"/><path d="M298.56 116.292H97.497c-10.782 0-19.52 6.637-19.52 14.827 0 8.19 8.738 14.828 19.52 14.828H298.56c10.78 0 19.522-6.638 19.522-14.828s-8.743-14.827-19.522-14.827zm19.522 92.355c0-8.19-8.744-14.827-19.523-14.827H97.498c-10.782 0-19.52 6.637-19.52 14.827 0 8.19 8.738 14.827 19.52 14.827H298.56c10.78 0 19.522-6.637 19.522-14.827zm-220.584 62.7c-10.783 0-19.522 6.639-19.522 14.828 0 8.19 8.739 14.827 19.52 14.827h102.592c10.782 0 19.52-6.637 19.52-14.827 0-8.19-8.74-14.827-19.52-14.827H97.497z" id="Shape"/><path d="M313.307 293.274c31.684 0 62.96 12.212 92.762 35.826a230.97 230.97 0 0111.047 9.343c13.134 11.819 22.4 22.164 33.691 36.212l.773.963c.603.753 1.29 1.656 2.058 2.693l.897 1.222.937 1.295 1.133 1.59c8.391 11.835 8.391 27.68.026 39.48l-1.116 1.57c-1.147 1.6-2.36 3.25-3.376 4.56l-.558.709-1.538 1.914c-10.94 13.558-20.096 23.715-32.938 35.267a231.043 231.043 0 01-11.036 9.333c-29.8 23.615-61.078 35.827-92.762 35.827-31.683 0-62.96-12.211-92.761-35.826a230.993 230.993 0 01-11.047-9.343c-12.837-11.55-21.989-21.705-32.928-35.264l-1.54-1.914-.466-.592a121.78 121.78 0 01-2.179-2.9l-.745-1.024c-.288-.398-.569-.789-.841-1.17l-.792-1.113a34.168 34.168 0 01-.003-39.513l.802-1.126.412-.575.859-1.187.899-1.225a91.05 91.05 0 012.059-2.693l.792-.988c14.496-18.03 27.043-31.52 44.717-45.524 29.801-23.615 61.079-35.827 92.762-35.827zm0 29.8c-24.536 0-49.45 9.727-74.255 29.383-15.22 12.06-26.349 23.94-39.232 39.888l-1.671 2.08-.324.417c-.743.966-1.739 2.33-2.78 3.786l-.725 1.02a4.37 4.37 0 00.002 5.056l1.089 1.526c.899 1.251 1.757 2.42 2.414 3.276l.473.605 1.479 1.84c10.016 12.41 18.255 21.549 29.654 31.806a201.246 201.246 0 009.621 8.139c24.806 19.655 49.72 29.383 74.255 29.383 24.536 0 49.45-9.728 74.255-29.384a201.302 201.302 0 009.613-8.13c11.675-10.504 20.036-19.834 30.372-32.69l.911-1.14.34-.438c.664-.867 1.54-2.06 2.385-3.236l1.112-1.562a4.368 4.368 0 00-.01-5.06l-.931-1.309c-1.171-1.633-2.325-3.2-3.036-4.087l-.744-.927-1.54-1.908c-9.667-11.92-17.758-20.832-28.85-30.813a201.224 201.224 0 00-9.622-8.138c-24.806-19.656-49.719-29.383-74.255-29.383z" id="Path"/><path d="M313.6 365.35c-16.497 0-29.867 13.276-29.867 29.655 0 16.378 13.37 29.654 29.867 29.654s29.867-13.276 29.867-29.654c0-16.379-13.37-29.654-29.867-29.654z" id="Path"/></g></svg>';
// Exports
/* harmony default export */__webpack_exports__["default"]=code},
/***/15482:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/noData-light.3b5d6592.png"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/51942.js.map