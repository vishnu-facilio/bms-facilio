"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[69439],{
/***/569439:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ChildRelationListWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/ChildRelationListWidget.vue?vue&type=template&id=bcb7f4a6
var SpecialModules_render,SpecialModules_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"related-list-container"},[_c("div",{staticClass:"related-list-header"},[_c("div",{staticClass:"header"},[_c("div",{staticClass:"widget-title d-flex flex-direction-column justify-center"},[_vm._v(" "+_vm._s(_vm.$t("common.header.dependent"))+" "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" ")]),_vm.showMainFieldSearch?_c("el-input",{ref:"mainFieldSearchInput",staticClass:"fc-input-full-border2 width-auto mL-auto",attrs:{"suffix-icon":"el-icon-search"},on:{blur:_vm.hideMainFieldSearch},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}):_c("span",{staticClass:"self-center mL-auto",on:{click:_vm.openMainFieldSearch}},[_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm mT5 mR5 search-icon"}})],1),_vm.$validation.isEmpty(_vm.totalCount)||_vm.$validation.isEmpty(_vm.modulesList)?_vm._e():_c("span",{staticClass:"separator self-center"},[_vm._v(" | ")]),_c("pagination",{staticClass:"self-center",attrs:{currentPage:_vm.page,total:_vm.totalCount,perPage:_vm.perPage},on:{"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}}),_vm.isNotPortal?[_c("span",{staticClass:"separator self-center"},[_vm._v("|")]),_c("div",{staticClass:"self-center mR20"},[_c("el-dropdown",{attrs:{trigger:"click"}},[_c("div",{ref:"",staticClass:"flex-middle"},[_c("i",{staticClass:"el-icon-plus pointer mL-auto text-fc-pink"}),_c("span",{staticClass:"pointer mL-auto text-fc-pink child-add "},[_vm._v(_vm._s(_vm.$t("common._common.add")))])]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",[_c("div",{on:{click:_vm.showUpdateParentDialog}},[_vm._v(" "+_vm._s(_vm.$t("common.header.existing_workorder"))+" ")])]),_c("el-dropdown-item",[_c("div",{on:{click:_vm.openWoCreation}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.new_workorder"))+" ")])])],1)],1)],1)]:_vm._e()],2)]),_c("div",[_c("div",{staticClass:"fc-list-view fc-table-td-height"},[_vm.isLoading?_c("div",{staticClass:"loading-container d-flex justify-content-center"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_vm._e(),_vm.$validation.isEmpty(_vm.modulesList)&&!_vm.isLoading?_c("div",{staticClass:"flex-middle justify-content-center flex-col pT70 pB80"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/workorder",iconClass:"icon text-center icon-xxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_module_available",{moduleName:_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName}))+" ")])],1):_vm._e(),_vm.isLoading||_vm.$validation.isEmpty(_vm.modulesList)?_vm._e():_c("div",{staticClass:"view-column-select",on:{click:function($event){_vm.showColumnSettings=!0}}},[_c("img",{staticStyle:{"text-align":"center",position:"absolute",top:"35%",right:"29%"},attrs:{src:__webpack_require__(266707)}})]),_vm.isLoading||_vm.$validation.isEmpty(_vm.modulesList)?_vm._e():_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"300"}},[_vm.$validation.isEmpty(_vm.mainFieldColumn)?_vm._e():_c("el-table-column",{attrs:{label:_vm.mainFieldColumn.displayName,prop:_vm.mainFieldColumn.name,fixed:"","min-width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"table-subheading"},[_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"self-center name bold",on:{click:function($event){return _vm.redirectToOverview(item.row)}}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(_vm.mainFieldColumn,item.row)||"---")+" ")])])])]}}],null,!1,1027214270)}),_vm._l(_vm.filteredViewColumns,(function(field,index){return _c("el-table-column",{key:index,attrs:{prop:field.name,label:field.displayName,align:"DECIMAL"===field.field.dataTypeEnum?"right":"left","min-width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"table-subheading",class:{"text-right":"DECIMAL"===field.field.dataTypeEnum},on:{click:function($event){return _vm.redirectToOverview(scope.row)}}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,scope.row)||"---")+" ")])]}}],null,!0)})})),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"text-center"},[_c("span",{on:{click:function($event){return _vm.invokeDeleteDialog(item.row)}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color visibility-hide-actions mL10",attrs:{src:"svgs/delete",iconClass:"icon icon-sm icon-remove"}})],1)])]}}],null,!1,313244813)})],2)],1)])]),_vm.canShowWizard?_c("WoParentIdUpdateDialog",{attrs:{canShowWoWizard:_vm.canShowWizard,parentWOId:_vm.id},on:{"update:canShowWoWizard":function($event){_vm.canShowWizard=$event},"update:can-show-wo-wizard":function($event){_vm.canShowWizard=$event},updatedItems:_vm.updateItems}}):_vm._e(),_c("el-dialog",{staticClass:"dialog-d",attrs:{visible:_vm.showDeleteDialog,"custom-class":"setup-dialog45","show-close":!1},on:{"update:visible":function($event){_vm.showDeleteDialog=$event}}},[_c("div",{staticClass:"text-center fc-black-20"},[_vm._v(" "+_vm._s(_vm.$t("common._common.do_you_want_to_delete"))+" "+_vm._s(_vm.moduleName?_vm.moduleName:"")+" ? ")]),_c("span",{staticClass:"fc-dialog-center-container delete-dialog-footer padding-px18",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{on:{click:function($event){_vm.showDeleteDialog=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"delete-dissociate-buttons",on:{click:function($event){return _vm.dissociateItem()}}},[_vm._v(_vm._s(_vm.$t("common._common.dissociate")))]),_c("el-button",{staticClass:"delete-dissociate-buttons",on:{click:function($event){return _vm.deleteItemFromList()}}},[_vm._v(_vm._s(_vm.$t("common.wo_report.move_to_recycle")))])],1)]),_c("column-customization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.moduleName,viewName:"hidden-all",columnConfig:_vm.columnConfig,relatedViewDetail:_vm.viewDetail,relatedMetaInfo:_vm.metaInfo},on:{"update:visible":function($event){_vm.showColumnSettings=$event},refreshRelatedList:_vm.refreshRelatedList}})],1)},staticRenderFns=[],RelatedListWidget=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(162506),__webpack_require__(648324),__webpack_require__(77645)),ColumnCustomization=__webpack_require__(490966),ParentUpdateViewervue_type_template_id_702b860a_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container f-lookup-wizard scale-up-center",attrs:{visible:_vm.canShowWizard,width:"70%",top:"5vh","append-to-body":!0,"show-close":!1,"before-close":_vm.resetDefaultValues},on:{"update:visible":function($event){_vm.canShowWizard=$event}}},[_c("template",{slot:"title"},[_c("div",{staticClass:"header d-flex"},[_c("div",{staticClass:"el-dialog__title self-center"},[_vm._v(_vm._s(_vm.title))]),_vm.showMainFieldSearch&&!_vm.hidePaginationSearch?_c("el-input",{ref:"mainFieldSearchInput",staticClass:"fc-input-full-border2 width-auto mL-auto",attrs:{"suffix-icon":"el-icon-search"},on:{blur:_vm.hideMainFieldSearch},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}):_vm.hidePaginationSearch?_vm._e():_c("span",{staticClass:"self-center mL-auto",on:{click:_vm.openMainFieldSearch}},[_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm mT5 mR5 search-icon"}})],1),_vm.hidePaginationSearch||_vm.$validation.isEmpty(_vm.totalCount)?_vm._e():_c("span",{staticClass:"separator self-center"},[_vm._v("|")]),_vm.hidePaginationSearch?_vm._e():_c("pagination",{staticClass:"self-center",attrs:{currentPage:_vm.page,total:_vm.totalCount,perPage:_vm.perPage},on:{"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}}),_vm.$validation.isEmpty(_vm.totalCount)||_vm.hidePaginationSearch?_vm._e():_c("span",{staticClass:"separator pL0 self-center"},[_vm._v("|")]),_c("div",{staticClass:"close-btn self-center cursor-pointer",class:_vm.hidePaginationSearch?"mL-auto":"",on:{click:function($event){_vm.canShowWizard=!1}}},[_c("i",{staticClass:"el-dialog__close el-icon el-icon-close"})])],1)]),_c("div",[_vm.isLoading?_c("div",{staticClass:"loading-container d-flex justify-content-center height550"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("div",{staticClass:"height550"},[_c("div",{staticClass:"fc-list-view fc-list-table-container fc-table-td-height fc-table-viewchooser"},[_vm.isUserLookupModule||_vm.viewDetailsExcludedModules.includes(_vm.moduleName)?_c("div",[_c((_vm.specialListComponentMap[_vm.moduleName]||{}).componentName,{tag:"component",attrs:{modulesList:_vm.modulesList,moduleDisplayName:_vm.moduleDisplayName,moduleName:_vm.moduleName,selectedItemId:_vm.selectedItemId},on:{"update:selectedItemId":function($event){_vm.selectedItemId=$event},"update:selected-item-id":function($event){_vm.selectedItemId=$event},setSelectedItem:_vm.setSelectedItem}})],1):_c("div",[_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"250"},on:{"selection-change":_vm.selectedItems}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_module_available",{moduleName:_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName}))+" ")])]),_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""}}),_vm.$validation.isEmpty(_vm.mainFieldColumn)?_vm._e():_c("el-table-column",{attrs:{label:_vm.mainFieldColumn.displayName,prop:_vm.mainFieldColumn.name,fixed:"","min-width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"table-subheading"},[_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"self-center name bold"},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(_vm.mainFieldColumn,item.row)||"---")+" ")])])])]}}],null,!1,1171689774)}),_vm._l(_vm.filteredViewColumns,(function(field,index){return _c("el-table-column",{key:index,attrs:{prop:field.name,label:field.displayName,align:"DECIMAL"===field.field.dataTypeEnum?"right":"left","min-width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_vm.isSpecialHandlingField(field)?_c("keep-alive",[_c((_vm.listComponentsMap[_vm.moduleName]||{}).componentName,{tag:"component",attrs:{field:field,moduleData:scope.row}})],1):_c("div",{staticClass:"table-subheading",class:{"text-right":"DECIMAL"===field.field.dataTypeEnum}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,scope.row)||"---")+" ")])]}}],null,!0)})}))],2),_vm.$validation.isEmpty(_vm.selectedItemName)?_vm._e():_c("div",{staticClass:"pT20 pL20 pB10 fc-black-color letter-spacing0_5 f13 bold"},[_vm._v(" "+_vm._s(_vm.selectedLabel)+" "+_vm._s(_vm.selectedItemName)+" ")])],1)])])]),_vm.isLoading?_vm._e():_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.canShowWizard=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.updateWos()}}},[_vm._v(_vm._s(_vm.$t("common._common.update")))])],1)],2)},ParentUpdateViewervue_type_template_id_702b860a_staticRenderFns=[],constant=(__webpack_require__(634338),__webpack_require__(354754)),WorkOrderSpecialFieldsList=__webpack_require__(786113),validation=__webpack_require__(990260),Spinner=__webpack_require__(604947),UserSpecialFieldsvue_type_template_id_13e9c638_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-table",{ref:"listTable",staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"100%"},on:{"selection-change":_vm.handleSelection}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" No "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" available. ")])]),_vm.multiSelect?_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""}}):_c("el-table-column",{attrs:{fixed:"",width:"60"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.row.id},on:{change:_vm.setSelectedItem},model:{value:_vm.selectedId,callback:function($$v){_vm.selectedId=$$v},expression:"selectedId"}})],1)]}}])}),_c("el-table-column",{attrs:{label:"Name",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.name))])]}}])}),_c("el-table-column",{attrs:{label:"Email",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.email))])]}}])}),_c("el-table-column",{attrs:{label:"Role",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.role.name))])]}}])}),_c("el-table-column",{attrs:{label:"Status",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[item.row.role&&"Super Administrator"===item.row.role.name?_c("div",[_c("el-switch",{staticClass:"Notification-toggle",attrs:{disabled:"","active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},model:{value:item.row.userStatus,callback:function($$v){_vm.$set(item.row,"userStatus",$$v)},expression:"item.row.userStatus"}})],1):_c("div",[item.row.userStatus?_c("el-switch",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"Notification-",attrs:{"data-arrow":"true",title:_vm.$t("setup.users_management.user_status"),"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5",disabled:""},model:{value:item.row.userStatus,callback:function($$v){_vm.$set(item.row,"userStatus",$$v)},expression:"item.row.userStatus"}}):_c("el-switch",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"Notification-",attrs:{"data-arrow":"true",title:_vm.$t("setup.users_management.exceedeed_users"),"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5",disabled:""},model:{value:item.row.userStatus,callback:function($$v){_vm.$set(item.row,"userStatus",$$v)},expression:"item.row.userStatus"}})],1)]}}])})],2)],1)},UserSpecialFieldsvue_type_template_id_13e9c638_staticRenderFns=[],User=__webpack_require__(426803),SpecialModulesvue_type_script_lang_js={props:["modulesList","moduleDisplayName","moduleName","selectedItemId"],components:{UserAvatar:User/* default */.Z},computed:{selectedId:{get:function(){return this.selectedItemId},set:function(value){this.$emit("update:selectedItemId",value)}}},methods:{setSelectedItem:function(){this.$emit("setSelectedItem")}}},base_SpecialModulesvue_type_script_lang_js=SpecialModulesvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_SpecialModulesvue_type_script_lang_js,SpecialModules_render,SpecialModules_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpecialModules=component.exports,UserSpecialFieldsvue_type_script_lang_js={extends:SpecialModules,props:["multiSelect","handleSelection"]},list_UserSpecialFieldsvue_type_script_lang_js=UserSpecialFieldsvue_type_script_lang_js,UserSpecialFields_component=(0,componentNormalizer/* default */.Z)(list_UserSpecialFieldsvue_type_script_lang_js,UserSpecialFieldsvue_type_template_id_13e9c638_render,UserSpecialFieldsvue_type_template_id_13e9c638_staticRenderFns,!1,null,null,null)
/* harmony default export */,UserSpecialFields=UserSpecialFields_component.exports,BuildingSpecialFieldsvue_type_template_id_d06ee7cc_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-table",{ref:"listTable",staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"100%"},on:{"selection-change":_vm.handleSelection}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" No "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" available. ")])]),_vm.multiSelect?_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""}}):_c("el-table-column",{attrs:{fixed:"",width:"60"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.row.id},on:{change:_vm.setSelectedItem},model:{value:_vm.selectedId,callback:function($$v){_vm.selectedId=$$v},expression:"selectedId"}})],1)]}}])}),_c("el-table-column",{attrs:{label:"Name",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.name))])]}}])}),_c("el-table-column",{attrs:{label:"Managed by",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[116===_vm.$org.id?_c("div",[_vm._v(" "+_vm._s(item.row.data?item.row.data.ownedBy:"---")+" ")]):_c("div",[item.row.managedBy&&item.row.managedBy.id>0?_c("div",[_c("user-avatar",{attrs:{size:"sm",user:_vm.$store.getters.getUser(item.row.managedBy.id)}})],1):_c("div",[_vm._v("---")])])]}}])}),_c("el-table-column",{attrs:{label:"Floors",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.noOfFloors>0?item.row.noOfFloors:"---"))])]}}])}),_c("el-table-column",{attrs:{label:"Current / max occupancy",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(" "+_vm._s(item.row.maxOccupancy>0?item.row.maxOccupancy:"---")+" ")])]}}])}),_c("el-table-column",{attrs:{label:"Area",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(_vm.$util.formateSqft(item.row.area)))])]}}])})],2)],1)},BuildingSpecialFieldsvue_type_template_id_d06ee7cc_staticRenderFns=[],BuildingSpecialFieldsvue_type_script_lang_js={extends:SpecialModules,props:["multiSelect","handleSelection"]},list_BuildingSpecialFieldsvue_type_script_lang_js=BuildingSpecialFieldsvue_type_script_lang_js,BuildingSpecialFields_component=(0,componentNormalizer/* default */.Z)(list_BuildingSpecialFieldsvue_type_script_lang_js,BuildingSpecialFieldsvue_type_template_id_d06ee7cc_render,BuildingSpecialFieldsvue_type_template_id_d06ee7cc_staticRenderFns,!1,null,null,null)
/* harmony default export */,BuildingSpecialFields=BuildingSpecialFields_component.exports,SiteSpecialFieldsvue_type_template_id_6c31e32e_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-table",{ref:"listTable",staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"100%"},on:{"selection-change":_vm.handleSelection}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" No "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" available. ")])]),_vm.multiSelect?_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""}}):_c("el-table-column",{attrs:{fixed:"",width:"60"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.row.id},on:{change:_vm.setSelectedItem},model:{value:_vm.selectedId,callback:function($$v){_vm.selectedId=$$v},expression:"selectedId"}})],1)]}}])}),_c("el-table-column",{attrs:{label:"Name",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.name))])]}}])}),_c("el-table-column",{attrs:{label:"Managed by",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[116===_vm.$org.id?_c("div",[_vm._v(" "+_vm._s(item.row.data&&item.row.data.ownedBy?item.row.data.ownedBy:item.row.data&&item.row.data.maintainedBy?item.row.data.maintainedBy:"---")+" ")]):_c("div",[item.row.managedBy&&item.row.managedBy.id?_c("div",[_c("user-avatar",{attrs:{size:"md",user:_vm.$store.getters.getUser(item.row.managedBy.id)}})],1):_c("div",[_vm._v("---")])])]}}])}),_c("el-table-column",{attrs:{label:"Floor area / Total area",width:"240"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(" "+_vm._s(_vm.$util.formateSqft(item.row.grossFloorArea)+" / "+_vm.$util.formateSqft(item.row.area))+" ")])]}}])})],2)],1)},SiteSpecialFieldsvue_type_template_id_6c31e32e_staticRenderFns=[],SiteSpecialFieldsvue_type_script_lang_js={extends:SpecialModules,props:["multiSelect","handleSelection"]},list_SiteSpecialFieldsvue_type_script_lang_js=SiteSpecialFieldsvue_type_script_lang_js,SiteSpecialFields_component=(0,componentNormalizer/* default */.Z)(list_SiteSpecialFieldsvue_type_script_lang_js,SiteSpecialFieldsvue_type_template_id_6c31e32e_render,SiteSpecialFieldsvue_type_template_id_6c31e32e_staticRenderFns,!1,null,null,null)
/* harmony default export */,SiteSpecialFields=SiteSpecialFields_component.exports,SpaceSpecialFieldsvue_type_template_id_d245465e_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-table",{ref:"listTable",staticStyle:{width:"100%"},attrs:{data:_vm.modulesList,fit:!0,height:"100%"},on:{"selection-change":_vm.handleSelection}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" No "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" available. ")])]),_vm.multiSelect?_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""}}):_vm._e(),_vm.multiSelect?_vm._e():_c("el-table-column",{attrs:{fixed:"",width:"60"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.row.id},on:{change:_vm.setSelectedItem},model:{value:_vm.selectedId,callback:function($$v){_vm.selectedId=$$v},expression:"selectedId"}})],1)]}}],null,!1,1232746897)}),_c("el-table-column",{attrs:{label:"Name",width:"333"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(_vm._s(item.row.name))])]}}])}),_c("el-table-column",{attrs:{label:"Category",width:"333"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(" "+_vm._s(item.row.spaceCategory&&_vm.spaceCategories&&item.row.spaceCategory.id>-1?_vm.spaceCategories[item.row.spaceCategory.id]:"---")+" ")])]}}])}),_c("el-table-column",{attrs:{label:"Area",width:"333"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",[_vm._v(" "+_vm._s(item.row.area?_vm.$util.formateSqft(item.row.area):"---")+" ")])]}}])})],2)},SpaceSpecialFieldsvue_type_template_id_d245465e_staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=__webpack_require__(420629),SpaceSpecialFieldsvue_type_script_lang_js={extends:SpecialModules,props:["multiSelect","handleSelection"],created:function(){this.$store.dispatch("loadSpaceCategory")},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getSpaceCategoryPickList"])),{},{spaceCategories:function(){return this.getSpaceCategoryPickList()}})},list_SpaceSpecialFieldsvue_type_script_lang_js=SpaceSpecialFieldsvue_type_script_lang_js,SpaceSpecialFields_component=(0,componentNormalizer/* default */.Z)(list_SpaceSpecialFieldsvue_type_script_lang_js,SpaceSpecialFieldsvue_type_template_id_d245465e_render,SpaceSpecialFieldsvue_type_template_id_d245465e_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceSpecialFields=SpaceSpecialFields_component.exports,ParentUpdateViewervue_type_script_lang_js={name:"ParentUpdateViewer",components:{Spinner:Spinner/* default */.Z},extends:RelatedListWidget/* default */.Z,props:["canShowWoWizard","siteId","parentWOId"],computed:{canShowWizard:{get:function(){return this.canShowWoWizard},set:function(value){this.$emit("update:canShowWoWizard",value)}},moduleDisplayName:function(){return"Work Order"},moduleName:function(){return"workorder"},filters:function(){var mainField=this.mainField,searchText=this.searchText,filterObj={};
// search filter
if(!(0,validation/* isEmpty */.xb)(mainField)&&!(0,validation/* isEmpty */.xb)(searchText)&&searchText.length>0){var name=mainField.name,field=mainField.field,dataTypeEnum=field.dataTypeEnum,value=[searchText],operatorId=constant/* default */.Z.FILTER_OPERATORID_HASH[dataTypeEnum];filterObj[name]={operatorId:operatorId,value:value}}return filterObj.parentWO={operatorId:37,value:["".concat(this.parentWOId)]},filterObj},title:function(){var moduleDisplayName=this.moduleDisplayName;return"".concat(this.$t("common.text.choose")," ").concat(moduleDisplayName)},selectedLabel:function(){var moduleDisplayName=this.moduleDisplayName;return"Selected ".concat(moduleDisplayName," :")},selectedItem:function(){var selectedItemId=this.selectedItemId,modulesList=this.modulesList,selectedItem=null;return(0,validation/* isEmpty */.xb)(selectedItemId)||(selectedItem=modulesList.find((function(module){return module.id===selectedItemId}))),selectedItem},selectedItemName:function(){var selectedItem=this.selectedItem,mainField=this.mainField;(0,validation/* isEmpty */.xb)(mainField)||(mainField={name:"name"});var _mainField=mainField,name=_mainField.name;return selectedItem?selectedItem[name]:null}},data:function(){return{selectedItemId:null,selectedWos:[],defaultHideColumns:["photo","moduleState","stateFlowId"],specialListComponentMap:{users:{componentName:UserSpecialFields},building:{componentName:BuildingSpecialFields},site:{componentName:SiteSpecialFields},space:{componentName:SpaceSpecialFields}},listComponentsMap:{workorder:{componentName:WorkOrderSpecialFieldsList/* default */.Z,specialHandlingFields:["resource","assignedTo","noOfNotes","noOfTasks","noOfAttachments"]}}}},created:function(){this.init()},methods:{selectedItems:function(selectedItem){this.selectedWos=selectedItem},updateWos:function(){var _this=this;if(this.selectedWos.length){var ids=[];this.selectedWos.filter((function(wo){ids.push(wo.id)}));var updateObj={id:ids,fields:{parentWO:{id:parseInt(this.parentWOId)||-1}}};this.$store.dispatch("workorder/updateWorkOrder",updateObj).then((function(response){_this.$nextTick((function(){_this.$emit("updatedItems",_this.selectedWos),_this.canShowWizard=!1})),_this.$message.success(_this.$t("common._common.updated_successfully"))})).catch((function(){_this.$message.success("Failed")}))}},setSelectedItem:function(){this.selectedItem;var mainField=this.mainField;(0,validation/* isEmpty */.xb)(mainField)&&(mainField={name:"name"}),
// this.$emit('setLookupFieldValue', selectedItem, mainField)
this.canShowWizard=!1},resetDefaultValues:function(){this.$set(this,"showMainFieldSearch",!1)}}},relatedlist_ParentUpdateViewervue_type_script_lang_js=ParentUpdateViewervue_type_script_lang_js,ParentUpdateViewer_component=(0,componentNormalizer/* default */.Z)(relatedlist_ParentUpdateViewervue_type_script_lang_js,ParentUpdateViewervue_type_template_id_702b860a_render,ParentUpdateViewervue_type_template_id_702b860a_staticRenderFns,!1,null,null,null)
/* harmony default export */,ParentUpdateViewer=ParentUpdateViewer_component.exports,eventBus=__webpack_require__(398011),router=__webpack_require__(329435),ChildRelationListWidgetvue_type_script_lang_js={name:"ChildRelationListWidget",props:["widget","details"],extends:RelatedListWidget/* default */.Z,components:{Spinner:Spinner/* default */.Z,WoParentIdUpdateDialog:ParentUpdateViewer,ColumnCustomization:ColumnCustomization/* default */.Z},data:function(){return{relatedList:[],showColumnSettings:!1,itemToDeleteOrDissociate:{},showDeleteDialog:!1,canShowWizard:!1,deleteItem:{},quickSearchQueries:null,defaultHideColumns:["photo","moduleState","stateFlowId"],columnConfig:{fixedColumns:["subject"],fixedSelectableColumns:["noOfNotes","noOfTasks","noOfAttachments","attachmentPreview"],availableColumns:["category","description","dueDate","status","sourceType","assignedTo","createdTime","priority","resource","type","modifiedTime","actualWorkStart","actualWorkEnd","totalCost",this.$helpers.isLicenseEnabled("TENANTS")?"tenant":""],showLookupColumns:!1,lookupToShow:["resource",this.$helpers.isLicenseEnabled("TENANTS")?"tenant":""]}}},created:function(){this.init()},mounted:function(){var _this=this;eventBus/* eventBus */.Y.$on("refresh-related-list",(function(){_this.refreshRelatedList()}))},computed:{parentModuleName:function(){return this.$attrs.moduleName},moduleName:function(){return"workorder"},moduleDisplayName:function(){return"Work Orders"},id:function(){return this.details.id},filters:function(){var mainField=this.mainField,searchText=this.searchText,moduleName=this.moduleName,filterObj={};
// search filter
if(!(0,validation/* isEmpty */.xb)(mainField)&&!(0,validation/* isEmpty */.xb)(searchText)&&searchText.length>0){var name=mainField.name,field=mainField.field,dataTypeEnum=field.dataTypeEnum,value=[searchText],operatorId=constant/* default */.Z.FILTER_OPERATORID_HASH[dataTypeEnum];filterObj[name]={operatorId:operatorId,value:value}}
// special filter
return"workorder"===moduleName&&"quote"===this.$getProperty(this,"selectedLookupField.field.module.name","")&&(filterObj["isQuotationNeeded"]={operatorId:15,value:[String(!0)]}),
// main filter
filterObj["parentWO"]={operatorId:36,value:["".concat(this.id)]},filterObj},isNotPortal:function(){var PORTALS=constant/* default */.Z.appCategory.PORTALS,_getApp=(0,router/* getApp */.wx)(),appCategory=_getApp.appCategory;return appCategory!==PORTALS}},methods:{refreshRelatedList:function(){this.loadData()},openWoCreation:function(){var parentWO=this.id,_ref=this||{},details=_ref.details,_ref2=details||{},siteId=_ref2.siteId;if((0,router/* isWebTabsEnabled */.tj)()){var moduleName=this.moduleName,_ref3=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref3.name;name&&this.$router.push({name:name,query:{parentWO:parentWO,siteId:siteId}})}else this.$router.push({path:"/app/wo/create",query:{parentWO:parentWO,siteId:siteId}})},updateItems:function(items){var _this2=this;items.length&&items.filter((function(wo){_this2.modulesList.push(wo)})),this.$nextTick((function(){_this2.loadDataCount()}))},showUpdateParentDialog:function(){this.canShowWizard=!0},deleteItemFromList:function(){var _this3=this,itemToDeleteOrDissociate=this.itemToDeleteOrDissociate,item=this.modulesList.find((function(listItem){return listItem.id===itemToDeleteOrDissociate.id}));this.$store.dispatch("workorder/deleteWorkOrder",{id:[itemToDeleteOrDissociate.id]}).then((function(){var idx=_this3.modulesList.indexOf(item);_this3.modulesList.splice(idx,1),_this3.$message.success(_this3.$t("maintenance._workorder.wo_delete_success")),_this3.loadDataCount()})).catch((function(_ref4){var message=_ref4.message;_this3.$message.error(message)})),this.showDeleteDialog=!1},dissociateItem:function(){var _this4=this,itemToDeleteOrDissociate=this.itemToDeleteOrDissociate,updateObj={id:[itemToDeleteOrDissociate.id],fields:{parentWO:{id:-99}}},item=this.modulesList.find((function(listItem){return listItem.id===itemToDeleteOrDissociate.id}));this.$store.dispatch("workorder/updateWorkOrder",updateObj).then((function(response){var idx=_this4.modulesList.indexOf(item);_this4.modulesList.splice(idx,1),_this4.loadDataCount(),_this4.$message.success(_this4.$t("common._common.dissociated_successfully"))})).catch((function(){_this4.$message.error(_this4.$t("maintenance._workorder.wo_update_failed"))})),this.showDeleteDialog=!1},redirectToListView:function(){var moduleName=this.moduleName,lookupFilter={lookup:[{operatorId:36,value:[this.id?this.id:""],selectedLabel:this.parentModuleName?this.parentModuleName:""}]};this.$router.push({path:"/app/ca/modules/".concat(moduleName,"/all"),query:{search:JSON.stringify(lookupFilter),includeParentFilter:!0}})},redirectToOverview:function(row){var route;if((0,router/* isWebTabsEnabled */.tj)()){var moduleName=this.moduleName,_ref5=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref5.name;name&&(route=this.$router.resolve({name:name,params:{viewname:"all",id:row.id}}).href)}else route=this.$router.resolve({path:"/app/wo/orders/summary/".concat(row.id)}).href;route&&window.open(route,"_blank")},invokeDeleteDialog:function(item){this.showDeleteDialog=!0,this.itemToDeleteOrDissociate=item}}},relatedlist_ChildRelationListWidgetvue_type_script_lang_js=ChildRelationListWidgetvue_type_script_lang_js,ChildRelationListWidget_component=(0,componentNormalizer/* default */.Z)(relatedlist_ChildRelationListWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ChildRelationListWidget=ChildRelationListWidget_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/69439.js.map