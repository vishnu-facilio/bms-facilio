"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[83703],{
/***/947748:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSearch.vue?vue&type=template&id=aca29d08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-search-container mR20"},[void 0!=_vm.boolval?_c("div",[_c("el-input",{ref:"quickSearchQuery",staticClass:"fc-input-full-border-h35 mT15 mR10 wo-assigned-search",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_vm.quickSearchQuery?_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"}):_vm._e()])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&void 0==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&1==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input ",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},on:{change:_vm.remoteSearch},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):void 0==_vm.boolval&&_vm.searchHide?_c("div",{staticClass:"pointer flRight",on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})]):_vm._e()])},staticRenderFns=[],FSearchvue_type_script_lang_js=(__webpack_require__(538077),__webpack_require__(260228),{props:["value","searchKey","","boolval","remote"],data:function(){return{showQuickSearch:!1,quickSearchQuery:null,initialList:null,searchHide:!0}},beforeDestroy:function(){this.closeSearch()},mounted:function(){void 0!=this.boolval&&(this.showQuickSearch=this.boolval)},methods:{quickSearch:function(){var list,_this=this;this.value&&(this.quickSearchQuery?(this.initialList||(this.initialList=this.$helpers.cloneObject(this.value)),list=this.initialList.filter((function(item){return item[_this.searchKey||"name"].toLowerCase().indexOf(_this.quickSearchQuery.toLowerCase())>=0}))):(list=this.initialList,this.initialList=null),list&&this.$emit("input",list))},remoteSearch:function(){this.$emit("search",this.quickSearchQuery)},toggleQuickSearch:function(){var _this2=this;this.searchHide=!1,this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this2.$refs.quickSearchQuery&&_this2.$refs.quickSearchQuery.focus()}))},clearSearch:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.searchHide=!0},closeSearch:function(){void 0===this.boolval&&this.toggleQuickSearch(),this.quickSearchQuery=null,this.remote?this.remoteSearch():this.quickSearch(),this.searchHide=!0,this.showQuickSearch=!1,this.$emit("close")}}}),components_FSearchvue_type_script_lang_js=FSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSearch=component.exports},
/***/483703:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ControllersList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/agents/ControllersList.vue?vue&type=template&id=614a352b&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_c("div",{staticClass:"setting-header2"},[_vm._m(0),_c("div",{staticClass:"action-btn setting-page-btn controller-right-actions"},[_c("f-search",{staticClass:"mL20",model:{value:_vm.controllers,callback:function($$v){_vm.controllers=$$v},expression:"controllers"}}),_vm.showDialog?_c("new-addController",{attrs:{model:_vm.controller,visibility:_vm.showDialog},on:{"update:visibility":function($event){_vm.showDialog=$event},saved:_vm.onControllerSaved}}):_vm._e()],1)]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout mT20"},[_c("div",{staticClass:"col-lg-12 col-md-12 overflow-x"},[_c("el-row",{staticClass:"mB20"},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"category-blue-txt pB10"},[_vm._v("Agent")]),_c("div",[_c("el-select",{staticClass:"fc-input-full-border-select2",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent",width:"250px"},on:{change:function($event){_vm.totalCount=null}},model:{value:_vm.selectedAgentId,callback:function($$v){_vm.selectedAgentId=$$v},expression:"selectedAgentId"}},_vm._l(_vm.agents,(function(agent,index){return _c("el-option",{key:index,attrs:{label:agent.name,value:agent.id,"no-data-text":"No controllers available",clearable:""}})})),1),_vm.$validation.isEmpty(_vm.selectedAgentId)?_vm._e():_c("el-button",{staticClass:"inline mL20",staticStyle:{"font-size":"12px",cursor:"pointer",color:"#396dc2"},attrs:{type:"text"},on:{click:function($event){_vm.showAgentDetails=!0}}},[_vm._v("View Agent Details")])],1)])],1),_c("table",{staticClass:"setting-list-view-table"},[_vm._m(1),_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1)])]):0===_vm.controllers.length?_c("tbody",[_vm._m(2)]):_c("tbody",_vm._l(_vm.controllers,(function(controller,index){return _c("tr",{directives:[{name:"loading",rawName:"v-loading",value:_vm.loading,expression:"loading"}],key:controller.id,staticClass:"tablerow"},[_c("td",{staticStyle:{width:"15%","max-width":"340px"}},[_c("div",{staticClass:"controller-active-section"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],class:["dot-10",controller.active?"color-active":"color-inactive"],attrs:{title:controller.active?"Active":"Inactive"}}),_c("div",{staticClass:"label-txt3-14 mL10 break-word-all line-height20"},[_vm._v(" "+_vm._s(controller.name)+" ")]),controller.controllerType>0?_c("div",{staticClass:"fc-badge mL10 inline middle"},[_vm._v(" "+_vm._s(_vm.$constants.ControllerTypes[controller.controllerType])+" ")]):_vm._e()]),_c("div",{staticClass:"controller-id mT5 mL20"},[_vm._v(" "+_vm._s(controller.macAddr)+" ")])]),_c("td",[_c("div",{staticClass:"fc-list-subject fw-normal"},[_c("div",{staticClass:"controller-points mb5"},[_c("span",{staticClass:"label-muted"},[_vm._v("Available:")]),_vm._v(" "+_vm._s(controller.availablePoints)+" ")]),_c("div",{staticClass:"controller-points mb5"},[_c("span",{staticClass:"label-muted"},[_vm._v("Configured:")]),_vm._v(" "+_vm._s(controller.configuredPointsCount)+" ")]),_c("div",{staticClass:"controller-points mb5"},[_c("span",{staticClass:"label-muted"},[_vm._v("Subscribed:")]),_vm._v(" "+_vm._s(controller.subscribedPointsCount)+" ")])])]),_c("td",[_c("el-switch",{staticClass:"Notification-toggle",attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},on:{change:function($event){return _vm.toggleWritable(controller,index)}},model:{value:controller.writable,callback:function($$v){_vm.$set(controller,"writable",$$v)},expression:"controller.writable"}})],1),_c("td",[_c("el-dropdown",{on:{command:function($event){return _vm.onOptionsSelect($event,controller)}}},[_c("span",{staticClass:"el-dropdown-link"},[_c("i",{staticClass:"el-icon-more controller-more"})]),_c("el-dropdown-menu",{staticClass:"controller-dropdown-item",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"edit"}},[_vm._v("Edit")]),_c("el-dropdown-item",{attrs:{command:"config"}},[_vm._v("Configuration")]),_c("el-dropdown-item",{attrs:{command:"commission"}},[_vm._v("Commissioning")])],1)],1)],1)])})),0)])],1)])]),_vm.showAgentDetails?_c("el-dialog",{staticClass:"agents-dialog",staticStyle:{"z-index":"9999999999"},attrs:{title:"Agent Details",visible:_vm.showAgentDetails,width:"30%"},on:{"update:visible":function($event){_vm.showAgentDetails=$event}}},[_c("el-row",[_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Location")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.siteId>0?(_vm.$store.getters.getSite(_vm.selectedAgentDetails.siteId)||{}).name:"---")+" ")])]),_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Data Received")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm._f("fromNow")(_vm.selectedAgentDetails.lastDataReceivedTime))+" ")])])],1),_c("el-row",[_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Type")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.type?_vm.$constants.ControllerTypes[_vm.selectedAgentDetails.type]:"---")+" ")])]),_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Controllers")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.controllerCount||"---")+" ")])])],1),_c("el-row",[_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Interval")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.interval>-1?_vm.selectedAgentDetails.interval+" mins":"---")+" ")])]),_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Status")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.connectionStatus?"Connected":"Disconnected")+" ")])])],1),_c("el-row",[_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Version")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.version||"---")+" ")])]),_c("el-col",{staticClass:"mB20",attrs:{span:12}},[_c("div",{staticClass:"text-uppercase mB10 fc-blue-label"},[_vm._v("Writable")]),_c("div",{staticClass:"fc-list-subject fw-normal"},[_vm._v(" "+_vm._s(_vm.selectedAgentDetails.writable?"Yes":"No")+" ")])])],1)],1):_vm._e()],1)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v("Controllers")]),_c("div",{staticClass:"heading-description"},[_vm._v("List of all controllers")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"40%","max-width":"340px"}},[_vm._v(" CONTROLLER ")]),_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"40%"}},[_vm._v(" Points ")]),_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"20%"}},[_vm._v(" Writable ")]),_c("th",{staticStyle:{width:"10%"}})])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" No Controller available. ")])])}],NewController=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(382003)),FSearch=__webpack_require__(947748),ControllersListvue_type_script_lang_js={title:function(){return"Controllers"},components:{NewAddController:NewController/* default */.Z,FSearch:FSearch/* default */.Z},data:function(){return{isNew:!0,loading:!1,controllers:[],controller:null,agents:[],agent:null,selectedAgentId:null,showDialog:!1,showAgentDetails:!1}},created:function(){this.loadAgents()},computed:{selectedAgentDetails:function(){var _this=this;return this.selectedAgentId?this.agents.find((function(agent){return agent.id===_this.selectedAgentId})):{}}},methods:{loadControllers:function(){var _this2=this;this.loading=!0;var url=this.selectedAgentId?"/v2/setup/controller/list?agentId=".concat(this.selectedAgentId):"/v2/setup/controller/list";this.$http.get(url).then((function(response){_this2.loading=!1,_this2.controllers=response.data.result.controllerDetails?response.data.result.controllerDetails:[]})).catch((function(){_this2.controllers=[],_this2.loading=!1}))},loadAgents:function(){var _this3=this;this.loading=!0,this.$http.get("/v2/setup/agent/list").then((function(response){_this3.agents=response.data.result.agentDetails?response.data.result.agentDetails:[],_this3.selectedAgentId=parseInt(_this3.$route.query.agentId)||_this3.agents[0].id,_this3.loadControllers()})).catch((function(){_this3.loading=!1}))},onControllerSaved:function(){this.loadControllers()},editController:function(controller){this.isNew=!1,this.controller=this.$helpers.cloneObject(controller),this.showDialog=!0},onOptionsSelect:function(command,controller){"config"===command?this.$router.push("/app/setup/agents/config/".concat(controller.agentId,"/").concat(controller.id)):"commission"===command?this.$router.push("/app/setup/agents/commissioning/".concat(controller.agentId,"/").concat(controller.id)):"edit"===command&&this.editController(controller)},toggleWritable:function(_ref,index){var _this4=this,id=_ref.id,writable=_ref.writable,controllerContext={id:id,writable:writable};this.$http.post("/v2/setup/controller/edit",{controllerContext:controllerContext}).then((function(response){200===response.status&&_this4.$message("Controller Updated")})).catch((function(){_this4.$message("Could not update settings"),_this4.controllers[index].writable=!writable}))}},watch:{selectedAgentId:function(val){this.$router.push({query:{agentId:val}}),this.loadControllers()}}},agents_ControllersListvue_type_script_lang_js=ControllersListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agents_ControllersListvue_type_script_lang_js,render,staticRenderFns,!1,null,"614a352b",null)
/* harmony default export */,ControllersList=component.exports},
/***/382003:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewController}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/agents/NewController.vue?vue&type=template&id=193b4ae1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",[_c("el-form",{ref:"controllerForm",staticClass:"fc-form",attrs:{model:_vm.newaddController,rules:_vm.rules,"label-position":"top","label-width":"120px"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?"New":"Edit")+" Controller ")])])]),_c("div",{staticClass:"new-body-modal"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v("Controller Name")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"fc-input-txt fc-name-input",attrs:{disabled:!_vm.isNew,placeholder:"Enter Controller Name"},model:{value:_vm.newaddController.name,callback:function($$v){_vm.$set(_vm.newaddController,"name",$$v)},expression:"newaddController.name"}})],1)],1),_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Display Name ")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"fc-input-txt fc-name-input",attrs:{placeholder:"Enter Display Name"},model:{value:_vm.newaddController.displayName,callback:function($$v){_vm.$set(_vm.newaddController,"displayName",$$v)},expression:"newaddController.displayName"}})],1)],1),_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Controller Type ")]),_c("el-form-item",{attrs:{prop:"controllerType"}},[_c("el-select",{attrs:{disabled:!_vm.isNew},model:{value:_vm.newaddController.controllerType,callback:function($$v){_vm.$set(_vm.newaddController,"controllerType",$$v)},expression:"newaddController.controllerType"}},_vm._l(_vm.$constants.ControllerTypes,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1)],1)],1),_vm.$common.isBacnetController(_vm.newaddController)?_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Instance Number ")]),_c("el-form-item",{attrs:{prop:"instanceNumber"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{disabled:!_vm.isNew,placeholder:"Enter Instance Number"},model:{value:_vm.newaddController.instanceNumber,callback:function($$v){_vm.$set(_vm.newaddController,"instanceNumber",$$v)},expression:"newaddController.instanceNumber"}})],1)],1):_vm._e(),_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Mac Address ")]),_c("el-form-item",{attrs:{prop:"macAddr"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{disabled:!_vm.isNew,placeholder:"Enter Mac Address"},model:{value:_vm.newaddController.macAddr,callback:function($$v){_vm.$set(_vm.newaddController,"macAddr",$$v)},expression:"newaddController.macAddr"}})],1)],1),_c("div",[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v("Interval")]),_c("el-form-item",{attrs:{prop:"dataInterval"}},[_c("el-select",{staticClass:"fc-input-select",attrs:{placeholder:"Enter Interval"},model:{value:_vm.newaddController.dataInterval,callback:function($$v){_vm.$set(_vm.newaddController,"dataInterval",$$v)},expression:"newaddController.dataInterval"}},[_c("el-option",{attrs:{label:"5 mins",value:5}}),_c("el-option",{attrs:{label:"10 mins",value:10}}),_c("el-option",{attrs:{label:"15 mins",value:15}}),_c("el-option",{attrs:{label:"20 mins",value:20}}),_c("el-option",{attrs:{label:"30 mins",value:30}}),_c("el-option",{attrs:{label:"1 hour",value:60}})],1)],1)],1),_c("div",[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical inline mR20"},[_vm._v(" Is Writable ")]),_c("el-switch",{staticClass:"Notification-toggle",attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},model:{value:_vm.newaddController.writable,callback:function($$v){_vm.$set(_vm.newaddController,"writable",$$v)},expression:"newaddController.writable"}})],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm("controllerForm")}}},[_vm._v(_vm._s(_vm.saving?"Saving...":"SAVE")+" ")])],1)])],1)])},staticRenderFns=[],NewControllervue_type_script_lang_js=(__webpack_require__(434284),__webpack_require__(260228),{props:["visibility","isNew","model"],data:function(){return{saving:!1,newaddnetworkForm:{id:-1,name:"",macAddr:"",controllerType:null,dataInterval:null,writable:null,instanceNumber:null,displayName:""},rules:{dataInterval:[{required:!0,message:"Please select a data interval",trigger:"blur"}]}}},mounted:function(){var _this=this;if(!this.isNew){var _this$model=this.model,id=_this$model.id,name=_this$model.name,macAddr=_this$model.macAddr,controllerType=_this$model.controllerType,dataInterval=_this$model.dataInterval,writable=_this$model.writable,instanceNumber=_this$model.instanceNumber,displayName=_this$model.displayName;Object.assign(this.newaddController,{id:id,name:name,macAddr:macAddr,controllerType:controllerType,dataInterval:dataInterval,writable:writable,instanceNumber:instanceNumber,displayName:displayName});var nullableFields=["dataInterval","controllerType"];nullableFields.forEach((function(fieldName){-1===_this.newAgent[fieldName]&&(_this.newAgent[fieldName]=null)}))}},methods:{submitForm:function(controllerForm){var _this2=this;this.$refs[controllerForm].validate((function(valid){if(valid){_this2.saving=!0;var data={controllerContext:_this2.$helpers.cloneObject(_this2.newaddController)};data.controllerContext.dataInterval||(data.controllerContext.dataInterval=15),_this2.$http.post("/v2/setup/controller/edit",data).then((function(response){200===response.status&&(_this2.$message("Controller has been updated."),_this2.saving=!1,_this2.resetForm(),_this2.$emit("saved"),_this2.$emit("update:visibility",!1))}))}}))},resetForm:function(){this.$refs["controllerForm"].resetFields()},closeDialog:function(){this.$emit("update:visibility",!1)},cancel:function(){this.$emit("canceled")}}}),agents_NewControllervue_type_script_lang_js=NewControllervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agents_NewControllervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewController=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/83703.js.map