(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[52244],{
/***/852244:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPortfolioDataPointSelector}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/energy/analytics/components/FPortfolioDataPointSelector.vue?vue&type=template&id=05f757e2
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",{staticClass:"analytics-sidebar-bg"},[_vm.isMultipleCategorySelected&&_vm.disableMultipleAssetCategories?_c("div",{staticClass:"analytics-topbar-warning"},[_c("div",{staticClass:"Only-one-data-point flex-middle"},[_c("InlineSvg",{attrs:{src:"svgs/info-warning",iconClass:"icon vertical-middle icon-md fill-orange"}}),_c("div",{staticClass:"pL10"},[_vm._v(" Please choose only a single asset category to customise! To select other data points, please ")]),_c("div",{staticClass:"text-style-1 pL5"},[_vm._v("delete the current selection points.")]),_c("div",{staticClass:"mL10"},[_c("el-switch",{staticClass:"Notification-toggle",attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},on:{change:function($event){return _vm.emptySelectedDataPoints()}},model:{value:_vm.replaceDataPoints,callback:function($$v){_vm.replaceDataPoints=$$v},expression:"replaceDataPoints"}})],1)],1)]):_vm._e(),_c("div",{staticClass:"sidebar-position-setup"},[_c("div",{staticClass:"sidebar-close-btn pointer",on:{click:_vm.cancel}},[_vm._m(0)]),_c("div",{staticClass:"building-analysis-sidebar-conatainer"},[_vm.buildingIds&&_vm.buildingIds.length?_vm.loading?_c("div",{staticClass:"newanalytics-sidebar col-3"},[_c("spinner",{attrs:{show:_vm.loading}})],1):_c("div",{staticClass:"newanalytics-sidebar col-3"},[_c("div",[_vm.showQuickSearch?_c("div",[_c("div",{staticClass:"fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative fc-list-search-wrapperbuilding-search"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.searchKey,expression:"searchKey"}],ref:"quickSearchQuery",staticClass:"quick-search-input4",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.searchKey},on:{keyup:_vm.quickSearch,input:function($event){$event.target.composing||(_vm.searchKey=$event.target.value)}}}),_c("svg",{staticClass:"close-icon4",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.closeSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_vm._e(),_vm.mode&&["mv"].includes(_vm.mode)?_vm._e():_c("div",{staticClass:"building-analysis-side-block"},[_c("div",{staticClass:"building-hover-actions"},[_c("div",{staticClass:"sidebar-asset-H fL",staticStyle:{cursor:"pointer"},on:{click:_vm.loadAssetCategories}},[_vm._v(" Assets ")])]),"assets"===_vm.config.mainPanel.currentModule?_c("div",{staticClass:"building-anlysis-active-block"},[_vm._l(_vm.config.mainPanel.assetCategories,(function(category,index){return _vm.config.mainPanel.assetCategories&&_vm.config.mainPanel.assetCategories.length?_c("div",{key:index,class:["building-anlysis-label-txt","clearboth",{"asset-list-block-txt-active":_vm.config.mainPanel.selectedAssetCategory===category.id}],on:{click:function($event){return _vm.openAssetCategory(category.id)}}},[_c("i",{class:{"fa fa-circle":!0,"dot-blue-icon":_vm.config.mainPanel.selectedAssetCategory===category.id,"dot-grey-icon":_vm.config.mainPanel.selectedAssetCategory!=category.id},attrs:{"aria-hidden":"true"}}),_c("div",{staticClass:"width80"},[_vm._v(" "+_vm._s(category.displayName?category.displayName:category.name)+" ")]),_c("span",{staticClass:"active-arrow"},[_vm.config.mainPanel.selectedAssetCategory===category.id?_c("img",{attrs:{src:__webpack_require__(676118),height:"14px",width:"14px"}}):_vm._e()])]):_vm._e()})),_vm.config.mainPanel.assetCategories.length?_vm._e():_c("div",{staticClass:"building-anlysis-label-txt clearboth"},[_vm._v(" -- No assets -- ")])],2):_vm._e()]),["mv",4].includes(_vm.mode)?_c("div",{staticClass:"building-analysis-side-block"},[_c("div",{staticClass:"building-hover-actions"},[_c("div",{staticClass:"sidebar-asset-H fL",staticStyle:{cursor:"pointer"},on:{click:_vm.loadMVProjects}},[_vm._v(" M & V ")])])]):_vm._e(),[6,7,8].includes(_vm.mode)?_c("div",{staticClass:"building-analysis-side-block"},[_c("div",{staticClass:"building-hover-actions"},[_c("div",{staticClass:"sidebar-asset-H fL",staticStyle:{cursor:"pointer"},on:{click:function($event){return _vm.openModuleFieldsPanel()}}},[_vm._v(" "+_vm._s(_vm.moduleMap[_vm.mode])+" Fields ")])])]):_vm._e(),_vm.newSiteSummary?_c("div",{staticClass:"building-analysis-side-block"},[_c("div",{staticClass:"building-hover-actions"},[_c("div",{staticClass:"sidebar-asset-H fL",staticStyle:{cursor:"pointer"},on:{click:function($event){return _vm.loadWeatherStationsAndFields()}}},[_vm._v(" Weather ")])])]):_vm._e()])]):_c("div",[_vm._v(" No buildings selected. ")]),_vm.config.assetPointsPanel.show?_c("div",{staticClass:"assets-points-Scontainer assets-points-Scontainer-lalign"},[_c("div",{staticClass:"assets-points-inner-container"},[_vm._m(1),_c("div",{staticClass:"building-points-search"},[_c("el-input",{attrs:{placeholder:"Filter points",autofocus:""},model:{value:_vm.config.assetPointsPanel.filterQuery,callback:function($$v){_vm.$set(_vm.config.assetPointsPanel,"filterQuery",$$v)},expression:"config.assetPointsPanel.filterQuery"}})],1),_c("div",{staticClass:"asset-list-container mT10"},[_vm.config.assetPointsPanel.loading?_c("spinner",{attrs:{show:_vm.config.assetPointsPanel.loading}}):_vm.config.assetPointsPanel.data&&_vm.config.assetPointsPanel.data.length?_vm.isSinglePointSelector?_vm._l(_vm.filteredAssetPointsPanel,(function(item,index){return _c("div",{key:index,staticClass:"asset-list-block-txt",on:{click:function($event){_vm.selectDataPoint(_vm.config.mainPanel.selectedAssetCategory+"_"+item.id),_vm.apply()}}},[_vm._v(" "+_vm._s(item.displayName?item.displayName:item.name)+" "),_vm.config.mainPanel.selectedDataPoints[0]===_vm.config.selectAssetsPanel.readingId+"_"+item.id?_c("i",{staticClass:"el-icon-check heatmap-icon"}):_vm._e()])})):_c("el-checkbox-group",{staticClass:"building-check-list",model:{value:_vm.config.mainPanel.selectedDataPoints,callback:function($$v){_vm.$set(_vm.config.mainPanel,"selectedDataPoints",$$v)},expression:"config.mainPanel.selectedDataPoints"}},_vm._l(_vm.filteredAssetPointsPanel,(function(item,index){return _c("el-checkbox",{key:index,attrs:{label:_vm.config.mainPanel.selectedAssetCategory+"_"+item.id}},[_vm._v(_vm._s(item.displayName?item.displayName:item.name))])})),1):_c("div",{staticClass:"asset-list-block-txt text-center"},[_vm._v(" No points found. ")])],2)])]):_vm._e(),_vm.config.moduleFieldsPanel.show&&[6,7,8].includes(_vm.mode)?_c("div",{staticClass:"assets-points-Scontainer assets-points-Scontainer-lalign"},[_c("div",{staticClass:"assets-points-inner-container"},[_vm._m(2),_c("div",{staticClass:"building-points-search"},[_c("el-input",{attrs:{placeholder:"Filter points",autofocus:""},model:{value:_vm.config.moduleFieldsPanel.filterQuery,callback:function($$v){_vm.$set(_vm.config.moduleFieldsPanel,"filterQuery",$$v)},expression:"config.moduleFieldsPanel.filterQuery"}})],1),_c("div",{staticClass:"asset-list-container mT10"},[_vm.config.moduleFieldsPanel.loading?_c("spinner",{attrs:{show:_vm.config.moduleFieldsPanel.loading}}):_vm.config.moduleFieldsPanel.data&&_vm.config.moduleFieldsPanel.data.length?_vm.isSinglePointSelector?_vm._l(_vm.filteredModuleFieldsPanel,(function(item,index){return _c("div",{key:index,staticClass:"asset-list-block-txt",on:{click:function($event){_vm.selectDataPoint("null_"+item.id),_vm.apply()}}},[_vm._v(" "+_vm._s(item.displayName?item.displayName:item.name)+" "),_vm.config.mainPanel.selectedDataPoints[0]===_vm.config.selectAssetsPanel.readingId+"_"+item.id?_c("i",{staticClass:"el-icon-check heatmap-icon"}):_vm._e()])})):_c("el-checkbox-group",{staticClass:"building-check-list",model:{value:_vm.config.mainPanel.selectedDataPoints,callback:function($$v){_vm.$set(_vm.config.mainPanel,"selectedDataPoints",$$v)},expression:"config.mainPanel.selectedDataPoints"}},_vm._l(_vm.filteredModuleFieldsPanel,(function(item,index){return _c("el-checkbox",{key:index,attrs:{label:"null_"+item.id}},[_vm._v(_vm._s(item.displayName?item.displayName:item.name))])})),1):_c("div",{staticClass:"asset-list-block-txt text-center"},[_vm._v(" No points found. ")])],2)])]):_vm._e(),!_vm.config.mvPointsPanel.show&&"mv"!==_vm.mode||[6,7,8].includes(_vm.mode)?_vm._e():_c("div",{staticClass:"assets-points-Scontainer assets-points-Scontainer-lalign"},[_c("div",{staticClass:"assets-points-inner-container"},[_vm._m(3),_c("div",{staticClass:"building-points-search"},[_c("el-input",{attrs:{placeholder:"Filter points",autofocus:""},model:{value:_vm.config.mvPointsPanel.filterQuery,callback:function($$v){_vm.$set(_vm.config.mvPointsPanel,"filterQuery",$$v)},expression:"config.mvPointsPanel.filterQuery"}})],1),_c("div",{staticClass:"asset-list-container mT10"},[_vm.config.mvPointsPanel.loading?_c("spinner",{attrs:{show:_vm.config.mvPointsPanel.loading}}):_vm.config.mvPointsPanel.data&&_vm.config.mvPointsPanel.data.length?_vm.isSinglePointSelector?_vm._l(_vm.filteredmvPointsPanel,(function(item,index){return _c("div",{key:index,staticClass:"asset-list-block-txt",on:{click:function($event){_vm.selectDataPoint(_vm.config.mainPanel.selectedAssetCategory+"_"+item.id),_vm.apply()}}},[_vm._v(" "+_vm._s(item.displayName?item.displayName:item.name)+" "),_vm.config.mainPanel.selectedDataPoints[0]===_vm.config.selectAssetsPanel.readingId+"_"+item.id?_c("i",{staticClass:"el-icon-check heatmap-icon"}):_vm._e()])})):_c("el-checkbox-group",{staticClass:"building-check-list",model:{value:_vm.config.mainPanel.selectedDataPoints,callback:function($$v){_vm.$set(_vm.config.mainPanel,"selectedDataPoints",$$v)},expression:"config.mainPanel.selectedDataPoints"}},_vm._l(_vm.filteredmvPointsPanel,(function(item,index){return _c("el-checkbox",{key:index,attrs:{label:_vm.config.mainPanel.selectedAssetCategory+"_"+item.id}},[_vm._v(_vm._s(item.displayName?item.displayName:item.name))])})),1):_c("div",{staticClass:"asset-list-block-txt text-center"},[_vm._v(" No points. ")])],2)])]),_vm.newSiteSummary?[_vm.config.weatherStationsPanel.show?_c("div",{staticClass:"assets-points-Scontainer assets-points-Scontainer-lalign"},[_c("div",{staticClass:"assets-points-inner-container height100"},[_vm._m(4),_c("div",{staticClass:"building-points-search"},[_c("el-input",{attrs:{placeholder:"Filter points",autofocus:""},model:{value:_vm.config.weatherStationsPanel.filterQuery,callback:function($$v){_vm.$set(_vm.config.weatherStationsPanel,"filterQuery",$$v)},expression:"config.weatherStationsPanel.filterQuery"}})],1),_c("div",{staticClass:"asset-list-container mT10 overflow-scroll"},[_vm.config.weatherStationsPanel.loading?_c("spinner",{attrs:{show:_vm.config.weatherStationsPanel.loading}}):_vm.config.weatherStationsPanel.data&&_vm.config.weatherStationsPanel.data.length?_vm._l(_vm.getFilteredData("weatherStationsPanel"),(function(item,index){return _c("div",{key:index,staticClass:"asset-list-block-txt",class:{"asset-list-block-txt-active":parseInt(_vm.config.weatherStationsPanel.selectedStationId)===parseInt(item.id)},on:{click:function($event){return _vm.openWeatherReadings(item.id)}}},[_vm._v(" "+_vm._s(item.displayName?item.displayName:item.name)+" "),_vm.config.mainPanel.selectedDataPoints[0]===_vm.config.selectAssetsPanel.readingId+"_"+item.id?_c("i",{staticClass:"el-icon-check heatmap-icon"}):_vm._e()])})):_c("div",{staticClass:"asset-list-block-txt text-center"},[_vm._v(" No stations found. ")])],2)])]):_vm._e()]:_vm._e(),_vm.config.weatherReadingsPanel.show?_c("div",{staticClass:"assets-points-Scontainer assets-points-Scontainer-shadow"},[_c("div",{staticClass:"assets-points-inner-container readings-list-container height100"},[_c("div",{staticClass:"select-reading-header"},[_vm._v(" "+_vm._s("Select Readings")+" ")]),_c("div",{staticClass:"building-points-search"},[_c("el-input",{attrs:{placeholder:"Filter readings",autofocus:""},model:{value:_vm.config.weatherReadingsPanel.filterQuery,callback:function($$v){_vm.$set(_vm.config.weatherReadingsPanel,"filterQuery",$$v)},expression:"config.weatherReadingsPanel.filterQuery"}})],1),_c("div",{staticClass:"mT20 readings-scroll"},[_vm.config.weatherReadingsPanel.loading?_c("spinner",{attrs:{show:_vm.config.weatherReadingsPanel.loading}}):_vm.config.weatherReadingsPanel.data&&_vm.config.weatherReadingsPanel.data.length?_c("el-checkbox-group",{staticClass:"building-check-list",model:{value:_vm.config.mainPanel.selectedDataPoints,callback:function($$v){_vm.$set(_vm.config.mainPanel,"selectedDataPoints",$$v)},expression:"config.mainPanel.selectedDataPoints"}},_vm._l(_vm.getFilteredData("weatherReadingsPanel"),(function(item,index){return _c("el-checkbox",{key:index,attrs:{label:_vm.config.weatherReadingsPanel.parentId+"_"+item.id}},[_vm._v(_vm._s(item.displayName?item.displayName:item.name))])})),1):_c("div",{staticClass:"text-center"},[_vm._v(" No data found. ")])],1)])]):_vm._e(),!_vm.config.assetPointsPanel.show&&!_vm.config.mainPanel.selectedDataPoints.length||_vm.isSinglePointSelector?_vm._e():_c("div",{staticClass:"building-analysis-point-container row "},[_c("div",{staticClass:"building-analysis-points-wrap col-12"},[_vm.config.mainPanel.selectedDataPoints.length?_c("div",{staticClass:"col-4"},[_c("el-popover",{attrs:{width:300,"popper-class":"added-datapoints-popover"}},[_c("div",{staticClass:"added-datapoints-container"},[_c("div",{staticClass:"added-datapoints-header"},[_vm._v(" Selected Points "),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer pL5",staticStyle:{"font-size":"12px"},attrs:{title:"Remove all","data-arrow":"true"},on:{click:_vm.clearSelectedPoints}})]),_c("div",{staticClass:"added-datapoints-collection"},[_c("ul",{staticClass:"list-group"},_vm._l(_vm.config.mainPanel.selectedDataPoints,(function(dataPoint,index){return _c("li",{key:index,staticClass:"list-group-item"},[_c("span",{staticClass:"float: left;"},[_vm._v(_vm._s(_vm.getDataPointName(dataPoint)))]),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer",staticStyle:{float:"right"},attrs:{title:"Remove","data-arrow":"true"},on:{click:function($event){return _vm.removeSelectedDataPoint(dataPoint,index)}}}),_c("span",{staticStyle:{clear:"both"}})])})),0)])]),_c("div",{staticClass:"fc-text-pink fL pointer",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(_vm.config.mainPanel.selectedDataPoints.length)+" points selected ")])])],1):_vm._e(),_c("div",{staticClass:"building-analysis-points-btn fR col-8"},[_c("el-button",{staticClass:"btn-grey-fill",attrs:{type:"button"},on:{click:_vm.cancel}},[_vm._v(_vm._s(_vm.$t("setup.users_management.cancel")))]),_c("el-button",{staticClass:"btn-blue-fill",attrs:{type:"button"},on:{click:_vm.apply}},[_vm._v(_vm._s(_vm.$t("maintenance.pm_list.apply")))])],1)])])],2)])]):_vm._e()},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{},[_c("i",{staticClass:"el-icon-close"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"select-reading-header",staticStyle:{"padding-bottom":"17px","padding-top":"16px !important"}},[_c("span",[_c("img",{staticStyle:{position:"relative",top:"4px",right:"7px"},attrs:{src:__webpack_require__(587758),width:"18px",height:"18px"}}),_vm._v("Points")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"select-reading-header",staticStyle:{"padding-bottom":"17px","padding-top":"16px !important"}},[_c("span",[_c("img",{staticStyle:{position:"relative",top:"4px",right:"7px"},attrs:{src:__webpack_require__(587758),width:"18px",height:"18px"}}),_vm._v("Points")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"select-reading-header",staticStyle:{"padding-bottom":"17px","padding-top":"16px !important"}},[_c("span",[_c("img",{staticStyle:{position:"relative",top:"4px",right:"7px"},attrs:{src:__webpack_require__(587758),width:"18px",height:"18px"}}),_vm._v("Points")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"select-reading-header"},[_c("span",[_vm._v(" Weather Stations ")])])}],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(670560),__webpack_require__(228436),__webpack_require__(538077),__webpack_require__(434284),__webpack_require__(648324),__webpack_require__(976801),__webpack_require__(169358),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(162506),__webpack_require__(947522),__webpack_require__(420629)),api=__webpack_require__(32284),picklist=__webpack_require__(961358),FPortfolioDataPointSelectorvue_type_script_lang_js={props:["visibility","zones","isSiteAnalysis","mode","isSinglePointSelector","disableMultipleAssetCategories"],data:function(){return{config:{mainPanel:{currentModule:"",assetCategories:null,selectedAssetCategory:null,selectedDataPoints:[]},assetPointsPanel:{show:!1,activeSubTab:"points",data:null,loading:!0,selectedAssetOrPoint:null,filterQuery:""},weatherStationsPanel:{show:!1,data:null,loading:!1,selectedStationId:null,filterQuery:""},weatherReadingsPanel:{show:!1,data:null,loading:!1,parentId:null,filterQuery:""},mvPointsPanel:{show:!1,activeSubTab:"points",data:null,loading:!0,selectedAssetOrPoint:null,filterQuery:""},selectReadingsPanel:{show:!1,data:null,loading:!1,parentId:null,filterQuery:""},selectAssetsPanel:{show:!1,data:null,loading:!1,readingId:null,filterQuery:""},moduleFieldsPanel:{show:!1,data:null,loading:!1,parentId:null,filterQuery:""}},loading:!0,readings:{categories:[],assets:{},categoryWithAssets:{},fields:{},categoryWithFields:{}},mvreadings:null,showQuickSearch:!1,quickSearchQuery:null,selectedBuildings:[],moduleMap:{6:"Site",7:"Building",8:"Asset"},allowedModuleFields:{site:["area","boundaryRadius","cddBaseTemperature","grossFloorArea","hddBaseTemperature","maxOccupancy","noOfBuildings","wddBaseTemperature"],building:["area","grossFloorArea","maxOccupancy","noOfFloors"],asset:["boundaryRadius","distanceMoved","unitPrice"]},replaceDataPoints:!1,isMultipleCategorySelected:!1,urlParams:{perPage:50,page:1,viewName:"hidden-all"},default_building_id:null,selectedBuildingLabel:this.isSiteAnalysis?"No Sites":"No Buildings"}},created:function(){var _this=this;Promise.all([this.$store.dispatch("loadAssetCategory"),this.loadDefaultBuilding()]).then((function(){return _this.setDefaultSelection()}))},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({assetCategory:function(state){return state.assetCategory}})),{},{newSiteSummary:function(){return this.$helpers.isLicenseEnabled("NEW_SITE_SUMMARY")&&this.$helpers.isLicenseEnabled("WEATHER_INTEGRATION")},buildingIds:function(){if(this.selectedBuildings&&this.selectedBuildings.length){var _step,buildingIds=[],_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.selectedBuildings);try{for(_iterator.s();!(_step=_iterator.n()).done;){var sb=_step.value;buildingIds.push(parseInt(sb))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return buildingIds}return null},buildingList:function(){return{}},selectedBuildingName:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$getFieldValue,data,error,value,_yield$getFieldValue2,_data,_error,_value;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!_this2.selectedBuildings||!_this2.selectedBuildings.length){_context.next=18;break}if(1!==_this2.selectedBuildings.length){_context.next=18;break}if(!_this2.selectedBuildings[0]||_this2.isSiteAnalysis){_context.next=11;break}return _context.next=5,(0,picklist/* getFieldValue */.oe)({lookupModuleName:"building",selectedOptionId:[_this2.selectedBuildings[0]]});case 5:_yield$getFieldValue=_context.sent,data=_yield$getFieldValue.data,error=_yield$getFieldValue.error,!error&&data&&(value=_this2.$getProperty(data,"0.label"),_this2.selectedBuildingLabel=value),_context.next=18;break;case 11:if(!_this2.selectedBuildings[0]||!_this2.isSiteAnalysis){_context.next=18;break}return _context.next=14,(0,picklist/* getFieldValue */.oe)({lookupModuleName:"site",selectedOptionId:[_this2.selectedBuildings[0]]});case 14:_yield$getFieldValue2=_context.sent,_data=_yield$getFieldValue2.data,_error=_yield$getFieldValue2.error,!_error&&_data&&(_value=_this2.$getProperty(_data,"0.label"),_this2.selectedBuildingLabel=_value);case 18:case"end":return _context.stop()}}),_callee)})))()},filteredAssetPointsPanel:function(){var self=this;return this.config.assetPointsPanel.data&&this.config.assetPointsPanel.data.length?this.config.assetPointsPanel.filterQuery&&this.config.assetPointsPanel.filterQuery.trim().length?this.config.assetPointsPanel.data.filter((function(d){var name=d.displayName?d.displayName:d.name;if(name.toLowerCase().indexOf(self.config.assetPointsPanel.filterQuery.toLowerCase())>=0&&"BOOLEAN"!==d.dataTypeEnum)return d})):this.config.assetPointsPanel.data.filter((function(d){if("BOOLEAN"!==d.dataTypeEnum)return d})):[]},filteredmvPointsPanel:function(){var self=this;if(this.config.mvPointsPanel.data&&this.config.mvPointsPanel.data.length){if(this.config.mvPointsPanel.filterQuery&&this.config.mvPointsPanel.filterQuery.trim().length){var filteredData=this.config.mvPointsPanel.data.filter((function(d){var name=d.displayName?d.displayName:d.name;if(name.toLowerCase().indexOf(self.config.mvPointsPanel.filterQuery.toLowerCase())>=0&&"BOOLEAN"!==d.dataTypeEnum)return d}));return this.$helpers.sortData("name",filteredData)}var _filteredData=this.config.mvPointsPanel.data.filter((function(d){if("BOOLEAN"!==d.dataTypeEnum)return d}));return this.$helpers.sortData("name",_filteredData)}return[]},filteredModuleFieldsPanel:function(){var self=this;if(this.config.moduleFieldsPanel.data&&this.config.moduleFieldsPanel.data.length){if(this.config.moduleFieldsPanel.filterQuery&&this.config.moduleFieldsPanel.filterQuery.trim().length){var filteredData=this.config.moduleFieldsPanel.data.filter((function(d){var name=d.displayName?d.displayName:d.name;if(name.toLowerCase().indexOf(self.config.moduleFieldsPanel.filterQuery.toLowerCase())>=0&&"BOOLEAN"!==d.dataTypeEnum)return d}));return this.$helpers.sortData("name",filteredData)}var _filteredData2=this.config.moduleFieldsPanel.data.filter((function(d){if("BOOLEAN"!==d.dataTypeEnum)return d}));return this.$helpers.sortData("name",_filteredData2)}return[]},filteredReadingsPanel:function(){var self=this;return this.config.selectReadingsPanel.data&&this.config.selectReadingsPanel.data.length?this.config.selectReadingsPanel.filterQuery&&this.config.selectReadingsPanel.filterQuery.trim().length?this.config.selectReadingsPanel.data.filter((function(d){var name=d.displayName?d.displayName:d.name;if(name.toLowerCase().indexOf(self.config.selectReadingsPanel.filterQuery.toLowerCase())>=0)return d})):this.config.selectReadingsPanel.data:[]},filteredAssetsPanel:function(){var self=this;return this.config.selectAssetsPanel.data&&this.config.selectAssetsPanel.data.length?this.config.selectAssetsPanel.filterQuery&&this.config.selectAssetsPanel.filterQuery.trim().length?this.config.selectAssetsPanel.data.filter((function(d){var name=d.displayName?d.displayName:d.name;if(name.toLowerCase().indexOf(self.config.selectAssetsPanel.filterQuery.toLowerCase())>=0)return d})):this.config.selectAssetsPanel.data:[]}}),watch:{buildingIds:function(newVal,oldVal){JSON.stringify(newVal)!==JSON.stringify(oldVal)&&(this.loadAssetCategories(),this.resetResetReadings())},mode:function(newVal){"mv"===newVal?this.loadMVProjects():([6,7,8].includes(newVal)&&this.loadModuleFields(),this.config.mainPanel.currentModule="assets")},selectedBuildingName:function(){var _selectedBuildingName=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(newVal){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.selectedBuildingName;case 2:this.$emit("selectBuildings",{name:this.selectedBuildingLabel,ids:this.selectedBuildings});case 3:case"end":return _context2.stop()}}),_callee2,this)})));function selectedBuildingName(_x){return _selectedBuildingName.apply(this,arguments)}return selectedBuildingName}(),buildingList:function(newval){this.setDefaultSelection()}},mounted:function(){this.mode&&[6,7,8].includes(this.mode)&&this.loadModuleFields()},methods:{loadDefaultBuilding:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$API$get,data,error,_yield$API$get2,_data2,_error2;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(_this3.isSiteAnalysis){_context3.next=9;break}return _context3.next=3,api/* API */.bl.get("/v3/picklist/building",_this3.urlParams,{force:!0});case 3:_yield$API$get=_context3.sent,data=_yield$API$get.data,error=_yield$API$get.error,!error&&(null===data||void 0===data?void 0:data.pickList.length)>0&&(_this3.default_building_id=data.pickList[0].value),_context3.next=15;break;case 9:return _context3.next=11,api/* API */.bl.get("/v3/picklist/site",_this3.urlParams,{force:!0});case 11:_yield$API$get2=_context3.sent,_data2=_yield$API$get2.data,_error2=_yield$API$get2.error,!_error2&&(null===_data2||void 0===_data2?void 0:_data2.pickList.length)>0&&(_this3.default_building_id=_data2.pickList[0].value);case 15:case"end":return _context3.stop()}}),_callee3)})))()},setDefaultSelection:function(){this.selectedBuildings=[],this.default_building_id&&(this.selectedBuildings=[this.default_building_id])},setSelectedBuildings:function(selectedBuildings){this.selectedBuildings=selectedBuildings},toggleQuickSearch:function(){var _this4=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this4.$refs.quickSearchQuery.focus()}))},closeSearch:function(){this.toggleQuickSearch(),this.quickSearchQuery=null,this.quickSearch()},quickSearch:function(){},selectDataPoint:function(datapoint){this.config.mainPanel.selectedDataPoints[0]=datapoint},loadAssetCategories:function(){var self=this;"assets"!==self.config.mainPanel.currentModule?(self.config.mainPanel.currentModule="assets",self.config.mainPanel.selectedAssetCategory=null,self.config.mainPanel.assetCategories=null,self.$http.post("/asset/getAssetCategoryWithReadings",{buildingIds:[]}).then((function(response){var categoryIds=Object.keys(response.data);self.config.mainPanel.assetCategories=self.assetCategory.filter((function(ele){for(var index=0;index<categoryIds.length;index++){var element=categoryIds[index];if(parseInt(element)===ele.id)return ele.toggle=!1,ele}})),self.loading=!1;var panels=[];self.config["assetPointsPanel"].show&&panels.push("assetPointsPanel"),self.config["selectReadingsPanel"].show&&panels.push("selectReadingsPanel"),self.config["selectAssetsPanel"].show&&panels.push("selectAssetsPanel"),self.config["moduleFieldsPanel"].show&&panels.push("moduleFieldsPanel"),self.togglePanel(panels),self.savedPoints&&"undefined"!==typeof self.savedPoints&&0!==self.savedPoints.length&&self.prepareSavedDataPoints()}))):
// toggle
self.config.mainPanel.currentModule=""},resetResetReadings:function(){this.readings={categories:[],assets:{},categoryWithAssets:{},fields:{},categoryWithFields:{}}},loadMVProjects:function(){var self=this;if(self.config.mainPanel.selectedAssetCategory=null,"mvs"!==self.config.mainPanel.currentModule){self.config.mainPanel.currentModule="mvs";var panels=[];self.config["assetPointsPanel"].show&&panels.push("assetPointsPanel"),self.config["selectReadingsPanel"].show&&panels.push("selectReadingsPanel"),self.config["selectAssetsPanel"].show&&panels.push("selectAssetsPanel"),self.config["moduleFieldsPanel"].show&&panels.push("moduleFieldsPanel"),self.togglePanel(panels),self.togglePanel("mvPointsPanel"),self.$http.get("/v2/readings/getSubModuleRel?moduleName=mvproject").then((function(response){var submodules=response.data.result.submodules;for(var module in self.mvreadings=[],submodules)self.mvreadings=self.mvreadings.concat(submodules[module].fields);self.mvreadings!==[]&&(self.mvreadings=self.mvreadings.filter((function(el){return 3===el.dataType}))),self.config.mvPointsPanel.data=self.mvreadings.map((function(el){return{id:el.id,name:el.displayName}})),self.config.mvPointsPanel.loading=!1}))}else
// toggle
self.config.mainPanel.currentModule=""},loadModuleFields:function(){var _this5=this,moduleName=null;switch(this.mode){case 6:moduleName="site";break;case 7:moduleName="building";break;case 8:moduleName="asset";break;default:moduleName="asset";break}this.$http.get("/module/meta?moduleName="+moduleName).then((function(response){_this5.config.moduleFieldsPanel.data=[];var _step2,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(response.data.meta.fields);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var fieldObj=_step2.value;![2,3].includes(fieldObj.dataType)||!_this5.allowedModuleFields[moduleName].includes(fieldObj.name)&&fieldObj.default||_this5.config.moduleFieldsPanel.data.push(fieldObj)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}))},openModuleFieldsPanel:function(){this.config.mainPanel.selectedAssetCategory=null,this.config["assetPointsPanel"].show=!1,this.config["selectReadingsPanel"].show=!1,this.config["selectAssetsPanel"].show=!1,this.config["mvPointsPanel"].show=!1,this.config["moduleFieldsPanel"].show?this.config["moduleFieldsPanel"].show=!1:this.config["moduleFieldsPanel"].show=!0},getDataPointName:function(dataPoint){if(this.readings.fields[dataPoint.split("_")[1]])return this.readings.fields[dataPoint.split("_")[1]].displayName;if(this.config.moduleFieldsPanel.data&&this.config.moduleFieldsPanel.data.length>0){var ModuleFieldPoint=this.config.moduleFieldsPanel.data.find((function(dp){return dp.fieldId===parseInt(dataPoint.split("_")[1])}));return ModuleFieldPoint?ModuleFieldPoint.displayName:"---"}if(this.config.mvPointsPanel.data&&this.config.mvPointsPanel.data.length>0){var mvPoint=this.config.mvPointsPanel.data.find((function(dp){return dp.fieldId===parseInt(dataPoint.split("_")[1])}));return mvPoint?mvPoint.displayName:"---"}if(this.config.weatherReadingsPanel.data&&this.config.weatherReadingsPanel.data.length>0){var weatherReadingPoint=this.config.weatherReadingsPanel.data.find((function(dp){return dp.fieldId===parseInt(dataPoint.split("_")[1])}));return weatherReadingPoint?weatherReadingPoint.displayName:"---"}return"---"},clearSelectedPoints:function(){this.config.mainPanel.selectedDataPoints=[]},removeSelectedDataPoint:function(dataPoint,index){this.config.mainPanel.selectedDataPoints.splice(index,1)},togglePanel:function(){for(var self=this,configKeys=Object.keys(self.config),_len=arguments.length,panels=new Array(_len),_key=0;_key<_len;_key++)panels[_key]=arguments[_key];for(var _i=0,_configKeys=configKeys;_i<_configKeys.length;_i++){var configKey=_configKeys[_i];panels.indexOf(configKey)>=0?self.config[configKey].show=!0:(self.config[configKey].show=!1,self.config[configKey].selectedItem=null)}},openAssetCategory:function(categoryId){var self=this;if(self.disableMultipleAssetCategories&&self.config.mainPanel.selectedAssetCategory&&self.config.mainPanel.selectedDataPoints.length>0)this.isMultipleCategorySelected=!0;else if(self.togglePanel("assetPointsPanel"),self.config.mainPanel.selectedAssetCategory=categoryId,self.config.assetPointsPanel.loading=!0,self.config.assetPointsPanel.selectedAssetOrPoint=null,self.readings.categories.includes(categoryId)&&self.readings.categoryWithAssets[categoryId])if("assets"===self.config.assetPointsPanel.activeSubTab){var assetIds=Object.keys(self.readings.categoryWithAssets[categoryId]);self.config.assetPointsPanel.data=assetIds.map((function(el){return{id:el,name:self.readings.assets[el]}})),self.config.assetPointsPanel.loading=!1}else{var readingIds=Object.keys(self.readings.categoryWithFields[categoryId]);self.config.assetPointsPanel.data=readingIds.map((function(el){return self.readings.fields[el]})),self.config.assetPointsPanel.loading=!1}else self.buildingIds&&self.$http.post("/asset/getReadingsForSpecificAssetCategory",{buildingIds:[],categoryIds:[categoryId]}).then((function(response){if(self.readings.categories.includes(categoryId)||self.readings.categories.push(categoryId),response.data.categoryWithFields[categoryId]&&(self.readings.categoryWithAssets[categoryId]=response.data.categoryWithAssets[categoryId]),response.data.categoryWithFields[categoryId]&&(self.readings.categoryWithFields[categoryId]=response.data.categoryWithFields[categoryId]),response.data.fields)for(var _i2=0,_Object$keys=Object.keys(response.data.fields);_i2<_Object$keys.length;_i2++){var fieldId=_Object$keys[_i2];self.readings.fields[fieldId]||(self.readings.fields[fieldId]=response.data.fields[fieldId])}if(response.data.assets)for(var _i3=0,_Object$keys2=Object.keys(response.data.assets);_i3<_Object$keys2.length;_i3++){var assetId=_Object$keys2[_i3];self.readings.assets[assetId]||(self.readings.assets[assetId]=response.data.assets[assetId])}if("assets"===self.config.assetPointsPanel.activeSubTab&&self.readings.categoryWithAssets[categoryId]){var _assetIds=Object.keys(self.readings.categoryWithAssets[categoryId]);self.config.assetPointsPanel.data=_assetIds.map((function(el){return{id:el,name:self.readings.assets[el]}})),self.config.assetPointsPanel.loading=!1}else if(self.readings.categoryWithFields[categoryId]){var _readingIds=Object.keys(self.readings.categoryWithFields[categoryId]);self.config.assetPointsPanel.data=_readingIds.map((function(el){return self.readings.fields[el]})),self.config.assetPointsPanel.loading=!1}else self.config.assetPointsPanel.loading=!1}))},openAsset:function(assetId){var self=this;self.config.assetPointsPanel.selectedAssetOrPoint=assetId,self.togglePanel("assetPointsPanel","selectReadingsPanel"),self.config.selectReadingsPanel.loading=!0,self.config.selectReadingsPanel.parentId=assetId;var fieldIds=self.readings.categoryWithAssets[self.config.mainPanel.selectedAssetCategory][assetId];self.config.selectReadingsPanel.data=fieldIds.map((function(el){return self.readings.fields[el]})),self.config.selectReadingsPanel.loading=!1},openPoint:function(pointId){var _this6=this,self=this;self.config.assetPointsPanel.selectedAssetOrPoint=pointId;var assetIds=self.readings.categoryWithFields[self.config.mainPanel.selectedAssetCategory][pointId],dataPoints=assetIds.map((function(el){return{parentId:el,yAxis:{fieldId:pointId,aggr:_this6.readings.fields[pointId]&&_this6.readings.fields[pointId].unit&&["currency","kwh","co2","kg","mwh"].includes(_this6.readings.fields[pointId].unit.trim().toLowerCase())?3:2}}}));this.$emit("updateDataPoints",dataPoints,self.config.mainPanel.selectedAssetCategory,pointId)},emptySelectedDataPoints:function(){this.replaceDataPoints&&(this.isMultipleCategorySelected=!1,this.replaceDataPoints=!1,this.config.mainPanel.selectedAssetCategory=null,this.setInitialValues([]))},getReadingFields:function(readings){var _step3,data=[],_iterator3=(0,createForOfIteratorHelper/* default */.Z)(readings);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _step4,reading=_step3.value,_iterator4=(0,createForOfIteratorHelper/* default */.Z)(reading.fields);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var field=_step4.value;data.push(field)}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return data},loadSpaceReadings:function(){var self=this;self.config.mainPanel.currentModule="spaces",self.togglePanel("selectReadingsPanel"),self.config.selectReadingsPanel.loading=!0,self.config.selectReadingsPanel.parentId=self.buildingIds[0],self.$http.get("/reading/getspacespecificreadings?parentId="+self.buildingIds[0]).then((function(response){self.config.selectReadingsPanel.data=self.getReadingFields(response.data.filter((function(el){
// TODO check whether to show for building analysis also, all readings except enpi
if(self.isSiteAnalysis?7!==el.type:3===el.type)return el}))),self.config.selectReadingsPanel.loading=!1}))},loadWeatherReadings:function(){var self=this;self.config.mainPanel.currentModule="weather",self.togglePanel("selectReadingsPanel"),self.config.selectReadingsPanel.loading=!0;var fetchWeatherReadings=function(siteId){self.$http.get("/reading/getspacespecificreadings?excludeForecastReadings=false&parentId="+siteId).then((function(response){self.config.selectReadingsPanel.data=self.getReadingFields(response.data),self.config.selectReadingsPanel.loading=!1}))};self.$http.get("/building/"+self.buildingIds[0]).then((function(response){if(response.data.building){var siteId=response.data.building.siteId;self.config.selectReadingsPanel.parentId=siteId,fetchWeatherReadings(siteId)}else self.$http.get("/zone/"+self.buildingIds[0]).then((function(response){if(response.data.zone){var _siteId=response.data.zone.siteId;self.config.selectReadingsPanel.parentId=_siteId,fetchWeatherReadings(_siteId)}}))}))},loadEnPIReadings:function(){var self=this;self.config.mainPanel.currentModule="enpi",self.togglePanel("selectReadingsPanel"),self.config.selectReadingsPanel.loading=!0,self.config.selectReadingsPanel.parentId=self.buildingIds[0],self.$http.get("/reading/getspacespecificreadings?parentId="+self.buildingIds[0]).then((function(response){self.config.selectReadingsPanel.data=self.getReadingFields(response.data.filter((function(el){if(7===el.type)return el}))),self.config.selectReadingsPanel.loading=!1}))},cancel:function(){this.isMultipleCategorySelected&&(this.isMultipleCategorySelected=!1),this.$emit("update:visibility",!1)},apply:function(){var _this7=this,dataPoints=[],currentModule=this.$getProperty(this,"config.mainPanel.currentModule","");if(this.config.moduleFieldsPanel.show&&(this.config.moduleFieldsPanel.show=!1),this.config.mainPanel.selectedDataPoints&&this.config.mainPanel.selectedDataPoints.length){var _step5,_iterator5=(0,createForOfIteratorHelper/* default */.Z)(this.config.mainPanel.selectedDataPoints);try{var _loop=function(){var dp=_step5.value,categoryId=dp.split("_")[0]?parseInt(dp.split("_")[0]):null,pointId=parseInt(dp.split("_")[1]),moduleName=null,aggr=null;"mv"!==_this7.mode&&categoryId||[6,7,8].includes(_this7.mode)||(moduleName="mvproject",aggr=3);var point={categoryId:categoryId,name:_this7.getDataPointName(dp),parentId:null,moduleName:moduleName,yAxis:{fieldId:pointId,aggr:_this7.readings.fields[pointId]&&_this7.readings.fields[pointId].unit&&["currency","kwh","co2","kg","mwh"].includes(_this7.readings.fields[pointId].unit.trim().toLowerCase())?3:aggr||2},duplicateDataPoint:!1};if("weather"==currentModule&&(point.parentId=categoryId,_this7.config.weatherStationsPanel.data&&_this7.config.weatherStationsPanel.data.length>0)){var weatherStation=_this7.config.weatherStationsPanel.data.find((function(station){return station.id===point.parentId}));weatherStation&&(point.name="".concat(weatherStation.name," ( ").concat(_this7.getDataPointName(dp)," )"))}[6,7,8].includes(_this7.mode)&&(_this7.readings.fields[pointId]||(point["type"]=4,point.categoryId=null,point.yAxis.aggr=0,point.moduleName=_this7.moduleMap[_this7.mode].toLowerCase())),dataPoints.push(point)};for(_iterator5.s();!(_step5=_iterator5.n()).done;)_loop()}catch(err){_iterator5.e(err)}finally{_iterator5.f()}}this.isMultipleCategorySelected&&(this.isMultipleCategorySelected=!1),this.$emit("updateDataPoints",dataPoints)},setInitialValues:function(dataPoints,buildings){var _this8=this;dataPoints.length!==this.config.mainPanel.selectedDataPoints.length&&(this.config.mainPanel.selectedDataPoints=[],dataPoints.forEach((function(dp){2===dp.type||dp.duplicateDataPoint||(_this8.config.mainPanel.selectedDataPoints.push(dp.categoryId+"_"+dp.yAxis.fieldId),_this8.$route.query.reportId&&dp.categoryId&&_this8.openAssetCategory(dp.categoryId))}))),buildings&&buildings.length&&!this.selectedBuildings.includes(buildings[0])&&this.setSelectedBuildings(buildings)},loadWeatherStationsAndFields:function(){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _yield$API$get3,data,error,_data$stationMap,stationMap,_data$fields,fields;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this9.config.weatherStationsPanel.loading=!0,_this9.config.mainPanel.currentModule="weather",_this9.togglePanel("weatherStationsPanel"),_context4.next=5,api/* API */.bl.get("v3/weather/allWeatherFields");case 5:_yield$API$get3=_context4.sent,data=_yield$API$get3.data,error=_yield$API$get3.error,error?(_this9.config.weatherStationsPanel.data=[],_this9.config.weatherReadingsPanel.data=[]):(_data$stationMap=data.stationMap,stationMap=void 0===_data$stationMap?[]:_data$stationMap,_data$fields=data.fields,fields=void 0===_data$fields?[]:_data$fields,_this9.config.weatherStationsPanel.data=stationMap,_this9.config.weatherReadingsPanel.data=fields),_this9.config.weatherStationsPanel.loading=!1;case 10:case"end":return _context4.stop()}}),_callee4)})))()},openWeatherReadings:function(stationId){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_this10.config.weatherStationsPanel.selectedStationId=stationId,_this10.togglePanel("weatherStationsPanel","weatherReadingsPanel"),_this10.config.weatherReadingsPanel.parentId=stationId;case 3:case"end":return _context5.stop()}}),_callee5)})))()},getFilteredData:function(panel){var _this11=this;if(this.config[panel].data&&this.config[panel].data.length){if(this.config[panel].filterQuery&&this.config[panel].filterQuery.trim().length){var filteredData=this.config[panel].data.filter((function(d){var name=d.displayName?d.displayName:d.name;return name.toLowerCase().indexOf(_this11.config[panel].filterQuery.toLowerCase())>=0&&d}));return filteredData}return this.config[panel].data||[]}return[]}}},components_FPortfolioDataPointSelectorvue_type_script_lang_js=FPortfolioDataPointSelectorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FPortfolioDataPointSelectorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FPortfolioDataPointSelector=component.exports},
/***/676118:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"bb2cda514b874a7abffd2587d2d4f31d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/52244.js.map