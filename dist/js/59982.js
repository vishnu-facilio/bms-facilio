"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[59982],{
/***/459982:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ControlFan}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/webViews/pages/SmartControl/ControlFan.vue?vue&type=template&id=2c4b8ab5&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"control-light-container main"},[_c("div",{staticClass:"fan-svg"},[_c("div",{staticClass:"fan-rotation-svg",class:_vm.fanSvgClass},[_c("inline-svg",{attrs:{src:"control-mobile-ui/fan",iconClass:"icon fill-white icon-200"}})],1)]),_c("div",{staticClass:"slider"},[_c("el-slider",{staticClass:"width65",attrs:{disabled:!_vm.mode,marks:_vm.marks,max:100},on:{change:_vm.onSpeedChange},model:{value:_vm.speed,callback:function($$v){_vm.speed=$$v},expression:"speed"}})],1),_c("div",{staticClass:"control-switch"},[_c("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#e5e5e5"},on:{change:_vm.resetSpeed},model:{value:_vm.mode,callback:function($$v){_vm.mode=$$v},expression:"mode"}})],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),ControlMixin=__webpack_require__(898366),validation=__webpack_require__(990260),ControlFanvue_type_script_lang_js={mixins:[ControlMixin/* default */.Z],data:function(){return{speed:0,marks:{0:"0",100:"100"},mode:!1,isvisible:!1,readingsMap:{}}},mounted:function(){var _this=this,_ref=this||{},assetId=_ref.assetId;this.getReadingValues(assetId,"FAN").then((function(data){_this.readingsMap=data;var fanspeed=_this.$getProperty(data,"fanspeed1level.value"),switchposition=_this.$getProperty(data,"fanspeed1.value");_this.speed=fanspeed,_this.mode=switchposition}))},computed:{assetId:function(){return this.$getProperty(this,"$route.params.asset",-1)},roundOffSpeed:function(){var speed=this.speed;return speed+12.5-(speed+12.5)%25},fanSvgClass:function(){var _ref2=this||{},roundOffSpeed=_ref2.roundOffSpeed,mode=_ref2.mode;if(mode){var actualSpeed=roundOffSpeed/25;return"rotating-speed-".concat(actualSpeed)}return""}},methods:{onSpeedChange:function(currValue){var fieldId=this.$getProperty(this,"readingsMap.fanspeed1level.fieldId"),value=this.$getProperty(this,"readingsMap.fanspeed1level.value");value=value+12.5-(value+12.5)%25,value!==currValue&&this.setReading(fieldId,this.speed)},resetSpeed:function(currValue){var fieldId=this.$getProperty(this,"readingsMap.fanspeed1.fieldId"),value=this.$getProperty(this,"readingsMap.fanspeed1level.value");(0,validation/* isEmpty */.xb)(value)||value===currValue||this.setReading(fieldId,"".concat(this.mode))},setReading:function(fieldId,value){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _ref3,assetId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_ref3=_this2||{},assetId=_ref3.assetId,(0,validation/* isEmpty */.xb)(assetId)||(0,validation/* isEmpty */.xb)(fieldId)||(0,validation/* isEmpty */.xb)(value)||_this2.setReadingValue(parseInt(assetId),fieldId,value);case 2:case"end":return _context.stop()}}),_callee)})))()}}},SmartControl_ControlFanvue_type_script_lang_js=ControlFanvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(SmartControl_ControlFanvue_type_script_lang_js,render,staticRenderFns,!1,null,"2c4b8ab5",null)
/* harmony default export */,ControlFan=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/59982.js.map