"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[86095],{
/***/286095:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return paymentMemoPreview2}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/etisalat/Invoice/paymentMemoPreview2.vue?vue&type=template&id=f6d3780e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isLoading?_c("div",{staticClass:"flex-middle justify-content-center"},[_c("spinner",{attrs:{show:_vm.isLoading,size:80}})],1):_c("div",{ref:"preview-container"},[_c("div",{staticClass:"fc-etisalat-pdf-con"},[_c("div",{staticStyle:{background:"#fff"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",[_c("div",{staticClass:"fc-green-lite f13 bold line-height20"},[_vm._v(" Supplier Name ")]),_c("div",{staticClass:"label-txt-black bold line-height20"},[_vm._v(" "+_vm._s(_vm.supplier?_vm.supplier.name:"")+" ")]),_c("div",{staticClass:"fc-black-13 line-height20"},[_vm._v(" Payment Memo for "+_vm._s(_vm.supplier?_vm.supplier.name:"")+" for "+_vm._s(_vm.result.date?_vm.getDate(_vm.result.date,"MMM YYYY"):"---")+" ")])]),_c("div",{},[_c("div",{staticClass:"fc-black-com letter-spacing1 f36 fwBold"},[_vm._v(" PAYMENT MEMO ")]),_c("div",{staticClass:"fc-green-lite text-right"},[_vm._v(" "+_vm._s(_vm.result.singleline_11||"")+" ")])])]),_c("div",{staticClass:"flex-middle justify-content-space pT20"},[_c("div",{}),_c("div",{},[_c("div",{staticClass:"flex-middle justify-between"},[_c("div",{staticClass:"fc-green-lite f13 line-height20"},[_vm._v("Memo Period")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5 pR5"},[_vm._v(":")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5"},[_vm._v(" "+_vm._s(_vm.result.date?_vm.getDate(_vm.result.date,"MMM YYYY"):"---")+" ")])]),_c("div",{staticClass:"flex-middle justify-between"},[_c("div",{staticClass:"fc-green-lite f13 line-height20"},[_vm._v("Memo Date")]),_c("div",{staticClass:"fc-black-13 line-height20 pL15 pR6"},[_vm._v(":")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5"},[_vm._v(" "+_vm._s(_vm.result.date_1?_vm.getDate(_vm.result.date_1,"MMM DD, YYYY"):"---")+" ")])])])]),_c("div",{staticClass:"fc-black-12 mT20 text-left fw6"},[_vm._v(" Break up by Cost Centre ")]),_c("table",{staticClass:"fc-invoice-table3"},[_vm._m(0),_c("tbody",[_vm._l(_vm.result.adminLineItems,(function(value,key){return[_c("tr",{key:key},"total"!==key?[_c("td",[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(_vm.utility[key]))])]),_c("td",{staticClass:"text-right"},[_vm._v(" "+_vm._s((value.decimal_3?_vm.formatCurrency(value.decimal_3):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal?_vm.formatCurrency(value.decimal):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal_1?_vm.formatCurrency(value.decimal_1):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal_2?_vm.formatCurrency(value.decimal_2):0)+" AED")+" ")])]:[_c("td",{staticClass:"bold",staticStyle:{"background-color":"#f8fbf4"}},[_vm._v(" ADMIN TOTAL (A) ")]),_c("td",{staticClass:"text-right bold",staticStyle:{"background-color":"#f8fbf4"}},[_vm._v(" "+_vm._s((value.decimal_3?_vm.formatCurrency(value.decimal_3):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(1,!0),_c("div",[_vm._v(" "+_vm._s((value.decimal?_vm.formatCurrency(value.decimal):0)+" AED")+" ")])])]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(2,!0),_c("div",[_vm._v(" "+_vm._s((value.decimal_1?_vm.formatCurrency(value.decimal_1):0)+" AED")+" ")])])]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"pR10"},[_vm._v("=")]),_c("div",[_vm._v(" "+_vm._s((value.decimal_2?_vm.formatCurrency(value.decimal_2):0)+" AED")+" ")])])])])]})),_vm._l(_vm.result.techLineItems,(function(value,key){return[_c("tr",{key:key},"total"!==key?[_c("td",[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(_vm.utility[key]))])]),_c("td",{staticClass:"text-right"},[_vm._v(" "+_vm._s((value.decimal_3?_vm.formatCurrency(value.decimal_3):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal?_vm.formatCurrency(value.decimal):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal_1?_vm.formatCurrency(value.decimal_1):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap"},[_vm._v(" "+_vm._s((value.decimal_2?_vm.formatCurrency(value.decimal_2):0)+" AED")+" ")])]:[_c("td",{staticClass:"bold uppercase",staticStyle:{"background-color":"#f8fbf4"}},[_vm._v(" Engineering TOTAL (B) ")]),_c("td",{staticClass:"text-right bold",staticStyle:{"background-color":"#f8fbf4"}},[_vm._v(" "+_vm._s((value.decimal_3?_vm.formatCurrency(value.decimal_3):0)+" AED")+" ")]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(3,!0),_c("div",[_vm._v(" "+_vm._s((value.decimal?_vm.formatCurrency(value.decimal):0)+" AED")+" ")])])]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(4,!0),_c("div",[_vm._v(" "+_vm._s((value.decimal_1?_vm.formatCurrency(value.decimal_1):0)+" AED")+" ")])])]),_c("td",{staticClass:"text-right nowrap bold",staticStyle:{"background-color":"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"pR10"},[_vm._v("=")]),_c("div",[_vm._v(" "+_vm._s((value.decimal_2?_vm.formatCurrency(value.decimal_2):0)+" AED")+" ")])])])])]})),_c("tr",[_c("td",{attrs:{colspan:"100%"}},[_c("div",{staticClass:"fc-black2-18 text-right nowrap fwBold"},[_c("span",{staticClass:"pR20"},[_vm._v("PAYMENT MEMO TOTAL (A+B)")]),_vm._v(" "+_vm._s((_vm.result.decimal_2?_vm.formatCurrency(_vm.result.decimal_2):0)+" AED")+" ")])])])],2)])])])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticStyle:{width:"30%"}},[_vm._v("ITEM")]),_c("th",{staticClass:"text-right",staticStyle:{width:"250px"}},[_vm._v(" Non Taxable Amount ")]),_c("th",{staticClass:"text-right",staticStyle:{width:"200px"}},[_vm._v("Taxable Amount")]),_c("th",{staticClass:"text-right"},[_vm._v("VAT")]),_c("th",{staticClass:"text-right"},[_vm._v("TOTAL")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold pR10"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold pR10"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold pR10"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold pR10"})])}],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(420629)),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),paymentMemoPreview2vue_type_script_lang_js={props:["details","moduleName","calculateDimensions","resizeWidget"],data:function(){return{isLoading:!0,pdfopen:!1,currentPage:0,pageCount:0,result:{},supplier:null,utility:{1:"Electricity",2:"Water",3:"Gas",4:"Sewage",7:"Arrears"},params:{nameSpace:"invoiceSummary",functionName:"getInvoiceSummary",paramList:[]}}},mounted:function(){this.getData()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{fields:function(){return this.moduleMeta.fields||[]},fieldDisplayNames:function(){var _this=this;if(this.moduleMeta&&this.moduleMeta.fields){var fieldMap={};return this.moduleMeta.fields.forEach((function(field){_this.$set(fieldMap,field.name,field.displayName)})),fieldMap}return[]}}),methods:{formatCurrency:function(value){return(0,formatter/* formatCurrency */.xG)(value,2)},goToInvoice:function(invoice){var routeData=this.$router.resolve({path:"/app/supp/custom_invoices/all/".concat(invoice.id,"/summary")});window.open(routeData.href,"_blank")},getDate:function(time,formatter){return moment_timezone_default()(Number(time)).tz(this.$timezone).format(formatter)},getData:function(){var _this2=this,invoiceid=this.details.id;this.params.paramList.push(invoiceid),this.$http.post("/v2/workflow/runWorkflow",this.params).then((function(resp){resp.data.result&&resp.data.result.workflow&&resp.data.result.workflow.returnValue&&(_this2.result=resp.data.result.workflow.returnValue,_this2.getsupplierId()),_this2.isLoading=!1,_this2.autoResize()}))},autoResize:function(){var _this3=this;this.$nextTick((function(){var height=_this3.$refs["preview-container"].scrollHeight+60,width=_this3.$refs["preview-container"].scrollWidth,_this3$calculateDimen=_this3.calculateDimensions({height:height,width:width}),h=_this3$calculateDimen.h;(0,validation/* isEmpty */.xb)(_this3.initialWidgetHeight)&&(_this3.initialWidgetHeight=h),_this3.resizeWidget({h:_this3.isAllVisible?h:_this3.initialWidgetHeight})}))},getsupplierId:function(){var lookup=this.result.lookup;lookup&&lookup.id&&this.getsupplier(lookup.id)},getsupplier:function(id){var _this4=this;this.$http.get("/v2/pages/vendors?id=".concat(id)).then((function(resp){resp.data.result&&resp.data.result.record&&(_this4.supplier=resp.data.result.record)}))}}},Invoice_paymentMemoPreview2vue_type_script_lang_js=paymentMemoPreview2vue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Invoice_paymentMemoPreview2vue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,paymentMemoPreview2=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/86095.js.map