"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[97413],{
/***/297157:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ErrorBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ErrorBanner.vue?vue&type=template&id=3d9e5288
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasError?_c("div",{staticClass:"error-block",attrs:{id:"error"}},[_c("p",{staticClass:"error-txt"},[_c("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(_vm.errorMessage?_vm.errorMessage:"Please fill all mandatory fields.")+" ")]),_c("i",{staticClass:"el-icon-close error-close-icon",on:{click:_vm.closeBanner}})]):_vm._e()])},staticRenderFns=[],ErrorBannervue_type_script_lang_js={props:["error","errorMessage"],computed:{hasError:{get:function(){return this.error},set:function(value){this.$emit("update:error",value)}}},methods:{closeBanner:function(){this.hasError=!1,this.$emit("update:errorMessage","")}}},components_ErrorBannervue_type_script_lang_js=ErrorBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ErrorBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ErrorBanner=component.exports},
/***/747579:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewOperatingHour}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/NewOperatingHour.vue?vue&type=template&id=437b8bc5
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("error-banner",{attrs:{error:_vm.error,errorMessage:_vm.errorText},on:{"update:error":function($event){_vm.error=$event},"update:errorMessage":function($event){_vm.errorText=$event},"update:error-message":function($event){_vm.errorText=$event}}}),_c("div",{attrs:{id:"newworkordercategory"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common.wo_report.new_operating_hour"):_vm.$t("common.wo_report.edit_operating_hour"))+" ")])])]),_c("div",{staticClass:"new-body-modal"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("common._common.enter_the_name")},model:{value:_vm.name,callback:function($$v){_vm.name=$$v},expression:"name"}})],1)],1),_c("el-row",{staticClass:"mT20",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.operating_hour_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_operating_hour_type")},model:{value:_vm.businessHourType,callback:function($$v){_vm.businessHourType=$$v},expression:"businessHourType"}},[_c("el-option",{attrs:{label:_vm.$t("common.date_picker.24_hours_7_days"),value:"DAYS_24_7"}}),_c("el-option",{attrs:{label:_vm.$t("common.date_picker.24_hours_5_days"),value:"DAYS_24_5"}}),_c("el-option",{attrs:{label:_vm.$t("common._common.custom_hours"),value:"CUSTOM"}})],1)],1)],1),"DAYS_24_7"!==_vm.businessHourType?_c("div",["CUSTOM"===_vm.businessHourType?_c("div",[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block mT20"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.custom_hour_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_custom_hour_type")},model:{value:_vm.customHourType,callback:function($$v){_vm.customHourType=$$v},expression:"customHourType"}},[_c("el-option",{attrs:{label:_vm.$t("common._common.same_timing_all_day"),value:"SAME_TIMING_ALLDAY"}}),_c("el-option",{attrs:{label:_vm.$t("common._common.different_timing_all_day"),value:"DIFFERENT_TIMING_ALLDAY"}})],1)],1)]),_c("el-col",{attrs:{span:12}},["SAME_TIMING_ALLDAY"===_vm.customHourType?_c("div",[_c("div",{staticClass:"setup-input-block mT20"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.timing"))+" ")]),_c("el-row",{staticClass:"operating-hours-checkbox"},[_c("el-col",{attrs:{span:12}},[_c("el-time-select",{staticClass:"width110px",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.same_starttime,callback:function($$v){_vm.same_starttime=$$v},expression:"same_starttime"}})],1),_c("el-col",{staticClass:"pL10",attrs:{span:12}},[_c("el-time-select",{staticClass:"width110px",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.products.to")},model:{value:_vm.same_endtime,callback:function($$v){_vm.same_endtime=$$v},expression:"same_endtime"}})],1)],1)],1)]):_vm._e()])],1)],1):_vm._e(),_c("div",{staticClass:"setup-input-block mT30"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.operating_days"))+" ")]),_c("el-checkbox-group",{staticClass:"mT10 operating-hours-checkbox",attrs:{min:1,max:7},model:{value:_vm.operatingDaysList,callback:function($$v){_vm.operatingDaysList=$$v},expression:"operatingDaysList"}},[_c("el-checkbox",{staticClass:"mB20",attrs:{label:"1"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.monday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.mon_starttime,callback:function($$v){_vm.mon_starttime=$$v},expression:"mon_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.mon_endtime,callback:function($$v){_vm.mon_endtime=$$v},expression:"mon_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"2"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.tuesday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.tue_starttime,callback:function($$v){_vm.tue_starttime=$$v},expression:"tue_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.tue_endtime,callback:function($$v){_vm.tue_endtime=$$v},expression:"tue_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"3"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.wednesday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.wed_starttime,callback:function($$v){_vm.wed_starttime=$$v},expression:"wed_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.wed_endtime,callback:function($$v){_vm.wed_endtime=$$v},expression:"wed_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"4"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.thursday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.thu_starttime,callback:function($$v){_vm.thu_starttime=$$v},expression:"thu_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.thu_endtime,callback:function($$v){_vm.thu_endtime=$$v},expression:"thu_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"5"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.friday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.fri_starttime,callback:function($$v){_vm.fri_starttime=$$v},expression:"fri_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.fri_endtime,callback:function($$v){_vm.fri_endtime=$$v},expression:"fri_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"6"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.saturday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.sat_starttime,callback:function($$v){_vm.sat_starttime=$$v},expression:"sat_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.sat_endtime,callback:function($$v){_vm.sat_endtime=$$v},expression:"sat_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"7"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.sunday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.sun_starttime,callback:function($$v){_vm.sun_starttime=$$v},expression:"sun_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.sun_endtime,callback:function($$v){_vm.sun_endtime=$$v},expression:"sun_endtime"}})],1):_vm._e()])]),_c("br")],1)],1)]):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.operatingHourValueSaving},on:{click:_vm.saveOperatingHour}},[_vm._v(_vm._s(_vm.operatingHourValueSaving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)])],1)},staticRenderFns=[],ErrorBanner=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(297157)),NewOperatingHourvue_type_script_lang_js={props:["businessHour","isNew","visibility","resourceid"],components:{ErrorBanner:ErrorBanner/* default */.Z},data:function(){return{name:"",businessHourType:"",customHourType:"",same_starttime:"",same_endtime:"",mon_starttime:"",mon_endtime:"",tue_starttime:"",tue_endtime:"",wed_starttime:"",wed_endtime:"",thu_starttime:"",thu_endtime:"",fri_starttime:"",fri_endtime:"",sat_starttime:"",sat_endtime:"",sun_starttime:"",sun_endtime:"",operatingDaysList:[],singleDaybusinessHoursList:[],error:!1,errorText:"",operatingHourValueSaving:!1}},mounted:function(){this.initOperatingHour()},methods:{initOperatingHour:function(){if(this.isNew)this.name="",this.businessHourType="DAYS_24_7",this.customHourType="SAME_TIMING_ALLDAY",this.same_starttime="",this.same_endtime="",this.mon_starttime="",this.mon_endtime="",this.tue_starttime="",this.tue_endtime="",this.wed_starttime="",this.wed_endtime="",this.thu_starttime="",this.thu_endtime="",this.fri_starttime="",this.fri_endtime="",this.sat_starttime="",this.sat_endtime="",this.sun_starttime="",this.sun_endtime="",this.operatingDaysList=["1","2","3","4","5"],this.singleDaybusinessHoursList=[];else{for(var i in this.name=this.businessHour.value.name,this.businessHourType=this.businessHour.value.businessHourTypeVal,this.customHourType=this.businessHour.value.customHourTypeVal,null===this.customHourType&&(this.customHourType="SAME_TIMING_ALLDAY"),this.singleDaybusinessHoursList=this.businessHour.value.singleDaybusinessHoursList,"DAYS_24_7"===this.businessHourType&&(this.operatingDaysList=["1","2","3","4","5"]),this.singleDaybusinessHoursList)this.singleDaybusinessHoursList[i].dayOfWeek=this.singleDaybusinessHoursList[i].dayOfWeek.toString(),this.operatingDaysList.push(this.singleDaybusinessHoursList[i].dayOfWeek),"1"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.mon_starttime=this.singleDaybusinessHoursList[i].startTime,this.mon_endtime=this.singleDaybusinessHoursList[i].endTime):"2"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.tue_starttime=this.singleDaybusinessHoursList[i].startTime,this.tue_endtime=this.singleDaybusinessHoursList[i].endTime):"3"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.wed_starttime=this.singleDaybusinessHoursList[i].startTime,this.wed_endtime=this.singleDaybusinessHoursList[i].endTime):"4"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.thu_starttime=this.singleDaybusinessHoursList[i].startTime,this.thu_endtime=this.singleDaybusinessHoursList[i].endTime):"5"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.fri_starttime=this.singleDaybusinessHoursList[i].startTime,this.fri_endtime=this.singleDaybusinessHoursList[i].endTime):"6"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.sat_starttime=this.singleDaybusinessHoursList[i].startTime,this.sat_endtime=this.singleDaybusinessHoursList[i].endTime):"7"===this.singleDaybusinessHoursList[i].dayOfWeek&&(this.sun_starttime=this.singleDaybusinessHoursList[i].startTime,this.sun_endtime=this.singleDaybusinessHoursList[i].endTime);"CUSTOM"===this.businessHourType&&"SAME_TIMING_ALLDAY"===this.customHourType&&this.singleDaybusinessHoursList.length>0&&(this.same_starttime=this.singleDaybusinessHoursList[0].startTime,this.same_endtime=this.singleDaybusinessHoursList[0].endTime)}},validation:function(){return this.error=!1,this.errorText="",null===this.name||""===this.name?(this.errorText=this.$t("common.header.please_enter_name"),this.error=!0,!1):"DAYS_24_5"===this.businessHourType&&5!=this.operatingDaysList.length?(this.errorText=this.$t("common._common.please_choose_five_operating_days"),this.error=!0,!1):"CUSTOM"!==this.businessHourType||"SAME_TIMING_ALLDAY"!==this.customHourType||null!==this.same_starttime&&""!==this.same_starttime&&null!==this.same_endtime&&""!==this.same_endtime?"CUSTOM"===this.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===this.customHourType&&(this.operatingDaysList.indexOf("1")>-1&&(null===this.mon_starttime||""===this.mon_starttime||null===this.mon_endtime||""===this.mon_endtime)||this.operatingDaysList.indexOf("2")>-1&&(null===this.tue_starttime||""===this.tue_starttime||null===this.tue_endtime||""===this.tue_endtime)||this.operatingDaysList.indexOf("3")>-1&&(null===this.wed_starttime||""===this.wed_starttime||null===this.wed_endtime||""===this.wed_endtime)||this.operatingDaysList.indexOf("4")>-1&&(null===this.thu_starttime||""===this.thu_starttime||null===this.thu_endtime||""===this.thu_endtime)||this.operatingDaysList.indexOf("5")>-1&&(null===this.fri_starttime||""===this.fri_starttime||null===this.fri_endtime||""===this.fri_endtime)||this.operatingDaysList.indexOf("6")>-1&&(null===this.sat_starttime||""===this.sat_starttime||null===this.sat_endtime||""===this.sat_endtime)||this.operatingDaysList.indexOf("7")>-1&&(null===this.sun_starttime||""===this.sun_starttime||null===this.sun_endtime||""===this.sun_endtime))?(this.errorText=this.$t("common._common.please_choose_timing_selected_operating_days"),this.error=!0,!1):(this.errorText="",void(this.error=!1)):(this.errorText=this.$t("common._common.please_choose_timing"),this.error=!0,!1)},addOperatingHour:function(){var _this=this;if(this.validation(),!this.error){this.preparingDatasToSave();var resourceid=this.resourceid,businessHour={name:this.name,businessHourType:this.businessHourType,customHourType:this.customHourType,singleDaybusinessHoursList:this.singleDaybusinessHoursList};this.$http.post("/v2/businesshours/add",{businessHour:businessHour,resourceid:resourceid}).then((function(response){
// this.$account.data.operatingHour.push(response.data.result.businessHour);
_this.$message.success(_this.$t("common.wo_report.operating_hour_saved_success")),businessHour.businessHourTypeVal=businessHour.businessHourType,businessHour.customHourTypeVal=businessHour.customHourType,businessHour.id=response.data.result.businessHour.id,void 0!==resourceid?_this.$emit("businessHourChange",businessHour):_this.$emit("add",businessHour),_this.$emit("update:visibility",!1)})).catch((function(){_this.$message.error(_this.$t("common._common.failed_to_save_operating_hour")),_this.$emit("update:visibility",!1)}))}},editOperatingHour:function(){var _this2=this;if(this.validation(),!this.error){this.preparingDatasToSave();var businessHour=Object.assign({},this.businessHour.value);businessHour.name=this.name,businessHour.businessHourType=this.businessHourType,businessHour.customHourType=this.customHourType,businessHour.businessHourTypeVal=businessHour.businessHourType,businessHour.customHourTypeVal=businessHour.customHourType,businessHour.singleDaybusinessHoursList=this.singleDaybusinessHoursList,this.$http.post("/v2/businesshours/edit",{businessHour:businessHour}).then((function(){_this2.$emit("edit",businessHour),_this2.$message.success(_this2.$t("common._common.operating_hour_updated_success")),_this2.$emit("update:visibility",!1)})).catch((function(){_this2.$message.success(_this2.$t("common._common.failed_to_update_operating_hour")),_this2.$emit("update:visibility",!1)}))}},saveOperatingHour:function(){this.isNew?this.addOperatingHour():this.editOperatingHour()},closeDialog:function(){this.$emit("close"),this.$emit("update:visibility",!1)},clearDifferentTimingValues:function(){this.mon_starttime=null,this.mon_endtime=null,this.tue_starttime=null,this.tue_endtime=null,this.wed_starttime=null,this.wed_endtime=null,this.thu_starttime=null,this.thu_endtime=null,this.fri_starttime=null,this.fri_endtime=null,this.sat_starttime=null,this.sat_endtime=null,this.sun_starttime=null,this.sun_endtime=null},preparingDatasToSave:function(){if("DAYS_24_7"===this.businessHourType)this.customHourType=null,this.same_starttime=null,this.same_endtime=null,this.operatingDaysList=null,this.clearDifferentTimingValues(),this.singleDaybusinessHoursList=null;else if("DAYS_24_5"===this.businessHourType)for(var i in this.customHourType=null,this.same_starttime=null,this.same_endtime=null,this.clearDifferentTimingValues(),this.singleDaybusinessHoursList=[],this.operatingDaysList){var singleDayBusinessHour={dayOfWeek:"",startTime:"",endTime:""};singleDayBusinessHour.dayOfWeek=this.operatingDaysList[i],this.singleDaybusinessHoursList.push(singleDayBusinessHour)}else if("CUSTOM"===this.businessHourType)for(var j in"SAME_TIMING_ALLDAY"===this.customHourType?(this.mon_starttime=this.same_starttime,this.mon_endtime=this.same_endtime,this.tue_starttime=this.same_starttime,this.tue_endtime=this.same_endtime,this.wed_starttime=this.same_starttime,this.wed_endtime=this.same_endtime,this.thu_starttime=this.same_starttime,this.thu_endtime=this.same_endtime,this.fri_starttime=this.same_starttime,this.fri_endtime=this.same_endtime,this.sat_starttime=this.same_starttime,this.sat_endtime=this.same_endtime,this.sun_starttime=this.same_starttime,this.sun_endtime=this.same_endtime):(this.same_starttime=null,this.same_endtime=null),this.singleDaybusinessHoursList=[],this.operatingDaysList){var singleDayBusinessHours={dayOfWeek:"",startTime:"",endTime:""};singleDayBusinessHours.dayOfWeek=this.operatingDaysList[j],singleDayBusinessHours.startTime=this.getTimeByDayOfWeek("start",singleDayBusinessHours.dayOfWeek),singleDayBusinessHours.endTime=this.getTimeByDayOfWeek("end",singleDayBusinessHours.dayOfWeek),this.singleDaybusinessHoursList.push(singleDayBusinessHours)}},getTimeByDayOfWeek:function(type,dayofweek){if("start"===type){if("1"===dayofweek)return this.mon_starttime;if("2"===dayofweek)return this.tue_starttime;if("3"===dayofweek)return this.wed_starttime;if("4"===dayofweek)return this.thu_starttime;if("5"===dayofweek)return this.fri_starttime;if("6"===dayofweek)return this.sat_starttime;if("7"===dayofweek)return this.sun_starttime}else if("end"===type){if("1"===dayofweek)return this.mon_endtime;if("2"===dayofweek)return this.tue_endtime;if("3"===dayofweek)return this.wed_endtime;if("4"===dayofweek)return this.thu_endtime;if("5"===dayofweek)return this.fri_endtime;if("6"===dayofweek)return this.sat_endtime;if("7"===dayofweek)return this.sun_endtime}}}},components_NewOperatingHourvue_type_script_lang_js=NewOperatingHourvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewOperatingHourvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewOperatingHour=component.exports},
/***/897413:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return OperatingHours}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/OperatingHours.vue?vue&type=template&id=524eef21
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 user-layout"},[_c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.operating_hours"))+" ")]),_c("div",{staticClass:"heading-description"},[_vm._v(" "+_vm._s(_vm.$t("common._common.list_of_all_operating_hour"))+" ")])]),_c("div",{staticClass:"action-btn setting-page-btn"},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:_vm.newOperatingHour}},[_vm._v(_vm._s(_vm.$t("common._common.add_operating_hour")))]),_vm.showDialog?_c("new-operating-hour",{attrs:{isNew:_vm.isNew,businessHour:_vm.selectedOperatingHour,visibility:_vm.showDialog},on:{"update:visibility":function($event){_vm.showDialog=$event},edit:_vm.editBH,add:_vm.addBH}}):_vm._e()],1)]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table"},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common.products._name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.operating_hour_type"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.custom_hour_type"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),0===_vm.businessHoursList.length?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_operating_hours_created"))+" ")])])]):_c("tbody",_vm._l(_vm.businessHoursList,(function(operatingHour,index){return _c("tr",{key:index,staticClass:"tablerow"},[_c("td",{staticStyle:{"padding-top":"18px","padding-bottom":"18px"}},[_vm._v(" "+_vm._s(operatingHour.name)+" ")]),_c("td",[_vm._v(" "+_vm._s(_vm.businessHourtypeMap.get(operatingHour.businessHourTypeVal))+" ")]),_c("td",[_vm._v(" "+_vm._s(_vm.customHourtypeMap.get(operatingHour.customHourTypeVal))+" ")]),_c("td",[_c("div",{staticClass:"text-left actions",staticStyle:{"margin-top":"-3px","margin-right":"15px","text-align":"center"}},[_c("i",{staticClass:"el-icon-edit pointer",on:{click:function($event){return _vm.editOperatingHour(index,operatingHour)}}}),_vm._v("    "),_c("i",{staticClass:"el-icon-delete pointer",on:{click:function($event){return _vm.deleteOperatingHour(index,operatingHour)}}})])])])})),0)])])])])])},staticRenderFns=[],NewOperatingHour=(__webpack_require__(456646),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(747579)),OperatingHoursvue_type_script_lang_js={components:{NewOperatingHour:NewOperatingHour/* default */.Z},data:function(){var businessHourtypeMap=new Map;businessHourtypeMap.set("DAYS_24_7","24 Hours 7 Days"),businessHourtypeMap.set("DAYS_24_5","24 Hours 5 Days"),businessHourtypeMap.set("CUSTOM","Custom Hours");var customHourtypeMap=new Map;return customHourtypeMap.set("SAME_TIMING_ALLDAY","Same timing all day"),customHourtypeMap.set("DIFFERENT_TIMING_ALLDAY","Different timing all day"),{businessHoursList:[],businessHourtypeMap:businessHourtypeMap,customHourtypeMap:customHourtypeMap,selectedType:null,isNew:!1,showDialog:!1,associatedModules:null,showCannotDeleteDialog:!1}},mounted:function(){this.getOperatingHour()},methods:{addBH:function(businessHour){this.businessHoursList.push(businessHour)},editBH:function(businessHour){var idx=this.businessHoursList.findIndex((function(bh){return bh.id===businessHour.id}));this.businessHoursList.splice(idx,0,businessHour),this.businessHoursList.splice(idx+1,1)},getOperatingHour:function(){var self=this;self.$http.get("/v2/businesshours/list").then((function(response){self.businessHoursList=response.data.result.list}))},newOperatingHour:function(){this.selectedOperatingHour=null,this.isNew=!0,this.showDialog=!0},editOperatingHour:function(index,operatingHour){this.selectedOperatingHour={index:index,value:operatingHour},this.isNew=!1,this.showDialog=!0},openCannotDelDialog:function(modules){this.associatedModules=modules,this.showCannotDeleteDialog=!0},deleteOperatingHour:function(index,operatingHour){var _this=this;this.$dialog.confirm({title:this.$t("common.wo_report.delete_operating_hour_title"),message:this.$t("common.header.are_you_sure_you_want_to_delete_operating_hour"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&_this.$http.post("/v2/businesshours/delete",{id:operatingHour.id}).then((function(response){200===response.status&&(_this.businessHoursList.splice(index,1),_this.$message.success(_this.$t("common._common.operating_hour_deleted_success")))})).catch((function(error){400===error.response.status?_this.openCannotDelDialog(error.response.data.relatedModules):_this.$message.error(_this.$t("common._common.failed_to_delete_operating_hour"))}))}))}}},setup_OperatingHoursvue_type_script_lang_js=OperatingHoursvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(setup_OperatingHoursvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OperatingHours=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/97413.js.map