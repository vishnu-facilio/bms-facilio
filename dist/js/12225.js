"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[12225],{
/***/874249:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return RichTextArea}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/RichTextArea.vue?vue&type=template&id=7711575b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isRichText?_c("div",{staticClass:"richtext-area"},[_c("RichText",{style:{minHeight:_vm.minHeight,maxHeight:_vm.maxHeight,overflow:_vm.overflow},attrs:{readOnly:_vm.disabled,placeholder:_vm.placeholder,hideImgTool:_vm.hideImgTool,hideUnorderedList:_vm.hideUnorderedList,hideOrderedList:_vm.hideOrderedList,secondaryToolbar:_vm.secondaryToolbar,istoolbarPositionBottom:_vm.istoolbarPositionBottom,isMoreOption:_vm.isMoreOption,customToolOrder:_vm.customToolOrder,iconColor:_vm.iconColor},scopedSlots:_vm._u([_vm.canShowModeToggle?{key:"editorMode",fn:function(){return[_c("div",{staticClass:"self-center marginL-auto mR15 cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.plain_text_mode"))+" ")])]},proxy:!0}:null],null,!0),model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1):_c("div",{staticClass:"richtext-area plain-text-mode"},[_c("div",{staticClass:"richtext-editor"},[_c("div",{staticClass:"richtext-toolbar"},[_c("div",{staticClass:"toolbar-button marginL-auto cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.switch_to_richtext"))+" ")])]),_c("el-input",{key:"plain-text",staticClass:"richtext-content",attrs:{type:"textarea",resize:"none",placeholder:_vm.placeholder},model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1)])},staticRenderFns=[],ui_forms=(__webpack_require__(879288),__webpack_require__(141323)),filters=__webpack_require__(638203),RichTextAreavue_type_script_lang_js={props:{value:{type:String},field:{type:Object},rows:{type:Number,default:10},maxRows:{type:Number,default:12},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Enter text here"},isEdit:{type:Boolean,default:!1},hideImgTool:{type:Boolean,default:!1},hideOrderedList:{type:Boolean,default:!1},hideUnorderedList:{type:Boolean,default:!1},isRichTextMode:{type:Boolean,default:!0},canShowModeToggle:{type:Boolean,default:!1},istoolbarPositionBottom:{type:Boolean},customToolOrder:{type:Array},isMoreOption:{type:Boolean},secondaryToolbar:{type:Boolean},iconColor:{type:String}},components:{RichText:ui_forms/* RichText */.Ho},computed:{content:{get:function(){return this.value},set:function(value){this.$emit("input",value)}},isRichText:{get:function(){return this.isRichTextMode},set:function(value){this.$emit("update:isRichTextMode",value)}},
// Assuming a <p></p> tag inside editor
// has fonts-size 1rem and margin-bottom 1rem
minHeight:function(){return"".concat(2*this.rows,"rem")},maxHeight:function(){return"".concat(2*this.maxRows,"rem")},overflow:function(){return"hidden"}},methods:{changeMode:function(){var isRichText=this.isRichText,value=this.value;if(isRichText)this.showConfirmModeSwitch();else{var htmlContent="<p>".concat(value,"</p>");this.content=htmlContent,this.proceedChangingModes()}},showConfirmModeSwitch:function(){var _this=this,dialogObj={htmlMessage:"".concat(this.$t("forms.builder.switch_alert")),rbDanger:!0,rbLabel:"Confirm"};this.$dialog.confirm(dialogObj).then((function(canProceed){if(canProceed){var value=_this.value,textContent=(0,filters/* htmlToText */.s9)(value);_this.content=textContent,_this.proceedChangingModes()}}))},proceedChangingModes:function(){var isRichText=this.isRichText;this.isRichText=!isRichText}}},forms_RichTextAreavue_type_script_lang_js=RichTextAreavue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_RichTextAreavue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RichTextArea=component.exports},
/***/478878:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return TermsSpecialFieldsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/TermsSpecialFieldsList.vue?vue&type=template&id=77d5f27f
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-s-order pointer edit-icon-color",attrs:{"data-arrow":"true",title:"Long Description"},on:{click:function($event){return _vm.openLongDesc()}}})]),_vm.longDescVisibility?_c("LongDescriptionEditor",{attrs:{content:_vm.$getProperty(_vm.terms,"longDesc"),disabled:!_vm.$hasPermission("termsandconditions:UPDATE")},on:{onSave:_vm.updateLongDescriptionData,onClose:function($event){_vm.longDescVisibility=!1}}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),RichTextAreaEditor=__webpack_require__(974514),api=__webpack_require__(32284),eventBus=__webpack_require__(398011),TermsSpecialFieldsListvue_type_script_lang_js={props:["terms"],components:{LongDescriptionEditor:RichTextAreaEditor/* default */.Z},data:function(){return{longDescVisibility:!1}},mounted:function(){},methods:{openLongDesc:function(){this.longDescVisibility=!0},updateLongDescriptionData:function(longDesc){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$updateReco,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return params={id:_this.$getProperty(_this,"terms.id"),data:{longDesc:longDesc}},_context.next=3,api/* API */.bl.updateRecord("termsandconditions",params);case 3:_yield$API$updateReco=_context.sent,error=_yield$API$updateReco.error,error?_this.$message.error(error.message||"Error Occured"):(_this.$message.success(_this.$t("common.products.long_description_edited_successfully")),_this.longDescVisibility=!1,eventBus/* eventBus */.Y.$emit("refesh-parent"));case 6:case"end":return _context.stop()}}),_callee)})))()}}},list_TermsSpecialFieldsListvue_type_script_lang_js=TermsSpecialFieldsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_TermsSpecialFieldsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,TermsSpecialFieldsList=component.exports},
/***/912225:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AssociatedTermsWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/purchase/component/AssociatedTermsWidget.vue?vue&type=template&id=7ce1ce2b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"lineItems-container"},[_vm.$validation.isEmpty(_vm.termsAssociated)?_c("div",{staticClass:"fc-align-center-column height100"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/purchaseOrder",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_terms_associated"))+" ")])],1):_c("div",{staticClass:"tr-summary-table width100 pT20 pL30 pB20"},[_c("div",{staticClass:"widget-title mL0 mB10"},[_vm._v(" "+_vm._s(_vm.moduleDetailsMap[_vm.moduleName].title)+" ")]),_c("el-table",{staticClass:"width100",attrs:{data:_vm.termsAssociated,height:"210px"}},[_c("el-table-column",{attrs:{prop:"terms.name",label:_vm.$t("common.roles.name"),"min-width":"200"}}),_c("el-table-column",{attrs:{prop:"terms.termType",label:_vm.$t("common.products.term_type"),"min-width":"200"}}),_c("el-table-column",{attrs:{prop:"terms.shortDesc",label:_vm.$t("common.products.short_description"),"min-width":"200"}}),_c("el-table-column",{attrs:{prop:"terms",label:_vm.$t("common.products.long_description"),"min-width":"200"},scopedSlots:_vm._u([{key:"default",fn:function(termsData){return[_c("TermsSpecialFieldsList",{attrs:{terms:_vm.$getProperty(termsData,"row.terms")}})]}}])}),_vm.canShowDelete?_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",width:"100"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"text-center"},[_vm.canShowDelete?_c("span",{on:{click:function($event){return _vm.deleteRecord(item.row)}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color visibility-hide-actions mL10",attrs:{src:"svgs/delete",iconClass:"icon icon-sm icon-remove"}})],1):_vm._e()])]}}],null,!1,2087635057)}):_vm._e()],1)],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),TermsSpecialFieldsList=__webpack_require__(478878),api=__webpack_require__(32284),eventBus=__webpack_require__(398011),AssociatedTermsWidgetvue_type_script_lang_js={props:["details","widget"],components:{TermsSpecialFieldsList:TermsSpecialFieldsList["default"]},data:function(){return{moduleDetailsMap:{quoteterms:{url:"v2/quotation/disassociateTerms",title:"Quote Associated Terms"},poterms:{url:"v2/purchaseorder/disassociateTerms",title:"PO Associated Terms"},prterms:{url:"v2/purchaserequest/disassociateTerms",title:"PR Associated Terms"}}}},computed:{termsAssociated:function(){return this.$getProperty(this,"details.termsAssociated")},moduleName:function(){return this.$getProperty(this,"widget.widgetParams.moduleName")},canShowDelete:function(){var moduleName=this.moduleName,tAndCEabledModulesHash={quoteterms:"quote",prterms:"purchaserequest",poterms:"purchaseorder"};return this.$hasPermission("".concat(tAndCEabledModulesHash[moduleName],": UPDATE"))}},methods:{deleteRecord:function(item){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName,url,successMsg,param;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:moduleName=_this.moduleName,_this.moduleDetailsMap[moduleName]&&(url=(_this.moduleDetailsMap[moduleName]||{}).url,successMsg=_this.$t("common.products.terms_disassociated"),param={recordIds:["".concat(item.id)]},api/* API */.bl.post(url,param).then((function(_ref){var error=_ref.error;error?_this.$message.error(error.message||"Error Occured"):(_this.$message.success(successMsg),eventBus/* eventBus */.Y.$emit("refesh-parent"))})));case 2:case"end":return _context.stop()}}),_callee)})))()}}},component_AssociatedTermsWidgetvue_type_script_lang_js=AssociatedTermsWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(component_AssociatedTermsWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AssociatedTermsWidget=component.exports},
/***/974514:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return RichTextAreaEditor}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/purchase/tandc/RichTextAreaEditor.vue?vue&type=template&id=b994cd6e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.$t("common.products.long_description"),visible:!0,width:"50%","append-to-body":!0,"before-close":_vm.cancel}},[_c("div",{staticClass:"pB70"},[_c("RichTextArea",{attrs:{disabled:_vm.disabled,isEdit:!0},model:{value:_vm.description,callback:function($$v){_vm.description=$$v},expression:"description"}})],1),_vm.disabled?_vm._e():_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.cancel}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.$t("common.roles.save"))+" ")])],1)])},staticRenderFns=[],RichTextArea=(__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(874249)),RichTextAreaEditorvue_type_script_lang_js={props:["content","disabled"],components:{RichTextArea:RichTextArea/* default */.Z},data:function(){return{description:null}},created:function(){this.content&&(this.description=this.content)},methods:{cancel:function(){this.$emit("onClose")},save:function(){this.$emit("onSave",this.description)}}},tandc_RichTextAreaEditorvue_type_script_lang_js=RichTextAreaEditorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(tandc_RichTextAreaEditorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RichTextAreaEditor=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/12225.js.map