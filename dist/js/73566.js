(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[73566],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/826127:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Space}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/Space.vue?vue&type=template&id=5d05009e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.space?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[_vm.showSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{attrs:{trigger:"click",height:"120px",autoplay:!1,"indicator-position":"none"}},_vm._l(_vm.photos,(function(photo,index){return photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{src:photo.url}})]):_vm._e()})),1)],1):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]),_vm.showName?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(_vm._s(_vm.space.name))])])]):_vm._e(),_vm.showUpload?_c("div",[_c("span",{staticClass:"upload-space-photos pointer",on:{click:_vm.showUploadPhotoDialog}},[_c("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}})]),_c("f-upload-photos",{ref:"uploadDialog",attrs:{list:_vm.photos,module:"basespacephotos",record:_vm.space}})],1):_vm._e()])]):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),FUploadPhotos=(__webpack_require__(434284),__webpack_require__(350367)),Spacevue_type_script_lang_js={props:["size","space","name","hovercard"],data:function(){return{avatarUrl:this.getDefaultAvatar(),sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.space.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["xxxlg","shuge","huge","xhuge"]}},components:{FUploadPhotos:FUploadPhotos/* default */.Z},mounted:function(){this.loadAvatarUrl(),this.space.avatarUrl&&(this.avatarUrl=this.space.avatarUrl)},computed:{showSlide:function(){if(this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},watch:{space:function(){this.avatarUrl=this.getDefaultAvatar(),this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){if(this.sliderEnabledSize.indexOf(this.size)>=0){var self=this;self.photos=[],this.space.id>0&&(self.photosLoading=!0,self.$http.get("/photos/get?module=basespacephotos&parentId="+this.space.id).then((function(response){if(self.photos=response.data.photos||[],self.photosLoading=!1,self.photos.length){var _step2,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(self.photos);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var photo=_step2.value;if(photo.url){self.avatarUrl=photo.url;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}})))}this.space.avatarUrl?this.avatarUrl=this.space.avatarUrl:(this.avatarUrl=this.getDefaultAvatar(),this.space.avatarUrl=this.avatarUrl)},getDefaultAvatar:function(space){var avatarUrl="";if("Campus"===this.space.type||"SITE"===this.space.spaceTypeEnum)avatarUrl=__webpack_require__(555751);else if("Building"===this.space.type||"BUILDING"===this.space.spaceTypeEnum)avatarUrl=__webpack_require__(188742);else if("Space"===this.space.type||"SPACE"===this.space.spaceTypeEnum){var subCategory="";avatarUrl=__webpack_require__("Cafeteria"===subCategory?73209:"Toilet"===subCategory?924353:"Dining"===subCategory?351129:398596)}else avatarUrl=__webpack_require__(188742);return avatarUrl},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}},avatar_Spacevue_type_script_lang_js=Spacevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_Spacevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Space=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/673566:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ZoneOverview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/spacemanagement/overview/ZoneOverview.vue?vue&type=template&id=33c06a75
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"scrollable-y100"},[_vm.loading?_c("div",[_c("spinner",{attrs:{show:_vm.loading}})],1):_c("div",{staticClass:"fc-space-o-layout p15 pR0"},[_c("div",{staticClass:"sp-div-row"}),_vm._m(0),_c("div",{staticClass:"fc-space"},[_c("div",{staticClass:"fc-space-content"},[_c("div",{staticClass:"row sm-gutter",staticStyle:{"margin-top":"10px"}},[_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container db-space-second-row fc-position-relative fc-border-radius sp-row-1 fc-border-1"},[_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"row item-center text-center self-center p10"},[_c("div",{staticClass:"col-4 fc-margin-auto"},[_c("space-avatar",{attrs:{size:"shuge",name:"false",space:_vm.zone}}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"text-center p5 f16 fw5"},[_vm._v(_vm._s(_vm.zone.name))]),_c("div",{staticClass:"text-center f12 space-secondary-color"},[_vm._v(" Zone ID: "),_c("span",{staticClass:"fc-identify-color-1 f11 fw5"},[_vm._v("#"+_vm._s(_vm.zone.id))])]),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_vm.zone.tenantZone&&_vm.tenant.id&&_vm.tenant.id>0?_c("div",{staticClass:"text-center p5 f16 fw5"},[_vm._v(" Occupied By "+_vm._s(_vm.tenant.name)+" ")]):_vm._e(),_vm.zone.tenantZone&&_vm.tenant.id&&_vm.tenant.id>0?_c("div",{staticClass:"text-center f12 space-secondary-color",staticStyle:{cursor:"pointer"},on:{click:function($event){return _vm.openTenant(_vm.tenant.id)}}},[_vm._v(" Tenant ID: "),_c("span",{staticClass:"fc-identify-color-1 f11 fw5"},[_vm._v("#"+_vm._s(_vm.tenant.id))])]):_vm._e()],1)]),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-12 fc-margin-auto text-center"},[_c("div",{staticClass:"row fc-margin-auto text-center justify-center"},[_c("div",{staticClass:"col-3"},[_c("div",{staticClass:"fc-avatar sp-avatar-xxlg primary-color fc-border-none sp-color-1 f30"},[_vm._v(" "+_vm._s(_vm.children.length)+" ")]),_c("div",{staticClass:"f12 space-secondary-color mtb10 uppercase"},[_vm._v(" spaces ")])])])])]),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"})])])])])]),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"row sp-card-container ellipsis site-cards"},_vm._l(_vm.reportcards,(function(reportcard,index){return _c("div",{key:index,staticClass:"col-3"},[_c("div",{staticClass:"container db-container fc-position-relative fc-border-radius p0 text-center fc-border-1"},[_c("space-card",{attrs:{mainMeter:_vm.mainMeter,tempData:reportcard},on:{ValueClick:_vm.filterAll}})],1)])})),0),_vm.subZones&&_vm.subZones.length?_c("div",{staticClass:"row pT30"},[_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container fc-border-1 fc-border-radius"},[_c("div",{staticClass:"q-list q-list-header db-list-header"},[_c("div",{staticClass:"pull-left pL30"},[_vm._v(" Zones "),_c("span",{staticClass:"secondary-color"},[_vm._v("("+_vm._s(_vm.subZones.length)+")")])])]),_c("table",{staticClass:"q-table striped-odd db-tabel hover-effect"},[_vm._m(1),_c("tbody",_vm._l(_vm.subZones,(function(zone,index){return _c("tr",{key:index,staticClass:"pointer",on:{click:function($event){return _vm.openZoneLink(zone.id)}}},[_c("td",{staticClass:"text-left db-bold uppercase sp-td"},[_vm._v(" #"+_vm._s(zone.id)+" ")]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(_vm._s(zone.name))]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(" "+_vm._s(zone.description)+" ")])])})),0)])])])]):_vm._e(),_vm.subSites&&_vm.subSites.length?_c("div",{staticClass:"row pT30"},[_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container fc-border-1 fc-border-radius"},[_c("div",{staticClass:"q-list q-list-header db-list-header"},[_c("div",{staticClass:"pull-left p10 pL30"},[_vm._v(" Sites "),_c("span",{staticClass:"secondary-color"},[_vm._v("("+_vm._s(_vm.subSites.length)+")")])])]),_c("table",{staticClass:"q-table striped-odd db-tabel hover-effect"},[_vm._m(2),_c("tbody",_vm._l(_vm.subSites,(function(site,index){return _c("tr",{key:index,staticClass:"pointer",on:{click:function($event){return _vm.openSiteLink(site.id)}}},[_c("td",{staticClass:"text-left db-bold uppercase sp-td"},[_vm._v(" #"+_vm._s(site.id)+" ")]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(_vm._s(site.name))]),_c("td",{staticClass:"text-center db-bold fw5 sp-td"},[_vm._v(" "+_vm._s(_vm._f("positive")(site.noOfBuildings))+" ")]),_c("td",{staticClass:"text-center db-bold fw5 sp-td"},[site.managedBy?_c("user-avatar",{attrs:{size:"md",user:site.managedBy}}):_c("div",{staticClass:"col-8 self-center fw5 ellipsis"},[_vm._v("--")])],1),_c("td",{staticClass:"text-center db-bold-3 fw5 sp-td"},[_vm._v(" "+_vm._s(_vm.$util.formateSqft(site.area)+" / "+_vm.$util.formateSqft(site.grossFloorArea))+" ")])])})),0)])])])]):_vm._e(),_vm.subBuildings&&_vm.subBuildings.length?_c("div",{staticClass:"row pT30"},[_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container fc-border-1 fc-border-radius"},[_c("div",{staticClass:"q-list q-list-header db-list-header"},[_c("div",{staticClass:"pull-left p10 pL30"},[_vm._v(" Buildings "),_c("span",{staticClass:"secondary-color"},[_vm._v("("+_vm._s(_vm.subBuildings.length)+")")])])]),_c("table",{staticClass:"q-table striped-odd db-tabel hover-effect"},[_vm._m(3),_c("tbody",_vm._l(_vm.subBuildings,(function(building,index){return _c("tr",{key:index,staticClass:"pointer",on:{click:function($event){return _vm.openBuildingLink(building.siteId,building.id)}}},[_c("td",{staticClass:"text-left db-bold uppercase sp-td"},[_vm._v(" #"+_vm._s(building.id)+" ")]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(" "+_vm._s(building.name)+" ")]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 text-center sp-td"},[_vm._v(" "+_vm._s(_vm._f("positive")(building.lastCurrentOccupancy))+" / "+_vm._s(_vm._f("positive")(building.maxOccupancy))+" ")]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 sp-td"},[_vm._v(" "+_vm._s(_vm.$util.formateSqft(building.area))+" ")]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 sp-td"},[_vm._v(" "+_vm._s(_vm._f("positive")(building.noOfFloors))+" ")])])})),0)])])])]):_vm._e(),_vm.subFloors&&_vm.subFloors.length?_c("div",{staticClass:"row pT30"},[_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"sp-div-row"}),_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container fc-border-1 fc-border-radius"},[_c("div",{staticClass:"q-list q-list-header db-list-header"},[_c("div",{staticClass:"pull-left p10 pL30"},[_vm._v(" Floors "),_c("span",{staticClass:"secondary-color"},[_vm._v("("+_vm._s(_vm.subFloors.length)+")")])])]),_c("table",{staticClass:"q-table striped-odd db-tabel hover-effect"},[_vm._m(4),_c("tbody",_vm._l(_vm.subFloors,(function(floor,index){return _c("tr",{key:index,staticClass:"pointer",on:{click:function($event){return _vm.openFloorLink(floor.siteId,floor.id,floor)}}},[_c("td",{staticClass:"text-left db-bold uppercase sp-td"},[_vm._v(" #"+_vm._s(floor.id)+" ")]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(_vm._s(floor.name))]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 text-center sp-td"},[_vm._v(" "+_vm._s(_vm._f("positive")(floor.lastCurrentOccupancy))+" / "+_vm._s(_vm._f("positive")(floor.maxOccupancy))+" ")]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 sp-td"},[_vm._v(" "+_vm._s(_vm.$util.formateSqft(floor.area))+" ")])])})),0)])])])]):_vm._e(),_vm.subSpaces&&_vm.subSpaces.length?_c("div",{staticClass:"row pT30"},[_c("div",{staticClass:"col-12"},[_c("div",{staticClass:"container db-container fc-border-1 fc-border-radius"},[_c("div",{staticClass:"q-list q-list-header db-list-header"},[_c("div",{staticClass:"pull-left pL30"},[_vm._v(" Spaces "),_c("span",{staticClass:"secondary-color"},[_vm._v("("+_vm._s(_vm.subSpaces.length)+")")])])]),_c("table",{staticClass:"q-table striped-odd db-tabel hover-effect"},[_vm._m(5),_c("tbody",_vm._l(_vm.subSpaces,(function(space,index){return _c("tr",{key:index,staticClass:"pointer",on:{click:function($event){return _vm.openSpaceLink(space.siteId,space.id)}}},[_c("td",{staticClass:"text-left db-bold uppercase sp-td"},[_vm._v(" #"+_vm._s(space.id)+" ")]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(_vm._s(space.name))]),_c("td",{staticClass:"text-left db-bold fw5 sp-td"},[_vm._v(" "+_vm._s(space.floor?space.floor.name:"---")+" ")]),_c("td",{staticClass:"text-center db-bold clickable fw5 text-center sp-td"},[_vm._v(" "+_vm._s(space.spaceCategory?space.spaceCategory:"---")+" ")]),_c("td",{staticClass:"text-center db-bold-3 clickable fw5 sp-td"},[_vm._v(" "+_vm._s(_vm.$util.formateSqft(space.area))+" ")])])})),0)])])])]):_vm._e()])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-space-header row"},[_c("div",{staticClass:"col-3 col-sm-3 col-lg-3 pull-left self-center f18 fw5 pL30"},[_vm._v(" Zone Overview ")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Zone id ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Zone name ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Zone description ")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Site id ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Site name ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" Buildings ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" Managed By ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" Floor Area ")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Space id ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Space name ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" CURRENT / MAX OCCUPANCY ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" AREA ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" FLOORS ")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Floor id ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Floor name ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" CURRENT / MAX OCCUPANCY ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" AREA ")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Space id ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Space name ")]),_c("th",{staticClass:"text-left uppercase space-secondary-color sp-td"},[_vm._v(" Floor ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" Category ")]),_c("th",{staticClass:"uppercase space-secondary-color text-center sp-td"},[_vm._v(" Area ")])])])}],objectSpread2=__webpack_require__(595082),User=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(976801),__webpack_require__(648324),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(162506),__webpack_require__(426803)),Space=__webpack_require__(826127),SpaceMixin=__webpack_require__(87171),SpaceReadingCardsvue_type_template_id_7a82ca32_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.data&&_vm.data.label&&"Planned Maintenance"!==_vm.data.label&&"ENERGY CONSUMED"!==_vm.data.label?_c("div",{staticClass:"space-readingcard h100"},[_c("div",{staticClass:"space-readingcard-section"},[_c("div",[!_vm.data||"work_orders"!==_vm.data.name&&"pm"!==_vm.data.name?_vm._e():_c("img",{staticClass:"svg-icon space-readingcard-img",attrs:{src:__webpack_require__(107991)}}),_vm.data&&"fire_alarms"===_vm.data.name?_c("img",{staticClass:"svg-icon space-readingcard-img",attrs:{src:__webpack_require__(819954)}}):_vm._e(),!_vm.data||"assets"!==_vm.data.name&&"spaces"!==_vm.data.name?_vm._e():_c("img",{staticClass:"svg-icon space-readingcard-img",attrs:{src:__webpack_require__(607071)}})]),_c("div",{staticClass:"space-readingcard-data",on:{click:function($event){return _vm.emitRedirect()}}},[_vm.data&&_vm.data.data?_c("span",{staticClass:"space-readingcard-value"},[_vm._v(_vm._s(_vm.data.data))]):_c("span",{staticClass:"space-readingcard-value"},[_vm._v("0")]),_vm.data.unit&&_vm.data.data?_c("span",{staticClass:"space-readingcard-unit",domProps:{innerHTML:_vm._s(_vm.data.unit)}}):_vm._e()]),_c("div",{staticClass:"space-readingcard-header"},[_vm._v(" "+_vm._s(_vm.data&&_vm.data.label||"")+" ")])])]):_vm.data&&"Planned Maintenance"!==_vm.data.label&&_vm.data.data?_c("div",{staticClass:"space-readingcard h100 energy-reading-card"},[_c("div",{staticClass:"space-readingcard-section"},[_c("div",{staticClass:"space-readingcard-header"},[_vm._v(" "+_vm._s(_vm.data&&_vm.data.label||"")+" ")]),_c("div",{staticClass:"space-readingcard-data",on:{click:function($event){return _vm.emitRedirect()}}},[_vm.data.data?_c("span",{staticClass:"space-readingcard-value"},[_vm._v(_vm._s(_vm.data.data))]):_vm._e(),_vm.data.unit&&_vm.data.data?_c("span",{staticClass:"space-readingcard-unit",domProps:{innerHTML:_vm._s(_vm.data.unit)}}):_vm._e()]),_c("div",{staticClass:"space-readingcard-time"},[_vm._v(" "+_vm._s(_vm.$t("common.reports.rangeCategory.THIS_MONTH"))+" ")])])]):_vm.data&&_vm.data.label&&"Planned Maintenance"!==_vm.data.label?_c("div",{staticClass:"space-readingcard-empty"},[_c("div",{staticClass:"space-readingcard-header space-readingcard-header-empty"},[_vm._v(" "+_vm._s(_vm.$t("space.sites.energy_consumed"))+" ")]),_vm.mainMeter?_c("div",{staticClass:"space-readingcard--emptyvalue-1 "},[_vm._v(" "+_vm._s("---")+" ")]):_c("div",{staticClass:"space-readingcard--emptyvalue "},[_vm._v(" "+_vm._s(_vm.$t("space.sites.no_energy_meter"))+" ")])]):_vm._e()},SpaceReadingCardsvue_type_template_id_7a82ca32_staticRenderFns=[],SpaceReadingCardsvue_type_script_lang_js={props:["tempData","mainMeter"],watch:{tempData:function(newVal,oldVal){this.data=newVal}},data:function(){return{data:null}},mounted:function(){this.tempData&&(this.data=this.tempData)},methods:{emitRedirect:function(){this.$emit("ValueClick",this.data.name)}}},cards_SpaceReadingCardsvue_type_script_lang_js=SpaceReadingCardsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(cards_SpaceReadingCardsvue_type_script_lang_js,SpaceReadingCardsvue_type_template_id_7a82ca32_render,SpaceReadingCardsvue_type_template_id_7a82ca32_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceReadingCards=component.exports,router=__webpack_require__(329435),ZoneOverviewvue_type_script_lang_js={title:function(){return"Space Management"},mixins:[SpaceMixin/* default */.Z],components:{UserAvatar:User/* default */.Z,SpaceAvatar:Space/* default */.Z,SpaceCard:SpaceReadingCards},data:function(){return{mainMeter:null,zone:{},reportcards:[],childrenLoading:!0,children:[],tenant:{},loading:!1}},created:function(){this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadBuildings")},computed:{zoneId:function(){return parseInt(this.$route.params.zoneid)},subZones:function(){return this.children.filter((function(child){return"Zone"===child.spaceTypeVal}))},subSites:function(){return this.children.filter((function(child){return"Site"===child.spaceTypeVal}))},subBuildings:function(){return this.children.filter((function(child){return"Building"===child.spaceTypeVal}))},subFloors:function(){return this.children.filter((function(child){return"Floor"===child.spaceTypeVal}))},subSpaces:function(){return this.children.filter((function(child){return"Space"===child.spaceTypeVal}))}},mounted:function(){this.loadZone()},watch:{$route:function(){this.loadZone(),this.loadChildren()}},methods:{loadZone:function(){var self=this;self.loading=!0,self.$http.get("/zone/"+this.zoneId).then((function(response){self.zone=response.data.zone,self.zone.tenantZone&&self.loadTenant(),self.loadChildren(),self.loading=!1}))},loadTenant:function(){var self=this;self.loading=!0,self.$http.get("/zone/getTenant?zoneId="+this.zoneId).then((function(response){self.tenant=response.data.tenant}))},openTenant:function(id){if(id)if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)("tenant",router/* pageTypes */.As.OVERVIEW)||{},name=_ref.name;name&&this.$router.replace({name:name,params:{viewname:"all",id:id}})}else{var url="/app/tm/tenants/all/"+id+"/overview";this.$router.replace({path:url})}},filterAll:function(param){if(!param)return null;var filter={operatorId:38,value:["".concat(this.zone.id)]},routeDetails={work_orders:{path:"/app/wo/orders/open",module:"workorder",viewname:"open"},fire_alarms:{path:"/app/fa/faults/active",module:"firealarm",viewname:"active"},assets:{path:"/app/at/assets/all",module:"asset",viewname:"all"}};if(["work_orders","fire_alarms"].includes(param)){var _ref2=routeDetails[param]||{},path=_ref2.path,module=_ref2.module,viewname=_ref2.viewname,searchFilter={resource:(0,objectSpread2/* default */.Z)({module:module},filter)},query={includeParentFilter:!0,search:JSON.stringify(searchFilter)};if((0,router/* isWebTabsEnabled */.tj)()){var _ref3=(0,router/* findRouteForModule */.Jp)(module,router/* pageTypes */.As.LIST)||{},name=_ref3.name;name&&this.$router.push({name:name,params:{viewname:viewname},query:query})}else this.$router.push({path:path,query:query})}else if("assets"===param){var _ref4=routeDetails[param]||{},_path=_ref4.path,_module=_ref4.module,_viewname=_ref4.viewname,_searchFilter={space:(0,objectSpread2/* default */.Z)({},filter)},_query={search:JSON.stringify(_searchFilter)};if((0,router/* isWebTabsEnabled */.tj)()){var _ref5=(0,router/* findRouteForModule */.Jp)(_module,router/* pageTypes */.As.LIST)||{},_name=_ref5.name;_name&&this.$router.push({name:_name,params:{viewname:_viewname},query:_query})}else this.$router.push({path:_path,query:_query})}else"energy"===param&&this.$router.push({path:"/app/em/dashboard/default"})},fontsize:function(value){return value?(value+="",value.length<3?"f30":value.length<6?"f18":value.length<8?"f13":value.length<10?"f12":value.length<10?"f11":"f10"):"f30"},colorpicker:function(color){return"Work Orders"===color?"workordercolor":"Alarms"===color?"alarmcolor":"Assets"===color?"assetscolor":"ENERGY CONSUMED"===color?"energycolor":"assetscolor"},bgcolorpicker:function(color){return"Work Orders"===color?"workordercolor-o":"Alarms"===color?"alarmcolor-o":"Assets"===color?"assetscolor-o":"ENERGY CONSUMED"===color?"energycolor-o":"assetscolor-o"},loadReportCards:function(){var self=this;self.reportsLoading=!0;var url="/campus/reportcards?campusId="+this.zoneId;self.$http.get(url).then((function(response){self.mainMeter=response.data.mainEnergyMeter,self.reports=response.data.reports,self.reportcards=response.data.reportcards;var data=response.data.reportcards.find((function(rt){return"ENERGY CONSUMED"===rt.label}));data&&self.getEnergyData(data,self.reportcards),self.reportsLoading=!1}))},getEnergyData:function(data){var params={staticKey:"energyDataCard",paramsJson:{dateOperator:28,baseSpaceId:parseInt(this.zoneId),dateValue:null,moduleName:"energyData",fieldName:"totalEnergyConsumptionDelta"}},self=this,index=self.reportcards.indexOf(data);self.$http.post("dashboard/getCardData",params).then((function(response){response.data.cardResult&&(data.data=response.data.cardResult.result?response.data.cardResult.result:0,response.data.cardResult.unit&&response.data.cardResult.unit.symbol&&(data.data>999?(data.data=data.data/1e3,data.unit=" MWh"):data.unit=" KWh",data.data>1&&(data.data=parseInt(data.data)),self.reportcards.splice(index,1,data)))}))},loadChildren:function(){var self=this;self.childrenLoading=!0;var url="/zone/children?zoneId="+this.zoneId;self.$http.get(url).then((function(response){self.childrenLoading=!1,self.children=response.data.children?response.data.children:[],self.loadReportCards()}))}}},overview_ZoneOverviewvue_type_script_lang_js=ZoneOverviewvue_type_script_lang_js,ZoneOverview_component=(0,componentNormalizer/* default */.Z)(overview_ZoneOverviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ZoneOverview=ZoneOverview_component.exports},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/819954:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"25a24ddd4ccea234c5c4c45ebdd5972a.svg";
/***/},
/***/607071:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"3831decf4cc9a6f7fa1df3c521d51eab.svg";
/***/},
/***/107991:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"fff0cbb65571fcee8ee5aa7fcc8cd7fa.svg";
/***/},
/***/188742:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"22bc1f7e3fecc069519710728d363ce9.svg";
/***/},
/***/73209:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"feab5de01574d25fa144b4289c5c1d69.svg";
/***/},
/***/555751:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"299b4c1da32a42a00cf63d01aaeb8c83.svg";
/***/},
/***/351129:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"34313c056b103abf1cd337cccc6f8896.svg";
/***/},
/***/398596:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"a4d2fa3a3df16df5c45be4f9a34439f4.svg";
/***/},
/***/924353:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"0d57a0742a44e20a09bf2796286c373d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/73566.js.map