"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[98982,32686,80865,71569,53021],{
/***/490966:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ColumnCustomization}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ColumnCustomization.vue?vue&type=template&id=3753cf18
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.showDialog,fullscreen:!0,"custom-class":"cc-dialog",title:_vm.$t("common._common.column_settings"),"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event}}},[_c("div",{staticClass:"scrollable",staticStyle:{padding:"20px 0","max-height":"85vh"}},[_vm.fixedFields&&_vm.fixedFields.length?_c("div",{staticClass:"fixed-column"},[_c("el-checkbox-group",{model:{value:_vm.selectedFixedColumns,callback:function($$v){_vm.selectedFixedColumns=$$v},expression:"selectedFixedColumns"}},_vm._l(_vm.fixedFields,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",staticStyle:{border:"none"},attrs:{disabled:field.disabled,label:field.fieldId}},[_vm._v(_vm._s(_vm.getDisplayName(field)))])})),1)],1):_vm._e(),_c("el-divider",{staticClass:"mT0 mB20"}),_c("el-checkbox-group",{staticClass:"fc-column-checkbox pL20 pR20 pT0 pB0",model:{value:_vm.selectedColumns,callback:function($$v){_vm.selectedColumns=$$v},expression:"selectedColumns"}},[_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.sortedFields,"data-parent":"default"}},_vm._l(_vm.sortedFields,(function(field){return _c("el-checkbox",{key:field.name,staticClass:"column-item",class:{checkboxSelected:!0===field.edit},attrs:{label:field.name,value:field.name}},[_c("el-row",[_c("el-col",{attrs:{span:1}},[_c("inline-svg",{staticClass:"vertical-middle cursor-drag icon-right column-drag-icon",staticStyle:{cursor:"-webkit-grabbing"},attrs:{src:"drag-drop",iconClass:"icon icon-sm-md"}})],1),_c("el-col",{attrs:{span:22}},[field.edit?_c("el-input",{ref:"columnRenameInp",refInFor:!0,staticClass:"fc-input-border-remove width90 column-name-change-input",attrs:{placeholder:"Change your column name",autofocus:!0},on:{blur:function($event){field.edit=!1,_vm.$emit("update")},keyup:function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter"))return null;field.edit=!1,_vm.$emit("update")}},model:{value:field.columnDisplayName,callback:function($$v){_vm.$set(field,"columnDisplayName",$$v)},expression:"field.columnDisplayName"}}):_c("div",{},[_vm._v(" "+_vm._s(field.columnDisplayName)+" "),field.field&&field.field.displayName!==field.columnDisplayName?_c("span",{staticClass:"fc-grey-text12 pL5"},[_vm._v(_vm._s(field.field.displayName))]):_vm._e()])],1),_c("el-col",{staticClass:"visibility-hide-actions text-right",attrs:{span:1}},[_c("i",{staticClass:"el-icon-edit pR10 fc-grey3-text14 pL25 column-edit-icon",on:{click:function($event){return $event.stopPropagation(),$event.preventDefault(),_vm.showRenameColumn(field)}}})])],1)],1)})),1),_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.selectedlookupColumns,"data-parent":_vm.selectedLookup}},_vm._l(_vm.selectedlookupColumns,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",attrs:{label:field.fieldId,"data-field-id":field.fieldId},on:{change:function($event){return _vm.onLookupSelected(field)}}},[_vm._v(" "+_vm._s(field.columnDisplayName)+" ")])})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.showDialog=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.isSaving,disabled:_vm.isSaving},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.isSaving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),vuex_esm=(__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(634338),__webpack_require__(339772),__webpack_require__(947522),__webpack_require__(420629)),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),validation=__webpack_require__(990260),jquery=__webpack_require__(619755),jquery_default=__webpack_require__.n(jquery),columnConfigUtil=__webpack_require__(486613),ColumnCustomizationvue_type_script_lang_js={props:["visible","moduleName","viewName","relatedViewDetail","relatedMetaInfo","refreshRelatedList","excludeMainField"],data:function(){return{selectedColumns:[],selectedFixedColumns:[],showDialog:this.visible,sortedFields:this.allFields,nonSelectableColumns:["localId","photoId"],lookupMetaColumns:{},selectedLookup:"",dragOptions:{handle:".icon-right",ghostClass:"drag-ghost",dragClass:"custom-drag",animation:150},columnNameShow:!1,isSaving:!1,editedColumn:null}},components:{draggable:vuedraggable_umd_default()},created:function(){var _this$nonSelectableCo,nonSelectableColumns=this.$getProperty(this.columnConfig,"nonSelectableColumns");(0,validation/* isEmpty */.xb)(nonSelectableColumns)||(_this$nonSelectableCo=this.nonSelectableColumns).push.apply(_this$nonSelectableCo,(0,toConsumableArray/* default */.Z)(nonSelectableColumns));this.sortedFields=this.allFields},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({stateMetaInfo:function(state){return state.view.metaInfo},stateViewDetail:function(state){return state.view.currentViewDetail}})),{},{metaInfo:function(){var stateMetaInfo=this.stateMetaInfo,relatedMetaInfo=this.relatedMetaInfo;return(0,validation/* isEmpty */.xb)(relatedMetaInfo)?stateMetaInfo:relatedMetaInfo},viewDetail:function(){var stateViewDetail=this.stateViewDetail,relatedViewDetail=this.relatedViewDetail;return(0,validation/* isEmpty */.xb)(relatedViewDetail)?stateViewDetail:relatedViewDetail},currentView:function(){return this.viewName?this.viewName:this.$route.params.viewname?this.$route.params.viewname:"all"},columnConfig:function(){var _ref=this.$attrs||{},columnConfig=_ref.columnConfig;return(0,validation/* isEmpty */.xb)(columnConfig)?(0,columnConfigUtil/* getColumnConfig */.U)(this.moduleName):columnConfig},fixedColumns:function(){
// Will be disabled. User wont be able to select
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedColumns=columnConfig.fixedColumns;return fixedColumns}return[]},fixedSelectableColumns:function(){
// Cannot change the order
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedSelectableColumns=columnConfig.fixedSelectableColumns;return fixedSelectableColumns}return[]},availableColumns:function(){var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var availableColumns=columnConfig.availableColumns;return availableColumns}return[]},metaColumns:function(){var _this=this,columns=[];return this.metaInfo&&this.metaInfo.fields&&this.viewDetail&&(columns=this.metaInfo.fields.map((function(field){return field.columnDisplayName=_this.viewDetail.defaultModuleFields&&_this.viewDetail.defaultModuleFields[field.name]?_this.viewDetail.defaultModuleFields[field.name].columnDisplayName:field.displayName,field}))),columns},allFields:function(){var _this2=this,viewFields=this.viewFields.filter((function(field){return 17!==_this2.$getProperty(field,"field.dataType")})),metaColumns=this.metaColumns.filter((function(field){return!_this2.viewFields.find((function(val){return val.name===field.name}))&&!(_this2.nonSelectableColumns||[]).includes(field.name)&&(!(_this2.availableColumns||{}).length||-1!==_this2.availableColumns.indexOf(field.name)||!field.default)&&17!==field.dataType})),columns=[].concat((0,toConsumableArray/* default */.Z)(viewFields),(0,toConsumableArray/* default */.Z)(metaColumns)).filter((function(field){return!(_this2.allFixedColumns||[]).includes(field.name)}));return columns},viewFields:function(){var _this3=this,columns=[];return this.viewDetail&&this.viewDetail.fields&&(columns=this.viewDetail.fields.map((function(vf){vf.name=(vf.field||{}).name||vf.fieldName,vf.fieldId=(vf.field||{}).fieldId;var defaultColumnName=_this3.viewDetail.defaultModuleFields&&_this3.viewDetail.defaultModuleFields[vf.name]?_this3.viewDetail.defaultModuleFields[vf.name].columnDisplayName:null;return vf.columnDisplayName=vf.columnDisplayName||defaultColumnName||vf.field.displayName,vf}))),columns},fixedFields:function(){var _this4=this;return this.metaColumns.filter((function(field){return(_this4.allFixedColumns||[]).includes(field.name)})).map((function(field){return field.disabled=(_this4.fixedColumns||[]).includes(field.name),field}))},allFixedColumns:function(){return(0,validation/* isEmpty */.xb)(this.fixedSelectableColumns)?this.fixedColumns:this.fixedColumns.concat(this.fixedSelectableColumns)},lookupList:function(){var _this5=this,fields=[];return(this.columnConfig||{}).lookupToShow&&this.metaColumns&&(fields=this.metaColumns.filter((function(field){return field.lookupModule&&(!_this5.columnConfig.lookupToShow.length||(_this5.columnConfig.lookupToShow||[]).includes(field.name))}))),fields},selectedlookupColumns:function(){var _this6=this;return this.lookupMetaColumns[this.selectedLookup]?this.lookupMetaColumns[this.selectedLookup].filter((function(field){return-1===_this6.sortedFields.findIndex((function(vf){return vf.fieldId===field.fieldId}))})).map((function(field){return field.columnDisplayName=field.displayName,field.parentFieldId=_this6.selectedLookupObj.fieldId,field})):[]},selectedLookupObj:function(){var _this7=this;return this.lookupList.find((function(field){return field.name===_this7.selectedLookup}))},mainField:function(){return this.metaColumns.find((function(field){return field.mainField}))}}),watch:{visible:function(val,oldVal){val&&this.reInit(),this.showDialog=val},showDialog:function(val,oldVal){this.$emit("update:visible",val)},allFields:function(val){this.sortedFields=val}},methods:{showRenameColumn:function(field){var _this8=this;this.$set(field,"edit",!0),this.$nextTick((function(){_this8.$refs["columnRenameInp"][0].focus()}))},save:function(){var _this9=this;this.isSaving=!0;var excludeMainField=this.excludeMainField,fields=[];fields=(0,validation/* isEmpty */.xb)(excludeMainField)?[{fieldId:this.mainField.id}].concat((0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}})))):(0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}}))),fields=[].concat((0,toConsumableArray/* default */.Z)(fields),(0,toConsumableArray/* default */.Z)(this.selectedFixedColumns.map((function(id){return{fieldId:id}}))));var self=this;this.$store.dispatch("view/customizeColumns",{moduleName:this.moduleName,viewName:this.currentView,fields:fields}).then((function(){self.isSaving=!1,self.showDialog=!1,self.$emit("refreshRelatedList"),self.$message.success(self.$t("common._common.view_updated_successfully"))})).catch((function(error){_this9.$message.error(error.message||_this9.$t("common._common.error_occured"))}))},editColumn:function(){this.editedColumn=this.field},reInit:function(){var _this10=this;this.selectedLookup="",this.selectedColumns=[],this.selectedFixedColumns=[],this.viewFields.forEach((function(vf){(_this10.allFixedColumns||[]).includes(vf.name)&&-1===vf.parentFieldId?(_this10.fixedSelectableColumns||[]).includes(vf.name)&&_this10.selectedFixedColumns.push(vf.fieldId):_this10.selectedColumns.push(vf.name)}))},loadModuleMeta:function(){var _this11=this;this.selectedLookup&&!this.lookupMetaColumns[this.selectedLookup]&&this.$http.get("/module/meta?moduleName="+this.selectedLookupObj.lookupModule.name).then((function(response){_this11.$set(_this11.lookupMetaColumns,_this11.selectedLookup,response.data.meta.fields)}))},getDisplayName:function(field){var displayName=field.columnDisplayName;if(this.viewDetail&&this.viewDetail.fields){var vf=this.viewDetail.fields.find((function(vf){return vf.name===field.name}));vf&&(displayName=vf.columnDisplayName||displayName)}return displayName},onLookupSelected:function(field){this.animate(field.fieldId,(function(){this.selectedlookupColumns=this.selectedlookupColumns.filter((function(lf){return lf.fieldId!==field.fieldId})),field.columnDisplayName+=" ("+this.selectedLookupObj.displayName+")",this.sortedFields.push(field)}))},animate:function(fieldId,cbk){var $selectedElement=jquery_default()('[data-field-id="'+fieldId+'"]'),oldOffset=$selectedElement.offset();$selectedElement.appendTo(jquery_default()("[data-parent='default']"));var newOffset=$selectedElement.offset(),temp=$selectedElement.clone().appendTo("body");temp.css({position:"absolute",left:oldOffset.left,top:oldOffset.top,zIndex:3e3,width:$selectedElement[0].offsetWidth}),$selectedElement.css("visibility","hidden");var self=this;temp.animate({top:newOffset.top,left:newOffset.left},350,(function(){
// $selectedElement.css('visibility', 'visible')
$selectedElement.remove(),temp.remove(),cbk.call(self)}))}}},components_ColumnCustomizationvue_type_script_lang_js=ColumnCustomizationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ColumnCustomizationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ColumnCustomization=component.exports},
/***/890608:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/ListPagination.vue?vue&type=template&id=31fbeab9&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.canShowPagination?_c("div",{staticClass:"flex-center-row-space fc-black-small-txt-12"},[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow f16 pointer p5 fw-bold",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[0!==_vm.currentPageCount?_c("div",{staticClass:"p8",class:[_vm.canShowPopup&&"button-hover pointer"],attrs:{slot:"reference"},slot:"reference"},[_vm.canShowPaginationParts?_c("div",{staticClass:"flex-middle justify-between "},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",{staticClass:"mL5"},[_vm._v(_vm._s(_vm.to))]),_vm.skipTotalCount?_vm._e():_c("span",{staticClass:"d-flex lp-page"},[_c("span",[_vm._v(_vm._s("of"))]),_vm.shimmerLoading?_c("span",{staticClass:"count-shimmer-line loading-shimmer mT1 "}):_c("span",[_vm._v(_vm._s(_vm.total))])])]):_c("div",{staticClass:"page-shimmer-line loading-shimmer mT2"})]):_vm._e(),_vm.$validation.isEmpty(_vm.total)?_vm._e():_c("el-pagination",{staticClass:"pagination-without-count-popover",attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_c("span",[_c("span",{staticClass:"el-icon-arrow-right pagination-arrow  f16 pointer p5 fw-bold",class:{disable:!_vm.canGoNextPage},on:{click:function($event){_vm.canGoNextPage&&_vm.next()}}})])],1):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),validation=__webpack_require__(990260),ListPaginationvue_type_script_lang_js={props:{total:[Number,String],currentPageCount:Number,perPage:{type:Number,default:50},currentPage:Number,hidePopover:{type:Boolean,default:!1},skipTotalCount:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1,shimmerLoading:!0,navigatingToNextPage:!0}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage},canShowPages:function(){return!(0,validation/* isEmpty */.xb)(this.total)},canGoNextPage:function(){return(0,validation/* isEmpty */.xb)(this.total)?this.perPage==this.currentPageCount:this.to!==this.total},canShowPaginationParts:function(){return!(!this.currentPageCount&&!this.total)},canShowPagination:function(){return 1!==this.page||!this.navigatingToNextPage||(this.currentPageCount>0||!(0,validation/* isEmpty */.xb)(this.total))},canShowPopup:function(){return!this.disablePopup&&!(0,validation/* isEmpty */.xb)(this.total)}},watch:{total:{handler:function(newVal){this.shimmerLoading=!0,(0,validation/* isEmpty */.xb)(newVal)||(this.shimmerLoading=!1),this.init()},immediate:!0},currentPageCount:function(newVal){!(0,validation/* isEmpty */.xb)(newVal)&&(0,validation/* isEmpty */.xb)(this.total)&&this.init()},pageQuery:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage?this.currentPage:this.pageQuery,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=(0,validation/* isEmpty */.xb)(this.total)?this.from+this.currentPageCount-1:this.total>to?to:this.total},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){if(this.from=this.to+1,!(0,validation/* isEmpty */.xb)(this.total)){var to=this.from+this.perPage-1;to>this.total&&(to=this.total),this.to=to}this.page++,this.navigatingToNextPage=!0,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?(this.from=1,this.page=1):this.page--,this.navigatingToNextPage=!1,this.setPage()},setPage:function(){if(this.currentPage)this.$emit("update:currentPage",this.page);else{var query=(0,objectSpread2/* default */.Z)({},this.$route.query);(0,validation/* isEmpty */.xb)(query)?query={page:this.page}:query.page=this.page,this.$router.push({query:query})}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"!==e.key||this.to===this.total&&this.to===this.currentPageCount?"ArrowLeft"===e.key&&this.from>1&&this.prev():this.next())}}},components_ListPaginationvue_type_script_lang_js=ListPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ListPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"31fbeab9",null)
/* harmony default export */,ListPagination=component.exports},
/***/105402:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SummarySideBar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/SummarySideBar.vue?vue&type=template&id=28fb6c2a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height-100"},[_vm._t("title"),_c("ul",{staticClass:"mT10 p0 side-bar-list"},[_c("v-infinite-scroll",{staticClass:"overflow-y-scroll",attrs:{loading:_vm.isLoading,offset:20},on:{bottom:_vm.nextPage}},_vm._l(_vm.lists,(function(record,index){return _c("div",{key:index,staticClass:"pointer list-item",class:{active:_vm.currentId===record.id}},[_vm._t("default",null,{record:record})],2)})),0),_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1)],2)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),v_infinite_scroll=(__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),SummarySideBarvue_type_script_lang_js={props:["list","isLoading","activeRecordId","total","currentCount","currentPage","perPage"],data:function(){return{currentId:-1,lists:[]}},components:{VInfiniteScroll:v_infinite_scroll_default()},computed:{page:function(){return this.currentPage?this.currentPage:parseInt(this.$route.query.page||1)}},watch:{activeRecordId:{handler:function(newValue){this.currentId=newValue},immediate:!0},list:{handler:function(newValue){this.isLoading?this.lists=[].concat((0,toConsumableArray/* default */.Z)(this.lists),(0,toConsumableArray/* default */.Z)(newValue)):this.lists=(0,toConsumableArray/* default */.Z)(newValue),this.$emit("update:isLoading",!1)},immediate:!0}},methods:{nextPage:function(){var page=this.page,total=this.total,currentCount=this.currentCount,perPage=this.perPage,query=this.$route.query,canTraverseNextPage=total>(page-1)*(perPage||50)+currentCount;canTraverseNextPage&&(this.$emit("nextPage"),this.$router.push({query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{page:page+1})}))}}},components_SummarySideBarvue_type_script_lang_js=SummarySideBarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SummarySideBarvue_type_script_lang_js,render,staticRenderFns,!1,null,"28fb6c2a",null)
/* harmony default export */,SummarySideBar=component.exports},
/***/700201:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ViewHeaderWithoutGroups}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/ViewHeaderWithoutGroups.vue?vue&type=template&id=d2a5b10e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"view-header-wg"},[_c("div",{on:{click:_vm.toggleViewsSidePanel}},[_c("inline-svg",{class:["hamburger-icon",_vm.canShowViewsSidePanel&&"active"],attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}})],1),_vm.$validation.isEmpty(_vm.currentViewDisplayName)?_c("div",{staticClass:"view-name-loading loading-shimmer"}):!_vm.canShowViewsSidePanel&&_vm.currentGroupViews.length>1?_c("div",[_c("el-dropdown",{attrs:{trigger:"click",placement:"bottom-end"},on:{command:_vm.goToView}},[_c("span",{staticClass:"el-dropdown-link view-name view-header-dropdown"},[_vm._v(_vm._s(_vm.currentViewDisplayName)+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{staticClass:"pB0",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("div",{staticClass:"dropdown-custom-class-scroll"},[_c("div",{staticClass:"view-header-group-title text-uppercase flex"},[_c("fc-icon",{attrs:{group:"files",name:"folder",color:"#ff3184"}}),_vm._v(" "+_vm._s(_vm.currentGroup.displayName)+" ")],1),_vm._l(_vm.currentGroupViews,(function(group,key){return _c("el-dropdown-item",{key:"group.id-"+key,staticClass:"view-drop-item",class:[_vm.currentViewDisplayName==group.label&&"selected-dropdown"],attrs:{command:group}},[_vm._v(" "+_vm._s(group.label))])}))],2),_c("el-dropdown-item",[_c("div",{staticClass:"view-all-btn",on:{click:_vm.toggleViewsSidePanel}},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.show_all"))+" ")])])],1)],1)],1):_c("div",{staticClass:"view-name cursor-auto pL5"},[_vm._v(" "+_vm._s(_vm.currentViewDisplayName)+" ")])])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),ViewHeader=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(629039)),ViewHeaderWithoutGroupsvue_type_script_lang_js={extends:ViewHeader/* default */.Z,computed:{currentViewDisplayName:function(){var currentViews=this.currentViews,_this$currentView=this.currentView,currentView=void 0===_this$currentView?"":_this$currentView,_ref=(currentViews||[]).find((function(view){return view.name===currentView}))||{},label=_ref.label;return label||""},currentGroupViews:function(){var filteredViews=this.filteredViews,_ref2=filteredViews||{},list=_ref2.list,more=_ref2.more,views=[].concat((0,toConsumableArray/* default */.Z)(list||[]),(0,toConsumableArray/* default */.Z)(more||[]));return views||{}}},methods:{toggleViewsSidePanel:function(){this.$emit("update:canShowViewsSidePanel",!this.canShowViewsSidePanel)}}},components_ViewHeaderWithoutGroupsvue_type_script_lang_js=ViewHeaderWithoutGroupsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ViewHeaderWithoutGroupsvue_type_script_lang_js,render,staticRenderFns,!1,null,"d2a5b10e",null)
/* harmony default export */,ViewHeaderWithoutGroups=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/207001:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearchWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearchWrapper.vue?vue&type=template&id=780ce107&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex align-center filter-cont",class:_vm.filters&&"filter-list"},[_c("el-tooltip",{staticClass:"filter-icons",class:[_vm.filters?"icon-left":"fl-icon-hover"],attrs:{effect:"dark",content:_vm.$t("common._common.search"),"open-delay":500,placement:"top",tabindex:-1}},[_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("fc-icon",{staticClass:"pointer",attrs:{group:"filter",name:"filter",size:"16"}})]},proxy:!0}])})],1),_c("filter-tags",{staticClass:"filter-icons icon-right",attrs:{moduleName:_vm.moduleName,hideSaveView:_vm.hideSaveView}})],1)},staticRenderFns=[],AdvancedSearch=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(784823)),FilterTagsvue_type_template_id_6cda4f8a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.tagsArr)?_vm._e():_c("div",{staticClass:"filter-tags pointer"},[_c("el-popover",{attrs:{placement:"bottom-end",trigger:"click","popper-class":"filter-tags-popover"}},[_c("div",{staticClass:"d-flex align-center",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(_vm.tagLength)+" "),_c("i",{staticClass:"el-icon-arrow-down"})]),_c("div",{staticClass:"filter-tag-container"},[_c("div",{staticClass:"d-flex justify-content-space f14 mB8"},[_c("span",{staticClass:"flt-txt"},[_vm._v(_vm._s(_vm.$t("common.filters.filtered_results")))]),_c("span",{staticClass:"fl-blue-txt pointer",on:{click:_vm.resetFilters}},[_vm._v(_vm._s(_vm.$t("common.filters.clear_all")))])]),_c("div",{staticClass:"d-flex filter-tags-holder"},_vm._l(_vm.filterTag,(function(tag,index){return _c("el-tag",{key:index,staticClass:"round-tag d-flex"},[_c("div",{staticClass:"pR5 truncate-text ftag-text"},[_vm._v(" "+_vm._s(tag.tagString)+" ")]),_vm.hideClose?_vm._e():_c("fc-icon",{staticClass:"pointer",attrs:{group:"action",name:"cross",size:"16",color:"#0074d1"},on:{click:function($event){return _vm.clearFilter(tag)}}})],1)})),1)]),_vm.canSaveView?_c("div",{staticClass:"tags-save-filter"},[_vm.isSystemView?_c("el-button",{staticClass:"save-filter",on:{click:function($event){return _vm.savingView("new")}}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_view")))]):_c("el-dropdown",{on:{command:_vm.savingView}},[_c("el-button",{staticClass:"save-filter"},[_vm._v(" "+_vm._s(_vm.$t("filters.tags.save_view_as"))),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{staticClass:"text-capitalize",attrs:{command:"new"}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_as_new")))]),_c("el-dropdown-item",{staticClass:"text-capitalize",attrs:{command:"edit"}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_to_existing")))])],1)],1)],1):_vm._e()])],1)},FilterTagsvue_type_template_id_6cda4f8a_scoped_true_staticRenderFns=[],objectSpread2=__webpack_require__(595082),FTags=(__webpack_require__(450886),__webpack_require__(634338),__webpack_require__(775676)),validation=__webpack_require__(990260),FilterTagsvue_type_script_lang_js={extends:FTags["default"],computed:{tagLength:function(){var _this$tagsArr=this.tagsArr,tagsArr=void 0===_this$tagsArr?[]:_this$tagsArr;return tagsArr.length},filterTag:function(){var _this$tagsArr2=this.tagsArr,tagsArr=void 0===_this$tagsArr2?[]:_this$tagsArr2;return tagsArr.map((function(tag){var _ref=tag||{},fieldDisplayName=_ref.fieldDisplayName,operatorDisplayName=_ref.operatorDisplayName,valueStr=_ref.valueStr,parentDisplayName=_ref.parentDisplayName,tagString="";return tagString=(0,validation/* isEmpty */.xb)(parentDisplayName)?"".concat(fieldDisplayName," ").concat(operatorDisplayName," ").concat(valueStr):"".concat(parentDisplayName,"/").concat(fieldDisplayName," ").concat(operatorDisplayName," ").concat(valueStr),(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},tag),{},{tagString:tagString})}))}}},components_FilterTagsvue_type_script_lang_js=FilterTagsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FilterTagsvue_type_script_lang_js,FilterTagsvue_type_template_id_6cda4f8a_scoped_true_render,FilterTagsvue_type_template_id_6cda4f8a_scoped_true_staticRenderFns,!1,null,"6cda4f8a",null)
/* harmony default export */,FilterTags=component.exports,AdvancedSearchWrappervue_type_script_lang_js={props:["moduleName","moduleDisplayName","hideSaveView"],components:{AdvancedSearch:AdvancedSearch/* default */.Z,FilterTags:FilterTags},computed:{filters:function(){var $route=this.$route,_ref=$route||{},search=_ref.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(search)}}},search_AdvancedSearchWrappervue_type_script_lang_js=AdvancedSearchWrappervue_type_script_lang_js,AdvancedSearchWrapper_component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,"780ce107",null)
/* harmony default export */,AdvancedSearchWrapper=AdvancedSearchWrapper_component.exports},
/***/951478:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CommonLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/list/CommonLayout.vue?vue&type=template&id=bf8b3d92
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout cm-common-list-layout d-flex"},[_vm._t("views-list",(function(){return[_vm.canShowViewsSidePanel?_c("ViewsList",{attrs:{canShowViewsSidePanel:_vm.canShowViewsSidePanel,groupViews:_vm.groupViews,moduleName:_vm.moduleName,hideArrowIcon:!0},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},onChange:_vm.goToView}}):_vm._e()]})),_c("div",{staticClass:"list-content-container"},[_c("div",{class:["view-header-container subheader-section d-flex justify-content-space",!0===_vm.hasQuery&&"filter-class"]},[_vm._t("views",(function(){return[_c("ViewHeader",{attrs:{moduleName:_vm.moduleName,showRearrange:_vm.showViewRearrange,showEditIcon:_vm.showViewEdit,pathPrefix:_vm.pathPrefix,retainFilters:_vm.filtersToRetain,canShowViewsSidePanel:_vm.canShowViewsSidePanel},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},viewsLoaded:function($event){return _vm.$emit("viewsLoaded")},hideViewSidebar:function(val){return _vm.hideViewSidebar=val}}})]})),_c("div",{staticClass:"header-right"},[_vm._t("header")],2)],2),_vm._t("sub-header",(function(){return[_vm.hideSubHeader?_vm._e():_c("div",{staticClass:"view-sub-header-container  d-flex  justify-content-space align-center"},[_vm._t("sub-header-content",(function(){return[_c("div",{staticClass:"cm-sub-header-txt"},[_vm.isEmpty(_vm.recordCount)?_c("span",{staticClass:"count-shimmer-line loading-shimmer"}):_c("span",{staticClass:"bold pR5"},[_vm._v(_vm._s(_vm.recordCount))]),_vm.recordCount>1?_c("span",[_vm._v(_vm._s(_vm.$t("common._common.tot_records")))]):_vm._e(),1===_vm.recordCount?_c("span",[_vm._v(_vm._s(_vm.$t("common._common.tot_record")))]):_vm._e()])]})),_c("div",{staticClass:"d-flex align-center"},[_vm._t("sub-header-actions")],2)],2)]})),_c("div",{staticClass:"select-all-container"},[_vm._t("sub-header-selectedall")],2),_c("div",{staticClass:"height100 common-content-container"},[_vm._t("content"),_vm._t("default")],2)],2)],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(420629)),validation=__webpack_require__(990260),ViewHeaderWithoutGroups=__webpack_require__(700201),ViewsSidePanel=__webpack_require__(409886),router=__webpack_require__(329435),CommonLayoutvue_type_script_lang_js={props:["moduleName","getPageTitle","showViewRearrange","visibleViewCount","showViewEdit","pathPrefix","retainFilters","hideSubHeader","recordCount","recordLoading"],components:{ViewHeader:ViewHeaderWithoutGroups/* default */.Z,ViewsList:ViewsSidePanel/* default */.Z},created:function(){this.$store.dispatch("view/clearViews").catch((function(){})),(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},data:function(){return{isEmpty:validation/* isEmpty */.xb,currentModuleName:this.moduleName,hideViewSidebar:!1,isSidePanelOpen:!1}},title:function(){var title=this.getPageTitle();return(0,validation/* isEmpty */.xb)(title)?"":title},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo},viewDetail:function(state){return state.view.currentViewDetail},showSearch:function(state){return state.search.active},currentTab:function(state){return state.webtabs.selectedTab},groupViews:function(state){return(0,validation/* isEmpty */.xb)(state.view.groupViews)?[]:state.view.groupViews}})),{},{currentView:function(){var $route=this.$route;return $route.params.viewname?$route.params.viewname:null},filtersToRetain:function(){var retainFilters=this.retainFilters;return(0,validation/* isNull */.Ft)(retainFilters)?[]:(0,validation/* isEmpty */.xb)(retainFilters)?["search","includeParentFilter"]:retainFilters},hasQuery:function(){var query=this.$route.query;return""===query.filters||!!query.filters},canShowViewsSidePanel:{get:function(){var isSidePanelOpen=this.isSidePanelOpen,$slots=this.$slots,isViewHeaderOverriden=!(0,validation/* isEmpty */.xb)($slots.views);return isSidePanelOpen&&!isViewHeaderOverriden},set:function(value){this.isSidePanelOpen=value}}}),watch:{moduleName:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},$route:function(newVal,oldVal){newVal.params.viewname!==oldVal.params.viewname&&this.setPageTitle()},metaInfo:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},currentView:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!newVal||oldVal===newVal){_context.next=5;break}return _context.next=3,_this.loadViewDetails();case 3:_this.getMetaInfo(),_this.setPageTitle();case 5:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{reloadList:function(){var routeParams=this.$getProperty(this,"$route.params");this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:""})}).catch((function(){})),this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:routeParams.viewname})}).catch((function(){}))},getMetaInfo:function(){this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){}))},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if("rearrange-views"===viewname)return void(this.showReorderPanel=!0);var currentTab=this.currentTab,_this$filtersToRetain=this.filtersToRetain,filtersToRetain=void 0===_this$filtersToRetain?[]:_this$filtersToRetain,query=this.$route.query,filteredQuery=Object.keys(query||{}).reduce((function(obj,key){return filtersToRetain.includes(key)&&(obj[key]=query[key]),obj}),{});if((0,router/* isWebTabsEnabled */.tj)()){var route=(0,router/* findRouteForTab */.OD)(currentTab.id,{pageType:router/* pageTypes */.As.LIST})||{};route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{viewname:viewname},query:filteredQuery})).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path,query:filteredQuery}).catch((function(){}))}}},getPathForView:function(view){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(view.name)},loadViewDetails:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName}).catch((function(){}))},setPageTitle:function(){var getPageTitle=this.getPageTitle,setTitle=this.setTitle,currentView=this.currentView,title=getPageTitle(currentView);(0,validation/* isEmpty */.xb)(title)||setTitle(title)},keyDownHandler:function(e){if(e.shiftKey&&"N"===e.key&&(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref.name;"body"===e.target.localName&&name&&this.$router.push({name:name}).catch((function(){}))}}}},list_CommonLayoutvue_type_script_lang_js=CommonLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_CommonLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommonLayout=component.exports},
/***/347446:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return CommonModuleList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/list/CommonModuleList.vue?vue&type=template&id=e485962c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isSummaryOpen?_c("div",{staticClass:"height100"},[_vm.showLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("Spinner",{attrs:{show:_vm.showLoading,size:"80"}})],1):_c("div",{staticClass:"flex flex-row"},[_c("div",{staticClass:"cm-side-bar-container"},[_c("SummarySidebar",{attrs:{list:_vm.records,isLoading:_vm.isLoading,activeRecordId:_vm.selectedRecordId,total:_vm.recordCount,currentCount:(_vm.records||[]).length},on:{"update:isLoading":function($event){_vm.isLoading=$event},"update:is-loading":function($event){_vm.isLoading=$event}},scopedSlots:_vm._u([{key:"title",fn:function(){return[_c("el-row",{staticClass:"cm-sidebar-header"},[_c("el-col",{attrs:{span:2}},[_c("span",{on:{click:function($event){return _vm.openList()}}},[_c("inline-svg",{staticClass:"rotate-90 pointer",attrs:{src:"svgs/arrow",iconClass:"icon icon-sm"}})],1)]),_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(_vm.currentViewDetail))])])],1)]},proxy:!0},{key:"default",fn:function(ref){var record=ref.record;return[_c("router-link",{staticClass:"cm-sidebar-list-item label-txt-black main-field-column",attrs:{tag:"div",to:_vm.redirectToOverview(record.id)}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                placement: 'top',\n                animation: 'shift-away',\n                arrow: true,\n              }"}],staticClass:"f14 truncate-text",attrs:{title:record[_vm.mainFieldName]||"---"}},[_vm._v(" "+_vm._s(record[_vm.mainFieldName]||"---")+" ")])])]}}],null,!1,622461553)})],1),_c("div",{staticClass:"flex-1"},[_c("router-view",{attrs:{viewname:_vm.viewname}})],1)])]):_c("CommonListLayout",{key:_vm.moduleName+"-list-layout",staticClass:"custom-module-list-layout",attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.moduleDisplayName},pathPrefix:_vm.parentPath,hideSubHeader:_vm.canHideSubHeader,recordCount:_vm.recordCount,recordLoading:_vm.showLoading},scopedSlots:_vm._u([{key:"header",fn:function(){return[_vm.isEmpty(_vm.viewname)?_vm._e():[_vm.canHideFilter?_vm._e():_c("AdvancedSearchWrapper",{attrs:{filters:_vm.filters,moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}}),_vm.canShowVisualSwitch?_c("visual-type",{on:{onSwitchVisualize:function(val){return _vm.canShowListView=val}}}):_vm._e(),_c("CustomButton",{key:_vm.moduleName+"_"+_vm.viewname+"_"+_vm.POSITION.LIST_TOP,staticClass:"custom-button",attrs:{moduleName:_vm.moduleName,position:_vm.POSITION.LIST_TOP,modelDataClass:_vm.modelDataClass},on:{onSuccess:_vm.onCustomButtonSuccess,onError:function(){}}})],_vm.hasPermission("CREATE")?[_c("button",{staticClass:"fc-create-btn",on:{click:function($event){return _vm.redirectToFormCreation()}}},[_vm._v(" "+_vm._s(_vm.createBtnText)+" ")])]:_vm._e()]},proxy:!0},_vm.canShowCalendarHeader?{key:"sub-header",fn:function(){return[_vm.showListView?_vm._e():_c("CalendarDateWrapper")]},proxy:!0}:null,{key:"sub-header-actions",fn:function(){return[!_vm.isEmpty(_vm.records)&&_vm.showListView?[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.recordCount,currentPageCount:_vm.currentPageCount,perPage:_vm.perPage,skipTotalCount:!0}}),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),"open-delay":500,placement:"top",tabindex:-1}},[_c("Sort",{key:_vm.moduleName+"-sort",attrs:{moduleName:_vm.moduleName},on:{onSortChange:_vm.updateSort}})],1),_vm.hasPermission("EXPORT")?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_vm.hasPermission("EXPORT")?_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),"open-delay":500,placement:"top",tabindex:-1}},[_c("f-export-settings",{attrs:{module:_vm.moduleName,viewDetail:_vm.viewDetail,showViewScheduler:!1,showMail:!1,filters:_vm.filters}})],1):_vm._e()]:_vm._e()]},proxy:!0},{key:"content",fn:function(){return[_vm.showLoading?_c("Spinner",{staticClass:"mT40",attrs:{show:_vm.showLoading}}):_vm.isEmpty(_vm.viewname)?_c("div",{staticClass:"cm-view-empty-state-container"},[_c("inline-svg",{staticClass:"d-flex module-view-empty-state",attrs:{src:"svgs/no-configuration",iconClass:"icon"}}),_c("div",{staticClass:"mB20 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.no_view_config"))+" ")]),_c("el-button",{staticClass:"add-view-btn",attrs:{type:"primary"},on:{click:_vm.openViewCreation}},[_c("span",{staticClass:"btn-label"},[_vm._v(_vm._s(_vm.$t("viewsmanager.list.add_view")))])])],1):_vm.showListView?[_vm.isEmpty(_vm.records)?_c("div",{staticClass:"cm-empty-state-container"},[_c("img",{staticClass:"mT20 self-center",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.emptyStateText)+" ")])]):_c("div",{staticClass:"cm-list-container"},[_vm.showListView?_c("div",{staticClass:"column-customization-icon",attrs:{disabled:!_vm.isColumnCustomizable},on:{click:_vm.toShowColumnSettings}},[_c("el-tooltip",{attrs:{disabled:_vm.isColumnCustomizable,placement:"top",content:_vm.$t("common._common.you_dont_have_permission")}},[_c("inline-svg",{staticClass:"text-center position-absolute icon",attrs:{src:"column-setting"}})],1)],1):_vm._e(),_vm.isEmpty(_vm.selectedListItemsIds)?_vm._e():_c("div",{staticClass:"pull-left table-header-actions"},[_vm.hasPermission("DELETE")?_c("div",{staticClass:"action-btn-slide btn-block"},[_c("button",{staticClass:"btn btn--tertiary pointer",on:{click:function($event){return _vm.deleteRecords(_vm.selectedListItemsIds)}}},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.delete"))+" ")])]):_vm._e(),_c("CustomButton",{key:_vm.moduleName+"_"+_vm.viewname+"_"+_vm.POSITION.LIST_BAR,staticClass:"custom-button",attrs:{moduleName:_vm.moduleName,position:_vm.POSITION.LIST_BAR,modelDataClass:_vm.modelDataClass,selectedRecords:_vm.selectedListItemsObj},on:{onSuccess:_vm.onCustomButtonSuccess,onError:function(){}}})],1),_c("CommonList",{key:"viewname-"+_vm.viewname,attrs:{viewDetail:_vm.viewDetail,records:_vm.records,moduleName:_vm.moduleName,redirectToOverview:_vm.redirectToOverview,slotList:_vm.slotList,canShowCustomButton:"true",refreshList:_vm.onCustomButtonSuccess,modelDataClass:_vm.modelDataClass},on:{"selection-change":_vm.selectItems},scopedSlots:_vm._u([{key:_vm.slotList[0].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"fc-id"},[_vm._v(_vm._s("#"+record[_vm.slotList[0].name]))])])]}},{key:_vm.slotList[1].criteria,fn:function(ref){var record=ref.record;return[_c("router-link",{staticClass:"d-flex fw5 label-txt-black ellipsis main-field-column",attrs:{to:_vm.redirectToOverview(record.id)}},[record[_vm.photoFieldName]>0?_c("div",[_c("img",{staticClass:"img-container",attrs:{src:record.getImage(_vm.photoFieldName)}})]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:record.name||"---",placement:"top-end","open-delay":600}},[_c("div",{staticClass:"self-center width200px"},[_c("span",{staticClass:"list-main-field"},[_vm._v(_vm._s(record.name||"---"))])])])],1)]}},{key:_vm.slotList[2].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex text-center"},[_vm.hasPermission("EDIT,UPDATE")&&record.canEdit()?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.editModule(record)}}}):_vm._e(),_vm.hasPermission("DELETE")?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deleteRecords([record.id])}}}):_vm._e()])]}}],null,!0)})],1)]:_vm.showListView?_vm._e():_c("CalendarView",{ref:"calendar",attrs:{moduleName:_vm.moduleName,record:_vm.records,viewDetail:_vm.viewDetail,viewname:_vm.viewname,filters:_vm.filters}}),_c("ColumnCustomization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.moduleName,viewName:_vm.viewname},on:{"update:visible":function($event){_vm.showColumnSettings=$event}}})]},proxy:!0}],null,!0)},[_c("portal",{attrs:{to:"view-manager-link"}},[_c("div",{staticClass:"view-manager-btn",on:{click:_vm.getViewManagerRoute}},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.views_manager"))+" ")])],1)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),ListPagination=(__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(648324),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(890608)),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),debounce=__webpack_require__(23279),debounce_default=__webpack_require__.n(debounce),NewSortvue_type_template_id_22782181_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"portal-sort-container","visible-arrow":!0},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("InlineSvg",{staticClass:"d-flex pointer user-select-none pR0",attrs:{slot:"reference",src:"new-sortby",iconClass:"icon self-center mR5"},slot:"reference"}),_c("el-input",{attrs:{type:"text",placeholder:_vm.$t("common._common.sort_search")},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}}),_c("div",{staticClass:"sort-list-container"},[_c("div",{staticClass:"sort-field-list"},_vm._l(_vm.filteredSortList,(function(sortField,index){return _c("div",{key:index,class:["list-item",_vm.orderBy===sortField.name&&"active"],on:{click:function($event){return $event.stopPropagation(),_vm.updateOrder(sortField.name,"orderBy")}}},[_vm._v(" "+_vm._s(sortField.displayName)+" "),_vm.orderBy===sortField.name?_c("i",{staticClass:"el-icon-check"}):_vm._e()])})),0),_c("div",{staticClass:"seperator"}),_vm._l(_vm.orderTypeList,(function(type,name){return _c("div",{key:name,staticClass:"list-item",class:["list-item",_vm.orderType===name&&null!==_vm.orderBy&&"active"],attrs:{disabled:null===_vm.orderBy},on:{click:function($event){return $event.stopPropagation(),_vm.updateOrder(name,"orderType")}}},[_vm._v(" "+_vm._s(type)+" ")])}))],2)],1)},NewSortvue_type_template_id_22782181_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),NONE_FIELD={displayName:"None",id:null,mainField:!1,name:null},NewSortvue_type_script_lang_js={props:["moduleName"],data:function(){return{visible:!1,search:"",sortConfig:{orderBy:null,orderType:null},sortFieldLists:[],orderTypeList:{asc:this.$t("common.wo_report.ascending"),desc:this.$t("common.wo_report.descending")}}},created:function(){this.loadModuleMeta()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({viewDetail:function(state){return state.view.currentViewDetail}})),{},{orderBy:function(){var orderBy=this.sortConfig.orderBy;return(0,validation/* isObject */.Kn)(orderBy)?orderBy.value:orderBy},orderType:function(){var _this$sortConfig=this.sortConfig,orderType=_this$sortConfig.orderType,orderBy=_this$sortConfig.orderBy;return!(0,validation/* isEmpty */.xb)(orderBy)&&(0,validation/* isEmpty */.xb)(orderType)?"asc":orderType},filteredSortList:function(){var sortFieldLists=this.sortFieldLists,search=this.search;return sortFieldLists.filter((function(field){var _ref=field||{},displayName=_ref.displayName;return!!(0,validation/* isEmpty */.xb)(search)||(displayName.toLowerCase().includes(search.toLowerCase())||"")}))},currentView:function(){return this.$route.params.viewname}}),watch:{viewDetail:{handler:function(){var _ref2=this.viewDetail||{},_ref2$sortFields=_ref2.sortFields,sortFields=void 0===_ref2$sortFields?[]:_ref2$sortFields;if((0,validation/* isEmpty */.xb)(sortFields))this.sortConfig={orderBy:null,orderType:null};else{var _this$$getProperty=this.$getProperty(sortFields[0],"sortField",{}),name=_this$$getProperty.name,_this$$getProperty2=this.$getProperty(sortFields,"0",{}),isAscending=_this$$getProperty2.isAscending;this.sortConfig={orderType:isAscending?"asc":"desc",orderBy:name||""}}},immediate:!0}},methods:{updateOrder:function(orderName,type){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var orderBy,orderType,sortObj;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_this.$set(_this.sortConfig,type,orderName),orderBy=_this.orderBy,orderType=_this.orderType,orderType=(0,validation/* isEmpty */.xb)(orderBy)?null:orderType,sortObj={orderBy:orderBy,orderType:orderType},_this.$emit("onSortChange",sortObj),_this.visible=!1;case 6:case"end":return _context.stop()}}),_callee)})))()},loadModuleMeta:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,_yield$API$get,data,error,_ref3,fields;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return moduleName=_this2.moduleName,_context2.next=3,api/* API */.bl.get("/v2/fields/sortable/".concat(moduleName));case 3:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error||(_ref3=data||{},fields=_ref3.fields,(0,validation/* isEmpty */.xb)(fields)||(_this2.sortFieldLists=[].concat((0,toConsumableArray/* default */.Z)(fields),[NONE_FIELD])));case 7:case"end":return _context2.stop()}}),_callee2)})))()}}},components_NewSortvue_type_script_lang_js=NewSortvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewSortvue_type_script_lang_js,NewSortvue_type_template_id_22782181_render,NewSortvue_type_template_id_22782181_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewSort=component.exports,ColumnCustomization=__webpack_require__(490966),Spinner=__webpack_require__(604947),CommonLayout=__webpack_require__(951478),FExportSettings=__webpack_require__(641435),router=__webpack_require__(329435),SummarySideBar=__webpack_require__(105402),CommonList=__webpack_require__(820920),CustomButton=__webpack_require__(623857),CustomButtonUtil=__webpack_require__(746095),CustomModuleData=__webpack_require__(689565),routeUtil=__webpack_require__(405759),AdvancedSearchWrapper=__webpack_require__(207001),VisualTypevue_type_template_id_40fefd80_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-radio-group",{staticClass:"d-flex visual-icons",attrs:{size:"mini",fill:"#007adb"},on:{change:_vm.onChangeVisualType},model:{value:_vm.isListView,callback:function($$v){_vm.isListView=$$v},expression:"isListView"}},[_c("el-radio-button",{attrs:{label:"list"}},[_c("fc-icon",{attrs:{group:"action",name:"option",size:"12",color:["list"===_vm.isListView&&"#007adb"]}})],1),_c("el-radio-button",{attrs:{label:"calendar"}},[_c("fc-icon",{attrs:{group:"dsm",name:"calendar",size:"12",color:["calendar"===_vm.isListView&&"#007adb"]}})],1)],1)},VisualTypevue_type_template_id_40fefd80_scoped_true_staticRenderFns=[],VisualTypevue_type_script_lang_js=(__webpack_require__(857267),{data:function(){return{isListView:""}},created:function(){var _this$$route,_ref=(null===(_this$$route=this.$route)||void 0===_this$$route?void 0:_this$$route.query)||{},startTime=_ref.startTime;this.isListView=startTime?"calendar":"list"},watch:{isListView:{handler:function(newVal,oldVal){newVal!==oldVal&&this.$emit("onSwitchVisualize","list"===newVal)},immediate:!0}},methods:{onChangeVisualType:function(val){if("list"===val){var _ref2=this.$route||{},query=_ref2.query,_ref3=query||{},search=_ref3.search,includeParentFilter=_ref3.includeParentFilter;this.$router.replace({query:{search:search,includeParentFilter:includeParentFilter}}).catch((function(){}))}}}}),components_VisualTypevue_type_script_lang_js=VisualTypevue_type_script_lang_js,VisualType_component=(0,componentNormalizer/* default */.Z)(components_VisualTypevue_type_script_lang_js,VisualTypevue_type_template_id_40fefd80_scoped_true_render,VisualTypevue_type_template_id_40fefd80_scoped_true_staticRenderFns,!1,null,"40fefd80",null)
/* harmony default export */,VisualType=VisualType_component.exports,CalendarViewvue_type_template_id_fa7d9868_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"calendar-view-container height100"},[_vm.isLoading?_c("div",{staticClass:"calendar-loading-spinner"},[_c("Spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_c("div",{staticClass:"calendar-wrapper-container"},[_c("Calendar",{ref:"calendar",staticClass:"calendar-wrapper",attrs:{calendarView:"month",availableViews:["month"],calendarEvents:_vm.calendarEvent,viewDetails:_vm.viewDetailObj,referenceDate:_vm.referenceDate,account:_vm.$account,outOfScopeCellClicked:_vm.outOfScope},on:{OnCellClicked:_vm.onViewMore,OnViewMoreClick:_vm.onViewMore},scopedSlots:_vm._u([{key:"eventPopup",fn:function(ref){var event=ref.event;return[_c("glimpse-card",{key:"event - "+event.eventId,staticClass:"p12",attrs:{config:_vm.getConfig(event,!0)},on:{redirectToSummary:function($event){return _vm.eventClick(event.eventId)}},scopedSlots:_vm._u([{key:"fields",fn:function(){return[_c("div",{staticClass:"gc-container"},_vm._l(_vm.getFields(event),(function(fld){return _c("div",{key:""+fld.value+fld+"-field",staticClass:"fields-container"},[_c("div",{staticClass:"fld-name d-flex bold",staticStyle:{color:"#1d384e"}},[_vm._v(" "+_vm._s(fld.name)+" ")]),_c("div",{staticClass:"d-flex fld-value"},[_vm._v(" "+_vm._s(fld.value)+" ")])])})),0)]},proxy:!0}],null,!0)})]}}])}),_c("div",{staticClass:"view-more-dialog"},[_c("div",{staticClass:"dialog-header justify-content-space"},[_c("span",{staticClass:"f16 bold"},[_vm._v(_vm._s(_vm.selectedDate))]),_c("div",{staticClass:"cv-action-container"},[_c("ToggleSearch",{ref:"toggle-search",on:{onChange:_vm.onCalendarSearch}})],1)]),_vm.isEmpty(_vm.viewMoreList)?_vm.viewMoreLoading?_c("spinner",{staticClass:"mT40",attrs:{show:_vm.viewMoreLoading}}):_vm.isEmpty(_vm.viewMoreList)?_c("div",{staticClass:"mT30 d-flex justify-center"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_record_found"))+" ")]):_vm._e():_c("v-infinite-scroll",{staticClass:"infinte-scroll-view",attrs:{loading:_vm.isLoading,offset:20},on:{bottom:_vm.nextPage}},[_vm._l(_vm.viewMoreList,(function(viewData){return _c("div",{key:"viewData "+viewData.data.id,staticClass:"view-data-container"},[_c("div",{staticClass:"cv-horiz-line"}),_c("div",{staticClass:"view-data-items"},[_c("div",{staticClass:"f12 id-tag d-flex justify-content-space"},[_c("span",[_vm._v(_vm._s("#"+_vm.getRecordId(viewData.data)))]),_c("span",{staticClass:"pR6"},[_vm._v(_vm._s(viewData.data.moduleState.name))])]),_c("el-popover",{attrs:{trigger:"click",placement:"bottom-start"}},[_c("div",{staticClass:"f16 bold pointer cal-text-ellipsis",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(viewData.data[_vm.mainField])+" ")]),_c("glimpse-card",{key:"event - "+viewData.data.id,attrs:{config:_vm.getConfig(viewData.data)},on:{redirectToSummary:function($event){return _vm.eventClick(viewData.data.id)}},scopedSlots:_vm._u([{key:"fields",fn:function(){return[_c("div",{staticClass:"gc-container"},_vm._l(_vm.getFields(viewData.data),(function(fld){return _c("div",{key:fld.value+"-key",staticClass:"fields-container"},[_c("div",{staticClass:" fld-name d-flex bold ",staticStyle:{color:"#1d384e"}},[_vm._v(" "+_vm._s(fld.name)+" ")]),_c("div",{staticClass:"d-flex fld-value"},[_vm._v(" "+_vm._s(fld.value)+" ")])])})),0)]},proxy:!0}],null,!0)})],1)],1)])})),_vm.viewMoreLoading?_c("spinner",{attrs:{show:_vm.viewMoreLoading}}):_vm._e()],2)],1)],1)])},CalendarViewvue_type_template_id_fa7d9868_staticRenderFns=[],app=__webpack_require__(782080),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),ToggleSearchvue_type_template_id_ffe451ca_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showMainFieldSearch?_c("el-input",{ref:"mainFieldSearchInput",staticClass:"fc-input-full-border2 width150px",attrs:{clearable:"",autofocus:"",placeholder:_vm.$t("common._common.search")},on:{clear:_vm.hideMainFieldSearch,change:_vm.onSearchChange},model:{value:_vm.searchData,callback:function($$v){_vm.searchData=$$v},expression:"searchData"}}):_c("span",{staticClass:"search-icon-val",on:{click:_vm.openMainFieldSearch}},[_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm15"}})],1)],1)},ToggleSearchvue_type_template_id_ffe451ca_staticRenderFns=[],ToggleSearchvue_type_script_lang_js={data:function(){return{searchData:"",showMainFieldSearch:!1}},methods:{hideMainFieldSearch:function(){this.clearSearch(),this.onSearchChange(this.searchData)},clearSearch:function(){this.searchData="",this.showMainFieldSearch=!1},openMainFieldSearch:function(){var _this=this;this.showMainFieldSearch=!0,this.$nextTick((function(){var mainFieldSearchInput=_this.$refs["mainFieldSearchInput"];(0,validation/* isEmpty */.xb)(mainFieldSearchInput)||mainFieldSearchInput.focus()}))},onSearchChange:function(data){this.$emit("onChange",data)}}},components_ToggleSearchvue_type_script_lang_js=ToggleSearchvue_type_script_lang_js,ToggleSearch_component=(0,componentNormalizer/* default */.Z)(components_ToggleSearchvue_type_script_lang_js,ToggleSearchvue_type_template_id_ffe451ca_render,ToggleSearchvue_type_template_id_ffe451ca_staticRenderFns,!1,null,null,null)
/* harmony default export */,ToggleSearch=ToggleSearch_component.exports,GlimpseCard=__webpack_require__(213657),field_utils=__webpack_require__(455344),v_infinite_scroll=__webpack_require__(561364),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),calendarSupportUtil=__webpack_require__(852452),eventBus=__webpack_require__(398011),ViewType={DAY:1,WEEK:2,MONTH:3},CalendarViewvue_type_script_lang_js={props:["viewDetail","record","moduleName","viewname","filters"],components:{Calendar:app/* Calendar */.f,Spinner:Spinner/* default */.Z,ToggleSearch:ToggleSearch,GlimpseCard:GlimpseCard/* default */.Z,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{isEmpty:validation/* isEmpty */.xb,selectedDate:null,viewMoreData:null,currentMonthData:null,isLoading:!0,viewMoreLoading:!1,fetchingMore:!1,outOfScope:!1,searchText:null,recordCount:null,page:1,calendarEvent:{},moduleStateObj:{},filteredList:[],viewMoreTimeEvent:{}}},created:function(){this.getCurrentDate()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo}})),{},{mainFieldObj:function(){var _ref=this.metaInfo||{},fields=_ref.fields,mainFieldObj=(fields||[]).find((function(field){return field.mainField}));return mainFieldObj},viewDetailObj:function(){var _this$viewDetail,_this$mainFieldObj,_this$mainFieldObj2,viewDetailObj=this.viewDetail;(0,validation/* isEmpty */.xb)(null===(_this$viewDetail=this.viewDetail)||void 0===_this$viewDetail?void 0:_this$viewDetail.fields)&&(viewDetailObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.viewDetail),{},{fields:[{name:null===(_this$mainFieldObj=this.mainFieldObj)||void 0===_this$mainFieldObj?void 0:_this$mainFieldObj.name,displayName:null===(_this$mainFieldObj2=this.mainFieldObj)||void 0===_this$mainFieldObj2?void 0:_this$mainFieldObj2.displayName,field:this.mainFieldObj}]}));return viewDetailObj},viewMoreList:function(){var _this$moduleStateObj=this.moduleStateObj,moduleStateObj=void 0===_this$moduleStateObj?{}:_this$moduleStateObj,list=(this.viewMoreData||[]).map((function(list){var _moduleStateObj$id,_ref2=list||{},_ref2$data=_ref2.data,data=void 0===_ref2$data?{}:_ref2$data,_ref3=data||{},moduleState=_ref3.moduleState,_ref4=moduleState||{},id=_ref4.id,name=null===(_moduleStateObj$id=moduleStateObj[id])||void 0===_moduleStateObj$id?void 0:_moduleStateObj$id.primaryValue;return moduleState=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},moduleState),{},{name:name}),data=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},data),{},{moduleState:moduleState}),{data:data}}));return list},onChangeCal:function(){var _ref5=this.$route||{},query=_ref5.query,_ref6=query||{},_ref6$onChange=_ref6.onChange,onChange=void 0!==_ref6$onChange&&_ref6$onChange;return onChange},preservedTimeLimit:function(){var _ref7=this.$route||{},query=_ref7.query,_ref8=query||{},startTime=_ref8.startTime,_ref8$endTime=_ref8.endTime,endTime=void 0===_ref8$endTime?null:_ref8$endTime;return{startTime:startTime?parseInt(startTime):null,endTime:endTime?parseInt(endTime):null}},isToday:function(){var _ref9=this.$route||{},query=_ref9.query,_ref10=query||{},_ref10$today=_ref10.today,today=void 0===_ref10$today?null:_ref10$today;return JSON.parse(today)},referenceDate:function(){var _this$$route,_ref11=(null===(_this$$route=this.$route)||void 0===_this$$route?void 0:_this$$route.query)||{},refDate=_ref11.refDate,_ref12=this.preservedTimeLimit||{},startTime=_ref12.startTime;return parseInt(refDate)||startTime},calendarContext:function(){var _ref13=this.viewDetail||{},calendarViewContext=_ref13.calendarViewContext,_ref14=calendarViewContext||{},startDateField=_ref14.startDateField,endDateField=_ref14.endDateField;return{startDateField:startDateField,endDateField:endDateField}},mainField:function(){var _ref15=this.mainFieldObj||{},name=_ref15.name;return name},scrollDisabled:function(){return this.isLoading||this.fetchingMore||this.viewMoreLoading},webTabRouteName:function(){var moduleName=this.moduleName;if((0,router/* isWebTabsEnabled */.tj)()){var _ref16=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref16.name;return name}return null}}),watch:{preservedTimeLimit:{handler:function(oldVal,newVal){isEqual_default()(oldVal,newVal)||(this.isLoading=!0,this.fetchEvents(),this.onChangeCal&&this.getCurrentDate())},immediate:!0},referenceDate:{handler:function(newVal){if(newVal){var startTime=moment_timezone_default().tz(newVal,this.$timezone).startOf("month").valueOf(),endTime=moment_timezone_default().tz(newVal,this.$timezone).endOf("month").valueOf(),_ref17=this.$route||{},query=_ref17.query;query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{startTime:startTime,endTime:endTime,refDate:newVal}),this.$router.push({query:query}).catch((function(){}))}}},isToday:{handler:function(newVal){if(newVal){var endDate=moment_timezone_default().tz(this.referenceDate,this.$timezone).endOf("day").valueOf();this.onViewMore({startDate:this.referenceDate,endDate:endDate})}}}},methods:{deserialize:function(startTime,endTime){var calendarViewRequest={startTime:startTime,endTime:endTime,maxResultPerCell:3,dateAggregateOperator:12,calendarViewType:ViewType.MONTH},params={calendarViewRequest:JSON.stringify(calendarViewRequest),page:1,perPage:20,filters:(0,validation/* isEmpty */.xb)(this.filters)?null:JSON.stringify(this.filters)};return params},getFields:function(event){var _ref18=event||{},_ref18$eventsKey=_ref18.eventsKey,eventsKey=void 0===_ref18$eventsKey?{}:_ref18$eventsKey,_ref19=this.calendarContext||{},startDateField=_ref19.startDateField,endDateField=_ref19.endDateField,data=[];if(!(0,validation/* isEmpty */.xb)(startDateField)){var eventStart=this.$getProperty(event,"".concat(null===startDateField||void 0===startDateField?void 0:startDateField.name))||this.$getProperty(eventsKey,"".concat(null===startDateField||void 0===startDateField?void 0:startDateField.name)),actualStart=(0,field_utils/* getDisplayValue */.UZ)(startDateField,eventStart)||"---";data.push({name:null===startDateField||void 0===startDateField?void 0:startDateField.displayName,value:actualStart})}if(!(0,validation/* isEmpty */.xb)(endDateField)){var eventEnd=this.$getProperty(event,"".concat(null===endDateField||void 0===endDateField?void 0:endDateField.name))||this.$getProperty(eventsKey,"".concat(null===endDateField||void 0===endDateField?void 0:endDateField.name)),actualEnd=(0,field_utils/* getDisplayValue */.UZ)(endDateField,eventEnd)||"---";data.push({name:null===endDateField||void 0===endDateField?void 0:endDateField.displayName,value:actualEnd,id:event.localId})}return data},getRecordId:function(data){var _ref20=data||{},localId=_ref20.localId,id=_ref20.id;return calendarSupportUtil/* moduleByLocalId */.X.includes(this.moduleName)&&localId||id},getConfig:function(data){var event=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_this$mainField=this.mainField,mainField=void 0===_this$mainField?"":_this$mainField,_ref21=data||{},_ref21$id=_ref21.id,id=void 0===_ref21$id?"":_ref21$id,_ref21$moduleState=_ref21.moduleState,moduleState=void 0===_ref21$moduleState?{}:_ref21$moduleState,localId=_ref21.localId,_ref22=moduleState||{},moduleStateId=_ref22.id,moduleStateName=_ref22.name,name=data[mainField];if(event){var _ref23=this.moduleStateObj[moduleStateId]||{},displayName=_ref23.displayName;id=null===data||void 0===data?void 0:data.eventId,name=null===data||void 0===data?void 0:data.title,moduleStateName=displayName}id=this.getRecordId({localId:localId,id:id});var eventData={id:id,displayName:name,moduleState:moduleStateName,canShowRedirect:!0};return eventData},getCurrentDate:function(){var dateToCheck=moment_timezone_default().tz(this.referenceDate,this.$timezone).format("MM YY"),isCurrentMonth=moment_timezone_default().tz(this.$timezone).format("MM YY")===dateToCheck,startOfMonth=isCurrentMonth?moment_timezone_default().tz(this.$timezone):moment_timezone_default().tz(this.referenceDate,this.$timezone),startDate=startOfMonth.clone().startOf("day").valueOf(),endDate=startOfMonth.clone().endOf("day").valueOf();isNaN(startDate)||this.onViewMore({startDate:startDate,endDate:endDate})},getCurrentTimeStamp:function(){var _this$preservedTimeLi=this.preservedTimeLimit,startTime=_this$preservedTimeLi.startTime,endTime=_this$preservedTimeLi.endTime,startOfMonth=moment_timezone_default().tz(startTime,this.$timezone),endOfMonth=moment_timezone_default().tz(endTime,this.$timezone),startOfWeek=startOfMonth.clone().isoWeekday(1).startOf("isoWeek").valueOf(),endOfWeek=endOfMonth.clone().isoWeekday(1).endOf("isoWeek").valueOf();return{startTime:startOfWeek,endTime:endOfWeek}},nextPage:function(){this.scrollDisabled||20!==this.recordCount||(this.page++,this.fetchingMore=!0,this.onViewMore(this.viewMoreTimeEvent,this.searchText))},onCalendarSearch:function(calendarSearchData){this.searchText=calendarSearchData,this.onViewMore(this.viewMoreTimeEvent,calendarSearchData)},fetchEvents:debounce_default()((0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _this$getCurrentTimeS,startTime,endTime,serializedData,res,data,meta,error,_supplements$this$mod,_ref25,supplements,_ref26,isCancelled;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this$getCurrentTimeS=this.getCurrentTimeStamp(),startTime=_this$getCurrentTimeS.startTime,endTime=_this$getCurrentTimeS.endTime,!isNaN(startTime)&&!(0,validation/* isEmpty */.xb)(this.viewname)){_context.next=3;break}return _context.abrupt("return");case 3:return eventBus/* eventBus */.Y.$emit("custom-event",!0),this.isLoading=!0,_context.next=7,this.deserialize(startTime,endTime);case 7:return serializedData=_context.sent,_context.next=10,api/* API */.bl.get("v3/modules/calendarData/".concat(this.moduleName,"/view/").concat(this.viewname,"/get"),serializedData);case 10:if(res=_context.sent,data=res.data,meta=res.meta,error=res.error,error){_context.next=18;break}_ref25=meta||{},supplements=_ref25.supplements,supplements&&(this.moduleStateObj=(null===(_supplements$this$mod=supplements[this.moduleName])||void 0===_supplements$this$mod?void 0:_supplements$this$mod.moduleState)||{}),this.calendarEvent=data[this.moduleName]||{},_context.next=22;break;case 18:if(_ref26=error||{},isCancelled=_ref26.isCancelled,isCancelled){_context.next=22;break}throw error;case 22:this.isLoading=!1,eventBus/* eventBus */.Y.$emit("custom-event",!1);case 24:case"end":return _context.stop()}}),_callee,this)}))),200),eventClick:function(id){var viewname=this.viewname,moduleName=this.moduleName,query=this.$route.query||null;if((0,router/* isWebTabsEnabled */.tj)()){if(!(0,validation/* isEmpty */.xb)(this.webTabRouteName)){var _this$$router$resolve=this.$router.resolve({name:this.webTabRouteName,params:{viewname:viewname,id:id},query:query}),href=_this$$router$resolve.href;window.open(href,"_blank")}}else{var currentModuleName=(0,validation/* isEmpty */.xb)(routeUtil/* moduleRouteHash */.P[moduleName])?"custom":moduleName,routeObj=(0,routeUtil/* findRouterForModuleInApp */.E)(currentModuleName,router/* pageTypes */.As.OVERVIEW)||{};if(!(0,validation/* isEmpty */.xb)(routeObj)){var _this$$router$resolve2=this.$router.resolve((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeObj(id,viewname,moduleName)),{},{query:query})),_href=_this$$router$resolve2.href;window.open(_href,"_blank")}}},onViewMore:function(event,search){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var startDate,outOfScope,_ref27,query,endDate,calendarViewRequest,param,_yield$API$get,data,meta,error,_data$_this$moduleNam,_ref28,supplements,_supplements$_this$mo,moduleState;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return startDate=event.startDate,outOfScope=_this.outOfScope,_ref27=_this.$route||{},query=_ref27.query,startDate=moment_timezone_default().tz(startDate||_this.referenceDate,_this.$timezone).valueOf(),endDate=moment_timezone_default().tz(startDate,_this.$timezone).endOf("day").valueOf(),query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{today:null,onChange:null,refDate:startDate}),outOfScope=!_this.onChangeCal,_this.fetchingMore||(_this.viewMoreData=[],_this.page=1),_this.viewMoreLoading=!0,_this.$router.replace({query:query}).catch((function(){})),_this.outOfScope=outOfScope,_this.viewMoreTimeEvent=event,_this.selectedDate=moment_timezone_default().tz(startDate,_this.$timezone).format("D dddd"),calendarViewRequest={startTime:parseInt(startDate),endTime:parseInt(endDate)},param={calendarViewRequest:JSON.stringify(calendarViewRequest),page:_this.fetchingMore?_this.page:1,perPage:20,filters:(0,validation/* isEmpty */.xb)(_this.filters)?null:JSON.stringify(_this.filters),search:(0,validation/* isEmpty */.xb)(search)?null:search},_context2.next=17,api/* API */.bl.get("v3/modules/calendarData/".concat(_this.moduleName,"/view/").concat(_this.viewname,"/list"),param);case 17:if(_yield$API$get=_context2.sent,data=_yield$API$get.data,meta=_yield$API$get.meta,error=_yield$API$get.error,error||(0,validation/* isEmpty */.xb)(data)||(_this.fetchingMore?_this.viewMoreData=[].concat((0,toConsumableArray/* default */.Z)(_this.viewMoreData||[]),(0,toConsumableArray/* default */.Z)(data[_this.moduleName])):_this.viewMoreData=data[_this.moduleName],_this.recordCount=data[_this.moduleName]?null===(_data$_this$moduleNam=data[_this.moduleName])||void 0===_data$_this$moduleNam?void 0:_data$_this$moduleNam.length:0),(0,validation/* isEmpty */.xb)(meta)||(_ref28=meta||{},supplements=_ref28.supplements,supplements&&(moduleState=(null===(_supplements$_this$mo=supplements[_this.moduleName])||void 0===_supplements$_this$mo?void 0:_supplements$_this$mo.moduleState)||{},_this.moduleStateObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this.moduleStateObj),moduleState))),!(0,validation/* isEmpty */.xb)(search)||(0,validation/* isEmpty */.xb)(_this.$refs["toggle-search"])){_context2.next=26;break}return _context2.next=26,_this.$refs["toggle-search"].clearSearch();case 26:_this.fetchingMore=_this.viewMoreLoading=!1;case 27:case"end":return _context2.stop()}}),_callee2)})))()}}},list_CalendarViewvue_type_script_lang_js=CalendarViewvue_type_script_lang_js,CalendarView_component=(0,componentNormalizer/* default */.Z)(list_CalendarViewvue_type_script_lang_js,CalendarViewvue_type_template_id_fa7d9868_render,CalendarViewvue_type_template_id_fa7d9868_staticRenderFns,!1,null,null,null)
/* harmony default export */,CalendarView=CalendarView_component.exports,CalendarDatePickervue_type_template_id_7925e752_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"calendar-date-picker"},[_vm.showDatePicker?_c("DatePicker",{staticClass:"calendar-date-picker-btn",attrs:{dateObj:_vm.datePickerObj,zone:_vm.$timezone,tabs:_vm.datePickerTabs,iconDisabled:_vm.isLoading},on:{date:function(dateObj){return _vm.timeStamp=dateObj},"today-clicked":function($event){_vm.todayclicked=!0}}}):_vm._e()],1)},CalendarDatePickervue_type_template_id_7925e752_scoped_true_staticRenderFns=[],slicedToArray=__webpack_require__(554621),NewDatePickervue_type_template_id_2eb272a9_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.$mobile?_c("div",{staticClass:"mobile-new-date-filter"},[_vm._v(_vm._s(_vm.result.label))]):_c("div",[_c("el-popover",{ref:"popover4",attrs:{placement:"right","popper-class":"new-calender-popup",width:825,trigger:"click"},model:{value:_vm.datePicker,callback:function($$v){_vm.datePicker=$$v},expression:"datePicker"}},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"row datepicker-header"},[_c("div",{staticClass:"pointer"}),_vm.enableTabs("C")?_c("div",{staticClass:"p10 range-selecter marginL",class:{active:"C"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("C")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.quick_ranges"))+" ")]):_vm._e(),_vm.enableTabs("D")?_c("div",{staticClass:"p10 range-selecter",class:{active:"D"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("D")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.day"))+" ")]):_vm._e(),_vm.enableTabs("W")?_c("div",{staticClass:"p10 range-selecter",class:{active:"W"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("W")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.week"))+" ")]):_vm._e(),_vm.enableTabs("M")?_c("div",{staticClass:"p10 range-selecter",class:{active:"M"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("M")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.month"))+" ")]):_vm._e(),_vm.enableTabs("Y")?_c("div",{staticClass:"p10 range-selecter",class:{active:"Y"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("Y")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.year"))+" ")]):_vm._e(),_vm.enableTabs("Q")?_c("div",{staticClass:"p10 range-selecter",class:{active:"Q"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("Q")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.quarter"))+" ")]):_vm._e(),_vm.enableTabs("R")?_c("div",{staticClass:"p10 range-selecter",class:{active:"R"===_vm.currentTab},on:{click:function($event){return _vm.changeTab("R")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.custom"))+" ")]):_vm._e(),_c("div")]),_c("div",{staticClass:"days-section"},["C"===_vm.currentTab?_c("div",{staticClass:"row"},_vm._l(Object.keys(_vm.dateOperators),(function(dateOperator,index){return"Custom"!==dateOperator?_c("div",{key:index,staticClass:"custom-section"},[_c("span",{staticClass:"custom-section-title"},[_vm._v(_vm._s(dateOperator))]),_c("div",{staticClass:"quick-range-container"},_vm._l(_vm.dateOperators[dateOperator],(function(section,index1){return _c("div",{key:index1,staticClass:"cal-custom-day",class:{active:null!==_vm.customCaseSection&&(_vm.customCaseSection.operatorId===section.operatorId&&_vm.customCaseSection.offset===section.offset)},on:{click:function($event){return _vm.custom(section)}}},[_vm._v(" "+_vm._s(section.label)+" ")])})),0)]):_vm._e()})),0):_vm._e(),"Q"===_vm.currentTab?_c("div",{staticClass:"row month-row"},[_c("div",{staticClass:"year-section"},_vm._l(_vm.years,(function(y){return _c("div",{key:y,staticClass:"p5 year",class:{active:_vm.selectedQuarter.year===y},on:{click:function($event){return _vm.setYear(y)}}},[_vm._v(" "+_vm._s(y)+" ")])})),0),_c("div",{staticClass:"col-3 month-container"},_vm._l(_vm.quarters,(function(quarter){return _c("div",{key:quarter.id,staticClass:"quarter-row pointer",class:{active:_vm.selectedQuarter.quarter===quarter.id},on:{click:function($event){return _vm.setQuarter(quarter.id,null)}}},[_vm._v(" "+_vm._s(quarter.label)+" ")])})),0),"Q"===_vm.currentTab?_c("div",{staticClass:"calender-custom col-4"},[_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.thisQuarter[0]&&_vm.time[1]===_vm.thisQuarter[1]},on:{click:function($event){return _vm.quickChoose("thisquarter")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.this_quarter"))+" ")]):_vm._e(),_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.lastQuarter[0]&&_vm.time[1]===_vm.lastQuarter[1]},on:{click:function($event){return _vm.quickChoose("lastquarter")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.last_quarter"))+" ")]):_vm._e()]):_vm._e()]):_vm._e(),"D"===_vm.currentTab||"W"===_vm.currentTab?_c("div",{staticClass:"row calenderheader-row"},[_c("div",{staticClass:"p5",on:{click:function($event){return _vm.previous()}}},[_c("i",{staticClass:"el-icon-arrow-left"})]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.months[_vm.selectedDate["month"]].label))]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.selectedDate["year"]))]),_c("div",{staticClass:"p5",on:{click:function($event){return _vm.next()}}},[_c("i",{staticClass:"el-icon-arrow-right"})])]):_vm._e(),"D"===_vm.currentTab||"W"===_vm.currentTab?_c("div",{staticClass:"row week-row"},_vm._l(_vm.daysHeader,(function(w,index){return _c("div",{key:index,staticClass:"p5 day-block"},[_vm._v(" "+_vm._s(w)+" ")])})),0):_vm._e(),_c("div",{staticClass:"day-container"},["D"===_vm.currentTab?_c("div",{staticClass:"row day-row pull-left"},_vm._l(_vm.days,(function(d,index){return _c("div",{key:index,staticClass:"p5 day-block day",class:{active:_vm.selectedDate["day"]===d.day,custom_disable:d.day<0},on:{click:function($event){return _vm.setDate(d.day,_vm.selectedDate["month"])}}},[_vm._v(" "+_vm._s(d.day<0?-d.day:d.day)+" ")])})),0):_vm._e(),"D"===_vm.currentTab?_c("div",{staticClass:"calender-custom pull-right"},[_c("div",{staticClass:"pull-left calender-div"}),_c("div",{staticClass:"pull-right"},[_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.today[0]&&_vm.time[1]===_vm.today[1]},on:{click:function($event){return _vm.quickChoose("today")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.today"))+" ")]):_vm._e(),_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.yesterday[0]&&_vm.time[1]===_vm.yesterday[1]},on:{click:function($event){return _vm.quickChoose("yesterday")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.yesterday"))+" ")]):_vm._e()])]):_vm._e()]),_c("div",{staticClass:"day-container"},["W"===_vm.currentTab?_c("div",{staticClass:"row day-row pull-left"},_vm._l(_vm.days,(function(d,index){return _c("div",{key:index,staticClass:"p5 day-block day",class:{active:_vm.computeWeek(d.year,d.month,Math.abs(d.day))===_vm.selectedWeek,custom_disable:d.day<0},on:{click:function($event){return _vm.setWeek(d.day,_vm.selectedDate["month"],_vm.selectedDate["year"])}}},[_vm._v(" "+_vm._s(d.day<0?-d.day:d.day)+" ")])})),0):_vm._e(),"W"===_vm.currentTab?_c("div",{staticClass:"calender-custom pull-right"},[_c("div",{staticClass:"pull-left calender-div"}),_c("div",{staticClass:"pull-right"},[_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.thisWeek[0]&&_vm.time[1]===_vm.thisWeek[1]},on:{click:function($event){return _vm.quickChoose("thisweek")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.this_week"))+" ")]):_vm._e(),_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.lastWeek[0]&&_vm.time[1]===_vm.lastWeek[1]},on:{click:function($event){return _vm.quickChoose("lastweek")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.last_week"))+" ")]):_vm._e()])]):_vm._e()]),"M"===_vm.currentTab||"Y"===_vm.currentTab?_c("div",{staticClass:"row month-row"},[_c("div",{staticClass:"year-section"},_vm._l(_vm.years,(function(y){return _c("div",{key:y,staticClass:"p5 year",class:{active:_vm.selectedYear===y},on:{click:function($event){return _vm.setYear(y)}}},[_vm._v(" "+_vm._s(y)+" ")])})),0),"M"===_vm.currentTab?_c("div",{staticClass:"col-5 month-container"},[_c("div",{staticClass:"row"},[_vm._l(_vm.months.slice(0,6),(function(m){return _c("div",{key:m.id,staticClass:"col-6 p5 month",class:{active:_vm.selectedMonth===m.id},on:{click:function($event){return _vm.setMonth(m.id,m.label,_vm.selectedYear)}}},[_vm._v(" "+_vm._s(m.label)+" ")])})),_vm._l(_vm.months.slice(6,12),(function(m){return _c("div",{key:m.id,staticClass:"col-6 p5 month",class:{active:_vm.selectedMonth===m.id},on:{click:function($event){return _vm.setMonth(m.id,m.label,_vm.selectedYear)}}},[_vm._v(" "+_vm._s(m.label)+" ")])}))],2)]):_vm._e(),"M"===_vm.currentTab?_c("div",{staticClass:"calender-custom col-4"},[_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.thisMonth[0]&&_vm.time[1]===_vm.thisMonth[1]},on:{click:function($event){return _vm.quickChoose("thismonth")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.this_month"))+" ")]):_vm._e(),_vm.enableTabs("C")?_c("div",{staticClass:"cal-custom-day",class:{active:_vm.time[0]===_vm.lastMonth[0]&&_vm.time[1]===_vm.lastMonth[1]},on:{click:function($event){return _vm.quickChoose("lastmonth")}}},[_vm._v(" "+_vm._s(_vm.$t("common.date_picker.last_month"))+" ")]):_vm._e()]):_vm._e()]):_vm._e()]),"R"===_vm.currentTab?_c("div",{staticClass:"calender-range-section"},[_c("div",{staticClass:"from-table"},["R"===_vm.currentTab?_c("div",{staticClass:"row calenderheader-row"},[_c("div",{staticClass:"p5",on:{click:function($event){return _vm.rangeNavPre("from")}}},[_c("i",{staticClass:"el-icon-arrow-left"})]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.months[_vm.rangeObj["fromMonth"]].label))]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.rangeObj["fromYear"]))]),_c("div",{staticClass:"p5",on:{click:function($event){return _vm.rangeNavNext("from")}}},[_c("i",{staticClass:"el-icon-arrow-right"})])]):_vm._e(),"R"===_vm.currentTab?_c("div",{staticClass:"row week-row"},_vm._l(_vm.daysHeader,(function(w){return _c("div",{key:w,staticClass:"p5 day-block"},[_vm._v(" "+_vm._s(w)+" ")])})),0):_vm._e(),"R"===_vm.currentTab?_c("div",{staticClass:"row day-row"},_vm._l(_vm.rangeObj.fromDays,(function(d,index){return _c("div",{key:index,staticClass:"p5 day-block day",class:{active:_vm.rangeObj.fromDay===d.day,custom_disable:d.day<0},on:{click:function($event){return _vm.setRange("from",d.day)}}},[_vm._v(" "+_vm._s(d.day<0?-d.day:d.day)+" ")])})),0):_vm._e()]),_c("div",{staticClass:"to-table"},["R"===_vm.currentTab?_c("div",{staticClass:"row calenderheader-row"},[_c("div",{staticClass:"p5",on:{click:function($event){return _vm.rangeNavPre("to")}}},[_c("i",{staticClass:"el-icon-arrow-left"})]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.months[_vm.rangeObj["toMonth"]].label))]),_c("div",{staticClass:"p5"},[_vm._v(_vm._s(_vm.rangeObj["toYear"]))]),_c("div",{staticClass:"p5",on:{click:function($event){return _vm.rangeNavNext("to")}}},[_c("i",{staticClass:"el-icon-arrow-right"})])]):_vm._e(),"R"===_vm.currentTab?_c("div",{staticClass:"row week-row"},_vm._l(_vm.daysHeader,(function(w){return _c("div",{key:w,staticClass:"p5 day-block"},[_vm._v(" "+_vm._s(w)+" ")])})),0):_vm._e(),"R"===_vm.currentTab?_c("div",{staticClass:"row day-row"},_vm._l(_vm.rangeObj.toDays,(function(d,index){return _c("div",{key:index,staticClass:"p5 day-block day",class:{active:_vm.rangeObj.toDay===d.day,disabled:_vm.computeMilliSeconds(_vm.rangeObj.toYear,_vm.rangeObj.toMonth,d.day,"start")<_vm.computeMilliSeconds(_vm.rangeObj.fromYear,_vm.rangeObj.fromMonth,_vm.rangeObj.fromDay,"start")||d.day<0},on:{click:function($event){return _vm.setRange("to",d.day)}}},[_vm._v(" "+_vm._s(d.day<0?-d.day:d.day)+" ")])})),0):_vm._e()])]):_vm._e()]),_c("div",{staticClass:"row datepic-btn-row"},[_c("el-button",{staticClass:"pull-right cal-ok-btn",on:{click:function($event){return _vm.returnDate()}}},[_vm._v(_vm._s(_vm.$t("common._common.ok")))])],1)]),_c("div",{staticClass:"calendar-button-row",class:[{"picker-disabled":_vm.disabled}]},[_c("div",{},[_vm.isDateFixed?_c("el-button",{staticClass:"calendar-btn calendar-label"},[_vm._v(_vm._s(_vm.result.label))]):_c("el-button",{directives:[{name:"popover",rawName:"v-popover:popover4",arg:"popover4"}],staticClass:"calendar-btn calendar-label",attrs:{disabled:_vm.hidePopover||_vm.isDateFixed||_vm.disabled}},[_vm._v(_vm._s(_vm.result.label))])],1),_c("div",{class:["d-flex align-center date-operators-container",_vm.iconDisabled&&"disabled-events-cal"]},[_vm.isDateFixed?_vm._e():_c("div",{staticClass:"pT3 cal-left-btn nav-btn f20",on:{click:function($event){return _vm.navPrevious()}}},[_c("i",{staticClass:"el-icon-arrow-left date-arrow"})]),_c("el-button",{staticClass:"calendar-btn tdy-btn",on:{click:_vm.getToday}},[_vm._v(_vm._s(_vm.$t("common._common.today")))]),_vm.isDateFixed||_vm.isCurrentDateRange?_vm._e():_c("div",{staticClass:"pT3 cal-right-btn nav-btn f20",on:{click:function($event){return _vm.navNext()}}},[_c("i",{staticClass:"el-icon-arrow-right date-arrow"})])],1)])],1)])},NewDatePickervue_type_template_id_2eb272a9_staticRenderFns=[],NewDateHelper=__webpack_require__(105534),NewDatePicker=__webpack_require__(900773),NewDatePickervue_type_script_lang_js={extends:NewDatePicker/* default */.Z,props:["iconDisabled"],data:function(){return{}},methods:{getToday:function(){var startOfMonth=moment_timezone_default().tz(this.timeZone).startOf("month").valueOf();this.dateObj=this.$helpers.cloneObject(NewDateHelper/* default */.Z.getDatePickerObject(64,"".concat(startOfMonth))),this.loadFromObject(),this.$emit("today-clicked",!0)}}},components_NewDatePickervue_type_script_lang_js=NewDatePickervue_type_script_lang_js,NewDatePicker_component=(0,componentNormalizer/* default */.Z)(components_NewDatePickervue_type_script_lang_js,NewDatePickervue_type_template_id_2eb272a9_render,NewDatePickervue_type_template_id_2eb272a9_staticRenderFns,!1,null,null,null)
/* harmony default export */,components_NewDatePicker=NewDatePicker_component.exports,datePickerTabs={enableByOperationOnId:!0,disableDefaultLabels:!0,enabledTabs:["M"]},CalendarDatePickervue_type_script_lang_js={components:{DatePicker:components_NewDatePicker},data:function(){return{datePickerTabs:datePickerTabs,datePickerObj:null,timeStamp:null,showDatePicker:!0,todayclicked:!0,isLoading:!1}},mounted:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.setDateObj(_this.startTime);case 2:eventBus/* eventBus */.Y.$on("custom-event",(function(payload){_this.isLoading=payload}));case 3:case"end":return _context.stop()}}),_callee)})))()},beforeDestroy:function(){eventBus/* eventBus */.Y.$off("custom-event")},computed:{startTime:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},startTime=_ref2.startTime;return startTime?parseInt(startTime):null}},watch:{timeStamp:function(newVal){this.setQuery(newVal)},startTime:function(newVal){this.setDateObj(newVal)}},methods:{setDateObj:function(newVal){var _this2=this;this.showDatePicker=!1;var startOfMonth=moment_timezone_default().tz(newVal,this.$timezone).startOf("month").valueOf();this.datePickerObj=NewDateHelper/* default */.Z.getDatePickerObject(64,//for now its only month view 64 defines operatorId for month
"".concat(startOfMonth)),(0,validation/* isEmpty */.xb)(newVal)&&this.setQuery(this.datePickerObj),this.$nextTick((function(){_this2.showDatePicker=!0}))},setQuery:function(dateObj){var _ref3=dateObj||{},operationOn=_ref3.operationOn,value=_ref3.value,_ref4=value||[],_ref5=(0,slicedToArray/* default */.Z)(_ref4,2),startTime=_ref5[0],endTime=_ref5[1],currentView=operationOn.toUpperCase(),_ref6=this.$route||{},query=_ref6.query,todayDate=this.todayclicked?moment_timezone_default().tz(this.$timezone).startOf("day").valueOf():null;query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{currentView:currentView,startTime:startTime,endTime:endTime,refDate:todayDate,onChange:!0,today:this.todayclicked}),this.$router.replace({query:query}).catch((function(){})),this.todayclicked=!1}}},components_CalendarDatePickervue_type_script_lang_js=CalendarDatePickervue_type_script_lang_js,CalendarDatePicker_component=(0,componentNormalizer/* default */.Z)(components_CalendarDatePickervue_type_script_lang_js,CalendarDatePickervue_type_template_id_7925e752_scoped_true_render,CalendarDatePickervue_type_template_id_7925e752_scoped_true_staticRenderFns,!1,null,"7925e752",null)
/* harmony default export */,CalendarDatePicker=CalendarDatePicker_component.exports,CommonModuleListvue_type_script_lang_js={name:"CommonModuleList",props:["moduleName","viewname","isCustomModule"],components:{ColumnCustomization:ColumnCustomization/* default */.Z,Spinner:Spinner/* default */.Z,CommonListLayout:CommonLayout/* default */.Z,Pagination:ListPagination/* default */.Z,FExportSettings:FExportSettings/* default */.Z,Sort:NewSort,SummarySidebar:SummarySideBar/* default */.Z,CommonList:CommonList/* default */.Z,CustomButton:CustomButton/* default */.Z,VisualType:VisualType,AdvancedSearchWrapper:AdvancedSearchWrapper/* default */.Z,CalendarView:CalendarView,CalendarDateWrapper:CalendarDatePicker},data:function(){return{canShowListView:!0,showType:!1,recordCount:null,currentPageCount:null,perPage:50,sortObj:{},selectedListItemsIds:[],selectedListItemsObj:[],showColumnSettings:!1,isLoading:!0,records:null,POSITION:CustomButtonUtil/* POSITION_TYPE */.Rz,isEmpty:validation/* isEmpty */.xb}},created:function(){this.init()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({viewDetail:function(state){return state.view.currentViewDetail},isViewLoading:function(state){return state.view.isLoading},isViewDetailLoading:function(state){return state.view.detailLoading},metaInfo:function(state){return state.view.metaInfo},groupViews:function(state){var _ref=state||{},view=_ref.view,_ref2=view||{},groupViews=_ref2.groupViews;return(0,validation/* isEmpty */.xb)(groupViews)?[]:groupViews}})),{},{canHideSubHeader:function(){return(0,validation/* isEmpty */.xb)(this.records)},canShowCalendarHeader:function(){return!this.showListView&&!this.showLoading&&!(0,validation/* isEmpty */.xb)(this.viewname)},moduleDisplayName:function(){var _ref3=this.metaInfo||{},moduleObj=_ref3.module,name=_ref3.name,_ref4=moduleObj||{},displayName=_ref4.displayName;return displayName||name||this.moduleName},parentPath:function(){var moduleName=this.moduleName;return"/app/ca/modules/".concat(moduleName,"/")},viewLoading:function(){return this.isViewLoading||this.isViewDetailLoading},showLoading:function(){return this.isLoading||this.viewLoading},page:function(){var $route=this.$route,_ref5=$route||{},page=_ref5.query.page;return page||1},filters:function(){var $route=this.$route,_ref6=$route||{},search=_ref6.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(search)},canHideFilter:function(){var $route=this.$route,records=this.records,_ref7=$route||{},_ref7$query=_ref7.query,search=_ref7$query.search,page=_ref7$query.page;return(0,validation/* isEmpty */.xb)(records)&&(0,validation/* isEmpty */.xb)(search)&&(0,validation/* isEmpty */.xb)(page)},isPermissionsRequired:function(){var currentOrgId=this.$getProperty(this,"$org.id");return this.$constants.isCustomModulePermissionsEnabled(currentOrgId)},selectedRecordId:function(){var id=this.$getProperty(this.$route,"params.id");return id?parseInt(id):-1},isSummaryOpen:function(){return!(0,validation/* isEmpty */.xb)(this.selectedRecordId)},currentViewDetail:function(){var viewDetail=this.viewDetail,filters=this.filters;return filters?this.$t("custommodules.list.filtered_view"):viewDetail.displayName},emptyStateText:function(){var moduleDisplayName=this.moduleDisplayName;return this.$t("common.products.no_module_available",{moduleName:moduleDisplayName})},createBtnText:function(){var moduleDisplayName=this.moduleDisplayName;return this.$t("common.products.new_module",{moduleName:moduleDisplayName})},photoFieldName:function(){return"photoId"},modelDataClass:function(){return CustomModuleData/* CustomModuleData */.u},mainFieldName:function(){var _ref8=this.metaInfo||{},fields=_ref8.fields,mainFieldObj=(fields||[]).find((function(field){return field.mainField}));return(null===mainFieldObj||void 0===mainFieldObj?void 0:mainFieldObj.name)||"name"},isColumnCustomizable:function(){var viewDetail=this.viewDetail,_ref9=viewDetail||{},isEditable=_ref9.isEditable;return isEditable},
// will be uncommented after calendar configuration
canShowVisualSwitch:function(){var _ref10=this.viewDetail||{},_ref10$listView=_ref10.listView,listView=void 0!==_ref10$listView&&_ref10$listView,_ref10$calendarView=_ref10.calendarView,calendarView=void 0!==_ref10$calendarView&&_ref10$calendarView;return listView&&calendarView&&this.$helpers.isLicenseEnabled("CALENDAR_VIEW")&&this.showType},showListView:function(){var viewDetail=this.viewDetail,canShowVisualSwitch=this.canShowVisualSwitch,_this$canShowListView=this.canShowListView,canShowListView=void 0===_this$canShowListView||_this$canShowListView,_ref11=viewDetail||{},_ref11$listView=_ref11.listView,listView=void 0!==_ref11$listView&&_ref11$listView,_ref11$calendarView=_ref11.calendarView,calendarView=void 0!==_ref11$calendarView&&_ref11$calendarView,calendarViewContext=_ref11.calendarViewContext;return canShowVisualSwitch&&canShowListView||!listView&&!calendarView||listView&&!calendarView||(0,validation/* isEmpty */.xb)(calendarViewContext)},slotList:function(){return[{name:"id",isHardcodedColumn:!0,columnAttrs:{"min-width":110,label:"ID",fixed:"left"}},{criteria:JSON.stringify({name:"name"})},{name:"editDelete",isActionColumn:!0,columnAttrs:{width:130,class:"visibility-visible-actions",fixed:"right"}}]},hasViewList:function(){return(this.groupViews||[]).some((function(grp){return!(0,validation/* isEmpty */.xb)(grp.views)}))},viewDetailFields:function(){var _ref12=this||{},viewDetail=_ref12.viewDetail,_ref13=viewDetail||{},fields=_ref13.fields;return fields}}),watch:{page:function(){this.currentPageCount=null,this.refreshRecordDetails(!1,!1)},filters:function(newVal,oldVal){isEqual_default()(newVal,oldVal)||this.refreshRecordDetails()},moduleName:{handler:function(newVal,oldVal){(0,validation/* isEmpty */.xb)(newVal)||isEqual_default()(newVal,oldVal)||(this.resetData(),this.init(),(0,validation/* isEmpty */.xb)(this.viewname)||this.refreshRecordDetails())},immediate:!0},viewname:{handler:function(newVal,oldVal){(0,validation/* isEmpty */.xb)(newVal)||isEqual_default()(newVal,oldVal)||(this.resetData(),this.getViewDetail(),this.refreshRecordDetails())},immediate:!0},sortObj:function(newVal,oldVal){isEqual_default()(newVal,oldVal)||this.refreshRecordDetails()},viewLoading:function(newVal){newVal||this.hasViewList||!(0,validation/* isEmpty */.xb)(this.viewname)||(this.isLoading=!1)},viewDetailFields:{handler:function(newVal,oldVal){isEqual_default()(newVal,oldVal)||this.isLoading||this.loadRecords(!0)},deep:!0}},methods:{init:function(){this.$store.dispatch("loadTicketStatus",this.moduleName||"").catch((function(){})),this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){}))},getViewDetail:function(){var viewname=this.viewname,moduleName=this.moduleName;this.$store.dispatch("view/loadViewDetail",{viewName:viewname,moduleName:moduleName}).catch((function(){}))},loadRecords:function(){var _arguments=arguments,_this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var force,moduleName,viewname,filters,page,perPage,sortObj,params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return force=_arguments.length>0&&void 0!==_arguments[0]&&_arguments[0],moduleName=_this.moduleName,viewname=_this.viewname,filters=_this.filters,page=_this.page,perPage=_this.perPage,sortObj=_this.sortObj,_context.next=4,api/* API */.bl.cancel({uniqueKey:"".concat(moduleName,"_LIST")});case 4:return _context.next=6,api/* API */.bl.cancel({uniqueKey:"".concat(moduleName,"_CUSTOM_BUTTON")});case 6:return _context.prev=6,_this.isLoading=!0,_this.currentPageCount=null,params=(0,objectSpread2/* default */.Z)({moduleName:moduleName,viewname:viewname,filters:filters,page:page,perPage:perPage,force:force},sortObj),_context.next=12,_this.modelDataClass.fetchAll(params);case 12:_this.records=_context.sent,(0,validation/* isArray */.kJ)(_this.records)&&(_this.currentPageCount=_this.records.length,_this.isLoading=!1),_context.next=20;break;case 16:_context.prev=16,_context.t0=_context["catch"](6),_this.showErrorToastMessage(_context.t0,_this.$t("custommodules.list.list_error")),_this.isLoading=!1;case 20:case"end":return _context.stop()}}),_callee,null,[[6,16]])})))()},deleteRecords:function(idList){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleDisplayName,moduleName,value;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return moduleDisplayName=_this2.moduleDisplayName,moduleName=_this2.moduleName,_context2.next=3,_this2.$dialog.confirm({title:"".concat(_this2.$t("custommodules.list.delete")," ").concat(moduleDisplayName),message:"".concat(_this2.$t("custommodules.list.delete_confirmation")," ").concat(moduleDisplayName,"?"),rbDanger:!0,rbLabel:_this2.$t("custommodules.list.delete")});case 3:if(value=_context2.sent,!value){_context2.next=20;break}return _this2.isLoading=!0,_context2.prev=6,_context2.next=9,_this2.modelDataClass.delete(moduleName,idList);case 9:return _this2.$message.success("".concat(moduleDisplayName," ").concat(_this2.$t("custommodules.list.delete_success"))),_this2.selectedListItemsIds=[],_this2.selectedListItemsObj=[],_context2.next=14,_this2.refreshRecordDetails(!0);case 14:_context2.next=19;break;case 16:_context2.prev=16,_context2.t0=_context2["catch"](6),_this2.showErrorToastMessage(_context2.t0,_this2.$t("custommodules.list.delete_error"));case 19:_this2.isLoading=!1;case 20:case"end":return _context2.stop()}}),_callee2,null,[[6,16]])})))()},loadCount:function(){var _arguments2=arguments,_this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var force,moduleName,viewname,filters,params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return force=_arguments2.length>0&&void 0!==_arguments2[0]&&_arguments2[0],moduleName=_this3.moduleName,viewname=_this3.viewname,filters=_this3.filters,api/* API */.bl.cancel({uniqueKey:"".concat(moduleName,"_LIST_COUNT")}),_context3.prev=3,_this3.recordCount=null,params={moduleName:moduleName,viewname:viewname,filters:filters,force:force},_context3.next=8,_this3.modelDataClass.fetchRecordsCount(params);case 8:_this3.recordCount=_context3.sent,_context3.next=15;break;case 11:_context3.prev=11,_context3.t0=_context3["catch"](3),_this3.showErrorToastMessage(_context3.t0,_this3.$t("custommodules.list.unable_to_fetch_count")),_this3.recordCount=null;case 15:case"end":return _context3.stop()}}),_callee3,null,[[3,11]])})))()},toShowColumnSettings:function(){this.isColumnCustomizable&&(this.showColumnSettings=!0)},refreshRecordDetails:debounce_default()((0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var force,count,_args4=arguments;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:force=_args4.length>0&&void 0!==_args4[0]&&_args4[0],count=!(_args4.length>1&&void 0!==_args4[1])||_args4[1],count&&this.loadCount(!0),this.loadRecords(force);case 4:case"end":return _context4.stop()}}),_callee4,this)}))),100),updateSort:function(sorting){this.sortObj=(0,objectSpread2/* default */.Z)({},sorting||{})},selectItems:function(selectedItem){this.selectedListItemsObj=selectedItem,this.selectedListItemsIds=selectedItem.map((function(value){return value.id}))},hasPermission:function(action){var isPermissionsRequired=this.isPermissionsRequired,moduleName=this.moduleName,currentOrgId=this.$getProperty(this,"$org.id")||null,isHideCreateButton="custom_invoice"===moduleName&&17===currentOrgId&&"CREATE"===action;//Investa special check
return!isHideCreateButton&&(!isPermissionsRequired&&!(0,router/* isWebTabsEnabled */.tj)()||this.$hasPermission("".concat(this.moduleName,":").concat(action)))},getViewManagerRoute:function(){var appId=((0,router/* getApp */.wx)()||{}).id,moduleName=this.moduleName,$route=this.$route,query=$route.query,route=(0,routeUtil/* findRouterForModuleInApp */.E)(moduleName,router/* pageTypes */.As.VIEW_MANAGER);route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{moduleName:moduleName},query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{appId:appId})}))},openList:function(){var viewname=this.viewname,$route=this.$route,query=$route.query;if((0,router/* isWebTabsEnabled */.tj)()){var _ref15=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST)||{},name=_ref15.name;name&&this.$router.push({name:name,params:{viewname:viewname},query:query})}else this.$router.push({name:"custommodules-list",params:{viewname:viewname},query:query})},redirectToOverview:function(id){var moduleName=this.moduleName,viewname=this.viewname,$route=this.$route,query=$route.query;if((0,router/* isWebTabsEnabled */.tj)()){var _ref16=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref16.name,route={name:name,params:{viewname:viewname,id:id},query:query};return name&&route}return{name:"custommodules-summary",params:{moduleName:moduleName,viewname:viewname,id:id},query:query}},editModule:function(row){var moduleName=this.moduleName,id=row.id;if((0,router/* isWebTabsEnabled */.tj)()){var _ref17=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.EDIT)||{},name=_ref17.name;name&&this.$router.push({name:name,params:{id:id}})}else this.$router.push({name:"custommodules-edit",params:{moduleName:moduleName,id:id}})},redirectToFormCreation:function(){var moduleName=this.moduleName;if((0,router/* isWebTabsEnabled */.tj)()){var _ref18=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref18.name;name&&this.$router.push({name:name})}else this.$router.push({name:"custommodules-new",params:{moduleName:moduleName}})},openViewCreation:function(){var moduleName=this.moduleName,appId=((0,router/* getApp */.wx)()||{}).id;if((0,router/* isWebTabsEnabled */.tj)()){var _ref19=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.VIEW_CREATION)||{},name=_ref19.name;name&&this.$router.push({name:name,query:{appId:appId}})}else{var _ref20=(0,routeUtil/* findRouterForModuleInApp */.E)(moduleName,router/* pageTypes */.As.VIEW_CREATION)||{},_name=_ref20.name;_name&&this.$router.push({name:_name,params:{moduleName:moduleName},query:{appId:appId}})}},onCustomButtonSuccess:function(){this.loadRecords(),this.selectedListItemsIds=[],this.selectedListItemsObj=[]},resetData:function(){var _this4=this;this.showType=!1,this.isLoading=!0,this.recordCount=null,this.currentPageCount=null,this.records=null,this.selectedListItemsIds=[],this.selectedListItemsObj=[],this.sortObj={},this.$nextTick((function(){_this4.showType=!0}))},showErrorToastMessage:function(error,customMsg){var message=(null===error||void 0===error?void 0:error.message)||customMsg;this.$message.error(message)}}},list_CommonModuleListvue_type_script_lang_js=CommonModuleListvue_type_script_lang_js,CommonModuleList_component=(0,componentNormalizer/* default */.Z)(list_CommonModuleListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommonModuleList=CommonModuleList_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/98982.js.map