(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[73494],{
/***/674144:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AgentHeader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/AgentHeader.vue?vue&type=template&id=631384ee
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-header",{staticClass:"fc-agent-header"},[_c("div",{},[_vm._t("logo",(function(){return[_c("img",{staticClass:"fc-rebrand-logo",attrs:{src:_vm.brandConfig.logoLight}})]}))],2),_c("div",[_c("div",{on:{click:function($event){_vm.drawer=!0}}},[_c("avatar",{staticClass:"pointer",style:{border:"1px solid #666580","border-radius":"16px"},attrs:{size:"md",user:_vm.$account.user,color:"#473a9e"}})],1)])]),_c("el-drawer",{staticClass:"fc-drawer-hide-header",attrs:{visible:_vm.drawer,direction:_vm.direction,"append-to-body":!0,width:"30%"},on:{"update:visible":function($event){_vm.drawer=$event}}},[_c("div",{staticClass:"agent-profile-panel-header"},[_c("avatar",{staticClass:"pointer",attrs:{size:"xxxlg",user:_vm.$account.user,color:"#473a9e"}}),_c("div",{staticClass:"fc-white-15 mT15"},[_vm._v(_vm._s(_vm.$account.user.name))]),_c("div",{staticClass:"fc-white-13 mT10"},[_vm._v(_vm._s(_vm.$account.user.email))]),_c("div",{staticClass:"agent-profile-extra-link"},[_c("el-button",{staticClass:"fc-home-profile-btn",attrs:{round:""},on:{click:function($event){return _vm.myprofile()}}},[_vm._v(_vm._s(_vm.$t("common.profile.myprofile")))]),_c("div",{staticClass:"profile-container-divider",attrs:{direction:"vertical"}}),_c("el-button",{staticClass:"fc-home-profile-btn",attrs:{round:""},on:{click:function($event){return _vm.changePassword()}}},[_vm._v(_vm._s(_vm.$t("common.profile.changepassword")))])],1)],1),_c("div",{staticClass:"agent-profile-body"},[_c("div",{},[_c("div",{staticClass:"fc-profile-external-links p20"},[_c("div",{staticClass:"flex-middle pB20 pointer"},[_vm.canShowSwitchproduct?_c("router-link",{staticClass:"flex-middle",attrs:{to:{path:"/app"},target:"_blank"}},[_c("div",{staticClass:"flex-middle"},[_c("img",{attrs:{src:__webpack_require__(226344),width:"20",height:"20"}})]),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.switch_product"))+" ")])]):_vm._e()],1),_c("div",{staticClass:"flex-middle pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://guide.facilio.com/",target:"_blank"}},[_c("div",{},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/help-icon",iconClass:"text-center icon-sm-md"}})],1),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.help"))+" ")])])]),_c("div",{staticClass:"flex-middle pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://facilio.com/about",target:"_blank"}},[_c("div",{},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/about-icon",iconClass:"text-center icon-sm-md"}})],1),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.about"))+" ")])])]),_c("div",{staticClass:"flex-middle pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://blog.facilio.com/",target:"_blank"}},[_c("div",{},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/blog-icon",iconClass:"text-center icon-sm-md"}})],1),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.blog"))+" ")])])]),_c("div",{staticClass:"flex-middle pB20 pointer",on:{click:function($event){return _vm.logout()}}},[_c("div",{on:{click:function($event){return _vm.logout()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/logout-icon",iconClass:"text-center icon-sm-md"}})],1),_c("div",{staticClass:"label-txt-red mL15",on:{click:function($event){return _vm.logout()}}},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.logout"))+" ")])])])]),_c("div",{staticClass:"fc-profile-footer"},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-profile-txt"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.download"))+" ")]),_c("div",{staticClass:"mL20"},[_c("a",{staticClass:"mR20",attrs:{href:"https://apps.apple.com/us/developer/facilio-inc/id1438082478",target:"_blank"}},[_c("inline-svg",{attrs:{src:"svgs/ios-logo",iconClass:"text-center icon-sm-md"}})],1),_c("a",{attrs:{href:"https://play.google.com/store/apps/developer?id=Facilio+Inc",target:"_blank"}},[_c("img",{attrs:{src:__webpack_require__(260007),width:"20",height:"20"}})])])])])])])],1)},staticRenderFns=[],Avatar=(__webpack_require__(976801),__webpack_require__(903650),__webpack_require__(670560),__webpack_require__(574752)),router=__webpack_require__(329435),api=__webpack_require__(32284),AgentHeadervue_type_script_lang_js={data:function(){return{proilePanelShow:!1,drawer:!1,direction:"rtl"}},components:{Avatar:Avatar["default"]},computed:{canShowSwitchproduct:function(){var isDevMode=!1,isAgentApp=["iot"].includes((0,router/* getApp */.wx)().linkName);
// ADD option to toggle this from app config
return isDevMode||isAgentApp},brandConfig:function(){return window.brandConfig}},methods:{logout:function(){var _this=this;api/* API */.bl.get("logout").then((function(_ref){var error=_ref.error;error||(_this.$store.commit("LOGIN_REQUIRED",!0),_this.$helpers.logout(self.$route.query.redirect))}))},myprofile:function(){this.$router.push({path:"/app/personalsettings/editprofile"})},changePassword:function(){this.$router.push({path:"/app/personalsettings/userchangepassword"})}}},agent_AgentHeadervue_type_script_lang_js=AgentHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agent_AgentHeadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentHeader=component.exports},
/***/273494:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return App}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/App.vue?vue&type=template&id=08950d82
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.serverNotReachable?_c("div",[_c("server-not-reachable")],1):_vm.hasMetaLoaded?_c("div",{staticClass:"layout fc-main fc-white-theme"},[_c("AgentHome")],1):_c("div",[_c("loader")],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),vuex_esm=__webpack_require__(420629),HomeMixin=__webpack_require__(316322),Homevue_type_template_id_26fdbd5a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-agent-con"},[_c("agent-header"),_c("div",{staticClass:"fc-agent-main-con"},[_c("agent-sidebar"),_c("div",{staticClass:"fc-agent-main-con"},[_c("router-view")],1)],1)],1)},Homevue_type_template_id_26fdbd5a_scoped_true_staticRenderFns=[],AgentSidebarvue_type_template_id_2fdf925a_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-aside",{staticClass:"fc-agent-sidebar",attrs:{width:"250px"}},[_c("div",{staticClass:"fc-agent-sidebar-inner"},[_c("ul",{staticClass:"fc-v1-agent-sidebar-list mT0 mB0"},_vm._l(_vm.filteredMenu,(function(tab){return _c("router-link",{key:tab.id,staticClass:"pointer fc-agent-black-15 pT10 pB10 pL30 pR30",attrs:{to:"/"+_vm.appName+"/"+_vm.tabGroupRoute+"/"+tab.route,tag:"li"}},[_c("InlineSvg",{attrs:{src:_vm.menu[tab.route].icon,iconClass:_vm.menu[tab.route].iconClass}}),_vm._v(" "+_vm._s(tab.name)+" ")],1)})),1)])])],1)},AgentSidebarvue_type_template_id_2fdf925a_staticRenderFns=[],slicedToArray=__webpack_require__(554621),validation=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(990260)),router=__webpack_require__(329435),vue_runtime_esm=__webpack_require__(720144),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),AgentSidebarvue_type_script_lang_js={props:["agentSidebar"],data:function(){return{menu:{overview:{icon:"svgs/agent/overview",iconClass:"icon icon-md vertical-sub mR10"},list:{icon:"svgs/agent/agent",iconClass:"icon icon-md vertical-sub mR10"},controllers:{icon:"svgs/agent/controller",iconClass:"icon icon-md vertical-sub mR10"},points:{icon:"svgs/agent/points",iconClass:"icon icon-md vertical-sub mR10"},commissioning:{icon:"svgs/agent/commissioning",iconClass:"icon icon-md vertical-sub mR10"},alarmmapping:{icon:"svgs/agent/alarm-mapping",iconClass:"icon icon-md vertical-sub mR10"},alarm:{icon:"svgs/alarm",iconClass:"icon icon-md vertical-sub mR10"},notification:{icon:"svgs/agent/alarm-rules",iconClass:"icon icon-md vertical-sub mR10"},metrics:{icon:"svgs/agent/metrics",iconClass:"icon icon-md vertical-sub mR10"},log:{icon:"svgs/agent/auditlog",iconClass:"icon icon-md vertical-sub mR10"},data:{icon:"svgs/agent/agentData",iconClass:"icon icon-md vertical-sub mR10"},trigger:{icon:"svgs/agent/trigger",iconClass:"icon icon-md vertical-sub mR10"},automation:{icon:"svgs/agent/alarm-rules",iconClass:"icon icon-md vertical-sub mR10"},logs:{icon:"svgs/agent/agent-logs",iconClass:"icon icon-md vertical-sub mR10"}}}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",["selectedTabGroup"])),(0,vuex_esm/* mapGetters */.Se)("webtabs",["tabHasPermission"])),(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabGroups"])),{},{filteredMenu:function(){var _this=this,_ref=sortBy_default()(this.getTabGroups(),["order"])||[],_ref2=(0,slicedToArray/* default */.Z)(_ref,1),group=_ref2[0],tabs=(group||{}).webTabs.filter((function(tab){if("device"===tab.route)return!1;var featureLicense=tab.featureLicense;if((0,validation/* isNullOrUndefined */.le)(featureLicense)||0===featureLicense)return!0;var licenseInt=vue_runtime_esm["default"].prototype.$account.License,andOperatorOnLong=_this.$helpers.andOperatorOnLong;return licenseInt&&Boolean(andOperatorOnLong(featureLicense,licenseInt)===featureLicense)}));return sortBy_default()(tabs,["order"])},appName:function(){return(0,router/* getApp */.wx)().linkName},tabGroupRoute:function(){var _ref3=sortBy_default()(this.getTabGroups(),["order"])||[],_ref4=(0,slicedToArray/* default */.Z)(_ref3,1),group=_ref4[0];return group.route}})},agent_AgentSidebarvue_type_script_lang_js=AgentSidebarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agent_AgentSidebarvue_type_script_lang_js,AgentSidebarvue_type_template_id_2fdf925a_render,AgentSidebarvue_type_template_id_2fdf925a_staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentSidebar=component.exports,AgentHeader=__webpack_require__(674144),Homevue_type_script_lang_js={data:function(){return{}},components:{agentSidebar:AgentSidebar,agentHeader:AgentHeader/* default */.Z}},agent_Homevue_type_script_lang_js=Homevue_type_script_lang_js,Home_component=(0,componentNormalizer/* default */.Z)(agent_Homevue_type_script_lang_js,Homevue_type_template_id_26fdbd5a_scoped_true_render,Homevue_type_template_id_26fdbd5a_scoped_true_staticRenderFns,!1,null,"26fdbd5a",null)
/* harmony default export */,Home=Home_component.exports,Appvue_type_script_lang_js={mixins:[HomeMixin/* default */.Z],components:{AgentHome:Home},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.$store.dispatch("loadOrgs"),_context.next=3,_this.$store.dispatch("getCurrentAccount");case 3:return _context.next=5,_this.$store.dispatch("getFeatureLicenses");case 5:return _context.next=7,_this.initializeMeta();case 7:case"end":return _context.stop()}}),_callee)})))()},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account}}))},agent_Appvue_type_script_lang_js=Appvue_type_script_lang_js,App_component=(0,componentNormalizer/* default */.Z)(agent_Appvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,App=App_component.exports},
/***/260007:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"effc4cabeeb3dc067ea6c7bec420da20.svg";
/***/},
/***/226344:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"267bc6cfd54dcbc0af4671d5a0d2e38a.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/73494.js.map