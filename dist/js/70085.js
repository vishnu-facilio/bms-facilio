"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[70085],{
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/570085:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AgentConfig}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/AgentConfig.vue?vue&type=template&id=89ead342
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"bacnet-config height100"},[_c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(_vm._s(_vm.$t("setup.setup.config")))]),_c("div",{staticClass:"heading-description"},[_vm._v(" List of all "+_vm._s(_vm.selectedTab)+" points ")])])]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("controller-filter",{attrs:{loading:_vm.loading},on:{"update:loading":function($event){_vm.loading=$event},onControllerSelected:_vm.onControllerSelected}},[_c("el-col",{attrs:{span:4}},[_vm.discovering?_c("div",{staticClass:"pL10 fc-dark-blue-txt pointer flLeft",class:_vm.selectedController.availablePoints<=0&&_vm.newPoints<=0?"pT35":"pT30"},[_vm._v(" Discovering... "),_vm.selectedController.availablePoints>0?_c("span",[_vm._v(_vm._s(_vm.totalCount)+"/"+_vm._s(_vm.selectedController.availablePoints))]):_vm._e(),_vm.newPoints>0?_c("div",[_vm._v(" ("+_vm._s(_vm.newPoints)+" new points found) ")]):_vm._e()]):_c("span",{staticClass:"pL10 pT35 fc-dark-blue-txt pointer flLeft",attrs:{disabled:!_vm.selectedController.id},on:{click:function($event){_vm.selectedController&&_vm.discover()}}},[_vm._v("Discover Points")])]),_c("el-col",{staticClass:"flRight pT5",attrs:{span:4}},["unconfigured"===_vm.selectedTab?_c("el-button",{staticClass:"fc-btn-green-medium-fill f13 mT20 flRight",attrs:{disabled:!_vm.selectedInstanceIds.length,type:"primary",loading:_vm.configuring},on:{click:_vm.configure}},[_vm._v(_vm._s(_vm.configuring?"Configuring...":"Configure"))]):_vm._e()],1)],1),_c("div",{staticClass:"fR commissioning-search-con"},[_c("pagination",{ref:"f-page",staticClass:"commission-pagenation-con",attrs:{total:_vm.listCount,perPage:_vm.perPage}}),_vm.totalCount||_vm.quickSearchQueries?_c("div",{staticClass:"commissioning-search-block"},[_vm.showQuickSearches?_c("div",{staticClass:"row",staticStyle:{"margin-right":"20px"}},[_c("div",{staticClass:"fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper fc-list-search-wrapper-reading relative"},[_c("svg",{staticClass:"search-icon3",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQueries,expression:"quickSearchQueries"}],ref:"quickSearchQueries",staticClass:"quick-search-input6",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQueries},on:{keyup:[function($event){return _vm.quickSearches()},function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearches(!0)}],input:function($event){$event.target.composing||(_vm.quickSearchQueries=$event.target.value)}}}),_c("svg",{staticClass:"close-icon6",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.closeSearches}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_vm._e(),_c("div",{staticClass:"pointer text-right search-show-hide",on:{click:_vm.toggleQuickSearches}},[_vm._m(0)])]):_vm._e()],1),_c("el-tabs",{staticClass:"pT20",on:{"tab-click":function($event){_vm.listCount=null,_vm.loadInstances()}},model:{value:_vm.selectedTab,callback:function($$v){_vm.selectedTab=$$v},expression:"selectedTab"}},_vm._l(_vm.tabs,(function(tab){return _c("el-tab-pane",{key:tab.key,attrs:{label:tab.label,name:tab.key}},[_c("table",{staticClass:"setting-list-view-table"},[_c("thead",[_c("tr",[_vm.isConfiguredTab?_vm._e():_c("th",{staticStyle:{width:"5%",padding:"15px 30px"}},[_c("el-checkbox",{attrs:{value:_vm.selectedInstanceIds.length&&_vm.selectedInstanceIds.length===_vm.filterInstances.filter((function(instance){return 2!==instance.configureStatus})).length},on:{change:_vm.toggleSelectAll}})],1),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v("NAME")]),_vm.selectedController&&_vm.$common.isBacnetController(_vm.selectedController)?[_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" INSTANCE NUMBER ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" INSTANCE TYPE ")])]:_vm._e(),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v("ADDED TIME")]),_vm.isConfiguredTab?_vm._e():_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" STATUS ")])],2)]),_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1)])]):_vm.filterInstances.length?_c("tbody",_vm._l(_vm.filterInstances,(function(instance){return _c("tr",{directives:[{name:"loading",rawName:"v-loading",value:_vm.loading,expression:"loading"}],key:instance.id,staticClass:"tablerow"},[_vm.isConfiguredTab?_vm._e():_c("td",{staticStyle:{width:"5%"}},[_c("el-checkbox",{attrs:{value:_vm.selectedInstanceIds.indexOf(instance.id)>=0,disabled:!_vm.isConfiguredTab&&2===instance.configureStatus},on:{change:function($event){return _vm.toggleSelection(instance.id)}}})],1),_c("td",{staticClass:"max-width400px break-word"},[_vm._v(" "+_vm._s(instance.instance)+" ")]),_vm.$common.isBacnetController(_vm.selectedController)?[_c("td",[_vm._v(_vm._s(instance.objectInstanceNumber))]),_c("td",[_vm._v(_vm._s(_vm._f("pascalCase")(instance.instanceTypeVal)))])]:_vm._e(),_c("td",[_vm._v(_vm._s(_vm._f("formatDate")(instance.createdTime)))]),_vm.isConfiguredTab?_vm._e():_c("td",[_vm._v(" "+_vm._s(_vm.$constants.CONFIGURE_STATUS[instance.configureStatus])+" ")])],2)})),0):_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" No instances available ")])])])])])})),1)],1)])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",{},[_c("i",{staticClass:"fa fa-search",staticStyle:{"font-size":"14px"},attrs:{"aria-hidden":"true"}})])}],FPagination=(__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(929593)),ControllerFilter=__webpack_require__(199029),AgentConfigvue_type_script_lang_js={components:{Pagination:FPagination/* default */.Z,ControllerFilter:ControllerFilter/* default */.Z},title:function(){return"Configuration"},data:function(){return{agents:[],selectedType:null,listCount:null,totalCount:0,quickSearchQueries:null,showQuickSearches:!1,perPage:100,controllers:[],instances:[],filterInstances:[],selectedController:{},selectedInstanceIds:[],selectedInstances:[],loading:!1,configuring:!1,showTypePopover:!1,showQuickSearch:!1,quickSearchQuery:null,selectedTab:"unconfigured",tabs:[{key:"unconfigured",label:"Unconfigured"},{key:"configured",label:"Configured"}],discovering:!1,discoveringId:null,showThresholdDialog:!1,newPoints:0}},computed:{isConfiguredTab:function(){return"configured"===this.selectedTab},publishData:function(){return this.$store.state.publishdata.data},publishInfo:function(){return this.$store.state.publishdata.info},page:function(){return this.$route.query.page||1},availableTypes:function(){return this.controllers.map((function(controller){return controller.controllerType}))},isNiagaraController:function(){return 3===this.selectedController.controllerType},filteredControllers:function(){var _this=this;return this.controllers.filter((function(controller){return controller.controllerType===_this.selectedType}))}},watch:{publishData:{handler:function(val){val[this.discoveringId].controllerId===this.selectedController.id&&val[this.discoveringId].response&&("failed"!==val[this.discoveringId].response&&this.$message.success("Discovery completed"),this.discovering=!1,this.loadInstances())},deep:!0},publishInfo:{handler:function(val){var info=val[this.selectedController.id];info&&"devicePoints"===info.publishType&&(this.newPoints+=info.count,this.loadInstances())},deep:!0},page:function(newVal,oldVal){oldVal===newVal||this.loading||(this.loading=!0,this.loadInstances())},selectedTab:function(newVal,oldVal){oldVal!==newVal&&(this.listCount=null)}},methods:{quickSearches:function(isEnterClicked){var string=this.quickSearchQueries;string&&this.loadInstances(!0,isEnterClicked)},toggleQuickSearches:function(){var _this2=this;this.showQuickSearches=!this.showQuickSearches,this.showQuickSearches&&this.$nextTick((function(){_this2.$refs.quickSearchQueries.focus()}))},closeSearches:function(){this.toggleQuickSearches(),this.quickSearchQueries=null,this.listCount=null,this.totalCount=0,this.loadInstances()},onControllerSelected:function(controller){if(this.selectedController=controller||{},this.publishData)for(var key in this.publishData){var data=this.publishData[key];if(data.controllerId===this.selectedController.id&&!data.response)return this.discovering=!0,void(this.discoveringId=data.id)}this.totalCount=0,this.discovering=!1,this.listCount=null,this.loadInstances()},loadInstancesCount:function(){var _this3=this,self=this,count=!0,params="";
/* if (this.quickSearchQueries) {
        params = params + '&search=' + this.quickSearchQueries
      } */
this.$http.get("/v2/instances/count?controllerId="+this.selectedController.id+"&configured="+(this.isConfiguredTab?"true":"false")+"&count="+count+params).then((function(response){response.data.result.instances&&(self.listCount=response.data.result.instances[0].count,_this3.totalCount=self.listCount)}))},loadInstances:function(isSearch,isEnterClicked){var _this4=this;if(!isSearch||this.totalCount>this.perPage){if(isSearch&&!isEnterClicked)return;this.listCount||(this.$refs["f-page"].reset(),this.loadInstancesCount());var params="";this.quickSearchQueries&&(this.listCount&&this.$refs["f-page"].reset(),params=params+"&search="+this.quickSearchQueries),this.loading=!0,this.$http.get("/v2/instances/"+this.selectedController.id+"?configured="+(this.isConfiguredTab?"true":"false")+"&perPage="+this.perPage+"&page="+this.page+params).then((function(response){_this4.loading=!1,0===response.data.responseCode&&(_this4.instances=response.data.result.instances||[],_this4.filterInstances=_this4.instances)})).catch((function(_){_this4.loading=!1}))}else{var string=this.quickSearchQueries.toLowerCase();this.filterInstances=this.instances.filter((function(cust){return cust.instance.toLowerCase().includes(string)||cust.objectInstanceNumber&&cust.objectInstanceNumber.toString().includes(string)}))}},configure:function(){var _this5=this;this.configuring=!0,this.$http.post("/v2/instances/configure",{ids:this.selectedInstanceIds,configured:!this.isConfiguredTab,controllerId:this.selectedController.id}).then((function(response){_this5.configuring=!1,0===response.data.responseCode?(_this5.$message.success("Instances will be configured in a while"),_this5.toggleSelectAll(!1),_this5.loadInstances()):_this5.$message.error(response.data.message)})).catch((function(_){_this5.configuring=!1}))},discover:function(){var _this6=this;this.discovering||(this.discovering=!0,this.$http.post("/v2/instances/discover",{controllerId:this.selectedController.id}).then((function(response){if(0===response.data.responseCode){var data=response.data.result.data;_this6.$store.dispatch("publishdata/listen",data),_this6.discoveringId=data.id}else _this6.$message.error(response.data.message),_this6.discovering=!1})).catch((function(_){_this6.discovering=!1})))},toggleSelection:function(instance){var idx=this.selectedInstanceIds.indexOf(instance);-1===idx?this.selectedInstanceIds.push(instance):this.selectedInstanceIds.splice(idx,1)},toggleSelectAll:function(val){this.selectedInstanceIds=val?this.filterInstances.filter((function(instance){return 2!==instance.configureStatus})).map((function(instance){return instance.id})):[]}}},setup_AgentConfigvue_type_script_lang_js=AgentConfigvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(setup_AgentConfigvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentConfig=component.exports},
/***/199029:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ControllerFilter}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/agents/ControllerFilter.vue?vue&type=template&id=3d2f4fc8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-row",{staticClass:"mT20",attrs:{gutter:20}},[_c("el-col",{attrs:{span:5}},[_c("div",{staticClass:"category-blue-txt pB10"},[_vm._v(_vm._s(_vm.$t("setup.setup.agent")))]),_c("el-select",{staticClass:"fc-input-full-border-select2 flLeft",attrs:{filterable:"",placeholder:"Select Agent",width:"250px"},on:{change:_vm.loadControllers},model:{value:_vm.selectedAgent,callback:function($$v){_vm.selectedAgent=$$v},expression:"selectedAgent"}},_vm._l(_vm.agents,(function(agent,index){return _c("el-option",{key:index,attrs:{label:agent.name,value:agent.id,"no-data-text":"No agents available"}})})),1)],1),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"category-blue-txt pB10"},[_vm._v("Type")]),_c("el-select",{staticClass:"fc-input-full-border-select2 flLeft",attrs:{filterable:"",placeholder:"Select Type",width:"250px"},on:{change:_vm.onTypeChange},model:{value:_vm.selectedType,callback:function($$v){_vm.selectedType=$$v},expression:"selectedType"}},[_vm._l(_vm.$constants.ControllerTypes,(function(label,value){return[_vm.availableTypes.includes(parseInt(value))?_c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}}):_vm._e()]}))],2)],1),_c("el-col",{attrs:{span:5}},[_c("div",{staticClass:"category-blue-txt pB10"},[_vm._v("Controller")]),_c("el-select",{staticClass:"fc-input-full-border-select2 flLeft",attrs:{filterable:"",placeholder:"Select Controller",width:"250px"},on:{change:function($event){return _vm.onControllerSelected()}},model:{value:_vm.selectedControllerId,callback:function($$v){_vm.selectedControllerId=$$v},expression:"selectedControllerId"}},_vm._l(_vm.filteredControllers,(function(controller,index){return _c("el-option",{key:index,attrs:{label:controller.name,value:controller.id,"no-data-text":"No controllers available"}})})),1)],1),_vm._t("default")],2)],1)},staticRenderFns=[],ControllerFiltervue_type_script_lang_js=(__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),{props:["loading"],data:function(){return{agents:[],selectedAgent:null,selectedType:null,controllers:[],selectedControllerId:null}},computed:{availableTypes:function(){return this.controllers.map((function(controller){return controller.controllerType}))},filteredControllers:function(){var _this=this;return this.controllers.filter((function(controller){return controller.controllerType===_this.selectedType}))},selectedController:function(){var _this2=this;return this.selectedControllerId?this.controllers.find((function(controller){return controller.id===_this2.selectedControllerId})):null}},mounted:function(){this.loadAgents()},methods:{loadAgents:function(){var _this3=this;this.setLoading(!0),this.$http.get("/v2/setup/agent/list").then((function(response){_this3.agents=response.data.result.agentDetails?response.data.result.agentDetails:[],_this3.agents.length?(_this3.selectedAgent=parseInt(_this3.$route.params.agentId)||_this3.agents[0].id,_this3.loadControllers()):_this3.setLoading(!1)})).catch((function(){_this3.agents=[],_this3.setLoading(!1)}))},loadControllers:function(){var _this4=this;this.setLoading(!0),this.selectedType=null,this.selectedControllerId=null,this.controllers=[],this.$http.get("/v2/setup/controllers?agentId=".concat(this.selectedAgent)).then((function(response){_this4.controllers=response.data.result.controllers?response.data.result.controllers.filter((function(c){return c.controllerType>-1})):[],_this4.controllers.length?(_this4.selectedControllerId=parseInt(_this4.$route.params.controllerId)||_this4.controllers[0].id,_this4.selectedType=_this4.selectedController.controllerType,_this4.onControllerSelected()):_this4.setLoading(!1)})).catch((function(_){_this4.controllers=[],_this4.setLoading(!1)}))},onTypeChange:function(){this.selectedControllerId=this.filteredControllers[0].id,this.onControllerSelected()},setLoading:function(isLoading){this.$emit("update:loading",isLoading)},onControllerSelected:function(){this.$emit("onControllerSelected",this.selectedController)}}}),agents_ControllerFiltervue_type_script_lang_js=ControllerFiltervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agents_ControllerFiltervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ControllerFilter=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/70085.js.map