(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[14751],{
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/826127:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Space}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/Space.vue?vue&type=template&id=5d05009e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.space?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[_vm.showSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{attrs:{trigger:"click",height:"120px",autoplay:!1,"indicator-position":"none"}},_vm._l(_vm.photos,(function(photo,index){return photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{src:photo.url}})]):_vm._e()})),1)],1):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]),_vm.showName?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(_vm._s(_vm.space.name))])])]):_vm._e(),_vm.showUpload?_c("div",[_c("span",{staticClass:"upload-space-photos pointer",on:{click:_vm.showUploadPhotoDialog}},[_c("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}})]),_c("f-upload-photos",{ref:"uploadDialog",attrs:{list:_vm.photos,module:"basespacephotos",record:_vm.space}})],1):_vm._e()])]):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),FUploadPhotos=(__webpack_require__(434284),__webpack_require__(350367)),Spacevue_type_script_lang_js={props:["size","space","name","hovercard"],data:function(){return{avatarUrl:this.getDefaultAvatar(),sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.space.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["xxxlg","shuge","huge","xhuge"]}},components:{FUploadPhotos:FUploadPhotos/* default */.Z},mounted:function(){this.loadAvatarUrl(),this.space.avatarUrl&&(this.avatarUrl=this.space.avatarUrl)},computed:{showSlide:function(){if(this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},watch:{space:function(){this.avatarUrl=this.getDefaultAvatar(),this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){if(this.sliderEnabledSize.indexOf(this.size)>=0){var self=this;self.photos=[],this.space.id>0&&(self.photosLoading=!0,self.$http.get("/photos/get?module=basespacephotos&parentId="+this.space.id).then((function(response){if(self.photos=response.data.photos||[],self.photosLoading=!1,self.photos.length){var _step2,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(self.photos);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var photo=_step2.value;if(photo.url){self.avatarUrl=photo.url;break}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}})))}this.space.avatarUrl?this.avatarUrl=this.space.avatarUrl:(this.avatarUrl=this.getDefaultAvatar(),this.space.avatarUrl=this.avatarUrl)},getDefaultAvatar:function(space){var avatarUrl="";if("Campus"===this.space.type||"SITE"===this.space.spaceTypeEnum)avatarUrl=__webpack_require__(555751);else if("Building"===this.space.type||"BUILDING"===this.space.spaceTypeEnum)avatarUrl=__webpack_require__(188742);else if("Space"===this.space.type||"SPACE"===this.space.spaceTypeEnum){var subCategory="";avatarUrl=__webpack_require__("Cafeteria"===subCategory?73209:"Toilet"===subCategory?924353:"Dining"===subCategory?351129:398596)}else avatarUrl=__webpack_require__(188742);return avatarUrl},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}},avatar_Spacevue_type_script_lang_js=Spacevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_Spacevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Space=component.exports},
/***/614751:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return OverviewLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/spacemanagement/OverviewLayout.vue?vue&type=template&id=06e9ce6a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-row",{staticClass:"height100",attrs:{gutter:0}},[_vm.isSideBar?_c("el-col",{staticClass:"m0",staticStyle:{width:"24%"},attrs:{xs:6,sm:6,md:6,lg:6,xl:6}},[_c("div",{staticClass:"height100vh full-layout-white fc-border-left fc-border-right"},[_c("SpaceNav")],1)]):_vm._e(),_c("el-col",{staticClass:"scrollabel height100vh pB60",attrs:{xs:_vm.isSideBar?18:24,sm:_vm.isSideBar?18:24,md:_vm.isSideBar?18:24,lg:_vm.isSideBar?18:24,xl:_vm.isSideBar?18:24}},[_c("router-view")],1)],1)],1)},staticRenderFns=[],SpaceNavbarvue_type_template_id_f3ed8aec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.site?_c("div",[_c("el-popover",{ref:"spaceSwitcher",attrs:{placement:"right",width:"280",trigger:"click","popper-class":"popover-height asset-popover"},on:{show:_vm.switcherOpened},model:{value:_vm.showSpaceSwitcher,callback:function($$v){_vm.showSpaceSwitcher=$$v},expression:"showSpaceSwitcher"}},[_c("space-switcher",{ref:"spaceSwitcherContent",on:{onselect:_vm.switchSite}})],1),_c("div",{staticClass:"row p15 fc-border-bottom  f12",on:{click:_vm.back}},[_vm._m(0),_vm._m(1)]),_c("div",{staticClass:"row p10 fc-border-bottom"},[_c("div",{staticClass:"col-3 text-center"},[_c("space-avatar",{attrs:{name:"false",size:"xlg",space:_vm.site}})],1),_c("div",{staticClass:"col-9  self-center"},[_c("div",{directives:[{name:"popover",rawName:"v-popover:spaceSwitcher",arg:"spaceSwitcher"}],staticClass:"fw5 pointer fc-site-name",attrs:{"data-switcher-type":"site","data-current-value":_vm.site.id}},[_vm._v(" "+_vm._s(_vm.site.name)+" "),_c("i",{staticClass:"el-icon-d-caret pull-right"})]),_c("div",{staticClass:"space-secondary-color f12",staticStyle:{padding:"2px 5px"}},[_vm._v(" Site ID: "),_c("span",{staticClass:"fc-identify-color-1 f12 fw5 uppercase"},[_vm._v("#"+_vm._s(_vm.site.id))])])])]),_c("div",{staticClass:"row sp-navbar"},[_c("ul",{staticClass:"sp-ul"},[_c("router-link",{staticClass:"uppercase space-secondary-color sp-li p10 ellipsis f12",attrs:{tag:"li",to:_vm.getSiteLink(_vm.site.id)},nativeOn:{click:function($event){_vm.currentBuildingId=-1}}},[_c("div",{staticClass:"menu-item"},[_c("i",{staticClass:"fa fa-th-large f18",attrs:{"aria-hidden":"true"}}),_c("span",{staticClass:"label"},[_vm._v(_vm._s(_vm.$t("space.sites.site_overview")))])])]),_c("ul",{staticClass:"sp-ul"},_vm._l(_vm.buildings,(function(building,index){return _c("router-link",{key:index,staticClass:"uppercase space-secondary-color sp-li p10 ellipsis f12",attrs:{tag:"li",to:_vm.navigate(_vm.siteId,building.id,building.spaceType)},nativeOn:{click:function($event){return _vm.expandBuilding(building)}}},[_c("div",{staticClass:"menu-item"},[5===building.spaceType?_c("img",{attrs:{height:"19px",src:__webpack_require__(958733)}}):_c("img",{attrs:{height:"19px",src:__webpack_require__(253834)}}),_c("span",{staticClass:"label"},[_vm._v(_vm._s(building.name))])]),_vm.showTree?_c("f-simple-tree",{staticClass:"space-left-tree uppercase space-secondary-color sp-li p10 ellipsis f12",class:building.id===_vm.currentBuildingId?"":"hide",attrs:{model:_vm.bindModel(building),load:_vm.loadSubTree}}):_vm._e()],1)})),1)],1)])],1):_vm._e()},SpaceNavbarvue_type_template_id_f3ed8aec_staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"col-1 text-center"},[_c("i",{staticClass:"el-icon-back fw6"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"col-7 pL5"},[_c("a",{staticClass:"space-secondary-color"},[_vm._v("{{}}")])])}],createForOfIteratorHelper=__webpack_require__(566347),toConsumableArray=__webpack_require__(488478),SpaceSwitchervue_type_template_id_e17e5d66_render=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(891719),__webpack_require__(634338),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-switcher-container fc-site-switcher-container"},[_c("div",{staticClass:"switcher-header"}),_c("div",{staticClass:"switcher-content pT10"},[_c("ul",{staticClass:"list-style-none"},_vm._l(_vm.list,(function(item,index){return _c("li",{key:index,staticClass:"el-dropdown-menu__item",class:{active:item.id===_vm.currentValue},on:{click:function($event){return _vm.selectItem(item)}}},[_vm._v(" "+_vm._s(item.name)+" ")])})),0)])])}),SpaceSwitchervue_type_template_id_e17e5d66_staticRenderFns=[],SpaceSwitchervue_type_script_lang_js={data:function(){return{searchInput:"",currentValue:"",list:[]}},methods:{load:function(options){this.currentValue=options.currentValue?parseInt(options.currentValue):-1,this.list=this.$store.state.site},selectItem:function(item){this.$emit("onselect",item)}}},spacemanagement_SpaceSwitchervue_type_script_lang_js=SpaceSwitchervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(spacemanagement_SpaceSwitchervue_type_script_lang_js,SpaceSwitchervue_type_template_id_e17e5d66_render,SpaceSwitchervue_type_template_id_e17e5d66_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceSwitcher=component.exports,Space=__webpack_require__(826127),SpaceMixin=__webpack_require__(87171),FSimpleTreevue_type_template_id_37f80a62_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-tree",{attrs:{props:_vm.treeProps,"node-key":"key",load:_vm.loadChildren,"highlight-current":!0,accordion:"",lazy:""},on:{"node-click":_vm.handleNodeClick}})},FSimpleTreevue_type_template_id_37f80a62_staticRenderFns=[],FSimpleTreevue_type_script_lang_js={name:"f-simple-tree",props:["model","load"],data:function(){return{treeProps:{label:"name",children:"spaces",isLeaf:"leaf"}}},methods:{loadChildren:function(node,resolve){0===node.level?this.load(this.model,resolve):this.load(node.data,resolve)},handleNodeClick:function(node,resolve){node.path&&(this.load(node,resolve),this.$router.push({path:node.path}))}}},components_FSimpleTreevue_type_script_lang_js=FSimpleTreevue_type_script_lang_js,FSimpleTree_component=(0,componentNormalizer/* default */.Z)(components_FSimpleTreevue_type_script_lang_js,FSimpleTreevue_type_template_id_37f80a62_render,FSimpleTreevue_type_template_id_37f80a62_staticRenderFns,!1,null,null,null)
/* harmony default export */,FSimpleTree=FSimpleTree_component.exports,router=__webpack_require__(329435),validation=__webpack_require__(990260),SpaceNavbarvue_type_script_lang_js={mixins:[SpaceMixin/* default */.Z],components:{SpaceAvatar:Space/* default */.Z,SpaceSwitcher:SpaceSwitcher,FSimpleTree:FSimpleTree},data:function(){return{isZone:!1,buildings:null,showSpaceSwitcher:!1,currentBuildingId:null,currentZoneId:null,showTree:!1}},created:function(){this.$store.dispatch("loadBuildings")},mounted:function(){this.initData()},computed:{zones:function(){var filtersZones=this.$store.state.space.zones,filteredZones=[];return filtersZones.forEach((function(zone){if(zone.floorId>0)filteredZones.push(zone);else if(zone.siteId>0)filteredZones.push(zone);else{if(!(zone.buildingId>0))return"--";filteredZones.push(zone)}})),filteredZones},siteId:function(){return parseInt(this.$route.params.siteid)},site:function(){return this.$store.state.space.currentSite.data},zonesChildren:function(){return this.$store.state.space.currentSite.zones}},methods:{bindModel:function(obj){return{name:obj.name,path:this.getBuildingLink(this.siteId,obj.id),data:obj}},updateTree:function(){this.initData()},initData:function(){if(this.buildings=[],this.showTree=!1,this.$store.dispatch("space/switchSite",{id:parseInt(this.$route.params.siteid)}),this.$route.params.zoneid&&(this.currentBuildingId=parseInt(this.$route.params.buildingid),this.currentZoneId=parseInt(this.$route.params.zoneid)),this.$route.params.buildingid&&(this.currentBuildingId=parseInt(this.$route.params.buildingid)),this.$route.params.floorId&&(this.currentBuildingId=parseInt(this.$route.params.floorId)),210===this.$account.org.orgId||237===this.$account.org.orgId||183===this.$account.org.orgId&&1299354===this.siteId){
// Temp Handling added for Alfajer Pointe mall
var subparams=[{key:"site",value:this.$route.params.siteid},{key:"floorId",operator:"is empty"},{key:"buildingId",operator:"is empty"},{key:"space1",operator:"is empty"},{key:"space2",operator:"is empty"},{key:"space3",operator:"is empty"}];this.$util.loadSpace([2,4],null,subparams).then((function(response){var _self$buildings;response.basespaces&&(_self$buildings=self.buildings).push.apply(_self$buildings,(0,toConsumableArray/* default */.Z)(response.basespaces))}))}var url="/basespace/children?spaceId="+parseInt(this.$route.params.siteid)+"&spaceType=site&isZone=true",self=this;self.$http.get(url).then((function(response){var _self$buildings2;self.showTree=!0,(_self$buildings2=self.buildings).unshift.apply(_self$buildings2,(0,toConsumableArray/* default */.Z)(response.data.basespaces))}))},findRoute:function(){if((0,router/* isWebTabsEnabled */.tj)()){var tabType=router/* tabTypes */.VF.CUSTOM,config={type:"portfolio"},route=(0,router/* findRouteForTab */.OD)(tabType,{config:config})||{};return(0,validation/* isEmpty */.xb)(route)?null:this.$router.resolve({name:route.name}).href}return"/app/home/portfolio"},back:function(){this.findRoute()},switcherOpened:function(){this.$refs.spaceSwitcherContent.load(this.$refs.spaceSwitcher.referenceElm.dataset)},navigate:function(site,id,type){var parentPath=this.findRoute();if(parentPath)return 5===parseInt(type)?"".concat(parentPath,"/site/").concat(site,"/zone/").concat(id):4===parseInt(type)?"".concat(parentPath,"/site/").concat(site,"/space/").concat(id):"".concat(parentPath,"/site/").concat(site,"/building/").concat(id)},switchSite:function(site){var siteUrl=this.getSiteLink(site.id);this.$router.push({path:siteUrl}),this.initData(),this.showSpaceSwitcher=!1},loadSubTree:function(item,resolve){var spaceKey,subparams,self=this;if(1===item.data.spaceType)spaceKey="site";else if(2===item.data.spaceType)spaceKey="building";else if(3===item.data.spaceType)spaceKey="floor",subparams=[{key:spaceKey,value:item.data.id},{key:"space1",operator:item.data.spaceId1>0?"is":"is empty",value:item.data.spaceId1},{key:"space2",operator:item.data.spaceId2>0?"is":"is empty",value:item.data.spaceId2},{key:"space3",operator:item.data.spaceId3>0?"is":"is empty",value:item.data.spaceId3}];else{if(4!==item.data.spaceType)return;spaceKey="space",subparams=item.data.spaceId1<0?[{key:"space1",operator:"is",value:item.data.spaceId},{key:"space2",operator:"is empty"},{key:"space3",operator:"is empty"}]:item.data.spaceId2<0?[{key:"space2",operator:"is",value:item.data.spaceId},{key:"space3",operator:"is empty"}]:[{key:"space3",operator:"is",value:item.data.spaceId}]}if(2===item.data.spaceType){var url="/floor?buildingId="+item.data.id;self.$http.get(url).then((function(response){var basespaces;if(basespaces=response.data.records,basespaces){var _step,children=[],_iterator=(0,createForOfIteratorHelper/* default */.Z)(basespaces);try{for(_iterator.s();!(_step=_iterator.n()).done;){var bs=_step.value,path="";if("Site"===bs.spaceTypeVal)path=self.getSiteLink(bs.id);else if("Building"===bs.spaceTypeVal)path=self.getBuildingLink(self.siteId,bs.id);else if("Floor"===bs.spaceTypeVal)path=self.getFloorLink(self.siteId,bs.id);else if("Space"===bs.spaceTypeVal)path=self.getSpaceLink(self.siteId,bs.id);else if("Zone"===bs.spaceTypeVal){var parentPath=self.findRoute();parentPath&&(path="".concat(parentPath,"/zone/").concat(bs.id,"/overview"))}children.push({key:bs.id+"_"+bs.spaceTypeVal,name:bs.name,path:path,data:bs,leaf:"Space"===bs.spaceTypeVal})}}catch(err){_iterator.e(err)}finally{_iterator.f()}resolve(children)}else resolve([])}))}else{var spaceType=item.data.spaceType<=3?item.data.spaceType+1:item.data.spaceType;
// default load zone
this.$util.loadSpace([spaceType,5],null,subparams).then((function(response){var basespaces;if(basespaces=response.basespaces,basespaces){var _step2,children=[],_iterator2=(0,createForOfIteratorHelper/* default */.Z)(basespaces);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var bs=_step2.value,path="";if("Site"===bs.spaceTypeVal)path=self.getSiteLink(bs.id);else if("Building"===bs.spaceTypeVal)path=self.getBuildingLink(self.siteId,bs.id);else if("Floor"===bs.spaceTypeVal)path=self.getFloorLink(self.siteId,bs.id);else if("Space"===bs.spaceTypeVal)path=self.getSpaceLink(self.siteId,bs.id);else if("Zone"===bs.spaceTypeVal){var parentPath=self.findRoute();parentPath&&(path="".concat(parentPath,"/zone/").concat(bs.id,"/overview"))}children.push({key:bs.id+"_"+bs.name,name:bs.name,path:path,data:bs,leaf:!1})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}resolve(children)}else resolve([])}))}},expandBuilding:function(building){this.currentBuildingId=building.id},expandZone:function(zone){this.currentZoneId=zone.id}}},spacemanagement_SpaceNavbarvue_type_script_lang_js=SpaceNavbarvue_type_script_lang_js,SpaceNavbar_component=(0,componentNormalizer/* default */.Z)(spacemanagement_SpaceNavbarvue_type_script_lang_js,SpaceNavbarvue_type_template_id_f3ed8aec_render,SpaceNavbarvue_type_template_id_f3ed8aec_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceNavbar=SpaceNavbar_component.exports,OverviewLayoutvue_type_script_lang_js={components:{SpaceNav:SpaceNavbar},computed:{siteId:function(){return parseInt(this.$route.params.siteid)}},data:function(){return{isSideBar:!0}},created:function(){this.siteId?this.isSideBar=!0:this.isSideBar=!1,this.loadData()},watch:{siteId:function(){this.loadData()}},methods:{loadData:function(){this.$store.dispatch("space/fetchSites"),this.$store.dispatch("space/fetchBuildings",{id:this.siteId})}}},spacemanagement_OverviewLayoutvue_type_script_lang_js=OverviewLayoutvue_type_script_lang_js,OverviewLayout_component=(0,componentNormalizer/* default */.Z)(spacemanagement_OverviewLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OverviewLayout=OverviewLayout_component.exports},
/***/253834:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"0e91d3fafd0c01ac97b08f34caa16575.svg";
/***/},
/***/958733:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f95bb4eec22ca936cabd171b6a70cf79.svg";
/***/},
/***/188742:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"22bc1f7e3fecc069519710728d363ce9.svg";
/***/},
/***/73209:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"feab5de01574d25fa144b4289c5c1d69.svg";
/***/},
/***/555751:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"299b4c1da32a42a00cf63d01aaeb8c83.svg";
/***/},
/***/351129:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"34313c056b103abf1cd337cccc6f8896.svg";
/***/},
/***/398596:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"a4d2fa3a3df16df5c45be4f9a34439f4.svg";
/***/},
/***/924353:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"0d57a0742a44e20a09bf2796286c373d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/14751.js.map