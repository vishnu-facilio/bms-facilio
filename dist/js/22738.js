(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[22738],{
/***/776980:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return HelpAgentOverview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/AgentHelperDocs/HelpAgentOverview.vue?vue&type=template&id=00c3c616
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog25 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" Agent "+_vm._s(_vm.$t("agent.agent.agents"))+" ")])])]),_c("div",{staticClass:"new-body-modal pT0 pL0 pR0 mT0"},[_c("el-collapse",{staticClass:"fc-agent-collapse fc-pushing-data-collapse",attrs:{accordion:""},model:{value:_vm.activeNames,callback:function($$v){_vm.activeNames=$$v},expression:"activeNames"}},[_c("el-collapse-item",{attrs:{title:"Overview",name:"1"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc1"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Agents",name:"2"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc2"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Controllers",name:"3"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc3"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Points",name:"4"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc4"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Commissioning",name:"5"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc5"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Alarms",name:"6"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc6"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Alarm Notifications",name:"7"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc7"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Metrics",name:"8"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc8"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Command Log",name:"9"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc9"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Agent Data",name:"10"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc10"))+" ")])])],1)],1)])],1)},staticRenderFns=[],HelpAgentOverviewvue_type_script_lang_js={props:["visibility"],methods:{closeDialog:function(){this.$emit("update:visibility",!1)}}},AgentHelperDocs_HelpAgentOverviewvue_type_script_lang_js=HelpAgentOverviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(AgentHelperDocs_HelpAgentOverviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,HelpAgentOverview=component.exports},
/***/706713:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return agentOverview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/agentOverview.vue?vue&type=template&id=0ce9dfd8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-width-cal fc-agent-summary-page position-relative"},[_c("el-header",{staticClass:"fc-agent-main-header z-30",attrs:{height:"130px"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-agent-blue-txt14 pointer bold",on:{click:_vm.back}},[_c("i",{staticClass:"el-icon-back bold"}),_vm._v(" "+_vm._s(_vm.$t("agent.agent.back"))+" ")]),_c("el-divider",{attrs:{direction:"vertical"}}),_c("div",{staticClass:"fc-agent-black-26 pL10"},[_vm._v(" "+_vm._s(_vm.agentsOverview.displayName)+" ")])],1),_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-black-16 pT20 poition-relative",staticStyle:{top:"50px"}},[_c("inline-svg",{staticClass:"vertical-middle mR10",attrs:{src:"svgs/maps",iconClass:"icon icon-sm-md"}}),_vm._v(" "+_vm._s(_vm.agentsOverview.siteId>0?_vm.siteList[_vm.agentsOverview.siteId]:"---")+" ")],1)])]),_c("div",{staticClass:"pT15 justify-content-space flex-middle"},[_c("div",{staticClass:"flex-middle"},[3!=_vm.agentsOverview.agentType&&6!=_vm.agentsOverview.agentType?[_c("a",{staticClass:"fc-white-btn mR20",attrs:{href:_vm.agentCertificate},on:{click:_vm.agentCert}},[_vm._v(_vm._s(_vm.$t("agent.agent.download_certificate")))]),_c("a",{staticClass:"fc-white-btn mR20",attrs:{href:_vm.agentConfig}},[_vm._v(_vm._s(_vm.$t("agent.agent.download_config")))])]:_vm._e()],2),_c("div",{staticClass:"flex-middle justify-content-end"},[_c("el-dropdown",{staticClass:"mL10 fc-btn-ico-lg pointer",staticStyle:{padding:"2px 10px 3px"},on:{command:function($event){return _vm.exportPoints($event)}}},[_c("span",{staticClass:"el-dropdown-link"},[_c("inline-svg",{attrs:{src:"svgs/new-download",iconClass:"icon export-icon icon-sm-md"}})],1),_c("el-dropdown-menu",{staticClass:"controller-dropdown-item",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"1"}},[_vm._v(_vm._s(_vm.$t("common.wo_report.export_csv")))]),_c("el-dropdown-item",{attrs:{command:"2"}},[_vm._v(_vm._s(_vm.$t("common.wo_report.export_xcl")))])],1)],1),_c("el-dropdown",{staticClass:"mL10 fc-btn-ico-lg pointer",staticStyle:{"padding-top":"2px","padding-bottom":"3px"},on:{command:function($event){return _vm.onOptionsSelect($event)}}},[_c("span",{staticClass:"el-dropdown-link"},[_c("img",{attrs:{src:__webpack_require__(935010),width:"8",height:"16"}})]),_c("el-dropdown-menu",{staticClass:"controller-dropdown-item",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"ping"}},[_vm._v(_vm._s(_vm.$t("agent.agent.ping")))]),_c("el-dropdown-item",{attrs:{command:"discover"}},[_vm._v(_vm._s(_vm.$t("agent.agent.discover")))]),1===_vm.agentsOverview.agentType?_c("span",[_c("el-dropdown-item",{attrs:{command:"restart"}},[_vm._v(_vm._s(_vm.$t("agent.agent.restart")))]),_c("el-dropdown-item",{attrs:{command:"upgrade"}},[_vm._v(_vm._s(_vm.$t("agent.agent.upgrade")))])],1):_vm._e()],1)],1)],1)])]),_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white m10 fc-agent-empty-state"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",{staticClass:"fc-agent-overview-container fc-agent-list-overview p20"},[_c("div",{staticClass:"fc-agent-overview-card-con"},[_c("router-link",{staticClass:"fc-agent-white-card p20 pointer",staticStyle:{background:"#f7c137"},attrs:{to:_vm.resolvePath("controller")}},[_c("div",[_c("div",{staticClass:"fc-grey5-11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.controllers"))+" ")]),_c("div",{staticClass:"fc-agent-white-txt2 pT20 flex-align-baseline",class:_vm.fontsize(_vm.agentsOverview.controller.configured+"")},[_vm._v(" "+_vm._s(_vm.agentsOverview&&_vm.agentsOverview.controller?_vm.agentsOverview.controller.configured:0)+" ")])])]),_c("router-link",{staticClass:"fc-agent-white-card p20 pointer",staticStyle:{background:"#8c54ff"},attrs:{to:{path:_vm.resolvePath("configured")}}},[_c("div",[_c("div",{staticClass:"fc-grey5-11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.points"))+" ")]),_c("div",{staticClass:"fc-agent-white-txt2 pT10 flex-align-baseline",class:_vm.fontsize(_vm.agentsOverview.points.configured&&_vm.agentsOverview.points.total+"")},[_vm._v(" "+_vm._s(_vm.agentsOverview&&_vm.agentsOverview.points?_vm.agentsOverview.points.configured:0)+" / "+_vm._s(_vm.agentsOverview&&_vm.agentsOverview.points?_vm.agentsOverview.points.total:0)+" "),_c("span",{staticClass:"f14 pL5 fwBold"},[_vm._v(_vm._s(_vm.$t("agent.agent.configured")))])])])]),_c("router-link",{staticClass:"fc-agent-white-card p20 pointer",staticStyle:{background:"#00c1d4"},attrs:{to:{path:_vm.resolvePath("commissioned")}}},[_c("div",[_c("div",{staticClass:"fc-grey5-11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.commissioned"))+" ")]),_c("div",{staticClass:"fc-agent-white-txt2 pT10 flex-align-baseline",class:_vm.fontsize(_vm.agentsOverview.points.commissioned&&_vm.agentsOverview.points.subscribed+"")},[_vm._v(" "+_vm._s(_vm.agentsOverview&&_vm.agentsOverview.points?_vm.agentsOverview.points.commissioned:0)+" "),_c("span",{staticClass:"f14 pL5 fwBold"},[_vm._v("Points")])])])]),_c("router-link",{staticClass:"fc-agent-white-card p20 pointer",staticStyle:{background:"rgb(246, 93, 129)"},attrs:{to:{path:_vm.resolvePath("subscribed")}}},[_c("div",{staticClass:"fc-agent-white-card p20",staticStyle:{background:"rgb(246, 93, 129)"}},[_c("div",{staticClass:"fc-grey5-11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.subscribed"))+" ")]),_c("div",{staticClass:"fc-agent-white-txt2 pT10 flex-align-baseline",class:_vm.fontsize(_vm.agentsOverview.points.subscribed+"")},[_vm._v(" "+_vm._s(_vm.agentsOverview&&_vm.agentsOverview.points?_vm.agentsOverview.points.subscribed:0)+" "),_c("span",{staticClass:"f14 pL5 fwBold"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.points")))])])])])],1),_c("div",{staticClass:"fc-agent-graph-con"},[_vm.chartWidget.widgetParams.chartParams?_c("common-widget-chart",{key:"agentoverview",attrs:{moduleName:"agentMetrics",isWidget:"true",widget:this.chartWidget,showPeriodSelect:"true",type:"area"}},[_c("template",{slot:"title"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.agent_message"))+" ")])],2):_vm._e()],1),_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white m10 fc-agent-empty-state"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm._e(),_vm.$validation.isEmpty(_vm.agentiotmsg)&&!_vm.loading?_c("div",{staticClass:"height400 fc-empty-white flex-middle justify-content-center flex-direction-column fc-agent-table m10 fc-agent-empty-state"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"q-item-label nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.no_message"))+" ")])],1):_vm._e(),_vm.loading||_vm.$validation.isEmpty(_vm.agentiotmsg)?_vm._e():_c("div",{staticClass:"mT20"},[_c("div",{staticClass:"flex-middle justify-content-space width100 fc-white-bg p20 border-bottom2"},[_c("div",{},[_c("div",{staticClass:"fc-grey5-13"},[_vm._v(_vm._s(_vm.$t("agent.agent.iot_message")))])]),_c("div",{staticClass:"flex-middle"},[_c("pagination",{ref:"f-page",attrs:{total:_vm.totalCount,perPage:_vm.perPage}}),_c("f-search",{staticClass:"mR20",model:{value:_vm.agentiotmsg,callback:function($$v){_vm.agentiotmsg=$$v},expression:"agentiotmsg"}}),_c("div",{},[_c("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{ arrow: true, arrowType: 'round', animation: 'fade' }"}],staticClass:"pointer fwBold pR10 f16",attrs:{content:"Refresh"},on:{click:_vm.listRefresh}},[_c("i",{staticClass:"el-icon-refresh fwBold f16"})])])],1)]),_c("el-table",{staticClass:"fc-agent-iot-table",staticStyle:{width:"100%"},attrs:{data:_vm.agentiotmsg}},[_c("el-table-column",{attrs:{label:"Command",width:"180"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[_vm._v(" "+_vm._s(_vm.$constants.AgentIotMessage[iotMessage.row.command]?_vm.$constants.AgentIotMessage[iotMessage.row.command]:"---")+" ")]}}],null,!1,1561080678)}),_c("el-table-column",{attrs:{label:"Sent",width:"180",prop:"date"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[iotMessage.row.sentTime?_c("div",{staticClass:"nowrap"},[_vm._v(" "+_vm._s(_vm._f("formatDate")(iotMessage.row.sentTime))+" ")]):_c("div",[_vm._v("---")])]}}],null,!1,2195891698)}),_c("el-table-column",{attrs:{label:"Ack",width:"180",prop:"date"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[iotMessage.row.ackTime?_c("div",{staticClass:"nowrap"},[_vm._v(" "+_vm._s(_vm._f("formatDate")(iotMessage.row.ackTime))+" ")]):_c("div",[_vm._v("---")])]}}],null,!1,613327218)}),_c("el-table-column",{attrs:{label:"Completed",width:"180",prop:"date"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[iotMessage.row.completedTime?_c("div",{staticClass:"nowrap"},[_vm._v(" "+_vm._s(_vm._f("formatDate")(iotMessage.row.completedTime))+" ")]):_c("div",[_vm._v("---")])]}}],null,!1,1635807858)}),_c("el-table-column",{attrs:{label:"Status",width:"180",prop:"date"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[_vm._v(" "+_vm._s(_vm.$constants.AgentLogStatus[iotMessage.row.status]?_vm.$constants.AgentLogStatus[iotMessage.row.status]:"---")+" ")]}}],null,!1,1273490086)}),_c("el-table-column",{attrs:{label:"Message"},scopedSlots:_vm._u([{key:"default",fn:function(iotMessage){return[_c("div",{staticClass:"fc-agent-show-txt",on:{click:function($event){_vm.showIotMessage(iotMessage.row),_vm.selectedIndex}}},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.show_message"))+" ")])]}}],null,!1,3393054653)})],1)],1),_vm.showMsgJson&&_vm.showMsgJson.id?_c("el-dialog",{staticClass:"agents-dialog fc-dialog-center-container",staticStyle:{"z-index":"9999999999"},attrs:{title:_vm.$t("common._common.message"),visible:_vm.showMsgPopup,width:"40%",selected:_vm.selectedIndex,"append-to-body":!0},on:{"update:visible":function($event){_vm.showMsgPopup=$event}}},[_c("div",{staticClass:"label-txt-black line-height24"},[_c("pre",{staticClass:"fc-json-view"},[_vm._v(_vm._s(_vm.showMsgJson.msgData))])]),_c("el-table",{attrs:{data:_vm.agentsOverview}})],1):_vm._e()],1),_c("div",{staticClass:"help-icon-position pointer",on:{click:function($event){return _vm.helpDialogOpen()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/question",iconClass:"icon icon-xxlll"}})],1),_vm.showHelpDialog?_c("agent-help",{attrs:{visibility:_vm.showHelpDialog},on:{"update:visibility":function($event){_vm.showHelpDialog=$event}}}):_vm._e(),_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:"Agent Version",visible:_vm.versionDialogVisible,width:"30%","before-close":_vm.handleClose,"append-to-body":!0},on:{"update:visible":function($event){_vm.versionDialogVisible=$event}}},[_c("div",{staticClass:"height150"},[_vm.versionData.data&&_vm.versionData.data.length?_c("div",{staticClass:"label-txt-black"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.version_upgrade"))+" "),_c("span",{staticClass:"fwBold"},[_vm._v(_vm._s(_vm.versionData.data[0].version))]),_vm._v(", "+_vm._s(_vm.$t("agent.agent.version_upgrade_end"))+" ")]):_vm._e()]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.versionDialogVisible=!1}}},[_vm._v(_vm._s(_vm.$t("agent.agent.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.agentUpgrade()}}},[_vm._v(_vm._s(_vm.$t("agent.agent.update"))+" ")])],1)]),_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:"Discover Controller",visible:_vm.discoverDialogVisible,width:"30%","before-close":_vm.handleClose,"append-to-body":!0},on:{"update:visible":function($event){_vm.discoverDialogVisible=$event}}},[_c("div",{class:_vm.getDiscoverControllersDialogHeight()},[_c("el-form",{ref:"agentForm",attrs:{"label-position":"top"}},[_c("el-form-item",{staticClass:"mB20",attrs:{required:!0,label:"Protocol"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Select Type"},model:{value:_vm.selectedType,callback:function($$v){_vm.selectedType=$$v},expression:"selectedType"}},[2==_vm.agentsOverview.agentType?_c("div",_vm._l(_vm.niagaraOptions,(function(item){return _c("el-option",{key:item.value,attrs:{label:item.label,value:item.value}})})),1):1==_vm.agentsOverview.agentType?_c("div",_vm._l(_vm.options,(function(item){return _c("el-option",{key:item.value,attrs:{label:item.label,value:item.value}})})),1):9==_vm.agentsOverview.agentType?_c("div",_vm._l(_vm.e2Options,(function(item){return _c("el-option",{key:item.value,attrs:{label:item.label,value:item.value}})})),1):_vm._e()])],1),14==_vm.selectedType?_c("el-form-item",{attrs:{required:!0,label:"IP Address"}},[_c("el-input",{staticClass:"fc-input-full-border2 width100",attrs:{type:"text",placeholder:"Enter IP Address"},model:{value:_vm.controllerIpAddress,callback:function($$v){_vm.controllerIpAddress=$$v},expression:"controllerIpAddress"}})],1):_vm._e(),14==_vm.selectedType?_c("el-form-item",{attrs:{required:!0,label:"Port"}},[_c("el-input",{staticClass:"fc-input-full-border2 width100",attrs:{type:"text",placeholder:"Enter Port"},model:{value:_vm.controllerPort,callback:function($$v){_vm.controllerPort=$$v},expression:"controllerPort"}})],1):_vm._e()],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleClose()}}},[_vm._v(_vm._s(_vm.$t("agent.agent.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",disabled:_vm.handleDisable},on:{click:function($event){return _vm.discoverDevices()}}},[_vm._v(_vm._s(_vm.$t("agent.agent.discover")))])],1)]),_vm.exportUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportUrl}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),toConsumableArray=__webpack_require__(488478),asyncToGenerator=__webpack_require__(548534),FSearch=(__webpack_require__(260228),__webpack_require__(919649),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(228436),__webpack_require__(648324),__webpack_require__(169358),__webpack_require__(947748)),CommonWidgetChart=__webpack_require__(190491),HelpAgentOverview=__webpack_require__(776980),api=__webpack_require__(32284),FPagination=__webpack_require__(929593),picklist=__webpack_require__(961358),router=__webpack_require__(329435),baseUrl=__webpack_require__(420499),agentOverviewvue_type_script_lang_js={data:function(){return{loading:!1,siteList:{},agentsOverview:{},controllerIpAddress:null,controllerPort:null,agentiotmsg:[],iotMessage:null,content:[],showHelpDialog:!1,showMsgPopup:!1,selectedIndex:null,showMsgJson:null,versionData:[],totalCount:null,perPage:30,versionDialogVisible:!1,discoverDialogVisible:!1,selectedType:null,controllerType:null,agentCertificate:null,downloadAgent:null,previewUrl:null,exportUrl:null,chartWidget:{widgetParams:{chartParams:null}},options:[{value:1,label:"BACnet Ip"},{value:12,label:"System"}],e2Options:[{value:14,label:"E2"}],value:-1,niagaraOptions:[{value:0,label:"Misc"},{value:1,label:"BACnet Ip"},{value:3,label:"Fox"},{value:5,label:"Modbus_Rtu"},{value:8,label:"Lon Works"}]}},mounted:function(){this.loadAgentsSummary(),this.loadIotMessage(),this.agentVersion()},watch:{page:function(){this.loadIotMessage()}},computed:{handleDisable:function(){return 14===this.selectedType&&!(null!=this.controllerIpAddress&&null!=this.controllerPort)},agentId:function(){return this.$route.params.id?parseInt(this.$route.params.id):-1},page:function(){return this.$route.query.page||1},agentConfig:function(){return(0,baseUrl/* getBaseURL */.BS)()+"/v2/agent/config?agentId=".concat(this.agentId)}},components:{FSearch:FSearch/* default */.Z,AgentHelp:HelpAgentOverview/* default */.Z,CommonWidgetChart:CommonWidgetChart/* default */.Z,Pagination:FPagination/* default */.Z},methods:{loadSites:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var siteIds,defaultIds,perPage,_yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(siteIds=[_this.agentsOverview.siteId]||0,defaultIds=(0,toConsumableArray/* default */.Z)(new Set(siteIds)),perPage=defaultIds.length,0!==perPage){_context.next=5;break}return _context.abrupt("return");case 5:return _context.next=7,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:"site",skipDeserialize:!0},defaultIds:defaultIds,perPage:perPage});case 7:_yield$getFieldOption=_context.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this.$message.error(error.message||"Error Occured"):_this.siteList=options;case 11:case"end":return _context.stop()}}),_callee)})))()},getDiscoverControllersDialogHeight:function(){return 14===this.selectedType?"height400":"height200"},back:function(){this.$router.go(-1)},showAddAgent:function(){this.showDialog=!0},resolvePath:function(configType){var appName=(0,router/* getApp */.wx)().linkName;if("controller"!==configType){var _ref2=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:"points"}})||{},path=_ref2.path;return"/".concat(appName,"/").concat(path,"?agentId=").concat(this.agentsOverview.id,"&agentPointsTab=").concat(configType)}var _ref=(0,router/* findRouteForModule */.Jp)(configType,router/* pageTypes */.As.LIST)||{},name=_ref.name;if(name)return{name:name,query:{agentId:this.agentsOverview.id}}},loadAgentsSummary:function(){var _this2=this;this.loading=!0,this.$http.get("/v2/agent/agentOverview?agentId="+this.agentId).then((function(response){_this2.loading=!1,_this2.agentsOverview=response.data.result.data?response.data.result.data:[],_this2.agentsOverview.chartParams&&(_this2.chartWidget.widgetParams.chartParams=_this2.agentsOverview.chartParams),_this2.agentsOverview.type&&(_this2.controllerType=_this2.agentsOverview),_this2.loadCount(),_this2.loadSites()})).catch((function(){_this2.loading=!1}))},showIotMessage:function(iotMessage){this.showMsgPopup=!0,this.showMsgJson=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},iotMessage),{},{msgData:JSON.stringify(JSON.parse(iotMessage.msgData),null,2).trim()})},agentUpgradeDialog:function(){this.versionDialogVisible=!0},handleClose:function(){this.discoverDialogVisible=!1,this.selectedType=null,this.controllerIpAddress=null,this.controllerPort=null},discoverControllerDialog:function(){this.discoverDialogVisible=!0},loadIotMessage:function(){var _this3=this;this.loading=!0,this.$http.get("/v2/agent/getIotMessages?agentId=".concat(this.agentId,"&page=").concat(this.page,"&perPage=").concat(this.perPage)).then((function(response){_this3.loading=!1,_this3.agentiotmsg=response.data.result.data?response.data.result.data:[]})).catch((function(){_this3.agentiotmsg=[],_this3.loading=!1}))},agentPing:function(){var _this4=this,url="/v2/agent/ping",params={agentId:this.agentId};this.$http.post(url,params).then((function(response){200===response.data.responseCode?(_this4.$message.success("Agent Pinged"),_this4.loadIotMessage()):_this4.$message.error(response.data.message)}))},discoverDevices:function(){var _this5=this,discoverControllersData={agentId:this.agentId,controllerType:this.selectedType};14===this.selectedType&&(discoverControllersData.ipAddress=this.controllerIpAddress,discoverControllersData.port=this.controllerPort),this.loading=!0,this.$http.post("/v2/controller/discover ",discoverControllersData).then((function(response){200===response.data.responseCode?(_this5.loading=!1,_this5.handleClose(),_this5.$message.info("Controllers will be discovered in a while.")):(_this5.loading=!1,_this5.handleClose(),_this5.$message.error(response.data.message))}))},agentRestart:function(){var _this6=this,url="/v2/agent/restart",params={recordIds:[this.agentId]};this.$http.post(url,params).then((function(response){200===response.data.responseCode?_this6.$message.info("Agent will be restarted in a while."):_this6.$message.error(response.data.message)}))},agentDownload:function(){this.downloadAgent=(0,baseUrl/* getBaseURL */.BS)()+"/v2/agent/agentDownload?agentId=".concat(this.agentId)},agentCert:function(){this.agentCertificate=(0,baseUrl/* getBaseURL */.BS)()+"/v2/agent/certificate?agentId=".concat(this.agentId)},listRefresh:function(){this.loadIotMessage()},helpDialogOpen:function(){this.showHelpDialog=!0},agentJvmStatus:function(){var _this7=this,url="/v2/agent/jvmStatus",params={agentId:this.agentId};this.$http.post(url,params).then((function(response){0===response.data.responseCode?_this7.$message.success("Jvm Status updated successfully."):_this7.$message.error(response.data.message)}))},loadCount:function(){var _this8=this;return this.$http.get("/v2/agent/iotMessageCount?agentId="+this.agentId).then((function(response){_this8.totalCount=response.data.result.data||null})).catch((function(){_this8.loading=!1}))},fontsize:function(value){return value?(value+="",value.length<3?"f36":value.length<6?"f23":value.length<8?"f16":value.length<10?"f12":value.length<10?"f11":"f10"):"f36"},agentUpgrade:function(){var _this9=this;this.loading=!0;var params={agentId:this.agentId,versionId:this.versionData.data[0].id};this.$http.post("/v2/agent/upgradeAgent",params).then((function(response){200===response.data.responseCode?(_this9.$message.success("Agent Upgrade successfully."),_this9.loading=!1,_this9.versionDialogVisible=!1):(_this9.$message.error(response.data.message),_this9.loading=!1,_this9.versionDialogVisible=!1)}))},agentVersion:function(){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("v2/agent/versions?latestVersion=true");case 2:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(message=error.message,_this10.$message.error(message)):_this10.versionData=data||[];case 6:case"end":return _context2.stop()}}),_callee2)})))()},onOptionsSelect:function(command){switch(command){case"ping":this.agentPing();break;case"discover":this.discoverControllerDialog();break;case"upgrade":this.agentUpgradeDialog();break;case"restart":this.agentRestart();break;case"confiure_notification":break}},exportPoints:function(command){var _this11=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var url,_yield$API$get2,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return url="/v2/point/export?agentId=".concat(_this11.agentId,"&type=").concat(command),_this11.$message.success({message:"Downloading",type:"success",showClose:!0}),_context3.next=4,api/* API */.bl.get(url);case 4:_yield$API$get2=_context3.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error?_this11.$message.error(error.message||"Error Occurred"):_this11.exportUrl=data.fileUrl;case 8:case"end":return _context3.stop()}}),_callee3)})))()}}},agent_agentOverviewvue_type_script_lang_js=agentOverviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agent_agentOverviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,agentOverview=component.exports},
/***/947748:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSearch.vue?vue&type=template&id=aca29d08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-search-container mR20"},[void 0!=_vm.boolval?_c("div",[_c("el-input",{ref:"quickSearchQuery",staticClass:"fc-input-full-border-h35 mT15 mR10 wo-assigned-search",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_vm.quickSearchQuery?_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"}):_vm._e()])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&void 0==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&1==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input ",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},on:{change:_vm.remoteSearch},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):void 0==_vm.boolval&&_vm.searchHide?_c("div",{staticClass:"pointer flRight",on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})]):_vm._e()])},staticRenderFns=[],FSearchvue_type_script_lang_js=(__webpack_require__(538077),__webpack_require__(260228),{props:["value","searchKey","","boolval","remote"],data:function(){return{showQuickSearch:!1,quickSearchQuery:null,initialList:null,searchHide:!0}},beforeDestroy:function(){this.closeSearch()},mounted:function(){void 0!=this.boolval&&(this.showQuickSearch=this.boolval)},methods:{quickSearch:function(){var list,_this=this;this.value&&(this.quickSearchQuery?(this.initialList||(this.initialList=this.$helpers.cloneObject(this.value)),list=this.initialList.filter((function(item){return item[_this.searchKey||"name"].toLowerCase().indexOf(_this.quickSearchQuery.toLowerCase())>=0}))):(list=this.initialList,this.initialList=null),list&&this.$emit("input",list))},remoteSearch:function(){this.$emit("search",this.quickSearchQuery)},toggleQuickSearch:function(){var _this2=this;this.searchHide=!1,this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this2.$refs.quickSearchQuery&&_this2.$refs.quickSearchQuery.focus()}))},clearSearch:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.searchHide=!0},closeSearch:function(){void 0===this.boolval&&this.toggleQuickSearch(),this.quickSearchQuery=null,this.remote?this.remoteSearch():this.quickSearch(),this.searchHide=!0,this.showQuickSearch=!1,this.$emit("close")}}}),components_FSearchvue_type_script_lang_js=FSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSearch=component.exports},
/***/190491:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CommonWidgetChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/performance/charts/CommonWidgetChart.vue?vue&type=template&id=76d6eca4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-direction-column"},[_c("div",{directives:[{name:"show",rawName:"v-show",value:!_vm.datePickerHide,expression:"datePickerHide ? false : true"}],staticClass:"border-bottom1px d-flex justify-content-space"},[_c("div",{staticClass:"f16 bold mT20 mB20 mL30 inline"},[_vm._t("title")],2),_c("div",{class:{mT15:_vm.isDateFixed,mT10:!_vm.isDateFixed}},[_c("new-date-picker",{staticClass:"filter-field date-filter-comp",attrs:{zone:_vm.$timezone,dateObj:_vm.dateObj,isDateFixed:_vm.isDateFixed},on:{date:_vm.changeDateFilter}})],1)]),_vm.$validation.isEmpty(_vm.moduleMeta)||!_vm.isChartPrepared||_vm.loading?_vm._e():_c("div",{staticClass:"widget-chart-container"},[_c("f-new-analytic-modular-report",{attrs:{serverConfig:_vm.serverConfig,module:_vm.moduleObj,defaultChartType:_vm.type||"spline",hideTabs:!0,hideHeader:!0,hidecharttypechanger:!0,chartType:_vm.type,isWidget:_vm.isWidget,showPeriodSelect:_vm.showPeriodSelect},on:{"update:serverConfig":function($event){_vm.serverConfig=$event},"update:server-config":function($event){_vm.serverConfig=$event},reportLoaded:_vm.onReportLoaded}})],1)])},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(186466),__webpack_require__(425728),__webpack_require__(506203),__webpack_require__(670560),__webpack_require__(990260)),NewDatePicker=__webpack_require__(900773),FNewAnalyticModularReport=__webpack_require__(247942),NewDateHelper=__webpack_require__(105534),CommonWidgetChartvue_type_script_lang_js={props:["details","layoutParams","resizeWidget","hideTitleSection","groupKey","activeTab","widget","moduleName","type","refresh","datePickerHide","isWidget","customizeChartOptions","showPeriodSelect","isDateFixed"],components:{NewDatePicker:NewDatePicker/* default */.Z,FNewAnalyticModularReport:FNewAnalyticModularReport/* default */.Z},data:function(){return{loading:!1,isChartPrepared:!1,moduleMeta:{},chartType:"line",serverConfig:{criteria:null,dateFilter:null,xField:null,yField:null},moduleObj:null,dateObj:NewDateHelper/* default */.Z.getDatePickerObject(44,null)}},created:function(){this.initializeReport(),this.getMeta().then(this.prepareReportData)},methods:{initializeReport:function(){var _this$widget$widgetPa=this.widget.widgetParams.chartParams,dateOperator=_this$widget$widgetPa.dateOperator,dateOperatorValue=_this$widget$widgetPa.dateOperatorValue;this.dateObj=NewDateHelper/* default */.Z.getDatePickerObject(dateOperator,dateOperatorValue)},getMeta:function(){var _this=this;this.loading=!0;var _ref=this||this.widget.widgetParams.chartParams,moduleName=_ref.moduleName;return this.$http.get("/module/meta?moduleName="+moduleName).then((function(response){_this.moduleMeta=response.data.meta,_this.moduleObj={moduleName:response.data.meta.name,moduleId:response.data.meta.module.moduleId,meta:{fieldMeta:{}}},_this.loading=!1}))},prepareReportData:function(){var _this2=this,customizeChartOptions=this.customizeChartOptions;if(!(0,validation/* isEmpty */.xb)(this.moduleMeta)){var _this$widget$widgetPa2=this.widget.widgetParams.chartParams,criteria=_this$widget$widgetPa2.criteria,chartType=_this$widget$widgetPa2.chartType,xField=_this$widget$widgetPa2.xField,yField=_this$widget$widgetPa2.yField,groupBy=_this$widget$widgetPa2.groupBy,isMultipleMetric=_this$widget$widgetPa2.isMultipleMetric,dateField=_this$widget$widgetPa2.dateField;criteria&&Object.values(criteria.conditions).forEach((function(condition){delete condition.operator}));var xFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===xField.fieldName})),groupByFieldObj=null,yFieldObj=null,dateFieldObj=null;dateField&&(dateFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===dateField.fieldName})));var newConfig={criteria:criteria,xField:{field_id:xFieldObj.fieldId,module_id:xFieldObj.moduleId,aggr:xField.aggr},dateFilter:(0,objectSpread2/* default */.Z)({},this.dateObj)};if(xFieldObj&&6===xFieldObj.dataType&&newConfig.dateFilter){var tempdateField={field_id:xFieldObj.fieldId,fieldName:xFieldObj.name,module_id:xFieldObj.moduleId,operator:newConfig.dateFilter.operatorId};49===newConfig.dateFilter.operatorId||50===newConfig.dateFilter.operatorId||51===newConfig.dateFilter.operatorId?tempdateField["date_value"]=Math.abs(newConfig.dateFilter.offset)+"":20===newConfig.dateFilter.operatorId?tempdateField["date_value"]=newConfig.dateFilter.value.join(","):tempdateField["date_value"]=newConfig.dateFilter.value[0]+"",newConfig.dateField=tempdateField,newConfig.isTime=!0}else if(dateFieldObj){var tempDateField={field_id:dateFieldObj.fieldId,fieldName:dateFieldObj.name,module_id:dateFieldObj.moduleId,operator:newConfig.dateFilter.operatorId};49===newConfig.dateFilter.operatorId||50===newConfig.dateFilter.operatorId||51===newConfig.dateFilter.operatorId?tempDateField["date_value"]=Math.abs(newConfig.dateFilter.offset)+"":20===newConfig.dateFilter.operatorId?tempDateField["date_value"]=newConfig.dateFilter.value.join(","):tempDateField["date_value"]=newConfig.dateFilter.value[0]+"",newConfig.dateField=tempDateField,newConfig.isTime=!0}else newConfig.dateField=null,newConfig.isTime=!1;if(isMultipleMetric){newConfig["yField"]=[];var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(yField);try{var _loop=function(){var yObj=_step.value;yObj?(yFieldObj=(_this2.moduleMeta.fields||{}).find((function(field){return field.name===yObj.fieldName})),newConfig.yField.push({field_id:yFieldObj.fieldId,module_id:yFieldObj.moduleId,aggr:yObj.aggr})):newConfig.yField.push(null)};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}}else yField?(yFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===yField.fieldName})),newConfig["yField"]=[{field_id:yFieldObj.fieldId,module_id:yFieldObj.moduleId,aggr:yField.aggr}]):newConfig["yField"]=null;groupBy.fieldName&&(groupByFieldObj="plannedvsunplanned"===groupBy.fieldName?{fieldId:"plannedvsunplanned",module_id:xFieldObj.moduleId}:(this.moduleMeta.fields||{}).find((function(field){return field.name===groupBy.fieldName})),newConfig["groupBy"]=[{field_id:groupByFieldObj.fieldId,module_id:groupByFieldObj.moduleId}]),this.serverConfig=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.serverConfig),newConfig),(0,validation/* isEmpty */.xb)(customizeChartOptions)||this.$set(this.serverConfig,"customizeChartOptions",customizeChartOptions),this.chartType=chartType,this.isChartPrepared=!0}},changeDateFilter:function(dateFilter){this.dateObj=dateFilter},onReportLoaded:function(report,result){this.$emit("reportLoaded",report,result)}},watch:{dateObj:function(){this.prepareReportData()},refresh:function(){this.prepareReportData()}}},charts_CommonWidgetChartvue_type_script_lang_js=CommonWidgetChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(charts_CommonWidgetChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommonWidgetChart=component.exports},
/***/23369:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FChartTitle}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newcharts/components/FChartTitle.vue?vue&type=template&id=1781dc98
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-new-chart-title"},[_vm.titeList&&_vm.titeList&&_vm.titeList.length&&!_vm.loading?_c("div",{staticClass:"flex-middle justify-center"},_vm._l(_vm.titeList,(function(data,index){return _c("div",{key:index,staticClass:"f-chart-mandv-title",style:_vm.getStyle(data)},[_vm._v(" "+_vm._s(data.title)+" ")])})),0):_vm._e()])},staticRenderFns=[],FChartTitlevue_type_script_lang_js={props:["chartContext","config"],data:function(){return{titeList:[],loading:!1}},mounted:function(){var self=this;this.loading=!0,setTimeout((function(){self.titeList=self.chartContext.regionsTitles,self.loading=!1}),1e3)},methods:{getStyle:function(data){return"width:"+data.diff+"px"}}},components_FChartTitlevue_type_script_lang_js=FChartTitlevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FChartTitlevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FChartTitle=component.exports},
/***/875963:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FNewChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newcharts/components/FNewChart.vue?vue&type=template&id=8078524e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 f-singlechart"},[_vm.hidecharttypechanger?_vm._e():_c("f-chart-type",{staticClass:"charttypechanger fc-new-chart-type-single top-minus-86",attrs:{options:_vm.options},on:{getOptions:_vm.getOptionsFromTypeChart}}),_vm.chartContext&&!1!==_vm.options.settings.chart?_c("div",{staticStyle:{"text-align":"center"}},[_c("div",{style:_vm.isWidget?"position: relative; top: 15px;":""},[_vm.showAlarms&&_vm.showAlarmTitle?_c("div",{staticClass:"fc-alarms-chart-title",style:"sensorrollupalarm"===_vm.moduleName?"color: #324056 !important;font-weight: bold;":""},[_vm._v(" Alarms ")]):_vm._e(),_c("div",{ref:"alarmsChartEle",staticClass:"fc-alarms-chart pdf-chart"})]),_vm.relatedAlarms?_c("div",[_vm._l(_vm.relatedAlarms,(function(relAlarm,idx){return[_c("div",{key:idx,style:_vm.isWidget?"position: relative; top: 15px;":""},[_c("div",{staticClass:"fc-alarms-chart-title",staticStyle:{"text-transform":"capitalize",color:"#324056 !important"}},[_vm._v(" "+_vm._s(relAlarm?relAlarm.alarmTitle:"")+" ")]),_c("div",{ref:"relatedAlarmsChartEle",refInFor:!0,staticClass:"fc-alarms-chart pdf-chart"})])]}))],2):_vm._e(),_vm.chartContext.options.legend.show&&"top"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,resultObj:_vm.resultObj,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,isScatterPlot:_vm.chartContext&&_vm.chartContext.scatterConfig},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.chartContext.options.regionConfig?_c("f-chart-title",{ref:"chartTitle",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,chartContext:_vm.chartContext},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.drilldownParams?_c("drilldown-breadcrumb",{attrs:{drilldownParams:_vm.drilldownParams},on:{crumbClick:function($event){return _vm.$emit("crumbClick",$event)}}}):_vm._e(),_c("div",{staticClass:"fc-newchart-container",class:{"scatter-full-opacity":_vm.c3.params&&_vm.c3.params.data&&_vm.c3.params.data.types&&!Object.values(_vm.c3.params.data.types).includes("bubble")}},[_c("div",{ref:"newChartEle",staticClass:"fc-new-chart pdf-chart",class:{"hide-y2-axis":_vm.options&&_vm.options.axis&&!1===_vm.options.axis.showy2axis}}),_vm.chartContext.options.legend.show&&"right"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{style:{width:_vm.chartContext.options.legend.width+"px"},attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1),_vm.chartContext.options.legend.show&&"bottom"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.showWidget?_c("f-widget-legends",{ref:"newWidget",staticClass:"widget-legends",attrs:{chart:_vm.c3.chart,reportVarianceData:_vm.resultObj?_vm.resultObj.reportData.aggr:null,data:_vm.data,options:_vm.options},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),billboard=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(76265),__webpack_require__(169358),__webpack_require__(795765),__webpack_require__(879288),__webpack_require__(872695)),basechart=__webpack_require__(503162),ReportDataUtil=__webpack_require__(760396),c3_helper=__webpack_require__(167021),FChartLegends=__webpack_require__(906575),DrilldownBreadcrumb=__webpack_require__(374520),FChartTitle=__webpack_require__(23369),FWidgetLegends=__webpack_require__(547301),FChartType=__webpack_require__(294309),JumpToHelper=__webpack_require__(921466),tooltip=__webpack_require__(460895),color_helper=__webpack_require__(794211),deepmerge=__webpack_require__(708634),d3=__webpack_require__(348727),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),FNewChartvue_type_script_lang_js={mixins:[basechart/* default */.Z,JumpToHelper/* default */.Z,ReportDataUtil/* default */.Z],props:["resultObj","isWidget","showWidgetLegends","config","specialScatter","relatedAlarms","moduleName","drilldownParams"],components:{FChartLegends:FChartLegends/* default */.Z,FWidgetLegends:FWidgetLegends/* default */.Z,FChartType:FChartType/* default */.Z,FChartTitle:FChartTitle/* default */.Z,DrilldownBreadcrumb:DrilldownBreadcrumb/* default */.Z},computed:{showWidget:function(){return!("undefined"!==typeof this.showWidgetLegends&&!this.showWidgetLegends)},isRegression:function(){return!!(this.$route.path.includes("regression")||this.resultObj&&this.resultObj.regressionConfig&&0!==this.resultObj.regressionConfig.length&&!0===this.resultObj.regression)},showAlarmTitle:function(){return!this.chartContext||!this.chartContext.options||!this.chartContext.options.hideAlarmTitle}},data:function(){return{chartContext:null,chartId:Math.random().toString(36).substr(2,9),c3:{params:null,chart:null},showAlarms:!1,updateTimeout:null}},mounted:function(){this.isRegression&&(this.hidecharttypechanger=!0),this.render()},beforeDestroy:function(){tooltip/* default */.Z.hideTooltip(),this.c3&&this.c3.chart&&this.c3.chart.destroy(),this.chartContext=null,this.c3.params=null,this.c3.chart=null},methods:{render:function(){var _this=this;this.data&&(this.chartContext=null,this.$nextTick((function(){_this.chartContext={},_this.chartContext.options=_this.getOptions(),_this.chartContext.dateRange=_this.dateRange,_this.chartContext.options.general&&_this.chartContext.options.general.hideZeroes?_this.chartContext.data=_this.formatZeroesInData(_this.data):_this.chartContext.data=_this.data,_this.chartContext.options.benchmark&&_this.chartContext.options.benchmark.show&&(_this.chartContext.reportVarianceData=_this.resultObj?_this.resultObj.reportData.aggr:null),_this.chartContext.xValueMode=_this.isXValueMode(_this.chartContext.options,_this.data),_this.options.defaultDurationUnit&&(_this.chartContext.defaultDurationUnit=_this.options.defaultDurationUnit),_this.chartContext.specialScatter=!!_this.specialScatter,_this.chartContext.unitMap=_this.getUnitMap(_this.options.dataPoints),_this.chartContext.enumMap=_this.getEnumMap(_this.options.dataPoints),_this.resultObj&&_this.resultObj.baselineData&&(_this.chartContext.baselineColors=_this.resultObj.baselineDataColors,_this.chartContext.baselineData=_this.resultObj.baselineData),_this.chartContext.openAlarm=function(alarmList){if(alarmList){var _step,alarmId=[],_iterator=(0,createForOfIteratorHelper/* default */.Z)(alarmList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var a=_step.value;alarmId.push(a.id)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.jumpToAlarms(alarmId)}},"pie"!==_this.chartContext.options.type&&"donut"!==_this.chartContext.options.type||(_this.chartContext.options.padding.top=20),_this.resultObj&&_this.resultObj.Readingdp&&(_this.chartContext["Readingdp"]=_this.resultObj.Readingdp),_this.resultObj&&_this.resultObj.scatterConfig&&(_this.chartContext["scatterConfig"]=_this.resultObj.scatterConfig,_this.chartContext["xMap"]=_this.resultObj.xMap);var c3Params=c3_helper/* default */.Z.prepare(_this.chartContext);c3Params&&(c3Params.data.onclick=function(d){var _d;if(null==(null===(_d=d)||void 0===_d?void 0:_d.index))for(var i=0;i<d.values.length;i++){var _d2;if((null===(_d2=d)||void 0===_d2?void 0:_d2.values[i].id)==d.id){d=d.values[i];break}}_this.$emit("drilldown",d)}),_this.mergeOption&&(_this.chartContext.options.padding.left=_this.mergeOption.padding.left,_this.chartContext.options.padding.right=_this.mergeOption.padding.right,_this.chartContext.options.axis.x.label.text="Month",c3Params.axis.y.label.text="No of Work Request"),_this.isWidget&&(_this.chartContext.options.legend.show?c3Params.size.height=c3Params.size.height-50:c3Params.size.height=c3Params.size.height-20,_this.options.widgetLegend.show&&(c3Params.size.height=c3Params.size.height-75),_this.resultObj&&_this.resultObj.report.userFilters&&(c3Params.size.height=c3Params.size.height-65)),_this.drilldownParams&&(c3Params.size.height=c3Params.size.height-25,_this.isWidget&&(c3Params.size.height=c3Params.size.height-25)),"gauge"===_this.chartContext.options.type&&c3Params.size.height>350&&(c3Params.size.height=350);var self=_this;self.showAlarms=1===_this.getOptions().common.mode&&_this.getOptions().settings.alarm,_this.config&&_this.config.hasOwnProperty("showAlarms")&&(self.showAlarms=_this.config.showAlarms),self.showAlarms&&(_this.chartContext.alarms=_this.alarms,c3Params.size.height=c3Params.size.height-100);var alarmsParams=null;if(self.showAlarms&&(alarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,_this.alarms),self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams))),self.relatedAlarms&&self.relatedAlarms.length)for(var idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][idx]){var relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,self.relatedAlarms[idx]);relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][idx],billboard.bb.generate(relalarmsParams)}if(_this.chartContext.options.customizeC3){var defaultOptions={},mergedOptions=deepmerge/* default */.Z.objectAssignDeep(defaultOptions,c3Params,_this.chartContext.options.customizeC3);c3Params=mergedOptions}var print=JSON.parse(_this.$getProperty(_this,"$route.query.printing")||null);if(self.$refs["newChartEle"]){c3Params.bindto=self.$refs["newChartEle"],self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight);var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(_this.byPassSetting(c3Params))}else _this.$nextTick((function(){if(self.showAlarms&&self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams)),self.relatedAlarms&&self.relatedAlarms.length)for(var _idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][_idx]){var _relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(this.chartContext,c3Params.data.json.x,self.relatedAlarms[_idx]);_relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][_idx],billboard.bb.generate(_relalarmsParams)}c3Params.bindto=self.$refs["newChartEle"];var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(this.byPassSetting(c3Params))}))})))},ontoggle:function(key,hiddenLegends){if(this.c3.params.ontoggle&&"function"===typeof this.c3.params.ontoggle){var callback=this.c3.params.ontoggle.bind(this.c3.chart.internal,key);callback()}if("bar"===this.chartContext.options.type&&this.chartContext.options.bar.showGroupTotal){var groupTotalData=c3_helper/* default */.Z.getGroupTotalDataPoint(this.c3.params,hiddenLegends);groupTotalData&&this.c3.chart.load({json:{group_total:groupTotalData}})}},byPassSetting:function(params){if(params&&params.data&&params.data.hasOwnProperty("labels")&&!0===params.data.labels){var formattedLabel={centered:!1,format:function(v){return Number.isInteger(v)?d3.format(",")(v):v?(0,formatter/* formatCurrency */.xG)(v):null}};this.$set(params.data,"labels",formattedLabel)}return params},getOptionsFromTypeChart:function(options,ctype){
//to set the chart type based on the widget
this.config&&this.config.widget&&this.config.widget.dataOptions&&(this.config.widget.dataOptions.chartType=ctype.chartTypeInt,this.config.widget.dataOptions.chartTypeInt=ctype.chartTypeInt)},isXValueMode:function(options,data){if(("pie"===options.type||"donut"===options.type)&&data&&data.x&&2===Object.keys(data).length){if(options.xColorMap)return!0;for(var colors=color_helper/* default */.Z.newColorPicker(data.x.length),xColorMap={},i=0;i<data.x.length;i++){var xVal=data.x[i];xColorMap[xVal]=options.xColorMap&&options.xColorMap[xVal]?options.xColorMap[xVal]:colors[i]}return options.xColorMap=xColorMap,!0}return options.xColorMap=null,!1},reRender:function(){var _this2=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){return _this2.render()}),500)},resize:function(){this.reRender(),this.$refs["newWidget"]&&this.$refs["newWidget"].resize()},update:function(){this.reRender()}}},components_FNewChartvue_type_script_lang_js=FNewChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FNewChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FNewChart=component.exports},
/***/374520:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DrilldownBreadcrumb}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/report/components/DrilldownBreadcrumb.vue?vue&type=template&id=77c09de1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"drilldown-breadcrumb  p5 mL90 d-flex"},[_c("div",{staticClass:"crumb-item"},[_c("span",{staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",on:{click:function($event){return _vm.handleClick(-1)}}},[_vm._v(" "+_vm._s(_vm.$t("reportdrilldown.all"))+" ")]),_c("i",{staticClass:"el-icon-arrow-right f12 mR3"})]),_vm._l(_vm.drilldownParams.drilldownCriteria,(function(drilldownCriteria,stepIndex){return _c("div",{key:stepIndex,staticClass:"crumb-item",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}]},[_c("span",{key:"crumb-text"+stepIndex,staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}],on:{click:function($event){return _vm.handleClick(stepIndex)}}},[_vm._v(" "+_vm._s(drilldownCriteria.breadcrumbLabel))]),stepIndex!=_vm.drilldownParams.drilldownCriteria.length-1?_c("i",{key:"crumb-icon"+stepIndex,staticClass:"el-icon-arrow-right f12 mR3"}):_c("i",{key:"crumb-close"+stepIndex,staticClass:"el-icon-circle-close pointer f12 hide-v",on:{click:function($event){return _vm.handleClick(stepIndex-1)}}})])}))],2)},staticRenderFns=[],DrilldownBreadcrumbvue_type_script_lang_js={props:{drilldownParams:{type:Object,default:null}},data:function(){return{}},methods:{handleClick:function(crumbIndex){
//ignore click on last item
crumbIndex!=this.drilldownParams.length-1&&this.$emit("crumbClick",crumbIndex)}}},components_DrilldownBreadcrumbvue_type_script_lang_js=DrilldownBreadcrumbvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_DrilldownBreadcrumbvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DrilldownBreadcrumb=component.exports},
/***/935010:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"765af973ce02f8f593ec7a4e85d08efb.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/22738.js.map