"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[52563],{
/***/882401:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ItemTool}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/ItemTool.vue?vue&type=template&id=eff8209c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.recordData?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[_vm.showSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{attrs:{trigger:"click",height:"120px",autoplay:!1,"indicator-position":"none"}},_vm._l(_vm.photos,(function(photo,index){return photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{target:"_blank",src:photo.url},on:{click:function($event){return _vm.openPhotoUrl(photo.originalUrl)}}})]):_vm._e()})),1)],1):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]),_vm.showName?_c("div",[_c("div",{staticClass:"textoverflow-ellipsis width110px pL8"},[_vm._v(" "+_vm._s("others"===_vm.module?_vm.recordData:_vm.recordData.name)+" ")])]):_vm._e()])]):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),ItemToolvue_type_script_lang_js=(__webpack_require__(434284),{props:["size","recordData","name","hovercard","module"],data:function(){return{avatarUrl:null,sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.recordData.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["shuge","huge","xhuge"]}},mounted:function(){this.loadAvatarUrl()},computed:{showSlide:function(){if(this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},watch:{recordData:function(){this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){this.avatarUrl=this.recordData.photoUrl,this.recordData.photoUrl?this.avatarUrl=this.recordData.photoUrl:this.avatarUrl=this.getDefaultAvatar()},openPhotoUrl:function(url){window.open(url,"_blank")},getDefaultAvatar:function(){if(this.recordData){if("item"===this.module)return __webpack_require__(73188);if("tool"===this.module)return __webpack_require__(392708);if("others"===this.module)return __webpack_require__(73188)}return __webpack_require__(73188)},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}}),avatar_ItemToolvue_type_script_lang_js=ItemToolvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_ItemToolvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ItemTool=component.exports},
/***/152563:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ReceivableReceiptsWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/purchase/rv/ReceivableReceiptsWidget.vue?vue&type=template&id=60b7f7f8&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"lineItems-container"},[_vm.$validation.isEmpty(_vm.receipts)?_c("div",{staticClass:"fc-align-center-column height100"},[_c("div",[_c("inline-svg",{staticClass:"vertical-middle'",attrs:{src:"svgs/emptystate/data-empty",iconClass:"icon icon-60"}})],1),_c("div",{staticClass:"fc-black3-16 self-center bold"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_receipts_available"))+" ")])]):_c("div",{staticClass:"tr-summary-table width100 pT20 pL30 pB20"},[_c("div",{staticClass:"widget-title mL0 mB10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.receipts"))+" ")]),_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.receipts,height:"210px"}},[_c("el-table-column",{attrs:{label:_vm.$t("common.products.line_item")},scopedSlots:_vm._u([{key:"default",fn:function(recData){return[recData.row.lineItem.inventoryType===_vm.inventoryTypes.ITEM_TYPE?_c("tool-avatar",{attrs:{name:"true",size:"lg",module:"item",recordData:recData.row.lineItem.itemType}}):_c("item-avatar",{attrs:{name:"true",size:"lg",module:_vm.getModuleAndDataKey(recData.row.lineItem).module,recordData:_vm.getModuleAndDataKey(recData.row.lineItem).data}})]}}])}),_c("el-table-column",{attrs:{sortable:"",label:_vm.$t("common._common._quantity"),prop:"quantity"}}),_c("el-table-column",{attrs:{sortable:"",label:_vm.$t("common.wo_report.time"),formatter:_vm.getDateTime,prop:"receiptTime"}}),_c("el-table-column",{attrs:{label:_vm.$t("common.products.status"),formatter:_vm.getReceiptStatus,prop:"statusEnum"}}),_c("el-table-column",{attrs:{label:_vm.$t("common.wo_report.remarks"),prop:"remarks"}})],1)],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),defineProperty=__webpack_require__(482482),api=(__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(32284)),ItemTool=__webpack_require__(882401),validation=__webpack_require__(990260),inventoryTypes={ITEM_TYPE:1,TOOL_TYPE:2,SERVICE:3,DESCRIPTION:4},ReceivableReceiptsWidgetvue_type_script_lang_js={props:["details"],components:{ToolAvatar:ItemTool/* default */.Z,ItemAvatar:ItemTool/* default */.Z},data:function(){return{receipts:[],inventoryTypes:inventoryTypes}},created:function(){this.loadReceipts()},computed:{getReceiptStatus:function(val){var ReceiptStatus={1:"Received",2:"Returned"},_ref=val||{},status=_ref.status;return ReceiptStatus[status]}},methods:{getModuleAndDataKey:function(recordData){var _moduleAndDataKeyVsIn,_ref2=recordData||{},inventoryType=_ref2.inventoryType,_ref3=inventoryTypes||{},TOOL_TYPE=_ref3.TOOL_TYPE,SERVICE=_ref3.SERVICE,DESCRIPTION=_ref3.DESCRIPTION,moduleAndDataKeyVsInventoryType=(_moduleAndDataKeyVsIn={},(0,defineProperty/* default */.Z)(_moduleAndDataKeyVsIn,TOOL_TYPE,{module:"tool",data:recordData.toolType}),(0,defineProperty/* default */.Z)(_moduleAndDataKeyVsIn,SERVICE,{module:"service",data:recordData.service}),(0,defineProperty/* default */.Z)(_moduleAndDataKeyVsIn,DESCRIPTION,{module:"others",data:recordData.description}),_moduleAndDataKeyVsIn);return moduleAndDataKeyVsInventoryType[inventoryType]||{}},getDateTime:function(val){var value=val.receiptTime;return(0,validation/* isEmpty */.xb)(value)?"":this.$options.filters.formatDate(value)},loadReceipts:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var param,_yield$API$fetchAll,list,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return param={receivableId:_this.details.id},_context.next=3,api/* API */.bl.fetchAll("receipts",param);case 3:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):_this.receipts=list||[];case 7:case"end":return _context.stop()}}),_callee)})))()}}},rv_ReceivableReceiptsWidgetvue_type_script_lang_js=ReceivableReceiptsWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(rv_ReceivableReceiptsWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,"60b7f7f8",null)
/* harmony default export */,ReceivableReceiptsWidget=component.exports},
/***/73188:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"img/item-img.7bf6d6bd.jpg";
/***/},
/***/392708:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"img/tool-img.a48b92e6.jpg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/52563.js.map