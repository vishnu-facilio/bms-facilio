(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[94785],{
/***/919324:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CodeMirror}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/CodeMirror.vue?vue&type=template&id=f33b888a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("codemirror",{attrs:{options:_vm.cmOption,placeholder:_vm.placeholder},on:{input:_vm.onCmCodeChange,ready:_vm.onCmReady,focus:_vm.onCmFocus},model:{value:_vm.script,callback:function($$v){_vm.script=$$v},expression:"script"}})],1)},staticRenderFns=[],vue_codemirror=__webpack_require__(375055),CodeMirrorvue_type_script_lang_js=(__webpack_require__(304631),__webpack_require__(471707),__webpack_require__(959372),__webpack_require__(620017),__webpack_require__(796876),__webpack_require__(988386),{data:function(){return{script:null,cmOption:{tabSize:4,styleActiveLine:!0,mode:"text/javascript",theme:"default",lineNumbers:!0,line:!0,matchBrackets:!0,foldGutter:!0,placeholder:!1,hintOptions:{completeSingle:!1},showCursorWhenSelecting:!0}}},props:["value","options","placeholder"],components:{codemirror:vue_codemirror.codemirror},computed:{codemirror:function(){return this.$refs.myCm.codemirror}},watch:{value:{handler:function(){this.script=this.$helpers.cloneObject(this.value),this.options&&Object.assign(this.cmOption,this.options)},immediate:!0}},methods:{onCmReady:function(cm){},onCmFocus:function(cm){},onCmCodeChange:function(newCode){this.$emit("input",newCode)},addCode:function(code){this.script=this.script+="\n"+code+"\n"},onCmScroll:function(){}}}),components_CodeMirrorvue_type_script_lang_js=CodeMirrorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CodeMirrorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CodeMirror=component.exports},
/***/297157:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ErrorBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ErrorBanner.vue?vue&type=template&id=3d9e5288
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasError?_c("div",{staticClass:"error-block",attrs:{id:"error"}},[_c("p",{staticClass:"error-txt"},[_c("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(_vm.errorMessage?_vm.errorMessage:"Please fill all mandatory fields.")+" ")]),_c("i",{staticClass:"el-icon-close error-close-icon",on:{click:_vm.closeBanner}})]):_vm._e()])},staticRenderFns=[],ErrorBannervue_type_script_lang_js={props:["error","errorMessage"],computed:{hasError:{get:function(){return this.error},set:function(value){this.$emit("update:error",value)}}},methods:{closeBanner:function(){this.hasError=!1,this.$emit("update:errorMessage","")}}},components_ErrorBannervue_type_script_lang_js=ErrorBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ErrorBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ErrorBanner=component.exports},
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/965797:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FieldPicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/fields/FieldPicker.vue?vue&type=template&id=45d1fb12
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"field-dialog",attrs:{visible:!0,width:"50%","append-to-body":!0,"show-close":!1,"before-close":_vm.handleclose}},[_c("div",{staticStyle:{height:"610px"}},[_c("el-row",[_c("el-col",{staticClass:"dialog_header"},[_vm._v(" "+_vm._s(_vm.title?_vm.title:"FIELDS")+" ")])],1),_c("el-row",[_c("el-col",{staticClass:"border-right overflow-y-scroll height500",attrs:{span:8}},[_c("div",{staticClass:"d-flex pT5 pB5 pL30 pR5",staticStyle:{"border-bottom":"1px solid #e5e4e4"}},[_c("i",{staticClass:"el-icon-search pT7 pR10",staticStyle:{color:"#25243e"}}),_c("el-input",{attrs:{placeholder:"Search Fields",autofocus:!0,clearable:""},on:{change:function($event){return _vm.filterSearchQuery(!0)}},model:{value:_vm.filterValue,callback:function($$v){_vm.filterValue=$$v},expression:"filterValue"}})],1),_c("div",{staticClass:"pL30 pR15"},[_c("el-checkbox-group",{staticClass:"overflow-y-scroll",model:{value:_vm.fieldList,callback:function($$v){_vm.fieldList=$$v},expression:"fieldList"}},_vm._l(_vm.filteredList,(function(field,index){return _c("el-checkbox",{key:index,staticClass:"checkbox",attrs:{label:field.name}},[_vm._v(" "+_vm._s(field.displayName)+" ")])})),1)],1)]),_c("el-col",{staticClass:"overflow-y-scroll height500",attrs:{span:16}},[_c("div",{staticClass:"selected_header"},[_vm._v("Selected Fields")]),_c("draggable",_vm._b({staticClass:"pL20 pR20",attrs:{list:_vm.list,group:"list"}},"draggable",_vm.fieldSectionDragOptions,!1),_vm._l(_vm.list,(function(field,index){return _c("div",{key:index,staticClass:"mB10 mT15"},[field.hasOwnProperty("fieldId")?_c("div",{staticClass:"field-row d-flex"},[_vm.isInFormConfig?_c("div",{staticClass:"task-handle mR10"},[_c("img",{attrs:{src:__webpack_require__(271791)}})]):_vm._e(),_c("div",{staticClass:"mT-auto mB-auto fd-name"},[_vm._v(" "+_vm._s(field.displayName||"")+" ")]),_c("div",{staticClass:"mL-auto mT-auto mB-auto"},[_vm.isInFormConfig?_c("div",{staticClass:"mR10 pR10 inline mandatory-checkbox field-checkbox"},[_c("el-checkbox",{model:{value:field.required,callback:function($$v){_vm.$set(field,"required",$$v)},expression:"field.required"}},[_vm._v(" Is Mandatory ")])],1):_vm._e(),_c("div",{staticClass:"mR10 inline",on:{click:function($event){return _vm.remove(field)}}},[_c("i",{staticClass:"el-icon-delete pointer trash-icon"})])])]):_vm._e()])})),0)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleclose()}}},[_vm._v(" CANCEL ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v(" Save ")])],1)],1)])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(990260)),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),FieldPickervue_type_script_lang_js={props:["title","availableFields","isInFormConfig","selectedList"],components:{draggable:vuedraggable_umd_default()},data:function(){return{list:[],filterValue:"",filteredList:[],fieldSectionDragOptions:{animation:150,easing:"cubic-bezier(1, 0, 0, 1)",group:"tasksection",sort:!0}}},created:function(){this.list=(0,toConsumableArray/* default */.Z)(this.selectedList),this.filterSearchQuery()},computed:{fieldList:{get:function(){var list=this.list;return(0,validation/* isEmpty */.xb)(list)?[]:list.filter((function(field){return field.hasOwnProperty("fieldId")})).map((function(field){return field.name}))},set:function(value){var availableFields=this.availableFields,selectedFields=value.map((function(fieldName){var field=availableFields.find((function(field){return field.name===fieldName}));return(0,validation/* isEmpty */.xb)(field)?null:field})).filter((function(f){return!(0,validation/* isEmpty */.xb)(f)}));this.list=(0,toConsumableArray/* default */.Z)(selectedFields)}}},methods:{handleclose:function(){this.$emit("close")},save:function(){this.$emit("save",this.list),this.handleclose()},remove:function(field){var index=this.list.findIndex((function(fld){return fld.name===field.name}));this.list.splice(index,1)},filterSearchQuery:function(errorMessage){var _this=this,filterObj=this.availableFields.filter((function(field){var name=field.displayName.toLowerCase();return name.includes(_this.filterValue.toLowerCase())}));(0,validation/* isEmpty */.xb)(filterObj)?(errorMessage&&this.$message.error("Cannot find filtered field"),this.filteredList=this.availableFields):this.filteredList=filterObj}}},fields_FieldPickervue_type_script_lang_js=FieldPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(fields_FieldPickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FieldPicker=component.exports},
/***/913233:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ActionEventsConfig}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/timeline-view/view-layout/view-creation/ActionEventsConfig.vue?vue&type=template&id=65f9ab08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-form",{staticClass:"timeline-view-action-events",attrs:{"label-position":"left"}},_vm._l(_vm.groupingOptions,(function(item){return _c("el-form-item",{key:item.prop,staticClass:"mB10 mT10 flex-middle",attrs:{prop:item.prop,label:item.label,disabled:item.disable}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.allowVal,disabled:item.disable},model:{value:_vm.details[item.prop],callback:function($$v){_vm.$set(_vm.details,item.prop,$$v)},expression:"details[item.prop]"}},[_vm._v(" "+_vm._s(_vm.radioLabel.allow)+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:item.dontAllowVal,disabled:item.disable},model:{value:_vm.details[item.prop],callback:function($$v){_vm.$set(_vm.details,item.prop,$$v)},expression:"details[item.prop]"}},[_vm._v(" "+_vm._s(_vm.radioLabel.dontAllow)+" ")])],1)})),1)},staticRenderFns=[],validation=__webpack_require__(990260),ActionEventsConfigvue_type_script_lang_js={props:["viewDetails","isNew","saveAsNew"],data:function(){return{details:{allowRescheduling:!1,allowReAssignment:!1,allowGroupAssignment:!0,allowPastAssignment:!1,disablePastEvents:!0}}},created:function(){if((!this.isNew||this.saveAsNew)&&!(0,validation/* isEmpty */.xb)(this.viewDetails)){var _ref=this.viewDetails||{},allowRescheduling=_ref.allowRescheduling,allowReAssignment=_ref.allowReAssignment,allowGroupAssignment=_ref.allowGroupAssignment,allowPastAssignment=_ref.allowPastAssignment,disablePastEvents=_ref.disablePastEvents;this.details={allowRescheduling:allowRescheduling,allowReAssignment:allowReAssignment,allowGroupAssignment:allowGroupAssignment,allowPastAssignment:allowPastAssignment,disablePastEvents:disablePastEvents}}},computed:{isPastEventdisabled:function(){var _this$details=this.details,allowReAssignment=_this$details.allowReAssignment,allowRescheduling=_this$details.allowRescheduling,allowGroupAssignment=_this$details.allowGroupAssignment;return!(allowReAssignment||allowRescheduling||allowGroupAssignment)},groupingOptions:function(){return[{label:"Assign events to the selected group",prop:"allowGroupAssignment",allowVal:!0,dontAllowVal:!1,disable:!1},{label:"Reschedule Event",prop:"allowRescheduling",allowVal:!0,dontAllowVal:!1,disable:!1},{label:"Reassign Event",prop:"allowReAssignment",allowVal:!0,dontAllowVal:!1,disable:!1},{label:"Move events to earlier dates",prop:"allowPastAssignment",allowVal:!0,dontAllowVal:!1,disable:this.isPastEventdisabled},{label:"Actions on Past Events",prop:"disablePastEvents",allowVal:!1,dontAllowVal:!0,disable:this.isPastEventdisabled}]},radioLabel:function(){return{allow:"Allow",dontAllow:"Don't Allow"}}},watch:{isPastEventdisabled:function(newVal){newVal&&(this.details.disablePastEvents=!0,this.details.allowPastAssignment=!1)}},methods:{serialize:function(){return this.details}}},view_creation_ActionEventsConfigvue_type_script_lang_js=ActionEventsConfigvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(view_creation_ActionEventsConfigvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ActionEventsConfig=component.exports},
/***/148516:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CalenderDetails}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/timeline-view/view-layout/view-creation/CalenderDetails.vue?vue&type=template&id=59ff6b2e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"calender-form-main"},[_c("el-form",{ref:"calender-form",attrs:{model:_vm.details,rules:_vm.rules,"label-width":"180px","label-position":"top"}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"startDateFieldId",label:"StartTime Field"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Select the start-time field",filterable:""},model:{value:_vm.details.startDateFieldId,callback:function($$v){_vm.$set(_vm.details,"startDateFieldId",$$v)},expression:"details.startDateFieldId"}},_vm._l(_vm.startTimeFieldList,(function(startTimeFld){return _c("el-option",{key:startTimeFld.id,attrs:{label:startTimeFld.displayName,value:startTimeFld.id}})})),1)],1),_c("el-form-item",{staticClass:"mB10",attrs:{prop:"endDateFieldId",label:"EndTime Field"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Select the end-time field",filterable:""},model:{value:_vm.details.endDateFieldId,callback:function($$v){_vm.$set(_vm.details,"endDateFieldId",$$v)},expression:"details.endDateFieldId"}},_vm._l(_vm.endTimeFieldList,(function(endTimeFld){return _c("el-option",{key:endTimeFld.id,attrs:{label:endTimeFld.displayName,value:endTimeFld.id}})})),1)],1),_c("el-form-item",{staticClass:"mB10",attrs:{prop:"defaultCalendarView",label:"Default Calender View"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100 fc-tag",attrs:{placeholder:"Select the calender view",filterable:""},model:{value:_vm.details.defaultCalendarView,callback:function($$v){_vm.$set(_vm.details,"defaultCalendarView",$$v)},expression:"details.defaultCalendarView"}},_vm._l(_vm.calenderViews,(function(view,viewId){return _c("el-option",{key:viewId+"-"+view,attrs:{label:view,value:parseInt(viewId)}})})),1)],1),_c("el-form-item",{staticClass:"mB10 weekend-form",attrs:{prop:"weekendId",label:"Customize Weekend"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100 fc-tag",attrs:{placeholder:"Select the weekend","popper-class":"view-creation-folder-selection-popper timeline-weekend-popover",filterable:"",clearable:""},on:{clear:function($event){_vm.details.disableWeekends=!0}},model:{value:_vm.details.weekendId,callback:function($$v){_vm.$set(_vm.details,"weekendId",$$v)},expression:"details.weekendId"}},[_vm._l(_vm.customizedWeekendList,(function(weekend){return _c("el-option",{key:weekend.id,attrs:{label:weekend.name,value:weekend.id}},[_c("div",[_c("div",[_vm._v(_vm._s(weekend.name))]),_c("div",{staticClass:"selected-days"},[_vm._v(_vm._s(weekend.displayValue))])]),_c("div",[_c("i",{staticClass:"el-icon-edit edit-icon pR15 weekend-actions",on:{click:function($event){return _vm.editWeekend(weekend)}}}),_c("i",{staticClass:"el-icon-delete fc-delete-icon weekend-actions",on:{click:function($event){return _vm.deleteWeekend(weekend)}}})])])})),_c("div",{staticClass:"search-select-filter-btn"},[_c("el-button",{staticClass:"pL20 width100 text-left addFolder-btn",on:{click:_vm.createWeekend}},[_vm._v(" + "+_vm._s(_vm.$t("viewsmanager.calender.add_weekend"))+" ")])],1),_c("div",{staticClass:"el-select-dropdown__empty",attrs:{slot:"empty"},slot:"empty"},[_c("div",{staticClass:"search-select-filter-btn"},[_c("el-button",{staticClass:"pL20 width100 text-left addFolder-btn",on:{click:_vm.createWeekend}},[_vm._v(" + "+_vm._s(_vm.$t("viewsmanager.calender.add_weekend"))+" ")])],1)])],2)],1)],1),_c("el-form",{staticClass:"timeline-view-schedule-weekend",attrs:{"label-position":"left"}},[_c("el-form-item",{staticClass:"mB10 mT10 flex-middle",attrs:{prop:"disableWeekends",label:"Schedule events on weekends",disabled:_vm.$validation.isEmpty(_vm.details.weekendId)}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:!1,disabled:_vm.$validation.isEmpty(_vm.details.weekendId)},model:{value:_vm.details.disableWeekends,callback:function($$v){_vm.$set(_vm.details,"disableWeekends",$$v)},expression:"details.disableWeekends"}},[_vm._v(" "+_vm._s("Allow")+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:!0,disabled:_vm.$validation.isEmpty(_vm.details.weekendId)},model:{value:_vm.details.disableWeekends,callback:function($$v){_vm.$set(_vm.details,"disableWeekends",$$v)},expression:"details.disableWeekends"}},[_vm._v(" "+_vm._s("Don't Allow")+" ")])],1)],1),_vm.showWeekendForm?_c("WeekendForm",{attrs:{weekend:_vm.weekendObj},on:{onSave:_vm.saveAndUpdateWeekend,onClose:function($event){_vm.showWeekendForm=!1}}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),schedulerViewUtil=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(169358),__webpack_require__(76495)),constant=__webpack_require__(354754),WeekendFormvue_type_template_id_de15e778_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.isNew?"Create Weekend":"Edit Weekend",visible:!0,width:"30%","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("div",{staticStyle:{height:"430px"}},[_c("el-form",{ref:"weekendForm",staticClass:"weekend-form",attrs:{"label-position":"top",rules:_vm.rules,model:_vm.weekendObj}},[_c("el-form-item",{attrs:{label:"Name",prop:"name",required:!0}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:"Enter the name"},model:{value:_vm.weekendObj.name,callback:function($$v){_vm.$set(_vm.weekendObj,"name",$$v)},expression:"weekendObj.name"}})],1),_c("el-form-item",{attrs:{label:"Days",prop:"value",required:!0}},[_c("el-checkbox-group",{staticClass:"checkbox-group fc__layout__has__row",model:{value:_vm.weekendObj.value,callback:function($$v){_vm.$set(_vm.weekendObj,"value",$$v)},expression:"weekendObj.value"}},_vm._l(_vm.weekDays,(function(dayName,day){return _c("el-checkbox",{key:day,staticClass:"mB10",attrs:{label:parseInt(day)}},[_vm._v(" "+_vm._s(dayName)+" ")])})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.save()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)],1)])},WeekendFormvue_type_template_id_de15e778_staticRenderFns=[],validation=(__webpack_require__(648324),__webpack_require__(990260)),api=__webpack_require__(32284),WeekendFormvue_type_script_lang_js={props:["weekend"],data:function(){return{weekendObj:{name:null,value:[]},weekDays:constant/* default */.Z.WEEK_DAYS,saving:!1,rules:{name:{required:!0,message:this.$t("common._common.please_enter_a_name"),trigger:"change"},value:{required:!0,message:"Atleast one day should be selected",trigger:"change"}}}},created:function(){if(!this.isNew){var _ref=this.weekend||{},id=_ref.id,name=_ref.name,value=_ref.value;this.weekendObj={id:id,name:name,value:value}}},computed:{isNew:function(){return(0,validation/* isEmpty */.xb)(this.weekend)}},methods:{closeDialog:function(){this.$emit("onClose")},save:function(){var _this=this;this.$refs["weekendForm"].validate(function(){var _ref2=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var _ref3,id,name,value,params,url,_yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return _ref3=_this.weekendObj||{},id=_ref3.id,name=_ref3.name,value=_ref3.value,params={weekend:{name:name,value:JSON.stringify({All:value})}},url="",_this.isNew?url="v2/weekends/add":(url="v2/weekends/update",params.weekend.id=id),_context.next=8,api/* API */.bl.post(url,params);case 8:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this.$message.error(error.message||"Error Occurred"):(_this.$emit("onSave",null===data||void 0===data?void 0:data.weekend),_this.closeDialog()),_this.saving=!1;case 13:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}())}}},components_WeekendFormvue_type_script_lang_js=WeekendFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_WeekendFormvue_type_script_lang_js,WeekendFormvue_type_template_id_de15e778_render,WeekendFormvue_type_template_id_de15e778_staticRenderFns,!1,null,null,null)
/* harmony default export */,WeekendForm=component.exports,calenderViews={1:"Day",2:"Week",3:"Month",4:"Year"},CalenderDetailsvue_type_script_lang_js={props:["viewDetails","isNew","moduleFields","saveAsNew","weekendsList","updateWeekEnd"],components:{WeekendForm:WeekendForm},data:function(){return{details:{startDateFieldId:null,endDateFieldId:null,weekendId:null,disableWeekends:!0,defaultCalendarView:1},showWeekendForm:!1,weekendObj:null,rules:{startDateFieldId:{required:!0,message:"Please select start-time field",trigger:"blur"},endDateFieldId:{required:!0,message:"Please select end-time field",trigger:"blur"}},calenderViews:calenderViews}},created:function(){if((!this.isNew||this.saveAsNew)&&!(0,validation/* isEmpty */.xb)(this.viewDetails)){var _ref=this.viewDetails||{},startDateFieldId=_ref.startDateFieldId,endDateFieldId=_ref.endDateFieldId,weekendId=_ref.weekendId,disableWeekends=_ref.disableWeekends,defaultCalendarView=_ref.defaultCalendarView;this.details={startDateFieldId:startDateFieldId,endDateFieldId:endDateFieldId,weekendId:weekendId>0?weekendId:null,disableWeekends:disableWeekends,defaultCalendarView:defaultCalendarView}}},computed:{startTimeFieldList:function(){var DATE=schedulerViewUtil/* dataTypes */.DJ.DATE,DATE_TIME=schedulerViewUtil/* dataTypes */.DJ.DATE_TIME;return(this.moduleFields||[]).filter((function(fld){return[DATE,DATE_TIME].includes(fld.dataType)}))},endTimeFieldList:function(){var DATE=schedulerViewUtil/* dataTypes */.DJ.DATE,DATE_TIME=schedulerViewUtil/* dataTypes */.DJ.DATE_TIME;return(this.moduleFields||[]).filter((function(fld){return[DATE,DATE_TIME].includes(fld.dataType)}))},customizedWeekendList:function(){var weekendsList=this.weekendsList;return weekendsList.map((function(weekend){var _ref2=weekend||{},id=_ref2.id,name=_ref2.name,value=_ref2.value,weekDays=constant/* default */.Z.WEEK_DAYS;value=(JSON.parse(value)||{}).All||[];var displayValue=value.reduce((function(displayVal,day,index){return 0!==index&&(displayVal+=", "),displayVal+=weekDays[day],displayVal}),"");return{id:id,name:name,value:value,displayValue:displayValue}}))}},methods:{createWeekend:function(){this.weekendObj=null,this.showWeekendForm=!0},editWeekend:function(weekend){this.weekendObj=weekend,this.showWeekendForm=!0},deleteWeekend:function(weekend){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var value,_ref3,id,_yield$API$delete,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$dialog.confirm({title:"Delete Weekend",htmlMessage:"Are you sure want to delete this condition?",rbDanger:!0,rbLabel:_this.$t("common._common.confirm")});case 2:if(value=_context.sent,value){_context.next=5;break}return _context.abrupt("return");case 5:return _ref3=weekend||{},id=_ref3.id,_context.next=8,api/* API */.bl.delete("v2/weekends/delete",{weekend:{id:id}});case 8:_yield$API$delete=_context.sent,error=_yield$API$delete.error,error?_this.$message.error(error.message||"Failed to delete weekend"):(_this.$message.success("Weekend deleted successfully"),_this.updateWeekEnd(weekend,!0));case 11:case"end":return _context.stop()}}),_callee)})))()},saveAndUpdateWeekend:function(weekend){this.details.weekendId=weekend.id,this.updateWeekEnd(weekend)},validate:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,_this2.$refs["calender-form"].validate();case 3:return _context2.abrupt("return",_context2.sent);case 6:return _context2.prev=6,_context2.t0=_context2["catch"](0),_context2.abrupt("return",!1);case 9:case"end":return _context2.stop()}}),_callee2,null,[[0,6]])})))()},serialize:function(){return this.details}}},view_creation_CalenderDetailsvue_type_script_lang_js=CalenderDetailsvue_type_script_lang_js,CalenderDetails_component=(0,componentNormalizer/* default */.Z)(view_creation_CalenderDetailsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CalenderDetails=CalenderDetails_component.exports},
/***/302297:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ColorCustomization}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/timeline-view/view-layout/view-creation/ColorCustomization.vue?vue&type=template&id=5df95624&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mT15"},[_c("el-radio-group",{staticClass:"mB25",on:{change:_vm.resetValue},model:{value:_vm.colorCustomization.customizationType,callback:function($$v){_vm.$set(_vm.colorCustomization,"customizationType",$$v)},expression:"colorCustomization.customizationType"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.customizationTypes.FIELD}},[_vm._v(" "+_vm._s(_vm.$t("common.header.field"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.customizationTypes.CONDITION}},[_vm._v(" "+_vm._s(_vm.$t("common._common.condition"))+" ")])],1),_c("div",{staticClass:"color-picker"},[_c("div",{staticClass:"flex-middle justify-between"},[_c("div",{staticClass:"fc-input-label-txt pB0"},[_vm._v(" "+_vm._s(_vm.$t("setup.scheduler.color_picked_for_condition"))+" ")]),_c("div",{staticClass:"mL10"},[_vm.colorCustomization.customizationType===_vm.customizationTypes.FIELD?_c("el-select",{staticClass:"fc-input-full-border2 fc-box-size",attrs:{placeholder:"Select the field",filterable:""},on:{change:_vm.resetOptions},model:{value:_vm.colorCustomization.customizationFieldId,callback:function($$v){_vm.$set(_vm.colorCustomization,"customizationFieldId",$$v)},expression:"colorCustomization.customizationFieldId"}},_vm._l(_vm.selectFieldList,(function(colorfield){return _c("el-option",{key:colorfield.id,attrs:{label:colorfield.displayName,value:colorfield.id}})})),1):_c("div",{staticClass:"height40",class:["flex-middle justify-end",_vm.loading?"cursor-not-allowed":"pointer"],on:{click:_vm.openCriteriaDialog}},[_c("div",{staticClass:"config justify-start"},[_c("i",{staticClass:"el-icon-plus fw-bold "}),_vm._v(" "+_vm._s(_vm.$t("setup.scheduler.configure_criteria"))+" ")])])],1)]),_vm.loading||_vm.isColorCustomEnabled?_c("div",{staticClass:"pT20 border-top7 mT20"},[_vm.loading?_c("el-row",_vm._l(_vm.customizationTypes,(function(index){return _c("el-col",{key:"loading-"+index,staticClass:"mB15 flex-middle pL10 pR10",attrs:{span:12}},[_c("div",{staticClass:"mR10"},[_c("span",{staticClass:"square loading-shimmer"})]),_c("div",{staticClass:"flex-grow"},[_c("span",{staticClass:"lines loading-shimmer"})])])})),1):_c("el-row",[_vm._l(_vm.colorCustomization.values,(function(valueObj,index){return _c("el-col",{key:"color-field-option-"+index,staticClass:"mB10 flex-middle pL10 pR10",staticStyle:{"min-height":"40px"},attrs:{span:12}},[_c("div",{staticClass:"mR10"},[_c("ColorPicker",{attrs:{selectedColor:valueObj.customization.eventColor},on:{currentColor:function(colorVal){return _vm.setColorValue(colorVal,valueObj.customization)}},scopedSlots:_vm._u([{key:"reference",fn:function(){return[_c("InlineSvg",{staticClass:"color-picker-popup",style:{"background-color":valueObj.customization.eventColor},attrs:{src:"svgs/color-picker/arrow-down",iconClass:"icon icon-xxs margin-auto fill-white"}})]},proxy:!0}],null,!0)})],1),_c("div",{staticClass:"option-text"},[_vm._v(" "+_vm._s(valueObj.label)+" ")])])})),_c("el-col",{staticClass:"mB10 flex-middle pL10 pR10",staticStyle:{"min-height":"40px"},attrs:{span:12}},[_c("div",{staticClass:"mR10"},[_c("ColorPicker",{attrs:{selectedColor:_vm.colorCustomization.defaultCustomization.eventColor},on:{currentColor:function(colorVal){return _vm.setColorValue(colorVal,_vm.colorCustomization.defaultCustomization)}},scopedSlots:_vm._u([{key:"reference",fn:function(){return[_c("InlineSvg",{staticClass:"color-picker-popup",style:{"background-color":_vm.colorCustomization.defaultCustomization.eventColor},attrs:{src:"svgs/color-picker/arrow-down",iconClass:"icon icon-xxs margin-auto fill-white"}})]},proxy:!0}],null,!1,3663169441)})],1),_c("div",{staticClass:"option-text"},[_vm._v(_vm._s("Default"))])])],2)],1):_vm._e()]),_vm.showCriteriaDialog?_c("ConditionManagerPicker",{attrs:{moduleName:_vm.moduleName,availableFields:_vm.conditionManagerList,selectedList:_vm.selectedConditionList,canHideAdd:_vm.canHideAddConditionManager},on:{updateList:_vm.updateCriteriaList,onSave:_vm.setColorForCriteria,onClose:function($event){_vm.showCriteriaDialog=!1}}}):_vm._e()],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(76265),__webpack_require__(450886),__webpack_require__(169358),__webpack_require__(425728),__webpack_require__(336585),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(648324),__webpack_require__(32284)),validation=__webpack_require__(990260),schedulerViewUtil=__webpack_require__(76495),ColorPickervue_type_template_id_095566ea_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-popover",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.close,expression:"close"}],attrs:{placement:"right",width:"300",trigger:"manual","popper-class":"scheduler-color-picker"},scopedSlots:_vm._u([{key:"reference",fn:function(){return[_c("div",{on:{click:function($event){_vm.visibility=!0}}},[_vm._t("reference")],2)]},proxy:!0}],null,!0),model:{value:_vm.visibility,callback:function($$v){_vm.visibility=$$v},expression:"visibility"}},[_c("div",{staticClass:"popup-container"},[_vm._l(_vm.colorPalette,(function(color,index){return[color!==_vm.selectedColor?_c("div",{key:index,staticClass:"color-shade",style:{"background-color":""+color},on:{click:function($event){return _vm.saveColor(color)}}}):_c("InlineSvg",{key:"dropdown-"+index,staticClass:"color-shade",style:{"background-color":""+color},attrs:{src:"tick-sign",iconClass:"icon icon-xxs margin-auto",iconStyle:"fill: #fff"}})]}))],2)])},ColorPickervue_type_template_id_095566ea_staticRenderFns=[],ColorPickervue_type_script_lang_js={props:["selectedColor"],data:function(){return{visibility:!1,currentColor:null,colorPalette:schedulerViewUtil/* colorPalette */.K5}},created:function(){this.currentColor=this.selectedColor},methods:{saveColor:function(color){this.currentColor=color,this.$emit("currentColor",{eventColor:color}),this.close()},close:function(){this.visibility=!1}}},components_ColorPickervue_type_script_lang_js=ColorPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ColorPickervue_type_script_lang_js,ColorPickervue_type_template_id_095566ea_render,ColorPickervue_type_template_id_095566ea_staticRenderFns,!1,null,null,null)
/* harmony default export */,ColorPicker=component.exports,ConditionManagerPickervue_type_template_id_23d8e1da_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"condition-manager-picker view-creation-form-v2",attrs:{visible:!0,width:"50%","append-to-body":!0,"show-close":!1,"before-close":_vm.handleclose}},[_c("div",{staticStyle:{height:"610px"}},[_c("el-row",{staticClass:"dialog_header"},[_c("el-col",{staticClass:"header-title",attrs:{span:18}},[_vm._v(" "+_vm._s("Configure Condition Manager")+" ")]),_vm.canHideAdd?_vm._e():_c("el-col",{staticClass:"add-tab-container",attrs:{span:6}},[_c("div",{staticClass:"d-flex pointer",on:{click:function($event){_vm.showCreate=!0}}},[_c("inline-svg",{staticClass:"fill-greeny-blue",attrs:{src:"svgs/plus-button"}}),_c("div",{staticClass:"add-tab"},[_vm._v(" "+_vm._s(_vm.$t("common.header.add_new"))+" ")])],1)])],1),_c("el-row",[_c("el-col",{staticClass:"border-right overflow-y-scroll height500",attrs:{span:8}},[_c("div",{staticClass:"d-flex pT5 pB5 pL20 pR5",staticStyle:{"border-bottom":"1px solid #e5e4e4"}},[_c("i",{staticClass:"el-icon-search pT7 pR10",staticStyle:{color:"#25243e"}}),_c("el-input",{attrs:{placeholder:"Search Fields",autofocus:!0,clearable:""},on:{change:function($event){return _vm.filterSearchQuery(!0)}},model:{value:_vm.filterValue,callback:function($$v){_vm.filterValue=$$v},expression:"filterValue"}})],1),_c("div",{staticClass:"pL20 pR15"},[_c("el-checkbox-group",{staticClass:"overflow-y-scroll",model:{value:_vm.fieldList,callback:function($$v){_vm.fieldList=$$v},expression:"fieldList"}},_vm._l(_vm.filteredList,(function(field,index){return _c("el-checkbox",{key:index,staticClass:"checkbox",attrs:{label:field.id}},[_vm._v(" "+_vm._s(field.name)+" ")])})),1)],1)]),_c("el-col",{staticClass:"overflow-y-scroll height500",attrs:{span:16}},[_c("div",{staticClass:"selected_header"},[_vm._v(_vm._s("Selected Condition Manager"))]),_c("draggable",_vm._b({staticClass:"pL20 pR20",attrs:{list:_vm.list,group:"list"}},"draggable",_vm.fieldSectionDragOptions,!1),_vm._l(_vm.list,(function(field,index){return _c("div",{key:field.id+"-"+index,staticClass:"mB10 mT15"},[_c("div",{staticClass:"field-row d-flex"},[_c("div",{staticClass:"task-handle mR10 cursor-drag"},[_c("img",{attrs:{src:__webpack_require__(271791)}})]),_c("div",{staticClass:"mT-auto mB-auto fd-name"},[_vm._v(_vm._s(field.name))]),_c("div",{staticClass:"mL-auto mT-auto mB-auto"},[_c("div",{staticClass:"mR10 inline",on:{click:function($event){return _vm.remove(field)}}},[_c("i",{staticClass:"el-icon-delete pointer trash-icon"})])])])])})),0)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleclose()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)],1),_vm.showCreate?_c("ConditionManagerForm",{attrs:{isNew:!0,moduleName:_vm.moduleName},on:{onSave:_vm.setConditions,onClose:function($event){_vm.showCreate=!1}}}):_vm._e()],1)},ConditionManagerPickervue_type_template_id_23d8e1da_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),vuedraggable_umd=(__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(909980)),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),ConditionManagerForm=__webpack_require__(233889),ConditionManagerPickervue_type_script_lang_js={props:["availableFields","selectedList","moduleName","canHideAdd"],components:{draggable:vuedraggable_umd_default(),ConditionManagerForm:ConditionManagerForm/* default */.Z},data:function(){return{list:[],filterValue:null,filteredList:[],fieldSectionDragOptions:{animation:150,easing:"cubic-bezier(1, 0, 0, 1)",group:"tasksection",sort:!0},showCreate:!1}},created:function(){this.filterSearchQuery()},computed:{fieldList:{get:function(){var list=this.list;return(0,validation/* isEmpty */.xb)(list)?[]:list.map((function(field){return field.id}))},set:function(value){var availableFields=this.availableFields,selectedFields=value.map((function(fieldId){var field=availableFields.find((function(field){return field.id===fieldId}));return(0,validation/* isEmpty */.xb)(field)?null:field})).filter((function(f){return!(0,validation/* isEmpty */.xb)(f)}));this.list=(0,toConsumableArray/* default */.Z)(selectedFields)}}},watch:{selectedList:{handler:function(newVal){this.list=(0,toConsumableArray/* default */.Z)(newVal)},immediate:!0}},methods:{filterSearchQuery:function(errorMessage){var _this=this,filterObj=this.availableFields.filter((function(field){var name=field.name.toLowerCase();return name.includes(_this.filterValue)}));(0,validation/* isEmpty */.xb)(filterObj)?(errorMessage&&this.$message.error("Cannot find condition manager"),this.filteredList=this.availableFields):this.filteredList=filterObj},remove:function(_ref){var id=_ref.id,index=this.list.findIndex((function(fld){return fld.id===id}));this.list.splice(index,1)},handleclose:function(){this.$emit("onClose")},save:function(){this.$emit("onSave",this.list),this.handleclose()},setConditions:function(condition){this.$emit("updateList",condition)}}},components_ConditionManagerPickervue_type_script_lang_js=ConditionManagerPickervue_type_script_lang_js,ConditionManagerPicker_component=(0,componentNormalizer/* default */.Z)(components_ConditionManagerPickervue_type_script_lang_js,ConditionManagerPickervue_type_template_id_23d8e1da_render,ConditionManagerPickervue_type_template_id_23d8e1da_staticRenderFns,!1,null,null,null)
/* harmony default export */,ConditionManagerPicker=ConditionManagerPicker_component.exports,cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),customizationTypes={FIELD:1,CONDITION:2},ColorCustomizationvue_type_script_lang_js={props:["viewDetails","moduleFields","moduleName","saveAsNew","moduleId","canHideAddConditionManager"],components:{ColorPicker:ColorPicker,ConditionManagerPicker:ConditionManagerPicker},data:function(){return{optionLoading:!1,showCriteriaDialog:!1,colorCustomization:{customizationType:customizationTypes.FIELD,customizationFieldId:null,defaultCustomization:{eventColor:"#4d95ff"},values:[]},conditionLoading:!1,conditionManagerList:[],selectedConditionList:[],customizationTypes:customizationTypes}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this.isNew&&!_this.saveAsNew){_context.next=3;break}return _context.next=3,_this.deserialize();case 3:return _context.next=5,_this.loadConditionManager();case 5:case"end":return _context.stop()}}),_callee)})))()},computed:{isNew:function(){return(0,validation/* isEmpty */.xb)(this.$route.params.viewname)},selectFieldList:function(){var BOOLEAN=schedulerViewUtil/* dataTypes */.DJ.BOOLEAN,LOOKUP=schedulerViewUtil/* dataTypes */.DJ.LOOKUP,ENUM=schedulerViewUtil/* dataTypes */.DJ.ENUM,SYSTEM_ENUM=schedulerViewUtil/* dataTypes */.DJ.SYSTEM_ENUM,PICK_LIST=schedulerViewUtil/* lookupType */.GG.PICK_LIST,moduleFields=this.moduleFields;return(moduleFields||[]).filter((function(fld){var dataType=fld.dataType,lookupModule=fld.lookupModule,_ref=lookupModule||{},type=_ref.type;return[BOOLEAN,ENUM,SYSTEM_ENUM].includes(dataType)||LOOKUP===dataType&&type===PICK_LIST}))},isColorCustomEnabled:function(){var colorCustomization=this.colorCustomization,_ref2=colorCustomization||{},values=_ref2.values;return!(0,validation/* isEmpty */.xb)(values)},loading:function(){return this.optionLoading||this.conditionLoading}},methods:{deserialize:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _ref3,recordCustomization,_ref4,values,customizationType,defaultCustomization,customizationFieldId,FIELD;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(_ref3=_this2.viewDetails||{},recordCustomization=_ref3.recordCustomization,(0,validation/* isEmpty */.xb)(recordCustomization)){_context2.next=11;break}if(_ref4=recordCustomization||{},values=_ref4.values,customizationType=_ref4.customizationType,defaultCustomization=_ref4.defaultCustomization,customizationFieldId=_ref4.customizationFieldId,FIELD=customizationTypes.FIELD,values=values.map((function(val){var valueObj={},_ref5=val||{},customization=_ref5.customization,namedCriteriaId=_ref5.namedCriteriaId,fieldValue=_ref5.fieldValue;return customization=JSON.parse(customization)||{},valueObj=customizationType===FIELD?{customization:customization,fieldValue:fieldValue}:{customization:customization,namedCriteriaId:namedCriteriaId},valueObj})),defaultCustomization=defaultCustomization&&JSON.parse(defaultCustomization)||{eventColor:"#4d95ff"},_this2.colorCustomization={customizationType:customizationType,values:values,defaultCustomization:defaultCustomization},customizationType!==FIELD){_context2.next=11;break}return _this2.colorCustomization=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this2.colorCustomization),{},{customizationFieldId:customizationFieldId}),_context2.next=11,_this2.loadOptions();case 11:case"end":return _context2.stop()}}),_callee2)})))()},loadOptions:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var BOOLEAN,LOOKUP,ENUM,SYSTEM_ENUM,selectFieldList,colorCustomization,_ref6,fieldId,values,selectedField,_ref7,dataType,_ref8,falseVal,trueVal,_ref10,enumMap,PICK_LIST,_ref14,lookupModule,_ref15,name,type,moduleId,filters,_yield$API$get,data,error,optionMap;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(_this3.optionLoading=!0,BOOLEAN=schedulerViewUtil/* dataTypes */.DJ.BOOLEAN,LOOKUP=schedulerViewUtil/* dataTypes */.DJ.LOOKUP,ENUM=schedulerViewUtil/* dataTypes */.DJ.ENUM,SYSTEM_ENUM=schedulerViewUtil/* dataTypes */.DJ.SYSTEM_ENUM,selectFieldList=_this3.selectFieldList,colorCustomization=_this3.colorCustomization,_ref6=colorCustomization||{},fieldId=_ref6.customizationFieldId,values=_ref6.values,selectedField=selectFieldList.find((function(f){return f.id===fieldId}))||{},_ref7=selectedField||{},dataType=_ref7.dataType,BOOLEAN!==dataType){_context3.next=11;break}_ref8=selectedField||{},falseVal=_ref8.falseVal,trueVal=_ref8.trueVal,values=(0,validation/* isEmpty */.xb)(values)?[{fieldValue:"false",label:falseVal||"False",customization:_this3.getColor()},{fieldValue:"true",label:trueVal||"True",customization:_this3.getColor()}]:values.map((function(option){var _ref9=option||{},fieldValue=_ref9.fieldValue,label="true"===fieldValue?trueVal||"True":falseVal||"False";return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},option),{},{label:label})})),_context3.next=30;break;case 11:if(![ENUM,SYSTEM_ENUM].includes(dataType)){_context3.next=16;break}_ref10=selectedField||{},enumMap=_ref10.enumMap,values=(0,validation/* isEmpty */.xb)(values)?Object.entries(enumMap||{}).reduce((function(colorMap,_ref11){var _ref12=(0,slicedToArray/* default */.Z)(_ref11,2),optionId=_ref12[0],label=_ref12[1],optionObj={fieldValue:parseInt(optionId),label:label,customization:_this3.getColor()};return colorMap.push(optionObj),colorMap}),[]):values.map((function(option){var _ref13=option||{},fieldValue=_ref13.fieldValue;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},option),{},{label:enumMap[fieldValue]})})),_context3.next=30;break;case 16:if(LOOKUP!==dataType){_context3.next=30;break}if(PICK_LIST=schedulerViewUtil/* lookupType */.GG.PICK_LIST,_ref14=selectedField||{},lookupModule=_ref14.lookupModule,_ref15=lookupModule||{},name=_ref15.name,type=_ref15.type,moduleId=_this3.moduleId,filters={},"ticketstatus"===name&&(filters={parentModuleId:{operatorId:9,value:["".concat(moduleId)]}}),type!==PICK_LIST){_context3.next=30;break}return _context3.next=26,api/* API */.bl.get("v2/module/data/list",{moduleName:name,filters:(0,validation/* isEmpty */.xb)(filters)?null:JSON.stringify(filters)});case 26:_yield$API$get=_context3.sent,data=_yield$API$get.data,error=_yield$API$get.error,error||((0,validation/* isEmpty */.xb)(values)?values=(data.moduleDatas||[]).map((function(option){var customization={},_ref16=option||{},id=_ref16.id,_ref16$colour=_ref16.colour,colour=void 0===_ref16$colour?null:_ref16$colour,displayName=_ref16.displayName,name=_ref16.name;return customization=null!==colour?{eventColor:colour}:_this3.getColor(),{fieldValue:id,label:displayName||name,customization:customization}})):(optionMap=(data.moduleDatas||[]).reduce((function(optionMapObj,option){var id=option.id,displayName=option.displayName,name=option.name;return optionMapObj[id]=displayName||name,optionMapObj}),{}),values=values.map((function(option){var _ref17=option||{},fieldValue=_ref17.fieldValue;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},option),{},{label:optionMap[fieldValue]})}))));case 30:_this3.$set(_this3.colorCustomization,"values",values),_this3.optionLoading=!1;case 32:case"end":return _context3.stop()}}),_callee3)})))()},openCriteriaDialog:function(){var _this4=this;if(!this.conditionLoading){var _ref18=this.colorCustomization||{},customizationType=_ref18.customizationType,values=_ref18.values,selectedConditionIds=2===customizationType?values.map((function(v){return v.namedCriteriaId})):[];this.selectedConditionList=selectedConditionIds.map((function(criteriaId){var criteriaObj=_this4.conditionManagerList.find((function(criteria){return criteria.id===criteriaId}));return criteriaObj})),this.showCriteriaDialog=!0}},setColorForCriteria:function(list){var _this5=this;this.optionLoading=!0,this.$nextTick((function(){_this5.colorCustomization.values=list.map((function(valObj){var _ref19=valObj||{},id=_ref19.id,name=_ref19.name,customization=_ref19.customization;return{namedCriteriaId:id,label:name,customization:customization||_this5.getColor()}})),_this5.optionLoading=!1}))},getColor:function(){var randomNumber=parseInt(100*Math.random()),pickColor=schedulerViewUtil/* colorPalette */.K5[randomNumber%21];return{eventColor:pickColor}},setColorValue:function(colorVal,customization){var _ref20=colorVal||{},eventColor=_ref20.eventColor;this.$set(customization,"eventColor",eventColor)},resetOptions:function(){this.colorCustomization.values=[],this.loadOptions()},resetValue:function(type){var _ref21=this.colorCustomization||{},defaultCustomization=_ref21.defaultCustomization,FIELD=customizationTypes.FIELD;this.colorCustomization={customizationType:type,values:[],defaultCustomization:defaultCustomization},type===FIELD?this.colorCustomization=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.colorCustomization),{},{customizationFieldId:null}):this.selectedConditionList=[]},loadConditionManager:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var moduleName,_yield$API$post,error,data,conditionManagerList,_ref23,customizationType,values,conditionVsColor,namedCriteriaIdVsName;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this6.conditionLoading=!0,moduleName=_this6.moduleName,_context4.next=4,api/* API */.bl.post("v2/namedCriteria/list",{moduleName:moduleName});case 4:_yield$API$post=_context4.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this6.$message.error(error.message||"Error Occurred"):(conditionManagerList=(data.namedCriteriaList||[]).map((function(condition){var _ref22=condition||{},id=_ref22.id,name=_ref22.name;return{id:id,name:name,customization:_this6.getColor()}})),_ref23=_this6.colorCustomization||{},customizationType=_ref23.customizationType,values=_ref23.values,conditionVsColor={},2===customizationType&&(conditionVsColor=values.reduce((function(colorMap,valueObj){var namedCriteriaId=valueObj.namedCriteriaId,customization=valueObj.customization;return colorMap[namedCriteriaId]=customization,colorMap}),{}),conditionManagerList=(conditionManagerList||[]).map((function(condition){var _ref24=condition||{},id=_ref24.id,customization=_ref24.customization;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},condition),{},{customization:conditionVsColor[id]||customization})})),namedCriteriaIdVsName=conditionManagerList.reduce((function(namedCriteriaOptions,criteriaObj){var _ref25=criteriaObj||{},id=_ref25.id,name=_ref25.name;return namedCriteriaOptions[id]=name,namedCriteriaOptions}),{}),_this6.colorCustomization.values=values.map((function(valueObj){var namedCriteriaId=valueObj.namedCriteriaId;return valueObj.label=namedCriteriaIdVsName[namedCriteriaId],valueObj}))),_this6.conditionManagerList=conditionManagerList),_this6.conditionLoading=!1;case 9:case"end":return _context4.stop()}}),_callee4)})))()},updateCriteriaList:function(criteria){var _ref26=criteria||{},id=_ref26.id,name=_ref26.name,criteriaObj={id:id,name:name,customization:this.getColor()};this.conditionManagerList.push(criteriaObj),this.selectedConditionList.push(criteriaObj)},serialize:function(){if(this.isColorCustomEnabled){var recordCustomization=cloneDeep_default()(this.colorCustomization),_ref27=recordCustomization||{},values=_ref27.values,defaultCustomization=_ref27.defaultCustomization;return values=values.map((function(val){var customization=val.customization;return val.customization=JSON.stringify(customization),delete val.label,val})),defaultCustomization=JSON.stringify(defaultCustomization),{recordCustomization:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},recordCustomization),{},{values:values,defaultCustomization:defaultCustomization})}}return{}}}},view_creation_ColorCustomizationvue_type_script_lang_js=ColorCustomizationvue_type_script_lang_js,ColorCustomization_component=(0,componentNormalizer/* default */.Z)(view_creation_ColorCustomizationvue_type_script_lang_js,render,staticRenderFns,!1,null,"5df95624",null)
/* harmony default export */,ColorCustomization=ColorCustomization_component.exports},
/***/547065:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return GroupingDetails}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/timeline-view/view-layout/view-creation/GroupingDetails.vue?vue&type=template&id=114fa707
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-form",{ref:"grouping-form",attrs:{model:_vm.details,rules:_vm.rules,"label-position":"left","label-width":"100px"}},[_c("div",{staticClass:"flex-middle mB10"},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"groupByFieldId",label:_vm.$t("common.header.group_by")}},[_c("el-select",{staticClass:"width250px fc-input-full-border-select2",attrs:{placeholder:"Select the group",filterable:""},on:{change:_vm.loadGroupCriteriaOptions},model:{value:_vm.details.groupByFieldId,callback:function($$v){_vm.$set(_vm.details,"groupByFieldId",$$v)},expression:"details.groupByFieldId"}},_vm._l(_vm.groupingFieldList,(function(groupFld){return _c("el-option",{key:groupFld.id,attrs:{label:groupFld.displayName,value:groupFld.id}})})),1)],1),_c("div",{staticClass:"flex-middle"},[_c("el-form-item",{staticClass:"mB10 mL40",attrs:{label:_vm.$t("setup.scheduler.apply_filter")}},[_c("el-switch",{attrs:{disabled:_vm.$validation.isEmpty(_vm.selectedGroupObj)},model:{value:_vm.filterToggle,callback:function($$v){_vm.filterToggle=$$v},expression:"filterToggle"}})],1),_c("el-tooltip",{attrs:{placement:"top",content:_vm.$t("setup.scheduler.all_values_selected")}},[_c("i",{staticClass:"el-icon-info mT4 mL5 mB10"})])],1)],1),!_vm.isPickList&&_vm.filterToggle?_c("el-form-item",{attrs:{label:_vm.$t("setup.scheduler.based_on")}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"criteria"},model:{value:_vm.basedOn,callback:function($$v){_vm.basedOn=$$v},expression:"basedOn"}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.criteria"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"value"},model:{value:_vm.basedOn,callback:function($$v){_vm.basedOn=$$v},expression:"basedOn"}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.value"))+" ")])],1):_vm._e(),_vm.showGroupCriteria?_c("CriteriaBuilder",{ref:"group-criteria",attrs:{moduleName:_vm.moduleName},model:{value:_vm.groupCriteria,callback:function($$v){_vm.groupCriteria=$$v},expression:"groupCriteria"}}):_vm._e(),_vm.filterToggle&&"value"===_vm.basedOn?_c("div",{staticClass:"flex-middle pT8 pB8",staticStyle:{margin:"0.5rem"}},[_c("div",{staticClass:"criteria-alphabet-block"},[_c("div",{staticClass:"alphabet-circle"},[_vm._v(" "+_vm._s(1)+" ")])]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{disabled:!0},model:{value:_vm.selectedObjDisplayName,callback:function($$v){_vm.selectedObjDisplayName=$$v},expression:"selectedObjDisplayName"}}),_c("el-select",{staticClass:"pL10 fc-input-full-border2 width100",attrs:{placeholder:"Select"},model:{value:_vm.valueType.operatorId,callback:function($$v){_vm.$set(_vm.valueType,"operatorId",$$v)},expression:"valueType.operatorId"}},_vm._l(_vm.valueOperator,(function(item){return _c("el-option",{key:item.operatorId,attrs:{label:item.displayName,value:item.operatorId}})})),1),_c("el-form-item",{staticClass:"timeline-view-values-field width100 height40"},[_c("el-select",{staticClass:"pL10 fc-input-full-border2 width100",attrs:{placeholder:"Select",disabled:_vm.$validation.isEmpty(_vm.valueType.operatorId),filterable:"",remote:"","remote-method":function(query){return _vm.loadGroupCriteriaOptions(query,!0)},loading:_vm.valuesLoading,multiple:"","collapse-tags":"","popper-class":"view-creation-form-v2"},model:{value:_vm.groupingValues,callback:function($$v){_vm.groupingValues=$$v},expression:"groupingValues"}},_vm._l(_vm.valueOptions,(function(item){return _c("el-option",{key:parseInt(item.id),attrs:{label:item.value,value:parseInt(item.id)}})})),1)],1)],1):_vm._e()],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(212826),__webpack_require__(336585),__webpack_require__(990260)),schedulerViewUtil=__webpack_require__(76495),dist=__webpack_require__(191853),picklist=__webpack_require__(961358),valueOperator=[{displayName:"is",operatorId:3},{displayName:"isn't",operatorId:4}],GroupingDetailsvue_type_script_lang_js={props:["viewDetails","isNew","moduleFields","saveAsNew","moduleId"],components:{CriteriaBuilder:dist/* CriteriaBuilder */.IP},data:function(){return{basedOn:"criteria",groupingValues:[],valuesLoading:!1,refreshGroupCriteria:!0,valueType:{operatorId:null},details:{groupByFieldId:null,groupCriteria:null},rules:{groupByFieldId:{required:!0,message:"Please select grouping field",trigger:"blur"}},filterToggle:!1,moduleName:null,valueOperator:valueOperator,valueOptions:null,groupCriteria:null}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this.isNew&&!_this.saveAsNew||(0,validation/* isEmpty */.xb)(_this.viewDetails)){_context.next=3;break}return _context.next=3,_this.deserialize();case 3:case"end":return _context.stop()}}),_callee)})))()},watch:{groupCriteria:function(newVal){this.$set(this.details,"groupCriteria",newVal)},basedOn:function(newVal){"value"===newVal&&this.$set(this,"groupCriteria",null)},filterToggle:function(newVal){newVal||this.$set(this,"groupCriteria",null)}},computed:{showGroupCriteria:function(){var filterToggle=this.filterToggle,basedOn=this.basedOn,refreshGroupCriteria=this.refreshGroupCriteria;return filterToggle&&"criteria"===basedOn&&refreshGroupCriteria},groupingFieldList:function(){var LOOKUP=schedulerViewUtil/* dataTypes */.DJ.LOOKUP,ENUM=schedulerViewUtil/* dataTypes */.DJ.ENUM,SYSTEM_ENUM=schedulerViewUtil/* dataTypes */.DJ.SYSTEM_ENUM;return(this.moduleFields||[]).filter((function(fld){return[LOOKUP,ENUM,SYSTEM_ENUM].includes(fld.dataType)}))},selectedGroupObj:function(){var groupingFieldList=this.groupingFieldList,details=this.details,_ref=details||{},groupByFieldId=_ref.groupByFieldId,selectedGroupField=(groupingFieldList||[]).find((function(grpFld){return grpFld.id===groupByFieldId}));return selectedGroupField||null},selectedObjDisplayName:function(){var selectedGroupObj=this.selectedGroupObj;return this.$getProperty(selectedGroupObj,"displayName",null)},isLookup:function(){var _ref2=this.selectedGroupObj||{},dataType=_ref2.dataType,LOOKUP=schedulerViewUtil/* dataTypes */.DJ.LOOKUP;return dataType===LOOKUP},isPickList:function(){var _ref3=this.selectedGroupObj||{},dataType=_ref3.dataType,ENUM=schedulerViewUtil/* dataTypes */.DJ.ENUM,SYSTEM_ENUM=schedulerViewUtil/* dataTypes */.DJ.SYSTEM_ENUM;return[ENUM,SYSTEM_ENUM].includes(dataType)}},methods:{deserialize:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var operators,_this2$viewDetails,groupByFieldId,groupCriteria,_ref4,conditions,firstCondition,fieldName,operatorId,computedValues,isValueTypeLookup;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return operators={IS:3,ISNT:4},_this2$viewDetails=_this2.viewDetails,groupByFieldId=_this2$viewDetails.groupByFieldId,groupCriteria=_this2$viewDetails.groupCriteria,_ref4=groupCriteria||{},conditions=_ref4.conditions,firstCondition=(null===conditions||void 0===conditions?void 0:conditions[1])||{},fieldName=firstCondition.fieldName,operatorId=firstCondition.operatorId,computedValues=firstCondition.computedValues,isValueTypeLookup=["id","ouid","roleId"].includes(fieldName)&&[operators.IS,operators.ISNT].includes(operatorId),_this2.$set(_this2.details,"groupByFieldId",groupByFieldId),_this2.groupCriteria=groupCriteria,_context2.next=10,_this2.loadGroupCriteriaOptions();case 10:(_this2.isPickList||isValueTypeLookup)&&(_this2.basedOn="value",_this2.valueType.operatorId=operatorId||null,_this2.groupCriteria=_this2.isLookup?groupCriteria:{},_this2.groupingValues=(computedValues||[]).map((function(selected){return parseInt(selected)}))),_this2.filterToggle=!(0,validation/* isEmpty */.xb)(groupCriteria);case 12:case"end":return _context2.stop()}}),_callee2)})))()},refreshGroupCrit:function(){var _this3=this;this.filterToggle&&(this.groupingValues=[],this.valueType.operatorId=null,this.refreshGroupCriteria=!1,this.groupCriteria=null,this.$nextTick((function(){return _this3.refreshGroupCriteria=!0})))},validate:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var groupForm,criteriaValidate;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(groupForm=!0,!_this4.showGroupCriteria){_context3.next=7;break}return _context3.next=4,_this4.$refs["group-criteria"].validate();case 4:_context3.t0=_context3.sent,_context3.next=8;break;case 7:_context3.t0=!0;case 8:return criteriaValidate=_context3.t0,_context3.prev=9,_context3.next=12,_this4.$refs["grouping-form"].validate();case 12:groupForm=_context3.sent,_context3.next=18;break;case 15:_context3.prev=15,_context3.t1=_context3["catch"](9),groupForm=!1;case 18:return _context3.abrupt("return",criteriaValidate&&groupForm);case 19:case"end":return _context3.stop()}}),_callee3,null,[[9,15]])})))()},serialize:function(){var basedOn=this.basedOn,valueType=this.valueType,groupingValues=this.groupingValues,isLookup=this.isLookup,details=this.details,_ref5=details||{},groupByFieldId=_ref5.groupByFieldId,groupCriteria=_ref5.groupCriteria;if(this.filterToggle){if("value"===basedOn){var fieldName="index";if(isLookup){var name=this.selectedGroupObj.lookupModule.name;fieldName=["users","requester"].includes(name)?"ouid":"role"===name?"roleId":"id"}valueType.fieldName=fieldName,valueType.value=(groupingValues||[]).toString(),groupCriteria={conditions:{1:valueType},pattern:"1"}}}else groupCriteria=null;return{groupByFieldId:groupByFieldId,groupCriteria:groupCriteria}},loadGroupCriteriaOptions:function(){var _arguments=arguments,_this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var query,isUserSearching,selectedGroupObj,moduleId,_ref6,lookupModule,name,_ref7,lookupModuleName,payload,_yield$getFieldOption,error,options,_ref9,allOptions;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(query=_arguments.length>0&&void 0!==_arguments[0]?_arguments[0]:null,isUserSearching=_arguments.length>1&&void 0!==_arguments[1]&&_arguments[1],selectedGroupObj=_this5.selectedGroupObj,moduleId=_this5.moduleId,!_this5.isLookup){_context4.next=20;break}return _this5.valuesLoading=!0,_ref6=selectedGroupObj||{},lookupModule=_ref6.lookupModule,name=_ref6.name,_ref7=lookupModule||{},lookupModuleName=_ref7.name,_this5.moduleName=lookupModuleName||null,payload={field:{lookupModule:lookupModule}},isUserSearching?payload.searchText=query:(_this5.basedOn="criteria",_this5.refreshGroupCrit()),"moduleState"===name&&(payload.field.filters={parentModuleId:{operatorId:9,value:[String(moduleId)]}}),_context4.next=13,(0,picklist/* getFieldOptions */._K)(payload);case 13:_yield$getFieldOption=_context4.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this5.$message.error(error.message||_this5.$t("common._common.error_occured")):_this5.valueOptions=options.map((function(_ref8){var label=_ref8.label,value=_ref8.value;return{id:value,value:label}})),_this5.valuesLoading=!1,_context4.next=21;break;case 20:_this5.isPickList&&(_ref9=_this5.selectedGroupObj||{},allOptions=_ref9.enumMap,_this5.basedOn="value",_this5.valueOptions=Object.entries(allOptions).map((function(_ref10){var _ref11=(0,slicedToArray/* default */.Z)(_ref10,2),id=_ref11[0],value=_ref11[1];return{id:id,value:value}})));case 21:case"end":return _context4.stop()}}),_callee4)})))()}}},view_creation_GroupingDetailsvue_type_script_lang_js=GroupingDetailsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(view_creation_GroupingDetailsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,GroupingDetails=component.exports},
/***/334858:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PopupConfig}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/timeline-view/view-layout/view-creation/PopupConfig.vue?vue&type=template&id=2f02aaa0&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"flex-center-row-space"},[_c("div",{staticClass:"flex-center-row-space"},[_c("p",{staticClass:"fc-input-label-txt txt-color pB0 flex-middle"},[_vm._v(" "+_vm._s("Choose fields to show in event popup")+" ")]),_c("el-tooltip",{attrs:{content:_vm.$t("setup.scheduler.all_values_selected"),placement:"top"}},[_c("i",{staticClass:"el-icon-info mT4 mL5"})])],1),_c("div",{staticClass:"configure-btn new-statetransition-config pointer",on:{click:function($event){_vm.canShowSummaryFields=!0}}},[_c("i",{staticClass:"el-icon-plus fw-bold "}),_vm._v(" "+_vm._s(_vm.isSummaryFieldConfigured?_vm.$t("common._common.update"):_vm.$t("common._common.configure"))+" ")])]),_vm.canShowSummaryFields?_c("FieldPickerDialog",{attrs:{title:"Configure Popup Fields",availableFields:_vm.moduleFields,selectedList:_vm.summaryFields,itemKey:"fieldId"},on:{save:function(list){return _vm.summaryFields=list},close:function($event){_vm.canShowSummaryFields=!1}}}):_vm._e()],1)},staticRenderFns=[],PopupFieldPickervue_type_template_id_e2506cc2_render=(__webpack_require__(169358),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(648324),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"field-dialog view-creation-form-v2",attrs:{visible:!0,width:"50%","append-to-body":!0,"show-close":!1,"before-close":_vm.handleclose}},[_c("div",{staticStyle:{height:"610px"}},[_c("el-row",[_c("el-col",{staticClass:"dialog_header"},[_vm._v(" "+_vm._s(_vm.title?_vm.title:"FIELDS")+" ")])],1),_c("el-row",[_c("el-col",{staticClass:"border-right overflow-y-scroll height500",attrs:{span:8}},[_c("div",{staticClass:"d-flex pT5 pB5 pL30 pR5",staticStyle:{"border-bottom":"1px solid #e5e4e4"}},[_c("i",{staticClass:"el-icon-search pT7 pR10",staticStyle:{color:"#25243e"}}),_c("el-input",{attrs:{placeholder:"Search Fields",autofocus:!0,clearable:""},on:{change:function($event){return _vm.filterSearchQuery(!0)}},model:{value:_vm.filterValue,callback:function($$v){_vm.filterValue=$$v},expression:"filterValue"}})],1),_c("div",{staticClass:"pL30 pR15"},[_c("el-checkbox-group",{staticClass:"overflow-y-scroll",model:{value:_vm.fieldList,callback:function($$v){_vm.fieldList=$$v},expression:"fieldList"}},_vm._l(_vm.filteredList,(function(field,index){return _c("el-checkbox",{key:index,staticClass:"checkbox",attrs:{label:field.name}},[_vm._v(" "+_vm._s(field.displayName)+" ")])})),1)],1)]),_c("el-col",{staticClass:"overflow-y-scroll height500",attrs:{span:16}},[_c("div",{staticClass:"selected_header"},[_vm._v(_vm._s("Selected Fields"))]),_c("draggable",_vm._b({staticClass:"pL20 pR20",attrs:{list:_vm.list,group:"list"}},"draggable",_vm.fieldSectionDragOptions,!1),_vm._l(_vm.list,(function(field,index){return _c("div",{key:index,staticClass:"mB10 mT15"},[_c("div",{staticClass:"field-row d-flex"},[_c("div",{staticClass:"task-handle mR10 cursor-drag"},[_c("img",{attrs:{src:__webpack_require__(271791)}})]),_c("div",{staticClass:"mT-auto mB-auto fd-name"},[_vm._v(" "+_vm._s(field.displayName||"")+" ")]),_c("div",{staticClass:"mL-auto mT-auto mB-auto"},[_c("div",{staticClass:"mR10 inline",on:{click:function($event){return _vm.remove(field)}}},[_c("i",{staticClass:"el-icon-delete pointer trash-icon"})])])])])})),0)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleclose()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)],1)])}),PopupFieldPickervue_type_template_id_e2506cc2_staticRenderFns=[],FieldPicker=__webpack_require__(965797),PopupFieldPickervue_type_script_lang_js={extends:FieldPicker/* default */.Z},components_PopupFieldPickervue_type_script_lang_js=PopupFieldPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PopupFieldPickervue_type_script_lang_js,PopupFieldPickervue_type_template_id_e2506cc2_render,PopupFieldPickervue_type_template_id_e2506cc2_staticRenderFns,!1,null,null,null)
/* harmony default export */,PopupFieldPicker=component.exports,validation=__webpack_require__(990260),PopupConfigvue_type_script_lang_js={props:["viewDetails","moduleFields","saveAsNew"],components:{FieldPickerDialog:PopupFieldPicker},data:function(){return{canShowSummaryFields:!1,summaryFields:[]}},created:function(){if((!this.isNew||this.saveAsNew)&&!(0,validation/* isEmpty */.xb)(this.viewDetails)){var _ref=this.viewDetails||{},configJson=_ref.configJson;configJson=configJson&&JSON.parse(configJson)||{};var popupFields=configJson["popup-fields"]||[];popupFields=popupFields.map((function(fldId){return parseInt(fldId)})),this.summaryFields=this.moduleFields.filter((function(fld){return popupFields.includes(fld.id)}))}},computed:{isNew:function(){return(0,validation/* isEmpty */.xb)(this.$route.params.viewname)},isSummaryFieldConfigured:function(){return!(0,validation/* isEmpty */.xb)(this.summaryFields)}},methods:{serialize:function(){var summaryFields=this.summaryFields,isSummaryFieldConfigured=this.isSummaryFieldConfigured;if(isSummaryFieldConfigured){var popupFields=(summaryFields||[]).map((function(fld){return"".concat(fld.id)})),configJson={"popup-fields":popupFields};return{configJson:JSON.stringify(configJson)}}return{}}}},view_creation_PopupConfigvue_type_script_lang_js=PopupConfigvue_type_script_lang_js,PopupConfig_component=(0,componentNormalizer/* default */.Z)(view_creation_PopupConfigvue_type_script_lang_js,render,staticRenderFns,!1,null,"2f02aaa0",null)
/* harmony default export */,PopupConfig=PopupConfig_component.exports},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/233889:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ConditionManagerForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/conditionmanager/ConditionManagerForm.vue?vue&type=template&id=65dabbe1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,fullscreen:!0,"append-to-body":!0,"custom-class":"condition-animated slideInRight fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog condition-manager-form","before-close":_vm.closeDialog}},[_c("el-form",{ref:"condition-manager",staticClass:"fc-form",attrs:{model:_vm.namedCriteria,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common._common.add_condition"):_vm.$t("common._common.edit_condition"))+" ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_c("el-form-item",{attrs:{label:_vm.$t("common.products.name"),prop:"name"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_crieteria_name")},model:{value:_vm.namedCriteria.name,callback:function($$v){_vm.$set(_vm.namedCriteria,"name",$$v)},expression:"namedCriteria.name"}})],1),_c("div",{staticClass:"criteria-types-config"},[_c("p",{staticClass:"fc-input-label-txt bold pB0 text-fc-pink text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("common.products.conditions"))+" ")]),_c("el-dropdown",{on:{command:_vm.openConditionExpressions}},[_c("div",{staticClass:"d-flex pointer"},[_c("inline-svg",{staticClass:"fill-blue",attrs:{src:"svgs/plus-button"}}),_c("div",{staticClass:"config"},[_vm._v(_vm._s(_vm.$t("common._common.configure")))])],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.criteriaType,(function(label,type){return _c("el-dropdown-item",{key:type,attrs:{command:parseInt(type)}},[_vm._v(" "+_vm._s(label)+" ")])})),1)],1)],1),_c("div",{staticClass:"mT20"},[_vm.conditions.length>1?[_c("el-radio-group",{staticClass:"mB15",on:{change:_vm.setPattern},model:{value:_vm.operatorType,callback:function($$v){_vm.operatorType=$$v},expression:"operatorType"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.operatorTypes.AND}},[_vm._v(" "+_vm._s(_vm.$t("common._common.match_all"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.operatorTypes.OR}},[_vm._v(" "+_vm._s(_vm.$t("common._common.match_any"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.operatorTypes.CUSTOM}},[_vm._v(" "+_vm._s(_vm.$t("common._common.custom_pattern"))+" ")])],1),_vm.operatorType===_vm.operatorTypes.CUSTOM?_c("el-form-item",{attrs:{prop:"pattern"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{placeholder:-_vm.$t("common._common.please_enter_pattern_for_conditions")},model:{value:_vm.namedCriteria.pattern,callback:function($$v){_vm.$set(_vm.namedCriteria,"pattern",$$v)},expression:"namedCriteria.pattern"}})],1):_vm._e()]:_vm._e(),_vm._l(_vm.namedCriteria.conditions,(function(condition,conditionKey){return _c("div",{key:conditionKey,staticClass:"criteria-conditions"},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"criteria-alphabet-block alphabet-circle"},[_vm._v(" "+_vm._s(conditionKey)+" ")]),_c("div",{staticClass:"fc__layout__has__row"},[_c("div",{staticClass:"criteria-name"},[_vm._v(" "+_vm._s(condition.name)+" ")]),_c("div",{staticClass:"criteria-type"},[_vm._v(" "+_vm._s(_vm.criteriaType[condition.type])+" ")])])]),_c("div",{staticClass:"actions-visibility"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon pR15 pointer",attrs:{"data-arrow":"true",title:_vm.$t("common.header.edit_expression")},on:{click:function($event){return _vm.editExpression(condition,conditionKey)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete fc-delete-icon pointer",attrs:{"data-arrow":"true",title:_vm.$t("common.header.delete_expression")},on:{click:function($event){return _vm.deleteExpression(conditionKey)}}})])])}))],2)],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")])],1)]),_vm.showCriteriaBuilder?_c("CriteriaBuilder",{attrs:{module:_vm.moduleName,selectedCriteria:_vm.activeCriteria,expressionIdx:_vm.expressionIdx},on:{save:function(criteria){return _vm.addConditionExpressions(criteria,_vm.criteriaTypes.SIMPLE)},close:function($event){_vm.showCriteriaBuilder=!1}}}):_vm._e(),_vm.showScript?_c("ScriptDialog",{attrs:{selectedScript:_vm.activeScript,moduleName:_vm.moduleName,expressionIdx:_vm.expressionIdx},on:{onSave:function(scriptData){return _vm.addConditionExpressions(scriptData,_vm.criteriaTypes.SCRIPT)},onClose:function($event){_vm.showScript=!1}}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),api=(__webpack_require__(564043),__webpack_require__(779866),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(821057),__webpack_require__(186466),__webpack_require__(162506),__webpack_require__(670560),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(634338),__webpack_require__(857267),__webpack_require__(450886),__webpack_require__(169358),__webpack_require__(506203),__webpack_require__(32284)),validation=__webpack_require__(990260),CriteriaBuilderDialogvue_type_template_id_0e096f79_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fieldchange-Dialog pB15 fc-dialog-center-container",attrs:{visible:!0,width:"60%",title:_vm.$t("common._common._criteria"),"custom-class":"dialog-header-padding","append-to-body":!0,"before-close":_vm.close}},[_c("error-banner",{attrs:{error:_vm.error,errorMessage:_vm.errorMessage},on:{"update:error":function($event){_vm.error=$event}}}),_c("div",{staticClass:"height330 overflow-y-scroll pB70 pL5 pR5"},[_c("el-form",{ref:"criteria-builder",attrs:{rules:_vm.rules,model:_vm.namedCriteria}},[_c("el-form-item",{attrs:{label:_vm.$t("common.products.name"),prop:"name",required:!0}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",placeholder:_vm.$t("common._common.enter_crieteria_name")},model:{value:_vm.namedCriteria.name,callback:function($$v){_vm.$set(_vm.namedCriteria,"name",$$v)},expression:"namedCriteria.name"}})],1)],1),_c("CriteriaBuilder",{attrs:{moduleName:_vm.module,isOneLevelEnabled:!0},model:{value:_vm.criteria,callback:function($$v){_vm.criteria=$$v},expression:"criteria"}})],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.close()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.saveCriteria()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)],1)},CriteriaBuilderDialogvue_type_template_id_0e096f79_scoped_true_staticRenderFns=[],StateTransitionCriteria=(__webpack_require__(434284),__webpack_require__(557428)),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),dist=__webpack_require__(191853),CriteriaBuilderDialogvue_type_script_lang_js={extends:StateTransitionCriteria/* default */.Z,components:{CriteriaBuilder:dist/* CriteriaBuilder */.IP},props:["selectedCriteria","expressionIdx"],data:function(){return{criteria:null,error:!1,errorMessage:"",criteriaRendered:!1,namedCriteria:{name:null,criteria:null},rules:{name:{required:!0,message:this.$t("common._common.please_enter_a_name"),trigger:"change"}}}},created:function(){if((0,validation/* isEmpty */.xb)(this.selectedCriteria))this.namedCriteria.name="Expression ".concat(this.expressionIdx);else{var _ref=this.selectedCriteria||{},criteria=_ref.criteria,name=_ref.name;this.criteria=criteria||null,this.namedCriteria.name=name}},methods:{saveCriteria:function(){var _this=this,criteria=clone_default()(this.criteria),activeCriteria=this.serializeCriteria(criteria);
// overridden from StateTransitionCriteria(parent component)
this.$refs["criteria-builder"].validate(function(){var _ref2=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:if((0,validation/* isEmpty */.xb)(activeCriteria)){_context.next=8;break}_this.namedCriteria.criteria=activeCriteria,_this.$emit("save",_this.namedCriteria),_this.close(),_context.next=11;break;case 8:return _this.error=!0,_this.errorMessage=_this.$t("common.header.please_select_fields"),_context.abrupt("return");case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}())}}},conditionmanager_CriteriaBuilderDialogvue_type_script_lang_js=CriteriaBuilderDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(conditionmanager_CriteriaBuilderDialogvue_type_script_lang_js,CriteriaBuilderDialogvue_type_template_id_0e096f79_scoped_true_render,CriteriaBuilderDialogvue_type_template_id_0e096f79_scoped_true_staticRenderFns,!1,null,"0e096f79",null)
/* harmony default export */,CriteriaBuilderDialog=component.exports,ScriptDialogvue_type_template_id_ba9304d0_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"pB15 fc-dialog-center-container fc-dialog-center-body-p0",attrs:{visible:!0,width:"60%",title:"script","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("div",{staticClass:"height550 overflow-y-scroll pB30 pT20 pR30 pL30"},[_c("el-form",{ref:"script-dialog",attrs:{rules:_vm.rules,model:_vm.scriptData}},[_c("el-form-item",{attrs:{label:"Name",prop:"name",required:!0}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",placeholder:"Enter Script Name"},model:{value:_vm.scriptData.name,callback:function($$v){_vm.$set(_vm.scriptData,"name",$$v)},expression:"scriptData.name"}})],1)],1),_c("p",{staticClass:"fc-input-label-txt"},[_vm._v("Script")]),_c("code-mirror",{staticClass:"condition-manager-script",attrs:{codeeditor:!0},model:{value:_vm.scriptData.workflow,callback:function($$v){_vm.$set(_vm.scriptData,"workflow",$$v)},expression:"scriptData.workflow"}})],1),_c("div",{staticClass:"modal-dialog-footer",staticStyle:{"z-index":"900"}},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" CANCEL ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.saveScript}},[_vm._v(" Save ")])],1)])},ScriptDialogvue_type_template_id_ba9304d0_staticRenderFns=[],CodeMirror=(__webpack_require__(952003),__webpack_require__(68518),__webpack_require__(113440),__webpack_require__(212826),__webpack_require__(919324)),ScriptDialogvue_type_script_lang_js={props:["selectedScript","moduleName","expressionIdx"],components:{CodeMirror:CodeMirror/* default */.Z},data:function(){return{scriptData:{name:null,workflow:null},rules:{name:{required:!0,message:"Please enter a name",trigger:"change"}}}},created:function(){var _ref=this.selectedScript||{},workflowContext=_ref.workflowContext,name=_ref.name;if((0,validation/* isEmpty */.xb)(workflowContext))this.scriptData.name="Expression ".concat(this.expressionIdx);else{var _ref2=workflowContext||{},workflowV2String=_ref2.workflowV2String,workflowId=_ref2.id;this.scriptData={name:name,workflow:this.getScriptWorkflow(workflowV2String),workflowId:workflowId}}},methods:{getScriptWorkflow:function(workflowString){return workflowString?workflowString.replace("boolean scriptFunc(Map "+this.moduleName+") {\n","").replace("void scriptFunc(Map "+this.moduleName+") {\n","").replace("Boolean scriptFunc(Map "+this.moduleName+") {\n","").replace(new RegExp("\n}$"),""):null},saveScript:function(){var _this=this,scriptData=this.scriptData,moduleName=this.moduleName,_ref3=scriptData||{},workflow=_ref3.workflow,name=_ref3.name,workflowId=_ref3.workflowId;this.$refs["script-dialog"].validate(function(){var _ref4=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var workflowV2String,workflowContext,scriptDataToSave;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:if(!(0,validation/* isEmpty */.xb)(workflow)){_context.next=5;break}return _this.$message.error("Script is Empty"),_context.abrupt("return");case 5:workflowV2String="Boolean scriptFunc(Map "+moduleName+") {\n"+workflow+"\n}",workflowContext={isV2Script:!0,workflowV2String:workflowV2String},(0,validation/* isEmpty */.xb)(workflowId)||(workflowContext=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},workflowContext),{},{id:workflowId})),scriptDataToSave={name:name,workflowContext:workflowContext},_this.$emit("onSave",scriptDataToSave),_this.closeDialog();case 11:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref4.apply(this,arguments)}}())},closeDialog:function(){this.$emit("onClose")}}},conditionmanager_ScriptDialogvue_type_script_lang_js=ScriptDialogvue_type_script_lang_js,ScriptDialog_component=(0,componentNormalizer/* default */.Z)(conditionmanager_ScriptDialogvue_type_script_lang_js,ScriptDialogvue_type_template_id_ba9304d0_render,ScriptDialogvue_type_template_id_ba9304d0_staticRenderFns,!1,null,null,null)
/* harmony default export */,ScriptDialog=ScriptDialog_component.exports,flatten=__webpack_require__(385564),flatten_default=__webpack_require__.n(flatten),criteriaTypes={SIMPLE:1,SCRIPT:2},operatorTypes={AND:1,OR:2,CUSTOM:3},ConditionManagerFormvue_type_script_lang_js={props:["selectedConditon","isNew","moduleName"],components:{CriteriaBuilder:CriteriaBuilderDialog,ScriptDialog:ScriptDialog},data:function(){return{namedCriteria:{name:null,pattern:null,conditions:{}},conditions:[],saving:!1,criteriaType:{1:"Simple",2:"Script"},operatorType:1,showCriteriaBuilder:!1,showScript:!1,activeCriteria:null,activeScript:null,activeConditionKey:null,expressionIdx:null,criteriaTypes:criteriaTypes,operatorTypes:operatorTypes,rules:{name:{required:!0,message:this.$t("common._common.please_enter_a_name"),trigger:"change"},pattern:{validator:function(rule,value,callback){var conditions=this.conditions,usedOperator=flatten_default()((0,toConsumableArray/* default */.Z)(value.matchAll(/and|or/gm))),conditionLength=conditions.length,brackets=flatten_default()((0,toConsumableArray/* default */.Z)(value.matchAll(/\(|\)/gm))),validBracketCount=0;brackets.forEach((function(b){"("===b?validBracketCount+=1:")"===b&&(validBracketCount-=1)})),conditionLength!==usedOperator.length+1||0!==validBracketCount?callback(new Error(this.$t("common._common.please_enter_valid_pattern"))):callback()}.bind(this),trigger:"change"}}}},created:function(){if(!this.isNew){var _this$selectedCondito=this.selectedConditon,conditions=_this$selectedCondito.conditions,pattern=_this$selectedCondito.pattern,usedOperatorTypes=flatten_default()((0,toConsumableArray/* default */.Z)(pattern.matchAll(/and|or/gm)));usedOperatorTypes.every((function(t){return"and"===t}))?this.operatorType=operatorTypes.AND:usedOperatorTypes.every((function(t){return"or"===t}))?this.operatorType=operatorTypes.OR:this.operatorType=operatorTypes.CUSTOM,this.conditions=Object.values(conditions),this.namedCriteria=this.selectedConditon}},watch:{conditions:function(newVal){var namedCriteria=this.namedCriteria,conditions=newVal.reduce((function(namedCriteria,condition,index){return namedCriteria[index+1]=condition,namedCriteria}),{});this.namedCriteria=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},namedCriteria),{},{conditions:conditions})}},methods:{openConditionExpressions:function(type){var SIMPLE=criteriaTypes.SIMPLE,SCRIPT=criteriaTypes.SCRIPT;this.activeCriteria=null,this.activeScript=null,this.expressionIdx=this.conditions.length+1,type===SIMPLE?this.showCriteriaBuilder=!0:type===SCRIPT&&(this.showScript=!0)},addConditionExpressions:function(data,criteriaType){var SIMPLE=criteriaTypes.SIMPLE,SCRIPT=criteriaTypes.SCRIPT,condition={};if(criteriaType===SIMPLE?condition=(0,objectSpread2/* default */.Z)({type:SIMPLE},data):criteriaType===SCRIPT&&(condition=(0,objectSpread2/* default */.Z)({type:SCRIPT},data)),this.activeConditionKey){var index=this.activeConditionKey-1;this.conditions.splice(index,1,condition),this.activeConditionKey=null}else{this.conditions.push(condition);var conditionLength=this.conditions.length,newPattern="(1)";if(1!==conditionLength){var operatorType=this.operatorType,namedCriteria=this.namedCriteria,_ref=namedCriteria||{},pattern=_ref.pattern,AND=operatorTypes.AND,CUSTOM=operatorTypes.CUSTOM,operator=[AND,CUSTOM].includes(operatorType)?"and":"or",newCondition=" ".concat(operator," ").concat(conditionLength,")");newPattern=pattern.replace(/\)$/gm,newCondition)}this.$set(this.namedCriteria,"pattern",newPattern)}},editExpression:function(condition,activeKey){var SIMPLE=criteriaTypes.SIMPLE,SCRIPT=criteriaTypes.SCRIPT,type=condition.type;type===SIMPLE?(this.activeCriteria=condition,this.showCriteriaBuilder=!0):type===SCRIPT&&(this.activeScript=condition,this.showScript=!0),this.activeConditionKey=parseInt(activeKey)},deleteExpression:function(conditionKey){var index=conditionKey-1;this.conditions.splice(index,1);var operatorType=this.operatorType,patternConditions=Object.keys(this.conditions).map((function(c){return parseInt(c)+1})),AND=operatorTypes.AND,CUSTOM=operatorTypes.CUSTOM,newPattern="";newPattern=[AND,CUSTOM].includes(operatorType)?"(".concat(patternConditions.join(" and "),")"):"(".concat(patternConditions.join(" or "),")"),this.$set(this.namedCriteria,"pattern",newPattern)},setPattern:function(){var operatorType=this.operatorType,namedCriteria=this.namedCriteria,pattern=namedCriteria.pattern,AND=operatorTypes.AND,CUSTOM=operatorTypes.CUSTOM;pattern=[AND,CUSTOM].includes(operatorType)?pattern.replace(/and|or/gm,"and"):pattern.replace(/and|or/gm,"or"),this.$set(this.namedCriteria,"pattern",pattern)},submitForm:function(){var _this=this,conditions=this.conditions,moduleName=this.moduleName,namedCriteria=this.namedCriteria;(0,validation/* isEmpty */.xb)(conditions)?this.$message.error(this.$t("common.header.atleast_one_condition_should_configured")):this.$refs["condition-manager"].validate(function(){var _ref2=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var url,params,_yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return _this.saving=!0,url="v2/namedCriteria/addOrUpdate",params={moduleName:moduleName,namedCriteria:namedCriteria},_context.next=7,api/* API */.bl.post(url,params);case 7:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this.$message.error(error.message||"Error Occurred"):(_this.$message.success(_this.$t("common.header.condition_saved_successfully")),_this.$emit("onSave",data.namedCriteria),_this.closeDialog()),_this.saving=!1;case 12:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref2.apply(this,arguments)}}())},closeDialog:function(){this.$emit("onClose")}}},conditionmanager_ConditionManagerFormvue_type_script_lang_js=ConditionManagerFormvue_type_script_lang_js,ConditionManagerForm_component=(0,componentNormalizer/* default */.Z)(conditionmanager_ConditionManagerFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConditionManagerForm=ConditionManagerForm_component.exports},
/***/557428:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return StateTransitionCriteria}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/stateflow/popups/StateTransitionCriteria.vue?vue&type=template&id=1058ab2f
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fieldchange-Dialog pB15 fc-dialog-center-container",attrs:{visible:!0,width:"50%",title:"Criteria","custom-class":"dialog-header-padding","append-to-body":!0,"before-close":_vm.close}},[_c("error-banner",{attrs:{error:_vm.error,errorMessage:_vm.errorMessage},on:{"update:error":function($event){_vm.error=$event}}}),_c("div",{staticClass:"height330 overflow-y-scroll pB50"},[_c("span",{staticClass:"new-body-modal"},[_c("new-criteria-builder",{ref:"criteriaBuilder",staticClass:"stateflow-criteria",attrs:{exrule:_vm.criteria,module:_vm.module,isRendering:_vm.criteriaRendered,hideTitleSection:!0},on:{condition:function(newValue){return _vm.criteria=newValue},"update:isRendering":function($event){_vm.criteriaRendered=$event},"update:is-rendering":function($event){_vm.criteriaRendered=$event}},model:{value:_vm.criteria,callback:function($$v){_vm.criteria=$$v},expression:"criteria"}})],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.close()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.saveCriteria()}}},[_vm._v("Save")])],1)],1)},staticRenderFns=[],ErrorBanner=(__webpack_require__(169358),__webpack_require__(260228),__webpack_require__(297157)),NewCriteriaBuilder=__webpack_require__(859850),validation=__webpack_require__(990260),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),StateTransitionCriteriavue_type_script_lang_js={components:{NewCriteriaBuilder:NewCriteriaBuilder/* default */.Z,ErrorBanner:ErrorBanner/* default */.Z},props:["module","activeCriteria"],data:function(){return{criteria:null,error:!1,errorMessage:"",criteriaRendered:!1}},created:function(){this.criteria=this.activeCriteria},methods:{saveCriteria:function(){var criteria=clone_default()(this.criteria),activeCriteria=this.serializeCriteria(criteria);if((0,validation/* isEmpty */.xb)(activeCriteria))return this.error=!0,void(this.errorMessage=" Please select fields");this.$emit("save",activeCriteria)},close:function(){this.$emit("close")},serializeCriteria:function(criteria){for(var _loop=function(){var condition=_Object$keys[_i],hasValidFieldName=criteria.conditions[condition].hasOwnProperty("fieldName")&&!(0,validation/* isEmpty */.xb)(criteria.conditions[condition].fieldName);if(hasValidFieldName){var discardKeys=["valueArray","operatorsDataType","operatorLabel","operator"];discardKeys.forEach((function(key){delete criteria.conditions[condition][key]}))}else delete criteria.conditions[condition]},_i=0,_Object$keys=Object.keys(criteria.conditions);_i<_Object$keys.length;_i++)_loop();return criteria&&criteria.conditions&&0===Object.keys(criteria.conditions).length&&(criteria=null),criteria}}},popups_StateTransitionCriteriavue_type_script_lang_js=StateTransitionCriteriavue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(popups_StateTransitionCriteriavue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,StateTransitionCriteria=component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/271791:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"8f181d382ffbfa8849763c3ada75c3c6.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/94785.js.map