"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[16626],{
/***/472646:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return poMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(538077),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(990260)),api=__webpack_require__(32284),poMixinvue_type_script_lang_js={props:["details","resizeWidget"],data:function(){return{uomEnumMap:{},fieldsMap:{},isLoading:!0}},computed:{isSummary:function(){return"poSummary"===this.$route.name},canShowBillToShowAddress:function(){return!(0,validation/* isEmpty */.xb)(this.details.vendor)||this.isAddressFieldNotEmpty(this.details.billToAddress)},canShowShipToShowAddress:function(){return!(0,validation/* isEmpty */.xb)(this.details.storeRoom)||this.isAddressFieldNotEmpty(this.details.shipToAddress)}},mounted:function(){var _this=this;this.isLoading=!0,Promise.all([this.loadPurchaseOrderModuleMeta(),this.loadLineItemsModuleMeta()]).then((function(){_this.isLoading=!1})).then((function(){_this.autoResize()}))},methods:{autoResize:function(){var _this2=this;this.$nextTick((function(){if(!(0,validation/* isEmpty */.xb)(_this2.$refs["preview-container"])){var height=_this2.$refs["preview-container"].scrollHeight+80,width=_this2.$refs["preview-container"].scrollWidth;_this2.resizeWidget&&_this2.resizeWidget({height:height,width:width})}}))},isAddressFieldNotEmpty:function(value){return value&&(value.city||value.state||value.street||value.country||value.zip)},loadLineItemsModuleMeta:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,data,error,message,fields,uomField;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.get("/v2/modules/meta/purchaseorderlineitems");case 2:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?(message=error.message,_this3.$messsage.error(message||_this3.$t("common._common.error_occured_while_fetching_purchase_order_line_items_module_meta"))):(fields=_this3.$getProperty(data,"meta.fields",[]),uomField=fields.filter((function(field){return"unitOfMeasure"===field.name})),(0,validation/* isEmpty */.xb)(uomField)||(_this3.uomEnumMap=_this3.$getProperty(uomField,[0,"enumMap"],{})));case 6:case"end":return _context.stop()}}),_callee)})))()},loadPurchaseOrderModuleMeta:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get2,data,error,message,fields;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("/v2/modules/meta/purchaseorder");case 2:_yield$API$get2=_context2.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error?(message=error.message,_this4.$messsage.error(message||_this4.$t("common._common.error_occured_while_fetching_purchase_request_module_meta"))):(fields=_this4.$getProperty(data,"meta.fields",[]),fields.forEach((function(field){_this4.$setProperty(_this4.fieldsMap,"".concat(field.name),field)})));case 6:case"end":return _context2.stop()}}),_callee2)})))()},routeToWOSummary:function(id){this.isSummary&&this.$router.push({path:"/app/wo/orders/summary/".concat(id)})}}},mixin_poMixinvue_type_script_lang_js=poMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(mixin_poMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,poMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/116626:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return RfqPreviewParent}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/purchase/rfq/RfqPreviewParent.vue?vue&type=template&id=8472946a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("RfqDefaultPreview",{attrs:{details:_vm.details,resizeWidget:_vm.resizeWidget,pdfSource:_vm.pdfSource}})},staticRenderFns=[],RfqDefaultPreviewvue_type_template_id_2eb9047b_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isLoading?_c("div",{staticClass:"flex-middle justify-content-center"},[_c("spinner",{attrs:{show:!0,size:80}})],1):_c("div",{ref:"preview-container",staticClass:"fc-quotation-con fc-summary-preview-con mT0 overflow-hidden"},[_vm.$org.logoUrl?_c("div",{staticClass:"fc-quotation-logo"},[_c("img",{staticStyle:{width:"100px"},attrs:{src:_vm.$prependBaseUrl(_vm.$org.logoUrl)}})]):_vm._e(),_c("div",{staticClass:"label-txt-black text-uppercase fwBold pT10"},[_vm._v(" "+_vm._s(_vm.$account.org.name)+" ")]),_c("div",{staticClass:"flex-middle justify-content-space width100"},[_c("div",[_c("div",{staticClass:"label-txt-black line-height20"},[_vm.$account.org.street?_c("span",[_vm._v(" "+_vm._s(_vm.$account.org.street+(_vm.$account.org.city?",":""))+" ")]):_vm._e(),_vm.$account.org.city?_c("span",[_vm._v(" "+_vm._s(_vm.$account.org.city+(_vm.$account.org.state?",":""))+" ")]):_vm._e()]),_c("div",{staticClass:"label-txt-black line-height20"},[_vm.$account.org.state?_c("span",[_vm._v(" "+_vm._s(_vm.$account.org.state+(_vm.$account.org.country?",":""))+" ")]):_vm._e(),_vm.$account.org.country?_c("span",[_vm._v(" "+_vm._s(_vm.$helpers.getDiplayNameforCountryISOCode(_vm.$account.org.country)+(_vm.$account.org.zip?",":""))+" ")]):_vm._e()]),_vm.$account.org.zip?_c("div",{staticClass:"label-txt-black line-height20"},[_vm._v(" "+_vm._s(""+_vm.$account.org.zip)+" ")]):_vm._e()]),_c("div",{},[_c("div",{staticClass:"text-right fc-black3-16 fwBold line-height30 "},[_vm._v(" "+_vm._s(_vm.$t("common.products._rfq"))+" ")]),_c("div",{staticClass:"label-txt-black text-right fwBold"},[_vm._v(" "+_vm._s(_vm.$t("common.products.rfq_#")+" "+_vm.details.id)+" ")]),_c("div",{staticClass:"mT10 text-right label-txt-black text-uppercase  d-flex  justify-content-space items-baseline"},[_c("div",{staticClass:"fwBold mR10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.requested_date"))+" ")]),_c("div",[_vm._v(" "+_vm._s(_vm._f("formatDate")(_vm.details.requestedDate,!0))+" ")])]),_c("div",{staticClass:"mT10 text-right label-txt-black  d-flex  justify-content-space items-baseline"},[_c("div",{staticClass:"fwBold text-uppercase mR10"},[_vm._v(" "+_vm._s(_vm.$t("common.inventory.rfq_type"))+" ")]),_c("div",[_vm._v(" "+_vm._s(_vm.getRfqType)+" ")])])])]),_c("div",{staticClass:"fc-quotation-bill-con clearboth"},[_c("div",{staticClass:"pB10 padding-remove-bottom-pdf"},[_vm.isAddressFieldNotEmpty(_vm.$getProperty(_vm.details,"shipToAddress"))?_c("div",{staticClass:"rfq-border"},[_c("div",{staticClass:"p10"},[_c("span",{staticClass:"fc-black-12 text-left fc-bill-to-txt position-relative"},[_vm._v(" "+_vm._s(_vm.$t("common.header.shipping_address"))+" ")]),_vm.$getProperty(_vm.details,"shipToAddress.street")?_c("div",{staticClass:"fc-black-13 text-left line-height25 pT15"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.details,"shipToAddress.street","")+(_vm.$getProperty(_vm.details,"shipToAddress.city")?",":""))+" ")]):_vm._e(),_vm.$getProperty(_vm.details,"shipToAddress.city")?_c("div",{staticClass:"fc-black-13 text-left line-height25"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.details,"shipToAddress.city","")+(_vm.$getProperty(_vm.details,"shipToAddress.state")?",":""))+" ")]):_vm._e(),_vm.$getProperty(_vm.details,"shipToAddress.state")?_c("div",{staticClass:"fc-black-13 text-left line-height25"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.details,"shipToAddress.state","")+(_vm.$getProperty(_vm.details,"shipToAddress.country")?",":""))+" ")]):_vm._e(),_vm.$getProperty(_vm.details,"shipToAddress.country")?_c("div",{staticClass:"fc-black-13 text-left line-height25"},[_vm._v(" "+_vm._s(_vm.$helpers.getDiplayNameforCountryISOCode(_vm.$getProperty(_vm.details,"shipToAddress.country",""))+(_vm.$getProperty(_vm.details,"shipToAddress.zip")?",":""))+" ")]):_vm._e(),_vm.$getProperty(_vm.details,"shipToAddress.zip")?_c("div",{staticClass:"fc-black-13 text-left line-height25"},[_vm._v(" "+_vm._s(""+_vm.$getProperty(_vm.details,"shipToAddress.zip",""))+" ")]):_vm._e()])]):_vm._e(),_c("div",{staticClass:"rfq-border"},[_c("div",{staticClass:"p10 line-height20"},[_c("span",{staticClass:"fc-black-12 text-left fwBold",staticStyle:{"padding-right":"85px"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.ship_to")))]),_vm._v(" "+_vm._s(_vm.$getProperty(_vm.details,"storeRoom.name","---"))+" ")])]),_c("div",{staticClass:"rfq-border"},[_c("div",{staticClass:"p10 line-height20"},[_c("span",{staticClass:"fc-black-12 text-left text-uppercase fwBold",staticStyle:{"padding-right":"78px"}},[_vm._v(" "+_vm._s(_vm.$t("common.products.subject")))]),_vm._v(" "+_vm._s(_vm.details.name)+" ")])]),_c("div",{staticClass:"p10 line-height20"},[_c("span",{staticClass:"fc-black-12 text-left fwBold pR50"},[_vm._v(" "+_vm._s(_vm.$t("common._common.description")))]),_vm._v(" "+_vm._s(_vm.$getProperty(_vm.details,"description","---"))+" ")])])]),_c("RfqLineItemsTable",{attrs:{details:_vm.details,uomEnumMap:_vm.uomEnumMap,pdfSource:_vm.pdfSource}}),_c("div",{staticClass:"pT20 fc-show-only-pdf"},[_c("div",[_vm._v(_vm._s(_vm.$t("common.products.yours_truly")))]),_c("div",{staticClass:"pT10 pB10 width100px height50"}),_c("div",{staticClass:"fc-black-13 text-left pT10"},[_vm._v(" "+_vm._s(_vm.$t("common.header.authorized_signatory"))+" ")])])],1)])},RfqDefaultPreviewvue_type_template_id_2eb9047b_scoped_true_staticRenderFns=[],poMixin=__webpack_require__(472646),RfqLineItemsTablevue_type_template_id_70e1c322_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.details.requestForQuotationLineItems)?_vm._e():_c("div",{staticClass:"mT20 scrollbox"},[_c("table",{staticClass:"fc-quotation-summary-table fc-quotation-table"},[_c("thead",[_c("tr",[_c("th",{staticClass:"text-left",staticStyle:{width:"40px"}},[_vm._v(" "+_vm._s(_vm.$t("quotation.common.s_no"))+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"240px"}},[_vm._v(" "+_vm._s(_vm.$t("quotation.common.item_and_description"))+" ")]),_c("th",{staticClass:"width100px text-left",staticStyle:{width:"80px"}},[_vm._v(" "+_vm._s(_vm.$t("quotation.common.qty"))+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"50px"}},[_vm._v(" "+_vm._s(_vm.$t("quotation.common.uom"))+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"50px"}},[_vm._v(" "+_vm._s(_vm.$t("common.products.awarded_price"))+" "+_vm._s("("+_vm.$currency+")")+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"50px"}},[_vm._v(" "+_vm._s(_vm.$t("common.inventory.tax_amount"))+" "+_vm._s("("+_vm.$currency+")")+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"132px"}},[_vm._v(" "+_vm._s(_vm.$t("common.products.awarded_to"))+" ")]),_c("th",{staticClass:"text-left",staticStyle:{width:"132px"}},[_vm._v(" "+_vm._s(_vm.$t("quotation.common.amount"))+" "+_vm._s("("+_vm.$currency+")")+" ")])])]),_c("tbody",_vm._l(_vm.details.requestForQuotationLineItems,(function(tableDetail,lineItemIndex){return _c("tr",{key:"lineItem_"+lineItemIndex},[_c("td",{staticClass:"text-center"},[_vm._v(" "+_vm._s(lineItemIndex+1)+" ")]),_c("td",[1===tableDetail.inventoryType?_c("div",{},[_c("div",{staticClass:"bold"},[_vm._v(" "+_vm._s(_vm.$getProperty(tableDetail,"itemType.name"))+" ")])]):_vm._e(),2===tableDetail.inventoryType?_c("div",{},[_c("div",{staticClass:"bold"},[_vm._v(" "+_vm._s(_vm.$getProperty(tableDetail,"toolType.name"))+" ")])]):_vm._e(),3===tableDetail.inventoryType?_c("div",{},[_c("div",{staticClass:"bold"},[_vm._v(" "+_vm._s(_vm.$getProperty(tableDetail,"service.name"))+" ")])]):_vm._e(),_c("span",{staticClass:"label-txt-black block space-preline",class:[4!==tableDetail.inventoryType&&"pT5"]},[_vm._v(_vm._s(tableDetail.description))])]),_c("td",{staticClass:"text-center"},[_vm._v(" "+_vm._s(tableDetail.quantity)+" ")]),_c("td",{staticClass:"text-left"},[_vm._v(" "+_vm._s(_vm.uomEnumMap[tableDetail.unitOfMeasure]||"---")+" ")]),_c("td",{class:_vm.lineItemTableClass(tableDetail.awardedPrice,"text-right")},[_vm._v(" "+_vm._s(_vm.awardedPrice(tableDetail))+" ")]),_c("td",{class:_vm.lineItemTableClass(tableDetail.taxAmount,"text-right")},[_vm._v(" "+_vm._s(_vm.taxAmount(tableDetail))+" ")]),_c("td",{class:_vm.lineItemTableClass(tableDetail.awardedTo,"text-center")},[_vm._v(" "+_vm._s(_vm.awardedTo(tableDetail))+" ")]),_c("td",{class:_vm.lineItemTableClass(tableDetail.totalCost,"text-right")},[_vm._v(" "+_vm._s(_vm.amount(tableDetail))+" ")])])})),0)])])},RfqLineItemsTablevue_type_template_id_70e1c322_scoped_true_staticRenderFns=[],validation=__webpack_require__(990260),RfqLineItemsTablevue_type_script_lang_js={props:["details","uomEnumMap","pdfSource"],methods:{
// unitPrice(unitPrice) {
//   return !isEmpty(unitPrice) ? this.$d3.format(',.2f')(unitPrice) : '---'
// },
awardedPrice:function(tableDetail){var _ref=tableDetail||{},awardedPrice=_ref.awardedPrice;return(0,validation/* isEmpty */.xb)(awardedPrice)||"vendorQuotes"===this.pdfSource?"---":this.$d3.format(",.2f")(awardedPrice)},taxAmount:function(tableDetail){var _ref2=tableDetail||{},taxAmount=_ref2.taxAmount;return(0,validation/* isEmpty */.xb)(taxAmount)||"vendorQuotes"===this.pdfSource?"---":this.$d3.format(",.2f")(taxAmount)},awardedTo:function(tableDetail){var awardedTo=this.$getProperty(tableDetail,"awardedTo.name");return(0,validation/* isEmpty */.xb)(awardedTo)||"vendorQuotes"===this.pdfSource?"---":awardedTo},amount:function(tableDetail){var _ref3=tableDetail||{},totalCost=_ref3.totalCost;return(0,validation/* isEmpty */.xb)(totalCost)||"vendorQuotes"===this.pdfSource?"---":this.$d3.format(",.2f")(totalCost)},lineItemTableClass:function(value,align){return(0,validation/* isEmpty */.xb)(value)?"text-center empty-text-rfq":align}}},components_RfqLineItemsTablevue_type_script_lang_js=RfqLineItemsTablevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_RfqLineItemsTablevue_type_script_lang_js,RfqLineItemsTablevue_type_template_id_70e1c322_scoped_true_render,RfqLineItemsTablevue_type_template_id_70e1c322_scoped_true_staticRenderFns,!1,null,"70e1c322",null)
/* harmony default export */,RfqLineItemsTable=component.exports,sanitize=__webpack_require__(678042),RfqDefaultPreviewvue_type_script_lang_js={props:["pdfSource"],mixins:[poMixin/* default */.Z],components:{RfqLineItemsTable:RfqLineItemsTable},created:function(){this.sanitize=sanitize/* sanitize */.N},computed:{getRfqType:function(){var rfqType=this.$getProperty(this.details,"rfqType");return(0,validation/* isEmpty */.xb)(rfqType)||"CLOSED_BID"!=rfqType?this.$t("common.inventory.open_bid"):this.$t("common.inventory.closed_bid")}}},rfq_RfqDefaultPreviewvue_type_script_lang_js=RfqDefaultPreviewvue_type_script_lang_js,RfqDefaultPreview_component=(0,componentNormalizer/* default */.Z)(rfq_RfqDefaultPreviewvue_type_script_lang_js,RfqDefaultPreviewvue_type_template_id_2eb9047b_scoped_true_render,RfqDefaultPreviewvue_type_template_id_2eb9047b_scoped_true_staticRenderFns,!1,null,"2eb9047b",null)
/* harmony default export */,RfqDefaultPreview=RfqDefaultPreview_component.exports,RfqPreviewParentvue_type_script_lang_js={props:["details","resizeWidget","pdfSource"],components:{RfqDefaultPreview:RfqDefaultPreview}},rfq_RfqPreviewParentvue_type_script_lang_js=RfqPreviewParentvue_type_script_lang_js,RfqPreviewParent_component=(0,componentNormalizer/* default */.Z)(rfq_RfqPreviewParentvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RfqPreviewParent=RfqPreviewParent_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/16626.js.map