"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[81625],{
/***/266385:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type1_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/energyCost/type1/Config.vue?vue&type=template&id=2baee30f&scoped=true
var Config_render,Config_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30"},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"Energy Cost Card")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10 mR20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Title")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1),_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Reading")]),_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,initialReading:_vm.cardDataObj.reading},on:{onReadingSelect:function(reading){return _vm.setReading("reading",reading)}}})],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Period")]),_c("el-select",{staticClass:"width100 pR20 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"multiplier"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Cost - Multiplication Factor ")]),_c("el-input",{staticClass:"width100 pR20 fc-input-full-border2",attrs:{autofocus:_vm.isNew},model:{value:_vm.cardDataObj.multiplier,callback:function($$v){_vm.$set(_vm.cardDataObj,"multiplier",$$v)},expression:"cardDataObj.multiplier"}}),_c("div",{staticClass:"fc-grey2 f11 pT5"},[_vm._v(" * (Multiplication Factor * Reading ) ")])],1)],1)],1)],1),_c("el-tab-pane",{attrs:{label:"Actions",name:"actions"}},[_c("ActionPicker",{ref:"action-picker",attrs:{variables:_vm.variables,elements:[{name:"default",displayName:"Default"}]},model:{value:_vm.cardActions,callback:function($$v){_vm.cardActions=$$v},expression:"cardActions"}},[_c("template",{slot:"element-title"},[_c("div",{staticClass:"pT15"})])],2)],1)],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,loading:_vm.isPreviewLoading}})],1)]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Save")])],1)])])},staticRenderFns=[],defineProperty=__webpack_require__(482482),objectSpread2=__webpack_require__(595082),BaseConfig=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(976801),__webpack_require__(641384)),Configvue_type_script_lang_js={extends:BaseConfig/* default */.Z},base_Configvue_type_script_lang_js=Configvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Configvue_type_script_lang_js,Config_render,Config_staticRenderFns,!1,null,null,null)
/* harmony default export */,Config=component.exports,Card=__webpack_require__(789245),validation=__webpack_require__(990260),ReadingPicker=__webpack_require__(700697),card_constants=__webpack_require__(806186),ActionPicker=__webpack_require__(624817),type1_Configvue_type_script_lang_js={name:"EnergyCostCard1",extends:Config,props:["isNew","cardType","onClose","onGoBack","onCardSave","onCardUpdate","closePopup"],components:{Card:Card/* default */.Z,ReadingPicker:ReadingPicker/* default */.Z,ActionPicker:ActionPicker/* default */.Z},data:function(){return{cardLayout:"energycost_layout_1",isPreviewLoading:!1,resourceProps:["title",{prop:"reading",resourceProps:["moduleName","parentId","fieldName","yAggr","fieldId","dataType"]},"multiplier","dateRange"],cardDataObj:{title:"",reading:{yAggr:"sum"},dateRange:"Current Month",multiplier:.41},cardState:{canResize:!1,styles:{}},activeTab:"config",layout:{w:24,h:12},cardActions:{default:{actionType:"showTrend"}},readingPickerOptions:{parentId:{type:"single"},fieldName:{type:"single"},fieldId:{type:"single"},dataType:{type:"single"},moduleName:{type:"single"},parentName:{type:"single"},parentType:{type:"single"},yAggr:{type:"single"}},result:null,validationRules:{},dateOperators:card_constants/* dateOperators */._M,aggregateFunctions:card_constants/* aggregateFunctions */.rD}},computed:{previewData:function(){return(0,validation/* isEmpty */.xb)(this.result)?{value:{value:null},period:"This Month"}:this.result.data}},methods:{setReading:function(prop,reading){if(reading){var cardDataObj=this.cardDataObj;this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,reading))),this.setConditionalVariables(reading)}},validateProperty:function(){return{reading:function(data){var readingProp=this.resourceProps.find((function(prop){return(0,validation/* isObject */.Kn)(prop)?"reading"===prop.prop:"reading"===prop}));if((0,validation/* isObject */.Kn)(readingProp)){var resourceProps=readingProp.resourceProps,nullableFields=["fieldId","dataType"],hasEmptyField=!1;return resourceProps.forEach((function(prop){!nullableFields.includes(prop)&&(0,validation/* isEmpty */.xb)(data["reading"][prop])&&(hasEmptyField=!0)})),hasEmptyField}return(0,validation/* isEmpty */.xb)(data["reading"])}.bind(this)}}}},energyCost_type1_Configvue_type_script_lang_js=type1_Configvue_type_script_lang_js,Config_component=(0,componentNormalizer/* default */.Z)(energyCost_type1_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,"2baee30f",null)
/* harmony default export */,type1_Config=Config_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/81625.js.map