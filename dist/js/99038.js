"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[99038],{
/***/599038:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return FailureClassList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/failureclass/FailureClassList.vue?vue&type=template&id=14659286
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isSummaryOpen?_c("div",{staticClass:"height100"},[_vm.showLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("Spinner",{attrs:{show:_vm.showLoading,size:"80"}})],1):_c("div",{staticClass:"flex flex-row"},[_c("div",{staticClass:"cm-side-bar-container"},[_c("SummarySidebar",{attrs:{list:_vm.records,isLoading:_vm.isLoading,activeRecordId:_vm.selectedRecordId,total:_vm.recordCount,currentCount:(_vm.records||[]).length},on:{"update:isLoading":function($event){_vm.isLoading=$event},"update:is-loading":function($event){_vm.isLoading=$event}},scopedSlots:_vm._u([{key:"title",fn:function(){return[_c("el-row",{staticClass:"cm-sidebar-header"},[_c("el-col",{attrs:{span:2}},[_c("span",{on:{click:function($event){return _vm.openList()}}},[_c("inline-svg",{staticClass:"rotate-90 pointer",attrs:{src:"svgs/arrow",iconClass:"icon icon-sm"}})],1)]),_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(_vm.currentViewDetail))])])],1)]},proxy:!0},{key:"default",fn:function(ref){var record=ref.record;return[_c("router-link",{staticClass:"cm-sidebar-list-item label-txt-black main-field-column",attrs:{tag:"div",to:_vm.redirectToOverview(record.id)}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                placement: 'top',\n                animation: 'shift-away',\n                arrow: true,\n              }"}],staticClass:"f14 truncate-text",attrs:{title:record[_vm.mainFieldName]||"---"}},[_vm._v(" "+_vm._s(record[_vm.mainFieldName]||"---")+" ")])])]}}],null,!1,622461553)})],1),_c("div",{staticClass:"flex-1"},[_c("router-view",{attrs:{viewname:_vm.viewname}})],1)])]):_c("CommonListLayout",{key:_vm.moduleName+"-list-layout",staticClass:"custom-module-list-layout",attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.moduleDisplayName},pathPrefix:_vm.parentPath,hideSubHeader:_vm.canHideSubHeader,recordCount:_vm.recordCount,recordLoading:_vm.showLoading},scopedSlots:_vm._u([{key:"header",fn:function(){return[_vm.canHideFilter?_vm._e():_c("AdvancedSearchWrapper",{attrs:{filters:_vm.filters,moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}}),_vm.canShowVisualSwitch?[_c("visual-type",{on:{onSwitchVisualize:function(val){return _vm.canShowListView=val}}})]:_vm._e(),_c("CustomButton",{staticClass:"custom-button",attrs:{moduleName:_vm.moduleName,position:_vm.POSITION.LIST_TOP},on:{onSuccess:_vm.onCustomButtonSuccess,onError:function(){}}}),_vm.hasPermission("CREATE")?[_c("button",{staticClass:"fc-create-btn",on:{click:function($event){return _vm.openFailureClassForm()}}},[_vm._v(" "+_vm._s(_vm.createBtnText)+" ")])]:_vm._e()]},proxy:!0},{key:"sub-header-actions",fn:function(){return[!_vm.isEmpty(_vm.records)&&_vm.showListView?[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12 ",attrs:{total:_vm.recordCount,currentPageCount:_vm.currentPageCount,perPage:_vm.perPage,skipTotalCount:!0}}),_vm.recordCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),"open-delay":500,placement:"top",tabindex:-1}},[_c("Sort",{key:_vm.moduleName+"-sort",attrs:{moduleName:_vm.moduleName},on:{onSortChange:_vm.updateSort}})],1),_vm.hasPermission("EXPORT")?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_vm.hasPermission("EXPORT")?_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),"open-delay":500,placement:"top",tabindex:-1}},[_c("f-export-settings",{attrs:{module:_vm.moduleName,viewDetail:_vm.viewDetail,showViewScheduler:!1,showMail:!1,filters:_vm.filters}})],1):_vm._e()]:_vm._e()]},proxy:!0},{key:"content",fn:function(){return[_vm.showLoading?_c("Spinner",{staticClass:"mT40",attrs:{show:_vm.showLoading}}):_vm.isEmpty(_vm.viewname)?_c("div",{staticClass:"cm-view-empty-state-container"},[_c("inline-svg",{staticClass:"d-flex module-view-empty-state",attrs:{src:"svgs/no-configuration",iconClass:"icon"}}),_c("div",{staticClass:"mB20 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.no_view_config"))+" ")]),_c("el-button",{staticClass:"add-view-btn",attrs:{type:"primary"},on:{click:_vm.openViewCreation}},[_c("span",{staticClass:"btn-label"},[_vm._v(_vm._s(_vm.$t("viewsmanager.list.add_view")))])])],1):_vm.isEmpty(_vm.records)?_c("div",{staticClass:"cm-empty-state-container"},[_c("img",{staticClass:"mT20 self-center",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.emptyStateText)+" ")])]):[_c("div",{staticClass:"cm-list-container"},[_c("div",{staticClass:"column-customization-icon",attrs:{disabled:!_vm.isColumnCustomizable},on:{click:_vm.toShowColumnSettings}},[_c("el-tooltip",{attrs:{disabled:_vm.isColumnCustomizable,placement:"top",content:_vm.$t("common._common.you_dont_have_permission")}},[_c("inline-svg",{staticClass:"text-center position-absolute icon",attrs:{src:"column-setting"}})],1)],1),_vm.isEmpty(_vm.selectedListItemsIds)?_vm._e():_c("div",{staticClass:"pull-left table-header-actions"},[_c("div",{staticClass:"action-btn-slide btn-block"},[_c("button",{staticClass:"btn btn--tertiary pointer",on:{click:function($event){return _vm.deleteRecords(_vm.selectedListItemsIds)}}},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.delete"))+" ")])]),_c("CustomButton",{key:_vm.moduleName+"_"+_vm.viewname+"_"+_vm.POSITION.LIST_BAR,staticClass:"custom-button",attrs:{modelDataClass:_vm.modelDataClass,moduleName:_vm.moduleName,position:_vm.POSITION.LIST_BAR,selectedRecords:_vm.selectedListItemsObj},on:{onSuccess:_vm.onCustomButtonSuccess,onError:function(){}}})],1),_c("CommonList",{key:"viewname-"+_vm.viewname,attrs:{viewDetail:_vm.viewDetail,records:_vm.records,moduleName:_vm.moduleName,redirectToOverview:_vm.redirectToOverview,slotList:_vm.slotList,canShowCustomButton:"true",refreshList:_vm.onCustomButtonSuccess},on:{"selection-change":_vm.selectItems},scopedSlots:_vm._u([{key:_vm.slotList[0].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"fc-id"},[_vm._v(_vm._s("#"+record[_vm.slotList[0].name]))])])]}},{key:_vm.slotList[1].criteria,fn:function(ref){var record=ref.record;return[_c("router-link",{staticClass:"d-flex fw5 label-txt-black ellipsis main-field-column",attrs:{to:_vm.redirectToOverview(record.id)}},[record[_vm.photoFieldName]>0?_c("div",[_c("img",{staticClass:"img-container",attrs:{src:record.getImage(_vm.photoFieldName)}})]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:record.name||"---",placement:"top-end","open-delay":600}},[_c("div",{staticClass:"self-center width200px"},[_c("span",{staticClass:"list-main-field"},[_vm._v(_vm._s(record.name||"---"))])])])],1)]}},{key:_vm.slotList[2].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex text-center"},[_vm.hasPermission("EDIT,UPDATE")&&record.canEdit()?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.openFailureClassForm(record)}}}):_vm._e(),_vm.hasPermission("DELETE")?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.invokeDeleteDialog(record)}}}):_vm._e()])]}}],null,!0)})],1)],_c("ColumnCustomization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.moduleName,viewName:_vm.viewname},on:{"update:visible":function($event){_vm.showColumnSettings=$event}}})]},proxy:!0}])},[_c("portal",{attrs:{to:"view-manager-link"}},[_c("div",{staticClass:"view-manager-btn",on:{click:_vm.getViewManagerRoute}},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.views_manager"))+" ")])],1)]),_vm.showCreateNewDialog?_c("new-failure-class",{ref:"edit-failure-class",attrs:{canShowFormCreation:_vm.showCreateNewDialog,moduleName:"failureclass",dataId:_vm.failureClassId,moduleDisplayName:"Failure Class"},on:{"update:canShowFormCreation":function($event){_vm.showCreateNewDialog=$event},"update:can-show-form-creation":function($event){_vm.showCreateNewDialog=$event},closeDialog:_vm.closeDialog}}):_vm._e(),_vm.showDialog?_c("DeleteDialog",{attrs:{moduleName:_vm.moduleName,errorMap:_vm.errorMap,id:_vm.deletingRecordId},on:{onClose:function($event){_vm.showDialog=!1}}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),router=(__webpack_require__(169358),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(329435)),CommonModuleList=__webpack_require__(347446),NewFailureClass=__webpack_require__(633438),validation=__webpack_require__(990260),api=__webpack_require__(32284),DeleteDialogvue_type_template_id_3c3be4c3_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"delete-dialog",staticStyle:{padding:"0px",margin:"0px"},attrs:{visible:!0,title:_vm.title,width:"40%","show-close":!1,"append-to-body":!0}},[_c("div",[[_c("span",[_vm._v(_vm._s(_vm.$t("common.failure_class.warning")))]),_c("table",{staticClass:"fc-border4 width100 mT20"},[_c("tr",[_c("th",[_vm._v(_vm._s(_vm.$t("common._common.dependency")))]),_c("th",[_vm._v(_vm._s(_vm.$t("common._common.count")))])]),_vm.errorMap?_vm._l(_vm.errorMap,(function(value,key){return _c("tr",{key:key},[_c("td",[_vm._v(_vm._s(key))]),_c("td",[_vm._v(_vm._s(value))])])})):_vm._e()],2),_c("div",{staticClass:"f-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase cancel-btn-focus btn--danger",attrs:{type:"primary"},on:{click:function($event){return _vm.closeDeleteDialog()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.close"))+" ")])],1)]],2)])},DeleteDialogvue_type_template_id_3c3be4c3_scoped_true_staticRenderFns=[],DeleteDialogvue_type_script_lang_js={props:["moduleName","errorMap","id"],computed:{title:function(){return this.$t("common.header.warning")}},methods:{closeDeleteDialog:function(){this.$emit("onClose")}}},failureclass_DeleteDialogvue_type_script_lang_js=DeleteDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(failureclass_DeleteDialogvue_type_script_lang_js,DeleteDialogvue_type_template_id_3c3be4c3_scoped_true_render,DeleteDialogvue_type_template_id_3c3be4c3_scoped_true_staticRenderFns,!1,null,"3c3be4c3",null)
/* harmony default export */,DeleteDialog=component.exports,FailureClassListvue_type_script_lang_js={name:"FailureClass",props:["moduleName","viewname"],extends:CommonModuleList["default"],components:{NewFailureClass:NewFailureClass/* default */.Z,DeleteDialog:DeleteDialog},data:function(){return{showCreateNewDialog:!1,failureClassId:null,deletingRecordId:null,errorMap:null,showDialog:!1,currentPageCount:null,perPage:50}},computed:{parentPath:function(){return"/app/at/failureclass"}},methods:{invokeDeleteDialog:function(moduleData){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var id,messageString,_yield$API$fetchRecor,error,value,_yield$API$deleteReco,_error,map;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return id=moduleData.id,messageString=_this.$t("common.failure_class.confirm_delete"),_context.next=4,api/* API */.bl.fetchRecord(_this.moduleName,{id:id,fetchChildCount:!0},{force:!0});case 4:if(_yield$API$fetchRecor=_context.sent,error=_yield$API$fetchRecor.error,error){_context.next=18;break}return _context.next=9,_this.$dialog.confirm({title:_this.$t("common.failure_class.delete_fc"),message:_this.$t(messageString),rbDanger:!0,rbLabel:_this.$t("common._common.delete")});case 9:if(value=_context.sent,!value){_context.next=16;break}return _context.next=13,api/* API */.bl.deleteRecord(_this.moduleName,[id]);case 13:_yield$API$deleteReco=_context.sent,_error=_yield$API$deleteReco.error,_error?_this.$message.error(_error):(_this.$message.success(_this.$t("common.failure_class.delete_success")),_this.loadRecords(!0));case 16:_context.next=22;break;case 18:_this.deletingRecordId=id,map=JSON.parse(error.message),_this.errorMap=map,_this.showDialog=!0;case 22:case"end":return _context.stop()}}),_callee)})))()},closeDialog:function(id){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.loadRecords(!0);case 2:id>0&&_this2.redirectToOverview(id),_this2.showCreateNewDialog=!1;case 4:case"end":return _context2.stop()}}),_callee2)})))()},openFailureClassForm:function(data){if((0,validation/* isEmpty */.xb)(data))this.$set(this,"failureClassId",null);else{var id=data.id;this.$set(this,"failureClassId",id)}this.showCreateNewDialog=!0},getCreatedTime:function(record){var sysCreatedTime=record.sysCreatedTime;return this.$options.filters.fromNow(sysCreatedTime)},
// route redirection handling
openList:function(){var viewname=this.viewname;if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST)||{},name=_ref.name;name&&this.$router.push({name:name,params:{viewname:viewname},query:this.$route.query})}else this.$router.push({name:"failure-class-list",params:{viewname:viewname},query:this.$route.query});this.loadRecords(!0)},redirectToOverview:function(id){var moduleName=this.moduleName,viewname=this.viewname,$route=this.$route,query=$route.query;if((0,router/* isWebTabsEnabled */.tj)()){var _ref2=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref2.name,route={name:name,params:{viewname:viewname,id:id},query:query};return name&&route}return{name:"failure-class-summary",params:{viewname:viewname,id:id},query:query}}}},failureclass_FailureClassListvue_type_script_lang_js=FailureClassListvue_type_script_lang_js,FailureClassList_component=(0,componentNormalizer/* default */.Z)(failureclass_FailureClassListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FailureClassList=FailureClassList_component.exports},
/***/633438:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewFailureClass}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),validation=__webpack_require__(990260),NewFailureCode=__webpack_require__(301632),NewFailureClassvue_type_script_lang_js={extends:NewFailureCode["default"],props:["canShowFormCreation"],methods:{closeDialog:function(code){this.$emit("update:canShowFormCreation",!1),this.$emit("closeDialog",code)},saveRecord:function(data){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var formObj,moduleDataId,moduleDisplayName,moduleName,formId,successMsg,failureclassToSave,response,_ref,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(formObj=_this.formObj,moduleDataId=_this.moduleDataId,moduleDisplayName=_this.moduleDisplayName,moduleName=_this.moduleName,formId=null===formObj||void 0===formObj?void 0:formObj.id,successMsg="",failureclassToSave=_this.$helpers.cloneObject(data),(0,validation/* isEmpty */.xb)(moduleDataId)?successMsg="".concat(moduleDisplayName," created successfully!"):(successMsg="".concat(moduleDisplayName," updated successfully!"),failureclassToSave.id=moduleDataId),_this.isSaving=!0,(0,validation/* isEmpty */.xb)(formId)||(failureclassToSave.formId=formId),response={},!(0,validation/* isEmpty */.xb)(moduleDataId)){_context.next=14;break}return _context.next=11,api/* API */.bl.createRecord(moduleName,{data:failureclassToSave});case 11:response=_context.sent,_context.next=17;break;case 14:return _context.next=16,api/* API */.bl.updateRecord(moduleName,{id:moduleDataId,data:failureclassToSave});case 16:response=_context.sent;case 17:_ref=response||{},error=_ref.error,_this.isSaving=!1,error?_this.$message.error((null===error||void 0===error?void 0:error.message)||_this.$t("common.failure_class.error_occured")):(_this.$message.success(successMsg),response.failureclass?_this.closeDialog(response.failureclass.id):_this.closeDialog());case 20:case"end":return _context.stop()}}),_callee)})))()}}},forms_NewFailureClassvue_type_script_lang_js=NewFailureClassvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_NewFailureClassvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewFailureClass=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/301632:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return NewFailureCode}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/failureclass/forms/NewFailureCode.vue?vue&type=template&id=2e516b41
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showCreateNewDialog?_c("el-dialog",{attrs:{visible:_vm.showCreateNewDialog,"before-close":_vm.closeDialog,"append-to-body":!0,title:_vm.moduleDisplayName,fullscreen:!0,"custom-class":"fc-dialog-form setup-dialog-right setup-dialog50 setup-dialog fc-web-form-dialog f-webform-right-dialog"},on:{"update:visible":function($event){_vm.showCreateNewDialog=$event}}},[_c("div",{staticClass:"f-form-header pT10 pB10 pL40 pR40 d-flex"},[_c("div",{staticClass:"f-form-title mT10"},[_vm._v(_vm._s(this.moduleDisplayName))]),_vm.forms.length>1?_c("el-select",{staticClass:"fc-input-full-border-select2 mL-auto width25",attrs:{"value-key":"name"},model:{value:_vm.selectedForm,callback:function($$v){_vm.selectedForm=$$v},expression:"selectedForm"}},_vm._l(_vm.forms,(function(form,index){return _c("el-option",{key:index,attrs:{value:form,label:form.displayName}})})),1):_vm._e()],1),_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("f-webform",{attrs:{form:_vm.formObj,module:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,formLabelPosition:"top",isSaving:_vm.isSaving,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,isEdit:!_vm.$validation.isEmpty(_vm.dataId)},on:{"update:form":function($event){_vm.formObj=$event},save:_vm.saveRecord,cancel:_vm.closeDialog}})],1):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),FormCreation=__webpack_require__(373729),validation=__webpack_require__(990260),NewFailureCodevue_type_script_lang_js={extends:FormCreation/* default */.Z,props:["canShowFormCreation","moduleName","moduleDisplayName","dataId"],computed:{moduleDataId:function(){return this.dataId},showCreateNewDialog:function(){return this.canShowFormCreation}},methods:{closeDialog:function(code){this.$emit("update:canShowFormCreation",!1),null!==code&&void 0!==code&&code.id?this.$emit("closeDialog",code):this.dataId&&this.$emit("closeDialog")},saveRecord:function(data){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var formObj,moduleDisplayName,moduleName,formId,successMsg,failurecodeToSave,response,_ref,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(formObj=_this.formObj,moduleDisplayName=_this.moduleDisplayName,moduleName=_this.moduleName,formId=null===formObj||void 0===formObj?void 0:formObj.id,successMsg="",failurecodeToSave=_this.$helpers.cloneObject(data),(0,validation/* isEmpty */.xb)(_this.dataId)||(successMsg="".concat(moduleDisplayName," updated successfully!"),failurecodeToSave.id=_this.dataId),_this.isSaving=!0,(0,validation/* isEmpty */.xb)(formId)||(failurecodeToSave.formId=formId),response={},!(0,validation/* isEmpty */.xb)(_this.dataId)){_context.next=14;break}return _context.next=11,api/* API */.bl.createRecord(moduleName,{data:failurecodeToSave});case 11:response=_context.sent,_context.next=17;break;case 14:return _context.next=16,api/* API */.bl.updateRecord(moduleName,{id:_this.dataId,data:failurecodeToSave});case 16:response=_context.sent;case 17:_ref=response||{},error=_ref.error,_this.isSaving=!1,error?_this.$message.error((null===error||void 0===error?void 0:error.message)||"Error occured while saving Failure Code"):(successMsg&&_this.$message.success(successMsg),(0,validation/* isEmpty */.xb)(_this.dataId)?_this.closeDialog(response.failurecode):_this.closeDialog());case 20:case"end":return _context.stop()}}),_callee)})))()}}},forms_NewFailureCodevue_type_script_lang_js=NewFailureCodevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_NewFailureCodevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewFailureCode=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/99038.js.map