"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[8094,48728],{
/***/938084:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type2_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/kpi/type2/Config.vue?vue&type=template&id=0b7c2051&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30"},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"KPI Layout")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section config-panel panel-scroll"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Title")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew},on:{change:function($event){_vm.cardStateObj.expression.name=_vm.cardDataObj.title}},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1)],1),"reading"===_vm.cardDataObj.kpiType?[_c("kpi-reading-picker",{attrs:{initialReading:_vm.cardDataObj.kpi},on:{onReadingSelect:function(reading){return _vm.setReading("kpi",reading)}}}),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Period")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1)],1)]:[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("kpi-reading-picker",{attrs:{type:"moduleKPI",initialReading:_vm.cardDataObj.kpi},on:{onModuleKpiSelect:function(moduleKpi){return _vm.handleModuleKpi(moduleKpi)},onReadingSelect:function(reading){return _vm.setReading("kpi",reading)}}})],1),_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Period")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1),_c("el-col",{attrs:{span:22}},[_c("el-form-item",{staticClass:"mB10"},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Sub Text")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew,clearable:""},model:{value:_vm.cardDataObj.subText,callback:function($$v){_vm.$set(_vm.cardDataObj,"subText",$$v)},expression:"cardDataObj.subText"}})],1)],1),_c("el-col",{attrs:{span:2}},[_c("el-form-item",{staticClass:"mB10 mT25"},[_c("p",{staticClass:"fc-input-label-txt pB5"}),_c("el-popover",{attrs:{placement:"right",width:"250",trigger:"click","popper-class":"f-popover"},model:{value:_vm.showInsertVariablePopover,callback:function($$v){_vm.showInsertVariablePopover=$$v},expression:"showInsertVariablePopover"}},[_c("div",{staticClass:"graphics-insert-variable-container"},[_c("div",{staticClass:"graphics-insert-variable-title"},[_vm._v(" Insert Variable ")]),_c("div",{staticClass:"graphics-insert-variable-filter"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Filter variables"},model:{value:_vm.filterVariablesInput,callback:function($$v){_vm.filterVariablesInput=$$v},expression:"filterVariablesInput"}})],1),_vm.previewData.value.fields?_c("div",{staticClass:"graphics-insert-variable-list"},[_c("ul",_vm._l(_vm.previewData.value.fields.filter((function(v){return!_vm.filterVariablesInput||v.name.toLowerCase().indexOf(_vm.filterVariablesInput.toLowerCase())>=0})),(function(v,index){return _c("li",{key:index,on:{click:function($event){_vm.cardDataObj.subText=_vm.cardDataObj.subText+" ${"+v.name+"}",_vm.showInsertVariablePopover=!1}}},[_vm._v(" "+_vm._s(v.displayName)+" ")])})),0)]):_vm._e()]),_c("el-tooltip",{staticClass:"item",attrs:{slot:"reference",effect:"dark",content:"Insert Variable",placement:"top"},slot:"reference"},[_c("el-button",{staticStyle:{padding:"2px 8px","font-size":"24px"},attrs:{icon:"el-icon-s-order",type:"text"}})],1)],1)],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"baseline"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Baseline")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.baseline,callback:function($$v){_vm.$set(_vm.cardDataObj,"baseline",$$v)},expression:"cardDataObj.baseline"}},[_vm._l(_vm.baselines,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.name,value:dateRange.name}})]}))],2)],1)],1)],1)]],2),_c("el-tab-pane",{attrs:{label:"Styles",name:"styles"}},[_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"primaryColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Primary Text")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"primaryColor"+_vm.cardStateObj.styles.primaryColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.primaryColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"primaryColor",$$v)},expression:"cardStateObj.styles.primaryColor"}})],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"secondaryColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Secondary Text")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"secondaryColor"+_vm.cardStateObj.styles.secondaryColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.secondaryColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"secondaryColor",$$v)},expression:"cardStateObj.styles.secondaryColor"}})],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Background Color")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"backgroundColor"+_vm.cardStateObj.styles.backgroundColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.backgroundColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"backgroundColor",$$v)},expression:"cardStateObj.styles.backgroundColor"}})],1)])],1)],1),_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"arrowUpColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Arrow up")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"arrowUpColor"+_vm.cardStateObj.styles.arrowUpColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.arrowUpColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"arrowUpColor",$$v)},expression:"cardStateObj.styles.arrowUpColor"}})],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"arrowDownColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Arrow down")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"arrowDownColor"+_vm.cardStateObj.styles.arrowDownColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.arrowDownColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"arrowDownColor",$$v)},expression:"cardStateObj.styles.arrowDownColor"}})],1)])],1)],1),_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Decimal Place")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please select a decimal Place"},model:{value:_vm.cardStateObj.styles.decimalPlace,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"decimalPlace",$$v)},expression:"cardStateObj.styles.decimalPlace"}},[_vm._l(_vm.decimalPlaces,(function(value,key){return[_c("el-option",{key:key,attrs:{label:key,value:value}})]}))],2)],1)],1),_c("el-col",{attrs:{span:16}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("unit-picker",{staticClass:"pL10",attrs:{unitConfig:_vm.cardStateObj.styles.unitConfig}})],1)],1)],1)],1),_c("el-tab-pane",{attrs:{label:"Actions",name:"actions"}},[_vm.cardActionsMount?_c("ActionPicker",{ref:"action-picker",attrs:{definedActionTypes:_vm.definedActionTypes,variables:_vm.variables,elements:[{name:"default",displayName:"None"}]},model:{value:_vm.cardActions,callback:function($$v){_vm.cardActions=$$v},expression:"cardActions"}},[_c("template",{slot:"element-title"},[_c("div",{staticClass:"pT15"})])],2):_vm._e()],1),_c("el-tab-pane",{attrs:{label:"FORMATTING",name:"conditionalformatting"}},[_c("div",{staticClass:"card-builder-criteria-block"},[_c("ConditionalFormating",{ref:"conditional-formatting",attrs:{variables:_vm.conditionalVariables,cardData:_vm.previewData,cardStyles:_vm.cardStateObj.styles},model:{value:_vm.conditionalFormatting,callback:function($$v){_vm.conditionalFormatting=$$v},expression:"conditionalFormatting"}})],1)])],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,isLoading:_vm.isPreviewLoading,cardParams:_vm.cardDataObj}})],1)])]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Save")])],1)])},staticRenderFns=[],defineProperty=__webpack_require__(482482),createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(634338),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(420629)),NewDateHelper=__webpack_require__(105534),Config=__webpack_require__(760184),Card=__webpack_require__(336496),validation=__webpack_require__(990260),card_constants=__webpack_require__(806186),KpiReadingPicker=__webpack_require__(636783),api=__webpack_require__(32284),Configvue_type_script_lang_js={name:"KpiCard2",extends:Config/* default */.Z,components:{Card:Card/* default */.Z,KpiReadingPicker:KpiReadingPicker/* default */.Z},data:function(){return{cardLayout:"kpicard_layout_2",kpiTypes:card_constants/* kpiTypes */.Gy,baselines:[],showInsertVariablePopover:!1,filterVariablesInput:"",cardActionsMount:!0,moduleKpi:[],resourceProps:["title","kpiType",{prop:"kpi",resourceProps:["kpiId","yAggr"]},"dateRange","subText","baseline"],readingTypes:{Asset:"asset",Space:"space"},modules:[{label:"Maintenance",moduleName:"workorder",license:"MAINTENANCE"},{label:"FDD",moduleName:this.$helpers.isLicenseEnabled("NEW_ALARMS")?"newreadingalarm":"alarm",license:"ALARMS"},{label:"Building performance",moduleName:"energydata",license:"ENERGY"},{label:"Asset",moduleName:"asset",license:"SPACE_ASSET"},{label:"Inventory Request",moduleName:"inventoryrequest",list:[],expand:!1,license:"INVENTORY"},{label:"Item",moduleName:"item",list:[],expand:!1,license:"INVENTORY"},{label:"Contracts",moduleName:"contracts",list:[],expand:!1,license:"CONTRACT"},{label:"Purchaseorder",moduleName:"purchaseorder",list:[],expand:!1,license:"PURCHASE"},{label:"Purchaserequest",moduleName:"purchaserequest",list:[],expand:!1,license:"PURCHASE"},{label:"Visit",moduleName:"visitorlog",list:[],expand:!1,license:"VISITOR"},{label:"contact",moduleName:"contact",list:[],expand:!1,license:"VISITOR"},{label:"Watchlist",moduleName:"watchlist",list:[],expand:!1,license:"VISITOR"},{label:"Visitor",moduleName:"visitor",list:[],expand:!1,license:"VISITOR"}],metrics:[],kpiList:[],cardStateObj:{canResize:!0,styles:{primaryColor:"#110d24",secondaryColor:"#969caf",backgroundColor:"#FFF",arrowUpColor:"#008000",arrowDownColor:"#ff0100",decimalPlace:-1,unitConfig:{unit:null,position:2}},modulekpi:{moduleName:null,kpiId:null},expression:{name:"test",aggr:3,metricId:-1,moduleName:"workorder",siteId:null,dateOperator:22,dateValue:"".concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[1]," "),dateFieldId:null,criteria:{pattern:"(1)",conditions:{1:{fieldName:"__vue_devtool_undefined__",value:"__vue_devtool_undefined__",columnName:"__vue_devtool_undefined__",operatorId:-1}},resourceOperator:!1}}},cardActions:{default:{actionType:"none"}},cardDataObj:{title:"",kpiType:"module",reading:{parentType:"asset",assetCategory:null,kpiId:null},dateRange:"Today",aggr:"avg",subText:"",baseline:"Previous Day"},kpiModule:{moduleName:null,expression:{},aggregateString:"count"},toggleMetricAggregation:!1,timeFields:[],aggregateFunctions:card_constants/* aggregateFunctions */.rD,dateOperators:card_constants/* dateOperators */._M}},created:function(){var _this=this;this.$store.dispatch("loadAssetCategory"),api/* API */.bl.get("/baseline/all").then((function(_ref){var data=_ref.data,error=_ref.error;error||(_this.baselines=data)}))},mounted:function(){this.validationCheck(),this.getKpiList(),this.loadModuleFields()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({previewData:function(){return(0,validation/* isEmpty */.xb)(this.result)?{title:"Kpi card 2",period:"Today",baselinePeriod:"Previous Day",value:{value:""},baselineValue:{value:""}}:this.result.data}},(0,vuex_esm/* mapState */.rn)({assetCategory:function(state){return state.assetCategory},sites:function(state){return state.sites}})),{},{definedActionTypes:function(){var type=this.cardDataObj.kpiType;return"reading"===type?["hyperLink","controlAction","none","showTrend","showReport"]:["hyperLink","controlAction","none","showListView","showReport"]},AssetFilteredKpiList:function(){var _this2=this;return"asset"===this.cardDataObj.reading.parentType?this.kpiList.filter((function(rt){return rt.assetCategoryId===_this2.cardDataObj.reading.assetCategory})):this.kpiList},metric:function(){var _this3=this;return this.data&&this.cardStateObj.expression.aggr?this.metrics.find((function(rt){return rt.id===_this3.cardStateObj.expression.metricId})):this.metrics.length?this.metrics[0]:null},variables:function(){var variables=this.previewData.variables;return variables||[]}}),methods:{validationCheck:function(){var operatorId=this.$getProperty(this,"cardStateObj.expression.criteria.conditions.1.operatorId",null);"__vue_devtool_undefined__"===operatorId&&(this.cardStateObj.expression.criteria.conditions[1].operatorId=-1);var decimalPlace=this.$getProperty(this,"cardStateObj.styles.decimalPlace",null);"Auto"===decimalPlace&&(this.cardStateObj.styles.decimalPlace=-1)},getCardActions:function(){},setDateRange:function(){var _this4=this,type=this.cardDataObj.kpiType;"reading"===type?(this.cardDataObj.dateRange="Today",this.cardActions={default:{actionType:"showTrend"}}):this.cardActions={default:{actionType:"showListView",data:{target:"popup"}}},this.cardActionsMount=!1,setTimeout((function(){_this4.cardActionsMount=!0}),500)},serializeProperty:function(prop,data){if("kpi"===prop)return data.kpi},validateProperty:function(){var _this5=this;return{kpi:function(data){return!!data&&_this5.validateKpi(data)},dateRange:function(){return!1},subText:function(){return!1}}},validateKpi:function(data){var _data$kpi;return null===data||void 0===data||null===(_data$kpi=data.kpi)||void 0===_data$kpi||!_data$kpi.kpiId},handleModuleKpi:function(moduleKpiObj){moduleKpiObj&&moduleKpiObj.id&&(moduleKpiObj.dateOperator&&moduleKpiObj.dateOperator>0?this.cardDataObj.dateRange=this.dateOperators.find((function(rl){return rl.enumValue===moduleKpiObj.dateOperator})).value:this.cardDataObj.dateRange=null)},addKpi:function(){var _this6=this;api/* API */.bl.post("/v2/kpi/module/addOrUpdate",{kpi:this.cardStateObj.expression}).then((function(response){_this6.setKpiResult(response.data.result)}))},setKpiResult:function(result){if(result.kpi){var kpi=result.kpi,obj={kpiId:kpi.id,yAggr:this.aggregateFunctions.find((function(rt){return rt.enumValue===kpi.aggr})).value};this.$set(this.cardDataObj,"kpi",obj),this.getData()}},setDateValue:function(){this.cardStateObj.expression.dateValue="".concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[1]," ")},setMetricAggregation:function(agg){this.cardStateObj.expression.aggr=agg.enumValue,this.toggleMetricAggregation=!1},getModuleObject:function(moduleMetaObject){this.moduleMetaObject=moduleMetaObject},getCriteria:function(criteria){this.cardStateObj.expression.criteria=criteria},showMetricAggregation:function(metric){return!metric||!metric.defaultMetric||(this.toggleMetricAggregation=!1,!1)},loadModuleFields:function(){var _this7=this;this.loading=!0,api/* API */.bl.post("/v2/report/getReportFields",{moduleName:this.cardStateObj.expression.moduleName}).then((function(response){_this7.prepareMetrics(response.data.result),_this7.getTimeFields(response.data.result),_this7.loading=!1}))},getTimeFields:function(result){var _result$meta;null!==result&&void 0!==result&&null!==(_result$meta=result.meta)&&void 0!==_result$meta&&null!==(_result$meta=_result$meta.dimension)&&void 0!==_result$meta&&_result$meta.time&&(this.timeFields=result.meta.dimension.time)},prepareMetrics:function(result){var _this8=this;if(this.metrics=[],result&&result.meta&&result.meta.metrics){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(result.meta.metrics);try{for(_iterator.s();!(_step=_iterator.n()).done;){var metric=_step.value;"actualWorkDuration"===metric.name&&(metric.displayName="Work Duration"),this.metrics.push(metric)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var defaultMetric={};defaultMetric["displayName"]="Number of "+this.modules.find((function(rt){return rt.moduleName===_this8.cardStateObj.expression.moduleName})).label+"s",defaultMetric["defaultMetric"]=!0,defaultMetric["fieldId"]=-1,defaultMetric["name"]="count",defaultMetric["id"]=-1,this.metrics.push(defaultMetric)}},getKpiList:function(){var _this9=this,url="/v2/kpi/list?type=1";api/* API */.bl.get(url).then((function(_ref2){var data=_ref2.data;0===data.responseCode&&(_this9.kpiList=data.result.formulaList)}))},setReading:function(prop,reading){var cardDataObj=this.cardDataObj,kpiId=reading.kpiId;this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,reading))),this.$set(reading,"kpiId",kpiId),this.setConditionalVariables(reading)}}},type2_Configvue_type_script_lang_js=Configvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type2_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,"0b7c2051",null)
/* harmony default export */,type2_Config=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/8094.js.map