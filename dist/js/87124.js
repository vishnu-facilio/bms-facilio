"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[87124],{
/***/687124:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return MyApps}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/personalsettings/MyApps.vue?vue&type=template&id=0adb3ea8&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"user-myapp-list"},[_c("div",[_c("el-table",{staticClass:"fc-setup-table fc-setup-table-p0 fc-setup-table-th-borderTop fc-setup-table-padding10",staticStyle:{width:"100%"},attrs:{data:_vm.myAppsList,height:"calc(100vh - 213px)",fit:!0}},[_c("el-table-column",{attrs:{width:"200",prop:"appName",label:"App Name"},scopedSlots:_vm._u([{key:"default",fn:function(myApps){return[_vm._v(" "+_vm._s(_vm.$getProperty(myApps,"row.application.name"))+" ")]}}])}),_c("el-table-column",{attrs:{width:"480",prop:"description",label:"Description"},scopedSlots:_vm._u([{key:"default",fn:function(myApps){return[_vm._v(" "+_vm._s(_vm.$getProperty(myApps,"row.application.description","---"))+" ")]}}])}),_c("el-table-column",{attrs:{width:"240",label:"Role",prop:"roleName"},scopedSlots:_vm._u([{key:"default",fn:function(myApps){return[_vm._v(" "+_vm._s(_vm.$getProperty(myApps,"row.role.name","---"))+" ")]}}])}),_c("el-table-column",{attrs:{width:"340",prop:"isDefaultApp"},scopedSlots:_vm._u([{key:"default",fn:function(myApps){return[_c("div",{staticClass:"default-apps-icons"},[_vm.$getProperty(myApps,"row.isDefaultMobileApp")?_c("div",{staticClass:"default-app-containter"},[_c("fc-icon",{attrs:{color:"#4aaab7",size:"15",group:"platform",name:"mobile"}}),_c("span",{staticClass:"default-div"},[_vm._v(" "+_vm._s(_vm.$t("setup.workordersettings.default"))+" ")])],1):_vm._e(),_vm.$getProperty(myApps,"row.isDefaultApp")?_c("div",{staticClass:"default-app-containter"},[_c("fc-icon",{attrs:{size:"15",color:"#4aaab7",group:"platform",name:"laptop"}}),_c("span",{staticClass:"default-div"},[_vm._v(" "+_vm._s(_vm.$t("setup.workordersettings.default"))+" ")])],1):_vm._e()])]}}])}),_c("el-table-column",{attrs:{prop:"id"},scopedSlots:_vm._u([{key:"default",fn:function(myApps){return[myApps.row.showDefaultAppOption?_c("MoreOptionPopover",{key:"popover-"+myApps.id+myApps.isDefaultApp+myApps.isDefaultMobileApp,attrs:{data:myApps},on:{refresh:function(data){return _vm.listMyAppsForUser()}}}):_vm._e()]}}])})],1)],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(32284)),MoreOptionPopover=__webpack_require__(312535),validation=__webpack_require__(990260),MyAppsvue_type_script_lang_js={data:function(){return{loading:!1,myAppsList:[],defaultWebApp:null,defaultMobileApp:null}},created:function(){this.listMyAppsForUser()},components:{MoreOptionPopover:MoreOptionPopover/* default */.Z},computed:{summaryId:function(){var id=this.$getProperty(this,"$route.params.id",-1);return parseInt(id)},applicationId:function(){var appId=this.$getProperty(this,"$route.params.appId",-1);return parseInt(appId)}},methods:{refreshList:function(){this.listMyAppsForUser()},listMyAppsForUser:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,error,data,filteredMyApps;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,api/* API */.bl.get("v3/myApps/listMyApps",{},{cacheTimeout:0});case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):(0,validation/* isEmpty */.xb)(data.myApps)||(filteredMyApps=[],data.myApps.forEach((function(myApp){if(!(0,validation/* isEmpty */.xb)(myApp.application)){var _ref=myApp||{},application=_ref.application;"FEATURE_GROUPING"===application.appCategoryEnum||"WORK_CENTERS"===application.appCategoryEnum?myApp.showDefaultAppOption=!0:myApp.showDefaultAppOption=!1,filteredMyApps.push(myApp)}})),_this.myAppsList=filteredMyApps),_this.loading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()}}},personalsettings_MyAppsvue_type_script_lang_js=MyAppsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(personalsettings_MyAppsvue_type_script_lang_js,render,staticRenderFns,!1,null,"0adb3ea8",null)
/* harmony default export */,MyApps=component.exports},
/***/312535:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return MoreOptionPopover}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/users/MoreOptionPopover.vue?vue&type=template&id=264d59e4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dropdown",{attrs:{trigger:"hover"},on:{command:_vm.handleCommand}},[_c("div",{staticClass:"pointer visibility-hide-actions mL5"},[_c("i",{staticClass:"el-icon-more rotate-90"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"isDefaultWebApp",disabled:_vm.defaultWebApp}},[_vm._v(_vm._s("Set as the default for web"))]),_c("el-dropdown-item",{attrs:{command:"isDefaultMobileApp",disabled:_vm.defaultMobileApp}},[_vm._v(_vm._s("Set as the default for mobile"))])],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),validation=__webpack_require__(990260),MoreOptionPopovervue_type_script_lang_js={props:["data"],data:function(){return{visible:!1}},computed:{ouId:function(){var id=this.$getProperty(this,"$route.params.id",-1);return parseInt(id)},defaultWebApp:function(){var data=this.data;return this.$getProperty(data,"row.isDefaultApp")},defaultMobileApp:function(){var data=this.data;return this.$getProperty(data,"row.isDefaultMobileApp")}},methods:{setDefaultApp:function(command){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var data,_ref,row,_ref2,application,ouid,_ref3,id,isMobile,isWeb,_yield$API$get,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return data=_this.data,_ref=data||{},row=_ref.row,_ref2=row||{},application=_ref2.application,ouid=_ref2.ouid,_ref3=application||{},id=_ref3.id,isMobile="isDefaultMobileApp"===command,isWeb="isDefaultWebApp"===command,_context.next=9,api/* API */.bl.get("v3/defaultApp/setUserDefaultApp",{ouIds:[ouid],appId:id,isMobile:isMobile,isWeb:isWeb});case 9:_yield$API$get=_context.sent,error=_yield$API$get.error,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):(_this.$message.success(_this.$t("common._common.default_app_updated_successfully")),_this.$emit("refresh"));case 12:case"end":return _context.stop()}}),_callee)})))()},handleCommand:function(command){(0,validation/* isEmpty */.xb)(command)||this.setDefaultApp(command)}}},users_MoreOptionPopovervue_type_script_lang_js=MoreOptionPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(users_MoreOptionPopovervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,MoreOptionPopover=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/87124.js.map