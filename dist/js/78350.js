(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[78350,71569,20470],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/214090:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CustomViewTableComponent}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/CustomViewTableComponent.vue?vue&type=template&id=8ee38f48&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 row"},[_c("div",{staticClass:"height100 f-list-view"},[_c("CommonListLayout",{attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.moduleDisplayName},cancelRedirect:!0,hideleftViewHeader:!0,pathPrefix:_vm.parentPath,viewName:_vm.viewname},scopedSlots:_vm._u([{key:"views",fn:function(){return[_c("ViewHeader",{staticClass:"custom-view-table-actions",attrs:{target:_vm.targetDetail,moduleName:_vm.moduleName,showRearrange:_vm.showViewRearrange,showCurrentViewOnly:_vm.showSearch,maxVisibleMenu:3,showEditIcon:!0,pathPrefix:_vm.parentPath,retainFilters:_vm.filtersToRetain,cancelRedirect:!0,currentViewName:_vm.viewname,hideleftViewHeader:!0},on:{viewsLoaded:function($event){return _vm.$emit("viewsLoaded")}}})]},proxy:!0},{key:"header",fn:function(){return[_vm.showSearch?_vm._e():[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.listCount,perPage:50}}),_vm.listCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"right"}},[_c("sort",{key:_vm.moduleName+"-sort",attrs:{config:_vm.sortConfig,sortList:_vm.sortConfigLists},on:{onchange:_vm.updateSort}})],1),_c("span",{staticClass:"separator"},[_vm._v("|")])]]},proxy:!0},{key:"content",fn:function(){return[_c("div"),_vm.showLoading?_c("Spinner",{staticClass:"mT40",attrs:{show:_vm.showLoading}}):[_c("div",{staticClass:"fc-list-view fc-list-table-container  fc-table-td-height fc-table-viewchooser pB100 fc-popup-table-height"},[_vm.$validation.isEmpty(_vm.selectedListItems)?_vm._e():_c("div",{staticClass:"pull-left table-header-actions"},[_c("div",{staticClass:"action-btn-slide btn-block"},[_c("button",{staticClass:"btn btn--tertiary pointer",on:{click:function($event){return _vm.showConfirmDelete()}}},[_vm._v(" Delete ")])])]),_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.records,height:"100%",fit:!0},on:{"selection-change":_vm.selectItems}},[_c("template",{slot:"empty"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14"},[_vm._v(" No "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:_vm.moduleName)+" available. ")])]),_vm.$validation.isEmpty(_vm.nameColumn)?_vm._e():_c("el-table-column",{attrs:{label:_vm.nameColumn.displayName,prop:_vm.nameColumn.name,fixed:"","min-width":"250"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"table-subheading"},[_c("div",{staticClass:"d-flex"},[item.row.photoId>0?_c("div",[_c("img",{staticClass:"img-container",attrs:{src:_vm.getImage(item.row.photoId)}})]):_vm._e(),_c("div",{staticClass:"self-center mL5"},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(_vm.nameColumn,item.row)||"---")+" ")])])])]}}],null,!1,1219636622)}),_vm._l(_vm.filteredViewColumns,(function(field,index){return _c("el-table-column",{key:index,attrs:{prop:field.name,label:_vm.getColumnHeaderLabel(field),align:field.field&&"DECIMAL"===field.field.dataTypeEnum?"right":"left","min-width":"230"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return["status"===_vm.$getProperty(field,"name")&&"workorder"===_vm.moduleName?_c("div",{staticClass:"table-subheading",class:{"text-right":"DECIMAL"===_vm.$getProperty(field,"field.dataTypeEnum")}},[_vm._v(" "+_vm._s(_vm.getTicketStatusDisplayName(scope.row))+" ")]):_vm.$validation.isEmpty(field)&&_vm.$validation.isEmpty(field.field)&&23===field.field.displayTypeInt?_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.getDurationColumnValue(field,scope.row))+" ")]):_c("div",{staticClass:"table-subheading",class:{"text-right":field.field&&"DECIMAL"===field.field.dataTypeEnum},on:{click:function($event){return _vm.redirect(field,scope.row)}}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,scope.row)||"---")+" ")])]}}],null,!0)})})),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130"}})],2)],1)]]},proxy:!0}])})],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),ModuleList=(__webpack_require__(689730),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(648324),__webpack_require__(199633)),ViewHeadervue_type_template_id_df40d6aa_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",{staticClass:"subheader-tabs pull-left",class:{"has-more-views":!_vm.$validation.isEmpty(_vm.filteredViews.more)&&!_vm.showCurrentViewOnly}},[_vm.$validation.isEmpty(_vm.filteredViews.more)||_vm.showCurrentViewOnly?_vm._e():[_c("el-dropdown",{staticClass:"pointer more-views-dropdown",attrs:{trigger:"click"},on:{command:_vm.goToView}},[_c("span",{staticClass:"el-dropdown-link"},[_c("inline-svg",{staticClass:"rotate90",attrs:{src:"svgs/header-more"}})],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_vm._l(_vm.filteredViews.more,(function(item,index){return _c("el-dropdown-item",{key:item.name+index,attrs:{command:item}},[_vm._v(" "+_vm._s(item.label)+" ")])})),_vm.showRearrange?_c("el-dropdown-item",{staticClass:"rearrange-option",attrs:{command:"rearrange-views"}},[_vm._v(_vm._s(_vm.$t("setup.users_management.rearrange")))]):_vm._e()],2)],1)],_c("ViewsList",{directives:[{name:"show",rawName:"v-show",value:_vm.showAllViews,expression:"showAllViews"}],attrs:{groupViews:_vm.groupViews,showViewSchedulerListTab:_vm.showScheduledList,showEditIcon:_vm.showEditIcon,moduleName:_vm.moduleName},on:{onChange:_vm.goToView,onClose:function($event){_vm.showAllViews=!1},onDelete:_vm.removeView}}),_c("ViewCustomization",{attrs:{visible:_vm.showReorderPanel,reload:!0,menu:_vm.currentViews,moduleName:_vm.moduleName?_vm.moduleName:""},on:{"update:visible":function($event){_vm.showReorderPanel=$event},onchange:function($event){return _vm.loadViews()}}}),_c("NewView",{attrs:{pathPrefix:_vm.pathPrefix}})],2)},ViewHeadervue_type_template_id_df40d6aa_staticRenderFns=[],validation=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),ViewHeader=__webpack_require__(629039),router=__webpack_require__(329435),ApprovalViewSidePanel=__webpack_require__(967360),ViewHeadervue_type_script_lang_js={extends:ViewHeader/* default */.Z,props:["moduleName","pathPrefix","showCurrentViewOnly","showEditIcon","maxVisibleMenu","showRearrange","retainFilters","cancelRedirect","currentViewName","hideleftViewHeader","target"],components:{ViewsList:ApprovalViewSidePanel/* default */.Z},created:function(){this.init()},data:function(){return{showScheduledList:[],showReorderPanel:!1,showAllViews:!1}},computed:{currentView:function(){return(0,validation/* isEmpty */.xb)(this.currentViewName)?null:this.currentViewName}},methods:{goToView:function(view){var viewname=view.name;if("rearrange-views"!==viewname){var currentTab=this.currentTab,_this$retainFilters=this.retainFilters,retainFilters=void 0===_this$retainFilters?[]:_this$retainFilters,query=this.$route.query,hasRetainableQuery=retainFilters.some((function(filterName){return query.hasOwnProperty(filterName)}));if((0,router/* isWebTabsEnabled */.tj)()&&"popup"!==this.target){var route=(0,router/* findRouteForTab */.OD)(currentTab.id,{pageType:router/* pageTypes */.As.LIST})||{};route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{viewname:viewname},query:hasRetainableQuery?query:null})).catch((function(error){}))}this.$store.dispatch("search/resetFilters")}else this.showReorderPanel=!0},removeView:function(view){var _this=this,groupViews=this.groupViews;groupViews.forEach((function(group){var views=group.views,hasView=views.findIndex((function(v){return v.name===view.name}));if((0,validation/* isEmpty */.xb)(hasView)||views.splice(hasView,1),(0,validation/* isEmpty */.xb)(views)){var index=groupViews.findIndex((function(grp){return grp.name===group.name}));groupViews.splice(index,1);var groupView=groupViews[0];views=groupView.views,_this.goToView(views[0],groupView)}else _this.goToView(views[0],group)}))}}},card_builder_utils_ViewHeadervue_type_script_lang_js=ViewHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(card_builder_utils_ViewHeadervue_type_script_lang_js,ViewHeadervue_type_template_id_df40d6aa_render,ViewHeadervue_type_template_id_df40d6aa_staticRenderFns,!1,null,null,null)
/* harmony default export */,card_builder_utils_ViewHeader=component.exports,vuex_esm=__webpack_require__(420629),DeprecatedCommonLayout=__webpack_require__(714218),CustomViewTableComponentvue_type_script_lang_js={extends:ModuleList["default"],props:["showViewRearrange","viewname","filterJSON","targetDetail"],components:{ViewHeader:card_builder_utils_ViewHeader,CommonListLayout:DeprecatedCommonLayout/* default */.Z},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getTicketStatus"])),{},{view:function(){var viewname=this.viewname;return(0,validation/* isEmpty */.xb)(viewname)?"all":viewname},filtersToRetain:function(){var retainFilters=this.retainFilters;return(0,validation/* isNull */.Ft)(retainFilters)?[]:(0,validation/* isEmpty */.xb)(retainFilters)?["search","includeParentFilter"]:retainFilters},filters:function(){return this.filterJSON?this.filterJSON:null}}),methods:{redirectToOverview:function(row){},getTicketStatusDisplayName:function(record){return(this.getTicketStatus(this.$getProperty(record,"moduleState.id",-1),this.moduleName)||{}).displayName},redirect:function(field,row){
// temp for operational visibility - should be removed
var appNameFromUrl=window.location.pathname.slice(1).split("/")[0];if("operations"===appNameFromUrl&&field.field&&field.field.module&&"custom_buildingperformance"===field.field.module.name){var userFilters={},buildingFieldName=null,timeFieldName=null,url=null;switch(field.name){case"decimal":buildingFieldName=1179738,timeFieldName=1179736,url="/operations/asset/assetperformance/assethealth";break;case"decimal_1":buildingFieldName=1179702,timeFieldName=1179810,url="/operations/omv/visibility/omvisibility";break;case"decimal_2":buildingFieldName=1179685,timeFieldName=1179760,url="/operations/tenants/satisfaction/tenantsatisfaction";break;case"decimal_3":buildingFieldName=1179823,timeFieldName=1179822,url="/operations/sustainability/utilityspend/utilityspends";break;case"decimal_4":buildingFieldName=1179868,timeFieldName=1179866,url="/operations/building/buildingperformance/buildingperformance";break;default:break}if(buildingFieldName&&timeFieldName&&url){this.filterJSON.picklist&&(userFilters[timeFieldName]=["".concat(this.filterJSON.picklist.value)]),row.data&&row.data.building&&(userFilters[buildingFieldName]=["".concat(row.data.building.id)]);var dbFilters={userFilters:userFilters};this.$router.push({path:"".concat(url,"?dbFilters=").concat(encodeURIComponent(JSON.stringify(dbFilters)))})}}}}},components_CustomViewTableComponentvue_type_script_lang_js=CustomViewTableComponentvue_type_script_lang_js,CustomViewTableComponent_component=(0,componentNormalizer/* default */.Z)(components_CustomViewTableComponentvue_type_script_lang_js,render,staticRenderFns,!1,null,"8ee38f48",null)
/* harmony default export */,CustomViewTableComponent=CustomViewTableComponent_component.exports},
/***/786900:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FNewMap}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FNewMap.vue?vue&type=template&id=5acca10c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"smartmap",class:{"mobile-smartmap":_vm.$mobile}},[_vm.mapLoading?_c("div",{staticClass:"mapLoading"},[_c("div",{staticClass:"map-loading-content"},[_vm._v(" Loading... ")])]):_vm._e(),_c("gmap-map",{ref:"mapnew",attrs:{center:_vm.center,zoom:_vm.zoom,options:_vm.mapOptions}},[_vm.isClicked?_c("gmap-info-window",{attrs:{options:{pixelOffset:{width:-0,height:-40}},position:_vm.currentMarker.location}},[[_c("div",{staticClass:"smartmap-info-window visibility-visible-actions"},[_c("div",{staticClass:"p15"},[_c("div",{staticClass:"am-info-row row"},[_c("div",{staticClass:"col-12 text-right"},[_c("i",{staticClass:"el-icon-close pointer f14 bold",on:{click:function($event){_vm.isClicked=!1}}})]),_c("div",{staticClass:"am-info-label  col-12"},[_c("div",{staticClass:"avatar-cotainer"},[_vm.currentMarker.image?_c("img",{staticClass:"fc-avatar fc-avatar-xxlg",attrs:{src:_vm.currentMarker.image}}):_c("div",{staticClass:"fc-avatar fc-avatar-xxlg"},[_c("inline-svg",{attrs:{src:_vm.moduleIcons[_vm.currentMarker.moduleName],iconClass:"default-image-section "}})],1)])]),_c("div",{staticClass:"am-info-label  col-12 pL10 text-center pT10"},[_c("div",{staticClass:"am-id "},[_vm._v("#"+_vm._s(_vm.currentMarker.id))]),_c("div",{staticClass:"am-label am-subject"},[_vm._v(" "+_vm._s(_vm.currentMarker.name)+" ")])])])]),_vm.currentMarker&&_vm.currentMarker.value&&_vm.currentMarker.value.hasOwnProperty("value")?_c("div",{staticClass:"col-12 border-bottom2 "}):_vm._e(),_c("div",{staticClass:"p15 pB0 "},[_vm.currentMarker&&_vm.currentMarker.value&&_vm.currentMarker.value.hasOwnProperty("value")?_c("div",{staticClass:"am-info-label  col-12  text-center "},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-8 label-txt-black f16 self-center"},[_vm._v(" "+_vm._s(_vm.currentMarker&&_vm.currentMarker.value&&_vm.currentMarker.value.label?_vm.currentMarker.value.label:"")+" ")]),_c("div",{staticClass:"col-4 label-txt-black f24"},[_vm._v(" "+_vm._s(_vm.currentMarker&&_vm.currentMarker.value&&_vm.currentMarker.value.hasOwnProperty("value")?_vm.currentMarker.value.value+" "+(_vm.currentMarker.value.hasOwnProperty("unit")?_vm.currentMarker.value.unit:""):"")+" ")])])]):_vm._e()]),_vm.$mobile||_vm.isOperationsApp?_vm._e():_c("div",{staticClass:"col-12 "},[_c("div",{staticClass:"text-right p15 pT10 pB10"},[_c("i",{staticClass:"el-icon-right text-fc-blue f20 pointer",on:{click:function($event){return _vm.jumpToModule(_vm.currentMarker.moduleName,_vm.currentMarker)}}})])])])]],2):_vm._e(),[_vm._l(_vm.markers,(function(d,index){return _vm.isMarkerEnabled?_c("gmap-marker",{key:index,staticClass:"gmarker",attrs:{position:d.location,clickable:!0,draggable:!1,icon:_vm.getParentIcon(d),options:_vm.getOptions(d)},on:{"update:position":function($event){return _vm.$set(d,"location",$event)},click:function($event){return _vm.openInfoWindow(d)}}}):_vm._e()})),_vm.isHeatmapEnabled?_c("gmap-heatmap-layer",{attrs:{data:_vm.markers,options:{maxIntensity:_vm.maxInten,dissipating:!0,gradient:_vm.heatMapStyle.gradient||null,radius:30,opacity:1}}}):_vm._e()]],2)],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),FMAPMixin=(__webpack_require__(339772),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(689730),__webpack_require__(947522),__webpack_require__(879288),__webpack_require__(450886),__webpack_require__(964509)),JumpToHelper=__webpack_require__(921466),card_constants=__webpack_require__(806186),map_constant=__webpack_require__(942930),validation=__webpack_require__(990260),d3=__webpack_require__(348727),FNewMapvue_type_script_lang_js={props:["markers","theme","layers","maxIntensity","styles","mapZoom"],mixins:[FMAPMixin/* default */.Z,JumpToHelper/* default */.Z],data:function(){return{currentMarker:null,mapLoading:!1,isClicked:!1,ishoverd:!1,center:{lat:0,lng:0},
// center: {
//   lat: 25.2048,
//   lng: 55.2708,
// },
zoom:2,assetsMarkers:[],moduleIcons:card_constants/* moduleIcons */.hB,mapTheams:map_constant/* mapTheams */.I,maxInten:0}},created:function(){this.$store.dispatch("loadAssetCategory")},watch:{markers:function(data){var _this=this;this.$refs["mapnew"].$mapPromise.then((function(){_this.setGoogleGeolocationObj(),data.length>1?_this.fitBoundMultiMarkers(data):1===data.length&&_this.fitBoundSingleMarker(data)}))}},mounted:function(){var _this2=this;this.$refs["mapnew"].$mapPromise.then((function(){_this2.setGoogleGeolocationObj(),_this2.markers.length>1?_this2.fitBoundMultiMarkers(_this2.markers):1===_this2.markers.length&&_this2.fitBoundSingleMarker(_this2.markers)}))},computed:{heatMapStyle:function(){return this.isHeatmapEnabled&&this.styles&&!(0,validation/* isEmpty */.xb)(this.styles["heatmap"])?this.styles["heatmap"]:null},isHeatmapEnabled:function(){var layers=this.layers;if(!(0,validation/* isEmpty */.xb)(layers)){var heatmapIndex=layers.findIndex((function(layer){return"heatmap"===layer}));if(heatmapIndex>-1)return!0}return!1},isMarkerEnabled:function(){var layers=this.layers;if(!(0,validation/* isEmpty */.xb)(layers)){var heatmapIndex=layers.findIndex((function(layer){return"marker"===layer}));if(heatmapIndex>-1)return!0;if(-1===heatmapIndex)return!1}return!0},mapOptions:function(){var _this3=this;return this.mapTheams&&this.mapTheams.length&&this.theme?this.mapTheams.find((function(rt){return rt.value===_this3.theme})).theme:{gestureHandling:"cooperative",styles:[]}},isOperationsApp:function(){var appNameFromUrl=window.location.pathname.slice(1).split("/")[0];return"operations"===appNameFromUrl}},methods:{setfitBounds:function(bounds){var _this4=this;if(this.$el){var mapDom={height:this.$el.offsetHeight,width:this.$el.offsetWidth};this.getBoundsZoomLevel(bounds,mapDom)}this.mapZoom?
// this.$refs.mapnew.fitBounds(bounds)
setTimeout((function(){_this4.center=bounds.getCenter(),_this4.$nextTick((function(){_this4.zoom=_this4.mapZoom}))}),1e3):setTimeout((function(){_this4.$refs.mapnew.fitBounds(bounds)}))},getBoundsZoomLevel:function(bounds,mapDim){var WORLD_DIM={height:256,width:256},ZOOM_MAX=21;function latRad(lat){var sin=Math.sin(lat*Math.PI/180),radX2=Math.log((1+sin)/(1-sin))/2;return Math.max(Math.min(radX2,Math.PI),-Math.PI)/2}function zoom(mapPx,worldPx,fraction){return Math.floor(Math.log(mapPx/worldPx/fraction)/Math.LN2)}var ne=bounds.getNorthEast(),sw=bounds.getSouthWest(),latFraction=(latRad(ne.lat())-latRad(sw.lat()))/Math.PI,lngDiff=ne.lng()-sw.lng(),lngFraction=(lngDiff<0?lngDiff+360:lngDiff)/360,latZoom=zoom(mapDim.height,WORLD_DIM.height,latFraction),lngZoom=zoom(mapDim.width,WORLD_DIM.width,lngFraction);return Math.min(latZoom,lngZoom,ZOOM_MAX)},setGoogleGeolocationObj:function(){var _this5=this;this.markers.forEach((function(marker){if(marker.location){var loc=_this5.$helpers.cloneObject(marker.location);marker.location=new window.google.maps.LatLng({lat:Number(loc.lat),lng:Number(loc.lng)}),marker.raWlocation={lat:Number(loc.lat),lng:Number(loc.lng)}}}))},fitBoundMultiMarkers:function(){var _step,bounds=new window.google.maps.LatLngBounds,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.markers);try{for(_iterator.s();!(_step=_iterator.n()).done;){var m=_step.value;bounds.extend(m.location)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var weights=this.markers.map((function(rt){return rt.weight}));this.maxInten=d3.max(weights),this.maxInten<10&&(this.maxInten=10),this.setfitBounds(bounds)},fitBoundSingleMarker:function(data){this.maxInten=data[0].weight||0;var _step2,bounds=new window.google.maps.LatLngBounds,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(this.markers);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var m=_step2.value,location=m.raWlocation,lat=Number(location.lat),lng=Number(location.lng);bounds.extend({lat:lat-.2,lng:lng-.2}),bounds.extend({lat:lat+.2,lng:lng+.2})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}this.setfitBounds(bounds)},getOptions:function(data){if(data)return{pixelOffset:data.markerSvg?{top:-0,bottom:-38}:{width:0,height:0}}},getParentIcon:function(data){if(data)return{url:data.markerSvg,scaledSize:data.scaledSize?data.scaledSize:{width:80,height:80,f:"20px",b:"20px"}}},openInfoWindow:function(data){this.isClicked=!0,this.currentMarker=data},getDefaulModuleImage:function(){return __webpack_require__(339523)}}},components_FNewMapvue_type_script_lang_js=FNewMapvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FNewMapvue_type_script_lang_js,render,staticRenderFns,!1,null,"5acca10c",null)
/* harmony default export */,FNewMap=component.exports},
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/152073:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewConditionalValue}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/NewConditionalValue.vue?vue&type=template&id=0e394610
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm._v(" "+_vm._s(_vm.value)+" ")])},staticRenderFns=[],NewConditionalValuevue_type_script_lang_js={props:["value","conditionalFormatting"],methods:function(){}},components_NewConditionalValuevue_type_script_lang_js=NewConditionalValuevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewConditionalValuevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewConditionalValue=component.exports},
/***/957502:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewGaugeChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/NewGaugeChart.vue?vue&type=template&id=761ac60c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"card-builder-gauge-chart"},[_c("div",{ref:"gauge",staticClass:"p10 gauge",style:{"max-width":_vm.zoom+"%"}})])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),d3=(__webpack_require__(897389),__webpack_require__(450886),__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(634338),__webpack_require__(348727)),cardtooltip=__webpack_require__(960111),card_helpers=__webpack_require__(716956),NewGaugeChartvue_type_script_lang_js={props:["gaugeData","fit"],mixins:[cardtooltip/* default */.Z,card_helpers/* default */.Z],data:function(){return{zoom:100,innerWidth:null,type:"semidoughnut",id:100*Math.random().toFixed(2)}},created:function(){window.addEventListener("resize",this.handleResize)},watch:{gaugeData:{handler:"regen",deep:!0}},mounted:function(){this.handleResize()},methods:{handleResize:function(){this.$el&&(this.innerWidth=this.$el.clientWidth-60),this.zoom=window.devicePixelRatio>1?Math.round(50*window.devicePixelRatio):Math.round(100*window.devicePixelRatio),this.regen()},regen:function(){var _this=this;this.$refs["gauge"]&&(this.$refs["gauge"].innerHTML=""),this.$nextTick((function(){return _this.generate()}))},generate:function(){this.$refs["gauge"]&&(this.$refs["gauge"].innerHTML="");var chartContext={};this.id=100*Math.random().toFixed(2),chartContext.id=this.id,chartContext.selecter=this.$refs["gauge"],chartContext.width=100,chartContext.height=100,chartContext.pointerColor="#122328",chartContext.unitTextSize="0.4vw",chartContext.tickFontSize="0.35vw",chartContext.svg=d3.select(chartContext.selecter).append("svg").attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+Math.min(chartContext.width,chartContext.height)+" "+Math.min(this.gaugeData.config&&1===this.gaugeData.config.type?65:chartContext.height,chartContext.height)).attr("preserveAspectRatio","xMinYMin").append("g"),chartContext.svg.attr("transform","translate("+chartContext.width/2+","+chartContext.height/2+") "),chartContext.data=this.gaugeData,this.draw(chartContext)},centerTranslation:function(r){return"translate("+r+","+r+")"},angToRad:function(ang){return ang*(Math.PI/180)},percentageToAng:function(percentage,config,data){var scale=d3.scaleLinear().range([config.startAngle,config.endAngle]).domain([0,1]);return scale(percentage)},valueToPercentage:function(value,data){var scale=null,_ref=data||0,minValue=_ref.minValue,maxValue=data.maxValue,baseValue=data.baseValue;return baseValue>maxValue?(scale=d3.scaleLinear().range([0,1]).domain([minValue,baseValue]),scale(value)):baseValue<minValue?(scale=d3.scaleLinear().range([0,1]).domain([baseValue,data.maxValue]),scale(value)):(scale=d3.scaleLinear().range([0,1]).domain([minValue,data.maxValue]),scale(value))},calPercentage:function(data){var percentage=0,_ref2=data||0,minValue=_ref2.minValue,maxValue=data.maxValue,baseValue=data.baseValue;if(baseValue>maxValue)return 1;if(baseValue<minValue)return 0;var range=maxValue-minValue,correctedStartValue=baseValue-minValue;return percentage=100*correctedStartValue/range/100,Math.sqrt(percentage*percentage)},calActualPercentage:function(data){var percentage=0,_ref3=data||0,minValue=_ref3.minValue,maxValue=data.maxValue,baseValue=data.baseValue;if(baseValue>maxValue){var range=baseValue-minValue,correctedStartValue=maxValue-minValue;return percentage=100*correctedStartValue/range/100,{maxPercentage:Math.sqrt(percentage*percentage),minPercentage:null}}if(baseValue<minValue){var _range=maxValue-baseValue,_correctedStartValue=minValue-baseValue;return percentage=100*_correctedStartValue/_range/100,{minPercentage:Math.sqrt(percentage*percentage),maxPercentage:null}}return{minPercentage:null,maxPercentage:null}},draw:function(chartContext,newValue){var _this2=this,self=this,_ref4=chartContext.data||null,data=_ref4.data,config=this.getExtaOptions(chartContext.data.config),percentage=this.calPercentage(data),_this$calActualPercen=this.calActualPercentage(data),maxPercentage=_this$calActualPercen.maxPercentage,_this$calActualPercen2=this.calActualPercentage(data),minPercentage=_this$calActualPercen2.minPercentage,startAngle=this.angToRad(config.startAngle),endAngle=this.angToRad(config.endAngle),t=endAngle||Math.PI,width=config.width||100,height=config.height||100,showTooltip=!0;showTooltip=!config.hasOwnProperty("showTooltip")||config.showTooltip;var outerRadius=config.outerRadius||Math.min(width,height)/2-5,innerRadius=config.innerRadius||Math.min(width,height)/2.13-5,outerRadiusDefault=Math.min(width,height)/2-5;chartContext.arc=d3.arc().cornerRadius(outerRadius-innerRadius).innerRadius(innerRadius).outerRadius(outerRadius).startAngle(startAngle),chartContext.tickarc=d3.arc().cornerRadius(outerRadiusDefault-5-(innerRadius-2.5)).innerRadius(innerRadius-2.5).outerRadius(outerRadiusDefault-5),chartContext.bgarc=d3.arc().innerRadius(0).outerRadius(innerRadius).startAngle(startAngle),chartContext.pointerArc=d3.arc().innerRadius(innerRadius).cornerRadius(outerRadius-innerRadius).outerRadius(outerRadius);var svg=chartContext.svg;
// Gradient handling
if(chartContext.defs=svg.append("defs"),config.offsets){chartContext.gradient=chartContext.defs.append("linearGradient").attr("id",(function(){return"svgGradient"+chartContext.id})).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",percentage);for(var colorArrayForThreshold=(0,toConsumableArray/* default */.Z)(config.colors),colorFn=d3.scaleThreshold().domain(config.offsets.map((function(o){return Number(o)}))).range(colorArrayForThreshold),pathColors=config.offsets.map((function(offset){return{color:colorFn(Number(offset)),offset:"".concat(Number(offset),"%"),percentage:offset/100}})),paths=[],i=0;i<pathColors.length;i++){var current=null,pre=null;0!==i&&(current=pathColors[i].percentage,pre=pathColors[i-1].percentage,pathColors[i].percentage<=percentage&&(this.$set(pathColors[i],"start",pre),this.$set(pathColors[i],"end",current),paths.push(pathColors[i])))}if(paths.length&&paths[paths.length-1].current!==percentage){var p=pathColors[paths.length+1],v=paths[paths.length-1];p?(this.$set(p,"start",v.end),this.$set(p,"end",percentage),paths.push(p)):this.$set(paths[paths.length],"end",percentage)}for(var _i=0;_i<paths.length;_i++)this.$set(paths[_i],"clor",pathColors[_i].color);config.paths=paths,pathColors.forEach((function(rt){chartContext.gradient.append("stop").attr("class","start").attr("offset",rt.offset).attr("stop-color",(function(){return rt.color})).attr("stop-opacity",1)}))}else{chartContext.gradient=chartContext.defs.append("linearGradient").attr("id",(function(){return"svgGradient"+chartContext.id})).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");var _pathColors=config.gaugeColors||[{color:"#ff7878",offset:"0%"},{color:"#7d49ff",offset:"31%"},{color:"#514dff",offset:"70%"},{color:"#1eb9b7",offset:"100%"}];_pathColors.forEach((function(rt){chartContext.gradient.append("stop").attr("class","start").attr("offset",rt.offset).attr("stop-color",(function(){return rt.color})).attr("stop-opacity",1)}))}config.gaugeBackgroundColors&&config.gaugeBackgroundColors.length&&(chartContext.bggradient=chartContext.defs.append("linearGradient").attr("id",(function(){return"GaugeBgGradient"+chartContext.id})).attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%"),config.gaugeBackgroundColors.forEach((function(rt){chartContext.bggradient.append("stop").attr("class","start").attr("offset",rt.offset).attr("stop-color",(function(){return rt.color})).attr("stop-opacity",rt.opacity)})));
// Unfilled arc
var fullpath=svg.append("path").datum({endAngle:t}).style("fill","#f1f3f4").attr("d",chartContext.arc).attr("class","arc").attr("transform","rotate(-90)");showTooltip&&fullpath.on("mouseover",(function(d){var tooltipConfig={title1:"",position:{left:d3.event.pageX,top:d3.event.pageY},data:self.getFormatedData(chartContext.data.tooltipdata)};self.showTooltipForCard1(tooltipConfig,"chart-tooltip")})).on("mouseout",(function(d){self.hideTooltip("chart-tooltip")})),
// background color for gauge charts
svg.append("path").datum({startAngle:startAngle,endAngle:this.angToRad(this.percentageToAng(percentage,config,data))}).style("fill",(function(d){return"url(#GaugeBgGradient"+chartContext.id+")"})).attr("d",chartContext.bgarc).attr("class","arc").attr("transform","rotate(-90)"),
// Filled arc (with gradient) arc path
config.offsets?config.paths.reverse().forEach((function(rt){var pathSvg=svg.append("path").datum({startAngle:_this2.angToRad(_this2.percentageToAng(rt.start,config,data)),endAngle:_this2.angToRad(_this2.percentageToAng(rt.end,config,data))}).attr("d",chartContext.arc).attr("class","arc").attr("transform","rotate(-90)").style("fill",(function(){return rt.clor}));showTooltip&&pathSvg.on("mouseover",(function(d){var tooltipConfig={title1:"",position:{left:d3.event.pageX,top:d3.event.pageY},data:self.getFormatedData(chartContext.data.tooltipdata)};self.showTooltipForCard1(tooltipConfig,"chart-tooltip")})).on("mouseout",(function(d){self.hideTooltip("chart-tooltip")}))})):svg.append("path").datum({startAngle:startAngle,endAngle:this.angToRad(this.percentageToAng(percentage,config,data))}).attr("d",chartContext.arc).attr("class","arc").attr("transform","rotate(-90)").style("fill",(function(){return"url(#svgGradient"+chartContext.id+")"})).on("mouseover",(function(d){var tooltipConfig={title1:"",position:{left:d3.event.pageX,top:d3.event.pageY},data:self.getFormatedData(chartContext.data.tooltipdata)};self.showTooltipForCard1(tooltipConfig,"chart-tooltip")})).on("mouseout",(function(d){self.hideTooltip("chart-tooltip")}));
var arcTween=function(transition,newAngle){transition.attrTween("d",(function(d){}))};
// max pointer
maxPercentage?(maxPercentage%=1,chartContext.midground1=svg.append("path").datum({startAngle:this.angToRad(this.percentageToAng(maxPercentage-.005,config,data)),endAngle:this.angToRad(this.percentageToAng(maxPercentage,config,data))}).style("fill","#000").attr("d",chartContext.pointerArc).attr("class","arc").attr("transform","rotate(-90)"),chartContext.midground1.transition().duration(1e3).call(arcTween,maxPercentage*t)):minPercentage&&(minPercentage%=1,chartContext.midground1=svg.append("path").datum({startAngle:this.angToRad(this.percentageToAng(minPercentage-.005,config,data)),endAngle:this.angToRad(this.percentageToAng(minPercentage,config,data))}).style("fill","#000").attr("d",chartContext.pointerArc).attr("class","arc").attr("transform","rotate(-90)"),chartContext.midground1.transition().duration(1e3).call(arcTween,minPercentage*t));
// draw pointer
config.maxAngle,config.minAngle;var pointerHeadLength=Math.round(innerRadius*config.pointerHeadLengthPercent);if(!config.hideneedle){var lineData=[[2,0],[0,-pointerHeadLength],[-2,0],[0,0],[2,0]],pointerLine=d3.line().curve(d3.curveLinear),pg=svg.append("g").data([lineData]).attr("class","pointer").attr("transform","rotate(0)"),pointer=pg.append("path").attr("d",pointerLine).attr("transform","rotate("+config.minAngle+")").attr("fill",config.pointerColor||"#122328");svg.append("circle").attr("cx",0).attr("cy",0).attr("r",5).attr("fill",config.pointerColor||"#122328").attr("transform","rotate("+config.minAngle+")"),svg.append("circle").attr("cx",0).attr("cy",0).attr("r",2).attr("fill","#fff").attr("transform","rotate("+config.minAngle+")"),pointer.transition().duration(config.transitionMs).ease(config.needleAnimation?d3[config.needleAnimation]:d3.easePolyIn).attr("transform","rotate("+(this.percentageToAng(percentage,config,data)-90)+")")}
// end labels
svg.append("text").attr("text-anchor","middle").style("font-size",chartContext.unitTextSize).attr("dy",10).attr("dx",(function(){return config.startLabel&&config.startLabel.length>3?-41:-44})).style("letter-spacing","0.3px").text((function(){return config.startLabel||""})).style("letter-spacing"," 0.3px").style("padding-top"," 5px").attr("fill","#324056").style("letter-spacing","normal").style("font-weight"," 500"),svg.append("text").attr("text-anchor","middle").style("font-size",chartContext.unitTextSize).attr("dy",10).attr("dx",(function(){return config.endLabel&&config.endLabel.length>3?41:43})).style("letter-spacing","0.3px").text((function(){return config.endLabel||""})).style("letter-spacing"," 0.3px").style("padding-top"," 5px").style("letter-spacing","normal").style("font-weight"," 500").attr("fill","#324056");var tooltip=svg.append("g").attr("class","target-meter-group");if(tooltip.append("div").attr("class","target-meter-tooltip").style("background-color","#fff").text("test"),config.ticks&&config.ticks.length&&(chartContext.ticks=svg.append("g").attr("class","label").attr("transform",(function(d){return config.showTicksOutside?"rotate(0) translate(-5,3)":"rotate(0) translate(-3,3)"})),chartContext.ticks.selectAll("text").data(config.ticks).enter().append("g").attr("transform",(function(d){var angle=_this2.percentageToAng(_this2.valueToPercentage(d.value,data),config,data);return config.showTicksOutside?"rotate(".concat(angle-180,") translate(").concat(innerRadius+10,", ",0,")"):"rotate(".concat(angle-180,") translate(").concat(innerRadius-10,", ",0,")")})).style("text-anchor",(function(d,i,n){if(config.showTicksOutside){var len=n.length,current=i+1;return len%2===0?current<=len/2?"middle":"start":current<len/2?"middle":"start"}})).append("text").style("font-size",config.tickFontSize||chartContext.tickFontSize).style("text-transform",(function(){return config.showTicksOutside?"uppercase":null})).style("font-weight",(function(){return config.showTicksOutside?"bold":null})).style("fill",(function(d){return d.color||"#969aa2"})).attr("transform",(function(d){var angle=_this2.percentageToAng(_this2.valueToPercentage(d.value,data),config,data);return"rotate(".concat(-(angle-180),")")})).text((function(d){return d.displayValue}))),config.ticks){svg.valueTicks=svg.append("g").attr("class","innerTicks");for(var tickScale=d3.scaleLinear().range([0,1]).domain([0,100]),step=0;step<100;step++)svg.valueTicks.append("path").datum({startAngle:this.angToRad(this.percentageToAng(tickScale(step),config,data)),endAngle:this.angToRad(this.percentageToAng(tickScale(step+1),config,data))}).style("fill",(function(){return config.ticksColor||"#d4dae6"})).attr("d",chartContext.tickarc).attr("class","arc").attr("transform","rotate(-90)"),step++}},getFormatedData:function(data){var _this3=this,d=[];return data.forEach((function(rt){var t=rt;_this3.$set(t,"value",_this3.formatDecimal(rt.value)),d.push(t)})),d},getExtaOptions:function(config){var type_1={pointerHeadLengthPercent:.8,
// 1 is the maximum
minAngle:-90,maxAngle:90,transitionMs:750,startAngle:0,endAngle:180,gaugeColors:[{color:"#ff7878",offset:"0%"},{color:"#7d49ff",offset:"31%"},{color:"#514dff",offset:"70%"},{color:"#1eb9b7",offset:"100%"}],gaugeBackgroundColors:[{color:"#ea8496",offset:"0%",opacity:.1},{color:"#ea8496",offset:"100%",opacity:.2}]},type_2={pointerHeadLengthPercent:.65,
// 1 is the maximum
minAngle:-90,maxAngle:90,transitionMs:750,startAngle:-45,endAngle:225,gaugeColors:[{color:"#ff7878",offset:"0%"},{color:"#7d49ff",offset:"31%"},{color:"#514dff",offset:"70%"},{color:"#1eb9b7",offset:"100%"}],gaugeBackgroundColors:[{color:"#ea8496",offset:"0%",opacity:.1},{color:"#ea8496",offset:"100%",opacity:.2}]},type_3={hideneedle:!0,showTicksOutside:!0,tickFontSize:"0.25vw",splitGradients:!0,pointerHeadLengthPercent:.65,minAngle:-90,maxAngle:90,transitionMs:750,startAngle:-45,endAngle:225,width:70,height:70,outerRadius:70/2.05-5,innerRadius:70/2.2-5};return 1===config.type?(config.colors&&type_1.gaugeColors.forEach((function(rt,index){rt.color=config.colors[index]})),config.backgroundColors?type_1.gaugeBackgroundColors.forEach((function(rt,index){rt.color=config.backgroundColors[index]})):delete type_1.gaugeBackgroundColors,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},type_1),config)):2===config.type?(config.colors&&type_2.gaugeColors.forEach((function(rt,index){rt.color=config.colors[index]})),config.backgroundColors?type_2.gaugeBackgroundColors.forEach((function(rt,index){rt.color=config.backgroundColors[index]})):delete type_2.gaugeBackgroundColors,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},type_2),config)):3===config.type?(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},type_3),config):(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},type_1),config)}}},components_NewGaugeChartvue_type_script_lang_js=NewGaugeChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewGaugeChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewGaugeChart=component.exports},
/***/131792:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PmReadingsable}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PmReadingsable.vue?vue&type=template&id=6b0e38a0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_vm.resources&&_vm.resources.length?_c("div",{staticClass:"pm-reading-table-settings row"},[_c("div",{staticClass:"fL col-6 text-left"},[_c("el-select",{staticClass:"transparent-select-box",on:{change:_vm.getReadingData},model:{value:_vm.resourceId,callback:function($$v){_vm.resourceId=$$v},expression:"resourceId"}},_vm._l(_vm.resources,(function(resource,index){return _c("el-option",{key:index,attrs:{label:resource.name,value:resource.id}})})),1)],1),_vm.hidedatefilter||_vm.config.hidedatefilter?_vm._e():_c("new-date-picker",{ref:"newDatePicker",staticClass:"fR text-right col-6",attrs:{zone:_vm.$timezone,dateObj:_vm.dateFilter},on:{date:_vm.setDateFilter}})],1):_vm._e(),_c("div",{staticClass:"width100 overflow-hidden"},[_vm.loading?_c("spinner",{attrs:{show:_vm.loading,size:"80"}}):!_vm.loading&&_vm.tabeldata.length?[_c("HotTable",{ref:"hotTable",staticClass:"pmhottable",style:_vm.styleCss,attrs:{root:_vm.root,settings:_vm.hotSettings}})]:_vm.tabeldata.length?_vm._e():_c("div",{staticClass:"no-pm-reading-data"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/reportlist",iconClass:"icon text-center icon-xxxlg"}}),_c("div",{staticClass:"nowo-label f14"},[_vm._v(" There are no work orders in this time period. ")])],1)],2)])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),NewDatePicker=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(186466),__webpack_require__(169358),__webpack_require__(450886),__webpack_require__(865137),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(879288),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(648324),__webpack_require__(434284),__webpack_require__(900773)),vue_handsontable=__webpack_require__(366258),vue_handsontable_default=__webpack_require__.n(vue_handsontable),NewDateHelper=__webpack_require__(105534),api=__webpack_require__(32284),PmReadingsablevue_type_script_lang_js={props:["pmObject","pm","workorder","config","settings"],components:{HotTable:vue_handsontable_default(),NewDatePicker:NewDatePicker/* default */.Z},data:function(){return{root:"tabular-pm-hot",triggerFrequencyInt:1,hidedatefilter:!0,units:[],frequencyMap:{DAILY:"hh:mm a",WEEKLY:"ddd",MONTHLY:"MMM YYYY",QUARTERTLY:"MMM YYYY",HALF_YEARLY:"MMM YYYY",ANNUALLY:"YYYY"},frequencyToDateForamterMap:{DAILY:{day:"hh:mm a",week:"ddd",month:"DD MMM YYYY",quarter:"DD MMM YYYY",year:"DD MMM YYYY"},WEEKLY:{day:"hh:mm a",week:"ddd",month:"MMM YYYY",quarter:"MMM YYYY",year:"YYYY"},MONTHLY:{day:"hh:mm a",week:"ddd",month:"MMM YYYY",quarter:"MMM YYYY",year:"YYYY"},QUARTERTLY:{day:"hh:mm a",week:"ddd",month:"MMM YYYY",quarter:"MMM YYYY",year:"YYYY"},HALF_YEARLY:{day:"hh:mm a",week:"ddd",month:"MMM YYYY",quarter:"MMM YYYY",year:"YYYY"},ANNUALLY:{day:"hh:mm a",week:"ddd",month:"MMM YYYY",quarter:"MMM YYYY",year:"YYYY"}},loading:!1,resourceId:null,tabeldata:[],updateData:[],dateFilter:NewDateHelper/* default */.Z.getDatePickerObject(22),sectionRows:[],taskRows:[],hotSettings:{data:[],columns:[],colHeaders:!1,rowHeaders:!1,rowHeaderWidth:200,width:"100%",height:200,renderAllRows:!0,readOnly:!0,columnSorting:!1,stretchH:"all",fillHandle:!1,autoWrapRow:!0,colWidths:180},hotTable:null,tableState:{
// table config to save
columns:[]},initialRendered:!1}},computed:{styleCss:function(){return"width: 100% !important;"},resources:function(){if(this.pm&&2===this.pm.pmCreationType&&this.pmObject&&this.pmObject.preventivemaintenance&&this.pmObject.preventivemaintenance&&this.pmObject.preventivemaintenance.resourcePlanners){var data=[];return this.pmObject.preventivemaintenance.resourcePlanners.forEach((function(rt){data.push(rt.resource)})),data}return this.pm&&1===this.pm.pmCreationType&&this.workorder&&this.workorder.resource?[this.workorder.resource]:[]},triggers:function(){return this.pm&&this.pm.triggers&&this.pm.triggers.length?this.pm.triggers:[]},mergedTaskList:function(){if(this.pmObject&&this.pmObject.taskList){var list=[];return Object.values(this.pmObject.taskList).forEach((function(rt){Object.values(rt).forEach((function(rl){list.push(rl)}))})),list}return[]},sectionHierarchy:function(){var _this=this,sections=[];if(this.pmObject&&this.pmObject.taskList){var keys=Object.keys(this.pmObject.taskList);keys.forEach((function(i){return sections.push({section:i,tasks:_this.pmObject.taskList[i]})}))}return sections}},created:function(){var _this2=this;api/* API */.bl.get("/v2/getReadingFieldUnits").then((function(_ref){var data=_ref.data,error=_ref.error;error?_this2.$message.error(error.message||"Error Occured"):_this2.units=_this2.$getProperty(data,"readingFieldUnits.orgUnitsList",null)}))},mounted:function(){var _this3=this,self=this;this.config&&(this.config.operatorId&&(this.dateFilter=NewDateHelper/* default */.Z.getDatePickerObject(this.config.operatorId,this.config.dateValueString)),this.config.resourceId&&(this.resourceId=this.config.resourceId)),this.$nextTick((function(rt){_this3.settings&&(Object.keys(_this3.settings).forEach((function(column){self.hotSettings[column]=self.settings[column]})),_this3.$mobile&&_this3.settings.height<100&&(_this3.hotSettings.height=600)),_this3.hidedatefilter=!1})),this.triggers&&this.triggers.length&&(this.triggerFrequencyInt=Math.min.apply(Math,(0,toConsumableArray/* default */.Z)(this.triggers.map((function(rt){return rt.frequency}))))),this.init()},methods:{init:function(){this.setDefaultValues(),this.pm&&this.getReadingData()},setDefaultValues:function(){this.resourceId=this.resources&&this.resources.length?this.resources[0].id:null},getReadingData:function(){var self=this;self.loading=!0,this.tabeldata=[];var params={pmId:this.pm.id,resourceId:this.resourceId,startTime:this.dateFilter.value&&this.dateFilter.value.length?this.dateFilter.value[0]:null,endTime:this.dateFilter.value&&this.dateFilter.value.length?this.dateFilter.value[1]:null},url="/v2/workorders/getPreventiveMaintenanceReadings";self.$http.post(url,params).then((function(response){response.data&&response.data.result&&response.data.result.workorders&&response.data.result.workorders.length&&self.prepareTableData(response.data.result.workorders),self.loading=!1}))},prepareTableData:function(data){data&&(this.tabeldata=data,data.sort((function(a,b){return a.createdTime-b.createdTime})),this.hotSettings.columns=this.getColData2(data,this.pmObject),this.hotSettings.data=this.getData2(data,this.pmObject),this.setTableData())},getColData2:function(data,pmObject){var d=[];return d.push({data:"Task"}),data.forEach((function(rt){d.push({data:rt.id,renderer:function(instance,td,row,col,prop,value,cellProperties){while(td.firstChild)td.removeChild(td.firstChild);var textNode=document.createTextNode(value||"");td.appendChild(textNode)}})})),d},displayValue:function(value,obj){if(value&&obj){if(obj.readingFieldUnit>-1){var val=this.units.find((function(rt){return rt.unit===obj.readingFieldUnit}))&&this.units.find((function(rt){return rt.unit===obj.readingFieldUnit})).unitEnum&&this.units.find((function(rt){return rt.unit===obj.readingFieldUnit})).unitEnum.symbol?this.units.find((function(rt){return rt.unit===obj.readingFieldUnit})).isLeft?this.units.find((function(rt){return rt.unit===obj.readingFieldUnit})).unitEnum.symbol+" "+value:value+" "+this.units.find((function(rt){return rt.unit===obj.readingFieldUnit})).unitEnum.symbol:value;return val}return value}return""},getColData:function(data,pmObject){var d=[];return data.forEach((function(rt){d.push({type:"numeric"})})),d},mergeTasks:function(task){if(task&&task){var list=[];return Object.values(task).forEach((function(rt){Object.values(rt).forEach((function(rl){list.push(rl)}))})),list}return[]},getData2:function(data,pmObject){var _this4=this,allRows=[],headerRow={Task:"Tasks"};data.forEach((function(workorder){headerRow[workorder.id]=_this4.$time.format(workorder.createdTime,"DD MMM YYYY hh:mm a")})),allRows.push(headerRow);var row=0;return this.sectionHierarchy.forEach((function(s){var sectionRow={Task:s.section};allRows.push(sectionRow),row++,_this4.sectionRows.push(row),s.tasks.forEach((function(task){var taskRow={Task:task.subject};data.forEach((function(workorder){for(var mergedTasks=_this4.mergeTasks(workorder.tasks),i=0;i<mergedTasks.length;i++){var t=mergedTasks[i];263===_this4.$account.org.id||146===_this4.$account.org.id?t.uniqueId===task.uniqueId&&(taskRow[workorder.id]=t.inputValue||null):t.readingFieldId===task.readingFieldId&&(taskRow[workorder.id]=t.inputValue||null)}})),allRows.push(taskRow),row++,_this4.taskRows.push(row)}))})),allRows},getData:function(data,pmObject){var d=[],self=this;return self.mergedTaskList.forEach((function(rt){var d1=[];data.forEach((function(rl){var tasks=[];if(tasks=self.mergeTasks(rl.tasks),tasks.length){var dat=tasks.find((function(rx){return rx.readingFieldId===rt.readingFieldId}))?tasks.find((function(rx){return rx.readingFieldId===rt.readingFieldId})).inputValue:null;d1.push(dat)}})),d.push(d1)})),d},getColHeader:function(data,pmObject){var _this5=this,self=this,d=[];return this.triggers&&this.triggers.length?data.forEach((function(rt){d.push(self.$time.format(rt.createdTime,_this5.getDateFormater(_this5.triggers.find((function(r){return r.frequency===_this5.triggerFrequencyInt})).frequencyEnum)))})):data.forEach((function(rt){d.push(self.$time.format(rt.createdTime,"DD MMM YYYY hh:mm a"))})),d},getDateFormater:function(FreqEnum){return this.frequencyToDateForamterMap[FreqEnum]&&this.frequencyToDateForamterMap[FreqEnum][this.dateFilter.operationOn]?this.frequencyToDateForamterMap[FreqEnum][this.dateFilter.operationOn]:this.frequencyMap[FreqEnum]},getRowHeader:function(data,pmObject){for(var rowHeaders=[],i=0;i<this.sectionHierarchy.length;i++){rowHeaders.push(this.sectionHierarchy[i].section);for(var noOfTasks=this.sectionHierarchy[i].tasks.length,j=0;j<noOfTasks;j++)rowHeaders.push(this.sectionHierarchy[i].tasks[j].subject)}return rowHeaders},setTableData:function(){var _this6=this,self=this;this.hotSettings.afterChange=function(from,to){
// self.updatedata(from, to)
self.updatedata2(from,to)},this.hotSettings.afterColumnMove=function(from,to){self.saveCurrentState()},this.hotSettings.afterColumnResize=function(col,width){self.saveCurrentState(),self.setTableHeight()},this.hotSettings.afterRender=function(){!self.hotTable&&self.$refs["hotTable"]&&(self.hotTable=self.$refs["hotTable"].table,self.setTableHeight()),self.initialRendered||(self.initialRendered=!0)},this.hotSettings.afterRenderer=function(td,row,col,prop,value,cellProperties){0===row?td.classList.add("fhot-table-header"):self.sectionRows.includes(row)?(td.classList.add("fhot-section-row"),0===col&&td.classList.add("fhot-section-cell")):0!==col||self.sectionRows.includes(row)?td.classList.add("fhot-data-cell"):td.classList.add("fhot-task-cell")},this.hotSettings.mergeCells=[],this.sectionRows.forEach((function(row){return _this6.hotSettings.mergeCells.push({row:row,col:0,colspan:4,rowspan:1})}))},convertreadableObj:function(data){return{row:data[0],col:data[1],pre:data[2],val:data[3]}},validData:function(editObj,tableData){if(null==editObj.pre&&editObj.val){if(!isNaN(Number(editObj.val)))return!0}else if(editObj.pre!==editObj.val)return!isNaN(Number(editObj.val)&&"READING"===tableData.inputTypeEnum);return!1},updatedata2:function(data,source){var self=this;if("edit"===source&&data&&data[0]&&data[0].length){var editObj=this.convertreadableObj(data[0]),tableSourceData={};if(this.tabeldata.find((function(rt){rt.id===editObj.col&&(tableSourceData=self.mergeTasks(rt.tasks)[editObj.row]?self.mergeTasks(rt.tasks)[editObj.row]:null)})),this.validData(editObj,tableSourceData)){if(tableSourceData["inputValue"]=editObj.val+"",this.updateData.find((function(rt){return rt.id===tableSourceData.id}))){var index=this.updateData.findIndex((function(rt){return rt.id===tableSourceData.id}));this.updateData.splice(index,1,tableSourceData)}else this.updateData.push(tableSourceData);this.$emit("readingData",this.updateData)}}},updatedata:function(data,source){if("edit"===source&&data&&data[0]&&data[0].length){var editObj=this.convertreadableObj(data[0]),tableSourceData=Object.values(this.tabeldata[editObj.col].tasks)?this.mergeTasks(Object.values(this.tabeldata[editObj.col].tasks))[editObj.row]:null;if(this.validData(editObj,tableSourceData)){if(tableSourceData["inputValue"]=editObj.val+"",this.updateData.find((function(rt){return rt.id===tableSourceData.id}))){var index=this.updateData.findIndex((function(rt){return rt.id===tableSourceData.id}));this.updateData.splice(index,1,tableSourceData)}else this.updateData.push(tableSourceData);this.$emit("readingData",this.updateData)}}},setTableHeight:function(){},saveCurrentState:function(){for(var _this7=this,stateColumns=[],_loop=function(){var colWidth=_this7.hotTable.getColWidth(i),idx=_this7.hotTable.toPhysicalColumn(i),name=_this7.hotSettings.columns[idx].name,stateColumn=_this7.tableState.columns.find((function(col){return col.name===name}));stateColumn.width=colWidth,stateColumns.push(stateColumn)},i=0;i<this.hotTable.getColHeader().length;i++)_loop();this.tableState.columns=stateColumns,this.reportConfig.params.tabularState=JSON.stringify(this.tableState)},setDateFilter:function(data){this.dateFilter=data,this.getReadingData()}}},components_PmReadingsablevue_type_script_lang_js=PmReadingsablevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PmReadingsablevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PmReadingsable=component.exports},
/***/516400:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ShimmerLoading}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ShimmerLoading.vue?vue&type=template&id=0d998f44
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"shimmer"},["form"===_vm.type?_c("section",[_vm._m(0)]):"profile"===_vm.type?_c("section",[_vm._m(1)]):"text"===_vm.type?_c("section",[_vm._m(2)]):"img"===_vm.type?_c("section",[_vm._m(3)]):"none"===_vm.type?_c("section",[_c("article",{staticClass:"sh-background img"})]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("article",{staticClass:"sh-background form"},[_c("div",{staticClass:"g"}),_c("div",{staticClass:"h"}),_c("div",{staticClass:"i"}),_c("div",{staticClass:"j"}),_c("div",{staticClass:"k"}),_c("div",{staticClass:"l"}),_c("div",{staticClass:"m"}),_c("div",{staticClass:"n"}),_c("div",{staticClass:"o"}),_c("div",{staticClass:"p"}),_c("div",{staticClass:"q"}),_c("div",{staticClass:"r"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("article",{staticClass:"sh-background profile "},[_c("div",{staticClass:"g"}),_c("div",{staticClass:"h"}),_c("div",{staticClass:"i"}),_c("div",{staticClass:"j"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("article",{staticClass:"sh-background text"},[_c("div",{staticClass:"a"}),_c("div",{staticClass:"b"}),_c("div",{staticClass:"c"}),_c("div",{staticClass:"d"}),_c("div",{staticClass:"e"}),_c("div",{staticClass:"f"}),_c("div",{staticClass:"g"}),_c("div",{staticClass:"h"}),_c("div",{staticClass:"i"}),_c("div",{staticClass:"j"}),_c("div",{staticClass:"k"}),_c("div",{staticClass:"l"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("article",{staticClass:"sh-background img"},[_c("div",{staticClass:"g"})])}],ShimmerLoadingvue_type_script_lang_js={props:["config"],computed:{type:function(){return this.config&&this.config.type?this.config.type:"none"}}},components_ShimmerLoadingvue_type_script_lang_js=ShimmerLoadingvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ShimmerLoadingvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ShimmerLoading=component.exports},
/***/100385:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SmartTableSettings}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SmartTableSettings.vue?vue&type=template&id=41e0a0d6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"smart-table-conditionalformatting"},[_c("el-tabs",{staticClass:"mT30",attrs:{type:"border-card"}},[_vm.conditionalFormattingLoading?_vm._e():_c("el-tab-pane",{attrs:{label:"Conditional formatting"}},_vm._l(_vm.column.conditionalFormatting,(function(condition,index){return _c("div",{key:index,staticClass:"relative criteria-box"},[_c("el-row",{staticClass:"mT10 maxWidth90",attrs:{gutter:10}},[_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"fc-input-label-txt mb5"}),_c("div",[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{disabled:!0},model:{value:_vm.column.label,callback:function($$v){_vm.$set(_vm.column,"label",$$v)},expression:"column.label"}})],1)]),_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"fc-input-label-txt mb5"}),_c("div",[_c("el-select",{staticClass:"fc-input-full-border-select2",on:{change:function($event){condition.critera.key=_vm.column.key}},model:{value:condition.critera.operatorId,callback:function($$v){_vm.$set(condition.critera,"operatorId",$$v)},expression:"condition.critera.operatorId"}},_vm._l(_vm.$constants.OPERATORS[_vm.column.datatype],(function(value,key){return _c("el-option",{key:key,attrs:{label:key,value:value.operatorId}})})),1)],1)]),_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"fc-input-label-txt mb5"}),_c("div",[_c("el-input",{staticClass:"fc-input-full-border2",model:{value:condition.critera.value,callback:function($$v){_vm.$set(condition.critera,"value",$$v)},expression:"condition.critera.value"}})],1)]),_c("el-col",{staticClass:"p10",attrs:{span:8}},[_c("p",[_vm._v("color")]),_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},model:{value:condition.style.color,callback:function($$v){_vm.$set(condition.style,"color",$$v)},expression:"condition.style.color"}})],1),_c("el-col",{staticClass:"p10",attrs:{span:8}},[_c("p",[_vm._v("Bg color")]),_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},model:{value:condition.style.bgcolor,callback:function($$v){_vm.$set(condition.style,"bgcolor",$$v)},expression:"condition.style.bgcolor"}})],1),condition.action?[condition.action.hasOwnProperty("blink")?_c("el-col",{staticClass:"p10",attrs:{span:8}},[_c("p",[_vm._v("Blink")]),_c("el-checkbox",{model:{value:condition.action.blink,callback:function($$v){_vm.$set(condition.action,"blink",$$v)},expression:"condition.action.blink"}})],1):_vm._e(),condition.action.hasOwnProperty("blinkValue")?_c("el-col",{staticClass:"p10",attrs:{span:8}},[_c("p",[_vm._v("Blink value")]),_c("el-checkbox",{model:{value:condition.action.blinkValue,callback:function($$v){_vm.$set(condition.action,"blinkValue",$$v)},expression:"condition.action.blinkValue"}})],1):_vm._e()]:_vm._e()],2),condition.hasOwnProperty("display")&&condition.display.hasOwnProperty("displayValue")?_c("el-row",{staticClass:"mT10 maxWidth90 p10",attrs:{gutter:10}},[_c("el-col",{attrs:{span:12}},[_c("p",[_vm._v("Display value")]),_c("emoji-picker",{attrs:{search:_vm.search},on:{emoji:_vm.emojiinsert},scopedSlots:_vm._u([{key:"emoji-invoker",fn:function(ref){var events=ref.events;return[_c("div",_vm._g({staticClass:"emoji-invoker"},events),[_c("el-input",{staticClass:"fc-input-full-border2 emoji-input",scopedSlots:_vm._u([{key:"suffix",fn:function(){return[_c("i",{staticClass:"fa fa-smile-o input-emoji-icon "})]},proxy:!0}],null,!0),model:{value:condition.display.displayValue,callback:function($$v){_vm.$set(condition.display,"displayValue",$$v)},expression:"condition.display.displayValue"}})],1)]}},{key:"emoji-picker",fn:function(ref){var emojis=ref.emojis;return[_c("el-popover",{attrs:{"popper-class":"emoji-popover",width:"250",placement:"right",trigger:"click"},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("div",[_c("div",[_c("el-input",{staticClass:"fc-input-full-border2",model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}})],1),_c("div",{staticClass:"emoji-content"},_vm._l(emojis,(function(emojiGroup,category){return _c("div",{key:category},[_c("h5",[_vm._v(_vm._s(category))]),_c("div",_vm._l(emojiGroup,(function(emoji,emojiName){return _c("span",{key:emojiName,attrs:{title:emojiName},on:{click:function($event){return _vm.emojiinsert(emoji,index)}}},[_vm._v(_vm._s(emoji))])})),0)])})),0)])])]}}],null,!0)})],1)],1):_vm._e(),_c("div",{staticClass:"contion-action-btn pointer"},[_vm.column.conditionalFormatting.length-1===index?_c("img",{staticClass:"add-icon",staticStyle:{height:"18px",width:"18px"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addContions}}):_vm._e(),_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-right":"3px","margin-left":"3px","margin-top":"9px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteCondition(index)}}})])],1)})),0)],1)],1)},staticRenderFns=[],colors=(__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(519898)),DateHelper=__webpack_require__(281230),main=__webpack_require__(874202),main_default=__webpack_require__.n(main),SmartTableSettingsvue_type_script_lang_js={props:["column","data","settings"],mixins:[DateHelper/* default */.Z],data:function(){return{conditionalFormattingLoading:!1,visible:!0,search:"",coditionalObject:{critera:{key:null,operatorId:null,value:null},action:{blink:!1},style:{color:"#000",bgcolor:"#fff"}}}},components:{EmojiPicker:main_default()},mounted:function(){if(this.conditionalFormattingLoading=!0,this.column&&!this.column.label&&(this.column.label="Value"),this.column.conditionalFormatting&&!this.column.conditionalFormatting.length)if(this.settings){var obj=this.$helpers.cloneObject(this.settings);this.column.conditionalFormatting.push(obj)}else this.column.conditionalFormatting.push(this.coditionalObject);else this.$set(this.column,"conditionalFormatting",[]),this.column.conditionalFormatting.push(this.coditionalObject);this.conditionalFormattingLoading=!1},computed:{},methods:{emojiinsert:function(emoji,index){this.column.conditionalFormatting[index].display.displayValue+=emoji},setConditionData:function(){},getPredefinedColors:function(){return colors/* default */.Z.readingcardColors},addContions:function(){this.conditionalFormattingLoading=!0;var obj=this.$helpers.cloneObject(this.coditionalObject);this.settings&&(obj=this.$helpers.cloneObject(this.settings)),this.column.conditionalFormatting.push(obj),this.conditionalFormattingLoading=!1},deleteCondition:function(index){this.column.conditionalFormatting.splice(index,1),this.column.conditionalFormatting.length||this.addContions()}}},components_SmartTableSettingsvue_type_script_lang_js=SmartTableSettingsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SmartTableSettingsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SmartTableSettings=component.exports},
/***/487565:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Comments2}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/Comments2.vue?vue&type=template&id=baa28728
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-new-comments fc-comments row"},[_c("div",{staticClass:"col-12 scroll-new"},[_c("notes",{staticClass:"assetsnotes new-summary-block fc-visibility-gicon-visible flex-grow overflow-y-scroll",attrs:{module:"ticketnotes",parentModule:"workorder",record:_vm.record,notify:!0,layoutParams:500,resizeWidget:this.resizeWidget,isActive:!1,forWO:!0,listViewComments:!0}})],1)])},staticRenderFns=[],Notes=(__webpack_require__(228436),__webpack_require__(120470)),Comments2vue_type_script_lang_js={extends:Notes["default"],props:["record","moduleName","details","layoutParams","widget","resizeWidget"],components:{Notes:Notes["default"]},data:function(){return{markdownshow:!1}},methods:{markdownhelplist:function(){this.markdownshow=!0},focusCommentBox:function(){this.commentFocus=!0},blurCommentBox:function(){!this.newComment.body||this.newComment.body.trim()}}},relatedlist_Comments2vue_type_script_lang_js=Comments2vue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_Comments2vue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Comments2=component.exports},
/***/434579:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListAttachmentPreview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/ListAttachmentPreview.vue?vue&type=template&id=4dc204e5
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-image",{class:["fc-image-list-preview fc-avatar-square",_vm.customClass?_vm.customClass:null],attrs:{src:_vm.imageAttachment?_vm.$prependBaseUrl(_vm.imageAttachment.previewUrl):"",fit:"cover"},on:{click:function($event){return $event.target!==$event.currentTarget?null:($event.preventDefault(),_vm.openAttachmentsPreview(!0,_vm.imageAttachment))}}},[_c("div",{attrs:{slot:"error"},slot:"error"},[_c("div",{on:{click:function($event){return $event.preventDefault(),_vm.openAttachmentsPreview(!1)}}},[_vm.attachments.length>0?_vm._t("no-image",(function(){return[_c("InlineSvg",{attrs:{src:"clip",iconClass:"icon fill-grey icon-xxlll op5 vertical-middle object-contain"}})]})):_vm._t("no-data",(function(){return[_c("InlineSvg",{attrs:{src:"svgs/photo",iconClass:"icon fill-grey icon-xxlll op5 vertical-middle object-contain"}})]}))],2)])]),_vm.visibility?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.previewFile,files:_vm.attachments},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),PreviewFile=(__webpack_require__(670560),__webpack_require__(720096)),api=__webpack_require__(32284),ListAttachmentPreviewvue_type_script_lang_js={components:{PreviewFile:PreviewFile/* default */.Z},props:["module","record","customClass","id"],data:function(){return{loading:!1,attachments:[],visibility:!1,imageAttachment:null,previewFile:null,imageAttachments:[]}},created:function(){this.loadAttachments()},computed:{recordId:function(){return this.id?this.id:this.record.id}},methods:{openAttachmentsPreview:function(fileAttached,image){this.attachments.length>0&&(this.visibility=!0,this.previewFile=fileAttached?image:this.attachments[0])},setImageUrl:function(){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.attachments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var attachment=_step.value;-1!==attachment.contentType.indexOf("image")&&(this.imageAttachment||(this.imageAttachment=attachment),this.imageAttachments.push(attachment))}}catch(err){_iterator.e(err)}finally{_iterator.f()}},loadAttachments:function(){var _this=this;return this.loading=!0,api/* API */.bl.get("/attachment",{module:this.module,recordId:this.recordId}).then((function(_ref){var error=_ref.error,data=_ref.data;error?_this.attachments=[]:(_this.attachments=data.attachments?data.attachments:[],_this.setImageUrl()),_this.loading=!1}))}}},relatedlist_ListAttachmentPreviewvue_type_script_lang_js=ListAttachmentPreviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_ListAttachmentPreviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ListAttachmentPreview=component.exports},
/***/526283:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListImagePreview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/ListImagePreview.vue?vue&type=template&id=4ff7495e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-image",{staticClass:"fc-image-list-preview fc-avatar-square list-image-preview",attrs:{src:_vm.file.fileUrl,fit:"fill"},on:{click:function($event){return _vm.openAttachmentsPreview(_vm.file)}}},[_c("div",{staticClass:"image-slot",attrs:{slot:"error"},on:{click:function($event){return _vm.openAttachmentsPreview(_vm.file)}},slot:"error"},[_vm.file.fileUrl?_c("InlineSvg",{attrs:{src:"clip",iconClass:"icon fill-grey icon-xxlll op5"}}):_c("InlineSvg",{attrs:{src:"svgs/photo",iconClass:"icon fill-grey icon-xxlll op5"}})],1)]),_c("el-dialog",{staticClass:"f-list-attachment-dialog",attrs:{visible:_vm.visibility,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_vm.visibility?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.getFormattedFile,files:[_vm.getFormattedFile]},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)],1)},staticRenderFns=[],PreviewFile=__webpack_require__(720096),ListImagePreviewvue_type_script_lang_js={props:["file"],components:{PreviewFile:PreviewFile/* default */.Z},data:function(){return{visibility:!1}},computed:{getFormattedFile:function(){return{contentType:this.file.fileContentType||"",fileName:this.file.fileName,previewUrl:this.file.fileUrl,downloadUrl:this.file.fileUrl}}},methods:{openAttachmentsPreview:function(file){file.fileUrl&&(this.visibility=!0)}}},relatedlist_ListImagePreviewvue_type_script_lang_js=ListImagePreviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_ListImagePreviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ListImagePreview=component.exports},
/***/120470:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Notes}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/widget/Notes.vue?vue&type=template&id=3c8171f0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.componentName?_c(_vm.componentName,_vm._b({key:_vm.recordId,tag:"component"},"component",_vm.$attrs,!1)):_vm._e()],1)},staticRenderFns=[],Notesvue_type_script_lang_js=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),{components:{NewNotes:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(89142),__webpack_require__.e(19347)]).then(__webpack_require__.bind(__webpack_require__,116920))},OldNotes:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(19037)]).then(__webpack_require__.bind(__webpack_require__,919037))}},computed:{componentName:function(){return this.$helpers.isLicenseEnabled("NEW_COMMENTS")?"NewNotes":"OldNotes"},recordId:function(){return this.$getProperty(this.$attrs,"record.id")}}}),widget_Notesvue_type_script_lang_js=Notesvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widget_Notesvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Notes=component.exports},
/***/347009:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ApprovalViewMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(990260)),router=__webpack_require__(329435),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),activityView={name:"activities",displayName:"History"},pendingView={name:"pendingapproval",displayName:"Pending Approval"},ApprovalViewMixinvue_type_script_lang_js={data:function(){return{modules:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),{},{groupViews:function(){var currentModules=[];currentModules=(0,router/* isWebTabsEnabled */.tj)()?this.moduleList||this.currentTab.modules:this.modules;var moduleVsViewList=(currentModules||[]).map((function(m){return{name:m.name,moduleName:m.name,displayName:m.displayName,id:m.moduleId,views:[pendingView,activityView]}}));return moduleVsViewList},currentView:function(){var viewname=this.$route.params.viewname;return(0,validation/* isEmpty */.xb)(viewname)||"activities"===viewname?this.isActivityView?"activities":null:viewname}}),methods:{loadApprovalModules:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(0,validation/* isEmpty */.xb)(_this.moduleList)){_context.next=9;break}return _context.next=3,api/* API */.bl.get("v2/approval/modules");case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error||(_this.modules=data.modules||[]),_context.next=10;break;case 9:_this.modules=_this.moduleList;case 10:case"end":return _context.stop()}}),_callee)})))()},getCriteria:function(viewname){return"activities"===viewname?{pageType:router/* pageTypes */.As.APPROVAL_ACTIVITY}:{pageType:router/* pageTypes */.As.APPROVAL_LIST}},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if((0,router/* isWebTabsEnabled */.tj)()){var getCriteria=this.getCriteria,moduleName=group.moduleName,_ref=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.APPROVAL,getCriteria(viewname))||{},name=_ref.name;name&&this.$router.push({name:name,params:{moduleName:moduleName,viewname:viewname}}).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path}).catch((function(){}))}}},getPathForView:function(view,group){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(group.moduleName,"/").concat(view.name)}}},components_ApprovalViewMixinvue_type_script_lang_js=ApprovalViewMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ApprovalViewMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalViewMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/967360:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ApprovalViewSidePanel}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/approvals/components/ApprovalViewSidePanel.vue?vue&type=template&id=57383f05
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"fade"}},[_c("div",{staticClass:"view-panel"},[_c("div",{staticClass:"view-list-container"},[_c("div",{staticClass:"header-container"},[_c("div",{staticClass:"label-txt-black fwBold text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("common._common.views"))+" ")]),_c("inline-svg",{staticClass:"rotate-90 pointer d-flex back-icon mL-auto",attrs:{src:"svgs/arrow",iconClass:"icon icon-xs"},nativeOn:{click:function($event){return _vm.closeViewSidePanel()}}})],1),_c("div",{staticClass:"search-container mT20 mb25"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Search",type:"search","prefix-icon":"el-icon-search"},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}})],1),_c("div",{staticClass:"views-group"},_vm._l(_vm.filteredList,(function(group){return _c("div",{key:group.id},[_vm.$validation.isEmpty(group.views)?_vm._e():[_vm.$validation.isEmpty(_vm.searchText)?_c("div",{staticClass:"folder-name pB10 mT20 text-uppercase"},[_vm._v(" "+_vm._s(group.displayName||group.name)+" ")]):_vm._e(),_vm._l(group.views,(function(view,index){return _c("div",{key:index,staticClass:"view-item pT10 pB15 pointer",class:_vm.isActiveView(view)?"active":"",on:{click:function($event){return _vm.changeView(view,group)}}},[_c("div",{staticClass:"view-name ellipsis"},[_vm._v(" "+_vm._s(view.displayName)+" ")])])}))]],2)})),0)])])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(260228),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(990260)),ApprovalViewMixin=__webpack_require__(347009),ApprovalViewSidePanelvue_type_script_lang_js={props:["moduleName","canShowViewsSidePanel","pathPrefix","retainFilters","moduleList"],mixins:[ApprovalViewMixin/* default */.Z],data:function(){return{searchText:""}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadApprovalModules();case 2:case"end":return _context.stop()}}),_callee)})))()},computed:{filteredList:function(){var _this2=this;return(0,validation/* isEmpty */.xb)(this.searchText)?this.groupViews:this.groupViews.reduce((function(res,group){var filteredViews=group.views.filter((function(view){return view.displayName.toLowerCase().includes(_this2.searchText)}));return(0,validation/* isEmpty */.xb)(filteredViews)||res.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},group),{},{views:filteredViews})),res}),[])}},methods:{isActiveView:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$name=_ref.name,name=void 0===_ref$name?"":_ref$name,currentViewName=this.currentViewName;return currentViewName===name},changeView:function(view,group){this.goToView(view,group),this.closeViewSidePanel()},closeViewSidePanel:function(){this.$emit("update:canShowViewsSidePanel",!1)}}},components_ApprovalViewSidePanelvue_type_script_lang_js=ApprovalViewSidePanelvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ApprovalViewSidePanelvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalViewSidePanel=component.exports},
/***/401146:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/carbon/type1/Card.vue?vue&type=template&id=0760e73a&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_c("div",{class:["cb-card-container d-flex flex-direction-column p20 weather-card text-center","carbon-card"]},[_c("div",{staticClass:"mT5 text-uppercase carbon-text"},[_vm._v("Carbon Emissions")]),_c("div",{staticClass:"mT10"},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"co2",iconClass:"icon weather-icon"}}),_vm.cardData.value?_c("div",{staticClass:"mL10 degree inline vertical-middle"},[_c("span",[_vm._v(_vm._s(_vm.formattedValue.value&&_vm.formatDecimal(_vm.formattedValue.value)||"--"))]),_vm.formattedValue.unit?_c("span",{staticClass:"weather-unit"},[_vm._v(" "+_vm._s(_vm.formattedValue.unit)+" ")]):_vm._e()]):_vm._e()],1),_c("div",{staticClass:"mT10 carbon-text text-uppercase op8"},[_vm._v(" "+_vm._s(_vm.cardData.period)+" ")])])])},staticRenderFns=[],BaseCard=(__webpack_require__(897389),__webpack_require__(262882)),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,validation=__webpack_require__(990260),type1_Cardvue_type_script_lang_js={extends:Card,computed:{formattedValue:function(){var carbon=this.cardData.value;if((0,validation/* isEmpty */.xb)(carbon)||(0,validation/* isEmpty */.xb)(carbon.value))return{value:"---"};var value=carbon.value;if(value>1e3){var d={};return d.value=(value/1e3).toFixed(2),d.unit="Tons",d}var _d={};return _d.value=value.toFixed(2),_d.unit="Kg",_d}}},carbon_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(carbon_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"0760e73a",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/262882:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BaseCard}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(879288),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(725906),__webpack_require__(990260)),card_helpers=__webpack_require__(716956),card_constants=__webpack_require__(806186),baseUrl=__webpack_require__(420499),api=__webpack_require__(32284),BaseCardvue_type_script_lang_js={props:{widget:Object,componentKey:[Number,String],cardData:Object,cardState:Object,cardParams:Object,cardDrilldown:[Object],dbTimelineFilter:Object,dbCustomScriptFilter:Object,conditionalFormatting:[Array],isLoading:Boolean,triggerAction:{type:Function,default:function(){}},customScriptId:{type:Number,default:null},scriptModeInt:{type:Number,default:null}},mixins:[card_helpers/* default */.Z],data:function(){return{now:null,intervalIdForTimeStamp:null,activeTab:"Config",report:null}},computed:{cardStyle:function(){var cardState=this.cardState;if((0,validation/* isEmpty */.xb)(cardState))return{};var styles=cardState.styles;return(0,validation/* isEmpty */.xb)(styles)?{}:styles},cardPeriod:function(){var cardData=this.cardData;if((0,validation/* isEmpty */.xb)(cardData))return null;var period=cardData.period;if(period){var operator=card_constants/* dateOperators */._M.find((function(opr){return opr.value===period}));return operator?operator.label:period}return null},variables:function(){var variables=this.cardData.variables;return variables||[]},subscriptionParams:function(){
// Implement in components for automatically refreshing card when
// its readings change
return{}},isDashboardEdit:function(){var createQuery=this.$getProperty(this,"$route.query.create",null);return!!["edit","new"].includes(createQuery)}},mounted:function(){this.createTimeStampManager(),this.setReadingObj()},destroyed:function(){this.destroyTimeStampManager()},methods:{setReadingObj:function(){var data=this.cardDrilldown&&this.cardDrilldown.default&&this.cardDrilldown.default.data?this.cardDrilldown.default.data:null;data&&data.reportId&&this.loadReport(data.reportId)},loadReport:function(reportId){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var resp,result;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.put("v3/report/execute",{reportId:reportId});case 2:resp=_context.sent,result=resp.data,_this.report=result.report;case 5:case"end":return _context.stop()}}),_callee)})))()},createTimeStampManager:function(){var _this2=this;this.now=Date.now(),
// [Internal] Call this fn every 60 seconds
this.intervalIdForTimeStamp=setTimeout((function(){_this2.createTimeStampManager()}),6e4)},destroyTimeStampManager:function(){clearInterval(this.intervalIdForTimeStamp)},getCardDrillDown:function(){return this.cardDrilldown},getAdditionalStyle:function(cardStyle){var styles={};return cardStyle.hasOwnProperty("blink")&&cardStyle.blink&&this.$set(styles,"animation","blinker 1s linear infinite"),styles},getPreviewUrl:function(fileId){return(0,baseUrl/* getBaseURL */.BS)()+"/v2/files/preview/"+fileId}}},common_BaseCardvue_type_script_lang_js=BaseCardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(common_BaseCardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BaseCard=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/522423:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return GrowthArrow}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/common/GrowthArrow.vue?vue&type=template&id=ef74839e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"inline-flex growth-arrow",style:_vm.style},[_c("i",{class:"el-icon-caret-"+_vm.val.arrow+" arrow-class"}),_c("div",{class:["value-class",_vm.noArrow&&"percentage-color"],attrs:{id:"kpi2-percentage"}},[_vm._v(" "+_vm._s(_vm.val.percentage)+" "),_c("span",{staticClass:"percentage-class"},[_vm._v("%")])])])},staticRenderFns=[],validation=(__webpack_require__(96976),__webpack_require__(990260)),card_helpers=__webpack_require__(716956),GrowthArrowvue_type_script_lang_js={props:["value","baselineValue","arrowStyles"],mixins:[card_helpers/* default */.Z],data:function(){return{noArrow:!1,val:{percentage:0,arrow:"bottom"},style:{color:"red"}}},created:function(){this.formatValue()},watch:{value:function(){this.formatValue()},baselineValue:function(){this.formatValue()}},methods:{compareValue:function(value){var baseValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,val=value,base=baseValue,per="--";if(!(0,validation/* isEmpty */.xb)(base)&&!(0,validation/* isEmpty */.xb)(val)&&0!==base&&(0,validation/* isNumber */.hj)(base)&&(0,validation/* isNumber */.hj)(val)){per=(val-base)/base*100;var va=Math.abs(per),sign=Math.sign(per);return{percentage:"".concat(this.formatDecimal(va,2)),arrow:0===sign||1===sign?"top":"bottom"}}return this.noArrow=!0,{percentage:"--"}},formatValue:function(){this.val=this.compareValue(this.value,this.baselineValue),this.arrowStyles&&this.arrowStyles.arrowDownColor&&this.arrowStyles.arrowUpColor?"top"===this.val.arrow?this.style.color=this.arrowStyles.arrowUpColor:this.style.color=this.arrowStyles.arrowDownColor:"top"===this.val.arrow&&(this.style.color="green")}}},common_GrowthArrowvue_type_script_lang_js=GrowthArrowvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(common_GrowthArrowvue_type_script_lang_js,render,staticRenderFns,!1,null,"ef74839e",null)
/* harmony default export */,GrowthArrow=component.exports},
/***/535230:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/controlCard/type1/Card.vue?vue&type=template&id=6700a416
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column p25 pB20",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"f15 bold mB-auto",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" ")]),_c("div",{staticClass:"mB-auto pT10"},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f30",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"f30",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardData.value&&_vm.formatDecimal(_vm.cardData.value.value)||"--")+" "),_c("span",{staticClass:"f12 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.value.unit))])]),_c("div",{staticClass:"f12",style:{color:_vm.cardStyle.secondaryTextColor}},[_vm._v(" "+_vm._s(_vm.cardStyle.showSecondaryText&&_vm.cardData.value&&_vm.cardData.value.label?_vm.cardData.value.label:"")+" ")])]),_c("style",{tag:"component"},[_vm._v(" .control-button-"+_vm._s(_vm.componentKey)+" { color: "+_vm._s(_vm.cardStyle.secondaryColor)+"; border: 1px solid "+_vm._s(_vm.cardStyle.secondaryColor)+"; } .control-button-"+_vm._s(_vm.componentKey)+".fc__border__btn1:hover, .control-button-"+_vm._s(_vm.componentKey)+".fc__border__btn1:focus { background-color: "+_vm._s(_vm.cardStyle.secondaryColor)+"; border-color: "+_vm._s(_vm.cardStyle.secondaryColor)+"; color: #fff; } ")]),_c("el-button",{class:"control-card-set text-uppercase fc__border__btn1  mB0 mT10 p10 pR10 pL10 f10 control-button-"+_vm.componentKey,staticStyle:{"max-width":"70px"},attrs:{size:"small"},on:{click:function($event){return _vm.triggerAction("set-reading-button")}}},[_vm._v(_vm._s(_vm.control&&_vm.control.buttonLabel||"SET"))])],1)],1)},staticRenderFns=[],BaseCard=__webpack_require__(262882),validation=__webpack_require__(990260),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},computed:{subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format([cardParams.reading])}}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,type1_Cardvue_type_script_lang_js={extends:Card,data:function(){return{showSetDialog:!1}},computed:{control:function(){var action=(this.cardDrilldown||{})["set-reading-button"],_ref=(action||{}).data||{},_ref$control=_ref.control,control=void 0===_ref$control?{}:_ref$control;return(0,validation/* isEmpty */.xb)(control.controlPointId)&&(0,validation/* isEmpty */.xb)(control.controlGroupId)&&!(0,validation/* isEmpty */.xb)(this.cardData.control)&&(control=this.cardData.control),control}}},controlCard_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(controlCard_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/271050:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/dataTable/base/Card.vue?vue&type=template&id=bafeec5c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"width100 height100"},[_c("div",{staticClass:"height100 smart-table-wrapper"},[_vm.tablererender?_vm._e():[_vm.data&&_vm.data.columns?_c("el-table",{staticClass:"smart-table",attrs:{id:"smart-table"+(_vm.widget&&_vm.widget.id?"-"+_vm.widget.id:"-1"),border:"",data:_vm.elTableResult,fit:!1,"span-method":_vm.objectSpanMethod,height:_vm.height},on:{"header-dragend":_vm.setColWidth}},[_vm._l(_vm.data.columns,(function(config,index){return[_c("el-table-column",{key:index,attrs:{prop:config.key,label:config.label,width:config.width},scopedSlots:_vm._u([{key:"default",fn:function(scopeConfig){return[_c("div",{staticClass:"smart-table-header-th row p0 inline width100 align-center relative visibility-visible-actions position-relative"},[_c("div",{staticClass:"width100 p0 flex-middle line-height-normal"},[_c("div",{staticClass:"headerlabel width100"},[_vm._v(" "+_vm._s(scopeConfig.row.label)+" ")])]),_c("div",{staticClass:"smart-table-actions pointer",on:{click:function($event){_vm.visibility=!0,_vm.selectcolumn=config}}},[!_vm.mode||"TEXT"!==config.datatype&&"NUMBER"!==config.datatype?_vm._e():_c("i",{staticClass:"el-icon-caret-bottom fR condition-icon visibility-hide-actions"})])]),_c("conditional-value",{staticClass:"smart-td-cell",style:_vm.getStyleObj(_vm.formatLabel(_vm.scope.row[config.key],config),config.conditionalFormatting,config),attrs:{value:_vm.formatLabel(_vm.scope.row[config.key],config),conditionalFormatting:config.conditionalFormatting||[]}})]}}],null,!0)})]}))],2):_vm._e()],_vm.visibility?_c("el-dialog",{attrs:{"custom-class":"f-kfi-card-builder fc-dialog-center-container kpi-map-setup-dilaog","append-to-body":!0,visible:_vm.visibility,width:"50%",title:"KPI CARD","before-close":_vm.closedialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("span",{staticClass:"dialog-footer",attrs:{slot:"title"},slot:"title"},[_c("span",{staticClass:"kpi-card-header"},[_vm._v("SMART TABLE SETTINGS")])]),_c("div",{staticStyle:{height:"500px"}},[_c("smart-table-settings",{attrs:{data:_vm.data,column:_vm.selectcolumn}})],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closedialog}},[_vm._v("Close")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("OK")])],1)]):_vm._e()],2)])},staticRenderFns=[],SmartTableSettings=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(425728),__webpack_require__(186466),__webpack_require__(725906),__webpack_require__(339772),__webpack_require__(879288),__webpack_require__(538077),__webpack_require__(670560),__webpack_require__(648324),__webpack_require__(169358),__webpack_require__(100385)),NewConditionalValue=__webpack_require__(152073),criteriaHelper=__webpack_require__(292296),validation=__webpack_require__(990260),Cardvue_type_script_lang_js={props:["cardData","cardStyle"],mixins:[criteriaHelper/* default */.Z],data:function(){return{tablererender:!1,visibility:!1,selectcolumn:null,height:"",loading:!0,result:null,elTableResult:[],data:null,tableConfig:{}}},watch:{"config.height":{handler:function(){this.getClientProps()}}},computed:{mode:function(){return!(!this.$route.query||!this.$route.query.create||"edit"!==this.$route.query.create)||!(!this.$route.query||!this.$route.query.create||"new"!==this.$route.query.create)}},mounted:function(){this.getClientProps(),this.getParams()},components:{SmartTableSettings:SmartTableSettings/* default */.Z,ConditionalValue:NewConditionalValue/* default */.Z},methods:{getStyleObj:function(value,conditionalFormatting,config){var _this=this,self=this;if(conditionalFormatting&&conditionalFormatting.length){var style={};return conditionalFormatting.forEach((function(rt){var operator=null;operator=Object.values(self.$constants.OPERATORS[config.datatype]).find((function(rl){return rl.operatorId===rt.critera.operatorId})),operator&&_this.criteriaValidate(value,rt.critera.value,operator._name,config.datatype)&&(style={color:rt.style.color,"background-color":rt.style.bgcolor},rt.action.blink&&(style.animation="blinker 1s linear infinite"))})),style}return{}},save:function(){var _this2=this;this.setParams(),this.closedialog(),this.tablererender=!0,setTimeout((function(){_this2.tablererender=!1}),150)},closedialog:function(){this.visibility=!1,this.selectcolumn=null},getClientProps:function(){var _this3=this;this.$nextTick((function(){_this3.$el?_this3.height=_this3.$el.clientHeight-(_this3.mode?28:0):_this3.height=""}))},setColWidth:function(currentWidth,preWidth,celldata){if(!(0,validation/* isEmpty */.xb)(this.data)){if(celldata&&celldata.label){var index=this.data.columns.findIndex((function(rt){return rt.label===celldata.label}));this.data.columns[index].width=currentWidth}this.setParams()}},refresh:function(){this.getParams()},formatLabel:function(label,config){if(config&&"DATE"===config.datatype){var sec=Number(label);return this.toHHMMSS(sec)}return label},toHHMMSS:function(sec){var sec_num=parseInt(sec,10),hours=Math.floor(sec_num/3600),minutes=Math.floor((sec_num-3600*hours)/60),seconds=sec_num-3600*hours-60*minutes;// don't forget the second param
return hours<10&&(hours="0"+hours),minutes<10&&(minutes="0"+minutes),seconds<10&&(seconds="0"+seconds),hours>1?"00"!==minutes?hours+" hrs "+minutes+" mins":hours+" hrs ":"00"!==seconds?minutes+" mins"+seconds+" secs":minutes+" mins"},objectSpanMethod:function(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex;return this.tableConfig[columnIndex][rowIndex]},perpareElTableResult:function(result){return result.data?result.data:[]},getData:function(result){this.result=result.result,this.elTableResult=this.perpareElTableResult(result.result),this.getTableOptions(this.elTableResult),this.elTableResult=this.tempFormatingData(this.elTableResult)},tempFormatingData:function(result){return result},getTableOptions:function(result){var config={},res=result,mergeRuleList={};this.data.columns.forEach((function(rt,index){config[index]={};var list=[];rt.merge?(rt.mergeKey&&mergeRuleList[rt.mergeKey]?list=mergeRuleList[rt.mergeKey]:result.forEach((function(rl){var cou={};cou["key"]=rl[rt.key],cou["value"]=res.filter((function(rx){return rx[rt.key]===rl[rt.key]})).length,list.findIndex((function(r){return r.key===cou.key}))>-1?list.push({key:rl[rt.key],value:0}):list.push(cou)})),result.forEach((function(rl,idx){var d={rowspan:list[idx].value,colspan:1};config[index][idx]=d}))):result.forEach((function(rl,idx){var d={rowspan:1,colspan:1};config[index][idx]=d})),mergeRuleList[rt.key]=list})),this.tableConfig=config},getParams:function(){(0,validation/* isEmpty */.xb)(this.widget)||(this.widget.dataOptions.data?(this.widget.dataOptions.metaJson=JSON.stringify(this.widget.dataOptions.data),this.data=this.widget.dataOptions.data,this.setParams()):this.widget.id>-1&&this.widget.dataOptions.metaJson&&(this.data=JSON.parse(this.widget.dataOptions.metaJson),this.setParams()))},setParams:function(){this.data&&!this.data.style?this.data.style={color:this.color,bgcolor:this.bgcolor}:this.style=this.data.style,this.widget.dataOptions.metaJson=JSON.stringify(this.data)}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports},
/***/940945:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/energy/type1/Card.vue?vue&type=template&id=52a85e0d
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{class:["cb-card-container d-flex flex-direction-row p20 energy-card"]},[_vm.cardData.image?_c("div",{staticClass:"d-flex flex-direction-column"},[_c("img",{staticClass:"fc-avatar profilemini-avatar",attrs:{src:_vm.cardData.image}})]):_c("div",{staticClass:"d-flex flex-direction-column"},[_c("inline-svg",{attrs:{src:"svgs/cardbuilder/placeholder-icons/building",iconClass:"icon icon-building"}})],1),_c("div",{staticClass:"d-flex flex-direction-column pT5 mL20 pointer",on:{click:function($event){return _vm.triggerAction()}}},[_c("div",{staticClass:"fvw18 bold pB10"},[_vm._v(_vm._s(_vm.cardData.title))]),_c("div",{staticClass:"sb-secondary-color mb5"},[_vm._v(_vm._s(_vm.cardData.period))]),_vm.$validation.isEmpty(_vm.cardData.value)?_vm._e():_c("div",{staticClass:"fvw20"},[_c("span",{staticClass:"bold"},[_vm._v(_vm._s(_vm.formattedValue))]),_vm.cardData.value.unit?_c("span",{staticClass:"fvw14 mL5"},[_vm._v(" "+_vm._s(_vm.cardData.value.unit)+" ")]):_vm._e()]),_vm.showTrend?_c("div",[_c("arrow",{staticClass:"pT5",attrs:{arrowStyles:_vm.cardStyle,value:_vm.formatDecimal(_vm.cardData.value.value,0),baselineValue:_vm.formatDecimal(_vm.cardData.baselineValue.value,0)}})],1):_vm._e()])])],1)},staticRenderFns=[],BaseCard=__webpack_require__(262882),validation=__webpack_require__(990260),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},computed:{subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format([cardParams.reading])}}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,GrowthArrow=__webpack_require__(522423),card_helpers=__webpack_require__(716956),type1_Cardvue_type_script_lang_js={extends:Card,mixins:[card_helpers/* default */.Z],components:{arrow:GrowthArrow/* default */.Z},computed:{formattedValue:function(){var cardData=this.cardData,value=this.$getProperty(cardData,"value.value");return value?this.formatDecimal(value):"--"},showTrend:function(){var cardData=this.cardData;return!(0,validation/* isEmpty */.xb)(this.$getProperty(cardData,"value.value",null))&&!(0,validation/* isEmpty */.xb)(this.$getProperty(cardData,"baselineValue.value",null))}}},energy_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(energy_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/789245:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/energyCost/type1/Card.vue?vue&type=template&id=4da25edf&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{class:["cb-card-container d-flex flex-direction-column p20 weather-card text-center","cost-card"]},[_c("div",{staticClass:"mT5  cost-text"},[_vm._v(" "+_vm._s(_vm.cardData.title||"ENERGY COST")+" ")]),_c("div",{staticClass:"mT10 pointer",on:{click:function($event){return _vm.triggerAction()}}},[_vm.cardData.value?_c("div",{staticClass:"mL10 degree inline vertical-middle"},["--"!==_vm.formattedValue&&_vm.$currency.includes("$")?_c("span",{staticClass:"weather-unit"},[_vm._v(" "+_vm._s(_vm.$currency)+" ")]):_vm._e(),_c("span",{style:_vm.valueStyle},[_vm._v(_vm._s(_vm.formattedValue))]),"--"===_vm.formattedValue||_vm.$currency.includes("$")?_vm._e():_c("span",{staticClass:"weather-unit"},[_vm._v(" "+_vm._s(_vm.$currency)+" ")])]):_vm._e()]),_c("div",{staticClass:"mT10 cost-text text-uppercase op8"},[_vm._v(" "+_vm._s(_vm.cardData.period)+" ")])])],1)},staticRenderFns=[],BaseCard=__webpack_require__(262882),validation=__webpack_require__(990260),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},computed:{subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format([cardParams.reading])}}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,defaultLocale=__webpack_require__(247539),type1_Cardvue_type_script_lang_js={extends:Card,computed:{valueStyle:function(){var cost=this.cardData.value;if((0,validation/* isEmpty */.xb)(cost)||(0,validation/* isEmpty */.xb)(cost.value))return null;var value=cost.value,font=2.5;return value.length<7?font=2.4:value.length<8?font=2.2:value.length<12?font=2:value.length>12&&(font=1.8),{fontSize:font+"rem",verticalAlign:"middle"}},formattedValue:function(){var cost=this.cardData.value;if((0,validation/* isEmpty */.xb)(cost)||(0,validation/* isEmpty */.xb)(cost.value))return"--";var value=cost.value;return(0,defaultLocale/* format */.WU)(",")(parseInt(value))}}},energyCost_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(energyCost_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"4da25edf",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/60143:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/floorPlan/type1/Card.vue?vue&type=template&id=037b9160&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:" height100 p0"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"fp-widget-container",style:{height:_vm.height}},[_c("div",{staticClass:"card-header-block f15 bold fc-widget-header"},[_vm._v(" "+_vm._s(_vm.cardData.title)+" ")]),_c("div",{staticClass:"dashboard-web-widget"},[[_vm.cardData&&_vm.cardData.value?_c("floorplan-view-play",{ref:"floorplanWidget",staticClass:"floor-map-overview height100",attrs:{floorplanId:_vm.cardData.value.id,floorId:_vm.cardData.value.floorId,hideHeader:!0,data:_vm.data,viewMode:_vm.cardData.viewMode,viewParams:_vm.viewParams,hideSettings:!0},on:{view:_vm.handleView}}):_vm._e()]],2)])],1)},staticRenderFns=[],BaseCard=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(262882)),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,d3=__webpack_require__(348727),FloorplanPlay=__webpack_require__(222353),type1_Cardvue_type_script_lang_js={props:["cardDataObj"],extends:Card,components:{floorplanViewPlay:FloorplanPlay["default"]},data:function(){return{height:300,params:{},floorplanData:null}},mounted:function(){this.getClientProps()},computed:{data:function(){return this.floorplanData?this.floorplanData:this.cardData.data},viewParams:function(){return this.cardParams&&this.cardParams.viewParams?this.cardParams.viewParams:this.cardDataObj&&this.cardDataObj.viewParams?this.cardDataObj.viewParams:null},cardParam:function(){return this.cardParams?this.cardParams:this.cardDataObj?this.cardDataObj:null}},watch:{"$attrs.widgetConfig.w":{handler:function(){var _this=this;setTimeout((function(){_this.getClientProps()}),200)}},"$attrs.widgetConfig.h":{handler:function(){var _this2=this;setTimeout((function(){_this2.getClientProps()}),200)}}},methods:{handleView:function(mode,data){this.$set(this,"params",this.cardParam),this.cardData.viewMode=mode,this.params.viewMode=mode,this.getVieMode(data)},getVieMode:function(data){var _this3=this;this.floorplanData=null,"readings"===this.params.viewMode&&this.$set(this.params,"viewParams",data),this.$http.post("/v2/floorPlan/viewFloorPlanMode",{floorPlanViewMode:this.params}).then((function(_ref){var data=_ref.data;0===data.responseCode&&(_this3.floorplanData=data.result.data,_this3.prepareStyle(data.result.data),_this3.$refs["floorplanWidget"]&&_this3.$refs["floorplanWidget"].reInit())}))},prepareStyle:function(data){var _this4=this,colors=d3.scaleLinear().range(["#1b7f01","#7fc001","#ffff01","#fb8002","#fa1000"]);if(data&&data.areas){var areas=data.areas,style={};if("readings"===this.cardData.viewMode){var domaindata=[];areas.forEach((function(rt){rt.value&&rt.value.value&&domaindata.push(rt.value.value)})),colors.domain(domaindata),areas.forEach((function(rt){if(rt.value&&rt.value.value){var label="".concat(rt.value.value," ").concat(rt.value.unit||"");_this4.$set(style,"fill",colors(rt.value.value)),rt.style||_this4.$set(rt,"styles",style),_this4.$set(rt,"label",label),style={}}else _this4.$set(style,"fill","#b0b0b0"),rt.style||_this4.$set(rt,"styles",style)}))}}},getClientProps:function(){var _this5=this;this.data&&this.prepareStyle(this.data),this.$nextTick((function(){_this5.$el?_this5.height=_this5.$el.clientHeight-67:_this5.height=300,_this5.$refs["floorplanWidget"]&&_this5.$refs["floorplanWidget"].reInit()}))}}},floorPlan_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(floorPlan_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"037b9160",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/341857:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/graphicCard/type1/Card.vue?vue&type=template&id=07f39a5e&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("shimmer-loading",{staticClass:"map-shimmer"}):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column"},[_c("div",{staticClass:"card-header-block f15 bold",style:{backgroundColor:_vm.cardStyle.headerColor,color:"#fff"}},[_vm._v(" "+_vm._s(_vm.cardData.title)+" ")]),_c("div",{staticClass:"height100 d-flex flex-direction-column pT10"},_vm._l(_vm.cardData.values,(function(value,index){return _c("div",{key:index,staticClass:"d-flex flex-direction-row reading pT15 pB15 pL25 pR25"},[_vm.canShowIcons?_c("div",{staticStyle:{"min-width":"30px"}},[_vm.getIconPath(value.icon)?_c("inline-svg",{key:value.icon,class:["vertical-middle"],attrs:{src:_vm.getActivePath(value),iconClass:"icon icon-lg "+_vm.getActiveClass(value)}}):_vm._e()],1):_vm._e(),_vm.canShowLabels?_c("div",{staticClass:"flex-grow f13 bold"},[_vm._v(" "+_vm._s(value?value.label:"")+" ")]):_vm._e(),_c("div",{staticClass:"mL-auto vertical-middle"},[value&&!_vm.$validation.isEmpty(value.value)?["BOOLEAN"===value.dataType?_c("span",{class:["f14","bold",value.value?"text-on":"text-off"]},[_vm._v(" "+_vm._s("string"===typeof value.value?value.value:value.value?"ON":"OFF")+" ")]):"ENUM"===value.dataType?_c("span",{class:["f14 bold text-uppercase"]},[_vm._v(" "+_vm._s(value.value)+" ")]):["DECIMAL","NUMBER"].includes(value.dataType)?_c("span",{staticClass:"f16"},[_vm._v(" "+_vm._s(value.hasOwnProperty("value")&&_vm.isValue(value.value)?_vm.formatDecimal(value.value):"")+" "+_vm._s(value.unit?value.unit:"")+" ")]):_c("span",{staticClass:"f15"},[_vm._v(" "+_vm._s(value.value)+" "+_vm._s(value.unit?value.unit:"")+" ")])]:_c("span",{staticClass:"f13",staticStyle:{color:"#bfbfbf"}},[_vm._v(" No Data ")])],2)])})),0),_vm.cardData.lastUpdated?_c("div",{staticClass:"pB5 text-center f12 fc-grey4"},[_vm._v(" *Last updated "+_vm._s(_vm.lastUpdatedTime)+" ")]):_c("div",{staticClass:"pB5 text-center f12 fc-grey4"},[_vm._v(" *No data found for the last one hour. ")])])],1)},staticRenderFns=[],ShimmerLoading=(__webpack_require__(450886),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(516400)),BaseCard=__webpack_require__(262882),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,card_constants=__webpack_require__(806186),validation=__webpack_require__(990260),vue_runtime_esm=__webpack_require__(720144),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),type1_Cardvue_type_script_lang_js={extends:Card,components:{shimmerLoading:ShimmerLoading/* default */.Z},computed:{canShowLabels:function(){return this.cardState.canShowLabels},canShowIcons:function(){return this.cardState.canShowIcons},lastUpdatedTime:function(){var lastUpdated=this.cardData.lastUpdated;
// eslint-disable-next-line no-unused-vars
this.now;return moment_timezone_default()(lastUpdated).tz(vue_runtime_esm["default"].prototype.$timezone).fromNow()},subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format(cardParams.readings.map((function(_ref){var reading=_ref.reading;return reading})))}}},methods:{getIconPath:function(icon){return card_constants/* graphicIcons */.u_.find((function(i){return i.name===icon}))},getActivePath:function(value){var isBoolean="BOOLEAN"===value.dataType,isTruthy=!(0,validation/* isEmpty */.xb)(value.value)&&(!0===value.actualValue||!0===value.value),needsActiveIcon=!(0,validation/* isEmpty */.xb)(value.icon)&&["bulb","bell","motor","energy","power","pressure","battery","carbon","carbon_alt","humidity","humidity_alt"].includes(value.icon);return isBoolean&&isTruthy&&needsActiveIcon?this.getIconPath(value.icon).activePath:this.getIconPath(value.icon).path},getActiveClass:function(value){var isBoolean="BOOLEAN"===value.dataType,isNumber=["DECIMAL","NUMBER"].includes(value.dataType),isTruthy=!1;isBoolean?isTruthy=!(0,validation/* isEmpty */.xb)(value.value)&&(!0===value.actualValue||!0===value.value):isNumber&&(isTruthy=!(0,validation/* isEmpty */.xb)(value.value)&&value.value>0);var needsActiveClass=!(0,validation/* isEmpty */.xb)(value.icon)&&["supplyfan","fan","bulb"].includes(value.icon),_this$getIconPath=this.getIconPath(value.icon),activeClass=_this$getIconPath.activeClass,_this$getIconPath$cla=_this$getIconPath.className,className=void 0===_this$getIconPath$cla?null:_this$getIconPath$cla;return isTruthy&&needsActiveClass?activeClass:className||""}}},graphicCard_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(graphicCard_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"07f39a5e",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/710612:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/kpi/type1/Card.vue?vue&type=template&id=2c0bc483
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100",attrs:{id:"kpi_layout1"}},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column p25 pB20",style:{backgroundColor:_vm.deftheme?"#170238":_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"f15 bold mB-auto",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Kpi Card")+" ")]),_c("div",{staticClass:"mB-auto",on:{click:function($event){return _vm.triggerAction()}}},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):[_vm.localUnit?_c("div",{staticClass:"f35",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[1===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),2===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e()]):_c("div",{staticClass:"f35",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[_vm.unit.includes("$")?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),_vm.unit.includes("$")?_vm._e():_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.unit))])])],_c("div",{staticClass:"f13",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.secondaryText)+" ")])],2)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),BaseCard=(__webpack_require__(228436),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(434284),__webpack_require__(262882)),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},computed:{unit:function(){var cardData=this.cardData;return cardData&&cardData.value&&cardData.value.unit?cardData.value.unit:cardData.value&&cardData.value.kpi&&cardData.value.kpi.metric&&cardData.value.kpi.metric.unit?cardData.value.kpi.metric.unit:""},localUnit:function(){var cardStyle=this.cardStyle;return cardStyle.unitConfig&&cardStyle.unitConfig.unit||cardStyle.unitConfig&&""!==cardStyle.unitConfig.unit?cardStyle.unitConfig:null}},mounted:function(){if(this.cardStyle&&!this.cardStyle.unitConfig){var data={unit:"",position:2};this.$set(this.cardStyle,"unitConfig",data)}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,validation=__webpack_require__(990260),api=(__webpack_require__(773258),__webpack_require__(32284)),card_helpers=__webpack_require__(716956),type1_Cardvue_type_script_lang_js={extends:Card,mixins:[card_helpers/* default */.Z],data:function(){return{report:null}},mounted:function(){var _this=this;this.$nextTick((function(rt){_this.subtextAction()})),this.findKpiField(),this.setReadingObj()},watch:{cardData:{handler:function(newVal,oldVal){newVal&&this.configWatchHook()},deep:!0}},computed:{deftheme:function(){return!("#FFFFFF"!==this.cardStyle.backgroundColor&&"#FFF"!==this.cardStyle.backgroundColor||"#110d24"!==this.cardStyle.primaryColor||"#969caf"!==this.cardStyle.secondaryColor||!this.curtheme)},curtheme:function(){var strtheme=window.localStorage.getItem("theme");return""!==strtheme&&"white"!==strtheme},cardDataValue:function(){var value=this.cardData.value.value,decimalPlace=this.cardStyle&&this.cardStyle.hasOwnProperty("decimalPlace")?this.cardStyle.decimalPlace:-1;return this.getFormatedValue(value,decimalPlace)},cardParam:function(){return this.cardParams?this.cardParams:this.cardDataObj?this.cardDataObj:null},secondaryText:function(){if(this.cardData){var cardData=this.cardData;return cardData.formatedSubText?cardData.formatedSubText:cardData.period?cardData.period:""}return""}},methods:{setReadingObj:function(){var data=this.cardDrilldown&&this.cardDrilldown.default&&this.cardDrilldown.default.data?this.cardDrilldown.default.data:null;data&&data.reportId&&this.loadReport(data.reportId)},loadReport:function(reportId){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var resp,result;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.put("v3/report/execute",{reportId:reportId});case 2:resp=_context.sent,result=resp.data,_this2.report=result.report;case 5:case"end":return _context.stop()}}),_callee)})))()},configWatchHook:function(){var _this3=this;this.$nextTick((function(){_this3.subtextAction()}))},findKpiField:function(){
// to be removed
var _ref=this.cardData.value||{},kpi=_ref.kpi;if(!(0,validation/* isEmpty */.xb)(kpi)){var moduleName=this.$getProperty(kpi,"moduleName",null);(0,validation/* isEmpty */.xb)(moduleName)}},loadFields:function(moduleName){var _this4=this;this.$http.get("/module/meta?moduleName=".concat(moduleName)).then((function(response){var fields=response.data.meta.fields;
// this will be handled in server itself
_this4.cardData&&_this4.cardData.value&&_this4.cardData.value.kpi&&_this4.$set(_this4.cardData.value.kpi,"fields",fields)}))},subtextAction:function(){var _this5=this;if(this.cardData&&this.cardData.value&&this.cardParam){var subText=this.cardParam.subText,_this$cardData$value=this.cardData.value,moduleData=_this$cardData$value.moduleData,fields=_this$cardData$value.fields,variables=_this$cardData$value.variables;subText&&""!==subText.trim()&&(moduleData?fields.forEach((function(field){subText=subText.replace("${"+field.name+"}",_this5.formatValueByFieldType(moduleData[field.name],field))})):variables?variables.forEach((function(field){subText=subText.replace("${"+field.name+"}",_this5.formatValueByFieldType(variables[field.name],field))})):fields&&fields.forEach((function(field){subText=subText.replace("${"+field.name+"}",_this5.formatValueByFieldType("",field))})),this.$set(this.cardData,"formatedSubText",subText))}}}},kpi_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(kpi_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/336496:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type2_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/kpi/type2/Card.vue?vue&type=template&id=7c09575c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100",attrs:{id:"kpi_layout2"}},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.deftheme?"#170238":_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"p20 pB0 f15 bold mB-auto",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Kpi Card")+" ")]),_c("div",{staticClass:"p20 inline-flex pointer"},[_c("div",{staticClass:"mB-auto",on:{click:function($event){return _vm.triggerAction()}}},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):[_vm.localUnit?_c("div",{staticClass:"f35",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[1===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),2===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e()]):_c("div",{staticClass:"f35",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.primaryColor}},[_vm.unit.includes("$")?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),_vm.unit.includes("$")?_vm._e():_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.unit))])])],_c("div",{staticClass:"f13",style:{color:_vm.deftheme?"#fff":_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.secondaryText)+" ")])],2),_c("div",{staticClass:"mB-auto mL-auto mT10"},[_vm.cardData.value?_c("arrow",{attrs:{arrowStyles:_vm.cardStyle,value:_vm.cardData.value.value,baselineValue:_vm.cardData.baselineValue.value}}):_vm._e()],1)]),_c("div",{staticClass:"p20 d-flex flex-wrap mT-auto",staticStyle:{"border-top":"solid 1px rgba(0, 0, 0, 0.04)"}},[_c("div",{staticClass:"f13",style:{color:"#FFF"===_vm.cardStyle.backgroundColor&&"#110d24"===_vm.cardStyle.primaryColor&&"#969caf"===_vm.cardStyle.secondaryColor&&_vm.curtheme?"#fff":_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.baselinePeriod||"Last Month")+" ")]),_c("div",{staticClass:"f13 pL15 bold",style:{color:"#FFF"===_vm.cardStyle.backgroundColor&&"#110d24"===_vm.cardStyle.primaryColor&&"#969caf"===_vm.cardStyle.secondaryColor&&_vm.curtheme?"#fff":_vm.cardStyle.primaryColor}},[1===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.formattedBaseline)+" "),2===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e()])])])],1)},staticRenderFns=[],Card=__webpack_require__(710612),validation=__webpack_require__(990260),card_helpers=__webpack_require__(716956),GrowthArrow=__webpack_require__(522423),Cardvue_type_script_lang_js={extends:Card/* default */.Z,mixins:[card_helpers/* default */.Z],components:{arrow:GrowthArrow/* default */.Z},computed:{deftheme:function(){return!("#FFF"!==this.cardStyle.backgroundColor||"#110d24"!==this.cardStyle.primaryColor||"#969caf"!==this.cardStyle.secondaryColor||!this.curtheme)},curtheme:function(){var strtheme=window.localStorage.getItem("theme");return""!==strtheme&&"white"!==strtheme},formattedBaseline:function(){var baselineValue=this.cardData.baselineValue,decimalPlace=this.cardStyle&&this.cardStyle.hasOwnProperty("decimalPlace")?this.cardStyle.decimalPlace:-1,hasValue=baselineValue&&(0,validation/* isNumber */.hj)(baselineValue.value)&&baselineValue.value>=0;return hasValue?decimalPlace>0?this.formatDecimal(baselineValue.value,decimalPlace):decimalPlace>-1?this.formatDecimal(baselineValue.value,0):this.formatDecimal(baselineValue.value):"--"}}},type2_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type2_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type2_Card=component.exports},
/***/540803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/mapCard/base/Card.vue?vue&type=template&id=67acbcee
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"width100 height100 dragabale-card"},[_vm.isLoading?_c("card-loading"):[_c("f-map",{attrs:{markers:_vm.markers,theme:_vm.theme,layers:_vm.layers,maxIntensity:_vm.maxIntensity,styles:_vm.mapStyles,mapZoom:_vm.zoom}})]],2)},staticRenderFns=[],FNewMap=(__webpack_require__(260228),__webpack_require__(76265),__webpack_require__(947522),__webpack_require__(879288),__webpack_require__(786900)),validation=__webpack_require__(990260),card_helpers=__webpack_require__(716956),BaseCard=__webpack_require__(262882),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{FMap:FNewMap/* default */.Z,cardLoading:CardLoading/* default */.Z},mixins:[card_helpers/* default */.Z],data:function(){return{rerender:!1,markers:[],maxIntensity:0}},computed:{heatmap:function(){return!(0,validation/* isEmpty */.xb)(this.cardState)&&this.cardState.heatmap?this.cardState.heatmap:{}},mapStyles:function(){var styles={},heatmap=this.heatmap;return(0,validation/* isEmpty */.xb)(heatmap)||this.$set(styles,"heatmap",heatmap),styles},markerstyle:function(){return!(0,validation/* isEmpty */.xb)(this.cardState)&&this.cardState.marker?this.cardState.marker:{}},theme:function(){return this.cardStyle.theme?this.cardStyle.theme:null},layers:function(){return!(0,validation/* isEmpty */.xb)(this.cardState)&&this.cardState.layers?this.cardState.layers:[]},zoom:function(){return!(0,validation/* isEmpty */.xb)(this.cardState)&&this.cardState.zoom?this.cardState.zoom:null}},watch:{"cardData.values":{handler:function(){this.prepareMapdata(),this.prepareMapConfig(),this.rerenderCall()},deep:!0},"cardData.icon":{handler:function(){var self=this;this.rerender=!0,setTimeout((function(){self.rerender=!1}),100)},deep:!0}},mounted:function(){this.prepareMapdata()},methods:{rerenderCall:function(){var _this=this;this.rerender=!0,setTimeout((function(){_this.rerender=!1}),100)},prepareMapdata:function(){var _this2=this;if(!(0,validation/* isEmpty */.xb)(this.cardData)){this.maxIntensity=0;var styles=this.markerstyle.styles;this.cardData&&this.cardData.values&&(this.markers=this.$helpers.cloneObject(this.cardData.values),this.markers.forEach((function(marker){if(marker.location&&(marker.loc=_this2.$helpers.cloneObject(marker.location)),marker.loc){var loc=marker.loc.split(",");marker.location={lat:Number(loc[0]),lng:Number(loc[1])}}marker.weight&&marker.weight>_this2.maxIntensity&&(_this2.maxIntensity=marker.weight),marker.markerSvg=_this2.getMapMarkerIcon(marker,styles),marker.scaledSize=_this2.getScaledSize(marker)})))}},getScaledSize:function(data){var icon=data.icon;return 1===icon||2===icon?{width:40,height:40,f:"20px",b:"10px"}:3===icon?{width:80,height:80,f:"20px",b:"20px"}:{width:40,height:40,f:"20px",b:"20px"}},prepareMapConfig:function(){}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports},
/***/512081:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/photos/type1/Card.vue?vue&type=template&id=bed5e77e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("ShimmerLoading",{staticClass:"map-shimmer"}):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column"},[_vm.canShowHeader?_c("div",{staticClass:"card-header-block textoverflow-ellipsis max-width100 f15 bold",style:{backgroundColor:_vm.cardState.configuration.backgroundColor,color:"#000"}},[_vm._v(" "+_vm._s(_vm.cardData.title)+" ")]):_vm._e(),_vm.$validation.isEmpty(_vm.getRecords)?_c("div",{staticClass:"height100 d-flex flex-col align-center justify-content-center"},[_c("div",[_c("InlineSvg",{staticClass:"d-flex flex-row justify-content-center",attrs:{src:"svgs/file-image-solid",iconClass:"icon icon-35pc fill-grey2"}})],1),_c("div",{staticClass:"mT20 fc-black-dark f16 bold"},[_vm._v("No Data Available")])]):"carousel"===_vm.cardState.configuration.mode?_c("div",{staticClass:"height100 d-flex flex-direction-column photos-card-container",style:{backgroundColor:_vm.cardState.configuration.backgroundColor||"#fff"}},[_c("div",{staticClass:"display-flex-between-space height100 dashboard-carousel-photo"},[_c("el-carousel",{attrs:{trigger:_vm.cardState.configuration.trigger,interval:1e3*Number(_vm.cardState.configuration.interval)||4e3,type:_vm.cardState.configuration.type,autoplay:_vm.cardState.configuration.autoplay,arrow:_vm.cardState.configuration.arrow,loop:_vm.cardState.configuration.loop}},_vm._l(_vm.getRecords,(function(file,index){return _c("el-carousel-item",{key:index,staticClass:"visibility-visible-actions pointer"},[_vm.cardState.configuration.showDetails?_c("div",{staticClass:"fc-photo-widget-user"},[_c("Avatar",{staticClass:"pointer avatar-photo-widget",attrs:{size:"sm",user:_vm.$store.getters.getUser(file.uploadedBy)}})],1):_vm._e(),_c("img",{directives:[{name:"lazy",rawName:"v-lazy",value:file.previewUrl,expression:"file.previewUrl"}],staticClass:"photos-image-container",on:{click:function($event){return _vm.openImagePreview(_vm.getRecords,index)}}}),_vm.cardState.configuration.showDetails?_c("div",{staticClass:"fc-content-photo-widget"},[_c("div",{staticClass:"fc-white-13 line-height20 text-left bold text-left bold textoverflow-ellipsis max-width90"},[_vm._v(" "+_vm._s(_vm.getPrimaryValue(file)||"---")+" ")])]):_vm._e(),_c("div",{staticClass:"card-overlay visibility-hide-actions",on:{click:function($event){return _vm.openImagePreview(_vm.getRecords,index)}}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"card-open-link",attrs:{title:"Open Workorder","data-arrow":"true"},on:{click:function($event){return $event.stopPropagation(),_vm.routeToSummary(file)}}},[_c("inline-svg",{staticClass:"pointer fill-white",attrs:{src:"svgs/out",iconClass:"icon icon-sm fill-white"}})],1),_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"fc-white-15 textoverflow-ellipsis max-width90",attrs:{title:_vm.getPrimaryValue(file)||"---","data-arrow":"true"}},[_vm._v(" "+_vm._s(_vm.getPrimaryValue(file)||"---")+" ")]),_c("div",{staticClass:"fc-white-15 text-left pT5 flex-middle"},[_c("div",{},[_vm._v(" "+_vm._s((_vm.$store.getters.getUser(file.uploadedBy)||{}).name||"---")+" ")]),_c("el-divider",{staticClass:"fc-white-15 mL5 mR5",attrs:{direction:"vertical"}}),_c("div",{},[_vm._v(" "+_vm._s(_vm.$options.filters.formatDate(file.uploadedTime))+" ")])],1),"taskattachments"===_vm.getAttachmentModuleName?_c("div",{staticClass:"fc-white-15 pT5"},[_vm._v(" "+_vm._s(_vm.getTaskSubject(file)||"---")+" "),_c("div",{staticClass:"fc-white-15 text-left pT5"},[_vm._v(" "+_vm._s(_vm.$options.filters.formatDate(file.uploadedTime))+" ")])]):_vm._e()])])})),1)],1)]):"thumbnail"===_vm.cardState.configuration.mode?_c("div",{staticClass:"fc-dashboard-photoWidgetGall",style:_vm.gridLayoutStyle},_vm._l(_vm.getRecords,(function(file,index){return _c("div",{key:index,staticClass:"photo-gallery-image visibility-visible-actions pointer"},[_vm.cardState.configuration.showDetails?_c("div",{staticClass:"fc-photo-widget-user-single"},[_c("Avatar",{staticClass:"pointer avatar-photo-widget",attrs:{size:"sm",user:_vm.$store.getters.getUser(file.uploadedBy)}})],1):_vm._e(),_c("div",{staticClass:"height100"},[_c("el-image",{staticClass:"height100 width100",attrs:{fit:"cover",src:file.previewUrl,lazy:file.fileId>0},on:{click:function($event){return _vm.openImagePreview(_vm.getRecords,index)}}})],1),_vm.cardState.configuration.showDetails?_c("div",{staticClass:"photo-gallery-info"},[_c("div",{staticClass:"fc-white-13 text-left bold text-left bold textoverflow-ellipsis max-width90"},[_vm._v(" "+_vm._s(_vm.getPrimaryValue(file)||"---")+" ")])]):_vm._e(),"hidden"===_vm.getGridOverFlowMode&&_vm.getGridCount===index+1&&_vm.getRecords.length>_vm.getGridCount?_c("div",{staticClass:"card-overlay-single",on:{click:function($event){return _vm.openImagePreview(_vm.getRecords,index)}}},[_c("div",{staticClass:"fc-white-15 bold f15"},[_c("i",{staticClass:"el-icon-plus fwBold f15"}),_vm._v(" "+_vm._s(_vm.getRecords.length-_vm.getGridCount)+" more ")])]):_c("div",{staticClass:"card-overlay-single visibility-hide-actions",on:{click:function($event){return _vm.openImagePreview(_vm.getRecords,index)}}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"card-open-link",attrs:{title:"Open Workorder","data-arrow":"true"},on:{click:function($event){return $event.stopPropagation(),_vm.routeToSummary(file)}}},[_c("inline-svg",{staticClass:"pointer fill-white",attrs:{src:"svgs/out",iconClass:"icon icon-sm fill-white"}})],1),_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"fc-white-15 textoverflow-ellipsis max-width90",attrs:{title:_vm.getPrimaryValue(file)||"---","data-arrow":"true"}},[_vm._v(" "+_vm._s(_vm.getPrimaryValue(file)||"---")+" ")]),_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-white-15 text-left"},[_vm._v(" "+_vm._s((_vm.$store.getters.getUser(file.uploadedBy)||{}).name||"---")+" ")]),_c("el-divider",{staticClass:"fc-white-15 mL5 mR5",attrs:{direction:"vertical"}}),_c("div",{staticClass:"fc-white-15 text-left"},[_vm._v(" "+_vm._s(_vm.$options.filters.formatDate(file.uploadedTime))+" ")])],1),"taskattachments"===_vm.getAttachmentModuleName?_c("div",{staticClass:"fc-white-15 pT5"},[_vm._v(" "+_vm._s(_vm.getTaskSubject(file)||"---")+" "),_c("div",{staticClass:"fc-white-15 text-left pT5"},[_vm._v(" "+_vm._s(_vm.$options.filters.formatDate(file.uploadedTime))+" ")])]):_vm._e()])])})),0):_vm._e(),_vm.visibility?_c("el-dialog",{staticClass:"f-list-attachment-dialog",attrs:{visible:_vm.visibility,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_vm.visibility?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.previewFilesList[_vm.selectedIndex],files:_vm.previewFilesList},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1):_vm._e()],1)],1)},staticRenderFns=[],BaseCard=(__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(262882)),ShimmerLoading=__webpack_require__(516400),validation=__webpack_require__(990260),PreviewFile=__webpack_require__(720096),Avatar=__webpack_require__(574752),vue_lazyload_esm=__webpack_require__(517751),vue_runtime_esm=__webpack_require__(720144),router=__webpack_require__(329435);// CONCATENATED MODULE: ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/photos/type1/Card.vue?vue&type=script&lang=js
vue_runtime_esm["default"].use(vue_lazyload_esm/* default */.ZP,{listenEvents:["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"]});
/* harmony default export */var Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{ShimmerLoading:ShimmerLoading/* default */.Z,PreviewFile:PreviewFile/* default */.Z,Avatar:Avatar["default"]},data:function(){return{activeTab:"",visibility:!1,selectedIndex:0,previewFilesList:[]}},computed:{getRecords:function(){var subModuleVsRecords=this.$getProperty(this,"cardData.subModuleVsRecords",[]);return!(0,validation/* isEmpty */.xb)(subModuleVsRecords)&&(0,validation/* isArray */.kJ)(subModuleVsRecords)?subModuleVsRecords[0].records:[]},getAttachmentModuleName:function(){var subModuleVsRecords=this.$getProperty(this,"cardData.subModuleVsRecords",[]);return!(0,validation/* isEmpty */.xb)(subModuleVsRecords)&&(0,validation/* isArray */.kJ)(subModuleVsRecords)?subModuleVsRecords[0].moduleName:""},getMode:function(){var mode=this.$getProperty(this,"cardData.configuration.mode","carousel");return mode||"carousel"},canShowHeader:function(){var hideHeader=this.$getProperty(this,"cardState.configuration.hideHeader",!1);return!hideHeader},gridLayoutStyle:function(){var gridConfig=this.$getProperty(this,"cardState.configuration",{})||{},col=100/Number(gridConfig.cols)+"%",row=100/Number(gridConfig.rows)+"%",overflow=gridConfig.overflow||"column",backgroundColor=gridConfig.backgroundColor||"#fff",layoutStyle={"grid-template-columns":"repeat(auto-fill, minmax(calc(".concat(col," - 10px), 1fr))"),"grid-template-rows":"repeat(auto-fill, minmax(calc(".concat(row," - 10px), 1fr))"),"grid-auto-flow":"".concat(overflow),backgroundColor:backgroundColor};return this.canShowHeader?layoutStyle["height"]="calc(100% - 35px)":layoutStyle["height"]="calc(100% + 10px)","column"===overflow?(layoutStyle["grid-auto-columns"]="minmax(calc(".concat(col," - 10px), 1fr)"),layoutStyle["overflow-x"]="scroll"):"row"===overflow&&(layoutStyle["grid-auto-rows"]="minmax(calc(".concat(row," - 10px), 1fr)"),layoutStyle["overflow-y"]="scroll"),layoutStyle},getGridOverFlowMode:function(){var config=this.$getProperty(this,"cardState.configuration.overflow","column")||"column";return config},getGridCount:function(){var rows=this.$getProperty(this,"cardState.configuration.rows",0),cols=this.$getProperty(this,"cardState.configuration.cols",0);return Number(rows)*Number(cols)>0?Number(rows)*Number(cols):-1}},created:function(){var cardData=this.cardData,_ref=cardData||{},subModuleVsRecords=_ref.subModuleVsRecords;!(0,validation/* isEmpty */.xb)(subModuleVsRecords)&&(0,validation/* isArray */.kJ)(subModuleVsRecords)&&(this.activeTab=subModuleVsRecords[0].name)},methods:{openImagePreview:function(records,index){this.previewFilesList=records,this.selectedIndex=index,this.isDashboardEdit||(this.visibility=!0)},getWoSubject:function(file){var taskMap=this.$getProperty(this,"cardData.taskMeta.".concat(file.parentId),{})||{},woId=taskMap.woId||0;return this.$getProperty(this,"cardData.recordsPrimaryValue.".concat(woId),"---")||"---"},getTaskSubject:function(file){var taskMap=this.$getProperty(this,"cardData.taskMeta.".concat(file.parentId),{})||{},taskName=taskMap.taskSubject||"---";return taskName},getPrimaryValue:function(file){return"taskattachments"===this.getAttachmentModuleName?this.getWoSubject(file):this.$getProperty(this,"cardData.recordsPrimaryValue.".concat(file.parentId),"---")||"---"},routeToSummary:function(file){var woId;if("taskattachments"===this.getAttachmentModuleName){var taskMap=this.$getProperty(this,"cardData.taskMeta.".concat(file.parentId),{})||{};woId=taskMap.woId||0}else woId=file.parentId;if((0,router/* isWebTabsEnabled */.tj)()){var _ref2=(0,router/* findRouteForModule */.Jp)("workorder",router/* pageTypes */.As.OVERVIEW)||{},name=_ref2.name;name&&this.$router.push({name:name,params:{viewname:"all",id:woId}})}else this.$router.push({path:"/app/wo/orders/summary/".concat(woId)})}}},type1_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports},
/***/618966:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/pmReadings/type1/Card.vue?vue&type=template&id=40381a88&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100 ",class:{"vue-grid-item":_vm.$mobile}},[_vm.cardloading?_c("div",{staticClass:"d-flex flex-direction-column justify-center"},[_c("spinner",{attrs:{show:!0}})],1):_c("div",{staticClass:"linear-gauge dragabale-card fc-widget height100"},[_c("div",{staticClass:"height100"},[_c("f-pm-readingtable",{staticClass:"height100",attrs:{pmObject:_vm.pmObject,pm:_vm.pm,workorder:_vm.workorder,config:_vm.data.config,settings:_vm.settings}})],1)])])},staticRenderFns=[],PmReadingsable=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(131792)),BaseCard=__webpack_require__(262882),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,card_constants=__webpack_require__(806186),type1_Cardvue_type_script_lang_js={extends:Card,props:["widget","config","loading","cardDataObj"],data:function(){return{cardloading:!1,result:null,settings:{},data:{config:{hidedatefilter:!0}},pm:null,workorder:null,pmObject:null,dateOperators:card_constants/* dateOperators */._M}},components:{FPmReadingtable:PmReadingsable/* default */.Z},mounted:function(){this.getCardData()},watch:{cardData:{deep:!0,handler:function(){this.getCardData()}}},computed:{pmId:function(){return this.cardParams&&this.cardParams.pmId?this.cardParams.pmId:this.cardDataObj&&this.cardDataObj.pmId?this.cardDataObj.pmId:null}},methods:{getClientProps:function(){var _this=this;this.$nextTick((function(){var height=100;height=_this.$el?_this.$el.clientHeight-67:200,_this.$set(_this.settings,"height",height)}))},getCardData:function(){var _this2=this;this.cardloading=!0;var operatorId=22,dateValueString=null;if(this.cardDataObj)operatorId=this.dateOperators.find((function(rt){return rt.value===_this2.cardDataObj.dateRange})).enumValue;else if(this.cardParams)if(this.cardParams.cardFilters){var cardFilters=this.cardParams.cardFilters;operatorId=cardFilters.operatorId,dateValueString=cardFilters.dateValueString}else operatorId=this.dateOperators.find((function(rt){return rt.value===_this2.cardParams.dateRange})).enumValue;this.$set(this.data.config,"operatorId",operatorId),this.$set(this.data.config,"dateValueString",dateValueString),this.getClientProps(),this.loadpm()},loadpm:function(){var _this3=this;this.pmId&&this.$http.get("/workorder/preventiveMaintenanceSummary?id="+parseInt(this.pmId)).then((function(response){_this3.pm=response.data.preventivemaintenance,_this3.workorder=response.data.workorder,_this3.pmObject=response.data,_this3.cardloading=!1}))}}},pmReadings_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(pmReadings_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"40381a88",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/296456:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});
// EXTERNAL MODULE: ./src/pages/card-builder/cards/common/BaseCard.vue + 2 modules
var render,staticRenderFns,BaseCard=__webpack_require__(262882),validation=__webpack_require__(990260),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},computed:{subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format([cardParams.reading])}},variables:function(){var variables=this.result&&this.result.data&&this.result.data.variables?this.result.data.variables:null;return variables||[]},cardDataValue:function(){var value=this.cardData.value,decimalPlace=this.cardStyle&&this.cardStyle.hasOwnProperty("decimalPlace")?this.cardStyle.decimalPlace:-1,hasValue=value&&(0,validation/* isNumber */.hj)(value.value);return value.dataType&&"STRING"===value.dataType?value.value:hasValue?decimalPlace>0?this.formatDecimal(value.value,decimalPlace):decimalPlace>-1?this.formatDecimal(value.value,0):this.formatDecimal(value.value):null!=value.value&&"BOOLEAN"===value.dataType?value.value:"--"},unit:function(){var cardData=this.cardData;return cardData&&cardData.value&&cardData.value.unit?cardData.value.unit:""},localUnit:function(){var cardStyle=this.cardStyle;return cardStyle.unitConfig&&cardStyle.unitConfig.unit||cardStyle.unitConfig&&""!==cardStyle.unitConfig.unit?cardStyle.unitConfig:null}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports;
// EXTERNAL MODULE: ./node_modules/@facilio/utils/validation.js
},
/***/562946:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingCard/type1/Card.vue?vue&type=template&id=3a2137aa&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-row p25 pB20",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"d-flex flex-direction-column"},[_c("div",{staticClass:"f15 bold mB-auto",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" ")]),_c("div",{staticClass:"mB-auto pointer d-flex ",on:{click:function(){"--"!=_vm.cardDataValue&&_vm.triggerAction()}}},[_vm.cardData.image?_c("div",{staticClass:"cb-card-image"},[_c("img",{attrs:{src:_vm.getPreviewUrl(_vm.cardData.image)}})]):_vm._e(),_c("div",{staticClass:"d-flex flex-direction-column"},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):[_vm.localUnit?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[1===_vm.localUnit.position?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),2===_vm.localUnit.position?_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(_vm.localUnit.unit))]):_vm._e()]):_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm.unit.includes("$")?_c("span",{staticClass:" bold weather-unit"},[_vm._v(_vm._s(_vm.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),_vm.unit.includes("$")?_vm._e():_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(_vm.unit))])])],_c("div",{staticClass:"f13",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.period||"This Month")+" ")])],2)])])])],1)},staticRenderFns=[],Card=__webpack_require__(296456),Cardvue_type_script_lang_js={extends:Card/* default */.Z},type1_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"3a2137aa",null)
/* harmony default export */,type1_Card=component.exports},
/***/267688:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type2_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingCard/type2/Card.vue?vue&type=template&id=e8d8ef52&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"d-flex flex-direction-row"},[_c("div",{staticClass:"d-flex flex-direction-column width100"},[_c("div",{staticClass:"p20 pB0 f15 bold",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" ")]),_c("div",{staticClass:"p20 inline-flex pointer",on:{click:function($event){return _vm.triggerAction()}}},[_vm.cardData.image?_c("div",{staticClass:"cb-card-image"},[_c("img",{attrs:{src:_vm.getPreviewUrl(_vm.cardData.image)}})]):_vm._e(),_c("div",{staticClass:"mB-auto"},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle))},[_vm.isCostUnit(_vm.cardData.value)?_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.value.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),_vm.isCostUnit(_vm.cardData.value)?_vm._e():_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.value.unit))])]),_c("div",{staticClass:"f13",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardPeriod||"This Month")+" ")])]),_c("div",{staticClass:"mB-auto mL-auto mT10"},[_c("arrow",{attrs:{arrowStyles:_vm.cardStyle,value:_vm.cardData.value.value,baselineValue:_vm.cardData.baselineValue.value}})],1)])])]),_c("div",{staticClass:"p20 d-flex flex-wrap mT-auto",staticStyle:{"border-top":"solid 1px rgba(0, 0, 0, 0.04)"}},[_c("div",{staticClass:"f13",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.baselinePeriod||"Last Month")+" ")]),_c("div",{staticClass:"f13 pL15 bold",style:{color:_vm.cardStyle.primaryColor}},[_vm.isCostUnit(_vm.cardData.baselineValue)?_c("span",{staticClass:"f13 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.baselineValue.unit))]):_vm._e(),_vm._v(" "+_vm._s(_vm.formattedBaseline)+" "),_vm.isCostUnit(_vm.cardData.baselineValue)?_vm._e():_c("span",{staticClass:"f13 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.baselineValue.unit))])])])])],1)},staticRenderFns=[],GrowthArrow=__webpack_require__(522423),Card=__webpack_require__(296456),card_helpers=__webpack_require__(716956),validation=__webpack_require__(990260),Cardvue_type_script_lang_js={extends:Card/* default */.Z,components:{arrow:GrowthArrow/* default */.Z},mixins:[card_helpers/* default */.Z],computed:{formattedValue:function(){var cardData=this.cardData,value=this.$getProperty(cardData,"value.value");return null!==value&&(0,validation/* isNumber */.hj)(value)?this.formatDecimal(value):"---"},formattedBaseline:function(){var baselineValue=this.cardData.baselineValue,decimalPlace=this.cardStyle&&this.cardStyle.hasOwnProperty("decimalPlace")?this.cardStyle.decimalPlace:-1,hasValue=baselineValue&&(0,validation/* isNumber */.hj)(baselineValue.value);return hasValue?decimalPlace>0?this.formatDecimal(baselineValue.value,decimalPlace):decimalPlace>-1?this.formatDecimal(baselineValue.value,0):this.formatDecimal(baselineValue.value):"--"}},methods:{isCostUnit:function(value){if(value&&value.unit){if("$"===value.unit)return!0;if(""===value.unit)return!0}return!1}}},type2_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type2_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"e8d8ef52",null)
/* harmony default export */,type2_Card=component.exports},
/***/360718:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type3_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingCard/type3/Card.vue?vue&type=template&id=4032c842
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:" p25 pB20"},[_c("div",{staticClass:"f15 bold mB20",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" ")]),_c("div",{staticClass:"mB-auto"},[_vm.cardStyle.displayValue?_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"f35",style:Object.assign({},{color:_vm.cardStyle.primaryColor},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardDataValue)+" "),_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(_vm.cardData.value&&_vm.cardData.value.unit))])]),_c("div",{staticClass:"f13",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.period||"This Month")+" ")])])]),_vm.isTrendChart?_c("card-trend",{staticClass:"card-trend",attrs:{widget:_vm.widget,widgetMeta:_vm.widgetMeta,cardData:_vm.cardData,cardParams:_vm.cardParams,trendColor:_vm.cardStyle.graphColor}}):_vm._e()],1)],1)},staticRenderFns=[],CardTrendvue_type_template_id_63060793_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.chartrender?_c("sparkline",{attrs:{height:_vm.option.height,width:_vm.option.width,tooltipProps:_vm.trend.tooltipProps}},[_c("sparklineCurve",{attrs:{data:_vm.trend.data,limit:_vm.trend.data.length,styles:_vm.trend.style,textStyles:_vm.trend.label}})],1):_vm._e()],1)},CardTrendvue_type_template_id_63060793_staticRenderFns=[],Sparkline=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(879288),__webpack_require__(397895),__webpack_require__(380390)),helpers_formatter=__webpack_require__(676240),card_constants=__webpack_require__(806186),CardTrendvue_type_script_lang_js={props:["trendOption","widget","widgetMeta","cardData","cardParams","trendColor"],components:{Sparkline:Sparkline/* default */.Z},data:function(){return{aggregateFunctions:card_constants/* aggregateFunctions */.rD,chartrender:!1,trend:{data:[],style:{stroke:"#54a5ff",fill:"#54a5ff"},tooltipProps:{formatter:function(val){return'<label style="color:#fff;font-weight:bold;">'.concat(val.value,"</label>")}}},dateOperators:card_constants/* dateOperators */._M}},mounted:function(){this.prepareTrend(),this.chartrender=!0},computed:{option:function(){return this.widgetMeta?this.widgetMeta:{width:100,height:70}},report:function(){return this.cardData&&this.cardData.trend?this.cardData.trend:null}},methods:{prepareTrend:function(){var _this=this;this.trend.data=this.prepareTrendData(this.report),this.trend.labelArray=this.prepareTrendX(this.report),this.trend.tooltipProps={formatter:function(val){var trend=_this.trend,cardParams=_this.cardParams,cardData=_this.cardData,dateOperators=_this.dateOperators,data='<div style="padding:3px;"><div><label>'.concat(helpers_formatter/* default */.ZP.formatCardTime(trend.labelArray[val.index],cardParams.trend.xAggr,dateOperators.find((function(rt){return rt.value===cardParams.dateRange})).enumValue),"</label></div>");return data+="<div>",data+='<label style="color:#fff;font-weight:bold;">'.concat(val.value,"</label>"),null!==cardData.value&&cardData.value.unit&&(data+="<label> ".concat(cardData.value.unit,"</label>")),data+="</div></div>",data}},this.applyStyle()},prepareTrendData:function(report){return report&&report.reportData&&report.reportData.data?report.reportData.data.map((function(rt){return Number(rt["A"])})):[]},prepareTrendX:function(report){return report&&report.reportData&&report.reportData.data?report.reportData.data.map((function(rt){return Number(rt["X"])})):[]},applyStyle:function(){this.trend.style.stroke=this.trendColor||"#54a5ff",this.trend.style.fill=this.trendColor||"#54a5ff"}}},common_CardTrendvue_type_script_lang_js=CardTrendvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(common_CardTrendvue_type_script_lang_js,CardTrendvue_type_template_id_63060793_render,CardTrendvue_type_template_id_63060793_staticRenderFns,!1,null,null,null)
/* harmony default export */,CardTrend=component.exports,Card=__webpack_require__(562946),Cardvue_type_script_lang_js={extends:Card/* default */.Z,data:function(){return{isTrendChart:!0,widgetMeta:{width:0,height:0}}},components:{CardTrend:CardTrend},mounted:function(){var _this=this;setTimeout((function(){_this.render()}),200)},watch:{"$attrs.widgetConfig.w":{handler:function(){var _this2=this;setTimeout((function(){_this2.render()}),200)}},"$attrs.widgetConfig.h":{handler:function(){var _this3=this;setTimeout((function(){_this3.render()}),200)}},cardData:{handler:function(){var _this4=this;this.isTrendChart=!1,setTimeout((function(){_this4.isTrendChart=!0}),100)}}},methods:{render:function(){this.widgetMeta.width=this.$el.offsetWidth+5,this.widgetMeta.height=this.$el.offsetHeight/3}}},type3_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(type3_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type3_Card=Card_component.exports},
/***/795762:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type4_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingCard/type4/Card.vue?vue&type=template&id=2af42f5e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("shimmer-loading",{staticClass:"map-shimmer"}):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"card-header-block f15 bold d-flex",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" "),_vm.cardData.period?_c("span",{staticClass:"f12 mL-auto mR5",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.period)+" ")]):_vm._e()]),_c("div",{staticClass:"height100 d-flex flex-wrap mL25 mR25 justify-content-space"},_vm._l(_vm.cardData.values,(function(value,index){return _c("div",{key:index,staticClass:"self-center p20 pL0",style:{color:_vm.cardStyle.primaryColor},on:{click:function($event){return _vm.triggerAction()}}},[_c("div",{staticClass:"f35",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(value&&_vm.formatDecimal(value.value)||"--")+" "),_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(value&&value.unit))])]),_c("div",{staticClass:"f12 bold",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.getAggr(value.aggregation))+" ")])])})),0)])],1)},staticRenderFns=[],ShimmerLoading=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(516400)),Card=__webpack_require__(296456),card_constants=__webpack_require__(806186),Cardvue_type_script_lang_js={extends:Card/* default */.Z,components:{shimmerLoading:ShimmerLoading/* default */.Z},methods:{getAggr:function(aggr){if(!aggr)return"";var aggrObj=card_constants/* aggregateFunctions */.rD.find((function(_ref){var value=_ref.value;return value===aggr}));return aggrObj?aggrObj.label:""}}},type4_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type4_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"2af42f5e",null)
/* harmony default export */,type4_Card=component.exports},
/***/440997:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type5_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingCard/type5/Card.vue?vue&type=template&id=848e6548&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("shimmer-loading",{staticClass:"map-shimmer"}):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"card-header-block f15 bold d-flex",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Card")+" "),_vm.cardData.period?_c("span",{staticClass:"f12 mL-auto mR5",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.period)+" ")]):_vm._e()]),_c("div",{staticClass:"height100 d-flex flex-wrap mL25 mR25 justify-content-space"},_vm._l(_vm.cardData.values,(function(value,index){return _c("div",{key:index,staticClass:"self-center p20 pL0",style:{color:_vm.cardStyle.primaryColor}},[_c("div",{staticClass:"f12",style:{color:_vm.cardStyle.secondaryColor}},[_vm._v(" "+_vm._s(value&&value.name||"")+" ")]),_c("div",{staticClass:"f35 bold",on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(value&&_vm.formatDecimal(value.value)||"")+" "),_c("span",{staticClass:"f30 bold"},[_vm._v(_vm._s(value&&value.unit))])])])})),0)])],1)},staticRenderFns=[],ShimmerLoading=__webpack_require__(516400),Card=__webpack_require__(296456),Cardvue_type_script_lang_js={extends:Card/* default */.Z,components:{shimmerLoading:ShimmerLoading/* default */.Z}},type5_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type5_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"848e6548",null)
/* harmony default export */,type5_Card=component.exports},
/***/204543:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/readingTable/type1/Card.vue?vue&type=template&id=615d0f1d&scoped=true
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:" height100 reading-card-table"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"height100 reading-table fc-list-card-table-container fc-list-view fc-list-table-container fc-table-td-height fc-table-viewchooser pB100"},[_vm.showHeader?_c("div",{staticClass:" fc-widget-header card-header-block f15 bold d-flex"},[_vm._v(" "+_vm._s(_vm.cardData.title||"Reading Table")+" ")]):_vm._e(),_c("div",{class:_vm.cardStyle.theme},[_vm.invert?_c("el-table",{attrs:{data:_vm.invtableData,border:"",fit:!1,width:"100%",height:"100%"},on:{"header-dragend":_vm.setColWidth}},[_vm._l(_vm.invertColumns,(function(col,index){return[_c("el-table-column",{key:index,attrs:{prop:col.prop,label:col.label,width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"reading-table-row",class:{setVisibleAction:_vm.setVisibleIv(scope)}},[_vm.getTooltipDataIv(scope)&&!_vm.isDashboardEdit?_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.getTooltipDataIv(scope),placement:"bottom"}},[_c("div",{staticClass:"jumptocell",on:{click:function($event){return $event.stopPropagation(),_vm.jumpToModulesIv(scope,"trend")}}},[_vm._v(" "+_vm._s(scope.row[col.prop])+" "),_c("el-button",{staticClass:"mg-20 set-btn visibilityHideAction",attrs:{size:"mini"},on:{click:function($event){return $event.stopPropagation(),_vm.jumpToModulesIv(scope,"set")}}},[_vm._v("Set")])],1)]):_c("div",[_vm._v(_vm._s(scope.row[col.prop]))])],1)]}}],null,!0)})]}))],2):_c("el-table",{attrs:{id:""+_vm.getUniqueId,border:"",data:_vm.tableData,fit:!1,width:"100%",height:"100%","cell-style":_vm.cellStyle,"span-method":_vm.objectSpanMethod},on:{"header-dragend":_vm.setColWidth}},[_vm._l(_vm.cardData.columns,(function(column,index){return[_c("el-table-column",{key:index,attrs:{prop:column.fieldName,label:column.label,width:column.width||200},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"reading-table-row",class:{setVisibleAction:_vm.setVisible(scope)}},["ACTION"===column.type?_c("div",[1===scope.row[column.fieldName].length?[_c("el-button",{attrs:{size:"mini"}},[_vm._v(_vm._s(scope.row[column.fieldName][0].message||"Open URL"))])]:[_c("el-dropdown",[_c("el-button",{attrs:{size:"mini"}},[_vm._v(" Go to"),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(scope.row[column.fieldName],(function(action,index){return _c("el-dropdown-item",{key:index},[_c("div",{on:{click:function($event){return _vm.actionHandle(action)}}},[_vm._v(" "+_vm._s(action.message||"open URL")+" ")])])})),1)],1)]],2):_vm.getTooltipData(scope)&&!_vm.isDashboardEdit?_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.getTooltipData(scope),placement:"bottom"}},[_c("div",{staticClass:"jumptocell",on:{click:function($event){return $event.stopPropagation(),_vm.jumpToModules(scope,"trend")}}},[_vm._v(" "+_vm._s(scope.row[column.fieldName])+" "),_c("el-button",{staticClass:"mg-20 set-btn visibilityHideAction",attrs:{size:"mini"},on:{click:function($event){return $event.stopPropagation(),_vm.jumpToModules(scope,"set")}}},[_vm._v("Set")])],1)]):_c("div",[_vm._v(" "+_vm._s(scope.row[column.fieldName])+" ")])],1)]}}],null,!0)})]}))],2)],1)]),_vm.showTableTrend?_c("CardTrend",{attrs:{visible:_vm.showTableTrend,closeAction:_vm.closeTrendPop,trendData:_vm.trendData},on:{"update:visible":function($event){_vm.showTableTrend=$event}}}):_vm._e(),_vm.controlPopup.visible?_c("SetReadingPopup",{staticClass:"setReadingDialog",attrs:{saveAction:_vm.resetControlValue,recordId:_vm.controlPopup.reading.recordId,fieldId:_vm.controlPopup.reading.fieldId,closeAction:_vm.resetControlValue}}):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),BaseCard=(__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(339772),__webpack_require__(919649),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(450886),__webpack_require__(634338),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(169358),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(648324),__webpack_require__(425728),__webpack_require__(300268),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(865137),__webpack_require__(186466),__webpack_require__(322462),__webpack_require__(262882)),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,card_helpers=__webpack_require__(716956),TableTrendvue_type_template_id_354d25a0_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visible?_c("el-dialog",{attrs:{title:"TREND",visible:_vm.visible,"append-to-body":!0,"custom-class":"f-popup-view",top:"0%","before-close":_vm.beforeClose},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("div",{staticClass:"content analytics-txt",staticStyle:{cursor:"pointer",color:"rgb(57, 178, 194)","font-size":"13px","text-align":"right","font-weight":"500","margin-right":"20px"},on:{click:_vm.openSelectedReadingInAnalytics}},[_vm._v(" Go to Analytics "),_c("img",{staticStyle:{width:"13px",height:"9px"},attrs:{src:__webpack_require__(862620)}})]),_c("f-new-analytic-report",{attrs:{config:_vm.trendPopup.analyticsConfig},on:{"update:config":function($event){return _vm.$set(_vm.trendPopup,"analyticsConfig",$event)}}})],1):_vm._e()},TableTrendvue_type_template_id_354d25a0_staticRenderFns=[],FNewAnalyticReport=__webpack_require__(794925),NewDateHelper=__webpack_require__(105534),JumpToHelper=__webpack_require__(921466),card_constants=__webpack_require__(806186),TableTrendvue_type_script_lang_js={mixins:[JumpToHelper/* default */.Z],props:["visible","closeAction","trendData"],components:{FNewAnalyticReport:FNewAnalyticReport["default"]},data:function(){return{dateOperators:card_constants/* dateOperators */._M,aggregateFunctions:card_constants/* aggregateFunctions */.rD,trendPopup:{analyticsConfig:{period:0,mode:1,dateFilter:NewDateHelper/* default */.Z.getDatePickerObject(22),dataPoints:[],hidechartoptions:!0,hidecharttypechanger:!0}}}},mounted:function(){this.prepareTrendData()},methods:{beforeClose:function(){this.closeAction()},openSelectedReadingInAnalytics:function(){this.cardBuilderJumpToHelper(this.trendData)},prepareTrendData:function(){var _this$trendData=this.trendData,buildingId=_this$trendData.buildingId,yAggr=_this$trendData.yAggr,dateOperator=_this$trendData.dateOperator,readings=_this$trendData.readings,parentId=(_this$trendData.id,_this$trendData.module,_this$trendData.linkType,readings[0].parentId),fieldId=readings[0].fieldId;dateOperator||(dateOperator={operatorId:22}),this.trendPopup.analyticsConfig.dateFilter=NewDateHelper/* default */.Z.getDatePickerObject(dateOperator.operatorId);var datapoint={parentId:parentId,yAxis:{fieldId:fieldId,aggr:yAggr||3},aliases:{actual:"A"}};buildingId&&this.$set(this.trendPopup.analyticsConfig,"buildingId",buildingId),this.trendPopup.analyticsConfig.dataPoints.push(datapoint)}}},components_TableTrendvue_type_script_lang_js=TableTrendvue_type_script_lang_js,TableTrend_component=(0,componentNormalizer/* default */.Z)(components_TableTrendvue_type_script_lang_js,TableTrendvue_type_template_id_354d25a0_render,TableTrendvue_type_template_id_354d25a0_staticRenderFns,!1,null,null,null)
/* harmony default export */,TableTrend=TableTrend_component.exports,SetReadingValue=__webpack_require__(681121),validation=__webpack_require__(990260),type1_Cardvue_type_script_lang_js={mixins:[JumpToHelper/* default */.Z,card_helpers/* default */.Z],components:{CardTrend:TableTrend,SetReadingPopup:SetReadingValue/* default */.Z},extends:Card,data:function(){return{invert:!1,invertRows:[],tableConfig:{},invertColumns:[],invtableData:[],tableData:[],trendData:null,showTableTrend:!1,controlpointsload:[],controlPopup:{visible:!1,reading:{fieldId:null,recordId:null}}}},watch:{cardData:{handler:function(){this.getTableData()},deep:!0}},computed:{showHeader:function(){var hideHeader=this.cardData.hideHeader;return!!(0,validation/* isUndefined */.o8)(hideHeader)||!hideHeader},getUniqueId:function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toLowerCase()},cardParam:function(){return this.cardParams?this.cardParams:this.cardDataObj?this.cardDataObj:null},groupRowFieldName:function(){var group_row_fieldName=this.cardStyle.group_row_fieldName,result_group_row_fieldName=this.cardData.result_group_row_fieldName;return(0,validation/* isEmpty */.xb)(result_group_row_fieldName)?(0,validation/* isEmpty */.xb)(group_row_fieldName)?null:group_row_fieldName:result_group_row_fieldName}},mounted:function(){this.loadControlPoints(),this.cardParams.displayMode?this.inveTable():this.getTableData()},methods:{cellStyle:function(_ref){var rowIndex=_ref.rowIndex,columnIndex=_ref.columnIndex,cellData=this.getCellData(rowIndex,columnIndex);return cellData.styles?cellData.styles:{}},getStyles:function(scope,colIndex){var $index=scope.$index,cellData=this.getCellData($index,colIndex);return cellData.styles?cellData:{}},getCellData:function(rowIndex,colIndex){var rows=this.cardData.rows;return rows[rowIndex][colIndex]},applyGroupingOrder:function(rows,groupingOrder){var list=groupingOrder.list,value=groupingOrder.value,field=groupingOrder.field,columns=this.cardData.columns,colIndex=columns.findIndex((function(rt){return rt.fieldName===field})),newRows=[],mergedList=[],listOfIds=(0,toConsumableArray/* default */.Z)(new Set(rows.map((function(rt){return rt[colIndex][value]}))));return mergedList=(0,toConsumableArray/* default */.Z)(new Set([].concat((0,toConsumableArray/* default */.Z)(list),(0,toConsumableArray/* default */.Z)(listOfIds)))),// merge the list and rows list
mergedList.forEach((function(id){var lst=[];lst=rows.filter((function(data){if(data[colIndex][value]===id)return data})),newRows=[].concat((0,toConsumableArray/* default */.Z)(newRows),(0,toConsumableArray/* default */.Z)(lst))})),newRows.length===rows.length?newRows:rows},applyTableGrouping:function(originalKey){var _this=this,tableData=this.tableData,tableConfig=(this.columns,this.tableConfig);
// to be removed urgent demo work
// tableConfig = {}
if(!(0,validation/* isEmpty */.xb)(tableData)){var key=originalKey||"problem",list=(0,toConsumableArray/* default */.Z)(new Set(tableData.map((function(rt){return rt[key]}))));list.forEach((function(data){var index=tableData.findIndex((function(rt){return rt[key]===data})),length=tableData.filter((function(rt){return rt[key]===data})).length;
// this.$set(d, index, { rowspan: length, colspan: 1 })
_this.$set(tableConfig,index,{rowspan:length,colspan:1})}))}},transpose:function(){for(var original=this.cardData.rows,copy=[],i=0;i<original.length;++i)for(var j=0;j<original[i].length;++j)void 0!==original[i][j]&&(void 0===copy[j]&&(copy[j]=[]),copy[j][i]=original[i][j]);return copy},objectSpanMethod:function(_ref2){_ref2.row,_ref2.column;var rowIndex=_ref2.rowIndex,columnIndex=_ref2.columnIndex,tableConfig=this.tableConfig;if(!(0,validation/* isEmpty */.xb)(tableConfig)&&Object.keys(tableConfig).length&&0===columnIndex)return tableConfig[rowIndex]?tableConfig[rowIndex]:{rowspan:0,colspan:0}},inveTable:function(){var label,_this2=this,columns=[],rows=[];this.cardData.columns[0].label?label=this.cardData.columns[0].label:this.cardData.columns[0].value&&(label=this.cardData.columns[0].value);var firstIndex={prop:"fr",label:label};columns.push(firstIndex),this.cardData.rows.forEach((function(rt){var col={prop:rt[0].parentId+"",label:rt[0].value};columns.push(col)})),rows=this.transpose(),rows.splice(0,1),rows.forEach((function(rt,index){if(rt.length){var col=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this2.cardData.columns[index+1]),{parentId:"fr",value:_this2.cardData.columns[index+1].label});rt.splice(0,0,col)}})),this.prepareInvTableData(rows,columns),this.invert=!0},prepareInvTableData:function(rows,columns){var _this3=this;this.invertRows=[],this.invertColumns=[],this.invertColumns=columns,this.invertRows=rows,this.invtableData=[],rows&&rows.length&&rows.forEach((function(rt){var data={};columns.forEach((function(rl,idx){if(rt[idx].hasOwnProperty("value")&&"reading"==rt[0].type&&null!==rt[idx].value){var val=_this3.formatDecimal(rt[idx].value),unit=rt[idx].unit||"";_this3.$set(data,rl.prop,val+" "+unit)}else _this3.$set(data,rl.prop,"---")})),_this3.invtableData.push(data)}))},setColWidth:function(currentWidth,preWidth,celldata){var property=celldata.property,columns=this.widget.dataOptions.cardParams.columns,colIndex=columns.findIndex((function(rt){return rt.fieldName===property||"reading"==rt.type&&rt.fieldObj===property}));this.$set(columns[colIndex],"width",currentWidth)},loadControlPoints:function(){var _this4=this,filters=this.filters,self=this;self.loading=!0;var url="v2/controlAction/getControllablePoints?page=1&perPage=50";filters&&(url+="&filters=".concat(encodeURIComponent(JSON.stringify(filters)),"&includeParentFilter=true")),this.$http.get(url).then((function(response){200===response.status&&(_this4.controlpointsload=response.data.result.controllablePoints?response.data.result.controllablePoints:[],_this4.loading=!1)}))},isControllable:function(id){var obj=this.controlpointsload.filter((function(point){return point.resourceId==id}));if(obj.length>0)return!0},setVisibleIv:function(data){var property=data.column.property,$index=data.$index,colIndex=this.invertColumns.findIndex((function(rt){return rt.prop===property})),rowIndex=$index,cellData=this.invertRows[rowIndex][colIndex],linkTo=cellData.linkTo;return!(!linkTo||!linkTo.linkType)&&("SUMMARY"!==linkTo.linkType&&!("ANALYTICS"!==linkTo.linkType||!this.cardParams.columns[rowIndex+1].controlAction||!this.isControllable(linkTo.readings[0].parentId)))},setVisible:function(data){var _this$cardData=this.cardData,columns=_this$cardData.columns,rows=_this$cardData.rows,property=data.column.property,$index=data.$index,colIndex=columns.findIndex((function(rt){return rt.fieldName===property})),rowIndex=$index,cellData=rows[rowIndex][colIndex],linkTo=cellData.linkTo;return!(!linkTo||!linkTo.linkType)&&("SUMMARY"!==linkTo.linkType&&!("ANALYTICS"!==linkTo.linkType||!columns[colIndex].controlAction||"reading"!=columns[colIndex].type||!this.isControllable(linkTo.readings[0].parentId)))},getTooltipDataIv:function(data){var columnAction=this.cardStyle.columnAction,property=data.column.property,$index=data.$index,colIndex=this.invertColumns.findIndex((function(rt){return rt.prop===property})),rowIndex=$index,cellData=this.invertRows[rowIndex][colIndex],linkTo=cellData.linkTo;return!(!linkTo||!linkTo.linkType)&&("SUMMARY"===linkTo.linkType&&2===columnAction?"Open Graphics":"SUMMARY"===linkTo.linkType&&3===columnAction?"":"SUMMARY"===linkTo.linkType?"Open Asset":"ANALYTICS"===linkTo.linkType&&"Show Trend")},getTooltipData:function(data){var _this$cardData2=this.cardData,columns=_this$cardData2.columns,rows=_this$cardData2.rows,columnAction=this.cardStyle.columnAction,property=data.column.property,$index=data.$index,colIndex=columns.findIndex((function(rt){return rt.fieldName===property})),rowIndex=$index,cellData=rows[rowIndex][colIndex],linkTo=cellData.linkTo;return!(!linkTo||!linkTo.linkType)&&("SUMMARY"===linkTo.linkType&&2===columnAction?"Open Graphics":"SUMMARY"===linkTo.linkType&&3===columnAction?"":"SUMMARY"===linkTo.linkType?"Open Asset":"ANALYTICS"===linkTo.linkType?"Show Trend":"URL"===linkTo.linkType&&(linkTo.message||"Open URL"))},jumpToModulesIv:function(data,type){var _this5=this,columnAction=this.cardStyle.columnAction,_this$cardData3=this.cardData,buildingId=_this$cardData3.buildingId,period=_this$cardData3.period,assetCategoryId=this.cardParams.assetCategoryId,property=data.column.property,$index=data.$index,colIndex=this.invertColumns.findIndex((function(rt){return rt.prop===property})),rowIndex=$index,cellData=this.invertRows[rowIndex][colIndex],linkTo=cellData.linkTo,jumptoData={};if(jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),linkTo),buildingId&&(jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{buildingId:buildingId})),this.invertColumns[colIndex].yAggr){var yAggObj=card_constants/* aggregateFunctions */.rD.find((function(rt){return rt.value===_this5.invertColumns[colIndex].yAggr})),yAggr=null;yAggObj.enumValue&&(yAggr=yAggObj.enumValue),jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{yAggr:yAggr})}if(period){var operatorId=card_constants/* dateOperators */._M.find((function(rt){return rt.value===period})).enumValue;jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{dateOperator:{operatorId:operatorId,value:null}})}(0,validation/* isEmpty */.xb)(linkTo)||"URL"!==linkTo.linkType?"ANALYTICS"===linkTo.linkType&&this.isControllable(linkTo.readings[0].parentId)&&"set"==type?(this.controlPopup.reading.fieldId=linkTo.readings[0].fieldId,this.controlPopup.reading.recordId=linkTo.readings[0].parentId,this.setdialogShow(this.controlPopup.reading)):linkTo&&"ANALYTICS"===linkTo.linkType?this.openTrend(jumptoData):linkTo&&"SUMMARY"===linkTo.linkType&&2===columnAction?this.$popupView.openPopup({type:"graphics",url:null,alt:"",dashboardId:"",reportId:"",graphicsId:null,assetId:jumptoData.id,target:null,graphicsContext:{assetId:jumptoData.id,assetCategoryId:assetCategoryId}}):linkTo&&"SUMMARY"===linkTo.linkType&&3===columnAction||this.cardBuilderJumpToHelper(jumptoData):this.executeAction(linkTo)},actionHandle:function(linkTo){(0,validation/* isEmpty */.xb)(linkTo)||"URL"!==linkTo.linkType||this.executeAction(linkTo)},jumpToModules:function(data,type){var columnAction=this.cardStyle.columnAction,_this$cardData4=this.cardData,columns=_this$cardData4.columns,rows=_this$cardData4.rows,period=_this$cardData4.period,sorting=this.cardParam.sorting;rows=this.sortingRows(rows,sorting,columns);var _this$cardParams=this.cardParams,assetCategoryId=_this$cardParams.assetCategoryId,buildingId=_this$cardParams.buildingId,property=data.column.property,$index=data.$index,colIndex=columns.findIndex((function(rt){return rt.fieldName===property})),rowIndex=$index,cellData=rows[rowIndex][colIndex],linkTo=cellData.linkTo,jumptoData={};if(jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),linkTo),buildingId&&(jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{buildingId:buildingId})),(0,validation/* isEmpty */.xb)(linkTo)||"URL"!==linkTo.linkType){if(columns[colIndex].yAggr){var yAggObj=card_constants/* aggregateFunctions */.rD.find((function(rt){return rt.value===columns[colIndex].yAggr})),yAggr=null;yAggObj.enumValue&&(yAggr=yAggObj.enumValue),jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{yAggr:yAggr})}if(period){var operatorId=card_constants/* dateOperators */._M.find((function(rt){return rt.value===period})).enumValue;jumptoData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},jumptoData),{dateOperator:{operatorId:operatorId,value:null}})}"ANALYTICS"===linkTo.linkType&&columns[colIndex].controlAction&&"reading"==columns[colIndex].type&&this.isControllable(linkTo.readings[0].parentId)&&"set"==type?(this.controlPopup.reading.fieldId=linkTo.readings[0].fieldId,this.controlPopup.reading.recordId=linkTo.readings[0].parentId,this.setdialogShow(this.controlPopup.reading)):linkTo&&"ANALYTICS"===linkTo.linkType?this.openTrend(jumptoData):linkTo&&"SUMMARY"===linkTo.linkType&&2===columnAction?this.$popupView.openPopup({type:"graphics",url:null,alt:"",dashboardId:"",reportId:"",graphicsId:null,assetId:jumptoData.id,target:null,graphicsContext:{assetId:jumptoData.id,assetCategoryId:assetCategoryId}}):linkTo&&"SUMMARY"===linkTo.linkType&&3===columnAction||this.cardBuilderJumpToHelper(jumptoData)}else this.executeAction(linkTo)},executeAction:function(urlAction){var selfHost=window.location.protocol+"//"+window.location.host;if(urlAction.url){var url=this.applyLiveVariables(urlAction.url,!0);if("self"===urlAction.target)if(url.startsWith(selfHost)){this.$helpers.isLicenseEnabled("NEW_LAYOUT")&&url.startsWith(selfHost+"/app/em/newdashboard/")&&(url=url.replace(selfHost+"/app/em/newdashboard/",selfHost+"/app/home/dashboard/"));var appUrl=url.replace(selfHost,"");this.$router.push({path:appUrl})}else window.location.href=url;else"popup"===urlAction.target?this.$popupView.openPopup({type:urlAction.linkType,url:urlAction.url,alt:"",dashboardId:"",reportId:"",target:urlAction.target}):(window.open(url,"_blank"),this.$emit("showUrl",!1))}},closeTrendPop:function(){this.showTableTrend=!1},resetControlValue:function(){this.controlPopup={visible:!1,reading:{fieldId:null,recordId:null}}},openTrend:function(data){this.trendData=data,this.showTableTrend=!0},setdialogShow:function(value){this.controlPopup.visible=!0,this.controlPopup.reading=value},sortingRows:function(rows,sorting,columns){var fieldName=sorting.fieldName,order=sorting.order;if(!(0,validation/* isEmpty */.xb)(fieldName)&&!(0,validation/* isEmpty */.xb)(order)&&!(0,validation/* isEmpty */.xb)(rows)){var rowIndex=columns.findIndex((function(rt){return rt.fieldName===fieldName})),rows_map={};if(rows.forEach((function(row,index){rows_map[row[rowIndex].value]=row})),!(0,validation/* isEmpty */.xb)(rows_map)){var sorted_rows_map=Object.keys(rows_map).sort().reduce((function(result,key){return result[key]=rows_map[key],result}),{});if(!(0,validation/* isEmpty */.xb)(sorted_rows_map)){if("dsc"==order){var asc_sorted_vals=Object.values(sorted_rows_map);return asc_sorted_vals.reverse()}return Object.values(sorted_rows_map)}}}return rows},getTableData:function(){var _this6=this,_this$cardData5=this.cardData,columns=_this$cardData5.columns,rows=_this$cardData5.rows,groupingOrder=_this$cardData5.groupingOrder,sorting=this.cardParam.sorting;this.tableData=[],this.tableConfig={},(0,validation/* isUndefined */.o8)(sorting)||(rows=this.sortingRows(rows,sorting,columns)),!(0,validation/* isUndefined */.o8)(groupingOrder)&&groupingOrder&&groupingOrder.list&&groupingOrder.field&&groupingOrder.value&&(rows=this.applyGroupingOrder(rows,groupingOrder)),rows&&rows.length&&rows.forEach((function(rt){var data={};columns.forEach((function(rl,idx){if("reading"===rl.type)if((0,validation/* isEmpty */.xb)(rl.fieldObj)||rl.fieldName==rl.fieldObj||(rl.fieldName=rl.fieldObj),rt[idx].hasOwnProperty("value")&&null!==rt[idx].value){var readings=_this6.formatDecimal(rt[idx].value),unit=rt[idx].unit||"";_this6.$set(data,rl.fieldName,readings+" "+unit)}else _this6.$set(data,rl.fieldName,"---");else"DATE_TIME"!=rt[idx].dataType||isNaN(rt[idx].value)||(rt[idx].value=_this6.getUserDateTime(rt[idx].value)),_this6.$set(data,rl.fieldName,rt[idx].value)})),_this6.tableData.push(data)})),!(0,validation/* isUndefined */.o8)(sorting)&&sorting&&sorting.sortingType&&"relativeSort"===sorting.sortingType&&this.applyTableGrouping()},applyLiveVariables:function(str,applyRawValue){if(!str)return str;var readingVariables=[],matched=str.match(/[^\\${}]+(?=\})/g);if(matched&&matched.length&&readingVariables.push.apply(readingVariables,(0,toConsumableArray/* default */.Z)(matched)),readingVariables&&readingVariables.length){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(readingVariables);try{for(_iterator.s();!(_step=_iterator.n()).done;){var rv=_step.value,liveVal=null,replaceVal="";liveVal&&(replaceVal=applyRawValue?liveVal.value:liveVal.label),replaceVal||(replaceVal=""),str=str.replace("${"+rv+"}",replaceVal)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return str}}},readingTable_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(readingTable_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"615d0f1d",null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/356025:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type1_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type1/Card.vue?vue&type=template&id=e1530c72
var Card_render,Card_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"dragabale-card height100"},[_c("card-loading")],1):_c("div",{staticClass:"dragabale-card text-center"},[_c("div",{staticClass:"card-header-block f15 bold"},[_vm._v(_vm._s(_vm.cardData.title))]),_c("GaugeChart",{staticClass:"mT10 pL10 pR10",attrs:{gaugeData:_vm.gaugeData}}),_vm.cardStyle.displayValue?_c("div",{staticClass:"f30 card-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"f30 card-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardData.value?_vm.formatDecimal(_vm.cardData.value.value):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"f18"},[_vm._v(_vm._s(_vm.cardData.value.unit))]):_vm._e()]),_c("div",{staticClass:"f11 bold",staticStyle:{color:"#5310c6"}},[_vm._v(_vm._s(_vm.gaugeLabel))])],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),BaseCard=(__webpack_require__(879288),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(262882)),validation=__webpack_require__(990260),CardLoading=__webpack_require__(323957),Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,components:{cardLoading:CardLoading/* default */.Z},created:function(){this.constructGaugeData()},computed:{subscriptionParams:function(){var cardParams=this.cardParams,format=this.formatReadingsForPubSub;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:format([cardParams.reading])}}},watch:{cardData:{handler:function(){this.constructGaugeData()},deep:!0},cardStyle:{handler:function(){this.constructGaugeData()},deep:!0}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,Card_render,Card_staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports,NewGaugeChart=__webpack_require__(957502),type1_Cardvue_type_script_lang_js={extends:Card,components:{GaugeChart:NewGaugeChart/* default */.Z},data:function(){return{label:"Current Value",gaugeData:{data:{baseValue:0,minValue:0,maxValue:100},tooltipdata:[{label:"Target",value:100},{label:"Achieved",value:0},{label:"Remaining",value:0}],config:{type:1,colors:["#ff7878","#7d49ff","#514dff","#1eb9b7"],backgroundColors:["#fff","#fff"]}}}},computed:{gaugeLabel:function(){
// to be removed
return 405===window.orgId?this.cardData.period:this.label}},methods:{constructGaugeData:function(){var cardData=this.cardData,cardStyle=this.cardStyle,minValue=this.$getProperty(cardData,"minValue.value"),maxValue=this.$getProperty(cardData,"maxValue.value"),baseValue=this.$getProperty(cardData,"value.value"),isValueUnderMin=parseInt(minValue)>parseInt(baseValue),isValueOverMax=parseInt(maxValue)<parseInt(baseValue);!(0,validation/* isEmpty */.xb)(baseValue)&&(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100*Math.ceil(parseInt(baseValue)/100)),(0,validation/* isEmpty */.xb)(minValue)&&(minValue=0),(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100),(0,validation/* isEmpty */.xb)(cardData)||(this.gaugeData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData),{},{data:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.data),{baseValue:Number(baseValue),minValue:Number(minValue),maxValue:Number(maxValue)}),tooltipdata:[{label:"Safe Limit",value:"".concat(minValue," - ").concat(maxValue)},{label:"Achieved",value:baseValue}].concat([isValueOverMax?{label:"Exceeded By",value:baseValue-maxValue}:{label:"Remaining",value:maxValue-baseValue}]),config:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.config),{},{startLabel:String(isValueUnderMin?this.formatMaxValue(Math.floor(baseValue)):this.formatMaxValue(Math.floor(minValue))),endLabel:String(isValueOverMax?this.formatMaxValue(Math.ceil(baseValue)):this.formatMaxValue(Math.ceil(maxValue)))},this.serializeConditionalState(cardStyle))}))},formatMaxValue:function(maxValue){var max_val=String(maxValue),before_after_decimal=max_val.split(".");if(max_val.length>3&&before_after_decimal[0]){var no_of_digits=before_after_decimal[0].length;if(no_of_digits>3&&no_of_digits<7){var res=String(Number(before_after_decimal[0])/1e3);return this.setMaxValueResult(res)+" K"}if(no_of_digits>=7&&no_of_digits<10){var _res=String(Number(before_after_decimal[0])/1e6);return this.setMaxValueResult(_res)+" M"}if(no_of_digits>=10&&no_of_digits<13){var _res2=String(Number(before_after_decimal[0])/1e9);return this.setMaxValueResult(_res2)+" B"}if(no_of_digits>=13&&no_of_digits<16){var _res3=String(Number(before_after_decimal[0])/1e12);return this.setMaxValueResult(_res3)+" T"}}return max_val},setMaxValueResult:function(res){var result=res.length>3&&res.indexOf(".")?res.substring(0,4):res;return"."==result.substring(result.length-1,result.length)?result.substring(0,result.length-1):result},serializeConditionalState:function(styles){var props=styles.props;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{colors:styles.colors.map((function(color){return color.hex?color.hex:color})),backgroundColors:styles.backgroundColors.map((function(color){return color.hex?color.hex:color}))})}}},targetMeter_type1_Cardvue_type_script_lang_js=type1_Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(targetMeter_type1_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type1_Card=Card_component.exports},
/***/120685:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type2_Card}});
// EXTERNAL MODULE: ./src/pages/card-builder/cards/targetMeter/type1/Card.vue + 6 modules
var render,staticRenderFns,Card=__webpack_require__(356025),Cardvue_type_script_lang_js={extends:Card/* default */.Z},type2_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type2_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type2_Card=component.exports},
/***/232034:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type3_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type3/Card.vue?vue&type=template&id=2380d269&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"dragabale-card height100"},[_c("card-loading")],1):_c("div",{staticClass:"dragabale-card text-center height100",attrs:{id:"gaugecard"}},[_c("div",{staticClass:"card-header-block f15 bold"},[_vm._v(_vm._s(_vm.cardData.title))]),_c("GaugeChart",{ref:"gauge",staticClass:"pL20 pR20 gaugeHeight card-gauge",attrs:{fit:!0,gaugeData:_vm.gaugeData}}),_vm.cardStyle.displayValue?_c("div",{staticClass:"current-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"current-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardData.value?_vm.formatDecimal(_vm.cardData.value.value):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"f18"},[_vm._v(" "+_vm._s(_vm.cardData.value.unit)+" ")]):_vm._e()]),_c("div",{staticClass:"f11 bold",staticStyle:{color:"#5310c6"}},[_vm._v(_vm._s(_vm.label))])],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Card=(__webpack_require__(879288),__webpack_require__(634338),__webpack_require__(795765),__webpack_require__(897389),__webpack_require__(670560),__webpack_require__(356025)),validation=__webpack_require__(990260),Cardvue_type_script_lang_js={extends:Card/* default */.Z,methods:{constructGaugeData:function(){var cardData=this.cardData,cardStyle=this.cardStyle,minValue=this.$getProperty(cardData,"minValue.value"),maxValue=this.$getProperty(cardData,"maxValue.value"),baseValue=this.$getProperty(cardData,"value.value");!(0,validation/* isEmpty */.xb)(baseValue)&&(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100*Math.ceil(parseInt(baseValue)/100)),(0,validation/* isEmpty */.xb)(minValue)&&(minValue=0);var isValueOverMax=parseInt(maxValue)<parseInt(baseValue);(0,validation/* isEmpty */.xb)(cardData)||this.$set(this,"gaugeData",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData),{},{data:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.data),{baseValue:Number(baseValue),minValue:Number(minValue),maxValue:Number(maxValue)}),tooltipdata:[{label:"Safe Limit",value:"".concat(minValue," - ").concat(maxValue)},{label:"Achieved",value:baseValue}].concat([isValueOverMax?{label:"Exceeded By",value:baseValue-maxValue}:{label:"Remaining",value:maxValue-baseValue}]),config:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.config),this.serializeConditionalState(cardStyle)),{},{type:2,ticks:this.calculateTicks()})}))},calculateTicks:function(){var cardData=this.cardData,cardStyle=this.cardStyle,color=cardStyle.tickColor,count=(cardData.tickCount||5)-1,minValue=this.$getProperty(cardData,"minValue.value"),maxValue=this.$getProperty(cardData,"maxValue.value"),baseValue=this.$getProperty(cardData,"value.value"),isValueUnderMin=parseInt(minValue)>parseInt(baseValue),isValueOverMax=parseInt(maxValue)<parseInt(baseValue);!(0,validation/* isEmpty */.xb)(baseValue)&&(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100*Math.ceil(parseInt(baseValue)/100)),(0,validation/* isEmpty */.xb)(minValue)&&(minValue=0);for(var tickValue=(parseFloat(maxValue)-parseFloat(minValue))/parseFloat(count),ticks=[],initialValue=parseFloat(isValueUnderMin?baseValue:minValue),finalValue=parseFloat(isValueOverMax?baseValue:maxValue),tick=initialValue;tick<=finalValue;tick+=tickValue){var tick_val=tick;tick>999&&(tick_val=String(Number.isInteger(tick)?this.formatMaxValue(tick):this.formatMaxValue(tick.toFixed(1)))),ticks.push({value:Number.isInteger(tick)?tick:tick.toFixed(1),displayValue:tick_val,color:color})}return ticks}}},type3_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type3_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"2380d269",null)
/* harmony default export */,type3_Card=component.exports},
/***/705552:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type4_Card}});
// EXTERNAL MODULE: ./src/pages/card-builder/cards/targetMeter/type3/Card.vue + 5 modules
var render,staticRenderFns,Card=__webpack_require__(232034),Cardvue_type_script_lang_js={extends:Card/* default */.Z},type4_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type4_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type4_Card=component.exports},
/***/422791:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type5_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type5/Card.vue?vue&type=template&id=100e79a2
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"dragabale-card height100"},[_c("card-loading")],1):_c("div",{staticClass:"dragabale-card"},[_c("div",{staticClass:"card-header-block f15 bold"},[_vm._v(_vm._s(_vm.cardData.title))]),_c("div",{staticClass:"mT15 d-flex"},[_c("linear-gauge",{staticClass:"mT10 pL10 pR10",attrs:{gaugeData:_vm.gaugeData,cardStyle:_vm.cardStyle}}),_c("div",{staticClass:"d-flex flex-direction-column mL-auto pR25 justify-start mT20",on:{click:function($event){return _vm.triggerAction()}}},[_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"text-right f12 letter-spacing0_4 fc-black-color bold"},[_vm._v(" "+_vm._s(_vm.agg)+" ")]),_c("div",{staticClass:"text-right f18 pT5 fc-black-color value-contianer fwBold value-contianer value-cursor"},[_vm._v(" "+_vm._s(_vm.cardData.value?_vm.formatDecimal(_vm.cardData.value.value):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"f12"},[_vm._v(_vm._s(_vm.cardData.value.unit))]):_vm._e()])]),_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"text-right f12 letter-spacing0_4 fc-black-color bold"},[_vm._v(" Max Value ")]),_c("div",{staticClass:"text-right f18 pT5 fc-black-color value-contianer fwBold value-contianer value-cursor"},[_vm._v(" "+_vm._s(_vm.gaugeData.data?_vm.formatDecimal(_vm.gaugeData.data.maxValue):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"f12"},[_vm._v(_vm._s(_vm.cardData.value.unit))]):_vm._e()])]),_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"text-right f12 letter-spacing0_4 fc-black-color bold"},[_vm._v(" Min Value ")]),_c("div",{staticClass:"text-right f18 pT5 fc-black-color value-contianer fwBold value-contianer value-cursor"},[_vm._v(" "+_vm._s(_vm.gaugeData.data?_vm.formatDecimal(_vm.gaugeData.data.minValue):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"f12"},[_vm._v(_vm._s(_vm.cardData.value.unit))]):_vm._e()])])])],1)])},staticRenderFns=[],Card=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(356025)),LinearGaugevue_type_template_id_465e3a31_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{},[_c("canvas",{ref:"Gauge-linear"})])},LinearGaugevue_type_template_id_465e3a31_staticRenderFns=[],objectSpread2=__webpack_require__(595082),gauge_min=(__webpack_require__(879288),__webpack_require__(144172)),validation=__webpack_require__(990260),d3=__webpack_require__(348727),LinearGaugevue_type_script_lang_js={props:["gaugeData","cardStyle"],data:function(){return{options:{renderTo:{},width:150,height:230,minValue:null,maxValue:null,value:null,minorTicks:null,majorTicks:[],strokeTicks:!0,colorStrokeTicks:"#fff",colorMajorTicks:["#000"],colorMinorTicks:"#324056",colorPlate:"#fff",borderShadowWidth:0,barBeginCircle:25,barWidth:15,colorBar:"#F7F4F4",colorBarProgress:"#3adaad",colorBarProgressEnd:"#0232ab",barStrokeWidth:0,type:"linearGauge",tickSide:"right",numberSide:"right",needleSide:"right",ticksWidth:13,ticksWidthMinor:8,ticksPadding:3,fontNumbersSize:18,borders:0,needleType:"arrow",needleWidth:12,animationDuration:1500,animationRule:"bounce",animateOnInit:!0,units:!1,valueBox:!1,highlights:"__vue_devtool_undefined__"}}},mounted:function(){var _this=this;this.$nextTick((function(){if(!(0,validation/* isEmpty */.xb)(_this.$refs)){_this.$set(_this.gaugeData.data,"value",_this.gaugeData.data.baseValue);var canvasElement=_this.$refs["Gauge-linear"];_this.options.majorTicks=[0,2,4,6,8,10,12,14],_this.options.minorTicks=2,_this.options=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this.options),_this.gaugeData.data),_this.options=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this.options),_this.cardStyle),_this.options=_this.setMajorTicks(_this.options,_this.cardStyle),_this.$set(_this.options,"renderTo",canvasElement),_this.linearGaugeChart=new gauge_min.LinearGauge(_this.options).draw()}}))},methods:{setMajorTicks:function(options,cardStyle){var scale=d3.scaleLinear().domain([Number(options.minValue),Number(options.maxValue)]);return options.majorTicks=scale.ticks(Number(cardStyle.majorTicksCount)),(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},options),cardStyle)}}},components_LinearGaugevue_type_script_lang_js=LinearGaugevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_LinearGaugevue_type_script_lang_js,LinearGaugevue_type_template_id_465e3a31_render,LinearGaugevue_type_template_id_465e3a31_staticRenderFns,!1,null,null,null)
/* harmony default export */,LinearGauge=component.exports,card_constants=__webpack_require__(806186),Cardvue_type_script_lang_js={components:{LinearGauge:LinearGauge},data:function(){return{aggregateFunctions:card_constants/* aggregateFunctions */.rD}},extends:Card/* default */.Z,computed:{agg:function(){if(this.cardParams&&this.cardParams.reading){var yAggr=this.cardParams.reading.yAggr;return this.aggregateFunctions.find((function(rt){return rt.value===yAggr})).label}return"Latest"}}},type5_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(type5_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type5_Card=Card_component.exports},
/***/944504:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type6_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type6/Card.vue?vue&type=template&id=551513f5&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"dragabale-card height100"},[_c("card-loading")],1):_c("div",{staticClass:"dragabale-card text-center height100",attrs:{id:"gaugecard"}},[_c("div",{staticClass:"card-header-block f15 bold"},[_vm._v(_vm._s(_vm.cardData.title))]),_c("div",{staticClass:"position-relative"},[_c("GaugeChart",{ref:"gauge",staticClass:"gaugeHeight card-gauge",attrs:{fit:!0,gaugeData:_vm.gaugeData}}),_c("div",{staticClass:"current-value-container"},[_vm.cardStyle.displayValue?_c("div",{staticClass:"current-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardStyle.displayValue)+" ")]):_c("div",{staticClass:"current-value",style:Object.assign({},_vm.getAdditionalStyle(_vm.cardStyle)),on:{click:function($event){return _vm.triggerAction()}}},[_vm._v(" "+_vm._s(_vm.cardData.value?_vm.formatDecimal(_vm.cardData.value.value):"--")+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",{staticClass:"current-unit"},[_vm._v(" "+_vm._s(_vm.cardData.value.unit)+" ")]):_vm._e()]),_vm.totalText?_c("div",{staticClass:"current-total bold text-uppercase",staticStyle:{color:"#5310c6"}},[_vm._v(" "+_vm._s(_vm.totalText)+" "),_vm.cardData.value&&_vm.cardData.value.unit?_c("span",[_vm._v(" "+_vm._s(_vm.cardData.value.unit)+" ")]):_vm._e()]):_vm._e()])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Card=(__webpack_require__(450886),__webpack_require__(891719),__webpack_require__(879288),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(795765),__webpack_require__(897389),__webpack_require__(356025)),validation=__webpack_require__(990260),Cardvue_type_script_lang_js={extends:Card/* default */.Z,data:function(){return{totalText:null,gaugeData:{data:{baseValue:0,minValue:0,maxValue:100},tooltipdata:[{label:"Target",value:100},{label:"Achieved",value:0},{label:"Remaining",value:0}],config:{type:3,offsets:["0","31","70","100"],colors:["#ff7878","#7d49ff","#514dff","#1eb9b7"],backgroundColors:["#fff","#fff"]}}}},methods:{constructGaugeData:function(){var cardData=this.cardData,cardStyle=this.cardStyle,minValue=(this.cardState,this.$getProperty(cardData,"minValue.value")),maxValue=this.$getProperty(cardData,"maxValue.value"),baseValue=this.$getProperty(cardData,"value.value"),arcWidth=this.$getProperty(cardStyle,"arcWidth")||null,showTooltip=this.$getProperty(cardStyle,"showTooltip")||!1,innerRadius=arcWidth?27:null,outerRadius=arcWidth?29+arcWidth:null;!(0,validation/* isEmpty */.xb)(baseValue)&&(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100*Math.ceil(parseInt(baseValue)/100)),(0,validation/* isEmpty */.xb)(minValue)&&(minValue=0);var colors,offsets,isValueOverMax=parseInt(maxValue)<parseInt(baseValue);maxValue&&(this.totalText="Out of ".concat(maxValue)),(0,validation/* isEmpty */.xb)(cardStyle)||(colors=cardStyle.ranges.map((function(r){return r.color}))),(0,validation/* isEmpty */.xb)(colors)?colors=this.gaugeData.config.colors:colors.unshift(colors[0]),(0,validation/* isEmpty */.xb)(cardStyle)||(offsets=cardStyle.ranges.map((function(r){return r.limit}))),(0,validation/* isEmpty */.xb)(offsets)?offsets=this.gaugeData.config.offsets:offsets.unshift("0"),(0,validation/* isEmpty */.xb)(cardData)||this.$set(this,"gaugeData",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData),{},{data:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.data),{baseValue:Number(baseValue),minValue:Number(minValue),maxValue:Number(maxValue)}),tooltipdata:[{label:"Safe Limit",value:"".concat(minValue," - ").concat(maxValue)},{label:"Achieved",value:baseValue}].concat([isValueOverMax?{label:"Exceeded By",value:baseValue-maxValue}:{label:"Remaining",value:maxValue-baseValue}]),config:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.gaugeData.config),{},{colors:colors,offsets:offsets,type:3,innerRadius:innerRadius,outerRadius:outerRadius,showTooltip:showTooltip,ticks:this.calculateTicks()})}))},calculateTicks:function(){var cardData=this.cardData,cardStyle=this.cardStyle;if(!(0,validation/* isEmpty */.xb)(cardData)&&!(0,validation/* isEmpty */.xb)(cardStyle)){var color=cardStyle.tickColor,count=cardStyle.ranges.length-1,labels=cardStyle.ranges.map((function(r){return r.label})),minValue=this.$getProperty(cardData,"minValue.value"),maxValue=this.$getProperty(cardData,"maxValue.value"),baseValue=this.$getProperty(cardData,"value.value"),isValueUnderMin=parseInt(minValue)>parseInt(baseValue),isValueOverMax=parseInt(maxValue)<parseInt(baseValue);!(0,validation/* isEmpty */.xb)(baseValue)&&(0,validation/* isEmpty */.xb)(maxValue)&&(maxValue=100*Math.ceil(parseInt(baseValue)/100)),(0,validation/* isEmpty */.xb)(minValue)&&(minValue=0);for(var tickValue=(parseFloat(maxValue)-parseFloat(minValue))/parseFloat(count),ticks=[],initialValue=parseFloat(isValueUnderMin?baseValue:minValue),finalValue=parseFloat(isValueOverMax?baseValue:maxValue),index=0,tick=initialValue;tick<=finalValue;tick+=tickValue)ticks.push({value:Number.isInteger(tick)?tick:tick.toFixed(1),displayValue:String(labels[index]),color:color}),index+=1;return ticks}}}},type6_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type6_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"551513f5",null)
/* harmony default export */,type6_Card=component.exports},
/***/992107:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return type7_Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type7/Card.vue?vue&type=template&id=5a0b288c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_vm.isLoading?_c("card-loading"):_c("div",{staticClass:"cb-card-container d-flex flex-direction-column",style:{backgroundColor:_vm.cardStyle.backgroundColor}},[_c("div",{staticClass:"f15 bold mB-auto card-header-block",style:{color:_vm.cardStyle.primaryColor}},[_vm._v(" "+_vm._s(_vm.cardData.title||"Target Meter 7")+" ")]),_c("div",{directives:[{name:"resize",rawName:"v-resize"}],staticClass:"mB-auto p25 height100 solidgauge-section",on:{resize:_vm.onResize}},[_c("solid-gauge",{attrs:{data:_vm.values,maxValue:_vm.maxValue,centerText:_vm.centerText,styles:_vm.cardStyle,editMode:_vm.editMode,centerTextJson:_vm.centerTextJson}})],1)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),Card=(__webpack_require__(260228),__webpack_require__(76265),__webpack_require__(947522),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(228436),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(710612)),validation=__webpack_require__(990260),SolidGaugevue_type_template_id_7ed52099_render=(__webpack_require__(773258),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"multigauge",staticClass:"gauge solidgauge",style:{"max-width":_vm.zoom+"%","max-height":_vm.zoom+"%"},attrs:{id:"solidGuage"}})}),SolidGaugevue_type_template_id_7ed52099_staticRenderFns=[],objectSpread2=__webpack_require__(595082),d3=(__webpack_require__(897389),__webpack_require__(348727)),cardtooltip=__webpack_require__(960111),SolidGaugevue_type_script_lang_js={mixins:[cardtooltip/* default */.Z],props:["height","width","data","maxValue","centerText","styles","editMode","centerTextJson"],data:function(){new Date;return{zoom:100,innerWidth:100,innerHeight:100,type:"multigauge",id:100*Math.random().toFixed(2)}},watch:{data:{handler:"regen",deep:!0}},created:function(){window.addEventListener("resize",this.handleResize)},computed:{getPathWidth:function(){var dataLength=this.gaugeData.length>=5?this.gaugeData.length:5;return.28*dataLength},gaugeData:function(){var _this=this,data=[],maxValue=this.maxValue;return this.data.forEach((function(rt,index){var d={text:rt.text,lable:rt.lable,label:rt.lable,value:_this.valueToPercentage(Number(rt.value),Number(maxValue)),index:Number((index/10+.2).toFixed(1)),color:rt.color,textColor:rt.textColor,showPathtext:rt.showPathtext,tooltipData:_this.getTooltipData(rt)};data.push(d)})),data.reverse()}},mounted:function(){var _this2=this;this.$nextTick((function(){_this2.handleResize()}))},methods:{getTooltipData:function(data){return{label:data.lable,value:data.formatedValue,unit:data.unit}},valueToPercentage:function(value,maxvalue){if(value&&maxvalue){var scale=d3.scaleLinear().range([0,1]).domain([0,maxvalue]),val=scale(value);return val>1?1:val}},handleResize:function(){this.$el&&(this.innerWidth=this.$el.clientWidth,this.innerHeight=this.$el.clientHeight||100),this.zoom=window.devicePixelRatio>1?Math.round(50*window.devicePixelRatio):Math.round(100*window.devicePixelRatio),this.regen()},regen:function(){var _this3=this;this.$refs["multigauge"]&&(this.$refs["multigauge"].innerHTML=""),this.$nextTick((function(){_this3.generate()}))},generate:function(){var _this4=this;this.$refs["multigauge"]&&(this.$refs["multigauge"].innerHTML="");var chartContext={},self=this,gaugeData=this.gaugeData,getPathWidth=this.getPathWidth,innerWidth=this.innerWidth,innerHeight=this.innerHeight,id=this.id;this.id=100*Math.random().toFixed(2),chartContext.id=this.id,chartContext.selecter=this.$refs["multigauge"];var endAngle=this.degToRad(270),centerAngle=this.degToRad(360),width=innerWidth,height=innerHeight,radius=Math.min(width,height)/getPathWidth,spacing=.09,minDimension=Math.min(width,height);chartContext.fontSize=2*minDimension/100;var color=d3.scaleLinear().range(["hsl(-180,60%,50%)","hsl(180,60%,50%)"]).interpolate((function(a,b){var i=d3.interpolateString(a,b);return function(t){return d3.hsl(i(t))}})),arcBody=d3.arc().startAngle(0).endAngle((function(d){return d.value*endAngle})).innerRadius((function(d){return d.index*radius})).outerRadius((function(d){return(d.index+spacing)*radius})).cornerRadius(100),arcBackground=d3.arc().startAngle(0).endAngle((function(d){return endAngle})).innerRadius((function(d){return d.index*radius})).outerRadius((function(d){return(d.index+spacing)*radius})).cornerRadius(100),arcStartText=d3.arc().startAngle(0).endAngle((function(d){return endAngle})),arcCircle=d3.arc().startAngle(0).endAngle((function(d){return centerAngle})).innerRadius((function(d){return 0})).outerRadius((function(d){return(d.index-.1+spacing)*radius})),arcCenter=d3.arc().startAngle(0).endAngle((function(d){return d.value*endAngle})).innerRadius((function(d){return(d.index+spacing/2)*radius})).outerRadius((function(d){return(d.index+spacing/2)*radius}));chartContext.svg=d3.select(chartContext.selecter).append("svg").attr("id","#"+this.id).attr("width","100%").attr("height","100%").attr("viewBox","0 0 "+Math.min(width,height)+" "+Math.min(width,height)).attr("preserveAspectRatio","xMinYMin").append("g").attr("transform",(function(){var x=width/2,y=height/2;return _this4.editMode&&(x=width/2,y=Math.min(width,height)/2),_this4.$mobile&&(x=Math.min(width,height)/2),"translate(".concat(x,",").concat(y,")")})),chartContext.field=chartContext.svg.selectAll("g").data(gaugeData).enter().append("g");var field=chartContext.field,svg=chartContext.svg;field.append("path").attr("class","arc-circle-body").on("mouseover",(function(d){var color="gray",gaugeCenterColors=_this4.styles.gaugeCenterColors;gaugeCenterColors&&gaugeCenterColors.pathColor&&(color=gaugeCenterColors.pathColor);var tooltipConfig={title:"",position:{left:d3.event.pageX,top:d3.event.pageY},data:[(0,objectSpread2/* default */.Z)({},_this4.centerTextJson)],color:color};_this4.showTooltipForCard1(tooltipConfig,"chart-tooltip")})).on("mouseout",(function(d){_this4.hideTooltip("chart-tooltip")}));
// function tick() {
//   if (!document.hidden)
//     field
//       .each(function(d) {
//         this._value = d.value
//       })
//       .data(gaugeData)
//       .each(function(d) {
//         d.previousValue = this._value
//       })
//       .transition()
//       .ease(d3.easePolyIn)
//       .duration(500)
//       .each(fieldTransition)
//   setTimeout(tick, 1000 - (Date.now() % 1000))
// }
function fieldTransition(r,i){var field=d3.select(this).transition();this._lastIndex&&field.select(".arc-circle-body").attrTween("d",arcTween(arcCircle)).style("fill",(function(){var gaugeCenterColors=self.styles.gaugeCenterColors;return gaugeCenterColors&&gaugeCenterColors.pathColor?gaugeCenterColors.pathColor:"gray"})),field.select(".arc-bg-body").attrTween("d",arcTween(arcBackground)).style("fill",(function(d){return"#f1f3f4"})),field.select(".arc-body").attrTween("d",arcTween(arcBody)).style("fill",(function(d){return d.color||color(d.value)})),field.select(".arc-center").attrTween("d",arcTween(arcCenter)),field.select(".arc-text").text((function(d){return d.text})).attr("fill",(function(d){var textColor=d.textColor;return textColor||"#000"})),field.select(".arc-text-parent").attr("text-anchor",(function(d){return d.value>.2?"start":"end"}))}function arcTween(arc){return function(d){var i=d3.interpolateNumber(d.previousValue,d.value);return function(t){return d.value=i(t),arc(d)}}}chartContext.arcCircleBodyText=chartContext.svg.append("text").attr("class","arc-circle-body-text"),field.append("path").attr("class","arc-bg-body"),field.append("path").attr("class","arc-body").on("mouseover",(function(d){var tooltipConfig={title:"",position:{left:d3.event.pageX,top:d3.event.pageY},data:[(0,objectSpread2/* default */.Z)({},d.tooltipData)],color:d.color};_this4.showTooltipForCard1(tooltipConfig,"chart-tooltip")})).on("mouseout",(function(d){_this4.hideTooltip("chart-tooltip")})),field.append("path").attr("id",(function(d,i){return"arc-center-".concat(i,"-").concat(id)})).attr("class","arc-center"),field.append("text").attr("dy",".35em").attr("dx",".75em").attr("class","arc-text-parent").attr("font-size",3*minDimension/100).append("textPath").attr("startOffset","50%").attr("id",(function(d,i){return"#".concat(_this4.id,"_").concat(i)})).attr("class","arc-text").attr("xlink:href",(function(d,i){return"#arc-center-".concat(i,"-").concat(id)})),field.append("text").attr("dy",".5em").attr("dx","0.5em").attr("class","arc-start-txt").style("text-anchor","start").append("textPath").attr("startOffset","0%").attr("class","arc-start-text").attr("xlink:href",(function(d,i){return"#arc-center-".concat(i,"-").concat(id)})),field.append("text").attr("dy",".5em").attr("dx","0.5em").attr("class","arc-start1-txt").style("text-anchor","start").append("text").attr("startOffset","0%").attr("class","arc-start-text").attr("xlink:href",(function(d,i){return"#arc-start-center-".concat(i,"-").concat(id)})),
// tick()
field.each((function(d,index){self.gaugeData.length-1===index&&(this._lastIndex=!0),this._value=d.value})).data(gaugeData).each((function(d){d.previousValue=this._value})).transition().ease(d3.easePolyIn).duration(0).each(fieldTransition),d3.select(self.frameElement).style("height",height+"px"),svg.selectAll("g").each((function(d,index){var el=d3.select(this),gText=svg.selectAll(".arc-start1-text").data([{}]).enter().append("g").classed("textClass",!0).attr("transform","translate(0,0) rotate(0)");el.selectAll("path").each((function(r,i){if(0===i){var centroidText=arcStartText.centroid({startAngle:0,endAngle:0,innerRadius:-r.index*(1.9*radius),outerRadius:-(r.index+spacing+0)*radius});r.text;gText.append("text").attr("font-size",3*minDimension/100).text(r.lable).attr("transform","translate(-2,"+centroidText[1]+") rotate(0)").attr("text-anchor","end").attr("dominant-baseline","central")}}))})),svg.select(".arc-circle-body-text").attr("text-anchor","middle").attr("font-size",(function(){var actualWidth=3*minDimension/100,textWidth=_this4.getTextWidth(_this4.centerText),textWidthInfontsize=textWidth/25;return actualWidth/textWidthInfontsize})).attr("font-weight","bold").attr("fill",(function(){var gaugeCenterColors=self.styles.gaugeCenterColors;return gaugeCenterColors&&gaugeCenterColors.textColor?gaugeCenterColors.textColor:"#000"})).attr("transform",(function(){var textWidth=_this4.getTextWidth(_this4.centerText),offset=0;return textWidth>0&&textWidth<12?offset=6:textWidth>12&&textWidth<20?offset=3:textWidth>20&&(offset=1),_this4.editMode&&(offset-=2),"translate(0,"+offset+") rotate(0)"})).text((function(d){return _this4.centerText})).append("tspan")},getTextWidth:function(text){var canvas=document.createElement("canvas"),context=canvas.getContext("2d");return context.measureText(text).width},degToRad:function(ang){return ang*(Math.PI/180)}}},components_SolidGaugevue_type_script_lang_js=SolidGaugevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SolidGaugevue_type_script_lang_js,SolidGaugevue_type_template_id_7ed52099_render,SolidGaugevue_type_template_id_7ed52099_staticRenderFns,!1,null,null,null)
/* harmony default export */,SolidGauge=component.exports,api=__webpack_require__(32284),Cardvue_type_script_lang_js={extends:Card/* default */.Z,components:{solidGauge:SolidGauge},props:["editMode"],data:function(){return{report:null}},mounted:function(){var _this=this;this.$nextTick((function(rt){_this.subtextAction()})),this.findKpiField(),this.setReadingObj()},watch:{cardData:{handler:function(newVal,oldVal){newVal&&this.configWatchHook()},deep:!0}},computed:{values:function(){var _this2=this,gaugeData=[],cardData=this.cardData,cardParam=this.cardParam;return cardData&&cardData.values&&cardParam&&cardData.values.forEach((function(rt,index){var kpi=_this2.cardParam.kpis[index];if(kpi){
// let fieldName = rt.kpi.metricName
// let field = rt.fields.find(rt => rt.name === fieldName)
var unit="";
// if (field && field.unit) {
//   unit = field.unit
// }
rt.unit&&(unit=rt.unit);var showPathtext=_this2.cardStyle.showPathtext,v={text:rt.value&&showPathtext?"".concat(_this2.formatDecimal(rt.value)," ").concat(unit):"",value:rt.value,formatedValue:_this2.formatDecimal(rt.value),lable:kpi.label,color:kpi.pathColor,textColor:kpi.textColor,showPathtext:kpi.showPathtext,unit:unit};gaugeData.push(v)}})),gaugeData},maxValue:function(){return this.cardData&&this.cardData.maxValue&&this.cardData.maxValue.value?this.cardData.maxValue.value:0},centerText:function(){return this.cardData&&this.cardData.centerValue&&this.cardData.centerValue.value?isNaN(Number(this.cardData.centerValue.value))?this.cardData.centerValue.value:this.formatDecimal(Number(this.cardData.centerValue.value)):""},centerTextJson:function(){var unit=this.cardData.centerValue&&this.cardData.centerValue.unit?this.cardData.centerValue.unit:"";if("text"===this.cardParam.centerTextType)return{label:"Value",value:this.cardParam.centerText,unit:""};var val=this.cardData.centerValue&&this.cardData.centerValue.value?this.cardData.centerValue.value:0,kpiName=this.cardData.centerValue&&this.cardData.centerValue.kpi?this.cardData.centerValue.kpi.name:"";return{label:kpiName,value:this.formatDecimal(val),unit:unit}},cardParam:function(){return this.cardParams?this.cardParams:this.cardDataObj?this.cardDataObj:null},secondaryText:function(){if(this.cardData){var cardData=this.cardData;return cardData.formatedSubText?cardData.formatedSubText:cardData.period?cardData.period:""}return""}},methods:{onResize:function(){window.dispatchEvent(new Event("resize"))},setReadingObj:function(){var data=this.cardDrilldown&&this.cardDrilldown.default&&this.cardDrilldown.default.data?this.cardDrilldown.default.data:null;data&&data.reportId&&this.loadReport(data.reportId)},loadReport:function(reportId){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var resp,result;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.put("v3/report/execute",{reportId:reportId});case 2:resp=_context.sent,result=resp.data,_this3.report=result.report;case 5:case"end":return _context.stop()}}),_callee)})))()},configWatchHook:function(){var _this4=this;this.$nextTick((function(){_this4.subtextAction()}))},findKpiField:function(){
// to be removed
var _ref=this.cardData.value||{},kpi=_ref.kpi;if(!(0,validation/* isEmpty */.xb)(kpi)){var moduleName=this.$getProperty(kpi,"moduleName",null);(0,validation/* isEmpty */.xb)(moduleName)||this.loadFields(moduleName)}},loadFields:function(moduleName){var _this5=this;this.$http.get("/module/meta?moduleName=".concat(moduleName)).then((function(response){var fields=response.data.meta.fields;
// this will be handled in server itself
_this5.cardData&&_this5.cardData.value&&_this5.cardData.value.kpi&&_this5.$set(_this5.cardData.value.kpi,"fields",fields)}))},subtextAction:function(){var _this6=this;if(this.cardData&&this.cardData.value&&this.cardParam){var subText=this.cardParam.subText,_this$cardData$value=this.cardData.value,moduleData=_this$cardData$value.moduleData,fields=_this$cardData$value.fields;subText&&""!==subText.trim()&&moduleData&&(moduleData?fields.forEach((function(field){subText=subText.replace("${"+field.name+"}",_this6.formatValueByFieldType(moduleData[field.name],field))})):fields.forEach((function(field){subText=subText.replace("${"+field.name+"}",_this6.formatValueByFieldType("",field))})),this.$set(this.cardData,"formatedSubText",subText))}}}},type7_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,Card_component=(0,componentNormalizer/* default */.Z)(type7_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,"5a0b288c",null)
/* harmony default export */,type7_Card=Card_component.exports},
/***/416393:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/weather/base/Card.vue?vue&type=template&id=4d0aca08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_c("div",{class:["cb-card-container d-flex flex-direction-column p20 weather-card",_vm.currentWeather.class]},[_c("div",[_c("inline-svg",{class:["vertical-middle",_vm.isDataEmpty&&"op8"],attrs:{src:_vm.currentWeather.icon,iconClass:"icon weather-icon"}}),_vm.isDataEmpty?_vm._e():_c("div",{staticClass:"mL10 degree inline vertical-middle"},[_c("span",[_vm._v(_vm._s(_vm.formatIntergerDecimal(_vm.currentTemp)))]),_vm.unit?_c("span",{staticClass:"weather-unit"},[_vm._v(_vm._s(_vm.unit))]):_vm._e()])],1),_vm.isDataEmpty?_c("div",{staticClass:"mT15 weather-label op8"},[_vm._v(" No Data Found ")]):_c("div",{staticClass:"mT10 weather-label"},[_vm._v(" "+_vm._s(_vm.currentWeather.label)+" ")]),_vm.time?_c("div",{staticClass:"mT10 weather-time"},[_vm._v(" "+_vm._s(_vm.time)+" ")]):_vm._e(),_vm.cardData.building?_c("div",{staticClass:"mT10 weather-time text-uppercase"},[_vm._v(" "+_vm._s(_vm.cardData.building.city)+" ")]):_vm._e()])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(990260)),BaseCard=(__webpack_require__(730381),__webpack_require__(262882)),weatherData={default:{class:"partly-cloudy-day",label:"Clear Day",icon:"svgs/weathericons/sunny-day"},1:{class:"clear-day",label:"Clear Day",icon:"svgs/weathericons/sunny-day"},2:{class:"clear-night",label:"Clear Night",icon:"svgs/weathericons/night"},3:{class:"rain",label:"Rain",icon:"svgs/weathericons/rainy-day"},4:{class:"snow",label:"Snow",icon:"svgs/weathericons/snow-cloud"},5:{class:"sleet",label:"Sleet",icon:"svgs/weathericons/sleet"},6:{class:"wind",label:"Wind",icon:"svgs/weathericons/windy-day"},7:{class:"fog",label:"Fog",icon:"svgs/weathericons/foggy"},8:{class:"cloudy",label:"Cloudy",icon:"svgs/weathericons/cloudy-day"},9:{class:"partly-cloudy-day",label:"Partly Cloudy Day",icon:"svgs/weathericons/partialy-cloudy"},10:{class:"partly-cloudy-night",label:"Partly Cloudy Night",icon:"svgs/weathericons/partialy-cloudy"},11:{class:"hail",label:"Hail",icon:"svgs/weathericons/hail"},12:{class:"thunderstorm",label:"Thunderstorms",icon:"svgs/weathericons/hail"},13:{class:"tornado",label:"Tornado",icon:"svgs/weathericons/hail"}},Cardvue_type_script_lang_js={extends:BaseCard/* default */.Z,data:function(){return{}},computed:{subscriptionParams:function(){var cardParams=this.cardParams;return(0,validation/* isEmpty */.xb)(cardParams)?[]:{readings:[{moduleName:"weather",fieldName:"temperature",parentId:cardParams.baseSpaceId}]}},isDataEmpty:function(){return(0,validation/* isEmpty */.xb)(this.$getProperty(this,"cardData.value.value"))},currentWeather:function(){var _ref=this.$getProperty(this,"cardData.value.value")||{},icon=_ref.icon,summary=_ref.summary;return(0,validation/* isEmpty */.xb)(summary)?weatherData[icon||"default"]:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},weatherData[icon||"default"]),{},{label:summary})},currentTemp:function(){return this.$getProperty(this,"cardData.value.value.temperature")||"--"},unit:function(){return this.$getProperty(this,"cardData.value.unit")||this.orgUnit},orgUnit:function(){var _this$$getProperty=this.$getProperty(this,"$account.appProps"),orgUnitsList=_this$$getProperty.orgUnitsList;if(orgUnitsList&&orgUnitsList.length){var tempObj=orgUnitsList.find((function(rt){return"TEMPERATURE"===rt.metricEnum}));return tempObj&&5===tempObj.unit?"F":"C"}return"C"},time:function(){var _ref2=this.$getProperty(this,"cardData.value.value")||{},actualTtime=_ref2.actualTtime;return actualTtime?this.$options.filters.formatDate(actualTtime,!1,!1):null}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports},
/***/379523:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Card}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/web/base/Card.vue?vue&type=template&id=b3bc3690
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"dragabale-card height100"},[_c("div",{staticClass:"card-header-block f15 bold"},[_vm._v(" "+_vm._s(_vm.cardData.title)+" "),_vm.$mobile?_c("span",{staticClass:"pull-right",on:{click:function($event){return _vm.mobiledrilldown()}}},[_c("i",{staticClass:"fa fa-external-link f13"})]):_vm._e()]),"url"===_vm.type?[_vm.cardData&&_vm.cardData.value?_c("iframe",{staticClass:"dashboard-web-widget",attrs:{src:_vm.cardData.value},on:{error:function(){}}}):_vm._e()]:[_c("connected-app-view-widget",{ref:"connectedAppWidget",staticStyle:{height:"calc(100% - 46px)"},attrs:{context:_vm.connectedAppWidgetContext,widgetId:_vm.connectedAppWidgetId}})]],2)},staticRenderFns=[],BaseCard=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(262882)),lodash=__webpack_require__(496486),Cardvue_type_script_lang_js={props:["widget","config","loading","cardDataObj"],components:{ConnectedAppViewWidget:function(){return __webpack_require__.e(/* import() */67004).then(__webpack_require__.bind(__webpack_require__,767004))}},extends:BaseCard/* default */.Z,data:function(){return{}},computed:{connectedAppWidgetId:function(){return this.cardParams&&this.cardParams.connectedAppWidgetId?this.cardParams.connectedAppWidgetId:this.cardDataObj&&this.cardDataObj.connectedAppWidgetId?this.cardDataObj.connectedAppWidgetId:null},connectedAppWidgetContext:function(){return this.cardParams&&this.cardParams.connectedAppWidgetId||this.cardDataObj&&this.cardDataObj.connectedAppWidgetId?{dashboardFilter:{timelineFilter:this.dbTimelineFilter,userFilters:this.dbCustomScriptFilter}}:null},type:function(){return this.cardParams&&this.cardParams.type?this.cardParams.type:this.cardDataObj&&this.cardDataObj.type?this.cardDataObj.type:"url"}},watch:{connectedAppWidgetContext:function(oldValue,newValue){(0,lodash.isEqual)(oldValue,newValue)||this.$refs.connectedAppWidget&&this.$refs.connectedAppWidget.sendEvent("db.filters.changed",this.connectedAppWidgetContext)}},methods:{mobiledrilldown:function(){if(this.$mobile&&"url"===this.type){var drillDowndata={path:this.cardData.value,type:"url"};this.$helpers.sendToMobile(drillDowndata)}}}},base_Cardvue_type_script_lang_js=Cardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Cardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Card=component.exports},
/***/308649:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CardActions}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/components/CardActions.vue?vue&type=template&id=70f16a1a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showControlActionPopup&&_vm.control.assetId?_c("SetReadingPopup",{attrs:{saveAction:_vm.closePopup,closeAction:_vm.closePopup,recordId:_vm.control.assetId,fieldId:_vm.control.fieldId,groupId:_vm.control.controlGroupId,recordName:""}}):_vm.showControlActionPopup&&_vm.control.controlPointId?_c("SetReadingPopup",{attrs:{saveAction:_vm.closePopup,closeAction:_vm.closePopup,pointId:_vm.control.controlPointId,groupId:_vm.control.controlGroupId,recordName:""}}):_vm._e(),_vm.showTrendPopup?_c("CardTrend",{attrs:{visible:_vm.showTrendPopup,closeAction:_vm.closeTrendPop,cardComponent:_vm.trend},on:{"update:visible":function($event){_vm.showTrendPopup=$event}}}):_vm._e(),_vm.showUrl?_c("UrlTarget",{attrs:{visible:_vm.showUrl,closeAction:_vm.close,urlAction:_vm.urlAction},on:{"update:visible":function($event){_vm.showUrl=$event}}}):_vm._e(),_vm.showListView?_c("CardListView",{attrs:{visible:_vm.showListView,closeAction:_vm.closeListView,data:_vm.listView},on:{"update:visible":function($event){_vm.showListView=$event}}}):_vm._e()],1)},staticRenderFns=[],lodash=(__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(228436),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(538077),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(496486)),validation=__webpack_require__(990260),SetReadingValue=__webpack_require__(681121),CardTrendvue_type_template_id_b1fde83c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visible?_c("el-dialog",{attrs:{title:"TREND",visible:_vm.visible,"append-to-body":!0,"custom-class":"f-popup-view",top:"0%","before-close":_vm.beforeClose},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("div",{staticClass:"content analytics-txt",staticStyle:{cursor:"pointer",color:"rgb(57, 178, 194)","font-size":"13px","text-align":"right","font-weight":"500","margin-right":"20px"},on:{click:_vm.openSelectedReadingInAnalytics}},[_vm._v(" Go to Analytics "),_c("img",{staticStyle:{width:"13px",height:"9px"},attrs:{src:__webpack_require__(862620)}})]),_c("f-new-analytic-report",{attrs:{config:_vm.trendPopup.analyticsConfig},on:{"update:config":function($event){return _vm.$set(_vm.trendPopup,"analyticsConfig",$event)}}})],1):_vm._e()},CardTrendvue_type_template_id_b1fde83c_staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FNewAnalyticReport=__webpack_require__(794925),NewDateHelper=__webpack_require__(708056),JumpToHelper=__webpack_require__(921466),api=__webpack_require__(32284),card_constants=__webpack_require__(806186),CardTrendvue_type_script_lang_js={mixins:[JumpToHelper/* default */.Z],props:["visible","closeAction","cardComponent"],components:{FNewAnalyticReport:FNewAnalyticReport["default"]},data:function(){return{dateOperators:card_constants/* dateOperators */._M,aggregateFunctions:card_constants/* aggregateFunctions */.rD,trendPopup:{analyticsConfig:{period:0,mode:1,dateFilter:NewDateHelper/* default */.Z.getDatePickerObject(22),dataPoints:[],hidechartoptions:!0,hidecharttypechanger:!0}}}},mounted:function(){this.prepareTrendData()},methods:{beforeClose:function(){this.closeAction()},openSelectedReadingInAnalytics:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var parentType,buildingId,dataPoints,assetId,params,_yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!_this.trendPopup.analyticsConfig.dataPoints||!_this.trendPopup.analyticsConfig.dataPoints.length){_context.next=16;break}if(parentType=_this.$getProperty(_this,"cardComponent.cardParams.reading.parentType")||"",buildingId=null,"asset"!==parentType){_context.next=14;break}if(dataPoints=_this.$getProperty(_this,"trendPopup.analyticsConfig.dataPoints")||[],assetId=_this.$getProperty(dataPoints,"0.parentId")||null,(0,validation/* isEmpty */.xb)(assetId)){_context.next=14;break}return params={id:assetId,moduleName:parentType},_context.next=10,api/* API */.bl.get("v3/modules/".concat(parentType,"/").concat(assetId),params);case 10:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error||(buildingId=_this.$getProperty(data,"asset.space.building.id")||null);case 14:_this.visible=!1,_this.jumpReadingsToAnalytics(_this.trendPopup.analyticsConfig.dataPoints,null,null,buildingId);case 16:case"end":return _context.stop()}}),_callee)})))()},prepareTrendData:function(){var _this2=this,_this$cardComponent=this.cardComponent,cardParams=_this$cardComponent.cardParams,cardFilters=_this$cardComponent.cardFilters,reading=cardParams.reading,dateFilterState=null;dateFilterState=(0,validation/* isEmpty */.xb)(cardFilters)?NewDateHelper/* default */.Z.getDatePickerObject(this.dateOperators.find((function(rt){return rt.value===cardParams.dateRange})).enumValue):NewDateHelper/* default */.Z.getDatePickerObject(cardFilters.operatorId,cardFilters.dateValueString),this.trendPopup.analyticsConfig.dateFilter=(0,lodash.cloneDeep)(dateFilterState);var dataPoints=[],datapoint={parentId:null,yAxis:{fieldId:null,aggr:3},aliases:{actual:"A"}},_ref=reading||{},_ref$kpiType=_ref.kpiType,kpiType=void 0===_ref$kpiType?"":_ref$kpiType,randomstring="ABCDEFGHIJKLMNOPQRSTUVWXYZ";if(Array.isArray(reading.parentId))reading.parentId.forEach((function(rt,index){datapoint.parentId=rt,datapoint.yAxis.fieldId=reading.fieldId,datapoint.yAxis.aggr=_this2.aggregateFunctions.find((function(rt){return rt.value===reading.yAggr})).enumValue,datapoint.aliases.actual=randomstring[index],dataPoints.push(datapoint)})),this.trendPopup.analyticsConfig.dataPoints=dataPoints;else if(Array.isArray(reading.yAggr))reading.yAggr.forEach((function(rt,index){datapoint.parentId=reading.parentId,datapoint.yAxis.fieldId=reading.fieldId,datapoint.yAxis.aggr=_this2.aggregateFunctions.find((function(rt){return rt.value===rt})).enumValue,datapoint.aliases.actual=randomstring[index],dataPoints.push(datapoint)})),this.trendPopup.analyticsConfig.dataPoints=dataPoints;else{if("DYNAMIC"===kpiType){var _ref2=reading||{},_ref2$fieldId=_ref2.fieldId,fieldId=void 0===_ref2$fieldId?-1:_ref2$fieldId;datapoint.yAxis.dynamicKpi=fieldId,datapoint.kpiType="DYNAMIC"}else datapoint.yAxis.fieldId=reading.fieldId;datapoint.parentId=reading.parentId,datapoint.yAxis.aggr=this.aggregateFunctions.find((function(rt){return rt.value===reading.yAggr})).enumValue,dataPoints.push(datapoint),this.trendPopup.analyticsConfig.dataPoints=dataPoints}}}},components_CardTrendvue_type_script_lang_js=CardTrendvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CardTrendvue_type_script_lang_js,CardTrendvue_type_template_id_b1fde83c_render,CardTrendvue_type_template_id_b1fde83c_staticRenderFns,!1,null,null,null)
/* harmony default export */,CardTrend=component.exports,URLActionTargetvue_type_template_id_5fc7b6d2_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div")},URLActionTargetvue_type_template_id_5fc7b6d2_staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),toConsumableArray=__webpack_require__(488478),URLActionTargetvue_type_script_lang_js=(__webpack_require__(300268),__webpack_require__(322462),{props:["urlAction"],mounted:function(){this.executeAction()},methods:{executeAction:function(){var urlAction=this.urlAction,selfHost=window.location.protocol+"//"+window.location.host;if(urlAction.url){var url=this.applyLiveVariables(urlAction.url,!0);if("self"===urlAction.target)if(url.startsWith(selfHost)){this.$helpers.isLicenseEnabled("NEW_LAYOUT")&&url.startsWith(selfHost+"/app/em/newdashboard/")&&(url=url.replace(selfHost+"/app/em/newdashboard/",selfHost+"/app/home/dashboard/"));var appUrl=url.replace(selfHost,"");this.$router.push({path:appUrl})}else window.location.href=url;else"popup"===urlAction.target?this.$popupView.openPopup({type:urlAction.linkType,url:urlAction.url,alt:"",dashboardId:"",reportId:"",target:urlAction.target}):(window.open(url,"_blank"),this.$emit("showUrl",!1))}},applyLiveVariables:function(str,applyRawValue){if(!str)return str;var readingVariables=[],matched=str.match(/[^\\${}]+(?=\})/g);if(matched&&matched.length&&readingVariables.push.apply(readingVariables,(0,toConsumableArray/* default */.Z)(matched)),readingVariables&&readingVariables.length){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(readingVariables);try{for(_iterator.s();!(_step=_iterator.n()).done;){var rv=_step.value,liveVal=null,replaceVal="";liveVal&&(replaceVal=applyRawValue?liveVal.value:liveVal.label),replaceVal||(replaceVal=""),str=str.replace("${"+rv+"}",replaceVal)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}return str}}}),components_URLActionTargetvue_type_script_lang_js=URLActionTargetvue_type_script_lang_js,URLActionTarget_component=(0,componentNormalizer/* default */.Z)(components_URLActionTargetvue_type_script_lang_js,URLActionTargetvue_type_template_id_5fc7b6d2_render,URLActionTargetvue_type_template_id_5fc7b6d2_staticRenderFns,!1,null,null,null)
/* harmony default export */,URLActionTarget=URLActionTarget_component.exports,CardListViewvue_type_template_id_5feafad2_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.data&&"popup"===_vm.data.target?_c("div",[_vm.visible?_c("el-dialog",{attrs:{title:_vm.data.title||"VIEW",visible:_vm.visible,"append-to-body":!0,"custom-class":"f-popup-view fc-dialog-center-body-p0 fc-dialog-center-body-m0 fc-card-popup-list-view",top:"0%","before-close":_vm.beforeClose},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("template",{slot:"title"},[_vm.isOperationsApp?_vm._e():_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"label-txt-black fwBold"},[_vm._v(" "+_vm._s(_vm.data.title||"VIEW")+" ")]),_c("div",{staticClass:"content analytics-txt mR30 pointer active-txt bold f14",on:{click:_vm.openListView}},[_vm._v(" Open in List view "),_c("img",{staticStyle:{width:"13px",height:"9px"},attrs:{src:__webpack_require__(862620)}})])])]),_vm.loading?_c("div",{staticClass:"mT40"},[_c("Spinner",{attrs:{show:_vm.loading}})],1):_c("CustomTable",{staticClass:"list-view-widget custom-view-table",attrs:{moduleName:_vm.moduleName,viewname:_vm.data.view,viewMode:!0,filterJSON:_vm.filters,targetDetail:_vm.data.target},on:{setCount:_vm.setCount}})],2):_vm._e()],1):_c("div")},CardListViewvue_type_template_id_5feafad2_staticRenderFns=[],esm_typeof=__webpack_require__(103336),CustomViewTableComponent=(__webpack_require__(689730),__webpack_require__(212826),__webpack_require__(843843),__webpack_require__(214090)),Spinner=__webpack_require__(604947),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),CardListViewvue_type_script_lang_js={props:["visible","closeAction","data"],components:{CustomTable:CustomViewTableComponent/* default */.Z,Spinner:Spinner/* default */.Z},mixins:[JumpToHelper/* default */.Z],data:function(){return{showPopup:!1,listCount:0,loading:!1,moduleKPI:[],kpiObject:null,criteria:null,moduleName:"workorder",currentView:"all",filters:{},dateOperators:card_constants/* dateOperators */._M}},mounted:function(){this.executeAction()},computed:{isOperationsApp:function(){var appNameFromUrl=window.location.pathname.slice(1).split("/")[0];return"operations"===appNameFromUrl}},methods:{executeAction:function(){var data=this.data;this.kpiObject=data.kpi;var cardParams=data.cardParams;if(this.setListViewData(cardParams),(0,validation/* isEmpty */.xb)(this.kpiObject.siteId)||-1==this.kpiObject.siteId||(this.filters.siteId={operatorId:36,value:[this.kpiObject.siteId.toString()]}),!(0,validation/* isEmpty */.xb)(data.cardUserFilters)){var dbFilters=data.cardUserFilters;if(this.filters)for(var _i=0,_Object$keys=Object.keys(dbFilters);_i<_Object$keys.length;_i++){var fieldName=_Object$keys[_i];this.$set(this.filters,fieldName,dbFilters[fieldName])}else this.filters=dbFilters}"self"===data.target?(this.closeAction(),this.openListView()):"popup"===data.target?this.showPopup=!0:(this.closeAction(),this.jumpToViewList(this.filters,this.moduleName,!0,this.data.view))},setListViewData:function(cardParams){this.moduleName=this.kpiObject.moduleName,this.criteria=this.kpiObject.criteria;var filterJSON=this.$helpers.criteriaToFilters(this.criteria);if(!(0,validation/* isEmpty */.xb)(filterJSON)&&"object"==(0,esm_typeof/* default */.Z)(filterJSON)){var cloneFilterJson={};for(var key in filterJSON)!(0,validation/* isEmpty */.xb)(key)&&key.includes(".")?cloneFilterJson[key.split(".")[1]]=filterJSON[key]:cloneFilterJson[key]=filterJSON[key];filterJSON=cloneDeep_default()(cloneFilterJson)}if(cardParams&&cardParams.dateRange)
//if  kpi card  has date range
//when dashboard timeline filters present ,use timeline filter to generate date Range criteria in filter json
if((0,validation/* isEmpty */.xb)(this.data.cardFilters)){
// find date field and generate date Range criteria in filter json to apply to list view
var operatorId=this.dateOperators.find((function(rt){return rt.value===cardParams.dateRange})).enumValue,fieldName="createdTime";this.kpiObject.dateFieldId&&this.kpiObject.dateFieldId>0&&this.kpiObject.dateFieldName&&(fieldName=this.kpiObject.dateFieldName,this.$set(filterJSON,fieldName,{operatorId:operatorId}))}else{var cardFilters=this.data.cardFilters;if(!(0,validation/* isEmpty */.xb)(cardFilters)){var dateFilter={
//Cant send offset for MONTH=AUGUST ,JULY kinda cases as ,newdate pickers doesn't emit the offset->only gives ,start and end TS+operator , so use date-operator=20(CUSTOM) always
operatorId:20,value:[String(cardFilters.startTime),String(cardFilters.endTime)]},dateFieldName=cardFilters.dateField;this.$set(filterJSON,dateFieldName,dateFilter)}}filterJSON&&(this.filters=filterJSON)},setCount:function(listCount){this.listCount=listCount},beforeClose:function(){this.closeAction()},openListView:function(){this.jumpToViewList(this.filters,this.moduleName,!1,this.data.view)}}},components_CardListViewvue_type_script_lang_js=CardListViewvue_type_script_lang_js,CardListView_component=(0,componentNormalizer/* default */.Z)(components_CardListViewvue_type_script_lang_js,CardListViewvue_type_template_id_5feafad2_render,CardListViewvue_type_template_id_5feafad2_staticRenderFns,!1,null,null,null)
/* harmony default export */,CardListView=CardListView_component.exports,card_helpers=__webpack_require__(716956),utility_methods=__webpack_require__(773258),CardActionsvue_type_script_lang_js={data:function(){return{useDashboardFilters:!1,allFilters:{},showControlActionPopup:!1,showTrendPopup:!1,showListView:!1,showUrl:!1,control:null,trend:null,urlAction:null,listView:null,dateOperators:card_constants/* dateOperators */._M,reportActionData:null,showReport:!1}},mixins:[card_helpers/* default */.Z],components:{SetReadingPopup:SetReadingValue/* default */.Z,CardTrend:CardTrend,UrlTarget:URLActionTarget,CardListView:CardListView},methods:{executeAction:function(action,cardComponent,allFilters,useDashboardFilters){var _this=this;if(!(0,validation/* isEmpty */.xb)(action)){var actionType=action.actionType,data=action.data;"controlAction"===actionType?(this.control=data,this.showControlActionPopup=!0):"hyperLink"===actionType?
// Handling for opening popup or redirecting page
this.$mobile?this.executeMobileAction(action,cardComponent):(this.showUrl?(this.showUrl=!1,setTimeout((function(){_this.showUrl=!0}),250)):this.showUrl=!0,this.urlAction=data):"showTrend"===actionType?this.$mobile?this.executeMobileAction(action,cardComponent):(this.trend=cardComponent,this.showTrendPopup=!0):"showListView"===actionType?this.$mobile?this.executeMobileAction(action,cardComponent):(
// Handling for opening reports
this.listView=this.getListViewdata(cardComponent,action),this.showListView=!0):"showReport"===actionType?this.$mobile||(
// Handling for opening reports
this.reportActionData=this.getReportActionData(cardComponent,action),this.allFilters=allFilters,this.useDashboardFilters=useDashboardFilters,this.showReport=!0,this.popUpReport()):"function"===actionType?this.$mobile&&this.executeMobileAction(action,cardComponent):"none"===actionType&&this.$mobile&&this.executeMobileAction(action,cardComponent)}},popUpReport:function(){var _this$reportActionDat=this.reportActionData.actionData,reportId=_this$reportActionDat.reportId,report=_this$reportActionDat.report,qs=_this$reportActionDat.qs,params={};if(this.useDashboardFilters){var _this$allFilters,_ref=null!==(_this$allFilters=this.allFilters)&&void 0!==_this$allFilters?_this$allFilters:{},dbFilterJson=_ref.dbFilterJson,dbTimelineFilter=_ref.dbTimelineFilter;if((0,validation/* isEmpty */.xb)(dbFilterJson)||(params["dbFilterJson"]=dbFilterJson),!(0,validation/* isEmpty */.xb)(dbTimelineFilter)){var _ref2=null!==dbTimelineFilter&&void 0!==dbTimelineFilter?dbTimelineFilter:{},startTime=_ref2.startTime,endTime=_ref2.endTime,dateOperator=_ref2.dateOperator,operatorId=_ref2.operatorId,dateLabel=_ref2.dateLabel,dateField=_ref2.dateField;params["dbTimelineFilter"]={startTime:startTime,endTime:endTime,operatorId:null!==operatorId&&void 0!==operatorId?operatorId:dateOperator,dateLabel:dateLabel,dateValueString:"".concat(startTime,",").concat(endTime),dateField:dateField}}}params["type"]="report",params["url"]="",params["alt"]="",params["dashboardId"]="",params["reportId"]=reportId,params["newReport"]=report,params["qs"]=qs,params["target"]="",this.$popupView.openPopup(params)},getReportActionData:function(cardComponent,action){var data=action.data,tempData=(0,utility_methods/* deepCloneObject */.kh)(data);return cardComponent.report&&this.$set(tempData,"report",cardComponent.report),cardComponent.cardData.variables&&action.data.parameter&&this.$set(tempData,"qs",this.extractPlaceHolder(action.data.parameter,cardComponent.cardData.variables)),{actionData:tempData}},extractPlaceHolder:function(string,filedlist){return string&&filedlist&&(filedlist.push({name:"currentTime",value:(new Date).valueOf()}),string&&""!==string.trim()&&filedlist&&filedlist.forEach((function(field){string=string.replace("${"+field.name+"}",field.value)}))),string},executeMobileAction:function(action,cardComponent){var actionType=action.actionType,data=action.data,cardParams=cardComponent.cardParams;if("controlAction"===actionType);else if("hyperLink"===actionType){var drillDowndata={path:data.url?data.url:null,type:"url"};this.$helpers.sendToMobile(drillDowndata)}else if("showTrend"===actionType);else if("showListView"===actionType){
// Handling for opening reports
var listView=this.getListViewdata(cardComponent,action),kpi=listView.kpi,criteria=kpi.criteria,_drillDowndata={moduleName:kpi.moduleName,viewName:"all",viewDisplayName:"All",type:"view"};if(criteria&&(_drillDowndata.query={filter:this.$helpers.criteriaToFilters(criteria)},cardParams&&cardParams.dateRange)){var operatorId=this.dateOperators.find((function(rt){return rt.value===cardParams.dateRange})).enumValue;!(0,validation/* isEmpty */.xb)(kpi.dateFieldId)&&kpi.dateFieldId>0&&this.$set(_drillDowndata.query.filter,kpi.dateFieldName,{operatorId:operatorId})}this.$helpers.sendToMobile(_drillDowndata)}},getListViewdata:function(cardComponent,action){var actiondata={kpiId:null,criteria:null},data=action.data,kpi=cardComponent.cardParams.kpi,cardData=cardComponent.cardData,kpiObj=(cardComponent.cardParams,null);if(cardData&&cardData.value&&cardData.value.kpi&&(kpiObj=cardData.value.kpi),this.generateProperFieldNameInCriteria(kpiObj),actiondata.kpiId=kpi.kpiId,(0,validation/* isEmpty */.xb)(data))this.$set(actiondata,"kpi",kpiObj),this.$set(actiondata,"target","popup");else{this.$set(actiondata,"kpi",kpiObj);var target=data.target,view=data.view;view?this.$set(actiondata,"view",view):this.$set(actiondata,"view","all"),target?this.$set(actiondata,"target",target):this.$set(actiondata,"target","popup")}return this.$set(actiondata,"title",kpiObj.name),this.$set(actiondata,"cardParams",cardComponent.cardParams),this.$set(actiondata,"cardUserFilters",cardComponent.cardUserFilters),this.$set(actiondata,"cardFilters",cardComponent.cardFilters),(0,lodash.cloneDeep)(actiondata)},generateProperFieldNameInCriteria:function(kpiObj){var _kpiObj$criteria;if(null!==kpiObj&&void 0!==kpiObj&&null!==(_kpiObj$criteria=kpiObj.criteria)&&void 0!==_kpiObj$criteria&&_kpiObj$criteria.conditions&&Object.keys(kpiObj.criteria.conditions).length>0){var conditions=kpiObj.criteria.conditions;for(var key in conditions){var operatorIds=[90,35],condition=conditions[key]||{},operatorId=condition.operatorId,fieldName=condition.fieldName;if(operatorIds.includes(operatorId)&&fieldName){var field_name_arr=fieldName.split(".");field_name_arr&&2==field_name_arr.length&&field_name_arr[1]&&(condition.fieldName=field_name_arr[1])}}}},closeListView:function(){this.listView=null,this.showListView=!1},closePopup:function(){this.showControlActionPopup=!1},closeTrendPop:function(){this.showTrendPopup=!1},close:function(){this.showUrl=!1},closeReport:function(){this.showReport=!1}}},components_CardActionsvue_type_script_lang_js=CardActionsvue_type_script_lang_js,CardActions_component=(0,componentNormalizer/* default */.Z)(components_CardActionsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CardActions=CardActions_component.exports},
/***/323957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CardLoading}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/components/CardLoading.vue?vue&type=template&id=664ae08c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 width100 newcard-shimmer"},[_c("shimmer-loading",{staticClass:"map-shimmer height100"})],1)},staticRenderFns=[],ShimmerLoading=__webpack_require__(516400),CardLoadingvue_type_script_lang_js={components:{shimmerLoading:ShimmerLoading/* default */.Z}},components_CardLoadingvue_type_script_lang_js=CardLoadingvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CardLoadingvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CardLoading=component.exports},
/***/892249:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return skeletonLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/energy/pivot/Components/skeletonLoader.vue?vue&type=template&id=6e653e86&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return"Table"==_vm.preset?_c("div",[_c("div",{staticClass:"skeleton-table"},[_vm.showCheckBox?_c("div",{staticClass:"skl-checkbox-column"},[_c("div",{staticClass:"skl-checkbox-row",style:"background-color:#f1f2f4;margin-bottom:0;"},[_c("div",{staticClass:"skl-checkbox",style:"background-color:white"})]),_vm._l(_vm.rows,(function(row,index){return _c("div",{key:index,staticClass:"skl-checkbox-row"},[_c("div",{staticClass:"skl-checkbox shine-lines-effect"})])}))],2):_vm._e(),_vm._l(_vm.columns,(function(column,index){return _c("div",{key:index,staticClass:"skeleton-table-column",style:"width:"+_vm.calculatedColumnWidth},[_vm._m(0,!0),_vm._l(_vm.rows,(function(row,index){return _c("div",{key:index,staticClass:"skeleton-table-row"},[_vm._m(1,!0)])}))],2)}))],2)]):_c("div",_vm._l(_vm.rowCount,(function(index){return _c("div",{key:index,staticClass:"shine-lines-effect skeleton-text",style:"width:"+_vm.width+";height:"+_vm.height+";"})})),0)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"skeleton-table-header"},[_c("div",{staticClass:"skl-header-cell"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"skl-row-cell"},[_c("div",{staticClass:"skl-shimmer shine-lines-effect"})])}],validation=(__webpack_require__(879288),__webpack_require__(990260)),skeletonLoadervue_type_script_lang_js={computed:{calculatedColumnWidth:function(){return(0,validation/* isEmpty */.xb)(this.columnWidth)?"".concat(parseInt(100/this.columns),"%"):this.columnWidth}},props:{rowCount:{type:Number,default:5},showCheckBox:{type:Boolean,default:!1},preset:{type:String,default:"none"},columns:{type:Number,default:3},rows:{type:Number,default:3},columnWidth:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"100%"}}},Components_skeletonLoadervue_type_script_lang_js=skeletonLoadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Components_skeletonLoadervue_type_script_lang_js,render,staticRenderFns,!1,null,"6e653e86",null)
/* harmony default export */,skeletonLoader=component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/293656:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e179f34e6169d9164845bf6c1d403c8e.svg";
/***/},
/***/271791:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"8f181d382ffbfa8849763c3ada75c3c6.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/},
/***/108277:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"fdf30d3630145654a9db58f2d68b8d49.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/188742:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"22bc1f7e3fecc069519710728d363ce9.svg";
/***/},
/***/339523:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"35669d61e7f074f8a6ff883f7660bd31.svg";
/***/},
/***/797818:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/loading.c54b20b0.gif"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/78350.js.map