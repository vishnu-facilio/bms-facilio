"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[47010],{
/***/443260:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return paymentMemoPreview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/etisalat/Invoice/paymentMemoPreview.vue?vue&type=template&id=9c330464
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isLoading?_c("div",{staticClass:"flex-middle justify-content-center"},[_c("spinner",{attrs:{show:_vm.isLoading,size:80}})],1):_c("div",{ref:"preview-container"},[_c("div",{staticClass:"fc-etisalat-pdf-con"},[_c("div",{staticStyle:{background:"#fff"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",[_c("div",{staticClass:"f13 fc-green-lite bold line-height20"},[_vm._v(" Supplier Name ")]),_c("div",{staticClass:"label-txt-black bold line-height20"},[_vm._v(" "+_vm._s(_vm.supplier?_vm.supplier.name:"")+" ")]),_c("div",{staticClass:"fc-black-13 line-height20"},[_vm._v(" Payment Memo for "+_vm._s(_vm.supplier?_vm.supplier.name:"")+" for "+_vm._s(_vm.result.date?_vm.getDate(_vm.result.date,"MMM YYYY"):"---")+" ")])]),_c("div",{},[_c("div",{staticClass:"fc-black-com letter-spacing1 f36 fwBold"},[_vm._v(" PAYMENT MEMO ")]),_c("div",{staticClass:"fc-green-lite f14 text-right"},[_vm._v(" "+_vm._s(_vm.result.singleline_11||"")+" ")])])]),_c("div",{staticClass:"flex-middle justify-content-space pT20"},[_c("div",{}),_c("div",{},[_c("div",{staticClass:"flex-middle justify-between"},[_c("div",{staticClass:"fc-green-lite f13 line-height20"},[_vm._v("Memo Period")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5 pR5"},[_vm._v(":")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5"},[_vm._v(" "+_vm._s(_vm.result.date?_vm.getDate(_vm.result.date,"MMM YYYY"):"---")+" ")])]),_c("div",{staticClass:"flex-middle justify-between"},[_c("div",{staticClass:"fc-green-lite f13 line-height20"},[_vm._v("Memo Date")]),_c("div",{staticClass:"fc-black-13 line-height20 pL15 pR6"},[_vm._v(":")]),_c("div",{staticClass:"fc-black-13 line-height20 pL5"},[_vm._v(" "+_vm._s(_vm.result.date_1?_vm.getDate(_vm.result.date_1,"MMM DD, YYYY"):"---")+" ")])])])]),_c("div",{staticClass:"fc-black-12 mT20 text-left bold"},[_vm._v(" Total Payable Summary ")]),_c("div",{staticClass:"fc-invoice-table-cave mT10"},[_c("el-row",{staticClass:"fc-invoice-pay-table fc-invoice-pay-table"},[_vm.result.singleline_8?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Vendor Number ")])]),_c("el-col",{staticClass:"fborder-right9",attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_8||"")+" ")])])],1)],1):_vm._e(),_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Arrears Flag ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.boolean?"Yes":"No")+" ")])])],1)],1),_vm.result.singleline_3?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Account Code ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_3||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_9?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" TRN Number ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"text-left fc-black-13 line-height20 bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_9||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_10?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Agreement No. ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_10||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_4?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Region Code ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_4||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v("Tax Code")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_1?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Contract Agreement No. ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_1||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_5?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Vendor Site Code ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_5||"")+" ")])])],1)],1):_vm._e(),_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Landlord Flag ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 text-left line-height20 bold"},[_vm._v(" : "+_vm._s(_vm.result.boolean_1?"Yes":"No")+" ")])])],1)],1),_vm.result.singleline_2?_c("el-col",{staticClass:"fc-invoice-table-borderBottom",attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Category Code ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 text-left line-height20 bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_2||"")+" ")])])],1)],1):_vm._e(),_vm.result.singleline_6?_c("el-col",{attrs:{span:8}},[_c("el-row",[_c("el-col",{attrs:{span:13}},[_c("div",{staticClass:"fc-green-lite f11 line-height20"},[_vm._v(" Cost Center ")])]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-black-13 text-left line-height20 bold"},[_vm._v(" : "+_vm._s(_vm.result.singleline_6||"")+" ")])])],1)],1):_vm._e()],1)],1),_c("table",{staticClass:"fc-invoice-table3"},[_vm._m(0),_vm._l(_vm.result.lineItems,(function(item,index){return _c("tbody",{key:index},[_c("tr",[_c("td",[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(item.name))]),item.number?_c("div",{staticClass:"pT5"},[_vm._v(" Generated from "+_vm._s(item.number+"/"+_vm.details.data.number)+" Bills ")]):_vm._e(),item.picklist?_c("div",{staticClass:"pT5"},[_vm._v(" Account code: "+_vm._s(_vm._f("''")(_vm.accountCode[item.picklist]))+" ")]):_vm._e()]),_c("td",{staticClass:"text-right"},[_c("div",{},[_vm._v(" "+_vm._s((item.decimal_3?_vm.formatCurrency(item.decimal_3):0)+" AED")+" ")])]),_c("td",{staticClass:"text-right"},[_vm._v(" "+_vm._s((item.decimal?_vm.formatCurrency(item.decimal):0)+" AED")+" ")]),_c("td",{staticClass:"text-right"},[_vm._v(" "+_vm._s((item.decimal_1?_vm.formatCurrency(item.decimal_1):0)+" AED")+" ")]),_c("td",{staticClass:"text-right"},[_c("div",{},[_vm._v(" "+_vm._s((item.decimal_2?_vm.formatCurrency(item.decimal_2):0)+" AED")+" ")])])])])})),_c("tbody",[_c("tr",[_c("td",{staticStyle:{background:"#f8fbf4"}}),_c("td",{staticStyle:{background:"#f8fbf4"}},[_c("div",{staticClass:"fc-black-14 bold text-right"},[_vm._v(" "+_vm._s((_vm.result.decimal_3?_vm.formatCurrency(_vm.result.decimal_3):0)+" AED")+" ")])]),_c("td",{staticStyle:{background:"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(1),_c("div",{staticClass:"fc-black-14 bold text-right"},[_vm._v(" "+_vm._s((_vm.result.decimal?_vm.formatCurrency(_vm.result.decimal):0)+" AED")+" ")])])]),_c("td",{staticStyle:{background:"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_vm._m(2),_c("div",{staticClass:"fc-black-14 bold text-right"},[_vm._v(" "+_vm._s((_vm.result.decimal_1?_vm.formatCurrency(_vm.result.decimal_1):0)+" AED")+" ")])])]),_c("td",{staticClass:"p20",staticStyle:{background:"#f8fbf4"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",[_vm._v("=")]),_c("div",{staticClass:"fc-black-14 bold text-right"},[_vm._v(" "+_vm._s((_vm.result.decimal_2?_vm.formatCurrency(_vm.result.decimal_2):0)+" AED")+" ")])])])]),_c("tr",[_c("td",{attrs:{colspan:"100%"}},[_c("div",{staticClass:"fc-black2-18 text-right fwBold flex-middle justify-end"},[_c("div",{staticClass:"pR35"},[_vm._v("PAYMENT MEMO TOTAL")]),_c("div",[_vm._v(" "+_vm._s((_vm.result.decimal_2?_vm.formatCurrency(_vm.result.decimal_2):0)+" AED")+" ")])])])])])],2),_vm.result.approvalList&&_vm.result.approvalList.length?[_c("div",{staticClass:"fc-black-12 mT20 text-left fw6"},[_vm._v(" Approval Summary ")]),_c("table",{staticClass:"fc-invoice-table4 mT15"},[_vm._m(3),_vm._l(_vm.result.approvalList,(function(approval,index){return _c("tbody",{key:index},[_c("tr",[_c("td",{staticClass:"bold"},[_vm._v(_vm._s(approval.name||""))]),_c("td",[_vm._v(_vm._s(approval.singleline||""))]),_c("td",[_vm._v(" "+_vm._s(approval.datetime?_vm.getDate(approval.datetime,"DD MMM YYYY h:mm a"):"---")+" ")]),_c("td",[_c("div",{staticClass:"fc-green-label3"},[_vm._v(" "+_vm._s(approval.picklist?_vm.approvalStatus[approval.picklist]:"")+" ")])]),_c("td",[_vm._v(_vm._s(approval.multiline||""))])])])}))],2)]:_vm._e()],2)])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticStyle:{width:"35%"}},[_vm._v("ITEM,DESCRIPTION")]),_c("th",[_vm._v("Non Taxable Amount")]),_c("th",{staticClass:"text-right"},[_vm._v("Taxable Amount")]),_c("th",{staticClass:"text-right",staticStyle:{width:"25%"}},[_vm._v("VAT")]),_c("th",{staticClass:"text-right",staticStyle:{width:"25%"}},[_vm._v("TOTAL")])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("i",{staticClass:"el-icon-plus fwBold"})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("th",[_vm._v("NAME")]),_c("th",[_vm._v("DESIGNATION")]),_c("th",[_vm._v("DATE OF APPROVAL")]),_c("th",[_vm._v("STATUS")]),_c("th",{attrs:{width:"30%"}},[_vm._v("COMMENTS")])])}],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(420629)),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),paymentMemoPreviewvue_type_script_lang_js={props:["details","moduleName","calculateDimensions","resizeWidget"],data:function(){return{isLoading:!0,pdfopen:!1,currentPage:0,pageCount:0,result:{},supplier:null,utility:{1:"Electricity",2:"Water",3:"Gas",4:"Sewage"},accountCode:{1:"62001",2:"62003",3:"",4:"62004"},approvalStatus:{1:"Approved",2:"Rejected"},params:{nameSpace:"invoiceSummary",functionName:"getInvoiceSummary",paramList:[]}}},mounted:function(){this.getData()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{fields:function(){return this.moduleMeta.fields||[]},fieldDisplayNames:function(){var _this=this;if(this.moduleMeta&&this.moduleMeta.fields){var fieldMap={};return this.moduleMeta.fields.forEach((function(field){_this.$set(fieldMap,field.name,field.displayName)})),fieldMap}return[]}}),methods:{formatCurrency:function(value){return(0,formatter/* formatCurrency */.xG)(value,2)},goToInvoice:function(invoice){var routeData=this.$router.resolve({path:"/app/supp/custom_invoices/all/".concat(invoice.id,"/summary")});window.open(routeData.href,"_blank")},getDate:function(time,formatter){return moment_timezone_default()(Number(time)).tz(this.$timezone).format(formatter)},getData:function(){var _this2=this,invoiceid=this.details.id;this.params.paramList.push(invoiceid),this.$http.post("/v2/workflow/runWorkflow",this.params).then((function(resp){resp.data.result&&resp.data.result.workflow&&resp.data.result.workflow.returnValue&&(_this2.result=resp.data.result.workflow.returnValue,_this2.getsupplierId()),_this2.isLoading=!1,_this2.autoResize()}))},autoResize:function(){var _this3=this;this.$nextTick((function(){var height=_this3.$refs["preview-container"].scrollHeight+60,width=_this3.$refs["preview-container"].scrollWidth,_this3$calculateDimen=_this3.calculateDimensions({height:height,width:width}),h=_this3$calculateDimen.h;(0,validation/* isEmpty */.xb)(_this3.initialWidgetHeight)&&(_this3.initialWidgetHeight=h),_this3.resizeWidget({h:_this3.isAllVisible?h:_this3.initialWidgetHeight})}))},getsupplierId:function(){var lookup=this.result.lookup;lookup&&lookup.id&&this.getsupplier(lookup.id)},getsupplier:function(id){var _this4=this;this.$http.get("/v2/pages/vendors?id=".concat(id)).then((function(resp){resp.data.result&&resp.data.result.record&&(_this4.supplier=resp.data.result.record)}))}}},Invoice_paymentMemoPreviewvue_type_script_lang_js=paymentMemoPreviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Invoice_paymentMemoPreviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,paymentMemoPreview=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/47010.js.map