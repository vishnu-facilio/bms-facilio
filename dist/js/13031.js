"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[13031],{
/***/213031:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AgentDevice}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/AgentDevice.vue?vue&type=template&id=2624d67e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"agent-table-scroll-tab"},[_vm.showDialog?_c("new-add-Controller",{attrs:{model:_vm.device,isNew:"isNew",visibility:_vm.showDialog},on:{"update:visibility":function($event){_vm.showDialog=$event},saved:_vm.onControllerSaved}}):_vm._e(),_c("portal",{attrs:{to:"device-form",slim:""}},[_c("el-button",{staticClass:"fc-agent-add-btn",on:{click:function($event){return _vm.showController()}}},[_c("i",{staticClass:"el-icon-plus pR5 fwBold"}),_vm._v("Add Controller ")])],1),_c("div",{},[_c("portal",{attrs:{to:"device-actions",slim:""}},["unconfigured"===_vm.activeName?_c("div",{staticClass:"flex-middle justify-content-space width100 pL10 pT20"},[_c("div",{},[_c("el-select",{staticClass:"fc-input-full-border-select2",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent"},on:{change:_vm.loadDevice},model:{value:_vm.selectedAgentId,callback:function($$v){_vm.selectedAgentId=$$v},expression:"selectedAgentId"}},_vm._l(_vm.agents,(function(agent,index){return _c("el-option",{key:index,attrs:{label:agent.name,value:agent.id,"no-data-text":"No Agent available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL20",attrs:{filterable:"",placeholder:"Select Type"},on:{change:_vm.onTypeChange},model:{value:_vm.selectedType,callback:function($$v){_vm.selectedType=$$v},expression:"selectedType"}},[_vm._l(_vm.$constants.ControllerTypes,(function(label,value){return[_c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})]}))],2),1===this.selectedType||12===this.selectedType?_c("el-button",{staticClass:"fc-white-btn mL20",on:{click:function($event){return _vm.discoverDevices()}}},[_vm._v("Discover Devices")]):_vm._e()],1),_c("div",{staticClass:"flex-middle"},[_c("pagination",{attrs:{total:_vm.listCount,perPage:_vm.perPage}}),_c("f-search",{staticClass:"mR20",model:{value:_vm.devices,callback:function($$v){_vm.devices=$$v},expression:"devices"}}),_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{ arrow: true, arrowType: 'round', animation: 'fade' }"}],staticClass:"pointer fwBold pR10 f16 clearboth",attrs:{content:"Refresh"},on:{click:_vm.listRefresh}},[_c("i",{staticClass:"el-icon-refresh fwBold f16"})])],1)]):_vm._e()])],1),_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white m10 fc-agent-empty-state height-calc200"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm._e(),_vm.$validation.isEmpty(_vm.realDevices)&&!_vm.loading?_c("div",{staticClass:"fc-empty-white flex-middle height-calc200 justify-content-center flex-direction-column fc-agent-table m10 fc-agent-empty-state"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"q-item-label nowo-label"},[_vm._v("No Unconfigured available")])],1):_vm._e(),_vm.loading||_vm.$validation.isEmpty(_vm.realDevices)?_vm._e():_c("div",{staticClass:"fc-agent-table agent-list-scroll scrollbar-style fc-list-table-container"},[_c("el-table",{ref:"multipleSelection",staticClass:"fc-list-view pT0 height100vh fc-table-td-height fc-table-viewchooser pB100 fc-table-th-minus",staticStyle:{width:"100%"},attrs:{data:_vm.realDevices,height:"auto"}},[_c("el-table-column",{attrs:{label:"NAME"},scopedSlots:_vm._u([{key:"default",fn:function(device){return[_c("div",{},[_vm._v(_vm._s(device.row.name))])]}}],null,!1,2840592188)}),_c("el-table-column",{attrs:{label:"Site"},scopedSlots:_vm._u([{key:"default",fn:function(device){return[_vm._v(" "+_vm._s(device.row.siteId>0?(_vm.$store.getters.getSite(device.row.siteId)||{}).name:"---")+" ")]}}],null,!1,1316349606)}),_c("el-table-column",{attrs:{label:"Created Time",sortable:"",prop:"device"},scopedSlots:_vm._u([{key:"default",fn:function(device){return[_vm._v(" "+_vm._s(_vm._f("formatDate")(device.row.createdTime,!0))+" "+_vm._s(_vm._f("formatDate")(device.row.createdTime,!0))+" ")]}}],null,!1,2967650274)}),_c("el-table-column",{attrs:{label:"Controller Properties"},scopedSlots:_vm._u([{key:"default",fn:function(device){return[_c("div",{staticClass:"fc-agent-show-txt bold",on:{click:function($event){return _vm.showIotMessage(device.row)}}},[_vm._v(" Show Properties ")])]}}],null,!1,1439359936)})],1),_vm.showMsgJson&&_vm.showMsgJson.id?_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:"Controller Props",visible:_vm.dialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_c("div",{staticClass:"fc-json-view pB20"},[_vm._v(_vm._s(_vm.showMsgJson.propsStr))])]):_vm._e()],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),ControllerAddForm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(538077),__webpack_require__(228436),__webpack_require__(648324),__webpack_require__(169358),__webpack_require__(634338),__webpack_require__(84961)),FSearch=__webpack_require__(947748),FPagination=__webpack_require__(929593),AgentDevicevue_type_script_lang_js={title:function(){return"Agent Device"},data:function(){return{loading:!1,devices:[],agents:[],device:null,agent:null,showHelpDialog:!1,controllers:[],selectedAgentId:null,dialogVisible:!1,selectedDevice:null,selectedControllerId:null,showDialog:!1,selectedType:0,selectedDevices:null,showMsgJson:null,selectedDeviceDiscover:[],selectall:!1,clicked:[],realDevices:[],listCount:null,perPage:50,activeName:"unconfigured"}},created:function(){this.loadAgents()},components:{NewAddController:ControllerAddForm/* default */.Z,FSearch:FSearch/* default */.Z,Pagination:FPagination/* default */.Z},computed:{
// availableTypes() {
//   return this.realDevices.map(device => device.controllerType)
// },
// filteredControllers() {
//   return this.realDevices.filter(
//     device => device.controllerType === this.selectedType
//   )
// },
selectedController:function(){var _this=this;return this.selectedControllerId?this.devices.find((function(device){return device.id===_this.selectedControllerId})):null},page:function(){return this.$route.query.page||1}},watch:{selectedAgentId:function(id){this.$router.push({query:{agentId:id}})},selectAll:function(val){var self=this;val?(this.selectedDevices=[],this.agents.filter((function(device){self.selectedDevices.push(device)}))):this.selectedDevices.length===this.devices.length&&(this.selectedDevices=[])},page:function(){this.loadDevice(),this.loadCount(!0)}},methods:{showIotMessage:function(device){this.dialogVisible=!0,this.showMsgJson=device,
// this.selectedIndex = JSON.stringify(this.showMsgJson)
this.showMsgJson=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},device),{},{propsStr:JSON.stringify(JSON.parse(device.propsStr),null,2).trim()})},discoverDevices:function(){var _this2=this;this.loading=!0,this.$http.post("/v2/controller/discover ",{agentId:this.selectedAgentId,controllerType:this.selectedType}).then((function(response){200===response.data.responseCode?(_this2.loading=!1,_this2.$message.success("Discover updated successfully.")):(_this2.loading=!1,_this2.$message.error(response.data.message))}))},helpDialogOpen:function(){this.showHelpDialog=!0},loadDevice:function(){var _this3=this;this.loading=!0;var url=this.selectedAgentId?"/v2/device/list?agentId=".concat(this.selectedAgentId,"&controllerType=").concat(this.selectedType):"/v2/device/list";this.$http.get(url).then((function(response){_this3.loading=!1,_this3.realDevices=response.data.result.data?response.data.result.data:[]})).catch((function(){_this3.devices=[],_this3.loading=!1}))},loadCount:function(){var _this4=this;this.listCount=0;var url="/v2/device/count?agentId=".concat(this.selectedAgentId,"&controllerType=").concat(this.selectedType);this.$http.get(url).then((function(response){200===response.data.responseCode&&(_this4.listCount=response.data.result.data)}))},loadAgents:function(){var _this5=this;this.setLoading(!0),this.$http.get("/v2/agent/list").then((function(response){_this5.agents=response.data.result.data?response.data.result.data:[],_this5.agents.length?(_this5.selectedAgentId=parseInt(_this5.$route.params.agentId)||_this5.agents[0].id,_this5.loadDevice(),_this5.loadCount()):
// this.devices = []
_this5.setLoading(!1)})).catch((function(){_this5.agents=[],_this5.setLoading(!1)}))},listRefresh:function(){this.loadDevice()},onTypeChange:function(){this.loadCount(),this.loadDevice()},showController:function(){this.showDialog=!0},setLoading:function(isLoading){this.$emit("update:loading",isLoading)}}},agent_AgentDevicevue_type_script_lang_js=AgentDevicevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agent_AgentDevicevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentDevice=component.exports},
/***/84961:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ControllerAddForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/components/ControllerAddForm.vue?vue&type=template&id=7d0d1274
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",[_c("el-form",{ref:"deviceform",staticClass:"fc-form",attrs:{model:_vm.newadddevice,"label-position":"top","label-width":"120px"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?"New":"Edit")+" Controller ")])])]),_c("div",{staticClass:"new-body-modal"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Select Agent ")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{prop:"agents",filterable:"","default-first-option":"",placeholder:"Select Agent"},model:{value:_vm.newadddevice.selectedAgentId,callback:function($$v){_vm.$set(_vm.newadddevice,"selectedAgentId",$$v)},expression:"newadddevice.selectedAgentId"}},_vm._l(this.agentFilter,(function(agent,index){return _c("el-option",{key:index,attrs:{label:agent.displayName,value:agent.id,"no-data-text":"No Agent available",clearable:""}})})),1)],1)],1),_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v("Type")]),_c("el-form-item",{attrs:{prop:"controllerType"}},[_c("el-select",{staticClass:"width100",on:{change:function($event){return _vm.controllerTypeSelect()}},model:{value:_vm.newadddevice.controllerType,callback:function($$v){_vm.$set(_vm.newadddevice,"controllerType",$$v)},expression:"newadddevice.controllerType"}},_vm._l(_vm.$constants.ControllerTypesDevice,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1)],1)],1),null!=_vm.newadddevice.controllerType&&1!=_vm.newadddevice.controllerType?_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Controller Name ")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"width100",attrs:{placeholder:"Enter Controller Name"},model:{value:_vm.newadddevice.name,callback:function($$v){_vm.$set(_vm.newadddevice,"name",$$v)},expression:"newadddevice.name"}})],1)],1):_vm._e(),"Modbus Rtu"===this.$constants.ControllerTypesDevice[_vm.newadddevice.controllerType]?_c("div",{staticClass:"modbus"},[_c("div",{staticClass:"fc-modal-sub-title pT20"},[_vm._v("modbus Rtu")]),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Slave id")]),_c("el-form-item",{attrs:{prop:"slaveId"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:_vm.number,placeholder:"Enter Slave id"},model:{value:_vm.newadddevice.slaveId,callback:function($$v){_vm.$set(_vm.newadddevice,"slaveId",$$v)},expression:"newadddevice.slaveId"}})],1)],1)]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block pT10"},[_c("div",{staticClass:"flex-middle justify-content-space position-relative"},[_c("div",[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v("Network Id")])])]),_c("el-form-item",{attrs:{prop:"networkId"}},[_c("el-select",{staticClass:"width100",attrs:{placeholder:"Select"},model:{value:_vm.idx,callback:function($$v){_vm.idx=$$v},expression:"idx"}},[_vm._l(_vm.rtuNetworks,(function(netwrok,index){return _c("el-option",{key:index,attrs:{label:netwrok.name,value:parseInt(index)}})})),_c("el-option",[_c("div",{staticClass:"fwBold pointer line-height20 pT8 text-center text-uppercase f11",on:{click:function($event){return _vm.createNewNetwork()}}},[_vm._v(" Create new network ")])])],2)],1)],1)])],1),_vm.showCreateNetwork?_c("div",[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Network Name")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter Network Name"},model:{value:_vm.newaddnetwork.name,callback:function($$v){_vm.$set(_vm.newaddnetwork,"name",$$v)},expression:"newaddnetwork.name"}})],1)],1)]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Port")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetwork.comPort,callback:function($$v){_vm.$set(_vm.newaddnetwork,"comPort",$$v)},expression:"newaddnetwork.comPort"}})],1)],1)])],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Baud Rate")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter Baud Rate"},model:{value:_vm.newaddnetwork.baudRate,callback:function($$v){_vm.$set(_vm.newaddnetwork,"baudRate",$$v)},expression:"newaddnetwork.baudRate"}})],1)],1)]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Data Bits")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetwork.dataBits,callback:function($$v){_vm.$set(_vm.newaddnetwork,"dataBits",$$v)},expression:"newaddnetwork.dataBits"}})],1)],1)])],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Stop Bits")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter stop bits Name"},model:{value:_vm.newaddnetwork.stopBits,callback:function($$v){_vm.$set(_vm.newaddnetwork,"stopBits",$$v)},expression:"newaddnetwork.stopBits"}})],1)],1)]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Parity")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetwork.parity,callback:function($$v){_vm.$set(_vm.newaddnetwork,"parity",$$v)},expression:"newaddnetwork.parity"}},[_c("el-option",{key:"0",attrs:{label:"0",value:"0"}}),_c("el-option",{key:"1",attrs:{label:"1",value:"1"}})],1)],1)],1)])],1)],1):_vm._e()],1):_vm._e(),"BACnet Ip"===this.$constants.ControllerTypesDevice[_vm.newadddevice.controllerType]?_c("div",{staticClass:"opc-xml-sec"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10 width100"},[_vm._v("IP Address")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter the IP Address"},model:{value:_vm.newadddevice.ipAddress,callback:function($$v){_vm.$set(_vm.newadddevice,"ipAddress",$$v)},expression:"newadddevice.ipAddress"}})],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Instance Number")]),_c("el-form-item",{attrs:{prop:"instanceNumber"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"number",placeholder:"Enter the Instance Number"},model:{value:_vm.newadddevice.instanceNumber,callback:function($$v){_vm.$set(_vm.newadddevice,"instanceNumber",$$v)},expression:"newadddevice.instanceNumber"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Network Number")]),_c("el-form-item",{attrs:{prop:"networkNumber"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the Network Number"},model:{value:_vm.newadddevice.networkNumber,callback:function($$v){_vm.$set(_vm.newadddevice,"networkNumber",$$v)},expression:"newadddevice.networkNumber"}})],1)],1)],1)],1):_vm._e(),"Opc UA"===this.$constants.ControllerTypesDevice[_vm.newadddevice.controllerType]?_c("div",{staticClass:"opu-ua-sec"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10 width100"},[_vm._v("URL")]),_c("el-form-item",{attrs:{prop:"url"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter the URL"},model:{value:_vm.newadddevice.url,callback:function($$v){_vm.$set(_vm.newadddevice,"url",$$v)},expression:"newadddevice.url"}})],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Security Policy")]),_c("el-form-item",{attrs:{prop:"policy"}},[_c("el-select",{staticClass:"width100",attrs:{placeholder:"Select"},model:{value:_vm.newadddevice.policy,callback:function($$v){_vm.$set(_vm.newadddevice,"policy",$$v)},expression:"newadddevice.policy"}},[_c("el-option",{attrs:{label:"None",value:0}}),_c("el-option",{attrs:{label:"Basic128Rsa15",value:1}}),_c("el-option",{attrs:{label:"Basic256",value:2}}),_c("el-option",{attrs:{label:"Basic256Sha256",value:3}})],1)],1)],1)]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Security mode")]),_c("el-form-item",{attrs:{prop:"security"}},[_c("el-select",{staticClass:"width100",attrs:{placeholder:"Select"},model:{value:_vm.newadddevice.security,callback:function($$v){_vm.$set(_vm.newadddevice,"security",$$v)},expression:"newadddevice.security"}},[_c("el-option",{attrs:{label:"None",value:0}}),_c("el-option",{attrs:{label:"Sign",value:1}}),_c("el-option",{attrs:{label:"Sign & Encrypt",value:2}})],1)],1)],1)])],1)],1):_vm._e(),["Opc XML DA","RDM"].includes(this.$constants.ControllerTypesDevice[_vm.newadddevice.controllerType])?_c("div",{staticClass:"opc-xml-sec"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("URL")]),_c("el-form-item",{attrs:{prop:"controllerUrl"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the URL"},model:{value:_vm.newadddevice.controllerUrl,callback:function($$v){_vm.$set(_vm.newadddevice,"controllerUrl",$$v)},expression:"newadddevice.controllerUrl"}})],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("User Name")]),_c("el-form-item",{attrs:{prop:"userName"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the Username"},model:{value:_vm.newadddevice.userName,callback:function($$v){_vm.$set(_vm.newadddevice,"userName",$$v)},expression:"newadddevice.userName"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Password")]),_c("el-form-item",{attrs:{prop:"password"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the password"},model:{value:_vm.newadddevice.password,callback:function($$v){_vm.$set(_vm.newadddevice,"password",$$v)},expression:"newadddevice.password"}})],1)],1)],1)],1):_vm._e(),"Modbus Ip"===this.$constants.ControllerTypesDevice[_vm.newadddevice.controllerType]?_c("div",{staticClass:"opc-xml-sec"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Slave Id")]),_c("el-form-item",{attrs:{prop:"modbusSlave"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"number",placeholder:"Enter the slave id"},model:{value:_vm.newadddevice.modbusSlave,callback:function($$v){_vm.$set(_vm.newadddevice,"modbusSlave",$$v)},expression:"newadddevice.modbusSlave"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Ip Address")]),_c("el-form-item",{attrs:{prop:"modbusIp"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the Ip Address"},model:{value:_vm.newadddevice.modbusIp,callback:function($$v){_vm.$set(_vm.newadddevice,"modbusIp",$$v)},expression:"newadddevice.modbusIp"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Port")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{placeholder:"Enter Port"},model:{value:_vm.newadddevice.portNumber,callback:function($$v){_vm.$set(_vm.newadddevice,"portNumber",$$v)},expression:"newadddevice.portNumber"}})],1)],1)])],1)],1):_vm._e()]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm("deviceform")}}},[_vm._v(" "+_vm._s(_vm.saving?"Saving...":"SAVE"))])],1)])],1)]),_vm.networkFormVisible?_c("new-network",{attrs:{visibility:_vm.networkFormVisible},on:{"update:visibility":function($event){_vm.networkFormVisible=$event}}}):_vm._e()],1)},staticRenderFns=[],AgentNetworkCreateFormvue_type_template_id_b95787a2_render=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(865137),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"fc-dialog-center-container scale-up-center",attrs:{title:"Create form Network",visible:_vm.visibility,width:"50%","before-close":_vm.closeDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"height400"},[_c("el-form",{ref:"networkForm",attrs:{model:_vm.newaddnetworkForm}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Network Name ")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Enter Network Name"},model:{value:_vm.newaddnetworkForm.name,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"name",$$v)},expression:"newaddnetworkForm.name"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Port ")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetworkForm.port,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"port",$$v)},expression:"newaddnetworkForm.port"}},[_c("el-option",{attrs:{label:"0",value:"0"}}),_c("el-option",{attrs:{label:"1",value:"1"}})],1)],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Baud Rate ")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Enter Network Name"},model:{value:_vm.newaddnetworkForm.baud,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"baud",$$v)},expression:"newaddnetworkForm.baud"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Data Bits ")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetworkForm.dataBits,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"dataBits",$$v)},expression:"newaddnetworkForm.dataBits"}},[_c("el-option",{attrs:{label:"0",value:"0"}}),_c("el-option",{attrs:{label:"1",value:"1"}})],1)],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Stop Bits ")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Enter stop bits Name"},model:{value:_vm.newaddnetworkForm.topBits,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"topBits",$$v)},expression:"newaddnetworkForm.topBits"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v(" Parity ")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:"Select"},model:{value:_vm.newaddnetworkForm.parity,callback:function($$v){_vm.$set(_vm.newaddnetworkForm,"parity",$$v)},expression:"newaddnetworkForm.parity"}},[_c("el-option",{key:"0",attrs:{label:"0",value:"0"}}),_c("el-option",{key:"1",attrs:{label:"1",value:"1"}})],1)],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm("networkForm")}}},[_vm._v(_vm._s(_vm.saving?"Saving...":"SAVE"))])],1)],1)],1)])],1)}),AgentNetworkCreateFormvue_type_template_id_b95787a2_staticRenderFns=[],AgentNetworkCreateFormvue_type_script_lang_js={props:["visibility"],data:function(){return{saving:!1,newaddnetworkForm:{name:"",port:null,baud:"",dataBits:null,topBits:"",parity:null,ports:null}}},methods:{closeDialog:function(){this.$emit("update:visibility",!1)},submitForm:function(networkForm){var _this=this;this.$refs[networkForm].validate((function(valid){if(valid){_this.saving=!0;var networkPayload={name:_this.newaddnetworkForm.name,comPort:1,baudRate:9600,dataBits:0,stopBits:1,parity:0,agentId:1};_this.$http.post("/v2/modbus/addRtuNetwork",networkPayload).then((function(response){200===response.status&&(_this.$message("Network has been updated."),_this.saving=!1,_this.resetForm(),_this.$emit("saved"),_this.$emit("update:visibility",!1))}))}}))},resetForm:function(){this.$refs["networkForm"].resetFields()},cancel:function(){this.$emit("canceled")}}},components_AgentNetworkCreateFormvue_type_script_lang_js=AgentNetworkCreateFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AgentNetworkCreateFormvue_type_script_lang_js,AgentNetworkCreateFormvue_type_template_id_b95787a2_render,AgentNetworkCreateFormvue_type_template_id_b95787a2_staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentNetworkCreateForm=component.exports,utils_validation=__webpack_require__(990260),ControllerAddFormvue_type_script_lang_js={props:["visibility","isNew","model"],components:{NewNetwork:AgentNetworkCreateForm},data:function(){return{saving:!1,agents:[],agent:null,newadddevice:{name:"",controllerType:null,slaveId:"",networkId:null,url:"",security:null,policy:null,certificate:"",controllerUrl:"",userName:"",password:"",modbusSlave:"",modbusIp:"",selectedAgentId:null,ipAddress:"",networkNumber:"",instanceNumber:"",portNumber:null},newaddnetwork:{name:"",comPort:null,baudRate:"",dataBits:"",stopBits:"",parity:""},networkFormVisible:!1,rtuNetworks:[],showCreateNetwork:!1,idx:null}},mounted:function(){this.loadAgents();
// if (!this.isNew) {
//   let {
//     name,
//     macAddr,
//     controllerType,
//     dataInterval,
//     writable,
//     instanceNumber,
//     displayName,
//   } = this.model
//   Object.assign(this.newaddController, {
//     name,
//     macAddr,
//     controllerType,
//     dataInterval,
//     writable,
//     instanceNumber,
//     displayName,
//   })
//   let nullableFields = ['dataInterval', 'controllerType']
//   nullableFields.forEach(fieldName => {
//     if (this.newAgent[fieldName] === -1) {
//       this.newAgent[fieldName] = null
//     }
//   })
// }
},computed:{agentFilter:function(){return this.agents.filter((function(agent){return 0!=agent.agentType&&2!=agent.agentType}))}},methods:{submitForm:function(deviceform){var _this=this;this.$refs[deviceform].validate((function(valid){if(valid){if(!_this.validation())return;_this.saving=!0;var url,payload=null;
// TODO change these implementations to single api
if(1===_this.newadddevice.controllerType){url="/v2/bacnet/addController";var bacnetControllerObj={ipAddress:_this.newadddevice.ipAddress,networkNumber:_this.newadddevice.networkNumber,instanceNumber:_this.newadddevice.instanceNumber,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType};payload={bacnetController:bacnetControllerObj}}else if(4===_this.newadddevice.controllerType)url="/v2/modbus/addController",payload={name:_this.newadddevice.name,slaveId:_this.newadddevice.modbusSlave,ip:_this.newadddevice.modbusIp,port:_this.newadddevice.portNumber,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType};else if(5===_this.newadddevice.controllerType){var addnewNetwork;addnewNetwork=""!=_this.newaddnetwork.name?{name:_this.newaddnetwork.name,comPort:_this.newaddnetwork.comPort,baudRate:parseInt(_this.newaddnetwork.baudRate),dataBits:parseInt(_this.newaddnetwork.dataBits),stopBits:parseInt(_this.newaddnetwork.stopBits),parity:parseInt(_this.newaddnetwork.parity)}:{name:_this.rtuNetworks[_this.idx].name,comPort:_this.rtuNetworks[_this.idx].comPort,baudRate:_this.rtuNetworks[_this.idx].baudRate,dataBits:_this.rtuNetworks[_this.idx].dataBits,stopBits:_this.rtuNetworks[_this.idx].stopBits,parity:_this.rtuNetworks[_this.idx].parity},url="/v2/modbus/addController",payload={name:_this.newadddevice.name,slaveId:parseInt(_this.newadddevice.slaveId),agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType,rtuNetwork:addnewNetwork}}else 7===_this.newadddevice.controllerType?(url="/v2/opcUa/addController",payload={name:_this.newadddevice.name,url:_this.newadddevice.url,certPath:_this.newadddevice.certificate,securityMode:_this.newadddevice.security,securityPolicy:_this.newadddevice.policy,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType}):6===_this.newadddevice.controllerType?(url="/v2/opcda/addController",payload={name:_this.newadddevice.name,url:_this.newadddevice.controllerUrl,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType,userName:_this.newadddevice.userName,password:_this.newadddevice.password}):0===_this.newadddevice.controllerType?(url="/v2/modbus/addMiscController",payload={name:_this.newadddevice.name,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType}):13===_this.newadddevice.controllerType?(url="/v2/rdm/addController",payload={name:_this.newadddevice.name,url:_this.newadddevice.controllerUrl,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType,userName:_this.newadddevice.userName,password:_this.newadddevice.password}):14===_this.newadddevice.controllerType&&(url="/v2/e2/addController",payload={name:_this.newadddevice.name,agentId:_this.newadddevice.selectedAgentId,controllerType:_this.newadddevice.controllerType,ipAddress:_this.newadddevice.ipAddress,portNumber:_this.newadddevice.portNumber});_this.$http.post(url,payload).then((function(response){200===response.status&&(_this.$message("Device will be added in a while."),_this.saving=!1,_this.resetForm(),_this.$emit("saved"),_this.$emit("update:visibility",!1))}))}}))},loadAgents:function(){var _this2=this;this.loading=!0,this.$http.get("/v2/agent/getFilter").then((function(response){_this2.loading=!1,_this2.agents=response.data.result&&response.data.result.data?response.data.result.data:[],_this2.agents.sort()})).catch((function(){_this2.agents=[],_this2.loading=!1}))},getRtuNetworks:function(){var _this3=this,url="/v2/modbus/rtuNetworks?agentId=".concat(this.newadddevice.selectedAgentId);this.$http(url).then((function(response){200===response.data.responseCode&&(_this3.rtuNetworks=response.data.result.data)}))},resetForm:function(){this.$refs["deviceform"].resetFields()},closeDialog:function(){this.$emit("update:visibility",!1)},cancel:function(){this.$emit("canceled")},createNewNetwork:function(){this.showCreateNetwork=!0},controllerTypeSelect:function(){this.$forceUpdate(),5===this.newadddevice.controllerType&&this.getRtuNetworks()},validation:function(){return(0,utils_validation/* isEmpty */.xb)(this.newadddevice.selectedAgentId)?(this.$message.error("Please Select Agent."),!1):1!=this.newadddevice.controllerType&&(0,utils_validation/* isEmpty */.xb)(this.newadddevice.name)?(this.$message.error("Please Enter name."),!1):!(0,utils_validation/* isEmpty */.xb)(this.newadddevice.controllerType)||(this.$message.error("Please Select Type."),!1)}}},components_ControllerAddFormvue_type_script_lang_js=ControllerAddFormvue_type_script_lang_js,ControllerAddForm_component=(0,componentNormalizer/* default */.Z)(components_ControllerAddFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ControllerAddForm=ControllerAddForm_component.exports},
/***/947748:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSearch.vue?vue&type=template&id=aca29d08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-search-container mR20"},[void 0!=_vm.boolval?_c("div",[_c("el-input",{ref:"quickSearchQuery",staticClass:"fc-input-full-border-h35 mT15 mR10 wo-assigned-search",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_vm.quickSearchQuery?_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"}):_vm._e()])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&void 0==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&1==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input ",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},on:{change:_vm.remoteSearch},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):void 0==_vm.boolval&&_vm.searchHide?_c("div",{staticClass:"pointer flRight",on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})]):_vm._e()])},staticRenderFns=[],FSearchvue_type_script_lang_js=(__webpack_require__(538077),__webpack_require__(260228),{props:["value","searchKey","","boolval","remote"],data:function(){return{showQuickSearch:!1,quickSearchQuery:null,initialList:null,searchHide:!0}},beforeDestroy:function(){this.closeSearch()},mounted:function(){void 0!=this.boolval&&(this.showQuickSearch=this.boolval)},methods:{quickSearch:function(){var list,_this=this;this.value&&(this.quickSearchQuery?(this.initialList||(this.initialList=this.$helpers.cloneObject(this.value)),list=this.initialList.filter((function(item){return item[_this.searchKey||"name"].toLowerCase().indexOf(_this.quickSearchQuery.toLowerCase())>=0}))):(list=this.initialList,this.initialList=null),list&&this.$emit("input",list))},remoteSearch:function(){this.$emit("search",this.quickSearchQuery)},toggleQuickSearch:function(){var _this2=this;this.searchHide=!1,this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this2.$refs.quickSearchQuery&&_this2.$refs.quickSearchQuery.focus()}))},clearSearch:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.searchHide=!0},closeSearch:function(){void 0===this.boolval&&this.toggleQuickSearch(),this.quickSearchQuery=null,this.remote?this.remoteSearch():this.quickSearch(),this.searchHide=!0,this.showQuickSearch=!1,this.$emit("close")}}}),components_FSearchvue_type_script_lang_js=FSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSearch=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/13031.js.map