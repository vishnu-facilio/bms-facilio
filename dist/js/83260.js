(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[83260],{
/***/583260:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return FacilioProxy}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/auth/FacilioProxy.vue?vue&type=template&id=7f479e88
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"signin-container"},[_c("div",{staticClass:"gsignin-container"},[_vm._m(0),_vm.errorMessage?_c("div",[_vm._v(" "+_vm._s(_vm.errorMessage)+" ")]):_vm.$route.query.token?_c("div",[_vm.isportalproxy?_c("div",{staticClass:"username-container pT30"},[_c("div",[_c("div",{staticClass:"text-left label-txt-black"},[_vm._v("Portal url")]),_c("el-input",{staticClass:"fc-login-input pT15",attrs:{type:"text",required:""},model:{value:_vm.portalUrl,callback:function($$v){_vm.portalUrl=$$v},expression:"portalUrl"}})],1),_c("button",{staticClass:"btn btn-primary fc-login-btn mT20",attrs:{"native-type":"submit"},on:{click:_vm.handleSubmit}},[_vm._v(" Submit ")])]):_c("div",{staticClass:"username-container pT30"},[_c("div",{staticClass:"text-left label-txt-black"},[_vm._v(" Enter Customer Email Address ")]),_c("el-input",{staticClass:"fc-login-input pT15",attrs:{type:"text",required:""},model:{value:_vm.username,callback:function($$v){_vm.username=$$v},expression:"username"}}),_c("el-button",{staticClass:"btn btn-primary fc-login-btn mT20",attrs:{"native-type":"submit"},on:{click:_vm.handleSubmit}},[_vm._v(" Submit ")])],1)]):_c("div",[_c("div",{attrs:{id:"g_id_onload","data-client_id":"749943625822-unl69f9ufcga8tkitsoairfbmncam341.apps.googleusercontent.com","data-context":"signin","data-ux_mode":"popup","data-login_uri":_vm.loginUri,"data-auto_prompt":"false"}}),_c("div",{staticClass:"g_id_signin",attrs:{"data-type":"standard","data-shape":"rectangular","data-theme":"outline","data-text":"signin_with","data-size":"large","data-logo_alignment":"left","data-width":"200"}})])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"text-center"},[_c("img",{staticStyle:{height:"30px"},attrs:{src:__webpack_require__(117524),"aria-hidden":"true"}})])}],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),vue_runtime_esm=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(720144)),api=__webpack_require__(32284),FacilioProxyvue_type_script_lang_js=(__webpack_require__(364720),{data:function(){return{username:"",loginUri:"",isportalproxy:!1,portalUrl:"",errorMessage:null}},created:function(){vue_runtime_esm["default"].cookie.delete("fc.portalproxy"),this.isportalproxy=window.location.pathname.includes("/auth/portalproxyuser"),this.isportalproxy&&vue_runtime_esm["default"].cookie.set("fc.portalproxy","true"),this.loginUri=window.location.protocol+"//"+window.rebrandInfo.servername+"/api/integ/authorizeproxyuser",this.$route.query.message&&(this.errorMessage=this.$route.query.message);var tag=document.createElement("script");tag.src="https://accounts.google.com/gsi/client",tag.defer=!0,document.head.appendChild(tag)},methods:{handleSubmit:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$post,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.post("/integ/proxyUser",{proxiedUserName:_this.username,token:_this.$route.query.token,portalUrl:_this.portalUrl});case 2:_yield$API$post=_context.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?_this.errorMessage=error.message||_this.$t("common._common.error_occured"):"1"===data.jsonresponse.errorcode||"2"===data.jsonresponse.errorcode?_this.errorMessage=data.jsonresponse.message||_this.$t("common._common.error_occured"):_this.isportalproxy?window.location.href=data.jsonresponse.redirectUrl:(_this.$store.commit("LOGIN_REQUIRED",!1),window.location.href=window.location.origin);case 6:case"end":return _context.stop()}}),_callee)})))()}}}),auth_FacilioProxyvue_type_script_lang_js=FacilioProxyvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(auth_FacilioProxyvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FacilioProxy=component.exports},
/***/117524:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"10a53ccbae023b46b9211d3725c2236a.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/83260.js.map