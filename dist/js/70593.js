(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[70593,23290,1772],{
/***/469388:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PageSort}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PageSort.vue?vue&type=template&id=55d15ba8&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-sort-popover p0"},[_c("outside-click",{attrs:{visibility:_vm.visible},on:{"update:visibility":function($event){_vm.visible=$event}}},[_c("el-popover",{ref:"sortComponentPopover",staticClass:"sort-popover",attrs:{placement:"left","popper-class":"page-sort-popover","visible-arrow":!0},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("div",{staticClass:"sort-popovernew",staticStyle:{"min-width":"180px"},attrs:{link:""}},[_c("el-input",{staticClass:"tag-list-search",attrs:{type:"text",placeholder:"Search..."},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}}),_vm._l(_vm.sortList,(function(name,index){return _c("div",{key:index,staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderBy(name),_vm.close()}}},[name&&_vm.viewDetail&&_vm.viewDetail.fieldDisplayNames&&_vm.viewDetail.fieldDisplayNames[name]?_c("div",[_vm.selectedFields(name)?_c("div",[""===_vm.search||_vm.viewDetail.fieldDisplayNames[name].toLowerCase().startsWith(_vm.search.toLowerCase())?_c("div",[_c("div",{staticClass:"fc-div-hover page-sort-list",class:{selected:_vm.orderBy===name,"flex-middle":_vm.orderBy===name},attrs:{label:name}},[_vm._v(" "+_vm._s(_vm.viewDetail.fieldDisplayNames[name])+" ")])]):_vm._e()]):_vm._e(),_c("i",{class:{"el-icon-check":_vm.orderBy===name}})]):_vm._e()])})),_c("div",{staticClass:"scr-sep"}),_vm.config.orderType?_c("div",{staticClass:"q-item-bottom-p fc-div-hover page-sort-list",attrs:{separator:""},on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("asc"),_vm.close()}}},[_c("div",{class:{selected:"asc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.ascending"))+" ")])]):_vm._e(),_vm.config.orderType?_c("div",{staticClass:"fc-div-hover page-sort-list",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("desc"),_vm.close()}}},[_c("div",{class:{selected:"desc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.descending"))+" ")])]):_vm._e()],2)])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),OutsideClick=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(21864)),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),PageSortvue_type_script_lang_js={props:["config","sortList","excludeFields"],data:function(){return{visible:!1,customLookupFieldsArray:[],search:""}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{orderBy:function(){return this.config.orderBy?this.config.orderBy:null},orderType:function(){return this.config.orderType?this.config.orderType:null},viewDetail:function(){return this.$store.state.view.currentViewDetail}}),watch:{moduleMeta:function(newVal,oldVal){oldVal!==newVal&&this.toFilterCustomLookupFields()}},components:{OutsideClick:OutsideClick/* default */.Z},methods:{toFilterCustomLookupFields:function(){var _this=this,moduleMeta=this.moduleMeta;(0,validation/* isEmpty */.xb)(moduleMeta)||(0,validation/* isEmpty */.xb)(moduleMeta.fields)||moduleMeta.fields.forEach((function(field){field.default||(0,validation/* isEmpty */.xb)(field.displayType)||"LOOKUP_SIMPLE"!==field.displayType._name||_this.customLookupFieldsArray.push(field)}))},open:function(){this.visible=!0},close:function(){this.visible=!1},selectedFields:function(label){if(this.excludeFields||this.customLookupFieldsArray){if(!(0,validation/* isEmpty */.xb)(this.excludeFields)){var key1=this.excludeFields.find((function(rt){return rt===label}));if(key1)return!1}if(!(0,validation/* isEmpty */.xb)(this.customLookupFieldsArray)){var customLookup=this.customLookupFieldsArray.find((function(rt){return rt.name===label}));if(customLookup)return!1}}return!0},updateOrderBy:function(orderBy){this.config.orderBy=orderBy,this.$emit("onchange",{orderBy:orderBy,orderType:this.orderType})},updateOrderType:function(orderType){this.config.orderType=orderType,this.$emit("onchange",{orderBy:this.orderBy,orderType:orderType})}}},components_PageSortvue_type_script_lang_js=PageSortvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PageSortvue_type_script_lang_js,render,staticRenderFns,!1,null,"55d15ba8",null)
/* harmony default export */,PageSort=component.exports},
/***/478264:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ViewCustomization}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ViewCustomization.vue?vue&type=template&id=a8fd5fbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.showDialog,fullscreen:!0,"custom-class":"cc-dialog",title:"View Settings","append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event}}},[_c("div",{staticClass:"scrollable",staticStyle:{padding:"30px","max-height":"85vh"}},[_c("draggable",{attrs:{options:{handle:".icon-right",ghostClass:"drag-ghost",dragClass:"custom-drag",animation:150},list:_vm.viewList}},_vm._l(_vm.viewList,(function(view){return _c("div",{key:view.name,staticClass:"column-item"},[view?_c("div",[_vm._v(_vm._s(_vm.menu?view.label:view.displayName))]):_vm._e(),_c("i",{staticClass:"fa fa-exchange icon-right",attrs:{"aria-hidden":"true"}})])})),0)],1),_c("div",{staticClass:"row cc-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("button",{staticClass:"el-button col-6 uppercase ls9 f12 form-btn el-button--default",staticStyle:{"background-color":"#f4f4f4",border:"0","border-left":"1px solid white","border-radius":"0px",padding:"18px","font-size":"13px","font-weight":"500","letter-spacing":"0.8px","text-align":"center",color:"#5f5f5f",margin:"0"},attrs:{type:"button"},on:{click:function($event){_vm.showDialog=!1}}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"el-button col-6 uppercase ls9 f12 form-btn  el-button--default",staticStyle:{"margin-left":"0px",color:"#ffffff","background-color":"#39b2c2",border:"0","border-radius":"0px","font-size":"13px","font-weight":"500","letter-spacing":"0.8px","text-align":"center"},attrs:{type:"button"},on:{click:_vm.save}},[_c("span",[_vm._v("Save")])])])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),ViewCustomizationvue_type_script_lang_js={props:["visible","moduleName","menu","reload"],data:function(){return{showDialog:this.visible,viewList:[],lists:{}}},components:{draggable:vuedraggable_umd_default()},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({views:function(state){return state.view.views}})),mounted:function(){(0,validation/* isEmpty */.xb)(this.menu)?this.viewList=this.$helpers.cloneObject(this.views):this.viewList=this.$helpers.cloneObject(this.menu)},watch:{visible:function(val){this.showDialog=val},showDialog:function(val){this.$emit("update:visible",val)},views:function(val){this.viewList=this.$helpers.cloneObject(val)},menu:function(val){this.viewList=this.$helpers.cloneObject(val)}},methods:{save:function(){var _this=this;this.$store.dispatch("view/customizeView",{moduleName:this.moduleName,views:this.viewList.map((function(view,index){return{id:view.id,sequenceNumber:index+1,name:view.name}}))}).then((function(){_this.showDialog=!1,_this.reload&&_this.$emit("onchange")}))}}},components_ViewCustomizationvue_type_script_lang_js=ViewCustomizationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ViewCustomizationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ViewCustomization=component.exports},
/***/945975:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return alarmSwitch_Layout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/firealarm/alarms/alarmSwitch/Layout.vue?vue&type=template&id=40e1b044
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.layout?_c(_vm.layout,{ref:"alarm",tag:"component"}):_vm._e()},staticRenderFns=[],layout=__webpack_require__(909640),Layout=__webpack_require__(827402),Layoutvue_type_script_lang_js={props:["config, widget"],components:{"old-alarm":layout["default"],"new-alarm":Layout["default"]},computed:{layout:function(){return this.$helpers.isLicenseEnabled("NEW_ALARMS")?"new-alarm":"old-alarm"}}},alarmSwitch_Layoutvue_type_script_lang_js=Layoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(alarmSwitch_Layoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,alarmSwitch_Layout=component.exports},
/***/909640:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return layout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/firealarm/alarms/alarms/v1/layout.vue?vue&type=template&id=7027254a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout container fc-alarm-page"},[_vm.$route.path.includes("summary")?_vm._e():_c("subheader",{directives:[{name:"show",rawName:"v-show",value:1==_vm.subheaderNeeded,expression:"subheaderNeeded == true"}],attrs:{menu:_vm.subheaderMenu,newbtn:"true",type:"workorder",parent:"/app/fa/faults",listCount:_vm.listCount,showRearrange:"true",filtersRetain:_vm.filtersRetains,showCurrentViewOnly:_vm.showQuickSearch,maxVisibleMenu:3},on:{rearrange:function($event){_vm.showViewSettings=!0}}},[_c("template",{slot:"prefix"},[_c("div",{staticClass:"fL fc-subheader-left"},[_c("div",{staticClass:"pR15 pointer"},[_c("img",{staticClass:"wo-three-line",attrs:{src:__webpack_require__(358413),width:"14",height:"14"},on:{click:function($event){$event.stopPropagation(),_vm.showListWorkorder=!0}}}),"System Views"!==_vm.selectedList?_c("el-dropdown",{staticClass:"fc-dropdown-menu pL10",attrs:{trigger:"click"},on:{command:_vm.openChild}},[_c("span",{staticClass:"el-dropdown-link"},[_vm._v(" "+_vm._s(_vm.selectedList)+" "),_vm.showQuickSearch?_vm._e():_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_vm.views&&!_vm.showQuickSearch?_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.views,(function(view,key){return _c("el-dropdown-item",{key:key,attrs:{command:view.displayName}},[_vm._v(_vm._s(view.displayName))])})),1):_vm._e()],1):_vm._e()],1),_vm.views&&"System Views"!==_vm.selectedList?_c("div",{staticClass:"fc-separator-lg mL10 mR10"}):_vm._e()])]),_c("div",{staticClass:"fR fc-subheader-right"},[_vm.showQuickSearch?_vm._e():[_c("div",{staticClass:"pL15 fc-black-small-txt-12"},[_c("pagination",{attrs:{total:_vm.listCount,perPage:50}}),_c("div",{staticClass:"block"})],1),_vm.listCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"left"}},[_c("div",{staticClass:"pointer user-select-none pR0 sort-icon",on:{click:function($event){return $event.stopPropagation(),_vm.$refs.sortPopover.open()}}},[_c("img",{staticClass:"sort-icon-hover",staticStyle:{width:"19px",height:"19px","margin-left":"5px","margin-right":"5px","margin-top":"7px"},attrs:{src:__webpack_require__(137308)}}),_c("page-sort",{ref:"sortPopover",attrs:{sortList:_vm.sortConfigLists,config:_vm.sortConfig,excludeFields:_vm.excludedSortFields},on:{onchange:_vm.updateSort}})],1)]),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),placement:"left"}},[_c("f-export-settings",{attrs:{module:"alarm",viewDetail:_vm.viewDetail,showMail:_vm.showMail}})],1),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.search"),placement:"left"}},[_c("div",[_c("i",{staticClass:"el-icon-search fc-black-2 f16 pointer mR10 mL10 fw-bold",on:{click:function($event){return $event.stopPropagation(),_vm.toggleQuickSearch()}}})])])],_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],staticClass:"fc-black-small-txt-12 fc-subheader-right-search"},[_c("new-search",{attrs:{config:_vm.filterConfig,moduleName:_vm.filterConfig.moduleName,loadViews:!0,quickSearchQuery:_vm.quickSearchQuery,save:_vm.save,saveAs:_vm.saveAs,resetFilters:_vm.resetFilters,sortConfig:_vm.sortConfig,showSearch:_vm.showQuickSearch,defaultFilter:_vm.defaultFilter},on:{loadView:function($event){return _vm.loadViews()},hideSearch:function($event){_vm.showQuickSearch=!1}}}),_c("div",{staticClass:"filter-search-close"})],1)],2)],2),_c("div",{staticClass:"height100 row"},[null!==_vm.appliedFilters&&_vm.showTag?_c("div",{staticClass:"width100"},[_c("div",{staticClass:"fL",staticStyle:{width:"84%"}},[_c("new-tag",{staticClass:"layout-new-tag",attrs:{config:_vm.filterConfig,filters:_vm.appliedFilters,showFilterAdd:_vm.showAddFilter,showCloseIcon:!0}})],1),_c("div",{staticClass:"save-btn-section"},[_vm.appliedFilters?_c("div",[_vm.viewDetail.isDefault?_c("div",[Object.keys(_vm.appliedFilters).length>"0"?_c("el-button",{staticClass:"subheader-saveas-btn saveas",on:{click:function($event){_vm.saveAs=!_vm.saveAs}}},[_vm._v(_vm._s(_vm.$t("common._common.save_filters")))]):_vm._e(),Object.keys(_vm.appliedFilters).length>"0"?_c("div",{staticClass:"clear-filter",on:{click:function($event){_vm.resetFilters=!_vm.resetFilters}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.clear_all_filters"))+" ")]):_vm._e()],1):_c("div",[_c("el-dropdown",{on:{command:_vm.savingView}},[_c("el-button",{staticClass:"subheader-saveas-btn",attrs:{type:"primary"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.save_filters"))),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"Save"}},[_vm._v(_vm._s(_vm.$t("common._common._save")))]),_c("el-dropdown-item",{attrs:{command:"Save As"}},[_vm._v(_vm._s(_vm.$t("common._common.save_as")))])],1)],1),Object.keys(_vm.appliedFilters).length>"0"?_c("div",{staticClass:"clear-filter",on:{click:function($event){_vm.resetFilters=!_vm.resetFilters}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.clear_all_filters"))+" ")]):_vm._e()],1)]):_vm._e()])]):_vm._e(),_c("div",{staticClass:"height100 f-list-view",class:{"filter-active":_vm.showFilter}},[_c("router-view",{on:{syncCount:_vm.callbackMethod,showTag:_vm.showTagInList}})],1)]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showListWorkorder,expression:"showListWorkorder"}]},[_c("views-list",{attrs:{config:_vm.filterConfig,newGroup:!0,preparingViews:_vm.views,views:_vm.views,showEditIcon:_vm.showEditIcon,showListWorkorder:_vm.showListWorkorder,moduleName:"alarm",mainViewsList:_vm.mainViewsList},on:{"update:preparingViews":function($event){_vm.views=$event},"update:preparing-views":function($event){_vm.views=$event},delete:_vm.deleteView,"update:views":function($event){_vm.views=$event},"update:showListWorkorder":function($event){_vm.showListWorkorder=$event},"update:show-list-workorder":function($event){_vm.showListWorkorder=$event}}})],1),_c("view-customization",{attrs:{visible:_vm.showViewSettings,reload:!0,menu:_vm.subheaderMenu,moduleName:"alarm"},on:{"update:visible":function($event){_vm.showViewSettings=$event},onchange:function($event){return _vm.callMethod()}}}),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Subheader=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(785869)),ViewCustomization=__webpack_require__(478264),vuex_esm=__webpack_require__(420629),ViewsList=__webpack_require__(795214),NewSearch=__webpack_require__(521816),FPagination=__webpack_require__(929593),FExportSettings=__webpack_require__(641435),NewTag=__webpack_require__(588633),PageSort=__webpack_require__(469388),layoutvue_type_script_lang_js={data:function(){return{showListWorkorder:!1,showEditIcon:!0,defaultFilter:"subject",showMail:!1,filtersRetains:["search","includeParentFilter"],listCount:"",excludedSortFields:["clearedBy"],save:!1,saveAs:!1,resetFilters:!1,selectedList:"SystemViews",showTag:!0,showQuickSearch:!1,showAddFilter:!0,sortConfigLists:[],moduleMetaObject:{},quickSearchQuery:null,mainViewsList:{SystemViews:"System Views",CustomViews:"Custom Views"},sortConfig:{orderBy:{label:this.$t("alarm.alarm.date_modified"),value:"modifiedTime"},orderType:"desc"},sortConfigList:["modifiedTime","createdTime","severity","subject","condition","source","noOfEvents"],filterSelected:!1,showViewSettings:!1,exportDownloadUrl:null,filterConfig:{moduleName:"alarm",includeParentCriteria:!0,path:"/app/fa/faults/",data:{subject:{label:"Message",displayType:"string",value:[]},severity:{label:this.$t("alarm.alarm.severity"),displayType:"select",options:{},value:[]},previousSeverity:{label:this.$t("alarm.alarm.previous_severity"),displayType:"select",options:{},value:[]},alarmType:{label:this.$t("alarm.alarm.alarm_category"),displayType:"select",options:{5:"Energy",6:"Fire",7:"Hvac"},operatorId:9,value:[]},space:{label:this.$t("alarm.alarm.space"),displayType:"space",options:{},operatorId:38,value:[]},asset:{label:this.$t("alarm.alarm.asset"),displayType:"asset",options:{},value:[]},isAcknowledged:{label:this.$t("alarm.alarm.is_acknowledged"),displayType:"select",options:{true:"Yes",false:"No"},operatorId:15,value:""},acknowledgedBy:{label:this.$t("alarm.alarm.acknowledge_by"),displayType:"select",options:{},value:[]},acknowledgedTime:{label:this.$t("alarm.alarm.acknowledged_time"),displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},clearedTime:{label:this.$t("alarm.alarm.cleared_time"),displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},createdTime:{label:"Created Time",displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},modifiedTime:{label:"Last Reported Time",displayType:"select",single:!0,type:"date",customdate:!0,options:{22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""}},availableColumns:["alarmClass","alarmType","previousSeverity","node","modifiedTime","createdTime","clearedTime","severity","subject","category","dueDate","source"],fixedCols:["subject"],saveView:!0}}},components:{Subheader:Subheader/* default */.Z,ViewCustomization:ViewCustomization/* default */.Z,ViewsList:ViewsList/* default */.Z,NewSearch:NewSearch/* default */.Z,NewTag:NewTag/* default */.Z,FExportSettings:FExportSettings/* default */.Z,Pagination:FPagination/* default */.Z,PageSort:PageSort/* default */.Z},created:function(){this.$store.dispatch("view/clearViews")},mounted:function(){this.loadViews(),this.$store.dispatch("view/loadModuleMeta","alarm"),this.getViewDetail(),!this.filterSelected&&this.filters&&this.toggleViewFilter(),this.metaFieldsLists()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({loadViewDetail:"view/loadViewDetail",savesorting:"view/savesorting"})),{},{views:function(){return this.$store.state.view.groupViews}},(0,vuex_esm/* mapState */.rn)({viewDetail:function(state){return state.view.currentViewDetail},moduleMeta:function(state){return state.view.metaInfo}})),{},{showFilter:function(){return this.filterSelected&&-1===this.$route.path.indexOf("/summary/")},filters:function(){return this.$route.query.search?JSON.parse(this.$route.query.search):null},currentView:function(){if(this.$route.params.viewname)return this.$route.params.viewname},preparingViews:function(){
// let headerViews = {}
// if (this.views) {
//   headerViews['SystemViews'] = this.views.filter(view => (view.isDefault === true || view.isDefault === null))
// }
// if (this.views && this.views.filter(view => (view.isDefault === false)).length !== 0) {
//   headerViews['CustomViews'] = this.views.filter(view => (view.isDefault === false))
// }
return this.views},appliedFilters:function(){return this.$route.query.search?JSON.parse(this.$route.query.search):null},includeParentFilter:function(){return this.$route.query.includeParentFilter&&("true"===this.$route.query.includeParentFilter||!0===this.$route.query.includeParentFilter)},subheaderNeeded:function(){return void 0!==this.$route.params.viewname},subheaderMenu:function(){return this.getSubHeaderMenu()}}),watch:{filters:function(val){null==val||this.filterSelected||this.toggleViewFilter()},currentView:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.getViewDetail()},viewDetail:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.viewDetail.sortFields&&(
// let orderBy = this.sortConfigLists.find(name => {
//   return name === this.viewDetail.sortFields[0].sortField.name
// })
this.sortConfig={orderType:this.viewDetail.sortFields[0].isAscending?"asc":"desc",orderBy:this.viewDetail.sortFields[0].sortField.name})}},methods:{callMethod:function(){this.loadViews()},updateSort:function(sorting){this.$store.dispatch("view/savesorting",{viewName:this.currentView,orderBy:sorting.orderBy,orderType:sorting.orderType,moduleName:"alarm"})},loadViews:function(){var param={moduleName:"alarm"};this.$store.dispatch("view/loadGroupViews",param).then((function(){
// this.getMetaInfo()
}))},metaFieldsLists:function(){var self=this;self.$http.get("/module/metafields?moduleName=alarm").then((function(response){if(self.moduleMetaObject=response.data.meta,self.moduleMetaObject&&self.moduleMetaObject.fields)for(var i=0;i<self.moduleMetaObject.fields.length;i++)self.sortConfigLists.push(self.moduleMetaObject.fields[i].name)}))},openChild:function(command){var a2,self=this;self.selectedList=null,self.selectedList=command;var key1=self.views.find((function(rt){return rt.displayName===command}));key1.displayName===command&&(a2=key1.views),a2&&self.$router.push({path:"/app/fa/faults/"+a2[0].name})},savingView:function(command){"Save"===command?this.save=!this.save:"Save As"===command&&(this.saveAs=!this.saveAs)},deleteView:function(a,index){var _this=this,self=this,key2=[];this.$dialog.confirm({title:"Delete View",message:"Are you sure you want to delete this View?",rbDanger:!0,rbLabel:"Delete"}).then((function(value){value&&self.$http.post("/view/delete",{id:a.id}).then((function(response){if(null===response.data)for(var _loop=function(){var lists=self.views[i].views,key1=lists.find((function(rt){return rt.name===a.name}));if(key1)if(key2=lists.find((function(rt){return rt.name!==a.name})),key2)self.$router.push("/app/fa/faults/"+key2.name),self.loadViews(),self.$message.success("View deleted successfully");else{var a1="systemviews",key3=self.views.find((function(rt){return rt.name===a1})),a2=key3.views;key3&&(self.$router.push("/app/fa/faults/"+a2[0].name),self.loadViews(),
// this.views[i].views.splice(index, 1)
self.$message.success("View deleted successfully"))}},i=0;i<self.views.length;i++)_loop();else _this.$message.error("View cannot be deleted")}))}))},toggleQuickSearch:function(){this.showQuickSearch=!this.showQuickSearch},callbackMethod:function(newVal){this.listCount=newVal},showTagInList:function(newVal){this.showTag=newVal},getViewDetail:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:"alarm"})},getSubHeaderMenu:function(){var a1=[],self=this;if(self.currentView)for(var i=0;i<self.views.length;i++){var lists=self.views[i].views,key1=lists.find((function(rt){return rt.name===self.currentView}));key1&&(self.selectedList=self.views[i].displayName,a1=self.views[i].views)}if(!self.currentView&&self.views.length){var a="systemviews",_key=self.views.find((function(rt){return rt.name===a}));_key&&(self.selectedList=_key.displayName,a1=_key.views)}return self.selectedList&&a1.length>0?a1.map((function(view){return{label:view.displayName,path:{path:"/app/fa/faults/"+view.name},permission:"workorder:READ,READ_TEAM,READ_OWN",id:view.id,name:view.name,isCustom:!view.isDefault}})):[]},exportList:function(type){var self=this;this.$refs.export.close();var url="/exportModule?type="+type+"&moduleName=alarm&viewName="+this.currentView;self.$message({showClose:!0,message:"Downloading...",type:"success"}),this.$http.get(url).then((function(response){self.exportDownloadUrl=response.data.fileUrl}))}}},v1_layoutvue_type_script_lang_js=layoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v1_layoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,layout=component.exports},
/***/827402:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Layout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/firealarm/alarms/v2/Layout.vue?vue&type=template&id=75e5110e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout container fc-alarm-list-page fc-alarm-page"},[_vm.$route.path.includes("summary")||_vm.$route.path.includes("overview")||_vm.$route.path.includes("newsummary")?_vm._e():_c("subheader",{directives:[{name:"show",rawName:"v-show",value:1==_vm.subheaderNeeded,expression:"subheaderNeeded == true"}],attrs:{menu:_vm.subheaderMenu,newbtn:"true",type:"workorder",parent:"/app/fa/faults",listCount:_vm.listCount,showRearrange:"true",filtersRetain:_vm.filtersRetains,showCurrentViewOnly:_vm.showQuickSearch,maxVisibleMenu:3},on:{rearrange:function($event){_vm.showViewSettings=!0}}},[_c("template",{slot:"prefix"},[_c("div",{staticClass:"fL fc-subheader-left"},[_c("div",{staticClass:"pR15 pointer"},[_c("img",{staticClass:"wo-three-line",attrs:{src:__webpack_require__(358413),width:"14",height:"14"},on:{click:function($event){$event.stopPropagation(),_vm.showListWorkorder=!0}}}),"System Views"!==_vm.selectedList?_c("el-dropdown",{staticClass:"fc-dropdown-menu pL10",attrs:{trigger:"click"},on:{command:_vm.openChild}},[_c("span",{staticClass:"el-dropdown-link"},[_vm._v(" "+_vm._s(_vm.selectedList)+" "),_vm.showQuickSearch?_vm._e():_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_vm.views&&!_vm.showQuickSearch?_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.views,(function(view,key){return"sensorAlarmViews"!==view.name?_c("el-dropdown-item",{key:key,attrs:{command:view.displayName}},[_vm._v(_vm._s(view.displayName))]):_vm._e()})),1):_vm._e()],1):_vm._e()],1),_vm.views&&"System Views"!==_vm.selectedList?_c("div",{staticClass:"fc-separator-lg mL10 mR10"}):_vm._e()])]),_c("div",{staticClass:"fR fc-subheader-right"},[_vm.showQuickSearch?_vm._e():[_c("div",{staticClass:"pL15 fc-black-small-txt-12"},[_c("pagination",{attrs:{total:_vm.listCount,perPage:50}}),_c("div",{staticClass:"block"})],1),_vm.listCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"left"}},[_c("div",{staticClass:"pointer user-select-none pR0 sort-icon",on:{click:function($event){return $event.stopPropagation(),_vm.$refs.sortPopover.open()}}},[_c("img",{staticClass:"sort-icon-hover",staticStyle:{width:"19px",height:"19px","margin-left":"5px","margin-right":"5px","margin-top":"7px"},attrs:{src:__webpack_require__(137308)}}),_c("page-sort",{ref:"sortPopover",staticClass:"alarm-page-sort",attrs:{sortList:_vm.sortConfigLists,config:_vm.sortConfig,excludeFields:_vm.excludedSortFields},on:{onchange:_vm.updateSort}})],1)]),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),placement:"left"}},[_c("f-export-settings",{attrs:{module:"newreadingalarm",viewDetail:_vm.viewDetail,showViewScheduler:!0,showMail:_vm.showMail}})],1),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.search"),placement:"left"}},[_c("div",[_c("i",{staticClass:"el-icon-search fc-black-2 f16 pointer mR10 mL10 fw-bold",on:{click:function($event){return $event.stopPropagation(),_vm.toggleQuickSearch()}}})])])],_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],staticClass:"fc-black-small-txt-12 fc-subheader-right-search"},[_c("new-search",{attrs:{config:_vm.filterConfig,moduleName:_vm.filterConfig.moduleName,loadViews:!0,quickSearchQuery:_vm.quickSearchQuery,save:_vm.save,saveAs:_vm.saveAs,resetFilters:_vm.resetFilters,sortConfig:_vm.sortConfig,showSearch:_vm.showQuickSearch,defaultFilter:_vm.defaultFilter},on:{loadView:function($event){return _vm.loadViews()},hideSearch:function($event){_vm.showQuickSearch=!1}}}),_c("div",{staticClass:"filter-search-close"})],1)],2)],2),_c("div",{staticClass:"height100 row"},[null!==_vm.appliedFilters&&_vm.showTag?_c("div",{staticClass:"width100"},[_c("div",{staticClass:"fL",staticStyle:{width:"84%"}},[_c("new-tag",{staticClass:"layout-new-tag",attrs:{config:_vm.filterConfig,filters:_vm.appliedFilters,showFilterAdd:_vm.showAddFilter,showCloseIcon:!0}})],1),_c("div",{staticClass:"save-btn-section"},[_vm.appliedFilters?_c("div",[_vm.viewDetail.isDefault?_c("div",[Object.keys(_vm.appliedFilters).length>"0"?_c("el-button",{staticClass:"subheader-saveas-btn saveas",on:{click:function($event){_vm.saveAs=!_vm.saveAs}}},[_vm._v(_vm._s(_vm.$t("common._common.save_filters")))]):_vm._e(),Object.keys(_vm.appliedFilters).length>"0"?_c("div",{staticClass:"clear-filter",on:{click:function($event){_vm.resetFilters=!_vm.resetFilters}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.clear_all_filters"))+" ")]):_vm._e()],1):_c("div",[_c("el-dropdown",{on:{command:_vm.savingView}},[_c("el-button",{staticClass:"subheader-saveas-btn",attrs:{type:"primary"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.save_filters"))),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"Save"}},[_vm._v(_vm._s(_vm.$t("common._common._save")))]),_c("el-dropdown-item",{attrs:{command:"Save As"}},[_vm._v(_vm._s(_vm.$t("common._common.save_as")))])],1)],1),Object.keys(_vm.appliedFilters).length>"0"?_c("div",{staticClass:"clear-filter",on:{click:function($event){_vm.resetFilters=!_vm.resetFilters}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.clear_all_filters"))+" ")]):_vm._e()],1)]):_vm._e()])]):_vm._e(),_c("div",{staticClass:"height100 f-list-view",class:{"filter-active":_vm.showFilter}},[_c("router-view",{on:{syncCount:_vm.callbackMethod,showTag:_vm.showTagInList}})],1)]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showListWorkorder,expression:"showListWorkorder"}]},[_c("views-list",{attrs:{config:_vm.filterConfig,showViewSchedulerListTab:!0,newGroup:!0,preparingViews:_vm.views,views:_vm.views,showEditIcon:_vm.showEditIcon,showListWorkorder:_vm.showListWorkorder,moduleName:_vm.viewModuleName,mainViewsList:_vm.mainViewsList},on:{"update:preparingViews":function($event){_vm.views=$event},"update:preparing-views":function($event){_vm.views=$event},delete:_vm.deleteView,"update:views":function($event){_vm.views=$event},"update:showListWorkorder":function($event){_vm.showListWorkorder=$event},"update:show-list-workorder":function($event){_vm.showListWorkorder=$event}}})],1),_c("view-customization",{attrs:{visible:_vm.showViewSettings,reload:!0,menu:_vm.subheaderMenu,moduleName:_vm.viewModuleName},on:{"update:visible":function($event){_vm.showViewSettings=$event},onchange:function($event){return _vm.callMethod()}}}),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Subheader=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(902918),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(785869)),ViewCustomization=__webpack_require__(478264),vuex_esm=__webpack_require__(420629),ViewsList=__webpack_require__(795214),NewSearch=__webpack_require__(521816),FPagination=__webpack_require__(929593),FExportSettings=__webpack_require__(641435),NewTag=__webpack_require__(588633),PageSort=__webpack_require__(469388),Layoutvue_type_script_lang_js={data:function(){return{showListWorkorder:!1,showEditIcon:!0,defaultFilter:"subject",showMail:!1,filtersRetains:["search","includeParentFilter"],listCount:"",excludedSortFields:["clearedBy"],save:!1,saveAs:!1,resetFilters:!1,selectedList:"SystemViews",showTag:!0,showQuickSearch:!1,showAddFilter:!0,sortConfigLists:[],moduleMetaObject:{},quickSearchQuery:null,mainViewsList:{SystemViews:"System Views",CustomViews:"Custom Views"},sortConfig:{orderBy:{label:this.$t("alarm.alarm.last_Occurred_Time"),value:"lastOccurredTime"},orderType:"desc"},sortConfigList:["createdTime","severity","resource","acknowledgedBy","readingalarmcategory","lastCreatedTime","subject","noOfOccurrences","lastOccurredTime"],filterSelected:!1,showViewSettings:!1,exportDownloadUrl:null,filterConfig:{moduleName:"newreadingalarm",includeParentCriteria:!0,path:"/app/fa/faults/",data:{subject:{label:"Message",displayType:"string",value:[]},severity:{label:this.$t("alarm.alarm.severity"),displayType:"select",options:{},value:[]},
// rule: {
//   label: 'Rule',
//   displayType: 'select',
//   options: {},
//   value: [],
// },
// previousSeverity: {
//   label: this.$t('alarm.alarm.previous_severity'),
//   displayType: 'select',
//   options: {},
//   value: [],
// },
readingAlarmCategory:{label:this.$t("asset.assets.asset_category"),displayType:"select",options:{},value:[]},faultType:{label:"Fault Type",displayType:"select",options:{},value:[]},asset:{label:this.$t("alarm.alarm.asset"),displayType:"asset",options:{},key:"resource",value:[]},acknowledged:{label:this.$t("alarm.alarm.is_acknowledged"),displayType:"select",options:{true:"Yes",false:"No"},operatorId:15,value:""},acknowledgedBy:{label:this.$t("alarm.alarm.acknowledge_by"),displayType:"select",options:{},value:[]},acknowledgedTime:{label:this.$t("alarm.alarm.acknowledged_time"),displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},clearedTime:{label:this.$t("alarm.alarm.cleared_time"),displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},lastOccurredTime:{label:"Last Reported On",displayType:"select",single:!0,type:"date",customdate:!0,options:{22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},lastCreatedTime:{label:"Last Occurred Time",displayType:"select",single:!0,type:"date",customdate:!0,options:{22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""}},availableColumns:["createdTime","severity","resource","acknowledgedBy","readingalarmcategory","lastCreatedTime","subject","noOfOccurrences","lastOccurredTime","clearedTime","faultType"],fixedCols:["subject"],saveView:!0}}},components:{Subheader:Subheader/* default */.Z,ViewCustomization:ViewCustomization/* default */.Z,ViewsList:ViewsList/* default */.Z,NewSearch:NewSearch/* default */.Z,NewTag:NewTag/* default */.Z,FExportSettings:FExportSettings/* default */.Z,Pagination:FPagination/* default */.Z,PageSort:PageSort/* default */.Z},created:function(){
// console.log('loadViews')
this.$store.dispatch("view/clearViews").then((function(){}))},mounted:function(){this.loadViews()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({loadViewDetail:"view/loadViewDetail",savesorting:"view/savesorting"})),(0,vuex_esm/* mapState */.rn)({viewDetail:function(state){return state.view.currentViewDetail},moduleMeta:function(state){return state.view.metaInfo},currentViewDetail:function(state){return state.view.currentViewDetail}})),{},{views:{get:function(){return this.$store.state.view.groupViews},set:function(newValue){}},showFilter:function(){return this.filterSelected&&-1===this.$route.path.indexOf("/summary/")},filters:function(){return this.$route.query.search?JSON.parse(this.$route.query.search):null},currentView:function(){return this.$route.params.viewname?this.$route.params.viewname:"all"},appliedFilters:function(){return this.$route.query.search?JSON.parse(this.$route.query.search):null},includeParentFilter:function(){return this.$route.query.includeParentFilter&&("true"===this.$route.query.includeParentFilter||!0===this.$route.query.includeParentFilter)},subheaderNeeded:function(){return!(this.$route.path.includes("summary")||this.$route.path.includes("overview")||this.$route.path.includes("newsummary"))},subheaderMenu:function(){return this.getSubHeaderMenu()},viewModuleName:function(){var selectedView,_this=this;if(this.currentView)for(var i=0;i<this.views.length;i++){var lists=this.views[i].views,key1=lists.find((function(rt){return rt.name===_this.currentView}));key1&&(selectedView=key1)}return selectedView?selectedView.moduleName:"newreadingalarm"}}),watch:{currentView:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.getViewDetail()},viewDetail:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.viewDetail.sortFields&&(this.sortConfig={orderType:this.viewDetail.sortFields[0].isAscending?"asc":"desc",orderBy:this.viewDetail.sortFields[0].sortField.name})}},methods:{callMethod:function(){this.loadViews()},updateSort:function(sorting){this.$store.dispatch("view/savesorting",{viewName:this.currentView,orderBy:sorting.orderBy,orderType:sorting.orderType,moduleName:this.viewModuleName})},loadViews:function(){var _this2=this,param={moduleName:this.viewModuleName};this.$store.dispatch("view/loadGroupViews",param).then((function(){_this2.setDefaultView(),_this2.$store.dispatch("view/loadModuleMeta",_this2.viewModuleName),_this2.getViewDetail(),_this2.metaFieldsLists()}))},setDefaultView:function(){this.$route.path.endsWith("/fa/faults")&&this.views.length&&this.views[0].views.length&&this.$router.push({path:"/app/fa/faults/"+this.views[0].views[0].name,query:this.$route.query})},metaFieldsLists:function(){var self=this;self.$http.get("/module/metafields?moduleName="+this.viewModuleName).then((function(response){if(self.moduleMetaObject=response.data.meta,self.moduleMetaObject&&self.moduleMetaObject.fields)for(var i=0;i<self.moduleMetaObject.fields.length;i++)self.sortConfigLists.push(self.moduleMetaObject.fields[i].name)}))},openChild:function(command){var a2,self=this;self.selectedList=null,self.selectedList=command;var key1=self.views.find((function(rt){return rt.displayName===command}));key1.displayName===command&&(a2=key1.views),a2&&self.$router.push({path:"/app/fa/faults/"+a2[0].name})},savingView:function(command){"Save"===command?this.save=!this.save:"Save As"===command&&(this.saveAs=!this.saveAs)},deleteView:function(a,index){var _this3=this,self=this,key2=[];this.$dialog.confirm({title:"Delete View",message:"Are you sure you want to delete this View?",rbDanger:!0,rbLabel:"Delete"}).then((function(value){value&&self.$http.post("/view/delete",{id:a.id}).then((function(response){if(null===response.data)for(var _loop=function(){var lists=self.views[i].views,key1=lists.find((function(rt){return rt.name===a.name}));if(key1)if(key2=lists.find((function(rt){return rt.name!==a.name})),key2)self.$router.push("/app/fa/faults/"+key2.name),self.loadViews(),self.$message.success("View deleted successfully");else{var a1="systemviews",key3=self.views.find((function(rt){return rt.name===a1})),a2=key3.views;key3&&(self.$router.push("/app/fa/faults/"+a2[0].name),self.loadViews(),
// this.views[i].views.splice(index, 1)
self.$message.success("View deleted successfully"))}},i=0;i<self.views.length;i++)_loop();else _this3.$message.error("View cannot be deleted")}))}))},toggleQuickSearch:function(){this.showQuickSearch=!this.showQuickSearch},callbackMethod:function(newVal){this.listCount=newVal},showTagInList:function(newVal){this.showTag=newVal},getViewDetail:function(){var moduleNames=this.viewModuleName;
// this.viewDetail && this.viewDetail.hasOwnProperty('moduleName')
//   ? this.viewDetail.moduleName
//   : 'newreadingalarm'
this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:moduleNames})},getSubHeaderMenu:function(){var a1=[],self=this;if(self.currentView)for(var i=0;i<self.views.length;i++){var lists=self.views[i].views,key1=lists.find((function(rt){return rt.name===self.currentView}));key1&&(self.selectedList=self.views[i].displayName,a1=self.views[i].views)}if(!self.currentView&&self.views.length){var a="systemviews",_key=self.views.find((function(rt){return rt.name===a}));_key&&(self.selectedList=_key.displayName,a1=_key.views)}return self.selectedList&&a1.length>0?a1.map((function(view){return{label:view.displayName,path:{path:"/app/fa/faults/"+view.name},permission:"workorder:READ,READ_TEAM,READ_OWN",id:view.id,name:view.name,isCustom:!view.isDefault}})):[]},exportList:function(type){var self=this;this.$refs.export.close();var url="/exportModule?type="+type+"&moduleName=alarm&viewName="+this.currentView;self.$message({showClose:!0,message:"Downloading...",type:"success"}),this.$http.get(url).then((function(response){self.exportDownloadUrl=response.data.fileUrl}))}}},v2_Layoutvue_type_script_lang_js=Layoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v2_Layoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Layout=component.exports},
/***/137308:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f5655b5c7d337eaaa1c310ef6456f44e.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/70593.js.map