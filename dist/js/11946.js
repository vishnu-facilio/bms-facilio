(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[11946],{
/***/669618:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AgentTrigger}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/AgentTrigger/AgentTrigger.vue?vue&type=template&id=3b03fd6e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-width-cal agent-data-page"},[_c("el-header",{staticClass:"fc-agent-main-header",attrs:{height:"80"}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",[_c("div",{staticClass:"fc-agent-black-26"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.agent_trigger"))+" ")])]),_c("div",[_c("el-button",{staticClass:"fc-agent-add-btn",on:{click:_vm.addTrigger}},[_c("i",{staticClass:"el-icon-plus pR5 fwBold"}),_vm._v(" "+_vm._s(_vm.$t("agent.agent.add_trigger"))+" ")])],1)])]),_c("div",{staticClass:"agent-list-scroll scrollbar-style",staticStyle:{height:"calc(100vh - 150px) !important"}},[_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white m10 fc-agent-empty-state"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm.$validation.isEmpty(_vm.triggerData)&&!_vm.loading?_c("div",{staticClass:"height100vh fc-empty-white flex-middle justify-content-center flex-direction-column m10 fc-agent-empty-state"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"q-item-label nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("agent.empty.no_trigger"))+" ")])],1):_c("div",{staticClass:"fc-agent-table p10 fc-list-table-container"},[_c("el-table",{staticClass:"fc-list-view fc-table-td-height fc-table-viewchooser pB100",staticStyle:{width:"100%"},attrs:{fit:!0,height:"auto",data:_vm.triggerData}},[_c("el-table-column",{attrs:{width:"180",label:_vm.$t("common.products.name"),prop:"name"},scopedSlots:_vm._u([{key:"default",fn:function(trigger){return[_vm._v(" "+_vm._s(trigger.row.name)+" ")]}}])}),_c("el-table-column",{attrs:{width:"180",label:_vm.$t("agent.agent.agent"),prop:"agent"},scopedSlots:_vm._u([{key:"default",fn:function(trigger){return[trigger.row.agent&&trigger.row.agent.displayName?_c("div",[_vm._v(" "+_vm._s(trigger.row.agent&&trigger.row.agent.displayName)+" ")]):_c("div",[_vm._v(" --- ")])]}}])}),_c("el-table-column",{scopedSlots:_vm._u([{key:"default",fn:function(trigger){return[_c("el-switch",{attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#df5d5d"},on:{change:function($event){return _vm.toggleWritable(trigger.row,trigger.row.status)}},model:{value:trigger.row.status,callback:function($$v){_vm.$set(trigger.row,"status",$$v)},expression:"trigger.row.status"}})]}}])}),_c("el-table-column",{staticClass:"visibility-visible-actions",scopedSlots:_vm._u([{key:"default",fn:function(trigger){return[_c("i",{staticClass:"el-icon-delete visibility-hide-actions",on:{click:function($event){return _vm.deleteTrigger(trigger.row)}}}),_c("i",{staticClass:"el-icon-edit visibility-hide-actions pL20",on:{click:function($event){return _vm.editTrigger(trigger.row)}}})]}}])})],1)],1)]),_vm.showTrigger?_c("addTrigger",{attrs:{isNew:_vm.isNew,triggerData:_vm.selectedTrigger},on:{onClose:function($event){_vm.showTrigger=!1},onSave:_vm.getAgentTrigger}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),AgentTriggerFormvue_type_template_id_17b25ed6_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{attrs:{title:_vm.isNew?_vm.$t("agent.create.create_agent_trigger"):_vm.$t("agent.create.edit_agent_trigger"),visible:!0,width:"45%","custom-class":"fc-setup-dialog-form fc-setup-dialog-form fc-setup-rightSide-dialog-scroll","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("el-form",{ref:"triggerForm",attrs:{model:_vm.trigger,"label-position":"top"}},[_c("el-form-item",{attrs:{label:"name"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",model:{value:_vm.trigger.name,callback:function($$v){_vm.$set(_vm.trigger,"name",$$v)},expression:"trigger.name"}})],1),_c("el-form-item",{attrs:{label:"agent"}},[_c("SelectAgent",{staticClass:"select-agent-width",attrs:{hideLabel:"true",defaultAgent:0==_vm.isNew?_vm.triggerData.agent.id:null},on:{onAgentFilter:_vm.updateSelectedAgent}})],1),_c("el-form-item",{attrs:{label:""}},[_c("new-criteria-builder",{ref:"criteriaBuilder",attrs:{showSiteField:_vm.showSiteField,showFormIDField:_vm.showFormIDField,exrule:_vm.trigger.criteria,module:"asset",isRendering:_vm.criteriaRendered,title:"Specify rules for asset action"},on:{condition:_vm.somefnt,"update:isRendering":function($event){_vm.criteriaRendered=$event},"update:is-rendering":function($event){_vm.criteriaRendered=$event}},model:{value:_vm.trigger.criteria,callback:function($$v){_vm.$set(_vm.trigger,"criteria",$$v)},expression:"trigger.criteria"}})],1),_c("el-form-item",{attrs:{label:""}},[_c("div",{staticClass:"fc-modal-sub-title line-height-normal"},[_vm._v(" "+_vm._s(_vm.$t("common._common.execute_on"))+" ")]),_c("div",{staticClass:"fc-sub-title-desc"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.rule_action_executed"))+" ")]),_c("el-select",{staticClass:"width100 fc-input-full-border2 mT10",attrs:{placeholder:"Select agent",disabled:""},model:{value:_vm.trigger.eventType,callback:function($$v){_vm.$set(_vm.trigger,"eventType",$$v)},expression:"trigger.eventType"}},_vm._l(_vm.excuteTrigger,(function(execute){return _c("el-option",{key:execute.value,attrs:{label:execute.label,value:execute.value}})})),1)],1),_c("el-form-item",[_c("p",{staticClass:"subHeading-pink-txt"},[_vm._v(_vm._s(_vm.$t("common.products.action")))]),_c("p",{staticClass:"small-description-txt pT5"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.set_actions_corresponding_rule"))+" ")]),_c("el-row",{staticClass:"mT20"},[_c("el-col",{attrs:{span:10}},[_c("p",{staticClass:"details-Heading"},[_vm._v(" "+_vm._s(_vm.$t("common._common.execute_script"))+" ")]),_c("p",{staticClass:"small-description-txt2"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.the_system_will_execute"))+" "),_c("br"),_vm._v(" "+_vm._s(_vm.$t("agent.agent.script_based_criteria"))+" ")])]),_c("el-col",{attrs:{span:8}},[_c("el-button",{class:_vm.$validation.isEmpty(_vm.trigger.triggerActions)?"small-border-btn":"success-green-btn",attrs:{type:"button"},on:{click:function($event){_vm.showBuilder=!0}}},[_vm._v(_vm._s(_vm.$validation.isEmpty(_vm.trigger.triggerActions)?"Configure":"Configured")+" "),_vm.$validation.isEmpty(_vm.trigger.triggerActions)?_vm._e():_c("span",{staticClass:"mL10"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer",attrs:{title:_vm.$t("agent.edit.edit_script")}})])])],1)],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.saveTrigger()}}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.confirm"))+" ")])],1)],1),_vm.showBuilder?_c("ScriptDialog",{attrs:{script:_vm.currentWorkflow,name:"typeRefObj",header:"void executeTrigger(Number assetId, Map agent)"},on:{onSave:function(action){return _vm.currentWorkflow=action},onClose:function($event){_vm.showBuilder=!1}}}):_vm._e()],1)},AgentTriggerFormvue_type_template_id_17b25ed6_staticRenderFns=[],objectSpread2=__webpack_require__(595082),NewCriteriaBuilder=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(339772),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(859850)),ScriptDialogvue_type_template_id_fcad9eba_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"pB15 fc-dialog-center-container fc-dialog-center-body-p0",attrs:{visible:!0,width:"60%",title:"Script","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("div",{staticClass:"height350 overflow-y-scroll pB50"},[_c("CodeMirror",{attrs:{codeeditor:!0},model:{value:_vm.scriptData.workflow,callback:function($$v){_vm.$set(_vm.scriptData,"workflow",$$v)},expression:"scriptData.workflow"}})],1),_c("div",{staticClass:"modal-dialog-footer",staticStyle:{"z-index":"900"}},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" CANCEL ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.saveScript}},[_vm._v(" Save ")])],1)])},ScriptDialogvue_type_template_id_fcad9eba_staticRenderFns=[],defineProperty=__webpack_require__(482482),CodeMirror=(__webpack_require__(689730),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(919324)),validation=__webpack_require__(990260),ScriptDialogvue_type_script_lang_js={props:["script","name","header"],components:{CodeMirror:CodeMirror/* default */.Z},data:function(){return{scriptData:{workflow:null}}},created:function(){this.deserialize()},computed:{headerString:function(){return(0,validation/* isEmpty */.xb)(this.header)?"void test()":this.header}},methods:{deserialize:function(){if(!(0,validation/* isEmpty */.xb)(this.script)){var _this$script$this$nam=this.script[this.name],workflowV2String=_this$script$this$nam.workflowV2String,id=_this$script$this$nam.id;this.scriptData={workflow:this.getScriptWorkflow(workflowV2String),id:id}}},getScriptWorkflow:function(workflowString){return workflowString?workflowString.replace(this.headerString+" { ","").slice(0,-2):null},serialize:function(){var scriptData=this.scriptData,_ref=scriptData||{},workflow=_ref.workflow,id=_ref.id,workflowV2String=this.headerString+" { "+workflow+" }",serializeData=(0,defineProperty/* default */.Z)({},this.name,{isV2Script:!0,workflowV2String:workflowV2String}),_ref2=serializeData||{},workflowContext=_ref2[this.name];return(0,validation/* isEmpty */.xb)(id)||(workflowContext=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},workflowContext),{},{id:id})),serializeData=(0,defineProperty/* default */.Z)({},this.name,workflowContext),serializeData},saveScript:function(){var scriptData=this.scriptData,workflow=scriptData.workflow;(0,validation/* isEmpty */.xb)(workflow)?this.$message.error("Script is Empty"):(this.$emit("onSave",this.serialize()),this.closeDialog())},closeDialog:function(){this.$emit("onClose")}}},scheduler_ScriptDialogvue_type_script_lang_js=ScriptDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(scheduler_ScriptDialogvue_type_script_lang_js,ScriptDialogvue_type_template_id_fcad9eba_render,ScriptDialogvue_type_template_id_fcad9eba_staticRenderFns,!1,null,null,null)
/* harmony default export */,ScriptDialog=component.exports,SelectAgent=__webpack_require__(505572),AgentTriggerFormvue_type_script_lang_js={props:["isNew","triggerData"],data:function(){return{criteriaRendered:!1,saving:!1,loading:!0,selectedAction:null,showBuilder:!1,triggerDetailsData:[],trigger:{name:"",agentId:null,eventType:"Timeseries completed",actions:[],criteria:null,workflow:"",triggerActions:[]},excuteTrigger:[{label:"Timeseries completed",value:-2147483648}]}},components:{NewCriteriaBuilder:NewCriteriaBuilder/* default */.Z,ScriptDialog:ScriptDialog,SelectAgent:SelectAgent/* default */.Z},created:function(){this.isNew||this.getAgentTrigger()},computed:{moduleFields:function(){if(!this.criteriaRendered)return this.$refs.criteriaBuilder&&this.$refs.criteriaBuilder.moduleMetaObject&&this.$refs.criteriaBuilder.moduleMetaObject.fields?this.$refs.criteriaBuilder.moduleMetaObject.fields:null},showSiteField:function(){var workFlowActionHash=this.$constants.WorkFlowAction.module[this.module];return workFlowActionHash&&workFlowActionHash.showSiteField},showFormIDField:function(){var workFlowActionHash=this.$constants.WorkFlowAction.module[this.module];return workFlowActionHash&&workFlowActionHash.showFormIDField},currentWorkflow:{get:function(){var _ref=this.trigger||{},triggerActions=_ref.triggerActions,scriptActions=(triggerActions||[]).find((function(rt){return 3===rt.actionType}))||{};return scriptActions},set:function(value){var _ref2=this.trigger||{},triggerActions=_ref2.triggerActions,scriptActionsIndex=(triggerActions||[]).findIndex((function(rt){return 3===rt.actionType}));if(scriptActionsIndex>-1){var scriptAction=triggerActions[scriptActionsIndex];this.$set(triggerActions,scriptActionsIndex,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},scriptAction),value)),this.$set(this.trigger,"triggerActions",triggerActions)}else{var _scriptAction=(0,objectSpread2/* default */.Z)({name:"Workflow trigger",actionType:3,executionOrder:1},value);triggerActions.push(_scriptAction),this.$set(this.trigger,"triggerActions",triggerActions)}}}},methods:{somefnt:function(newVal){this.trigger.criteria=newVal},closeDialog:function(){this.$emit("onClose")},saveTrigger:function(){var _this=this;this.$refs["triggerForm"].validate(function(){var _ref3=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var url,params,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return _this.saving=!0,url="v3/trigger/addOrUpdate",params={trigger:{name:_this.trigger.name,type:4,eventType:-2147483648,status:!0,agentId:_this.trigger.agentId,criteria:_this.trigger.criteria,triggerActions:_this.trigger.triggerActions}},_this.isNew||(params.trigger={name:_this.trigger.name,id:_this.trigger.id,type:4,eventType:-2147483648,status:!0,agentId:_this.trigger.agentId,criteria:_this.trigger.criteria,triggerActions:_this.trigger.triggerActions}),_context.next=8,api/* API */.bl.post(url,params);case 8:_yield$API$post=_context.sent,error=_yield$API$post.error,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):(_this.$message.success("trigger added"),_this.$emit("onSave"),_this.closeDialog()),_this.saving=!1,_this.$forceUpdate();case 13:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}())},showScript:function(){this.showBuilder=!0},getAgentTrigger:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loading=!0,_context2.next=3,api/* API */.bl.get("v3/trigger/".concat(_this2.triggerData.id));case 3:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||_this2.$t("common._common.error_occured")):(_this2.triggerDetailsData=data.triggerContext||[],_this2.isNew||(_this2.trigger=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this2.triggerDetailsData),{},{name:_this2.triggerDetailsData.name,agentId:_this2.triggerDetailsData.agentId,criteria:_this2.triggerDetailsData.criteria,triggerActions:_this2.triggerDetailsData.triggerActions,status:_this2.triggerDetailsData.status}))),_this2.loading=!1;case 8:case"end":return _context2.stop()}}),_callee2)})))()},updateSelectedAgent:function(selectedAgent){var trigger=this.trigger;trigger.agentId=selectedAgent.id}}},AgentTrigger_AgentTriggerFormvue_type_script_lang_js=AgentTriggerFormvue_type_script_lang_js,AgentTriggerForm_component=(0,componentNormalizer/* default */.Z)(AgentTrigger_AgentTriggerFormvue_type_script_lang_js,AgentTriggerFormvue_type_template_id_17b25ed6_render,AgentTriggerFormvue_type_template_id_17b25ed6_staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentTriggerForm=AgentTriggerForm_component.exports,AgentTriggervue_type_script_lang_js={data:function(){return{triggerData:[],showTrigger:!1,isNew:!1,loading:!0,agentData:[],selectedTrigger:null}},title:function(){return"Agent Trigger"},created:function(){this.getAgentTrigger(),this.getAgentList()},components:{addTrigger:AgentTriggerForm},computed:{},methods:{getAgentTrigger:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,api/* API */.bl.get("v3/trigger/agent");case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):_this.triggerData=data.triggerList,_this.loading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},addTrigger:function(){this.showTrigger=!0,this.isNew=!0,this.selectedTrigger=null},getAgentList:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loading=!0,_context2.next=3,api/* API */.bl.get("/v2/agent/list");case 3:_yield$API$get2=_context2.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?error.message||_this2.$t("common._common.error_occured"):_this2.agentData=data,_this2.loading=!1;case 8:case"end":return _context2.stop()}}),_callee2)})))()},toggleWritable:function(trigger){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var id,isActive,url,params,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return id=trigger.id,isActive=trigger.status,url="v3/trigger/changeStatus",params={id:id,status:trigger.status},_context3.next=5,api/* API */.bl.post(url,params);case 5:_yield$API$post=_context3.sent,error=_yield$API$post.error,error?_this3.$message.error(error.message||_this3.$t("common._common.error_occured")):_this3.$message.success(isActive?"Trigger marked as active":"Trigger marked as inactive");case 8:case"end":return _context3.stop()}}),_callee3)})))()},editTrigger:function(trigger){this.isNew=!1,this.showTrigger=!0,this.selectedTrigger=trigger},deleteTrigger:function(trigger){var _this4=this;this.$dialog.confirm({title:this.$t("agent.delete.trigger_delete"),message:this.$t("agent.delete.are_you_sure_you_want_to_delete_this_trigger"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then(function(){var _ref=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(value){var _yield$API$post2,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(value){_context4.next=2;break}return _context4.abrupt("return");case 2:return _context4.next=4,api/* API */.bl.post("v3/trigger/delete",{id:trigger.id});case 4:_yield$API$post2=_context4.sent,error=_yield$API$post2.error,error?_this4.$message.error(error.message||_this4.$t("agent.delete.trigger_deletion_failed")):(_this4.$message.success(_this4.$t("agent.delete.trigger_deleted_successfully")),_this4.getAgentTrigger());case 7:case"end":return _context4.stop()}}),_callee4)})));return function(_x){return _ref.apply(this,arguments)}}())}}},AgentTrigger_AgentTriggervue_type_script_lang_js=AgentTriggervue_type_script_lang_js,AgentTrigger_component=(0,componentNormalizer/* default */.Z)(AgentTrigger_AgentTriggervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AgentTrigger=AgentTrigger_component.exports},
/***/505572:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SelectAgent}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/components/SelectAgent.vue?vue&type=template&id=3f191645
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hideLabel?_vm._e():_c("div",{staticClass:"fc-pink f12 pB5 bold"},[_vm._v("Agent")]),_c("el-select",{staticClass:"fc-input-full-border-select2",attrs:{disabled:!_vm.disableSelect&&_vm.$validation.isEmpty(_vm.agentSearch),remote:"",filterable:"","default-first-option":"",placeholder:"Select Agent",loading:_vm.isAgentLoading,"loading-text":"Searching","remote-method":function(query){return _vm.searchAgent({searchText:query})}},on:{change:function($event){return _vm.getControllers()}},model:{value:_vm.selectedAgentId,callback:function($$v){_vm.selectedAgentId=$$v},expression:"selectedAgentId"}},_vm._l(_vm.agents,(function(agent){return _c("el-option",{key:agent.id,attrs:{label:agent.displayName||agent.name,value:agent.id,"no-data-text":"No Agent available",clearable:""}})})),1)],1)},staticRenderFns=[],validation=(__webpack_require__(634338),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(990260)),debounce=(__webpack_require__(32284),__webpack_require__(23279)),debounce_default=__webpack_require__.n(debounce),SelectAgentvue_type_script_lang_js={data:function(){return{isAgentLoading:!1,agents:null,selectedAgentId:null,defaultIds:[],selectedAgent:null,agentSearch:"",disableSelect:!1}},props:["discoverableAgents","hideLabel","filterActiveAgents","defaultAgent"],mounted:function(){this.getAgents()},methods:{getAgents:function(){var _this=this;this.defaultIds=this.$route.query.agentId;var url="/v2/agent/list?page=1&perPage=50";(0,validation/* isEmpty */.xb)(this.defaultIds)||(url="".concat(url,"&defaultIds=").concat(this.defaultIds)),(0,validation/* isEmpty */.xb)(this.agentSearch)||(url="".concat(url,"&querySearch=").concat(this.agentSearch)),this.$set(this,"isAgentLoading",!0),this.$http.get(url).then((function(response){_this.$set(_this,"isAgentLoading",!1),_this.agents=response.data.result&&response.data.result.data?response.data.result.data:[],_this.disableSelect=!0,_this.discoverableAgents&&(_this.agents=_this.agents.filter((function(agent){return 1===agent.agentType||2===agent.agentType||9===agent.agentType||6===agent.agentType}))),_this.filterActiveAgents&&(_this.agents=_this.agents.filter((function(agent){return 1==agent.connected}))),_this.agents.length&&(0,validation/* isEmpty */.xb)(_this.agentSearch)&&(null!=_this.defaultAgent?_this.selectedAgentId=_this.defaultAgent:_this.selectedAgentId=parseInt(_this.$route.query.agentId)||_this.agents[0].id,_this.getSelectedAgent(),null!=_this.selectedAgent&&_this.$emit("onAgentFilter",_this.selectedAgent)),_this.disableSelect=!(0,validation/* isEmpty */.xb)(_this.agents)})).catch((function(){_this.agents=[],_this.$set(_this,"isAgentLoading",!1)}))},getControllers:function(){this.getSelectedAgent(),null!=this.selectedAgent&&this.$emit("onAgentFilter",this.selectedAgent)},getSelectedAgent:function(){var _this2=this;this.selectedAgent=this.agents.find((function(agent){return agent.id===_this2.selectedAgentId}))},searchAgent:debounce_default()((function(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},searchText=props.searchText;this.agentSearch=searchText,this.getAgents()}),1e3)}},components_SelectAgentvue_type_script_lang_js=SelectAgentvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SelectAgentvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SelectAgent=component.exports},
/***/919324:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CodeMirror}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/CodeMirror.vue?vue&type=template&id=f33b888a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("codemirror",{attrs:{options:_vm.cmOption,placeholder:_vm.placeholder},on:{input:_vm.onCmCodeChange,ready:_vm.onCmReady,focus:_vm.onCmFocus},model:{value:_vm.script,callback:function($$v){_vm.script=$$v},expression:"script"}})],1)},staticRenderFns=[],vue_codemirror=__webpack_require__(375055),CodeMirrorvue_type_script_lang_js=(__webpack_require__(304631),__webpack_require__(471707),__webpack_require__(959372),__webpack_require__(620017),__webpack_require__(796876),__webpack_require__(988386),{data:function(){return{script:null,cmOption:{tabSize:4,styleActiveLine:!0,mode:"text/javascript",theme:"default",lineNumbers:!0,line:!0,matchBrackets:!0,foldGutter:!0,placeholder:!1,hintOptions:{completeSingle:!1},showCursorWhenSelecting:!0}}},props:["value","options","placeholder"],components:{codemirror:vue_codemirror.codemirror},computed:{codemirror:function(){return this.$refs.myCm.codemirror}},watch:{value:{handler:function(){this.script=this.$helpers.cloneObject(this.value),this.options&&Object.assign(this.cmOption,this.options)},immediate:!0}},methods:{onCmReady:function(cm){},onCmFocus:function(cm){},onCmCodeChange:function(newCode){this.$emit("input",newCode)},addCode:function(code){this.script=this.script+="\n"+code+"\n"},onCmScroll:function(){}}}),components_CodeMirrorvue_type_script_lang_js=CodeMirrorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CodeMirrorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CodeMirror=component.exports},
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/11946.js.map