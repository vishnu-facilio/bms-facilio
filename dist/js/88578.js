"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[88578,36043,26495,61180],{
/***/607842:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return upload_2}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./node_modules/vue-image-crop-upload/upload-2.vue?vue&type=template&id=258c767c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[_c("div",{staticClass:"vicp-wrap"},[_c("div",{staticClass:"vicp-close",on:{click:_vm.off}},[_c("i",{staticClass:"vicp-icon4"})]),_c("div",{directives:[{name:"show",rawName:"v-show",value:1==_vm.step,expression:"step == 1"}],staticClass:"vicp-step1"},[_c("div",{staticClass:"vicp-drop-area",on:{dragleave:_vm.preventDefault,dragover:_vm.preventDefault,dragenter:_vm.preventDefault,click:_vm.handleClick,drop:_vm.handleChange}},[_c("i",{directives:[{name:"show",rawName:"v-show",value:1!=_vm.loading,expression:"loading != 1"}],staticClass:"vicp-icon1"},[_c("i",{staticClass:"vicp-icon1-arrow"}),_c("i",{staticClass:"vicp-icon1-body"}),_c("i",{staticClass:"vicp-icon1-bottom"})]),_c("span",{directives:[{name:"show",rawName:"v-show",value:1!==_vm.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[_vm._v(_vm._s(_vm.lang.hint))]),_c("span",{directives:[{name:"show",rawName:"v-show",value:!_vm.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[_vm._v(_vm._s(_vm.lang.noSupported))]),1==_vm.step?_c("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:_vm.handleChange}}):_vm._e()]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.hasError,expression:"hasError"}],staticClass:"vicp-error"},[_c("i",{staticClass:"vicp-icon2"}),_vm._v(" "+_vm._s(_vm.errorMsg)+" ")]),_c("div",{staticClass:"vicp-operate"},[_c("a",{on:{click:_vm.off,mousedown:_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.off))])])]),2==_vm.step?_c("div",{staticClass:"vicp-step2"},[_c("div",{staticClass:"vicp-crop"},[_c("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[_c("div",{staticClass:"vicp-img-container"},[_c("img",{ref:"img",staticClass:"vicp-img",style:_vm.sourceImgStyle,attrs:{src:_vm.sourceImgUrl,draggable:"false"},on:{drag:_vm.preventDefault,dragstart:_vm.preventDefault,dragend:_vm.preventDefault,dragleave:_vm.preventDefault,dragover:_vm.preventDefault,dragenter:_vm.preventDefault,drop:_vm.preventDefault,touchstart:_vm.imgStartMove,touchmove:_vm.imgMove,touchend:_vm.createImg,touchcancel:_vm.createImg,mousedown:_vm.imgStartMove,mousemove:_vm.imgMove,mouseup:_vm.createImg,mouseout:_vm.createImg}}),_c("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:_vm.sourceImgShadeStyle}),_c("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:_vm.sourceImgShadeStyle})]),_c("div",{staticClass:"vicp-range"},[_c("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:_vm.scale.range},on:{mousemove:_vm.zoomChange}}),_c("i",{staticClass:"vicp-icon5",on:{mousedown:_vm.startZoomSub,mouseout:_vm.endZoomSub,mouseup:_vm.endZoomSub}}),_c("i",{staticClass:"vicp-icon6",on:{mousedown:_vm.startZoomAdd,mouseout:_vm.endZoomAdd,mouseup:_vm.endZoomAdd}})]),_vm.noRotate?_vm._e():_c("div",{staticClass:"vicp-rotate"},[_c("i",{on:{click:_vm.rotateImg}},[_vm._v("↻")])])]),_c("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[_c("div",{staticClass:"vicp-preview"},[_vm.noSquare?_vm._e():_c("div",{staticClass:"vicp-preview-item"},[_c("img",{style:_vm.previewStyle,attrs:{src:_vm.createImgUrl}}),_c("span",[_vm._v(_vm._s(_vm.lang.preview))])]),_vm.noCircle?_vm._e():_c("div",{staticClass:"vicp-preview-item vicp-preview-item-circle"},[_c("img",{style:_vm.previewStyle,attrs:{src:_vm.createImgUrl}}),_c("span",[_vm._v(_vm._s(_vm.lang.preview))])])])])]),_c("div",{staticClass:"vicp-operate"},[_c("a",{on:{click:function($event){return _vm.setStep(1)},mousedown:_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_c("a",{staticClass:"vicp-operate-btn",on:{click:_vm.prepareUpload,mousedown:_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.save))])])]):_vm._e(),3==_vm.step?_c("div",{staticClass:"vicp-step3"},[_c("div",{staticClass:"vicp-upload"},[_c("span",{directives:[{name:"show",rawName:"v-show",value:1===_vm.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[_vm._v(_vm._s(_vm.lang.loading))]),_c("div",{staticClass:"vicp-progress-wrap"},[_c("span",{directives:[{name:"show",rawName:"v-show",value:1===_vm.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:_vm.progressStyle})]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.hasError,expression:"hasError"}],staticClass:"vicp-error"},[_c("i",{staticClass:"vicp-icon2"}),_vm._v(" "+_vm._s(_vm.errorMsg)+" ")]),_c("div",{directives:[{name:"show",rawName:"v-show",value:2===_vm.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[_c("i",{staticClass:"vicp-icon3"}),_vm._v(" "+_vm._s(_vm.lang.success)+" ")])]),_c("div",{staticClass:"vicp-operate"},[_c("a",{on:{click:function($event){return _vm.setStep(2)},mousedown:_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.back))]),_c("a",{on:{click:_vm.off,mousedown:_vm.ripple}},[_vm._v(_vm._s(_vm.lang.btn.close))])])]):_vm._e(),_c("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:_vm.width,height:_vm.height}})])])},staticRenderFns=[],language=__webpack_require__(342971),mimes=__webpack_require__(560421),data2blob=__webpack_require__(646979),effectRipple=__webpack_require__(321279),upload_2vue_type_script_lang_js={props:{
// 域，上传文件name，触发事件会带上（如果一个页面多个图片上传控件，可以做区分
field:{type:String,default:"avatar"},
// 原名key，类似于id，触发事件会带上（如果一个页面多个图片上传控件，可以做区分
ki:{default:0},
// 显示该控件与否
value:{default:!0},
// 上传地址
url:{type:String,default:""},
// 其他要上传文件附带的数据，对象格式
params:{type:Object,default:null},
//Add custom headers
headers:{type:Object,default:null},
// 剪裁图片的宽
width:{type:Number,default:200},
// 剪裁图片的高
height:{type:Number,default:200},
// 不显示旋转功能
noRotate:{type:Boolean,default:!0},
// 不预览圆形图片
noCircle:{type:Boolean,default:!1},
// 不预览方形图片
noSquare:{type:Boolean,default:!1},
// 单文件大小限制
maxSize:{type:Number,default:10240},
// 语言类型
langType:{type:String,default:"zh"},
// 语言包
langExt:{type:Object,default:null},
// 图片上传格式
imgFormat:{type:String,default:"png"},
// 图片背景 jpg情况下生效
imgBgc:{type:String,default:"#fff"},
// 是否支持跨域
withCredentials:{type:Boolean,default:!1},method:{type:String,default:"POST"}},data(){let that=this,{imgFormat:imgFormat,langType:langType,langExt:langExt,width:width,height:height}=that,isSupported=!0,allowImgFormat=["jpg","png"],tempImgFormat=-1===allowImgFormat.indexOf(imgFormat)?"jpg":imgFormat,lang=language/* default */.Z[langType]?language/* default */.Z[langType]:language/* default */.Z["en"],mime=mimes/* default */.Z[tempImgFormat];
// 规范图片格式
return that.imgFormat=tempImgFormat,langExt&&Object.assign(lang,langExt),"function"!=typeof FormData&&(isSupported=!1),{
// 图片的mime
mime:mime,
// 语言包
lang:lang,
// 浏览器是否支持该控件
isSupported:isSupported,
// 浏览器是否支持触屏事件
isSupportTouch:document.hasOwnProperty("ontouchstart"),
// 步骤
step:1,//1选择文件 2剪裁 3上传
// 上传状态及进度
loading:0,//0未开始 1正在 2成功 3错误
progress:0,
// 是否有错误及错误信息
hasError:!1,errorMsg:"",
// 需求图宽高比
ratio:width/height,
// 原图地址、生成图片地址
sourceImg:null,sourceImgUrl:"",createImgUrl:"",
// 原图片拖动事件初始值
sourceImgMouseDown:{on:!1,mX:0,//鼠标按下的坐标
mY:0,x:0,//scale原图坐标
y:0},
// 生成图片预览的容器大小
previewContainer:{width:100,height:100},
// 原图容器宽高
sourceImgContainer:{// sic
width:240,height:184},
// 原图展示属性
scale:{zoomAddOn:!1,//按钮缩放事件开启
zoomSubOn:!1,//按钮缩放事件开启
range:1,//最大100
x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,//最宽
minHeight:0,naturalWidth:0,//原宽
naturalHeight:0}}},computed:{
// 进度条样式
progressStyle(){let{progress:progress}=this;return{width:progress+"%"}},
// 原图样式
sourceImgStyle(){let{scale:scale,sourceImgMasking:sourceImgMasking}=this,top=scale.y+sourceImgMasking.y+"px",left=scale.x+sourceImgMasking.x+"px";return{top:top,left:left,width:scale.width+"px",height:scale.height+"px"}},
// 原图蒙版属性
sourceImgMasking(){let{width:width,height:height,ratio:ratio,sourceImgContainer:sourceImgContainer}=this,sic=sourceImgContainer,sicRatio=sic.width/sic.height,// 原图容器宽高比
x=0,y=0,w=sic.width,h=sic.height,scale=1;return ratio<sicRatio&&(scale=sic.height/height,w=sic.height*ratio,x=(sic.width-w)/2),ratio>sicRatio&&(scale=sic.width/width,h=sic.width/ratio,y=(sic.height-h)/2),{scale:scale,// 蒙版相对需求宽高的缩放
x:x,y:y,width:w,height:h}},
// 原图遮罩样式
sourceImgShadeStyle(){let{sourceImgMasking:sourceImgMasking,sourceImgContainer:sourceImgContainer}=this,sic=sourceImgContainer,sim=sourceImgMasking,w=sim.width==sic.width?sim.width:(sic.width-sim.width)/2,h=sim.height==sic.height?sim.height:(sic.height-sim.height)/2;return{width:w+"px",height:h+"px"}},previewStyle(){let{width:width,height:height,ratio:ratio,previewContainer:previewContainer}=this,pc=previewContainer,w=pc.width,h=pc.height,pcRatio=w/h;return ratio<pcRatio&&(w=pc.height*ratio),ratio>pcRatio&&(h=pc.width/ratio),{width:w+"px",height:h+"px"}}},watch:{value(newValue){newValue&&1!=this.loading&&this.reset()}},methods:{
// 点击波纹效果
ripple(e){(0,effectRipple/* default */.Z)(e)},
// 关闭控件
off(){setTimeout((()=>{this.$emit("input",!1),3==this.step&&2==this.loading&&this.setStep(1)}),200)},
// 设置步骤
setStep(no){
// 延时是为了显示动画效果呢，哈哈哈
setTimeout((()=>{this.step=no}),200)},
/* 图片选择区域函数绑定
		 ---------------------------------------------------------------*/
preventDefault(e){return e.preventDefault(),!1},handleClick(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange(e){if(e.preventDefault(),1!==this.loading){let files=e.target.files||e.dataTransfer.files;this.reset(),this.checkFile(files[0])&&this.setSourceImg(files[0])}},
/* ---------------------------------------------------------------*/
// 检测选择的文件是否合适
checkFile(file){let that=this,{lang:lang,maxSize:maxSize}=that;
// 仅限图片
return-1===file.type.indexOf("image")?(that.hasError=!0,that.errorMsg=lang.error.onlyImg,!1):
// 超出大小
!(file.size/1024>maxSize)||(that.hasError=!0,that.errorMsg=lang.error.outOfSize+maxSize+"kb",!1)},
// 重置控件
reset(){let that=this;that.loading=0,that.hasError=!1,that.errorMsg="",that.progress=0},
// 设置图片源
setSourceImg(file){this.$emit("src-file-set",file.name,file.type,file.size);let that=this,fr=new FileReader;fr.onload=function(e){that.sourceImgUrl=fr.result,that.startCrop()},fr.readAsDataURL(file)},
// 剪裁前准备工作
startCrop(){let that=this,{width:width,height:height,ratio:ratio,scale:scale,sourceImgUrl:sourceImgUrl,sourceImgMasking:sourceImgMasking,lang:lang}=that,sim=sourceImgMasking,img=new Image;img.src=sourceImgUrl,img.onload=function(){let nWidth=img.naturalWidth,nHeight=img.naturalHeight,nRatio=nWidth/nHeight,w=sim.width,h=sim.height,x=0,y=0;
// 图片像素不达标
if(nWidth<width||nHeight<height)return that.hasError=!0,that.errorMsg=lang.error.lowestPx+width+"*"+height,!1;ratio>nRatio&&(h=w/nRatio,y=(sim.height-h)/2),ratio<nRatio&&(w=h*nRatio,x=(sim.width-w)/2),scale.range=0,scale.x=x,scale.y=y,scale.width=w,scale.height=h,scale.minWidth=w,scale.minHeight=h,scale.maxWidth=nWidth*sim.scale,scale.maxHeight=nHeight*sim.scale,scale.naturalWidth=nWidth,scale.naturalHeight=nHeight,that.sourceImg=img,that.createImg(),that.setStep(2)}},
// 鼠标按下图片准备移动
imgStartMove(e){
// 支持触摸事件，则鼠标事件无效
if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;let et=e.targetTouches?e.targetTouches[0]:e,{sourceImgMouseDown:sourceImgMouseDown,scale:scale}=this,simd=sourceImgMouseDown;simd.mX=et.screenX,simd.mY=et.screenY,simd.x=scale.x,simd.y=scale.y,simd.on=!0},
// 鼠标按下状态下移动，图片移动
imgMove(e){
// 支持触摸事件，则鼠标事件无效
if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;let et=e.targetTouches?e.targetTouches[0]:e,{sourceImgMouseDown:{on:on,mX:mX,mY:mY,x:x,y:y},scale:scale,sourceImgMasking:sourceImgMasking}=this,sim=sourceImgMasking,nX=et.screenX,nY=et.screenY,dX=nX-mX,dY=nY-mY,rX=x+dX,rY=y+dY;on&&(rX>0&&(rX=0),rY>0&&(rY=0),rX<sim.width-scale.width&&(rX=sim.width-scale.width),rY<sim.height-scale.height&&(rY=sim.height-scale.height),scale.x=rX,scale.y=rY)},
// 顺时针旋转图片
rotateImg(e){let{sourceImg:sourceImg,scale:{naturalWidth:naturalWidth,naturalHeight:naturalHeight}}=this,width=naturalHeight,height=naturalWidth,canvas=this.$refs.canvas,ctx=canvas.getContext("2d");canvas.width=width,canvas.height=height,ctx.clearRect(0,0,width,height),ctx.fillStyle="rgba(0,0,0,0)",ctx.fillRect(0,0,width,height),ctx.translate(width,0),ctx.rotate(90*Math.PI/180),ctx.drawImage(sourceImg,0,0,naturalWidth,naturalHeight);let imgUrl=canvas.toDataURL(mimes/* default */.Z["png"]);this.sourceImgUrl=imgUrl,this.startCrop()},
// 按钮按下开始放大
startZoomAdd(e){let that=this,{scale:scale}=that;function zoom(){if(scale.zoomAddOn){let range=scale.range>=100?100:++scale.range;that.zoomImg(range),setTimeout((function(){zoom()}),60)}}scale.zoomAddOn=!0,zoom()},
// 按钮松开或移开取消放大
endZoomAdd(e){this.scale.zoomAddOn=!1},
// 按钮按下开始缩小
startZoomSub(e){let that=this,{scale:scale}=that;function zoom(){if(scale.zoomSubOn){let range=scale.range<=0?0:--scale.range;that.zoomImg(range),setTimeout((function(){zoom()}),60)}}scale.zoomSubOn=!0,zoom()},
// 按钮松开或移开取消缩小
endZoomSub(e){let{scale:scale}=this;scale.zoomSubOn=!1},zoomChange(e){this.zoomImg(e.target.value)},
// 缩放原图
zoomImg(newRange){let that=this,{sourceImgMasking:sourceImgMasking,sourceImgMouseDown:sourceImgMouseDown,scale:scale}=this,{maxWidth:maxWidth,maxHeight:maxHeight,minWidth:minWidth,minHeight:minHeight,width:width,height:height,x:x,y:y,range:range}=scale,sim=sourceImgMasking,
// 蒙版宽高
sWidth=sim.width,sHeight=sim.height,
// 新宽高
nWidth=minWidth+(maxWidth-minWidth)*newRange/100,nHeight=minHeight+(maxHeight-minHeight)*newRange/100,
// 新坐标（根据蒙版中心点缩放）
nX=sWidth/2-nWidth/width*(sWidth/2-x),nY=sHeight/2-nHeight/height*(sHeight/2-y);
// 判断新坐标是否超过蒙版限制
nX>0&&(nX=0),nY>0&&(nY=0),nX<sWidth-nWidth&&(nX=sWidth-nWidth),nY<sHeight-nHeight&&(nY=sHeight-nHeight),
// 赋值处理
scale.x=nX,scale.y=nY,scale.width=nWidth,scale.height=nHeight,scale.range=newRange,setTimeout((function(){scale.range==newRange&&that.createImg()}),300)},
// 生成需求图片
createImg(e){let that=this,{imgFormat:imgFormat,imgBgc:imgBgc,mime:mime,sourceImg:sourceImg,scale:{x:x,y:y,width:width,height:height},sourceImgMasking:{scale:scale}}=that,canvas=that.$refs.canvas,ctx=canvas.getContext("2d");e&&(
// 取消鼠标按下移动状态
that.sourceImgMouseDown.on=!1),canvas.width=that.width,canvas.height=that.height,ctx.clearRect(0,0,that.width,that.height),ctx.fillStyle="png"==imgFormat?"rgba(0,0,0,0)":imgBgc,ctx.fillRect(0,0,that.width,that.height),ctx.drawImage(sourceImg,x/scale,y/scale,width/scale,height/scale),that.createImgUrl=canvas.toDataURL(mime)},prepareUpload(){let{url:url,createImgUrl:createImgUrl,field:field,ki:ki}=this;this.$emit("crop-success",createImgUrl,field,ki),"string"==typeof url&&url?this.upload():this.off()},
// 上传图片
upload(){let that=this,{lang:lang,imgFormat:imgFormat,mime:mime,url:url,params:params,headers:headers,field:field,ki:ki,createImgUrl:createImgUrl,withCredentials:withCredentials,method:method}=this,fmData=new FormData;fmData.append(field,(0,data2blob/* default */.Z)(createImgUrl,mime),field+"."+imgFormat),
// 添加其他参数
"object"==typeof params&&params&&Object.keys(params).forEach((k=>{fmData.append(k,params[k])}));
// 监听进度回调
const uploadProgress=function(event){event.lengthComputable&&(that.progress=100*Math.round(event.loaded)/event.total)};
// 上传文件
that.reset(),that.loading=1,that.setStep(3),new Promise((function(resolve,reject){let client=new XMLHttpRequest;client.open(method,url,!0),client.withCredentials=withCredentials,client.onreadystatechange=function(){4===this.readyState&&(200===this.status||201===this.status?resolve(JSON.parse(this.responseText)):reject(this.status))},client.upload.addEventListener("progress",uploadProgress,!1),//监听进度
// 设置header
"object"==typeof headers&&headers&&Object.keys(headers).forEach((k=>{client.setRequestHeader(k,headers[k])})),client.send(fmData)})).then((
// 上传成功
function(resData){that.value&&(that.loading=2,that.$emit("crop-upload-success",resData,field,ki))}),(
// 上传失败
function(sts){that.value&&(that.loading=3,that.hasError=!0,that.errorMsg=lang.fail,that.$emit("crop-upload-fail",sts,field,ki))}))}},created(){
// 绑定按键esc隐藏此插件事件
document.addEventListener("keyup",(e=>{!this.value||"Escape"!=e.key&&27!=e.keyCode||this.off()}))}},vue_image_crop_upload_upload_2vue_type_script_lang_js=upload_2vue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(vue_image_crop_upload_upload_2vue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,upload_2=component.exports},
/***/561180:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EPChangePassword}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/employeePortalOverview/EPChangePassword.vue?vue&type=template&id=03c28ac6&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"change-password-container"},[_c("div",{staticClass:"fc-form"},[_c("el-form",{ref:"ruleForm",staticClass:"change-pass-form",attrs:{model:_vm.changepassword,rules:_vm.rules,"label-position":"top"}},[_c("div",[_c("div",[_c("el-form-item",{attrs:{prop:"oldpassword",label:_vm.$t("setup.changepassword.current_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.oldpassword,callback:function($$v){_vm.$set(_vm.changepassword,"oldpassword",$$v)},expression:"changepassword.oldpassword"}})],1),_c("el-form-item",{attrs:{prop:"newpassword",label:_vm.$t("setup.changepassword.new_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.newpassword,callback:function($$v){_vm.$set(_vm.changepassword,"newpassword",$$v)},expression:"changepassword.newpassword"}})],1),_c("el-form-item",{attrs:{prop:"confirmpassword",label:_vm.$t("setup.changepassword.confirm_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.confirmpassword,callback:function($$v){_vm.$set(_vm.changepassword,"confirmpassword",$$v)},expression:"changepassword.confirmpassword"}})],1)],1),_c("div",{staticClass:"d-flex mT30"},[_c("el-button",{staticClass:"btn change-el-btn mR20",attrs:{loading:_vm.saving},on:{click:_vm.changePassword}},[_vm._v(" "+_vm._s("Change")+" ")]),_c("div",{staticClass:"fc-ep-cancel-btn pointer",on:{click:_vm.cancelPassword}},[_vm._v(" "+_vm._s("Cancel")+" ")])],1)])])],1)])},staticRenderFns=[],ChangePassword=__webpack_require__(278060),EPChangePasswordvue_type_script_lang_js={extends:ChangePassword/* default */.Z,methods:{cancelPassword:function(){this.changepassword.oldpassword=null,this.changepassword.newpassword=null,this.changepassword.confirmpassword=null}}},employeePortalOverview_EPChangePasswordvue_type_script_lang_js=EPChangePasswordvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EPChangePasswordvue_type_script_lang_js,render,staticRenderFns,!1,null,"03c28ac6",null)
/* harmony default export */,EPChangePassword=component.exports},
/***/726495:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EPEditProfile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/employeePortalOverview/EPEditProfile.vue?vue&type=template&id=1902eb66&scoped=true
var render=function(){var this$1=this,_vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"editprofile-portal-container"},[_c("div",{staticClass:"user-detail-container"},[_c("div",[_vm.edit?[_c("div",{staticClass:"p5"},[_c("el-form",{staticClass:"fc-ep-form",attrs:{model:_vm.userClone,"label-width":"120px","label-position":"left"}},[_c("el-form-item",{attrs:{label:_vm.$t("common.products.full_name")}},[_c("el-input",{staticClass:"fc-input-full-border-select2 width80",model:{value:_vm.userClone.name,callback:function($$v){_vm.$set(_vm.userClone,"name",$$v)},expression:"userClone.name"}})],1),_c("el-form-item",{attrs:{label:_vm.$t("setup.setup_profile.email")}},[_c("el-input",{staticClass:"fc-input-full-border-select2 width80",attrs:{disabled:""},model:{value:_vm.userClone.email,callback:function($$v){_vm.$set(_vm.userClone,"email",$$v)},expression:"userClone.email"}})],1),_c("el-form-item",{attrs:{label:_vm.$t("setup.setup_profile.language")}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width80",attrs:{placeholder:_vm.$t("setup.setup.select_language")},model:{value:_vm.userClone.language,callback:function($$v){_vm.$set(_vm.userClone,"language",$$v)},expression:"userClone.language"}},_vm._l(_vm.languageList,(function(language,index){return _c("el-option",{key:index,attrs:{label:language.label,value:language.value}})})),1)],1),_c("el-form-item",{attrs:{label:_vm.$t("setup.setup_profile.phone")}},[_c("el-input",{staticClass:"fc-input-full-border-select2 width80",attrs:{placeholder:_vm.$t("common.placeholders.enter_phone_number")},model:{value:_vm.userClone.phone,callback:function($$v){_vm.$set(_vm.userClone,"phone",$$v)},expression:"userClone.phone"}})],1)],1)],1),_c("div",{staticClass:"d-flex mT20 pR5 pL5"},[_c("el-button",{staticClass:"btn fc-ep-save-btn mR20",attrs:{loading:_vm.saving},on:{click:_vm.saveProfile}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")]),_c("div",{staticClass:"fc-ep-cancel-btn pointer",on:{click:_vm.cancelEdit}},[_vm._v(" "+_vm._s("Cancel")+" ")])],1)]:[_c("div",{staticClass:"flex-spacebetween"},[_c("div",{staticClass:"p5"},[_c("div",{staticClass:"mB35"},[_c("div",{staticClass:"fc-text-16"},[_vm._v(_vm._s("Full Name"))]),_c("div",{staticClass:"fc-text-14"},[_vm._v(_vm._s(_vm.user.name||"---"))])]),_c("div",{staticClass:"mB25"},[_c("div",{staticClass:"fc-text-16 mB3"},[_vm._v(_vm._s("E-mail"))]),_c("CopyToClipboard",{attrs:{inputText:_vm.user.email}})],1),_c("div",{staticClass:"mB35"},[_c("div",{staticClass:"fc-text-16"},[_vm._v(_vm._s("Language"))]),_c("div",{staticClass:"fc-text-14"},[_vm._v(_vm._s(_vm.user.language||"---"))])]),_c("div",{staticClass:"mB35"},[_c("div",{staticClass:"fc-text-16"},[_vm._v(_vm._s("Phone"))]),_c("div",{staticClass:"fc-text-14"},[_vm._v(_vm._s(_vm.user.phone||"---"))])]),_c("div")]),_c("div",[_c("div",{staticClass:"btn-edit",on:{click:function(){this$1.edit=!0}}},[_c("div",{staticClass:"mR10"},[_c("InlineSvg",{attrs:{src:"svgs/employeePortal/ic-edit","icon-class":"xxxs"}})],1),_c("div",{staticClass:"fc-text-16 mB0"},[_vm._v(" "+_vm._s("Edit")+" ")])])])])]],2)])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),InlineSvg=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(586166)),vuex_esm=__webpack_require__(420629),constant=__webpack_require__(354754),api=__webpack_require__(32284),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),CopyToClipboardvue_type_template_id_061a4661_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"fc-blue-text-14"},[_vm._v(_vm._s(_vm.inputText||"---"))]),_vm.inputText?_c("div",{staticClass:"copy-img"},[_c("div",{staticStyle:{margin:"9px 0 0 8px"},on:{click:function($event){return _vm.copyLinkName(_vm.inputText)}}},[_c("InlineSvg",{attrs:{src:"svgs/employeePortal/ic-content-copy","icon-class":"xxxs"}})],1)]):_vm._e()])},CopyToClipboardvue_type_template_id_061a4661_scoped_true_staticRenderFns=[],CopyToClipboardvue_type_script_lang_js={props:["inputText"],methods:{copyLinkName:function(copy){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,navigator.clipboard.writeText(copy);case 2:_this.$message({message:"Copied to clipboard!",type:"success"});case 3:case"end":return _context.stop()}}),_callee)})))()}}},employeePortalOverview_CopyToClipboardvue_type_script_lang_js=CopyToClipboardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_CopyToClipboardvue_type_script_lang_js,CopyToClipboardvue_type_template_id_061a4661_scoped_true_render,CopyToClipboardvue_type_template_id_061a4661_scoped_true_staticRenderFns,!1,null,"061a4661",null)
/* harmony default export */,CopyToClipboard=component.exports,EPEditProfilevue_type_script_lang_js={data:function(){return{edit:!1,submit:!1,languageList:constant/* default */.Z.languages,user:{name:null,email:null,timezone:null,language:null,street:null,city:null,state:null,zip:null,country:null,phone:null,mobile:null,uid:-1},saving:!1,userClone:{}}},components:{InlineSvg:InlineSvg/* default */.Z,CopyToClipboard:CopyToClipboard},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account}})),created:function(){var _this=this,language=null;this.account.user.language&&(language=this.languageList.find((function(language){return language.value===_this.account.user.language})));var user=this.account.user,name=user.name,email=user.email,phone=user.phone,mobile=user.mobile,street=user.street,state=user.state,city=user.city,zip=user.zip,uid=user.uid;this.user={name:name,uid:uid||-1,email:email,phone:phone,mobile:mobile,street:street,state:state,city:city,zip:zip,language:language?language.value:null}},mounted:function(){this.userClone=cloneDeep_default()(this.user)},methods:{cancelEdit:function(){var user=this.user;this.userClone.name=user.name,this.userClone.email=user.email,this.userClone.language=user.language,this.userClone.phone=user.phone,this.edit=!1},close:function(){alert("close dialog")},saveProfile:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var userObj,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this2.saving=!0,userObj=_this2.$helpers.cloneObject(_this2.userClone),_context.next=4,api/* API */.bl.post("/account/update",{user:userObj});case 4:_yield$API$post=_context.sent,error=_yield$API$post.error,error?(_this2.$message.error(error.message||"Error Occured"),_this2.$emit("close",!0)):(_this2.$message.success(_this2.$t("setup.setup_profile.user_profile_details")),_this2.$helpers.delay(1e3).then((function(){return location.reload()}))),_this2.saving=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},copyLinkName:function(copy){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,navigator.clipboard.writeText(copy);case 2:_this3.$message({message:"Copied to clipboard!",type:"success"});case 3:case"end":return _context2.stop()}}),_callee2)})))()}}},employeePortalOverview_EPEditProfilevue_type_script_lang_js=EPEditProfilevue_type_script_lang_js,EPEditProfile_component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EPEditProfilevue_type_script_lang_js,render,staticRenderFns,!1,null,"1902eb66",null)
/* harmony default export */,EPEditProfile=EPEditProfile_component.exports},
/***/88578:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EmployeePortalMyProfile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/employeePortalOverview/EmployeePortalMyProfile.vue?vue&type=template&id=1230173f&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"avatar-container",staticStyle:{"background-color":"#fff"}},[_c("div",{staticClass:"position-relative d-flex"},[_c("Avatar",{attrs:{size:"shuge",user:_vm.account.user}}),_c("div",{staticClass:"edit-img",on:{click:_vm.toggleShow}},[_c("InlineSvg",{attrs:{src:"svgs/employeePortal/ic-edit","icon-class":"xxxs"}})],1)],1),_c("div",{staticClass:"user-name"},[_vm._v(_vm._s(_vm.account.user.name))])]),_c("el-header",{staticClass:"profile-header "},[_c("div",{staticClass:"flex-center"},_vm._l(_vm.tabs,(function(tab,index){return _c("div",{key:index,staticClass:"header-item mR30 pointer",on:{click:function($event){return _vm.tabChanged(tab.name)}}},[_c("div",{class:{active:_vm.activeName===tab.name}},[_vm._v(" "+_vm._s(tab.displayName)+" ")]),_vm.activeName===tab.name?_c("div",{staticClass:"portal-dashboard-active"}):_vm._e()])})),0)]),_c("div",{staticClass:"content-container"},[_c("router-view")],1),_c("photo-upload",{attrs:{langType:"en",field:"user.avatar",withCredentials:!0,width:120,height:120,params:_vm.params,headers:_vm.headers,url:_vm.avatarUploadUrl,"img-format":"png"},on:{"crop-success":_vm.avatarCropSuccess,"crop-upload-success":_vm.avatarCropUploadSuccess,"crop-upload-fail":_vm.avatarCropUploadFail},model:{value:_vm.showAvatarUpload,callback:function($$v){_vm.showAvatarUpload=$$v},expression:"showAvatarUpload"}})],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),EPEditProfile=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(726495)),EPChangePassword=__webpack_require__(561180),Avatar=__webpack_require__(574752),InlineSvg=__webpack_require__(586166),upload_2=__webpack_require__(607842),vuex_esm=__webpack_require__(420629),validation=__webpack_require__(990260),baseUrl=__webpack_require__(420499),EmployeePortalMyProfilevue_type_script_lang_js={components:{EditProfile:EPEditProfile["default"],ChangePassword:EPChangePassword["default"],Avatar:Avatar["default"],InlineSvg:InlineSvg/* default */.Z,PhotoUpload:upload_2/* default */.Z},data:function(){return{uploadDialog:!1,showAvatarUpload:!1,params:{userId:0},headers:{},avatarUploadUrl:null,avatarDataUrl:"",canShowMFA:!1,activeName:"myprofile",tabsList:[{name:"myprofile",displayName:this.$t("common.profile.myprofile"),canShow:!0},{name:"changepassword",displayName:this.$t("common.profile.changepassword"),canShow:!0},{name:"mfa",displayName:"Multi Factor Authentication",canShow:this.$isMFAEnabled},{name:"notifications",displayName:"Notifications",canShow:!0}]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account}})),{},{tabs:function(){return this.tabsList.filter((function(i){return i.canShow}))}}),created:function(){var _this$$route;"notifications"==(null===(_this$$route=this.$route)||void 0===_this$$route?void 0:_this$$route.name)&&(this.activeName=this.$route.name),this.params.userId=this.account.user.uid;var user=this.account.user,name=user.name,email=user.email,phone=user.phone,mobile=user.mobile,street=user.street,state=user.state,city=user.city,zip=user.zip,uid=user.uid;this.user={name:name,uid:uid||-1,email:email,phone:phone,mobile:mobile,street:street,state:state,city:city,zip:zip};
// avatar upload url
var baseURL=(0,baseUrl/* getBaseURL */.BS)();this.avatarUploadUrl="".concat(baseURL,"/settings/users/avatar/upload");var csrf=this.$cookie.get("fc.csrfToken");(0,validation/* isEmpty */.xb)(csrf)||(this.headers["X-CSRF-Token"]=csrf)},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({updateUserAvatarUrl:"updateUserAvatarUrl"})),{},{toggleShow:function(){this.showAvatarUpload=!this.showAvatarUpload},avatarCropSuccess:function(avatarDataUrl){this.avatarDataUrl=avatarDataUrl},avatarCropUploadSuccess:function(jsonData){this.updateUserAvatarUrl({id:this.account.user.id,avatarUrl:jsonData.avatarUrl}),this.account.user.avatarUrl=jsonData.avatarUrl},avatarCropUploadFail:function(){this.$message.error("Avatar upload fail")},tabChanged:function(tabName){this.activeName=tabName,this.$router.push("/employee/profile/".concat(tabName))}})},employeePortalOverview_EmployeePortalMyProfilevue_type_script_lang_js=EmployeePortalMyProfilevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EmployeePortalMyProfilevue_type_script_lang_js,render,staticRenderFns,!1,null,"1230173f",null)
/* harmony default export */,EmployeePortalMyProfile=component.exports},
/***/278060:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return profile_ChangePassword}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/profile/ChangePassword.vue?vue&type=template&id=303046df
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-form-container change-password-container"},[_c("div",{staticClass:"fc-form"},[_c("el-form",{ref:"ruleForm",attrs:{model:_vm.changepassword,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"row mT10"},[_c("div",{staticClass:"col-lg-4 col-md-4"},[_c("el-form-item",{attrs:{prop:"oldpassword",label:_vm.$t("setup.changepassword.current_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.oldpassword,callback:function($$v){_vm.$set(_vm.changepassword,"oldpassword",$$v)},expression:"changepassword.oldpassword"}})],1),_c("el-form-item",{attrs:{prop:"newpassword",label:_vm.$t("setup.changepassword.new_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.newpassword,callback:function($$v){_vm.$set(_vm.changepassword,"newpassword",$$v)},expression:"changepassword.newpassword"}})],1),_c("el-form-item",{attrs:{prop:"confirmpassword",label:_vm.$t("setup.changepassword.confirm_pw")}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password"},model:{value:_vm.changepassword.confirmpassword,callback:function($$v){_vm.$set(_vm.changepassword,"confirmpassword",$$v)},expression:"changepassword.confirmpassword"}})],1)],1),_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("el-button",{staticClass:"btn btn--primary setup-el-btn pL60 pR60 mT20",attrs:{loading:_vm.saving},on:{click:_vm.changePassword}},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.change_pw"))+" ")])],1)])])],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),ChangePassword=__webpack_require__(236043),validation=__webpack_require__(990260),api=__webpack_require__(32284),ChangePasswordvue_type_script_lang_js={extends:ChangePassword["default"],methods:{changePassword:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _this$changepassword,oldpassword,newpassword,confirmpassword,_yield$API$post,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this$changepassword=_this.changepassword,oldpassword=_this$changepassword.oldpassword,newpassword=_this$changepassword.newpassword,confirmpassword=_this$changepassword.confirmpassword,_this.$refs["ruleForm"].validate((function(valid){if(!valid)return!1})),!(0,validation/* isEmpty */.xb)(oldpassword)){_context.next=5;break}return _this.$message.error("Please enter your current password"),_context.abrupt("return");case 5:if(!(0,validation/* isEmpty */.xb)(newpassword)){_context.next=8;break}return _this.$message.error("Please enter new password"),_context.abrupt("return");case 8:if(!(0,validation/* isEmpty */.xb)(confirmpassword)){_context.next=11;break}return _this.$message.error("Please enter confirm password"),_context.abrupt("return");case 11:if(newpassword===confirmpassword){_context.next=14;break}return _this.$message.error("New password does not match"),_context.abrupt("return");case 14:return _this.saving=!0,_context.next=17,api/* API */.bl.post("/integ/changepassword",{password:oldpassword,rawPassword:newpassword,emailaddress:_this.$account.user.email});case 17:_yield$API$post=_context.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?(_this.$message.error(error.message||"Error Occured"),_this.reset()):data.jsonresponse&&"failure"===data.jsonresponse.status&&data.jsonresponse.messages?_this.$message.error(data.jsonresponse.messages):(_this.$message.success("Password updated sucessfully"),_this.reset()),_this.saving=!1;case 22:case"end":return _context.stop()}}),_callee)})))()}}},profile_ChangePasswordvue_type_script_lang_js=ChangePasswordvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(profile_ChangePasswordvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,profile_ChangePassword=component.exports},
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/236043:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ChangePassword}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/personalsettings/ChangePassword.vue?vue&type=template&id=2326e7b1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-form-container change-password-container"},[_c("el-form",{ref:"ruleForm",attrs:{model:_vm.changepassword,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"setup-modal-title"},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.change_pw"))+" ")]),_c("div",{staticClass:"row mT20"},[_c("div",{staticClass:"col-lg-3 col-md-3"},[_c("div",{staticClass:"form-input"},[_c("el-form-item",{attrs:{prop:"oldpassword"}},[_c("p",{staticClass:"fc-input-label-txt m0"},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.current_pw"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password","show-password":"",autocomplete:"new-password"},model:{value:_vm.changepassword.oldpassword,callback:function($$v){_vm.$set(_vm.changepassword,"oldpassword",$$v)},expression:"changepassword.oldpassword"}})],1)],1),_c("div",{staticClass:"form-input"},[_c("el-form-item",{attrs:{prop:"newpassword"}},[_c("p",{staticClass:"fc-input-label-txt m0"},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.new_pw"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password",autocomplete:"new-password","show-password":""},model:{value:_vm.changepassword.newpassword,callback:function($$v){_vm.$set(_vm.changepassword,"newpassword",$$v)},expression:"changepassword.newpassword"}})],1)],1),_c("div",{staticClass:"form-input"},[_c("el-form-item",{attrs:{prop:"confirmpassword"}},[_c("p",{staticClass:"fc-input-label-txt m0"},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.confirm_pw"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.changepassword.enter_your_pw"),type:"password","show-password":""},model:{value:_vm.changepassword.confirmpassword,callback:function($$v){_vm.$set(_vm.changepassword,"confirmpassword",$$v)},expression:"changepassword.confirmpassword"}})],1)],1)]),_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("el-button",{staticClass:"btn btn--primary setup-el-btn fwBold mT20",attrs:{loading:_vm.saving},on:{click:_vm.changePassword}},[_vm._v(" "+_vm._s(_vm.$t("setup.changepassword.change_pw"))+" ")])],1)])])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=__webpack_require__(990260),api=__webpack_require__(32284),ChangePasswordvue_type_script_lang_js={title:function(){return"Change Password"},data:function(){return{changepassword:{oldpassword:"",newpassword:"",confirmpassword:""},rules:{oldpassword:[{required:!0,message:"Old password is required",trigger:"blur"}],newpassword:[{required:!0,message:"New password is required",trigger:"blur"}],confirmpassword:[{required:!0,message:"Confirm your new password",trigger:"blur"}]},saving:!1}},methods:{reset:function(){this.changepassword.oldpassword=null,this.changepassword.newpassword=null,this.changepassword.confirmpassword=null},changePassword:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _this$changepassword,oldpassword,newpassword,confirmpassword,_yield$API$post,data,error,jsonResponse,message,status;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this$changepassword=_this.changepassword,oldpassword=_this$changepassword.oldpassword,newpassword=_this$changepassword.newpassword,confirmpassword=_this$changepassword.confirmpassword,_this.$refs["ruleForm"].validate((function(valid){if(!valid)return!1})),!(0,validation/* isEmpty */.xb)(oldpassword)){_context.next=5;break}return _this.$message.error("Please enter your current password"),_context.abrupt("return");case 5:if(!(0,validation/* isEmpty */.xb)(newpassword)){_context.next=8;break}return _this.$message.error("Please enter new password"),_context.abrupt("return");case 8:if(!(0,validation/* isEmpty */.xb)(confirmpassword)){_context.next=11;break}return _this.$message.error("Please enter confirm password"),_context.abrupt("return");case 11:if(newpassword===confirmpassword){_context.next=14;break}return _this.$message.error("New password does not match"),_context.abrupt("return");case 14:return _this.saving=!0,_context.next=17,api/* API */.bl.post("/integ/changepassword",{password:oldpassword,rawPassword:newpassword,emailaddress:_this.$account.user.email});case 17:_yield$API$post=_context.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?_this.$message.error(error.message||"Error Occured"):(jsonResponse=data.jsonresponse,message=jsonResponse?jsonResponse.messages:"",status=jsonResponse?jsonResponse.status:"","success"===status?(_this.$message.success(message||"Password changed successfully."),_this.reset()):_this.$message.error(message||"Error Occured")),_this.saving=!1;case 22:case"end":return _context.stop()}}),_callee)})))()}}},personalsettings_ChangePasswordvue_type_script_lang_js=ChangePasswordvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(personalsettings_ChangePasswordvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ChangePassword=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/88578.js.map