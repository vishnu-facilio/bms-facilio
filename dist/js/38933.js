"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[38933],{
/***/338933:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkOrderInventoryPlansCost}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/plans/WorkOrderInventoryPlansCost.vue?vue&type=template&id=2ae61b6a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"fc-black3-16 p20 pB10 cost-heading-border"},[_vm._v(" "+_vm._s(_vm.$t("common.tabs.cost"))+" ")]),_vm.isLoading?_c("div",[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_c("table",[_c("tbody",[_c("tr",[_c("td",{staticClass:"pL20"},[_vm._v(_vm._s(_vm.$t("common.header.labours")))]),_c("td",{staticClass:"text-right pT15 pB15 pR20 cost-color"},[_vm._v(" "+_vm._s(_vm.$currency+" "+_vm.labourCost)+" ")])]),_c("tr",[_c("td",{staticClass:"pL20"},[_vm._v(_vm._s(_vm.$t("common.header.items")))]),_c("td",{staticClass:"text-right pT15 pB15 pR20 cost-color"},[_vm._v(" "+_vm._s(_vm.$currency+" "+_vm.itemCost)+" ")])]),_c("tr",[_c("td",{staticClass:"pL20"},[_vm._v(_vm._s(_vm.$t("common.header.tools")))]),_c("td",{staticClass:"text-right pT15 pB15 pR20 cost-color"},[_vm._v(" "+_vm._s(_vm.$currency+" "+_vm.toolCost)+" ")])]),_c("tr",[_c("td",{staticClass:"pL20"},[_vm._v(_vm._s(_vm.$t("common.products.services")))]),_c("td",{staticClass:"text-right pT15 pB15 pR20 cost-color"},[_vm._v(" "+_vm._s(_vm.$currency+" "+_vm.serviceCost)+" ")])])])]),_vm.isLoading?_vm._e():_c("div",{staticClass:"text-right mT40 mR20"},[_c("div",{staticClass:"cost-color pB10"},[_vm._v(" "+_vm._s(_vm.$t("common._common.grand_total"))+" ")]),_c("div",{staticClass:"fw-550"},[_vm._v(_vm._s(_vm.$currency+" "+_vm.grossAmount))])])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),eventBus=__webpack_require__(398011),api=__webpack_require__(32284),WorkOrderInventoryPlansCostvue_type_script_lang_js={props:["details"],data:function(){return{itemsSelected:!0,toolsSelected:!1,servicesSelected:!1,itemCost:null,toolCost:null,serviceCost:null,grossAmount:null,isLoading:!1}},computed:{selectItemsClass:function(){return this.itemsSelected?"row_select":""},selectToolsClass:function(){return this.toolsSelected?"row_select":""},selectServicesClass:function(){return this.servicesSelected?"row_select":""},selectLaboursClass:function(){return this.laboursSelected?"row_select":""}},created:function(){var _this=this;this.setPlansCost(),eventBus/* eventBus */.Y.$on("loadCost",(function(){_this.setPlansCost()}))},methods:{setPlansCost:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var workOrderId,url,queryParam,_yield$API$get,data,error,message,_ref,plannedToolsCost,plannedItemsCost,plannedServicesCost,plannedLabourCost,itemCost,toolCost,serviceCost,labourCost;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this2.isLoading=!0,workOrderId=_this2.$getProperty(_this2.details,"id"),url="/v3/workOrderPlansCost/cost",queryParam={workOrderId:workOrderId},_context.next=6,api/* API */.bl.get(url,queryParam);case 6:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?(message=error.message,_this2.$message.error(message||_this2.$t("common._common.error_cost"))):(_ref=data||{},plannedToolsCost=_ref.plannedToolsCost,plannedItemsCost=_ref.plannedItemsCost,plannedServicesCost=_ref.plannedServicesCost,plannedLabourCost=_ref.plannedLabourCost,_this2.itemCost=plannedItemsCost,_this2.toolCost=plannedToolsCost,_this2.serviceCost=plannedServicesCost,_this2.labourCost=plannedLabourCost,itemCost=_this2.itemCost,toolCost=_this2.toolCost,serviceCost=_this2.serviceCost,labourCost=_this2.labourCost,_this2.grossAmount=itemCost+toolCost+serviceCost+labourCost,_this2.isLoading=!1);case 10:case"end":return _context.stop()}}),_callee)})))()}}},plans_WorkOrderInventoryPlansCostvue_type_script_lang_js=WorkOrderInventoryPlansCostvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(plans_WorkOrderInventoryPlansCostvue_type_script_lang_js,render,staticRenderFns,!1,null,"2ae61b6a",null)
/* harmony default export */,WorkOrderInventoryPlansCost=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/38933.js.map