"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[9342],{
/***/776980:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return HelpAgentOverview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/AgentHelperDocs/HelpAgentOverview.vue?vue&type=template&id=00c3c616
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog25 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" Agent "+_vm._s(_vm.$t("agent.agent.agents"))+" ")])])]),_c("div",{staticClass:"new-body-modal pT0 pL0 pR0 mT0"},[_c("el-collapse",{staticClass:"fc-agent-collapse fc-pushing-data-collapse",attrs:{accordion:""},model:{value:_vm.activeNames,callback:function($$v){_vm.activeNames=$$v},expression:"activeNames"}},[_c("el-collapse-item",{attrs:{title:"Overview",name:"1"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc1"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Agents",name:"2"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc2"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Controllers",name:"3"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc3"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Points",name:"4"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc4"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Commissioning",name:"5"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc5"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Alarms",name:"6"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc6"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Alarm Notifications",name:"7"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc7"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Metrics",name:"8"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc8"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Command Log",name:"9"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc9"))+" ")])]),_c("el-collapse-item",{attrs:{title:"Agent Data",name:"10"}},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent_overview_helper.agent_overview_desc10"))+" ")])])],1)],1)])],1)},staticRenderFns=[],HelpAgentOverviewvue_type_script_lang_js={props:["visibility"],methods:{closeDialog:function(){this.$emit("update:visibility",!1)}}},AgentHelperDocs_HelpAgentOverviewvue_type_script_lang_js=HelpAgentOverviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(AgentHelperDocs_HelpAgentOverviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,HelpAgentOverview=component.exports},
/***/814417:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Overview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/Overview.vue?vue&type=template&id=fda4fe32
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"width100"},[_vm.childRoute?_c("router-view"):_c("div",{staticClass:"page-width-cal fc-agent-overview-page"},[_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white m10 fc-agent-empty-state clearboth"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm._e(),_vm.$validation.isEmpty(_vm.agentoverview)&&!_vm.loading?_c("div",{staticClass:"height100vh fc-empty-white flex-middle justify-content-center flex-direction-column fc-agent-empty-width"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/approval",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" No agent Available ")]),_c("el-button",{staticClass:"fc-agent-add-btn mT20",on:{click:_vm.agentForm}},[_c("i",{staticClass:"el-icon-plus pR5 fwBold"}),_vm._v(" "+_vm._s(_vm.$t("agent.agent.add_agent"))+" ")])],1):_vm._e(),_vm.$validation.isEmpty(_vm.agentoverview)||_vm.loading?_vm._e():_c("div",[_c("el-header",{staticClass:"agent-overview-header",attrs:{height:"80"}},[_c("div",{staticClass:"flex-middle width100 justify-content-space"},[_c("div",{},[_c("div",{staticClass:"fc-black4-26 flex-middle"},[_c("div",[_c("b",[_vm._v(_vm._s(_vm.$account.org.name))])])])]),_c("div",{staticClass:"fc-red-new bold pL10 fc-text-blink"},[_vm.total?_c("div",[_c("span",{staticClass:"f25"},[_vm._v(_vm._s(_vm.total))]),_vm._v(" "+_vm._s(_vm.$t("agent.agent.agent_offline"))+" ")]):_vm._e()]),_c("div",{staticClass:"fR width20 text-right"},[_c("el-button",{staticClass:"fc-agent-add-btn",on:{click:_vm.agentForm}},[_c("i",{staticClass:"el-icon-plus pR5 fwBold"}),_vm._v(" "+_vm._s(_vm.$t("agent.agent.add_agent"))+" ")])],1)])]),_c("div",{staticClass:"fc-agent-overview-container clearboth"},[_c("div",{staticClass:"fc-agent-overview-card-con"},[_c("div",{staticClass:"fc-agent-overview-card fc-agent-card1"},[_c("router-link",{attrs:{to:{path:_vm.resolvePath("agents")}}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",[_c("div",{staticClass:"fc-white-16"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.agents"))+" ")])]),_c("div",{},[_c("inline-svg",{attrs:{src:"svgs/agent/member-ico",iconClass:"icon text-center icon-xxllg"}})],1)]),_c("div",{staticClass:"flex-middle justify-content-space pT10"},[_c("div",{staticClass:"fc-agent-white-txt2 flex-align-baseline",class:_vm.fontsize(_vm.agentoverview.agent.active+_vm.agentoverview.agent.total)},[_c("div",{staticClass:"pR5"},[_vm._v(" "+_vm._s(_vm.agentoverview&&_vm.agentoverview.agent?_vm.agentoverview.agent.active:0)+" ")]),_c("div",[_vm._v(" / "+_vm._s(_vm.agentoverview&&_vm.agentoverview.agent?_vm.agentoverview.agent.total:0)+" "),_c("span",{staticClass:"f12 pL5 fwBold"},[_vm._v(_vm._s(_vm.$t("agent.agent.online")))])])])])])],1),_c("div",{staticClass:"fc-agent-overview-card fc-agent-card2"},[_c("router-link",{attrs:{to:_vm.resolvePath("controller")}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"fc-white-16"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.controllers"))+" ")]),_c("div",{},[_c("inline-svg",{attrs:{src:"svgs/agent/controller-ico",iconClass:"icon text-center icon-xxllg"}})],1)]),_c("div",{staticClass:"flex-middle justify-content-space pT10"},[_c("div",{staticClass:"fc-agent-white-txt2 flex-align-baseline",class:_vm.fontsize(_vm.agentoverview.controller.configured+"")},[_vm._v(" "+_vm._s(_vm.agentoverview&&_vm.agentoverview.controller?_vm.agentoverview.controller.configured:0)+" ")])])])],1),_c("div",{staticClass:"fc-agent-overview-card fc-agent-card3"},[_c("router-link",{attrs:{to:{path:_vm.resolvePath("points")}}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"fc-white-16 pT10"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.points"))+" ")]),_c("div",{},[_c("inline-svg",{attrs:{src:"svgs/agent/points-ico",iconClass:"icon text-center icon-xxllg"}})],1)]),_c("div",{staticClass:"flex-middle justify-content-space pT10"},[_c("div",{staticClass:"fc-agent-white-txt2 flex-align-baseline",class:_vm.fontsize(_vm.agentoverview.points.configured+_vm.agentoverview.points.total)},[_vm._v(" "+_vm._s(_vm.agentoverview&&_vm.agentoverview.points?_vm.agentoverview.points.configured:0)+" / "+_vm._s(_vm.agentoverview&&_vm.agentoverview.points?_vm.agentoverview.points.total:0)+" "),_c("span",{staticClass:"f12 pL5 fwBold"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.configured")))])])])])],1),_c("div",{staticClass:"fc-agent-overview-card fc-agent-card4"},[_c("router-link",{attrs:{to:{path:_vm.resolvePath("commissioning")}}},[_c("div",{staticClass:"flex-middle justify-content-space"},[_c("div",{staticClass:"fc-white-16 pT10"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.commissioned"))+" ")]),_c("div",{},[_c("inline-svg",{attrs:{src:"svgs/agent/commission",iconClass:"icon text-center icon-xxllg"}})],1)]),_c("div",{staticClass:"flex-middle justify-content-space pT10"},[_c("div",{staticClass:"fc-agent-white-txt2 flex-align-baseline",class:_vm.fontsize(_vm.agentoverview.points.commissioned+"")},[_vm._v(" "+_vm._s(_vm.agentoverview&&_vm.agentoverview.points?_vm.agentoverview.points.commissioned:0)+" "),_c("span",{staticClass:"f12 pL5 fwBold"},[_vm._v(_vm._s(_vm.$t("agent.agent.points")))])])])])],1)]),_c("div",{staticClass:"fc-agent-graph-con height550"},[_vm.chartWidget.widgetParams.chartParams?_c("common-widget-chart",{key:"overview",attrs:{moduleName:"agentMetrics",isWidget:"true",widget:this.chartWidget,showPeriodSelect:"true",type:"area"}},[_c("template",{slot:"title"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.agent_message")))])],2):_vm._e()],1)])],1),_c("div",{staticClass:"help-icon-position pointer",on:{click:function($event){return _vm.helpDialogOpen()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/question",iconClass:"icon icon-xxlll"}})],1),_c("div",{staticClass:"help-icon-position pointer"}),_vm.helpDialogVisible?_c("agent-help",{attrs:{visibility:_vm.helpDialogVisible},on:{"update:visibility":function($event){_vm.helpDialogVisible=$event}}}):_vm._e(),_c("div",[_vm.showDialog?_c("NewAgent",{attrs:{isNew:_vm.isNew,model:_vm.agent,visibility:_vm.showDialog},on:{"update:visibility":function($event){_vm.showDialog=$event},saved:_vm.loadOverview}}):_vm._e()],1)],1)],1)},staticRenderFns=[],AgentAddForm=(__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(298755)),CommonWidgetChart=__webpack_require__(190491),HelpAgentOverview=__webpack_require__(776980),router=__webpack_require__(329435),Overviewvue_type_script_lang_js={title:function(){return"Agents Overview"},props:["childRoute"],data:function(){return{agentoverview:[],loading:!1,showDialog:!1,isNew:!0,agent:null,total:null,helpDialogVisible:!1,integrations:null,chartWidget:{widgetParams:{chartParams:null}}}},components:{NewAgent:AgentAddForm/* default */.Z,CommonWidgetChart:CommonWidgetChart/* default */.Z,AgentHelp:HelpAgentOverview/* default */.Z},mounted:function(){this.loadOverview()},methods:{resolvePath:function(configType){var appName=(0,router/* getApp */.wx)().linkName;if("integrations"===configType){var _ref=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:"overview"}})||{},path=_ref.path;return"/".concat(appName,"/").concat(path,"/").concat(configType)}if("controller"!==configType){var _ref3=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:configType}})||{},_path=_ref3.path;return"commissioning"===configType||"agents"===configType?"/".concat(appName,"/").concat(_path):"/".concat(appName,"/").concat(_path,"?agentPointsTab=configured")}var _ref2=(0,router/* findRouteForModule */.Jp)(configType,router/* pageTypes */.As.LIST)||{},name=_ref2.name;if(name)return{name:name,params:{viewname:"all"}}},helpDialogOpen:function(){this.helpDialogVisible=!0},loadOverview:function(){var _this=this;this.loading=!0,this.$http.get("/v2/agent/overview").then((function(response){_this.loading=!1,response.data.result.data&&(_this.integrations=response.data.result.data.integrations,_this.total=response.data.result.data.agent.total-response.data.result.data.agent.active),_this.agentoverview=response.data.result.data?response.data.result.data:[],response.data.result.data.chartParams&&(_this.chartWidget.widgetParams.chartParams=_this.agentoverview.chartParams)})).catch((function(){_this.loading=!1}))},agentForm:function(){this.showDialog=!0},fontsize:function(value){return value?(value+="",value.length<3?"f36":value.length<6?"f23":value.length<8?"f16":value.length<10?"f12":value.length<10?"f11":"f10"):"f36"}}},agent_Overviewvue_type_script_lang_js=Overviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(agent_Overviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Overview=component.exports},
/***/298755:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AgentAddForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/agent/components/AgentAddForm.vue?vue&type=template&id=004e12f4&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog connection-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",[_vm.loading?_vm._e():_c("el-form",{ref:"agentForm",staticClass:"fc-form",attrs:{model:_vm.newAgent,rules:_vm.rules,"label-position":"top","label-width":"120px"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?"New":"Edit")+" Agent ")])])]),_c("div",{staticClass:"new-body-modal"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical pT0"},[_vm._v(" Agent Type ")]),_c("el-form-item",{attrs:{prop:"type"}},[_c("el-select",{staticClass:"width100",attrs:{disabled:!_vm.isNew},model:{value:_vm.newAgent.agentType,callback:function($$v){_vm.$set(_vm.newAgent,"agentType",$$v)},expression:"newAgent.agentType"}},_vm._l(_vm.agentTypes,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1)],1)],1),2===_vm.newAgent.agentType?_c("div",{staticClass:"setup-input-block pT20"},[_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" Host Id ")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"fc-input-txt width100",attrs:{disabled:!_vm.isNew,placeholder:"Enter host id"},model:{value:_vm.newAgent.agent,callback:function($$v){_vm.$set(_vm.newAgent,"agent",$$v)},expression:"newAgent.agent"}})],1)],1)],1)],1):_vm._e(),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Name ")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"fc-input-txt width100",attrs:{disabled:_vm.$validation.isEmpty(_vm.newAgent.agentType),placeholder:"Enter Name"},model:{value:_vm.newAgent.displayName,callback:function($$v){_vm.$set(_vm.newAgent,"displayName",$$v)},expression:"newAgent.displayName"}})],1)],1)])],1),_c("div",[_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_vm.showInterval?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" Interval ")]),_c("el-form-item",{attrs:{prop:"interval"}},[_c("el-select",{staticClass:"fc-input-select width100",attrs:{disabled:_vm.$validation.isEmpty(_vm.newAgent.agentType),placeholder:"Enter Interval"},model:{value:_vm.newAgent.interval,callback:function($$v){_vm.$set(_vm.newAgent,"interval",$$v)},expression:"newAgent.interval"}},_vm._l(_vm.intervals,(function(interval){return _c("el-option",{key:interval.key,attrs:{label:interval.label,value:interval.key}})})),1)],1)],1):_vm._e(),_c("el-col",{attrs:{span:_vm.showInterval?12:24}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v("Site")]),_c("el-form-item",{attrs:{prop:"siteId"}},[_c("FLookupFieldWrapper",{attrs:{field:{lookupModule:{name:"site"},multiple:!1},disabled:_vm.$validation.isEmpty(_vm.newAgent.agentType)||_vm.disableSiteId,hideLookupIcon:!1},model:{value:_vm.newAgent.siteId,callback:function($$v){_vm.$set(_vm.newAgent,"siteId",$$v)},expression:"newAgent.siteId"}})],1)],1)],1),_vm.$validation.isEmpty(_vm.newAgent.agentType)||4!==_vm.newAgent.agentType?_vm._e():_c("el-col",{staticClass:"width100 pT10",attrs:{span:24}},[_c("el-form-item",{staticClass:"flex",attrs:{label:"Allow Auto Mapping"}},[_c("el-switch",{staticClass:"mL10",attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},model:{value:_vm.newAgent.allowAutoMapping,callback:function($$v){_vm.$set(_vm.newAgent,"allowAutoMapping",$$v)},expression:"newAgent.allowAutoMapping"}})],1)],1),_vm.newAgent.allowAutoMapping?_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v("Parent Mapping Field")]),_c("el-form-item",{attrs:{prop:"autoMappingParentFieldId"}},[_c("el-select",{staticClass:"width100",attrs:{filterable:"",clearable:""},model:{value:_vm.newAgent.autoMappingParentFieldId,callback:function($$v){_vm.$set(_vm.newAgent,"autoMappingParentFieldId",$$v)},expression:"newAgent.autoMappingParentFieldId"}},_vm._l(_vm.fields,(function(item){return _c("el-option",{key:item.key,attrs:{label:item.label,value:item.key}})})),1)],1)],1):_vm._e(),_vm.isMqttType?_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("el-col",[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.connection"))+" ")]),_c("div",{staticClass:"d-flex align-center width100"},[_c("el-select",{staticClass:"fc-input-select connection-select width100",attrs:{disabled:!_vm.isNew||_vm.$validation.isEmpty(_vm.newAgent.agentType)},model:{value:_vm.newAgent.messageSourceId,callback:function($$v){_vm.$set(_vm.newAgent,"messageSourceId",$$v)},expression:"newAgent.messageSourceId"}},_vm._l(_vm.sources,(function(source){return _c("el-option",{key:source.id,attrs:{label:source.name,value:source.id}})})),1),_vm.isNew?_c("div",{staticClass:"d-flex align-center connection-icon",on:{click:function($event){return _vm.showConnectionFORM()}}},[_c("inline-svg",{attrs:{src:"add-pink",iconClass:"icon icon-sm-md fc-lookup-icon mL15 mR15 mB10 mT9"}})],1):_vm._e()],1)])],1):_vm._e(),_vm.isMqttType?_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("el-col",[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.subscribeTopic"))+" ")]),_c("el-form-item",{attrs:{prop:"SubscribeTopic"}},[_c("el-input",{staticClass:"fc-input-txt width100",attrs:{disabled:!_vm.isNew||_vm.$validation.isEmpty(_vm.newAgent.agentType),placeholder:"Enter Subscribe Topic"},model:{value:_vm.newAgent.subscribeTopics,callback:function($$v){_vm.$set(_vm.newAgent,"subscribeTopics",$$v)},expression:"newAgent.subscribeTopics"}})],1)],1)],1):_vm._e()],1),6===_vm.newAgent.agentType&&_vm.isNew?_c("div",{staticClass:"rdm-sec"},[_c("div",{staticClass:"setup-input-block"},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("URL")]),_c("el-form-item",{attrs:{prop:"controllerUrl"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the URL"},model:{value:_vm.newAgent.url,callback:function($$v){_vm.$set(_vm.newAgent,"url",$$v)},expression:"newAgent.url"}})],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("User Name")]),_c("el-form-item",{attrs:{prop:"userName"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the Username"},model:{value:_vm.newAgent.userName,callback:function($$v){_vm.$set(_vm.newAgent,"userName",$$v)},expression:"newAgent.userName"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pT10"},[_vm._v("Password")]),_c("el-form-item",{attrs:{prop:"password"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the password"},model:{value:_vm.newAgent.password,callback:function($$v){_vm.$set(_vm.newAgent,"password",$$v)},expression:"newAgent.password"}})],1)],1)],1)],1):_vm._e(),9===_vm.newAgent.agentType&&_vm.isNew?_c("div",{staticClass:"e2-sec"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"e2AgentIpAddress",required:"",label:"IP Address"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the IP Adress"},model:{value:_vm.newAgent.e2AgentIpAddress,callback:function($$v){_vm.$set(_vm.newAgent,"e2AgentIpAddress",$$v)},expression:"newAgent.e2AgentIpAddress"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"e2AgentPort",required:"",label:"Port"}},[_c("el-input",{staticClass:"fc-input-txt fc-desc-input",attrs:{type:"text",placeholder:"Enter the Port"},model:{value:_vm.newAgent.e2AgentPort,callback:function($$v){_vm.$set(_vm.newAgent,"e2AgentPort",$$v)},expression:"newAgent.e2AgentPort"}})],1)],1)],1)],1):_vm._e(),_c("div",{staticClass:"setup-input-block"})],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm("agentForm")}}},[_vm._v(_vm._s(_vm.saving?"Saving...":"SAVE"))])],1)])],1),_vm.showConnectionForm?_c("ConnectionForm",{attrs:{onClose:function(){return _vm.showConnectionForm=!1}},on:{save:_vm.fetchSources}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),vuex_esm=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(976801),__webpack_require__(538077),__webpack_require__(434284),__webpack_require__(420629)),api=__webpack_require__(32284),ConnectionFormvue_type_template_id_ae8cf86e_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,"append-to-body":!0,"custom-class":"setup-dialog40 connection-form-dialog","before-close":_vm.onClose,title:"Add Connection"}},[_c("el-form",{ref:"connectionForm",staticClass:"fc-form",attrs:{model:_vm.messageSource,rules:_vm.rules,"label-position":"top","label-width":"120px"}},[_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Enter Name"},model:{value:_vm.messageSource.source.name,callback:function($$v){_vm.$set(_vm.messageSource.source,"name",$$v)},expression:"messageSource.source.name"}})],1)],1),_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.host"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Enter Host Name"},model:{value:_vm.messageSource.configs.endPoint,callback:function($$v){_vm.$set(_vm.messageSource.configs,"endPoint",$$v)},expression:"messageSource.configs.endPoint"}})],1)],1),_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.authMode"))+" ")]),_c("el-form-item",[_c("el-select",{staticClass:"fc-input-full-border-select2 width50",attrs:{placeholder:"Enter Authentication Mode"},model:{value:_vm.messageSource.configs.authModeInt,callback:function($$v){_vm.$set(_vm.messageSource.configs,"authModeInt",$$v)},expression:"messageSource.configs.authModeInt"}},[_c("el-option",{attrs:{label:"Basic",value:1}}),_c("el-option",{attrs:{label:"Client Certificate",value:2}})],1)],1)],1),1===_vm.messageSource.configs.authModeInt?[_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.userName"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2 width50",attrs:{placeholder:"Enter Username"},model:{value:_vm.messageSource.configs.userName,callback:function($$v){_vm.$set(_vm.messageSource.configs,"userName",$$v)},expression:"messageSource.configs.userName"}})],1),_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.password"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2 width50",attrs:{placeholder:"Enter Password"},model:{value:_vm.messageSource.configs.password,callback:function($$v){_vm.$set(_vm.messageSource.configs,"password",$$v)},expression:"messageSource.configs.password"}})],1)]:_vm._e(),2===_vm.messageSource.configs.authModeInt?[_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.certificate"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Enter Client Certificate File",type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:_vm.messageSource.configs.certificate,callback:function($$v){_vm.$set(_vm.messageSource.configs,"certificate",$$v)},expression:"messageSource.configs.certificate"}})],1),_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.rootCa"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Enter Client CA File",type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:_vm.messageSource.configs.rootCa,callback:function($$v){_vm.$set(_vm.messageSource.configs,"rootCa",$$v)},expression:"messageSource.configs.rootCa"}})],1),_c("el-row",{staticClass:"mR20",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt fc-input-space-vertical"},[_vm._v(" "+_vm._s(_vm.$t("agent.agent.privateKey"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Enter Client Key File",type:"textarea",autosize:{minRows:3,maxRows:6}},model:{value:_vm.messageSource.configs.privateKey,callback:function($$v){_vm.$set(_vm.messageSource.configs,"privateKey",$$v)},expression:"messageSource.configs.privateKey"}})],1)]:_vm._e()],2),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:_vm.submitForm}},[_vm._v(_vm._s(_vm.saving?"Saving...":"SAVE"))])],1)],1)},ConnectionFormvue_type_template_id_ae8cf86e_staticRenderFns=[],ConnectionFormvue_type_script_lang_js={name:"ConnectionForm",props:["onClose"],data:function(){return{messageSource:{source:{name:null,type:"mqtt"},configs:{endPoint:null,port:8083,authModeInt:null,userName:null,password:null,certificate:null,rootCa:null,privateKey:null}},id:null,saving:!1}},methods:{closeDialog:function(){this.onClose()},submitForm:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _ref,messageSource,_ref2,configs,msgsrc,json,url,_yield$API$post,data,error,_ref3,id;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _ref=_this||{},messageSource=_ref.messageSource,_ref2=messageSource||{},configs=_ref2.configs,configs=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},configs),{},{port:parseInt(configs.port),authModeInt:parseInt(configs.authModeInt)}),messageSource=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},messageSource),{},{configs:configs}),msgsrc={messageSource:messageSource},json={data:msgsrc},url="v3/agent/addConnection",_context.next=9,api/* API */.bl.post(url,json);case 9:_yield$API$post=_context.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?_this.$message.error(error.message||"Error occured"):(_this.$message.success("Connection created"),_this.onClose(),_ref3=data||{},id=_ref3.id,_this.$emit("save",id));case 13:case"end":return _context.stop()}}),_callee)})))()}}},components_ConnectionFormvue_type_script_lang_js=ConnectionFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ConnectionFormvue_type_script_lang_js,ConnectionFormvue_type_template_id_ae8cf86e_render,ConnectionFormvue_type_template_id_ae8cf86e_staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectionForm=component.exports,validation=__webpack_require__(990260),FLookupFieldWrapper=__webpack_require__(201117),AgentAddFormvue_type_script_lang_js={props:["visibility","isNew","model"],components:{ConnectionForm:ConnectionForm,FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},data:function(){return{saving:!1,sources:null,fields:[],loading:!1,showConnectionForm:!1,newAgent:{id:0,agent:"",siteId:null,autoMappingParentFieldId:null,allowAutoMapping:!1,type:null,interval:null,writable:!0,state:0,displayName:"",agentType:null,messageSourceId:null,subscribeTopics:null,url:null,userName:null,password:null,e2AgentIpAddress:null,e2AgentPort:null},rules:{agent:[{required:!0,message:"Please enter a name",trigger:"blur"}],agentType:[{required:this.isNew,message:"Please enter a type",trigger:"blur"}],siteId:[{required:!0,message:"Site is mandatory",trigger:"blur"}]},buildings:[],agentServiceTypes:[6,7,8,9],disableSiteId:null}},created:function(){this.$store.dispatch("loadSite")},mounted:function(){var _this=this;if(this.isNew)this.newAgent.interval=15;else{this.fetchAgentDetails();var nullableFields=["siteId","interval","agentType"];nullableFields.forEach((function(fieldName){-1===_this.newAgent[fieldName]&&(_this.newAgent[fieldName]=null)}))}},watch:{isMqttType:function(val){val&&this.fetchSources()},isAllowAutoMapping:function(val){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!val){_context.next=5;break}return _context.next=3,_this2.getAssetFields();case 3:_context.next=7;break;case 5:_this2.newAgent.autoMappingParentFieldId=null,_this2.fields=[];case 7:case"end":return _context.stop()}}),_callee)})))()}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({sites:function(state){return state.site}})),(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),{},{agentTypes:function(){var types=this.$constants.AgentTypes;return this.$helpers.isLicenseEnabled("CLOUD_AGENT_SERVICE")||this.agentServiceTypes.forEach((function(type){return delete types[type]})),types},isAllowAutoMapping:function(){var _ref=this||{},newAgent=_ref.newAgent,_ref2=newAgent||{},allowAutoMapping=_ref2.allowAutoMapping;return allowAutoMapping},isMqttType:function(){var _ref3=this||{},newAgent=_ref3.newAgent,_ref4=newAgent||{},agentType=_ref4.agentType;return 8==agentType},intervals:function(){var mins=[1,2,3,4,5,6,10,12,15,20,30];return mins=mins.map((function(min){return{key:min,label:min+" min"+(1===min?"":"s")}})),mins.push({key:60,label:"1 hour"}),([3,7].includes(this.newAgent.agentType)||this.model&&1440===this.model.interval)&&mins.push({key:1440,label:"1 day"}),mins},showInterval:function(){return!(0,validation/* isEmpty */.xb)(this.newAgent.agentType)&&(!this.isNew||1!==this.newAgent.agentType&&2!==this.newAgent.agentType)}}),methods:{getAssetFields:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var response,_ref5,data,_ref6,meta,_ref7,fields;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("/module/meta?moduleName=asset");case 2:response=_context2.sent,_ref5=response||{},data=_ref5.data,_ref6=data||{},meta=_ref6.meta,_ref7=meta||{},fields=_ref7.fields,_this3.fields=fields,_this3.fields=_this3.fields.filter((function(field){return(1===field.dataType||2===field.dataType||3===field.dataType)&&-1!=field.fieldId})).map((function(field){return{key:field.fieldId,label:field.displayName}}));case 8:case"end":return _context2.stop()}}),_callee2)})))()},fetchSources:function(id){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var url,_yield$API$get,data,error,_ref8,messageSources;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return url="/v3/agent/connections",_context3.next=3,api/* API */.bl.get(url);case 3:_yield$API$get=_context3.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this4.$message.error(error.message||"Error occured"):(_ref8=data||{},messageSources=_ref8.messageSources,_this4.sources=messageSources,(0,validation/* isEmpty */.xb)(id)||(_this4.newAgent.messageSourceId=id));case 7:case"end":return _context3.stop()}}),_callee3)})))()},fetchAgentDetails:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var model,id,url,_yield$API$get2,data,error,currentAgent,_ref9,_id,name,siteId,type,interval,writable,state,displayName,agentType,params,autoMappingParentFieldId,allowAutoMapping,_ref10,subscribeTopics,messageSourceId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this5.loading=!0,model=_this5.model,id=model.id,url="/v3/agent/"+id,_context4.next=6,api/* API */.bl.get(url);case 6:if(_yield$API$get2=_context4.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,!error){_context4.next=13;break}_this5.$message.error(error.message||"Error occured"),_context4.next=22;break;case 13:if(currentAgent=data.agent,_ref9=currentAgent||{},_id=_ref9.id,name=_ref9.name,siteId=_ref9.siteId,type=_ref9.type,interval=_ref9.interval,writable=_ref9.writable,state=_ref9.state,displayName=_ref9.displayName,agentType=_ref9.agentType,params=_ref9.params,autoMappingParentFieldId=_ref9.autoMappingParentFieldId,allowAutoMapping=_ref9.allowAutoMapping,_ref10=params||{},subscribeTopics=_ref10.subscribeTopics,messageSourceId=_ref10.messageSourceId,_this5.disableSiteId=!_this5.isNew&&0!=siteId,_this5.newAgent={id:_id,agent:name,siteId:siteId||null,type:type,interval:interval,writable:writable,state:state,displayName:displayName,agentType:agentType,messageSourceId:messageSourceId,subscribeTopics:subscribeTopics,autoMappingParentFieldId:autoMappingParentFieldId||null,allowAutoMapping:allowAutoMapping},_this5.isNew){_context4.next=22;break}if(!allowAutoMapping){_context4.next=22;break}return _context4.next=22,_this5.getAssetFields();case 22:_this5.loading=!1;case 23:case"end":return _context4.stop()}}),_callee4)})))()},showConnectionFORM:function(){this.showConnectionForm=!this.showConnectionForm},submitForm:function(agentForm){var _this6=this;this.$refs[agentForm].validate((function(valid){if(valid){_this6.saving=!0;var data={agentContext:_this6.$helpers.cloneObject(_this6.newAgent)};data.agentContext.interval||(data.agentContext.interval=15);var agentData={agentName:_this6.newAgent.agent,dataInterval:_this6.newAgent.interval,siteId:_this6.newAgent.siteId,agentType:_this6.newAgent.agentType,displayName:_this6.newAgent.displayName,orgUserId:_this6.getCurrentUser().ouid,messageSourceId:_this6.newAgent.messageSourceId,subscribeTopics:_this6.newAgent.subscribeTopics,userName:_this6.newAgent.userName,password:_this6.newAgent.password,url:_this6.newAgent.url,port:_this6.newAgent.e2AgentPort,ipAddress:_this6.newAgent.e2AgentIpAddress,allowAutoMapping:_this6.newAgent.allowAutoMapping};_this6.newAgent.allowAutoMapping&&(agentData.autoMappingParentFieldId=_this6.newAgent.autoMappingParentFieldId);var editAgent={agentId:_this6.newAgent.id,toUpdate:{interval:_this6.newAgent.interval,siteId:_this6.newAgent.siteId,writable:_this6.newAgent.writable,displayName:_this6.newAgent.displayName,autoMappingParentFieldId:_this6.newAgent.autoMappingParentFieldId,allowAutoMapping:_this6.newAgent.allowAutoMapping}};_this6.newAgent.allowAutoMapping||(editAgent.toUpdate.autoMappingParentFieldId=-99),_this6.isNew?_this6.$http.post("/v2/agent/create",agentData).then((function(response){_this6.onSubmit(response,"New Agent created.")})):_this6.$http.post("/v2/agent/edit",editAgent).then((function(response){_this6.onSubmit(response,"Agent Settings updated.")}))}}))},onSubmit:function(response,successMsg){500!==response.data.responseCode?(this.$message.success(successMsg),this.resetForm(),this.closeDialog(),this.$emit("saved"),this.saving=!1):(this.$message.error(response.data.result.exception),this.saving=!1)},resetForm:function(){this.$refs["agentForm"].resetFields()},closeDialog:function(){this.$emit("update:visibility",!1)},cancel:function(){this.$emit("canceled")}}},components_AgentAddFormvue_type_script_lang_js=AgentAddFormvue_type_script_lang_js,AgentAddForm_component=(0,componentNormalizer/* default */.Z)(components_AgentAddFormvue_type_script_lang_js,render,staticRenderFns,!1,null,"004e12f4",null)
/* harmony default export */,AgentAddForm=AgentAddForm_component.exports},
/***/190491:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CommonWidgetChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/performance/charts/CommonWidgetChart.vue?vue&type=template&id=76d6eca4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-direction-column"},[_c("div",{directives:[{name:"show",rawName:"v-show",value:!_vm.datePickerHide,expression:"datePickerHide ? false : true"}],staticClass:"border-bottom1px d-flex justify-content-space"},[_c("div",{staticClass:"f16 bold mT20 mB20 mL30 inline"},[_vm._t("title")],2),_c("div",{class:{mT15:_vm.isDateFixed,mT10:!_vm.isDateFixed}},[_c("new-date-picker",{staticClass:"filter-field date-filter-comp",attrs:{zone:_vm.$timezone,dateObj:_vm.dateObj,isDateFixed:_vm.isDateFixed},on:{date:_vm.changeDateFilter}})],1)]),_vm.$validation.isEmpty(_vm.moduleMeta)||!_vm.isChartPrepared||_vm.loading?_vm._e():_c("div",{staticClass:"widget-chart-container"},[_c("f-new-analytic-modular-report",{attrs:{serverConfig:_vm.serverConfig,module:_vm.moduleObj,defaultChartType:_vm.type||"spline",hideTabs:!0,hideHeader:!0,hidecharttypechanger:!0,chartType:_vm.type,isWidget:_vm.isWidget,showPeriodSelect:_vm.showPeriodSelect},on:{"update:serverConfig":function($event){_vm.serverConfig=$event},"update:server-config":function($event){_vm.serverConfig=$event},reportLoaded:_vm.onReportLoaded}})],1)])},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(186466),__webpack_require__(425728),__webpack_require__(506203),__webpack_require__(670560),__webpack_require__(990260)),NewDatePicker=__webpack_require__(900773),FNewAnalyticModularReport=__webpack_require__(247942),NewDateHelper=__webpack_require__(105534),CommonWidgetChartvue_type_script_lang_js={props:["details","layoutParams","resizeWidget","hideTitleSection","groupKey","activeTab","widget","moduleName","type","refresh","datePickerHide","isWidget","customizeChartOptions","showPeriodSelect","isDateFixed"],components:{NewDatePicker:NewDatePicker/* default */.Z,FNewAnalyticModularReport:FNewAnalyticModularReport/* default */.Z},data:function(){return{loading:!1,isChartPrepared:!1,moduleMeta:{},chartType:"line",serverConfig:{criteria:null,dateFilter:null,xField:null,yField:null},moduleObj:null,dateObj:NewDateHelper/* default */.Z.getDatePickerObject(44,null)}},created:function(){this.initializeReport(),this.getMeta().then(this.prepareReportData)},methods:{initializeReport:function(){var _this$widget$widgetPa=this.widget.widgetParams.chartParams,dateOperator=_this$widget$widgetPa.dateOperator,dateOperatorValue=_this$widget$widgetPa.dateOperatorValue;this.dateObj=NewDateHelper/* default */.Z.getDatePickerObject(dateOperator,dateOperatorValue)},getMeta:function(){var _this=this;this.loading=!0;var _ref=this||this.widget.widgetParams.chartParams,moduleName=_ref.moduleName;return this.$http.get("/module/meta?moduleName="+moduleName).then((function(response){_this.moduleMeta=response.data.meta,_this.moduleObj={moduleName:response.data.meta.name,moduleId:response.data.meta.module.moduleId,meta:{fieldMeta:{}}},_this.loading=!1}))},prepareReportData:function(){var _this2=this,customizeChartOptions=this.customizeChartOptions;if(!(0,validation/* isEmpty */.xb)(this.moduleMeta)){var _this$widget$widgetPa2=this.widget.widgetParams.chartParams,criteria=_this$widget$widgetPa2.criteria,chartType=_this$widget$widgetPa2.chartType,xField=_this$widget$widgetPa2.xField,yField=_this$widget$widgetPa2.yField,groupBy=_this$widget$widgetPa2.groupBy,isMultipleMetric=_this$widget$widgetPa2.isMultipleMetric,dateField=_this$widget$widgetPa2.dateField;criteria&&Object.values(criteria.conditions).forEach((function(condition){delete condition.operator}));var xFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===xField.fieldName})),groupByFieldObj=null,yFieldObj=null,dateFieldObj=null;dateField&&(dateFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===dateField.fieldName})));var newConfig={criteria:criteria,xField:{field_id:xFieldObj.fieldId,module_id:xFieldObj.moduleId,aggr:xField.aggr},dateFilter:(0,objectSpread2/* default */.Z)({},this.dateObj)};if(xFieldObj&&6===xFieldObj.dataType&&newConfig.dateFilter){var tempdateField={field_id:xFieldObj.fieldId,fieldName:xFieldObj.name,module_id:xFieldObj.moduleId,operator:newConfig.dateFilter.operatorId};49===newConfig.dateFilter.operatorId||50===newConfig.dateFilter.operatorId||51===newConfig.dateFilter.operatorId?tempdateField["date_value"]=Math.abs(newConfig.dateFilter.offset)+"":20===newConfig.dateFilter.operatorId?tempdateField["date_value"]=newConfig.dateFilter.value.join(","):tempdateField["date_value"]=newConfig.dateFilter.value[0]+"",newConfig.dateField=tempdateField,newConfig.isTime=!0}else if(dateFieldObj){var tempDateField={field_id:dateFieldObj.fieldId,fieldName:dateFieldObj.name,module_id:dateFieldObj.moduleId,operator:newConfig.dateFilter.operatorId};49===newConfig.dateFilter.operatorId||50===newConfig.dateFilter.operatorId||51===newConfig.dateFilter.operatorId?tempDateField["date_value"]=Math.abs(newConfig.dateFilter.offset)+"":20===newConfig.dateFilter.operatorId?tempDateField["date_value"]=newConfig.dateFilter.value.join(","):tempDateField["date_value"]=newConfig.dateFilter.value[0]+"",newConfig.dateField=tempDateField,newConfig.isTime=!0}else newConfig.dateField=null,newConfig.isTime=!1;if(isMultipleMetric){newConfig["yField"]=[];var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(yField);try{var _loop=function(){var yObj=_step.value;yObj?(yFieldObj=(_this2.moduleMeta.fields||{}).find((function(field){return field.name===yObj.fieldName})),newConfig.yField.push({field_id:yFieldObj.fieldId,module_id:yFieldObj.moduleId,aggr:yObj.aggr})):newConfig.yField.push(null)};for(_iterator.s();!(_step=_iterator.n()).done;)_loop()}catch(err){_iterator.e(err)}finally{_iterator.f()}}else yField?(yFieldObj=(this.moduleMeta.fields||{}).find((function(field){return field.name===yField.fieldName})),newConfig["yField"]=[{field_id:yFieldObj.fieldId,module_id:yFieldObj.moduleId,aggr:yField.aggr}]):newConfig["yField"]=null;groupBy.fieldName&&(groupByFieldObj="plannedvsunplanned"===groupBy.fieldName?{fieldId:"plannedvsunplanned",module_id:xFieldObj.moduleId}:(this.moduleMeta.fields||{}).find((function(field){return field.name===groupBy.fieldName})),newConfig["groupBy"]=[{field_id:groupByFieldObj.fieldId,module_id:groupByFieldObj.moduleId}]),this.serverConfig=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.serverConfig),newConfig),(0,validation/* isEmpty */.xb)(customizeChartOptions)||this.$set(this.serverConfig,"customizeChartOptions",customizeChartOptions),this.chartType=chartType,this.isChartPrepared=!0}},changeDateFilter:function(dateFilter){this.dateObj=dateFilter},onReportLoaded:function(report,result){this.$emit("reportLoaded",report,result)}},watch:{dateObj:function(){this.prepareReportData()},refresh:function(){this.prepareReportData()}}},charts_CommonWidgetChartvue_type_script_lang_js=CommonWidgetChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(charts_CommonWidgetChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommonWidgetChart=component.exports},
/***/23369:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FChartTitle}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newcharts/components/FChartTitle.vue?vue&type=template&id=1781dc98
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-new-chart-title"},[_vm.titeList&&_vm.titeList&&_vm.titeList.length&&!_vm.loading?_c("div",{staticClass:"flex-middle justify-center"},_vm._l(_vm.titeList,(function(data,index){return _c("div",{key:index,staticClass:"f-chart-mandv-title",style:_vm.getStyle(data)},[_vm._v(" "+_vm._s(data.title)+" ")])})),0):_vm._e()])},staticRenderFns=[],FChartTitlevue_type_script_lang_js={props:["chartContext","config"],data:function(){return{titeList:[],loading:!1}},mounted:function(){var self=this;this.loading=!0,setTimeout((function(){self.titeList=self.chartContext.regionsTitles,self.loading=!1}),1e3)},methods:{getStyle:function(data){return"width:"+data.diff+"px"}}},components_FChartTitlevue_type_script_lang_js=FChartTitlevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FChartTitlevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FChartTitle=component.exports},
/***/875963:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FNewChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newcharts/components/FNewChart.vue?vue&type=template&id=8078524e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 f-singlechart"},[_vm.hidecharttypechanger?_vm._e():_c("f-chart-type",{staticClass:"charttypechanger fc-new-chart-type-single top-minus-86",attrs:{options:_vm.options},on:{getOptions:_vm.getOptionsFromTypeChart}}),_vm.chartContext&&!1!==_vm.options.settings.chart?_c("div",{staticStyle:{"text-align":"center"}},[_c("div",{style:_vm.isWidget?"position: relative; top: 15px;":""},[_vm.showAlarms&&_vm.showAlarmTitle?_c("div",{staticClass:"fc-alarms-chart-title",style:"sensorrollupalarm"===_vm.moduleName?"color: #324056 !important;font-weight: bold;":""},[_vm._v(" Alarms ")]):_vm._e(),_c("div",{ref:"alarmsChartEle",staticClass:"fc-alarms-chart pdf-chart"})]),_vm.relatedAlarms?_c("div",[_vm._l(_vm.relatedAlarms,(function(relAlarm,idx){return[_c("div",{key:idx,style:_vm.isWidget?"position: relative; top: 15px;":""},[_c("div",{staticClass:"fc-alarms-chart-title",staticStyle:{"text-transform":"capitalize",color:"#324056 !important"}},[_vm._v(" "+_vm._s(relAlarm?relAlarm.alarmTitle:"")+" ")]),_c("div",{ref:"relatedAlarmsChartEle",refInFor:!0,staticClass:"fc-alarms-chart pdf-chart"})])]}))],2):_vm._e(),_vm.chartContext.options.legend.show&&"top"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,resultObj:_vm.resultObj,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,isScatterPlot:_vm.chartContext&&_vm.chartContext.scatterConfig},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.chartContext.options.regionConfig?_c("f-chart-title",{ref:"chartTitle",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,chartContext:_vm.chartContext},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.drilldownParams?_c("drilldown-breadcrumb",{attrs:{drilldownParams:_vm.drilldownParams},on:{crumbClick:function($event){return _vm.$emit("crumbClick",$event)}}}):_vm._e(),_c("div",{staticClass:"fc-newchart-container",class:{"scatter-full-opacity":_vm.c3.params&&_vm.c3.params.data&&_vm.c3.params.data.types&&!Object.values(_vm.c3.params.data.types).includes("bubble")}},[_c("div",{ref:"newChartEle",staticClass:"fc-new-chart pdf-chart",class:{"hide-y2-axis":_vm.options&&_vm.options.axis&&!1===_vm.options.axis.showy2axis}}),_vm.chartContext.options.legend.show&&"right"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{style:{width:_vm.chartContext.options.legend.width+"px"},attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1),_vm.chartContext.options.legend.show&&"bottom"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.showWidget?_c("f-widget-legends",{ref:"newWidget",staticClass:"widget-legends",attrs:{chart:_vm.c3.chart,reportVarianceData:_vm.resultObj?_vm.resultObj.reportData.aggr:null,data:_vm.data,options:_vm.options},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),billboard=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(76265),__webpack_require__(169358),__webpack_require__(795765),__webpack_require__(879288),__webpack_require__(872695)),basechart=__webpack_require__(503162),ReportDataUtil=__webpack_require__(760396),c3_helper=__webpack_require__(167021),FChartLegends=__webpack_require__(906575),DrilldownBreadcrumb=__webpack_require__(374520),FChartTitle=__webpack_require__(23369),FWidgetLegends=__webpack_require__(547301),FChartType=__webpack_require__(294309),JumpToHelper=__webpack_require__(921466),tooltip=__webpack_require__(460895),color_helper=__webpack_require__(794211),deepmerge=__webpack_require__(708634),d3=__webpack_require__(348727),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),FNewChartvue_type_script_lang_js={mixins:[basechart/* default */.Z,JumpToHelper/* default */.Z,ReportDataUtil/* default */.Z],props:["resultObj","isWidget","showWidgetLegends","config","specialScatter","relatedAlarms","moduleName","drilldownParams"],components:{FChartLegends:FChartLegends/* default */.Z,FWidgetLegends:FWidgetLegends/* default */.Z,FChartType:FChartType/* default */.Z,FChartTitle:FChartTitle/* default */.Z,DrilldownBreadcrumb:DrilldownBreadcrumb/* default */.Z},computed:{showWidget:function(){return!("undefined"!==typeof this.showWidgetLegends&&!this.showWidgetLegends)},isRegression:function(){return!!(this.$route.path.includes("regression")||this.resultObj&&this.resultObj.regressionConfig&&0!==this.resultObj.regressionConfig.length&&!0===this.resultObj.regression)},showAlarmTitle:function(){return!this.chartContext||!this.chartContext.options||!this.chartContext.options.hideAlarmTitle}},data:function(){return{chartContext:null,chartId:Math.random().toString(36).substr(2,9),c3:{params:null,chart:null},showAlarms:!1,updateTimeout:null}},mounted:function(){this.isRegression&&(this.hidecharttypechanger=!0),this.render()},beforeDestroy:function(){tooltip/* default */.Z.hideTooltip(),this.c3&&this.c3.chart&&this.c3.chart.destroy(),this.chartContext=null,this.c3.params=null,this.c3.chart=null},methods:{render:function(){var _this=this;this.data&&(this.chartContext=null,this.$nextTick((function(){_this.chartContext={},_this.chartContext.options=_this.getOptions(),_this.chartContext.dateRange=_this.dateRange,_this.chartContext.options.general&&_this.chartContext.options.general.hideZeroes?_this.chartContext.data=_this.formatZeroesInData(_this.data):_this.chartContext.data=_this.data,_this.chartContext.options.benchmark&&_this.chartContext.options.benchmark.show&&(_this.chartContext.reportVarianceData=_this.resultObj?_this.resultObj.reportData.aggr:null),_this.chartContext.xValueMode=_this.isXValueMode(_this.chartContext.options,_this.data),_this.options.defaultDurationUnit&&(_this.chartContext.defaultDurationUnit=_this.options.defaultDurationUnit),_this.chartContext.specialScatter=!!_this.specialScatter,_this.chartContext.unitMap=_this.getUnitMap(_this.options.dataPoints),_this.chartContext.enumMap=_this.getEnumMap(_this.options.dataPoints),_this.resultObj&&_this.resultObj.baselineData&&(_this.chartContext.baselineColors=_this.resultObj.baselineDataColors,_this.chartContext.baselineData=_this.resultObj.baselineData),_this.chartContext.openAlarm=function(alarmList){if(alarmList){var _step,alarmId=[],_iterator=(0,createForOfIteratorHelper/* default */.Z)(alarmList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var a=_step.value;alarmId.push(a.id)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.jumpToAlarms(alarmId)}},"pie"!==_this.chartContext.options.type&&"donut"!==_this.chartContext.options.type||(_this.chartContext.options.padding.top=20),_this.resultObj&&_this.resultObj.Readingdp&&(_this.chartContext["Readingdp"]=_this.resultObj.Readingdp),_this.resultObj&&_this.resultObj.scatterConfig&&(_this.chartContext["scatterConfig"]=_this.resultObj.scatterConfig,_this.chartContext["xMap"]=_this.resultObj.xMap);var c3Params=c3_helper/* default */.Z.prepare(_this.chartContext);c3Params&&(c3Params.data.onclick=function(d){var _d;if(null==(null===(_d=d)||void 0===_d?void 0:_d.index))for(var i=0;i<d.values.length;i++){var _d2;if((null===(_d2=d)||void 0===_d2?void 0:_d2.values[i].id)==d.id){d=d.values[i];break}}_this.$emit("drilldown",d)}),_this.mergeOption&&(_this.chartContext.options.padding.left=_this.mergeOption.padding.left,_this.chartContext.options.padding.right=_this.mergeOption.padding.right,_this.chartContext.options.axis.x.label.text="Month",c3Params.axis.y.label.text="No of Work Request"),_this.isWidget&&(_this.chartContext.options.legend.show?c3Params.size.height=c3Params.size.height-50:c3Params.size.height=c3Params.size.height-20,_this.options.widgetLegend.show&&(c3Params.size.height=c3Params.size.height-75),_this.resultObj&&_this.resultObj.report.userFilters&&(c3Params.size.height=c3Params.size.height-65)),_this.drilldownParams&&(c3Params.size.height=c3Params.size.height-25,_this.isWidget&&(c3Params.size.height=c3Params.size.height-25)),"gauge"===_this.chartContext.options.type&&c3Params.size.height>350&&(c3Params.size.height=350);var self=_this;self.showAlarms=1===_this.getOptions().common.mode&&_this.getOptions().settings.alarm,_this.config&&_this.config.hasOwnProperty("showAlarms")&&(self.showAlarms=_this.config.showAlarms),self.showAlarms&&(_this.chartContext.alarms=_this.alarms,c3Params.size.height=c3Params.size.height-100);var alarmsParams=null;if(self.showAlarms&&(alarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,_this.alarms),self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams))),self.relatedAlarms&&self.relatedAlarms.length)for(var idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][idx]){var relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,self.relatedAlarms[idx]);relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][idx],billboard.bb.generate(relalarmsParams)}if(_this.chartContext.options.customizeC3){var defaultOptions={},mergedOptions=deepmerge/* default */.Z.objectAssignDeep(defaultOptions,c3Params,_this.chartContext.options.customizeC3);c3Params=mergedOptions}var print=JSON.parse(_this.$getProperty(_this,"$route.query.printing")||null);if(self.$refs["newChartEle"]){c3Params.bindto=self.$refs["newChartEle"],self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight);var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(_this.byPassSetting(c3Params))}else _this.$nextTick((function(){if(self.showAlarms&&self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams)),self.relatedAlarms&&self.relatedAlarms.length)for(var _idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][_idx]){var _relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(this.chartContext,c3Params.data.json.x,self.relatedAlarms[_idx]);_relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][_idx],billboard.bb.generate(_relalarmsParams)}c3Params.bindto=self.$refs["newChartEle"];var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(this.byPassSetting(c3Params))}))})))},ontoggle:function(key,hiddenLegends){if(this.c3.params.ontoggle&&"function"===typeof this.c3.params.ontoggle){var callback=this.c3.params.ontoggle.bind(this.c3.chart.internal,key);callback()}if("bar"===this.chartContext.options.type&&this.chartContext.options.bar.showGroupTotal){var groupTotalData=c3_helper/* default */.Z.getGroupTotalDataPoint(this.c3.params,hiddenLegends);groupTotalData&&this.c3.chart.load({json:{group_total:groupTotalData}})}},byPassSetting:function(params){if(params&&params.data&&params.data.hasOwnProperty("labels")&&!0===params.data.labels){var formattedLabel={centered:!1,format:function(v){return Number.isInteger(v)?d3.format(",")(v):v?(0,formatter/* formatCurrency */.xG)(v):null}};this.$set(params.data,"labels",formattedLabel)}return params},getOptionsFromTypeChart:function(options,ctype){
//to set the chart type based on the widget
this.config&&this.config.widget&&this.config.widget.dataOptions&&(this.config.widget.dataOptions.chartType=ctype.chartTypeInt,this.config.widget.dataOptions.chartTypeInt=ctype.chartTypeInt)},isXValueMode:function(options,data){if(("pie"===options.type||"donut"===options.type)&&data&&data.x&&2===Object.keys(data).length){if(options.xColorMap)return!0;for(var colors=color_helper/* default */.Z.newColorPicker(data.x.length),xColorMap={},i=0;i<data.x.length;i++){var xVal=data.x[i];xColorMap[xVal]=options.xColorMap&&options.xColorMap[xVal]?options.xColorMap[xVal]:colors[i]}return options.xColorMap=xColorMap,!0}return options.xColorMap=null,!1},reRender:function(){var _this2=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){return _this2.render()}),500)},resize:function(){this.reRender(),this.$refs["newWidget"]&&this.$refs["newWidget"].resize()},update:function(){this.reRender()}}},components_FNewChartvue_type_script_lang_js=FNewChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FNewChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FNewChart=component.exports},
/***/374520:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DrilldownBreadcrumb}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/report/components/DrilldownBreadcrumb.vue?vue&type=template&id=77c09de1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"drilldown-breadcrumb  p5 mL90 d-flex"},[_c("div",{staticClass:"crumb-item"},[_c("span",{staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",on:{click:function($event){return _vm.handleClick(-1)}}},[_vm._v(" "+_vm._s(_vm.$t("reportdrilldown.all"))+" ")]),_c("i",{staticClass:"el-icon-arrow-right f12 mR3"})]),_vm._l(_vm.drilldownParams.drilldownCriteria,(function(drilldownCriteria,stepIndex){return _c("div",{key:stepIndex,staticClass:"crumb-item",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}]},[_c("span",{key:"crumb-text"+stepIndex,staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}],on:{click:function($event){return _vm.handleClick(stepIndex)}}},[_vm._v(" "+_vm._s(drilldownCriteria.breadcrumbLabel))]),stepIndex!=_vm.drilldownParams.drilldownCriteria.length-1?_c("i",{key:"crumb-icon"+stepIndex,staticClass:"el-icon-arrow-right f12 mR3"}):_c("i",{key:"crumb-close"+stepIndex,staticClass:"el-icon-circle-close pointer f12 hide-v",on:{click:function($event){return _vm.handleClick(stepIndex-1)}}})])}))],2)},staticRenderFns=[],DrilldownBreadcrumbvue_type_script_lang_js={props:{drilldownParams:{type:Object,default:null}},data:function(){return{}},methods:{handleClick:function(crumbIndex){
//ignore click on last item
crumbIndex!=this.drilldownParams.length-1&&this.$emit("crumbClick",crumbIndex)}}},components_DrilldownBreadcrumbvue_type_script_lang_js=DrilldownBreadcrumbvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_DrilldownBreadcrumbvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DrilldownBreadcrumb=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/9342.js.map