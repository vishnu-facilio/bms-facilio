(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[38997],{
/***/678380:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialog}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialog.vue?vue&type=template&id=621b9da3&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:[_vm.options.className]},[_c("transition",{attrs:{name:_vm.options.transition}},[_vm.visible?_c("div",{staticClass:"f-dialog-wrapper",attrs:{id:_vm.options.id},on:{click:function($event){return $event.target!==$event.currentTarget?null:_vm.maskClick.apply(null,arguments)},keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.escape.apply(null,arguments)}}},[_c("div",{staticClass:"f-dialog-backdrop",style:{background:_vm.options.maskColor}}),_c("div",{ref:"dialogContent",staticClass:"f-dialog-content",class:{"f-dialog-wide":_vm.options.wide},attrs:{tabindex:"-1"}},[_c("div",{staticClass:"f-dialog-header",class:{"with-body":_vm.options.message}},[_c("span",{staticClass:"content delete-heading"})]),_vm.options.message?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):_vm.options.htmlMessage?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content",domProps:{innerHTML:_vm._s(_vm.options.htmlMessage)}})]):"alert"===_vm.options.mode?_c("div",{staticClass:"f-dialog-body"},[_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):"prompt"===_vm.options.mode?_c("div",{staticClass:"prompt-dialog"},[_c("div",{staticClass:"prompt-input-wrapper"},["textarea"===_vm.options.promptType?_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",staticStyle:{resize:"none"},attrs:{placeholder:_vm.options.promptPlaceholder},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}}):_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",attrs:{placeholder:_vm.options.promptPlaceholder,type:"text"},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}})])]):"confirm"===_vm.options.mode&&_vm.options.confirmOptions&&_vm.options.confirmOptions.length?_c("div",{staticClass:"f-dialog-body"},_vm._l(_vm.options.confirmOptions,(function(item,idx){return _c("el-checkbox",{key:idx,model:{value:item.value,callback:function($$v){_vm.$set(item,"value",$$v)},expression:"item.value"}},[_vm._v(_vm._s(item.label))])})),1):_vm._e(),_c("div",{staticClass:"f-dialog-footer btn-block"},[_vm.options.lbHide?_vm._e():_c("button",{ref:"lbButton",staticClass:"btn btn--secondary del-cancel-btn",class:{red:_vm.options.lbDanger},attrs:{type:"button",value:_vm.options.lbLabel},on:{click:_vm.lbClick}},[_vm._v(" "+_vm._s(_vm.options.lbLabel||_vm.$t("common._common.cancel"))+" ")]),_vm.options.rbHide?_vm._e():_c("button",{ref:"rbButton",staticClass:"btn btn--primary",class:[_vm.options.rbDanger&&"btn--danger",_vm.options.rbClass?_vm.options.rbClass:"del-delete-btn"],attrs:{type:"button",value:_vm.options.rbLabel,tabindex:"-1",disabled:_vm.loadingOnConfirm},on:{click:_vm.rbClick}},[_vm._v(" "+_vm._s(_vm.options.rbLabel||"Delete")+" ")])])])]):_vm._e()])],1)},staticRenderFns=[],createClass=__webpack_require__(862833),classCallCheck=__webpack_require__(513087),OPTIONS_TEMPLATE=(__webpack_require__(260228),__webpack_require__(670560),{id:"vue-fdialog-default",
// DOM id
className:"",
// additional class name
maskColor:"rgba(40, 40, 40, 0.6)",
// color of the mask area
override:!1,
// current dialog overrides the queue and cancel any dialogs before it
parent:"body",
// parent DOM node
transition:"f-dialog-transition",
// transition name
duration:0,
// milliseconds before auto close, set to 0 or any falsy value to disable auto close
wide:!1,
// show as a wide dialog
title:"",
// dialog title
message:"",
// dialog message
mode:"alert",
// alert, confirm or prompt
forceStay:!0,
// set to true to prevent closing / canceling the dialog when mask area is clicked
defaultButton:"r",
// set the button that gets focus when the dialog shows, available when at least two buttons are shown
lbDanger:!1,
// set to true to style the left button as danger
rbDanger:!1,
// set to true to style the right button as danger
lbHide:!1,
// hide left button
rbHide:!1,
// hide right button
lbClass:"",rbClass:"",lbLabel:"Cancel",
// left button label text
rbLabel:"Ok",
// right button label text
actionAlt:null,
// callback function when left button is clicked
action:null,
// callback function when right button is clicked
promptType:"text",
// prompt type 'text' or 'textarea'
promptPlaceholder:"",htmlMessage:"",confirmOptions:null,proceedFunc:null}),CANCELLED=!0,Later=(0,createClass/* default */.Z)((function Later(){var _this=this;(0,classCallCheck/* default */.Z)(this,Later),this.promise=new Promise((function(resolve,reject){_this.reject=reject,_this.resolve=resolve}))})),FDialogvue_type_script_lang_js={OPTIONS_TEMPLATE:OPTIONS_TEMPLATE,props:[],components:{},computed:{options:function(){return Object.assign({},OPTIONS_TEMPLATE,this.optionsData)}},watch:{},data:function(){return{queue:[],optionsData:{},visible:!1,input:"",timeoutHandler:null,promiseHandler:null,loadingOnConfirm:!1}},methods:{enqueue:function(args){var pending=this.queue.length;return args.override?(this.queue=[args],this.transit()):(this.queue.push(args),0===pending&&this.transit()),args.promiseHandler=new Later,args.promiseHandler.promise},consume:function(cancelled){var _this2=this;switch(this.options.mode){case"alert":this.optionsData.promiseHandler.resolve();break;case"confirm":var value=!cancelled;this.options.confirmOptions&&this.options.confirmOptions.length&&(value=[value,this.options.confirmOptions]),this.optionsData.promiseHandler.resolve(value);break;case"prompt":cancelled?this.optionsData.promiseHandler.resolve(null):this.optionsData.promiseHandler.resolve(this.input);break;default:this.optionsData.promiseHandler.resolve();break}this.timeoutHandler&&clearTimeout(this.timeoutHandler),this.timeoutHandler=null,this.input="",cancelled||!this.options.proceedFunc?(this.transit(),this.queue.shift()):(this.loadingOnConfirm=!0,this.options.proceedFunc().then((function(){_this2.close()})))},close:function(){this.loadingOnConfirm=!1,this.visible=!1,this.queue.shift()},transit:function(){var _this3=this;this.visible=!1,setTimeout((function(){_this3.queue.length&&(_this3.optionsData=_this3.queue[0],_this3.visible=!0,setTimeout((function(){"prompt"===_this3.options.mode?_this3.$refs.promptInput.focus():_this3.$refs.rbButton.focus()})),_this3.options.duration&&(_this3.timeoutHandler=setTimeout((function(){_this3.consume()}),_this3.options.duration)))}))},escape:function(){this.consume(CANCELLED)},maskClick:function(){!1===this.options.forceStay&&(this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt())},lbClick:function(){this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt()},rbClick:function(){this.consume(),"function"===typeof this.options.action&&this.options.action()}},mounted:function(){}},components_FDialogvue_type_script_lang_js=FDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogvue_type_script_lang_js,render,staticRenderFns,!1,null,"621b9da3",null)
/* harmony default export */,FDialog=component.exports},
/***/507008:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPopover}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FPopover.vue?vue&type=template&id=878762a4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-popover",{ref:_vm.getRef,attrs:{"popper-class":"f-popover",width:_vm.width||""===_vm.width?_vm.width:280,placement:_vm.placement,trigger:_vm.trigger||"click",hide:"hide"},on:{show:function(){return _vm.$emit("show")}},model:{value:_vm.showpopover,callback:function($$v){_vm.showpopover=$$v},expression:"showpopover"}},[_c("div",{staticClass:"fc-popover-content"},[_vm._t("header",(function(){return[_c("div",{staticClass:"title uppercase f12 bold",staticStyle:{"letter-spacing":"1.1px",color:"#000000"}},[_vm._v(" "+_vm._s(_vm.title)+" ")])]})),_c("div",[_vm._t("content")],2)],2),_c("div",{staticClass:"f-footer row",staticStyle:{height:"46px"}},[_vm._t("footer",(function(){return[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.cancel}},[_c("span",[_vm._v(_vm._s(_vm.$t("setup.users_management.cancel")))])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.save}},[_c("span",[_vm._v(_vm._s(_vm.confirmTitle?_vm.confirmTitle:_vm.$t("common._common.ok")))])])]}))],2),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)},staticRenderFns=[],FPopovervue_type_script_lang_js={props:["popperClass","placement","value","popperRef","trigger","title","width","maxHeight","confirmTitle"],data:function(){return{showpopover:!1}},watch:{showpopover:function(val){null!=this.value&&this.$emit("input",val)},value:function(val){this.showpopover=val}},mounted:function(){var element=this.$refs[this.getRef].$el;if(this.popperClass&&element.firstElementChild.classList.add(this.popperClass),this.maxHeight){var content=element.querySelector(".fc-popover-content");content.classList.add("scrollable"),content.style["max-height"]=this.maxHeight+"px"}},computed:{getRef:function(){return this.popperRef?this.popperRef:"fpopup"}},methods:{save:function(){this.showpopover=!1,this.$emit("save")},cancel:function(){this.showpopover=!1,this.$emit("close")},hide:function(){this.$emit("hide")}}},components_FPopovervue_type_script_lang_js=FPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FPopovervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FPopover=component.exports},
/***/989715:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSound}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSound.vue?vue&type=template&id=74a36aeb
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"hide"},_vm._l(_vm.sounds,(function(sound,index){return _c("audio",{key:index,ref:"fglobalSound",refInFor:!0,attrs:{src:sound.url}})})),0)},staticRenderFns=[],FSoundvue_type_script_lang_js=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),{data:function(){return{activeSound:__webpack_require__(405074),sounds:[{name:"default",url:__webpack_require__(405074)},{name:"stuffed",url:__webpack_require__(76834)},{name:"alarm",
// url: require('statics/sounds/alarm_default.mp3'),
url:__webpack_require__(930760)}]}},methods:{play:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].play()},stop:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].pause(),this.$refs.fglobalSound[soundIndex].currentTime=0}}}),components_FSoundvue_type_script_lang_js=FSoundvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSoundvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSound=component.exports},
/***/21864:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return OutsideClick}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/OutsideClick.vue?vue&type=template&id=6761c108
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.onOutsideClick,expression:"onOutsideClick"}]},[_vm._t("default")],2):_vm._e()},staticRenderFns=[],OutsideClickvue_type_script_lang_js={props:["visibility"],methods:{onOutsideClick:function(){this.$emit("onOutsideClick"),this.$emit("update:visibility",!1)}}},components_OutsideClickvue_type_script_lang_js=OutsideClickvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_OutsideClickvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OutsideClick=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/369955:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ValueFormatter}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ValueFormatter.vue?vue&type=template&id=8ba0e75e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_vm.val?_c("span",{staticClass:"value"},[_vm._v(" "+_vm._s(_vm.val)+" ")]):_vm._e(),_vm.withUnit?_c("span",{staticClass:"unit"},[_vm._v(" "+_vm._s(_vm.uni)+" ")]):_vm._e()])},staticRenderFns=[],esm_typeof=__webpack_require__(103336),validation=(__webpack_require__(879288),__webpack_require__(897389),__webpack_require__(990260)),ValueFormattervue_type_script_lang_js={props:["withUnit","config","value","unit","maxDecimal"],data:function(){return{val:null,uni:""}},mounted:function(){this.config?this.loadDataWithConfig():this.loadConfig()},methods:{loadConfig:function(){if(this.unit&&""!==this.unit){var obj=this.$convert(this.value).from(this.unit).toBest();
// value set
"object"===(0,esm_typeof/* default */.Z)(obj)&&(Number(obj.val)%1===0||Number(obj.val)%1===0||(0,validation/* isUndefined */.o8)(this.maxDecimal)?this.val=obj.val:this.val=obj.val.toFixed(this.maxDecimal)),
// unit set
this.withUnit&&"object"===(0,esm_typeof/* default */.Z)(obj)&&(this.uni=obj.unit)}else this.val=this.value},loadDataWithConfig:function(){}}},components_ValueFormattervue_type_script_lang_js=ValueFormattervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ValueFormattervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ValueFormatter=component.exports},
/***/231296:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return currency}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/currency.vue?vue&type=template&id=043ee61d
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.prefixUnit?_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))]):_vm._e(),_c("span",{class:"curreny-"+_vm.valueSize},[_vm._v(_vm._s(_vm.formatedValue))]),_vm.prefixUnit?_vm._e():_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize+" mL5"},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))])])},staticRenderFns=[],currencyvue_type_script_lang_js=(__webpack_require__(976801),{props:["value","symbolSize","valueSize","recordCurrency"],computed:{formatedValue:function(){return this.$d3.format(",.2f")(this.value)},prefixUnit:function(){var $currency=this.$currency;return["$","£","₹"].includes($currency)}}}),components_currencyvue_type_script_lang_js=currencyvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_currencyvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,currency=component.exports},
/***/875963:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FNewChart}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newcharts/components/FNewChart.vue?vue&type=template&id=8078524e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 f-singlechart"},[_vm.hidecharttypechanger?_vm._e():_c("f-chart-type",{staticClass:"charttypechanger fc-new-chart-type-single top-minus-86",attrs:{options:_vm.options},on:{getOptions:_vm.getOptionsFromTypeChart}}),_vm.chartContext&&!1!==_vm.options.settings.chart?_c("div",{staticStyle:{"text-align":"center"}},[_c("div",{style:_vm.isWidget?"position: relative; top: 15px;":""},[_vm.showAlarms&&_vm.showAlarmTitle?_c("div",{staticClass:"fc-alarms-chart-title",style:"sensorrollupalarm"===_vm.moduleName?"color: #324056 !important;font-weight: bold;":""},[_vm._v(" Alarms ")]):_vm._e(),_c("div",{ref:"alarmsChartEle",staticClass:"fc-alarms-chart pdf-chart"})]),_vm.relatedAlarms?_c("div",[_vm._l(_vm.relatedAlarms,(function(relAlarm,idx){return[_c("div",{key:idx,style:_vm.isWidget?"position: relative; top: 15px;":""},[_c("div",{staticClass:"fc-alarms-chart-title",staticStyle:{"text-transform":"capitalize",color:"#324056 !important"}},[_vm._v(" "+_vm._s(relAlarm?relAlarm.alarmTitle:"")+" ")]),_c("div",{ref:"relatedAlarmsChartEle",refInFor:!0,staticClass:"fc-alarms-chart pdf-chart"})])]}))],2):_vm._e(),_vm.chartContext.options.legend.show&&"top"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,resultObj:_vm.resultObj,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,isScatterPlot:_vm.chartContext&&_vm.chartContext.scatterConfig},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.chartContext.options.regionConfig?_c("f-chart-title",{ref:"chartTitle",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config,chartContext:_vm.chartContext},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.drilldownParams?_c("drilldown-breadcrumb",{attrs:{drilldownParams:_vm.drilldownParams},on:{crumbClick:function($event){return _vm.$emit("crumbClick",$event)}}}):_vm._e(),_c("div",{staticClass:"fc-newchart-container",class:{"scatter-full-opacity":_vm.c3.params&&_vm.c3.params.data&&_vm.c3.params.data.types&&!Object.values(_vm.c3.params.data.types).includes("bubble")}},[_c("div",{ref:"newChartEle",staticClass:"fc-new-chart pdf-chart",class:{"hide-y2-axis":_vm.options&&_vm.options.axis&&!1===_vm.options.axis.showy2axis}}),_vm.chartContext.options.legend.show&&"right"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{style:{width:_vm.chartContext.options.legend.width+"px"},attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap,config:_vm.config},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1),_vm.chartContext.options.legend.show&&"bottom"===_vm.chartContext.options.legend.position?_c("f-chart-legends",{ref:"chartLegend",attrs:{chart:_vm.c3.chart,options:_vm.options,xValueMode:_vm.chartContext.xValueMode,xLabelMap:_vm.chartContext.xLabelMap},on:{ontoggle:_vm.ontoggle}}):_vm._e(),_vm.showWidget?_c("f-widget-legends",{ref:"newWidget",staticClass:"widget-legends",attrs:{chart:_vm.c3.chart,reportVarianceData:_vm.resultObj?_vm.resultObj.reportData.aggr:null,data:_vm.data,options:_vm.options},on:{ontoggle:_vm.ontoggle}}):_vm._e()],1):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),billboard=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(76265),__webpack_require__(169358),__webpack_require__(795765),__webpack_require__(879288),__webpack_require__(872695)),basechart=__webpack_require__(503162),ReportDataUtil=__webpack_require__(760396),c3_helper=__webpack_require__(167021),FChartLegends=__webpack_require__(906575),DrilldownBreadcrumb=__webpack_require__(374520),FChartTitle=__webpack_require__(23369),FWidgetLegends=__webpack_require__(547301),FChartType=__webpack_require__(294309),JumpToHelper=__webpack_require__(921466),tooltip=__webpack_require__(460895),color_helper=__webpack_require__(794211),deepmerge=__webpack_require__(708634),d3=__webpack_require__(348727),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),FNewChartvue_type_script_lang_js={mixins:[basechart/* default */.Z,JumpToHelper/* default */.Z,ReportDataUtil/* default */.Z],props:["resultObj","isWidget","showWidgetLegends","config","specialScatter","relatedAlarms","moduleName","drilldownParams"],components:{FChartLegends:FChartLegends/* default */.Z,FWidgetLegends:FWidgetLegends/* default */.Z,FChartType:FChartType/* default */.Z,FChartTitle:FChartTitle/* default */.Z,DrilldownBreadcrumb:DrilldownBreadcrumb/* default */.Z},computed:{showWidget:function(){return!("undefined"!==typeof this.showWidgetLegends&&!this.showWidgetLegends)},isRegression:function(){return!!(this.$route.path.includes("regression")||this.resultObj&&this.resultObj.regressionConfig&&0!==this.resultObj.regressionConfig.length&&!0===this.resultObj.regression)},showAlarmTitle:function(){return!this.chartContext||!this.chartContext.options||!this.chartContext.options.hideAlarmTitle}},data:function(){return{chartContext:null,chartId:Math.random().toString(36).substr(2,9),c3:{params:null,chart:null},showAlarms:!1,updateTimeout:null}},mounted:function(){this.isRegression&&(this.hidecharttypechanger=!0),this.render()},beforeDestroy:function(){tooltip/* default */.Z.hideTooltip(),this.c3&&this.c3.chart&&this.c3.chart.destroy(),this.chartContext=null,this.c3.params=null,this.c3.chart=null},methods:{render:function(){var _this=this;this.data&&(this.chartContext=null,this.$nextTick((function(){_this.chartContext={},_this.chartContext.options=_this.getOptions(),_this.chartContext.dateRange=_this.dateRange,_this.chartContext.options.general&&_this.chartContext.options.general.hideZeroes?_this.chartContext.data=_this.formatZeroesInData(_this.data):_this.chartContext.data=_this.data,_this.chartContext.options.benchmark&&_this.chartContext.options.benchmark.show&&(_this.chartContext.reportVarianceData=_this.resultObj?_this.resultObj.reportData.aggr:null),_this.chartContext.xValueMode=_this.isXValueMode(_this.chartContext.options,_this.data),_this.options.defaultDurationUnit&&(_this.chartContext.defaultDurationUnit=_this.options.defaultDurationUnit),_this.chartContext.specialScatter=!!_this.specialScatter,_this.chartContext.unitMap=_this.getUnitMap(_this.options.dataPoints),_this.chartContext.enumMap=_this.getEnumMap(_this.options.dataPoints),_this.resultObj&&_this.resultObj.baselineData&&(_this.chartContext.baselineColors=_this.resultObj.baselineDataColors,_this.chartContext.baselineData=_this.resultObj.baselineData),_this.chartContext.openAlarm=function(alarmList){if(alarmList){var _step,alarmId=[],_iterator=(0,createForOfIteratorHelper/* default */.Z)(alarmList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var a=_step.value;alarmId.push(a.id)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.jumpToAlarms(alarmId)}},"pie"!==_this.chartContext.options.type&&"donut"!==_this.chartContext.options.type||(_this.chartContext.options.padding.top=20),_this.resultObj&&_this.resultObj.Readingdp&&(_this.chartContext["Readingdp"]=_this.resultObj.Readingdp),_this.resultObj&&_this.resultObj.scatterConfig&&(_this.chartContext["scatterConfig"]=_this.resultObj.scatterConfig,_this.chartContext["xMap"]=_this.resultObj.xMap);var c3Params=c3_helper/* default */.Z.prepare(_this.chartContext);c3Params&&(c3Params.data.onclick=function(d){var _d;if(null==(null===(_d=d)||void 0===_d?void 0:_d.index))for(var i=0;i<d.values.length;i++){var _d2;if((null===(_d2=d)||void 0===_d2?void 0:_d2.values[i].id)==d.id){d=d.values[i];break}}_this.$emit("drilldown",d)}),_this.mergeOption&&(_this.chartContext.options.padding.left=_this.mergeOption.padding.left,_this.chartContext.options.padding.right=_this.mergeOption.padding.right,_this.chartContext.options.axis.x.label.text="Month",c3Params.axis.y.label.text="No of Work Request"),_this.isWidget&&(_this.chartContext.options.legend.show?c3Params.size.height=c3Params.size.height-50:c3Params.size.height=c3Params.size.height-20,_this.options.widgetLegend.show&&(c3Params.size.height=c3Params.size.height-75),_this.resultObj&&_this.resultObj.report.userFilters&&(c3Params.size.height=c3Params.size.height-65)),_this.drilldownParams&&(c3Params.size.height=c3Params.size.height-25,_this.isWidget&&(c3Params.size.height=c3Params.size.height-25)),"gauge"===_this.chartContext.options.type&&c3Params.size.height>350&&(c3Params.size.height=350);var self=_this;self.showAlarms=1===_this.getOptions().common.mode&&_this.getOptions().settings.alarm,_this.config&&_this.config.hasOwnProperty("showAlarms")&&(self.showAlarms=_this.config.showAlarms),self.showAlarms&&(_this.chartContext.alarms=_this.alarms,c3Params.size.height=c3Params.size.height-100);var alarmsParams=null;if(self.showAlarms&&(alarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,_this.alarms),self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams))),self.relatedAlarms&&self.relatedAlarms.length)for(var idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][idx]){var relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(_this.chartContext,c3Params.data.json.x,self.relatedAlarms[idx]);relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][idx],billboard.bb.generate(relalarmsParams)}if(_this.chartContext.options.customizeC3){var defaultOptions={},mergedOptions=deepmerge/* default */.Z.objectAssignDeep(defaultOptions,c3Params,_this.chartContext.options.customizeC3);c3Params=mergedOptions}var print=JSON.parse(_this.$getProperty(_this,"$route.query.printing")||null);if(self.$refs["newChartEle"]){c3Params.bindto=self.$refs["newChartEle"],self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight);var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(_this.byPassSetting(c3Params))}else _this.$nextTick((function(){if(self.showAlarms&&self.$refs["alarmsChartEle"]&&(alarmsParams.bindto=self.$refs["alarmsChartEle"],billboard.bb.generate(alarmsParams)),self.relatedAlarms&&self.relatedAlarms.length)for(var _idx in self.relatedAlarms)if(self.$refs["relatedAlarmsChartEle"]&&self.$refs["relatedAlarmsChartEle"][_idx]){var _relalarmsParams=c3_helper/* default */.Z.prepareBooleanChart(this.chartContext,c3Params.data.json.x,self.relatedAlarms[_idx]);_relalarmsParams.bindto=self.$refs["relatedAlarmsChartEle"][_idx],billboard.bb.generate(_relalarmsParams)}c3Params.bindto=self.$refs["newChartEle"];var width=self.$refs["newChartEle"].clientWidth;print&&!(0,validation/* isEmpty */.xb)(width)&&(c3Params.size.width=self.$refs["newChartEle"].clientWidth),self.isWidget&&self.$refs["chartLegend"]&&(c3Params.size.height=c3Params.size.height-(self.$refs["chartLegend"].$el.clientHeight-20)),self.fixedChartHeight&&(c3Params.size.height=self.fixedChartHeight),self.c3.params=c3Params,self.c3.chart=billboard.bb.generate(this.byPassSetting(c3Params))}))})))},ontoggle:function(key,hiddenLegends){if(this.c3.params.ontoggle&&"function"===typeof this.c3.params.ontoggle){var callback=this.c3.params.ontoggle.bind(this.c3.chart.internal,key);callback()}if("bar"===this.chartContext.options.type&&this.chartContext.options.bar.showGroupTotal){var groupTotalData=c3_helper/* default */.Z.getGroupTotalDataPoint(this.c3.params,hiddenLegends);groupTotalData&&this.c3.chart.load({json:{group_total:groupTotalData}})}},byPassSetting:function(params){if(params&&params.data&&params.data.hasOwnProperty("labels")&&!0===params.data.labels){var formattedLabel={centered:!1,format:function(v){return Number.isInteger(v)?d3.format(",")(v):v?(0,formatter/* formatCurrency */.xG)(v):null}};this.$set(params.data,"labels",formattedLabel)}return params},getOptionsFromTypeChart:function(options,ctype){
//to set the chart type based on the widget
this.config&&this.config.widget&&this.config.widget.dataOptions&&(this.config.widget.dataOptions.chartType=ctype.chartTypeInt,this.config.widget.dataOptions.chartTypeInt=ctype.chartTypeInt)},isXValueMode:function(options,data){if(("pie"===options.type||"donut"===options.type)&&data&&data.x&&2===Object.keys(data).length){if(options.xColorMap)return!0;for(var colors=color_helper/* default */.Z.newColorPicker(data.x.length),xColorMap={},i=0;i<data.x.length;i++){var xVal=data.x[i];xColorMap[xVal]=options.xColorMap&&options.xColorMap[xVal]?options.xColorMap[xVal]:colors[i]}return options.xColorMap=xColorMap,!0}return options.xColorMap=null,!1},reRender:function(){var _this2=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){return _this2.render()}),500)},resize:function(){this.reRender(),this.$refs["newWidget"]&&this.$refs["newWidget"].resize()},update:function(){this.reRender()}}},components_FNewChartvue_type_script_lang_js=FNewChartvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FNewChartvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FNewChart=component.exports},
/***/283938:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FNewHeatMap}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/energy/analytics/components/FNewHeatMap.vue?vue&type=template&id=7e6f8403
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return 0!==_vm.heatMapStore.length?_c("div",{staticClass:"height100 heatmap"},[_vm.hidecharttypechanger?_vm._e():_c("f-chart-type",{staticClass:"charttypechanger fc-new-chart-type-single",attrs:{options:this.reportObject?this.reportObject.options:null},on:{getOptions:_vm.getOptionsFromTypeChart}}),_c("div",{ref:"heatmapDiv",staticClass:"height100"})],1):_vm._e()},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),d3=(__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(865137),__webpack_require__(976801),__webpack_require__(348727)),FChartType=__webpack_require__(294309),ReportDataUtil=__webpack_require__(760396),ckmeans_min=__webpack_require__(196009),tooltip=(__webpack_require__(114769),__webpack_require__(460895)),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),vue_runtime_esm=__webpack_require__(720144),FNewHeatMapvue_type_script_lang_js={data:function(){return{constantMargins:{top:30,right:55,bottom:100,left:55},clientWidth:980,clientHeight:620,cellWidth:50,cellHeight:30,xformat:"hours",hidecharttypechanger:!0,gridSize:0,xAlias:null,yAliasList:[],updateTimeout:null,heatMapStore:[],selectedLabel:null,groupLabels:[],defaultColors:["#1d7f01","#6cb302","#e9f501","#fda504","#fb5905"]}},mixins:[ReportDataUtil/* default */.Z],components:{FChartType:FChartType/* default */.Z},mounted:function(){this.render()},props:["resultObject","reportObject","config","width","height"],computed:{chosenColors:function(){if(this.reportObject.options.heatMapOptions){var key=this.reportObject.options.heatMapOptions.chosenColors;return this.reportObject.options.heatMapOptions.Colors[key]}return this.defaultColors},heatMapMinValue:function(){return this.reportObject.options.heatMapOptions&&null!==this.reportObject.options.heatMapOptions.minValue&&""!==this.reportObject.options.heatMapOptions.minValue?this.reportObject.options.heatMapOptions.minValue:null},heatMapMaxValue:function(){return this.reportObject.options.heatMapOptions&&null!==this.reportObject.options.heatMapOptions.maxValue&&""!==this.reportObject.options.heatMapOptions.maxValue?this.reportObject.options.heatMapOptions.maxValue:null}},methods:{render:function(){var _this=this;this.reportObject&&(this.loadHeatMapStore(),this.$nextTick((function(){if(_this.resultObject){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(_this.resultObject.report.dataPoints);try{for(_iterator.s();!(_step=_iterator.n()).done;){var dataPoint=_step.value;_this.yAliasList.push(dataPoint.aliases.actual)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this.xAlias="x"}_this.drawHeatMap()})))},loadHeatMapStore:function(){this.heatMapStore=this.reportObject.options.dataPoints},resize:function(){this.rerender()},rerender:function(){var _this2=this;this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout((function(){return _this2.render()}),500)},groupValues:function(minValue,maxValue,n){for(var deviation=(maxValue-minValue)/n,group=[],i=0;i<n;i++){var temp=minValue+i*deviation;group.push(temp)}return group},drawHeatMap:function(){var _this3=this;Date.now();this.$mobile&&(this.constantMargins.left=30,this.constantMargins.right=20,this.constantMargins.top=10);var _step2,width=(null!==this.width&&this.width>0?this.width:this.clientWidth)-(this.constantMargins.left+this.constantMargins.right),height=(null!==this.height&&this.height>0?this.height:this.clientHeight)-(this.constantMargins.top+this.constantMargins.bottom),dataPoints=this.resultObject.report.dataPoints,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(dataPoints);try{var _loop=function(){var dp=_step2.value,unit=(dataPoints.indexOf(dp),null!==dp.yAxis.unitStr?dp.yAxis.unitStr:" "),isContinous=5===_this3.resultObject.report.dataPoints[0].xAxis.dataType||6===_this3.resultObject.report.dataPoints[0].xAxis.dataType,dataAlias=dp.aliases.actual,yMax=_this3.resultObject.reportData.aggr[dataAlias+".max"],yMin=_this3.resultObject.reportData.aggr[dataAlias+".min"];yMin=_this3.reportObject.options.heatMapOptions&&null!==_this3.reportObject.options.heatMapOptions.minValue&&""!==_this3.reportObject.options.heatMapOptions.minValue?_this3.reportObject.options.heatMapOptions.minValue:yMin,yMax=_this3.reportObject.options.heatMapOptions&&null!=_this3.reportObject.options.heatMapOptions.maxValue&&""!==_this3.reportObject.options.heatMapOptions.maxValue?_this3.reportObject.options.heatMapOptions.maxValue:yMax,2===_this3.resultObject.report.type?"hourly"===_this3.reportObject.dateRange.period?_this3.xformat="hours":"daily"===_this3.reportObject.dateRange.period?_this3.xformat="days":_this3.xformat="hours":_this3.xformat=_this3.resultObject&&_this3.resultObject.report&&_this3.resultObject.report.hmAggr&&null!==_this3.resultObject.report.hmAggr?_this3.resultObject.report.hmAggr:"hours";var dataWithAxis=_this3.transformDataForHeatMap(_this3.reportObject,_this3.resultObject.reportData.heatMapData,"X",dp.aliases.actual,isContinous,_this3.xformat),transformedData=dataWithAxis[0],xD=dataWithAxis[1],cellWidth=width/xD.length,x=d3.scaleBand().range([0,width]).domain(xD).padding(.005),clusterData=null;2===_this3.resultObject.report.type?(_this3.hidecharttypechanger=!1,clusterData=transformedData.filter((function(data){return null!==data.value})).map((function(data){return parseFloat(data.value)})),yMin=d3.min(clusterData),yMax=d3.max(clusterData),clusterData.sort()):clusterData=transformedData.filter((function(data){return null!==data.value&&data.value>=yMin&&data.value<=yMax})).map((function(data){return data.value}));var clusters=null;if(!(clusterData.length>5)||null!==_this3.heatMapMinValue&&""!==_this3.heatMapMinValue||null!==_this3.heatMapMaxValue&&""!==_this3.heatMapMaxValue)if(null!==_this3.heatMapMinValue&&""!==_this3.heatMapMinValue||null!==_this3.heatMapMaxValue&&""!==_this3.heatMapMaxValue){var minValue=null===_this3.heatMapMinValue||""===_this3.heatMapMinValue?d3.min(clusterData):_this3.heatMapMinValue,maxValue=null===_this3.heatMapMaxValue||""===_this3.heatMapMaxValue?d3.max(clusterData):_this3.heatMapMaxValue;clusters=_this3.groupValues(minValue,maxValue,5)}
// if (clusters && clusters[4] < yMax) {
//   clusters.push(yMax)
// }
else clusters=clusterData;else clusters=(0,ckmeans_min/* default */.Z)(clusterData,5);var yData=[];"hourly"===_this3.reportObject.dateRange.period&&(["month","year","quarter"].includes(_this3.reportObject.dateRange.operationOn)||"day"===_this3.reportObject.dateRange.operationOn&&_this3.reportObject.dateRange.offset>=32)?yData=dataWithAxis[2][0]:"weeks"===_this3.xformat&&["month","year","quarter"].includes(_this3.reportObject.dateRange.operationOn)?(yData=dataWithAxis[2][0],yData.sort()):yData=dataWithAxis[2];var cellHeight=height/yData.length;cellHeight>_this3.cellHeight&&(height=_this3.cellHeight*yData.length,cellHeight=_this3.cellHeight);var y=d3.scaleBand().range([0,height]).domain(yData).padding(.005),myColor=d3.scaleLinear().range(_this3.chosenColors).domain(clusters),border=1,bordercolor="#CCCCCC";_this3.$refs["heatmapDiv"].innerHTML="";var svg=d3.select(_this3.$refs["heatmapDiv"]).append("svg").attr("width",width+_this3.constantMargins.right+_this3.constantMargins.left).attr("height",height+_this3.constantMargins.top+_this3.constantMargins.bottom).attr("border",border).attr("class",_this3.$mobile?"":"widget-heatmap").append("g").attr("transform","translate("+_this3.constantMargins.left+","+_this3.constantMargins.top+")");svg.append("rect").attr("x",0).attr("y",0).attr("height",height).attr("width",width).style("stroke",bordercolor).style("fill","none").style("stroke-width",border);if("hours"===_this3.xformat){var xAxis=_this3.$mobile?["12a","4a","8a","12p","4p","8p","11p"]:["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p"],x1=d3.scaleBand().range([0,width]).domain(xAxis).padding(.005);svg.append("g").attr("class",_this3.$mobile?"xaxis":"x axis").call(d3.axisTop(x1).tickSize([0])).append("text").attr("class","label").attr("text-anchor","start")}else if("days"===_this3.xformat&&_this3.$mobile){var _xAxis=["01","06","11","16","21","26","31"],_x=d3.scaleBand().range([0,width]).domain(_xAxis).padding(.005);svg.append("g").attr("class",_this3.$mobile?"xaxis":"x axis").call(d3.axisTop(_x).tickSize([0])).append("text").attr("class","label").attr("text-anchor","start")}else svg.append("g").attr("class",_this3.$mobile?"xaxis":"x axis").call(d3.axisTop(x).tickSize([0])).append("text").attr("class","label").attr("text-anchor","start");if("hourly"===_this3.reportObject.dateRange.period&&(["month","year","quarter"].includes(_this3.reportObject.dateRange.operationOn)||"day"===_this3.reportObject.dateRange.operationOn&&_this3.reportObject.dateRange.offset>=32)){var y1=cellHeight<20?d3.scaleBand().range([0,height]).domain(dataWithAxis[2][1]).padding(.01):d3.scaleBand().range([0,height]).domain(dataWithAxis[2][0]).padding(.01);svg.append("g").attr("class","y axis").call(d3.axisLeft(y1).tickSize([0])).append("text").attr("class","label").attr("text-anchor","end").attr("transform","translate(0,90)")}else if("weeks"===_this3.xformat&&["month","year","quarter"].includes(_this3.reportObject.dateRange.operationOn)){var _y=cellHeight<20?d3.scaleBand().range([0,height]).domain(dataWithAxis[2][1]).padding(.01):d3.scaleBand().range([0,height]).domain(dataWithAxis[2][0]).padding(.01);svg.append("g").attr("class","y axis").call(d3.axisLeft(_y).tickSize([0])).append("text").attr("class","label").attr("text-anchor","end").attr("transform","translate(0,90)")}else svg.append("g").attr("class","y axis").call(d3.axisLeft(y).tickSize([0])).append("text").attr("class","label").attr("text-anchor","end");var self=_this3;svg.selectAll().data(transformedData,(function(d){d["X"],d["Y"]})).enter().append("rect").attr("x",(function(d){return x(d["X"])})).attr("y",(function(d){return y(d["Y"])})).attr("width",x.bandwidth()>cellWidth?cellWidth:x.bandwidth()).attr("height",y.bandwidth()>cellHeight?cellHeight:y.bandwidth()).style("stroke","#CCCCCC").style("fill","none").style("stroke-width",.05).style("fill",(function(d){var c=null!==d.value?myColor(d.value):window.localStorage&&"black"===window.localStorage.theme?"#090f2e":"#FFFFFF";return null!==d.value&&d.value<yMin?c=myColor(clusters[0]):null!==d.value&&d.value>yMax&&(c=myColor(clusters[4])),c})).on("mouseover",(function(d){var tooltipData=[{label:d["xTitle"],value:moment_timezone_default()(d["originalValue"]).tz(vue_runtime_esm["default"].prototype.$timezone).format(self.getTooltipFormat())},{label:d["yTitle"],value:null!==d.value?d["value"]+" "+unit:null!==d.violated_value?d["violated_value"]+" "+unit+" (violated value)":"No data"}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:self.getTooltipColor(d.value,myColor,yMin,yMax,clusters)};tooltip/* default */.Z.showTooltip(tooltipConfig)})).on("mouseout",(function(d){tooltip/* default */.Z.hideTooltip()}));var svgDefs=svg.append("defs"),legendref="legendGradient"+Date.now(),mainGradient=svgDefs.append("linearGradient").attr("id",legendref);mainGradient.append("stop").style("stop-color",(function(d){return myColor(clusters[0])})).attr("offset","0%"),mainGradient.append("stop").style("stop-color",(function(d){return myColor(clusters[1])})).attr("offset","25%"),mainGradient.append("stop").style("stop-color",(function(d){return myColor(clusters[2])})).attr("offset","50%"),mainGradient.append("stop").style("stop-color",(function(d){return myColor(clusters[3])})).attr("offset","75%"),mainGradient.append("stop").style("stop-color",(function(d){return myColor(clusters[4])})).attr("offset","100%");var legendContainer=svg.append("g"),legend=legendContainer.selectAll(".heatLegend").data(clusters),legendSection=legend.enter().append("g").attr("class","heatLegend"),min=_this3.getRoundedNumber(yMin,"floor"),max=_this3.getRoundedNumber(yMax,"ceil");legendSection.append("rect").attr("x",(function(d,i){return self.$mobile?0:width/4})).attr("y",(function(d){return height+40})).attr("width",self.$mobile?width:width/2).attr("height",10).style("fill","url(#"+legendref+")"),legendSection.append("text").attr("class","legendLabel").attr("x",(function(d){return self.$mobile?0:width/4})).attr("y",(function(d){return height+70})).text((function(d){return min+" "+unit})),
// let textWidth = max.node().getComputedTextLength()
// console.log("textWidth",textWidth)
legendSection.append("text").text((function(d){return max+" "+unit})).attr("class","legendLabel").attr("x",(function(d){return self.$mobile?width-this.getComputedTextLength():width/4+width/2-this.getComputedTextLength()})).attr("y",(function(d){return height+70}))};for(_iterator2.s();!(_step2=_iterator2.n()).done;)_loop()}catch(err){_iterator2.e(err)}finally{_iterator2.f()}},getTooltipColor:function(value,myColor,yMin,yMax,clusters){var c=null!==value?myColor(value):"#FFFFFF";return null!==value&&value<yMin?c=myColor(clusters[0]):null!==value&&value>yMax&&(c=myColor(clusters[4])),c},getTooltipFormat:function(){switch(this.xformat){case"hours":return"dddd, MMM D, YYYY h a";case"days":return"dddd, MMM D, YYYY";case"weeks":return"dddd, MMM D, [W]ww gggg";default:return"LLLL"}},getOptionsFromTypeChart:function(options,ctype){
//to set the chart type based on the widget
this.config&&this.config.widget&&this.config.widget.dataOptions&&(this.config.widget.dataOptions.chartType=ctype.chartTypeInt,this.config.widget.dataOptions.chartTypeInt=ctype.chartTypeInt)}}},components_FNewHeatMapvue_type_script_lang_js=FNewHeatMapvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FNewHeatMapvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FNewHeatMap=component.exports},
/***/374520:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DrilldownBreadcrumb}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/report/components/DrilldownBreadcrumb.vue?vue&type=template&id=77c09de1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"drilldown-breadcrumb  p5 mL90 d-flex"},[_c("div",{staticClass:"crumb-item"},[_c("span",{staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",on:{click:function($event){return _vm.handleClick(-1)}}},[_vm._v(" "+_vm._s(_vm.$t("reportdrilldown.all"))+" ")]),_c("i",{staticClass:"el-icon-arrow-right f12 mR3"})]),_vm._l(_vm.drilldownParams.drilldownCriteria,(function(drilldownCriteria,stepIndex){return _c("div",{key:stepIndex,staticClass:"crumb-item",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}]},[_c("span",{key:"crumb-text"+stepIndex,staticClass:"f12 bold breadcrumb-text mR5 letter-spacing0_5 ",class:[{"is-last":stepIndex==_vm.drilldownParams.drilldownCriteria.length-1}],on:{click:function($event){return _vm.handleClick(stepIndex)}}},[_vm._v(" "+_vm._s(drilldownCriteria.breadcrumbLabel))]),stepIndex!=_vm.drilldownParams.drilldownCriteria.length-1?_c("i",{key:"crumb-icon"+stepIndex,staticClass:"el-icon-arrow-right f12 mR3"}):_c("i",{key:"crumb-close"+stepIndex,staticClass:"el-icon-circle-close pointer f12 hide-v",on:{click:function($event){return _vm.handleClick(stepIndex-1)}}})])}))],2)},staticRenderFns=[],DrilldownBreadcrumbvue_type_script_lang_js={props:{drilldownParams:{type:Object,default:null}},data:function(){return{}},methods:{handleClick:function(crumbIndex){
//ignore click on last item
crumbIndex!=this.drilldownParams.length-1&&this.$emit("crumbClick",crumbIndex)}}},components_DrilldownBreadcrumbvue_type_script_lang_js=DrilldownBreadcrumbvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_DrilldownBreadcrumbvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DrilldownBreadcrumb=component.exports},
/***/2610:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PdfPageComponent}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pdf/component/PdfPageComponent.vue?vue&type=template&id=09b91abc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"fc-pdf-fc-pdf-page-header"},[_vm._t("header")],2),_c("div",{staticClass:"fc-pdf-page-footer"},[_vm._t("footer")],2),_c("div",[_c("table",{staticClass:"width100 border-none"},[_vm._m(0),_c("tbody",[_c("tr",[_c("td",{attrs:{colspan:"100%"}},[_c("div",{staticClass:"fc-pdf-page-content-section"},[_vm._t("content")],2)])])]),_vm._m(1)])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("td",[_c("div",{staticClass:"page-header-space"})])])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("tfoot",[_c("tr",[_c("td",[_c("div",{staticClass:"fc-pdf-page-footer-space"})])])])}],PdfPageComponentvue_type_script_lang_js={methods:{printPage:function(){window.print()}}},component_PdfPageComponentvue_type_script_lang_js=PdfPageComponentvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(component_PdfPageComponentvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PdfPageComponent=component.exports},
/***/834695:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ReadingReportPdf}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pdf/pages/Report/ReadingReportPdf.vue?vue&type=template&id=037ed9ba
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return!_vm.localloading&&_vm.appName?_c("div",{class:["fc-pdf-report-print",_vm.hideWigetLegend&&"hide-wiget-legend"]},[_c("pdfPage",{scopedSlots:_vm._u([{key:"content",fn:function(){return[_c("FNewReport",{attrs:{id:_vm.id,showHeadingOnlyForPdf:!0,printView:!0,hideChartSettings:!0,hideColumn:!0,showChart:_vm.showChart},on:{hideChart:function($event){_vm.showChart=!0}}})]},proxy:!0}],null,!1,3065856852)})],1):_vm._e()},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FNewReport=(__webpack_require__(169358),__webpack_require__(862423)),PdfPageComponent=__webpack_require__(2610),AccountUtil=__webpack_require__(686918),validation=__webpack_require__(990260),router=__webpack_require__(329435),ReadingReportPdfvue_type_script_lang_js={mixins:[AccountUtil/* default */.Z],data:function(){return{appName:(0,router/* getApp */.wx)().linkName,showChart:null,excludeParamsObj:{},showOnlyImage:!1}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _JSON$parse,showImage,_this$$route$query$ex,excludeParams;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadQData();case 2:showImage=_this.$getProperty(_this,"$route.query.showOnlyImage")||null,_this.showOnlyImage=JSON.parse(showImage),_this$$route$query$ex=_this.$route.query.excludeParams,excludeParams=void 0===_this$$route$query$ex?{}:_this$$route$query$ex,_this.excludeParamsObj=(0,validation/* isEmpty */.xb)(excludeParams)?{}:null!==(_JSON$parse=JSON.parse(excludeParams))&&void 0!==_JSON$parse?_JSON$parse:{};case 6:case"end":return _context.stop()}}),_callee)})))()},components:{FNewReport:FNewReport/* default */.Z,pdfPage:PdfPageComponent/* default */.Z},computed:{hideWigetLegend:function(){return this.excludeParamsObj.widgetLegend},id:function(){return this.$getProperty(this.$route,"params.id",null)}},methods:{}},Report_ReadingReportPdfvue_type_script_lang_js=ReadingReportPdfvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Report_ReadingReportPdfvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ReadingReportPdf=component.exports},
/***/754125:
/***/function(module,__unused_webpack_exports,__webpack_require__){var map={"./af":702525,"./af.js":702525,"./ar":689102,"./ar-dz":463778,"./ar-dz.js":463778,"./ar-kw":410960,"./ar-kw.js":410960,"./ar-ly":281490,"./ar-ly.js":281490,"./ar-ma":985507,"./ar-ma.js":985507,"./ar-sa":224042,"./ar-sa.js":224042,"./ar-tn":191523,"./ar-tn.js":191523,"./ar.js":689102,"./az":938365,"./az.js":938365,"./be":544860,"./be.js":544860,"./bg":709904,"./bg.js":709904,"./bm":660952,"./bm.js":660952,"./bn":709807,"./bn.js":709807,"./bo":858437,"./bo.js":858437,"./br":784557,"./br.js":784557,"./bs":979332,"./bs.js":979332,"./ca":493667,"./ca.js":493667,"./cs":276860,"./cs.js":276860,"./cv":515427,"./cv.js":515427,"./cy":158863,"./cy.js":158863,"./da":513520,"./da.js":513520,"./de":112111,"./de-at":30464,"./de-at.js":30464,"./de-ch":750701,"./de-ch.js":750701,"./de.js":112111,"./dv":494438,"./dv.js":494438,"./el":33121,"./el.js":33121,"./en-au":849197,"./en-au.js":849197,"./en-ca":753885,"./en-ca.js":753885,"./en-gb":551914,"./en-gb.js":551914,"./en-ie":880938,"./en-ie.js":880938,"./en-nz":619722,"./en-nz.js":619722,"./eo":742783,"./eo.js":742783,"./es":56820,"./es-do":559651,"./es-do.js":559651,"./es-us":146018,"./es-us.js":146018,"./es.js":56820,"./et":818686,"./et.js":818686,"./eu":831323,"./eu.js":831323,"./fa":261885,"./fa.js":261885,"./fi":263741,"./fi.js":263741,"./fo":219961,"./fo.js":219961,"./fr":802800,"./fr-ca":388121,"./fr-ca.js":388121,"./fr-ch":427979,"./fr-ch.js":427979,"./fr.js":802800,"./fy":428930,"./fy.js":428930,"./gd":695513,"./gd.js":695513,"./gl":224485,"./gl.js":224485,"./gom-latn":703878,"./gom-latn.js":703878,"./gu":25435,"./gu.js":25435,"./he":862825,"./he.js":862825,"./hi":727282,"./hi.js":727282,"./hr":402438,"./hr.js":402438,"./hu":591310,"./hu.js":591310,"./hy-am":614794,"./hy-am.js":614794,"./id":108761,"./id.js":108761,"./is":256593,"./is.js":256593,"./it":272196,"./it.js":272196,"./ja":812645,"./ja.js":812645,"./jv":471869,"./jv.js":471869,"./ka":174093,"./ka.js":174093,"./kk":919794,"./kk.js":919794,"./km":792637,"./km.js":792637,"./kn":828684,"./kn.js":828684,"./ko":94565,"./ko.js":94565,"./ky":465606,"./ky.js":465606,"./lb":472027,"./lb.js":472027,"./lo":280366,"./lo.js":280366,"./lt":327311,"./lt.js":327311,"./lv":531851,"./lv.js":531851,"./me":952700,"./me.js":952700,"./mi":673575,"./mi.js":673575,"./mk":195509,"./mk.js":195509,"./ml":429866,"./ml.js":429866,"./mr":713798,"./mr.js":713798,"./ms":526848,"./ms-my":701212,"./ms-my.js":701212,"./ms.js":526848,"./mt":863181,"./mt.js":863181,"./my":63977,"./my.js":63977,"./nb":47248,"./nb.js":47248,"./ne":891859,"./ne.js":891859,"./nl":127058,"./nl-be":66901,"./nl-be.js":66901,"./nl.js":127058,"./nn":561748,"./nn.js":561748,"./pa-in":634266,"./pa-in.js":634266,"./pl":79581,"./pl.js":79581,"./pt":687410,"./pt-br":906114,"./pt-br.js":906114,"./pt.js":687410,"./ro":138295,"./ro.js":138295,"./ru":539862,"./ru.js":539862,"./sd":59548,"./sd.js":59548,"./se":293236,"./se.js":293236,"./si":340289,"./si.js":340289,"./sk":658339,"./sk.js":658339,"./sl":574170,"./sl.js":574170,"./sq":615316,"./sq.js":615316,"./sr":668791,"./sr-cyrl":447630,"./sr-cyrl.js":447630,"./sr.js":668791,"./ss":65773,"./ss.js":65773,"./sv":731159,"./sv.js":731159,"./sw":422329,"./sw.js":422329,"./ta":267054,"./ta.js":267054,"./te":971280,"./te.js":971280,"./tet":154120,"./tet.js":154120,"./th":254679,"./th.js":254679,"./tl-ph":63270,"./tl-ph.js":63270,"./tlh":845386,"./tlh.js":845386,"./tr":664669,"./tr.js":664669,"./tzl":691434,"./tzl.js":691434,"./tzm":57217,"./tzm-latn":547665,"./tzm-latn.js":547665,"./tzm.js":57217,"./uk":969596,"./uk.js":969596,"./ur":985133,"./ur.js":985133,"./uz":349456,"./uz-latn":978737,"./uz-latn.js":978737,"./uz.js":349456,"./vi":905577,"./vi.js":905577,"./x-pseudo":464564,"./x-pseudo.js":464564,"./yo":68854,"./yo.js":68854,"./zh-cn":795817,"./zh-cn.js":795817,"./zh-hk":266634,"./zh-hk.js":266634,"./zh-tw":749292,"./zh-tw.js":749292};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=754125},
/***/930760:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/htc_single_beep.2f739e6d.mp3"},
/***/405074:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/notification.3537b31a.mp3"},
/***/76834:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/stuffed-and-dropped.922dd833.mp3"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/38997.js.map