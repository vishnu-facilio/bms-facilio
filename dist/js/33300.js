"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[33300],{
/***/437499:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BaseWidget}});// CONCATENATED MODULE: ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/BaseWidget.vue?vue&type=script&lang=js
/* harmony default export */var render,staticRenderFns,BaseWidgetvue_type_script_lang_js={methods:{widgetInit:function(){
// widget init base class
}}},HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js=BaseWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BaseWidget=component.exports},
/***/33300:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ListView}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/ListView.vue?vue&type=template&id=62afb6da
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"portal-service-request-card h100"},[_c("el-card",{staticClass:"box-card fc-recently-received-card fc-service-request-card h100"},[_c("div",{staticClass:"flex-middle p20"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/service-request",iconClass:"icon text-center icon-md vertical-bottom"}}),_c("div",{staticClass:"fc-portal-title-txt-14 fw5 pL10"},[_vm._v(" Service Requests ")])],1),_c("div",{staticClass:"flex-middle mB20",staticStyle:{padding:"0px 20px"},attrs:{gutter:10}},[_c("div",{staticClass:"mR20"},[_c("div",{staticClass:"service-request-add "},[_c("div",{staticClass:"fc-add-circle"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/plus",iconClass:"icon text-center icon-md vertical-bottom"}})],1),_c("div",{staticClass:"pT5 add-request",on:{click:function($event){return _vm.redirectTo("add-request")}}},[_vm._v(" Add Request ")])])]),_vm.serviceCatalogs.length?[_vm._l(_vm.serviceCatalogs,(function(serviceCatalog,index){return index<3?_c("div",{key:index,staticClass:"flex-middle flex-direction-column service-request-cat-add pointer",on:{click:function($event){return _vm.redirectTosServiceCategories(serviceCatalog.id)}}},[_c("div",{staticClass:"fc-circle  pointer"},[_vm.$validation.isEmpty(serviceCatalog.photoUrl)?_c("inline-svg",{staticClass:"vertical-middle icon-catalog",staticStyle:{height:"100%",width:"100%"},attrs:{src:"vehicle-delivery",iconClass:"icon icon-38"}}):_c("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:serviceCatalog.photoUrl}})],1),_c("div",{staticClass:"fc-grey11 pT5"},[_vm._v(" "+_vm._s(serviceCatalog.name)+" ")])]):_vm._e()})),_vm.serviceCatalogs[5]?_c("div",{staticClass:"flex-middle flex-direction-column service-request-cat-add",staticStyle:{position:"absolute",right:"10px"}},[_c("div",{staticClass:"w100 h100",staticStyle:{display:"contents"}},[_c("div",{staticClass:"fc-circle pointer",staticStyle:{color:"#483db6"},on:{click:function($event){return _vm.redirectTosServiceCategories()}}},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/ic-more-horiz"}})],1),_c("div",{staticClass:"fc-grey11 text-center pT5"},[_vm._v(" More ")])])]):_vm._e()]:_vm._e()],2),_vm.reports.length?[_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.tableData,"show-header":!1}},[_c("el-table-column",{attrs:{prop:"id",width:"100"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"fc-portal-blue-txt14 inline",staticStyle:{"padding-left":"20px"},on:{click:function($event){return _vm.redirectToSRSummary(scope.row.id)}}},[_vm._v(" "+_vm._s("# "+scope.row.id)+" ")])]}}],null,!1,1743295943)}),_c("el-table-column",{attrs:{prop:"subject"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"fc-portal-black14",on:{click:function($event){return _vm.redirectToSRSummary(scope.row.id)}}},[_vm._v(" "+_vm._s(""+scope.row.subject)+" ")])]}}],null,!1,2826668152)}),_c("el-table-column",{attrs:{prop:"moduleState"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[scope.row.moduleState?_c("div",{staticStyle:{display:"flex",width:"100%"}},["OPEN"===scope.row.moduleState.type?_c("div",{staticClass:"fc-status-dot-green mR5"}):"CLOSED"===scope.row.moduleState.type?_c("div",{staticClass:"fc-status-dot-red mR5"}):_vm._e(),_c("div",[_vm._v(" "+_vm._s(scope.row.moduleState.displayName)+" ")])]):_vm._e()]}}],null,!1,1815899106)})],1),_vm.reports.length>=3?_c("div",{staticClass:"service-request-footer pointer",on:{click:function($event){return _vm.redirectTo("show-all")}}},[_vm._v(" Show all ")]):_vm._e()]:[_c("div",{staticClass:"fc-fourth-sec-body"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/EmptyState/Emptystate-Servicerequest",iconClass:"text-center vertical-bottom icon-sm-md"}})],1)]],2)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(32284)),router=__webpack_require__(329435),BaseWidget=__webpack_require__(437499),ListViewvue_type_script_lang_js={extends:BaseWidget/* default */.Z,mounted:function(){this.getServiceReports(),this.getServiceCatalogs()},data:function(){return{moduleName:"serviceRequest",reports:[],serviceCatalogs:[],dropdownOptions:[]}},computed:{tableData:function(){var data=[];return this.reports.length>2?(data.push(this.reports[0]),data.push(this.reports[1]),data):this.reports}},methods:{redirectToSRSummary:function(id){var moduleName=this.moduleName,currentView="all_employee_portal",route=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW);route&&this.$router.push({name:route.name,params:{viewname:currentView,id:id}})},redirectTosServiceCategories:function(id){var pathObj=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.SERVICE_CATALOG);id?this.$router.push({path:"/employee/".concat(pathObj.path,"/").concat(id)}):this.$router.push({path:"/employee/".concat(pathObj.path)})},getServiceCatalogs:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var url,_yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:
// let url = 'v2/servicecatalog/list?page=1&perPage=50'
return url="v2/servicecatalog/list?page=1&perPage=10",_context.next=3,api/* API */.bl.get(url);case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error||(_this.serviceCatalogs=data.serviceCatalogs),_this.serviceCatalogs.forEach((function(cat){var option={name:cat.form.displayName,id:cat.id,img:cat.photoUrl};_this.dropdownOptions.push(option)}));case 8:case"end":return _context.stop()}}),_callee)})))()},getServiceReports:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var url,_yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return url="v3/modules/data/list?viewName=myallrequests&page=1&perPage=10&withCount=true&moduleName=serviceRequest",_context2.next=3,api/* API */.bl.get(url);case 3:_yield$API$get2=_context2.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error||(_this2.reports=data.serviceRequest);case 7:case"end":return _context2.stop()}}),_callee2)})))()},redirectTo:function(val){if("add-request"==val){var pathObj=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE);this.$router.push({path:"/employee/".concat(pathObj.path)})}else if("show-all"==val){var _pathObj=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST),path=_pathObj.path.replaceAll(":viewname","all_employee_portal");this.$router.push({path:"/employee/".concat(path)})}}}},HomepageWidgetComponents_ListViewvue_type_script_lang_js=ListViewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_ListViewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ListView=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/33300.js.map