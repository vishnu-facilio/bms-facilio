(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[39235],{
/***/926128:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EmployeePortalHome}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/employeePortalOverview/EmployeePortalHome.vue?vue&type=template&id=6a8f7564
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.acc&&_vm.acc.user&&_vm.acc.user.proxy?_c("div",[_c("el-alert",{staticClass:"fc-portal-login-alert",attrs:{title:_vm.proxyBanner,type:"error",closable:!1,effect:"dark"}})],1):_vm._e(),_vm.loading?_c("div",{staticClass:"flex-middle justify-content-center height100vh width100"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",{staticClass:"width100 portal-home-layout"},[_c("el-container",{staticStyle:{height:"100%"}},[_c("EmployeeSidebar"),_c("el-container",[_c("el-header",{staticClass:"p0",attrs:{height:"56px"}},[_c("EmployeePortalHeader")],1),_c("el-main",{staticClass:"p0 employee-portal-homepage"},[_c("router-view")],1)],1)],1),_vm.$helpers.isLicenseEnabled("CHATBOT")?_c("f-chatbot"):_vm._e()],1)])},staticRenderFns=[],slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),portalHomeMixin=(__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(434284),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(298563)),EmployeeSideBarvue_type_template_id_43ffbd44_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-aside",{staticClass:"fc-v1-portal-sidebar pT0 d-flex flex-col",class:{collapsed:_vm.collapsed},attrs:{width:_vm.sidebarWidth}},[_c("div",{staticClass:"collapse-icon show-hide-icon",class:{collapsed:_vm.collapsed},on:{click:_vm.setStateForSidebar}},[_c("InlineSvg",{attrs:{src:"svgs/employeePortal/collpase-icon",iconClass:"icon icon-sm17"}})],1),_c("div",{staticClass:"d-flex justify-center width100"},[_c("a",{staticClass:"emp-sidebar-logo",on:{click:_vm.onLogoClick}},[_vm.$getProperty(_vm.$account,"org.logoUrl")?_c("img",{staticClass:"object-scale-down",attrs:{src:_vm.getLogoUrl(_vm.$account.org),height:"80",width:"100%"}}):"Moro"==this.brandName?_c("img",{staticClass:"object-scale-down",attrs:{height:"80",width:"220",src:__webpack_require__(700185)}}):_c("img",{staticClass:"object-scale-down",attrs:{src:__webpack_require__(117524),height:"80",width:"100%"}})])]),_vm.getRequestRoute()?_c("div",{staticClass:"d-flex mT10 mB20 p10 justify-center"},[_vm.getRequestRoute()?_c("router-link",{staticClass:"tenant-portal-sub-btn",attrs:{to:_vm.getRequestRoute()}},[_vm._v(" "+_vm._s(_vm.$t("tenant.announcement.submit_req"))+" ")]):_vm._e()],1):_vm._e(),_c("ul",{staticClass:"tenantportal-sidebar-list"},[_vm._l(_vm.filteredMenu,(function(group){return[1===group.webTabs.length?[_c("router-link",{key:group.webTabs[0].id,staticClass:"pointer list-item list-hover pT10 pB10 pL15 pR15  ",class:{"textoverflow-ellipsis":!_vm.collapsed},attrs:{to:_vm.findRouteForTab(group.webTabs[0].id),tag:"li"}},[_c("InlineSvg",{attrs:{src:_vm.getIconPath(group.iconType),iconClass:"icon icon-xxll vertical-middle mR10"}}),_vm._v(" "+_vm._s(!_vm.collapsed&&_vm.showNames?group.name:"")+" ")],1)]:[_c("div",{key:group.id,staticClass:"d-flex flex-col"},[_vm.collapsed?_vm._e():_c("div",{staticClass:"list-item pT10 pB10 pL15 pR10 pointer m0",staticStyle:{"border-left":"3px solid transparent"},on:{click:function($event){return _vm.expandGroup(group)}}},[_c("InlineSvg",{attrs:{src:_vm.getIconPath(group.iconType),iconClass:"icon icon-xxll vertical-middle mR10"}}),_vm._v(" "+_vm._s(!_vm.collapsed&&_vm.showNames?group.name:"")+" "),_vm.collapsed?_vm._e():_c("i",{class:{"el-icon-arrow-up fR f12 mT5":!0,rotate180:group.id!==_vm.selectedGroupId}})],1),_vm.collapsed?_c("el-popover",{attrs:{placement:"right",width:"200",trigger:"hover","popper-class":"p0 employee-portal-sidebar-popover"}},[_c("div",{directives:[{name:"show",rawName:"v-show",value:group.id===_vm.selectedGroupId,expression:"group.id === selectedGroupId"}],staticClass:"d-flex flex-col pointer popover-side-bar"},_vm._l(group.webTabs,(function(tab){return _c("router-link",{key:tab.id,staticClass:"pointer list-item list-item-small list-hover pT10 pB10 pL20 pR10 m0 ",class:{"textoverflow-ellipsis":!_vm.collapsed},staticStyle:{"border-bottom":"1px solid #ebeff3"},attrs:{to:_vm.findRouteForTab(tab.id)}},[_vm._v(" "+_vm._s(tab.name)+" ")])})),1),_c("div",{staticClass:"list-item pT10 pB10 pL15 pR10 pointer m0",staticStyle:{"border-left":"3px solid transparent"},attrs:{slot:"reference"},on:{click:function($event){return _vm.expandGroup(group)},mouseenter:function($event){return _vm.handleHoverexpandGroup(group)}},slot:"reference"},[_c("InlineSvg",{attrs:{src:_vm.getIconPath(group.iconType),iconClass:"icon icon-xxll vertical-middle mR10"}}),_vm._v(" "+_vm._s(!_vm.collapsed&&_vm.showNames?group.name:"")+" "),_vm.collapsed?_vm._e():_c("i",{class:{"el-icon-arrow-up fR f12 mT5":!0,rotate180:group.id!==_vm.selectedGroupId}})],1)]):_vm._e(),_vm.collapsed?_vm._e():_c("el-collapse-transition",[_c("div",{directives:[{name:"show",rawName:"v-show",value:group.id===_vm.selectedGroupId,expression:"group.id === selectedGroupId"}],staticClass:"d-flex flex-col pointer"},_vm._l(group.webTabs,(function(tab){return _c("router-link",{key:tab.id,staticClass:"pointer list-item list-item-small list-hover pT10 pB10 pL52 pR10 m0 ",class:{"textoverflow-ellipsis":!_vm.collapsed},staticStyle:{"border-bottom":"1px solid #ebeff3"},attrs:{to:_vm.findRouteForTab(tab.id)}},[_vm._v(" "+_vm._s(!_vm.collapsed&&_vm.showNames?tab.name:"")+" ")])})),1)])],1)]]}))],2)])},EmployeeSideBarvue_type_template_id_43ffbd44_scoped_true_staticRenderFns=[],validation=(__webpack_require__(538077),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),webtab_icons=__webpack_require__(326884),router=__webpack_require__(329435),rebrandMixin=__webpack_require__(222174),EmployeeSideBarvue_type_script_lang_js={mixins:[portalHomeMixin/* default */.Z,rebrandMixin/* default */.Z],data:function(){return{openGroupId:null,brandName:"",collapsed:!1,showNames:!0}},mounted:function(){
// if (window.rebrandInfo && window.rebrandInfo.brandName) {
//   this.brandName = window.rebrandInfo.brandName
// }
window.brandConfig&&window.brandConfig.name&&(this.brandName=window.brandConfig.name),this.getStateForSideBar()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabGroups","isAppPrefEnabled"])),(0,vuex_esm/* mapState */.rn)("webtabs",["selectedTabGroup"])),{},{appName:function(){return(0,router/* getApp */.wx)().linkName||"tenant"},sidebarWidth:function(){return this.collapsed?"60px":"200px"},filteredMenu:function(){var groups=sortBy_default()(this.getTabGroups(),["order"]);return groups.map((function(group){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},group),{},{webTabs:sortBy_default()(group.webTabs||[],["order"])})})).filter((function(group){return!(0,validation/* isEmpty */.xb)(group.webTabs)}))},selectedGroupId:{get:function(){return this.openGroupId||this.$getProperty(this.selectedTabGroup,"id",null)},set:function(value){this.openGroupId=value}}}),watch:{selectedTabGroup:{handler:function(value){value&&(this.openGroup=value.id)},immediate:!0}},methods:{findRouteForTab:router/* findRouteForTab */.OD,getIconPath:function(type){var iconType=webtab_icons/* default */.Z[type]||{};return iconType.icon||webtab_icons/* default */.Z[200].icon},getStateForSideBar:function(){var collapsed=window.localStorage.getItem("PORTAL_SIDEBAR_COLLPASE");"true"===collapsed?(this.collapsed=!0,this.showNames=!1):(this.collapsed=!1,this.showNames=!0)},setStateForSidebar:function(){var _this=this;this.collapsed=!this.collapsed,window.localStorage.setItem("PORTAL_SIDEBAR_COLLPASE",this.collapsed),setTimeout((function(){_this.showNames=!_this.showNames}),500)},expandGroup:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},id=_ref.id;id&&this.selectedGroupId!==id?this.selectedGroupId=id:this.selectedGroupId=null},handleHoverexpandGroup:function(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},id=_ref2.id;this.selectedGroupId=id},getLogoUrl:function(org){return org&&org.logoUrl?this.$prependBaseUrl(org.logoUrl):null},profileAction:function(command){"myprofile"===command?this.$router.push({path:"/".concat(this.appName,"/profile")}):"logout"===command&&this.logout()},getRequestRoute:function(){var _ref3=this.isAppPrefEnabled("canShowSubmitRequest")||{},tab=_ref3.tab,moduleName=_ref3.moduleName;return"service_catelog"===tab?(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.CUSTOM,{config:{type:"serviceCatalog"}}):"module"===tab?(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE):!!["tenant","service"].includes(this.appName)&&(0,router/* findRouteForModule */.Jp)("workorder",router/* pageTypes */.As.CREATE)},getRouteForFirstTab:function(){var initialGroup=this.filteredMenu[0],tabId=initialGroup.webTabs[0].id;return(0,router/* findRouteForTab */.OD)(tabId)},getLoginRoute:function(){return{name:"login"}},onLogoClick:function(){var _ref4=this.$portaluser?this.getRouteForFirstTab():this.getLoginRoute(),name=_ref4.name;name&&this.$router.push({name:name})}}},employeePortalOverview_EmployeeSideBarvue_type_script_lang_js=EmployeeSideBarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EmployeeSideBarvue_type_script_lang_js,EmployeeSideBarvue_type_template_id_43ffbd44_scoped_true_render,EmployeeSideBarvue_type_template_id_43ffbd44_scoped_true_staticRenderFns,!1,null,"43ffbd44",null)
/* harmony default export */,EmployeeSideBar=component.exports,Spinner=__webpack_require__(604947),dlv_umd=__webpack_require__(226905),dlv_umd_default=__webpack_require__.n(dlv_umd),FChatbotWrapper=__webpack_require__(568110),websocketMixin=__webpack_require__(222308),wms_client=__webpack_require__(907974),vue_runtime_esm=__webpack_require__(720144),data_dog=__webpack_require__(741003),pendo=__webpack_require__(748332),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),util=__webpack_require__(906363),EmployeePortalHeadervue_type_template_id_72740ba4_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-employee-portal-home-header pL15 pR10",attrs:{height:"70"}},[_c("div",{staticClass:"fc-employee-heder-left"},[_c("portal-target",{attrs:{name:"employee-portal-top-header","slot-props":{targetRecived:!0}},on:{change:_vm.handleUpdate}}),_vm.showTabName?_c("span",[_vm._v(_vm._s(_vm.currentTab.name))]):_vm._e()],1),_c("div",{staticClass:"fc-employee-heder-right"},[_c("GlobalAdd"),_c("div",{staticClass:"pL20 pR10 pointer",staticStyle:{position:"relative",top:"0",right:"5px"}},[_c("Notification",{ref:"notification",staticStyle:{"font-size":"15px"},attrs:{iconSrc:"svgs/employeePortal/bell",iconClass:"icon text-center icon-xl vertical-bottom"}})],1),_c("el-dropdown",{staticClass:"UserAvatar",attrs:{trigger:"click"},on:{command:_vm.profileAction}},[_c("span",{staticClass:"el-dropdown-link"},[_c("UserAvatar",{staticClass:"pointer portal-profile-hover",attrs:{size:"md",user:_vm.$portaluser,name:!1,iconClass:"icon text-center icon-xxl"}})],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"myprofile"}},[_c("span",{staticClass:"pointer"},[_vm._v(" "+_vm._s(_vm.$t("tenant.announcement.my_profile"))+" ")])]),_c("el-dropdown-item",{attrs:{command:"logout"},on:{change:_vm.logout}},[_c("span",{staticClass:"pointer"},[_vm._v(_vm._s(_vm.$t("tenant.announcement.logout")))])])],1)],1)],1)])},EmployeePortalHeadervue_type_template_id_72740ba4_staticRenderFns=[],GlobalAddButtonvue_type_template_id_4de2d470_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dropdown",{staticClass:"fc-employee-portal-add-btn relative",attrs:{trigger:"click",type:"primary"},on:{click:_vm.handleClick,command:_vm.handleMethod}},[_c("el-button",{staticClass:"relative",attrs:{type:"primary"}},[_c("InlineSvg",{attrs:{src:"svgs/employeePortal/ic_add",iconClass:"icon icon-xs vertical-middle"}})],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.dropdownAction,(function(action,index){return _c("el-dropdown-item",{key:index,staticClass:"d-flex dropdownAction",attrs:{command:action.currentRoute}},[action.show?_c("div",{staticClass:"rotate-div"},[_c("InlineSvg",{attrs:{src:action.icon,iconClass:"icon icon-xs vertical-middle"}})],1):_vm._e(),_c("div",{staticClass:"mL10"},[_vm._v(_vm._s(action.name))])])})),1)],1),_vm.showFormVisibility?_c("VisitsAndInvitesForm",{attrs:{moduleName:_vm.localModuleName,formMode:_vm.formMode},on:{onClose:_vm.closeVisitorTypeSelect}}):_vm._e()],1)},GlobalAddButtonvue_type_template_id_4de2d470_scoped_true_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),ViewMixin=(__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(947522),__webpack_require__(339772),__webpack_require__(648324),__webpack_require__(453877)),api=__webpack_require__(32284),VisitsAndInvitesForm=__webpack_require__(792649),GlobalAddButtonvue_type_script_lang_js={mixins:[ViewMixin/* default */.Z],components:{VisitsAndInvitesForm:VisitsAndInvitesForm/* default */.Z},data:function(){return{localModuleName:null,moduleRecordList:[],visitsModuleName:null,formMode:"single",showFormVisibility:!1,changeDisplayName:{spacebooking:"Booking",serviceRequest:"Requests",invitevisitor:"Visitors"},excludeDropdownAction:{visitorlog:"visitorlog"}}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),{},{currentCreationRoute:function(){return this.getCurrentCreationRoute()},hasPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("CREATE",currentTab)},buttonDisplayName:function(){var currentTab=this.currentTab,configJSON=currentTab.configJSON,_ref=configJSON||{},actionName=_ref.actionName;return actionName},moduleName:function(){var modules=this.currentTab.modules;if(modules&&modules.length){var moduleObject=modules[0];return null!==moduleObject&&void 0!==moduleObject&&moduleObject.name?moduleObject.name:null}return null},moduleDisplayName:function(){var _this$metaInfo;return null===(_this$metaInfo=this.metaInfo)||void 0===_this$metaInfo?void 0:_this$metaInfo.displayName},currentViewFields:function(){return this.viewFields},showLoading:function(){return this.loading||this.viewLoading||this.tableLoading},openModuleId:function(){return this.$attrs.id?parseInt(this.$attrs.id):-1},currentView:function(){return this.$attrs.viewname},page:function(){return this.$route.query.page||1},filters:function(){var query=this.$route.query,_ref2=query||{},search=_ref2.search;return search?JSON.parse(search):null},title:function(){return this.moduleDisplayName},isV3Api:function(){return!0},currentTabConfig:function(){var configJSON=this.currentTab.configJSON;return(0,validation/* isEmpty */.xb)(configJSON)?{}:configJSON},nameColumn:function(){var _this=this,viewColumns=this.viewColumns;return(0,validation/* isEmpty */.xb)(viewColumns)?null:viewColumns.find((function(column){return _this.$getProperty(column,"field.mainField")}))},idField:function(){return"id"},canShowEdit:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("UPDATE",currentTab)},canShowDelete:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("DELETE",currentTab)},hasActionPermissions:function(){var canShowEdit=this.canShowEdit,canShowDelete=this.canShowDelete;return canShowEdit||canShowDelete}},(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabGroups","isAppPrefEnabled","tabHasPermission"])),(0,vuex_esm/* mapState */.rn)("webtabs",["selectedTabGroup"])),{},{webTabsList:function(){var groups=sortBy_default()(this.getTabGroups(),["order"]),webtabGroupList=groups.map((function(group){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},group),{},{webTabs:sortBy_default()(group.webTabs||[],["order"])})})).filter((function(group){return!(0,validation/* isEmpty */.xb)(group.webTabs)})),webTabsList=[];return webtabGroupList.forEach((function(webTabGroup){webTabsList.push.apply(webTabsList,(0,toConsumableArray/* default */.Z)(webTabGroup.webTabs.map((function(rt){return rt}))))})),webTabsList},dropdownAction:function(){var _this2=this,list=[],webTabsList=this.webTabsList;return(0,validation/* isEmpty */.xb)(webTabsList)||webTabsList.forEach((function(tab){if(null!==tab.modules){var modules=tab.modules;if((null===modules||void 0===modules?void 0:modules.length)>0){var moduleName=modules[0].name,moduleDisplayName=modules[0].displayName||tab.name;_this2.isDuplicateTab(moduleName,list)||_this2.excludeDropdownAction[moduleName]||list.push({name:_this2.changeDisplayName[moduleName]?_this2.changeDisplayName[moduleName]:"".concat(moduleDisplayName),moduleName:moduleName,currentRoute:_this2.getCreationRoute(moduleName),icon:"svgs/employeePortal/ic_add",show:_this2.tabHasPermission("CREATE",tab)})}}})),list},columnConfig:{set:function(value){this.defaultColumnConfig=value},get:function(){var _ref3=this||{},defaultColumnConfig=_ref3.defaultColumnConfig,nameColumn=_ref3.nameColumn,fixedColumns=this.$getProperty(this,"defaultColumnConfig.fixedColumns",[]);if(!(0,validation/* isEmpty */.xb)(nameColumn)){var _ref4=nameColumn||{},name=_ref4.name;fixedColumns=[].concat((0,toConsumableArray/* default */.Z)(fixedColumns),[name])}return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},defaultColumnConfig),{},{fixedColumns:fixedColumns})}}}),watch:{moduleName:{handler:function(newVal,oldVal){newVal===oldVal||(0,validation/* isEmpty */.xb)(newVal)||(this.$store.dispatch("loadTicketStatus",this.moduleName),this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){})))},immediate:!0},currentViewFields:function(){var _this3=this;this.tableLoading=!0,this.$nextTick((function(){_this3.$refs.tableList&&_this3.$refs.tableList.doLayout(),_this3.tableLoading=!1}))},currentView:{handler:function(newVal,oldVal){newVal!==oldVal&&(this.getViewDetail(),this.loadRecords())},immediate:!0},page:function(newVal,oldVal){oldVal===newVal||this.loading||this.loadRecords()},filters:function(){this.loadRecords()}},methods:{isDuplicateTab:function(moduleName,list){var tabIndex=list.findIndex((function(rt){return rt.moduleName===moduleName}));return tabIndex>-1},closeVisitorTypeSelect:function(){this.showFormVisibility=!1},handleMethod:function(command){var findRouterObj=this.dropdownAction.find((function(rt){return rt.currentRoute===command}));null!==findRouterObj&&void 0!==findRouterObj&&findRouterObj.moduleName&&["invitevisitor","visitorlog","groupinvite"].includes(findRouterObj.moduleName)?"groupinvite"==findRouterObj.moduleName?(this.localModuleName="invitevisitor",this.showFormVisibility=!0,this.formMode="bulk"):(this.localModuleName=findRouterObj.moduleName,this.showFormVisibility=!0,this.formMode="single"):this.$router.push(command)},handleClick:function(){null!==this.currentCreationRoute&&(this.moduleName&&["invitevisitor","visitorlog"].includes(this.moduleName)?this.showFormVisibility=!0:(0,validation/* isEmpty */.xb)(this.getCurrentCreationRoute())||this.$router.push(this.getCurrentCreationRoute()),this.$emit("click"))},canShowActions:function(record){var moduleName=this.moduleName;return!(0,util/* isRecordLocked */.x)(record,moduleName)&&!(0,util/* isRequestedState */.k)(record)},getViewDetail:function(){this.currentView&&this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName})},refreshList:function(){this.loadRecords()},loadRecords:function(){var _arguments=arguments,_this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var force,filters,currentView,moduleName,page,includeParentFilter,_yield$API$fetchAll,list,_yield$API$fetchAll$m,_yield$API$fetchAll$m2,_yield$API$fetchAll$m3,pagination,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(force=_arguments.length>0&&void 0!==_arguments[0]&&_arguments[0],filters=_this4.filters,currentView=_this4.currentView,moduleName=_this4.moduleName,page=_this4.page,includeParentFilter=_this4.includeParentFilter,!(0,validation/* isEmpty */.xb)(currentView)){_context.next=4;break}return _context.abrupt("return");case 4:return _this4.loading=!0,_context.next=7,api/* API */.bl.fetchAll(moduleName,{viewName:currentView,page:page,perPage:50,withCount:!0,filters:(0,validation/* isEmpty */.xb)(filters)?null:JSON.stringify(filters),includeParentFilter:includeParentFilter},{force:force});case 7:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,_yield$API$fetchAll$m=_yield$API$fetchAll.meta,_yield$API$fetchAll$m2=void 0===_yield$API$fetchAll$m?{}:_yield$API$fetchAll$m,_yield$API$fetchAll$m3=_yield$API$fetchAll$m2.pagination,pagination=void 0===_yield$API$fetchAll$m3?{}:_yield$API$fetchAll$m3,error=_yield$API$fetchAll.error,error?_this4.$message.error(error.message||"Could not fetch list"):(_this4.moduleRecordList=list,_this4.listCount=pagination.totalCount||null),_this4.loading=!1;case 16:case"end":return _context.stop()}}),_callee)})))()},deleteRecord:function(id){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,moduleDisplayName,value,_yield$API$deleteReco,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return moduleName=_this5.moduleName,moduleDisplayName=_this5.moduleDisplayName,_context2.next=3,_this5.$dialog.confirm({title:"Delete ".concat(moduleDisplayName),message:"Are you sure you want to delete this ".concat(moduleDisplayName,"?"),rbDanger:!0,rbLabel:"Delete"});case 3:if(value=_context2.sent,value){_context2.next=6;break}return _context2.abrupt("return");case 6:return _context2.next=8,api/* API */.bl.deleteRecord(moduleName,id);case 8:_yield$API$deleteReco=_context2.sent,error=_yield$API$deleteReco.error,error?_this5.$message.error(error.message||"Error Occurred"):(_this5.$message.success(_this5.$t("Deleted Successfully")),_this5.loadRecords());case 11:case"end":return _context2.stop()}}),_callee2)})))()},openRecordSummary:function(id){var _this$currentTabConfi=this.currentTabConfig.hideSummary,hideSummary=void 0!==_this$currentTabConfi&&_this$currentTabConfi;if(!hideSummary){var moduleName=this.moduleName,currentView=this.currentView,route=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW);route&&this.$router.push({name:route.name,params:{viewname:currentView,id:id}})}},getCurrentCreationRoute:function(){var moduleName=this.moduleName,_ref5=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref5.name;return name?{name:name}:null},getCreationRoute:function(moduleName){var _ref6=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref6.name;return name?{name:name}:null},editRecord:function(id){var moduleName=this.moduleName,route=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.EDIT);this.$router.push({name:route.name,params:{id:id}})},getFileName:function(field,record){var $getProperty=this.$getProperty;return $getProperty(record,"".concat(field.name,"FileName"),null)},openAttachment:function(field,record){var data=record;this.selectedFile={contentType:data["".concat(field.name,"ContentType")],fileName:data["".concat(field.name,"FileName")],downloadUrl:data["".concat(field.name,"DownloadUrl")],previewUrl:data["".concat(field.name,"Url")]},this.showPreview=!0}}},employeePortalOverview_GlobalAddButtonvue_type_script_lang_js=GlobalAddButtonvue_type_script_lang_js,GlobalAddButton_component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_GlobalAddButtonvue_type_script_lang_js,GlobalAddButtonvue_type_template_id_4de2d470_scoped_true_render,GlobalAddButtonvue_type_template_id_4de2d470_scoped_true_staticRenderFns,!1,null,"4de2d470",null)
/* harmony default export */,GlobalAddButton=GlobalAddButton_component.exports,Notificationvue_type_template_id_d046070c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-popover",{attrs:{placement:"bottom-end",width:"420",trigger:"click","popper-class":"notification-popover pT10 pB20 pL0 pR0",tabindex:-1},on:{show:_vm.notificationSeenUpdate},model:{value:_vm.canShowPopup,callback:function($$v){_vm.canShowPopup=$$v},expression:"canShowPopup"}},[_c("el-badge",{staticClass:"notifications-unread-new",attrs:{slot:"reference",value:_vm.unseenNotificationCount,max:99},slot:"reference"},[_c("inline-svg",{attrs:{src:_vm.iconSrc,iconClass:_vm.iconClass}})],1),_c("div",{staticClass:"border-bottom16 flex-center-row-space pB15 pR15 pL15 pT10"},[_c("div",{staticClass:"notification-title fwBold f13 letter-spacing1"},[_vm._v(" "+_vm._s(_vm.$t("setup.setup.notifications"))+" ")]),_c("i",{staticClass:"el-icon-close pointer f16 fwBold",on:{click:function($event){_vm.canShowPopup=!1}}})]),_c("NotificationList",{attrs:{showNotificationInTab:!1},on:{notificationItemClicked:_vm.notificationItemClicked,hasNotificationData:_vm.hasNotificationData}}),_vm.hasNotification?_c("div",{staticClass:"notification-footer",on:{click:function($event){_vm.canShowPopup=!1}}},[_c("router-link",{staticClass:"notification-showmore",attrs:{to:_vm.getNotificationRoute()}},[_vm._v(_vm._s(_vm.$t("common.notification.show_more")))])],1):_vm._e()],1)},Notificationvue_type_template_id_d046070c_staticRenderFns=[],NotificationList=__webpack_require__(490962),Notificationvue_type_script_lang_js={name:"NotificationPopup",props:{iconSrc:{type:String,default:function(){return"src/assets/svgs/bell"}},iconClass:{type:String,default:function(){return"icon icon-xl"}}},components:{NotificationList:NotificationList/* default */.Z},data:function(){return{unseenNotificationCount:null,canShowPopup:!1,hasNotification:!1}},created:function(){var _this=this;this.getNotificationCount().then((function(){_this.notificationUnseen>0&&(_this.unseenNotificationCount=_this.notificationUnseen)}))},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({notificationUnseen:function(state){return state.notification.unseen}})),methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({getNotificationCount:"notification/fetchNotificationCount"})),{},{notificationSeenUpdate:function(){api/* API */.bl.get("v3/usernotification/update/seen"),this.unseenNotificationCount=null},notificationItemClicked:function(hasAction){this.canShowPopup=!1;var notificationPath="/employee/profile/notifications";hasAction||this.$router.push({path:notificationPath}).catch((function(){}))},hasNotificationData:function(isNotificationPresent){isNotificationPresent&&(this.hasNotification=!0)},getNotificationRoute:function(){return"/employee/profile/notifications"}})},employeePortalOverview_Notificationvue_type_script_lang_js=Notificationvue_type_script_lang_js,Notification_component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_Notificationvue_type_script_lang_js,Notificationvue_type_template_id_d046070c_render,Notificationvue_type_template_id_d046070c_staticRenderFns,!1,null,null,null)
/* harmony default export */,Notification=Notification_component.exports,User=__webpack_require__(426803),EmployeePortalHeadervue_type_script_lang_js={mixins:[portalHomeMixin/* default */.Z],data:function(){return{showTabName:!0}},components:{GlobalAdd:GlobalAddButton,Notification:Notification,UserAvatar:User/* default */.Z},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),{},{appName:function(){return(0,router/* getApp */.wx)().linkName}}),methods:{handleUpdate:function(_ref){var from=_ref.from;this.showTabName=!from||void 0===from},handleClick:function(){},profileAction:function(command){"myprofile"===command?this.$router.push({path:"/".concat(this.appName,"/profile/myprofile")}):"logout"===command&&this.logout()}}},employeePortalOverview_EmployeePortalHeadervue_type_script_lang_js=EmployeePortalHeadervue_type_script_lang_js,EmployeePortalHeader_component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EmployeePortalHeadervue_type_script_lang_js,EmployeePortalHeadervue_type_template_id_72740ba4_render,EmployeePortalHeadervue_type_template_id_72740ba4_staticRenderFns,!1,null,null,null)
/* harmony default export */,EmployeePortalHeader=EmployeePortalHeader_component.exports,LIST=router/* pageTypes */.As.LIST,EmployeePortalHomevue_type_script_lang_js={
// props: ['moduleName'],
mixins:[portalHomeMixin/* default */.Z,websocketMixin/* default */.Z],components:{EmployeeSidebar:EmployeeSideBar,Spinner:Spinner/* default */.Z,FChatbot:FChatbotWrapper/* default */.Z,EmployeePortalHeader:EmployeePortalHeader},data:function(){return{loading:!0,displayProxyBanner:!0,counterPrefix:null,counter:null,acc:null}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _this$acc,_this$acc2;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadAccount(!0);case 2:_this.acc=_context.sent,_this.acc&&_this.acc.sessionEndTime&&null!==(_this$acc=_this.acc)&&void 0!==_this$acc&&null!==(_this$acc=_this$acc.user)&&void 0!==_this$acc&&_this$acc.proxy&&null!==(_this$acc2=_this.acc)&&void 0!==_this$acc2&&null!==(_this$acc2=_this$acc2.user)&&void 0!==_this$acc2&&_this$acc2.userName&&(_this.counterPrefix="".concat(_this.acc.user.proxy," will be viewing as ").concat(_this.acc.user.userName," for "),_this.startTimer(_this.acc.sessionEndTime));case 4:case"end":return _context.stop()}}),_callee)})))()},methods:{profileAction:function(command){"myprofile"===command?this.$router.push({path:"/".concat(this.appName,"/profile")}):"logout"===command&&this.logout()},canShowActions:function(record){var moduleName=this.moduleName;return!(0,util/* isRecordLocked */.x)(record,moduleName)&&!(0,util/* isRequestedState */.k)(record)},getViewDetail:function(){this.currentView&&this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName})},loadViews:function(){return this.$store.dispatch("view/loadGroupViews",{moduleName:this.moduleName}).then(this.initViews)},initViews:function(){if(!this.currentView){var _ref=this.groupViews.find((function(group){return!(0,validation/* isEmpty */.xb)(group.views)}))||{},views=_ref.views;(0,validation/* isEmpty */.xb)(views)||this.goToView(views[0])}},goToView:function(view){var route=this.getRoute(view);this.$router.replace(route)},getRoute:function(view){if(!(0,validation/* isEmpty */.xb)(view&&view.name)){var id=this.currentTab.id,_ref2=(0,router/* findRouteForTab */.OD)(id,{pageType:LIST})||{},_ref2$name=_ref2.name,name=void 0===_ref2$name?null:_ref2$name;return name?{name:name,params:{viewname:view.name}}:null}},startTimer:function(endTime){var _this2=this,startTime=Date.now();if(!(startTime>endTime)){var duration=endTime-startTime,interval=1e3;setInterval((function(){duration=moment_timezone_default().duration(duration-interval,"milliseconds"),_this2.counter=moment_timezone_default().utc(duration.as("milliseconds")).format("HH:mm:ss")}),interval)}},getCreationRoute:function(){return(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE)}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({proxyBanner:function(){return this.counterPrefix+(this.counter||"---")}},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),{},{moduleName:function(){return this.$attrs.moduleName}}),watch:{moduleName:{handler:function(newVal,oldVal){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(newVal===oldVal||(0,validation/* isEmpty */.xb)(newVal)){_context2.next=4;break}return _context2.next=3,_this3.$store.dispatch("view/clearViews");case 3:_this3.loadViews();case 4:case"end":return _context2.stop()}}),_callee2)})))()},immediate:!0},currentView:function(value){
// If current view is removed from URL, loadViews again and navigate to first group
(0,validation/* isEmpty */.xb)(value)&&this.loadViews()}},beforeRouteEnter:function(to,from,next){next(function(){var _ref3=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(vm){var _yield$Promise$all,_yield$Promise$all2,account,isProd;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,vm.loadPublicInfo();case 2:return _context3.next=4,Promise.all([vm.loadAccount(),vm.loadFeatures()]);case 4:_yield$Promise$all=_context3.sent,_yield$Promise$all2=(0,slicedToArray/* default */.Z)(_yield$Promise$all,1),account=_yield$Promise$all2[0],account&&dlv_umd_default()(account,"config.new_ws_endpoint")&&(vue_runtime_esm["default"].prototype.$wms=new wms_client/* default */.Z({endpoint:dlv_umd_default()(account,"config.new_ws_endpoint"),log:!0})),isProd=!0,isProd&&(0,data_dog/* initDataDog */.p)(account),(0,pendo/* initPendo */.x)(account,vm),vm.loading=!1;case 12:case"end":return _context3.stop()}}),_callee3)})));return function(_x){return _ref3.apply(this,arguments)}}())},destroyed:function(){window.removeEventListener("message")}},employeePortalOverview_EmployeePortalHomevue_type_script_lang_js=EmployeePortalHomevue_type_script_lang_js,EmployeePortalHome_component=(0,componentNormalizer/* default */.Z)(employeePortalOverview_EmployeePortalHomevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,EmployeePortalHome=EmployeePortalHome_component.exports},
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/678380:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialog}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialog.vue?vue&type=template&id=621b9da3&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:[_vm.options.className]},[_c("transition",{attrs:{name:_vm.options.transition}},[_vm.visible?_c("div",{staticClass:"f-dialog-wrapper",attrs:{id:_vm.options.id},on:{click:function($event){return $event.target!==$event.currentTarget?null:_vm.maskClick.apply(null,arguments)},keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.escape.apply(null,arguments)}}},[_c("div",{staticClass:"f-dialog-backdrop",style:{background:_vm.options.maskColor}}),_c("div",{ref:"dialogContent",staticClass:"f-dialog-content",class:{"f-dialog-wide":_vm.options.wide},attrs:{tabindex:"-1"}},[_c("div",{staticClass:"f-dialog-header",class:{"with-body":_vm.options.message}},[_c("span",{staticClass:"content delete-heading"})]),_vm.options.message?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):_vm.options.htmlMessage?_c("div",{staticClass:"f-dialog-body"},[_c("h3",{staticClass:"delete-heading"},[_vm._v(_vm._s(_vm.options.title))]),_c("span",{staticClass:"content delete-content",domProps:{innerHTML:_vm._s(_vm.options.htmlMessage)}})]):"alert"===_vm.options.mode?_c("div",{staticClass:"f-dialog-body"},[_c("span",{staticClass:"content delete-content"},[_vm._v(_vm._s(_vm.options.message))])]):"prompt"===_vm.options.mode?_c("div",{staticClass:"prompt-dialog"},[_c("div",{staticClass:"prompt-input-wrapper"},["textarea"===_vm.options.promptType?_c("textarea",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",staticStyle:{resize:"none"},attrs:{placeholder:_vm.options.promptPlaceholder},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}}):_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.input,expression:"input"}],ref:"promptInput",staticClass:"prompt-input",attrs:{placeholder:_vm.options.promptPlaceholder,type:"text"},domProps:{value:_vm.input},on:{keydown:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.rbClick.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.input=$event.target.value)}}})])]):"confirm"===_vm.options.mode&&_vm.options.confirmOptions&&_vm.options.confirmOptions.length?_c("div",{staticClass:"f-dialog-body"},_vm._l(_vm.options.confirmOptions,(function(item,idx){return _c("el-checkbox",{key:idx,model:{value:item.value,callback:function($$v){_vm.$set(item,"value",$$v)},expression:"item.value"}},[_vm._v(_vm._s(item.label))])})),1):_vm._e(),_c("div",{staticClass:"f-dialog-footer btn-block"},[_vm.options.lbHide?_vm._e():_c("button",{ref:"lbButton",staticClass:"btn btn--secondary del-cancel-btn",class:{red:_vm.options.lbDanger},attrs:{type:"button",value:_vm.options.lbLabel},on:{click:_vm.lbClick}},[_vm._v(" "+_vm._s(_vm.options.lbLabel||_vm.$t("common._common.cancel"))+" ")]),_vm.options.rbHide?_vm._e():_c("button",{ref:"rbButton",staticClass:"btn btn--primary",class:[_vm.options.rbDanger&&"btn--danger",_vm.options.rbClass?_vm.options.rbClass:"del-delete-btn"],attrs:{type:"button",value:_vm.options.rbLabel,tabindex:"-1",disabled:_vm.loadingOnConfirm},on:{click:_vm.rbClick}},[_vm._v(" "+_vm._s(_vm.options.rbLabel||"Delete")+" ")])])])]):_vm._e()])],1)},staticRenderFns=[],createClass=__webpack_require__(862833),classCallCheck=__webpack_require__(513087),OPTIONS_TEMPLATE=(__webpack_require__(260228),__webpack_require__(670560),{id:"vue-fdialog-default",
// DOM id
className:"",
// additional class name
maskColor:"rgba(40, 40, 40, 0.6)",
// color of the mask area
override:!1,
// current dialog overrides the queue and cancel any dialogs before it
parent:"body",
// parent DOM node
transition:"f-dialog-transition",
// transition name
duration:0,
// milliseconds before auto close, set to 0 or any falsy value to disable auto close
wide:!1,
// show as a wide dialog
title:"",
// dialog title
message:"",
// dialog message
mode:"alert",
// alert, confirm or prompt
forceStay:!0,
// set to true to prevent closing / canceling the dialog when mask area is clicked
defaultButton:"r",
// set the button that gets focus when the dialog shows, available when at least two buttons are shown
lbDanger:!1,
// set to true to style the left button as danger
rbDanger:!1,
// set to true to style the right button as danger
lbHide:!1,
// hide left button
rbHide:!1,
// hide right button
lbClass:"",rbClass:"",lbLabel:"Cancel",
// left button label text
rbLabel:"Ok",
// right button label text
actionAlt:null,
// callback function when left button is clicked
action:null,
// callback function when right button is clicked
promptType:"text",
// prompt type 'text' or 'textarea'
promptPlaceholder:"",htmlMessage:"",confirmOptions:null,proceedFunc:null}),CANCELLED=!0,Later=(0,createClass/* default */.Z)((function Later(){var _this=this;(0,classCallCheck/* default */.Z)(this,Later),this.promise=new Promise((function(resolve,reject){_this.reject=reject,_this.resolve=resolve}))})),FDialogvue_type_script_lang_js={OPTIONS_TEMPLATE:OPTIONS_TEMPLATE,props:[],components:{},computed:{options:function(){return Object.assign({},OPTIONS_TEMPLATE,this.optionsData)}},watch:{},data:function(){return{queue:[],optionsData:{},visible:!1,input:"",timeoutHandler:null,promiseHandler:null,loadingOnConfirm:!1}},methods:{enqueue:function(args){var pending=this.queue.length;return args.override?(this.queue=[args],this.transit()):(this.queue.push(args),0===pending&&this.transit()),args.promiseHandler=new Later,args.promiseHandler.promise},consume:function(cancelled){var _this2=this;switch(this.options.mode){case"alert":this.optionsData.promiseHandler.resolve();break;case"confirm":var value=!cancelled;this.options.confirmOptions&&this.options.confirmOptions.length&&(value=[value,this.options.confirmOptions]),this.optionsData.promiseHandler.resolve(value);break;case"prompt":cancelled?this.optionsData.promiseHandler.resolve(null):this.optionsData.promiseHandler.resolve(this.input);break;default:this.optionsData.promiseHandler.resolve();break}this.timeoutHandler&&clearTimeout(this.timeoutHandler),this.timeoutHandler=null,this.input="",cancelled||!this.options.proceedFunc?(this.transit(),this.queue.shift()):(this.loadingOnConfirm=!0,this.options.proceedFunc().then((function(){_this2.close()})))},close:function(){this.loadingOnConfirm=!1,this.visible=!1,this.queue.shift()},transit:function(){var _this3=this;this.visible=!1,setTimeout((function(){_this3.queue.length&&(_this3.optionsData=_this3.queue[0],_this3.visible=!0,setTimeout((function(){"prompt"===_this3.options.mode?_this3.$refs.promptInput.focus():_this3.$refs.rbButton.focus()})),_this3.options.duration&&(_this3.timeoutHandler=setTimeout((function(){_this3.consume()}),_this3.options.duration)))}))},escape:function(){this.consume(CANCELLED)},maskClick:function(){!1===this.options.forceStay&&(this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt())},lbClick:function(){this.consume(CANCELLED),"function"===typeof this.options.actionAlt&&this.options.actionAlt()},rbClick:function(){this.consume(),"function"===typeof this.options.action&&this.options.action()}},mounted:function(){}},components_FDialogvue_type_script_lang_js=FDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogvue_type_script_lang_js,render,staticRenderFns,!1,null,"621b9da3",null)
/* harmony default export */,FDialog=component.exports},
/***/989715:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSound}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSound.vue?vue&type=template&id=74a36aeb
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"hide"},_vm._l(_vm.sounds,(function(sound,index){return _c("audio",{key:index,ref:"fglobalSound",refInFor:!0,attrs:{src:sound.url}})})),0)},staticRenderFns=[],FSoundvue_type_script_lang_js=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),{data:function(){return{activeSound:__webpack_require__(405074),sounds:[{name:"default",url:__webpack_require__(405074)},{name:"stuffed",url:__webpack_require__(76834)},{name:"alarm",
// url: require('statics/sounds/alarm_default.mp3'),
url:__webpack_require__(930760)}]}},methods:{play:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].play()},stop:function(name){var soundName=name||"default",sound=this.sounds.find((function(sound){return sound.name===soundName})),soundIndex=this.sounds.indexOf(sound);this.$refs.fglobalSound[soundIndex].pause(),this.$refs.fglobalSound[soundIndex].currentTime=0}}}),components_FSoundvue_type_script_lang_js=FSoundvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSoundvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSound=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/369955:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ValueFormatter}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ValueFormatter.vue?vue&type=template&id=8ba0e75e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_vm.val?_c("span",{staticClass:"value"},[_vm._v(" "+_vm._s(_vm.val)+" ")]):_vm._e(),_vm.withUnit?_c("span",{staticClass:"unit"},[_vm._v(" "+_vm._s(_vm.uni)+" ")]):_vm._e()])},staticRenderFns=[],esm_typeof=__webpack_require__(103336),validation=(__webpack_require__(879288),__webpack_require__(897389),__webpack_require__(990260)),ValueFormattervue_type_script_lang_js={props:["withUnit","config","value","unit","maxDecimal"],data:function(){return{val:null,uni:""}},mounted:function(){this.config?this.loadDataWithConfig():this.loadConfig()},methods:{loadConfig:function(){if(this.unit&&""!==this.unit){var obj=this.$convert(this.value).from(this.unit).toBest();
// value set
"object"===(0,esm_typeof/* default */.Z)(obj)&&(Number(obj.val)%1===0||Number(obj.val)%1===0||(0,validation/* isUndefined */.o8)(this.maxDecimal)?this.val=obj.val:this.val=obj.val.toFixed(this.maxDecimal)),
// unit set
this.withUnit&&"object"===(0,esm_typeof/* default */.Z)(obj)&&(this.uni=obj.unit)}else this.val=this.value},loadDataWithConfig:function(){}}},components_ValueFormattervue_type_script_lang_js=ValueFormattervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ValueFormattervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ValueFormatter=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/646716:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FetchViewsMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(990260)),api=__webpack_require__(32284),FetchViewsMixinvue_type_script_lang_js={methods:{fetchView:function(moduleName){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$get,data,error,_ref,groupViews;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.prev=0,params={moduleName:moduleName,groupType:1,viewType:1},_context.next=4,api/* API */.bl.get("/v2/views/viewList",params);case 4:if(_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error){_context.next=10;break}return _ref=data||{},groupViews=_ref.groupViews,_context.abrupt("return",_this.getFirstView(groupViews));case 10:_context.next=15;break;case 12:return _context.prev=12,_context.t0=_context["catch"](0),_context.abrupt("return","all");case 15:case"end":return _context.stop()}}),_callee,null,[[0,12]])})))()},getFirstView:function(groupViews){var _ref2=(groupViews||[]).find((function(group){return!(0,validation/* isEmpty */.xb)(group.views)}))||{},views=_ref2.views,_this$$getProperty=this.$getProperty(views,"0",{}),name=_this$$getProperty.name;return name||"all"}}},base_FetchViewsMixinvue_type_script_lang_js=FetchViewsMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_FetchViewsMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FetchViewsMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/231296:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return currency}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/currency.vue?vue&type=template&id=043ee61d
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.prefixUnit?_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))]):_vm._e(),_c("span",{class:"curreny-"+_vm.valueSize},[_vm._v(_vm._s(_vm.formatedValue))]),_vm.prefixUnit?_vm._e():_c("span",{staticClass:"fc-currency-value",class:"symbol-"+_vm.symbolSize+" mL5"},[_vm._v(_vm._s(_vm.recordCurrency||_vm.$currency))])])},staticRenderFns=[],currencyvue_type_script_lang_js=(__webpack_require__(976801),{props:["value","symbolSize","valueSize","recordCurrency"],computed:{formatedValue:function(){return this.$d3.format(",.2f")(this.value)},prefixUnit:function(){var $currency=this.$currency;return["$","",""].includes($currency)}}}),components_currencyvue_type_script_lang_js=currencyvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_currencyvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,currency=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/490962:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NotificationList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/notifications/NotificationList.vue?vue&type=template&id=ad08ce4a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"notification-list-component"},[_c("portal",{attrs:{to:"#notification-pagination"}},[_vm.totalNotification?_c("pagination",{staticClass:"pL15 fc-black-small-txt-12 pagination-notification",attrs:{total:_vm.totalNotification,perPage:_vm.perPage}}):_vm._e()],1),_vm.$validation.isEmpty(_vm.notifications)?_c("div",{staticClass:"notifications-empty"},[_vm._v(" "+_vm._s(_vm.$t("common.notification.no_notification"))+" ")]):_c("div",{staticClass:"notifications-list"},[_vm.loading?_c("div",{staticClass:"full-layout-white height100 text-center"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",_vm._l(_vm.notifications,(function(notification,index){return _c("div",{key:notification.id,class:["notifications-list-item-container",notification.isRead?"":"not-read pointer",_vm.showNotificationInTab?"":_vm.hasAction(notification)&&"pointer"]},[_c("div",{staticClass:"notifications-list-item"},[_c("div",{staticClass:"notification-seen-dot-container"},[_c("div",{class:["notification-dot",notification.isRead?"":"notification-seen-dot-unseen"]})]),_c("div",{staticClass:"notification-avatar-block",style:{backgroundColor:_vm.getBackgroundColor(notification.subject)},on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_c("InlineSvg",{attrs:{src:_vm.getIcon(_vm.getModuleName(notification)),iconClass:"icon vertical-middle"}})],1),_c("div",{staticClass:"notification-msg"},[_c("div",{class:["pB3 notification-title bold p0 fwBold",_vm.showNotificationInTab?"":"truncate-text"],on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_vm._v(" "+_vm._s(notification.title)+" ")]),_c("div",{class:_vm.getSubjectClassname(notification,index),on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_vm._v(" "+_vm._s(notification.subject)+" ")]),_vm.showNotificationInTab?_c("div",{staticClass:"flex flex-direction-row pT6"},[_vm.canShowViewMore(notification)?_c("a",{staticClass:"text-capitalize letter-spacing0_3 f13 pR8 pointer",on:{click:function($event){return _vm.toggleVisibility(index,notification)}}},[_vm._v(_vm._s(_vm.showMoreLinkText(index)))]):_vm._e(),_vm.canShowViewMore(notification)&&_vm.hasAction(notification)?_c("div",{staticClass:"margin-go-to-summary"}):_vm._e(),_vm.showNotificationInTab&&_vm.hasAction(notification)?_c("a",{class:["text-capitalize letter-spacing0_3 f13 pointer",_vm.canShowViewMore(notification)&&"pL8"],on:{click:function($event){return _vm.notificationClickAction(notification,_vm.showNotificationInTab)}}},[_vm._v("Go to Summary "),_c("InlineSvg",{attrs:{src:"svgs/new-tab",iconClass:"icon vertical-middle icon-xs mL3"}})],1):_vm._e()]):_vm._e(),_vm.showNotificationInTab?_c("div",{staticClass:"notifications-time pT4 pB10"},[_vm._v(" "+_vm._s(_vm.getTime(notification.sysCreatedTime))+" ")]):_vm._e()]),!_vm.showNotificationInTab&&_vm.hasAction(notification)?_c("div",{staticClass:"has-action",on:{click:function($event){return _vm.notificationClickAction(notification,_vm.showNotificationInTab)}}},[_c("InlineSvg",{attrs:{src:"svgs/new-tab",iconClass:"icon vertical-middle notification-svg icon-sm"}})],1):_vm._e()]),_vm.showNotificationInTab?_vm._e():_c("div",{staticClass:"notifications-time-in-popover"},[_vm._v(" "+_vm._s(_vm.getTime(notification.sysCreatedTime))+" ")])])})),0)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),ActivityPagination=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(842912)),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),filters=__webpack_require__(638203),FetchViewsMixin=__webpack_require__(646716),router=__webpack_require__(329435),MODULE_NAME={alarm:"svgs/notifications/alarms",task:"svgs/notifications/tasks",workorder:"svgs/notifications/workorder",contact:"svgs/notifications/contact",asset:"svgs/notifications/assets",quote:"svgs/notifications/notifications-bell",purchaseorder:"svgs/notifications/notifications-bell",purchaserequest:"svgs/notifications/notifications-bell",default:"svgs/notifications/notifications-bell"},NOTIFICATION_BACKGROUND=["#6eb1f4","#f4d16e","#f4a66e","#ff8b8b","#dfd758"],NotificationListvue_type_script_lang_js={props:["showNotificationInTab"],components:{Pagination:ActivityPagination/* default */.Z},mixins:[FetchViewsMixin/* default */.Z],data:function(){return{totalCount:null,perPage:50,loading:!1,selectedIndex:null}},created:function(){this.showNotificationInTab?this.loadNotifications():this.loadNotificationForPopup()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({notificationListData:function(state){return state.notification.notifications},notificationPopupData:function(state){return state.notification.notificationsForPopup},totalNotification:function(state){return state.notification.totalCount}})),{},{page:function(){return this.$route.query.page||1},showNotificationsInTab:function(){return this.showNotificationInTab},notifications:function(){var notificationData;if(this.showNotificationsInTab){var notificationListData=this.notificationListData;notificationData=notificationListData}else{var notificationPopupData=this.notificationPopupData;notificationData=notificationPopupData}return notificationData}}),watch:{page:function(){this.showNotificationInTab&&this.loadNotifications()}},methods:{showMoreLinkText:function(index){return this.selectedIndex===index?"View Less":"View More"},hasAction:function(notification){var moduleName=this.getModuleName(notification),recordId=this.getRecordId(notification),actionType=this.getActionType(notification);return!(0,validation/* isEmpty */.xb)(moduleName)&&!(0,validation/* isEmpty */.xb)(recordId)&&!(0,validation/* isEmpty */.xb)(actionType)},loadNotifications:function(){var _this=this;this.showNotificationInTab&&(this.loading=!0),this.$store.dispatch("notification/fetchNotifications",{page:this.page||1,perPage:this.perPage}).then((function(){_this.loading=!1}))},loadNotificationForPopup:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this2.$store.dispatch("notification/fetchNotificationsPopup");case 2:(0,validation/* isEmpty */.xb)(_this2.notificationPopupData)?_this2.$emit("hasNotificationData",!1):_this2.$emit("hasNotificationData",!0);case 3:case"end":return _context.stop()}}),_callee)})))()},notificationClickAction:function(notification){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,recordId,actionType,hasAction,viewname,_ref,name,routerObj,routerData,routes,_routerObj,_routerData;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(notification.isRead=!0,moduleName=_this3.getModuleName(notification),recordId=_this3.getRecordId(notification),actionType=_this3.getActionType(notification),hasAction=!1,(0,validation/* isEmpty */.xb)(moduleName)||(0,validation/* isEmpty */.xb)(recordId)||(0,validation/* isEmpty */.xb)(actionType)){_context2.next=11;break}return _context2.next=8,_this3.fetchView(moduleName);case 8:viewname=_context2.sent,(0,router/* isWebTabsEnabled */.tj)()?(_ref=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref.name,name&&(routerObj={name:name,params:{viewname:viewname,id:recordId}},_this3.showNotificationsInTab?(routerData=_this3.$router.resolve(routerObj),window.open(routerData.href)):_this3.$router.push(routerObj))):(routes={asset:{name:"assetsummary",params:{viewname:viewname,assetid:recordId}},workorder:{name:"wosummarynew",params:{id:recordId}},alarms:{name:"FaultSummary",params:{viewName:viewname,id:recordId}},tenant:{name:"tenantSummary",params:{viewname:viewname,id:recordId}},quote:{name:"quotationSummary",params:{viewname:viewname,id:recordId}},purchaseorder:{name:"poSummary",params:{viewname:viewname,id:recordId}},purchaserequest:{name:"prSummary",params:{viewname:viewname,id:recordId}},custom:{name:"custommodules-summary",params:{viewname:viewname,id:recordId,moduleName:moduleName}}},_routerObj=routes[moduleName]||routes["custom"],_this3.showNotificationsInTab?(_routerData=_this3.$router.resolve(_routerObj)||null,_routerData&&window.open(_routerData.href)):_this3.$router.push(_routerObj).catch((function(){}))),hasAction=!0;case 11:return _this3.showNotificationInTab||_this3.$emit("notificationItemClicked",hasAction),_context2.next=14,_this3.$store.dispatch("notification/updateStatus",notification);case 14:_this3.loadNotificationForPopup();case 15:case"end":return _context2.stop()}}),_callee2)})))()},markNotificationAsRead:function(notification){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return notification.isRead=!0,_context3.next=3,_this4.$store.dispatch("notification/updateStatus",notification);case 3:_this4.loadNotificationForPopup();case 4:case"end":return _context3.stop()}}),_callee3)})))()},getTime:function(miliseconds){return this.$options.filters.fromNow(miliseconds)},getIcon:function(modulename){return MODULE_NAME[modulename]||MODULE_NAME["default"]},getBackgroundColor:function(item){var userKey=item,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%5;return NOTIFICATION_BACKGROUND[colorIndex]},getModuleName:function(item){var moduleObj=this.$getProperty(item,"action.actionData.module"),moduleName=this.$getProperty(moduleObj,"name"),extendedModuleName=this.$getProperty(moduleObj,"extendModule.name"),isBaseEntity="BASE_ENTITY"===this.$getProperty(moduleObj,"typeEnum");if(isBaseEntity)return moduleName||extendedModuleName},getRecordId:function(item){var recordId=this.$getProperty(item,"action.actionData.recordId");if(!(0,validation/* isEmpty */.xb)(recordId)&&-1!==recordId)return recordId},getActionType:function(item){var actionType=this.$getProperty(item,"action.actionType");if(!(0,validation/* isEmpty */.xb)(actionType))return actionType},canShowMore:function(item){var htmlToString=(0,filters/* htmlToText */.s9)(item.subject).split(/\r\n|\r|\n/).length;return htmlToString>4},toggleVisibility:function(index,notification){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(_this5.selectedIndex===index){_context4.next=8;break}return _this5.selectedIndex=index,notification.isRead=!0,_context4.next=5,_this5.$store.dispatch("notification/updateStatus",notification);case 5:_this5.loadNotificationForPopup(),_context4.next=9;break;case 8:_this5.selectedIndex=null;case 9:case"end":return _context4.stop()}}),_callee4)})))()},getSubjectClassname:function(notification,index){return this.showNotificationInTab&&this.canShowMore(notification)?this.selectedIndex===index?"notification-subject notification-subject-viewMore":"notification-subject notification-subject-viewLess":"popover-subject"},canShowViewMore:function(notification){return this.showNotificationInTab&&this.canShowMore(notification)}}},notifications_NotificationListvue_type_script_lang_js=NotificationListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(notifications_NotificationListvue_type_script_lang_js,render,staticRenderFns,!1,null,"ad08ce4a",null)
/* harmony default export */,NotificationList=component.exports},
/***/842912:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ActivityPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/approvals/components/ActivityPagination.vue?vue&type=template&id=18a06ee7
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],FPagination=__webpack_require__(929593),ActivityPaginationvue_type_script_lang_js={extends:FPagination/* default */.Z},components_ActivityPaginationvue_type_script_lang_js=ActivityPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ActivityPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ActivityPagination=component.exports},
/***/792649:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return VisitsAndInvitesForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/visitors/visits/VisitsAndInvitesForm.vue?vue&type=template&id=42afda89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.otpVisibility?_c("InviteCodeForm",{on:{submitOtp:_vm.submitOtp,onClose:_vm.closeForm}}):_vm._e(),_vm.typeChooserVisibility?_c("VisitsLogForm",{attrs:{showInviteCode:_vm.isVisitModule,moduleName:_vm.moduleName},on:{loadForm:_vm.openForm,openInviteCode:_vm.openInviteCode,onClose:_vm.closeForm}}):_vm._e(),_vm.formVisibility&&_vm.isVisitModule?_c("VisitorLogCreation",{attrs:{moduleName:_vm.currentModule,formData:_vm.selectedForm,visitorTypeId:_vm.selectedVisitorTypeId,recordData:_vm.recordData,requestedBy:_vm.requestedBy},on:{"update:formData":function($event){_vm.selectedForm=$event},"update:form-data":function($event){_vm.selectedForm=$event},closeForm:_vm.closeForm,saved:_vm.savedForm}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),api=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(32284)),router=__webpack_require__(329435),VisitsAndInvitesFormvue_type_script_lang_js={props:["moduleName","formMode","requestedBy"],components:{InviteCodeForm:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(8199)]).then(__webpack_require__.bind(__webpack_require__,608199))},VisitsLogForm:function(){return __webpack_require__.e(/* import() */34002).then(__webpack_require__.bind(__webpack_require__,934002))},VisitorLogCreation:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(54766)]).then(__webpack_require__.bind(__webpack_require__,1755))}},data:function(){return{formVisibility:!1,otpVisibility:!1,typeChooserVisibility:!1,recordData:null,selectedForm:null,selectedVisitorTypeId:null,currentModule:""}},created:function(){this.typeChooserVisibility=!0},computed:{isVisitModule:function(){return"visitorlog"===this.moduleName}},methods:{openInviteCode:function(){var _this=this;this.typeChooserVisibility=!1,this.$nextTick((function(){return _this.otpVisibility=!0}))},submitOtp:function(visitorLog){var visitorType=visitorLog.visitorType,formId=visitorLog.formId;this.recordData=visitorLog,this.loadform(visitorType,formId)},openForm:function(visitorType){if(this.$helpers.isLicenseEnabled("GROUP_INVITES"))if(this.isVisitModule)this.loadFormData(visitorType);else{var _formMode=this.formMode,_inviteFormId=visitorType.visitorFormId,_query={visitorTypeId:visitorType.id,formId:_inviteFormId};if((0,router/* isWebTabsEnabled */.tj)())if("bulk"==_formMode){var _moduleName="groupinvite",_route=(0,router/* findRouteForModule */.Jp)(_moduleName,router/* pageTypes */.As.CREATE);_route&&(_formMode&&(_query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_query),{},{formMode:_formMode})),this.$router.push({name:_route.name,query:_query}))}else{var _moduleName2=this.moduleName,_route2=(0,router/* findRouteForModule */.Jp)(_moduleName2,router/* pageTypes */.As.CREATE);_route2&&(_formMode&&(_query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_query),{},{formMode:_formMode})),this.$router.push({name:_route2.name,query:_query}))}else"bulk"==_formMode?this.$router.push({name:"group-invites-create",query:(0,objectSpread2/* default */.Z)({formMode:_formMode},_query)}):this.$router.push({name:"invites-create",query:(0,objectSpread2/* default */.Z)({formMode:_formMode},_query)});this.closeForm()}else if(this.isVisitModule)this.loadFormData(visitorType);else{var formMode=this.formMode,inviteFormId=visitorType.visitorFormId,query={visitorTypeId:visitorType.id,formId:inviteFormId};if((0,router/* isWebTabsEnabled */.tj)()){var moduleName=this.moduleName,route=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE);route&&(formMode&&(query=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{formMode:formMode})),this.$router.push({name:route.name,query:query}))}else this.$router.push({name:"invites-create",query:(0,objectSpread2/* default */.Z)({formMode:formMode},query)});this.closeForm()}},loadFormForType:function(visitorType,visitorForm){var _this2=this,url="v2/visitorSettings/get",param={visitorType:{id:visitorType.id}};api/* API */.bl.post(url,param).then((function(_ref){var data=_ref.data,error=_ref.error;if(error)_this2.$message.error(error.message||"Error Occured");else{var visitorSettings=data.visitorSettings;_this2.selectedForm=_this2.$getProperty(visitorSettings,visitorForm,null),_this2.currentModule="visitorLogForm"===visitorForm?"visitorlog":"invitevisitor",_this2.selectedVisitorTypeId=visitorType.id,_this2.typeChooserVisibility=!1,_this2.otpVisibility=!1,_this2.$nextTick((function(){return _this2.formVisibility=!0}))}}))},loadFormData:function(visitorType){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_this3.currentModule="visitorlog",_this3.selectedForm=visitorType.form,_this3.typeChooserVisibility=!1,_this3.selectedVisitorTypeId=visitorType.id,_this3.otpVisibility=!1,_this3.$nextTick((function(){return _this3.formVisibility=!0}));case 6:case"end":return _context.stop()}}),_callee)})))()},loadform:function(visitorType,formId){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var params,_yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return params={fetchFormRuleFields:!0,formId:formId},_this4.isLoading=!0,_context2.next=4,api/* API */.bl.get("/v2/forms/invitevisitor",params);case 4:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this4.$message.error(error.message||"Error Occured"):_this4.selectedForm=data.form,_this4.isLoading=!1,_this4.currentModule="invitevisitor",_this4.typeChooserVisibility=!1,_this4.selectedVisitorTypeId=visitorType.id,_this4.otpVisibility=!1,_this4.$nextTick((function(){return _this4.formVisibility=!0}));case 14:case"end":return _context2.stop()}}),_callee2)})))()},savedForm:function(){this.$emit("onSave"),this.closeForm()},closeForm:function(){this.$emit("onClose")}}},visits_VisitsAndInvitesFormvue_type_script_lang_js=VisitsAndInvitesFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(visits_VisitsAndInvitesFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,VisitsAndInvitesForm=component.exports},
/***/117524:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"10a53ccbae023b46b9211d3725c2236a.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/700185:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/facilio-moro.83ba0ac2.png"},
/***/930760:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/htc_single_beep.2f739e6d.mp3"},
/***/405074:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/notification.3537b31a.mp3"},
/***/76834:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"media/stuffed-and-dropped.922dd833.mp3"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/39235.js.map