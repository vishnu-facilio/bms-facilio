"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[14015],{
/***/714015:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AppsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/apps/AppsList.vue?vue&type=template&id=57168d20
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"apps-list"},[_c("div",{staticClass:"header-container"},[_vm._m(0),_c("button",{staticClass:"pL30 pR30 setup-el-btn",on:{click:function($event){return _vm.editApp()}}},[_vm._v("Add App")])]),_c("div",{staticClass:"app-cards-section"},[_vm.loadingApps?_c("spinner",{attrs:{show:_vm.loadingApps,size:"80"}}):_vm.$validation.isEmpty(_vm.availableApps)?_c("div",{staticClass:"empty-state"},[_c("inline-svg",{attrs:{src:"product-icons/app",iconClass:"icon icon-xxlg"}}),_c("div",{staticClass:"empty-state-text"},[_vm._v("No apps available.")])],1):_vm._l(_vm.availableApps,(function(app){return _c("div",{key:app.id,staticClass:"app-card",on:{click:function($event){return _vm.openAppDetails(app.id)}}},[_c("div",[app.logoUrl?_c("img",{staticClass:"app-icon",style:{backgroundColor:"#a3cc85"},attrs:{src:_vm.$prependBaseUrl(app.logoUrl)}}):_c("inline-svg",{staticClass:"app-icon",style:{backgroundColor:"#a3cc85"},attrs:{src:"product-icons/app-white",iconClass:"icon icon-xxllg p5"}})],1),_c("div",{staticClass:"app-content flex-align-start"},[_c("div",{staticClass:"app-name"},[_vm._v(_vm._s(app.name))]),_c("div",{staticClass:"app-link-name"},[_c("div",{staticClass:"fc-app-link-color f14"},[_vm._v(_vm._s(_vm.appUrl(app)))])]),_c("div",{staticClass:"app-description"},[_vm._v(_vm._s(app.description))])])])}))],2),_vm.showAddApp?_c("NewApp",{attrs:{selectedApp:_vm.selectedApp},on:{onSave:_vm.loadAvailableApps,onClose:function($event){_vm.showAddApp=!1}}}):_vm._e()],1)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"header-title"},[_vm._v("Apps")]),_c("div",{staticClass:"header-content"},[_vm._v("List of all featured apps")])])}],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),appUtil=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(843097)),NewApp=__webpack_require__(50570),AppsListvue_type_script_lang_js={components:{NewApp:NewApp/* default */.Z},data:function(){return{availableApps:[],loadingApps:!1,selectedApp:null,showAddApp:!1}},created:function(){this.loadAvailableApps()},methods:{loadAvailableApps:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$loadApps,error,data,FEATURE_GROUPING;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loadingApps=!0,_context.next=3,(0,appUtil/* loadApps */.jJ)();case 3:_yield$loadApps=_context.sent,error=_yield$loadApps.error,data=_yield$loadApps.data,error?_this.$message.error(error.message||"Error Occured"):(FEATURE_GROUPING=_this.$constants.appCategory.FEATURE_GROUPING,_this.availableApps=data.filter((function(app){return"newapp"!==app.linkName&&app.appCategory===FEATURE_GROUPING}))),_this.loadingApps=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},appUrl:function(app){var appDomain=app.appDomain,linkName=app.linkName,_ref=appDomain||{},domain=_ref.domain;return"https://".concat(domain||"domain","/").concat(linkName)},editApp:function(){var app=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.selectedApp=app,this.showAddApp=!0},openAppDetails:function(id){this.$router.push({name:"app-details",params:{appId:id}})}}},apps_AppsListvue_type_script_lang_js=AppsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(apps_AppsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AppsList=component.exports},
/***/50570:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewApp}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/apps/NewApp.vue?vue&type=template&id=0f4717e8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog fc-new-app-dialog","before-close":_vm.closeDialog}},[_c("el-form",{ref:"webtab-app",staticClass:"fc-form webtab-app",attrs:{model:_vm.appDetails,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?"ADD":"EDIT")+" APP ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_c("el-form-item",{attrs:{label:_vm.$t("common._common.name"),prop:"name"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:"Enter App Name"},model:{value:_vm.appDetails.name,callback:function($$v){_vm.$set(_vm.appDetails,"name",$$v)},expression:"appDetails.name"}})],1),_c("el-form-item",{attrs:{label:"Route",prop:"linkName"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2 fc-route-input",attrs:{autofocus:"",type:"text",placeholder:"Enter app Route"},model:{value:_vm.appDetails.linkName,callback:function($$v){_vm.$set(_vm.appDetails,"linkName",$$v)},expression:"appDetails.linkName"}},[_c("template",{slot:"prepend"},[_vm._v(_vm._s(_vm.appUrl))])],2)],1),_c("el-form-item",{attrs:{label:"Description",prop:"description"}},[_c("el-input",{staticClass:"fc-input-full-border-select2 width100",attrs:{"min-rows":1,type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:_vm.$t("common._common.enter_desc"),resize:"none"},model:{value:_vm.appDetails.description,callback:function($$v){_vm.$set(_vm.appDetails,"description",$$v)},expression:"appDetails.description"}})],1),_c("el-form-item"),_c("el-form-item")],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" CANCEL ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(" "+_vm._s(_vm.saving?"Saving...":"SAVE")+" ")])],1)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(434284),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(990260)),api=__webpack_require__(32284),NewAppvue_type_script_lang_js={props:["selectedApp"],data:function(){return{appDetails:{name:null,linkName:null,description:null,appCategory:3,layoutType:2,domainType:1,isDefault:!1},saving:!1,rules:{name:{required:!0,message:"Please enter a name",trigger:"change"},linkName:{required:!0,message:"Please enter a route",trigger:"change"}}}},created:function(){this.isNew||(this.appDetails=(0,objectSpread2/* default */.Z)({},this.selectedApp))},computed:{isNew:function(){return(0,validation/* isEmpty */.xb)(this.selectedApp)},appUrl:function(){var isNew=this.isNew,$account=this.$account,selectedApp=this.selectedApp,appDomain=null;if(isNew){var _ref=$account||{},user=_ref.user;appDomain=(user||{}).appDomain}else appDomain=selectedApp.appDomain;var _ref2=appDomain||{},domain=_ref2.domain;return"https://".concat(domain||"domain")}},methods:{submitForm:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_this.$refs["webtab-app"].validate(function(){var _ref3=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var appDetails,isNew,params,name,linkName,description,isDefault,id,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return appDetails=_this.appDetails,isNew=_this.isNew,params={application:{},addLayout:!0},isNew?params.application=(0,objectSpread2/* default */.Z)({},appDetails):(name=appDetails.name,linkName=appDetails.linkName,description=appDetails.description,isDefault=appDetails.isDefault,id=appDetails.id,params.application={name:name,linkName:linkName,description:description,isDefault:isDefault,id:id}),_this.saving=!0,_context.next=8,api/* API */.bl.post("/v2/application/addOrUpdate",params);case 8:_yield$API$post=_context.sent,error=_yield$API$post.error,error?_this.$message.error(error.message||"Error Occured"):(_this.$message.success("App saved successfully"),_this.$emit("onSave"),_this.closeDialog()),_this.saving=!1;case 12:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}());case 1:case"end":return _context2.stop()}}),_callee2)})))()},closeDialog:function(){this.$emit("onClose")}}},apps_NewAppvue_type_script_lang_js=NewAppvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(apps_NewAppvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewApp=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/14015.js.map