"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[18778],{
/***/104932:
/***/function(__unused_webpack_module,__webpack_exports__){function _typeof(obj){return _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;function getClientPosition(elem){var box,x,y,doc=elem.ownerDocument,body=doc.body,docElem=doc&&doc.documentElement;// 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式
return box=elem.getBoundingClientRect(),// 注：jQuery 还考虑减去 docElem.clientLeft/clientTop
// 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确
// 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin
x=box.left,y=box.top,// In IE, most of the time, 2 extra pixels are added to the top and left
// due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and
// IE6 standards mode, this border can be overridden by setting the
// document element's border to zero -- thus, we cannot rely on the
// offset always being 2 pixels.
// In quirks mode, the offset can be determined by querying the body's
// clientLeft/clientTop, but in standards mode, it is found by querying
// the document element's clientLeft/clientTop.  Since we already called
// getClientBoundingRect we have already forced a reflow, so it is not
// too expensive just to query them all.
// ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的
// 窗口边框标准是设 documentElement ,quirks 时设置 body
// 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去
// 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置
// 标准 ie 下 docElem.clientTop 就是 border-top
// ie7 html 即窗口边框改变不了。永远为 2
// 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0
x-=docElem.clientLeft||body.clientLeft||0,y-=docElem.clientTop||body.clientTop||0,{left:x,top:y}}function getScroll(w,top){var ret=w["page".concat(top?"Y":"X","Offset")],method="scroll".concat(top?"Top":"Left");if("number"!==typeof ret){var d=w.document;// ie6,7,8 standard mode
ret=d.documentElement[method],"number"!==typeof ret&&(
// quirks mode
ret=d.body[method])}return ret}function getScrollLeft(w){return getScroll(w)}function getScrollTop(w){return getScroll(w,!0)}function getOffset(el){var pos=getClientPosition(el),doc=el.ownerDocument,w=doc.defaultView||doc.parentWindow;return pos.left+=getScrollLeft(w),pos.top+=getScrollTop(w),pos}function _getComputedStyle(elem,name,computedStyle_){var val="",d=elem.ownerDocument,computedStyle=computedStyle_||d.defaultView.getComputedStyle(elem,null);// https://github.com/kissyteam/kissy/issues/61
return computedStyle&&(val=computedStyle.getPropertyValue(name)||computedStyle[name]),val}var getComputedStyleX,_RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";function _getComputedStyleIE(elem,name){
// currentStyle maybe null
// http://msdn.microsoft.com/en-us/library/ms535231.aspx
var ret=elem[CURRENT_STYLE]&&elem[CURRENT_STYLE][name];// 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值
// 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19
// 在 ie 下不对，需要直接用 offset 方式
// borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了
// From the awesome hack by Dean Edwards
// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291
// If we're not dealing with a regular pixel number
// but a number that has a weird ending, we need to convert it to pixels
// exclude left right for relativity
if(_RE_NUM_NO_PX.test(ret)&&!RE_POS.test(name)){
// Remember the original values
var style=elem.style,left=style[LEFT],rsLeft=elem[RUNTIME_STYLE][LEFT];// prevent flashing of content
elem[RUNTIME_STYLE][LEFT]=elem[CURRENT_STYLE][LEFT],// Put in the new values to get a computed value out
style[LEFT]="fontSize"===name?"1em":ret||0,ret=style.pixelLeft+PX,// Revert the changed values
style[LEFT]=left,elem[RUNTIME_STYLE][LEFT]=rsLeft}return""===ret?"auto":ret}function each(arr,fn){for(var i=0;i<arr.length;i++)fn(arr[i])}function isBorderBoxFn(elem){return"border-box"===getComputedStyleX(elem,"boxSizing")}"undefined"!==typeof window&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap(elem,options,callback){var name,old={},style=elem.style;// Remember the old values, and insert the new ones
for(name in options)options.hasOwnProperty(name)&&(old[name]=style[name],style[name]=options[name]);// Revert the old values
for(name in callback.call(elem),options)options.hasOwnProperty(name)&&(style[name]=old[name])}function getPBMWidth(elem,props,which){var prop,j,i,value=0;for(j=0;j<props.length;j++)if(prop=props[j],prop)for(i=0;i<which.length;i++){var cssProp=void 0;cssProp="border"===prop?"".concat(prop+which[i],"Width"):prop+which[i],value+=parseFloat(getComputedStyleX(elem,cssProp))||0}return value}
/**
 * A crude way of determining if an object is a window
 * @member util
 */function isWindow(obj){
// must use == for ie8
/* eslint eqeqeq:0 */
return null!=obj&&obj==obj.window}var domUtils={};
/*
 得到元素的大小信息
 @param elem
 @param name
 @param {String} [extra]  'padding' : (css width) + padding
 'border' : (css width) + padding + border
 'margin' : (css width) + padding + border + margin
 */
function getWH(elem,name,extra){if(isWindow(elem))return"width"===name?domUtils.viewportWidth(elem):domUtils.viewportHeight(elem);if(9===elem.nodeType)return"width"===name?domUtils.docWidth(elem):domUtils.docHeight(elem);var which="width"===name?["Left","Right"]:["Top","Bottom"],borderBoxValue="width"===name?elem.offsetWidth:elem.offsetHeight,isBorderBox=(getComputedStyleX(elem),isBorderBoxFn(elem)),cssBoxValue=0;(null==borderBoxValue||borderBoxValue<=0)&&(borderBoxValue=void 0,// Fall back to computed then un computed css if necessary
cssBoxValue=getComputedStyleX(elem,name),(null==cssBoxValue||Number(cssBoxValue)<0)&&(cssBoxValue=elem.style[name]||0),// Normalize '', auto, and prepare for extra
cssBoxValue=parseFloat(cssBoxValue)||0),void 0===extra&&(extra=isBorderBox?BORDER_INDEX:CONTENT_INDEX);var borderBoxValueOrIsBorderBox=void 0!==borderBoxValue||isBorderBox,val=borderBoxValue||cssBoxValue;if(extra===CONTENT_INDEX)return borderBoxValueOrIsBorderBox?val-getPBMWidth(elem,["border","padding"],which):cssBoxValue;if(borderBoxValueOrIsBorderBox){var padding=extra===PADDING_INDEX?-getPBMWidth(elem,["border"],which):getPBMWidth(elem,["margin"],which);return val+(extra===BORDER_INDEX?0:padding)}return cssBoxValue+getPBMWidth(elem,BOX_MODELS.slice(extra),which)}each(["Width","Height"],(function(name){domUtils["doc".concat(name)]=function(refWin){var d=refWin.document;return Math.max(// firefox chrome documentElement.scrollHeight< body.scrollHeight
// ie standard mode : documentElement.scrollHeight> body.scrollHeight
d.documentElement["scroll".concat(name)],// quirks : documentElement.scrollHeight 最大等于可视窗口多一点？
d.body["scroll".concat(name)],domUtils["viewport".concat(name)](d))},domUtils["viewport".concat(name)]=function(win){
// pc browser includes scrollbar in window.innerWidth
var prop="client".concat(name),doc=win.document,body=doc.body,documentElement=doc.documentElement,documentElementProp=documentElement[prop];// 标准模式取 documentElement
// backcompat 取 body
return"CSS1Compat"===doc.compatMode&&documentElementProp||body&&body[prop]||documentElementProp}}));var cssShow={position:"absolute",visibility:"hidden",display:"block"};// fix #119 : https://github.com/kissyteam/kissy/issues/119
function getWHIgnoreDisplay(elem){var val,args=arguments;// in case elem is window
// elem.offsetWidth === undefined
return 0!==elem.offsetWidth?val=getWH.apply(void 0,args):swap(elem,cssShow,(function(){val=getWH.apply(void 0,args)})),val}function css(el,name,v){var value=v;if("object"!==_typeof(name))return"undefined"!==typeof value?("number"===typeof value&&(value+="px"),void(el.style[name]=value)):getComputedStyleX(el,name);for(var i in name)name.hasOwnProperty(i)&&css(el,i,name[i])}// 设置 elem 相对 elem.ownerDocument 的坐标
function setOffset(elem,offset){
// set position first, in-case top/left are set even on static elem
"static"===css(elem,"position")&&(elem.style.position="relative");var current,key,old=getOffset(elem),ret={};for(key in offset)offset.hasOwnProperty(key)&&(current=parseFloat(css(elem,key))||0,ret[key]=current+offset[key]-old[key]);css(elem,ret)}each(["width","height"],(function(name){var first=name.charAt(0).toUpperCase()+name.slice(1);domUtils["outer".concat(first)]=function(el,includeMargin){return el&&getWHIgnoreDisplay(el,name,includeMargin?MARGIN_INDEX:BORDER_INDEX)};var which="width"===name?["Left","Right"]:["Top","Bottom"];domUtils[name]=function(elem,val){if(void 0===val)return elem&&getWHIgnoreDisplay(elem,name,CONTENT_INDEX);if(elem){getComputedStyleX(elem);var isBorderBox=isBorderBoxFn(elem);return isBorderBox&&(val+=getPBMWidth(elem,["padding","border"],which)),css(elem,name,val)}}}));var util=_objectSpread2({getWindow:function(node){var doc=node.ownerDocument||node;return doc.defaultView||doc.parentWindow},offset:function(el,value){if("undefined"===typeof value)return getOffset(el);setOffset(el,value)},isWindow:isWindow,each:each,css:css,clone:function(obj){var ret={};for(var i in obj)obj.hasOwnProperty(i)&&(ret[i]=obj[i]);var overflow=obj.overflow;if(overflow)for(var _i in obj)obj.hasOwnProperty(_i)&&(ret.overflow[_i]=obj.overflow[_i]);return ret},scrollLeft:function(w,v){if(isWindow(w)){if(void 0===v)return getScrollLeft(w);window.scrollTo(v,getScrollTop(w))}else{if(void 0===v)return w.scrollLeft;w.scrollLeft=v}},scrollTop:function(w,v){if(isWindow(w)){if(void 0===v)return getScrollTop(w);window.scrollTo(getScrollLeft(w),v)}else{if(void 0===v)return w.scrollTop;w.scrollTop=v}},viewportWidth:0,viewportHeight:0},domUtils);function scrollIntoView(elem,container,config){config=config||{},// document 归一化到 window
9===container.nodeType&&(container=util.getWindow(container));var allowHorizontalScroll=config.allowHorizontalScroll,onlyScrollIfNeeded=config.onlyScrollIfNeeded,alignWithTop=config.alignWithTop,alignWithLeft=config.alignWithLeft,offsetTop=config.offsetTop||0,offsetLeft=config.offsetLeft||0,offsetBottom=config.offsetBottom||0,offsetRight=config.offsetRight||0;allowHorizontalScroll=void 0===allowHorizontalScroll||allowHorizontalScroll;var containerOffset,ch,cw,containerScroll,diffTop,diffBottom,win,winScroll,ww,wh,isWin=util.isWindow(container),elemOffset=util.offset(elem),eh=util.outerHeight(elem),ew=util.outerWidth(elem);isWin?(win=container,wh=util.height(win),ww=util.width(win),winScroll={left:util.scrollLeft(win),top:util.scrollTop(win)},// elem 相对 container 可视视窗的距离
diffTop={left:elemOffset.left-winScroll.left-offsetLeft,top:elemOffset.top-winScroll.top-offsetTop},diffBottom={left:elemOffset.left+ew-(winScroll.left+ww)+offsetRight,top:elemOffset.top+eh-(winScroll.top+wh)+offsetBottom},containerScroll=winScroll):(containerOffset=util.offset(container),ch=container.clientHeight,cw=container.clientWidth,containerScroll={left:container.scrollLeft,top:container.scrollTop},// elem 相对 container 可视视窗的距离
// 注意边框, offset 是边框到根节点
diffTop={left:elemOffset.left-(containerOffset.left+(parseFloat(util.css(container,"borderLeftWidth"))||0))-offsetLeft,top:elemOffset.top-(containerOffset.top+(parseFloat(util.css(container,"borderTopWidth"))||0))-offsetTop},diffBottom={left:elemOffset.left+ew-(containerOffset.left+cw+(parseFloat(util.css(container,"borderRightWidth"))||0))+offsetRight,top:elemOffset.top+eh-(containerOffset.top+ch+(parseFloat(util.css(container,"borderBottomWidth"))||0))+offsetBottom}),diffTop.top<0||diffBottom.top>0?
// 强制向上
!0===alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):!1===alignWithTop?util.scrollTop(container,containerScroll.top+diffBottom.top):
// 自动调整
diffTop.top<0?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top):onlyScrollIfNeeded||(alignWithTop=void 0===alignWithTop||!!alignWithTop,alignWithTop?util.scrollTop(container,containerScroll.top+diffTop.top):util.scrollTop(container,containerScroll.top+diffBottom.top)),allowHorizontalScroll&&(diffTop.left<0||diffBottom.left>0?
// 强制向上
!0===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):!1===alignWithLeft?util.scrollLeft(container,containerScroll.left+diffBottom.left):
// 自动调整
diffTop.left<0?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left):onlyScrollIfNeeded||(alignWithLeft=void 0===alignWithLeft||!!alignWithLeft,alignWithLeft?util.scrollLeft(container,containerScroll.left+diffTop.left):util.scrollLeft(container,containerScroll.left+diffBottom.left)))}
/* harmony default export */__webpack_exports__.Z=scrollIntoView},
/***/944292:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */D:function(){/* binding */return updateProps},
/* harmony export */KZ:function(){/* binding */return initProps},
/* harmony export */XD:function(){/* binding */return removeElementWithFadeOut},
/* harmony export */Zi:function(){/* binding */return saveOldStyle},
/* harmony export */_W:function(){/* binding */return getOldStyle},
/* harmony export */bX:function(){/* binding */return removeElement},
/* harmony export */eq:function(){/* binding */return isElementRemoved},
/* harmony export */ke:function(){/* binding */return getAnimationConfig}
/* harmony export */});
/* unused harmony export transitionStore */
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234),transitionStore=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)();
/* harmony import */
/**
 * Return null if animation is disabled.
 */
function getAnimationConfig(animationType,animatableModel,dataIndex,// Extra opts can override the option in animatable model.
extraOpts,// TODO It's only for pictorial bar now.
extraDelayParams){var animationPayload;// Check if there is global animation configuration from dataZoom/resize can override the config in option.
// If animation is enabled. Will use this animation config in payload.
// If animation is disabled. Just ignore it.
if(animatableModel&&animatableModel.ecModel){var updatePayload=animatableModel.ecModel.getUpdatePayload();animationPayload=updatePayload&&updatePayload.animation}var animationEnabled=animatableModel&&animatableModel.isAnimationEnabled(),isUpdate="update"===animationType;if(animationEnabled){var duration=void 0,easing=void 0,delay=void 0;extraOpts?(duration=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(extraOpts.duration,200),easing=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(extraOpts.easing,"cubicOut"),delay=0):(duration=animatableModel.getShallow(isUpdate?"animationDurationUpdate":"animationDuration"),easing=animatableModel.getShallow(isUpdate?"animationEasingUpdate":"animationEasing"),delay=animatableModel.getShallow(isUpdate?"animationDelayUpdate":"animationDelay")),// animation from payload has highest priority.
animationPayload&&(null!=animationPayload.duration&&(duration=animationPayload.duration),null!=animationPayload.easing&&(easing=animationPayload.easing),null!=animationPayload.delay&&(delay=animationPayload.delay)),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(delay)&&(delay=delay(dataIndex,extraDelayParams)),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(duration)&&(duration=duration(dataIndex));var config={duration:duration||0,delay:delay,easing:easing};return config}return null}function animateOrSetProps(animationType,el,props,animatableModel,dataIndex,cb,during){var removeOpt,isFrom=!1;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(dataIndex)?(during=cb,cb=dataIndex,dataIndex=null):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(dataIndex)&&(cb=dataIndex.cb,during=dataIndex.during,isFrom=dataIndex.isFrom,removeOpt=dataIndex.removeOpt,dataIndex=dataIndex.dataIndex);var isRemove="leave"===animationType;isRemove||
// Must stop the remove animation.
el.stopAnimation("leave");var animationConfig=getAnimationConfig(animationType,animatableModel,dataIndex,isRemove?removeOpt||{}:null,animatableModel&&animatableModel.getAnimationDelayParams?animatableModel.getAnimationDelayParams(el,dataIndex):null);if(animationConfig&&animationConfig.duration>0){var duration=animationConfig.duration,animationDelay=animationConfig.delay,animationEasing=animationConfig.easing,animateConfig={duration:duration,delay:animationDelay||0,easing:animationEasing,done:cb,force:!!cb||!!during,
// Set to final state in update/init animation.
// So the post processing based on the path shape can be done correctly.
setToFinal:!isRemove,scope:animationType,during:during};isFrom?el.animateFrom(props,animateConfig):el.animateTo(props,animateConfig)}else el.stopAnimation(),// If `isFrom`, the props is the "from" props.
!isFrom&&el.attr(props),// Call during at least once.
during&&during(1),cb&&cb()}
/**
 * Update graphic element properties with or without animation according to the
 * configuration in series.
 *
 * Caution: this method will stop previous animation.
 * So do not use this method to one element twice before
 * animation starts, unless you know what you are doing.
 * @example
 *     graphic.updateProps(el, {
 *         position: [100, 100]
 *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });
 *     // Or
 *     graphic.updateProps(el, {
 *         position: [100, 100]
 *     }, seriesModel, function () { console.log('Animation done!'); });
 */function updateProps(el,props,// TODO: TYPE AnimatableModel
animatableModel,dataIndex,cb,during){animateOrSetProps("update",el,props,animatableModel,dataIndex,cb,during)}
/**
 * Init graphic element properties with or without animation according to the
 * configuration in series.
 *
 * Caution: this method will stop previous animation.
 * So do not use this method to one element twice before
 * animation starts, unless you know what you are doing.
 */function initProps(el,props,animatableModel,dataIndex,cb,during){animateOrSetProps("enter",el,props,animatableModel,dataIndex,cb,during)}
/**
 * If element is removed.
 * It can determine if element is having remove animation.
 */function isElementRemoved(el){if(!el.__zr)return!0;for(var i=0;i<el.animators.length;i++){var animator=el.animators[i];if("leave"===animator.scope)return!0}return!1}
/**
 * Remove graphic element
 */function removeElement(el,props,animatableModel,dataIndex,cb,during){
// Don't do remove animation twice.
isElementRemoved(el)||animateOrSetProps("leave",el,props,animatableModel,dataIndex,cb,during)}function fadeOutDisplayable(el,animatableModel,dataIndex,done){el.removeTextContent(),el.removeTextGuideLine(),removeElement(el,{style:{opacity:0}},animatableModel,dataIndex,done)}function removeElementWithFadeOut(el,animatableModel,dataIndex){function doRemove(){el.parent&&el.parent.remove(el)}// Hide label and labelLine first
// TODO Also use fade out animation?
el.isGroup?el.traverse((function(disp){disp.isGroup||
// Can invoke doRemove multiple times.
fadeOutDisplayable(disp,animatableModel,dataIndex,doRemove)})):fadeOutDisplayable(el,animatableModel,dataIndex,doRemove)}
/**
 * Save old style for style transition in universalTransition module.
 * It's used when element will be reused in each render.
 * For chart like map, heatmap, which will always create new element.
 * We don't need to save this because universalTransition can get old style from the old element
 */function saveOldStyle(el){transitionStore(el).oldStyle=el.style}function getOldStyle(el){return transitionStore(el).oldStyle}
/***/},
/***/495455:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */r:function(){/* binding */return stopPreviousKeyframeAnimationAndRestore},
/* harmony export */t:function(){/* binding */return applyKeyframeAnimation}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_customGraphicTransition_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(857718),_basicTransition_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(944292),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234),getStateToRestore=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];
/* harmony import */
/**
 * Stop previous keyframe animation and restore the attributes.
 * Avoid new keyframe animation starts with wrong internal state when the percent: 0 is not set.
 */
function stopPreviousKeyframeAnimationAndRestore(el){
// Stop previous keyframe animation.
el.stopAnimation("keyframe"),// Restore
el.attr(getStateToRestore(el))}function applyKeyframeAnimation(el,animationOpts,animatableModel){if(animatableModel.isAnimationEnabled()&&animationOpts)if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(animationOpts))(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(animationOpts,(function(singleAnimationOpts){applyKeyframeAnimation(el,singleAnimationOpts,animatableModel)}));else{var keyframes=animationOpts.keyframes,duration=animationOpts.duration;if(animatableModel&&null==duration){
// Default to use duration of config.
// NOTE: animation config from payload will be ignored because they are mainly for transitions.
var config=(0,_basicTransition_js__WEBPACK_IMPORTED_MODULE_2__/* .getAnimationConfig */.ke)("enter",animatableModel,0);duration=config&&config.duration}if(keyframes&&duration){var stateToRestore=getStateToRestore(el);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(_customGraphicTransition_js__WEBPACK_IMPORTED_MODULE_3__/* .ELEMENT_ANIMATABLE_PROPS */.O0,(function(targetPropName){if(!targetPropName||el[targetPropName]){var animator;// Sort keyframes by percent.
keyframes.sort((function(a,b){return a.percent-b.percent})),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(keyframes,(function(kf){
// Stop current animation.
var animators=el.animators,kfValues=targetPropName?kf[targetPropName]:kf;if(kfValues){var propKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .keys */.XP)(kfValues);if(targetPropName||(
// PENDING performance?
propKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .filter */.hX)(propKeys,(function(key){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .indexOf */.cq)(KEYFRAME_EXCLUDE_KEYS,key)<0}))),propKeys.length){animator||(animator=el.animate(targetPropName,animationOpts.loop,!0),animator.scope="keyframe");for(var i=0;i<animators.length;i++)
// Stop all other animation that is not keyframe.
animators[i]!==animator&&animators[i].targetName===animator.targetName&&animators[i].stopTracks(propKeys);targetPropName&&(stateToRestore[targetPropName]=stateToRestore[targetPropName]||{});var savedTarget=targetPropName?stateToRestore[targetPropName]:stateToRestore;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(propKeys,(function(key){
// Save original value.
savedTarget[key]=((targetPropName?el[targetPropName]:el)||{})[key]})),animator.whenWithKeys(duration*kf.percent,kfValues,propKeys,kf.easing)}}})),animator&&animator.delay(animationOpts.delay||0).duration(duration).start(animationOpts.easing)}}))}}}
/***/},
/***/857718:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */O0:function(){/* binding */return ELEMENT_ANIMATABLE_PROPS},
/* harmony export */O3:function(){/* binding */return applyLeaveTransition},
/* harmony export */Ob:function(){/* binding */return applyUpdateTransition},
/* harmony export */WK:function(){/* binding */return isTransitionAll},
/* harmony export */_9:function(){/* binding */return updateLeaveTo}
/* harmony export */});
/* harmony import */var _util_model_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(232234),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),zrender_lib_animation_Animator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(551376),zrender_lib_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(207719),_basicTransition_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(944292),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(696997),zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(487411),LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(LEGACY_TRANSFORM_PROPS_MAP),ELEMENT_ANIMATABLE_PROPS=((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .reduce */.u4)(zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__/* .TRANSFORMABLE_PROPS */.dN,(function(obj,key){return obj[key]=1,obj}),{}),zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__/* .TRANSFORMABLE_PROPS */.dN.join(", "),["","style","shape","extra"]),transitionInnerStore=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_2__/* .makeInner */.Yf)();
/* harmony import */function getElementAnimationConfig(animationType,el,elOption,parentModel,dataIndex){var animationProp=animationType+"Animation",config=(0,_basicTransition_js__WEBPACK_IMPORTED_MODULE_3__/* .getAnimationConfig */.ke)(animationType,parentModel,dataIndex)||{},userDuring=transitionInnerStore(el).userDuring;// Only set when duration is > 0 and it's need to be animated.
return config.duration>0&&(
// For simplicity, if during not specified, the previous during will not work any more.
config.during=userDuring?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .bind */.ak)(duringCall,{el:el,userDuring:userDuring}):null,config.setToFinal=!0,config.scope=animationType),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7)(config,elOption[animationProp]),config}function applyUpdateTransition(el,elOption,animatableModel,opts){opts=opts||{};var dataIndex=opts.dataIndex,isInit=opts.isInit,clearStyle=opts.clearStyle,hasAnimation=animatableModel.isAnimationEnabled(),store=transitionInnerStore(el),styleOpt=elOption.style;store.userDuring=elOption.during;var transFromProps={},propsToSet={};if(prepareTransformAllPropsFinal(el,elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("shape",elOption,propsToSet),prepareShapeOrExtraAllPropsFinal("extra",elOption,propsToSet),!isInit&&hasAnimation&&(prepareTransformTransitionFrom(el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("shape",el,elOption,transFromProps),prepareShapeOrExtraTransitionFrom("extra",el,elOption,transFromProps),prepareStyleTransitionFrom(el,elOption,styleOpt,transFromProps)),propsToSet.style=styleOpt,applyPropsDirectly(el,propsToSet,clearStyle),applyMiscProps(el,elOption),hasAnimation)if(isInit){var enterFromProps_1={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(ELEMENT_ANIMATABLE_PROPS,(function(propName){var prop=propName?elOption[propName]:elOption;prop&&prop.enterFrom&&(propName&&(enterFromProps_1[propName]=enterFromProps_1[propName]||{}),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7)(propName?enterFromProps_1[propName]:enterFromProps_1,prop.enterFrom))}));var config=getElementAnimationConfig("enter",el,elOption,animatableModel,dataIndex);config.duration>0&&el.animateFrom(enterFromProps_1,config)}else applyPropsTransition(el,elOption,dataIndex||0,animatableModel,transFromProps);// Store leave to be used in leave transition.
updateLeaveTo(el,elOption),styleOpt?el.dirty():el.markRedraw()}function updateLeaveTo(el,elOption){for(
// Try merge to previous set leaveTo
var leaveToProps=transitionInnerStore(el).leaveToProps,i=0;i<ELEMENT_ANIMATABLE_PROPS.length;i++){var propName=ELEMENT_ANIMATABLE_PROPS[i],prop=propName?elOption[propName]:elOption;prop&&prop.leaveTo&&(leaveToProps||(leaveToProps=transitionInnerStore(el).leaveToProps={}),propName&&(leaveToProps[propName]=leaveToProps[propName]||{}),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7)(propName?leaveToProps[propName]:leaveToProps,prop.leaveTo))}}function applyLeaveTransition(el,elOption,animatableModel,onRemove){if(el){var parent_1=el.parent,leaveToProps=transitionInnerStore(el).leaveToProps;if(leaveToProps){
// TODO TODO use leave after leaveAnimation in series is introduced
// TODO Data index?
var config=getElementAnimationConfig("update",el,elOption,animatableModel,0);config.done=function(){parent_1.remove(el),onRemove&&onRemove()},el.animateTo(leaveToProps,config)}else parent_1.remove(el),onRemove&&onRemove()}}function isTransitionAll(transition){return"all"===transition}function applyPropsDirectly(el,// Can be null/undefined
allPropsFinal,clearStyle){var styleOpt=allPropsFinal.style;if(!el.isGroup&&styleOpt){if(clearStyle){el.useStyle({});for(// When style object changed, how to trade the existing animation?
// It is probably complicated and not needed to cover all the cases.
// But still need consider the case:
// (1) When using init animation on `style.opacity`, and before the animation
//     ended users triggers an update by mousewhel. At that time the init
//     animation should better be continued rather than terminated.
//     So after `useStyle` called, we should change the animation target manually
//     to continue the effect of the init animation.
// (2) PENDING: If the previous animation targeted at a `val1`, and currently we need
//     to update the value to `val2` and no animation declared, should be terminate
//     the previous animation or just modify the target of the animation?
//     Therotically That will happen not only on `style` but also on `shape` and
//     `transfrom` props. But we haven't handle this case at present yet.
// (3) PENDING: Is it proper to visit `animators` and `targetName`?
var animators=el.animators,i=0;i<animators.length;i++){var animator=animators[i];// targetName is the "topKey".
"style"===animator.targetName&&animator.changeTarget(el.style)}}el.setStyle(styleOpt)}allPropsFinal&&(
// Not set style here.
allPropsFinal.style=null,// Set el to the final state firstly.
allPropsFinal&&el.attr(allPropsFinal),allPropsFinal.style=styleOpt)}function applyPropsTransition(el,elOption,dataIndex,model,// Can be null/undefined
transFromProps){if(transFromProps){var config=getElementAnimationConfig("update",el,elOption,model,dataIndex);config.duration>0&&el.animateFrom(transFromProps,config)}}function applyMiscProps(el,elOption){
// Merge by default.
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .hasOwn */.RI)(elOption,"silent")&&(el.silent=elOption.silent),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .hasOwn */.RI)(elOption,"ignore")&&(el.ignore=elOption.ignore),el instanceof zrender_lib_graphic_Displayable_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.ZP&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .hasOwn */.RI)(elOption,"invisible")&&(el.invisible=elOption.invisible),el instanceof _util_graphic_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.ZP&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .hasOwn */.RI)(elOption,"autoBatch")&&(el.autoBatch=elOption.autoBatch)}// Use it to avoid it be exposed to user.
var tmpDuringScope={},transitionDuringAPI={
// Usually other props do not need to be changed in animation during.
setTransform:function(key,val){return tmpDuringScope.el[key]=val,this},getTransform:function(key){return tmpDuringScope.el[key]},setShape:function(key,val){var el=tmpDuringScope.el,shape=el.shape||(el.shape={});return shape[key]=val,el.dirtyShape&&el.dirtyShape(),this},getShape:function(key){var shape=tmpDuringScope.el.shape;if(shape)return shape[key]},setStyle:function(key,val){var el=tmpDuringScope.el,style=el.style;return style&&(style[key]=val,el.dirtyStyle&&el.dirtyStyle()),this},getStyle:function(key){var style=tmpDuringScope.el.style;if(style)return style[key]},setExtra:function(key,val){var extra=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return extra[key]=val,this},getExtra:function(key){var extra=tmpDuringScope.el.extra;if(extra)return extra[key]}};function duringCall(){
// Do not provide "percent" until some requirements come.
// Because consider thies case:
// enterFrom: {x: 100, y: 30}, transition: 'x'.
// And enter duration is different from update duration.
// Thus it might be confused about the meaning of "percent" in during callback.
var scope=this,el=scope.el;if(el){// If el is remove from zr by reason like legend, during still need to called,
// because el will be added back to zr and the prop value should not be incorrect.
var latestUserDuring=transitionInnerStore(el).userDuring,scopeUserDuring=scope.userDuring;// Ensured a during is only called once in each animation frame.
// If a during is called multiple times in one frame, maybe some users' calculation logic
// might be wrong (not sure whether this usage exists).
// The case of a during might be called twice can be: by default there is a animator for
// 'x', 'y' when init. Before the init animation finished, call `setOption` to start
// another animators for 'style'/'shape'/'extra'.
latestUserDuring===scopeUserDuring?(tmpDuringScope.el=el,// Give no `this` to user in "during" calling.
scopeUserDuring(transitionDuringAPI)):
// release
scope.el=scope.userDuring=null}}function prepareShapeOrExtraTransitionFrom(mainAttr,fromEl,elOption,transFromProps){var attrOpt=elOption[mainAttr];if(attrOpt){var transFromPropsInAttr,elPropsInAttr=fromEl[mainAttr];if(elPropsInAttr){var transition=elOption.transition,attrTransition=attrOpt.transition;if(attrTransition)if(!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={}),isTransitionAll(attrTransition))(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7)(transFromPropsInAttr,elPropsInAttr);else for(var transitionKeys=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_2__/* .normalizeToArray */.kF)(attrTransition),i=0;i<transitionKeys.length;i++){var key=transitionKeys[i],elVal=elPropsInAttr[key];transFromPropsInAttr[key]=elVal}else if(isTransitionAll(transition)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .indexOf */.cq)(transition,mainAttr)>=0){!transFromPropsInAttr&&(transFromPropsInAttr=transFromProps[mainAttr]={});var elPropsInAttrKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(elPropsInAttr);for(i=0;i<elPropsInAttrKeys.length;i++){key=elPropsInAttrKeys[i],elVal=elPropsInAttr[key];isNonStyleTransitionEnabled(attrOpt[key],elVal)&&(transFromPropsInAttr[key]=elVal)}}}}}function prepareShapeOrExtraAllPropsFinal(mainAttr,elOption,allProps){var attrOpt=elOption[mainAttr];if(attrOpt)for(var allPropsInAttr=allProps[mainAttr]={},keysInAttr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(attrOpt),i=0;i<keysInAttr.length;i++){var key=keysInAttr[i];// To avoid share one object with different element, and
// to avoid user modify the object inexpectedly, have to clone.
allPropsInAttr[key]=(0,zrender_lib_animation_Animator_js__WEBPACK_IMPORTED_MODULE_6__/* .cloneValue */.V)(attrOpt[key])}}function prepareTransformTransitionFrom(el,elOption,transFromProps){for(var transition=elOption.transition,transitionKeys=isTransitionAll(transition)?zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__/* .TRANSFORMABLE_PROPS */.dN:(0,_util_model_js__WEBPACK_IMPORTED_MODULE_2__/* .normalizeToArray */.kF)(transition||[]),i=0;i<transitionKeys.length;i++){var key=transitionKeys[i];if("style"!==key&&"shape"!==key&&"extra"!==key){var elVal=el[key];0,// Do not clone, animator will perform that clone.
transFromProps[key]=elVal}}}function prepareTransformAllPropsFinal(el,elOption,allProps){for(var i=0;i<LEGACY_TRANSFORM_PROPS.length;i++){var legacyName=LEGACY_TRANSFORM_PROPS[i],xyName=LEGACY_TRANSFORM_PROPS_MAP[legacyName],legacyArr=elOption[legacyName];legacyArr&&(allProps[xyName[0]]=legacyArr[0],allProps[xyName[1]]=legacyArr[1])}for(i=0;i<zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__/* .TRANSFORMABLE_PROPS */.dN.length;i++){var key=zrender_lib_core_Transformable_js__WEBPACK_IMPORTED_MODULE_1__/* .TRANSFORMABLE_PROPS */.dN[i];null!=elOption[key]&&(allProps[key]=elOption[key])}}function prepareStyleTransitionFrom(fromEl,elOption,styleOpt,transFromProps){if(styleOpt){var transFromStyleProps,fromElStyle=fromEl.style;if(fromElStyle){var styleTransition=styleOpt.transition,elTransition=elOption.transition;if(styleTransition&&!isTransitionAll(styleTransition)){var transitionKeys=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_2__/* .normalizeToArray */.kF)(styleTransition);!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});for(var i=0;i<transitionKeys.length;i++){var key=transitionKeys[i],elVal=fromElStyle[key];// Do not clone, see `checkNonStyleTansitionRefer`.
transFromStyleProps[key]=elVal}}else if(fromEl.getAnimationStyleProps&&(isTransitionAll(elTransition)||isTransitionAll(styleTransition)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .indexOf */.cq)(elTransition,"style")>=0)){var animationProps=fromEl.getAnimationStyleProps(),animationStyleProps=animationProps?animationProps.style:null;if(animationStyleProps){!transFromStyleProps&&(transFromStyleProps=transFromProps.style={});var styleKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(styleOpt);for(i=0;i<styleKeys.length;i++){key=styleKeys[i];if(animationStyleProps[key]){elVal=fromElStyle[key];transFromStyleProps[key]=elVal}}}}}}}function isNonStyleTransitionEnabled(optVal,elVal){
// The same as `checkNonStyleTansitionRefer`.
return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArrayLike */.zG)(optVal)?optVal!==elVal:null!=optVal&&isFinite(optVal)}},
/***/913390:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{z:function(){/* binding */return installUniversalTransition}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/model/Series.js
var Series=__webpack_require__(993321),util=__webpack_require__(933051),morphPath=__webpack_require__(662313),Path=__webpack_require__(696997),basicTransition=__webpack_require__(944292),path=__webpack_require__(80073);
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/util.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/animation/morphTransitionHelper.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function isMultiple(elements){return(0,util/* isArray */.kJ)(elements[0])}function prepareMorphBatches(one,many){for(var batches=[],batchCount=one.length,i=0;i<batchCount;i++)batches.push({one:one[i],many:[]});for(i=0;i<many.length;i++){var len=many[i].length,k=void 0;for(k=0;k<len;k++)batches[k%batchCount].many.push(many[i][k])}var off=0;// If one has more paths than each one of many. average them.
for(i=batchCount-1;i>=0;i--)if(!batches[i].many.length){var moveFrom=batches[off].many;if(moveFrom.length<=1){
// Not enough
// Start from the first one.
if(!off)return batches;off=0}len=moveFrom.length;var mid=Math.ceil(len/2);batches[i].many=moveFrom.slice(mid,len),batches[off].many=moveFrom.slice(0,mid),off++}return batches}var pathDividers={clone:function(params){for(var ret=[],approxOpacity=1-Math.pow(1-params.path.style.opacity,1/params.count),i=0// Fitting the alpha
;i<params.count;i++){var cloned=(0,path/* clonePath */.U5)(params.path);cloned.setStyle("opacity",approxOpacity),ret.push(cloned)}return ret},
// Use the default divider
split:null};function applyMorphAnimation(from,to,divideShape,seriesModel,dataIndex,animateOtherProps){if(from.length&&to.length){var updateAnimationCfg=(0,basicTransition/* getAnimationConfig */.ke)("update",seriesModel,dataIndex);if(updateAnimationCfg&&updateAnimationCfg.duration>0){var many,one,animationDelay=seriesModel.getModel("universalTransition").get("delay"),animationCfg=Object.assign({
// Need to setToFinal so the further calculation based on the style can be correct.
// Like emphasis color.
setToFinal:!0},updateAnimationCfg);isMultiple(from)&&(
// manyToOne
many=from,one=to),isMultiple(to)&&(
// oneToMany
many=to,one=from);for(var fromIsMany=many?many===from:from.length>to.length,morphBatches=many?prepareMorphBatches(one,many):prepareMorphBatches(fromIsMany?to:from,[fromIsMany?from:to]),animateCount=0,i=0;i<morphBatches.length;i++)animateCount+=morphBatches[i].many.length;var animateIndex=0;for(i=0;i<morphBatches.length;i++)morphOneBatch(morphBatches[i],fromIsMany,animateIndex,animateCount),animateIndex+=morphBatches[i].many.length}}function morphOneBatch(batch,fromIsMany,animateIndex,animateCount,forceManyOne){var batchMany=batch.many,batchOne=batch.one;if(1!==batchMany.length||forceManyOne)for(var separateAnimationCfg=(0,util/* defaults */.ce)({dividePath:pathDividers[divideShape],individualDelay:animationDelay&&function(idx,count,fromPath,toPath){return animationDelay(idx+animateIndex,animateCount)}},animationCfg),_a=fromIsMany?(0,morphPath/* combineMorph */.a4)(batchMany,batchOne,separateAnimationCfg):(0,morphPath/* separateMorph */.nY)(batchOne,batchMany,separateAnimationCfg),fromIndividuals=_a.fromIndividuals,toIndividuals=_a.toIndividuals,count=fromIndividuals.length,k=0;k<count;k++){individualAnimationCfg=animationDelay?(0,util/* defaults */.ce)({delay:animationDelay(k,count)},animationCfg):animationCfg;animateOtherProps(fromIndividuals[k],toIndividuals[k],fromIsMany?batchMany[k]:batch.one,fromIsMany?batch.one:batchMany[k],individualAnimationCfg)}else{
// Is one to one
var batchFrom=fromIsMany?batchMany[0]:batchOne,batchTo=fromIsMany?batchOne:batchMany[0];if((0,morphPath/* isCombineMorphing */.j)(batchFrom))
// Keep doing combine animation.
morphOneBatch({many:[batchFrom],one:batchTo},!0,animateIndex,animateCount,!0);else{var individualAnimationCfg=animationDelay?(0,util/* defaults */.ce)({delay:animationDelay(animateIndex,animateCount)},animationCfg):animationCfg;(0,morphPath/* morphPath */.xQ)(batchFrom,batchTo,individualAnimationCfg),animateOtherProps(batchFrom,batchTo,batchFrom,batchTo,individualAnimationCfg)}}}}function getPathList(elements){if(!elements)return[];if((0,util/* isArray */.kJ)(elements)){for(var pathList_1=[],i=0;i<elements.length;i++)pathList_1.push(getPathList(elements[i]));return pathList_1}var pathList=[];return elements.traverse((function(el){el instanceof Path/* default */.ZP&&!el.disableMorphing&&!el.invisible&&!el.ignore&&pathList.push(el)})),pathList}
// EXTERNAL MODULE: ./node_modules/echarts/lib/data/DataDiffer.js
var DataDiffer=__webpack_require__(904130),model=__webpack_require__(232234),Displayable=(__webpack_require__(470175),__webpack_require__(207719)),DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=(0,model/* makeInner */.Yf)();
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/model.js
function getGroupIdDimension(data){for(var dimensions=data.dimensions,i=0;i<dimensions.length;i++){var dimInfo=data.getDimensionInfo(dimensions[i]);if(dimInfo&&0===dimInfo.otherDims.itemGroupId)return dimensions[i]}}function flattenDataDiffItems(list){var items=[];return(0,util/* each */.S6)(list,(function(seriesInfo){var data=seriesInfo.data;if(!(data.count()>DATA_COUNT_THRESHOLD))for(var indices=data.getIndices(),groupDim=getGroupIdDimension(data),dataIndex=0;dataIndex<indices.length;dataIndex++)items.push({dataGroupId:seriesInfo.dataGroupId,data:data,dim:seriesInfo.dim||groupDim,divide:seriesInfo.divide,dataIndex:dataIndex})})),items}function fadeInElement(newEl,newSeries,newIndex){newEl.traverse((function(el){el instanceof Path/* default */.ZP&&
// TODO use fade in animation for target element.
(0,basicTransition/* initProps */.KZ)(el,{style:{opacity:0}},newSeries,{dataIndex:newIndex,isFrom:!0})}))}function removeEl(el){if(el.parent){
// Bake parent transform to element.
// So it can still have proper transform to transition after it's removed.
var computedTransform=el.getComputedTransform();el.setLocalTransform(computedTransform),el.parent.remove(el)}}function stopAnimation(el){el.stopAnimation(),el.isGroup&&el.traverse((function(child){child.stopAnimation()}))}function animateElementStyles(el,dataIndex,seriesModel){var animationConfig=(0,basicTransition/* getAnimationConfig */.ke)("update",seriesModel,dataIndex);animationConfig&&el.traverse((function(child){if(child instanceof Displayable/* default */.ZP){var oldStyle=(0,basicTransition/* getOldStyle */._W)(child);oldStyle&&child.animateFrom({style:oldStyle},animationConfig)}}))}function isAllIdSame(oldDiffItems,newDiffItems){var len=oldDiffItems.length;if(len!==newDiffItems.length)return!1;for(var i=0;i<len;i++){var oldItem=oldDiffItems[i],newItem=newDiffItems[i];if(oldItem.data.getId(oldItem.dataIndex)!==newItem.data.getId(newItem.dataIndex))return!1}return!0}function transitionBetween(oldList,newList,api){var oldDiffItems=flattenDataDiffItems(oldList),newDiffItems=flattenDataDiffItems(newList);function updateMorphingPathProps(from,to,rawFrom,rawTo,animationCfg){(rawFrom||from)&&to.animateFrom({style:rawFrom&&rawFrom!==from?// dividingMethod like clone may override the style(opacity)
// So extend it to raw style.
(0,util/* extend */.l7)((0,util/* extend */.l7)({},rawFrom.style),from.style):from.style},animationCfg)}function findKeyDim(items){for(var i=0;i<items.length;i++)if(items[i].dim)return items[i].dim}var oldKeyDim=findKeyDim(oldDiffItems),newKeyDim=findKeyDim(newDiffItems),hasMorphAnimation=!1;function createKeyGetter(isOld,onlyGetId){return function(diffItem){var data=diffItem.data,dataIndex=diffItem.dataIndex;// TODO if specified dim
if(onlyGetId)return data.getId(dataIndex);// Use group id as transition key by default.
// So we can achieve multiple to multiple animation like drilldown / up naturally.
// If group id not exits. Use id instead. If so, only one to one transition will be applied.
var dataGroupId=diffItem.dataGroupId,keyDim=isOld?oldKeyDim||newKeyDim:newKeyDim||oldKeyDim,dimInfo=keyDim&&data.getDimensionInfo(keyDim),dimOrdinalMeta=dimInfo&&dimInfo.ordinalMeta;// If specified key dimension(itemGroupId by default). Use this same dimension from other data.
// PENDING: If only use key dimension of newData.
if(dimInfo){
// Get from encode.itemGroupId.
var key=data.get(dimInfo.name,dataIndex);return dimOrdinalMeta&&dimOrdinalMeta.categories[key]||key+""}// Get groupId from raw item. { groupId: '' }
var itemVal=data.getRawDataItem(dataIndex);return itemVal&&itemVal.groupId?itemVal.groupId+"":dataGroupId||data.getId(dataIndex)}}// Use id if it's very likely to be an one to one animation
// It's more robust than groupId
// TODO Check if key dimension is specified.
var useId=isAllIdSame(oldDiffItems,newDiffItems),isElementStillInChart={};if(!useId)
// We may have different diff strategy with basicTransition if we use other dimension as key.
// If so, we can't simply check if oldEl is same with newEl. We need a map to check if oldEl is still being used in the new chart.
// We can't use the elements that already being morphed. Let it keep it's original basic transition.
for(var i=0;i<newDiffItems.length;i++){var newItem=newDiffItems[i],el=newItem.data.getItemGraphicEl(newItem.dataIndex);el&&(isElementStillInChart[el.id]=!0)}function updateOneToOne(newIndex,oldIndex){var oldItem=oldDiffItems[oldIndex],newItem=newDiffItems[newIndex],newSeries=newItem.data.hostModel,oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex),newEl=newItem.data.getItemGraphicEl(newItem.dataIndex);// Can't handle same elements.
oldEl!==newEl?// We can't use the elements that already being morphed
oldEl&&isElementStillInChart[oldEl.id]||newEl&&(
// TODO: If keep animating the group in case
// some of the elements don't want to be morphed.
// TODO Label?
stopAnimation(newEl),oldEl?(stopAnimation(oldEl),// If old element is doing leaving animation. stop it and remove it immediately.
removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newIndex)):newEl&&animateElementStyles(newEl,newItem.dataIndex,newSeries)}new DataDiffer/* default */.Z(oldDiffItems,newDiffItems,createKeyGetter(!0,useId),createKeyGetter(!1,useId),null,"multiple").update(updateOneToOne).updateManyToOne((function(newIndex,oldIndices){var newItem=newDiffItems[newIndex],newData=newItem.data,newSeries=newData.hostModel,newEl=newData.getItemGraphicEl(newItem.dataIndex),oldElsList=(0,util/* filter */.hX)((0,util/* map */.UI)(oldIndices,(function(idx){return oldDiffItems[idx].data.getItemGraphicEl(oldDiffItems[idx].dataIndex)})),(function(oldEl){return oldEl&&oldEl!==newEl&&!isElementStillInChart[oldEl.id]}));newEl&&(stopAnimation(newEl),oldElsList.length?(
// If old element is doing leaving animation. stop it and remove it immediately.
(0,util/* each */.S6)(oldElsList,(function(oldEl){stopAnimation(oldEl),removeEl(oldEl)})),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldElsList),getPathList(newEl),newItem.divide,newSeries,newIndex,updateMorphingPathProps)):fadeInElement(newEl,newSeries,newItem.dataIndex));// else keep oldEl leaving animation.
})).updateOneToMany((function(newIndices,oldIndex){var oldItem=oldDiffItems[oldIndex],oldEl=oldItem.data.getItemGraphicEl(oldItem.dataIndex);// We can't use the elements that already being morphed
if(!oldEl||!isElementStillInChart[oldEl.id]){var newElsList=(0,util/* filter */.hX)((0,util/* map */.UI)(newIndices,(function(idx){return newDiffItems[idx].data.getItemGraphicEl(newDiffItems[idx].dataIndex)})),(function(el){return el&&el!==oldEl})),newSeris=newDiffItems[newIndices[0]].data.hostModel;newElsList.length&&((0,util/* each */.S6)(newElsList,(function(newEl){return stopAnimation(newEl)})),oldEl?(stopAnimation(oldEl),// If old element is doing leaving animation. stop it and remove it immediately.
removeEl(oldEl),hasMorphAnimation=!0,applyMorphAnimation(getPathList(oldEl),getPathList(newElsList),oldItem.divide,// Use divide on old.
newSeris,newIndices[0],updateMorphingPathProps)):(0,util/* each */.S6)(newElsList,(function(newEl){return fadeInElement(newEl,newSeris,newIndices[0])})));// else keep oldEl leaving animation.
}})).updateManyToMany((function(newIndices,oldIndices){
// If two data are same and both have groupId.
// Normally they should be diff by id.
new DataDiffer/* default */.Z(oldIndices,newIndices,(function(rawIdx){return oldDiffItems[rawIdx].data.getId(oldDiffItems[rawIdx].dataIndex)}),(function(rawIdx){return newDiffItems[rawIdx].data.getId(newDiffItems[rawIdx].dataIndex)})).update((function(newIndex,oldIndex){
// Use the original index
updateOneToOne(newIndices[newIndex],oldIndices[oldIndex])})).execute()})).execute(),hasMorphAnimation&&(0,util/* each */.S6)(newList,(function(_a){var data=_a.data,seriesModel=data.hostModel,view=seriesModel&&api.getViewOfSeriesModel(seriesModel),animationCfg=(0,basicTransition/* getAnimationConfig */.ke)("update",seriesModel,0);// use 0 index.
view&&seriesModel.isAnimationEnabled()&&animationCfg&&animationCfg.duration>0&&view.group.traverse((function(el){el instanceof Path/* default */.ZP&&!el.animators.length&&
// We can't accept there still exists element that has no animation
// if universalTransition is enabled
el.animateFrom({style:{opacity:0}},animationCfg)}))}))}function getSeriesTransitionKey(series){var seriesKey=series.getModel("universalTransition").get("seriesKey");return seriesKey||series.id}function convertArraySeriesKeyToString(seriesKey){return(0,util/* isArray */.kJ)(seriesKey)?seriesKey.sort().join(","):seriesKey}function getDivideShapeFromData(data){if(data.hostModel)return data.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(globalStore,params){var updateBatches=(0,util/* createHashMap */.kW)(),oldDataMap=(0,util/* createHashMap */.kW)(),oldDataMapForSplit=(0,util/* createHashMap */.kW)();return(0,util/* each */.S6)(globalStore.oldSeries,(function(series,idx){var oldDataGroupId=globalStore.oldDataGroupIds[idx],oldData=globalStore.oldData[idx],transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey);oldDataMap.set(transitionKeyStr,{dataGroupId:oldDataGroupId,data:oldData}),(0,util/* isArray */.kJ)(transitionKey)&&
// Same key can't in different array seriesKey.
(0,util/* each */.S6)(transitionKey,(function(key){oldDataMapForSplit.set(key,{key:transitionKeyStr,dataGroupId:oldDataGroupId,data:oldData})}))})),(0,util/* each */.S6)(params.updatedSeries,(function(series){if(series.isUniversalTransitionEnabled()&&series.isAnimationEnabled()){var newDataGroupId=series.get("dataGroupId"),newData=series.getData(),transitionKey=getSeriesTransitionKey(series),transitionKeyStr=convertArraySeriesKeyToString(transitionKey),oldData=oldDataMap.get(transitionKeyStr);// string transition key is the best match.
if(oldData)// TODO check if data is same?
updateBatches.set(transitionKeyStr,{oldSeries:[{dataGroupId:oldData.dataGroupId,divide:getDivideShapeFromData(oldData.data),data:oldData.data}],newSeries:[{dataGroupId:newDataGroupId,divide:getDivideShapeFromData(newData),data:newData}]});else
// Transition from multiple series.
if((0,util/* isArray */.kJ)(transitionKey)){0;var oldSeries_1=[];(0,util/* each */.S6)(transitionKey,(function(key){var oldData=oldDataMap.get(key);oldData.data&&oldSeries_1.push({dataGroupId:oldData.dataGroupId,divide:getDivideShapeFromData(oldData.data),data:oldData.data})})),oldSeries_1.length&&updateBatches.set(transitionKeyStr,{oldSeries:oldSeries_1,newSeries:[{dataGroupId:newDataGroupId,data:newData,divide:getDivideShapeFromData(newData)}]})}else{
// Try transition to multiple series.
var oldData_1=oldDataMapForSplit.get(transitionKey);if(oldData_1){var batch=updateBatches.get(oldData_1.key);batch||(batch={oldSeries:[{dataGroupId:oldData_1.dataGroupId,data:oldData_1.data,divide:getDivideShapeFromData(oldData_1.data)}],newSeries:[]},updateBatches.set(oldData_1.key,batch)),batch.newSeries.push({dataGroupId:newDataGroupId,data:newData,divide:getDivideShapeFromData(newData)})}}}})),updateBatches}function querySeries(series,finder){for(var i=0;i<series.length;i++){var found=null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id;if(found)return i}}function transitionSeriesFromOpt(transitionOpt,globalStore,params,api){var from=[],to=[];(0,util/* each */.S6)((0,model/* normalizeToArray */.kF)(transitionOpt.from),(function(finder){var idx=querySeries(globalStore.oldSeries,finder);idx>=0&&from.push({dataGroupId:globalStore.oldDataGroupIds[idx],data:globalStore.oldData[idx],
// TODO can specify divideShape in transition.
divide:getDivideShapeFromData(globalStore.oldData[idx]),dim:finder.dimension})})),(0,util/* each */.S6)((0,model/* normalizeToArray */.kF)(transitionOpt.to),(function(finder){var idx=querySeries(params.updatedSeries,finder);if(idx>=0){var data=params.updatedSeries[idx].getData();to.push({dataGroupId:globalStore.oldDataGroupIds[idx],data:data,divide:getDivideShapeFromData(data),dim:finder.dimension})}})),from.length>0&&to.length>0&&transitionBetween(from,to,api)}function installUniversalTransition(registers){registers.registerUpdateLifecycle("series:beforeupdate",(function(ecMOdel,api,params){(0,util/* each */.S6)((0,model/* normalizeToArray */.kF)(params.seriesTransition),(function(transOpt){(0,util/* each */.S6)((0,model/* normalizeToArray */.kF)(transOpt.to),(function(finder){for(var series=params.updatedSeries,i=0;i<series.length;i++)(null!=finder.seriesIndex&&finder.seriesIndex===series[i].seriesIndex||null!=finder.seriesId&&finder.seriesId===series[i].id)&&(series[i][Series/* SERIES_UNIVERSAL_TRANSITION_PROP */.V]=!0)}))}))})),registers.registerUpdateLifecycle("series:transition",(function(ecModel,api,params){
// TODO api provide an namespace that can save stuff per instance
var globalStore=getUniversalTransitionGlobalStore(api);// TODO multiple to multiple series.
if(globalStore.oldSeries&&params.updatedSeries&&params.optionChanged){
// Use give transition config if its' give;
var transitionOpt=params.seriesTransition;if(transitionOpt)(0,util/* each */.S6)((0,model/* normalizeToArray */.kF)(transitionOpt),(function(opt){transitionSeriesFromOpt(opt,globalStore,params,api)}));else{
// Else guess from series based on transition series key.
var updateBatches_1=findTransitionSeriesBatches(globalStore,params);(0,util/* each */.S6)(updateBatches_1.keys(),(function(key){var batch=updateBatches_1.get(key);transitionBetween(batch.oldSeries,batch.newSeries,api)}))}// Reset
(0,util/* each */.S6)(params.updatedSeries,(function(series){
// Reset;
series[Series/* SERIES_UNIVERSAL_TRANSITION_PROP */.V]&&(series[Series/* SERIES_UNIVERSAL_TRANSITION_PROP */.V]=!1)}))}// Save all series of current update. Not only the updated one.
for(var allSeries=ecModel.getSeries(),savedSeries=globalStore.oldSeries=[],savedDataGroupIds=globalStore.oldDataGroupIds=[],savedData=globalStore.oldData=[],i=0;i<allSeries.length;i++){var data=allSeries[i].getData();// Only save the data that can have transition.
// Avoid large data costing too much extra memory
data.count()<DATA_COUNT_THRESHOLD&&(savedSeries.push(allSeries[i]),savedDataGroupIds.push(allSeries[i].get("dataGroupId")),savedData.push(data))}}))}
/***/},
/***/444914:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/util.js
var util=__webpack_require__(933051),barGrid=__webpack_require__(79093),dataSample=__webpack_require__(564088),tslib_es6=__webpack_require__(570655),Series=__webpack_require__(993321),createSeriesData=__webpack_require__(635144),BaseBarSeriesModel=
/** @class */
function(_super){function BaseBarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BaseBarSeriesModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(BaseBarSeriesModel,_super),BaseBarSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData/* default */.Z)(null,this,{useEncodeDefaulter:!0})},BaseBarSeriesModel.prototype.getMarkerPosition=function(value,dims,startingAtTick){var coordSys=this.coordinateSystem;if(coordSys&&coordSys.clampData){
// PENDING if clamp ?
var clampData_1=coordSys.clampData(value),pt_1=coordSys.dataToPoint(clampData_1);if(startingAtTick)(0,util/* each */.S6)(coordSys.getAxes(),(function(axis,idx){
// If axis type is category, use tick coords instead
if("category"===axis.type&&null!=dims){var tickCoords=axis.getTicksCoords(),targetTickId=clampData_1[idx],isEnd="x1"===dims[idx]||"y1"===dims[idx];// The only contains one tick, tickCoords is
// like [{coord: 0, tickValue: 0}, {coord: 0}]
// to the length should always be larger than 1
if(isEnd&&(targetTickId+=1),tickCoords.length<2)return;if(2===tickCoords.length)
// The left value and right value of the axis are
// the same. coord is 0 in both items. Use the max
// value of the axis as the coord
return void(pt_1[idx]=axis.toGlobalCoord(axis.getExtent()[isEnd?1:0]));for(var leftCoord=void 0,coord=void 0,stepTickValue=1,i=0;i<tickCoords.length;i++){var tickCoord=tickCoords[i].coord,tickValue=i===tickCoords.length-1?tickCoords[i-1].tickValue+stepTickValue:tickCoords[i].tickValue;// The last item of tickCoords doesn't contain
// tickValue
if(tickValue===targetTickId){coord=tickCoord;break}if(tickValue<targetTickId)leftCoord=tickCoord;else if(null!=leftCoord&&tickValue>targetTickId){coord=(tickCoord+leftCoord)/2;break}1===i&&(
// Here we assume the step of category axes is
// the same
stepTickValue=tickValue-tickCoords[0].tickValue)}null==coord&&(leftCoord?leftCoord&&(
// targetTickId is larger than all tick ids in the
// visible area, use the rightmost tick coord
coord=tickCoords[tickCoords.length-1].coord):
// targetTickId is smaller than all tick ids in the
// visible area, use the leftmost tick coord
coord=tickCoords[0].coord),pt_1[idx]=axis.toGlobalCoord(coord)}}));else{var data=this.getData(),offset=data.getLayout("offset"),size=data.getLayout("size"),offsetIndex=coordSys.getBaseAxis().isHorizontal()?0:1;pt_1[offsetIndex]+=offset+size/2}return pt_1}return[NaN,NaN]},BaseBarSeriesModel.type="series.__base_bar__",BaseBarSeriesModel.defaultOption={
// zlevel: 0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,
// stack: null
// Cartesian coordinate system
// xAxisIndex: 0,
// yAxisIndex: 0,
barMinHeight:0,barMinAngle:0,
// cursor: null,
large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},BaseBarSeriesModel}(Series/* default */.Z);
// EXTERNAL MODULE: ./node_modules/echarts/lib/layout/barGrid.js
Series/* default */.Z.registerClass(BaseBarSeriesModel);
/* harmony default export */var BaseBarSeries=BaseBarSeriesModel,component=__webpack_require__(942151),BarSeriesModel=
/** @class */
function(_super){function BarSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=BarSeriesModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(BarSeriesModel,_super),BarSeriesModel.prototype.getInitialData=function(){return(0,createSeriesData/* default */.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},
/**
   * @override
   */
BarSeriesModel.prototype.getProgressive=function(){
// Do not support progressive in normal mode.
return!!this.get("large")&&this.get("progressive")},
/**
   * @override
   */
BarSeriesModel.prototype.getProgressiveThreshold=function(){
// Do not support progressive in normal mode.
var progressiveThreshold=this.get("progressiveThreshold"),largeThreshold=this.get("largeThreshold");return largeThreshold>progressiveThreshold&&(progressiveThreshold=largeThreshold),progressiveThreshold},BarSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.rect(data.getItemLayout(dataIndex))},BarSeriesModel.type="series.bar",BarSeriesModel.dependencies=["grid","polar"],BarSeriesModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(BaseBarSeries.defaultOption,{
// If clipped
// Only available on cartesian2d
clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),BarSeriesModel}(BaseBarSeries),BarSeries=BarSeriesModel,Path=__webpack_require__(696997),Group=__webpack_require__(38154),graphic=__webpack_require__(851177),basicTransition=__webpack_require__(944292),Rect=__webpack_require__(25293),Sector=__webpack_require__(497782),innerStore=__webpack_require__(30106),states=__webpack_require__(726357),labelStyle=__webpack_require__(336006),throttle=__webpack_require__(800270),createClipPathFromCoordSys=__webpack_require__(122963),sausage=__webpack_require__(839529),Chart=__webpack_require__(975797),CoordinateSystem=__webpack_require__(31073),labelHelper=__webpack_require__(33140),contain_text=__webpack_require__(780423);
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/component.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/label/sectorLabel.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function createSectorCalculateTextPosition(positionMapping,opts){opts=opts||{};var isRoundCap=opts.isRoundCap;return function(out,opts,boundingRect){var textPosition=opts.position;if(!textPosition||textPosition instanceof Array)return(0,contain_text/* calculateTextPosition */.wI)(out,opts,boundingRect);var mappedSectorPosition=positionMapping(textPosition),distance=null!=opts.distance?opts.distance:5,sector=this.shape,cx=sector.cx,cy=sector.cy,r=sector.r,r0=sector.r0,middleR=(r+r0)/2,startAngle=sector.startAngle,endAngle=sector.endAngle,middleAngle=(startAngle+endAngle)/2,extraDist=isRoundCap?Math.abs(r-r0)/2:0,mathCos=Math.cos,mathSin=Math.sin,x=cx+r*mathCos(startAngle),y=cy+r*mathSin(startAngle),textAlign="left",textVerticalAlign="top";switch(mappedSectorPosition){case"startArc":x=cx+(r0-distance)*mathCos(middleAngle),y=cy+(r0-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"insideStartArc":x=cx+(r0+distance)*mathCos(middleAngle),y=cy+(r0+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"startAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,distance+extraDist,!1),textAlign="right",textVerticalAlign="middle";break;case"insideStartAngle":x=cx+middleR*mathCos(startAngle)+adjustAngleDistanceX(startAngle,-distance+extraDist,!1),y=cy+middleR*mathSin(startAngle)+adjustAngleDistanceY(startAngle,-distance+extraDist,!1),textAlign="left",textVerticalAlign="middle";break;case"middle":x=cx+middleR*mathCos(middleAngle),y=cy+middleR*mathSin(middleAngle),textAlign="center",textVerticalAlign="middle";break;case"endArc":x=cx+(r+distance)*mathCos(middleAngle),y=cy+(r+distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="bottom";break;case"insideEndArc":x=cx+(r-distance)*mathCos(middleAngle),y=cy+(r-distance)*mathSin(middleAngle),textAlign="center",textVerticalAlign="top";break;case"endAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,distance+extraDist,!0),textAlign="left",textVerticalAlign="middle";break;case"insideEndAngle":x=cx+middleR*mathCos(endAngle)+adjustAngleDistanceX(endAngle,-distance+extraDist,!0),y=cy+middleR*mathSin(endAngle)+adjustAngleDistanceY(endAngle,-distance+extraDist,!0),textAlign="right",textVerticalAlign="middle";break;default:return(0,contain_text/* calculateTextPosition */.wI)(out,opts,boundingRect)}return out=out||{},out.x=x,out.y=y,out.align=textAlign,out.verticalAlign=textVerticalAlign,out}}function setSectorTextRotation(sector,textPosition,positionMapping,rotateType){if((0,util/* isNumber */.hj)(rotateType))
// user-set rotation
sector.setTextConfig({rotation:rotateType});else if((0,util/* isArray */.kJ)(textPosition))
// user-set position, use 0 as auto rotation
sector.setTextConfig({rotation:0});else{var anchorAngle,shape=sector.shape,startAngle=shape.clockwise?shape.startAngle:shape.endAngle,endAngle=shape.clockwise?shape.endAngle:shape.startAngle,middleAngle=(startAngle+endAngle)/2,mappedSectorPosition=positionMapping(textPosition);switch(mappedSectorPosition){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":anchorAngle=middleAngle;break;case"startAngle":case"insideStartAngle":anchorAngle=startAngle;break;case"endAngle":case"insideEndAngle":anchorAngle=endAngle;break;default:return void sector.setTextConfig({rotation:0})}var rotate=1.5*Math.PI-anchorAngle;
/**
   * TODO: labels with rotate > Math.PI / 2 should be rotate another
   * half round flipped to increase readability. However, only middle
   * position supports this for now, because in other positions, the
   * anchor point is not at the center of the text, so the positions
   * after rotating is not as expected.
   */"middle"===mappedSectorPosition&&rotate>Math.PI/2&&rotate<1.5*Math.PI&&(rotate-=Math.PI),sector.setTextConfig({rotation:rotate})}}function adjustAngleDistanceX(angle,distance,isEnd){return distance*Math.sin(angle)*(isEnd?-1:1)}function adjustAngleDistanceY(angle,distance,isEnd){return distance*Math.cos(angle)*(isEnd?1:-1)}
// EXTERNAL MODULE: ./node_modules/echarts/lib/chart/helper/sectorHelper.js
var sectorHelper=__webpack_require__(921249),mathMax=Math.max,mathMin=Math.min;function getClipArea(coord,data){var coordSysClipArea=coord.getArea&&coord.getArea();if((0,CoordinateSystem/* isCoordinateSystemType */.H)(coord,"cartesian2d")){var baseAxis=coord.getBaseAxis();// When boundaryGap is false or using time axis. bar may exceed the grid.
// We should not clip this part.
// See test/bar2.html
if("category"!==baseAxis.type||!baseAxis.onBand){var expandWidth=data.getLayout("bandWidth");baseAxis.isHorizontal()?(coordSysClipArea.x-=expandWidth,coordSysClipArea.width+=2*expandWidth):(coordSysClipArea.y-=expandWidth,coordSysClipArea.height+=2*expandWidth)}}return coordSysClipArea}var BarView=
/** @class */
function(_super){function BarView(){var _this=_super.call(this)||this;return _this.type=BarView.type,_this._isFirstFrame=!0,_this}return(0,tslib_es6/* __extends */.ZT)(BarView,_super),BarView.prototype.render=function(seriesModel,ecModel,api,payload){this._model=seriesModel,this._removeOnRenderedListener(api),this._updateDrawMode(seriesModel);var coordinateSystemType=seriesModel.get("coordinateSystem");("cartesian2d"===coordinateSystemType||"polar"===coordinateSystemType)&&(
// Clear previously rendered progressive elements.
this._progressiveEls=null,this._isLargeDraw?this._renderLarge(seriesModel,ecModel,api):this._renderNormal(seriesModel,ecModel,api,payload))},BarView.prototype.incrementalPrepareRender=function(seriesModel){this._clear(),this._updateDrawMode(seriesModel),// incremental also need to clip, otherwise might be overlow.
// But must not set clip in each frame, otherwise all of the children will be marked redraw.
this._updateLargeClip(seriesModel)},BarView.prototype.incrementalRender=function(params,seriesModel){
// Reset
this._progressiveEls=[],// Do not support progressive in normal mode.
this._incrementalRenderLarge(params,seriesModel)},BarView.prototype.eachRendered=function(cb){(0,graphic.traverseElements)(this._progressiveEls||this.group,cb)},BarView.prototype._updateDrawMode=function(seriesModel){var isLargeDraw=seriesModel.pipelineContext.large;null!=this._isLargeDraw&&isLargeDraw===this._isLargeDraw||(this._isLargeDraw=isLargeDraw,this._clear())},BarView.prototype._renderNormal=function(seriesModel,ecModel,api,payload){var isHorizontalOrRadial,group=this.group,data=seriesModel.getData(),oldData=this._data,coord=seriesModel.coordinateSystem,baseAxis=coord.getBaseAxis();"cartesian2d"===coord.type?isHorizontalOrRadial=baseAxis.isHorizontal():"polar"===coord.type&&(isHorizontalOrRadial="angle"===baseAxis.dim);var animationModel=seriesModel.isAnimationEnabled()?seriesModel:null,realtimeSortCfg=shouldRealtimeSort(seriesModel,coord);realtimeSortCfg&&this._enableRealtimeSort(realtimeSortCfg,data,api);var needsClip=seriesModel.get("clip",!0)||realtimeSortCfg,coordSysClipArea=getClipArea(coord,data);// If there is clipPath created in large mode. Remove it.
group.removeClipPath();// We don't use clipPath in normal mode because we needs a perfect animation
// And don't want the label are clipped.
var roundCap=seriesModel.get("roundCap",!0),drawBackground=seriesModel.get("showBackground",!0),backgroundModel=seriesModel.getModel("backgroundStyle"),barBorderRadius=backgroundModel.get("borderRadius")||0,bgEls=[],oldBgEls=this._backgroundEls,isInitSort=payload&&payload.isInitSort,isChangeOrder=payload&&"changeAxisOrder"===payload.type;function createBackground(dataIndex){var bgLayout=getLayout[coord.type](data,dataIndex),bgEl=createBackgroundEl(coord,isHorizontalOrRadial,bgLayout);return bgEl.useStyle(backgroundModel.getItemStyle()),// Only cartesian2d support borderRadius.
"cartesian2d"===coord.type?bgEl.setShape("r",barBorderRadius):bgEl.setShape("cornerRadius",barBorderRadius),bgEls[dataIndex]=bgEl,bgEl}data.diff(oldData).add((function(dataIndex){var itemModel=data.getItemModel(dataIndex),layout=getLayout[coord.type](data,dataIndex,itemModel);// If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in "axisProxy".
if(drawBackground&&createBackground(dataIndex),data.hasValue(dataIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;needsClip&&(
// Clip will modify the layout params.
// And return a boolean to determine if the shape are fully clipped.
isClipped=clip[coord.type](coordSysClipArea,layout));var el=elementCreator[coord.type](seriesModel,data,dataIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!1,roundCap);realtimeSortCfg&&(
/**
         * Force label animation because even if the element is
         * ignored because it's clipped, it may not be clipped after
         * changing order. Then, if not using forceLabelAnimation,
         * the label animation was never started, in which case,
         * the label will be the final value and doesn't have label
         * animation.
         */
el.forceLabelAnimation=!0),updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type),isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,dataIndex,isHorizontalOrRadial,!1,!1):(0,basicTransition/* initProps */.KZ)(el,{shape:layout},seriesModel,dataIndex),data.setItemGraphicEl(dataIndex,el),group.add(el),el.ignore=isClipped}})).update((function(newIndex,oldIndex){var itemModel=data.getItemModel(newIndex),layout=getLayout[coord.type](data,newIndex,itemModel);if(drawBackground){var bgEl=void 0;0===oldBgEls.length?bgEl=createBackground(oldIndex):(bgEl=oldBgEls[oldIndex],bgEl.useStyle(backgroundModel.getItemStyle()),// Only cartesian2d support borderRadius.
"cartesian2d"===coord.type?bgEl.setShape("r",barBorderRadius):bgEl.setShape("cornerRadius",barBorderRadius),bgEls[newIndex]=bgEl);var bgLayout=getLayout[coord.type](data,newIndex),shape=createBackgroundShape(isHorizontalOrRadial,bgLayout,coord);(0,basicTransition/* updateProps */.D)(bgEl,{shape:shape},animationModel,newIndex)}var el=oldData.getItemGraphicEl(oldIndex);if(data.hasValue(newIndex)&&isValidLayout[coord.type](layout)){var isClipped=!1;if(needsClip&&(isClipped=clip[coord.type](coordSysClipArea,layout),isClipped&&group.remove(el)),el?(0,basicTransition/* saveOldStyle */.Zi)(el):el=elementCreator[coord.type](seriesModel,data,newIndex,layout,isHorizontalOrRadial,animationModel,baseAxis.model,!!el,roundCap),realtimeSortCfg&&(el.forceLabelAnimation=!0),isChangeOrder){var textEl=el.getTextContent();if(textEl){var labelInnerStore=(0,labelStyle/* labelInner */.qA)(textEl);null!=labelInnerStore.prevValue&&(
/**
             * Set preValue to be value so that no new label
             * should be started, otherwise, it will take a full
             * `animationDurationUpdate` time to finish the
             * animation, which is not expected.
             */
labelInnerStore.prevValue=labelInnerStore.value)}}// Not change anything if only order changed.
// Especially not change label.
else updateStyle(el,data,newIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,"polar"===coord.type);isInitSort?el.attr({shape:layout}):realtimeSortCfg?updateRealtimeAnimation(realtimeSortCfg,animationModel,el,layout,newIndex,isHorizontalOrRadial,!0,isChangeOrder):(0,basicTransition/* updateProps */.D)(el,{shape:layout},seriesModel,newIndex,null),data.setItemGraphicEl(newIndex,el),el.ignore=isClipped,group.add(el)}else group.remove(el)})).remove((function(dataIndex){var el=oldData.getItemGraphicEl(dataIndex);el&&(0,basicTransition/* removeElementWithFadeOut */.XD)(el,seriesModel,dataIndex)})).execute();var bgGroup=this._backgroundGroup||(this._backgroundGroup=new Group/* default */.Z);bgGroup.removeAll();for(var i=0;i<bgEls.length;++i)bgGroup.add(bgEls[i]);group.add(bgGroup),this._backgroundEls=bgEls,this._data=data},BarView.prototype._renderLarge=function(seriesModel,ecModel,api){this._clear(),createLarge(seriesModel,this.group),this._updateLargeClip(seriesModel)},BarView.prototype._incrementalRenderLarge=function(params,seriesModel){this._removeBackground(),createLarge(seriesModel,this.group,this._progressiveEls,!0)},BarView.prototype._updateLargeClip=function(seriesModel){
// Use clipPath in large mode.
var clipPath=seriesModel.get("clip",!0)&&(0,createClipPathFromCoordSys/* createClipPath */.lQ)(seriesModel.coordinateSystem,!1,seriesModel),group=this.group;clipPath?group.setClipPath(clipPath):group.removeClipPath()},BarView.prototype._enableRealtimeSort=function(realtimeSortCfg,data,api){var _this=this;// If no data in the first frame, wait for data to initSort
if(data.count()){var baseAxis=realtimeSortCfg.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(data,realtimeSortCfg,api),this._isFirstFrame=!1;else{var orderMapping_1=function(idx){var el=data.getItemGraphicEl(idx),shape=el&&el.shape;return shape&&// The result should be consistent with the initial sort by data value.
// Do not support the case that both positive and negative exist.
Math.abs(baseAxis.isHorizontal()?shape.height:shape.width)||0};this._onRendered=function(){_this._updateSortWithinSameData(data,orderMapping_1,baseAxis,api)},api.getZr().on("rendered",this._onRendered)}}},BarView.prototype._dataSort=function(data,baseAxis,orderMapping){var info=[];return data.each(data.mapDimension(baseAxis.dim),(function(ordinalNumber,dataIdx){var mappedValue=orderMapping(dataIdx);mappedValue=null==mappedValue?NaN:mappedValue,info.push({dataIndex:dataIdx,mappedValue:mappedValue,ordinalNumber:ordinalNumber})})),info.sort((function(a,b){
// If NaN, it will be treated as min val.
return b.mappedValue-a.mappedValue})),{ordinalNumbers:(0,util/* map */.UI)(info,(function(item){return item.ordinalNumber}))}},BarView.prototype._isOrderChangedWithinSameData=function(data,orderMapping,baseAxis){for(var scale=baseAxis.scale,ordinalDataDim=data.mapDimension(baseAxis.dim),lastValue=Number.MAX_VALUE,tickNum=0,len=scale.getOrdinalMeta().categories.length;tickNum<len;++tickNum){var rawIdx=data.rawIndexOf(ordinalDataDim,scale.getRawOrdinalNumber(tickNum)),value=rawIdx<0?Number.MIN_VALUE:orderMapping(data.indexOfRawIndex(rawIdx));if(value>lastValue)return!0;lastValue=value}return!1},
/*
   * Consider the case when A and B changed order, whose representing
   * bars are both out of sight, we don't wish to trigger reorder action
   * as long as the order in the view doesn't change.
   */
BarView.prototype._isOrderDifferentInView=function(orderInfo,baseAxis){for(var scale=baseAxis.scale,extent=scale.getExtent(),tickNum=Math.max(0,extent[0]),tickMax=Math.min(extent[1],scale.getOrdinalMeta().categories.length-1);tickNum<=tickMax;++tickNum)if(orderInfo.ordinalNumbers[tickNum]!==scale.getRawOrdinalNumber(tickNum))return!0},BarView.prototype._updateSortWithinSameData=function(data,orderMapping,baseAxis,api){if(this._isOrderChangedWithinSameData(data,orderMapping,baseAxis)){var sortInfo=this._dataSort(data,baseAxis,orderMapping);this._isOrderDifferentInView(sortInfo,baseAxis)&&(this._removeOnRenderedListener(api),api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",axisId:baseAxis.index,sortInfo:sortInfo}))}},BarView.prototype._dispatchInitSort=function(data,realtimeSortCfg,api){var baseAxis=realtimeSortCfg.baseAxis,sortResult=this._dataSort(data,baseAxis,(function(dataIdx){return data.get(data.mapDimension(realtimeSortCfg.otherAxis.dim),dataIdx)}));api.dispatchAction({type:"changeAxisOrder",componentType:baseAxis.dim+"Axis",isInitSort:!0,axisId:baseAxis.index,sortInfo:sortResult})},BarView.prototype.remove=function(ecModel,api){this._clear(this._model),this._removeOnRenderedListener(api)},BarView.prototype.dispose=function(ecModel,api){this._removeOnRenderedListener(api)},BarView.prototype._removeOnRenderedListener=function(api){this._onRendered&&(api.getZr().off("rendered",this._onRendered),this._onRendered=null)},BarView.prototype._clear=function(model){var group=this.group,data=this._data;model&&model.isAnimationEnabled()&&data&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],data.eachItemGraphicEl((function(el){(0,basicTransition/* removeElementWithFadeOut */.XD)(el,model,(0,innerStore/* getECData */.A)(el).dataIndex)}))):group.removeAll(),this._data=null,this._isFirstFrame=!0},BarView.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},BarView.type="bar",BarView}(Chart/* default */.Z),clip={cartesian2d:function(coordSysBoundingRect,layout){var signWidth=layout.width<0?-1:1,signHeight=layout.height<0?-1:1;// Needs positive width and height
signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height);var coordSysX2=coordSysBoundingRect.x+coordSysBoundingRect.width,coordSysY2=coordSysBoundingRect.y+coordSysBoundingRect.height,x=mathMax(layout.x,coordSysBoundingRect.x),x2=mathMin(layout.x+layout.width,coordSysX2),y=mathMax(layout.y,coordSysBoundingRect.y),y2=mathMin(layout.y+layout.height,coordSysY2),xClipped=x2<x,yClipped=y2<y;// When xClipped or yClipped, the element will be marked as `ignore`.
// But we should also place the element at the edge of the coord sys bounding rect.
// Because if data changed and the bar shows again, its transition animation
// will begin at this place.
return layout.x=xClipped&&x>coordSysX2?x2:x,layout.y=yClipped&&y>coordSysY2?y2:y,layout.width=xClipped?0:x2-x,layout.height=yClipped?0:y2-y,// Reverse back
signWidth<0&&(layout.x+=layout.width,layout.width=-layout.width),signHeight<0&&(layout.y+=layout.height,layout.height=-layout.height),xClipped||yClipped},polar:function(coordSysClipArea,layout){var signR=layout.r0<=layout.r?1:-1;// Make sure r is larger than r0
if(signR<0){var tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}var r=mathMin(layout.r,coordSysClipArea.r),r0=mathMax(layout.r0,coordSysClipArea.r0);layout.r=r,layout.r0=r0;var clipped=r-r0<0;// Reverse back
if(signR<0){tmp=layout.r;layout.r=layout.r0,layout.r0=tmp}return clipped}},elementCreator={cartesian2d:function(seriesModel,data,newIndex,layout,isHorizontal,animationModel,axisModel,isUpdate,roundCap){var rect=new Rect/* default */.Z({shape:(0,util/* extend */.l7)({},layout),z2:1});if(rect.__dataIndex=newIndex,rect.name="item",animationModel){var rectShape=rect.shape,animateProperty=isHorizontal?"height":"width";rectShape[animateProperty]=0}return rect},polar:function(seriesModel,data,newIndex,layout,isRadial,animationModel,axisModel,isUpdate,roundCap){var ShapeClass=!isRadial&&roundCap?sausage/* default */.Z:Sector/* default */.C,sector=new ShapeClass({shape:layout,z2:1});sector.name="item";var positionMap=createPolarPositionMapping(isRadial);// Animation
if(sector.calculateTextPosition=createSectorCalculateTextPosition(positionMap,{isRoundCap:ShapeClass===sausage/* default */.Z}),animationModel){var sectorShape=sector.shape,animateProperty=isRadial?"r":"endAngle",animateTarget={};sectorShape[animateProperty]=isRadial?layout.r0:layout.startAngle,animateTarget[animateProperty]=layout[animateProperty],(isUpdate?basicTransition/* updateProps */.D:basicTransition/* initProps */.KZ)(sector,{shape:animateTarget},animationModel)}return sector}};function shouldRealtimeSort(seriesModel,coordSys){var realtimeSortOption=seriesModel.get("realtimeSort",!0),baseAxis=coordSys.getBaseAxis();if(realtimeSortOption&&"category"===baseAxis.type&&"cartesian2d"===coordSys.type)return{baseAxis:baseAxis,otherAxis:coordSys.getOtherAxis(baseAxis)}}function updateRealtimeAnimation(realtimeSortCfg,seriesAnimationModel,el,layout,newIndex,isHorizontal,isUpdate,isChangeOrder){var seriesTarget,axisTarget;isHorizontal?(axisTarget={x:layout.x,width:layout.width},seriesTarget={y:layout.y,height:layout.height}):(axisTarget={y:layout.y,height:layout.height},seriesTarget={x:layout.x,width:layout.width}),isChangeOrder||
// Keep the original growth animation if only axis order changed.
// Not start a new animation.
(isUpdate?basicTransition/* updateProps */.D:basicTransition/* initProps */.KZ)(el,{shape:seriesTarget},seriesAnimationModel,newIndex,null);var axisAnimationModel=seriesAnimationModel?realtimeSortCfg.baseAxis.model:null;(isUpdate?basicTransition/* updateProps */.D:basicTransition/* initProps */.KZ)(el,{shape:axisTarget},axisAnimationModel,newIndex)}function checkPropertiesNotValid(obj,props){for(var i=0;i<props.length;i++)if(!isFinite(obj[props[i]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(layout){return!checkPropertiesNotValid(layout,rectPropties)},polar:function(layout){return!checkPropertiesNotValid(layout,polarPropties)}},getLayout={
// itemModel is only used to get borderWidth, which is not needed
// when calculating bar background layout.
cartesian2d:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex),fixedLineWidth=itemModel?getLineWidth(itemModel,layout):0,signX=layout.width>0?1:-1,signY=layout.height>0?1:-1;return{x:layout.x+signX*fixedLineWidth/2,y:layout.y+signY*fixedLineWidth/2,width:layout.width-signX*fixedLineWidth,height:layout.height-signY*fixedLineWidth}},polar:function(data,dataIndex,itemModel){var layout=data.getItemLayout(dataIndex);return{cx:layout.cx,cy:layout.cy,r0:layout.r0,r:layout.r,startAngle:layout.startAngle,endAngle:layout.endAngle,clockwise:layout.clockwise}}};function isZeroOnPolar(layout){return null!=layout.startAngle&&null!=layout.endAngle&&layout.startAngle===layout.endAngle}function createPolarPositionMapping(isRadial){return function(isRadial){var arcOrAngle=isRadial?"Arc":"Angle";return function(position){switch(position){case"start":case"insideStart":case"end":case"insideEnd":return position+arcOrAngle;default:return position}}}(isRadial)}function updateStyle(el,data,dataIndex,itemModel,layout,seriesModel,isHorizontalOrRadial,isPolar){var style=data.getItemVisual(dataIndex,"style");if(isPolar){if(!seriesModel.get("roundCap")){var sectorShape=el.shape,cornerRadius=(0,sectorHelper/* getSectorCornerRadius */.T)(itemModel.getModel("itemStyle"),sectorShape,!0);(0,util/* extend */.l7)(sectorShape,cornerRadius),el.setShape(sectorShape)}}else{var borderRadius=itemModel.get(["itemStyle","borderRadius"])||0;el.setShape("r",borderRadius)}el.useStyle(style);var cursorStyle=itemModel.getShallow("cursor");cursorStyle&&el.attr("cursor",cursorStyle);var labelPositionOutside=isPolar?isHorizontalOrRadial?layout.r>=layout.r0?"endArc":"startArc":layout.endAngle>=layout.startAngle?"endAngle":"startAngle":isHorizontalOrRadial?layout.height>=0?"bottom":"top":layout.width>=0?"right":"left",labelStatesModels=(0,labelStyle/* getLabelStatesModels */.k3)(itemModel);(0,labelStyle/* setLabelStyle */.ni)(el,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:dataIndex,defaultText:(0,labelHelper/* getDefaultLabel */.H)(seriesModel.getData(),dataIndex),inheritColor:style.fill,defaultOpacity:style.opacity,defaultOutsidePosition:labelPositionOutside});var label=el.getTextContent();if(isPolar&&label){var position=itemModel.get(["label","position"]);el.textConfig.inside="middle"===position||null,setSectorTextRotation(el,"outside"===position?labelPositionOutside:position,createPolarPositionMapping(isHorizontalOrRadial),itemModel.get(["label","rotate"]))}(0,labelStyle/* setLabelValueAnimation */.pe)(label,labelStatesModels,seriesModel.getRawValue(dataIndex),(function(value){return(0,labelHelper/* getDefaultInterpolatedLabel */.O)(data,value)}));var emphasisModel=itemModel.getModel(["emphasis"]);(0,states/* toggleHoverEmphasis */.k5)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),(0,states/* setStatesStylesFromModel */.WO)(el,itemModel),isZeroOnPolar(layout)&&(el.style.fill="none",el.style.stroke="none",(0,util/* each */.S6)(el.states,(function(state){state.style&&(state.style.fill=state.style.stroke="none")})))}// In case width or height are too small.
function getLineWidth(itemModel,rawLayout){
// Has no border.
var borderColor=itemModel.get(["itemStyle","borderColor"]);if(!borderColor||"none"===borderColor)return 0;var lineWidth=itemModel.get(["itemStyle","borderWidth"])||0,width=isNaN(rawLayout.width)?Number.MAX_VALUE:Math.abs(rawLayout.width),height=isNaN(rawLayout.height)?Number.MAX_VALUE:Math.abs(rawLayout.height);// width or height may be NaN for empty data
return Math.min(lineWidth,width,height)}var LagePathShape=
/** @class */
function(){function LagePathShape(){}return LagePathShape}(),LargePath=
/** @class */
function(_super){function LargePath(opts){var _this=_super.call(this,opts)||this;return _this.type="largeBar",_this}return(0,tslib_es6/* __extends */.ZT)(LargePath,_super),LargePath.prototype.getDefaultShape=function(){return new LagePathShape},LargePath.prototype.buildPath=function(ctx,shape){for(
// Drawing lines is more efficient than drawing
// a whole line or drawing rects.
var points=shape.points,baseDimIdx=this.baseDimIdx,valueDimIdx=1-this.baseDimIdx,startPoint=[],size=[],barWidth=this.barWidth,i=0;i<points.length;i+=3)size[baseDimIdx]=barWidth,size[valueDimIdx]=points[i+2],startPoint[baseDimIdx]=points[i+baseDimIdx],startPoint[valueDimIdx]=points[i+valueDimIdx],ctx.rect(startPoint[0],startPoint[1],size[0],size[1])},LargePath}(Path/* default */.ZP);function createLarge(seriesModel,group,progressiveEls,incremental){
// TODO support polar
var data=seriesModel.getData(),baseDimIdx=data.getLayout("valueAxisHorizontal")?1:0,largeDataIndices=data.getLayout("largeDataIndices"),barWidth=data.getLayout("size"),backgroundModel=seriesModel.getModel("backgroundStyle"),bgPoints=data.getLayout("largeBackgroundPoints");if(bgPoints){var bgEl=new LargePath({shape:{points:bgPoints},incremental:!!incremental,silent:!0,z2:0});bgEl.baseDimIdx=baseDimIdx,bgEl.largeDataIndices=largeDataIndices,bgEl.barWidth=barWidth,bgEl.useStyle(backgroundModel.getItemStyle()),group.add(bgEl),progressiveEls&&progressiveEls.push(bgEl)}var el=new LargePath({shape:{points:data.getLayout("largePoints")},incremental:!!incremental,ignoreCoarsePointer:!0,z2:1});el.baseDimIdx=baseDimIdx,el.largeDataIndices=largeDataIndices,el.barWidth=barWidth,group.add(el),el.useStyle(data.getVisual("style")),// Enable tooltip and user mouse/touch event handlers.
(0,innerStore/* getECData */.A)(el).seriesIndex=seriesModel.seriesIndex,seriesModel.get("silent")||(el.on("mousedown",largePathUpdateDataIndex),el.on("mousemove",largePathUpdateDataIndex)),progressiveEls&&progressiveEls.push(el)}// Use throttle to avoid frequently traverse to find dataIndex.
var largePathUpdateDataIndex=(0,throttle/* throttle */.P2)((function(event){var largePath=this,dataIndex=largePathFindDataIndex(largePath,event.offsetX,event.offsetY);(0,innerStore/* getECData */.A)(largePath).dataIndex=dataIndex>=0?dataIndex:null}),30,!1);function largePathFindDataIndex(largePath,x,y){for(var baseDimIdx=largePath.baseDimIdx,valueDimIdx=1-baseDimIdx,points=largePath.shape.points,largeDataIndices=largePath.largeDataIndices,startPoint=[],size=[],barWidth=largePath.barWidth,i=0,len=points.length/3;i<len;i++){var ii=3*i;if(size[baseDimIdx]=barWidth,size[valueDimIdx]=points[ii+2],startPoint[baseDimIdx]=points[ii+baseDimIdx],startPoint[valueDimIdx]=points[ii+valueDimIdx],size[valueDimIdx]<0&&(startPoint[valueDimIdx]+=size[valueDimIdx],size[valueDimIdx]=-size[valueDimIdx]),x>=startPoint[0]&&x<=startPoint[0]+size[0]&&y>=startPoint[1]&&y<=startPoint[1]+size[1])return largeDataIndices[i]}return-1}function createBackgroundShape(isHorizontalOrRadial,layout,coord){if((0,CoordinateSystem/* isCoordinateSystemType */.H)(coord,"cartesian2d")){var rectShape=layout,coordLayout=coord.getArea();return{x:isHorizontalOrRadial?rectShape.x:coordLayout.x,y:isHorizontalOrRadial?coordLayout.y:rectShape.y,width:isHorizontalOrRadial?rectShape.width:coordLayout.width,height:isHorizontalOrRadial?coordLayout.height:rectShape.height}}coordLayout=coord.getArea();var sectorShape=layout;return{cx:coordLayout.cx,cy:coordLayout.cy,r0:isHorizontalOrRadial?coordLayout.r0:sectorShape.r0,r:isHorizontalOrRadial?coordLayout.r:sectorShape.r,startAngle:isHorizontalOrRadial?sectorShape.startAngle:0,endAngle:isHorizontalOrRadial?sectorShape.endAngle:2*Math.PI}}function createBackgroundEl(coord,isHorizontalOrRadial,layout){var ElementClz="polar"===coord.type?Sector/* default */.C:Rect/* default */.Z;return new ElementClz({shape:createBackgroundShape(isHorizontalOrRadial,layout,coord),silent:!0,z2:0})}
/* harmony default export */var bar_BarView=BarView;// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/bar/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerChartView(bar_BarView),registers.registerSeriesModel(BarSeries),registers.registerLayout(registers.PRIORITY.VISUAL.LAYOUT,util/* curry */.WA(barGrid/* layout */.bK,"bar")),// Do layout after other overall layout, which can prepare some information.
registers.registerLayout(registers.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,barGrid/* createProgressiveLayout */.Bk)("bar")),// Down sample after filter
registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,(0,dataSample/* default */.Z)("bar")),
/**
   * @payload
   * @property {string} [componentType=series]
   * @property {number} [dx]
   * @property {number} [dy]
   * @property {number} [zoom]
   * @property {number} [originX]
   * @property {number} [originY]
   */
registers.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(payload,ecModel){var componentType=payload.componentType||"series";ecModel.eachComponent({mainType:componentType,query:payload},(function(componentModel){payload.sortInfo&&componentModel.axis.setCategorySortInfo(payload.sortInfo)}))}))}
/***/},
/***/315705:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),createSeriesData=__webpack_require__(635144),model=__webpack_require__(232234),Series=__webpack_require__(993321),STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=(0,model/* makeInner */.Yf)(),CustomSeriesModel=
/** @class */
function(_super){function CustomSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomSeriesModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(CustomSeriesModel,_super),CustomSeriesModel.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},CustomSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData/* default */.Z)(null,this)},CustomSeriesModel.prototype.getDataParams=function(dataIndex,dataType,el){var params=_super.prototype.getDataParams.call(this,dataIndex,dataType);return el&&(params.info=customInnerStore(el).info),params},CustomSeriesModel.type="series.custom",CustomSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],CustomSeriesModel.defaultOption={coordinateSystem:"cartesian2d",
// zlevel: 0,
z:2,legendHoverLink:!0,
// Custom series will not clip by default.
// Some case will use custom series to draw label
// For example https://echarts.apache.org/examples/en/editor.html?c=custom-gantt-flight
clip:!1},CustomSeriesModel}(Series/* default */.Z),CustomSeries=CustomSeriesModel,util=__webpack_require__(933051),Path=__webpack_require__(696997),graphic=__webpack_require__(851177),Image=__webpack_require__(744535),Text=__webpack_require__(679750),Group=__webpack_require__(38154),states=__webpack_require__(726357),labelStyle=__webpack_require__(336006),labelHelper=__webpack_require__(33140),barGrid=__webpack_require__(79093),DataDiffer=__webpack_require__(904130),Chart=__webpack_require__(975797),createClipPathFromCoordSys=__webpack_require__(122963);
// EXTERNAL MODULE: ./node_modules/echarts/lib/chart/helper/createSeriesData.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/cartesian/prepareCustom.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function dataToCoordSize(dataSize,dataItem){
// dataItem is necessary in log axis.
return dataItem=dataItem||[0,0],util/* map */.UI(["x","y"],(function(dim,dimIdx){var axis=this.getAxis(dim),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}),this)}function cartesianPrepareCustom(coordSys){var rect=coordSys.master.getRect();return{coordSys:{
// The name exposed to user is always 'cartesian2d' but not 'grid'.
type:"cartesian2d",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(data){
// do not provide "out" param
return coordSys.dataToPoint(data)},size:util/* bind */.ak(dataToCoordSize,coordSys)}}}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/geo/prepareCustom.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function prepareCustom_dataToCoordSize(dataSize,dataItem){return dataItem=dataItem||[0,0],util/* map */.UI([0,1],(function(dimIdx){var val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,p1=[],p2=[];return p1[dimIdx]=val-halfSize,p2[dimIdx]=val+halfSize,p1[1-dimIdx]=p2[1-dimIdx]=dataItem[1-dimIdx],Math.abs(this.dataToPoint(p1)[dimIdx]-this.dataToPoint(p2)[dimIdx])}),this)}function geoPrepareCustom(coordSys){var rect=coordSys.getBoundingRect();return{coordSys:{type:"geo",x:rect.x,y:rect.y,width:rect.width,height:rect.height,zoom:coordSys.getZoom()},api:{coord:function(data){
// do not provide "out" and noRoam param,
// Compatible with this usage:
// echarts.util.map(item.points, api.coord)
return coordSys.dataToPoint(data)},size:util/* bind */.ak(prepareCustom_dataToCoordSize,coordSys)}}}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/single/prepareCustom.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function single_prepareCustom_dataToCoordSize(dataSize,dataItem){
// dataItem is necessary in log axis.
var axis=this.getAxis(),val=dataItem instanceof Array?dataItem[0]:dataItem,halfSize=(dataSize instanceof Array?dataSize[0]:dataSize)/2;return"category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize))}function singlePrepareCustom(coordSys){var rect=coordSys.getRect();return{coordSys:{type:"singleAxis",x:rect.x,y:rect.y,width:rect.width,height:rect.height},api:{coord:function(val){
// do not provide "out" param
return coordSys.dataToPoint(val)},size:(0,util/* bind */.ak)(single_prepareCustom_dataToCoordSize,coordSys)}}}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/polar/prepareCustom.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// import AngleAxis from './AngleAxis.js';
function polar_prepareCustom_dataToCoordSize(dataSize,dataItem){
// dataItem is necessary in log axis.
return dataItem=dataItem||[0,0],util/* map */.UI(["Radius","Angle"],(function(dim,dimIdx){var getterName="get"+dim+"Axis",axis=this[getterName](),val=dataItem[dimIdx],halfSize=dataSize[dimIdx]/2,result="category"===axis.type?axis.getBandWidth():Math.abs(axis.dataToCoord(val-halfSize)-axis.dataToCoord(val+halfSize));// TODO: TYPE Check Angle Axis
return"Angle"===dim&&(result=result*Math.PI/180),result}),this)}function polarPrepareCustom(coordSys){var radiusAxis=coordSys.getRadiusAxis(),angleAxis=coordSys.getAngleAxis(),radius=radiusAxis.getExtent();return radius[0]>radius[1]&&radius.reverse(),{coordSys:{type:"polar",cx:coordSys.cx,cy:coordSys.cy,r:radius[1],r0:radius[0]},api:{coord:function(data){var radius=radiusAxis.dataToRadius(data[0]),angle=angleAxis.dataToAngle(data[1]),coord=coordSys.coordToPoint([radius,angle]);return coord.push(radius,angle*Math.PI/180),coord},size:util/* bind */.ak(polar_prepareCustom_dataToCoordSize,coordSys)}}}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/calendar/prepareCustom.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function calendarPrepareCustom(coordSys){var rect=coordSys.getRect(),rangeInfo=coordSys.getRangeInfo();return{coordSys:{type:"calendar",x:rect.x,y:rect.y,width:rect.width,height:rect.height,cellWidth:coordSys.getCellWidth(),cellHeight:coordSys.getCellHeight(),rangeInfo:{start:rangeInfo.start,end:rangeInfo.end,weeks:rangeInfo.weeks,dayCount:rangeInfo.allDay}},api:{coord:function(data,clamp){return coordSys.dataToPoint(data,clamp)}}}}
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/Displayable.js
var Displayable=__webpack_require__(207719),styleCompat=__webpack_require__(605248),log=__webpack_require__(470175),decal=__webpack_require__(559361),customGraphicTransition=__webpack_require__(857718),customGraphicKeyframeAnimation=__webpack_require__(495455),EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/styleCompat.js
function isPath(el){return el instanceof Path/* default */.ZP}function isDisplayable(el){return el instanceof Displayable/* default */.ZP}function copyElement(sourceEl,targetEl){targetEl.copyTransform(sourceEl),isDisplayable(targetEl)&&isDisplayable(sourceEl)&&(targetEl.setStyle(sourceEl.style),targetEl.z=sourceEl.z,targetEl.z2=sourceEl.z2,targetEl.zlevel=sourceEl.zlevel,targetEl.invisible=sourceEl.invisible,targetEl.ignore=sourceEl.ignore,isPath(targetEl)&&isPath(sourceEl)&&targetEl.setShape(sourceEl.shape))}var CustomChartView=
/** @class */
function(_super){function CustomChartView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CustomChartView.type,_this}return(0,tslib_es6/* __extends */.ZT)(CustomChartView,_super),CustomChartView.prototype.render=function(customSeries,ecModel,api,payload){
// Clear previously rendered progressive elements.
this._progressiveEls=null;var oldData=this._data,data=customSeries.getData(),group=this.group,renderItem=makeRenderItem(customSeries,data,ecModel,api);oldData||
// Previous render is incremental render or first render.
// Needs remove the incremental rendered elements.
group.removeAll(),data.diff(oldData).add((function(newIdx){createOrUpdateItem(api,null,newIdx,renderItem(newIdx,payload),customSeries,group,data)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&(0,customGraphicTransition/* applyLeaveTransition */.O3)(el,customInnerStore(el).option,customSeries)})).update((function(newIdx,oldIdx){var oldEl=oldData.getItemGraphicEl(oldIdx);createOrUpdateItem(api,oldEl,newIdx,renderItem(newIdx,payload),customSeries,group,data)})).execute();// Do clipping
var clipPath=customSeries.get("clip",!0)?(0,createClipPathFromCoordSys/* createClipPath */.lQ)(customSeries.coordinateSystem,!1,customSeries):null;clipPath?group.setClipPath(clipPath):group.removeClipPath(),this._data=data},CustomChartView.prototype.incrementalPrepareRender=function(customSeries,ecModel,api){this.group.removeAll(),this._data=null},CustomChartView.prototype.incrementalRender=function(params,customSeries,ecModel,api,payload){var data=customSeries.getData(),renderItem=makeRenderItem(customSeries,data,ecModel,api),progressiveEls=this._progressiveEls=[];function setIncrementalAndHoverLayer(el){el.isGroup||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}for(var idx=params.start;idx<params.end;idx++){var el=createOrUpdateItem(null,null,idx,renderItem(idx,payload),customSeries,this.group,data);el&&(el.traverse(setIncrementalAndHoverLayer),progressiveEls.push(el))}},CustomChartView.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},CustomChartView.prototype.filterForExposedEvent=function(eventType,query,targetEl,packedEvent){var elementName=query.element;if(null==elementName||targetEl.name===elementName)return!0;// Enable to give a name on a group made by `renderItem`, and listen
// events that are triggered by its descendents.
while((targetEl=targetEl.__hostTarget||targetEl.parent)&&targetEl!==this.group)if(targetEl.name===elementName)return!0;return!1},CustomChartView.type="custom",CustomChartView}(Chart/* default */.Z),CustomView=CustomChartView;
/* harmony default export */function createEl(elOption){var el,graphicType=elOption.type;// Those graphic elements are not shapes. They should not be
// overwritten by users, so do them first.
if("path"===graphicType){var shape=elOption.shape,pathRect=null!=shape.width&&null!=shape.height?{x:shape.x||0,y:shape.y||0,width:shape.width,height:shape.height}:null,pathData=getPathData(shape);// Using pathRect brings convenience to users sacle svg path.
// Path is also used for icon, so layout 'center' by default.
el=graphic.makePath(pathData,null,pathRect,shape.layout||"center"),customInnerStore(el).customPathData=pathData}else if("image"===graphicType)el=new Image/* default */.ZP({}),customInnerStore(el).customImagePath=elOption.style.image;else if("text"===graphicType)el=new Text/* default */.ZP({});// customInnerStore(el).customText = (elOption.style as TextStyleProps).text;
else if("group"===graphicType)el=new Group/* default */.Z;else{if("compoundPath"===graphicType)throw new Error('"compoundPath" is not supported yet.');var Clz=graphic.getShapeClass(graphicType);if(!Clz){var errMsg="";0,(0,log/* throwError */._y)(errMsg)}el=new Clz}return customInnerStore(el).customGraphicType=graphicType,el.name=elOption.name,// Compat ec4: the default z2 lift is 1. If changing the number,
// some cases probably be broken: hierarchy layout along z, like circle packing,
// where emphasis only intending to modify color/border rather than lift z2.
el.z2EmphasisLift=1,el.z2SelectLift=1,el}function updateElNormal(// Can be null/undefined
api,el,dataIndex,elOption,attachedTxInfo,seriesModel,isInit){
// Stop and restore before update any other attributes.
(0,customGraphicKeyframeAnimation/* stopPreviousKeyframeAnimationAndRestore */.r)(el);var txCfgOpt=attachedTxInfo&&attachedTxInfo.normal.cfg;txCfgOpt&&
// PENDING: whether use user object directly rather than clone?
// TODO:5.0 textConfig transition animation?
el.setTextConfig(txCfgOpt),// Default transition ['x', 'y']
elOption&&null==elOption.transition&&(elOption.transition=DEFAULT_TRANSITION);// Do some normalization on style.
var styleOpt=elOption&&elOption.style;if(styleOpt){if("text"===el.type){var textOptionStyle=styleOpt;// Compatible with ec4: if `textFill` or `textStroke` exists use them.
(0,util/* hasOwn */.RI)(textOptionStyle,"textFill")&&(textOptionStyle.fill=textOptionStyle.textFill),(0,util/* hasOwn */.RI)(textOptionStyle,"textStroke")&&(textOptionStyle.stroke=textOptionStyle.textStroke)}var decalPattern=void 0,decalObj=isPath(el)?styleOpt.decal:null;api&&decalObj&&(decalObj.dirty=!0,decalPattern=(0,decal/* createOrUpdatePatternFromDecal */.I)(decalObj,api)),// Always overwrite in case user specify this prop.
styleOpt.__decalPattern=decalPattern}if(isDisplayable(el)&&styleOpt){decalPattern=styleOpt.__decalPattern;decalPattern&&(styleOpt.decal=decalPattern)}(0,customGraphicTransition/* applyUpdateTransition */.Ob)(el,elOption,seriesModel,{dataIndex:dataIndex,isInit:isInit,clearStyle:!0}),(0,customGraphicKeyframeAnimation/* applyKeyframeAnimation */.t)(el,elOption.keyframeAnimation,seriesModel)}function updateElOnState(state,el,elStateOpt,styleOpt,attachedTxInfo){var elDisplayable=el.isGroup?null:el,txCfgOpt=attachedTxInfo&&attachedTxInfo[state].cfg;// PENDING:5.0 support customize scale change and transition animation?
if(elDisplayable){
// By default support auto lift color when hover whether `emphasis` specified.
var stateObj=elDisplayable.ensureState(state);if(!1===styleOpt){var existingEmphasisState=elDisplayable.getState(state);existingEmphasisState&&(existingEmphasisState.style=null)}else
// style is needed to enable default emphasis.
stateObj.style=styleOpt||null;// If `elOption.styleEmphasis` or `elOption.emphasis.style` is `false`,
// remove hover style.
// If `elOption.textConfig` or `elOption.emphasis.textConfig` is null/undefined, it does not
// make sense. So for simplicity, we do not ditinguish `hasOwnProperty` and null/undefined.
txCfgOpt&&(stateObj.textConfig=txCfgOpt),(0,states/* setDefaultStateProxy */.MA)(elDisplayable)}}function updateZ(el,elOption,seriesModel){
// Group not support textContent and not support z yet.
if(!el.isGroup){var elDisplayable=el,currentZ=seriesModel.currentZ,currentZLevel=seriesModel.currentZLevel;// Always erase.
elDisplayable.z=currentZ,elDisplayable.zlevel=currentZLevel;// z2 must not be null/undefined, otherwise sort error may occur.
var optZ2=elOption.z2;null!=optZ2&&(elDisplayable.z2=optZ2||0);for(var i=0;i<STATES.length;i++)updateZForEachState(elDisplayable,elOption,STATES[i])}}function updateZForEachState(elDisplayable,elOption,state){var stateObj,isNormal=state===NORMAL,elStateOpt=isNormal?elOption:retrieveStateOption(elOption,state),optZ2=elStateOpt?elStateOpt.z2:null;null!=optZ2&&(
// Do not `ensureState` until required.
stateObj=isNormal?elDisplayable:elDisplayable.ensureState(state),stateObj.z2=optZ2||0)}function makeRenderItem(customSeries,data,ecModel,api){var renderItem=customSeries.get("renderItem"),coordSys=customSeries.coordinateSystem,prepareResult={};coordSys&&(// `coordSys.prepareCustoms` is used for external coord sys like bmap.
prepareResult=coordSys.prepareCustoms?coordSys.prepareCustoms(coordSys):prepareCustoms[coordSys.type](coordSys));for(var currDataIndexInside,currItemModel,userAPI=(0,util/* defaults */.ce)({getWidth:api.getWidth,getHeight:api.getHeight,getZr:api.getZr,getDevicePixelRatio:api.getDevicePixelRatio,value:value,style:style,ordinalRawValue:ordinalRawValue,styleEmphasis:styleEmphasis,visual:visual,barLayout:barLayout,currentSeriesIndices:currentSeriesIndices,font:font},prepareResult.api||{}),userParams={
// The life cycle of context: current round of rendering.
// The global life cycle is probably not necessary, because
// user can store global status by themselves.
context:{},seriesId:customSeries.id,seriesName:customSeries.name,seriesIndex:customSeries.seriesIndex,coordSys:prepareResult.coordSys,dataInsideLength:data.count(),encode:wrapEncodeDef(customSeries.getData())},currItemStyleModels={},currLabelModels={},seriesItemStyleModels={},seriesLabelModels={},i=0;i<STATES.length;i++){var stateName=STATES[i];seriesItemStyleModels[stateName]=customSeries.getModel(PATH_ITEM_STYLE[stateName]),seriesLabelModels[stateName]=customSeries.getModel(PATH_LABEL[stateName])}function getItemModel(dataIndexInside){return dataIndexInside===currDataIndexInside?currItemModel||(currItemModel=data.getItemModel(dataIndexInside)):data.getItemModel(dataIndexInside)}function getItemStyleModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currItemStyleModels[state]||(currItemStyleModels[state]=getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state])):getItemModel(dataIndexInside).getModel(PATH_ITEM_STYLE[state]):seriesItemStyleModels[state]}function getLabelModel(dataIndexInside,state){return data.hasItemOption?dataIndexInside===currDataIndexInside?currLabelModels[state]||(currLabelModels[state]=getItemModel(dataIndexInside).getModel(PATH_LABEL[state])):getItemModel(dataIndexInside).getModel(PATH_LABEL[state]):seriesLabelModels[state]}return function(dataIndexInside,payload){return currDataIndexInside=dataIndexInside,currItemModel=null,currItemStyleModels={},currLabelModels={},renderItem&&renderItem((0,util/* defaults */.ce)({dataIndexInside:dataIndexInside,dataIndex:data.getRawIndex(dataIndexInside),
// Can be used for optimization when zoom or roam.
actionType:payload?payload.type:null},userParams),userAPI)};
/**
   * @public
   * @param dim by default 0.
   * @param dataIndexInside by default `currDataIndexInside`.
   */function value(dim,dataIndexInside){return null==dataIndexInside&&(dataIndexInside=currDataIndexInside),data.getStore().get(data.getDimensionIndex(dim||0),dataIndexInside)}
/**
   * @public
   * @param dim by default 0.
   * @param dataIndexInside by default `currDataIndexInside`.
   */function ordinalRawValue(dim,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside),dim=dim||0;var dimInfo=data.getDimensionInfo(dim);if(!dimInfo){var dimIndex=data.getDimensionIndex(dim);return dimIndex>=0?data.getStore().get(dimIndex,dataIndexInside):void 0}var val=data.get(dimInfo.name,dataIndexInside),ordinalMeta=dimInfo&&dimInfo.ordinalMeta;return ordinalMeta?ordinalMeta.categories[val]:val}
/**
   * @deprecated The original intention of `api.style` is enable to set itemStyle
   * like other series. But it is not necessary and not easy to give a strict definition
   * of what it returns. And since echarts5 it needs to be make compat work. So
   * deprecates it since echarts5.
   *
   * By default, `visual` is applied to style (to support visualMap).
   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,
   * it can be implemented as:
   * `api.style({stroke: api.visual('color'), fill: null})`;
   *
   * [Compat]: since ec5, RectText has been separated from its hosts el.
   * so `api.style()` will only return the style from `itemStyle` but not handle `label`
   * any more. But `series.label` config is never published in doc.
   * We still compat it in `api.style()`. But not encourage to use it and will still not
   * to pulish it to doc.
   * @public
   * @param dataIndexInside by default `currDataIndexInside`.
   */function style(userProps,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var style=data.getItemVisual(dataIndexInside,"style"),visualColor=style&&style.fill,opacity=style&&style.opacity,itemStyle=getItemStyleModel(dataIndexInside,NORMAL).getItemStyle();null!=visualColor&&(itemStyle.fill=visualColor),null!=opacity&&(itemStyle.opacity=opacity);var opt={inheritColor:(0,util/* isString */.HD)(visualColor)?visualColor:"#000"},labelModel=getLabelModel(dataIndexInside,NORMAL),textStyle=labelStyle/* createTextStyle */.Lr(labelModel,null,opt,!1,!0);textStyle.text=labelModel.getShallow("show")?(0,util/* retrieve2 */.pD)(customSeries.getFormattedLabel(dataIndexInside,NORMAL),(0,labelHelper/* getDefaultLabel */.H)(data,dataIndexInside)):null;var textConfig=labelStyle/* createTextConfig */.nC(labelModel,opt,!1);return preFetchFromExtra(userProps,itemStyle),itemStyle=(0,styleCompat/* convertToEC4StyleForCustomSerise */.n8)(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle}
/**
   * @deprecated The reason see `api.style()`
   * @public
   * @param dataIndexInside by default `currDataIndexInside`.
   */function styleEmphasis(userProps,dataIndexInside){null==dataIndexInside&&(dataIndexInside=currDataIndexInside);var itemStyle=getItemStyleModel(dataIndexInside,EMPHASIS).getItemStyle(),labelModel=getLabelModel(dataIndexInside,EMPHASIS),textStyle=labelStyle/* createTextStyle */.Lr(labelModel,null,null,!0,!0);textStyle.text=labelModel.getShallow("show")?(0,util/* retrieve3 */.R1)(customSeries.getFormattedLabel(dataIndexInside,EMPHASIS),customSeries.getFormattedLabel(dataIndexInside,NORMAL),(0,labelHelper/* getDefaultLabel */.H)(data,dataIndexInside)):null;var textConfig=labelStyle/* createTextConfig */.nC(labelModel,null,!0);return preFetchFromExtra(userProps,itemStyle),itemStyle=(0,styleCompat/* convertToEC4StyleForCustomSerise */.n8)(itemStyle,textStyle,textConfig),userProps&&applyUserPropsAfter(itemStyle,userProps),itemStyle.legacy=!0,itemStyle}function applyUserPropsAfter(itemStyle,extra){for(var key in extra)(0,util/* hasOwn */.RI)(extra,key)&&(itemStyle[key]=extra[key])}function preFetchFromExtra(extra,itemStyle){
// A trick to retrieve those props firstly, which are used to
// apply auto inside fill/stroke in `convertToEC4StyleForCustomSerise`.
// (It's not reasonable but only for a degree of compat)
extra&&(extra.textFill&&(itemStyle.textFill=extra.textFill),extra.textPosition&&(itemStyle.textPosition=extra.textPosition))}
/**
   * @public
   * @param dataIndexInside by default `currDataIndexInside`.
   */function visual(visualType,dataIndexInside){if(null==dataIndexInside&&(dataIndexInside=currDataIndexInside),(0,util/* hasOwn */.RI)(STYLE_VISUAL_TYPE,visualType)){var style_1=data.getItemVisual(dataIndexInside,"style");return style_1?style_1[STYLE_VISUAL_TYPE[visualType]]:null}// Only support these visuals. Other visual might be inner tricky
// for performance (like `style`), do not expose to users.
if((0,util/* hasOwn */.RI)(NON_STYLE_VISUAL_PROPS,visualType))return data.getItemVisual(dataIndexInside,visualType)}
/**
   * @public
   * @return If not support, return undefined.
   */function barLayout(opt){if("cartesian2d"===coordSys.type){var baseAxis=coordSys.getBaseAxis();return(0,barGrid/* getLayoutOnAxis */.Gk)((0,util/* defaults */.ce)({axis:baseAxis},opt))}}
/**
   * @public
   */function currentSeriesIndices(){return ecModel.getCurrentSeriesIndices()}
/**
   * @public
   * @return font string
   */function font(opt){return labelStyle/* getFont */.qT(opt,ecModel)}}function wrapEncodeDef(data){var encodeDef={};return(0,util/* each */.S6)(data.dimensions,(function(dimName){var dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isExtraCoord){var coordDim=dimInfo.coordDim,dataDims=encodeDef[coordDim]=encodeDef[coordDim]||[];dataDims[dimInfo.coordDimIndex]=data.getDimensionIndex(dimName)}})),encodeDef}function createOrUpdateItem(api,existsEl,dataIndex,elOption,seriesModel,group,data){
// [Rule]
// If `renderItem` returns `null`/`undefined`/`false`, remove the previous el if existing.
//     (It seems that violate the "merge" principle, but most of users probably intuitively
//     regard "return;" as "show nothing element whatever", so make a exception to meet the
//     most cases.)
// The rule or "merge" see [STRATEGY_MERGE].
// If `elOption` is `null`/`undefined`/`false` (when `renderItem` returns nothing).
if(elOption){var el=doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group);return el&&data.setItemGraphicEl(dataIndex,el),el&&(0,states/* toggleHoverEmphasis */.k5)(el,elOption.focus,elOption.blurScope,elOption.emphasisDisabled),el}group.remove(existsEl)}function doCreateOrUpdateEl(api,existsEl,dataIndex,elOption,seriesModel,group){var toBeReplacedIdx=-1,oldEl=existsEl;existsEl&&doesElNeedRecreate(existsEl,elOption,seriesModel)&&(
// Should keep at the original index, otherwise "merge by index" will be incorrect.
toBeReplacedIdx=(0,util/* indexOf */.cq)(group.childrenRef(),existsEl),existsEl=null);var isInit=!existsEl,el=existsEl;el?
// FIMXE:NEXT unified clearState?
// If in some case the performance issue arised, consider
// do not clearState but update cached normal state directly.
el.clearStates():(el=createEl(elOption),oldEl&&copyElement(oldEl,el)),// Need to set morph: false explictly to disable automatically morphing.
!1===elOption.morph?el.disableMorphing=!0:el.disableMorphing&&(el.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfoTmp),doCreateOrUpdateClipPath(el,dataIndex,elOption,seriesModel,isInit),updateElNormal(api,el,dataIndex,elOption,attachedTxInfoTmp,seriesModel,isInit),// `elOption.info` enables user to mount some info on
// elements and use them in event handlers.
// Update them only when user specified, otherwise, remain.
(0,util/* hasOwn */.RI)(elOption,"info")&&(customInnerStore(el).info=elOption.info);for(var i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var otherStateOpt=retrieveStateOption(elOption,stateName),otherStyleOpt=retrieveStyleOptionOnState(elOption,otherStateOpt,stateName);updateElOnState(stateName,el,otherStateOpt,otherStyleOpt,attachedTxInfoTmp)}}return updateZ(el,elOption,seriesModel),"group"===elOption.type&&mergeChildren(api,el,dataIndex,elOption,seriesModel),toBeReplacedIdx>=0?group.replaceAt(el,toBeReplacedIdx):group.add(el),el}// `el` must not be null/undefined.
function doesElNeedRecreate(el,elOption,seriesModel){var elInner=customInnerStore(el),elOptionType=elOption.type,elOptionShape=elOption.shape,elOptionStyle=elOption.style;// Always create new if universal transition is enabled.
// Because we do transition after render. It needs to know what old element is. Replacement will loose it.
return seriesModel.isUniversalTransitionEnabled()||null!=elOptionType&&elOptionType!==elInner.customGraphicType||"path"===elOptionType&&hasOwnPathData(elOptionShape)&&getPathData(elOptionShape)!==elInner.customPathData||"image"===elOptionType&&(0,util/* hasOwn */.RI)(elOptionStyle,"image")&&elOptionStyle.image!==elInner.customImagePath}function doCreateOrUpdateClipPath(el,dataIndex,elOption,seriesModel,isInit){
// Based on the "merge" principle, if no clipPath provided,
// do nothing. The exists clip will be totally removed only if
// `el.clipPath` is `false`. Otherwise it will be merged/replaced.
var clipPathOpt=elOption.clipPath;if(!1===clipPathOpt)el&&el.getClipPath()&&el.removeClipPath();else if(clipPathOpt){var clipPath=el.getClipPath();clipPath&&doesElNeedRecreate(clipPath,clipPathOpt,seriesModel)&&(clipPath=null),clipPath||(clipPath=createEl(clipPathOpt),el.setClipPath(clipPath)),updateElNormal(null,clipPath,dataIndex,clipPathOpt,null,seriesModel,isInit)}// If not define `clipPath` in option, do nothing unnecessary.
}function doCreateOrUpdateAttachedTx(el,dataIndex,elOption,seriesModel,isInit,attachedTxInfo){
// Group does not support textContent temporarily until necessary.
if(!el.isGroup){// Normal must be called before emphasis, for `isLegacy` detection.
processTxInfo(elOption,null,attachedTxInfo),processTxInfo(elOption,EMPHASIS,attachedTxInfo);// If `elOption.textConfig` or `elOption.textContent` is null/undefined, it does not make sense.
// So for simplicity, if "elOption hasOwnProperty of them but be null/undefined", we do not
// trade them as set to null to el.
// Especially:
// `elOption.textContent: false` means remove textContent.
// `elOption.textContent.emphasis.style: false` means remove the style from emphasis state.
var txConOptNormal=attachedTxInfo.normal.conOpt,txConOptEmphasis=attachedTxInfo.emphasis.conOpt,txConOptBlur=attachedTxInfo.blur.conOpt,txConOptSelect=attachedTxInfo.select.conOpt;if(null!=txConOptNormal||null!=txConOptEmphasis||null!=txConOptSelect||null!=txConOptBlur){var textContent=el.getTextContent();if(!1===txConOptNormal)textContent&&el.removeTextContent();else{txConOptNormal=attachedTxInfo.normal.conOpt=txConOptNormal||{type:"text"},textContent?
// If in some case the performance issue arised, consider
// do not clearState but update cached normal state directly.
textContent.clearStates():(textContent=createEl(txConOptNormal),el.setTextContent(textContent)),updateElNormal(null,textContent,dataIndex,txConOptNormal,null,seriesModel,isInit);for(var txConStlOptNormal=txConOptNormal&&txConOptNormal.style,i=0;i<STATES.length;i++){var stateName=STATES[i];if(stateName!==NORMAL){var txConOptOtherState=attachedTxInfo[stateName].conOpt;updateElOnState(stateName,textContent,txConOptOtherState,retrieveStyleOptionOnState(txConOptNormal,txConOptOtherState,stateName),null)}}txConStlOptNormal?textContent.dirty():textContent.markRedraw()}}}}function processTxInfo(elOption,state,attachedTxInfo){var stateOpt=state?retrieveStateOption(elOption,state):elOption,styleOpt=state?retrieveStyleOptionOnState(elOption,stateOpt,EMPHASIS):elOption.style,elType=elOption.type,txCfg=stateOpt?stateOpt.textConfig:null,txConOptNormal=elOption.textContent,txConOpt=txConOptNormal?state?retrieveStateOption(txConOptNormal,state):txConOptNormal:null;if(styleOpt&&(// Because emphasis style has little info to detect legacy,
// if normal is legacy, emphasis is trade as legacy.
attachedTxInfo.isLegacy||(0,styleCompat/* isEC4CompatibleStyle */.Sv)(styleOpt,elType,!!txCfg,!!txConOpt))){attachedTxInfo.isLegacy=!0;var convertResult=(0,styleCompat/* convertFromEC4CompatibleStyle */.Tw)(styleOpt,elType,!state);// Explicitly specified `textConfig` and `textContent` has higher priority than
// the ones generated by legacy style. Otherwise if users use them and `api.style`
// at the same time, they not both work and hardly to known why.
!txCfg&&convertResult.textConfig&&(txCfg=convertResult.textConfig),!txConOpt&&convertResult.textContent&&(txConOpt=convertResult.textContent)}if(!state&&txConOpt){var txConOptNormal_1=txConOpt;// `textContent: {type: 'text'}`, the "type" is easy to be missing. So we tolerate it.
!txConOptNormal_1.type&&(txConOptNormal_1.type="text")}var info=state?attachedTxInfo[state]:attachedTxInfo.normal;info.cfg=txCfg,info.conOpt=txConOpt}function retrieveStateOption(elOption,state){return state?elOption?elOption[state]:null:elOption}function retrieveStyleOptionOnState(stateOptionNormal,stateOption,state){var style=stateOption&&stateOption.style;return null==style&&state===EMPHASIS&&stateOptionNormal&&(style=stateOptionNormal.styleEmphasis),style}// Usage:
// (1) By default, `elOption.$mergeChildren` is `'byIndex'`, which indicates
//     that the existing children will not be removed, and enables the feature
//     that update some of the props of some of the children simply by construct
//     the returned children of `renderItem` like:
//     `var children = group.children = []; children[3] = {opacity: 0.5};`
// (2) If `elOption.$mergeChildren` is `'byName'`, add/update/remove children
//     by child.name. But that might be lower performance.
// (3) If `elOption.$mergeChildren` is `false`, the existing children will be
//     replaced totally.
// (4) If `!elOption.children`, following the "merge" principle, nothing will
//     happen.
// (5) If `elOption.$mergeChildren` is not `false` neither `'byName'` and the
//     `el` is a group, and if any of the new child is null, it means to remove
//     the element at the same index, if exists. On the other hand, if the new
//     child is and empty object `{}`, it means to keep the element not changed.

// For implementation simpleness, do not provide a direct way to remove single
// child (otherwise the total indices of the children array have to be modified).
// User can remove a single child by setting its `ignore` to `true`.
function mergeChildren(api,el,dataIndex,elOption,seriesModel){var newChildren=elOption.children,newLen=newChildren?newChildren.length:0,mergeChildren=elOption.$mergeChildren,byName="byName"===mergeChildren||elOption.diffChildrenByName,notMerge=!1===mergeChildren;// For better performance on roam update, only enter if necessary.
if(newLen||byName||notMerge)if(byName)diffGroupChildren({api:api,oldChildren:el.children()||[],newChildren:newChildren||[],dataIndex:dataIndex,seriesModel:seriesModel,group:el});else{notMerge&&el.removeAll();for(// Mapping children of a group simply by index, which
// might be better performance.
var index=0;index<newLen;index++){var newChild=newChildren[index],oldChild=el.childAt(index);newChild?(null==newChild.ignore&&(
// The old child is set to be ignored if null (see comments
// below). So we need to set ignore to be false back.
newChild.ignore=!1),doCreateOrUpdateEl(api,oldChild,dataIndex,newChild,seriesModel,el)):// If the new element option is null, it means to remove the old
// element. But we cannot really remove the element from the group
// directly, because the element order may not be stable when this
// element is added back. So we set the element to be ignored.
oldChild.ignore=!0}for(var i=el.childCount()-1;i>=index;i--){var child=el.childAt(i);removeChildFromGroup(el,child,seriesModel)}}}function removeChildFromGroup(group,child,seriesModel){
// Do not support leave elements that are not mentioned in the latest
// `renderItem` return. Otherwise users may not have a clear and simple
// concept that how to control all of the elements.
child&&(0,customGraphicTransition/* applyLeaveTransition */.O3)(child,customInnerStore(group).option,seriesModel)}function diffGroupChildren(context){new DataDiffer/* default */.Z(context.oldChildren,context.newChildren,getKey,getKey,context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(item,idx){var name=item&&item.name;return null!=name?name:GROUP_DIFF_PREFIX+idx}function processAddUpdate(newIndex,oldIndex){var context=this.context,childOption=null!=newIndex?context.newChildren[newIndex]:null,child=null!=oldIndex?context.oldChildren[oldIndex]:null;doCreateOrUpdateEl(context.api,child,context.dataIndex,childOption,context.seriesModel,context.group)}function processRemove(oldIndex){var context=this.context,child=context.oldChildren[oldIndex];child&&(0,customGraphicTransition/* applyLeaveTransition */.O3)(child,customInnerStore(child).option,context.seriesModel)}
/**
 * @return SVG Path data.
 */function getPathData(shape){
// "d" follows the SVG convention.
return shape&&(shape.pathData||shape.d)}function hasOwnPathData(shape){return shape&&((0,util/* hasOwn */.RI)(shape,"pathData")||(0,util/* hasOwn */.RI)(shape,"d"))}// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/custom/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerChartView(CustomView),registers.registerSeriesModel(CustomSeries)}
/***/},
/***/51660:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),Path=__webpack_require__(696997),PointerShape=
/** @class */
function(){function PointerShape(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return PointerShape}(),PointerPath=
/** @class */
function(_super){function PointerPath(opts){var _this=_super.call(this,opts)||this;return _this.type="pointer",_this}return(0,tslib_es6/* __extends */.ZT)(PointerPath,_super),PointerPath.prototype.getDefaultShape=function(){return new PointerShape},PointerPath.prototype.buildPath=function(ctx,shape){var mathCos=Math.cos,mathSin=Math.sin,r=shape.r,width=shape.width,angle=shape.angle,x=shape.x-mathCos(angle)*width*(width>=r/3?1:2),y=shape.y-mathSin(angle)*width*(width>=r/3?1:2);angle=shape.angle-Math.PI/2,ctx.moveTo(x,y),ctx.lineTo(shape.x+mathCos(angle)*width,shape.y+mathSin(angle)*width),ctx.lineTo(shape.x+mathCos(shape.angle)*r,shape.y+mathSin(shape.angle)*r),ctx.lineTo(shape.x-mathCos(angle)*width,shape.y-mathSin(angle)*width),ctx.lineTo(x,y)},PointerPath}(Path/* default */.ZP),gauge_PointerPath=PointerPath,Sector=__webpack_require__(497782),Line=__webpack_require__(522095),Text=__webpack_require__(679750),basicTransition=__webpack_require__(944292),Group=__webpack_require__(38154),states=__webpack_require__(726357),labelStyle=__webpack_require__(336006),Chart=__webpack_require__(975797),number=__webpack_require__(785669),sausage=__webpack_require__(839529),symbol=__webpack_require__(241525),Image=__webpack_require__(744535),util=__webpack_require__(933051),innerStore=__webpack_require__(30106),PathProxy=__webpack_require__(714014);
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/Path.js + 6 modules
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/gauge/GaugeView.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function parsePosition(seriesModel,api){var center=seriesModel.get("center"),width=api.getWidth(),height=api.getHeight(),size=Math.min(width,height),cx=(0,number/* parsePercent */.GM)(center[0],api.getWidth()),cy=(0,number/* parsePercent */.GM)(center[1],api.getHeight()),r=(0,number/* parsePercent */.GM)(seriesModel.get("radius"),size/2);return{cx:cx,cy:cy,r:r}}function formatLabel(value,labelFormatter){var label=null==value?"":value+"";return labelFormatter&&((0,util/* isString */.HD)(labelFormatter)?label=labelFormatter.replace("{value}",label):(0,util/* isFunction */.mf)(labelFormatter)&&(label=labelFormatter(value))),label}var GaugeView=
/** @class */
function(_super){function GaugeView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GaugeView.type,_this}return(0,tslib_es6/* __extends */.ZT)(GaugeView,_super),GaugeView.prototype.render=function(seriesModel,ecModel,api){this.group.removeAll();var colorList=seriesModel.get(["axisLine","lineStyle","color"]),posInfo=parsePosition(seriesModel,api);this._renderMain(seriesModel,ecModel,api,colorList,posInfo),this._data=seriesModel.getData()},GaugeView.prototype.dispose=function(){},GaugeView.prototype._renderMain=function(seriesModel,ecModel,api,colorList,posInfo){var group=this.group,clockwise=seriesModel.get("clockwise"),startAngle=-seriesModel.get("startAngle")/180*Math.PI,endAngle=-seriesModel.get("endAngle")/180*Math.PI,axisLineModel=seriesModel.getModel("axisLine"),roundCap=axisLineModel.get("roundCap"),MainPath=roundCap?sausage/* default */.Z:Sector/* default */.C,showAxis=axisLineModel.get("show"),lineStyleModel=axisLineModel.getModel("lineStyle"),axisLineWidth=lineStyleModel.get("width"),angles=[startAngle,endAngle];(0,PathProxy/* normalizeArcAngles */.L)(angles,!clockwise),startAngle=angles[0],endAngle=angles[1];for(var angleRangeSpan=endAngle-startAngle,prevEndAngle=startAngle,sectors=[],i=0;showAxis&&i<colorList.length;i++){
// Clamp
var percent=Math.min(Math.max(colorList[i][0],0),1);endAngle=startAngle+angleRangeSpan*percent;var sector=new MainPath({shape:{startAngle:prevEndAngle,endAngle:endAngle,cx:posInfo.cx,cy:posInfo.cy,clockwise:clockwise,r0:posInfo.r-axisLineWidth,r:posInfo.r},silent:!0});sector.setStyle({fill:colorList[i][1]}),sector.setStyle(lineStyleModel.getLineStyle(// Because we use sector to simulate arc
// so the properties for stroking are useless
["color","width"])),sectors.push(sector),prevEndAngle=endAngle}sectors.reverse(),(0,util/* each */.S6)(sectors,(function(sector){return group.add(sector)}));var getColor=function(percent){
// Less than 0
if(percent<=0)return colorList[0][1];var i;for(i=0;i<colorList.length;i++)if(colorList[i][0]>=percent&&(0===i?0:colorList[i-1][0])<percent)return colorList[i][1];// More than 1
return colorList[i-1][1]};this._renderTicks(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth),this._renderTitleAndDetail(seriesModel,ecModel,api,getColor,posInfo),this._renderAnchor(seriesModel,posInfo),this._renderPointer(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth)},GaugeView.prototype._renderTicks=function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth){for(var unitX,unitY,group=this.group,cx=posInfo.cx,cy=posInfo.cy,r=posInfo.r,minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),splitLineModel=seriesModel.getModel("splitLine"),tickModel=seriesModel.getModel("axisTick"),labelModel=seriesModel.getModel("axisLabel"),splitNumber=seriesModel.get("splitNumber"),subSplitNumber=tickModel.get("splitNumber"),splitLineLen=(0,number/* parsePercent */.GM)(splitLineModel.get("length"),r),tickLen=(0,number/* parsePercent */.GM)(tickModel.get("length"),r),angle=startAngle,step=(endAngle-startAngle)/splitNumber,subStep=step/subSplitNumber,splitLineStyle=splitLineModel.getModel("lineStyle").getLineStyle(),tickLineStyle=tickModel.getModel("lineStyle").getLineStyle(),splitLineDistance=splitLineModel.get("distance"),i=0;i<=splitNumber;i++){// Split line
if(unitX=Math.cos(angle),unitY=Math.sin(angle),splitLineModel.get("show")){var distance=splitLineDistance?splitLineDistance+axisLineWidth:axisLineWidth,splitLine=new Line/* default */.Z({shape:{x1:unitX*(r-distance)+cx,y1:unitY*(r-distance)+cy,x2:unitX*(r-splitLineLen-distance)+cx,y2:unitY*(r-splitLineLen-distance)+cy},style:splitLineStyle,silent:!0});"auto"===splitLineStyle.stroke&&splitLine.setStyle({stroke:getColor(i/splitNumber)}),group.add(splitLine)}// Label
if(labelModel.get("show")){distance=labelModel.get("distance")+splitLineDistance;var label=formatLabel((0,number/* round */.NM)(i/splitNumber*(maxVal-minVal)+minVal),labelModel.get("formatter")),autoColor=getColor(i/splitNumber),textStyleX=unitX*(r-splitLineLen-distance)+cx,textStyleY=unitY*(r-splitLineLen-distance)+cy,rotateType=labelModel.get("rotate"),rotate=0;"radial"===rotateType?(rotate=-angle+2*Math.PI,rotate>Math.PI/2&&(rotate+=Math.PI)):"tangential"===rotateType?rotate=-angle-Math.PI/2:(0,util/* isNumber */.hj)(rotateType)&&(rotate=rotateType*Math.PI/180),0===rotate?group.add(new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(labelModel,{text:label,x:textStyleX,y:textStyleY,verticalAlign:unitY<-.8?"top":unitY>.8?"bottom":"middle",align:unitX<-.4?"left":unitX>.4?"right":"center"},{inheritColor:autoColor}),silent:!0})):group.add(new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(labelModel,{text:label,x:textStyleX,y:textStyleY,verticalAlign:"middle",align:"center"},{inheritColor:autoColor}),silent:!0,originX:textStyleX,originY:textStyleY,rotation:rotate}))}// Axis tick
if(tickModel.get("show")&&i!==splitNumber){distance=tickModel.get("distance");distance=distance?distance+axisLineWidth:axisLineWidth;for(var j=0;j<=subSplitNumber;j++){unitX=Math.cos(angle),unitY=Math.sin(angle);var tickLine=new Line/* default */.Z({shape:{x1:unitX*(r-distance)+cx,y1:unitY*(r-distance)+cy,x2:unitX*(r-tickLen-distance)+cx,y2:unitY*(r-tickLen-distance)+cy},silent:!0,style:tickLineStyle});"auto"===tickLineStyle.stroke&&tickLine.setStyle({stroke:getColor((i+j/subSplitNumber)/splitNumber)}),group.add(tickLine),angle+=subStep}angle-=subStep}else angle+=step}},GaugeView.prototype._renderPointer=function(seriesModel,ecModel,api,getColor,posInfo,startAngle,endAngle,clockwise,axisLineWidth){var group=this.group,oldData=this._data,oldProgressData=this._progressEls,progressList=[],showPointer=seriesModel.get(["pointer","show"]),progressModel=seriesModel.getModel("progress"),showProgress=progressModel.get("show"),data=seriesModel.getData(),valueDim=data.mapDimension("value"),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),valueExtent=[minVal,maxVal],angleExtent=[startAngle,endAngle];function createPointer(idx,angle){var pointer,itemModel=data.getItemModel(idx),pointerModel=itemModel.getModel("pointer"),pointerWidth=(0,number/* parsePercent */.GM)(pointerModel.get("width"),posInfo.r),pointerLength=(0,number/* parsePercent */.GM)(pointerModel.get("length"),posInfo.r),pointerStr=seriesModel.get(["pointer","icon"]),pointerOffset=pointerModel.get("offsetCenter"),pointerOffsetX=(0,number/* parsePercent */.GM)(pointerOffset[0],posInfo.r),pointerOffsetY=(0,number/* parsePercent */.GM)(pointerOffset[1],posInfo.r),pointerKeepAspect=pointerModel.get("keepAspect");// not exist icon type will be set 'rect'
return pointer=pointerStr?(0,symbol/* createSymbol */.th)(pointerStr,pointerOffsetX-pointerWidth/2,pointerOffsetY-pointerLength,pointerWidth,pointerLength,null,pointerKeepAspect):new gauge_PointerPath({shape:{angle:-Math.PI/2,width:pointerWidth,r:pointerLength,x:pointerOffsetX,y:pointerOffsetY}}),pointer.rotation=-(angle+Math.PI/2),pointer.x=posInfo.cx,pointer.y=posInfo.cy,pointer}function createProgress(idx,endAngle){var roundCap=progressModel.get("roundCap"),ProgressPath=roundCap?sausage/* default */.Z:Sector/* default */.C,isOverlap=progressModel.get("overlap"),progressWidth=isOverlap?progressModel.get("width"):axisLineWidth/data.count(),r0=isOverlap?posInfo.r-progressWidth:posInfo.r-(idx+1)*progressWidth,r=isOverlap?posInfo.r:posInfo.r-idx*progressWidth,progress=new ProgressPath({shape:{startAngle:startAngle,endAngle:endAngle,cx:posInfo.cx,cy:posInfo.cy,clockwise:clockwise,r0:r0,r:r}});return isOverlap&&(progress.z2=maxVal-data.get(valueDim,idx)%maxVal),progress}(showProgress||showPointer)&&(data.diff(oldData).add((function(idx){var val=data.get(valueDim,idx);if(showPointer){var pointer=createPointer(idx,startAngle);// TODO hide pointer on NaN value?
basicTransition/* initProps */.KZ(pointer,{rotation:-((isNaN(+val)?angleExtent[0]:(0,number/* linearMap */.NU)(val,valueExtent,angleExtent,!0))+Math.PI/2)},seriesModel),group.add(pointer),data.setItemGraphicEl(idx,pointer)}if(showProgress){var progress=createProgress(idx,startAngle),isClip=progressModel.get("clip");basicTransition/* initProps */.KZ(progress,{shape:{endAngle:(0,number/* linearMap */.NU)(val,valueExtent,angleExtent,isClip)}},seriesModel),group.add(progress),// Add data index and series index for indexing the data by element
// Useful in tooltip
(0,innerStore/* setCommonECData */.Q)(seriesModel.seriesIndex,data.dataType,idx,progress),progressList[idx]=progress}})).update((function(newIdx,oldIdx){var val=data.get(valueDim,newIdx);if(showPointer){var previousPointer=oldData.getItemGraphicEl(oldIdx),previousRotate=previousPointer?previousPointer.rotation:startAngle,pointer=createPointer(newIdx,previousRotate);pointer.rotation=previousRotate,basicTransition/* updateProps */.D(pointer,{rotation:-((isNaN(+val)?angleExtent[0]:(0,number/* linearMap */.NU)(val,valueExtent,angleExtent,!0))+Math.PI/2)},seriesModel),group.add(pointer),data.setItemGraphicEl(newIdx,pointer)}if(showProgress){var previousProgress=oldProgressData[oldIdx],previousEndAngle=previousProgress?previousProgress.shape.endAngle:startAngle,progress=createProgress(newIdx,previousEndAngle),isClip=progressModel.get("clip");basicTransition/* updateProps */.D(progress,{shape:{endAngle:(0,number/* linearMap */.NU)(val,valueExtent,angleExtent,isClip)}},seriesModel),group.add(progress),// Add data index and series index for indexing the data by element
// Useful in tooltip
(0,innerStore/* setCommonECData */.Q)(seriesModel.seriesIndex,data.dataType,newIdx,progress),progressList[newIdx]=progress}})).execute(),data.each((function(idx){var itemModel=data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled");if(showPointer){var pointer=data.getItemGraphicEl(idx),symbolStyle=data.getItemVisual(idx,"style"),visualColor=symbolStyle.fill;if(pointer instanceof Image/* default */.ZP){var pathStyle=pointer.style;pointer.useStyle((0,util/* extend */.l7)({image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolStyle))}else pointer.useStyle(symbolStyle),"pointer"!==pointer.type&&pointer.setColor(visualColor);pointer.setStyle(itemModel.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===pointer.style.fill&&pointer.setStyle("fill",getColor((0,number/* linearMap */.NU)(data.get(valueDim,idx),valueExtent,[0,1],!0))),pointer.z2EmphasisLift=0,(0,states/* setStatesStylesFromModel */.WO)(pointer,itemModel),(0,states/* toggleHoverEmphasis */.k5)(pointer,focus,blurScope,emphasisDisabled)}if(showProgress){var progress=progressList[idx];progress.useStyle(data.getItemVisual(idx,"style")),progress.setStyle(itemModel.getModel(["progress","itemStyle"]).getItemStyle()),progress.z2EmphasisLift=0,(0,states/* setStatesStylesFromModel */.WO)(progress,itemModel),(0,states/* toggleHoverEmphasis */.k5)(progress,focus,blurScope,emphasisDisabled)}})),this._progressEls=progressList)},GaugeView.prototype._renderAnchor=function(seriesModel,posInfo){var anchorModel=seriesModel.getModel("anchor"),showAnchor=anchorModel.get("show");if(showAnchor){var anchorSize=anchorModel.get("size"),anchorType=anchorModel.get("icon"),offsetCenter=anchorModel.get("offsetCenter"),anchorKeepAspect=anchorModel.get("keepAspect"),anchor=(0,symbol/* createSymbol */.th)(anchorType,posInfo.cx-anchorSize/2+(0,number/* parsePercent */.GM)(offsetCenter[0],posInfo.r),posInfo.cy-anchorSize/2+(0,number/* parsePercent */.GM)(offsetCenter[1],posInfo.r),anchorSize,anchorSize,null,anchorKeepAspect);anchor.z2=anchorModel.get("showAbove")?1:0,anchor.setStyle(anchorModel.getModel("itemStyle").getItemStyle()),this.group.add(anchor)}},GaugeView.prototype._renderTitleAndDetail=function(seriesModel,ecModel,api,getColor,posInfo){var _this=this,data=seriesModel.getData(),valueDim=data.mapDimension("value"),minVal=+seriesModel.get("min"),maxVal=+seriesModel.get("max"),contentGroup=new Group/* default */.Z,newTitleEls=[],newDetailEls=[],hasAnimation=seriesModel.isAnimationEnabled(),showPointerAbove=seriesModel.get(["pointer","showAbove"]);data.diff(this._data).add((function(idx){newTitleEls[idx]=new Text/* default */.ZP({silent:!0}),newDetailEls[idx]=new Text/* default */.ZP({silent:!0})})).update((function(idx,oldIdx){newTitleEls[idx]=_this._titleEls[oldIdx],newDetailEls[idx]=_this._detailEls[oldIdx]})).execute(),data.each((function(idx){var itemModel=data.getItemModel(idx),value=data.get(valueDim,idx),itemGroup=new Group/* default */.Z,autoColor=getColor((0,number/* linearMap */.NU)(value,[minVal,maxVal],[0,1],!0)),itemTitleModel=itemModel.getModel("title");if(itemTitleModel.get("show")){var titleOffsetCenter=itemTitleModel.get("offsetCenter"),titleX=posInfo.cx+(0,number/* parsePercent */.GM)(titleOffsetCenter[0],posInfo.r),titleY=posInfo.cy+(0,number/* parsePercent */.GM)(titleOffsetCenter[1],posInfo.r),labelEl=newTitleEls[idx];labelEl.attr({z2:showPointerAbove?0:2,style:(0,labelStyle/* createTextStyle */.Lr)(itemTitleModel,{x:titleX,y:titleY,text:data.getName(idx),align:"center",verticalAlign:"middle"},{inheritColor:autoColor})}),itemGroup.add(labelEl)}var itemDetailModel=itemModel.getModel("detail");if(itemDetailModel.get("show")){var detailOffsetCenter=itemDetailModel.get("offsetCenter"),detailX=posInfo.cx+(0,number/* parsePercent */.GM)(detailOffsetCenter[0],posInfo.r),detailY=posInfo.cy+(0,number/* parsePercent */.GM)(detailOffsetCenter[1],posInfo.r),width=(0,number/* parsePercent */.GM)(itemDetailModel.get("width"),posInfo.r),height=(0,number/* parsePercent */.GM)(itemDetailModel.get("height"),posInfo.r),detailColor=seriesModel.get(["progress","show"])?data.getItemVisual(idx,"style").fill:autoColor,formatter_1=(labelEl=newDetailEls[idx],itemDetailModel.get("formatter"));labelEl.attr({z2:showPointerAbove?0:2,style:(0,labelStyle/* createTextStyle */.Lr)(itemDetailModel,{x:detailX,y:detailY,text:formatLabel(value,formatter_1),width:isNaN(width)?null:width,height:isNaN(height)?null:height,align:"center",verticalAlign:"middle"},{inheritColor:detailColor})}),(0,labelStyle/* setLabelValueAnimation */.pe)(labelEl,{normal:itemDetailModel},value,(function(value){return formatLabel(value,formatter_1)})),hasAnimation&&(0,labelStyle/* animateLabelValue */.tD)(labelEl,idx,data,seriesModel,{getFormattedLabel:function(labelDataIndex,status,dataType,labelDimIndex,fmt,extendParams){return formatLabel(extendParams?extendParams.interpolatedValue:value,formatter_1)}}),itemGroup.add(labelEl)}contentGroup.add(itemGroup)})),this.group.add(contentGroup),this._titleEls=newTitleEls,this._detailEls=newDetailEls},GaugeView.type="gauge",GaugeView}(Chart/* default */.Z),gauge_GaugeView=GaugeView,createSeriesDataSimply=__webpack_require__(30090),Series=__webpack_require__(993321),GaugeSeriesModel=
/** @class */
function(_super){function GaugeSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GaugeSeriesModel.type,_this.visualStyleAccessPath="itemStyle",_this}return(0,tslib_es6/* __extends */.ZT)(GaugeSeriesModel,_super),GaugeSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesDataSimply/* default */.Z)(this,["value"])},GaugeSeriesModel.type="series.gauge",GaugeSeriesModel.defaultOption={
// zlevel: 0,
z:2,colorBy:"data",
// 默认全局居中
center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,
// 最小值
min:0,
// 最大值
max:100,
// 分割段数，默认为10
splitNumber:10,
// 坐标轴线
axisLine:{
// 默认显示，属性show控制显示与否
show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},
// 坐标轴线
progress:{
// 默认显示，属性show控制显示与否
show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},
// 分隔线
splitLine:{
// 默认显示，属性show控制显示与否
show:!0,
// 属性length控制线长
length:10,distance:10,
// 属性lineStyle（详见lineStyle）控制线条样式
lineStyle:{color:"#63677A",width:3,type:"solid"}},
// 坐标轴小标记
axisTick:{
// 属性show控制显示与否，默认不显示
show:!0,
// 每份split细分多少段
splitNumber:5,
// 属性length控制线长
length:6,distance:10,
// 属性lineStyle控制线条样式
lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,
// formatter: null,
color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,
// x, y，单位px
offsetCenter:[0,"20%"],
// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],
// x, y，单位px
offsetCenter:[0,"40%"],
// formatter: null,
// 其余属性默认使用全局文本样式，详见TEXTSTYLE
color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},GaugeSeriesModel}(Series/* default */.Z),GaugeSeries=GaugeSeriesModel;
/* harmony default export */ // CONCATENATED MODULE: ./node_modules/echarts/lib/chart/gauge/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerChartView(gauge_GaugeView),registers.registerSeriesModel(GaugeSeries)}
/***/},
/***/249568:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),graphic=__webpack_require__(851177),Rect=__webpack_require__(25293),Image=__webpack_require__(744535),states=__webpack_require__(726357),platform=__webpack_require__(623132),GRADIENT_LEVELS=256,HeatmapLayer=
/** @class */
function(){function HeatmapLayer(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var canvas=platform/* platformApi */.qW.createCanvas();this.canvas=canvas}
/**
   * Renders Heatmap and returns the rendered canvas
   * @param data array of data, each has x, y, value
   * @param width canvas width
   * @param height canvas height
   */return HeatmapLayer.prototype.update=function(data,width,height,normalize,colorFunc,isInRange){var brush=this._getBrush(),gradientInRange=this._getGradient(colorFunc,"inRange"),gradientOutOfRange=this._getGradient(colorFunc,"outOfRange"),r=this.pointSize+this.blurSize,canvas=this.canvas,ctx=canvas.getContext("2d"),len=data.length;canvas.width=width,canvas.height=height;for(var i=0;i<len;++i){var p=data[i],x=p[0],y=p[1],value=p[2],alpha=normalize(value);// draw with the circle brush with alpha
ctx.globalAlpha=alpha,ctx.drawImage(brush,x-r,y-r)}if(!canvas.width||!canvas.height)
// Avoid "Uncaught DOMException: Failed to execute 'getImageData' on
// 'CanvasRenderingContext2D': The source height is 0."
return canvas;// colorize the canvas using alpha value and set with gradient
var imageData=ctx.getImageData(0,0,canvas.width,canvas.height),pixels=imageData.data,offset=0,pixelLen=pixels.length,minOpacity=this.minOpacity,maxOpacity=this.maxOpacity,diffOpacity=maxOpacity-minOpacity;while(offset<pixelLen){alpha=pixels[offset+3]/256;var gradientOffset=4*Math.floor(alpha*(GRADIENT_LEVELS-1));// Simple optimize to ignore the empty data
if(alpha>0){var gradient=isInRange(alpha)?gradientInRange:gradientOutOfRange;// Any alpha > 0 will be mapped to [minOpacity, maxOpacity]
alpha>0&&(alpha=alpha*diffOpacity+minOpacity),pixels[offset++]=gradient[gradientOffset],pixels[offset++]=gradient[gradientOffset+1],pixels[offset++]=gradient[gradientOffset+2],pixels[offset++]=gradient[gradientOffset+3]*alpha*256}else offset+=4}return ctx.putImageData(imageData,0,0),canvas},
/**
   * get canvas of a black circle brush used for canvas to draw later
   */
HeatmapLayer.prototype._getBrush=function(){var brushCanvas=this._brushCanvas||(this._brushCanvas=platform/* platformApi */.qW.createCanvas()),r=this.pointSize+this.blurSize,d=2*r;// set brush size
brushCanvas.width=d,brushCanvas.height=d;var ctx=brushCanvas.getContext("2d");return ctx.clearRect(0,0,d,d),// in order to render shadow without the distinct circle,
// draw the distinct circle in an invisible place,
// and use shadowOffset to draw shadow in the center of the canvas
ctx.shadowOffsetX=d,ctx.shadowBlur=this.blurSize,// draw the shadow in black, and use alpha and shadow blur to generate
// color in color map
ctx.shadowColor="#000",// draw circle in the left to the canvas
ctx.beginPath(),ctx.arc(-r,r,this.pointSize,0,2*Math.PI,!0),ctx.closePath(),ctx.fill(),brushCanvas},
/**
   * get gradient color map
   * @private
   */
HeatmapLayer.prototype._getGradient=function(colorFunc,state){for(var gradientPixels=this._gradientPixels,pixelsSingleState=gradientPixels[state]||(gradientPixels[state]=new Uint8ClampedArray(1024)),color=[0,0,0,0],off=0,i=0;i<256;i++)colorFunc[state](i/255,!0,color),pixelsSingleState[off++]=color[0],pixelsSingleState[off++]=color[1],pixelsSingleState[off++]=color[2],pixelsSingleState[off++]=color[3];return pixelsSingleState},HeatmapLayer}(),heatmap_HeatmapLayer=HeatmapLayer,util=__webpack_require__(933051),Chart=__webpack_require__(975797),CoordinateSystem=__webpack_require__(31073),labelStyle=__webpack_require__(336006);
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/graphic.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/heatmap/HeatmapView.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function getIsInPiecewiseRange(dataExtent,pieceList,selected){var dataSpan=dataExtent[1]-dataExtent[0];pieceList=util/* map */.UI(pieceList,(function(piece){return{interval:[(piece.interval[0]-dataExtent[0])/dataSpan,(piece.interval[1]-dataExtent[0])/dataSpan]}}));var len=pieceList.length,lastIndex=0;return function(val){var i;// Try to find in the location of the last found
for(i=lastIndex;i<len;i++){var interval=pieceList[i].interval;if(interval[0]<=val&&val<=interval[1]){lastIndex=i;break}}if(i===len)
// Not found, back interation
for(i=lastIndex-1;i>=0;i--){interval=pieceList[i].interval;if(interval[0]<=val&&val<=interval[1]){lastIndex=i;break}}return i>=0&&i<len&&selected[i]}}function getIsInContinuousRange(dataExtent,range){var dataSpan=dataExtent[1]-dataExtent[0];return range=[(range[0]-dataExtent[0])/dataSpan,(range[1]-dataExtent[0])/dataSpan],function(val){return val>=range[0]&&val<=range[1]}}function isGeoCoordSys(coordSys){var dimensions=coordSys.dimensions;// Not use coordSys.type === 'geo' because coordSys maybe extended
return"lng"===dimensions[0]&&"lat"===dimensions[1]}var HeatmapView=
/** @class */
function(_super){function HeatmapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapView.type,_this}return(0,tslib_es6/* __extends */.ZT)(HeatmapView,_super),HeatmapView.prototype.render=function(seriesModel,ecModel,api){var visualMapOfThisSeries;ecModel.eachComponent("visualMap",(function(visualMap){visualMap.eachTargetSeries((function(targetSeries){targetSeries===seriesModel&&(visualMapOfThisSeries=visualMap)}))})),// Clear previously rendered progressive elements.
this._progressiveEls=null,this.group.removeAll();var coordSys=seriesModel.coordinateSystem;"cartesian2d"===coordSys.type||"calendar"===coordSys.type?this._renderOnCartesianAndCalendar(seriesModel,api,0,seriesModel.getData().count()):isGeoCoordSys(coordSys)&&this._renderOnGeo(coordSys,seriesModel,visualMapOfThisSeries,api)},HeatmapView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){this.group.removeAll()},HeatmapView.prototype.incrementalRender=function(params,seriesModel,ecModel,api){var coordSys=seriesModel.coordinateSystem;coordSys&&(
// geo does not support incremental rendering?
isGeoCoordSys(coordSys)?this.render(seriesModel,ecModel,api):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(seriesModel,api,params.start,params.end,!0)))},HeatmapView.prototype.eachRendered=function(cb){graphic.traverseElements(this._progressiveEls||this.group,cb)},HeatmapView.prototype._renderOnCartesianAndCalendar=function(seriesModel,api,start,end,incremental){var width,height,xAxisExtent,yAxisExtent,coordSys=seriesModel.coordinateSystem,isCartesian2d=(0,CoordinateSystem/* isCoordinateSystemType */.H)(coordSys,"cartesian2d");if(isCartesian2d){var xAxis=coordSys.getAxis("x"),yAxis=coordSys.getAxis("y");0,// add 0.5px to avoid the gaps
width=xAxis.getBandWidth()+.5,height=yAxis.getBandWidth()+.5,xAxisExtent=xAxis.scale.getExtent(),yAxisExtent=yAxis.scale.getExtent()}for(var group=this.group,data=seriesModel.getData(),emphasisStyle=seriesModel.getModel(["emphasis","itemStyle"]).getItemStyle(),blurStyle=seriesModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=seriesModel.getModel(["select","itemStyle"]).getItemStyle(),borderRadius=seriesModel.get(["itemStyle","borderRadius"]),labelStatesModels=(0,labelStyle/* getLabelStatesModels */.k3)(seriesModel),emphasisModel=seriesModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled"),dataDims=isCartesian2d?[data.mapDimension("x"),data.mapDimension("y"),data.mapDimension("value")]:[data.mapDimension("time"),data.mapDimension("value")],idx=start;idx<end;idx++){var rect=void 0,style=data.getItemVisual(idx,"style");if(isCartesian2d){var dataDimX=data.get(dataDims[0],idx),dataDimY=data.get(dataDims[1],idx);// Ignore empty data and out of extent data
if(isNaN(data.get(dataDims[2],idx))||isNaN(dataDimX)||isNaN(dataDimY)||dataDimX<xAxisExtent[0]||dataDimX>xAxisExtent[1]||dataDimY<yAxisExtent[0]||dataDimY>yAxisExtent[1])continue;var point=coordSys.dataToPoint([dataDimX,dataDimY]);rect=new Rect/* default */.Z({shape:{x:point[0]-width/2,y:point[1]-height/2,width:width,height:height},style:style})}else{
// Ignore empty data
if(isNaN(data.get(dataDims[1],idx)))continue;rect=new Rect/* default */.Z({z2:1,shape:coordSys.dataToRect([data.get(dataDims[0],idx)]).contentShape,style:style})}// Optimization for large dataset
if(data.hasItemOption){var itemModel=data.getItemModel(idx),emphasisModel_1=itemModel.getModel("emphasis");emphasisStyle=emphasisModel_1.getModel("itemStyle").getItemStyle(),blurStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),selectStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),// Each item value struct in the data would be firstly
// {
//     itemStyle: { borderRadius: [30, 30] },
//     value: [2022, 02, 22]
// }
borderRadius=itemModel.get(["itemStyle","borderRadius"]),focus=emphasisModel_1.get("focus"),blurScope=emphasisModel_1.get("blurScope"),emphasisDisabled=emphasisModel_1.get("disabled"),labelStatesModels=(0,labelStyle/* getLabelStatesModels */.k3)(itemModel)}rect.shape.r=borderRadius;var rawValue=seriesModel.getRawValue(idx),defaultText="-";rawValue&&null!=rawValue[2]&&(defaultText=rawValue[2]+""),(0,labelStyle/* setLabelStyle */.ni)(rect,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:idx,defaultOpacity:style.opacity,defaultText:defaultText}),rect.ensureState("emphasis").style=emphasisStyle,rect.ensureState("blur").style=blurStyle,rect.ensureState("select").style=selectStyle,(0,states/* toggleHoverEmphasis */.k5)(rect,focus,blurScope,emphasisDisabled),rect.incremental=incremental,// PENDING
incremental&&(
// Rect must use hover layer if it's incremental.
rect.states.emphasis.hoverLayer=!0),group.add(rect),data.setItemGraphicEl(idx,rect),this._progressiveEls&&this._progressiveEls.push(rect)}},HeatmapView.prototype._renderOnGeo=function(geo,seriesModel,visualMapModel,api){var inRangeVisuals=visualMapModel.targetVisuals.inRange,outOfRangeVisuals=visualMapModel.targetVisuals.outOfRange,data=seriesModel.getData(),hmLayer=this._hmLayer||this._hmLayer||new heatmap_HeatmapLayer;hmLayer.blurSize=seriesModel.get("blurSize"),hmLayer.pointSize=seriesModel.get("pointSize"),hmLayer.minOpacity=seriesModel.get("minOpacity"),hmLayer.maxOpacity=seriesModel.get("maxOpacity");var rect=geo.getViewRect().clone(),roamTransform=geo.getRoamTransform();rect.applyTransform(roamTransform);// Clamp on viewport
var x=Math.max(rect.x,0),y=Math.max(rect.y,0),x2=Math.min(rect.width+rect.x,api.getWidth()),y2=Math.min(rect.height+rect.y,api.getHeight()),width=x2-x,height=y2-y,dims=[data.mapDimension("lng"),data.mapDimension("lat"),data.mapDimension("value")],points=data.mapArray(dims,(function(lng,lat,value){var pt=geo.dataToPoint([lng,lat]);return pt[0]-=x,pt[1]-=y,pt.push(value),pt})),dataExtent=visualMapModel.getExtent(),isInRange="visualMap.continuous"===visualMapModel.type?getIsInContinuousRange(dataExtent,visualMapModel.option.range):getIsInPiecewiseRange(dataExtent,visualMapModel.getPieceList(),visualMapModel.option.selected);hmLayer.update(points,width,height,inRangeVisuals.color.getNormalizer(),{inRange:inRangeVisuals.color.getColorMapper(),outOfRange:outOfRangeVisuals.color.getColorMapper()},isInRange);var img=new Image/* default */.ZP({style:{width:width,height:height,x:x,y:y,image:hmLayer.canvas},silent:!0});this.group.add(img)},HeatmapView.type="heatmap",HeatmapView}(Chart/* default */.Z),heatmap_HeatmapView=HeatmapView,Series=__webpack_require__(993321),createSeriesData=__webpack_require__(635144),core_CoordinateSystem=__webpack_require__(854267),HeatmapSeriesModel=
/** @class */
function(_super){function HeatmapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=HeatmapSeriesModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(HeatmapSeriesModel,_super),HeatmapSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData/* default */.Z)(null,this,{generateCoord:"value"})},HeatmapSeriesModel.prototype.preventIncremental=function(){var coordSysCreator=core_CoordinateSystem/* default */.Z.get(this.get("coordinateSystem"));if(coordSysCreator&&coordSysCreator.dimensions)return"lng"===coordSysCreator.dimensions[0]&&"lat"===coordSysCreator.dimensions[1]},HeatmapSeriesModel.type="series.heatmap",HeatmapSeriesModel.dependencies=["grid","geo","calendar"],HeatmapSeriesModel.defaultOption={coordinateSystem:"cartesian2d",
// zlevel: 0,
z:2,
// Cartesian coordinate system
// xAxisIndex: 0,
// yAxisIndex: 0,
// Geo coordinate system
geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},HeatmapSeriesModel}(Series/* default */.Z),HeatmapSeries=HeatmapSeriesModel;
/* harmony default export */ // CONCATENATED MODULE: ./node_modules/echarts/lib/chart/heatmap/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerChartView(heatmap_HeatmapView),registers.registerSeriesModel(HeatmapSeries)}
/***/},
/***/766351:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(570655),_util_symbol_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(241525),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(944292),_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(38154),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30106),_util_states_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(726357),_labelHelper_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(33140),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(933051),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(336006),zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(744535),Symbol=
/** @class */
function(_super){function Symbol(data,idx,seriesScope,opts){var _this=_super.call(this)||this;return _this.updateData(data,idx,seriesScope,opts),_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(Symbol,_super),Symbol.prototype._createSymbol=function(symbolType,data,idx,symbolSize,keepAspect){
// Remove paths created before
this.removeAll();// let symbolPath = createSymbol(
//     symbolType, -0.5, -0.5, 1, 1, color
// );
// If width/height are set too small (e.g., set to 1) on ios10
// and macOS Sierra, a circle stroke become a rect, no matter what
// the scale is set. So we set width/height as 2. See #4150.
var symbolPath=(0,_util_symbol_js__WEBPACK_IMPORTED_MODULE_1__/* .createSymbol */.th)(symbolType,-1,-1,2,2,null,keepAspect);symbolPath.attr({z2:100,culling:!0,scaleX:symbolSize[0]/2,scaleY:symbolSize[1]/2}),// Rewrite drift method
symbolPath.drift=driftSymbol,this._symbolType=symbolType,this.add(symbolPath)},
/**
   * Stop animation
   * @param {boolean} toLastFrame
   */
Symbol.prototype.stopSymbolAnimation=function(toLastFrame){this.childAt(0).stopAnimation(null,toLastFrame)},Symbol.prototype.getSymbolType=function(){return this._symbolType},
/**
   * FIXME:
   * Caution: This method breaks the encapsulation of this module,
   * but it indeed brings convenience. So do not use the method
   * unless you detailedly know all the implements of `Symbol`,
   * especially animation.
   *
   * Get symbol path element.
   */
Symbol.prototype.getSymbolPath=function(){return this.childAt(0)},
/**
   * Highlight symbol
   */
Symbol.prototype.highlight=function(){(0,_util_states_js__WEBPACK_IMPORTED_MODULE_2__/* .enterEmphasis */.fD)(this.childAt(0))},
/**
   * Downplay symbol
   */
Symbol.prototype.downplay=function(){(0,_util_states_js__WEBPACK_IMPORTED_MODULE_2__/* .leaveEmphasis */.Mh)(this.childAt(0))},
/**
   * @param {number} zlevel
   * @param {number} z
   */
Symbol.prototype.setZ=function(zlevel,z){var symbolPath=this.childAt(0);symbolPath.zlevel=zlevel,symbolPath.z=z},Symbol.prototype.setDraggable=function(draggable,hasCursorOption){var symbolPath=this.childAt(0);symbolPath.draggable=draggable,symbolPath.cursor=!hasCursorOption&&draggable?"move":symbolPath.cursor},
/**
   * Update symbol properties
   */
Symbol.prototype.updateData=function(data,idx,seriesScope,opts){this.silent=!1;var symbolType=data.getItemVisual(idx,"symbol")||"circle",seriesModel=data.hostModel,symbolSize=Symbol.getSymbolSize(data,idx),isInit=symbolType!==this._symbolType,disableAnimation=opts&&opts.disableAnimation;if(isInit){var keepAspect=data.getItemVisual(idx,"symbolKeepAspect");this._createSymbol(symbolType,data,idx,symbolSize,keepAspect)}else{var symbolPath=this.childAt(0);symbolPath.silent=!1;var target={scaleX:symbolSize[0]/2,scaleY:symbolSize[1]/2};disableAnimation?symbolPath.attr(target):_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* .updateProps */.D(symbolPath,target,seriesModel,idx),(0,_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* .saveOldStyle */.Zi)(symbolPath)}if(this._updateCommon(data,idx,symbolSize,seriesScope,opts),isInit){symbolPath=this.childAt(0);if(!disableAnimation){target={scaleX:this._sizeX,scaleY:this._sizeY,style:{
// Always fadeIn. Because it has fadeOut animation when symbol is removed..
opacity:symbolPath.style.opacity}};symbolPath.scaleX=symbolPath.scaleY=0,symbolPath.style.opacity=0,_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* .initProps */.KZ(symbolPath,target,seriesModel,idx)}}disableAnimation&&
// Must stop leave transition manually if don't call initProps or updateProps.
this.childAt(0).stopAnimation("leave")},Symbol.prototype._updateCommon=function(data,idx,symbolSize,seriesScope,opts){var emphasisItemStyle,blurItemStyle,selectItemStyle,focus,blurScope,emphasisDisabled,labelStatesModels,hoverScale,cursorStyle,symbolPath=this.childAt(0),seriesModel=data.hostModel;if(seriesScope&&(emphasisItemStyle=seriesScope.emphasisItemStyle,blurItemStyle=seriesScope.blurItemStyle,selectItemStyle=seriesScope.selectItemStyle,focus=seriesScope.focus,blurScope=seriesScope.blurScope,labelStatesModels=seriesScope.labelStatesModels,hoverScale=seriesScope.hoverScale,cursorStyle=seriesScope.cursorStyle,emphasisDisabled=seriesScope.emphasisDisabled),!seriesScope||data.hasItemOption){var itemModel=seriesScope&&seriesScope.itemModel?seriesScope.itemModel:data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis");emphasisItemStyle=emphasisModel.getModel("itemStyle").getItemStyle(),selectItemStyle=itemModel.getModel(["select","itemStyle"]).getItemStyle(),blurItemStyle=itemModel.getModel(["blur","itemStyle"]).getItemStyle(),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled"),labelStatesModels=(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__/* .getLabelStatesModels */.k3)(itemModel),hoverScale=emphasisModel.getShallow("scale"),cursorStyle=itemModel.getShallow("cursor")}var symbolRotate=data.getItemVisual(idx,"symbolRotate");symbolPath.attr("rotation",(symbolRotate||0)*Math.PI/180||0);var symbolOffset=(0,_util_symbol_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeSymbolOffset */.Cq)(data.getItemVisual(idx,"symbolOffset"),symbolSize);symbolOffset&&(symbolPath.x=symbolOffset[0],symbolPath.y=symbolOffset[1]),cursorStyle&&symbolPath.attr("cursor",cursorStyle);var symbolStyle=data.getItemVisual(idx,"style"),visualColor=symbolStyle.fill;if(symbolPath instanceof zrender_lib_graphic_Image_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.ZP){var pathStyle=symbolPath.style;symbolPath.useStyle((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__/* .extend */.l7)({
// TODO other properties like x, y ?
image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},symbolStyle))}else symbolPath.__isEmptyBrush?
// fill and stroke will be swapped if it's empty.
// So we cloned a new style to avoid it affecting the original style in visual storage.
// TODO Better implementation. No empty logic!
symbolPath.useStyle((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_6__/* .extend */.l7)({},symbolStyle)):symbolPath.useStyle(symbolStyle),// Disable decal because symbol scale will been applied on the decal.
symbolPath.style.decal=null,symbolPath.setColor(visualColor,opts&&opts.symbolInnerColor),symbolPath.style.strokeNoScale=!0;var liftZ=data.getItemVisual(idx,"liftZ"),z2Origin=this._z2;null!=liftZ?null==z2Origin&&(this._z2=symbolPath.z2,symbolPath.z2+=liftZ):null!=z2Origin&&(symbolPath.z2=z2Origin,this._z2=null);var useNameLabel=opts&&opts.useNameLabel;// Do not execute util needed.
function getLabelDefaultText(idx){return useNameLabel?data.getName(idx):(0,_labelHelper_js__WEBPACK_IMPORTED_MODULE_7__/* .getDefaultLabel */.H)(data,idx)}(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__/* .setLabelStyle */.ni)(symbolPath,labelStatesModels,{labelFetcher:seriesModel,labelDataIndex:idx,defaultText:getLabelDefaultText,inheritColor:visualColor,defaultOpacity:symbolStyle.opacity}),this._sizeX=symbolSize[0]/2,this._sizeY=symbolSize[1]/2;var emphasisState=symbolPath.ensureState("emphasis");emphasisState.style=emphasisItemStyle,symbolPath.ensureState("select").style=selectItemStyle,symbolPath.ensureState("blur").style=blurItemStyle;// null / undefined / true means to use default strategy.
// 0 / false / negative number / NaN / Infinity means no scale.
var scaleRatio=null==hoverScale||!0===hoverScale?Math.max(1.1,3/this._sizeY):isFinite(hoverScale)&&hoverScale>0?+hoverScale:1;// always set scale to allow resetting
emphasisState.scaleX=this._sizeX*scaleRatio,emphasisState.scaleY=this._sizeY*scaleRatio,this.setSymbolScale(1),(0,_util_states_js__WEBPACK_IMPORTED_MODULE_2__/* .toggleHoverEmphasis */.k5)(this,focus,blurScope,emphasisDisabled)},Symbol.prototype.setSymbolScale=function(scale){this.scaleX=this.scaleY=scale},Symbol.prototype.fadeOut=function(cb,seriesModel,opt){var symbolPath=this.childAt(0),dataIndex=(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_8__/* .getECData */.A)(this).dataIndex,animationOpt=opt&&opt.animation;// Not show text when animating
if(// Avoid mistaken hover when fading out
this.silent=symbolPath.silent=!0,opt&&opt.fadeLabel){var textContent=symbolPath.getTextContent();textContent&&_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* .removeElement */.bX(textContent,{style:{opacity:0}},seriesModel,{dataIndex:dataIndex,removeOpt:animationOpt,cb:function(){symbolPath.removeTextContent()}})}else symbolPath.removeTextContent();_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* .removeElement */.bX(symbolPath,{style:{opacity:0},scaleX:0,scaleY:0},seriesModel,{dataIndex:dataIndex,cb:cb,removeOpt:animationOpt})},Symbol.getSymbolSize=function(data,idx){return(0,_util_symbol_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeSymbolSize */.zp)(data.getItemVisual(idx,"symbolSize"))},Symbol}(_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.Z);
/* harmony import */function driftSymbol(dx,dy){this.parent.drift(dx,dy)}
/* harmony default export */__webpack_exports__.Z=Symbol},
/***/168162:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(38154),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(944292),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(851177),_Symbol_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(766351),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(336006);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function symbolNeedsDraw(data,point,idx,opt){return point&&!isNaN(point[0])&&!isNaN(point[1])&&!(opt.isIgnore&&opt.isIgnore(idx))&&!(opt.clipShape&&!opt.clipShape.contain(point[0],point[1]))&&"none"!==data.getItemVisual(idx,"symbol")}function normalizeUpdateOpt(opt){return null==opt||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isObject */.Kn)(opt)||(opt={isIgnore:opt}),opt||{}}function makeSeriesScope(data){var seriesModel=data.hostModel,emphasisModel=seriesModel.getModel("emphasis");return{emphasisItemStyle:emphasisModel.getModel("itemStyle").getItemStyle(),blurItemStyle:seriesModel.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:seriesModel.getModel(["select","itemStyle"]).getItemStyle(),focus:emphasisModel.get("focus"),blurScope:emphasisModel.get("blurScope"),emphasisDisabled:emphasisModel.get("disabled"),hoverScale:emphasisModel.get("scale"),labelStatesModels:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_1__/* .getLabelStatesModels */.k3)(seriesModel),cursorStyle:seriesModel.get("cursor")}}var SymbolDraw=
/** @class */
function(){function SymbolDraw(SymbolCtor){this.group=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z,this._SymbolCtor=SymbolCtor||_Symbol_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z}
/**
   * Update symbols draw by new data
   */return SymbolDraw.prototype.updateData=function(data,opt){
// Remove progressive els.
this._progressiveEls=null,opt=normalizeUpdateOpt(opt);var group=this.group,seriesModel=data.hostModel,oldData=this._data,SymbolCtor=this._SymbolCtor,disableAnimation=opt.disableAnimation,seriesScope=makeSeriesScope(data),symbolUpdateOpt={disableAnimation:disableAnimation},getSymbolPoint=opt.getSymbolPoint||function(idx){return data.getItemLayout(idx)};// There is no oldLineData only when first rendering or switching from
// stream mode to normal mode, where previous elements should be removed.
oldData||group.removeAll(),data.diff(oldData).add((function(newIdx){var point=getSymbolPoint(newIdx);if(symbolNeedsDraw(data,point,newIdx,opt)){var symbolEl=new SymbolCtor(data,newIdx,seriesScope,symbolUpdateOpt);symbolEl.setPosition(point),data.setItemGraphicEl(newIdx,symbolEl),group.add(symbolEl)}})).update((function(newIdx,oldIdx){var symbolEl=oldData.getItemGraphicEl(oldIdx),point=getSymbolPoint(newIdx);if(symbolNeedsDraw(data,point,newIdx,opt)){var newSymbolType=data.getItemVisual(newIdx,"symbol")||"circle",oldSymbolType=symbolEl&&symbolEl.getSymbolType&&symbolEl.getSymbolType();if(!symbolEl||oldSymbolType&&oldSymbolType!==newSymbolType)group.remove(symbolEl),symbolEl=new SymbolCtor(data,newIdx,seriesScope,symbolUpdateOpt),symbolEl.setPosition(point);else{symbolEl.updateData(data,newIdx,seriesScope,symbolUpdateOpt);var target={x:point[0],y:point[1]};disableAnimation?symbolEl.attr(target):_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* .updateProps */.D(symbolEl,target,seriesModel)}// Add back
group.add(symbolEl),data.setItemGraphicEl(newIdx,symbolEl)}else group.remove(symbolEl)})).remove((function(oldIdx){var el=oldData.getItemGraphicEl(oldIdx);el&&el.fadeOut((function(){group.remove(el)}),seriesModel)})).execute(),this._getSymbolPoint=getSymbolPoint,this._data=data},SymbolDraw.prototype.updateLayout=function(){var _this=this,data=this._data;data&&
// Not use animation
data.eachItemGraphicEl((function(el,idx){var point=_this._getSymbolPoint(idx);el.setPosition(point),el.markRedraw()}))},SymbolDraw.prototype.incrementalPrepareUpdate=function(data){this._seriesScope=makeSeriesScope(data),this._data=null,this.group.removeAll()},
/**
   * Update symbols draw by new data
   */
SymbolDraw.prototype.incrementalUpdate=function(taskParams,data,opt){function updateIncrementalAndHover(el){el.isGroup||(el.incremental=!0,el.ensureState("emphasis").hoverLayer=!0)}
// Clear
this._progressiveEls=[],opt=normalizeUpdateOpt(opt);for(var idx=taskParams.start;idx<taskParams.end;idx++){var point=data.getItemLayout(idx);if(symbolNeedsDraw(data,point,idx,opt)){var el=new this._SymbolCtor(data,idx,this._seriesScope);el.traverse(updateIncrementalAndHover),el.setPosition(point),this.group.add(el),data.setItemGraphicEl(idx,el),this._progressiveEls.push(el)}}},SymbolDraw.prototype.eachRendered=function(cb){_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.traverseElements(this._progressiveEls||this.group,cb)},SymbolDraw.prototype.remove=function(enableAnimation){var group=this.group,data=this._data;// Incremental model do not have this._data.
data&&enableAnimation?data.eachItemGraphicEl((function(el){el.fadeOut((function(){group.remove(el)}),data.hostModel)})):group.removeAll()},SymbolDraw}();
/* harmony default export */__webpack_exports__.Z=SymbolDraw},
/***/122963:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */ID:function(){/* binding */return createGridClipPath},
/* harmony export */X0:function(){/* binding */return createPolarClipPath},
/* harmony export */lQ:function(){/* binding */return createClipPath}
/* harmony export */});
/* harmony import */var _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(25293),_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(944292),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(497782),_util_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(785669),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function createGridClipPath(cartesian,hasAnimation,seriesModel,done,during){var rect=cartesian.getArea(),x=rect.x,y=rect.y,width=rect.width,height=rect.height,lineWidth=seriesModel.get(["lineStyle","width"])||2;// Expand the clip path a bit to avoid the border is clipped and looks thinner
x-=lineWidth/2,y-=lineWidth/2,width+=lineWidth,height+=lineWidth,// fix: https://github.com/apache/incubator-echarts/issues/11369
x=Math.floor(x),width=Math.round(width);var clipPath=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z({shape:{x:x,y:y,width:width,height:height}});if(hasAnimation){var baseAxis=cartesian.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isAxisInversed=baseAxis.inverse;isHorizontal?(isAxisInversed&&(clipPath.shape.x+=width),clipPath.shape.width=0):(isAxisInversed||(clipPath.shape.y+=height),clipPath.shape.height=0);var duringCb=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(during)?function(percent){during(percent,clipPath)}:null;_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__/* .initProps */.KZ(clipPath,{shape:{width:width,height:height,x:x,y:y}},seriesModel,null,done,duringCb)}return clipPath}function createPolarClipPath(polar,hasAnimation,seriesModel){var sectorArea=polar.getArea(),r0=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__/* .round */.NM)(sectorArea.r0,1),r=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__/* .round */.NM)(sectorArea.r,1),clipPath=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.C({shape:{cx:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__/* .round */.NM)(polar.cx,1),cy:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_3__/* .round */.NM)(polar.cy,1),r0:r0,r:r,startAngle:sectorArea.startAngle,endAngle:sectorArea.endAngle,clockwise:sectorArea.clockwise}});// Avoid float number rounding error for symbol on the edge of axis extent.
if(hasAnimation){var isRadial="angle"===polar.getBaseAxis().dim;isRadial?clipPath.shape.endAngle=sectorArea.startAngle:clipPath.shape.r=r0,_util_graphic_js__WEBPACK_IMPORTED_MODULE_2__/* .initProps */.KZ(clipPath,{shape:{endAngle:sectorArea.endAngle,r:r}},seriesModel)}return clipPath}function createClipPath(coordSys,hasAnimation,seriesModel,done,during){return coordSys?"polar"===coordSys.type?createPolarClipPath(coordSys,hasAnimation,seriesModel):"cartesian2d"===coordSys.type?createGridClipPath(coordSys,hasAnimation,seriesModel,done,during):null:null}
/***/},
/***/95682:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return createRenderPlanner}
/* harmony export */});
/* harmony import */var _util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234);
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * @return {string} If large mode changed, return string 'reset';
 */function createRenderPlanner(){var inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)();return function(seriesModel){var fields=inner(seriesModel),pipelineContext=seriesModel.pipelineContext,originalLarge=!!fields.large,originalProgressive=!!fields.progressiveRender,large=fields.large=!(!pipelineContext||!pipelineContext.large),progressive=fields.progressiveRender=!(!pipelineContext||!pipelineContext.progressiveRender);return!(originalLarge===large&&originalProgressive===progressive)&&"reset"}}
/***/},
/***/635144:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_data_SeriesData_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(305101),_data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(555623),_data_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(810381),_util_model_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(232234),_core_CoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(854267),_model_referHelper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32702),_data_Source_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(899574),_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(599936),_data_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(161772),_util_types_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(894279);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function getCoordSysDimDefs(seriesModel,coordSysInfo){var coordSysDimDefs,coordSysName=seriesModel.get("coordinateSystem"),registeredCoordSys=_core_CoordinateSystem_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z.get(coordSysName);return coordSysInfo&&coordSysInfo.coordSysDims&&(coordSysDimDefs=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI(coordSysInfo.coordSysDims,(function(dim){var dimInfo={name:dim},axisModel=coordSysInfo.axisMap.get(dim);if(axisModel){var axisType=axisModel.get("type");dimInfo.type=(0,_data_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .getDimensionTypeByAxis */.T)(axisType)}return dimInfo}))),coordSysDimDefs||(
// Get dimensions from registered coordinate system
coordSysDimDefs=registeredCoordSys&&(registeredCoordSys.getDimensionsInfo?registeredCoordSys.getDimensionsInfo():registeredCoordSys.dimensions.slice())||["x","y"]),coordSysDimDefs}function injectOrdinalMeta(dimInfoList,createInvertedIndices,coordSysInfo){var firstCategoryDimIndex,hasNameEncode;return coordSysInfo&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6(dimInfoList,(function(dimInfo,dimIndex){var coordDim=dimInfo.coordDim,categoryAxisModel=coordSysInfo.categoryAxisMap.get(coordDim);categoryAxisModel&&(null==firstCategoryDimIndex&&(firstCategoryDimIndex=dimIndex),dimInfo.ordinalMeta=categoryAxisModel.getOrdinalMeta(),createInvertedIndices&&(dimInfo.createInvertedIndices=!0)),null!=dimInfo.otherDims.itemName&&(hasNameEncode=!0)})),hasNameEncode||null==firstCategoryDimIndex||(dimInfoList[firstCategoryDimIndex].otherDims.itemName=0),firstCategoryDimIndex}
/**
 * Caution: there are side effects to `sourceManager` in this method.
 * Should better only be called in `Series['getInitialData']`.
 */function createSeriesData(sourceRaw,seriesModel,opt){opt=opt||{};var source,sourceManager=seriesModel.getSourceManager(),isOriginalSource=!1;sourceRaw?(isOriginalSource=!0,source=(0,_data_Source_js__WEBPACK_IMPORTED_MODULE_3__/* .createSourceFromSeriesDataOption */.nx)(sourceRaw)):(source=sourceManager.getSource(),// Is series.data. not dataset.
isOriginalSource=source.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_4__/* .SOURCE_FORMAT_ORIGINAL */.cy);var coordSysInfo=(0,_model_referHelper_js__WEBPACK_IMPORTED_MODULE_5__/* .getCoordSysInfoBySeries */.b)(seriesModel),coordSysDimDefs=getCoordSysDimDefs(seriesModel,coordSysInfo),useEncodeDefaulter=opt.useEncodeDefaulter,encodeDefaulter=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf(useEncodeDefaulter)?useEncodeDefaulter:useEncodeDefaulter?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .curry */.WA(_data_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .makeSeriesEncodeForAxisCoordSys */.pY,coordSysDimDefs,seriesModel):null,createDimensionOptions={coordDimensions:coordSysDimDefs,generateCoord:opt.generateCoord,encodeDefine:seriesModel.getEncode(),encodeDefaulter:encodeDefaulter,canOmitUnusedDimensions:!isOriginalSource},schema=(0,_data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z)(source,createDimensionOptions),firstCategoryDimIndex=injectOrdinalMeta(schema.dimensions,opt.createInvertedIndices,coordSysInfo),store=isOriginalSource?null:sourceManager.getSharedDataStore(schema),stackCalculationInfo=(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_8__/* .enableDataStack */.BM)(seriesModel,{schema:schema,store:store}),data=new _data_SeriesData_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.Z(schema,seriesModel);data.setCalculationInfo(stackCalculationInfo);var dimValueGetter=null!=firstCategoryDimIndex&&isNeedCompleteOrdinalData(source)?function(itemOpt,dimName,dataIndex,dimIndex){
// Use dataIndex as ordinal value in categoryAxis
return dimIndex===firstCategoryDimIndex?dataIndex:this.defaultDimValueGetter(itemOpt,dimName,dataIndex,dimIndex)}:null;return data.hasItemOption=!1,data.initData(// Try to reuse the data store in sourceManager if using dataset.
isOriginalSource?source:store,null,dimValueGetter),data}function isNeedCompleteOrdinalData(source){if(source.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_4__/* .SOURCE_FORMAT_ORIGINAL */.cy){var sampleItem=firstDataNotNull(source.data||[]);return!zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ((0,_util_model_js__WEBPACK_IMPORTED_MODULE_10__/* .getDataItemValue */.C4)(sampleItem))}}function firstDataNotNull(arr){var i=0;while(i<arr.length&&null==arr[i])i++;return arr[i]}
/* harmony default export */__webpack_exports__.Z=createSeriesData},
/***/30090:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return createSeriesDataSimply}
/* harmony export */});
/* harmony import */var _data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(555623),_data_SeriesData_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(305101),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * [Usage]:
 * (1)
 * createListSimply(seriesModel, ['value']);
 * (2)
 * createListSimply(seriesModel, {
 *     coordDimensions: ['value'],
 *     dimensionsCount: 5
 * });
 */
function createSeriesDataSimply(seriesModel,opt,nameList){opt=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(opt)&&{coordDimensions:opt}||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7)({encodeDefine:seriesModel.getEncode()},opt);var source=seriesModel.getSource(),dimensions=(0,_data_helper_createDimensions_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */.Z)(source,opt).dimensions,list=new _data_SeriesData_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z(dimensions,seriesModel);return list.initData(source,nameList),list}
/***/},
/***/33140:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */H:function(){/* binding */return getDefaultLabel},
/* harmony export */O:function(){/* binding */return getDefaultInterpolatedLabel}
/* harmony export */});
/* harmony import */var _data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(668540),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * @return label string. Not null/undefined
 */
function getDefaultLabel(data,dataIndex){var labelDims=data.mapDimensionsAll("defaultedLabel"),len=labelDims.length;// Simple optimization (in lots of cases, label dims length is 1)
if(1===len){var rawVal=(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieveRawValue */.hk)(data,dataIndex,labelDims[0]);return null!=rawVal?rawVal+"":null}if(len){for(var vals=[],i=0;i<labelDims.length;i++)vals.push((0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieveRawValue */.hk)(data,dataIndex,labelDims[i]));return vals.join(" ")}}function getDefaultInterpolatedLabel(data,interpolatedValue){var labelDims=data.mapDimensionsAll("defaultedLabel");if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(interpolatedValue))return interpolatedValue+"";for(var vals=[],i=0;i<labelDims.length;i++){var dimIndex=data.getDimensionIndex(labelDims[i]);dimIndex>=0&&vals.push(interpolatedValue[dimIndex])}return vals.join(" ")}
/***/},
/***/921249:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */T:function(){/* binding */return getSectorCornerRadius}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(780423);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function getSectorCornerRadius(model,shape,zeroIfNull){var cornerRadius=model.get("borderRadius");if(null==cornerRadius)return zeroIfNull?{cornerRadius:0}:null;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(cornerRadius)||(cornerRadius=[cornerRadius,cornerRadius,cornerRadius,cornerRadius]);var dr=Math.abs(shape.r||0-shape.r0||0);return{cornerRadius:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)(cornerRadius,(function(cr){return(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(cr,dr)}))}}
/***/},
/***/739269:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),createSeriesData=__webpack_require__(635144),Series=__webpack_require__(993321),util_symbol=__webpack_require__(241525),Group=__webpack_require__(38154),LineSeriesModel=
/** @class */
function(_super){function LineSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LineSeriesModel.type,_this.hasSymbolVisual=!0,_this}return(0,tslib_es6/* __extends */.ZT)(LineSeriesModel,_super),LineSeriesModel.prototype.getInitialData=function(option){return(0,createSeriesData/* default */.Z)(null,this,{useEncodeDefaulter:!0})},LineSeriesModel.prototype.getLegendIcon=function(opt){var group=new Group/* default */.Z,line=(0,util_symbol/* createSymbol */.th)("line",0,opt.itemHeight/2,opt.itemWidth,0,opt.lineStyle.stroke,!1);group.add(line),line.setStyle(opt.lineStyle);var visualType=this.getData().getVisual("symbol"),visualRotate=this.getData().getVisual("symbolRotate"),symbolType="none"===visualType?"circle":visualType,size=.8*opt.itemHeight,symbol=(0,util_symbol/* createSymbol */.th)(symbolType,(opt.itemWidth-size)/2,(opt.itemHeight-size)/2,size,size,opt.itemStyle.fill);group.add(symbol),symbol.setStyle(opt.itemStyle);var symbolRotate="inherit"===opt.iconRotate?visualRotate:opt.iconRotate||0;return symbol.rotation=symbolRotate*Math.PI/180,symbol.setOrigin([opt.itemWidth/2,opt.itemHeight/2]),symbolType.indexOf("empty")>-1&&(symbol.style.stroke=symbol.style.fill,symbol.style.fill="#fff",symbol.style.lineWidth=2),group},LineSeriesModel.type="series.line",LineSeriesModel.dependencies=["grid","polar"],LineSeriesModel.defaultOption={
// zlevel: 0,
z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},
// itemStyle: {
// },
endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},
// areaStyle: {
// origin of areaStyle. Valid values:
// `'auto'/null/undefined`: from axisLine to data
// `'start'`: from min to data
// `'end'`: from data to max
// origin: 'auto'
// },
// false, 'start', 'end', 'middle'
step:!1,
// Disabled if step is true
smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,
// `false`: follow the label interval strategy.
// `true`: show all symbols.
// `'auto'`: If possible, show all symbols, otherwise
//           follow the label interval strategy.
showAllSymbol:"auto",
// Whether to connect break point.
connectNulls:!1,
// Sampling for large data. Can be: 'average', 'max', 'min', 'sum', 'lttb'.
sampling:"none",animationEasing:"linear",
// Disable progressive
progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},LineSeriesModel}(Series/* default */.Z),LineSeries=LineSeriesModel,util=__webpack_require__(933051),SymbolDraw=__webpack_require__(168162),Symbol=__webpack_require__(766351),dataStackHelper=__webpack_require__(599936);
// EXTERNAL MODULE: ./node_modules/echarts/lib/chart/helper/createSeriesData.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/line/helper.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function prepareDataCoordInfo(coordSys,data,valueOrigin){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),valueStart=getValueStart(valueAxis,valueOrigin),baseAxisDim=baseAxis.dim,valueAxisDim=valueAxis.dim,valueDim=data.mapDimension(valueAxisDim),baseDim=data.mapDimension(baseAxisDim),baseDataOffset="x"===valueAxisDim||"radius"===valueAxisDim?1:0,dims=(0,util/* map */.UI)(coordSys.dimensions,(function(coordDim){return data.mapDimension(coordDim)})),stacked=!1,stackResultDim=data.getCalculationInfo("stackResultDimension");return(0,dataStackHelper/* isDimensionStacked */.M)(data,dims[0]
/* , dims[1] */)&&(
// jshint ignore:line
stacked=!0,dims[0]=stackResultDim),(0,dataStackHelper/* isDimensionStacked */.M)(data,dims[1]
/* , dims[0] */)&&(
// jshint ignore:line
stacked=!0,dims[1]=stackResultDim),{dataDimsForPoint:dims,valueStart:valueStart,valueAxisDim:valueAxisDim,baseAxisDim:baseAxisDim,stacked:!!stacked,valueDim:valueDim,baseDim:baseDim,baseDataOffset:baseDataOffset,stackedOverDimension:data.getCalculationInfo("stackedOverDimension")}}function getValueStart(valueAxis,valueOrigin){var valueStart=0,extent=valueAxis.scale.getExtent();return"start"===valueOrigin?valueStart=extent[0]:"end"===valueOrigin?valueStart=extent[1]:(0,util/* isNumber */.hj)(valueOrigin)&&!isNaN(valueOrigin)?valueStart=valueOrigin:
// Both positive
extent[0]>0?valueStart=extent[0]:extent[1]<0&&(valueStart=extent[1]),valueStart}function getStackedOnPoint(dataCoordInfo,coordSys,data,idx){var value=NaN;dataCoordInfo.stacked&&(value=data.get(data.getCalculationInfo("stackedOverDimension"),idx)),isNaN(value)&&(value=dataCoordInfo.valueStart);var baseDataOffset=dataCoordInfo.baseDataOffset,stackedData=[];return stackedData[baseDataOffset]=data.get(dataCoordInfo.baseDim,idx),stackedData[1-baseDataOffset]=value,coordSys.dataToPoint(stackedData)}
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/vendor.js
var vendor=__webpack_require__(980887);// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/line/lineAnimationDiff.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function diffData(oldData,newData){var diffResult=[];return newData.diff(oldData).add((function(idx){diffResult.push({cmd:"+",idx:idx})})).update((function(newIdx,oldIdx){diffResult.push({cmd:"=",idx:oldIdx,idx1:newIdx})})).remove((function(idx){diffResult.push({cmd:"-",idx:idx})})).execute(),diffResult}function lineAnimationDiff(oldData,newData,oldStackedOnPoints,newStackedOnPoints,oldCoordSys,newCoordSys,oldValueOrigin,newValueOrigin){for(var diff=diffData(oldData,newData),currPoints=[],nextPoints=[],currStackedPoints=[],nextStackedPoints=[],status=[],sortedIndices=[],rawIndices=[],newDataOldCoordInfo=prepareDataCoordInfo(oldCoordSys,newData,oldValueOrigin),oldPoints=oldData.getLayout("points")||[],newPoints=newData.getLayout("points")||[],i=0// let newIdList = newData.mapArray(newData.getId);
// let oldIdList = oldData.mapArray(oldData.getId);
// convertToIntId(newIdList, oldIdList);
// // FIXME One data ?
// diff = arrayDiff(oldIdList, newIdList);
;i<diff.length;i++){var diffItem=diff[i],pointAdded=!0,oldIdx2=void 0,newIdx2=void 0;// FIXME, animation is not so perfect when dataZoom window moves fast
// Which is in case remvoing or add more than one data in the tail or head
switch(diffItem.cmd){case"=":oldIdx2=2*diffItem.idx,newIdx2=2*diffItem.idx1;var currentX=oldPoints[oldIdx2],currentY=oldPoints[oldIdx2+1],nextX=newPoints[newIdx2],nextY=newPoints[newIdx2+1];// If previous data is NaN, use next point directly
(isNaN(currentX)||isNaN(currentY))&&(currentX=nextX,currentY=nextY),currPoints.push(currentX,currentY),nextPoints.push(nextX,nextY),currStackedPoints.push(oldStackedOnPoints[oldIdx2],oldStackedOnPoints[oldIdx2+1]),nextStackedPoints.push(newStackedOnPoints[newIdx2],newStackedOnPoints[newIdx2+1]),rawIndices.push(newData.getRawIndex(diffItem.idx1));break;case"+":var newIdx=diffItem.idx,newDataDimsForPoint=newDataOldCoordInfo.dataDimsForPoint,oldPt=oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0],newIdx),newData.get(newDataDimsForPoint[1],newIdx)]);newIdx2=2*newIdx,currPoints.push(oldPt[0],oldPt[1]),nextPoints.push(newPoints[newIdx2],newPoints[newIdx2+1]);var stackedOnPoint=getStackedOnPoint(newDataOldCoordInfo,oldCoordSys,newData,newIdx);currStackedPoints.push(stackedOnPoint[0],stackedOnPoint[1]),nextStackedPoints.push(newStackedOnPoints[newIdx2],newStackedOnPoints[newIdx2+1]),rawIndices.push(newData.getRawIndex(newIdx));break;case"-":pointAdded=!1}// Original indices
pointAdded&&(status.push(diffItem),sortedIndices.push(sortedIndices.length))}// Diff result may be crossed if all items are changed
// Sort by data index
sortedIndices.sort((function(a,b){return rawIndices[a]-rawIndices[b]}));var len=currPoints.length,sortedCurrPoints=(0,vendor/* createFloat32Array */.o)(len),sortedNextPoints=(0,vendor/* createFloat32Array */.o)(len),sortedCurrStackedPoints=(0,vendor/* createFloat32Array */.o)(len),sortedNextStackedPoints=(0,vendor/* createFloat32Array */.o)(len),sortedStatus=[];for(i=0;i<sortedIndices.length;i++){var idx=sortedIndices[i],i2=2*i,idx2=2*idx;sortedCurrPoints[i2]=currPoints[idx2],sortedCurrPoints[i2+1]=currPoints[idx2+1],sortedNextPoints[i2]=nextPoints[idx2],sortedNextPoints[i2+1]=nextPoints[idx2+1],sortedCurrStackedPoints[i2]=currStackedPoints[idx2],sortedCurrStackedPoints[i2+1]=currStackedPoints[idx2+1],sortedNextStackedPoints[i2]=nextStackedPoints[idx2],sortedNextStackedPoints[i2+1]=nextStackedPoints[idx2+1],sortedStatus[i]=status[idx]}return{current:sortedCurrPoints,next:sortedNextPoints,stackedOnCurrent:sortedCurrStackedPoints,stackedOnNext:sortedNextStackedPoints,status:sortedStatus}}
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/LinearGradient.js
var LinearGradient=__webpack_require__(574438),basicTransition=__webpack_require__(944292),Text=__webpack_require__(679750),model=__webpack_require__(232234),Path=__webpack_require__(696997),PathProxy=__webpack_require__(714014),curve=__webpack_require__(318554),mathMin=Math.min,mathMax=Math.max;
// EXTERNAL MODULE: ./node_modules/echarts/lib/animation/basicTransition.js
function isPointNull(x,y){return isNaN(x)||isNaN(y)}
/**
 * Draw smoothed line in non-monotone, in may cause undesired curve in extreme
 * situations. This should be used when points are non-monotone neither in x or
 * y dimension.
 */function drawSegment(ctx,points,start,segLen,allLen,dir,smooth,smoothMonotone,connectNulls){for(var prevX,prevY,cpx0,cpy0,cpx1,cpy1,idx=start,k=0;k<segLen;k++){var x=points[2*idx],y=points[2*idx+1];if(idx>=allLen||idx<0)break;if(isPointNull(x,y)){if(connectNulls){idx+=dir;continue}break}if(idx===start)ctx[dir>0?"moveTo":"lineTo"](x,y),cpx0=x,cpy0=y;else{var dx=x-prevX,dy=y-prevY;// Ignore tiny segment.
if(dx*dx+dy*dy<.5){idx+=dir;continue}if(smooth>0){var nextIdx=idx+dir,nextX=points[2*nextIdx],nextY=points[2*nextIdx+1];// Ignore duplicate point
while(nextX===x&&nextY===y&&k<segLen)k++,nextIdx+=dir,idx+=dir,nextX=points[2*nextIdx],nextY=points[2*nextIdx+1],x=points[2*idx],y=points[2*idx+1],dx=x-prevX,dy=y-prevY;var tmpK=k+1;if(connectNulls)
// Find next point not null
while(isPointNull(nextX,nextY)&&tmpK<segLen)tmpK++,nextIdx+=dir,nextX=points[2*nextIdx],nextY=points[2*nextIdx+1];var ratioNextSeg=.5,vx=0,vy=0,nextCpx0=void 0,nextCpy0=void 0;// Is last point
if(tmpK>=segLen||isPointNull(nextX,nextY))cpx1=x,cpy1=y;else{vx=nextX-prevX,vy=nextY-prevY;var dx0=x-prevX,dx1=nextX-x,dy0=y-prevY,dy1=nextY-y,lenPrevSeg=void 0,lenNextSeg=void 0;if("x"===smoothMonotone){lenPrevSeg=Math.abs(dx0),lenNextSeg=Math.abs(dx1);var dir_1=vx>0?1:-1;cpx1=x-dir_1*lenPrevSeg*smooth,cpy1=y,nextCpx0=x+dir_1*lenNextSeg*smooth,nextCpy0=y}else if("y"===smoothMonotone){lenPrevSeg=Math.abs(dy0),lenNextSeg=Math.abs(dy1);var dir_2=vy>0?1:-1;cpx1=x,cpy1=y-dir_2*lenPrevSeg*smooth,nextCpx0=x,nextCpy0=y+dir_2*lenNextSeg*smooth}else lenPrevSeg=Math.sqrt(dx0*dx0+dy0*dy0),lenNextSeg=Math.sqrt(dx1*dx1+dy1*dy1),// Use ratio of seg length
ratioNextSeg=lenNextSeg/(lenNextSeg+lenPrevSeg),cpx1=x-vx*smooth*(1-ratioNextSeg),cpy1=y-vy*smooth*(1-ratioNextSeg),// cp0 of next segment
nextCpx0=x+vx*smooth*ratioNextSeg,nextCpy0=y+vy*smooth*ratioNextSeg,// Smooth constraint between point and next point.
// Avoid exceeding extreme after smoothing.
nextCpx0=mathMin(nextCpx0,mathMax(nextX,x)),nextCpy0=mathMin(nextCpy0,mathMax(nextY,y)),nextCpx0=mathMax(nextCpx0,mathMin(nextX,x)),nextCpy0=mathMax(nextCpy0,mathMin(nextY,y)),// Reclaculate cp1 based on the adjusted cp0 of next seg.
vx=nextCpx0-x,vy=nextCpy0-y,cpx1=x-vx*lenPrevSeg/lenNextSeg,cpy1=y-vy*lenPrevSeg/lenNextSeg,// Smooth constraint between point and prev point.
// Avoid exceeding extreme after smoothing.
cpx1=mathMin(cpx1,mathMax(prevX,x)),cpy1=mathMin(cpy1,mathMax(prevY,y)),cpx1=mathMax(cpx1,mathMin(prevX,x)),cpy1=mathMax(cpy1,mathMin(prevY,y)),// Adjust next cp0 again.
vx=x-cpx1,vy=y-cpy1,nextCpx0=x+vx*lenNextSeg/lenPrevSeg,nextCpy0=y+vy*lenNextSeg/lenPrevSeg}ctx.bezierCurveTo(cpx0,cpy0,cpx1,cpy1,x,y),cpx0=nextCpx0,cpy0=nextCpy0}else ctx.lineTo(x,y)}prevX=x,prevY=y,idx+=dir}return k}var ECPolylineShape=
/** @class */
function(){function ECPolylineShape(){this.smooth=0,this.smoothConstraint=!0}return ECPolylineShape}(),ECPolyline=
/** @class */
function(_super){function ECPolyline(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-polyline",_this}return(0,tslib_es6/* __extends */.ZT)(ECPolyline,_super),ECPolyline.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},ECPolyline.prototype.getDefaultShape=function(){return new ECPolylineShape},ECPolyline.prototype.buildPath=function(ctx,shape){var points=shape.points,i=0,len=points.length/2;// const result = getBoundingBox(points, shape.smoothConstraint);
if(shape.connectNulls){
// Must remove first and last null values avoid draw error in polygon
for(;len>0;len--)if(!isPointNull(points[2*len-2],points[2*len-1]))break;for(;i<len;i++)if(!isPointNull(points[2*i],points[2*i+1]))break}while(i<len)i+=drawSegment(ctx,points,i,len,len,1,shape.smooth,shape.smoothMonotone,shape.connectNulls)+1},ECPolyline.prototype.getPointOn=function(xOrY,dim){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var x0,y0,path=this.path,data=path.data,CMD=PathProxy/* default */.Z.CMD,isDimX="x"===dim,roots=[],i=0;i<data.length;){var cmd=data[i++],x=void 0,y=void 0,x2=void 0,y2=void 0,x3=void 0,y3=void 0,t=void 0;switch(cmd){case CMD.M:x0=data[i++],y0=data[i++];break;case CMD.L:if(x=data[i++],y=data[i++],t=isDimX?(xOrY-x0)/(x-x0):(xOrY-y0)/(y-y0),t<=1&&t>=0){var val=isDimX?(y-y0)*t+y0:(x-x0)*t+x0;return isDimX?[xOrY,val]:[val,xOrY]}x0=x,y0=y;break;case CMD.C:x=data[i++],y=data[i++],x2=data[i++],y2=data[i++],x3=data[i++],y3=data[i++];var nRoot=isDimX?(0,curve/* cubicRootAt */.kD)(x0,x,x2,x3,xOrY,roots):(0,curve/* cubicRootAt */.kD)(y0,y,y2,y3,xOrY,roots);if(nRoot>0)for(var i_1=0;i_1<nRoot;i_1++){var t_1=roots[i_1];if(t_1<=1&&t_1>=0){val=isDimX?(0,curve/* cubicAt */.af)(y0,y,y2,y3,t_1):(0,curve/* cubicAt */.af)(x0,x,x2,x3,t_1);return isDimX?[xOrY,val]:[val,xOrY]}}x0=x3,y0=y3;break}}},ECPolyline}(Path/* default */.ZP),ECPolygonShape=
/** @class */
function(_super){function ECPolygonShape(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(ECPolygonShape,_super),ECPolygonShape}(ECPolylineShape),ECPolygon=
/** @class */
function(_super){function ECPolygon(opts){var _this=_super.call(this,opts)||this;return _this.type="ec-polygon",_this}return(0,tslib_es6/* __extends */.ZT)(ECPolygon,_super),ECPolygon.prototype.getDefaultShape=function(){return new ECPolygonShape},ECPolygon.prototype.buildPath=function(ctx,shape){var points=shape.points,stackedOnPoints=shape.stackedOnPoints,i=0,len=points.length/2,smoothMonotone=shape.smoothMonotone;if(shape.connectNulls){
// Must remove first and last null values avoid draw error in polygon
for(;len>0;len--)if(!isPointNull(points[2*len-2],points[2*len-1]))break;for(;i<len;i++)if(!isPointNull(points[2*i],points[2*i+1]))break}while(i<len){var k=drawSegment(ctx,points,i,len,len,1,shape.smooth,smoothMonotone,shape.connectNulls);drawSegment(ctx,stackedOnPoints,i+k-1,k,len,-1,shape.stackedOnSmooth,smoothMonotone,shape.connectNulls),i+=k+1,ctx.closePath()}},ECPolygon}(Path/* default */.ZP),Chart=__webpack_require__(975797),createClipPathFromCoordSys=__webpack_require__(122963),CoordinateSystem=__webpack_require__(31073),states=__webpack_require__(726357),labelStyle=__webpack_require__(336006),labelHelper=__webpack_require__(33140),innerStore=__webpack_require__(30106),format=__webpack_require__(578988),tool_color=__webpack_require__(321092);// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/line/LineView.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// FIXME step not support polar
function isPointsSame(points1,points2){if(points1.length===points2.length){for(var i=0;i<points1.length;i++)if(points1[i]!==points2[i])return;return!0}}function bboxFromPoints(points){for(var minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||(minX=Math.min(x,minX),maxX=Math.max(x,maxX)),isNaN(y)||(minY=Math.min(y,minY),maxY=Math.max(y,maxY))}return[[minX,minY],[maxX,maxY]]}function getBoundingDiff(points1,points2){var _a=bboxFromPoints(points1),min1=_a[0],max1=_a[1],_b=bboxFromPoints(points2),min2=_b[0],max2=_b[1];// Get a max value from each corner of two boundings.
return Math.max(Math.abs(min1[0]-min2[0]),Math.abs(min1[1]-min2[1]),Math.abs(max1[0]-max2[0]),Math.abs(max1[1]-max2[1]))}function getSmooth(smooth){return util/* isNumber */.hj(smooth)?smooth:smooth?.5:0}function getStackedOnPoints(coordSys,data,dataCoordInfo){if(!dataCoordInfo.valueDim)return[];for(var len=data.count(),points=(0,vendor/* createFloat32Array */.o)(2*len),idx=0;idx<len;idx++){var pt=getStackedOnPoint(dataCoordInfo,coordSys,data,idx);points[2*idx]=pt[0],points[2*idx+1]=pt[1]}return points}function turnPointsIntoStep(points,coordSys,stepTurnAt,connectNulls){var baseAxis=coordSys.getBaseAxis(),baseIndex="x"===baseAxis.dim||"radius"===baseAxis.dim?0:1,stepPoints=[],i=0,stepPt=[],pt=[],nextPt=[],filteredPoints=[];if(connectNulls){for(i=0;i<points.length;i+=2)isNaN(points[i])||isNaN(points[i+1])||filteredPoints.push(points[i],points[i+1]);points=filteredPoints}for(i=0;i<points.length-2;i+=2)switch(nextPt[0]=points[i+2],nextPt[1]=points[i+3],pt[0]=points[i],pt[1]=points[i+1],stepPoints.push(pt[0],pt[1]),stepTurnAt){case"end":stepPt[baseIndex]=nextPt[baseIndex],stepPt[1-baseIndex]=pt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1]);break;case"middle":var middle=(pt[baseIndex]+nextPt[baseIndex])/2,stepPt2=[];stepPt[baseIndex]=stepPt2[baseIndex]=middle,stepPt[1-baseIndex]=pt[1-baseIndex],stepPt2[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1]),stepPoints.push(stepPt2[0],stepPt2[1]);break;default:
// default is start
stepPt[baseIndex]=pt[baseIndex],stepPt[1-baseIndex]=nextPt[1-baseIndex],stepPoints.push(stepPt[0],stepPt[1])}// Last points
return stepPoints.push(points[i++],points[i++]),stepPoints}
/**
 * Clip color stops to edge. Avoid creating too large gradients.
 * Which may lead to blurry when GPU acceleration is enabled. See #15680
 *
 * The stops has been sorted from small to large.
 */function clipColorStops(colorStops,maxSize){var prevOutOfRangeColorStop,prevInRangeColorStop,newColorStops=[],len=colorStops.length;function lerpStop(stop0,stop1,clippedCoord){var coord0=stop0.coord,p=(clippedCoord-coord0)/(stop1.coord-coord0),color=(0,tool_color/* lerp */.t7)(p,[stop0.color,stop1.color]);return{coord:clippedCoord,color:color}}for(var i=0;i<len;i++){var stop_1=colorStops[i],coord=stop_1.coord;if(coord<0)prevOutOfRangeColorStop=stop_1;else{if(coord>maxSize){prevInRangeColorStop?newColorStops.push(lerpStop(prevInRangeColorStop,stop_1,maxSize)):prevOutOfRangeColorStop&&
// If there are two stops and coord range is between these two stops
newColorStops.push(lerpStop(prevOutOfRangeColorStop,stop_1,0),lerpStop(prevOutOfRangeColorStop,stop_1,maxSize));// All following stop will be out of range. So just ignore them.
break}prevOutOfRangeColorStop&&(newColorStops.push(lerpStop(prevOutOfRangeColorStop,stop_1,0)),// Reset
prevOutOfRangeColorStop=null),newColorStops.push(stop_1),prevInRangeColorStop=stop_1}}return newColorStops}function getVisualGradient(data,coordSys,api){var visualMetaList=data.getVisual("visualMeta");if(visualMetaList&&visualMetaList.length&&data.count()&&"cartesian2d"===coordSys.type){for(var coordDim,visualMeta,i=visualMetaList.length-1;i>=0;i--){var dimInfo=data.getDimensionInfo(visualMetaList[i].dimension);// Can only be x or y
if(coordDim=dimInfo&&dimInfo.coordDim,"x"===coordDim||"y"===coordDim){visualMeta=visualMetaList[i];break}}if(visualMeta){// If the area to be rendered is bigger than area defined by LinearGradient,
// the canvas spec prescribes that the color of the first stop and the last
// stop should be used. But if two stops are added at offset 0, in effect
// browsers use the color of the second stop to render area outside
// LinearGradient. So we can only infinitesimally extend area defined in
// LinearGradient to render `outerColors`.
var axis=coordSys.getAxis(coordDim),colorStops=util/* map */.UI(visualMeta.stops,(function(stop){
// offset will be calculated later.
return{coord:axis.toGlobalCoord(axis.dataToCoord(stop.value)),color:stop.color}})),stopLen=colorStops.length,outerColors=visualMeta.outerColors.slice();// dataToCoord mapping may not be linear, but must be monotonic.
stopLen&&colorStops[0].coord>colorStops[stopLen-1].coord&&(colorStops.reverse(),outerColors.reverse());var colorStopsInRange=clipColorStops(colorStops,"x"===coordDim?api.getWidth():api.getHeight()),inRangeStopLen=colorStopsInRange.length;if(!inRangeStopLen&&stopLen)
// All stops are out of range. All will be the same color.
return colorStops[0].coord<0?outerColors[1]?outerColors[1]:colorStops[stopLen-1].color:outerColors[0]?outerColors[0]:colorStops[0].color;var tinyExtent=10,minCoord=colorStopsInRange[0].coord-tinyExtent,maxCoord=colorStopsInRange[inRangeStopLen-1].coord+tinyExtent,coordSpan=maxCoord-minCoord;// Arbitrary value: 10px
if(coordSpan<.001)return"transparent";util/* each */.S6(colorStopsInRange,(function(stop){stop.offset=(stop.coord-minCoord)/coordSpan})),colorStopsInRange.push({
// NOTE: inRangeStopLen may still be 0 if stoplen is zero.
offset:inRangeStopLen?colorStopsInRange[inRangeStopLen-1].offset:.5,color:outerColors[1]||"transparent"}),colorStopsInRange.unshift({offset:inRangeStopLen?colorStopsInRange[0].offset:.5,color:outerColors[0]||"transparent"});var gradient=new LinearGradient/* default */.Z(0,0,0,0,colorStopsInRange,!0);return gradient[coordDim]=minCoord,gradient[coordDim+"2"]=maxCoord,gradient}}}function getIsIgnoreFunc(seriesModel,data,coordSys){var showAllSymbol=seriesModel.get("showAllSymbol"),isAuto="auto"===showAllSymbol;if(!showAllSymbol||isAuto){var categoryAxis=coordSys.getAxesByScale("ordinal")[0];if(categoryAxis&&(!isAuto||!canShowAllSymbolForCategory(categoryAxis,data)))// Note that category label interval strategy might bring some weird effect
// in some scenario: users may wonder why some of the symbols are not
// displayed. So we show all symbols as possible as we can.
{// Otherwise follow the label interval strategy on category axis.
var categoryDataDim=data.mapDimension(categoryAxis.dim),labelMap={};return util/* each */.S6(categoryAxis.getViewLabels(),(function(labelItem){var ordinalNumber=categoryAxis.scale.getRawOrdinalNumber(labelItem.tickValue);labelMap[ordinalNumber]=1})),function(dataIndex){return!labelMap.hasOwnProperty(data.get(categoryDataDim,dataIndex))}}}}function canShowAllSymbolForCategory(categoryAxis,data){
// In most cases, line is monotonous on category axis, and the label size
// is close with each other. So we check the symbol size and some of the
// label size alone with the category axis to estimate whether all symbol
// can be shown without overlap.
var axisExtent=categoryAxis.getExtent(),availSize=Math.abs(axisExtent[1]-axisExtent[0])/categoryAxis.scale.count();isNaN(availSize)&&(availSize=0);for(// 0/0 is NaN.
// Sampling some points, max 5.
var dataLen=data.count(),step=Math.max(1,Math.round(dataLen/5)),dataIndex=0;dataIndex<dataLen;dataIndex+=step)if(1.5*Symbol/* default */.Z.getSymbolSize(data,dataIndex)[categoryAxis.isHorizontal()?1:0]>availSize)return!1;return!0}function LineView_isPointNull(x,y){return isNaN(x)||isNaN(y)}function getLastIndexNotNull(points){for(var len=points.length/2;len>0;len--)if(!LineView_isPointNull(points[2*len-2],points[2*len-1]))break;return len-1}function getPointAtIndex(points,idx){return[points[2*idx],points[2*idx+1]]}function getIndexRange(points,xOrY,dim){for(var a,b,len=points.length/2,dimIdx="x"===dim?0:1,prevIndex=0,nextIndex=-1,i=0;i<len;i++)if(b=points[2*i+dimIdx],!isNaN(b)&&!isNaN(points[2*i+1-dimIdx]))if(0!==i){if(a<=xOrY&&b>=xOrY||a>=xOrY&&b<=xOrY){nextIndex=i;break}prevIndex=i,a=b}else a=b;return{range:[prevIndex,nextIndex],t:(xOrY-a)/(b-a)}}function anyStateShowEndLabel(seriesModel){if(seriesModel.get(["endLabel","show"]))return!0;for(var i=0;i<states/* SPECIAL_STATES */.L1.length;i++)if(seriesModel.get([states/* SPECIAL_STATES */.L1[i],"endLabel","show"]))return!0;return!1}function createLineClipPath(lineView,coordSys,hasAnimation,seriesModel){if((0,CoordinateSystem/* isCoordinateSystemType */.H)(coordSys,"cartesian2d")){var endLabelModel_1=seriesModel.getModel("endLabel"),valueAnimation_1=endLabelModel_1.get("valueAnimation"),data_1=seriesModel.getData(),labelAnimationRecord_1={lastFrameIndex:0},during=anyStateShowEndLabel(seriesModel)?function(percent,clipRect){lineView._endLabelOnDuring(percent,clipRect,data_1,labelAnimationRecord_1,valueAnimation_1,endLabelModel_1,coordSys)}:null,isHorizontal=coordSys.getBaseAxis().isHorizontal(),clipPath=(0,createClipPathFromCoordSys/* createGridClipPath */.ID)(coordSys,hasAnimation,seriesModel,(function(){var endLabel=lineView._endLabel;endLabel&&hasAnimation&&null!=labelAnimationRecord_1.originalX&&endLabel.attr({x:labelAnimationRecord_1.originalX,y:labelAnimationRecord_1.originalY})}),during);// Expand clip shape to avoid clipping when line value exceeds axis
if(!seriesModel.get("clip",!0)){var rectShape=clipPath.shape,expandSize=Math.max(rectShape.width,rectShape.height);isHorizontal?(rectShape.y-=expandSize,rectShape.height+=2*expandSize):(rectShape.x-=expandSize,rectShape.width+=2*expandSize)}// Set to the final frame. To make sure label layout is right.
return during&&during(1,clipPath),clipPath}return(0,createClipPathFromCoordSys/* createPolarClipPath */.X0)(coordSys,hasAnimation,seriesModel)}function getEndLabelStateSpecified(endLabelModel,coordSys){var baseAxis=coordSys.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isBaseInversed=baseAxis.inverse,align=isHorizontal?isBaseInversed?"right":"left":"center",verticalAlign=isHorizontal?"middle":isBaseInversed?"top":"bottom";return{normal:{align:endLabelModel.get("align")||align,verticalAlign:endLabelModel.get("verticalAlign")||verticalAlign}}}var LineView=
/** @class */
function(_super){function LineView(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(LineView,_super),LineView.prototype.init=function(){var lineGroup=new Group/* default */.Z,symbolDraw=new SymbolDraw/* default */.Z;this.group.add(symbolDraw.group),this._symbolDraw=symbolDraw,this._lineGroup=lineGroup},LineView.prototype.render=function(seriesModel,ecModel,api){var _this=this,coordSys=seriesModel.coordinateSystem,group=this.group,data=seriesModel.getData(),lineStyleModel=seriesModel.getModel("lineStyle"),areaStyleModel=seriesModel.getModel("areaStyle"),points=data.getLayout("points")||[],isCoordSysPolar="polar"===coordSys.type,prevCoordSys=this._coordSys,symbolDraw=this._symbolDraw,polyline=this._polyline,polygon=this._polygon,lineGroup=this._lineGroup,hasAnimation=!ecModel.ssr&&seriesModel.isAnimationEnabled(),isAreaChart=!areaStyleModel.isEmpty(),valueOrigin=areaStyleModel.get("origin"),dataCoordInfo=prepareDataCoordInfo(coordSys,data,valueOrigin),stackedOnPoints=isAreaChart&&getStackedOnPoints(coordSys,data,dataCoordInfo),showSymbol=seriesModel.get("showSymbol"),connectNulls=seriesModel.get("connectNulls"),isIgnoreFunc=showSymbol&&!isCoordSysPolar&&getIsIgnoreFunc(seriesModel,data,coordSys),oldData=this._data;oldData&&oldData.eachItemGraphicEl((function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))})),// Remove previous created symbols if showSymbol changed to false
showSymbol||symbolDraw.remove(),group.add(lineGroup);// FIXME step not support polar
var clipShapeForSymbol,step=!isCoordSysPolar&&seriesModel.get("step");coordSys&&coordSys.getArea&&seriesModel.get("clip",!0)&&(clipShapeForSymbol=coordSys.getArea(),// Avoid float number rounding error for symbol on the edge of axis extent.
// See #7913 and `test/dataZoom-clip.html`.
null!=clipShapeForSymbol.width?(clipShapeForSymbol.x-=.1,clipShapeForSymbol.y-=.1,clipShapeForSymbol.width+=.2,clipShapeForSymbol.height+=.2):clipShapeForSymbol.r0&&(clipShapeForSymbol.r0-=.5,clipShapeForSymbol.r+=.5)),this._clipShapeForSymbol=clipShapeForSymbol;var visualColor=getVisualGradient(data,coordSys,api)||data.getVisual("style")[data.getVisual("drawType")];// Initialization animation or coordinate system changed
if(polyline&&prevCoordSys.type===coordSys.type&&step===this._step){isAreaChart&&!polygon?
// If areaStyle is added
polygon=this._newPolygon(points,stackedOnPoints):polygon&&!isAreaChart&&(
// If areaStyle is removed
lineGroup.remove(polygon),polygon=this._polygon=null),// NOTE: Must update _endLabel before setClipPath.
isCoordSysPolar||this._initOrUpdateEndLabel(seriesModel,coordSys,(0,format/* convertToColorString */.Lz)(visualColor));// Update clipPath
var oldClipPath=lineGroup.getClipPath();if(oldClipPath){var newClipPath=createLineClipPath(this,coordSys,!1,seriesModel);basicTransition/* initProps */.KZ(oldClipPath,{shape:newClipPath.shape},seriesModel)}else lineGroup.setClipPath(createLineClipPath(this,coordSys,!0,seriesModel));// Always update, or it is wrong in the case turning on legend
// because points are not changed.
showSymbol&&symbolDraw.updateData(data,{isIgnore:isIgnoreFunc,clipShape:clipShapeForSymbol,disableAnimation:!0,getSymbolPoint:function(idx){return[points[2*idx],points[2*idx+1]]}}),// In the case data zoom triggered refreshing frequently
// Data may not change if line has a category axis. So it should animate nothing.
isPointsSame(this._stackedOnPoints,stackedOnPoints)&&isPointsSame(this._points,points)||(hasAnimation?this._doUpdateAnimation(data,stackedOnPoints,coordSys,api,step,valueOrigin,connectNulls):(
// Not do it in update with animation
step&&(
// TODO If stacked series is not step
points=turnPointsIntoStep(points,coordSys,step,connectNulls),stackedOnPoints&&(stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step,connectNulls))),polyline.setShape({points:points}),polygon&&polygon.setShape({points:points,stackedOnPoints:stackedOnPoints})))}else showSymbol&&symbolDraw.updateData(data,{isIgnore:isIgnoreFunc,clipShape:clipShapeForSymbol,disableAnimation:!0,getSymbolPoint:function(idx){return[points[2*idx],points[2*idx+1]]}}),hasAnimation&&this._initSymbolLabelAnimation(data,coordSys,clipShapeForSymbol),step&&(
// TODO If stacked series is not step
points=turnPointsIntoStep(points,coordSys,step,connectNulls),stackedOnPoints&&(stackedOnPoints=turnPointsIntoStep(stackedOnPoints,coordSys,step,connectNulls))),polyline=this._newPolyline(points),isAreaChart?polygon=this._newPolygon(points,stackedOnPoints):polygon&&(lineGroup.remove(polygon),polygon=this._polygon=null),// NOTE: Must update _endLabel before setClipPath.
isCoordSysPolar||this._initOrUpdateEndLabel(seriesModel,coordSys,(0,format/* convertToColorString */.Lz)(visualColor)),lineGroup.setClipPath(createLineClipPath(this,coordSys,!0,seriesModel));var emphasisModel=seriesModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),emphasisDisabled=emphasisModel.get("disabled");if(polyline.useStyle(util/* defaults */.ce(// Use color in lineStyle first
lineStyleModel.getLineStyle(),{fill:"none",stroke:visualColor,lineJoin:"bevel"})),(0,states/* setStatesStylesFromModel */.WO)(polyline,seriesModel,"lineStyle"),polyline.style.lineWidth>0&&"bolder"===seriesModel.get(["emphasis","lineStyle","width"])){var emphasisLineStyle=polyline.getState("emphasis").style;emphasisLineStyle.lineWidth=+polyline.style.lineWidth+1}// Needs seriesIndex for focus
(0,innerStore/* getECData */.A)(polyline).seriesIndex=seriesModel.seriesIndex,(0,states/* toggleHoverEmphasis */.k5)(polyline,focus,blurScope,emphasisDisabled);var smooth=getSmooth(seriesModel.get("smooth")),smoothMonotone=seriesModel.get("smoothMonotone");if(polyline.setShape({smooth:smooth,smoothMonotone:smoothMonotone,connectNulls:connectNulls}),polygon){var stackedOnSeries=data.getCalculationInfo("stackedOnSeries"),stackedOnSmooth=0;polygon.useStyle(util/* defaults */.ce(areaStyleModel.getAreaStyle(),{fill:visualColor,opacity:.7,lineJoin:"bevel",decal:data.getVisual("style").decal})),stackedOnSeries&&(stackedOnSmooth=getSmooth(stackedOnSeries.get("smooth"))),polygon.setShape({smooth:smooth,stackedOnSmooth:stackedOnSmooth,smoothMonotone:smoothMonotone,connectNulls:connectNulls}),(0,states/* setStatesStylesFromModel */.WO)(polygon,seriesModel,"areaStyle"),// Needs seriesIndex for focus
(0,innerStore/* getECData */.A)(polygon).seriesIndex=seriesModel.seriesIndex,(0,states/* toggleHoverEmphasis */.k5)(polygon,focus,blurScope,emphasisDisabled)}var changePolyState=function(toState){_this._changePolyState(toState)};data.eachItemGraphicEl((function(el){
// Switch polyline / polygon state if element changed its state.
el&&(el.onHoverStateChange=changePolyState)})),this._polyline.onHoverStateChange=changePolyState,this._data=data,// Save the coordinate system for transition animation when data changed
this._coordSys=coordSys,this._stackedOnPoints=stackedOnPoints,this._points=points,this._step=step,this._valueOrigin=valueOrigin,seriesModel.get("triggerLineEvent")&&(this.packEventData(seriesModel,polyline),polygon&&this.packEventData(seriesModel,polygon))},LineView.prototype.packEventData=function(seriesModel,el){(0,innerStore/* getECData */.A)(el).eventData={componentType:"series",componentSubType:"line",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"line"}},LineView.prototype.highlight=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=model/* queryDataIndex */.gO(data,payload);if(this._changePolyState("emphasis"),!(dataIndex instanceof Array)&&null!=dataIndex&&dataIndex>=0){var points=data.getLayout("points"),symbol=data.getItemGraphicEl(dataIndex);if(!symbol){
// Create a temporary symbol if it is not exists
var x=points[2*dataIndex],y=points[2*dataIndex+1];if(isNaN(x)||isNaN(y))
// Null data
return;// fix #11360: shouldn't draw symbol outside clipShapeForSymbol
if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(x,y))return;var zlevel=seriesModel.get("zlevel")||0,z=seriesModel.get("z")||0;symbol=new Symbol/* default */.Z(data,dataIndex),symbol.x=x,symbol.y=y,symbol.setZ(zlevel,z);// ensure label text of the temporary symbol is in front of line and area polygon
var symbolLabel=symbol.getSymbolPath().getTextContent();symbolLabel&&(symbolLabel.zlevel=zlevel,symbolLabel.z=z,symbolLabel.z2=this._polyline.z2+1),symbol.__temp=!0,data.setItemGraphicEl(dataIndex,symbol),// Stop scale animation
symbol.stopSymbolAnimation(!0),this.group.add(symbol)}symbol.highlight()}else
// Highlight whole series
Chart/* default */.Z.prototype.highlight.call(this,seriesModel,ecModel,api,payload)},LineView.prototype.downplay=function(seriesModel,ecModel,api,payload){var data=seriesModel.getData(),dataIndex=model/* queryDataIndex */.gO(data,payload);if(this._changePolyState("normal"),null!=dataIndex&&dataIndex>=0){var symbol=data.getItemGraphicEl(dataIndex);symbol&&(symbol.__temp?(data.setItemGraphicEl(dataIndex,null),this.group.remove(symbol)):symbol.downplay())}else
// FIXME
// can not downplay completely.
// Downplay whole series
Chart/* default */.Z.prototype.downplay.call(this,seriesModel,ecModel,api,payload)},LineView.prototype._changePolyState=function(toState){var polygon=this._polygon;(0,states/* setStatesFlag */.Gl)(this._polyline,toState),polygon&&(0,states/* setStatesFlag */.Gl)(polygon,toState)},LineView.prototype._newPolyline=function(points){var polyline=this._polyline;// Remove previous created polyline
return polyline&&this._lineGroup.remove(polyline),polyline=new ECPolyline({shape:{points:points},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(polyline),this._polyline=polyline,polyline},LineView.prototype._newPolygon=function(points,stackedOnPoints){var polygon=this._polygon;// Remove previous created polygon
return polygon&&this._lineGroup.remove(polygon),polygon=new ECPolygon({shape:{points:points,stackedOnPoints:stackedOnPoints},segmentIgnoreThreshold:2}),this._lineGroup.add(polygon),this._polygon=polygon,polygon},LineView.prototype._initSymbolLabelAnimation=function(data,coordSys,clipShape){var isHorizontalOrRadial,isCoordSysPolar,baseAxis=coordSys.getBaseAxis(),isAxisInverse=baseAxis.inverse;"cartesian2d"===coordSys.type?(isHorizontalOrRadial=baseAxis.isHorizontal(),isCoordSysPolar=!1):"polar"===coordSys.type&&(isHorizontalOrRadial="angle"===baseAxis.dim,isCoordSysPolar=!0);var seriesModel=data.hostModel,seriesDuration=seriesModel.get("animationDuration");util/* isFunction */.mf(seriesDuration)&&(seriesDuration=seriesDuration(null));var seriesDelay=seriesModel.get("animationDelay")||0,seriesDelayValue=util/* isFunction */.mf(seriesDelay)?seriesDelay(null):seriesDelay;data.eachItemGraphicEl((function(symbol,idx){var el=symbol;if(el){var point=[symbol.x,symbol.y],start=void 0,end=void 0,current=void 0;if(clipShape)if(isCoordSysPolar){var polarClip=clipShape,coord=coordSys.pointToCoord(point);isHorizontalOrRadial?(start=polarClip.startAngle,end=polarClip.endAngle,current=-coord[1]/180*Math.PI):(start=polarClip.r0,end=polarClip.r,current=coord[0])}else{var gridClip=clipShape;isHorizontalOrRadial?(start=gridClip.x,end=gridClip.x+gridClip.width,current=symbol.x):(start=gridClip.y+gridClip.height,end=gridClip.y,current=symbol.y)}var ratio=end===start?0:(current-start)/(end-start);isAxisInverse&&(ratio=1-ratio);var delay=util/* isFunction */.mf(seriesDelay)?seriesDelay(idx):seriesDuration*ratio+seriesDelayValue,symbolPath=el.getSymbolPath(),text=symbolPath.getTextContent();el.attr({scaleX:0,scaleY:0}),el.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:delay}),text&&text.animateFrom({style:{opacity:0}},{duration:300,delay:delay}),symbolPath.disableLabelAnimation=!0}}))},LineView.prototype._initOrUpdateEndLabel=function(seriesModel,coordSys,inheritColor){var endLabelModel=seriesModel.getModel("endLabel");if(anyStateShowEndLabel(seriesModel)){var data_2=seriesModel.getData(),polyline=this._polyline,points=data_2.getLayout("points");if(!points)return polyline.removeTextContent(),void(this._endLabel=null);var endLabel=this._endLabel;endLabel||(endLabel=this._endLabel=new Text/* default */.ZP({z2:200}),endLabel.ignoreClip=!0,polyline.setTextContent(this._endLabel),polyline.disableLabelAnimation=!0);// Find last non-NaN data to display data
var dataIndex=getLastIndexNotNull(points);dataIndex>=0&&((0,labelStyle/* setLabelStyle */.ni)(polyline,(0,labelStyle/* getLabelStatesModels */.k3)(seriesModel,"endLabel"),{inheritColor:inheritColor,labelFetcher:seriesModel,labelDataIndex:dataIndex,defaultText:function(dataIndex,opt,interpolatedValue){return null!=interpolatedValue?(0,labelHelper/* getDefaultInterpolatedLabel */.O)(data_2,interpolatedValue):(0,labelHelper/* getDefaultLabel */.H)(data_2,dataIndex)},enableTextSetter:!0},getEndLabelStateSpecified(endLabelModel,coordSys)),polyline.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},LineView.prototype._endLabelOnDuring=function(percent,clipRect,data,animationRecord,valueAnimation,endLabelModel,coordSys){var endLabel=this._endLabel,polyline=this._polyline;if(endLabel){
// NOTE: Don't remove percent < 1. percent === 1 means the first frame during render.
// The label is not prepared at this time.
percent<1&&null==animationRecord.originalX&&(animationRecord.originalX=endLabel.x,animationRecord.originalY=endLabel.y);var points=data.getLayout("points"),seriesModel=data.hostModel,connectNulls=seriesModel.get("connectNulls"),precision=endLabelModel.get("precision"),distance=endLabelModel.get("distance")||0,baseAxis=coordSys.getBaseAxis(),isHorizontal=baseAxis.isHorizontal(),isBaseInversed=baseAxis.inverse,clipShape=clipRect.shape,xOrY=isBaseInversed?isHorizontal?clipShape.x:clipShape.y+clipShape.height:isHorizontal?clipShape.x+clipShape.width:clipShape.y,distanceX=(isHorizontal?distance:0)*(isBaseInversed?-1:1),distanceY=(isHorizontal?0:-distance)*(isBaseInversed?-1:1),dim=isHorizontal?"x":"y",dataIndexRange=getIndexRange(points,xOrY,dim),indices=dataIndexRange.range,diff=indices[1]-indices[0],value=void 0;if(diff>=1){
// diff > 1 && connectNulls, which is on the null data.
if(diff>1&&!connectNulls){var pt=getPointAtIndex(points,indices[0]);endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY}),valueAnimation&&(value=seriesModel.getRawValue(indices[0]))}else{pt=polyline.getPointOn(xOrY,dim);pt&&endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY});var startValue=seriesModel.getRawValue(indices[0]),endValue=seriesModel.getRawValue(indices[1]);valueAnimation&&(value=model/* interpolateRawValues */.pk(data,precision,startValue,endValue,dataIndexRange.t))}animationRecord.lastFrameIndex=indices[0]}else{
// If diff <= 0, which is the range is not found(Include NaN)
// Choose the first point or last point.
var idx=1===percent||animationRecord.lastFrameIndex>0?indices[0]:0;pt=getPointAtIndex(points,idx);valueAnimation&&(value=seriesModel.getRawValue(idx)),endLabel.attr({x:pt[0]+distanceX,y:pt[1]+distanceY})}if(valueAnimation){var inner=(0,labelStyle/* labelInner */.qA)(endLabel);"function"===typeof inner.setLabelText&&inner.setLabelText(value)}}},
/**
   * @private
   */
// FIXME Two value axis
LineView.prototype._doUpdateAnimation=function(data,stackedOnPoints,coordSys,api,step,valueOrigin,connectNulls){var polyline=this._polyline,polygon=this._polygon,seriesModel=data.hostModel,diff=lineAnimationDiff(this._data,data,this._stackedOnPoints,stackedOnPoints,this._coordSys,coordSys,this._valueOrigin,valueOrigin),current=diff.current,stackedOnCurrent=diff.stackedOnCurrent,next=diff.next,stackedOnNext=diff.stackedOnNext;// Don't apply animation if diff is large.
// For better result and avoid memory explosion problems like
// https://github.com/apache/incubator-echarts/issues/12229
if(step&&(
// TODO If stacked series is not step
current=turnPointsIntoStep(diff.current,coordSys,step,connectNulls),stackedOnCurrent=turnPointsIntoStep(diff.stackedOnCurrent,coordSys,step,connectNulls),next=turnPointsIntoStep(diff.next,coordSys,step,connectNulls),stackedOnNext=turnPointsIntoStep(diff.stackedOnNext,coordSys,step,connectNulls)),getBoundingDiff(current,next)>3e3||polygon&&getBoundingDiff(stackedOnCurrent,stackedOnNext)>3e3)return polyline.stopAnimation(),polyline.setShape({points:next}),void(polygon&&(polygon.stopAnimation(),polygon.setShape({points:next,stackedOnPoints:stackedOnNext})));polyline.shape.__points=diff.current,polyline.shape.points=current;var target={shape:{points:next}};// Also animate the original points.
// If points reference is changed when turning into step line.
diff.current!==current&&(target.shape.__points=diff.next),// Stop previous animation.
polyline.stopAnimation(),basicTransition/* updateProps */.D(polyline,target,seriesModel),polygon&&(polygon.setShape({
// Reuse the points with polyline.
points:current,stackedOnPoints:stackedOnCurrent}),polygon.stopAnimation(),basicTransition/* updateProps */.D(polygon,{shape:{stackedOnPoints:stackedOnNext}},seriesModel),// If use attr directly in updateProps.
polyline.shape.points!==polygon.shape.points&&(polygon.shape.points=polyline.shape.points));for(var updatedDataInfo=[],diffStatus=diff.status,i=0;i<diffStatus.length;i++){var cmd=diffStatus[i].cmd;if("="===cmd){var el=data.getItemGraphicEl(diffStatus[i].idx1);el&&updatedDataInfo.push({el:el,ptIdx:i})}}polyline.animators&&polyline.animators.length&&polyline.animators[0].during((function(){polygon&&polygon.dirtyShape();for(var points=polyline.shape.__points,i=0;i<updatedDataInfo.length;i++){var el=updatedDataInfo[i].el,offset=2*updatedDataInfo[i].ptIdx;el.x=points[offset],el.y=points[offset+1],el.markRedraw()}}))},LineView.prototype.remove=function(ecModel){var group=this.group,oldData=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),// Remove temporary created elements when highlighting
oldData&&oldData.eachItemGraphicEl((function(el,idx){el.__temp&&(group.remove(el),oldData.setItemGraphicEl(idx,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},LineView.type="line",LineView}(Chart/* default */.Z),line_LineView=LineView,points=__webpack_require__(621149),dataSample=__webpack_require__(564088);
/* harmony default export */ // CONCATENATED MODULE: ./node_modules/echarts/lib/chart/line/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// In case developer forget to include grid component
function install(registers){registers.registerChartView(line_LineView),registers.registerSeriesModel(LineSeries),registers.registerLayout((0,points/* default */.Z)("line",!0)),registers.registerVisual({seriesType:"line",reset:function(seriesModel){var data=seriesModel.getData(),lineStyle=seriesModel.getModel("lineStyle").getLineStyle();// Visual coding for legend
lineStyle&&!lineStyle.stroke&&(
// Fill in visual should be palette color if
// has color callback
lineStyle.stroke=data.getVisual("style").fill),data.setVisual("legendLineStyle",lineStyle)}}),// Down sample after filter
registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,(0,dataSample/* default */.Z)("line"))}
/***/},
/***/273564:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/legacy/dataSelectAction.js
var dataSelectAction=__webpack_require__(531891),number=__webpack_require__(785669),layout=__webpack_require__(576172),util=__webpack_require__(933051),PI2=2*Math.PI,RADIAN=Math.PI/180;
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/number.js
function getViewRect(seriesModel,api){return layout/* getLayoutRect */.ME(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})}function getBasicPieLayout(seriesModel,api){var viewRect=getViewRect(seriesModel,api),center=seriesModel.get("center"),radius=seriesModel.get("radius");// center can be string or number when coordinateSystem is specified
util/* isArray */.kJ(radius)||(radius=[0,radius]);var cx,cy,width=(0,number/* parsePercent */.GM)(viewRect.width,api.getWidth()),height=(0,number/* parsePercent */.GM)(viewRect.height,api.getHeight()),size=Math.min(width,height),r0=(0,number/* parsePercent */.GM)(radius[0],size/2),r=(0,number/* parsePercent */.GM)(radius[1],size/2),coordSys=seriesModel.coordinateSystem;if(coordSys){
// percentage is not allowed when coordinate system is specified
var point=coordSys.dataToPoint(center);cx=point[0]||0,cy=point[1]||0}else util/* isArray */.kJ(center)||(center=[center,center]),cx=(0,number/* parsePercent */.GM)(center[0],width)+viewRect.x,cy=(0,number/* parsePercent */.GM)(center[1],height)+viewRect.y;return{cx:cx,cy:cy,r0:r0,r:r}}function pieLayout(seriesType,ecModel,api){ecModel.eachSeriesByType(seriesType,(function(seriesModel){var data=seriesModel.getData(),valueDim=data.mapDimension("value"),viewRect=getViewRect(seriesModel,api),_a=getBasicPieLayout(seriesModel,api),cx=_a.cx,cy=_a.cy,r=_a.r,r0=_a.r0,startAngle=-seriesModel.get("startAngle")*RADIAN,minAngle=seriesModel.get("minAngle")*RADIAN,validDataCount=0;data.each(valueDim,(function(value){!isNaN(value)&&validDataCount++}));var sum=data.getSum(valueDim),unitRadian=Math.PI/(sum||validDataCount)*2,clockwise=seriesModel.get("clockwise"),roseType=seriesModel.get("roseType"),stillShowZeroSum=seriesModel.get("stillShowZeroSum"),extent=data.getDataExtent(valueDim);// Sum may be 0
extent[0]=0;// In the case some sector angle is smaller than minAngle
var restAngle=PI2,valueSumLargerThanMinAngle=0,currentAngle=startAngle,dir=clockwise?1:-1;// Some sector is constrained by minAngle
// Rest sectors needs recalculate angle
if(data.setLayout({viewRect:viewRect,r:r}),data.each(valueDim,(function(value,idx){var angle;if(isNaN(value))data.setItemLayout(idx,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:clockwise,cx:cx,cy:cy,r0:r0,r:roseType?NaN:r});else{// FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？
angle="area"!==roseType?0===sum&&stillShowZeroSum?unitRadian:value*unitRadian:PI2/validDataCount,angle<minAngle?(angle=minAngle,restAngle-=minAngle):valueSumLargerThanMinAngle+=value;var endAngle=currentAngle+dir*angle;data.setItemLayout(idx,{angle:angle,startAngle:currentAngle,endAngle:endAngle,clockwise:clockwise,cx:cx,cy:cy,r0:r0,r:roseType?(0,number/* linearMap */.NU)(value,extent,[r0,r]):r}),currentAngle=endAngle}})),restAngle<PI2&&validDataCount)
// Average the angle if rest angle is not enough after all angles is
// Constrained by minAngle
if(restAngle<=.001){var angle_1=PI2/validDataCount;data.each(valueDim,(function(value,idx){if(!isNaN(value)){var layout_1=data.getItemLayout(idx);layout_1.angle=angle_1,layout_1.startAngle=startAngle+dir*idx*angle_1,layout_1.endAngle=startAngle+dir*(idx+1)*angle_1}}))}else unitRadian=restAngle/valueSumLargerThanMinAngle,currentAngle=startAngle,data.each(valueDim,(function(value,idx){if(!isNaN(value)){var layout_2=data.getItemLayout(idx),angle=layout_2.angle===minAngle?minAngle:value*unitRadian;layout_2.startAngle=currentAngle,layout_2.endAngle=currentAngle+dir*angle,currentAngle+=dir*angle}}))}))}
// EXTERNAL MODULE: ./node_modules/echarts/lib/processor/dataFilter.js
var dataFilter=__webpack_require__(122528),tslib_es6=__webpack_require__(570655),Text=__webpack_require__(679750),basicTransition=__webpack_require__(944292),Polyline=__webpack_require__(862514),Sector=__webpack_require__(497782),states=__webpack_require__(726357),Chart=__webpack_require__(975797),Point=__webpack_require__(241610),labelGuideHelper=__webpack_require__(87377),labelLayoutHelper=__webpack_require__(654162),labelLayout_RADIAN=Math.PI/180;
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function adjustSingleSide(list,cx,cy,r,dir,viewWidth,viewHeight,viewLeft,viewTop,farthestX){if(!(list.length<2)){for(var len=list.length,i=0;i<len;i++)if("outer"===list[i].position&&"labelLine"===list[i].labelAlignTo){var dx=list[i].label.x-farthestX;list[i].linePoints[1][0]+=dx,list[i].label.x=farthestX}(0,labelLayoutHelper/* shiftLayoutOnY */.GI)(list,viewTop,viewTop+viewHeight)&&recalculateX(list)}function recalculateXOnSemiToAlignOnEllipseCurve(semi){for(var rB=semi.rB,rB2=rB*rB,i=0;i<semi.list.length;i++){var item=semi.list[i],dy=Math.abs(item.label.y-cy),rA=r+item.len,rA2=rA*rA,dx=Math.sqrt((1-Math.abs(dy*dy/rB2))*rA2),newX=cx+(dx+item.len2)*dir,deltaX=newX-item.label.x,newTargetWidth=item.targetTextWidth-deltaX*dir;// text x is changed, so need to recalculate width.
constrainTextWidth(item,newTargetWidth,!0),item.label.x=newX}}// Adjust X based on the shifted y. Make tight labels aligned on an ellipse curve.
function recalculateX(items){for(
// Extremes of
var topSemi={list:[],maxY:0},bottomSemi={list:[],maxY:0},i=0;i<items.length;i++)if("none"===items[i].labelAlignTo){var item=items[i],semi=item.label.y>cy?bottomSemi:topSemi,dy=Math.abs(item.label.y-cy);if(dy>=semi.maxY){var dx=item.label.x-cx-item.len2*dir,rA=r+item.len,rB=Math.abs(dx)<rA?Math.sqrt(dy*dy/(1-dx*dx/rA/rA)):rA;// horizontal r is always same with original r because x is not changed.
semi.rB=rB,semi.maxY=dy}semi.list.push(item)}recalculateXOnSemiToAlignOnEllipseCurve(topSemi),recalculateXOnSemiToAlignOnEllipseCurve(bottomSemi)}}function avoidOverlap(labelLayoutList,cx,cy,r,viewWidth,viewHeight,viewLeft,viewTop){for(var leftList=[],rightList=[],leftmostX=Number.MAX_VALUE,rightmostX=-Number.MAX_VALUE,i=0;i<labelLayoutList.length;i++){var label=labelLayoutList[i].label;isPositionCenter(labelLayoutList[i])||(label.x<cx?(leftmostX=Math.min(leftmostX,label.x),leftList.push(labelLayoutList[i])):(rightmostX=Math.max(rightmostX,label.x),rightList.push(labelLayoutList[i])))}for(i=0;i<labelLayoutList.length;i++){var layout=labelLayoutList[i];if(!isPositionCenter(layout)&&layout.linePoints){if(null!=layout.labelStyleWidth)continue;label=layout.label;var linePoints=layout.linePoints,targetTextWidth=void 0;targetTextWidth="edge"===layout.labelAlignTo?label.x<cx?linePoints[2][0]-layout.labelDistance-viewLeft-layout.edgeDistance:viewLeft+viewWidth-layout.edgeDistance-linePoints[2][0]-layout.labelDistance:"labelLine"===layout.labelAlignTo?label.x<cx?leftmostX-viewLeft-layout.bleedMargin:viewLeft+viewWidth-rightmostX-layout.bleedMargin:label.x<cx?label.x-viewLeft-layout.bleedMargin:viewLeft+viewWidth-label.x-layout.bleedMargin,layout.targetTextWidth=targetTextWidth,constrainTextWidth(layout,targetTextWidth)}}adjustSingleSide(rightList,cx,cy,r,1,viewWidth,viewHeight,viewLeft,viewTop,rightmostX),adjustSingleSide(leftList,cx,cy,r,-1,viewWidth,viewHeight,viewLeft,viewTop,leftmostX);for(i=0;i<labelLayoutList.length;i++){layout=labelLayoutList[i];if(!isPositionCenter(layout)&&layout.linePoints){label=layout.label,linePoints=layout.linePoints;var isAlignToEdge="edge"===layout.labelAlignTo,padding=label.style.padding,paddingH=padding?padding[1]+padding[3]:0,extraPaddingH=label.style.backgroundColor?0:paddingH,realTextWidth=layout.rect.width+extraPaddingH,dist=linePoints[1][0]-linePoints[2][0];isAlignToEdge?label.x<cx?linePoints[2][0]=viewLeft+layout.edgeDistance+realTextWidth+layout.labelDistance:linePoints[2][0]=viewLeft+viewWidth-layout.edgeDistance-realTextWidth-layout.labelDistance:(label.x<cx?linePoints[2][0]=label.x+layout.labelDistance:linePoints[2][0]=label.x-layout.labelDistance,linePoints[1][0]=linePoints[2][0]+dist),linePoints[1][1]=linePoints[2][1]=label.y}}}
/**
 * Set max width of each label, and then wrap each label to the max width.
 *
 * @param layout label layout
 * @param availableWidth max width for the label to display
 * @param forceRecalculate recaculate the text layout even if the current width
 * is smaller than `availableWidth`. This is useful when the text was previously
 * wrapped by calling `constrainTextWidth` but now `availableWidth` changed, in
 * which case, previous wrapping should be redo.
 */function constrainTextWidth(layout,availableWidth,forceRecalculate){if(void 0===forceRecalculate&&(forceRecalculate=!1),null==layout.labelStyleWidth){var label=layout.label,style=label.style,textRect=layout.rect,bgColor=style.backgroundColor,padding=style.padding,paddingH=padding?padding[1]+padding[3]:0,overflow=style.overflow,oldOuterWidth=textRect.width+(bgColor?0:paddingH);if(availableWidth<oldOuterWidth||forceRecalculate){var oldHeight=textRect.height;if(overflow&&overflow.match("break")){
// Temporarily set background to be null to calculate
// the bounding box without background.
label.setStyle("backgroundColor",null),// Set constraining width
label.setStyle("width",availableWidth-paddingH);// This is the real bounding box of the text without padding.
var innerRect=label.getBoundingRect();label.setStyle("width",Math.ceil(innerRect.width)),label.setStyle("backgroundColor",bgColor)}else{var availableInnerWidth=availableWidth-paddingH,newWidth=availableWidth<oldOuterWidth?availableInnerWidth:// Current available width is enough, but the text may have
// already been wrapped with a smaller available width.
forceRecalculate?availableInnerWidth>layout.unconstrainedWidth?null:availableInnerWidth:// Current available width is enough, so no need to
// constrain.
null;label.setStyle("width",newWidth)}var newRect=label.getBoundingRect();textRect.width=newRect.width;var margin=(label.style.margin||0)+2.1;textRect.height=newRect.height+margin,textRect.y-=(textRect.height-oldHeight)/2}}}function isPositionCenter(sectorShape){
// Not change x for center label
return"center"===sectorShape.position}function pieLabelLayout(seriesModel){var cx,cy,data=seriesModel.getData(),labelLayoutList=[],hasLabelRotate=!1,minShowLabelRadian=(seriesModel.get("minShowLabelAngle")||0)*labelLayout_RADIAN,viewRect=data.getLayout("viewRect"),r=data.getLayout("r"),viewWidth=viewRect.width,viewLeft=viewRect.x,viewTop=viewRect.y,viewHeight=viewRect.height;function setNotShow(el){el.ignore=!0}function isLabelShown(label){if(!label.ignore)return!0;for(var key in label.states)if(!1===label.states[key].ignore)return!0;return!1}data.each((function(idx){var sector=data.getItemGraphicEl(idx),sectorShape=sector.shape,label=sector.getTextContent(),labelLine=sector.getTextGuideLine(),itemModel=data.getItemModel(idx),labelModel=itemModel.getModel("label"),labelPosition=labelModel.get("position")||itemModel.get(["emphasis","label","position"]),labelDistance=labelModel.get("distanceToLabelLine"),labelAlignTo=labelModel.get("alignTo"),edgeDistance=(0,number/* parsePercent */.GM)(labelModel.get("edgeDistance"),viewWidth),bleedMargin=labelModel.get("bleedMargin"),labelLineModel=itemModel.getModel("labelLine"),labelLineLen=labelLineModel.get("length");labelLineLen=(0,number/* parsePercent */.GM)(labelLineLen,viewWidth);var labelLineLen2=labelLineModel.get("length2");if(labelLineLen2=(0,number/* parsePercent */.GM)(labelLineLen2,viewWidth),Math.abs(sectorShape.endAngle-sectorShape.startAngle)<minShowLabelRadian)return(0,util/* each */.S6)(label.states,setNotShow),label.ignore=!0,void(labelLine&&((0,util/* each */.S6)(labelLine.states,setNotShow),labelLine.ignore=!0));if(isLabelShown(label)){var textX,textY,linePoints,textAlign,midAngle=(sectorShape.startAngle+sectorShape.endAngle)/2,nx=Math.cos(midAngle),ny=Math.sin(midAngle);cx=sectorShape.cx,cy=sectorShape.cy;var isLabelInside="inside"===labelPosition||"inner"===labelPosition;if("center"===labelPosition)textX=sectorShape.cx,textY=sectorShape.cy,textAlign="center";else{var x1=(isLabelInside?(sectorShape.r+sectorShape.r0)/2*nx:sectorShape.r*nx)+cx,y1=(isLabelInside?(sectorShape.r+sectorShape.r0)/2*ny:sectorShape.r*ny)+cy;if(textX=x1+3*nx,textY=y1+3*ny,!isLabelInside){
// For roseType
var x2=x1+nx*(labelLineLen+r-sectorShape.r),y2=y1+ny*(labelLineLen+r-sectorShape.r),x3=x2+(nx<0?-1:1)*labelLineLen2,y3=y2;
// Adjust textX because text align of edge is opposite
textX="edge"===labelAlignTo?nx<0?viewLeft+edgeDistance:viewLeft+viewWidth-edgeDistance:x3+(nx<0?-labelDistance:labelDistance),textY=y3,linePoints=[[x1,y1],[x2,y2],[x3,y3]]}textAlign=isLabelInside?"center":"edge"===labelAlignTo?nx>0?"right":"left":nx>0?"left":"right"}var PI=Math.PI,labelRotate=0,rotate=labelModel.get("rotate");if((0,util/* isNumber */.hj)(rotate))labelRotate=rotate*(PI/180);else if("center"===labelPosition)labelRotate=0;else if("radial"===rotate||!0===rotate){var radialAngle=nx<0?-midAngle+PI:-midAngle;labelRotate=radialAngle}else if("tangential"===rotate&&"outside"!==labelPosition&&"outer"!==labelPosition){var rad=Math.atan2(nx,ny);rad<0&&(rad=2*PI+rad);var isDown=ny>0;isDown&&(rad=PI+rad),labelRotate=rad-PI}// Not sectorShape the inside label
if(hasLabelRotate=!!labelRotate,label.x=textX,label.y=textY,label.rotation=labelRotate,label.setStyle({verticalAlign:"middle"}),isLabelInside){label.setStyle({align:textAlign});var selectState=label.states.select;selectState&&(selectState.x+=label.x,selectState.y+=label.y)}else{var textRect=label.getBoundingRect().clone();textRect.applyTransform(label.getComputedTransform());// Text has a default 1px stroke. Exclude this.
var margin=(label.style.margin||0)+2.1;textRect.y-=margin/2,textRect.height+=margin,labelLayoutList.push({label:label,labelLine:labelLine,position:labelPosition,len:labelLineLen,len2:labelLineLen2,minTurnAngle:labelLineModel.get("minTurnAngle"),maxSurfaceAngle:labelLineModel.get("maxSurfaceAngle"),surfaceNormal:new Point/* default */.Z(nx,ny),linePoints:linePoints,textAlign:textAlign,labelDistance:labelDistance,labelAlignTo:labelAlignTo,edgeDistance:edgeDistance,bleedMargin:bleedMargin,rect:textRect,unconstrainedWidth:textRect.width,labelStyleWidth:label.style.width})}sector.setTextConfig({inside:isLabelInside})}})),!hasLabelRotate&&seriesModel.get("avoidLabelOverlap")&&avoidOverlap(labelLayoutList,cx,cy,r,viewWidth,viewHeight,viewLeft,viewTop);for(var i=0;i<labelLayoutList.length;i++){var layout=labelLayoutList[i],label=layout.label,labelLine=layout.labelLine,notShowLabel=isNaN(label.x)||isNaN(label.y);if(label){label.setStyle({align:layout.textAlign}),notShowLabel&&((0,util/* each */.S6)(label.states,setNotShow),label.ignore=!0);var selectState=label.states.select;selectState&&(selectState.x+=label.x,selectState.y+=label.y)}if(labelLine){var linePoints=layout.linePoints;notShowLabel||!linePoints?((0,util/* each */.S6)(labelLine.states,setNotShow),labelLine.ignore=!0):((0,labelGuideHelper/* limitTurnAngle */.qK)(linePoints,layout.minTurnAngle),(0,labelGuideHelper/* limitSurfaceAngle */._A)(linePoints,layout.surfaceNormal,layout.maxSurfaceAngle),labelLine.setShape({points:linePoints}),// Set the anchor to the midpoint of sector
label.__hostTarget.textGuideLineConfig={anchor:new Point/* default */.Z(linePoints[0][0],linePoints[0][1])})}}}
// EXTERNAL MODULE: ./node_modules/echarts/lib/label/labelStyle.js
var labelStyle=__webpack_require__(336006),sectorHelper=__webpack_require__(921249),PiePiece=
/** @class */
function(_super){function PiePiece(data,idx,startAngle){var _this=_super.call(this)||this;_this.z2=2;var text=new Text/* default */.ZP;return _this.setTextContent(text),_this.updateData(data,idx,startAngle,!0),_this}return(0,tslib_es6/* __extends */.ZT)(PiePiece,_super),PiePiece.prototype.updateData=function(data,idx,startAngle,firstCreate){var sector=this,seriesModel=data.hostModel,itemModel=data.getItemModel(idx),emphasisModel=itemModel.getModel("emphasis"),layout=data.getItemLayout(idx),sectorShape=(0,util/* extend */.l7)((0,sectorHelper/* getSectorCornerRadius */.T)(itemModel.getModel("itemStyle"),layout,!0),layout);// Ignore NaN data.
if(isNaN(sectorShape.startAngle))
// Use NaN shape to avoid drawing shape.
sector.setShape(sectorShape);else{if(firstCreate){sector.setShape(sectorShape);var animationType=seriesModel.getShallow("animationType");seriesModel.ecModel.ssr?(
// Use scale animation in SSR mode(opacity?)
// Because CSS SVG animation doesn't support very customized shape animation.
basicTransition/* initProps */.KZ(sector,{scaleX:0,scaleY:0},seriesModel,{dataIndex:idx,isFrom:!0}),sector.originX=sectorShape.cx,sector.originY=sectorShape.cy):"scale"===animationType?(sector.shape.r=layout.r0,basicTransition/* initProps */.KZ(sector,{shape:{r:layout.r}},seriesModel,idx)):null!=startAngle?(sector.setShape({startAngle:startAngle,endAngle:startAngle}),basicTransition/* initProps */.KZ(sector,{shape:{startAngle:layout.startAngle,endAngle:layout.endAngle}},seriesModel,idx)):(sector.shape.endAngle=layout.startAngle,basicTransition/* updateProps */.D(sector,{shape:{endAngle:layout.endAngle}},seriesModel,idx))}else(0,basicTransition/* saveOldStyle */.Zi)(sector),// Transition animation from the old shape
basicTransition/* updateProps */.D(sector,{shape:sectorShape},seriesModel,idx);sector.useStyle(data.getItemVisual(idx,"style")),(0,states/* setStatesStylesFromModel */.WO)(sector,itemModel);var midAngle=(layout.startAngle+layout.endAngle)/2,offset=seriesModel.get("selectedOffset"),dx=Math.cos(midAngle)*offset,dy=Math.sin(midAngle)*offset,cursorStyle=itemModel.getShallow("cursor");cursorStyle&&sector.attr("cursor",cursorStyle),this._updateLabel(seriesModel,data,idx),sector.ensureState("emphasis").shape=(0,util/* extend */.l7)({r:layout.r+(emphasisModel.get("scale")&&emphasisModel.get("scaleSize")||0)},(0,sectorHelper/* getSectorCornerRadius */.T)(emphasisModel.getModel("itemStyle"),layout)),(0,util/* extend */.l7)(sector.ensureState("select"),{x:dx,y:dy,shape:(0,sectorHelper/* getSectorCornerRadius */.T)(itemModel.getModel(["select","itemStyle"]),layout)}),(0,util/* extend */.l7)(sector.ensureState("blur"),{shape:(0,sectorHelper/* getSectorCornerRadius */.T)(itemModel.getModel(["blur","itemStyle"]),layout)});var labelLine=sector.getTextGuideLine(),labelText=sector.getTextContent();labelLine&&(0,util/* extend */.l7)(labelLine.ensureState("select"),{x:dx,y:dy}),// TODO: needs dx, dy in zrender?
(0,util/* extend */.l7)(labelText.ensureState("select"),{x:dx,y:dy}),(0,states/* toggleHoverEmphasis */.k5)(this,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled"))}},PiePiece.prototype._updateLabel=function(seriesModel,data,idx){var sector=this,itemModel=data.getItemModel(idx),labelLineModel=itemModel.getModel("labelLine"),style=data.getItemVisual(idx,"style"),visualColor=style&&style.fill,visualOpacity=style&&style.opacity;(0,labelStyle/* setLabelStyle */.ni)(sector,(0,labelStyle/* getLabelStatesModels */.k3)(itemModel),{labelFetcher:data.hostModel,labelDataIndex:idx,inheritColor:visualColor,defaultOpacity:visualOpacity,defaultText:seriesModel.getFormattedLabel(idx,"normal")||data.getName(idx)});var labelText=sector.getTextContent();// Set textConfig on sector.
sector.setTextConfig({
// reset position, rotation
position:null,rotation:null}),// Make sure update style on labelText after setLabelStyle.
// Because setLabelStyle will replace a new style on it.
labelText.attr({z2:10});var labelPosition=seriesModel.get(["label","position"]);if("outside"!==labelPosition&&"outer"!==labelPosition)sector.removeTextGuideLine();else{var polyline=this.getTextGuideLine();polyline||(polyline=new Polyline/* default */.Z,this.setTextGuideLine(polyline)),// Default use item visual color
(0,labelGuideHelper/* setLabelLineStyle */.Iu)(this,(0,labelGuideHelper/* getLabelLineStatesModels */.$x)(itemModel),{stroke:visualColor,opacity:(0,util/* retrieve3 */.R1)(labelLineModel.get(["lineStyle","opacity"]),visualOpacity,1)})}},PiePiece}(Sector/* default */.C),PieView=
/** @class */
function(_super){function PieView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ignoreLabelLineUpdate=!0,_this}return(0,tslib_es6/* __extends */.ZT)(PieView,_super),PieView.prototype.render=function(seriesModel,ecModel,api,payload){var startAngle,data=seriesModel.getData(),oldData=this._data,group=this.group;// First render
if(!oldData&&data.count()>0){for(var shape=data.getItemLayout(0),s=1;isNaN(shape&&shape.startAngle)&&s<data.count();++s)shape=data.getItemLayout(s);shape&&(startAngle=shape.startAngle)}// remove empty-circle if it exists
// when all data are filtered, show lightgray empty circle
if(this._emptyCircleSector&&group.remove(this._emptyCircleSector),0===data.count()&&seriesModel.get("showEmptyCircle")){var sector=new Sector/* default */.C({shape:getBasicPieLayout(seriesModel,api)});sector.useStyle(seriesModel.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=sector,group.add(sector)}data.diff(oldData).add((function(idx){var piePiece=new PiePiece(data,idx,startAngle);data.setItemGraphicEl(idx,piePiece),group.add(piePiece)})).update((function(newIdx,oldIdx){var piePiece=oldData.getItemGraphicEl(oldIdx);piePiece.updateData(data,newIdx,startAngle),piePiece.off("click"),group.add(piePiece),data.setItemGraphicEl(newIdx,piePiece)})).remove((function(idx){var piePiece=oldData.getItemGraphicEl(idx);basicTransition/* removeElementWithFadeOut */.XD(piePiece,seriesModel,idx)})).execute(),pieLabelLayout(seriesModel),// Always use initial animation.
"expansion"!==seriesModel.get("animationTypeUpdate")&&(this._data=data)},PieView.prototype.dispose=function(){},PieView.prototype.containPoint=function(point,seriesModel){var data=seriesModel.getData(),itemLayout=data.getItemLayout(0);if(itemLayout){var dx=point[0]-itemLayout.cx,dy=point[1]-itemLayout.cy,radius=Math.sqrt(dx*dx+dy*dy);return radius<=itemLayout.r&&radius>=itemLayout.r0}},PieView.type="pie",PieView}(Chart/* default */.Z),pie_PieView=PieView,createSeriesDataSimply=__webpack_require__(30090),model=__webpack_require__(232234),sourceHelper=__webpack_require__(161772),LegendVisualProvider=__webpack_require__(672019),Series=__webpack_require__(993321),innerData=model/* makeInner */.Yf(),PieSeriesModel=
/** @class */
function(_super){function PieSeriesModel(){return null!==_super&&_super.apply(this,arguments)||this}
/**
   * @overwrite
   */return(0,tslib_es6/* __extends */.ZT)(PieSeriesModel,_super),PieSeriesModel.prototype.init=function(option){_super.prototype.init.apply(this,arguments),// Enable legend selection for each data item
// Use a function instead of direct access because data reference may changed
this.legendVisualProvider=new LegendVisualProvider/* default */.Z(util/* bind */.ak(this.getData,this),util/* bind */.ak(this.getRawData,this)),this._defaultLabelLine(option)},
/**
   * @overwrite
   */
PieSeriesModel.prototype.mergeOption=function(){_super.prototype.mergeOption.apply(this,arguments)},
/**
   * @overwrite
   */
PieSeriesModel.prototype.getInitialData=function(){return(0,createSeriesDataSimply/* default */.Z)(this,{coordDimensions:["value"],encodeDefaulter:util/* curry */.WA(sourceHelper/* makeSeriesEncodeForNameBased */.Ss,this)})},
/**
   * @overwrite
   */
PieSeriesModel.prototype.getDataParams=function(dataIndex){var data=this.getData(),dataInner=innerData(data),seats=dataInner.seats;// update seats when data is changed
if(!seats){var valueList_1=[];data.each(data.mapDimension("value"),(function(value){valueList_1.push(value)})),seats=dataInner.seats=(0,number/* getPercentSeats */.HD)(valueList_1,data.hostModel.get("percentPrecision"))}var params=_super.prototype.getDataParams.call(this,dataIndex);// seats may be empty when sum is 0
return params.percent=seats[dataIndex]||0,params.$vars.push("percent"),params},PieSeriesModel.prototype._defaultLabelLine=function(option){
// Extend labelLine emphasis
model/* defaultEmphasis */.Cc(option,"labelLine",["show"]);var labelLineNormalOpt=option.labelLine,labelLineEmphasisOpt=option.emphasis.labelLine;// Not show label line if `label.normal.show = false`
labelLineNormalOpt.show=labelLineNormalOpt.show&&option.label.show,labelLineEmphasisOpt.show=labelLineEmphasisOpt.show&&option.emphasis.label.show},PieSeriesModel.type="series.pie",PieSeriesModel.defaultOption={
// zlevel: 0,
z:2,legendHoverLink:!0,colorBy:"data",
// 默认全局居中
center:["50%","50%"],radius:[0,"75%"],
// 默认顺时针
clockwise:!0,startAngle:90,
// 最小角度改为0
minAngle:0,
// If the angle of a sector less than `minShowLabelAngle`,
// the label will not be displayed.
minShowLabelAngle:0,
// 选中时扇区偏移量
selectedOffset:10,
// 选择模式，默认关闭，可选single，multiple
// selectedMode: false,
// 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）
// roseType: null,
percentPrecision:2,
// If still show when all data zero.
stillShowZeroSum:!0,
// cursor: null,
left:0,top:0,right:0,bottom:0,width:null,height:null,label:{
// color: 'inherit',
// If rotate around circle
rotate:0,show:!0,overflow:"truncate",
// 'outer', 'inside', 'center'
position:"outer",
// 'none', 'labelLine', 'edge'. Works only when position is 'outer'
alignTo:"none",
// Closest distance between label and chart edge.
// Works only position is 'outer' and alignTo is 'edge'.
edgeDistance:"25%",
// Works only position is 'outer' and alignTo is not 'edge'.
bleedMargin:10,
// Distance between text and label line.
distanceToLabelLine:5},
// Enabled when label.normal.position is 'outer'
labelLine:{show:!0,
// 引导线两段中的第一段长度
length:15,
// 引导线两段中的第二段长度
length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{
// color: 各异,
width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{
// Hide the overlapped label.
hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},
// If use strategy to avoid label overlapping
avoidLabelOverlap:!0,
// Animation type. Valid values: expansion, scale
animationType:"expansion",animationDuration:1e3,
// Animation type when update. Valid values: transition, expansion
animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},PieSeriesModel}(Series/* default */.Z),PieSeries=PieSeriesModel,negativeDataFilter=__webpack_require__(594401);
// EXTERNAL MODULE: ./node_modules/echarts/lib/chart/helper/sectorHelper.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/pie/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerChartView(pie_PieView),registers.registerSeriesModel(PieSeries),(0,dataSelectAction/* createLegacyDataSelectAction */.y)("pie",registers.registerAction),registers.registerLayout((0,util/* curry */.WA)(pieLayout,"pie")),registers.registerProcessor((0,dataFilter/* default */.Z)("pie")),registers.registerProcessor((0,negativeDataFilter/* default */.Z)("pie"))}
/***/},
/***/976010:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/extension.js
var extension=__webpack_require__(768023),tslib_es6=__webpack_require__(570655),createSeriesData=__webpack_require__(635144),Series=__webpack_require__(993321),ScatterSeriesModel=
/** @class */
function(_super){function ScatterSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScatterSeriesModel.type,_this.hasSymbolVisual=!0,_this}return(0,tslib_es6/* __extends */.ZT)(ScatterSeriesModel,_super),ScatterSeriesModel.prototype.getInitialData=function(option,ecModel){return(0,createSeriesData/* default */.Z)(null,this,{useEncodeDefaulter:!0})},ScatterSeriesModel.prototype.getProgressive=function(){var progressive=this.option.progressive;return null==progressive?this.option.large?5e3:this.get("progressive"):progressive},ScatterSeriesModel.prototype.getProgressiveThreshold=function(){var progressiveThreshold=this.option.progressiveThreshold;return null==progressiveThreshold?this.option.large?1e4:this.get("progressiveThreshold"):progressiveThreshold},ScatterSeriesModel.prototype.brushSelector=function(dataIndex,data,selectors){return selectors.point(data.getItemLayout(dataIndex))},ScatterSeriesModel.prototype.getZLevelKey=function(){
// Each progressive series has individual key.
return this.getData().count()>this.getProgressiveThreshold()?this.id:""},ScatterSeriesModel.type="series.scatter",ScatterSeriesModel.dependencies=["grid","polar","geo","singleAxis","calendar"],ScatterSeriesModel.defaultOption={coordinateSystem:"cartesian2d",
// zlevel: 0,
z:2,legendHoverLink:!0,symbolSize:10,
// symbolRotate: null,  // 图形旋转控制
large:!1,
// Available when large is true
largeThreshold:2e3,
// cursor: null,
itemStyle:{opacity:.8},emphasis:{scale:!0},
// If clip the overflow graphics
// Works on cartesian / polar series
clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},ScatterSeriesModel}(Series/* default */.Z),ScatterSeries=ScatterSeriesModel,SymbolDraw=__webpack_require__(168162),BoundingRect=__webpack_require__(260479),Path=__webpack_require__(696997),Group=__webpack_require__(38154),symbol=__webpack_require__(241525),innerStore=__webpack_require__(30106),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=
/** @class */
function(){function LargeSymbolPathShape(){}return LargeSymbolPathShape}(),LargeSymbolPath=
/** @class */
function(_super){function LargeSymbolPath(opts){var _this=_super.call(this,opts)||this;return _this._off=0,_this.hoverDataIdx=-1,_this}return(0,tslib_es6/* __extends */.ZT)(LargeSymbolPath,_super),LargeSymbolPath.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},LargeSymbolPath.prototype.reset=function(){this.notClear=!1,this._off=0},LargeSymbolPath.prototype.buildPath=function(path,shape){var i,points=shape.points,size=shape.size,symbolProxy=this.symbolProxy,symbolProxyShape=symbolProxy.shape,ctx=path.getContext?path.getContext():path,canBoost=ctx&&size[0]<BOOST_SIZE_THRESHOLD,softClipShape=this.softClipShape;// Do draw in afterBrush.
if(canBoost)this._ctx=ctx;else{for(this._ctx=null,i=this._off;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||(softClipShape&&!softClipShape.contain(x,y)||(symbolProxyShape.x=x-size[0]/2,symbolProxyShape.y=y-size[1]/2,symbolProxyShape.width=size[0],symbolProxyShape.height=size[1],symbolProxy.buildPath(path,symbolProxyShape,!0)))}this.incremental&&(this._off=i,this.notClear=!0)}},LargeSymbolPath.prototype.afterBrush=function(){var i,shape=this.shape,points=shape.points,size=shape.size,ctx=this._ctx,softClipShape=this.softClipShape;if(ctx){// PENDING If style or other canvas status changed?
for(i=this._off;i<points.length;){var x=points[i++],y=points[i++];isNaN(x)||isNaN(y)||(softClipShape&&!softClipShape.contain(x,y)||// fillRect is faster than building a rect path and draw.
// And it support light globalCompositeOperation.
ctx.fillRect(x-size[0]/2,y-size[1]/2,size[0],size[1]))}this.incremental&&(this._off=i,this.notClear=!0)}},LargeSymbolPath.prototype.findDataIndex=function(x,y){// Not consider transform
// Treat each element as a rect
// top down traverse
for(
// TODO ???
// Consider transform
var shape=this.shape,points=shape.points,size=shape.size,w=Math.max(size[0],4),h=Math.max(size[1],4),idx=points.length/2-1;idx>=0;idx--){var i=2*idx,x0=points[i]-w/2,y0=points[i+1]-h/2;if(x>=x0&&y>=y0&&x<=x0+w&&y<=y0+h)return idx}return-1},LargeSymbolPath.prototype.contain=function(x,y){var localPos=this.transformCoordToLocal(x,y),rect=this.getBoundingRect();if(x=localPos[0],y=localPos[1],rect.contain(x,y)){
// Cache found data index.
var dataIdx=this.hoverDataIdx=this.findDataIndex(x,y);return dataIdx>=0}return this.hoverDataIdx=-1,!1},LargeSymbolPath.prototype.getBoundingRect=function(){
// Ignore stroke for large symbol draw.
var rect=this._rect;if(!rect){for(var shape=this.shape,points=shape.points,size=shape.size,w=size[0],h=size[1],minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0,i=0;i<points.length;){var x=points[i++],y=points[i++];minX=Math.min(x,minX),maxX=Math.max(x,maxX),minY=Math.min(y,minY),maxY=Math.max(y,maxY)}rect=this._rect=new BoundingRect/* default */.Z(minX-w/2,minY-h/2,maxX-minX+w,maxY-minY+h)}return rect},LargeSymbolPath}(Path/* default */.ZP),LargeSymbolDraw=
/** @class */
function(){function LargeSymbolDraw(){this.group=new Group/* default */.Z}
/**
   * Update symbols draw by new data
   */return LargeSymbolDraw.prototype.updateData=function(data,opt){this._clear();var symbolEl=this._create();symbolEl.setShape({points:data.getLayout("points")}),this._setCommon(symbolEl,data,opt)},LargeSymbolDraw.prototype.updateLayout=function(data){var points=data.getLayout("points");this.group.eachChild((function(child){if(null!=child.startIndex){var len=2*(child.endIndex-child.startIndex),byteOffset=4*child.startIndex*2;points=new Float32Array(points.buffer,byteOffset,len)}child.setShape("points",points),// Reset draw cursor.
child.reset()}))},LargeSymbolDraw.prototype.incrementalPrepareUpdate=function(data){this._clear()},LargeSymbolDraw.prototype.incrementalUpdate=function(taskParams,data,opt){var lastAdded=this._newAdded[0],points=data.getLayout("points"),oldPoints=lastAdded&&lastAdded.shape.points;// Merging the exists. Each element has 1e4 points.
// Consider the performance balance between too much elements and too much points in one shape(may affect hover optimization)
if(oldPoints&&oldPoints.length<2e4){var oldLen=oldPoints.length,newPoints=new Float32Array(oldLen+points.length);// Concat two array
newPoints.set(oldPoints),newPoints.set(points,oldLen),// Update endIndex
lastAdded.endIndex=taskParams.end,lastAdded.setShape({points:newPoints})}else{
// Clear
this._newAdded=[];var symbolEl=this._create();symbolEl.startIndex=taskParams.start,symbolEl.endIndex=taskParams.end,symbolEl.incremental=!0,symbolEl.setShape({points:points}),this._setCommon(symbolEl,data,opt)}},LargeSymbolDraw.prototype.eachRendered=function(cb){this._newAdded[0]&&cb(this._newAdded[0])},LargeSymbolDraw.prototype._create=function(){var symbolEl=new LargeSymbolPath({cursor:"default"});return symbolEl.ignoreCoarsePointer=!0,this.group.add(symbolEl),this._newAdded.push(symbolEl),symbolEl},LargeSymbolDraw.prototype._setCommon=function(symbolEl,data,opt){var hostModel=data.hostModel;opt=opt||{};var size=data.getVisual("symbolSize");symbolEl.setShape("size",size instanceof Array?size:[size,size]),symbolEl.softClipShape=opt.clipShape||null,// Create symbolProxy to build path for each data
symbolEl.symbolProxy=(0,symbol/* createSymbol */.th)(data.getVisual("symbol"),0,0,0,0),// Use symbolProxy setColor method
symbolEl.setColor=symbolEl.symbolProxy.setColor;var extrudeShadow=symbolEl.shape.size[0]<BOOST_SIZE_THRESHOLD;symbolEl.useStyle(// Draw shadow when doing fillRect is extremely slow.
hostModel.getModel("itemStyle").getItemStyle(extrudeShadow?["color","shadowBlur","shadowColor"]:["color"]));var globalStyle=data.getVisual("style"),visualColor=globalStyle&&globalStyle.fill;visualColor&&symbolEl.setColor(visualColor);var ecData=(0,innerStore/* getECData */.A)(symbolEl);// Enable tooltip
// PENDING May have performance issue when path is extremely large
ecData.seriesIndex=hostModel.seriesIndex,symbolEl.on("mousemove",(function(e){ecData.dataIndex=null;var dataIndex=symbolEl.hoverDataIdx;dataIndex>=0&&(
// Provide dataIndex for tooltip
ecData.dataIndex=dataIndex+(symbolEl.startIndex||0))}))},LargeSymbolDraw.prototype.remove=function(){this._clear()},LargeSymbolDraw.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},LargeSymbolDraw}(),helper_LargeSymbolDraw=LargeSymbolDraw,points=__webpack_require__(621149),Chart=__webpack_require__(975797),ScatterView=
/** @class */
function(_super){function ScatterView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScatterView.type,_this}return(0,tslib_es6/* __extends */.ZT)(ScatterView,_super),ScatterView.prototype.render=function(seriesModel,ecModel,api){var data=seriesModel.getData(),symbolDraw=this._updateSymbolDraw(data,seriesModel);symbolDraw.updateData(data,{
// TODO
// If this parameter should be a shape or a bounding volume
// shape will be more general.
// But bounding volume like bounding rect will be much faster in the contain calculation
clipShape:this._getClipShape(seriesModel)}),this._finished=!0},ScatterView.prototype.incrementalPrepareRender=function(seriesModel,ecModel,api){var data=seriesModel.getData(),symbolDraw=this._updateSymbolDraw(data,seriesModel);symbolDraw.incrementalPrepareUpdate(data),this._finished=!1},ScatterView.prototype.incrementalRender=function(taskParams,seriesModel,ecModel){this._symbolDraw.incrementalUpdate(taskParams,seriesModel.getData(),{clipShape:this._getClipShape(seriesModel)}),this._finished=taskParams.end===seriesModel.getData().count()},ScatterView.prototype.updateTransform=function(seriesModel,ecModel,api){var data=seriesModel.getData();// Must mark group dirty and make sure the incremental layer will be cleared
// PENDING
if(this.group.dirty(),!this._finished||data.count()>1e4)return{update:!0};var res=(0,points/* default */.Z)("").reset(seriesModel,ecModel,api);res.progress&&res.progress({start:0,end:data.count(),count:data.count()},data),this._symbolDraw.updateLayout(data)},ScatterView.prototype.eachRendered=function(cb){this._symbolDraw&&this._symbolDraw.eachRendered(cb)},ScatterView.prototype._getClipShape=function(seriesModel){var coordSys=seriesModel.coordinateSystem,clipArea=coordSys&&coordSys.getArea&&coordSys.getArea();return seriesModel.get("clip",!0)?clipArea:null},ScatterView.prototype._updateSymbolDraw=function(data,seriesModel){var symbolDraw=this._symbolDraw,pipelineContext=seriesModel.pipelineContext,isLargeDraw=pipelineContext.large;return symbolDraw&&isLargeDraw===this._isLargeDraw||(symbolDraw&&symbolDraw.remove(),symbolDraw=this._symbolDraw=isLargeDraw?new helper_LargeSymbolDraw:new SymbolDraw/* default */.Z,this._isLargeDraw=isLargeDraw,this.group.removeAll()),this.group.add(symbolDraw.group),symbolDraw},ScatterView.prototype.remove=function(ecModel,api){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},ScatterView.prototype.dispose=function(){},ScatterView.type="scatter",ScatterView}(Chart/* default */.Z),scatter_ScatterView=ScatterView,installSimple=__webpack_require__(314366);
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/scatter/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){
// In case developer forget to include grid component
(0,extension/* use */.D)(installSimple/* install */.N),registers.registerSeriesModel(ScatterSeries),registers.registerChartView(scatter_ScatterView),registers.registerLayout((0,points/* default */.Z)("scatter"))}
/***/},
/***/374661:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/util.js
var util=__webpack_require__(933051);// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/helper/treeHelper.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function retrieveTargetInfo(payload,validPayloadTypes,seriesModel){if(payload&&util/* indexOf */.cq(validPayloadTypes,payload.type)>=0){var root=seriesModel.getData().tree.root,targetNode=payload.targetNode;if(util/* isString */.HD(targetNode)&&(targetNode=root.getNodeById(targetNode)),targetNode&&root.contains(targetNode))return{node:targetNode};var targetNodeId=payload.targetNodeId;if(null!=targetNodeId&&(targetNode=root.getNodeById(targetNodeId)))return{node:targetNode}}}// Not includes the given node at the last item.
function getPathToRoot(node){var path=[];while(node)node=node.parentNode,node&&path.push(node);return path.reverse()}function aboveViewRoot(viewRoot,node){var viewPath=getPathToRoot(viewRoot);return util/* indexOf */.cq(viewPath,node)>=0}// From root to the input node (the input node will be included).
function wrapTreePathInfo(node,seriesModel){var treePathInfo=[];while(node){var nodeDataIndex=node.dataIndex;treePathInfo.push({name:node.name,dataIndex:nodeDataIndex,value:seriesModel.getRawValue(nodeDataIndex)}),node=node.parentNode}return treePathInfo.reverse(),treePathInfo}// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/treemap/treemapAction.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(registers){for(var i=0;i<actionTypes.length;i++)registers.registerAction({type:actionTypes[i],update:"updateView"},util/* noop */.ZT);registers.registerAction({type:"treemapRootToNode",update:"updateView"},(function(payload,ecModel){function handleRootToNode(model,index){var types=["treemapZoomToNode","treemapRootToNode"],targetInfo=retrieveTargetInfo(payload,types,model);if(targetInfo){var originViewRoot=model.getViewRoot();originViewRoot&&(payload.direction=aboveViewRoot(originViewRoot,targetInfo.node)?"rollUp":"drillDown"),model.resetViewRoot(targetInfo.node)}}ecModel.eachComponent({mainType:"series",subType:"treemap",query:payload},handleRootToNode)}))}
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),Series=__webpack_require__(993321),model=__webpack_require__(232234),inner=(0,model/* makeInner */.Yf)();
// EXTERNAL MODULE: ./node_modules/echarts/lib/model/Series.js
function linkSeriesData(opt){var mainData=opt.mainData,datas=opt.datas;datas||(datas={main:mainData},opt.datasAttr={main:"data"}),opt.datas=opt.mainData=null,linkAll(mainData,datas,opt),// Porxy data original methods.
(0,util/* each */.S6)(datas,(function(data){(0,util/* each */.S6)(mainData.TRANSFERABLE_METHODS,(function(methodName){data.wrapMethod(methodName,(0,util/* curry */.WA)(transferInjection,opt))}))})),// Beyond transfer, additional features should be added to `cloneShallow`.
mainData.wrapMethod("cloneShallow",(0,util/* curry */.WA)(cloneShallowInjection,opt)),// Only mainData trigger change, because struct.update may trigger
// another changable methods, which may bring about dead lock.
(0,util/* each */.S6)(mainData.CHANGABLE_METHODS,(function(methodName){mainData.wrapMethod(methodName,(0,util/* curry */.WA)(changeInjection,opt))})),// Make sure datas contains mainData.
(0,util/* assert */.hu)(datas[mainData.dataType]===mainData)}function transferInjection(opt,res){if(isMainData(this)){
// Transfer datas to new main data.
var datas=(0,util/* extend */.l7)({},inner(this).datas);datas[this.dataType]=res,linkAll(res,datas,opt)}else
// Modify the reference in main data to point newData.
linkSingle(res,this.dataType,inner(this).mainData,opt);return res}function changeInjection(opt,res){return opt.struct&&opt.struct.update(),res}function cloneShallowInjection(opt,res){
// cloneShallow, which brings about some fragilities, may be inappropriate
// to be exposed as an API. So for implementation simplicity we can make
// the restriction that cloneShallow of not-mainData should not be invoked
// outside, but only be invoked here.
return(0,util/* each */.S6)(inner(res).datas,(function(data,dataType){data!==res&&linkSingle(data.cloneShallow(),dataType,res,opt)})),res}
/**
 * Supplement method to List.
 *
 * @public
 * @param [dataType] If not specified, return mainData.
 */function getLinkedData(dataType){var mainData=inner(this).mainData;return null==dataType||null==mainData?mainData:inner(mainData).datas[dataType]}
/**
 * Get list of all linked data
 */function getLinkedDataAll(){var mainData=inner(this).mainData;return null==mainData?[{data:mainData}]:(0,util/* map */.UI)((0,util/* keys */.XP)(inner(mainData).datas),(function(type){return{type:type,data:inner(mainData).datas[type]}}))}function isMainData(data){return inner(data).mainData===data}function linkAll(mainData,datas,opt){inner(mainData).datas={},(0,util/* each */.S6)(datas,(function(data,dataType){linkSingle(data,dataType,mainData,opt)}))}function linkSingle(data,dataType,mainData,opt){inner(mainData).datas[dataType]=data,inner(data).mainData=mainData,data.dataType=dataType,opt.struct&&(data[opt.structAttr]=opt.struct,opt.struct[opt.datasAttr[dataType]]=data),// Supplement method.
data.getLinkedData=getLinkedData,data.getLinkedDataAll=getLinkedDataAll}
/* harmony default export */var helper_linkSeriesData=linkSeriesData,SeriesData=__webpack_require__(305101),createDimensions=__webpack_require__(555623),TreeNode=
/** @class */
function(){function TreeNode(name,hostTree){this.depth=0,this.height=0,
/**
     * Reference to list item.
     * Do not persistent dataIndex outside,
     * besause it may be changed by list.
     * If dataIndex -1,
     * this node is logical deleted (filtered) in list.
     */
this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=name||"",this.hostTree=hostTree}
/**
   * The node is removed.
   */return TreeNode.prototype.isRemoved=function(){return this.dataIndex<0},TreeNode.prototype.eachNode=function(options,cb,context){util/* isFunction */.mf(options)&&(context=cb,cb=options,options=null),options=options||{},util/* isString */.HD(options)&&(options={order:options});var suppressVisitSub,order=options.order||"preorder",children=this[options.attr||"children"];"preorder"===order&&(suppressVisitSub=cb.call(context,this));for(var i=0;!suppressVisitSub&&i<children.length;i++)children[i].eachNode(options,cb,context);"postorder"===order&&cb.call(context,this)},
/**
   * Update depth and height of this subtree.
   */
TreeNode.prototype.updateDepthAndHeight=function(depth){var height=0;this.depth=depth;for(var i=0;i<this.children.length;i++){var child=this.children[i];child.updateDepthAndHeight(depth+1),child.height>height&&(height=child.height)}this.height=height+1},TreeNode.prototype.getNodeById=function(id){if(this.getId()===id)return this;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].getNodeById(id);if(res)return res}},TreeNode.prototype.contains=function(node){if(node===this)return!0;for(var i=0,children=this.children,len=children.length;i<len;i++){var res=children[i].contains(node);if(res)return res}},
/**
   * @param includeSelf Default false.
   * @return order: [root, child, grandchild, ...]
   */
TreeNode.prototype.getAncestors=function(includeSelf){var ancestors=[],node=includeSelf?this:this.parentNode;while(node)ancestors.push(node),node=node.parentNode;return ancestors.reverse(),ancestors},TreeNode.prototype.getAncestorsIndices=function(){var indices=[],currNode=this;while(currNode)indices.push(currNode.dataIndex),currNode=currNode.parentNode;return indices.reverse(),indices},TreeNode.prototype.getDescendantIndices=function(){var indices=[];return this.eachNode((function(childNode){indices.push(childNode.dataIndex)})),indices},TreeNode.prototype.getValue=function(dimension){var data=this.hostTree.data;return data.getStore().get(data.getDimensionIndex(dimension||"value"),this.dataIndex)},TreeNode.prototype.setLayout=function(layout,merge){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,layout,merge)},
/**
   * @return {Object} layout
   */
TreeNode.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},// @depcrecated
// getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>
// eslint-disable-next-line @typescript-eslint/no-unused-vars
TreeNode.prototype.getModel=function(path){if(!(this.dataIndex<0)){var hostTree=this.hostTree,itemModel=hostTree.data.getItemModel(this.dataIndex);return itemModel.getModel(path)}},// TODO: TYPE More specific model
TreeNode.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},TreeNode.prototype.setVisual=function(key,value){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,key,value)},
/**
   * Get item visual
   * FIXME: make return type better
   */
TreeNode.prototype.getVisual=function(key){return this.hostTree.data.getItemVisual(this.dataIndex,key)},TreeNode.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},TreeNode.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},
/**
   * index in parent's children
   */
TreeNode.prototype.getChildIndex=function(){if(this.parentNode){for(var children=this.parentNode.children,i=0;i<children.length;++i)if(children[i]===this)return i;return-1}return-1},
/**
   * if this is an ancestor of another node
   *
   * @param node another node
   * @return if is ancestor
   */
TreeNode.prototype.isAncestorOf=function(node){var parent=node.parentNode;while(parent){if(parent===this)return!0;parent=parent.parentNode}return!1},
/**
   * if this is an descendant of another node
   *
   * @param node another node
   * @return if is descendant
   */
TreeNode.prototype.isDescendantOf=function(node){return node!==this&&node.isAncestorOf(this)},TreeNode}(),Tree=
/** @class */
function(){function Tree(hostModel){this.type="tree",this._nodes=[],this.hostModel=hostModel}return Tree.prototype.eachNode=function(options,cb,context){this.root.eachNode(options,cb,context)},Tree.prototype.getNodeByDataIndex=function(dataIndex){var rawIndex=this.data.getRawIndex(dataIndex);return this._nodes[rawIndex]},Tree.prototype.getNodeById=function(name){return this.root.getNodeById(name)},
/**
   * Update item available by list,
   * when list has been performed options like 'filterSelf' or 'map'.
   */
Tree.prototype.update=function(){for(var data=this.data,nodes=this._nodes,i=0,len=nodes.length;i<len;i++)nodes[i].dataIndex=-1;for(i=0,len=data.count();i<len;i++)nodes[data.getRawIndex(i)].dataIndex=i},
/**
   * Clear all layouts
   */
Tree.prototype.clearLayouts=function(){this.data.clearItemLayouts()},
/**
   * data node format:
   * {
   *     name: ...
   *     value: ...
   *     children: [
   *         {
   *             name: ...
   *             value: ...
   *             children: ...
   *         },
   *         ...
   *     ]
   * }
   */
Tree.createTree=function(dataRoot,hostModel,beforeLink){var tree=new Tree(hostModel),listData=[],dimMax=1;function buildHierarchy(dataNode,parentNode){var value=dataNode.value;dimMax=Math.max(dimMax,util/* isArray */.kJ(value)?value.length:1),listData.push(dataNode);var node=new TreeNode((0,model/* convertOptionIdName */.U5)(dataNode.name,""),tree);parentNode?addChild(node,parentNode):tree.root=node,tree._nodes.push(node);var children=dataNode.children;if(children)for(var i=0;i<children.length;i++)buildHierarchy(children[i],node)}buildHierarchy(dataRoot),tree.root.updateDepthAndHeight(0);var dimensions=(0,createDimensions/* default */.Z)(listData,{coordDimensions:["value"],dimensionsCount:dimMax}).dimensions,list=new SeriesData/* default */.Z(dimensions,hostModel);return list.initData(listData),beforeLink&&beforeLink(list),helper_linkSeriesData({mainData:list,struct:tree,structAttr:"tree"}),tree.update(),tree},Tree}();
// EXTERNAL MODULE: ./node_modules/echarts/lib/data/SeriesData.js
/**
 * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,
 * so this function is not ready and not necessary to be public.
 */
function addChild(child,node){var children=node.children;child.parentNode!==node&&(children.push(child),child.parentNode=node)}
/* harmony default export */var data_Tree=Tree,Model=__webpack_require__(812312),tooltipMarkup=__webpack_require__(305685),palette=__webpack_require__(975494);
// EXTERNAL MODULE: ./node_modules/echarts/lib/model/Model.js + 2 modules
// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/helper/enableAriaDecalForTree.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function enableAriaDecalForTree(seriesModel){var data=seriesModel.getData(),tree=data.tree,decalPaletteScope={};tree.eachNode((function(node){
// Use decal of level 1 node
var current=node;while(current&&current.depth>1)current=current.parentNode;var decal=(0,palette/* getDecalFromPalette */.i)(seriesModel.ecModel,current.name||current.dataIndex+"",decalPaletteScope);node.setVisual("decal",decal)}))}// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/treemap/TreemapSeries.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var TreemapSeriesModel=
/** @class */
function(_super){function TreemapSeriesModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapSeriesModel.type,_this.preventUsingHoverLayer=!0,_this}
/**
   * @override
   */return(0,tslib_es6/* __extends */.ZT)(TreemapSeriesModel,_super),TreemapSeriesModel.prototype.getInitialData=function(option,ecModel){
// Create a virtual root.
var root={name:option.name,children:option.data};completeTreeValue(root);var levels=option.levels||[],designatedVisualItemStyle=this.designatedVisualItemStyle={},designatedVisualModel=new Model/* default */.Z({itemStyle:designatedVisualItemStyle},this,ecModel);// Used in "visual priority" in `treemapVisual.js`.
// This way is a little tricky, must satisfy the precondition:
//   1. There is no `treeNode.getModel('itemStyle.xxx')` used.
//   2. The `Model.prototype.getModel()` will not use any clone-like way.
levels=option.levels=setDefault(levels,ecModel);var levelModels=util/* map */.UI(levels||[],(function(levelDefine){return new Model/* default */.Z(levelDefine,designatedVisualModel,ecModel)}),this),tree=data_Tree.createTree(root,this,beforeLink);// Make sure always a new tree is created when setOption,
// in TreemapView, we check whether oldTree === newTree
// to choose mappings approach among old shapes and new shapes.
function beforeLink(nodeData){nodeData.wrapMethod("getItemModel",(function(model,idx){var node=tree.getNodeByDataIndex(idx),levelModel=node?levelModels[node.depth]:null;// If no levelModel, we also need `designatedVisualModel`.
return model.parentModel=levelModel||designatedVisualModel,model}))}return tree.data},TreemapSeriesModel.prototype.optionUpdated=function(){this.resetViewRoot()},
/**
   * @override
   * @param {number} dataIndex
   * @param {boolean} [mutipleSeries=false]
   */
TreemapSeriesModel.prototype.formatTooltip=function(dataIndex,multipleSeries,dataType){var data=this.getData(),value=this.getRawValue(dataIndex),name=data.getName(dataIndex);return(0,tooltipMarkup/* createTooltipMarkup */.TX)("nameValue",{name:name,value:value})},
/**
   * Add tree path to tooltip param
   *
   * @override
   * @param {number} dataIndex
   * @return {Object}
   */
TreemapSeriesModel.prototype.getDataParams=function(dataIndex){var params=_super.prototype.getDataParams.apply(this,arguments),node=this.getData().tree.getNodeByDataIndex(dataIndex);return params.treeAncestors=wrapTreePathInfo(node,this),// compatitable the previous code.
params.treePathInfo=params.treeAncestors,params},
/**
   * @public
   * @param {Object} layoutInfo {
   *                                x: containerGroup x
   *                                y: containerGroup y
   *                                width: containerGroup width
   *                                height: containerGroup height
   *                            }
   */
TreemapSeriesModel.prototype.setLayoutInfo=function(layoutInfo){
/**
     * @readOnly
     * @type {Object}
     */
this.layoutInfo=this.layoutInfo||{},util/* extend */.l7(this.layoutInfo,layoutInfo)},
/**
   * @param  {string} id
   * @return {number} index
   */
TreemapSeriesModel.prototype.mapIdToIndex=function(id){
// A feature is implemented:
// index is monotone increasing with the sequence of
// input id at the first time.
// This feature can make sure that each data item and its
// mapped color have the same index between data list and
// color list at the beginning, which is useful for user
// to adjust data-color mapping.
/**
     * @private
     * @type {Object}
     */
var idIndexMap=this._idIndexMap;idIndexMap||(idIndexMap=this._idIndexMap=util/* createHashMap */.kW(),
/**
       * @private
       * @type {number}
       */
this._idIndexMapCount=0);var index=idIndexMap.get(id);return null==index&&idIndexMap.set(id,index=this._idIndexMapCount++),index},TreemapSeriesModel.prototype.getViewRoot=function(){return this._viewRoot},TreemapSeriesModel.prototype.resetViewRoot=function(viewRoot){viewRoot?this._viewRoot=viewRoot:viewRoot=this._viewRoot;var root=this.getRawData().tree.root;viewRoot&&(viewRoot===root||root.contains(viewRoot))||(this._viewRoot=root)},TreemapSeriesModel.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},TreemapSeriesModel.type="series.treemap",TreemapSeriesModel.layoutMode="box",TreemapSeriesModel.defaultOption={
// Disable progressive rendering
progressive:0,
// size: ['80%', '80%'],            // deprecated, compatible with ec2.
left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",
// to align specialized icon. ▷▶❒❐▼✚
zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",
// right
// bottom
emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,
// Do not use textDistance, for ellipsis rect just the same as treemap node rect.
distance:0,padding:5,position:"inside",
// formatter: null,
color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,
// formatter: null,
// color: '#fff',
overflow:"truncate",
// align: null,
verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],
// level[n].color (if necessary).
// + Specify color list of each level. level[0].color would be global
// color list if not specified. (see method `setDefault`).
// + But set as a empty array to forbid fetch color from global palette
// when using nodeModel.get('color'), otherwise nodes on deep level
// will always has color palette set and are not able to inherit color
// from parent node.
// + TreemapSeries.color can not be set as 'none', otherwise effect
// legend color fetching (see seriesColor.js).
colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,
// be rendered. Only works when sort is 'asc' or 'desc'.
childrenVisibleMin:null,
// grandchildren will not show.
// Why grandchildren? If not grandchildren but children,
// some siblings show children and some not,
// the appearance may be mess and not consistent,
levels:[]},TreemapSeriesModel}(Series/* default */.Z);
/**
 * @param {Object} dataNode
 */function completeTreeValue(dataNode){
// Postorder travel tree.
// If value of none-leaf node is not set,
// calculate it by suming up the value of all children.
var sum=0;util/* each */.S6(dataNode.children,(function(child){completeTreeValue(child);var childValue=child.value;util/* isArray */.kJ(childValue)&&(childValue=childValue[0]),sum+=childValue}));var thisValue=dataNode.value;util/* isArray */.kJ(thisValue)&&(thisValue=thisValue[0]),(null==thisValue||isNaN(thisValue))&&(thisValue=sum),// Value should not less than 0.
thisValue<0&&(thisValue=0),util/* isArray */.kJ(dataNode.value)?dataNode.value[0]=thisValue:dataNode.value=thisValue}
/**
 * set default to level configuration
 */function setDefault(levels,ecModel){var globalColorList=(0,model/* normalizeToArray */.kF)(ecModel.get("color")),globalDecalList=(0,model/* normalizeToArray */.kF)(ecModel.get(["aria","decal","decals"]));if(globalColorList){var hasColorDefine,hasDecalDefine;levels=levels||[],util/* each */.S6(levels,(function(levelDefine){var model=new Model/* default */.Z(levelDefine),modelColor=model.get("color"),modelDecal=model.get("decal");(model.get(["itemStyle","color"])||modelColor&&"none"!==modelColor)&&(hasColorDefine=!0),(model.get(["itemStyle","decal"])||modelDecal&&"none"!==modelDecal)&&(hasDecalDefine=!0)}));var level0=levels[0]||(levels[0]={});return hasColorDefine||(level0.color=globalColorList.slice()),!hasDecalDefine&&globalDecalList&&(level0.decal=globalDecalList.slice()),levels}}
/* harmony default export */var TreemapSeries=TreemapSeriesModel,Group=__webpack_require__(38154),Rect=__webpack_require__(25293),innerStore=__webpack_require__(30106),states=__webpack_require__(726357),DataDiffer=__webpack_require__(904130),Polygon=__webpack_require__(195094),Text=__webpack_require__(679750),layout=__webpack_require__(576172),labelStyle=__webpack_require__(336006),TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=
/** @class */
function(){function Breadcrumb(containerGroup){this.group=new Group/* default */.Z,containerGroup.add(this.group)}return Breadcrumb.prototype.render=function(seriesModel,api,targetNode,onSelect){var model=seriesModel.getModel("breadcrumb"),thisGroup=this.group;if(thisGroup.removeAll(),model.get("show")&&targetNode){var normalStyleModel=model.getModel("itemStyle"),emphasisModel=model.getModel("emphasis"),textStyleModel=normalStyleModel.getModel("textStyle"),emphasisTextStyleModel=emphasisModel.getModel(["itemStyle","textStyle"]),layoutParam={pos:{left:model.get("left"),right:model.get("right"),top:model.get("top"),bottom:model.get("bottom")},box:{width:api.getWidth(),height:api.getHeight()},emptyItemWidth:model.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(targetNode,layoutParam,textStyleModel),this._renderContent(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect),layout/* positionElement */.p$(thisGroup,layoutParam.pos,layoutParam.box)}},
/**
   * Prepare render list and total width
   * @private
   */
Breadcrumb.prototype._prepare=function(targetNode,layoutParam,textStyleModel){for(var node=targetNode;node;node=node.parentNode){var text=(0,model/* convertOptionIdName */.U5)(node.getModel().get("name"),""),textRect=textStyleModel.getTextRect(text),itemWidth=Math.max(textRect.width+2*TEXT_PADDING,layoutParam.emptyItemWidth);layoutParam.totalWidth+=itemWidth+ITEM_GAP,layoutParam.renderList.push({node:node,text:text,width:itemWidth})}},
/**
   * @private
   */
Breadcrumb.prototype._renderContent=function(seriesModel,layoutParam,normalStyleModel,emphasisModel,textStyleModel,emphasisTextStyleModel,onSelect){for(
// Start rendering.
var lastX=0,emptyItemWidth=layoutParam.emptyItemWidth,height=seriesModel.get(["breadcrumb","height"]),availableSize=layout/* getAvailableSize */.lq(layoutParam.pos,layoutParam.box),totalWidth=layoutParam.totalWidth,renderList=layoutParam.renderList,emphasisItemStyle=emphasisModel.getModel("itemStyle").getItemStyle(),i=renderList.length-1;i>=0;i--){var item=renderList[i],itemNode=item.node,itemWidth=item.width,text=item.text;// Hdie text and shorten width if necessary.
totalWidth>availableSize.width&&(totalWidth-=itemWidth-emptyItemWidth,itemWidth=emptyItemWidth,text=null);var el=new Polygon/* default */.Z({shape:{points:makeItemPoints(lastX,0,itemWidth,height,i===renderList.length-1,0===i)},style:(0,util/* defaults */.ce)(normalStyleModel.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{text:text})}),textConfig:{position:"inside"},z2:1e4*states/* Z2_EMPHASIS_LIFT */.zr,onclick:(0,util/* curry */.WA)(onSelect,itemNode)});el.disableLabelAnimation=!0,el.getTextContent().ensureState("emphasis").style=(0,labelStyle/* createTextStyle */.Lr)(emphasisTextStyleModel,{text:text}),el.ensureState("emphasis").style=emphasisItemStyle,(0,states/* toggleHoverEmphasis */.k5)(el,emphasisModel.get("focus"),emphasisModel.get("blurScope"),emphasisModel.get("disabled")),this.group.add(el),packEventData(el,seriesModel,itemNode),lastX+=itemWidth+ITEM_GAP}},Breadcrumb.prototype.remove=function(){this.group.removeAll()},Breadcrumb}();
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/Group.js
function makeItemPoints(x,y,itemWidth,itemHeight,head,tail){var points=[[head?x:x-ARRAY_LENGTH,y],[x+itemWidth,y],[x+itemWidth,y+itemHeight],[head?x:x-ARRAY_LENGTH,y+itemHeight]];return!tail&&points.splice(2,0,[x+itemWidth+ARRAY_LENGTH,y+itemHeight/2]),!head&&points.push([x,y+itemHeight/2]),points}// Package custom mouse event.
function packEventData(el,seriesModel,itemNode){(0,innerStore/* getECData */.A)(el).eventData={componentType:"series",componentSubType:"treemap",componentIndex:seriesModel.componentIndex,seriesIndex:seriesModel.seriesIndex,seriesName:seriesModel.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:itemNode&&itemNode.dataIndex,name:itemNode&&itemNode.name},treePathInfo:itemNode&&wrapTreePathInfo(itemNode,seriesModel)}}
/* harmony default export */var treemap_Breadcrumb=Breadcrumb,RoamController=__webpack_require__(146677),BoundingRect=__webpack_require__(260479),matrix=__webpack_require__(932892),animation=__webpack_require__(534584),makeStyleMapper=__webpack_require__(659066),Chart=__webpack_require__(975797),Displayable=__webpack_require__(207719),format=__webpack_require__(578988),TreemapView_Group=Group/* default */.Z,TreemapView_Rect=Rect/* default */.Z,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=10*states/* Z2_EMPHASIS_LIFT */.zr,Z2_BG=2*states/* Z2_EMPHASIS_LIFT */.zr,Z2_CONTENT=3*states/* Z2_EMPHASIS_LIFT */.zr,getStateItemStyle=(0,makeStyleMapper/* default */.Z)([["fill","color"],// `borderColor` and `borderWidth` has been occupied,
// so use `stroke` to indicate the stroke of the rect.
["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(model){
// Normal style props should include emphasis style props.
var itemStyle=getStateItemStyle(model);// Clear styles set by emphasis.
return itemStyle.stroke=itemStyle.fill=itemStyle.lineWidth=null,itemStyle},TreemapView_inner=(0,model/* makeInner */.Yf)(),TreemapView=
/** @class */
function(_super){function TreemapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TreemapView.type,_this._state="ready",_this._storage=createStorage(),_this}
/**
   * @override
   */return(0,tslib_es6/* __extends */.ZT)(TreemapView,_super),TreemapView.prototype.render=function(seriesModel,ecModel,api,payload){var models=ecModel.findComponents({mainType:"series",subType:"treemap",query:payload});if(!((0,util/* indexOf */.cq)(models,seriesModel)<0)){this.seriesModel=seriesModel,this.api=api,this.ecModel=ecModel;var types=["treemapZoomToNode","treemapRootToNode"],targetInfo=retrieveTargetInfo(payload,types,seriesModel),payloadType=payload&&payload.type,layoutInfo=seriesModel.layoutInfo,isInit=!this._oldTree,thisStorage=this._storage,reRoot="treemapRootToNode"===payloadType&&targetInfo&&thisStorage?{rootNodeGroup:thisStorage.nodeGroup[targetInfo.node.getRawIndex()],direction:payload.direction}:null,containerGroup=this._giveContainerGroup(layoutInfo),hasAnimation=seriesModel.get("animation"),renderResult=this._doRender(containerGroup,seriesModel,reRoot);!hasAnimation||isInit||payloadType&&"treemapZoomToNode"!==payloadType&&"treemapRootToNode"!==payloadType?renderResult.renderFinally():this._doAnimation(containerGroup,renderResult,seriesModel,reRoot),this._resetController(api),this._renderBreadcrumb(seriesModel,api,targetInfo)}},TreemapView.prototype._giveContainerGroup=function(layoutInfo){var containerGroup=this._containerGroup;return containerGroup||(
// FIXME
// 加一层containerGroup是为了clip，但是现在clip功能并没有实现。
containerGroup=this._containerGroup=new TreemapView_Group,this._initEvents(containerGroup),this.group.add(containerGroup)),containerGroup.x=layoutInfo.x,containerGroup.y=layoutInfo.y,containerGroup},TreemapView.prototype._doRender=function(containerGroup,seriesModel,reRoot){var thisTree=seriesModel.getData().tree,oldTree=this._oldTree,lastsForAnimation=createStorage(),thisStorage=createStorage(),oldStorage=this._storage,willInvisibleEls=[];function doRenderNode(thisNode,oldNode,parentGroup,depth){return renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth)}// Notice: When thisTree and oldTree are the same tree (see list.cloneShallow),
// the oldTree is actually losted, so we cannot find all of the old graphic
// elements from tree. So we use this strategy: make element storage, move
// from old storage to new storage, clear old storage.
dualTravel(thisTree.root?[thisTree.root]:[],oldTree&&oldTree.root?[oldTree.root]:[],containerGroup,thisTree===oldTree||!oldTree,0);// Process all removing.
var willDeleteEls=clearStorage(oldStorage);return this._oldTree=thisTree,this._storage=thisStorage,{lastsForAnimation:lastsForAnimation,willDeleteEls:willDeleteEls,renderFinally:renderFinally};function dualTravel(thisViewChildren,oldViewChildren,parentGroup,sameTree,depth){function getKey(node){
// Identify by name or raw index.
return node.getId()}function processNode(newIndex,oldIndex){var thisNode=null!=newIndex?thisViewChildren[newIndex]:null,oldNode=null!=oldIndex?oldViewChildren[oldIndex]:null,group=doRenderNode(thisNode,oldNode,parentGroup,depth);group&&dualTravel(thisNode&&thisNode.viewChildren||[],oldNode&&oldNode.viewChildren||[],group,sameTree,depth+1)}
// When 'render' is triggered by action,
// 'this' and 'old' may be the same tree,
// we use rawIndex in that case.
sameTree?(oldViewChildren=thisViewChildren,(0,util/* each */.S6)(thisViewChildren,(function(child,index){!child.isRemoved()&&processNode(index,index)}))):new DataDiffer/* default */.Z(oldViewChildren,thisViewChildren,getKey,getKey).add(processNode).update(processNode).remove((0,util/* curry */.WA)(processNode,null)).execute()}function clearStorage(storage){var willDeleteEls=createStorage();return storage&&(0,util/* each */.S6)(storage,(function(store,storageName){var delEls=willDeleteEls[storageName];(0,util/* each */.S6)(store,(function(el){el&&(delEls.push(el),TreemapView_inner(el).willDelete=!0)}))})),willDeleteEls}function renderFinally(){(0,util/* each */.S6)(willDeleteEls,(function(els){(0,util/* each */.S6)(els,(function(el){el.parent&&el.parent.remove(el)}))})),(0,util/* each */.S6)(willInvisibleEls,(function(el){el.invisible=!0,// Setting invisible is for optimizing, so no need to set dirty,
// just mark as invisible.
el.dirty()}))}},TreemapView.prototype._doAnimation=function(containerGroup,renderResult,seriesModel,reRoot){var durationOption=seriesModel.get("animationDurationUpdate"),easingOption=seriesModel.get("animationEasing"),duration=((0,util/* isFunction */.mf)(durationOption)?0:durationOption)||0,easing=((0,util/* isFunction */.mf)(easingOption)?null:easingOption)||"cubicOut",animationWrap=animation/* createWrap */.o();// Make delete animations.
(0,util/* each */.S6)(renderResult.willDeleteEls,(function(store,storageName){(0,util/* each */.S6)(store,(function(el,rawIndex){if(!el.invisible){var target,parent=el.parent,innerStore=TreemapView_inner(parent);// Always has parent, and parent is nodeGroup.
if(reRoot&&"drillDown"===reRoot.direction)target=parent===reRoot.rootNodeGroup?{shape:{x:0,y:0,width:innerStore.nodeWidth,height:innerStore.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var targetX=0,targetY=0;innerStore.willDelete||(
// Let node animate to right-bottom corner, cooperating with fadeout,
// which is appropriate for user understanding.
// Divided by 2 for reRoot rolling up effect.
targetX=innerStore.nodeWidth/2,targetY=innerStore.nodeHeight/2),target="nodeGroup"===storageName?{x:targetX,y:targetY,style:{opacity:0}}:{shape:{x:targetX,y:targetY,width:0,height:0},style:{opacity:0}}}// TODO: do not support delay until necessary.
target&&animationWrap.add(el,target,duration,0,easing)}}))})),// Make other animations
(0,util/* each */.S6)(this._storage,(function(store,storageName){(0,util/* each */.S6)(store,(function(el,rawIndex){var last=renderResult.lastsForAnimation[storageName][rawIndex],target={};last&&(el instanceof Group/* default */.Z?null!=last.oldX&&(target.x=el.x,target.y=el.y,el.x=last.oldX,el.y=last.oldY):(last.oldShape&&(target.shape=(0,util/* extend */.l7)({},el.shape),el.setShape(last.oldShape)),last.fadein?(el.setStyle("opacity",0),target.style={opacity:1}):1!==el.style.opacity&&(target.style={opacity:1})),animationWrap.add(el,target,duration,0,easing))}))}),this),this._state="animating",animationWrap.finished((0,util/* bind */.ak)((function(){this._state="ready",renderResult.renderFinally()}),this)).start()},TreemapView.prototype._resetController=function(api){var controller=this._controller;// Init controller.
controller||(controller=this._controller=new RoamController/* default */.Z(api.getZr()),controller.enable(this.seriesModel.get("roam")),controller.on("pan",(0,util/* bind */.ak)(this._onPan,this)),controller.on("zoom",(0,util/* bind */.ak)(this._onZoom,this)));var rect=new BoundingRect/* default */.Z(0,0,api.getWidth(),api.getHeight());controller.setPointerChecker((function(e,x,y){return rect.contain(x,y)}))},TreemapView.prototype._clearController=function(){var controller=this._controller;controller&&(controller.dispose(),controller=null)},TreemapView.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>DRAG_THRESHOLD||Math.abs(e.dy)>DRAG_THRESHOLD)){
// These param must not be cached.
var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rootLayout.x+e.dx,y:rootLayout.y+e.dy,width:rootLayout.width,height:rootLayout.height}})}},TreemapView.prototype._onZoom=function(e){var mouseX=e.originX,mouseY=e.originY;if("animating"!==this._state){
// These param must not be cached.
var root=this.seriesModel.getData().tree.root;if(!root)return;var rootLayout=root.getLayout();if(!rootLayout)return;var rect=new BoundingRect/* default */.Z(rootLayout.x,rootLayout.y,rootLayout.width,rootLayout.height),layoutInfo=this.seriesModel.layoutInfo;// Transform mouse coord from global to containerGroup.
mouseX-=layoutInfo.x,mouseY-=layoutInfo.y;// Scale root bounding rect.
var m=matrix/* create */.Ue();matrix/* translate */.Iu(m,m,[-mouseX,-mouseY]),matrix/* scale */.bA(m,m,[e.scale,e.scale]),matrix/* translate */.Iu(m,m,[mouseX,mouseY]),rect.applyTransform(m),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:rect.x,y:rect.y,width:rect.width,height:rect.height}})}},TreemapView.prototype._initEvents=function(containerGroup){var _this=this;containerGroup.on("click",(function(e){if("ready"===_this._state){var nodeClick=_this.seriesModel.get("nodeClick",!0);if(nodeClick){var targetInfo=_this.findTarget(e.offsetX,e.offsetY);if(targetInfo){var node=targetInfo.node;if(node.getLayout().isLeafRoot)_this._rootToNode(targetInfo);else if("zoomToNode"===nodeClick)_this._zoomToNode(targetInfo);else if("link"===nodeClick){var itemModel=node.hostTree.data.getItemModel(node.dataIndex),link=itemModel.get("link",!0),linkTarget=itemModel.get("target",!0)||"blank";link&&(0,format/* windowOpen */.MI)(link,linkTarget)}}}}}),this)},TreemapView.prototype._renderBreadcrumb=function(seriesModel,api,targetInfo){var _this=this;targetInfo||(targetInfo=null!=seriesModel.get("leafDepth",!0)?{node:seriesModel.getViewRoot()}:this.findTarget(api.getWidth()/2,api.getHeight()/2),targetInfo||(targetInfo={node:seriesModel.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new treemap_Breadcrumb(this.group))).render(seriesModel,api,targetInfo.node,(function(node){"animating"!==_this._state&&(aboveViewRoot(seriesModel.getViewRoot(),node)?_this._rootToNode({node:node}):_this._zoomToNode({node:node}))}))},
/**
   * @override
   */
TreemapView.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},TreemapView.prototype.dispose=function(){this._clearController()},TreemapView.prototype._zoomToNode=function(targetInfo){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},TreemapView.prototype._rootToNode=function(targetInfo){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:targetInfo.node})},
/**
   * @public
   * @param {number} x Global coord x.
   * @param {number} y Global coord y.
   * @return {Object} info If not found, return undefined;
   * @return {number} info.node Target node.
   * @return {number} info.offsetX x refer to target node.
   * @return {number} info.offsetY y refer to target node.
   */
TreemapView.prototype.findTarget=function(x,y){var targetInfo,viewRoot=this.seriesModel.getViewRoot();return viewRoot.eachNode({attr:"viewChildren",order:"preorder"},(function(node){var bgEl=this._storage.background[node.getRawIndex()];// If invisible, there might be no element.
if(bgEl){var point=bgEl.transformCoordToLocal(x,y),shape=bgEl.shape;// For performance consideration, don't use 'getBoundingRect'.
if(!(shape.x<=point[0]&&point[0]<=shape.x+shape.width&&shape.y<=point[1]&&point[1]<=shape.y+shape.height))return!1;// Suppress visit subtree.
targetInfo={node:node,offsetX:point[0],offsetY:point[1]}}}),this),targetInfo},TreemapView.type="treemap",TreemapView}(Chart/* default */.Z);
// EXTERNAL MODULE: ./node_modules/echarts/lib/component/helper/RoamController.js + 1 modules
/**
 * @inner
 */
function createStorage(){return{nodeGroup:[],background:[],content:[]}}
/**
 * @inner
 * @return Return undefined means do not travel further.
 */function renderNode(seriesModel,thisStorage,oldStorage,reRoot,lastsForAnimation,willInvisibleEls,thisNode,oldNode,parentGroup,depth){
// Whether under viewRoot.
if(thisNode){// -------------------------------------------------------------------
// Start of closure variables available in "Procedures in renderNode".
var thisLayout=thisNode.getLayout(),data=seriesModel.getData(),nodeModel=thisNode.getModel();if(// Only for enabling highlight/downplay. Clear firstly.
// Because some node will not be rendered.
data.setItemGraphicEl(thisNode.dataIndex,null),thisLayout&&thisLayout.isInView){var thisWidth=thisLayout.width,thisHeight=thisLayout.height,borderWidth=thisLayout.borderWidth,thisInvisible=thisLayout.invisible,thisRawIndex=thisNode.getRawIndex(),oldRawIndex=oldNode&&oldNode.getRawIndex(),thisViewChildren=thisNode.viewChildren,upperHeight=thisLayout.upperHeight,isParent=thisViewChildren&&thisViewChildren.length,itemStyleNormalModel=nodeModel.getModel("itemStyle"),itemStyleEmphasisModel=nodeModel.getModel(["emphasis","itemStyle"]),itemStyleBlurModel=nodeModel.getModel(["blur","itemStyle"]),itemStyleSelectModel=nodeModel.getModel(["select","itemStyle"]),borderRadius=itemStyleNormalModel.get("borderRadius")||0,group=giveGraphic("nodeGroup",TreemapView_Group);if(group){if(parentGroup.add(group),// x,y are not set when el is above view root.
group.x=thisLayout.x||0,group.y=thisLayout.y||0,group.markRedraw(),TreemapView_inner(group).nodeWidth=thisWidth,TreemapView_inner(group).nodeHeight=thisHeight,thisLayout.isAboveViewRoot)return group;// Background
var bg=giveGraphic("background",TreemapView_Rect,depth,Z2_BG);bg&&renderBackground(group,bg,isParent&&thisLayout.upperLabelHeight);var emphasisModel=nodeModel.getModel("emphasis"),focus=emphasisModel.get("focus"),blurScope=emphasisModel.get("blurScope"),isDisabled=emphasisModel.get("disabled"),focusOrIndices="ancestor"===focus?thisNode.getAncestorsIndices():"descendant"===focus?thisNode.getDescendantIndices():focus;// No children, render content.
if(isParent)
// Because of the implementation about "traverse" in graphic hover style, we
// can not set hover listener on the "group" of non-leaf node. Otherwise the
// hover event from the descendents will be listenered.
(0,states/* isHighDownDispatcher */.Av)(group)&&(0,states/* setAsHighDownDispatcher */.Nj)(group,!1),bg&&((0,states/* setAsHighDownDispatcher */.Nj)(bg,!isDisabled),// Only for enabling highlight/downplay.
data.setItemGraphicEl(thisNode.dataIndex,bg),(0,states/* enableHoverFocus */.Ib)(bg,focusOrIndices,blurScope));else{var content=giveGraphic("content",TreemapView_Rect,depth,Z2_CONTENT);content&&renderContent(group,content),bg.disableMorphing=!0,bg&&(0,states/* isHighDownDispatcher */.Av)(bg)&&(0,states/* setAsHighDownDispatcher */.Nj)(bg,!1),(0,states/* setAsHighDownDispatcher */.Nj)(group,!isDisabled),// Only for enabling highlight/downplay.
data.setItemGraphicEl(thisNode.dataIndex,group),(0,states/* enableHoverFocus */.Ib)(group,focusOrIndices,blurScope)}return group;// ----------------------------
// | Procedures in renderNode |
// ----------------------------
}}}function renderBackground(group,bg,useUpperLabel){var ecData=(0,innerStore/* getECData */.A)(bg);// For tooltip.
if(ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex,bg.setShape({x:0,y:0,width:thisWidth,height:thisHeight,r:borderRadius}),thisInvisible)
// If invisible, do not set visual, otherwise the element will
// change immediately before animation. We think it is OK to
// remain its origin color when moving out of the view window.
processInvisible(bg);else{bg.invisible=!1;var style=thisNode.getVisual("style"),visualBorderColor=style.stroke,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualBorderColor;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel);emphasisStyle.fill=itemStyleEmphasisModel.get("borderColor");var blurStyle=getStateItemStyle(itemStyleBlurModel);blurStyle.fill=itemStyleBlurModel.get("borderColor");var selectStyle=getStateItemStyle(itemStyleSelectModel);if(selectStyle.fill=itemStyleSelectModel.get("borderColor"),useUpperLabel){var upperLabelWidth=thisWidth-2*borderWidth;prepareText(// PENDING: convert ZRColor to ColorString for text.
bg,visualBorderColor,style.opacity,{x:borderWidth,y:0,width:upperLabelWidth,height:upperHeight})}// For old bg.
else bg.removeTextContent();bg.setStyle(normalStyle),bg.ensureState("emphasis").style=emphasisStyle,bg.ensureState("blur").style=blurStyle,bg.ensureState("select").style=selectStyle,(0,states/* setDefaultStateProxy */.MA)(bg)}group.add(bg)}function renderContent(group,content){var ecData=(0,innerStore/* getECData */.A)(content);// For tooltip.
ecData.dataIndex=thisNode.dataIndex,ecData.seriesIndex=seriesModel.seriesIndex;var contentWidth=Math.max(thisWidth-2*borderWidth,0),contentHeight=Math.max(thisHeight-2*borderWidth,0);if(content.culling=!0,content.setShape({x:borderWidth,y:borderWidth,width:contentWidth,height:contentHeight,r:borderRadius}),thisInvisible)
// If invisible, do not set visual, otherwise the element will
// change immediately before animation. We think it is OK to
// remain its origin color when moving out of the view window.
processInvisible(content);else{content.invisible=!1;var nodeStyle=thisNode.getVisual("style"),visualColor=nodeStyle.fill,normalStyle=getItemStyleNormal(itemStyleNormalModel);normalStyle.fill=visualColor,normalStyle.decal=nodeStyle.decal;var emphasisStyle=getStateItemStyle(itemStyleEmphasisModel),blurStyle=getStateItemStyle(itemStyleBlurModel),selectStyle=getStateItemStyle(itemStyleSelectModel);// PENDING: convert ZRColor to ColorString for text.
prepareText(content,visualColor,nodeStyle.opacity,null),content.setStyle(normalStyle),content.ensureState("emphasis").style=emphasisStyle,content.ensureState("blur").style=blurStyle,content.ensureState("select").style=selectStyle,(0,states/* setDefaultStateProxy */.MA)(content)}group.add(content)}function processInvisible(element){
// Delay invisible setting utill animation finished,
// avoid element vanish suddenly before animation.
!element.invisible&&willInvisibleEls.push(element)}function prepareText(rectEl,visualColor,visualOpacity,// Can be null/undefined
upperLabelRect){var normalLabelModel=nodeModel.getModel(upperLabelRect?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),defaultText=(0,model/* convertOptionIdName */.U5)(nodeModel.get("name"),null),isShow=normalLabelModel.getShallow("show");(0,labelStyle/* setLabelStyle */.ni)(rectEl,(0,labelStyle/* getLabelStatesModels */.k3)(nodeModel,upperLabelRect?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:isShow?defaultText:null,inheritColor:visualColor,defaultOpacity:visualOpacity,labelFetcher:seriesModel,labelDataIndex:thisNode.dataIndex});var textEl=rectEl.getTextContent();if(textEl){var textStyle=textEl.style,textPadding=(0,util/* normalizeCssArray */.MY)(textStyle.padding||0);upperLabelRect&&(rectEl.setTextConfig({layoutRect:upperLabelRect}),textEl.disableLabelLayout=!0),textEl.beforeUpdate=function(){var width=Math.max((upperLabelRect?upperLabelRect.width:rectEl.shape.width)-textPadding[1]-textPadding[3],0),height=Math.max((upperLabelRect?upperLabelRect.height:rectEl.shape.height)-textPadding[0]-textPadding[2],0);textStyle.width===width&&textStyle.height===height||textEl.setStyle({width:width,height:height})},textStyle.truncateMinChar=2,textStyle.lineOverflow="truncate",addDrillDownIcon(textStyle,upperLabelRect,thisLayout);var textEmphasisState=textEl.getState("emphasis");addDrillDownIcon(textEmphasisState?textEmphasisState.style:null,upperLabelRect,thisLayout)}}function addDrillDownIcon(style,upperLabelRect,thisLayout){var text=style?style.text:null;if(!upperLabelRect&&thisLayout.isLeafRoot&&null!=text){var iconChar=seriesModel.get("drillDownIcon",!0);style.text=iconChar?iconChar+" "+text:text}}function giveGraphic(storageName,Ctor,depth,z){var element=null!=oldRawIndex&&oldStorage[storageName][oldRawIndex],lasts=lastsForAnimation[storageName];// Set to thisStorage
return element?(
// Remove from oldStorage
oldStorage[storageName][oldRawIndex]=null,prepareAnimationWhenHasOld(lasts,element)):thisInvisible||(element=new Ctor,element instanceof Displayable/* default */.ZP&&(element.z2=calculateZ2(depth,z)),prepareAnimationWhenNoOld(lasts,element)),thisStorage[storageName][thisRawIndex]=element}function prepareAnimationWhenHasOld(lasts,element){var lastCfg=lasts[thisRawIndex]={};element instanceof TreemapView_Group?(lastCfg.oldX=element.x,lastCfg.oldY=element.y):lastCfg.oldShape=(0,util/* extend */.l7)({},element.shape)}// If a element is new, we need to find the animation start point carefully,
// otherwise it will looks strange when 'zoomToNode'.
function prepareAnimationWhenNoOld(lasts,element){var lastCfg=lasts[thisRawIndex]={},parentNode=thisNode.parentNode,isGroup=element instanceof Group/* default */.Z;if(parentNode&&(!reRoot||"drillDown"===reRoot.direction)){var parentOldX=0,parentOldY=0,parentOldBg=lastsForAnimation.background[parentNode.getRawIndex()];!reRoot&&parentOldBg&&parentOldBg.oldShape&&(parentOldX=parentOldBg.oldShape.width,parentOldY=parentOldBg.oldShape.height),// When no parent old shape found, its parent is new too,
// so we can just use {x:0, y:0}.
isGroup?(lastCfg.oldX=0,lastCfg.oldY=parentOldY):lastCfg.oldShape={x:parentOldX,y:parentOldY,width:0,height:0}}// Fade in, user can be aware that these nodes are new.
lastCfg.fadein=!isGroup}}// We cannot set all background with the same z, because the behaviour of
// drill down and roll up differ background creation sequence from tree
// hierarchy sequence, which cause lower background elements to overlap
// upper ones. So we calculate z based on depth.
// Moreover, we try to shrink down z interval to [0, 1] to avoid that
// treemap with large z overlaps other components.
function calculateZ2(depth,z2InLevel){return depth*Z2_BASE+z2InLevel}
/* harmony default export */var treemap_TreemapView=TreemapView,VisualMapping=__webpack_require__(159937),tool_color=__webpack_require__(321092),ITEM_STYLE_NORMAL="itemStyle",treemapVisual_inner=(0,model/* makeInner */.Yf)(),treemapVisual={seriesType:"treemap",reset:function(seriesModel){var tree=seriesModel.getData().tree,root=tree.root;root.isRemoved()||travelTree(root,// Visual should calculate from tree root but not view root.
{},seriesModel.getViewRoot().getAncestors(),seriesModel)}};
// EXTERNAL MODULE: ./node_modules/echarts/lib/visual/VisualMapping.js
function travelTree(node,designatedVisual,viewRootAncestors,seriesModel){var nodeModel=node.getModel(),nodeLayout=node.getLayout(),data=node.hostTree.data;// Optimize
if(nodeLayout&&!nodeLayout.invisible&&nodeLayout.isInView){var thisNodeColor,nodeItemStyleModel=nodeModel.getModel(ITEM_STYLE_NORMAL),visuals=buildVisuals(nodeItemStyleModel,designatedVisual,seriesModel),existsStyle=data.ensureUniqueItemVisual(node.dataIndex,"style"),borderColor=nodeItemStyleModel.get("borderColor"),borderColorSaturation=nodeItemStyleModel.get("borderColorSaturation");null!=borderColorSaturation&&(
// For performance, do not always execute 'calculateColor'.
thisNodeColor=calculateColor(visuals),borderColor=calculateBorderColor(borderColorSaturation,thisNodeColor)),existsStyle.stroke=borderColor;var viewChildren=node.viewChildren;if(viewChildren&&viewChildren.length){var mapping_1=buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren);// Designate visual to children.
(0,util/* each */.S6)(viewChildren,(function(child,index){
// If higher than viewRoot, only ancestors of viewRoot is needed to visit.
if(child.depth>=viewRootAncestors.length||child===viewRootAncestors[child.depth]){var childVisual=mapVisual(nodeModel,visuals,child,index,mapping_1,seriesModel);travelTree(child,childVisual,viewRootAncestors,seriesModel)}}))}else thisNodeColor=calculateColor(visuals),// Apply visual to this node.
existsStyle.fill=thisNodeColor}}function buildVisuals(nodeItemStyleModel,designatedVisual,seriesModel){var visuals=(0,util/* extend */.l7)({},designatedVisual),designatedVisualItemStyle=seriesModel.designatedVisualItemStyle;return(0,util/* each */.S6)(["color","colorAlpha","colorSaturation"],(function(visualName){
// Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel
designatedVisualItemStyle[visualName]=designatedVisual[visualName];var val=nodeItemStyleModel.get(visualName);designatedVisualItemStyle[visualName]=null,null!=val&&(visuals[visualName]=val)})),visuals}function calculateColor(visuals){var color=getValueVisualDefine(visuals,"color");if(color){var colorAlpha=getValueVisualDefine(visuals,"colorAlpha"),colorSaturation=getValueVisualDefine(visuals,"colorSaturation");return colorSaturation&&(color=(0,tool_color/* modifyHSL */.ox)(color,null,null,colorSaturation)),colorAlpha&&(color=(0,tool_color/* modifyAlpha */.m8)(color,colorAlpha)),color}}function calculateBorderColor(borderColorSaturation,thisNodeColor){return null!=thisNodeColor?(0,tool_color/* modifyHSL */.ox)(thisNodeColor,null,null,borderColorSaturation):null}function getValueVisualDefine(visuals,name){var value=visuals[name];if(null!=value&&"none"!==value)return value}function buildVisualMapping(node,nodeModel,nodeLayout,nodeItemStyleModel,visuals,viewChildren){if(viewChildren&&viewChildren.length){var rangeVisual=getRangeVisual(nodeModel,"color")||null!=visuals.color&&"none"!==visuals.color&&(getRangeVisual(nodeModel,"colorAlpha")||getRangeVisual(nodeModel,"colorSaturation"));if(rangeVisual){var visualMin=nodeModel.get("visualMin"),visualMax=nodeModel.get("visualMax"),dataExtent=nodeLayout.dataExtent.slice();null!=visualMin&&visualMin<dataExtent[0]&&(dataExtent[0]=visualMin),null!=visualMax&&visualMax>dataExtent[1]&&(dataExtent[1]=visualMax);var colorMappingBy=nodeModel.get("colorMappingBy"),opt={type:rangeVisual.name,dataExtent:dataExtent,visual:rangeVisual.range};"color"!==opt.type||"index"!==colorMappingBy&&"id"!==colorMappingBy?opt.mappingMethod="linear":(opt.mappingMethod="category",opt.loop=!0);var mapping=new VisualMapping/* default */.Z(opt);return treemapVisual_inner(mapping).drColorMappingBy=colorMappingBy,mapping}}}// Notice: If we don't have the attribute 'colorRange', but only use
// attribute 'color' to represent both concepts of 'colorRange' and 'color',
// (It means 'colorRange' when 'color' is Array, means 'color' when not array),
// this problem will be encountered:
// If a level-1 node doesn't have children, and its siblings have children,
// and colorRange is set on level-1, then the node cannot be colored.
// So we separate 'colorRange' and 'color' to different attributes.
function getRangeVisual(nodeModel,name){
// 'colorRange', 'colorARange', 'colorSRange'.
// If not exists on this node, fetch from levels and series.
var range=nodeModel.get(name);return(0,util/* isArray */.kJ)(range)&&range.length?{name:name,range:range}:null}function mapVisual(nodeModel,visuals,child,index,mapping,seriesModel){var childVisuals=(0,util/* extend */.l7)({},visuals);if(mapping){
// Only support color, colorAlpha, colorSaturation.
var mappingType=mapping.type,colorMappingBy="color"===mappingType&&treemapVisual_inner(mapping).drColorMappingBy,value="index"===colorMappingBy?index:"id"===colorMappingBy?seriesModel.mapIdToIndex(child.getId()):child.getValue(nodeModel.get("visualDimension"));childVisuals[mappingType]=mapping.mapValueToVisual(value)}return childVisuals}
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/number.js
var number=__webpack_require__(785669),mathMax=Math.max,mathMin=Math.min,retrieveValue=util/* retrieve */.Jv,each=util/* each */.S6,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"],treemapLayout={seriesType:"treemap",reset:function(seriesModel,ecModel,api,payload){
// Layout result in each node:
// {x, y, width, height, area, borderWidth}
var ecWidth=api.getWidth(),ecHeight=api.getHeight(),seriesOption=seriesModel.option,layoutInfo=layout/* getLayoutRect */.ME(seriesModel.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()}),size=seriesOption.size||[],containerWidth=(0,number/* parsePercent */.GM)(retrieveValue(layoutInfo.width,size[0]),ecWidth),containerHeight=(0,number/* parsePercent */.GM)(retrieveValue(layoutInfo.height,size[1]),ecHeight),payloadType=payload&&payload.type,types=["treemapZoomToNode","treemapRootToNode"],targetInfo=retrieveTargetInfo(payload,types,seriesModel),rootRect="treemapRender"===payloadType||"treemapMove"===payloadType?payload.rootRect:null,viewRoot=seriesModel.getViewRoot(),viewAbovePath=getPathToRoot(viewRoot);if("treemapMove"!==payloadType){var rootSize="treemapZoomToNode"===payloadType?estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight):rootRect?[rootRect.width,rootRect.height]:[containerWidth,containerHeight],sort_1=seriesOption.sort;sort_1&&"asc"!==sort_1&&"desc"!==sort_1&&(
// Default to be desc order.
sort_1="desc");var options={squareRatio:seriesOption.squareRatio,sort:sort_1,leafDepth:seriesOption.leafDepth};// layout should be cleared because using updateView but not update.
viewRoot.hostTree.clearLayouts();// TODO
// optimize: if out of view clip, do not layout.
// But take care that if do not render node out of view clip,
// how to calculate start po
var viewRootLayout_1={x:0,y:0,width:rootSize[0],height:rootSize[1],area:rootSize[0]*rootSize[1]};viewRoot.setLayout(viewRootLayout_1),squarify(viewRoot,options,!1,0),// Supplement layout.
viewRootLayout_1=viewRoot.getLayout(),each(viewAbovePath,(function(node,index){var childValue=(viewAbovePath[index+1]||viewRoot).getValue();node.setLayout(util/* extend */.l7({dataExtent:[childValue,childValue],borderWidth:0,upperHeight:0},viewRootLayout_1))}))}var treeRoot=seriesModel.getData().tree.root;treeRoot.setLayout(calculateRootPosition(layoutInfo,rootRect,targetInfo),!0),seriesModel.setLayoutInfo(layoutInfo),// FIXME
// 现在没有clip功能，暂时取ec高宽。
prunning(treeRoot,// Transform to base element coordinate system.
new BoundingRect/* default */.Z(-layoutInfo.x,-layoutInfo.y,ecWidth,ecHeight),viewAbovePath,viewRoot,0)}};
/**
 * Layout treemap with squarify algorithm.
 * The original presentation of this algorithm
 * was made by Mark Bruls, Kees Huizing, and Jarke J. van Wijk
 * <https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf>.
 * The implementation of this algorithm was originally copied from "d3.js"
 * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/layout/treemap.js>
 * with some modifications made for this program.
 * See the license statement at the head of this file.
 *
 * @protected
 * @param {module:echarts/data/Tree~TreeNode} node
 * @param {Object} options
 * @param {string} options.sort 'asc' or 'desc'
 * @param {number} options.squareRatio
 * @param {boolean} hideChildren
 * @param {number} depth
 */
function squarify(node,options,hideChildren,depth){var width,height;if(!node.isRemoved()){var thisLayout=node.getLayout();width=thisLayout.width,height=thisLayout.height;// Considering border and gap
var nodeModel=node.getModel(),borderWidth=nodeModel.get(PATH_BORDER_WIDTH),halfGapWidth=nodeModel.get(PATH_GAP_WIDTH)/2,upperLabelHeight=getUpperLabelHeight(nodeModel),upperHeight=Math.max(borderWidth,upperLabelHeight),layoutOffset=borderWidth-halfGapWidth,layoutOffsetUpper=upperHeight-halfGapWidth;node.setLayout({borderWidth:borderWidth,upperHeight:upperHeight,upperLabelHeight:upperLabelHeight},!0),width=mathMax(width-2*layoutOffset,0),height=mathMax(height-layoutOffset-layoutOffsetUpper,0);var totalArea=width*height,viewChildren=initChildren(node,nodeModel,totalArea,options,hideChildren,depth);if(viewChildren.length){var rect={x:layoutOffset,y:layoutOffsetUpper,width:width,height:height},rowFixedLength=mathMin(width,height),best=1/0,row=[];row.area=0;for(var i=0,len=viewChildren.length;i<len;){var child=viewChildren[i];row.push(child),row.area+=child.getLayout().area;var score=worst(row,rowFixedLength,options.squareRatio);// continue with this orientation
score<=best?(i++,best=score):(row.area-=row.pop().getLayout().area,position(row,rowFixedLength,rect,halfGapWidth,!1),rowFixedLength=mathMin(rect.width,rect.height),row.length=row.area=0,best=1/0)}if(row.length&&position(row,rowFixedLength,rect,halfGapWidth,!0),!hideChildren){var childrenVisibleMin=nodeModel.get("childrenVisibleMin");null!=childrenVisibleMin&&totalArea<childrenVisibleMin&&(hideChildren=!0)}for(i=0,len=viewChildren.length;i<len;i++)squarify(viewChildren[i],options,hideChildren,depth+1)}}}
/**
 * Set area to each child, and calculate data extent for visual coding.
 */function initChildren(node,nodeModel,totalArea,options,hideChildren,depth){var viewChildren=node.children||[],orderBy=options.sort;"asc"!==orderBy&&"desc"!==orderBy&&(orderBy=null);var overLeafDepth=null!=options.leafDepth&&options.leafDepth<=depth;// leafDepth has higher priority.
if(hideChildren&&!overLeafDepth)return node.viewChildren=[];// Sort children, order by desc.
viewChildren=util/* filter */.hX(viewChildren,(function(child){return!child.isRemoved()})),sort(viewChildren,orderBy);var info=statistic(nodeModel,viewChildren,orderBy);if(0===info.sum)return node.viewChildren=[];if(info.sum=filterByThreshold(nodeModel,totalArea,info.sum,orderBy,viewChildren),0===info.sum)return node.viewChildren=[];// Set area to each child.
for(var i=0,len=viewChildren.length;i<len;i++){var area=viewChildren[i].getValue()/info.sum*totalArea;// Do not use setLayout({...}, true), because it is needed to clear last layout.
viewChildren[i].setLayout({area:area})}return overLeafDepth&&(viewChildren.length&&node.setLayout({isLeafRoot:!0},!0),viewChildren.length=0),node.viewChildren=viewChildren,node.setLayout({dataExtent:info.dataExtent},!0),viewChildren}
/**
 * Consider 'visibleMin'. Modify viewChildren and get new sum.
 */function filterByThreshold(nodeModel,totalArea,sum,orderBy,orderedChildren){
// visibleMin is not supported yet when no option.sort.
if(!orderBy)return sum;// Always travel from little value to big value.
for(var visibleMin=nodeModel.get("visibleMin"),len=orderedChildren.length,deletePoint=len,i=len-1;i>=0;i--){var value=orderedChildren["asc"===orderBy?len-i-1:i].getValue();value/sum*totalArea<visibleMin&&(deletePoint=i,sum-=value)}return"asc"===orderBy?orderedChildren.splice(0,len-deletePoint):orderedChildren.splice(deletePoint,len-deletePoint),sum}
/**
 * Sort
 */function sort(viewChildren,orderBy){return orderBy&&viewChildren.sort((function(a,b){var diff="asc"===orderBy?a.getValue()-b.getValue():b.getValue()-a.getValue();return 0===diff?"asc"===orderBy?a.dataIndex-b.dataIndex:b.dataIndex-a.dataIndex:diff})),viewChildren}
/**
 * Statistic
 */function statistic(nodeModel,children,orderBy){for(
// Calculate sum.
var sum=0,i=0,len=children.length;i<len;i++)sum+=children[i].getValue();// Statistic data extent for latter visual coding.
// Notice: data extent should be calculate based on raw children
// but not filtered view children, otherwise visual mapping will not
// be stable when zoom (where children is filtered by visibleMin).
var dataExtent,dimension=nodeModel.get("visualDimension");// The same as area dimension.
return children&&children.length?"value"===dimension&&orderBy?(dataExtent=[children[children.length-1].getValue(),children[0].getValue()],"asc"===orderBy&&dataExtent.reverse()):(dataExtent=[1/0,-1/0],each(children,(function(child){var value=child.getValue(dimension);value<dataExtent[0]&&(dataExtent[0]=value),value>dataExtent[1]&&(dataExtent[1]=value)}))):dataExtent=[NaN,NaN],{sum:sum,dataExtent:dataExtent}}
/**
 * Computes the score for the specified row,
 * as the worst aspect ratio.
 */function worst(row,rowFixedLength,ratio){for(var areaMax=0,areaMin=1/0,i=0,area=void 0,len=row.length;i<len;i++)area=row[i].getLayout().area,area&&(area<areaMin&&(areaMin=area),area>areaMax&&(areaMax=area));var squareArea=row.area*row.area,f=rowFixedLength*rowFixedLength*ratio;return squareArea?mathMax(f*areaMax/squareArea,squareArea/(f*areaMin)):1/0}
/**
 * Positions the specified row of nodes. Modifies `rect`.
 */function position(row,rowFixedLength,rect,halfGapWidth,flush){
// When rowFixedLength === rect.width,
// it is horizontal subdivision,
// rowFixedLength is the width of the subdivision,
// rowOtherLength is the height of the subdivision,
// and nodes will be positioned from left to right.
// wh[idx0WhenH] means: when horizontal,
//      wh[idx0WhenH] => wh[0] => 'width'.
//      xy[idx1WhenH] => xy[1] => 'y'.
var idx0WhenH=rowFixedLength===rect.width?0:1,idx1WhenH=1-idx0WhenH,xy=["x","y"],wh=["width","height"],last=rect[xy[idx0WhenH]],rowOtherLength=rowFixedLength?row.area/rowFixedLength:0;(flush||rowOtherLength>rect[wh[idx1WhenH]])&&(rowOtherLength=rect[wh[idx1WhenH]]);for(var i=0,rowLen=row.length;i<rowLen;i++){var node=row[i],nodeLayout={},step=rowOtherLength?node.getLayout().area/rowOtherLength:0,wh1=nodeLayout[wh[idx1WhenH]]=mathMax(rowOtherLength-2*halfGapWidth,0),remain=rect[xy[idx0WhenH]]+rect[wh[idx0WhenH]]-last,modWH=i===rowLen-1||remain<step?remain:step,wh0=nodeLayout[wh[idx0WhenH]]=mathMax(modWH-2*halfGapWidth,0);nodeLayout[xy[idx1WhenH]]=rect[xy[idx1WhenH]]+mathMin(halfGapWidth,wh1/2),nodeLayout[xy[idx0WhenH]]=last+mathMin(halfGapWidth,wh0/2),last+=modWH,node.setLayout(nodeLayout,!0)}rect[xy[idx1WhenH]]+=rowOtherLength,rect[wh[idx1WhenH]]-=rowOtherLength}// Return [containerWidth, containerHeight] as default.
function estimateRootSize(seriesModel,targetInfo,viewRoot,containerWidth,containerHeight){
// If targetInfo.node exists, we zoom to the node,
// so estimate whole width and height by target node.
var parent,currNode=(targetInfo||{}).node,defaultSize=[containerWidth,containerHeight];if(!currNode||currNode===viewRoot)return defaultSize;var viewArea=containerWidth*containerHeight,area=viewArea*seriesModel.option.zoomToNodeRatio;while(parent=currNode.parentNode){for(
// jshint ignore:line
var sum=0,siblings=parent.children,i=0,len=siblings.length;i<len;i++)sum+=siblings[i].getValue();var currNodeValue=currNode.getValue();if(0===currNodeValue)return defaultSize;area*=sum/currNodeValue;// Considering border, suppose aspect ratio is 1.
var parentModel=parent.getModel(),borderWidth=parentModel.get(PATH_BORDER_WIDTH),upperHeight=Math.max(borderWidth,getUpperLabelHeight(parentModel));area+=4*borderWidth*borderWidth+(3*borderWidth+upperHeight)*Math.pow(area,.5),area>number/* MAX_SAFE_INTEGER */.YM&&(area=number/* MAX_SAFE_INTEGER */.YM),currNode=parent}area<viewArea&&(area=viewArea);var scale=Math.pow(area/viewArea,.5);return[containerWidth*scale,containerHeight*scale]}// Root position based on coord of containerGroup
function calculateRootPosition(layoutInfo,rootRect,targetInfo){if(rootRect)return{x:rootRect.x,y:rootRect.y};var defaultPosition={x:0,y:0};if(!targetInfo)return defaultPosition;// If targetInfo is fetched by 'retrieveTargetInfo',
// old tree and new tree are the same tree,
// so the node still exists and we can visit it.
var targetNode=targetInfo.node,layout=targetNode.getLayout();if(!layout)return defaultPosition;// Transform coord from local to container.
var targetCenter=[layout.width/2,layout.height/2],node=targetNode;while(node){var nodeLayout=node.getLayout();targetCenter[0]+=nodeLayout.x,targetCenter[1]+=nodeLayout.y,node=node.parentNode}return{x:layoutInfo.width/2-targetCenter[0],y:layoutInfo.height/2-targetCenter[1]}}// Mark nodes visible for prunning when visual coding and rendering.
// Prunning depends on layout and root position, so we have to do it after layout.
function prunning(node,clipRect,viewAbovePath,viewRoot,depth){var nodeLayout=node.getLayout(),nodeInViewAbovePath=viewAbovePath[depth],isAboveViewRoot=nodeInViewAbovePath&&nodeInViewAbovePath===node;if(!(nodeInViewAbovePath&&!isAboveViewRoot||depth===viewAbovePath.length&&node!==viewRoot)){node.setLayout({
// isInView means: viewRoot sub tree + viewAbovePath
isInView:!0,
// invisible only means: outside view clip so that the node can not
// see but still layout for animation preparation but not render.
invisible:!isAboveViewRoot&&!clipRect.intersect(nodeLayout),isAboveViewRoot:isAboveViewRoot},!0);// Transform to child coordinate.
var childClipRect=new BoundingRect/* default */.Z(clipRect.x-nodeLayout.x,clipRect.y-nodeLayout.y,clipRect.width,clipRect.height);each(node.viewChildren||[],(function(child){prunning(child,childClipRect,viewAbovePath,viewRoot,depth+1)}))}}function getUpperLabelHeight(model){return model.get(PATH_UPPER_LABEL_SHOW)?model.get(PATH_UPPER_LABEL_HEIGHT):0}// CONCATENATED MODULE: ./node_modules/echarts/lib/chart/treemap/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerSeriesModel(TreemapSeries),registers.registerChartView(treemap_TreemapView),registers.registerVisual(treemapVisual),registers.registerLayout(treemapLayout),installTreemapAction(registers)}
/***/},
/***/558608:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38154),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(522095),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(851177),_util_graphic_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(679750),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(30106),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(336006),_model_Model_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(812312),_util_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(785669),_util_symbol_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(241525),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(932892),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45280),_coord_axisHelper_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(597980),_label_labelLayoutHelper_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(654162),PI=Math.PI,AxisBuilder=
/** @class */
function(){function AxisBuilder(axisModel,opt){this.group=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z,this.opt=opt,this.axisModel=axisModel,// Default value
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(opt,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});// FIXME Not use a separate text group?
var transformGroup=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z({x:opt.position[0],y:opt.position[1],rotation:opt.rotation});// this.group.add(transformGroup);
// this._transformGroup = transformGroup;
transformGroup.updateTransform(),this._transformGroup=transformGroup}return AxisBuilder.prototype.hasBuilder=function(name){return!!builders[name]},AxisBuilder.prototype.add=function(name){builders[name](this.opt,this.axisModel,this.group,this._transformGroup)},AxisBuilder.prototype.getGroup=function(){return this.group},AxisBuilder.innerTextLayout=function(axisRotation,textRotation,direction){var textAlign,textVerticalAlign,rotationDiff=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .remRadian */.wW)(textRotation-axisRotation);return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .isRadianAroundZero */.mW)(rotationDiff)?(
// Label is parallel with axis line.
textVerticalAlign=direction>0?"top":"bottom",textAlign="center"):(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .isRadianAroundZero */.mW)(rotationDiff-PI)?(
// Label is inverse parallel with axis line.
textVerticalAlign=direction>0?"bottom":"top",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff>0&&rotationDiff<PI?direction>0?"right":"left":direction>0?"left":"right"),{rotation:rotationDiff,textAlign:textAlign,textVerticalAlign:textVerticalAlign}},AxisBuilder.makeAxisEventDataBase=function(axisModel){var eventData={componentType:axisModel.mainType,componentIndex:axisModel.componentIndex};return eventData[axisModel.mainType+"Index"]=axisModel.componentIndex,eventData},AxisBuilder.isLabelSilent=function(axisModel){var tooltipOpt=axisModel.get("tooltip");return axisModel.get("silent")||!(axisModel.get("triggerEvent")||tooltipOpt&&tooltipOpt.show)},AxisBuilder}(),builders={axisLine:function(opt,axisModel,group,transformGroup){var shown=axisModel.get(["axisLine","show"]);if("auto"===shown&&opt.handleAutoShown&&(shown=opt.handleAutoShown("axisLine")),shown){var extent=axisModel.axis.getExtent(),matrix=transformGroup.transform,pt1=[extent[0],0],pt2=[extent[1],0],inverse=pt1[0]>pt2[0];matrix&&((0,zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_3__/* .applyTransform */.Ne)(pt1,pt1,matrix),(0,zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_3__/* .applyTransform */.Ne)(pt2,pt2,matrix));var lineStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)({lineCap:"round"},axisModel.getModel(["axisLine","lineStyle"]).getLineStyle()),line=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z({shape:{x1:pt1[0],y1:pt1[1],x2:pt2[0],y2:pt2[1]},style:lineStyle,strokeContainThreshold:opt.strokeContainThreshold||5,silent:!0,z2:1});_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.subPixelOptimizeLine(line.shape,line.style.lineWidth),line.anid="line",group.add(line);var arrows=axisModel.get(["axisLine","symbol"]);if(null!=arrows){var arrowSize=axisModel.get(["axisLine","symbolSize"]);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(arrows)&&(
// Use the same arrow for start and end point
arrows=[arrows,arrows]),((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(arrowSize)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isNumber */.hj)(arrowSize))&&(
// Use the same size for width and height
arrowSize=[arrowSize,arrowSize]);var arrowOffset=(0,_util_symbol_js__WEBPACK_IMPORTED_MODULE_6__/* .normalizeSymbolOffset */.Cq)(axisModel.get(["axisLine","symbolOffset"])||0,arrowSize),symbolWidth_1=arrowSize[0],symbolHeight_1=arrowSize[1];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)([{rotate:opt.rotation+Math.PI/2,offset:arrowOffset[0],r:0},{rotate:opt.rotation-Math.PI/2,offset:arrowOffset[1],r:Math.sqrt((pt1[0]-pt2[0])*(pt1[0]-pt2[0])+(pt1[1]-pt2[1])*(pt1[1]-pt2[1]))}],(function(point,index){if("none"!==arrows[index]&&null!=arrows[index]){var symbol=(0,_util_symbol_js__WEBPACK_IMPORTED_MODULE_6__/* .createSymbol */.th)(arrows[index],-symbolWidth_1/2,-symbolHeight_1/2,symbolWidth_1,symbolHeight_1,lineStyle.stroke,!0),r=point.r+point.offset,pt=inverse?pt2:pt1;// Calculate arrow position with offset
symbol.attr({rotation:point.rotate,x:pt[0]+r*Math.cos(opt.rotation),y:pt[1]-r*Math.sin(opt.rotation),silent:!0,z2:11}),group.add(symbol)}}))}}},axisTickLabel:function(opt,axisModel,group,transformGroup){var ticksEls=buildAxisMajorTicks(group,transformGroup,axisModel,opt),labelEls=buildAxisLabel(group,transformGroup,axisModel,opt);// This bit fixes the label overlap issue for the time chart.
// See https://github.com/apache/echarts/issues/14266 for more.
if(fixMinMaxLabelShow(axisModel,labelEls,ticksEls),buildAxisMinorTicks(group,transformGroup,axisModel,opt.tickDirection),axisModel.get(["axisLabel","hideOverlap"])){var labelList=(0,_label_labelLayoutHelper_js__WEBPACK_IMPORTED_MODULE_7__/* .prepareLayoutList */.VT)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI)(labelEls,(function(label){return{label:label,priority:label.z2,defaultAttr:{ignore:label.ignore}}})));(0,_label_labelLayoutHelper_js__WEBPACK_IMPORTED_MODULE_7__/* .hideOverlap */.yl)(labelList)}},axisName:function(opt,axisModel,group,transformGroup){var name=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve */.Jv)(opt.axisName,axisModel.get("name"));if(name){var labelLayout,axisNameAvailableWidth,nameLocation=axisModel.get("nameLocation"),nameDirection=opt.nameDirection,textStyleModel=axisModel.getModel("nameTextStyle"),gap=axisModel.get("nameGap")||0,extent=axisModel.axis.getExtent(),gapSignal=extent[0]>extent[1]?-1:1,pos=["start"===nameLocation?extent[0]-gapSignal*gap:"end"===nameLocation?extent[1]+gapSignal*gap:(extent[0]+extent[1])/2,// Reuse labelOffset.
isNameLocationCenter(nameLocation)?opt.labelOffset+nameDirection*gap:0],nameRotation=axisModel.get("nameRotate");null!=nameRotation&&(nameRotation=nameRotation*PI/180),isNameLocationCenter(nameLocation)?labelLayout=AxisBuilder.innerTextLayout(opt.rotation,null!=nameRotation?nameRotation:opt.rotation,// Adapt to axis.
nameDirection):(labelLayout=endTextLayout(opt.rotation,nameLocation,nameRotation||0,extent),axisNameAvailableWidth=opt.axisNameAvailableWidth,null!=axisNameAvailableWidth&&(axisNameAvailableWidth=Math.abs(axisNameAvailableWidth/Math.sin(labelLayout.rotation)),!isFinite(axisNameAvailableWidth)&&(axisNameAvailableWidth=null)));var textFont=textStyleModel.getFont(),truncateOpt=axisModel.get("nameTruncate",!0)||{},ellipsis=truncateOpt.ellipsis,maxWidth=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve */.Jv)(opt.nameTruncateMaxWidth,truncateOpt.maxWidth,axisNameAvailableWidth),textEl=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.ZP({x:pos[0],y:pos[1],rotation:labelLayout.rotation,silent:AxisBuilder.isLabelSilent(axisModel),style:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_9__/* .createTextStyle */.Lr)(textStyleModel,{text:name,font:textFont,overflow:"truncate",width:maxWidth,ellipsis:ellipsis,fill:textStyleModel.getTextColor()||axisModel.get(["axisLine","lineStyle","color"]),align:textStyleModel.get("align")||labelLayout.textAlign,verticalAlign:textStyleModel.get("verticalAlign")||labelLayout.textVerticalAlign}),z2:1});if(_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.setTooltipConfig({el:textEl,componentModel:axisModel,itemName:name}),textEl.__fullText=name,// Id for animation
textEl.anid="name",axisModel.get("triggerEvent")){var eventData=AxisBuilder.makeAxisEventDataBase(axisModel);eventData.targetType="axisName",eventData.name=name,(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_10__/* .getECData */.A)(textEl).eventData=eventData}// FIXME
transformGroup.add(textEl),textEl.updateTransform(),group.add(textEl),textEl.decomposeTransform()}}};
/* harmony import */function endTextLayout(rotation,textPosition,textRotate,extent){var textAlign,textVerticalAlign,rotationDiff=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .remRadian */.wW)(textRotate-rotation),inverse=extent[0]>extent[1],onLeft="start"===textPosition&&!inverse||"start"!==textPosition&&inverse;return(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .isRadianAroundZero */.mW)(rotationDiff-PI/2)?(textVerticalAlign=onLeft?"bottom":"top",textAlign="center"):(0,_util_number_js__WEBPACK_IMPORTED_MODULE_2__/* .isRadianAroundZero */.mW)(rotationDiff-1.5*PI)?(textVerticalAlign=onLeft?"top":"bottom",textAlign="center"):(textVerticalAlign="middle",textAlign=rotationDiff<1.5*PI&&rotationDiff>PI/2?onLeft?"left":"right":onLeft?"right":"left"),{rotation:rotationDiff,textAlign:textAlign,textVerticalAlign:textVerticalAlign}}function fixMinMaxLabelShow(axisModel,labelEls,tickEls){if(!(0,_coord_axisHelper_js__WEBPACK_IMPORTED_MODULE_11__/* .shouldShowAllLabels */.WY)(axisModel.axis)){// If min or max are user set, we need to check
// If the tick on min(max) are overlap on their neighbour tick
// If they are overlapped, we need to hide the min(max) tick label
var showMinLabel=axisModel.get(["axisLabel","showMinLabel"]),showMaxLabel=axisModel.get(["axisLabel","showMaxLabel"]);// FIXME
// Have not consider onBand yet, where tick els is more than label els.
labelEls=labelEls||[],tickEls=tickEls||[];var firstLabel=labelEls[0],nextLabel=labelEls[1],lastLabel=labelEls[labelEls.length-1],prevLabel=labelEls[labelEls.length-2],firstTick=tickEls[0],nextTick=tickEls[1],lastTick=tickEls[tickEls.length-1],prevTick=tickEls[tickEls.length-2];!1===showMinLabel?(ignoreEl(firstLabel),ignoreEl(firstTick)):isTwoLabelOverlapped(firstLabel,nextLabel)&&(showMinLabel?(ignoreEl(nextLabel),ignoreEl(nextTick)):(ignoreEl(firstLabel),ignoreEl(firstTick))),!1===showMaxLabel?(ignoreEl(lastLabel),ignoreEl(lastTick)):isTwoLabelOverlapped(prevLabel,lastLabel)&&(showMaxLabel?(ignoreEl(prevLabel),ignoreEl(prevTick)):(ignoreEl(lastLabel),ignoreEl(lastTick)))}}function ignoreEl(el){el&&(el.ignore=!0)}function isTwoLabelOverlapped(current,next){
// current and next has the same rotation.
var firstRect=current&&current.getBoundingRect().clone(),nextRect=next&&next.getBoundingRect().clone();if(firstRect&&nextRect){// When checking intersect of two rotated labels, we use mRotationBack
// to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.
var mRotationBack=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_12__/* .identity */.yR([]);return zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_12__/* .rotate */.U1(mRotationBack,mRotationBack,-current.rotation),firstRect.applyTransform(zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_12__/* .mul */.dC([],mRotationBack,current.getLocalTransform())),nextRect.applyTransform(zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_12__/* .mul */.dC([],mRotationBack,next.getLocalTransform())),firstRect.intersect(nextRect)}}function isNameLocationCenter(nameLocation){return"middle"===nameLocation||"center"===nameLocation}function createTicks(ticksCoords,tickTransform,tickEndCoord,tickLineStyle,anidPrefix){for(var tickEls=[],pt1=[],pt2=[],i=0;i<ticksCoords.length;i++){var tickCoord=ticksCoords[i].coord;pt1[0]=tickCoord,pt1[1]=0,pt2[0]=tickCoord,pt2[1]=tickEndCoord,tickTransform&&((0,zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_3__/* .applyTransform */.Ne)(pt1,pt1,tickTransform),(0,zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_3__/* .applyTransform */.Ne)(pt2,pt2,tickTransform));// Tick line, Not use group transform to have better line draw
var tickEl=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z({shape:{x1:pt1[0],y1:pt1[1],x2:pt2[0],y2:pt2[1]},style:tickLineStyle,z2:2,autoBatch:!0,silent:!0});_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__.subPixelOptimizeLine(tickEl.shape,tickEl.style.lineWidth),tickEl.anid=anidPrefix+"_"+ticksCoords[i].tickValue,tickEls.push(tickEl)}return tickEls}function buildAxisMajorTicks(group,transformGroup,axisModel,opt){var axis=axisModel.axis,tickModel=axisModel.getModel("axisTick"),shown=tickModel.get("show");if("auto"===shown&&opt.handleAutoShown&&(shown=opt.handleAutoShown("axisTick")),shown&&!axis.scale.isBlank()){for(var lineStyleModel=tickModel.getModel("lineStyle"),tickEndCoord=opt.tickDirection*tickModel.get("length"),ticksCoords=axis.getTicksCoords(),ticksEls=createTicks(ticksCoords,transformGroup.transform,tickEndCoord,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(lineStyleModel.getLineStyle(),{stroke:axisModel.get(["axisLine","lineStyle","color"])}),"ticks"),i=0;i<ticksEls.length;i++)group.add(ticksEls[i]);return ticksEls}}function buildAxisMinorTicks(group,transformGroup,axisModel,tickDirection){var axis=axisModel.axis,minorTickModel=axisModel.getModel("minorTick");if(minorTickModel.get("show")&&!axis.scale.isBlank()){var minorTicksCoords=axis.getMinorTicksCoords();if(minorTicksCoords.length)for(var lineStyleModel=minorTickModel.getModel("lineStyle"),tickEndCoord=tickDirection*minorTickModel.get("length"),minorTickLineStyle=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(lineStyleModel.getLineStyle(),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(axisModel.getModel("axisTick").getLineStyle(),{stroke:axisModel.get(["axisLine","lineStyle","color"])})),i=0;i<minorTicksCoords.length;i++)for(var minorTicksEls=createTicks(minorTicksCoords[i],transformGroup.transform,tickEndCoord,minorTickLineStyle,"minorticks_"+i),k=0;k<minorTicksEls.length;k++)group.add(minorTicksEls[k])}}function buildAxisLabel(group,transformGroup,axisModel,opt){var axis=axisModel.axis,show=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve */.Jv)(opt.axisLabelShow,axisModel.get(["axisLabel","show"]));if(show&&!axis.scale.isBlank()){var labelModel=axisModel.getModel("axisLabel"),labelMargin=labelModel.get("margin"),labels=axis.getViewLabels(),labelRotation=((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve */.Jv)(opt.labelRotate,labelModel.get("rotate"))||0)*PI/180,labelLayout=AxisBuilder.innerTextLayout(opt.rotation,labelRotation,opt.labelDirection),rawCategoryData=axisModel.getCategories&&axisModel.getCategories(!0),labelEls=[],silent=AxisBuilder.isLabelSilent(axisModel),triggerEvent=axisModel.get("triggerEvent");return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(labels,(function(labelItem,index){var tickValue="ordinal"===axis.scale.type?axis.scale.getRawOrdinalNumber(labelItem.tickValue):labelItem.tickValue,formattedLabel=labelItem.formattedLabel,rawLabel=labelItem.rawLabel,itemLabelModel=labelModel;if(rawCategoryData&&rawCategoryData[tickValue]){var rawCategoryItem=rawCategoryData[tickValue];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(rawCategoryItem)&&rawCategoryItem.textStyle&&(itemLabelModel=new _model_Model_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.Z(rawCategoryItem.textStyle,labelModel,axisModel.ecModel))}var textColor=itemLabelModel.getTextColor()||axisModel.get(["axisLine","lineStyle","color"]),tickCoord=axis.dataToCoord(tickValue),textEl=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.ZP({x:tickCoord,y:opt.labelOffset+opt.labelDirection*labelMargin,rotation:labelLayout.rotation,silent:silent,z2:10+(labelItem.level||0),style:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_9__/* .createTextStyle */.Lr)(itemLabelModel,{text:formattedLabel,align:itemLabelModel.getShallow("align",!0)||labelLayout.textAlign,verticalAlign:itemLabelModel.getShallow("verticalAlign",!0)||itemLabelModel.getShallow("baseline",!0)||labelLayout.textVerticalAlign,fill:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(textColor)?textColor(// (1) In category axis with data zoom, tick is not the original
// index of axis.data. So tick should not be exposed to user
// in category axis.
// (2) Compatible with previous version, which always use formatted label as
// input. But in interval scale the formatted label is like '223,445', which
// maked user replace ','. So we modify it to return original val but remain
// it as 'string' to avoid error in replacing.
"category"===axis.type?rawLabel:"value"===axis.type?tickValue+"":tickValue,index):textColor})});// Pack data for mouse event
if(textEl.anid="label_"+tickValue,triggerEvent){var eventData=AxisBuilder.makeAxisEventDataBase(axisModel);eventData.targetType="axisLabel",eventData.value=rawLabel,eventData.tickIndex=index,"category"===axis.type&&(eventData.dataIndex=tickValue),(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_10__/* .getECData */.A)(textEl).eventData=eventData}// FIXME
transformGroup.add(textEl),textEl.updateTransform(),labelEls.push(textEl),group.add(textEl),textEl.decomposeTransform()})),labelEls}}
/* harmony default export */__webpack_exports__.Z=AxisBuilder},
/***/11726:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(570655),_axisPointer_modelHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(118490),_view_Component_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(833166),axisPointerClazz={},AxisView=
/** @class */
function(_super){function AxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisView.type,_this}
/**
   * @override
   */return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(AxisView,_super),AxisView.prototype.render=function(axisModel,ecModel,api,payload){
// FIXME
// This process should proformed after coordinate systems updated
// (axis scale updated), and should be performed each time update.
// So put it here temporarily, although it is not appropriate to
// put a model-writing procedure in `view`.
this.axisPointerClass&&_axisPointer_modelHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .fixValue */.iG(axisModel),_super.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(axisModel,api,!0)},
/**
   * Action handler.
   */
AxisView.prototype.updateAxisPointer=function(axisModel,ecModel,api,payload){this._doUpdateAxisPointerClass(axisModel,api,!1)},
/**
   * @override
   */
AxisView.prototype.remove=function(ecModel,api){var axisPointer=this._axisPointer;axisPointer&&axisPointer.remove(api)},
/**
   * @override
   */
AxisView.prototype.dispose=function(ecModel,api){this._disposeAxisPointer(api),_super.prototype.dispose.apply(this,arguments)},AxisView.prototype._doUpdateAxisPointerClass=function(axisModel,api,forceRender){var Clazz=AxisView.getAxisPointerClass(this.axisPointerClass);if(Clazz){var axisPointerModel=_axisPointer_modelHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .getAxisPointerModel */.np(axisModel);axisPointerModel?(this._axisPointer||(this._axisPointer=new Clazz)).render(axisModel,axisPointerModel,api,forceRender):this._disposeAxisPointer(api)}},AxisView.prototype._disposeAxisPointer=function(api){this._axisPointer&&this._axisPointer.dispose(api),this._axisPointer=null},AxisView.registerAxisPointerClass=function(type,clazz){axisPointerClazz[type]=clazz},AxisView.getAxisPointerClass=function(type){return type&&axisPointerClazz[type]},AxisView.type="axis",AxisView}(_view_Component_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z);
/* harmony import */
/* harmony default export */__webpack_exports__.Z=AxisView},
/***/892448:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return findPointFromSeries}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * @param finder contains {seriesIndex, dataIndex, dataIndexInside}
 * @param ecModel
 * @return  {point: [x, y], el: ...} point Will not be null.
 */
function findPointFromSeries(finder,ecModel){var seriesModel,point=[],seriesIndex=finder.seriesIndex;if(null==seriesIndex||!(seriesModel=ecModel.getSeriesByIndex(seriesIndex)))return{point:[]};var data=seriesModel.getData(),dataIndex=_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .queryDataIndex */.gO(data,finder);if(null==dataIndex||dataIndex<0||zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ(dataIndex))return{point:[]};var el=data.getItemGraphicEl(dataIndex),coordSys=seriesModel.coordinateSystem;if(seriesModel.getTooltipPosition)point=seriesModel.getTooltipPosition(dataIndex)||[];else if(coordSys&&coordSys.dataToPoint)if(finder.isStacked){var baseAxis=coordSys.getBaseAxis(),valueAxis=coordSys.getOtherAxis(baseAxis),valueAxisDim=valueAxis.dim,baseAxisDim=baseAxis.dim,baseDataOffset="x"===valueAxisDim||"radius"===valueAxisDim?1:0,baseDim=data.mapDimension(baseAxisDim),stackedData=[];stackedData[baseDataOffset]=data.get(baseDim,dataIndex),stackedData[1-baseDataOffset]=data.get(data.getCalculationInfo("stackResultDimension"),dataIndex),point=coordSys.dataToPoint(stackedData)||[]}else point=coordSys.dataToPoint(data.getValues(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI(coordSys.dimensions,(function(dim){return data.mapDimension(dim)})),dataIndex))||[];else if(el){
// Use graphic bounding rect
var rect=el.getBoundingRect().clone();rect.applyTransform(el.transform),point=[rect.x+rect.width/2,rect.y+rect.height/2]}return{point:point,el:el}}
/***/},
/***/856996:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */E:function(){/* binding */return unregister},
/* harmony export */z:function(){/* binding */return register}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(966387),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234),inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)(),each=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6;
/* harmony import */
/**
 * @param {string} key
 * @param {module:echarts/ExtensionAPI} api
 * @param {Function} handler
 *      param: {string} currTrigger
 *      param: {Array.<number>} point
 */
function register(key,api,handler){if(!zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z.node){var zr=api.getZr();inner(zr).records||(inner(zr).records={}),initGlobalListeners(zr,api);var record=inner(zr).records[key]||(inner(zr).records[key]={});record.handler=handler}}function initGlobalListeners(zr,api){function useHandler(eventType,cb){zr.on(eventType,(function(e){var dis=makeDispatchAction(api);each(inner(zr).records,(function(record){record&&cb(record,e,dis.dispatchAction)})),dispatchTooltipFinally(dis.pendings,api)}))}inner(zr).initialized||(inner(zr).initialized=!0,useHandler("click",zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .curry */.WA(doEnter,"click")),useHandler("mousemove",zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .curry */.WA(doEnter,"mousemove")),// useHandler('mouseout', onLeave);
useHandler("globalout",onLeave))}function dispatchTooltipFinally(pendings,api){var actuallyPayload,showLen=pendings.showTip.length,hideLen=pendings.hideTip.length;showLen?actuallyPayload=pendings.showTip[showLen-1]:hideLen&&(actuallyPayload=pendings.hideTip[hideLen-1]),actuallyPayload&&(actuallyPayload.dispatchAction=null,api.dispatchAction(actuallyPayload))}function onLeave(record,e,dispatchAction){record.handler("leave",null,dispatchAction)}function doEnter(currTrigger,record,e,dispatchAction){record.handler(currTrigger,e,dispatchAction)}function makeDispatchAction(api){var pendings={showTip:[],hideTip:[]},dispatchAction=function(payload){var pendingList=pendings[payload.type];pendingList?pendingList.push(payload):(payload.dispatchAction=dispatchAction,api.dispatchAction(payload))};// FIXME
// better approach?
// 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,
// which may be conflict, (axisPointer call showTip but tooltip call hideTip);
// So we have to add "final stage" to merge those dispatched actions.
return{dispatchAction:dispatchAction,pendings:pendings}}function unregister(key,api){if(!zrender_lib_core_env_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z.node){var zr=api.getZr(),record=(inner(zr).records||{})[key];record&&(inner(zr).records[key]=null)}}
/***/},
/***/746738:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/component/axis/AxisView.js
var AxisView=__webpack_require__(11726),tslib_es6=__webpack_require__(570655),util=__webpack_require__(933051),Group=__webpack_require__(38154),graphic=__webpack_require__(851177),Text=__webpack_require__(679750),basicTransition=__webpack_require__(944292),modelHelper=__webpack_require__(118490),core_event=__webpack_require__(461158),throttle=__webpack_require__(800270),model=__webpack_require__(232234),inner=(0,model/* makeInner */.Yf)(),clone=util/* clone */.d9,bind=util/* bind */.ak,BaseAxisPointer=
/** @class */
function(){function BaseAxisPointer(){this._dragging=!1,
/**
     * In px, arbitrary value. Do not set too small,
     * no animation is ok for most cases.
     */
this.animationThreshold=15}
/**
   * @implement
   */return BaseAxisPointer.prototype.render=function(axisModel,axisPointerModel,api,forceRender){var value=axisPointerModel.get("value"),status=axisPointerModel.get("status");// Optimize: `render` will be called repeatedly during mouse move.
// So it is power consuming if performing `render` each time,
// especially on mobile device.
if(// Bind them to `this`, not in closure, otherwise they will not
// be replaced when user calling setOption in not merge mode.
this._axisModel=axisModel,this._axisPointerModel=axisPointerModel,this._api=api,forceRender||this._lastValue!==value||this._lastStatus!==status){this._lastValue=value,this._lastStatus=status;var group=this._group,handle=this._handle;if(!status||"hide"===status)
// Do not clear here, for animation better.
return group&&group.hide(),void(handle&&handle.hide());group&&group.show(),handle&&handle.show();// Otherwise status is 'show'
var elOption={};this.makeElOption(elOption,value,axisModel,axisPointerModel,api);// Enable change axis pointer type.
var graphicKey=elOption.graphicKey;graphicKey!==this._lastGraphicKey&&this.clear(api),this._lastGraphicKey=graphicKey;var moveAnimation=this._moveAnimation=this.determineAnimation(axisModel,axisPointerModel);if(group){var doUpdateProps=util/* curry */.WA(updateProps,axisPointerModel,moveAnimation);this.updatePointerEl(group,elOption,doUpdateProps),this.updateLabelEl(group,elOption,doUpdateProps,axisPointerModel)}else group=this._group=new Group/* default */.Z,this.createPointerEl(group,elOption,axisModel,axisPointerModel),this.createLabelEl(group,elOption,axisModel,axisPointerModel),api.getZr().add(group);updateMandatoryProps(group,axisPointerModel,!0),this._renderHandle(value)}},
/**
   * @implement
   */
BaseAxisPointer.prototype.remove=function(api){this.clear(api)},
/**
   * @implement
   */
BaseAxisPointer.prototype.dispose=function(api){this.clear(api)},
/**
   * @protected
   */
BaseAxisPointer.prototype.determineAnimation=function(axisModel,axisPointerModel){var animation=axisPointerModel.get("animation"),axis=axisModel.axis,isCategoryAxis="category"===axis.type,useSnap=axisPointerModel.get("snap");// Value axis without snap always do not snap.
if(!useSnap&&!isCategoryAxis)return!1;if("auto"===animation||null==animation){var animationThreshold=this.animationThreshold;if(isCategoryAxis&&axis.getBandWidth()>animationThreshold)return!0;// It is important to auto animation when snap used. Consider if there is
// a dataZoom, animation will be disabled when too many points exist, while
// it will be enabled for better visual effect when little points exist.
if(useSnap){var seriesDataCount=modelHelper/* getAxisInfo */.r(axisModel).seriesDataCount,axisExtent=axis.getExtent();// Approximate band width
return Math.abs(axisExtent[0]-axisExtent[1])/seriesDataCount>animationThreshold}return!1}return!0===animation},
/**
   * add {pointer, label, graphicKey} to elOption
   * @protected
   */
BaseAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){// Should be implemenented by sub-class.
},
/**
   * @protected
   */
BaseAxisPointer.prototype.createPointerEl=function(group,elOption,axisModel,axisPointerModel){var pointerOption=elOption.pointer;if(pointerOption){var pointerEl=inner(group).pointerEl=new graphic[pointerOption.type](clone(elOption.pointer));group.add(pointerEl)}},
/**
   * @protected
   */
BaseAxisPointer.prototype.createLabelEl=function(group,elOption,axisModel,axisPointerModel){if(elOption.label){var labelEl=inner(group).labelEl=new Text/* default */.ZP(clone(elOption.label));group.add(labelEl),updateLabelShowHide(labelEl,axisPointerModel)}},
/**
   * @protected
   */
BaseAxisPointer.prototype.updatePointerEl=function(group,elOption,updateProps){var pointerEl=inner(group).pointerEl;pointerEl&&elOption.pointer&&(pointerEl.setStyle(elOption.pointer.style),updateProps(pointerEl,{shape:elOption.pointer.shape}))},
/**
   * @protected
   */
BaseAxisPointer.prototype.updateLabelEl=function(group,elOption,updateProps,axisPointerModel){var labelEl=inner(group).labelEl;labelEl&&(labelEl.setStyle(elOption.label.style),updateProps(labelEl,{
// Consider text length change in vertical axis, animation should
// be used on shape, otherwise the effect will be weird.
// TODOTODO
// shape: elOption.label.shape,
x:elOption.label.x,y:elOption.label.y}),updateLabelShowHide(labelEl,axisPointerModel))},
/**
   * @private
   */
BaseAxisPointer.prototype._renderHandle=function(value){if(!this._dragging&&this.updateHandleTransform){var isInit,axisPointerModel=this._axisPointerModel,zr=this._api.getZr(),handle=this._handle,handleModel=axisPointerModel.getModel("handle"),status=axisPointerModel.get("status");if(!handleModel.get("show")||!status||"hide"===status)return handle&&zr.remove(handle),void(this._handle=null);this._handle||(isInit=!0,handle=this._handle=graphic.createIcon(handleModel.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){
// For mobile device, prevent screen slider on the button.
core_event/* stop */.sT(e.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),zr.add(handle)),updateMandatoryProps(handle,axisPointerModel,!1),// update style
handle.setStyle(handleModel.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));// update position
var handleSize=handleModel.get("size");util/* isArray */.kJ(handleSize)||(handleSize=[handleSize,handleSize]),handle.scaleX=handleSize[0]/2,handle.scaleY=handleSize[1]/2,throttle/* createOrUpdate */.T9(this,"_doDispatchAxisPointer",handleModel.get("throttle")||0,"fixRate"),this._moveHandleToValue(value,isInit)}},BaseAxisPointer.prototype._moveHandleToValue=function(value,isInit){updateProps(this._axisPointerModel,!isInit&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(value,this._axisModel,this._axisPointerModel)))},BaseAxisPointer.prototype._onHandleDragMove=function(dx,dy){var handle=this._handle;if(handle){this._dragging=!0;// Persistent for throttle.
var trans=this.updateHandleTransform(getHandleTransProps(handle),[dx,dy],this._axisModel,this._axisPointerModel);this._payloadInfo=trans,handle.stopAnimation(),handle.attr(getHandleTransProps(trans)),inner(handle).lastProp=null,this._doDispatchAxisPointer()}},
/**
   * Throttled method.
   */
BaseAxisPointer.prototype._doDispatchAxisPointer=function(){var handle=this._handle;if(handle){var payloadInfo=this._payloadInfo,axisModel=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:payloadInfo.cursorPoint[0],y:payloadInfo.cursorPoint[1],tooltipOption:payloadInfo.tooltipOption,axesInfo:[{axisDim:axisModel.axis.dim,axisIndex:axisModel.componentIndex}]})}},BaseAxisPointer.prototype._onHandleDragEnd=function(){this._dragging=!1;var handle=this._handle;if(handle){var value=this._axisPointerModel.get("value");// Consider snap or categroy axis, handle may be not consistent with
// axisPointer. So move handle to align the exact value position when
// drag ended.
this._moveHandleToValue(value),// For the effect: tooltip will be shown when finger holding on handle
// button, and will be hidden after finger left handle button.
this._api.dispatchAction({type:"hideTip"})}},
/**
   * @private
   */
BaseAxisPointer.prototype.clear=function(api){this._lastValue=null,this._lastStatus=null;var zr=api.getZr(),group=this._group,handle=this._handle;zr&&group&&(this._lastGraphicKey=null,group&&zr.remove(group),handle&&zr.remove(handle),this._group=null,this._handle=null,this._payloadInfo=null),throttle/* clear */.ZH(this,"_doDispatchAxisPointer")},
/**
   * @protected
   */
BaseAxisPointer.prototype.doClear=function(){// Implemented by sub-class if necessary.
},BaseAxisPointer.prototype.buildLabel=function(xy,wh,xDimIndex){return xDimIndex=xDimIndex||0,{x:xy[xDimIndex],y:xy[1-xDimIndex],width:wh[xDimIndex],height:wh[1-xDimIndex]}},BaseAxisPointer}();
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function updateProps(animationModel,moveAnimation,el,props){
// Animation optimize.
propsEqual(inner(el).lastProp,props)||(inner(el).lastProp=props,moveAnimation?basicTransition/* updateProps */.D(el,props,animationModel):(el.stopAnimation(),el.attr(props)))}function propsEqual(lastProps,newProps){if(util/* isObject */.Kn(lastProps)&&util/* isObject */.Kn(newProps)){var equals_1=!0;return util/* each */.S6(newProps,(function(item,key){equals_1=equals_1&&propsEqual(lastProps[key],item)})),!!equals_1}return lastProps===newProps}function updateLabelShowHide(labelEl,axisPointerModel){labelEl[axisPointerModel.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(trans){return{x:trans.x||0,y:trans.y||0,rotation:trans.rotation||0}}function updateMandatoryProps(group,axisPointerModel,silent){var z=axisPointerModel.get("z"),zlevel=axisPointerModel.get("zlevel");group&&group.traverse((function(el){"group"!==el.type&&(null!=z&&(el.z=z),null!=zlevel&&(el.zlevel=zlevel),el.silent=silent)}))}
/* harmony default export */var axisPointer_BaseAxisPointer=BaseAxisPointer,viewHelper=__webpack_require__(175539),cartesianAxisHelper=__webpack_require__(949069),CartesianAxisPointer=
/** @class */
function(_super){function CartesianAxisPointer(){return null!==_super&&_super.apply(this,arguments)||this}
/**
   * @override
   */return(0,tslib_es6/* __extends */.ZT)(CartesianAxisPointer,_super),CartesianAxisPointer.prototype.makeElOption=function(elOption,value,axisModel,axisPointerModel,api){var axis=axisModel.axis,grid=axis.grid,axisPointerType=axisPointerModel.get("type"),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),pixelValue=axis.toGlobalCoord(axis.dataToCoord(value,!0));if(axisPointerType&&"none"!==axisPointerType){var elStyle=viewHelper/* buildElStyle */.fk(axisPointerModel),pointerOption=pointerShapeBuilder[axisPointerType](axis,pixelValue,otherExtent);pointerOption.style=elStyle,elOption.graphicKey=pointerOption.type,elOption.pointer=pointerOption}var layoutInfo=cartesianAxisHelper/* layout */.bK(grid.model,axisModel);viewHelper/* buildCartesianSingleLabelElOption */.gf(// @ts-ignore
value,elOption,layoutInfo,axisModel,axisPointerModel,api)},
/**
   * @override
   */
CartesianAxisPointer.prototype.getHandleTransform=function(value,axisModel,axisPointerModel){var layoutInfo=cartesianAxisHelper/* layout */.bK(axisModel.axis.grid.model,axisModel,{labelInside:!1});// @ts-ignore
layoutInfo.labelMargin=axisPointerModel.get(["handle","margin"]);var pos=viewHelper/* getTransformedPosition */.Zh(axisModel.axis,value,layoutInfo);return{x:pos[0],y:pos[1],rotation:layoutInfo.rotation+(layoutInfo.labelDirection<0?Math.PI:0)}},
/**
   * @override
   */
CartesianAxisPointer.prototype.updateHandleTransform=function(transform,delta,axisModel,axisPointerModel){var axis=axisModel.axis,grid=axis.grid,axisExtent=axis.getGlobalExtent(!0),otherExtent=getCartesian(grid,axis).getOtherAxis(axis).getGlobalExtent(),dimIndex="x"===axis.dim?0:1,currPosition=[transform.x,transform.y];currPosition[dimIndex]+=delta[dimIndex],currPosition[dimIndex]=Math.min(axisExtent[1],currPosition[dimIndex]),currPosition[dimIndex]=Math.max(axisExtent[0],currPosition[dimIndex]);var cursorOtherValue=(otherExtent[1]+otherExtent[0])/2,cursorPoint=[cursorOtherValue,cursorOtherValue];cursorPoint[dimIndex]=currPosition[dimIndex];// Make tooltip do not overlap axisPointer and in the middle of the grid.
var tooltipOptions=[{verticalAlign:"middle"},{align:"center"}];return{x:currPosition[0],y:currPosition[1],rotation:transform.rotation,cursorPoint:cursorPoint,tooltipOption:tooltipOptions[dimIndex]}},CartesianAxisPointer}(axisPointer_BaseAxisPointer);
// EXTERNAL MODULE: ./node_modules/echarts/lib/component/axisPointer/viewHelper.js
function getCartesian(grid,axis){var opt={};return opt[axis.dim+"AxisIndex"]=axis.index,grid.getCartesian(opt)}var pointerShapeBuilder={line:function(axis,pixelValue,otherExtent){var targetShape=viewHelper/* makeLineShape */.BL([pixelValue,otherExtent[0]],[pixelValue,otherExtent[1]],getAxisDimIndex(axis));return{type:"Line",subPixelOptimize:!0,shape:targetShape}},shadow:function(axis,pixelValue,otherExtent){var bandWidth=Math.max(1,axis.getBandWidth()),span=otherExtent[1]-otherExtent[0];return{type:"Rect",shape:viewHelper/* makeRectShape */.uE([pixelValue-bandWidth/2,otherExtent[0]],[bandWidth,span],getAxisDimIndex(axis))}}};function getAxisDimIndex(axis){return"x"===axis.dim?0:1}
/* harmony default export */var axisPointer_CartesianAxisPointer=CartesianAxisPointer,Component=__webpack_require__(498071),AxisPointerModel=
/** @class */
function(_super){function AxisPointerModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisPointerModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(AxisPointerModel,_super),AxisPointerModel.type="axisPointer",AxisPointerModel.defaultOption={
// 'auto' means that show when triggered by tooltip or handle.
show:"auto",
// zlevel: 0,
z:50,type:"line",
// axispointer triggered by tootip determine snap automatically,
// see `modelHelper`.
snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],
// Do not set 'auto' here, otherwise global animation: false
// will not effect at this axispointer.
animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,
// eslint-disable-next-line
icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,
// handle margin is from symbol center to axis, which is stable when circular move.
margin:50,
// color: '#1b8bbd'
// color: '#2f4554'
color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,
// For mobile performance
throttle:40}},AxisPointerModel}(Component/* default */.Z),axisPointer_AxisPointerModel=AxisPointerModel,globalListener=__webpack_require__(856996),view_Component=__webpack_require__(833166),AxisPointerView=
/** @class */
function(_super){function AxisPointerView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=AxisPointerView.type,_this}return(0,tslib_es6/* __extends */.ZT)(AxisPointerView,_super),AxisPointerView.prototype.render=function(globalAxisPointerModel,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),triggerOn=globalAxisPointerModel.get("triggerOn")||globalTooltipModel&&globalTooltipModel.get("triggerOn")||"mousemove|click";// Register global listener in AxisPointerView to enable
// AxisPointerView to be independent to Tooltip.
globalListener/* register */.z("axisPointer",api,(function(currTrigger,e,dispatchAction){
// If 'none', it is not controlled by mouse totally.
"none"!==triggerOn&&("leave"===currTrigger||triggerOn.indexOf(currTrigger)>=0)&&dispatchAction({type:"updateAxisPointer",currTrigger:currTrigger,x:e&&e.offsetX,y:e&&e.offsetY})}))},AxisPointerView.prototype.remove=function(ecModel,api){globalListener/* unregister */.E("axisPointer",api)},AxisPointerView.prototype.dispose=function(ecModel,api){globalListener/* unregister */.E("axisPointer",api)},AxisPointerView.type="axisPointer",AxisPointerView}(view_Component/* default */.Z),axisPointer_AxisPointerView=AxisPointerView,findPointFromSeries=__webpack_require__(892448),axisTrigger_inner=(0,model/* makeInner */.Yf)();
// EXTERNAL MODULE: ./node_modules/echarts/lib/model/Component.js
/**
 * Basic logic: check all axis, if they do not demand show/highlight,
 * then hide/downplay them.
 *
 * @return content of event obj for echarts.connect.
 */
function axisTrigger(payload,ecModel,api){var currTrigger=payload.currTrigger,point=[payload.x,payload.y],finder=payload,dispatchAction=payload.dispatchAction||(0,util/* bind */.ak)(api.dispatchAction,api),coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;// Pending
// See #6121. But we are not able to reproduce it yet.
if(coordSysAxesInfo){illegalPoint(point)&&(
// Used in the default behavior of `connection`: use the sample seriesIndex
// and dataIndex. And also used in the tooltipView trigger.
point=(0,findPointFromSeries/* default */.Z)({seriesIndex:finder.seriesIndex,
// Do not use dataIndexInside from other ec instance.
// FIXME: auto detect it?
dataIndex:finder.dataIndex},ecModel).point);var isIllegalPoint=illegalPoint(point),inputAxesInfo=finder.axesInfo,axesInfo=coordSysAxesInfo.axesInfo,shouldHide="leave"===currTrigger||illegalPoint(point),outputPayload={},showValueMap={},dataByCoordSys={list:[],map:{}},updaters={showPointer:(0,util/* curry */.WA)(showPointer,showValueMap),showTooltip:(0,util/* curry */.WA)(showTooltip,dataByCoordSys)};// Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).
// Notice: In this case, it is difficult to get the `point` (which is necessary to show
// tooltip, so if point is not given, we just use the point found by sample seriesIndex
// and dataIndex.
// Process for triggered axes.
(0,util/* each */.S6)(coordSysAxesInfo.coordSysMap,(function(coordSys,coordSysKey){
// If a point given, it must be contained by the coordinate system.
var coordSysContainsPoint=isIllegalPoint||coordSys.containPoint(point);(0,util/* each */.S6)(coordSysAxesInfo.coordSysAxesInfo[coordSysKey],(function(axisInfo,key){var axis=axisInfo.axis,inputAxisInfo=findInputAxisInfo(inputAxesInfo,axisInfo);// If no inputAxesInfo, no axis is restricted.
if(!shouldHide&&coordSysContainsPoint&&(!inputAxesInfo||inputAxisInfo)){var val=inputAxisInfo&&inputAxisInfo.value;null!=val||isIllegalPoint||(val=axis.pointToData(point)),null!=val&&processOnAxis(axisInfo,val,updaters,!1,outputPayload)}}))}));// Process for linked axes.
var linkTriggers={};return(0,util/* each */.S6)(axesInfo,(function(tarAxisInfo,tarKey){var linkGroup=tarAxisInfo.linkGroup;// If axis has been triggered in the previous stage, it should not be triggered by link.
linkGroup&&!showValueMap[tarKey]&&(0,util/* each */.S6)(linkGroup.axesInfo,(function(srcAxisInfo,srcKey){var srcValItem=showValueMap[srcKey];// If srcValItem exist, source axis is triggered, so link to target axis.
if(srcAxisInfo!==tarAxisInfo&&srcValItem){var val=srcValItem.value;linkGroup.mapper&&(val=tarAxisInfo.axis.scale.parse(linkGroup.mapper(val,makeMapperParam(srcAxisInfo),makeMapperParam(tarAxisInfo)))),linkTriggers[tarAxisInfo.key]=val}}))})),(0,util/* each */.S6)(linkTriggers,(function(val,tarKey){processOnAxis(axesInfo[tarKey],val,updaters,!0,outputPayload)})),updateModelActually(showValueMap,axesInfo,outputPayload),dispatchTooltipActually(dataByCoordSys,point,payload,dispatchAction),dispatchHighDownActually(axesInfo,dispatchAction,api),outputPayload}}function processOnAxis(axisInfo,newValue,updaters,noSnap,outputFinder){var axis=axisInfo.axis;if(!axis.scale.isBlank()&&axis.containData(newValue))if(axisInfo.involveSeries){// Heavy calculation. So put it after axis.containData checking.
var payloadInfo=buildPayloadsBySeries(newValue,axisInfo),payloadBatch=payloadInfo.payloadBatch,snapToValue=payloadInfo.snapToValue;// Fill content of event obj for echarts.connect.
// By default use the first involved series data as a sample to connect.
payloadBatch[0]&&null==outputFinder.seriesIndex&&(0,util/* extend */.l7)(outputFinder,payloadBatch[0]),// If no linkSource input, this process is for collecting link
// target, where snap should not be accepted.
!noSnap&&axisInfo.snap&&axis.containData(snapToValue)&&null!=snapToValue&&(newValue=snapToValue),updaters.showPointer(axisInfo,newValue,payloadBatch),// Tooltip should always be snapToValue, otherwise there will be
// incorrect "axis value ~ series value" mapping displayed in tooltip.
updaters.showTooltip(axisInfo,payloadInfo,snapToValue)}else updaters.showPointer(axisInfo,newValue)}function buildPayloadsBySeries(value,axisInfo){var axis=axisInfo.axis,dim=axis.dim,snapToValue=value,payloadBatch=[],minDist=Number.MAX_VALUE,minDiff=-1;return(0,util/* each */.S6)(axisInfo.seriesModels,(function(series,idx){var seriesNestestValue,dataIndices,dataDim=series.getData().mapDimensionsAll(dim);if(series.getAxisTooltipData){var result=series.getAxisTooltipData(dataDim,value,axis);dataIndices=result.dataIndices,seriesNestestValue=result.nestestValue}else{if(dataIndices=series.getData().indicesOfNearest(dataDim[0],value,// Add a threshold to avoid find the wrong dataIndex
// when data length is not same.
// false,
"category"===axis.type?.5:null),!dataIndices.length)return;seriesNestestValue=series.getData().get(dataDim[0],dataIndices[0])}if(null!=seriesNestestValue&&isFinite(seriesNestestValue)){var diff=value-seriesNestestValue,dist=Math.abs(diff);// Consider category case
dist<=minDist&&((dist<minDist||diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,snapToValue=seriesNestestValue,payloadBatch.length=0),(0,util/* each */.S6)(dataIndices,(function(dataIndex){payloadBatch.push({seriesIndex:series.seriesIndex,dataIndexInside:dataIndex,dataIndex:series.getData().getRawIndex(dataIndex)})})))}})),{payloadBatch:payloadBatch,snapToValue:snapToValue}}function showPointer(showValueMap,axisInfo,value,payloadBatch){showValueMap[axisInfo.key]={value:value,payloadBatch:payloadBatch}}function showTooltip(dataByCoordSys,axisInfo,payloadInfo,value){var payloadBatch=payloadInfo.payloadBatch,axis=axisInfo.axis,axisModel=axis.model,axisPointerModel=axisInfo.axisPointerModel;// If no data, do not create anything in dataByCoordSys,
// whose length will be used to judge whether dispatch action.
if(axisInfo.triggerTooltip&&payloadBatch.length){var coordSysModel=axisInfo.coordSys.model,coordSysKey=modelHelper/* makeKey */.zm(coordSysModel),coordSysItem=dataByCoordSys.map[coordSysKey];coordSysItem||(coordSysItem=dataByCoordSys.map[coordSysKey]={coordSysId:coordSysModel.id,coordSysIndex:coordSysModel.componentIndex,coordSysType:coordSysModel.type,coordSysMainType:coordSysModel.mainType,dataByAxis:[]},dataByCoordSys.list.push(coordSysItem)),coordSysItem.dataByAxis.push({axisDim:axis.dim,axisIndex:axisModel.componentIndex,axisType:axisModel.type,axisId:axisModel.id,value:value,
// Caustion: viewHelper.getValueLabel is actually on "view stage", which
// depends that all models have been updated. So it should not be performed
// here. Considering axisPointerModel used here is volatile, which is hard
// to be retrieve in TooltipView, we prepare parameters here.
valueLabelOpt:{precision:axisPointerModel.get(["label","precision"]),formatter:axisPointerModel.get(["label","formatter"])},seriesDataIndices:payloadBatch.slice()})}}function updateModelActually(showValueMap,axesInfo,outputPayload){var outputAxesInfo=outputPayload.axesInfo=[];// Basic logic: If no 'show' required, 'hide' this axisPointer.
(0,util/* each */.S6)(axesInfo,(function(axisInfo,key){var option=axisInfo.axisPointerModel.option,valItem=showValueMap[key];valItem?(!axisInfo.useHandle&&(option.status="show"),option.value=valItem.value,// For label formatter param and highlight.
option.seriesDataIndices=(valItem.payloadBatch||[]).slice()):
// If hide, value still need to be set, consider
// click legend to toggle axis blank.
!axisInfo.useHandle&&(option.status="hide"),// If status is 'hide', should be no info in payload.
"show"===option.status&&outputAxesInfo.push({axisDim:axisInfo.axis.dim,axisIndex:axisInfo.axis.model.componentIndex,value:option.value})}))}function dispatchTooltipActually(dataByCoordSys,point,payload,dispatchAction){
// Basic logic: If no showTip required, hideTip will be dispatched.
if(!illegalPoint(point)&&dataByCoordSys.list.length){// In most case only one axis (or event one series is used). It is
// convenient to fetch payload.seriesIndex and payload.dataIndex
// directly. So put the first seriesIndex and dataIndex of the first
// axis on the payload.
var sampleItem=((dataByCoordSys.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};dispatchAction({type:"showTip",escapeConnect:!0,x:point[0],y:point[1],tooltipOption:payload.tooltipOption,position:payload.position,dataIndexInside:sampleItem.dataIndexInside,dataIndex:sampleItem.dataIndex,seriesIndex:sampleItem.seriesIndex,dataByCoordSys:dataByCoordSys.list})}else dispatchAction({type:"hideTip"})}function dispatchHighDownActually(axesInfo,dispatchAction,api){
// FIXME
// highlight status modification should be a stage of main process?
// (Consider confilct (e.g., legend and axisPointer) and setOption)
var zr=api.getZr(),highDownKey="axisPointerLastHighlights",lastHighlights=axisTrigger_inner(zr)[highDownKey]||{},newHighlights=axisTrigger_inner(zr)[highDownKey]={};// Update highlight/downplay status according to axisPointer model.
// Build hash map and remove duplicate incidentally.
(0,util/* each */.S6)(axesInfo,(function(axisInfo,key){var option=axisInfo.axisPointerModel.option;"show"===option.status&&axisInfo.triggerEmphasis&&(0,util/* each */.S6)(option.seriesDataIndices,(function(batchItem){var key=batchItem.seriesIndex+" | "+batchItem.dataIndex;newHighlights[key]=batchItem}))}));// Diff.
var toHighlight=[],toDownplay=[];(0,util/* each */.S6)(lastHighlights,(function(batchItem,key){!newHighlights[key]&&toDownplay.push(batchItem)})),(0,util/* each */.S6)(newHighlights,(function(batchItem,key){!lastHighlights[key]&&toHighlight.push(batchItem)})),toDownplay.length&&api.dispatchAction({type:"downplay",escapeConnect:!0,
// Not blur others when highlight in axisPointer.
notBlur:!0,batch:toDownplay}),toHighlight.length&&api.dispatchAction({type:"highlight",escapeConnect:!0,
// Not blur others when highlight in axisPointer.
notBlur:!0,batch:toHighlight})}function findInputAxisInfo(inputAxesInfo,axisInfo){for(var i=0;i<(inputAxesInfo||[]).length;i++){var inputAxisInfo=inputAxesInfo[i];if(axisInfo.axis.dim===inputAxisInfo.axisDim&&axisInfo.axis.model.componentIndex===inputAxisInfo.axisIndex)return inputAxisInfo}}function makeMapperParam(axisInfo){var axisModel=axisInfo.axis.model,item={},dim=item.axisDim=axisInfo.axis.dim;return item.axisIndex=item[dim+"AxisIndex"]=axisModel.componentIndex,item.axisName=item[dim+"AxisName"]=axisModel.name,item.axisId=item[dim+"AxisId"]=axisModel.id,item}function illegalPoint(point){return!point||null==point[0]||isNaN(point[0])||null==point[1]||isNaN(point[1])}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/axisPointer/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){
// CartesianAxisPointer is not supposed to be required here. But consider
// echarts.simple.js and online build tooltip, which only require gridSimple,
// CartesianAxisPointer should be able to required somewhere.
AxisView/* default */.Z.registerAxisPointerClass("CartesianAxisPointer",axisPointer_CartesianAxisPointer),registers.registerComponentModel(axisPointer_AxisPointerModel),registers.registerComponentView(axisPointer_AxisPointerView),registers.registerPreprocessor((function(option){
// Always has a global axisPointerModel for default setting.
if(option){(!option.axisPointer||0===option.axisPointer.length)&&(option.axisPointer={});var link=option.axisPointer.link;// Normalize to array to avoid object mergin. But if link
// is not set, remain null/undefined, otherwise it will
// override existent link setting.
link&&!(0,util/* isArray */.kJ)(link)&&(option.axisPointer.link=[link])}})),// This process should proformed after coordinate systems created
// and series data processed. So put it on statistic processing stage.
registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC,(function(ecModel,api){
// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.
// allAxesInfo should be updated when setOption performed.
ecModel.getComponent("axisPointer").coordSysAxesInfo=(0,modelHelper/* collect */.KM)(ecModel,api)})),// Broadcast to all views.
registers.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}
/***/},
/***/118490:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */KM:function(){/* binding */return collect},
/* harmony export */iG:function(){/* binding */return fixValue},
/* harmony export */np:function(){/* binding */return getAxisPointerModel},
/* harmony export */r:function(){/* binding */return getAxisInfo},
/* harmony export */zm:function(){/* binding */return makeKey}
/* harmony export */});
/* harmony import */var _model_Model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(812312),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// Build axisPointerModel, mergin tooltip.axisPointer model for each axis.
// allAxesInfo should be updated when setOption performed.
function collect(ecModel,api){var result={
/**
     * key: makeKey(axis.model)
     * value: {
     *      axis,
     *      coordSys,
     *      axisPointerModel,
     *      triggerTooltip,
     *      triggerEmphasis,
     *      involveSeries,
     *      snap,
     *      seriesModels,
     *      seriesDataCount
     * }
     */
axesInfo:{},seriesInvolved:!1,
/**
     * key: makeKey(coordSys.model)
     * value: Object: key makeKey(axis.model), value: axisInfo
     */
coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(result,ecModel,api),// Check seriesInvolved for performance, in case too many series in some chart.
result.seriesInvolved&&collectSeriesInfo(result,ecModel),result}function collectAxesInfo(result,ecModel,api){var globalTooltipModel=ecModel.getComponent("tooltip"),globalAxisPointerModel=ecModel.getComponent("axisPointer"),linksOption=globalAxisPointerModel.get("link",!0)||[],linkGroups=[];// Collect axes info.
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(api.getCoordinateSystems(),(function(coordSys){
// Some coordinate system do not support axes, like geo.
if(coordSys.axisPointerEnabled){var coordSysKey=makeKey(coordSys.model),axesInfoInCoordSys=result.coordSysAxesInfo[coordSysKey]={};result.coordSysMap[coordSysKey]=coordSys;// Set tooltip (like 'cross') is a convenient way to show axisPointer
// for user. So we enable setting tooltip on coordSys model.
var coordSysModel=coordSys.model,baseTooltipModel=coordSysModel.getModel("tooltip",globalTooltipModel);// If axis tooltip used, choose tooltip axis for each coordSys.
// Notice this case: coordSys is `grid` but not `cartesian2D` here.
if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(coordSys.getAxes(),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .curry */.WA)(saveTooltipAxisInfo,!1,null)),coordSys.getTooltipAxes&&globalTooltipModel&&baseTooltipModel.get("show")){
// Compatible with previous logic. But series.tooltip.trigger: 'axis'
// or series.data[n].tooltip.trigger: 'axis' are not support any more.
var triggerAxis="axis"===baseTooltipModel.get("trigger"),cross="cross"===baseTooltipModel.get(["axisPointer","type"]),tooltipAxes=coordSys.getTooltipAxes(baseTooltipModel.get(["axisPointer","axis"]));(triggerAxis||cross)&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(tooltipAxes.baseAxes,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .curry */.WA)(saveTooltipAxisInfo,!cross||"cross",triggerAxis)),cross&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(tooltipAxes.otherAxes,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .curry */.WA)(saveTooltipAxisInfo,"cross",!1))}// fromTooltip: true | false | 'cross'
// triggerTooltip: true | false | null
}function saveTooltipAxisInfo(fromTooltip,triggerTooltip,axis){var axisPointerModel=axis.model.getModel("axisPointer",globalAxisPointerModel),axisPointerShow=axisPointerModel.get("show");if(axisPointerShow&&("auto"!==axisPointerShow||fromTooltip||isHandleTrigger(axisPointerModel))){null==triggerTooltip&&(triggerTooltip=axisPointerModel.get("triggerTooltip")),axisPointerModel=fromTooltip?makeAxisPointerModel(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip):axisPointerModel;var snap=axisPointerModel.get("snap"),triggerEmphasis=axisPointerModel.get("triggerEmphasis"),axisKey=makeKey(axis.model),involveSeries=triggerTooltip||snap||"category"===axis.type,axisInfo=result.axesInfo[axisKey]={key:axisKey,axis:axis,coordSys:coordSys,axisPointerModel:axisPointerModel,triggerTooltip:triggerTooltip,triggerEmphasis:triggerEmphasis,involveSeries:involveSeries,snap:snap,useHandle:isHandleTrigger(axisPointerModel),seriesModels:[],linkGroup:null};axesInfoInCoordSys[axisKey]=axisInfo,result.seriesInvolved=result.seriesInvolved||involveSeries;var groupIndex=getLinkGroupIndex(linksOption,axis);if(null!=groupIndex){var linkGroup=linkGroups[groupIndex]||(linkGroups[groupIndex]={axesInfo:{}});linkGroup.axesInfo[axisKey]=axisInfo,linkGroup.mapper=linksOption[groupIndex].mapper,axisInfo.linkGroup=linkGroup}}}}))}function makeAxisPointerModel(axis,baseTooltipModel,globalAxisPointerModel,ecModel,fromTooltip,triggerTooltip){var tooltipAxisPointerModel=baseTooltipModel.getModel("axisPointer"),fields=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],volatileOption={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(fields,(function(field){volatileOption[field]=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */.d9)(tooltipAxisPointerModel.get(field))})),// category axis do not auto snap, otherwise some tick that do not
// has value can not be hovered. value/time/log axis default snap if
// triggered from tooltip and trigger tooltip.
volatileOption.snap="category"!==axis.type&&!!triggerTooltip,// Compatible with previous behavior, tooltip axis does not show label by default.
// Only these properties can be overridden from tooltip to axisPointer.
"cross"===tooltipAxisPointerModel.get("type")&&(volatileOption.type="line");var labelOption=volatileOption.label||(volatileOption.label={});// Follow the convention, do not show label when triggered by tooltip by default.
if(null==labelOption.show&&(labelOption.show=!1),"cross"===fromTooltip){
// When 'cross', both axes show labels.
var tooltipAxisPointerLabelShow=tooltipAxisPointerModel.get(["label","show"]);// If triggerTooltip, this is a base axis, which should better not use cross style
// (cross style is dashed by default)
if(labelOption.show=null==tooltipAxisPointerLabelShow||tooltipAxisPointerLabelShow,!triggerTooltip){var crossStyle=volatileOption.lineStyle=tooltipAxisPointerModel.get("crossStyle");crossStyle&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .defaults */.ce)(labelOption,crossStyle.textStyle)}}return axis.model.getModel("axisPointer",new _model_Model_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */.Z(volatileOption,globalAxisPointerModel,ecModel))}function collectSeriesInfo(result,ecModel){
// Prepare data for axis trigger
ecModel.eachSeries((function(seriesModel){
// Notice this case: this coordSys is `cartesian2D` but not `grid`.
var coordSys=seriesModel.coordinateSystem,seriesTooltipTrigger=seriesModel.get(["tooltip","trigger"],!0),seriesTooltipShow=seriesModel.get(["tooltip","show"],!0);coordSys&&"none"!==seriesTooltipTrigger&&!1!==seriesTooltipTrigger&&"item"!==seriesTooltipTrigger&&!1!==seriesTooltipShow&&!1!==seriesModel.get(["axisPointer","show"],!0)&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(result.coordSysAxesInfo[makeKey(coordSys.model)],(function(axisInfo){var axis=axisInfo.axis;coordSys.getAxis(axis.dim)===axis&&(axisInfo.seriesModels.push(seriesModel),null==axisInfo.seriesDataCount&&(axisInfo.seriesDataCount=0),axisInfo.seriesDataCount+=seriesModel.getData().count())}))}))}
/**
 * For example:
 * {
 *     axisPointer: {
 *         links: [{
 *             xAxisIndex: [2, 4],
 *             yAxisIndex: 'all'
 *         }, {
 *             xAxisId: ['a5', 'a7'],
 *             xAxisName: 'xxx'
 *         }]
 *     }
 * }
 */function getLinkGroupIndex(linksOption,axis){for(var axisModel=axis.model,dim=axis.dim,i=0;i<linksOption.length;i++){var linkOption=linksOption[i]||{};if(checkPropInLink(linkOption[dim+"AxisId"],axisModel.id)||checkPropInLink(linkOption[dim+"AxisIndex"],axisModel.componentIndex)||checkPropInLink(linkOption[dim+"AxisName"],axisModel.name))return i}}function checkPropInLink(linkPropValue,axisPropValue){return"all"===linkPropValue||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(linkPropValue)&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .indexOf */.cq)(linkPropValue,axisPropValue)>=0||linkPropValue===axisPropValue}function fixValue(axisModel){var axisInfo=getAxisInfo(axisModel);if(axisInfo){var axisPointerModel=axisInfo.axisPointerModel,scale=axisInfo.axis.scale,option=axisPointerModel.option,status=axisPointerModel.get("status"),value=axisPointerModel.get("value");// Parse init value for category and time axis.
null!=value&&(value=scale.parse(value));var useHandle=isHandleTrigger(axisPointerModel);// If `handle` used, `axisPointer` will always be displayed, so value
// and status should be initialized.
null==status&&(option.status=useHandle?"show":"hide");var extent=scale.getExtent().slice();extent[0]>extent[1]&&extent.reverse(),(// Pick a value on axis when initializing.
null==value||value>extent[1])&&(
// Make handle displayed on the end of the axis when init, which looks better.
value=extent[1]),value<extent[0]&&(value=extent[0]),option.value=value,useHandle&&(option.status=axisInfo.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(axisModel){var coordSysAxesInfo=(axisModel.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return coordSysAxesInfo&&coordSysAxesInfo.axesInfo[makeKey(axisModel)]}function getAxisPointerModel(axisModel){var axisInfo=getAxisInfo(axisModel);return axisInfo&&axisInfo.axisPointerModel}function isHandleTrigger(axisPointerModel){return!!axisPointerModel.get(["handle","show"])}
/**
 * @param {module:echarts/model/Model} model
 * @return {string} unique key
 */function makeKey(model){return model.type+"||"+model.id}
/***/},
/***/175539:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */BL:function(){/* binding */return makeLineShape},
/* harmony export */Zh:function(){/* binding */return getTransformedPosition},
/* harmony export */fk:function(){/* binding */return buildElStyle},
/* harmony export */gf:function(){/* binding */return buildCartesianSingleLabelElOption},
/* harmony export */gk:function(){/* binding */return getValueLabel},
/* harmony export */uE:function(){/* binding */return makeRectShape}
/* harmony export */});
/* unused harmony exports buildLabelElOption, makeSectorShape */
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(933051),_util_graphic_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(851177),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(780423),_util_format_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(578988),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(932892),_coord_axisHelper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(597980),_axis_AxisBuilder_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(558608),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(336006);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function buildElStyle(axisPointerModel){var style,axisPointerType=axisPointerModel.get("type"),styleModel=axisPointerModel.getModel(axisPointerType+"Style");return"line"===axisPointerType?(style=styleModel.getLineStyle(),style.fill=null):"shadow"===axisPointerType&&(style=styleModel.getAreaStyle(),style.stroke=null),style}
/**
 * @param {Function} labelPos {align, verticalAlign, position}
 */function buildLabelElOption(elOption,axisModel,axisPointerModel,api,labelPos){var value=axisPointerModel.get("value"),text=getValueLabel(value,axisModel.axis,axisModel.ecModel,axisPointerModel.get("seriesDataIndices"),{precision:axisPointerModel.get(["label","precision"]),formatter:axisPointerModel.get(["label","formatter"])}),labelModel=axisPointerModel.getModel("label"),paddings=_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .normalizeCssArray */.MY(labelModel.get("padding")||0),font=labelModel.getFont(),textRect=zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__/* .getBoundingRect */.lP(text,font),position=labelPos.position,width=textRect.width+paddings[1]+paddings[3],height=textRect.height+paddings[0]+paddings[2],align=labelPos.align;"right"===align&&(position[0]-=width),"center"===align&&(position[0]-=width/2);var verticalAlign=labelPos.verticalAlign;"bottom"===verticalAlign&&(position[1]-=height),"middle"===verticalAlign&&(position[1]-=height/2),// Not overflow ec container
confineInContainer(position,width,height,api);var bgColor=labelModel.get("backgroundColor");bgColor&&"auto"!==bgColor||(bgColor=axisModel.get(["axisLine","lineStyle","color"])),elOption.label={
// shape: {x: 0, y: 0, width: width, height: height, r: labelModel.get('borderRadius')},
x:position[0],y:position[1],style:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_2__/* .createTextStyle */.Lr)(labelModel,{text:text,font:font,fill:labelModel.getTextColor(),padding:paddings,backgroundColor:bgColor}),
// Label should be over axisPointer.
z2:10}}// Do not overflow ec container
function confineInContainer(position,width,height,api){var viewWidth=api.getWidth(),viewHeight=api.getHeight();position[0]=Math.min(position[0]+width,viewWidth)-width,position[1]=Math.min(position[1]+height,viewHeight)-height,position[0]=Math.max(position[0],0),position[1]=Math.max(position[1],0)}function getValueLabel(value,axis,ecModel,seriesDataIndices,opt){value=axis.scale.parse(value);var text=axis.scale.getLabel({value:value},{
// If `precision` is set, width can be fixed (like '12.00500'), which
// helps to debounce when when moving label.
precision:opt.precision}),formatter=opt.formatter;if(formatter){var params_1={value:_coord_axisHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .getAxisRawValue */.DX(axis,{value:value}),axisDimension:axis.dim,axisIndex:axis.index,seriesData:[]};zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__/* .each */.S6(seriesDataIndices,(function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,dataParams=series&&series.getDataParams(dataIndex);dataParams&&params_1.seriesData.push(dataParams)})),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__/* .isString */.HD(formatter)?text=formatter.replace("{value}",text):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_4__/* .isFunction */.mf(formatter)&&(text=formatter(params_1))}return text}function getTransformedPosition(axis,value,layoutInfo){var transform=zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__/* .create */.Ue();return zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__/* .rotate */.U1(transform,transform,layoutInfo.rotation),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_5__/* .translate */.Iu(transform,transform,layoutInfo.position),_util_graphic_js__WEBPACK_IMPORTED_MODULE_6__.applyTransform([axis.dataToCoord(value),(layoutInfo.labelOffset||0)+(layoutInfo.labelDirection||1)*(layoutInfo.labelMargin||0)],transform)}function buildCartesianSingleLabelElOption(value,elOption,layoutInfo,axisModel,axisPointerModel,api){
// @ts-ignore
var textLayout=_axis_AxisBuilder_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.innerTextLayout(layoutInfo.rotation,0,layoutInfo.labelDirection);layoutInfo.labelMargin=axisPointerModel.get(["label","margin"]),buildLabelElOption(elOption,axisModel,axisPointerModel,api,{position:getTransformedPosition(axisModel.axis,value,layoutInfo),align:textLayout.textAlign,verticalAlign:textLayout.textVerticalAlign})}function makeLineShape(p1,p2,xDimIndex){return xDimIndex=xDimIndex||0,{x1:p1[xDimIndex],y1:p1[1-xDimIndex],x2:p2[xDimIndex],y2:p2[1-xDimIndex]}}function makeRectShape(xy,wh,xDimIndex){return xDimIndex=xDimIndex||0,{x:xy[xDimIndex],y:xy[1-xDimIndex],width:wh[xDimIndex],height:wh[1-xDimIndex]}}},
/***/977680:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install_install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/extension.js
var extension=__webpack_require__(768023),tslib_es6=__webpack_require__(570655),util=__webpack_require__(933051),Component=__webpack_require__(498071),DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function isCoordSupported(seriesModel){var coordType=seriesModel.get("coordinateSystem");return(0,util/* indexOf */.cq)(SERIES_COORDS,coordType)>=0}function getAxisMainType(axisDim){return axisDim+"Axis"}
/**
 * If two dataZoomModels has the same axis controlled, we say that they are 'linked'.
 * This function finds all linked dataZoomModels start from the given payload.
 */
function findEffectedDataZooms(ecModel,payload){
// Key: `DataZoomAxisDimension`
var foundNewLink,axisRecords=(0,util/* createHashMap */.kW)(),effectedModels=[],effectedModelMap=(0,util/* createHashMap */.kW)();// Find the dataZooms specified by payload.
ecModel.eachComponent({mainType:"dataZoom",query:payload},(function(dataZoomModel){effectedModelMap.get(dataZoomModel.uid)||addToEffected(dataZoomModel)}));do{foundNewLink=!1,ecModel.eachComponent("dataZoom",processSingle)}while(foundNewLink);function processSingle(dataZoomModel){!effectedModelMap.get(dataZoomModel.uid)&&isLinked(dataZoomModel)&&(addToEffected(dataZoomModel),foundNewLink=!0)}function addToEffected(dataZoom){effectedModelMap.set(dataZoom.uid,!0),effectedModels.push(dataZoom),markAxisControlled(dataZoom)}function isLinked(dataZoomModel){var isLink=!1;return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisIdxArr=axisRecords.get(axisDim);axisIdxArr&&axisIdxArr[axisIndex]&&(isLink=!0)})),isLink}function markAxisControlled(dataZoomModel){dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){(axisRecords.get(axisDim)||axisRecords.set(axisDim,[]))[axisIndex]=!0}))}return effectedModels}
/**
 * Find the first target coordinate system.
 * Available after model built.
 *
 * @return Like {
 *                  grid: [
 *                      {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},
 *                      {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},
 *                      ...
 *                  ],  // cartesians must not be null/undefined.
 *                  polar: [
 *                      {model: coord0, axisModels: [axis4], coordIndex: 0},
 *                      ...
 *                  ],  // polars must not be null/undefined.
 *                  singleAxis: [
 *                      {model: coord0, axisModels: [], coordIndex: 0}
 *                  ]
 *              }
 */function collectReferCoordSysModelInfo(dataZoomModel){var ecModel=dataZoomModel.ecModel,coordSysInfoWrap={infoList:[],infoMap:(0,util/* createHashMap */.kW)()};return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisModel=ecModel.getComponent(getAxisMainType(axisDim),axisIndex);if(axisModel){var coordSysModel=axisModel.getCoordSysModel();if(coordSysModel){var coordSysUid=coordSysModel.uid,coordSysInfo=coordSysInfoWrap.infoMap.get(coordSysUid);coordSysInfo||(coordSysInfo={model:coordSysModel,axisModels:[]},coordSysInfoWrap.infoList.push(coordSysInfo),coordSysInfoWrap.infoMap.set(coordSysUid,coordSysInfo)),coordSysInfo.axisModels.push(axisModel)}}})),coordSysInfoWrap}
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/model.js
var model=__webpack_require__(232234),DataZoomAxisInfo=
/** @class */
function(){function DataZoomAxisInfo(){this.indexList=[],this.indexMap=[]}return DataZoomAxisInfo.prototype.add=function(axisCmptIdx){
// Remove duplication.
this.indexMap[axisCmptIdx]||(this.indexList.push(axisCmptIdx),this.indexMap[axisCmptIdx]=!0)},DataZoomAxisInfo}(),DataZoomModel=
/** @class */
function(_super){function DataZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=DataZoomModel.type,_this._autoThrottle=!0,_this._noTarget=!0,
/**
     * It is `[rangeModeForMin, rangeModeForMax]`.
     * The optional values for `rangeMode`:
     * + `'value'` mode: the axis extent will always be determined by
     *     `dataZoom.startValue` and `dataZoom.endValue`, despite
     *     how data like and how `axis.min` and `axis.max` are.
     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,
     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,
     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.
     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.
     *
     * For example, when users are using dynamic data (update data periodically via `setOption`),
     * if in `'value`' mode, the window will be kept in a fixed value range despite how
     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with
     * the appended data (suppose `axis.min` and `axis.max` are not specified).
     */
_this._rangePropMode=["percent","percent"],_this}return(0,tslib_es6/* __extends */.ZT)(DataZoomModel,_super),DataZoomModel.prototype.init=function(option,parentModel,ecModel){var inputRawOption=retrieveRawOption(option);
/**
     * Suppose a "main process" start at the point that model prepared (that is,
     * model initialized or merged or method called in `action`).
     * We should keep the `main process` idempotent, that is, given a set of values
     * on `option`, we get the same result.
     *
     * But sometimes, values on `option` will be updated for providing users
     * a "final calculated value" (`dataZoomProcessor` will do that). Those value
     * should not be the base/input of the `main process`.
     *
     * So in that case we should save and keep the input of the `main process`
     * separately, called `settledOption`.
     *
     * For example, consider the case:
     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,
     *     where the original input `option.startValue`, `option.endValue` are earsed by
     *     calculated value.
     * (Step)2) click the legend to hide and show a series,
     *     where the new range is calculated by the earsed `startValue` and `endValue`,
     *     which brings incorrect result.
     */this.settledOption=inputRawOption,this.mergeDefaultAndTheme(option,ecModel),this._doInit(inputRawOption)},DataZoomModel.prototype.mergeOption=function(newOption){var inputRawOption=retrieveRawOption(newOption);// FIX #2591
(0,util/* merge */.TS)(this.option,newOption,!0),(0,util/* merge */.TS)(this.settledOption,inputRawOption,!0),this._doInit(inputRawOption)},DataZoomModel.prototype._doInit=function(inputRawOption){var thisOption=this.option;this._setDefaultThrottle(inputRawOption),this._updateRangeUse(inputRawOption);var settledOption=this.settledOption;(0,util/* each */.S6)([["start","startValue"],["end","endValue"]],(function(names,index){
// start/end has higher priority over startValue/endValue if they
// both set, but we should make chart.setOption({endValue: 1000})
// effective, rather than chart.setOption({endValue: 1000, end: null}).
"value"===this._rangePropMode[index]&&(thisOption[names[0]]=settledOption[names[0]]=null);// Otherwise do nothing and use the merge result.
}),this),this._resetTarget()},DataZoomModel.prototype._resetTarget=function(){var optionOrient=this.get("orient",!0),targetAxisIndexMap=this._targetAxisInfoMap=(0,util/* createHashMap */.kW)(),hasAxisSpecified=this._fillSpecifiedTargetAxis(targetAxisIndexMap);hasAxisSpecified?this._orient=optionOrient||this._makeAutoOrientByTargetAxis():(this._orient=optionOrient||"horizontal",this._fillAutoTargetAxisByOrient(targetAxisIndexMap,this._orient)),this._noTarget=!0,targetAxisIndexMap.each((function(axisInfo){axisInfo.indexList.length&&(this._noTarget=!1)}),this)},DataZoomModel.prototype._fillSpecifiedTargetAxis=function(targetAxisIndexMap){var hasAxisSpecified=!1;return(0,util/* each */.S6)(DATA_ZOOM_AXIS_DIMENSIONS,(function(axisDim){var refering=this.getReferringComponents(getAxisMainType(axisDim),model/* MULTIPLE_REFERRING */.iP);// When user set axisIndex as a empty array, we think that user specify axisIndex
// but do not want use auto mode. Because empty array may be encountered when
// some error occurred.
if(refering.specified){hasAxisSpecified=!0;var axisInfo=new DataZoomAxisInfo;(0,util/* each */.S6)(refering.models,(function(axisModel){axisInfo.add(axisModel.componentIndex)})),targetAxisIndexMap.set(axisDim,axisInfo)}}),this),hasAxisSpecified},DataZoomModel.prototype._fillAutoTargetAxisByOrient=function(targetAxisIndexMap,orient){var ecModel=this.ecModel,needAuto=!0;// Find axis that parallel to dataZoom as default.
if(needAuto){var axisDim="vertical"===orient?"y":"x",axisModels=ecModel.findComponents({mainType:axisDim+"Axis"});setParallelAxis(axisModels,axisDim)}// Find axis that parallel to dataZoom as default.
if(needAuto){axisModels=ecModel.findComponents({mainType:"singleAxis",filter:function(axisModel){return axisModel.get("orient",!0)===orient}});setParallelAxis(axisModels,"single")}function setParallelAxis(axisModels,axisDim){
// At least use the first parallel axis as the target axis.
var axisModel=axisModels[0];if(axisModel){var axisInfo=new DataZoomAxisInfo;// Find parallel axes in the same grid.
if(axisInfo.add(axisModel.componentIndex),targetAxisIndexMap.set(axisDim,axisInfo),needAuto=!1,"x"===axisDim||"y"===axisDim){var gridModel_1=axisModel.getReferringComponents("grid",model/* SINGLE_REFERRING */.C6).models[0];gridModel_1&&(0,util/* each */.S6)(axisModels,(function(axModel){axisModel.componentIndex!==axModel.componentIndex&&gridModel_1===axModel.getReferringComponents("grid",model/* SINGLE_REFERRING */.C6).models[0]&&axisInfo.add(axModel.componentIndex)}))}}}needAuto&&
// If no parallel axis, find the first category axis as default. (Also consider polar).
(0,util/* each */.S6)(DATA_ZOOM_AXIS_DIMENSIONS,(function(axisDim){if(needAuto){var axisModels=ecModel.findComponents({mainType:getAxisMainType(axisDim),filter:function(axisModel){return"category"===axisModel.get("type",!0)}});if(axisModels[0]){var axisInfo=new DataZoomAxisInfo;axisInfo.add(axisModels[0].componentIndex),targetAxisIndexMap.set(axisDim,axisInfo),needAuto=!1}}}),this)},DataZoomModel.prototype._makeAutoOrientByTargetAxis=function(){var dim;// Find the first axis
return this.eachTargetAxis((function(axisDim){!dim&&(dim=axisDim)}),this),"y"===dim?"vertical":"horizontal"},DataZoomModel.prototype._setDefaultThrottle=function(inputRawOption){if(
// When first time user set throttle, auto throttle ends.
inputRawOption.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var globalOption=this.ecModel.option;this.option.throttle=globalOption.animation&&globalOption.animationDurationUpdate>0?100:20}},DataZoomModel.prototype._updateRangeUse=function(inputRawOption){var rangePropMode=this._rangePropMode,rangeModeInOption=this.get("rangeMode");(0,util/* each */.S6)([["start","startValue"],["end","endValue"]],(function(names,index){var percentSpecified=null!=inputRawOption[names[0]],valueSpecified=null!=inputRawOption[names[1]];percentSpecified&&!valueSpecified?rangePropMode[index]="percent":!percentSpecified&&valueSpecified?rangePropMode[index]="value":rangeModeInOption?rangePropMode[index]=rangeModeInOption[index]:percentSpecified&&(
// percentSpecified && valueSpecified
rangePropMode[index]="percent");// else remain its original setting.
}))},DataZoomModel.prototype.noTarget=function(){return this._noTarget},DataZoomModel.prototype.getFirstTargetAxisModel=function(){var firstAxisModel;return this.eachTargetAxis((function(axisDim,axisIndex){null==firstAxisModel&&(firstAxisModel=this.ecModel.getComponent(getAxisMainType(axisDim),axisIndex))}),this),firstAxisModel},
/**
   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel
   */
DataZoomModel.prototype.eachTargetAxis=function(callback,context){this._targetAxisInfoMap.each((function(axisInfo,axisDim){(0,util/* each */.S6)(axisInfo.indexList,(function(axisIndex){callback.call(context,axisDim,axisIndex)}))}))},
/**
   * @return If not found, return null/undefined.
   */
DataZoomModel.prototype.getAxisProxy=function(axisDim,axisIndex){var axisModel=this.getAxisModel(axisDim,axisIndex);if(axisModel)return axisModel.__dzAxisProxy},
/**
   * @return If not found, return null/undefined.
   */
DataZoomModel.prototype.getAxisModel=function(axisDim,axisIndex){var axisInfo=this._targetAxisInfoMap.get(axisDim);if(axisInfo&&axisInfo.indexMap[axisIndex])return this.ecModel.getComponent(getAxisMainType(axisDim),axisIndex)},
/**
   * If not specified, set to undefined.
   */
DataZoomModel.prototype.setRawRange=function(opt){var thisOption=this.option,settledOption=this.settledOption;(0,util/* each */.S6)([["start","startValue"],["end","endValue"]],(function(names){
// Consider the pair <start, startValue>:
// If one has value and the other one is `null/undefined`, we both set them
// to `settledOption`. This strategy enables the feature to clear the original
// value in `settledOption` to `null/undefined`.
// But if both of them are `null/undefined`, we do not set them to `settledOption`
// and keep `settledOption` with the original value. This strategy enables users to
// only set <end or endValue> but not set <start or startValue> when calling
// `dispatchAction`.
// The pair <end, endValue> is treated in the same way.
null==opt[names[0]]&&null==opt[names[1]]||(thisOption[names[0]]=settledOption[names[0]]=opt[names[0]],thisOption[names[1]]=settledOption[names[1]]=opt[names[1]])}),this),this._updateRangeUse(opt)},DataZoomModel.prototype.setCalculatedRange=function(opt){var option=this.option;(0,util/* each */.S6)(["start","startValue","end","endValue"],(function(name){option[name]=opt[name]}))},DataZoomModel.prototype.getPercentRange=function(){var axisProxy=this.findRepresentativeAxisProxy();if(axisProxy)return axisProxy.getDataPercentWindow()},
/**
   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);
   *
   * @return [startValue, endValue] value can only be '-' or finite number.
   */
DataZoomModel.prototype.getValueRange=function(axisDim,axisIndex){if(null!=axisDim||null!=axisIndex)return this.getAxisProxy(axisDim,axisIndex).getDataValueWindow();var axisProxy=this.findRepresentativeAxisProxy();return axisProxy?axisProxy.getDataValueWindow():void 0},
/**
   * @param axisModel If axisModel given, find axisProxy
   *      corresponding to the axisModel
   */
DataZoomModel.prototype.findRepresentativeAxisProxy=function(axisModel){if(axisModel)return axisModel.__dzAxisProxy;// Find the first hosted axisProxy
for(var firstProxy,axisDimList=this._targetAxisInfoMap.keys(),i=0;i<axisDimList.length;i++)for(var axisDim=axisDimList[i],axisInfo=this._targetAxisInfoMap.get(axisDim),j=0;j<axisInfo.indexList.length;j++){var proxy=this.getAxisProxy(axisDim,axisInfo.indexList[j]);if(proxy.hostedBy(this))return proxy;firstProxy||(firstProxy=proxy)}// If no hosted proxy found, still need to return a proxy.
// This case always happens in toolbox dataZoom, where axes are all hosted by
// other dataZooms.
return firstProxy},DataZoomModel.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},DataZoomModel.prototype.getOrient=function(){return this._orient},DataZoomModel.type="dataZoom",DataZoomModel.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],DataZoomModel.defaultOption={
// zlevel: 0,
z:4,filterMode:"filter",start:0,end:100},DataZoomModel}(Component/* default */.Z);
/**
 * Retrieve those raw params from option, which will be cached separately,
 * because they will be overwritten by normalized/calculated values in the main
 * process.
 */
function retrieveRawOption(option){var ret={};return(0,util/* each */.S6)(["start","end","startValue","endValue","throttle"],(function(name){option.hasOwnProperty(name)&&(ret[name]=option[name])})),ret}
/* harmony default export */var dataZoom_DataZoomModel=DataZoomModel,component=__webpack_require__(942151),InsideZoomModel=
/** @class */
function(_super){function InsideZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=InsideZoomModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(InsideZoomModel,_super),InsideZoomModel.type="dataZoom.inside",InsideZoomModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(dataZoom_DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),InsideZoomModel}(dataZoom_DataZoomModel),dataZoom_InsideZoomModel=InsideZoomModel,view_Component=__webpack_require__(833166),DataZoomView=
/** @class */
function(_super){function DataZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=DataZoomView.type,_this}return(0,tslib_es6/* __extends */.ZT)(DataZoomView,_super),DataZoomView.prototype.render=function(dataZoomModel,ecModel,api,payload){this.dataZoomModel=dataZoomModel,this.ecModel=ecModel,this.api=api},DataZoomView.type="dataZoom",DataZoomView}(view_Component/* default */.Z),dataZoom_DataZoomView=DataZoomView,sliderMove=__webpack_require__(19233),RoamController=__webpack_require__(146677),throttle=__webpack_require__(800270),inner=(0,model/* makeInner */.Yf)();
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/component.js
function setViewInfoToCoordSysRecord(api,dataZoomModel,getRange){inner(api).coordSysRecordMap.each((function(coordSysRecord){var dzInfo=coordSysRecord.dataZoomInfoMap.get(dataZoomModel.uid);dzInfo&&(dzInfo.getRange=getRange)}))}function disposeCoordSysRecordIfNeeded(api,dataZoomModel){for(var coordSysRecordMap=inner(api).coordSysRecordMap,coordSysKeyArr=coordSysRecordMap.keys(),i=0;i<coordSysKeyArr.length;i++){var coordSysKey=coordSysKeyArr[i],coordSysRecord=coordSysRecordMap.get(coordSysKey),dataZoomInfoMap=coordSysRecord.dataZoomInfoMap;if(dataZoomInfoMap){var dzUid=dataZoomModel.uid,dzInfo=dataZoomInfoMap.get(dzUid);dzInfo&&(dataZoomInfoMap.removeKey(dzUid),dataZoomInfoMap.keys().length||disposeCoordSysRecord(coordSysRecordMap,coordSysRecord))}}}function disposeCoordSysRecord(coordSysRecordMap,coordSysRecord){if(coordSysRecord){coordSysRecordMap.removeKey(coordSysRecord.model.uid);var controller=coordSysRecord.controller;controller&&controller.dispose()}}function createCoordSysRecord(api,coordSysModel){
// These init props will never change after record created.
var coordSysRecord={model:coordSysModel,containsPoint:(0,util/* curry */.WA)(containsPoint,coordSysModel),dispatchAction:(0,util/* curry */.WA)(dispatchAction,api),dataZoomInfoMap:null,controller:null},controller=coordSysRecord.controller=new RoamController/* default */.Z(api.getZr());// Must not do anything depends on coordSysRecord outside the event handler here,
// because coordSysRecord not completed yet.
return(0,util/* each */.S6)(["pan","zoom","scrollMove"],(function(eventName){controller.on(eventName,(function(event){var batch=[];coordSysRecord.dataZoomInfoMap.each((function(dzInfo){
// Check whether the behaviors (zoomOnMouseWheel, moveOnMouseMove,
// moveOnMouseWheel, ...) enabled.
if(event.isAvailableBehavior(dzInfo.model.option)){var method=(dzInfo.getRange||{})[eventName],range=method&&method(dzInfo.dzReferCoordSysInfo,coordSysRecord.model.mainType,coordSysRecord.controller,event);!dzInfo.model.get("disabled",!0)&&range&&batch.push({dataZoomId:dzInfo.model.id,start:range[0],end:range[1]})}})),batch.length&&coordSysRecord.dispatchAction(batch)}))})),coordSysRecord}
/**
 * This action will be throttled.
 */function dispatchAction(api,batch){api.isDisposed()||api.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:batch})}function containsPoint(coordSysModel,e,x,y){return coordSysModel.coordinateSystem.containPoint([x,y])}
/**
 * Merge roamController settings when multiple dataZooms share one roamController.
 */function mergeControllerParams(dataZoomInfoMap){var controlType,prefix="type_",typePriority={type_true:2,type_move:1,type_false:0,type_undefined:-1},preventDefaultMouseMove=!0;// DO NOT use reserved word (true, false, undefined) as key literally. Even if encapsulated
// as string, it is probably revert to reserved word by compress tool. See #7411.
return dataZoomInfoMap.each((function(dataZoomInfo){var dataZoomModel=dataZoomInfo.model,oneType=!dataZoomModel.get("disabled",!0)&&(!dataZoomModel.get("zoomLock",!0)||"move");typePriority[prefix+oneType]>typePriority[prefix+controlType]&&(controlType=oneType),// Prevent default move event by default. If one false, do not prevent. Otherwise
// users may be confused why it does not work when multiple insideZooms exist.
preventDefaultMouseMove=preventDefaultMouseMove&&dataZoomModel.get("preventDefaultMouseMove",!0)})),{controlType:controlType,opt:{
// RoamController will enable all of these functionalities,
// and the final behavior is determined by its event listener
// provided by each inside zoom.
zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!preventDefaultMouseMove}}}function installDataZoomRoamProcessor(registers){registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER,(function(ecModel,api){var apiInner=inner(api),coordSysRecordMap=apiInner.coordSysRecordMap||(apiInner.coordSysRecordMap=(0,util/* createHashMap */.kW)());coordSysRecordMap.each((function(coordSysRecord){
// `coordSysRecordMap` always exists (because it holds the `roam controller`, which should
// better not re-create each time), but clear `dataZoomInfoMap` each round of the workflow.
coordSysRecord.dataZoomInfoMap=null})),ecModel.eachComponent({mainType:"dataZoom",subType:"inside"},(function(dataZoomModel){var dzReferCoordSysWrap=collectReferCoordSysModelInfo(dataZoomModel);(0,util/* each */.S6)(dzReferCoordSysWrap.infoList,(function(dzCoordSysInfo){var coordSysUid=dzCoordSysInfo.model.uid,coordSysRecord=coordSysRecordMap.get(coordSysUid)||coordSysRecordMap.set(coordSysUid,createCoordSysRecord(api,dzCoordSysInfo.model)),dataZoomInfoMap=coordSysRecord.dataZoomInfoMap||(coordSysRecord.dataZoomInfoMap=(0,util/* createHashMap */.kW)());// Notice these props might be changed each time for a single dataZoomModel.
dataZoomInfoMap.set(dataZoomModel.uid,{dzReferCoordSysInfo:dzCoordSysInfo,model:dataZoomModel,getRange:null})}))})),// (1) Merge dataZoom settings for each coord sys and set to the roam controller.
// (2) Clear coord sys if not refered by any dataZoom.
coordSysRecordMap.each((function(coordSysRecord){var firstDzInfo,controller=coordSysRecord.controller,dataZoomInfoMap=coordSysRecord.dataZoomInfoMap;if(dataZoomInfoMap){var firstDzKey=dataZoomInfoMap.keys()[0];null!=firstDzKey&&(firstDzInfo=dataZoomInfoMap.get(firstDzKey))}if(firstDzInfo){var controllerParams=mergeControllerParams(dataZoomInfoMap);controller.enable(controllerParams.controlType,controllerParams.opt),controller.setPointerChecker(coordSysRecord.containsPoint),throttle/* createOrUpdate */.T9(coordSysRecord,"dispatchAction",firstDzInfo.model.get("throttle",!0),"fixRate")}else disposeCoordSysRecord(coordSysRecordMap,coordSysRecord)}))}))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var InsideZoomView=
/** @class */
function(_super){function InsideZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataZoom.inside",_this}return(0,tslib_es6/* __extends */.ZT)(InsideZoomView,_super),InsideZoomView.prototype.render=function(dataZoomModel,ecModel,api){_super.prototype.render.apply(this,arguments),dataZoomModel.noTarget()?this._clear():(// Hence the `throttle` util ensures to preserve command order,
// here simply updating range all the time will not cause missing
// any of the the roam change.
this.range=dataZoomModel.getPercentRange(),// Reset controllers.
setViewInfoToCoordSysRecord(api,dataZoomModel,{pan:(0,util/* bind */.ak)(getRangeHandlers.pan,this),zoom:(0,util/* bind */.ak)(getRangeHandlers.zoom,this),scrollMove:(0,util/* bind */.ak)(getRangeHandlers.scrollMove,this)}))},InsideZoomView.prototype.dispose=function(){this._clear(),_super.prototype.dispose.apply(this,arguments)},InsideZoomView.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},InsideZoomView.type="dataZoom.inside",InsideZoomView}(dataZoom_DataZoomView),getRangeHandlers={zoom:function(coordSysInfo,coordSysMainType,controller,e){var lastRange=this.range,range=lastRange.slice(),axisModel=coordSysInfo.axisModels[0];if(axisModel){var directionInfo=getDirectionInfo[coordSysMainType](null,[e.originX,e.originY],axisModel,controller,coordSysInfo),percentPoint=(directionInfo.signal>0?directionInfo.pixelStart+directionInfo.pixelLength-directionInfo.pixel:directionInfo.pixel-directionInfo.pixelStart)/directionInfo.pixelLength*(range[1]-range[0])+range[0],scale=Math.max(1/e.scale,0);range[0]=(range[0]-percentPoint)*scale+percentPoint,range[1]=(range[1]-percentPoint)*scale+percentPoint;// Restrict range.
var minMaxSpan=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return(0,sliderMove/* default */.Z)(0,range,[0,100],0,minMaxSpan.minSpan,minMaxSpan.maxSpan),this.range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}},pan:makeMover((function(range,axisModel,coordSysInfo,coordSysMainType,controller,e){var directionInfo=getDirectionInfo[coordSysMainType]([e.oldX,e.oldY],[e.newX,e.newY],axisModel,controller,coordSysInfo);return directionInfo.signal*(range[1]-range[0])*directionInfo.pixel/directionInfo.pixelLength})),scrollMove:makeMover((function(range,axisModel,coordSysInfo,coordSysMainType,controller,e){var directionInfo=getDirectionInfo[coordSysMainType]([0,0],[e.scrollDelta,e.scrollDelta],axisModel,controller,coordSysInfo);return directionInfo.signal*(range[1]-range[0])*e.scrollDelta}))};function makeMover(getPercentDelta){return function(coordSysInfo,coordSysMainType,controller,e){var lastRange=this.range,range=lastRange.slice(),axisModel=coordSysInfo.axisModels[0];if(axisModel){var percentDelta=getPercentDelta(range,axisModel,coordSysInfo,coordSysMainType,controller,e);return(0,sliderMove/* default */.Z)(percentDelta,range,[0,100],"all"),this.range=range,lastRange[0]!==range[0]||lastRange[1]!==range[1]?range:void 0}}}var getDirectionInfo={grid:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,ret={},rect=coordSysInfo.model.coordinateSystem.getRect();return oldPoint=oldPoint||[0,0],"x"===axis.dim?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(
// axis.dim === 'y'
ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret},polar:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,ret={},polar=coordSysInfo.model.coordinateSystem,radiusExtent=polar.getRadiusAxis().getExtent(),angleExtent=polar.getAngleAxis().getExtent();return oldPoint=oldPoint?polar.pointToCoord(oldPoint):[0,0],newPoint=polar.pointToCoord(newPoint),"radiusAxis"===axisModel.mainType?(ret.pixel=newPoint[0]-oldPoint[0],// ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);
// ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);
ret.pixelLength=radiusExtent[1]-radiusExtent[0],ret.pixelStart=radiusExtent[0],ret.signal=axis.inverse?1:-1):(
// 'angleAxis'
ret.pixel=newPoint[1]-oldPoint[1],// ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);
// ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);
ret.pixelLength=angleExtent[1]-angleExtent[0],ret.pixelStart=angleExtent[0],ret.signal=axis.inverse?-1:1),ret},singleAxis:function(oldPoint,newPoint,axisModel,controller,coordSysInfo){var axis=axisModel.axis,rect=coordSysInfo.model.coordinateSystem.getRect(),ret={};return oldPoint=oldPoint||[0,0],"horizontal"===axis.orient?(ret.pixel=newPoint[0]-oldPoint[0],ret.pixelLength=rect.width,ret.pixelStart=rect.x,ret.signal=axis.inverse?1:-1):(
// 'vertical'
ret.pixel=newPoint[1]-oldPoint[1],ret.pixelLength=rect.height,ret.pixelStart=rect.y,ret.signal=axis.inverse?-1:1),ret}},dataZoom_InsideZoomView=InsideZoomView,number=__webpack_require__(785669),axisHelper=__webpack_require__(597980),scaleRawExtentInfo=__webpack_require__(38986),each=util/* each */.S6,asc=number/* asc */.dt,AxisProxy=
/** @class */
function(){function AxisProxy(dimName,axisIndex,dataZoomModel,ecModel){this._dimName=dimName,this._axisIndex=axisIndex,this.ecModel=ecModel,this._dataZoomModel=dataZoomModel}
/**
   * Whether the axisProxy is hosted by dataZoomModel.
   */return AxisProxy.prototype.hostedBy=function(dataZoomModel){return this._dataZoomModel===dataZoomModel},
/**
   * @return Value can only be NaN or finite value.
   */
AxisProxy.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},
/**
   * @return {Array.<number>}
   */
AxisProxy.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},AxisProxy.prototype.getTargetSeriesModels=function(){var seriesModels=[];return this.ecModel.eachSeries((function(seriesModel){if(isCoordSupported(seriesModel)){var axisMainType=getAxisMainType(this._dimName),axisModel=seriesModel.getReferringComponents(axisMainType,model/* SINGLE_REFERRING */.C6).models[0];axisModel&&this._axisIndex===axisModel.componentIndex&&seriesModels.push(seriesModel)}}),this),seriesModels},AxisProxy.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},AxisProxy.prototype.getMinMaxSpan=function(){return util/* clone */.d9(this._minMaxSpan)},
/**
   * Only calculate by given range and this._dataExtent, do not change anything.
   */
AxisProxy.prototype.calculateDataWindow=function(opt){var hasPropModeValue,dataExtent=this._dataExtent,axisModel=this.getAxisModel(),scale=axisModel.axis.scale,rangePropMode=this._dataZoomModel.getRangePropMode(),percentExtent=[0,100],percentWindow=[],valueWindow=[];each(["start","end"],(function(prop,idx){var boundPercent=opt[prop],boundValue=opt[prop+"Value"];// Notice: dataZoom is based either on `percentProp` ('start', 'end') or
// on `valueProp` ('startValue', 'endValue'). (They are based on the data extent
// but not min/max of axis, which will be calculated by data window then).
// The former one is suitable for cases that a dataZoom component controls multiple
// axes with different unit or extent, and the latter one is suitable for accurate
// zoom by pixel (e.g., in dataZoomSelect).
// we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated
// only when setOption or dispatchAction, otherwise it remains its original value.
// (Why not only record `percentProp` and always map to `valueProp`? Because
// the map `valueProp` -> `percentProp` -> `valueProp` probably not the original
// `valueProp`. consider two axes constrolled by one dataZoom. They have different
// data extent. All of values that are overflow the `dataExtent` will be calculated
// to percent '100%').
"percent"===rangePropMode[idx]?(null==boundPercent&&(boundPercent=percentExtent[idx]),// Use scale.parse to math round for category or time axis.
boundValue=scale.parse(number/* linearMap */.NU(boundPercent,percentExtent,dataExtent))):(hasPropModeValue=!0,boundValue=null==boundValue?dataExtent[idx]:scale.parse(boundValue),// Calculating `percent` from `value` may be not accurate, because
// This calculation can not be inversed, because all of values that
// are overflow the `dataExtent` will be calculated to percent '100%'
boundPercent=number/* linearMap */.NU(boundValue,dataExtent,percentExtent)),// valueWindow[idx] = round(boundValue);
// percentWindow[idx] = round(boundPercent);
// fallback to extent start/end when parsed value or percent is invalid
valueWindow[idx]=null==boundValue||isNaN(boundValue)?dataExtent[idx]:boundValue,percentWindow[idx]=null==boundPercent||isNaN(boundPercent)?percentExtent[idx]:boundPercent})),asc(valueWindow),asc(percentWindow);// The windows from user calling of `dispatchAction` might be out of the extent,
// or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we don't restrict window
// by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,
// where API is able to initialize/modify the window size even though `zoomLock`
// specified.
var spans=this._minMaxSpan;function restrictSet(fromWindow,toWindow,fromExtent,toExtent,toValue){var suffix=toValue?"Span":"ValueSpan";(0,sliderMove/* default */.Z)(0,fromWindow,fromExtent,"all",spans["min"+suffix],spans["max"+suffix]);for(var i=0;i<2;i++)toWindow[i]=number/* linearMap */.NU(fromWindow[i],fromExtent,toExtent,!0),toValue&&(toWindow[i]=scale.parse(toWindow[i]))}return hasPropModeValue?restrictSet(valueWindow,percentWindow,dataExtent,percentExtent,!1):restrictSet(percentWindow,valueWindow,percentExtent,dataExtent,!0),{valueWindow:valueWindow,percentWindow:percentWindow}},
/**
   * Notice: reset should not be called before series.restoreData() is called,
   * so it is recommended to be called in "process stage" but not "model init
   * stage".
   */
AxisProxy.prototype.reset=function(dataZoomModel){if(dataZoomModel===this._dataZoomModel){var targetSeries=this.getTargetSeriesModels();// Culculate data window and data extent, and record them.
this._dataExtent=calculateDataExtent(this,this._dimName,targetSeries),// `calculateDataWindow` uses min/maxSpan.
this._updateMinMaxSpan();var dataWindow=this.calculateDataWindow(dataZoomModel.settledOption);this._valueWindow=dataWindow.valueWindow,this._percentWindow=dataWindow.percentWindow,// Update axis setting then.
this._setAxisModel()}},AxisProxy.prototype.filterData=function(dataZoomModel,api){if(dataZoomModel===this._dataZoomModel){var axisDim=this._dimName,seriesModels=this.getTargetSeriesModels(),filterMode=dataZoomModel.get("filterMode"),valueWindow=this._valueWindow;"none"!==filterMode&&// FIXME
// Toolbox may has dataZoom injected. And if there are stacked bar chart
// with NaN data, NaN will be filtered and stack will be wrong.
// So we need to force the mode to be set empty.
// In fect, it is not a big deal that do not support filterMode-'filter'
// when using toolbox#dataZoom, utill tooltip#dataZoom support "single axis
// selection" some day, which might need "adapt to data extent on the
// otherAxis", which is disabled by filterMode-'empty'.
// But currently, stack has been fixed to based on value but not index,
// so this is not an issue any more.
// let otherAxisModel = this.getOtherAxisModel();
// if (dataZoomModel.get('$fromToolbox')
//     && otherAxisModel
//     && otherAxisModel.hasSeriesStacked
// ) {
//     filterMode = 'empty';
// }
// TODO
// filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.
each(seriesModels,(function(seriesModel){var seriesData=seriesModel.getData(),dataDims=seriesData.mapDimensionsAll(axisDim);if(dataDims.length){if("weakFilter"===filterMode){var store_1=seriesData.getStore(),dataDimIndices_1=util/* map */.UI(dataDims,(function(dim){return seriesData.getDimensionIndex(dim)}),seriesData);seriesData.filterSelf((function(dataIndex){for(var leftOut,rightOut,hasValue,i=0;i<dataDims.length;i++){var value=store_1.get(dataDimIndices_1[i],dataIndex),thisHasValue=!isNaN(value),thisLeftOut=value<valueWindow[0],thisRightOut=value>valueWindow[1];if(thisHasValue&&!thisLeftOut&&!thisRightOut)return!0;thisHasValue&&(hasValue=!0),thisLeftOut&&(leftOut=!0),thisRightOut&&(rightOut=!0)}// If both left out and right out, do not filter.
return hasValue&&leftOut&&rightOut}))}else each(dataDims,(function(dim){if("empty"===filterMode)seriesModel.setData(seriesData=seriesData.map(dim,(function(value){return isInWindow(value)?value:NaN})));else{var range={};range[dim]=valueWindow,// console.time('select');
seriesData.selectRange(range)}}));each(dataDims,(function(dim){seriesData.setApproximateExtent(valueWindow,dim)}))}}))}function isInWindow(value){return value>=valueWindow[0]&&value<=valueWindow[1]}},AxisProxy.prototype._updateMinMaxSpan=function(){var minMaxSpan=this._minMaxSpan={},dataZoomModel=this._dataZoomModel,dataExtent=this._dataExtent;each(["min","max"],(function(minMax){var percentSpan=dataZoomModel.get(minMax+"Span"),valueSpan=dataZoomModel.get(minMax+"ValueSpan");null!=valueSpan&&(valueSpan=this.getAxisModel().axis.scale.parse(valueSpan)),// minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan
null!=valueSpan?percentSpan=number/* linearMap */.NU(dataExtent[0]+valueSpan,dataExtent,[0,100],!0):null!=percentSpan&&(valueSpan=number/* linearMap */.NU(percentSpan,[0,100],dataExtent,!0)-dataExtent[0]),minMaxSpan[minMax+"Span"]=percentSpan,minMaxSpan[minMax+"ValueSpan"]=valueSpan}),this)},AxisProxy.prototype._setAxisModel=function(){var axisModel=this.getAxisModel(),percentWindow=this._percentWindow,valueWindow=this._valueWindow;if(percentWindow){// [0, 500]: arbitrary value, guess axis extent.
var precision=number/* getPixelPrecision */.M9(valueWindow,[0,500]);precision=Math.min(precision,20);// For value axis, if min/max/scale are not set, we just use the extent obtained
// by series data, which may be a little different from the extent calculated by
// `axisHelper.getScaleExtent`. But the different just affects the experience a
// little when zooming. So it will not be fixed until some users require it strongly.
var rawExtentInfo=axisModel.axis.scale.rawExtentInfo;0!==percentWindow[0]&&rawExtentInfo.setDeterminedMinMax("min",+valueWindow[0].toFixed(precision)),100!==percentWindow[1]&&rawExtentInfo.setDeterminedMinMax("max",+valueWindow[1].toFixed(precision)),rawExtentInfo.freeze()}},AxisProxy}();
/* harmony default export */function calculateDataExtent(axisProxy,axisDim,seriesModels){var dataExtent=[1/0,-1/0];each(seriesModels,(function(seriesModel){(0,axisHelper/* unionAxisExtentFromData */.AH)(dataExtent,seriesModel.getData(),axisDim)}));// It is important to get "consistent" extent when more then one axes is
// controlled by a `dataZoom`, otherwise those axes will not be synchronized
// when zooming. But it is difficult to know what is "consistent", considering
// axes have different type or even different meanings (For example, two
// time axes are used to compare data of the same date in different years).
// So basically dataZoom just obtains extent by series.data (in category axis
// extent can be obtained from axis.data).
// Nevertheless, user can set min/max/scale on axes to make extent of axes
// consistent.
var axisModel=axisProxy.getAxisModel(),rawExtentResult=(0,scaleRawExtentInfo/* ensureScaleRawExtentInfo */.Qw)(axisModel.axis.scale,axisModel,dataExtent).calculate();return[rawExtentResult.min,rawExtentResult.max]}
/* harmony default export */var dataZoom_AxisProxy=AxisProxy,dataZoomProcessor={
// `dataZoomProcessor` will only be performed in needed series. Consider if
// there is a line series and a pie series, it is better not to update the
// line series if only pie series is needed to be updated.
getTargetSeries:function(ecModel){function eachAxisModel(cb){ecModel.eachComponent("dataZoom",(function(dataZoomModel){dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var axisModel=ecModel.getComponent(getAxisMainType(axisDim),axisIndex);cb(axisDim,axisIndex,axisModel,dataZoomModel)}))}))}// FIXME: it brings side-effect to `getTargetSeries`.
// Prepare axis proxies.
eachAxisModel((function(axisDim,axisIndex,axisModel,dataZoomModel){
// dispose all last axis proxy, in case that some axis are deleted.
axisModel.__dzAxisProxy=null}));var proxyList=[];eachAxisModel((function(axisDim,axisIndex,axisModel,dataZoomModel){
// Different dataZooms may constrol the same axis. In that case,
// an axisProxy serves both of them.
axisModel.__dzAxisProxy||(
// Use the first dataZoomModel as the main model of axisProxy.
axisModel.__dzAxisProxy=new dataZoom_AxisProxy(axisDim,axisIndex,dataZoomModel,ecModel),proxyList.push(axisModel.__dzAxisProxy))}));var seriesModelMap=(0,util/* createHashMap */.kW)();return(0,util/* each */.S6)(proxyList,(function(axisProxy){(0,util/* each */.S6)(axisProxy.getTargetSeriesModels(),(function(seriesModel){seriesModelMap.set(seriesModel.uid,seriesModel)}))})),seriesModelMap},
// Consider appendData, where filter should be performed. Because data process is
// in block mode currently, it is not need to worry about that the overallProgress
// execute every frame.
overallReset:function(ecModel,api){ecModel.eachComponent("dataZoom",(function(dataZoomModel){
// We calculate window and reset axis here but not in model
// init stage and not after action dispatch handler, because
// reset should be called after seriesData.restoreData.
dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){dataZoomModel.getAxisProxy(axisDim,axisIndex).reset(dataZoomModel)})),// Caution: data zoom filtering is order sensitive when using
// percent range and no min/max/scale set on axis.
// For example, we have dataZoom definition:
// [
//      {xAxisIndex: 0, start: 30, end: 70},
//      {yAxisIndex: 0, start: 20, end: 80}
// ]
// In this case, [20, 80] of y-dataZoom should be based on data
// that have filtered by x-dataZoom using range of [30, 70],
// but should not be based on full raw data. Thus sliding
// x-dataZoom will change both ranges of xAxis and yAxis,
// while sliding y-dataZoom will only change the range of yAxis.
// So we should filter x-axis after reset x-axis immediately,
// and then reset y-axis and filter y-axis.
dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){dataZoomModel.getAxisProxy(axisDim,axisIndex).filterData(dataZoomModel,api)}))})),ecModel.eachComponent("dataZoom",(function(dataZoomModel){
// Fullfill all of the range props so that user
// is able to get them from chart.getOption().
var axisProxy=dataZoomModel.findRepresentativeAxisProxy();if(axisProxy){var percentRange=axisProxy.getDataPercentWindow(),valueRange=axisProxy.getDataValueWindow();dataZoomModel.setCalculatedRange({start:percentRange[0],end:percentRange[1],startValue:valueRange[0],endValue:valueRange[1]})}}))}},dataZoom_dataZoomProcessor=dataZoomProcessor;// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function installDataZoomAction(registers){registers.registerAction("dataZoom",(function(payload,ecModel){var effectedModels=findEffectedDataZooms(ecModel,payload);(0,util/* each */.S6)(effectedModels,(function(dataZoomModel){dataZoomModel.setRawRange({start:payload.start,end:payload.end,startValue:payload.startValue,endValue:payload.endValue})}))}))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/installCommon.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var installed=!1;function installCommon(registers){installed||(installed=!0,registers.registerProcessor(registers.PRIORITY.PROCESSOR.FILTER,dataZoom_dataZoomProcessor),installDataZoomAction(registers),registers.registerSubTypeDefaulter("dataZoom",(function(){
// Default 'slider' when no type specified.
return"slider"})))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/installDataZoomInside.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){installCommon(registers),registers.registerComponentModel(dataZoom_InsideZoomModel),registers.registerComponentView(dataZoom_InsideZoomView),installDataZoomRoamProcessor(registers)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var SliderZoomModel=
/** @class */
function(_super){function SliderZoomModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderZoomModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(SliderZoomModel,_super),SliderZoomModel.type="dataZoom.slider",SliderZoomModel.layoutMode="box",SliderZoomModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(dataZoom_DataZoomModel.defaultOption,{show:!0,
// deault value can only be drived in view stage.
right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",
// dataBackgroundColor: '#ddd',
dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},
// Color of selected window.
fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",
// Percent of the slider height
handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),SliderZoomModel}(dataZoom_DataZoomModel),dataZoom_SliderZoomModel=SliderZoomModel,core_event=__webpack_require__(461158),Rect=__webpack_require__(25293),Group=__webpack_require__(38154),Polygon=__webpack_require__(195094),Polyline=__webpack_require__(862514),Text=__webpack_require__(679750),graphic=__webpack_require__(851177),Point=__webpack_require__(241610),layout=__webpack_require__(576172),states=__webpack_require__(726357),symbol=__webpack_require__(241525),labelStyle=__webpack_require__(336006),SliderZoomView_Rect=Rect/* default */.Z,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=
/** @class */
function(_super){function SliderZoomView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=SliderZoomView.type,_this._displayables={},_this}return(0,tslib_es6/* __extends */.ZT)(SliderZoomView,_super),SliderZoomView.prototype.init=function(ecModel,api){this.api=api,// A unique handler for each dataZoom component
this._onBrush=(0,util/* bind */.ak)(this._onBrush,this),this._onBrushEnd=(0,util/* bind */.ak)(this._onBrushEnd,this)},SliderZoomView.prototype.render=function(dataZoomModel,ecModel,api,payload){if(_super.prototype.render.apply(this,arguments),throttle/* createOrUpdate */.T9(this,"_dispatchZoomAction",dataZoomModel.get("throttle"),"fixRate"),this._orient=dataZoomModel.getOrient(),!1!==dataZoomModel.get("show")){if(dataZoomModel.noTarget())return this._clear(),void this.group.removeAll();// Notice: this._resetInterval() should not be executed when payload.type
// is 'dataZoom', origin this._range should be maintained, otherwise 'pan'
// or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,
payload&&"dataZoom"===payload.type&&payload.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},SliderZoomView.prototype.dispose=function(){this._clear(),_super.prototype.dispose.apply(this,arguments)},SliderZoomView.prototype._clear=function(){throttle/* clear */.ZH(this,"_dispatchZoomAction");var zr=this.api.getZr();zr.off("mousemove",this._onBrush),zr.off("mouseup",this._onBrushEnd)},SliderZoomView.prototype._buildView=function(){var thisGroup=this.group;thisGroup.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var barGroup=this._displayables.sliderGroup=new Group/* default */.Z;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),thisGroup.add(barGroup),this._positionGroup()},SliderZoomView.prototype._resetLocation=function(){var dataZoomModel=this.dataZoomModel,api=this.api,showMoveHandle=dataZoomModel.get("brushSelect"),moveHandleSize=showMoveHandle?DEFAULT_MOVE_HANDLE_SIZE:0,coordRect=this._findCoordRect(),ecSize={width:api.getWidth(),height:api.getHeight()},positionInfo=this._orient===HORIZONTAL?{
// Why using 'right', because right should be used in vertical,
// and it is better to be consistent for dealing with position param merge.
right:ecSize.width-coordRect.x-coordRect.width,top:ecSize.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-moveHandleSize,width:coordRect.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:coordRect.y,width:DEFAULT_FILLER_SIZE,height:coordRect.height},layoutParams=layout/* getLayoutParams */.tE(dataZoomModel.option);// Replace the placeholder value.
(0,util/* each */.S6)(["right","top","width","height"],(function(name){"ph"===layoutParams[name]&&(layoutParams[name]=positionInfo[name])}));var layoutRect=layout/* getLayoutRect */.ME(layoutParams,ecSize);this._location={x:layoutRect.x,y:layoutRect.y},this._size=[layoutRect.width,layoutRect.height],this._orient===VERTICAL&&this._size.reverse()},SliderZoomView.prototype._positionGroup=function(){var thisGroup=this.group,location=this._location,orient=this._orient,targetAxisModel=this.dataZoomModel.getFirstTargetAxisModel(),inverse=targetAxisModel&&targetAxisModel.get("inverse"),sliderGroup=this._displayables.sliderGroup,otherAxisInverse=(this._dataShadowInfo||{}).otherAxisInverse;// Transform barGroup.
sliderGroup.attr(orient!==HORIZONTAL||inverse?orient===HORIZONTAL&&inverse?{scaleY:otherAxisInverse?1:-1,scaleX:-1}:orient!==VERTICAL||inverse?{scaleY:otherAxisInverse?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:otherAxisInverse?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:otherAxisInverse?1:-1,scaleX:1});// Position barGroup
var rect=thisGroup.getBoundingRect([sliderGroup]);thisGroup.x=location.x-rect.x,thisGroup.y=location.y-rect.y,thisGroup.markRedraw()},SliderZoomView.prototype._getViewExtent=function(){return[0,this._size[0]]},SliderZoomView.prototype._renderBackground=function(){var dataZoomModel=this.dataZoomModel,size=this._size,barGroup=this._displayables.sliderGroup,brushSelect=dataZoomModel.get("brushSelect");barGroup.add(new SliderZoomView_Rect({silent:!0,shape:{x:0,y:0,width:size[0],height:size[1]},style:{fill:dataZoomModel.get("backgroundColor")},z2:-40}));// Click panel, over shadow, below handles.
var clickPanel=new SliderZoomView_Rect({shape:{x:0,y:0,width:size[0],height:size[1]},style:{fill:"transparent"},z2:0,onclick:(0,util/* bind */.ak)(this._onClickPanel,this)}),zr=this.api.getZr();brushSelect?(clickPanel.on("mousedown",this._onBrushStart,this),clickPanel.cursor="crosshair",zr.on("mousemove",this._onBrush),zr.on("mouseup",this._onBrushEnd)):(zr.off("mousemove",this._onBrush),zr.off("mouseup",this._onBrushEnd)),barGroup.add(clickPanel)},SliderZoomView.prototype._renderDataShadow=function(){var info=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],info){var size=this._size,oldSize=this._shadowSize||[],seriesModel=info.series,data=seriesModel.getRawData(),candlestickDim=seriesModel.getShadowDim&&seriesModel.getShadowDim(),otherDim=candlestickDim&&data.getDimensionInfo(candlestickDim)?seriesModel.getShadowDim():info.otherDim;if(null!=otherDim){var polygonPts=this._shadowPolygonPts,polylinePts=this._shadowPolylinePts;// Not re-render if data doesn't change.
if(data!==this._shadowData||otherDim!==this._shadowDim||size[0]!==oldSize[0]||size[1]!==oldSize[1]){var otherDataExtent_1=data.getDataExtent(otherDim),otherOffset=.3*(otherDataExtent_1[1]-otherDataExtent_1[0]);// Nice extent.
otherDataExtent_1=[otherDataExtent_1[0]-otherOffset,otherDataExtent_1[1]+otherOffset];var lastIsEmpty_1,otherShadowExtent_1=[0,size[1]],thisShadowExtent=[0,size[0]],areaPoints_1=[[size[0],0],[0,0]],linePoints_1=[],step_1=thisShadowExtent[1]/(data.count()-1),thisCoord_1=0,stride_1=Math.round(data.count()/size[0]);data.each([otherDim],(function(value,index){if(stride_1>0&&index%stride_1)thisCoord_1+=step_1;else{// FIXME
// Should consider axis.min/axis.max when drawing dataShadow.
// FIXME
// 应该使用统一的空判断？还是在list里进行空判断？
var isEmpty=null==value||isNaN(value)||""===value,otherCoord=isEmpty?0:(0,number/* linearMap */.NU)(value,otherDataExtent_1,otherShadowExtent_1,!0);// See #4235.
// Attempt to draw data shadow precisely when there are empty value.
isEmpty&&!lastIsEmpty_1&&index?(areaPoints_1.push([areaPoints_1[areaPoints_1.length-1][0],0]),linePoints_1.push([linePoints_1[linePoints_1.length-1][0],0])):!isEmpty&&lastIsEmpty_1&&(areaPoints_1.push([thisCoord_1,0]),linePoints_1.push([thisCoord_1,0])),areaPoints_1.push([thisCoord_1,otherCoord]),linePoints_1.push([thisCoord_1,otherCoord]),thisCoord_1+=step_1,lastIsEmpty_1=isEmpty}})),polygonPts=this._shadowPolygonPts=areaPoints_1,polylinePts=this._shadowPolylinePts=linePoints_1}this._shadowData=data,this._shadowDim=otherDim,this._shadowSize=[size[0],size[1]];// let dataBackgroundModel = dataZoomModel.getModel('dataBackground');
for(var dataZoomModel=this.dataZoomModel,i=0;i<3;i++){var group=createDataShadowGroup(1===i);this._displayables.sliderGroup.add(group),this._displayables.dataShadowSegs.push(group)}}}function createDataShadowGroup(isSelectedArea){var model=dataZoomModel.getModel(isSelectedArea?"selectedDataBackground":"dataBackground"),group=new Group/* default */.Z,polygon=new Polygon/* default */.Z({shape:{points:polygonPts},segmentIgnoreThreshold:1,style:model.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),polyline=new Polyline/* default */.Z({shape:{points:polylinePts},segmentIgnoreThreshold:1,style:model.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return group.add(polygon),group.add(polyline),group}},SliderZoomView.prototype._prepareDataShadowInfo=function(){var dataZoomModel=this.dataZoomModel,showDataShadow=dataZoomModel.get("showDataShadow");if(!1!==showDataShadow){// Find a representative series.
var result,ecModel=this.ecModel;return dataZoomModel.eachTargetAxis((function(axisDim,axisIndex){var seriesModels=dataZoomModel.getAxisProxy(axisDim,axisIndex).getTargetSeriesModels();(0,util/* each */.S6)(seriesModels,(function(seriesModel){if(!result&&!(!0!==showDataShadow&&(0,util/* indexOf */.cq)(SHOW_DATA_SHADOW_SERIES_TYPE,seriesModel.get("type"))<0)){var otherAxisInverse,thisAxis=ecModel.getComponent(getAxisMainType(axisDim),axisIndex).axis,otherDim=getOtherDim(axisDim),coordSys=seriesModel.coordinateSystem;null!=otherDim&&coordSys.getOtherAxis&&(otherAxisInverse=coordSys.getOtherAxis(thisAxis).inverse),otherDim=seriesModel.getData().mapDimension(otherDim),result={thisAxis:thisAxis,series:seriesModel,thisDim:axisDim,otherDim:otherDim,otherAxisInverse:otherAxisInverse}}}),this)}),this),result}},SliderZoomView.prototype._renderHandle=function(){var thisGroup=this.group,displayables=this._displayables,handles=displayables.handles=[null,null],handleLabels=displayables.handleLabels=[null,null],sliderGroup=this._displayables.sliderGroup,size=this._size,dataZoomModel=this.dataZoomModel,api=this.api,borderRadius=dataZoomModel.get("borderRadius")||0,brushSelect=dataZoomModel.get("brushSelect"),filler=displayables.filler=new SliderZoomView_Rect({silent:brushSelect,style:{fill:dataZoomModel.get("fillerColor")},textConfig:{position:"inside"}});sliderGroup.add(filler),// Frame border.
sliderGroup.add(new SliderZoomView_Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:size[0],height:size[1],r:borderRadius},style:{
// deprecated option
stroke:dataZoomModel.get("dataBackgroundColor")||dataZoomModel.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),// Left and right handle to resize
(0,util/* each */.S6)([0,1],(function(handleIndex){var iconStr=dataZoomModel.get("handleIcon");!symbol/* symbolBuildProxies */.Pw[iconStr]&&iconStr.indexOf("path://")<0&&iconStr.indexOf("image://")<0&&(
// Compatitable with the old icon parsers. Which can use a path string without path://
iconStr="path://"+iconStr);var path=(0,symbol/* createSymbol */.th)(iconStr,-1,0,2,2,null,!0);path.attr({cursor:getCursor(this._orient),draggable:!0,drift:(0,util/* bind */.ak)(this._onDragMove,this,handleIndex),ondragend:(0,util/* bind */.ak)(this._onDragEnd,this),onmouseover:(0,util/* bind */.ak)(this._showDataInfo,this,!0),onmouseout:(0,util/* bind */.ak)(this._showDataInfo,this,!1),z2:5});var bRect=path.getBoundingRect(),handleSize=dataZoomModel.get("handleSize");this._handleHeight=(0,number/* parsePercent */.GM)(handleSize,this._size[1]),this._handleWidth=bRect.width/bRect.height*this._handleHeight,path.setStyle(dataZoomModel.getModel("handleStyle").getItemStyle()),path.style.strokeNoScale=!0,path.rectHover=!0,path.ensureState("emphasis").style=dataZoomModel.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,states/* enableHoverEmphasis */.vF)(path);var handleColor=dataZoomModel.get("handleColor");// deprecated option
// Compatitable with previous version
null!=handleColor&&(path.style.fill=handleColor),sliderGroup.add(handles[handleIndex]=path);var textStyleModel=dataZoomModel.getModel("textStyle");thisGroup.add(handleLabels[handleIndex]=new Text/* default */.ZP({silent:!0,invisible:!0,style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:textStyleModel.getTextColor(),font:textStyleModel.getFont()}),z2:10}))}),this);// Handle to move. Only visible when brushSelect is set true.
var actualMoveZone=filler;if(brushSelect){var moveHandleHeight=(0,number/* parsePercent */.GM)(dataZoomModel.get("moveHandleSize"),size[1]),moveHandle_1=displayables.moveHandle=new Rect/* default */.Z({style:dataZoomModel.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:size[1]-.5,height:moveHandleHeight}}),iconSize=.8*moveHandleHeight,moveHandleIcon=displayables.moveHandleIcon=(0,symbol/* createSymbol */.th)(dataZoomModel.get("moveHandleIcon"),-iconSize/2,-iconSize/2,iconSize,iconSize,"#fff",!0);moveHandleIcon.silent=!0,moveHandleIcon.y=size[1]+moveHandleHeight/2-.5,moveHandle_1.ensureState("emphasis").style=dataZoomModel.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var moveZoneExpandSize=Math.min(size[1]/2,Math.max(moveHandleHeight,10));actualMoveZone=displayables.moveZone=new Rect/* default */.Z({invisible:!0,shape:{y:size[1]-moveZoneExpandSize,height:moveHandleHeight+moveZoneExpandSize}}),actualMoveZone.on("mouseover",(function(){api.enterEmphasis(moveHandle_1)})).on("mouseout",(function(){api.leaveEmphasis(moveHandle_1)})),sliderGroup.add(moveHandle_1),sliderGroup.add(moveHandleIcon),sliderGroup.add(actualMoveZone)}actualMoveZone.attr({draggable:!0,cursor:getCursor(this._orient),drift:(0,util/* bind */.ak)(this._onDragMove,this,"all"),ondragstart:(0,util/* bind */.ak)(this._showDataInfo,this,!0),ondragend:(0,util/* bind */.ak)(this._onDragEnd,this),onmouseover:(0,util/* bind */.ak)(this._showDataInfo,this,!0),onmouseout:(0,util/* bind */.ak)(this._showDataInfo,this,!1)})},SliderZoomView.prototype._resetInterval=function(){var range=this._range=this.dataZoomModel.getPercentRange(),viewExtent=this._getViewExtent();this._handleEnds=[(0,number/* linearMap */.NU)(range[0],[0,100],viewExtent,!0),(0,number/* linearMap */.NU)(range[1],[0,100],viewExtent,!0)]},SliderZoomView.prototype._updateInterval=function(handleIndex,delta){var dataZoomModel=this.dataZoomModel,handleEnds=this._handleEnds,viewExtend=this._getViewExtent(),minMaxSpan=dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),percentExtent=[0,100];(0,sliderMove/* default */.Z)(delta,handleEnds,viewExtend,dataZoomModel.get("zoomLock")?"all":handleIndex,null!=minMaxSpan.minSpan?(0,number/* linearMap */.NU)(minMaxSpan.minSpan,percentExtent,viewExtend,!0):null,null!=minMaxSpan.maxSpan?(0,number/* linearMap */.NU)(minMaxSpan.maxSpan,percentExtent,viewExtend,!0):null);var lastRange=this._range,range=this._range=(0,number/* asc */.dt)([(0,number/* linearMap */.NU)(handleEnds[0],viewExtend,percentExtent,!0),(0,number/* linearMap */.NU)(handleEnds[1],viewExtend,percentExtent,!0)]);return!lastRange||lastRange[0]!==range[0]||lastRange[1]!==range[1]},SliderZoomView.prototype._updateView=function(nonRealtime){var displaybles=this._displayables,handleEnds=this._handleEnds,handleInterval=(0,number/* asc */.dt)(handleEnds.slice()),size=this._size;(0,util/* each */.S6)([0,1],(function(handleIndex){
// Handles
var handle=displaybles.handles[handleIndex],handleHeight=this._handleHeight;handle.attr({scaleX:handleHeight/2,scaleY:handleHeight/2,
// This is a trick, by adding an extra tiny offset to let the default handle's end point align to the drag window.
// NOTE: It may affect some custom shapes a bit. But we prefer to have better result by default.
x:handleEnds[handleIndex]+(handleIndex?-1:1),y:size[1]/2-handleHeight/2})}),this),// Filler
displaybles.filler.setShape({x:handleInterval[0],y:0,width:handleInterval[1]-handleInterval[0],height:size[1]});var viewExtent={x:handleInterval[0],width:handleInterval[1]-handleInterval[0]};// Move handle
displaybles.moveHandle&&(displaybles.moveHandle.setShape(viewExtent),displaybles.moveZone.setShape(viewExtent),// Force update path on the invisible object
displaybles.moveZone.getBoundingRect(),displaybles.moveHandleIcon&&displaybles.moveHandleIcon.attr("x",viewExtent.x+viewExtent.width/2));// update clip path of shadow.
for(var dataShadowSegs=displaybles.dataShadowSegs,segIntervals=[0,handleInterval[0],handleInterval[1],size[0]],i=0;i<dataShadowSegs.length;i++){var segGroup=dataShadowSegs[i],clipPath=segGroup.getClipPath();clipPath||(clipPath=new Rect/* default */.Z,segGroup.setClipPath(clipPath)),clipPath.setShape({x:segIntervals[i],y:0,width:segIntervals[i+1]-segIntervals[i],height:size[1]})}this._updateDataInfo(nonRealtime)},SliderZoomView.prototype._updateDataInfo=function(nonRealtime){var dataZoomModel=this.dataZoomModel,displaybles=this._displayables,handleLabels=displaybles.handleLabels,orient=this._orient,labelTexts=["",""];// FIXME
// date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）
if(dataZoomModel.get("showDetail")){var axisProxy=dataZoomModel.findRepresentativeAxisProxy();if(axisProxy){var axis=axisProxy.getAxisModel().axis,range=this._range,dataInterval=nonRealtime?axisProxy.calculateDataWindow({start:range[0],end:range[1]}).valueWindow:axisProxy.getDataValueWindow();labelTexts=[this._formatLabel(dataInterval[0],axis),this._formatLabel(dataInterval[1],axis)]}}var orderedHandleEnds=(0,number/* asc */.dt)(this._handleEnds.slice());function setLabel(handleIndex){
// Label
// Text should not transform by barGroup.
// Ignore handlers transform
var barTransform=graphic.getTransform(displaybles.handles[handleIndex].parent,this.group),direction=graphic.transformDirection(0===handleIndex?"right":"left",barTransform),offset=this._handleWidth/2+LABEL_GAP,textPoint=graphic.applyTransform([orderedHandleEnds[handleIndex]+(0===handleIndex?-offset:offset),this._size[1]/2],barTransform);handleLabels[handleIndex].setStyle({x:textPoint[0],y:textPoint[1],verticalAlign:orient===HORIZONTAL?"middle":direction,align:orient===HORIZONTAL?direction:"center",text:labelTexts[handleIndex]})}setLabel.call(this,0),setLabel.call(this,1)},SliderZoomView.prototype._formatLabel=function(value,axis){var dataZoomModel=this.dataZoomModel,labelFormatter=dataZoomModel.get("labelFormatter"),labelPrecision=dataZoomModel.get("labelPrecision");null!=labelPrecision&&"auto"!==labelPrecision||(labelPrecision=axis.getPixelPrecision());var valueStr=null==value||isNaN(value)?"":"category"===axis.type||"time"===axis.type?axis.scale.getLabel({value:Math.round(value)}):value.toFixed(Math.min(labelPrecision,20));return(0,util/* isFunction */.mf)(labelFormatter)?labelFormatter(value,valueStr):(0,util/* isString */.HD)(labelFormatter)?labelFormatter.replace("{value}",valueStr):valueStr},
/**
   * @param showOrHide true: show, false: hide
   */
SliderZoomView.prototype._showDataInfo=function(showOrHide){
// Always show when drgging.
showOrHide=this._dragging||showOrHide;var displayables=this._displayables,handleLabels=displayables.handleLabels;handleLabels[0].attr("invisible",!showOrHide),handleLabels[1].attr("invisible",!showOrHide),// Highlight move handle
displayables.moveHandle&&this.api[showOrHide?"enterEmphasis":"leaveEmphasis"](displayables.moveHandle,1)},SliderZoomView.prototype._onDragMove=function(handleIndex,dx,dy,event){this._dragging=!0,// For mobile device, prevent screen slider on the button.
core_event/* stop */.sT(event.event);// Transform dx, dy to bar coordination.
var barTransform=this._displayables.sliderGroup.getLocalTransform(),vertex=graphic.applyTransform([dx,dy],barTransform,!0),changed=this._updateInterval(handleIndex,vertex[0]),realtime=this.dataZoomModel.get("realtime");this._updateView(!realtime),// Avoid dispatch dataZoom repeatly but range not changed,
// which cause bad visual effect when progressive enabled.
changed&&realtime&&this._dispatchZoomAction(!0)},SliderZoomView.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);// While in realtime mode and stream mode, dispatch action when
// drag end will cause the whole view rerender, which is unnecessary.
var realtime=this.dataZoomModel.get("realtime");!realtime&&this._dispatchZoomAction(!1)},SliderZoomView.prototype._onClickPanel=function(e){var size=this._size,localPoint=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(localPoint[0]<0||localPoint[0]>size[0]||localPoint[1]<0||localPoint[1]>size[1])){var handleEnds=this._handleEnds,center=(handleEnds[0]+handleEnds[1])/2,changed=this._updateInterval("all",localPoint[0]-center);this._updateView(),changed&&this._dispatchZoomAction(!1)}},SliderZoomView.prototype._onBrushStart=function(e){var x=e.offsetX,y=e.offsetY;this._brushStart=new Point/* default */.Z(x,y),this._brushing=!0,this._brushStartTime=+new Date},SliderZoomView.prototype._onBrushEnd=function(e){if(this._brushing){var brushRect=this._displayables.brushRect;if(this._brushing=!1,brushRect){brushRect.attr("ignore",!0);var brushShape=brushRect.shape,brushEndTime=+new Date;// console.log(brushEndTime - this._brushStartTime);
if(!(brushEndTime-this._brushStartTime<200&&Math.abs(brushShape.width)<5)){var viewExtend=this._getViewExtent(),percentExtent=[0,100];this._range=(0,number/* asc */.dt)([(0,number/* linearMap */.NU)(brushShape.x,viewExtend,percentExtent,!0),(0,number/* linearMap */.NU)(brushShape.x+brushShape.width,viewExtend,percentExtent,!0)]),this._handleEnds=[brushShape.x,brushShape.x+brushShape.width],this._updateView(),this._dispatchZoomAction(!1)}}}},SliderZoomView.prototype._onBrush=function(e){this._brushing&&(
// For mobile device, prevent screen slider on the button.
core_event/* stop */.sT(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},SliderZoomView.prototype._updateBrushRect=function(mouseX,mouseY){var displayables=this._displayables,dataZoomModel=this.dataZoomModel,brushRect=displayables.brushRect;brushRect||(brushRect=displayables.brushRect=new SliderZoomView_Rect({silent:!0,style:dataZoomModel.getModel("brushStyle").getItemStyle()}),displayables.sliderGroup.add(brushRect)),brushRect.attr("ignore",!1);var brushStart=this._brushStart,sliderGroup=this._displayables.sliderGroup,endPoint=sliderGroup.transformCoordToLocal(mouseX,mouseY),startPoint=sliderGroup.transformCoordToLocal(brushStart.x,brushStart.y),size=this._size;endPoint[0]=Math.max(Math.min(size[0],endPoint[0]),0),brushRect.setShape({x:startPoint[0],y:0,width:endPoint[0]-startPoint[0],height:size[1]})},
/**
   * This action will be throttled.
   */
SliderZoomView.prototype._dispatchZoomAction=function(realtime){var range=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:realtime?REALTIME_ANIMATION_CONFIG:null,start:range[0],end:range[1]})},SliderZoomView.prototype._findCoordRect=function(){
// Find the grid corresponding to the first axis referred by dataZoom.
var rect,coordSysInfoList=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!rect&&coordSysInfoList.length){var coordSys=coordSysInfoList[0].model.coordinateSystem;rect=coordSys.getRect&&coordSys.getRect()}if(!rect){var width=this.api.getWidth(),height=this.api.getHeight();rect={x:.2*width,y:.2*height,width:.6*width,height:.6*height}}return rect},SliderZoomView.type="dataZoom.slider",SliderZoomView}(dataZoom_DataZoomView);
/* harmony default export */function getOtherDim(thisDim){
// FIXME
// 这个逻辑和getOtherAxis里一致，但是写在这里是否不好
var map={x:"y",y:"x",radius:"angle",angle:"radius"};return map[thisDim]}function getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}
/* harmony default export */var dataZoom_SliderZoomView=SliderZoomView;// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/installDataZoomSlider.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function installDataZoomSlider_install(registers){registers.registerComponentModel(dataZoom_SliderZoomModel),registers.registerComponentView(dataZoom_SliderZoomView),installCommon(registers)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/dataZoom/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install_install(registers){(0,extension/* use */.D)(install),(0,extension/* use */.D)(installDataZoomSlider_install)}
/***/},
/***/727240:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */N:function(){/* binding */return install}
/* harmony export */});
/* unused harmony export DatasetModel */
/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(570655),_model_Component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(498071),_view_Component_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(833166),_util_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(894279),_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(536437),DatasetModel=
/** @class */
function(_super){function DatasetModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(DatasetModel,_super),DatasetModel.prototype.init=function(option,parentModel,ecModel){_super.prototype.init.call(this,option,parentModel,ecModel),this._sourceManager=new _data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__/* .SourceManager */.U(this),(0,_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__/* .disableTransformOptionMerge */.t)(this)},DatasetModel.prototype.mergeOption=function(newOption,ecModel){_super.prototype.mergeOption.call(this,newOption,ecModel),(0,_data_helper_sourceManager_js__WEBPACK_IMPORTED_MODULE_1__/* .disableTransformOptionMerge */.t)(this)},DatasetModel.prototype.optionUpdated=function(){this._sourceManager.dirty()},DatasetModel.prototype.getSourceManager=function(){return this._sourceManager},DatasetModel.type="dataset",DatasetModel.defaultOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SERIES_LAYOUT_BY_COLUMN */.fY},DatasetModel}(_model_Component_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z),DatasetView=
/** @class */
function(_super){function DatasetView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="dataset",_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(DatasetView,_super),DatasetView.type="dataset",DatasetView}(_view_Component_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z);
/* harmony import */function install(registers){registers.registerComponentModel(DatasetModel),registers.registerComponentView(DatasetView)}
/***/},
/***/476429:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/util.js
var util=__webpack_require__(933051),tslib_es6=__webpack_require__(570655),model=__webpack_require__(232234),Component=__webpack_require__(498071),layout=__webpack_require__(576172);
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function setKeyInfoToNewElOption(resultItem,newElOption){var existElOption=resultItem.existing;// Set id and type after id assigned.
// Set parent id if not specified
if(newElOption.id=resultItem.keyInfo.id,!newElOption.type&&existElOption&&(newElOption.type=existElOption.type),null==newElOption.parentId){var newElParentOption=newElOption.parentOption;newElParentOption?newElOption.parentId=newElParentOption.id:existElOption&&(newElOption.parentId=existElOption.parentId)}// Clear
newElOption.parentOption=null}function isSetLoc(obj,props){var isSet;return util/* each */.S6(props,(function(prop){null!=obj[prop]&&"auto"!==obj[prop]&&(isSet=!0)})),isSet}function mergeNewElOptionToExist(existList,index,newElOption){
// Update existing options, for `getOption` feature.
var newElOptCopy=util/* extend */.l7({},newElOption),existElOption=existList[index],$action=newElOption.$action||"merge";"merge"===$action?existElOption?(// We can ensure that newElOptCopy and existElOption are not
// the same object, so `merge` will not change newElOptCopy.
util/* merge */.TS(existElOption,newElOptCopy,!0),// Rigid body, use ignoreSize.
(0,layout/* mergeLayoutParam */.dt)(existElOption,newElOptCopy,{ignoreSize:!0}),// Will be used in render.
(0,layout/* copyLayoutParams */.QT)(newElOption,existElOption),// Copy transition info to new option so it can be used in the transition.
// DO IT AFTER merge
copyTransitionInfo(newElOption,existElOption),copyTransitionInfo(newElOption,existElOption,"shape"),copyTransitionInfo(newElOption,existElOption,"style"),copyTransitionInfo(newElOption,existElOption,"extra"),// Copy clipPath
newElOption.clipPath=existElOption.clipPath):existList[index]=newElOptCopy:"replace"===$action?existList[index]=newElOptCopy:"remove"===$action&&
// null will be cleaned later.
existElOption&&(existList[index]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(target,source,targetProp){if(targetProp&&(!target[targetProp]&&source[targetProp]&&(
// TODO avoid creating this empty object when there is no transition configuration.
target[targetProp]={}),target=target[targetProp],source=source[targetProp]),target&&source)for(var props=targetProp?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,i=0;i<props.length;i++){var prop=props[i];null==target[prop]&&null!=source[prop]&&(target[prop]=source[prop])}}function setLayoutInfoToExist(existItem,newElOption){if(existItem&&(existItem.hv=newElOption.hv=[// Rigid body, don't care about `width`.
isSetLoc(newElOption,["left","right"]),// Rigid body, don't care about `height`.
isSetLoc(newElOption,["top","bottom"])],"group"===existItem.type)){var existingGroupOpt=existItem,newGroupOpt=newElOption;null==existingGroupOpt.width&&(existingGroupOpt.width=newGroupOpt.width=0),null==existingGroupOpt.height&&(existingGroupOpt.height=newGroupOpt.height=0)}}var GraphicComponentModel=
/** @class */
function(_super){function GraphicComponentModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentModel.type,_this.preventAutoZ=!0,_this}return(0,tslib_es6/* __extends */.ZT)(GraphicComponentModel,_super),GraphicComponentModel.prototype.mergeOption=function(option,ecModel){
// Prevent default merge to elements
var elements=this.option.elements;this.option.elements=null,_super.prototype.mergeOption.call(this,option,ecModel),this.option.elements=elements},GraphicComponentModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option,newList=(isInit?thisOption:newOption).elements,existList=thisOption.elements=isInit?[]:thisOption.elements,flattenedList=[];this._flatten(newList,flattenedList,null);var mappingResult=model/* mappingToExists */.ab(existList,flattenedList,"normalMerge"),elOptionsToUpdate=this._elOptionsToUpdate=[];// Clear elOptionsToUpdate
util/* each */.S6(mappingResult,(function(resultItem,index){var newElOption=resultItem.newOption;newElOption&&(elOptionsToUpdate.push(newElOption),setKeyInfoToNewElOption(resultItem,newElOption),mergeNewElOptionToExist(existList,index,newElOption),setLayoutInfoToExist(existList[index],newElOption))}),this),// Clean
thisOption.elements=util/* filter */.hX(existList,(function(item){
// $action should be volatile, otherwise option gotten from
// `getOption` will contain unexpected $action.
return item&&delete item.$action,null!=item}))},
/**
   * Convert
   * [{
   *  type: 'group',
   *  id: 'xx',
   *  children: [{type: 'circle'}, {type: 'polygon'}]
   * }]
   * to
   * [
   *  {type: 'group', id: 'xx'},
   *  {type: 'circle', parentId: 'xx'},
   *  {type: 'polygon', parentId: 'xx'}
   * ]
   */
GraphicComponentModel.prototype._flatten=function(optionList,result,parentOption){util/* each */.S6(optionList,(function(option){if(option){parentOption&&(option.parentOption=parentOption),result.push(option);var children=option.children;// here we don't judge if option.type is `group`
// when new option doesn't provide `type`, it will cause that the children can't be updated.
children&&children.length&&this._flatten(children,result,option),// Deleting for JSON output, and for not affecting group creation.
delete option.children}}),this)},// FIXME
// Pass to view using payload? setOption has a payload?
GraphicComponentModel.prototype.useElOptionsToUpdate=function(){var els=this._elOptionsToUpdate;// Clear to avoid render duplicately when zooming.
return this._elOptionsToUpdate=null,els},GraphicComponentModel.type="graphic",GraphicComponentModel.defaultOption={elements:[]},GraphicComponentModel}(Component/* default */.Z),Displayable=__webpack_require__(207719),Group=__webpack_require__(38154),Image=__webpack_require__(744535),Text=__webpack_require__(679750),graphic=__webpack_require__(851177),number=__webpack_require__(785669),view_Component=__webpack_require__(833166),innerStore=__webpack_require__(30106),styleCompat=__webpack_require__(605248),customGraphicTransition=__webpack_require__(857718),basicTransition=__webpack_require__(944292),customGraphicKeyframeAnimation=__webpack_require__(495455),nonShapeGraphicElements={
// Reserved but not supported in graphic component.
path:null,compoundPath:null,
// Supported in graphic component.
group:Group/* default */.Z,image:Image/* default */.ZP,text:Text/* default */.ZP},inner=model/* makeInner */.Yf(),GraphicComponentView=
/** @class */
function(_super){function GraphicComponentView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=GraphicComponentView.type,_this}return(0,tslib_es6/* __extends */.ZT)(GraphicComponentView,_super),GraphicComponentView.prototype.init=function(){this._elMap=util/* createHashMap */.kW()},GraphicComponentView.prototype.render=function(graphicModel,ecModel,api){
// Having leveraged between use cases and algorithm complexity, a very
// simple layout mechanism is used:
// The size(width/height) can be determined by itself or its parent (not
// implemented yet), but can not by its children. (Top-down travel)
// The location(x/y) can be determined by the bounding rect of itself
// (can including its descendants or not) and the size of its parent.
// (Bottom-up travel)
// When `chart.clear()` or `chart.setOption({...}, true)` with the same id,
// view will be reused.
graphicModel!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=graphicModel,this._updateElements(graphicModel),this._relocate(graphicModel,api)},
/**
   * Update graphic elements.
   */
GraphicComponentView.prototype._updateElements=function(graphicModel){var elOptionsToUpdate=graphicModel.useElOptionsToUpdate();if(elOptionsToUpdate){var elMap=this._elMap,rootGroup=this.group,globalZ=graphicModel.get("z"),globalZLevel=graphicModel.get("zlevel");// Top-down tranverse to assign graphic settings to each elements.
util/* each */.S6(elOptionsToUpdate,(function(elOption){var id=model/* convertOptionIdName */.U5(elOption.id,null),elExisting=null!=id?elMap.get(id):null,parentId=model/* convertOptionIdName */.U5(elOption.parentId,null),targetElParent=null!=parentId?elMap.get(parentId):rootGroup,elType=elOption.type,elOptionStyle=elOption.style;"text"===elType&&elOptionStyle&&elOption.hv&&elOption.hv[1]&&(elOptionStyle.textVerticalAlign=elOptionStyle.textBaseline=elOptionStyle.verticalAlign=elOptionStyle.align=null);var textContentOption=elOption.textContent,textConfig=elOption.textConfig;if(elOptionStyle&&(0,styleCompat/* isEC4CompatibleStyle */.Sv)(elOptionStyle,elType,!!textConfig,!!textContentOption)){var convertResult=(0,styleCompat/* convertFromEC4CompatibleStyle */.Tw)(elOptionStyle,elType,!0);!textConfig&&convertResult.textConfig&&(textConfig=elOption.textConfig=convertResult.textConfig),!textContentOption&&convertResult.textContent&&(textContentOption=convertResult.textContent)}// Remove unnecessary props to avoid potential problems.
var elOptionCleaned=getCleanedElOption(elOption);// For simple, do not support parent change, otherwise reorder is needed.
var $action=elOption.$action||"merge",isMerge="merge"===$action,isReplace="replace"===$action;if(isMerge){var isInit=!elExisting,el_1=elExisting;isInit?el_1=createEl(id,targetElParent,elOption.type,elMap):(el_1&&(inner(el_1).isNew=!1),// Stop and restore before update any other attributes.
(0,customGraphicKeyframeAnimation/* stopPreviousKeyframeAnimationAndRestore */.r)(el_1)),el_1&&((0,customGraphicTransition/* applyUpdateTransition */.Ob)(el_1,elOptionCleaned,graphicModel,{isInit:isInit}),updateCommonAttrs(el_1,elOption,globalZ,globalZLevel))}else if(isReplace){removeEl(elExisting,elOption,elMap,graphicModel);var el_2=createEl(id,targetElParent,elOption.type,elMap);el_2&&((0,customGraphicTransition/* applyUpdateTransition */.Ob)(el_2,elOptionCleaned,graphicModel,{isInit:!0}),updateCommonAttrs(el_2,elOption,globalZ,globalZLevel))}else"remove"===$action&&((0,customGraphicTransition/* updateLeaveTo */._9)(elExisting,elOption),removeEl(elExisting,elOption,elMap,graphicModel));var el=elMap.get(id);if(el&&textContentOption)if(isMerge){var textContentExisting=el.getTextContent();textContentExisting?textContentExisting.attr(textContentOption):el.setTextContent(new Text/* default */.ZP(textContentOption))}else isReplace&&el.setTextContent(new Text/* default */.ZP(textContentOption));if(el){var clipPathOption=elOption.clipPath;if(clipPathOption){var clipPathType=clipPathOption.type,clipPath=void 0;isInit=!1;if(isMerge){var oldClipPath=el.getClipPath();isInit=!oldClipPath||inner(oldClipPath).type!==clipPathType,clipPath=isInit?newEl(clipPathType):oldClipPath}else isReplace&&(isInit=!0,clipPath=newEl(clipPathType));el.setClipPath(clipPath),(0,customGraphicTransition/* applyUpdateTransition */.Ob)(clipPath,clipPathOption,graphicModel,{isInit:isInit}),(0,customGraphicKeyframeAnimation/* applyKeyframeAnimation */.t)(clipPath,clipPathOption.keyframeAnimation,graphicModel)}var elInner=inner(el);el.setTextConfig(textConfig),elInner.option=elOption,setEventData(el,graphicModel,elOption),graphic.setTooltipConfig({el:el,componentModel:graphicModel,itemName:el.name,itemTooltipOption:elOption.tooltip}),(0,customGraphicKeyframeAnimation/* applyKeyframeAnimation */.t)(el,elOption.keyframeAnimation,graphicModel)}}))}},
/**
   * Locate graphic elements.
   */
GraphicComponentView.prototype._relocate=function(graphicModel,api){// Top-down to calculate percentage width/height of group
for(var elOptions=graphicModel.option.elements,rootGroup=this.group,elMap=this._elMap,apiWidth=api.getWidth(),apiHeight=api.getHeight(),xy=["x","y"],i=0;i<elOptions.length;i++){var elOption=elOptions[i],id=model/* convertOptionIdName */.U5(elOption.id,null),el=null!=id?elMap.get(id):null;if(el&&el.isGroup){var parentEl=el.parent,isParentRoot=parentEl===rootGroup,elInner=inner(el),parentElInner=inner(parentEl);elInner.width=(0,number/* parsePercent */.GM)(elInner.option.width,isParentRoot?apiWidth:parentElInner.width)||0,elInner.height=(0,number/* parsePercent */.GM)(elInner.option.height,isParentRoot?apiHeight:parentElInner.height)||0}}// Bottom-up tranvese all elements (consider ec resize) to locate elements.
for(i=elOptions.length-1;i>=0;i--){elOption=elOptions[i],id=model/* convertOptionIdName */.U5(elOption.id,null),el=null!=id?elMap.get(id):null;if(el){parentEl=el.parent,parentElInner=inner(parentEl);var containerInfo=parentEl===rootGroup?{width:apiWidth,height:apiHeight}:{width:parentElInner.width,height:parentElInner.height},layoutPos={},layouted=layout/* positionElement */.p$(el,elOption,containerInfo,null,{hv:elOption.hv,boundingMode:elOption.bounding},layoutPos);if(!inner(el).isNew&&layouted){for(var transition=elOption.transition,animatePos={},k=0;k<xy.length;k++){var key=xy[k],val=layoutPos[key];transition&&((0,customGraphicTransition/* isTransitionAll */.WK)(transition)||util/* indexOf */.cq(transition,key)>=0)?animatePos[key]=val:el[key]=val}(0,basicTransition/* updateProps */.D)(el,animatePos,graphicModel,0)}else el.attr(layoutPos)}}},
/**
   * Clear all elements.
   */
GraphicComponentView.prototype._clear=function(){var _this=this,elMap=this._elMap;elMap.each((function(el){removeEl(el,inner(el).option,elMap,_this._lastGraphicModel)})),this._elMap=util/* createHashMap */.kW()},GraphicComponentView.prototype.dispose=function(){this._clear()},GraphicComponentView.type="graphic",GraphicComponentView}(view_Component/* default */.Z);
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/Displayable.js
function newEl(graphicType){var Clz=util/* hasOwn */.RI(nonShapeGraphicElements,graphicType)?nonShapeGraphicElements[graphicType]:graphic.getShapeClass(graphicType);var el=new Clz({});return inner(el).type=graphicType,el}function createEl(id,targetElParent,graphicType,elMap){var el=newEl(graphicType);return targetElParent.add(el),elMap.set(id,el),inner(el).id=id,inner(el).isNew=!0,el}function removeEl(elExisting,elOption,elMap,graphicModel){var existElParent=elExisting&&elExisting.parent;existElParent&&("group"===elExisting.type&&elExisting.traverse((function(el){removeEl(el,elOption,elMap,graphicModel)})),(0,customGraphicTransition/* applyLeaveTransition */.O3)(elExisting,elOption,graphicModel),elMap.removeKey(inner(elExisting).id))}function updateCommonAttrs(el,elOption,defaultZ,defaultZlevel){el.isGroup||util/* each */.S6([["cursor",Displayable/* default */.ZP.prototype.cursor],// We should not support configure z and zlevel in the element level.
// But seems we didn't limit it previously. So here still use it to avoid breaking.
["zlevel",defaultZlevel||0],["z",defaultZ||0],// z2 must not be null/undefined, otherwise sort error may occur.
["z2",0]],(function(item){var prop=item[0];util/* hasOwn */.RI(elOption,prop)?el[prop]=util/* retrieve2 */.pD(elOption[prop],item[1]):null==el[prop]&&(el[prop]=item[1])})),util/* each */.S6(util/* keys */.XP(elOption),(function(key){
// Assign event handlers.
// PENDING: should enumerate all event names or use pattern matching?
if(0===key.indexOf("on")){var val=elOption[key];el[key]=util/* isFunction */.mf(val)?val:null}})),util/* hasOwn */.RI(elOption,"draggable")&&(el.draggable=elOption.draggable),// Other attributes
null!=elOption.name&&(el.name=elOption.name),null!=elOption.id&&(el.id=elOption.id)}// Remove unnecessary props to avoid potential problems.
function getCleanedElOption(elOption){return elOption=util/* extend */.l7({},elOption),util/* each */.S6(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(layout/* LOCATION_PARAMS */.gN),(function(name){delete elOption[name]})),elOption}function setEventData(el,graphicModel,elOption){var eventData=(0,innerStore/* getECData */.A)(el).eventData;// Simple optimize for large amount of elements that no need event.
el.silent||el.ignore||eventData||(eventData=(0,innerStore/* getECData */.A)(el).eventData={componentType:"graphic",componentIndex:graphicModel.componentIndex,name:el.name}),// `elOption.info` enables user to mount some info on
// elements and use them in event handlers.
eventData&&(eventData.info=elOption.info)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/graphic/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerComponentModel(GraphicComponentModel),registers.registerComponentView(GraphicComponentView),registers.registerPreprocessor((function(option){var graphicOption=option.graphic;// Convert
// {graphic: [{left: 10, type: 'circle'}, ...]}
// or
// {graphic: {left: 10, type: 'circle'}}
// to
// {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}
(0,util/* isArray */.kJ)(graphicOption)?graphicOption[0]&&graphicOption[0].elements?
// Only one graphic instance can be instantiated. (We don't
// want that too many views are created in echarts._viewMap.)
option.graphic=[option.graphic[0]]:option.graphic=[{elements:graphicOption}]:graphicOption&&!graphicOption.elements&&(option.graphic=[{elements:[graphicOption]}])}))}
/***/},
/***/731281:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */N:function(){/* binding */return install}
/* harmony export */});
/* harmony import */var _installSimple_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(314366),_axisPointer_install_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(746738),_extension_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(768023);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){(0,_extension_js__WEBPACK_IMPORTED_MODULE_0__/* .use */.D)(_installSimple_js__WEBPACK_IMPORTED_MODULE_1__/* .install */.N),(0,_extension_js__WEBPACK_IMPORTED_MODULE_0__/* .use */.D)(_axisPointer_install_js__WEBPACK_IMPORTED_MODULE_2__/* .install */.N)}
/***/},
/***/314366:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),Component=__webpack_require__(833166),model_Component=__webpack_require__(498071),GridModel=
/** @class */
function(_super){function GridModel(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(GridModel,_super),GridModel.type="grid",GridModel.dependencies=["xAxis","yAxis"],GridModel.layoutMode="box",GridModel.defaultOption={show:!1,
// zlevel: 0,
z:0,left:"10%",top:60,right:"10%",bottom:70,
// If grid size contain label
containLabel:!1,
// width: {totalWidth} - left - right,
// height: {totalHeight} - top - bottom,
backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},GridModel}(model_Component/* default */.Z),cartesian_GridModel=GridModel,Rect=__webpack_require__(25293),util=__webpack_require__(933051),AxisModelCommonMixin=
/** @class */
function(){function AxisModelCommonMixin(){}return AxisModelCommonMixin.prototype.getNeedCrossZero=function(){var option=this.option;return!option.scale},
/**
   * Should be implemented by each axis model if necessary.
   * @return coordinate system model
   */
AxisModelCommonMixin.prototype.getCoordSysModel=function(){},AxisModelCommonMixin}(),model=__webpack_require__(232234),CartesianAxisModel=
/** @class */
function(_super){function CartesianAxisModel(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(CartesianAxisModel,_super),CartesianAxisModel.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",model/* SINGLE_REFERRING */.C6).models[0]},CartesianAxisModel.type="cartesian2dAxis",CartesianAxisModel}(model_Component/* default */.Z);
// EXTERNAL MODULE: ./node_modules/echarts/lib/view/Component.js
util/* mixin */.jB(CartesianAxisModel,AxisModelCommonMixin);
/* harmony default export */var defaultOption={show:!0,
// zlevel: 0,
z:0,
// Inverse the axis.
inverse:!1,
// Axis name displayed.
name:"",
// 'start' | 'middle' | 'end'
nameLocation:"end",
// By degree. By default auto rotate by nameLocation.
nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},
// Use global text style by default.
nameTextStyle:{},
// The gap between axisName and axisLine.
nameGap:15,
// Default `false` to support tooltip.
silent:!1,
// Default `false` to avoid legacy user event listener fail.
triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},
// The arrow at both ends the the axis.
symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,
// Whether axisTick is inside the grid or outside the grid.
inside:!1,
// The length of axisTick.
length:5,lineStyle:{width:1}},axisLabel:{show:!0,
// Whether axisLabel is inside the grid or outside the grid.
inside:!1,rotate:0,
// true | false | null/undefined (auto)
showMinLabel:null,
// true | false | null/undefined (auto)
showMaxLabel:null,margin:8,
// formatter: null,
fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=util/* merge */.TS({
// The gap at both ends of the axis. For categoryAxis, boolean.
boundaryGap:!0,
// Set false to faster category collection.
deduplication:null,
// splitArea: {
// show: false
// },
splitLine:{show:!1},axisTick:{
// If tick is align with label when boundaryGap is true
alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=util/* merge */.TS({boundaryGap:[0,0],axisLine:{
// Not shown when other axis is categoryAxis in cartesian
show:"auto"},axisTick:{
// Not shown when other axis is categoryAxis in cartesian
show:"auto"},
// TODO
// min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]
splitNumber:5,minorTick:{
// Minor tick, not available for cateogry axis.
show:!1,
// Split number of minor ticks. The value should be in range of (0, 100)
splitNumber:5,
// Length of minor tick
length:3,
// Line style
lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption),timeAxis=util/* merge */.TS({splitNumber:6,axisLabel:{
// To eliminate labels that are not nice
showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=util/* defaults */.ce({logBase:10},valueAxis),axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis},layout=__webpack_require__(576172),OrdinalMeta=__webpack_require__(251401),AXIS_TYPES={value:1,category:1,time:1,log:1};// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/axisModelCreator.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Generate sub axis model class
 * @param axisName 'x' 'y' 'radius' 'angle' 'parallel' ...
 */
function axisModelCreator(registers,axisName,BaseAxisModelClass,extraDefaultOption){(0,util/* each */.S6)(AXIS_TYPES,(function(v,axisType){var defaultOption=(0,util/* merge */.TS)((0,util/* merge */.TS)({},axisDefault[axisType],!0),extraDefaultOption,!0),AxisModel=
/** @class */
function(_super){function AxisModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=axisName+"Axis."+axisType,_this}return(0,tslib_es6/* __extends */.ZT)(AxisModel,_super),AxisModel.prototype.mergeDefaultAndTheme=function(option,ecModel){var layoutMode=(0,layout/* fetchLayoutMode */.YD)(this),inputPositionParams=layoutMode?(0,layout/* getLayoutParams */.tE)(option):{},themeModel=ecModel.getTheme();(0,util/* merge */.TS)(option,themeModel.get(axisType+"Axis")),(0,util/* merge */.TS)(option,this.getDefaultOption()),option.type=getAxisType(option),layoutMode&&(0,layout/* mergeLayoutParam */.dt)(option,inputPositionParams,layoutMode)},AxisModel.prototype.optionUpdated=function(){var thisOption=this.option;"category"===thisOption.type&&(this.__ordinalMeta=OrdinalMeta/* default */.Z.createByAxisModel(this))},
/**
       * Should not be called before all of 'getInitailData' finished.
       * Because categories are collected during initializing data.
       */
AxisModel.prototype.getCategories=function(rawData){var option=this.option;// FIXME
// warning if called before all of 'getInitailData' finished.
if("category"===option.type)return rawData?option.data:this.__ordinalMeta.categories},AxisModel.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},AxisModel.type=axisName+"Axis."+axisType,AxisModel.defaultOption=defaultOption,AxisModel}(BaseAxisModelClass);registers.registerComponentModel(AxisModel)})),registers.registerSubTypeDefaulter(axisName+"Axis",getAxisType)}function getAxisType(option){
// Default axis with data is category axis
return option.type||(option.data?"category":"value")}
// EXTERNAL MODULE: ./node_modules/echarts/lib/coord/axisHelper.js
var axisHelper=__webpack_require__(597980),BoundingRect=__webpack_require__(260479),Cartesian=
/** @class */
function(){function Cartesian(name){this.type="cartesian",this._dimList=[],this._axes={},this.name=name||""}return Cartesian.prototype.getAxis=function(dim){return this._axes[dim]},Cartesian.prototype.getAxes=function(){return util/* map */.UI(this._dimList,(function(dim){return this._axes[dim]}),this)},Cartesian.prototype.getAxesByScale=function(scaleType){return scaleType=scaleType.toLowerCase(),util/* filter */.hX(this.getAxes(),(function(axis){return axis.scale.type===scaleType}))},Cartesian.prototype.addAxis=function(axis){var dim=axis.dim;this._axes[dim]=axis,this._dimList.push(dim)},Cartesian}(),cartesian_Cartesian=Cartesian,matrix=__webpack_require__(932892),vector=__webpack_require__(45280),cartesian2DDimensions=["x","y"];
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/BoundingRect.js
function canCalculateAffineTransform(scale){return"interval"===scale.type||"time"===scale.type}var Cartesian2D=
/** @class */
function(_super){function Cartesian2D(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="cartesian2d",_this.dimensions=cartesian2DDimensions,_this}
/**
   * Calculate an affine transform matrix if two axes are time or value.
   * It's mainly for accelartion on the large time series data.
   */return(0,tslib_es6/* __extends */.ZT)(Cartesian2D,_super),Cartesian2D.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var xAxisScale=this.getAxis("x").scale,yAxisScale=this.getAxis("y").scale;if(canCalculateAffineTransform(xAxisScale)&&canCalculateAffineTransform(yAxisScale)){var xScaleExtent=xAxisScale.getExtent(),yScaleExtent=yAxisScale.getExtent(),start=this.dataToPoint([xScaleExtent[0],yScaleExtent[0]]),end=this.dataToPoint([xScaleExtent[1],yScaleExtent[1]]),xScaleSpan=xScaleExtent[1]-xScaleExtent[0],yScaleSpan=yScaleExtent[1]-yScaleExtent[0];if(xScaleSpan&&yScaleSpan){// Accelerate data to point calculation on the special large time series data.
var scaleX=(end[0]-start[0])/xScaleSpan,scaleY=(end[1]-start[1])/yScaleSpan,translateX=start[0]-xScaleExtent[0]*scaleX,translateY=start[1]-yScaleExtent[0]*scaleY,m=this._transform=[scaleX,0,0,scaleY,translateX,translateY];this._invTransform=(0,matrix/* invert */.U_)([],m)}}},
/**
   * Base axis will be used on stacking.
   */
Cartesian2D.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Cartesian2D.prototype.containPoint=function(point){var axisX=this.getAxis("x"),axisY=this.getAxis("y");return axisX.contain(axisX.toLocalCoord(point[0]))&&axisY.contain(axisY.toLocalCoord(point[1]))},Cartesian2D.prototype.containData=function(data){return this.getAxis("x").containData(data[0])&&this.getAxis("y").containData(data[1])},Cartesian2D.prototype.containZone=function(data1,data2){var zoneDiag1=this.dataToPoint(data1),zoneDiag2=this.dataToPoint(data2),area=this.getArea(),zone=new BoundingRect/* default */.Z(zoneDiag1[0],zoneDiag1[1],zoneDiag2[0]-zoneDiag1[0],zoneDiag2[1]-zoneDiag1[1]);return area.intersect(zone)},Cartesian2D.prototype.dataToPoint=function(data,clamp,out){out=out||[];var xVal=data[0],yVal=data[1];// Fast path
if(this._transform&&null!=xVal&&isFinite(xVal)&&null!=yVal&&isFinite(yVal))return(0,vector/* applyTransform */.Ne)(out,data,this._transform);var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out[0]=xAxis.toGlobalCoord(xAxis.dataToCoord(xVal,clamp)),out[1]=yAxis.toGlobalCoord(yAxis.dataToCoord(yVal,clamp)),out},Cartesian2D.prototype.clampData=function(data,out){var xScale=this.getAxis("x").scale,yScale=this.getAxis("y").scale,xAxisExtent=xScale.getExtent(),yAxisExtent=yScale.getExtent(),x=xScale.parse(data[0]),y=yScale.parse(data[1]);return out=out||[],out[0]=Math.min(Math.max(Math.min(xAxisExtent[0],xAxisExtent[1]),x),Math.max(xAxisExtent[0],xAxisExtent[1])),out[1]=Math.min(Math.max(Math.min(yAxisExtent[0],yAxisExtent[1]),y),Math.max(yAxisExtent[0],yAxisExtent[1])),out},Cartesian2D.prototype.pointToData=function(point,clamp){var out=[];if(this._invTransform)return(0,vector/* applyTransform */.Ne)(out,point,this._invTransform);var xAxis=this.getAxis("x"),yAxis=this.getAxis("y");return out[0]=xAxis.coordToData(xAxis.toLocalCoord(point[0]),clamp),out[1]=yAxis.coordToData(yAxis.toLocalCoord(point[1]),clamp),out},Cartesian2D.prototype.getOtherAxis=function(axis){return this.getAxis("x"===axis.dim?"y":"x")},
/**
   * Get rect area of cartesian.
   * Area will have a contain function to determine if a point is in the coordinate system.
   */
Cartesian2D.prototype.getArea=function(){var xExtent=this.getAxis("x").getGlobalExtent(),yExtent=this.getAxis("y").getGlobalExtent(),x=Math.min(xExtent[0],xExtent[1]),y=Math.min(yExtent[0],yExtent[1]),width=Math.max(xExtent[0],xExtent[1])-x,height=Math.max(yExtent[0],yExtent[1])-y;return new BoundingRect/* default */.Z(x,y,width,height)},Cartesian2D}(cartesian_Cartesian),cartesian_Cartesian2D=Cartesian2D,number=__webpack_require__(785669),contain_text=__webpack_require__(780423),inner=(0,model/* makeInner */.Yf)();function createAxisLabels(axis){
// Only ordinal scale support tick interval
return"category"===axis.type?makeCategoryLabels(axis):makeRealNumberLabels(axis)}
/**
 * @param {module:echats/coord/Axis} axis
 * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.
 * @return {Object} {
 *     ticks: Array.<number>
 *     tickCategoryInterval: number
 * }
 */function createAxisTicks(axis,tickModel){
// Only ordinal scale support tick interval
return"category"===axis.type?makeCategoryTicks(axis,tickModel):{ticks:util/* map */.UI(axis.scale.getTicks(),(function(tick){return tick.value}))}}function makeCategoryLabels(axis){var labelModel=axis.getLabelModel(),result=makeCategoryLabelsActually(axis,labelModel);return!labelModel.get("show")||axis.scale.isBlank()?{labels:[],labelCategoryInterval:result.labelCategoryInterval}:result}function makeCategoryLabelsActually(axis,labelModel){var labels,numericLabelInterval,labelsCache=getListCache(axis,"labels"),optionLabelInterval=(0,axisHelper/* getOptionCategoryInterval */.rk)(labelModel),result=listCacheGet(labelsCache,optionLabelInterval);return result||(util/* isFunction */.mf(optionLabelInterval)?labels=makeLabelsByCustomizedCategoryInterval(axis,optionLabelInterval):(numericLabelInterval="auto"===optionLabelInterval?makeAutoCategoryInterval(axis):optionLabelInterval,labels=makeLabelsByNumericCategoryInterval(axis,numericLabelInterval)),listCacheSet(labelsCache,optionLabelInterval,{labels:labels,labelCategoryInterval:numericLabelInterval}))}function makeCategoryTicks(axis,tickModel){var ticks,tickCategoryInterval,ticksCache=getListCache(axis,"ticks"),optionTickInterval=(0,axisHelper/* getOptionCategoryInterval */.rk)(tickModel),result=listCacheGet(ticksCache,optionTickInterval);if(result)return result;if(// Optimize for the case that large category data and no label displayed,
// we should not return all ticks.
tickModel.get("show")&&!axis.scale.isBlank()||(ticks=[]),util/* isFunction */.mf(optionTickInterval))ticks=makeLabelsByCustomizedCategoryInterval(axis,optionTickInterval,!0);else if("auto"===optionTickInterval){var labelsResult=makeCategoryLabelsActually(axis,axis.getLabelModel());tickCategoryInterval=labelsResult.labelCategoryInterval,ticks=util/* map */.UI(labelsResult.labels,(function(labelItem){return labelItem.tickValue}))}else tickCategoryInterval=optionTickInterval,ticks=makeLabelsByNumericCategoryInterval(axis,tickCategoryInterval,!0);// Cache to avoid calling interval function repeatedly.
return listCacheSet(ticksCache,optionTickInterval,{ticks:ticks,tickCategoryInterval:tickCategoryInterval})}function makeRealNumberLabels(axis){var ticks=axis.scale.getTicks(),labelFormatter=(0,axisHelper/* makeLabelFormatter */.J9)(axis);return{labels:util/* map */.UI(ticks,(function(tick,idx){return{level:tick.level,formattedLabel:labelFormatter(tick,idx),rawLabel:axis.scale.getLabel(tick),tickValue:tick.value}}))}}function getListCache(axis,prop){
// Because key can be a function, and cache size always is small, we use array cache.
return inner(axis)[prop]||(inner(axis)[prop]=[])}function listCacheGet(cache,key){for(var i=0;i<cache.length;i++)if(cache[i].key===key)return cache[i].value}function listCacheSet(cache,key,value){return cache.push({key:key,value:value}),value}function makeAutoCategoryInterval(axis){var result=inner(axis).autoInterval;return null!=result?result:inner(axis).autoInterval=axis.calculateCategoryInterval()}
/**
 * Calculate interval for category axis ticks and labels.
 * To get precise result, at least one of `getRotate` and `isHorizontal`
 * should be implemented in axis.
 */function calculateCategoryInterval(axis){var params=fetchAutoCategoryIntervalCalculationParams(axis),labelFormatter=(0,axisHelper/* makeLabelFormatter */.J9)(axis),rotation=(params.axisRotate-params.labelRotate)/180*Math.PI,ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),tickCount=ordinalScale.count();if(ordinalExtent[1]-ordinalExtent[0]<1)return 0;var step=1;// Simple optimization. Empirical value: tick count should less than 40.
tickCount>40&&(step=Math.max(1,Math.floor(tickCount/40)));// Caution: Performance sensitive for large category data.
// Consider dataZoom, we should make appropriate step to avoid O(n) loop.
for(var tickValue=ordinalExtent[0],unitSpan=axis.dataToCoord(tickValue+1)-axis.dataToCoord(tickValue),unitW=Math.abs(unitSpan*Math.cos(rotation)),unitH=Math.abs(unitSpan*Math.sin(rotation)),maxW=0,maxH=0;tickValue<=ordinalExtent[1];tickValue+=step){var width=0,height=0,rect=contain_text/* getBoundingRect */.lP(labelFormatter({value:tickValue}),params.font,"center","top");// Magic number
width=1.3*rect.width,height=1.3*rect.height,// Min size, void long loop.
maxW=Math.max(maxW,width,7),maxH=Math.max(maxH,height,7)}var dw=maxW/unitW,dh=maxH/unitH;// 0/0 is NaN, 1/0 is Infinity.
isNaN(dw)&&(dw=1/0),isNaN(dh)&&(dh=1/0);var interval=Math.max(0,Math.floor(Math.min(dw,dh))),cache=inner(axis.model),axisExtent=axis.getExtent(),lastAutoInterval=cache.lastAutoInterval,lastTickCount=cache.lastTickCount;// Use cache to keep interval stable while moving zoom window,
// otherwise the calculated interval might jitter when the zoom
// window size is close to the interval-changing size.
// For example, if all of the axis labels are `a, b, c, d, e, f, g`.
// The jitter will cause that sometimes the displayed labels are
// `a, d, g` (interval: 2) sometimes `a, c, e`(interval: 1).
return null!=lastAutoInterval&&null!=lastTickCount&&Math.abs(lastAutoInterval-interval)<=1&&Math.abs(lastTickCount-tickCount)<=1&&lastAutoInterval>interval&&cache.axisExtent0===axisExtent[0]&&cache.axisExtent1===axisExtent[1]?interval=lastAutoInterval:(cache.lastTickCount=tickCount,cache.lastAutoInterval=interval,cache.axisExtent0=axisExtent[0],cache.axisExtent1=axisExtent[1]),interval}function fetchAutoCategoryIntervalCalculationParams(axis){var labelModel=axis.getLabelModel();return{axisRotate:axis.getRotate?axis.getRotate():axis.isHorizontal&&!axis.isHorizontal()?90:0,labelRotate:labelModel.get("rotate")||0,font:labelModel.getFont()}}function makeLabelsByNumericCategoryInterval(axis,categoryInterval,onlyTick){var labelFormatter=(0,axisHelper/* makeLabelFormatter */.J9)(axis),ordinalScale=axis.scale,ordinalExtent=ordinalScale.getExtent(),labelModel=axis.getLabelModel(),result=[],step=Math.max((categoryInterval||0)+1,1),startTick=ordinalExtent[0],tickCount=ordinalScale.count();// Calculate start tick based on zero if possible to keep label consistent
// while zooming and moving while interval > 0. Otherwise the selection
// of displayable ticks and symbols probably keep changing.
// 3 is empirical value.
0!==startTick&&step>1&&tickCount/step>2&&(startTick=Math.round(Math.ceil(startTick/step)*step));// (1) Only add min max label here but leave overlap checking
// to render stage, which also ensure the returned list
// suitable for splitLine and splitArea rendering.
// (2) Scales except category always contain min max label so
// do not need to perform this process.
var showAllLabel=(0,axisHelper/* shouldShowAllLabels */.WY)(axis),includeMinLabel=labelModel.get("showMinLabel")||showAllLabel,includeMaxLabel=labelModel.get("showMaxLabel")||showAllLabel;includeMinLabel&&startTick!==ordinalExtent[0]&&addItem(ordinalExtent[0]);// Optimize: avoid generating large array by `ordinalScale.getTicks()`.
for(var tickValue=startTick;tickValue<=ordinalExtent[1];tickValue+=step)addItem(tickValue);function addItem(tickValue){var tickObj={value:tickValue};result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tickObj),rawLabel:ordinalScale.getLabel(tickObj),tickValue:tickValue})}return includeMaxLabel&&tickValue-step!==ordinalExtent[1]&&addItem(ordinalExtent[1]),result}function makeLabelsByCustomizedCategoryInterval(axis,categoryInterval,onlyTick){var ordinalScale=axis.scale,labelFormatter=(0,axisHelper/* makeLabelFormatter */.J9)(axis),result=[];return util/* each */.S6(ordinalScale.getTicks(),(function(tick){var rawLabel=ordinalScale.getLabel(tick),tickValue=tick.value;categoryInterval(tick.value,rawLabel)&&result.push(onlyTick?tickValue:{formattedLabel:labelFormatter(tick),rawLabel:rawLabel,tickValue:tickValue})})),result}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/Axis.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var NORMALIZED_EXTENT=[0,1],Axis=
/** @class */
function(){function Axis(dim,scale,extent){this.onBand=!1,this.inverse=!1,this.dim=dim,this.scale=scale,this._extent=extent||[0,0]}
/**
   * If axis extent contain given coord
   */return Axis.prototype.contain=function(coord){var extent=this._extent,min=Math.min(extent[0],extent[1]),max=Math.max(extent[0],extent[1]);return coord>=min&&coord<=max},
/**
   * If axis extent contain given data
   */
Axis.prototype.containData=function(data){return this.scale.contain(data)},
/**
   * Get coord extent.
   */
Axis.prototype.getExtent=function(){return this._extent.slice()},
/**
   * Get precision used for formatting
   */
Axis.prototype.getPixelPrecision=function(dataExtent){return(0,number/* getPixelPrecision */.M9)(dataExtent||this.scale.getExtent(),this._extent)},
/**
   * Set coord extent
   */
Axis.prototype.setExtent=function(start,end){var extent=this._extent;extent[0]=start,extent[1]=end},
/**
   * Convert data to coord. Data is the rank if it has an ordinal scale
   */
Axis.prototype.dataToCoord=function(data,clamp){var extent=this._extent,scale=this.scale;return data=scale.normalize(data),this.onBand&&"ordinal"===scale.type&&(extent=extent.slice(),fixExtentWithBands(extent,scale.count())),(0,number/* linearMap */.NU)(data,NORMALIZED_EXTENT,extent,clamp)},
/**
   * Convert coord to data. Data is the rank if it has an ordinal scale
   */
Axis.prototype.coordToData=function(coord,clamp){var extent=this._extent,scale=this.scale;this.onBand&&"ordinal"===scale.type&&(extent=extent.slice(),fixExtentWithBands(extent,scale.count()));var t=(0,number/* linearMap */.NU)(coord,extent,NORMALIZED_EXTENT,clamp);return this.scale.scale(t)},
/**
   * Convert pixel point to data in axis
   */
Axis.prototype.pointToData=function(point,clamp){},
/**
   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,
   * `axis.getTicksCoords` considers `onBand`, which is used by
   * `boundaryGap:true` of category axis and splitLine and splitArea.
   * @param opt.tickModel default: axis.model.getModel('axisTick')
   * @param opt.clamp If `true`, the first and the last
   *        tick must be at the axis end points. Otherwise, clip ticks
   *        that outside the axis extent.
   */
Axis.prototype.getTicksCoords=function(opt){opt=opt||{};var tickModel=opt.tickModel||this.getTickModel(),result=createAxisTicks(this,tickModel),ticks=result.ticks,ticksCoords=(0,util/* map */.UI)(ticks,(function(tickVal){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(tickVal):tickVal),tickValue:tickVal}}),this),alignWithLabel=tickModel.get("alignWithLabel");return fixOnBandTicksCoords(this,ticksCoords,alignWithLabel,opt.clamp),ticksCoords},Axis.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)
// Category axis doesn't support minor ticks
return[];var minorTickModel=this.model.getModel("minorTick"),splitNumber=minorTickModel.get("splitNumber");// Protection.
splitNumber>0&&splitNumber<100||(splitNumber=5);var minorTicks=this.scale.getMinorTicks(splitNumber),minorTicksCoords=(0,util/* map */.UI)(minorTicks,(function(minorTicksGroup){return(0,util/* map */.UI)(minorTicksGroup,(function(minorTick){return{coord:this.dataToCoord(minorTick),tickValue:minorTick}}),this)}),this);return minorTicksCoords},Axis.prototype.getViewLabels=function(){return createAxisLabels(this).labels},Axis.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},
/**
   * Notice here we only get the default tick model. For splitLine
   * or splitArea, we should pass the splitLineModel or splitAreaModel
   * manually when calling `getTicksCoords`.
   * In GL, this method may be overridden to:
   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`
   */
Axis.prototype.getTickModel=function(){return this.model.getModel("axisTick")},
/**
   * Get width of band
   */
Axis.prototype.getBandWidth=function(){var axisExtent=this._extent,dataExtent=this.scale.getExtent(),len=dataExtent[1]-dataExtent[0]+(this.onBand?1:0);// Fix #2728, avoid NaN when only one data.
0===len&&(len=1);var size=Math.abs(axisExtent[1]-axisExtent[0]);return Math.abs(size)/len},
/**
   * Only be called in category axis.
   * Can be overridden, consider other axes like in 3D.
   * @return Auto interval for cateogry axis tick and label
   */
Axis.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},Axis}();
/**
 * Base class of Axis.
 */function fixExtentWithBands(extent,nTick){var size=extent[1]-extent[0],len=nTick,margin=size/len/2;extent[0]+=margin,extent[1]-=margin}// If axis has labels [1, 2, 3, 4]. Bands on the axis are
// |---1---|---2---|---3---|---4---|.
// So the displayed ticks and splitLine/splitArea should between
// each data item, otherwise cause misleading (e.g., split tow bars
// of a single data item when there are two bar series).
// Also consider if tickCategoryInterval > 0 and onBand, ticks and
// splitLine/spliteArea should layout appropriately corresponding
// to displayed labels. (So we should not use `getBandWidth` in this
// case).
function fixOnBandTicksCoords(axis,ticksCoords,alignWithLabel,clamp){var ticksLen=ticksCoords.length;if(axis.onBand&&!alignWithLabel&&ticksLen){var last,diffSize,axisExtent=axis.getExtent();if(1===ticksLen)ticksCoords[0].coord=axisExtent[0],last=ticksCoords[1]={coord:axisExtent[1]};else{var crossLen=ticksCoords[ticksLen-1].tickValue-ticksCoords[0].tickValue,shift_1=(ticksCoords[ticksLen-1].coord-ticksCoords[0].coord)/crossLen;(0,util/* each */.S6)(ticksCoords,(function(ticksItem){ticksItem.coord-=shift_1/2}));var dataExtent=axis.scale.getExtent();diffSize=1+dataExtent[1]-ticksCoords[ticksLen-1].tickValue,last={coord:ticksCoords[ticksLen-1].coord+shift_1*diffSize},ticksCoords.push(last)}var inverse=axisExtent[0]>axisExtent[1];// Handling clamp.
littleThan(ticksCoords[0].coord,axisExtent[0])&&(clamp?ticksCoords[0].coord=axisExtent[0]:ticksCoords.shift()),clamp&&littleThan(axisExtent[0],ticksCoords[0].coord)&&ticksCoords.unshift({coord:axisExtent[0]}),littleThan(axisExtent[1],last.coord)&&(clamp?last.coord=axisExtent[1]:ticksCoords.pop()),clamp&&littleThan(last.coord,axisExtent[1])&&ticksCoords.push({coord:axisExtent[1]})}function littleThan(a,b){
// Avoid rounding error cause calculated tick coord different with extent.
// It may cause an extra unnecessary tick added.
return a=(0,number/* round */.NM)(a),b=(0,number/* round */.NM)(b),inverse?a>b:a<b}}
/* harmony default export */var coord_Axis=Axis,Axis2D=
/** @class */
function(_super){function Axis2D(dim,scale,coordExtent,axisType,position){var _this=_super.call(this,dim,scale,coordExtent)||this;
/**
     * Index of axis, can be used as key
     * Injected outside.
     */return _this.index=0,_this.type=axisType||"value",_this.position=position||"bottom",_this}return(0,tslib_es6/* __extends */.ZT)(Axis2D,_super),Axis2D.prototype.isHorizontal=function(){var position=this.position;return"top"===position||"bottom"===position},
/**
   * Each item cooresponds to this.getExtent(), which
   * means globalExtent[0] may greater than globalExtent[1],
   * unless `asc` is input.
   *
   * @param {boolean} [asc]
   * @return {Array.<number>}
   */
Axis2D.prototype.getGlobalExtent=function(asc){var ret=this.getExtent();return ret[0]=this.toGlobalCoord(ret[0]),ret[1]=this.toGlobalCoord(ret[1]),asc&&ret[0]>ret[1]&&ret.reverse(),ret},Axis2D.prototype.pointToData=function(point,clamp){return this.coordToData(this.toLocalCoord(point["x"===this.dim?0:1]),clamp)},
/**
   * Set ordinalSortInfo
   * @param info new OrdinalSortInfo
   */
Axis2D.prototype.setCategorySortInfo=function(info){if("category"!==this.type)return!1;this.model.option.categorySortInfo=info,this.scale.setSortInfo(info)},Axis2D}(coord_Axis),cartesian_Axis2D=Axis2D,cartesianAxisHelper=__webpack_require__(949069),helper=__webpack_require__(665021),Interval=__webpack_require__(70103),mathLog=Math.log;function alignScaleTicks(scale,axisModel,alignToScale){var intervalScaleProto=Interval/* default */.Z.prototype,alignToTicks=intervalScaleProto.getTicks.call(alignToScale),alignToNicedTicks=intervalScaleProto.getTicks.call(alignToScale,!0),alignToSplitNumber=alignToTicks.length-1,alignToInterval=intervalScaleProto.getInterval.call(alignToScale),scaleExtent=(0,axisHelper/* getScaleExtent */.Xv)(scale,axisModel),rawExtent=scaleExtent.extent,isMinFixed=scaleExtent.fixMin,isMaxFixed=scaleExtent.fixMax;// NOTE: There is a precondition for log scale  here:
// In log scale we store _interval and _extent of exponent value.
// So if we use the method of InternalScale to set/get these data.
// It process the exponent value, which is linear and what we want here.
if("log"===scale.type){var logBase=mathLog(scale.base);rawExtent=[mathLog(rawExtent[0])/logBase,mathLog(rawExtent[1])/logBase]}scale.setExtent(rawExtent[0],rawExtent[1]),scale.calcNiceExtent({splitNumber:alignToSplitNumber,fixMin:isMinFixed,fixMax:isMaxFixed});var extent=intervalScaleProto.getExtent.call(scale);// Need to update the rawExtent.
// Because value in rawExtent may be not parsed. e.g. 'dataMin', 'dataMax'
isMinFixed&&(rawExtent[0]=extent[0]),isMaxFixed&&(rawExtent[1]=extent[1]);var interval=intervalScaleProto.getInterval.call(scale),min=rawExtent[0],max=rawExtent[1];if(isMinFixed&&isMaxFixed)
// User set min, max, divide to get new interval
interval=(max-min)/alignToSplitNumber;else if(isMinFixed){max=rawExtent[0]+interval*alignToSplitNumber;// User set min, expand extent on the other side
while(max<rawExtent[1]&&isFinite(max)&&isFinite(rawExtent[1]))interval=(0,helper/* increaseInterval */.r1)(interval),max=rawExtent[0]+interval*alignToSplitNumber}else if(isMaxFixed){
// User set max, expand extent on the other side
min=rawExtent[1]-interval*alignToSplitNumber;while(min>rawExtent[0]&&isFinite(min)&&isFinite(rawExtent[0]))interval=(0,helper/* increaseInterval */.r1)(interval),min=rawExtent[1]-interval*alignToSplitNumber}else{var nicedSplitNumber=scale.getTicks().length-1;nicedSplitNumber>alignToSplitNumber&&(interval=(0,helper/* increaseInterval */.r1)(interval));var range=interval*alignToSplitNumber;max=Math.ceil(rawExtent[1]/interval)*interval,min=(0,number/* round */.NM)(max-range),// Not change the result that crossing zero.
min<0&&rawExtent[0]>=0?(min=0,max=(0,number/* round */.NM)(range)):max>0&&rawExtent[1]<=0&&(max=0,min=-(0,number/* round */.NM)(range))}// Adjust min, max based on the extent of alignTo. When min or max is set in alignTo scale
var t0=(alignToTicks[0].value-alignToNicedTicks[0].value)/alignToInterval,t1=(alignToTicks[alignToSplitNumber].value-alignToNicedTicks[alignToSplitNumber].value)/alignToInterval;// NOTE: Must in setExtent -> setInterval -> setNiceExtent order.
intervalScaleProto.setExtent.call(scale,min+interval*t0,max+interval*t1),intervalScaleProto.setInterval.call(scale,interval),(t0||t1)&&intervalScaleProto.setNiceExtent.call(scale,min+interval,max-interval)}// CONCATENATED MODULE: ./node_modules/echarts/lib/coord/cartesian/Grid.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Grid is a region which contains at most 4 cartesian systems
 *
 * TODO Default cartesian
 */
var Grid=
/** @class */
function(){function Grid(gridModel,ecModel,api){
// FIXME:TS where used (different from registered type 'cartesian2d')?
this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(gridModel,ecModel,api),this.model=gridModel}return Grid.prototype.getRect=function(){return this._rect},Grid.prototype.update=function(ecModel,api){var axesMap=this._axesMap;function updateAxisTicks(axes){var alignTo,axesIndices=(0,util/* keys */.XP)(axes),len=axesIndices.length;// Axis is added in order of axisIndex.
if(len){// Process once and calculate the ticks for those don't use alignTicks.
for(var axisNeedsAlign=[],i=len-1;i>=0;i--){var idx=+axesIndices[i],axis=axes[idx],model=axis.model,scale=axis.scale;// Convert to number.
// Only value and log axis without interval support alignTicks.
(0,helper/* isIntervalOrLogScale */.lM)(scale)&&model.get("alignTicks")&&null==model.get("interval")?axisNeedsAlign.push(axis):((0,axisHelper/* niceScaleExtent */.Jk)(scale,model),(0,helper/* isIntervalOrLogScale */.lM)(scale)&&(
// Can only align to interval or log axis.
alignTo=axis))}// All axes has set alignTicks. Pick the first one.
// PENDING. Should we find the axis that both set interval, min, max and align to this one?
axisNeedsAlign.length&&(alignTo||(alignTo=axisNeedsAlign.pop(),(0,axisHelper/* niceScaleExtent */.Jk)(alignTo.scale,alignTo.model)),(0,util/* each */.S6)(axisNeedsAlign,(function(axis){alignScaleTicks(axis.scale,axis.model,alignTo.scale)})))}}this._updateScale(ecModel,this.model),updateAxisTicks(axesMap.x),updateAxisTicks(axesMap.y);// Key: axisDim_axisIndex, value: boolean, whether onZero target.
var onZeroRecords={};(0,util/* each */.S6)(axesMap.x,(function(xAxis){fixAxisOnZero(axesMap,"y",xAxis,onZeroRecords)})),(0,util/* each */.S6)(axesMap.y,(function(yAxis){fixAxisOnZero(axesMap,"x",yAxis,onZeroRecords)})),// Resize again if containLabel is enabled
// FIXME It may cause getting wrong grid size in data processing stage
this.resize(this.model,api)},
/**
   * Resize the grid
   */
Grid.prototype.resize=function(gridModel,api,ignoreContainLabel){var boxLayoutParams=gridModel.getBoxLayoutParams(),isContainLabel=!ignoreContainLabel&&gridModel.get("containLabel"),gridRect=(0,layout/* getLayoutRect */.ME)(boxLayoutParams,{width:api.getWidth(),height:api.getHeight()});this._rect=gridRect;var axesList=this._axesList;function adjustAxes(){(0,util/* each */.S6)(axesList,(function(axis){var isHorizontal=axis.isHorizontal(),extent=isHorizontal?[0,gridRect.width]:[0,gridRect.height],idx=axis.inverse?1:0;axis.setExtent(extent[idx],extent[1-idx]),updateAxisTransform(axis,isHorizontal?gridRect.x:gridRect.y)}))}adjustAxes(),// Minus label size
isContainLabel&&((0,util/* each */.S6)(axesList,(function(axis){if(!axis.model.get(["axisLabel","inside"])){var labelUnionRect=(0,axisHelper/* estimateLabelUnionRect */.Do)(axis);if(labelUnionRect){var dim=axis.isHorizontal()?"height":"width",margin=axis.model.get(["axisLabel","margin"]);gridRect[dim]-=labelUnionRect[dim]+margin,"top"===axis.position?gridRect.y+=labelUnionRect.height+margin:"left"===axis.position&&(gridRect.x+=labelUnionRect.width+margin)}}})),adjustAxes()),(0,util/* each */.S6)(this._coordsList,(function(coord){
// Calculate affine matrix to accelerate the data to point transform.
// If all the axes scales are time or value.
coord.calcAffineTransform()}))},Grid.prototype.getAxis=function(dim,axisIndex){var axesMapOnDim=this._axesMap[dim];if(null!=axesMapOnDim)return axesMapOnDim[axisIndex||0]},Grid.prototype.getAxes=function(){return this._axesList.slice()},Grid.prototype.getCartesian=function(xAxisIndex,yAxisIndex){if(null!=xAxisIndex&&null!=yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex;return this._coordsMap[key]}(0,util/* isObject */.Kn)(xAxisIndex)&&(yAxisIndex=xAxisIndex.yAxisIndex,xAxisIndex=xAxisIndex.xAxisIndex);for(var i=0,coordList=this._coordsList;i<coordList.length;i++)if(coordList[i].getAxis("x").index===xAxisIndex||coordList[i].getAxis("y").index===yAxisIndex)return coordList[i]},Grid.prototype.getCartesians=function(){return this._coordsList.slice()},
/**
   * @implements
   */
Grid.prototype.convertToPixel=function(ecModel,finder,value){var target=this._findConvertTarget(finder);return target.cartesian?target.cartesian.dataToPoint(value):target.axis?target.axis.toGlobalCoord(target.axis.dataToCoord(value)):null},
/**
   * @implements
   */
Grid.prototype.convertFromPixel=function(ecModel,finder,value){var target=this._findConvertTarget(finder);return target.cartesian?target.cartesian.pointToData(value):target.axis?target.axis.coordToData(target.axis.toLocalCoord(value)):null},Grid.prototype._findConvertTarget=function(finder){var cartesian,axis,seriesModel=finder.seriesModel,xAxisModel=finder.xAxisModel||seriesModel&&seriesModel.getReferringComponents("xAxis",model/* SINGLE_REFERRING */.C6).models[0],yAxisModel=finder.yAxisModel||seriesModel&&seriesModel.getReferringComponents("yAxis",model/* SINGLE_REFERRING */.C6).models[0],gridModel=finder.gridModel,coordsList=this._coordsList;if(seriesModel)cartesian=seriesModel.coordinateSystem,(0,util/* indexOf */.cq)(coordsList,cartesian)<0&&(cartesian=null);else if(xAxisModel&&yAxisModel)cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex);else if(xAxisModel)axis=this.getAxis("x",xAxisModel.componentIndex);else if(yAxisModel)axis=this.getAxis("y",yAxisModel.componentIndex);else if(gridModel){var grid=gridModel.coordinateSystem;grid===this&&(cartesian=this._coordsList[0])}return{cartesian:cartesian,axis:axis}},
/**
   * @implements
   */
Grid.prototype.containPoint=function(point){var coord=this._coordsList[0];if(coord)return coord.containPoint(point)},
/**
   * Initialize cartesian coordinate systems
   */
Grid.prototype._initCartesian=function(gridModel,ecModel,api){var _this=this,grid=this,axisPositionUsed={left:!1,right:!1,top:!1,bottom:!1},axesMap={x:{},y:{}},axesCount={x:0,y:0};if(// Create axis
ecModel.eachComponent("xAxis",createAxisCreator("x"),this),ecModel.eachComponent("yAxis",createAxisCreator("y"),this),!axesCount.x||!axesCount.y)
// Roll back when there no either x or y axis
return this._axesMap={},void(this._axesList=[]);function createAxisCreator(dimName){return function(axisModel,idx){if(isAxisUsedInTheGrid(axisModel,gridModel)){var axisPosition=axisModel.get("position");"x"===dimName?
// Fix position
"top"!==axisPosition&&"bottom"!==axisPosition&&(
// Default bottom of X
axisPosition=axisPositionUsed.bottom?"top":"bottom"):
// Fix position
"left"!==axisPosition&&"right"!==axisPosition&&(
// Default left of Y
axisPosition=axisPositionUsed.left?"right":"left"),axisPositionUsed[axisPosition]=!0;var axis=new cartesian_Axis2D(dimName,(0,axisHelper/* createScaleByModel */.aG)(axisModel),[0,0],axisModel.get("type"),axisPosition),isCategory="category"===axis.type;axis.onBand=isCategory&&axisModel.get("boundaryGap"),axis.inverse=axisModel.get("inverse"),// Inject axis into axisModel
axisModel.axis=axis,// Inject axisModel into axis
axis.model=axisModel,// Inject grid info axis
axis.grid=grid,// Index of axis, can be used as key
axis.index=idx,grid._axesList.push(axis),axesMap[dimName][idx]=axis,axesCount[dimName]++}}}this._axesMap=axesMap,// Create cartesian2d
(0,util/* each */.S6)(axesMap.x,(function(xAxis,xAxisIndex){(0,util/* each */.S6)(axesMap.y,(function(yAxis,yAxisIndex){var key="x"+xAxisIndex+"y"+yAxisIndex,cartesian=new cartesian_Cartesian2D(key);cartesian.master=_this,cartesian.model=gridModel,_this._coordsMap[key]=cartesian,_this._coordsList.push(cartesian),cartesian.addAxis(xAxis),cartesian.addAxis(yAxis)}))}))},
/**
   * Update cartesian properties from series.
   */
Grid.prototype._updateScale=function(ecModel,gridModel){function unionExtent(data,axis){(0,util/* each */.S6)((0,axisHelper/* getDataDimensionsOnAxis */.PY)(data,axis.dim),(function(dim){axis.scale.unionExtentFromData(data,dim)}))}
// Reset scale
(0,util/* each */.S6)(this._axesList,(function(axis){if(axis.scale.setExtent(1/0,-1/0),"category"===axis.type){var categorySortInfo=axis.model.get("categorySortInfo");axis.scale.setSortInfo(categorySortInfo)}})),ecModel.eachSeries((function(seriesModel){if((0,cartesianAxisHelper/* isCartesian2DSeries */.Yh)(seriesModel)){var axesModelMap=(0,cartesianAxisHelper/* findAxisModels */.Mk)(seriesModel),xAxisModel=axesModelMap.xAxisModel,yAxisModel=axesModelMap.yAxisModel;if(!isAxisUsedInTheGrid(xAxisModel,gridModel)||!isAxisUsedInTheGrid(yAxisModel,gridModel))return;var cartesian=this.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex),data=seriesModel.getData(),xAxis=cartesian.getAxis("x"),yAxis=cartesian.getAxis("y");unionExtent(data,xAxis),unionExtent(data,yAxis)}}),this)},
/**
   * @param dim 'x' or 'y' or 'auto' or null/undefined
   */
Grid.prototype.getTooltipAxes=function(dim){var baseAxes=[],otherAxes=[];return(0,util/* each */.S6)(this.getCartesians(),(function(cartesian){var baseAxis=null!=dim&&"auto"!==dim?cartesian.getAxis(dim):cartesian.getBaseAxis(),otherAxis=cartesian.getOtherAxis(baseAxis);(0,util/* indexOf */.cq)(baseAxes,baseAxis)<0&&baseAxes.push(baseAxis),(0,util/* indexOf */.cq)(otherAxes,otherAxis)<0&&otherAxes.push(otherAxis)})),{baseAxes:baseAxes,otherAxes:otherAxes}},Grid.create=function(ecModel,api){var grids=[];return ecModel.eachComponent("grid",(function(gridModel,idx){var grid=new Grid(gridModel,ecModel,api);grid.name="grid_"+idx,// dataSampling requires axis extent, so resize
// should be performed in create stage.
grid.resize(gridModel,api,!0),gridModel.coordinateSystem=grid,grids.push(grid)})),// Inject the coordinateSystems into seriesModel
ecModel.eachSeries((function(seriesModel){if((0,cartesianAxisHelper/* isCartesian2DSeries */.Yh)(seriesModel)){var axesModelMap=(0,cartesianAxisHelper/* findAxisModels */.Mk)(seriesModel),xAxisModel=axesModelMap.xAxisModel,yAxisModel=axesModelMap.yAxisModel,gridModel=xAxisModel.getCoordSysModel();0;var grid=gridModel.coordinateSystem;seriesModel.coordinateSystem=grid.getCartesian(xAxisModel.componentIndex,yAxisModel.componentIndex)}})),grids},// For deciding which dimensions to use when creating list data
Grid.dimensions=cartesian2DDimensions,Grid}();
/**
 * Check if the axis is used in the specified grid.
 */function isAxisUsedInTheGrid(axisModel,gridModel){return axisModel.getCoordSysModel()===gridModel}function fixAxisOnZero(axesMap,otherAxisDim,axis,// Key: see `getOnZeroRecordKey`
onZeroRecords){axis.getAxesOnZeroOf=function(){
// TODO: onZero of multiple axes.
return otherAxisOnZeroOf?[otherAxisOnZeroOf]:[]};// onZero can not be enabled in these two situations:
// 1. When any other axis is a category axis.
// 2. When no axis is cross 0 point.
var otherAxisOnZeroOf,otherAxes=axesMap[otherAxisDim],axisModel=axis.model,onZero=axisModel.get(["axisLine","onZero"]),onZeroAxisIndex=axisModel.get(["axisLine","onZeroAxisIndex"]);if(onZero){// If target axis is specified.
if(null!=onZeroAxisIndex)canOnZeroToAxis(otherAxes[onZeroAxisIndex])&&(otherAxisOnZeroOf=otherAxes[onZeroAxisIndex]);else
// Find the first available other axis.
for(var idx in otherAxes)if(otherAxes.hasOwnProperty(idx)&&canOnZeroToAxis(otherAxes[idx])&&!onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]){otherAxisOnZeroOf=otherAxes[idx];break}otherAxisOnZeroOf&&(onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)]=!0)}function getOnZeroRecordKey(axis){return axis.dim+"_"+axis.index}}function canOnZeroToAxis(axis){return axis&&"category"!==axis.type&&"time"!==axis.type&&(0,axisHelper/* ifAxisCrossZero */.Yb)(axis)}function updateAxisTransform(axis,coordBase){var axisExtent=axis.getExtent(),axisExtentSum=axisExtent[0]+axisExtent[1];// Fast transform
axis.toGlobalCoord="x"===axis.dim?function(coord){return coord+coordBase}:function(coord){return axisExtentSum-coord+coordBase},axis.toLocalCoord="x"===axis.dim?function(coord){return coord-coordBase}:function(coord){return axisExtentSum-coord+coordBase}}
/* harmony default export */var cartesian_Grid=Grid,Group=__webpack_require__(38154),graphic=__webpack_require__(851177),Line=__webpack_require__(522095),AxisBuilder=__webpack_require__(558608),AxisView=__webpack_require__(11726),axisSplitHelper_inner=(0,model/* makeInner */.Yf)();
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/Group.js
function rectCoordAxisBuildSplitArea(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){// TODO: TYPE
var splitAreaModel=axisModel.getModel("splitArea"),areaStyleModel=splitAreaModel.getModel("areaStyle"),areaColors=areaStyleModel.get("color"),gridRect=gridModel.coordinateSystem.getRect(),ticksCoords=axis.getTicksCoords({tickModel:splitAreaModel,clamp:!0});if(ticksCoords.length){// For Making appropriate splitArea animation, the color and anid
// should be corresponding to previous one if possible.
var areaColorsLen=areaColors.length,lastSplitAreaColors=axisSplitHelper_inner(axisView).splitAreaColors,newSplitAreaColors=util/* createHashMap */.kW(),colorIndex=0;if(lastSplitAreaColors)for(var i=0;i<ticksCoords.length;i++){var cIndex=lastSplitAreaColors.get(ticksCoords[i].tickValue);if(null!=cIndex){colorIndex=(cIndex+(areaColorsLen-1)*i)%areaColorsLen;break}}var prev=axis.toGlobalCoord(ticksCoords[0].coord),areaStyle=areaStyleModel.getAreaStyle();areaColors=util/* isArray */.kJ(areaColors)?areaColors:[areaColors];for(i=1;i<ticksCoords.length;i++){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord),x=void 0,y=void 0,width=void 0,height=void 0;axis.isHorizontal()?(x=prev,y=gridRect.y,width=tickCoord-x,height=gridRect.height,prev=x+width):(x=gridRect.x,y=prev,width=gridRect.width,height=tickCoord-y,prev=y+height);var tickValue=ticksCoords[i-1].tickValue;null!=tickValue&&newSplitAreaColors.set(tickValue,colorIndex),axisGroup.add(new Rect/* default */.Z({anid:null!=tickValue?"area_"+tickValue:null,shape:{x:x,y:y,width:width,height:height},style:util/* defaults */.ce({fill:areaColors[colorIndex]},areaStyle),autoBatch:!0,silent:!0})),colorIndex=(colorIndex+1)%areaColorsLen}axisSplitHelper_inner(axisView).splitAreaColors=newSplitAreaColors}}}function rectCoordAxisHandleRemove(axisView){axisSplitHelper_inner(axisView).splitAreaColors=null}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/axis/CartesianAxisView.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=
/** @class */
function(_super){function CartesianAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianAxisView.type,_this.axisPointerClass="CartesianAxisPointer",_this}
/**
   * @override
   */return(0,tslib_es6/* __extends */.ZT)(CartesianAxisView,_super),CartesianAxisView.prototype.render=function(axisModel,ecModel,api,payload){this.group.removeAll();var oldAxisGroup=this._axisGroup;if(this._axisGroup=new Group/* default */.Z,this.group.add(this._axisGroup),axisModel.get("show")){var gridModel=axisModel.getCoordSysModel(),layout=cartesianAxisHelper/* layout */.bK(gridModel,axisModel),axisBuilder=new AxisBuilder/* default */.Z(axisModel,util/* extend */.l7({handleAutoShown:function(elementType){for(var cartesians=gridModel.coordinateSystem.getCartesians(),i=0;i<cartesians.length;i++)if((0,helper/* isIntervalOrLogScale */.lM)(cartesians[i].getOtherAxis(axisModel.axis).scale))
// Still show axis tick or axisLine if other axis is value / log
return!0;// Not show axisTick or axisLine if other axis is category / time
return!1}},layout));util/* each */.S6(axisBuilderAttrs,axisBuilder.add,axisBuilder),this._axisGroup.add(axisBuilder.getGroup()),util/* each */.S6(selfBuilderAttrs,(function(name){axisModel.get([name,"show"])&&axisElementBuilders[name](this,this._axisGroup,axisModel,gridModel)}),this);// THIS is a special case for bar racing chart.
// Update the axis label from the natural initial layout to
// sorted layout should has no animation.
var isInitialSortFromBarRacing=payload&&"changeAxisOrder"===payload.type&&payload.isInitSort;isInitialSortFromBarRacing||graphic.groupTransition(oldAxisGroup,this._axisGroup,axisModel),_super.prototype.render.call(this,axisModel,ecModel,api,payload)}},CartesianAxisView.prototype.remove=function(){rectCoordAxisHandleRemove(this)},CartesianAxisView.type="cartesianAxis",CartesianAxisView}(AxisView/* default */.Z),axisElementBuilders={splitLine:function(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis;if(!axis.scale.isBlank()){var splitLineModel=axisModel.getModel("splitLine"),lineStyleModel=splitLineModel.getModel("lineStyle"),lineColors=lineStyleModel.get("color");lineColors=util/* isArray */.kJ(lineColors)?lineColors:[lineColors];for(var gridRect=gridModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),lineCount=0,ticksCoords=axis.getTicksCoords({tickModel:splitLineModel}),p1=[],p2=[],lineStyle=lineStyleModel.getLineStyle(),i=0;i<ticksCoords.length;i++){var tickCoord=axis.toGlobalCoord(ticksCoords[i].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var colorIndex=lineCount++%lineColors.length,tickValue=ticksCoords[i].tickValue,line=new Line/* default */.Z({anid:null!=tickValue?"line_"+ticksCoords[i].tickValue:null,autoBatch:!0,shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},style:util/* defaults */.ce({stroke:lineColors[colorIndex]},lineStyle),silent:!0});graphic.subPixelOptimizeLine(line.shape,lineStyle.lineWidth),axisGroup.add(line)}}},minorSplitLine:function(axisView,axisGroup,axisModel,gridModel){var axis=axisModel.axis,minorSplitLineModel=axisModel.getModel("minorSplitLine"),lineStyleModel=minorSplitLineModel.getModel("lineStyle"),gridRect=gridModel.coordinateSystem.getRect(),isHorizontal=axis.isHorizontal(),minorTicksCoords=axis.getMinorTicksCoords();if(minorTicksCoords.length)for(var p1=[],p2=[],lineStyle=lineStyleModel.getLineStyle(),i=0;i<minorTicksCoords.length;i++)for(var k=0;k<minorTicksCoords[i].length;k++){var tickCoord=axis.toGlobalCoord(minorTicksCoords[i][k].coord);isHorizontal?(p1[0]=tickCoord,p1[1]=gridRect.y,p2[0]=tickCoord,p2[1]=gridRect.y+gridRect.height):(p1[0]=gridRect.x,p1[1]=tickCoord,p2[0]=gridRect.x+gridRect.width,p2[1]=tickCoord);var line=new Line/* default */.Z({anid:"minor_line_"+minorTicksCoords[i][k].tickValue,autoBatch:!0,shape:{x1:p1[0],y1:p1[1],x2:p2[0],y2:p2[1]},style:lineStyle,silent:!0});graphic.subPixelOptimizeLine(line.shape,lineStyle.lineWidth),axisGroup.add(line)}},splitArea:function(axisView,axisGroup,axisModel,gridModel){rectCoordAxisBuildSplitArea(axisView,axisGroup,axisModel,gridModel)}},CartesianXAxisView=
/** @class */
function(_super){function CartesianXAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianXAxisView.type,_this}return(0,tslib_es6/* __extends */.ZT)(CartesianXAxisView,_super),CartesianXAxisView.type="xAxis",CartesianXAxisView}(CartesianAxisView),CartesianYAxisView=
/** @class */
function(_super){function CartesianYAxisView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=CartesianXAxisView.type,_this}return(0,tslib_es6/* __extends */.ZT)(CartesianYAxisView,_super),CartesianYAxisView.type="yAxis",CartesianYAxisView}(CartesianAxisView),GridView=
/** @class */
function(_super){function GridView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type="grid",_this}return(0,tslib_es6/* __extends */.ZT)(GridView,_super),GridView.prototype.render=function(gridModel,ecModel){this.group.removeAll(),gridModel.get("show")&&this.group.add(new Rect/* default */.Z({shape:gridModel.coordinateSystem.getRect(),style:(0,util/* defaults */.ce)({fill:gridModel.get("backgroundColor")},gridModel.getItemStyle()),silent:!0,z2:-1}))},GridView.type="grid",GridView}(Component/* default */.Z),extraOption={
// gridIndex: 0,
// gridId: '',
offset:0};function install(registers){registers.registerComponentView(GridView),registers.registerComponentModel(cartesian_GridModel),registers.registerCoordinateSystem("cartesian2d",cartesian_Grid),axisModelCreator(registers,"x",CartesianAxisModel,extraOption),axisModelCreator(registers,"y",CartesianAxisModel,extraOption),registers.registerComponentView(CartesianXAxisView),registers.registerComponentView(CartesianYAxisView),registers.registerPreprocessor((function(option){
// Only create grid when need
option.xAxis&&option.yAxis&&!option.grid&&(option.grid={})}))}
/***/},
/***/146677:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return helper_RoamController}});
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),Eventful=__webpack_require__(923510),core_event=__webpack_require__(461158),echarts=__webpack_require__(169255),util=__webpack_require__(933051),ATTR="\0_ec_interaction_mutex";
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/Eventful.js
function isTaken(zr,resourceKey){return!!getStore(zr)[resourceKey]}function getStore(zr){return zr[ATTR]||(zr[ATTR]={})}
/**
 * payload: {
 *     type: 'takeGlobalCursor',
 *     key: 'dataZoomSelect', or 'brush', or ...,
 *         If no userKey, release global cursor.
 * }
 */
// TODO: SELF REGISTERED.
echarts/* registerAction */.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},util/* noop */.ZT);var RoamController=
/** @class */
function(_super){function RoamController(zr){var _this=_super.call(this)||this;_this._zr=zr;// Avoid two roamController bind the same handler
var mousedownHandler=(0,util/* bind */.ak)(_this._mousedownHandler,_this),mousemoveHandler=(0,util/* bind */.ak)(_this._mousemoveHandler,_this),mouseupHandler=(0,util/* bind */.ak)(_this._mouseupHandler,_this),mousewheelHandler=(0,util/* bind */.ak)(_this._mousewheelHandler,_this),pinchHandler=(0,util/* bind */.ak)(_this._pinchHandler,_this);
/**
     * Notice: only enable needed types. For example, if 'zoom'
     * is not needed, 'zoom' should not be enabled, otherwise
     * default mousewheel behaviour (scroll page) will be disabled.
     */
return _this.enable=function(controlType,opt){
// Disable previous first
this.disable(),this._opt=(0,util/* defaults */.ce)((0,util/* clone */.d9)(opt)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,
// By default, wheel do not trigger move.
moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==controlType&&(controlType=!0),!0!==controlType&&"move"!==controlType&&"pan"!==controlType||(zr.on("mousedown",mousedownHandler),zr.on("mousemove",mousemoveHandler),zr.on("mouseup",mouseupHandler)),!0!==controlType&&"scale"!==controlType&&"zoom"!==controlType||(zr.on("mousewheel",mousewheelHandler),zr.on("pinch",pinchHandler))},_this.disable=function(){zr.off("mousedown",mousedownHandler),zr.off("mousemove",mousemoveHandler),zr.off("mouseup",mouseupHandler),zr.off("mousewheel",mousewheelHandler),zr.off("pinch",pinchHandler)},_this}return(0,tslib_es6/* __extends */.ZT)(RoamController,_super),RoamController.prototype.isDragging=function(){return this._dragging},RoamController.prototype.isPinching=function(){return this._pinching},RoamController.prototype.setPointerChecker=function(pointerChecker){this.pointerChecker=pointerChecker},RoamController.prototype.dispose=function(){this.disable()},RoamController.prototype._mousedownHandler=function(e){if(!core_event/* isMiddleOrRightButtonOnMouseUpDown */.x1(e)){var el=e.target;while(el){if(el.draggable)return;// check if host is draggable
el=el.__hostTarget||el.parent}var x=e.offsetX,y=e.offsetY;// Only check on mosedown, but not mousemove.
// Mouse can be out of target when mouse moving.
this.pointerChecker&&this.pointerChecker(e,x,y)&&(this._x=x,this._y=y,this._dragging=!0)}},RoamController.prototype._mousemoveHandler=function(e){if(this._dragging&&isAvailableBehavior("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!isTaken(this._zr,"globalPan")){var x=e.offsetX,y=e.offsetY,oldX=this._x,oldY=this._y,dx=x-oldX,dy=y-oldY;this._x=x,this._y=y,this._opt.preventDefaultMouseMove&&core_event/* stop */.sT(e.event),trigger(this,"pan","moveOnMouseMove",e,{dx:dx,dy:dy,oldX:oldX,oldY:oldY,newX:x,newY:y,isAvailableBehavior:null})}},RoamController.prototype._mouseupHandler=function(e){core_event/* isMiddleOrRightButtonOnMouseUpDown */.x1(e)||(this._dragging=!1)},RoamController.prototype._mousewheelHandler=function(e){var shouldZoom=isAvailableBehavior("zoomOnMouseWheel",e,this._opt),shouldMove=isAvailableBehavior("moveOnMouseWheel",e,this._opt),wheelDelta=e.wheelDelta,absWheelDeltaDelta=Math.abs(wheelDelta),originX=e.offsetX,originY=e.offsetY;// wheelDelta maybe -0 in chrome mac.
if(0!==wheelDelta&&(shouldZoom||shouldMove)){// If both `shouldZoom` and `shouldMove` is true, trigger
// their event both, and the final behavior is determined
// by event listener themselves.
if(shouldZoom){
// Convenience:
// Mac and VM Windows on Mac: scroll up: zoom out.
// Windows: scroll up: zoom in.
// FIXME: Should do more test in different environment.
// wheelDelta is too complicated in difference nvironment
// (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),
// although it has been normallized by zrender.
// wheelDelta of mouse wheel is bigger than touch pad.
var factor=absWheelDeltaDelta>3?1.4:absWheelDeltaDelta>1?1.2:1.1,scale=wheelDelta>0?factor:1/factor;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",e,{scale:scale,originX:originX,originY:originY,isAvailableBehavior:null})}if(shouldMove){
// FIXME: Should do more test in different environment.
var absDelta=Math.abs(wheelDelta),scrollDelta=(wheelDelta>0?1:-1)*(absDelta>3?.4:absDelta>1?.15:.05);// wheelDelta of mouse wheel is bigger than touch pad.
checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:scrollDelta,originX:originX,originY:originY,isAvailableBehavior:null})}}},RoamController.prototype._pinchHandler=function(e){if(!isTaken(this._zr,"globalPan")){var scale=e.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,e,{scale:scale,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})}},RoamController}(Eventful/* default */.Z);function checkPointerAndTrigger(controller,eventName,behaviorToCheck,e,contollerEvent){controller.pointerChecker&&controller.pointerChecker(e,contollerEvent.originX,contollerEvent.originY)&&(
// When mouse is out of roamController rect,
// default befavoius should not be be disabled, otherwise
// page sliding is disabled, contrary to expectation.
core_event/* stop */.sT(e.event),trigger(controller,eventName,behaviorToCheck,e,contollerEvent))}function trigger(controller,eventName,behaviorToCheck,e,contollerEvent){
// Also provide behavior checker for event listener, for some case that
// multiple components share one listener.
contollerEvent.isAvailableBehavior=(0,util/* bind */.ak)(isAvailableBehavior,null,behaviorToCheck,e),// TODO should not have type issue.
controller.trigger(eventName,contollerEvent)}// settings: {
//     zoomOnMouseWheel
//     moveOnMouseMove
//     moveOnMouseWheel
// }
// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.
function isAvailableBehavior(behaviorToCheck,e,settings){var setting=settings[behaviorToCheck];return!behaviorToCheck||setting&&(!(0,util/* isString */.HD)(setting)||e.event[setting+"Key"])}
/* harmony default export */var helper_RoamController=RoamController;
/***/},
/***/19233:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Calculate slider move result.
 * Usage:
 * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as
 * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.
 * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.
 *
 * @param delta Move length.
 * @param handleEnds handleEnds[0] can be bigger then handleEnds[1].
 *              handleEnds will be modified in this method.
 * @param extent handleEnds is restricted by extent.
 *              extent[0] should less or equals than extent[1].
 * @param handleIndex Can be 'all', means that both move the two handleEnds.
 * @param minSpan The range of dataZoom can not be smaller than that.
 *              If not set, handle0 and cross handle1. If set as a non-negative
 *              number (including `0`), handles will push each other when reaching
 *              the minSpan.
 * @param maxSpan The range of dataZoom can not be larger than that.
 * @return The input handleEnds.
 */
function sliderMove(delta,handleEnds,extent,handleIndex,minSpan,maxSpan){delta=delta||0;var extentSpan=extent[1]-extent[0];// Notice maxSpan and minSpan can be null/undefined.
if(null!=minSpan&&(minSpan=restrict(minSpan,[0,extentSpan])),null!=maxSpan&&(maxSpan=Math.max(maxSpan,null!=minSpan?minSpan:0)),"all"===handleIndex){var handleSpan=Math.abs(handleEnds[1]-handleEnds[0]);handleSpan=restrict(handleSpan,[0,extentSpan]),minSpan=maxSpan=restrict(handleSpan,[minSpan,maxSpan]),handleIndex=0}handleEnds[0]=restrict(handleEnds[0],extent),handleEnds[1]=restrict(handleEnds[1],extent);var originalDistSign=getSpanSign(handleEnds,handleIndex);handleEnds[handleIndex]+=delta;// Restrict in extent.
var currDistSign,extentMinSpan=minSpan||0,realExtent=extent.slice();return originalDistSign.sign<0?realExtent[0]+=extentMinSpan:realExtent[1]-=extentMinSpan,handleEnds[handleIndex]=restrict(handleEnds[handleIndex],realExtent),currDistSign=getSpanSign(handleEnds,handleIndex),null!=minSpan&&(currDistSign.sign!==originalDistSign.sign||currDistSign.span<minSpan)&&(
// If minSpan exists, 'cross' is forbidden.
handleEnds[1-handleIndex]=handleEnds[handleIndex]+originalDistSign.sign*minSpan),// Shrink span.
currDistSign=getSpanSign(handleEnds,handleIndex),null!=maxSpan&&currDistSign.span>maxSpan&&(handleEnds[1-handleIndex]=handleEnds[handleIndex]+currDistSign.sign*maxSpan),handleEnds}function getSpanSign(handleEnds,handleIndex){var dist=handleEnds[handleIndex]-handleEnds[1-handleIndex];// If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]
// is at left of handleEnds[1] for non-cross case.
return{span:Math.abs(dist),sign:dist>0?-1:dist<0?1:handleIndex?-1:1}}function restrict(value,extend){return Math.min(null!=extend[1]?extend[1]:1/0,Math.max(null!=extend[0]?extend[0]:-1/0,value))}
/***/
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return sliderMove}
/* harmony export */})},
/***/154488:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install_install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/extension.js
var extension=__webpack_require__(768023),tslib_es6=__webpack_require__(570655),util=__webpack_require__(933051),Model=__webpack_require__(812312),model=__webpack_require__(232234),Component=__webpack_require__(498071),getDefaultSelectorOptions=function(ecModel,type){return"all"===type?{type:"all",title:ecModel.getLocaleModel().get(["legend","selector","all"])}:"inverse"===type?{type:"inverse",title:ecModel.getLocaleModel().get(["legend","selector","inverse"])}:void 0},LegendModel=
/** @class */
function(_super){function LegendModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LegendModel.type,_this.layoutMode={type:"box",
// legend.width/height are maxWidth/maxHeight actually,
// whereas real width/height is calculated by its content.
// (Setting {left: 10, right: 10} does not make sense).
// So consider the case:
// `setOption({legend: {left: 10});`
// then `setOption({legend: {right: 10});`
// The previous `left` should be cleared by setting `ignoreSize`.
ignoreSize:!0},_this}return(0,tslib_es6/* __extends */.ZT)(LegendModel,_super),LegendModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel),option.selected=option.selected||{},this._updateSelector(option)},LegendModel.prototype.mergeOption=function(option,ecModel){_super.prototype.mergeOption.call(this,option,ecModel),this._updateSelector(option)},LegendModel.prototype._updateSelector=function(option){var selector=option.selector,ecModel=this.ecModel;!0===selector&&(selector=option.selector=["all","inverse"]),util/* isArray */.kJ(selector)&&util/* each */.S6(selector,(function(item,index){util/* isString */.HD(item)&&(item={type:item}),selector[index]=util/* merge */.TS(item,getDefaultSelectorOptions(ecModel,item.type))}))},LegendModel.prototype.optionUpdated=function(){this._updateData(this.ecModel);var legendData=this._data;// If selectedMode is single, try to select one
if(legendData[0]&&"single"===this.get("selectedMode")){// If has any selected in option.selected
for(var hasSelected=!1,i=0;i<legendData.length;i++){var name_1=legendData[i].get("name");if(this.isSelected(name_1)){
// Force to unselect others
this.select(name_1),hasSelected=!0;break}}// Try select the first if selectedMode is single
!hasSelected&&this.select(legendData[0].get("name"))}},LegendModel.prototype._updateData=function(ecModel){var potentialData=[],availableNames=[];ecModel.eachRawSeries((function(seriesModel){var isPotential,seriesName=seriesModel.name;if(availableNames.push(seriesName),seriesModel.legendVisualProvider){var provider=seriesModel.legendVisualProvider,names=provider.getAllNames();ecModel.isSeriesFiltered(seriesModel)||(availableNames=availableNames.concat(names)),names.length?potentialData=potentialData.concat(names):isPotential=!0}else isPotential=!0;isPotential&&(0,model/* isNameSpecified */.yu)(seriesModel)&&potentialData.push(seriesModel.name)})),
/**
     * @type {Array.<string>}
     * @private
     */
this._availableNames=availableNames;// If legend.data is not specified in option, use availableNames as data,
// which is convenient for user preparing option.
var rawData=this.get("data")||potentialData,legendNameMap=util/* createHashMap */.kW(),legendData=util/* map */.UI(rawData,(function(dataItem){
// Can be string or number
return(util/* isString */.HD(dataItem)||util/* isNumber */.hj(dataItem))&&(dataItem={name:dataItem}),legendNameMap.get(dataItem.name)?null:(legendNameMap.set(dataItem.name,!0),new Model/* default */.Z(dataItem,this,this.ecModel))}),this);
/**
     * @type {Array.<module:echarts/model/Model>}
     * @private
     */
this._data=util/* filter */.hX(legendData,(function(item){return!!item}))},LegendModel.prototype.getData=function(){return this._data},LegendModel.prototype.select=function(name){var selected=this.option.selected,selectedMode=this.get("selectedMode");if("single"===selectedMode){var data=this._data;util/* each */.S6(data,(function(dataItem){selected[dataItem.get("name")]=!1}))}selected[name]=!0},LegendModel.prototype.unSelect=function(name){"single"!==this.get("selectedMode")&&(this.option.selected[name]=!1)},LegendModel.prototype.toggleSelected=function(name){var selected=this.option.selected;// Default is true
selected.hasOwnProperty(name)||(selected[name]=!0),this[selected[name]?"unSelect":"select"](name)},LegendModel.prototype.allSelect=function(){var data=this._data,selected=this.option.selected;util/* each */.S6(data,(function(dataItem){selected[dataItem.get("name",!0)]=!0}))},LegendModel.prototype.inverseSelect=function(){var data=this._data,selected=this.option.selected;util/* each */.S6(data,(function(dataItem){var name=dataItem.get("name",!0);// Initially, default value is true
selected.hasOwnProperty(name)||(selected[name]=!0),selected[name]=!selected[name]}))},LegendModel.prototype.isSelected=function(name){var selected=this.option.selected;return!(selected.hasOwnProperty(name)&&!selected[name])&&util/* indexOf */.cq(this._availableNames,name)>=0},LegendModel.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},LegendModel.type="legend.plain",LegendModel.dependencies=["series"],LegendModel.defaultOption={
// zlevel: 0,
z:4,show:!0,orient:"horizontal",left:"center",
// right: 'center',
top:0,
// bottom: null,
align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},LegendModel}(Component/* default */.Z),legend_LegendModel=LegendModel,color=__webpack_require__(321092),Group=__webpack_require__(38154),Text=__webpack_require__(679750),Rect=__webpack_require__(25293),graphic=__webpack_require__(851177),states=__webpack_require__(726357),labelStyle=__webpack_require__(336006),format=__webpack_require__(578988);
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function makeBackground(rect,componentModel){var padding=format/* normalizeCssArray */.MY(componentModel.get("padding")),style=componentModel.getItemStyle(["color","opacity"]);// FIXME
// `subPixelOptimizeRect` may bring some gap between edge of viewpart
// and background rect when setting like `left: 0`, `top: 0`.
// graphic.subPixelOptimizeRect(rect);
return style.fill=componentModel.get("backgroundColor"),rect=new Rect/* default */.Z({shape:{x:rect.x-padding[3],y:rect.y-padding[0],width:rect.width+padding[1]+padding[3],height:rect.height+padding[0]+padding[2],r:componentModel.get("borderRadius")},style:style,silent:!0,z2:-1}),rect}
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/layout.js
var util_layout=__webpack_require__(576172),view_Component=__webpack_require__(833166),symbol=__webpack_require__(241525),decal=__webpack_require__(559361),curry=util/* curry */.WA,each=util/* each */.S6,LegendView_Group=Group/* default */.Z,LegendView=
/** @class */
function(_super){function LegendView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=LegendView.type,_this.newlineDisabled=!1,_this}return(0,tslib_es6/* __extends */.ZT)(LegendView,_super),LegendView.prototype.init=function(){this.group.add(this._contentGroup=new LegendView_Group),this.group.add(this._selectorGroup=new LegendView_Group),this._isFirstRender=!0},
/**
   * @protected
   */
LegendView.prototype.getContentGroup=function(){return this._contentGroup},
/**
   * @protected
   */
LegendView.prototype.getSelectorGroup=function(){return this._selectorGroup},
/**
   * @override
   */
LegendView.prototype.render=function(legendModel,ecModel,api){var isFirstRender=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),legendModel.get("show",!0)){var itemAlign=legendModel.get("align"),orient=legendModel.get("orient");itemAlign&&"auto"!==itemAlign||(itemAlign="right"===legendModel.get("left")&&"vertical"===orient?"right":"left");// selector has been normalized to an array in model
var selector=legendModel.get("selector",!0),selectorPosition=legendModel.get("selectorPosition",!0);!selector||selectorPosition&&"auto"!==selectorPosition||(selectorPosition="horizontal"===orient?"end":"start"),this.renderInner(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition);// Perform layout.
var positionInfo=legendModel.getBoxLayoutParams(),viewportSize={width:api.getWidth(),height:api.getHeight()},padding=legendModel.get("padding"),maxSize=util_layout/* getLayoutRect */.ME(positionInfo,viewportSize,padding),mainRect=this.layoutInner(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition),layoutRect=util_layout/* getLayoutRect */.ME(util/* defaults */.ce({width:mainRect.width,height:mainRect.height},positionInfo),viewportSize,padding);this.group.x=layoutRect.x-mainRect.x,this.group.y=layoutRect.y-mainRect.y,this.group.markRedraw(),// Render background after group is layout.
this.group.add(this._backgroundEl=makeBackground(mainRect,legendModel))}},LegendView.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},LegendView.prototype.renderInner=function(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition){var contentGroup=this.getContentGroup(),legendDrawnMap=util/* createHashMap */.kW(),selectMode=legendModel.get("selectedMode"),excludeSeriesId=[];ecModel.eachRawSeries((function(seriesModel){!seriesModel.get("legendHoverLink")&&excludeSeriesId.push(seriesModel.id)})),each(legendModel.getData(),(function(legendItemModel,dataIndex){var name=legendItemModel.get("name");// Use empty string or \n as a newline string
if(!this.newlineDisabled&&(""===name||"\n"===name)){var g=new LegendView_Group;// @ts-ignore
return g.newline=!0,void contentGroup.add(g)}// Representitive series.
var seriesModel=ecModel.getSeriesByName(name)[0];if(!legendDrawnMap.get(name)){// Legend to control series.
if(seriesModel){var data=seriesModel.getData(),lineVisualStyle=data.getVisual("legendLineStyle")||{},legendIcon=data.getVisual("legendIcon"),style=data.getVisual("style"),itemGroup=this._createItem(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,lineVisualStyle,style,legendIcon,selectMode,api);itemGroup.on("click",curry(dispatchSelectAction,name,null,api,excludeSeriesId)).on("mouseover",curry(dispatchHighlightAction,seriesModel.name,null,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,seriesModel.name,null,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}else
// Legend to control data. In pie and funnel.
ecModel.eachRawSeries((function(seriesModel){
// In case multiple series has same data name
if(!legendDrawnMap.get(name)&&seriesModel.legendVisualProvider){var provider=seriesModel.legendVisualProvider;if(!provider.containName(name))return;var idx=provider.indexOfName(name),style=provider.getItemVisual(idx,"style"),legendIcon=provider.getItemVisual(idx,"legendIcon"),colorArr=(0,color/* parse */.Qc)(style.fill);// Color may be set to transparent in visualMap when data is out of range.
// Do not show nothing.
colorArr&&0===colorArr[3]&&(colorArr[3]=.2,// TODO color is set to 0, 0, 0, 0. Should show correct RGBA
style=util/* extend */.l7(util/* extend */.l7({},style),{fill:(0,color/* stringify */.Pz)(colorArr,"rgba")}));var itemGroup=this._createItem(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,{},style,legendIcon,selectMode,api);// FIXME: consider different series has items with the same name.
itemGroup.on("click",curry(dispatchSelectAction,null,name,api,excludeSeriesId)).on("mouseover",curry(dispatchHighlightAction,null,name,api,excludeSeriesId)).on("mouseout",curry(dispatchDownplayAction,null,name,api,excludeSeriesId)),legendDrawnMap.set(name,!0)}}),this);0}}),this),selector&&this._createSelector(selector,legendModel,api,orient,selectorPosition)},LegendView.prototype._createSelector=function(selector,legendModel,api,orient,selectorPosition){var selectorGroup=this.getSelectorGroup();each(selector,(function(selectorItem){var type=selectorItem.type,labelText=new Text/* default */.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){api.dispatchAction({type:"all"===type?"legendAllSelect":"legendInverseSelect"})}});selectorGroup.add(labelText);var labelModel=legendModel.getModel("selectorLabel"),emphasisLabelModel=legendModel.getModel(["emphasis","selectorLabel"]);(0,labelStyle/* setLabelStyle */.ni)(labelText,{normal:labelModel,emphasis:emphasisLabelModel},{defaultText:selectorItem.title}),(0,states/* enableHoverEmphasis */.vF)(labelText)}))},LegendView.prototype._createItem=function(seriesModel,name,dataIndex,legendItemModel,legendModel,itemAlign,lineVisualStyle,itemVisualStyle,legendIcon,selectMode,api){var drawType=seriesModel.visualDrawType,itemWidth=legendModel.get("itemWidth"),itemHeight=legendModel.get("itemHeight"),isSelected=legendModel.isSelected(name),iconRotate=legendItemModel.get("symbolRotate"),symbolKeepAspect=legendItemModel.get("symbolKeepAspect"),legendIconType=legendItemModel.get("icon");legendIcon=legendIconType||legendIcon||"roundRect";var style=getLegendStyle(legendIcon,legendItemModel,lineVisualStyle,itemVisualStyle,drawType,isSelected,api),itemGroup=new LegendView_Group,textStyleModel=legendItemModel.getModel("textStyle");if(!util/* isFunction */.mf(seriesModel.getLegendIcon)||legendIconType&&"inherit"!==legendIconType){
// Use default legend icon policy for most series
var rotate="inherit"===legendIconType&&seriesModel.getData().getVisual("symbol")?"inherit"===iconRotate?seriesModel.getData().getVisual("symbolRotate"):iconRotate:0;// No rotation for no icon
itemGroup.add(getDefaultLegendIcon({itemWidth:itemWidth,itemHeight:itemHeight,icon:legendIcon,iconRotate:rotate,itemStyle:style.itemStyle,lineStyle:style.lineStyle,symbolKeepAspect:symbolKeepAspect}))}else
// Series has specific way to define legend icon
itemGroup.add(seriesModel.getLegendIcon({itemWidth:itemWidth,itemHeight:itemHeight,icon:legendIcon,iconRotate:iconRotate,itemStyle:style.itemStyle,lineStyle:style.lineStyle,symbolKeepAspect:symbolKeepAspect}));var textX="left"===itemAlign?itemWidth+5:-5,textAlign=itemAlign,formatter=legendModel.get("formatter"),content=name;util/* isString */.HD(formatter)&&formatter?content=formatter.replace("{name}",null!=name?name:""):util/* isFunction */.mf(formatter)&&(content=formatter(name));var textColor=isSelected?textStyleModel.getTextColor():legendItemModel.get("inactiveColor");itemGroup.add(new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{text:content,x:textX,y:itemHeight/2,fill:textColor,align:textAlign,verticalAlign:"middle"},{inheritColor:textColor})}));// Add a invisible rect to increase the area of mouse hover
var hitRect=new Rect/* default */.Z({shape:itemGroup.getBoundingRect(),invisible:!0}),tooltipModel=legendItemModel.getModel("tooltip");return tooltipModel.get("show")&&graphic.setTooltipConfig({el:hitRect,componentModel:legendModel,itemName:name,itemTooltipOption:tooltipModel.option}),itemGroup.add(hitRect),itemGroup.eachChild((function(child){child.silent=!0})),hitRect.silent=!selectMode,this.getContentGroup().add(itemGroup),(0,states/* enableHoverEmphasis */.vF)(itemGroup),// @ts-ignore
itemGroup.__legendDataIndex=dataIndex,itemGroup},LegendView.prototype.layoutInner=function(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition){var contentGroup=this.getContentGroup(),selectorGroup=this.getSelectorGroup();// Place items in contentGroup.
util_layout/* box */.BZ(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),maxSize.width,maxSize.height);var contentRect=contentGroup.getBoundingRect(),contentPos=[-contentRect.x,-contentRect.y];if(selectorGroup.markRedraw(),contentGroup.markRedraw(),selector){
// Place buttons in selectorGroup
util_layout/* box */.BZ(// Buttons in selectorGroup always layout horizontally
"horizontal",selectorGroup,legendModel.get("selectorItemGap",!0));var selectorRect=selectorGroup.getBoundingRect(),selectorPos=[-selectorRect.x,-selectorRect.y],selectorButtonGap=legendModel.get("selectorButtonGap",!0),orientIdx=legendModel.getOrient().index,wh=0===orientIdx?"width":"height",hw=0===orientIdx?"height":"width",yx=0===orientIdx?"y":"x";"end"===selectorPosition?selectorPos[orientIdx]+=contentRect[wh]+selectorButtonGap:contentPos[orientIdx]+=selectorRect[wh]+selectorButtonGap,// Always align selector to content as 'middle'
selectorPos[1-orientIdx]+=contentRect[hw]/2-selectorRect[hw]/2,selectorGroup.x=selectorPos[0],selectorGroup.y=selectorPos[1],contentGroup.x=contentPos[0],contentGroup.y=contentPos[1];var mainRect={x:0,y:0};return mainRect[wh]=contentRect[wh]+selectorButtonGap+selectorRect[wh],mainRect[hw]=Math.max(contentRect[hw],selectorRect[hw]),mainRect[yx]=Math.min(0,selectorRect[yx]+selectorPos[1-orientIdx]),mainRect}return contentGroup.x=contentPos[0],contentGroup.y=contentPos[1],this.group.getBoundingRect()},
/**
   * @protected
   */
LegendView.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},LegendView.type="legend.plain",LegendView}(view_Component/* default */.Z);
// EXTERNAL MODULE: ./node_modules/echarts/lib/view/Component.js
function getLegendStyle(iconType,legendItemModel,lineVisualStyle,itemVisualStyle,drawType,isSelected,api){
/**
   * Use series style if is inherit;
   * elsewise, use legend style
   */
function handleCommonProps(style,visualStyle){
// If lineStyle.width is 'auto', it is set to be 2 if series has border
"auto"===style.lineWidth&&(style.lineWidth=visualStyle.lineWidth>0?2:0),each(style,(function(propVal,propName){"inherit"===style[propName]&&(style[propName]=visualStyle[propName])}))}// itemStyle
var itemStyleModel=legendItemModel.getModel("itemStyle"),itemStyle=itemStyleModel.getItemStyle(),iconBrushType=0===iconType.lastIndexOf("empty",0)?"fill":"stroke",decalStyle=itemStyleModel.getShallow("decal");itemStyle.decal=decalStyle&&"inherit"!==decalStyle?(0,decal/* createOrUpdatePatternFromDecal */.I)(decalStyle,api):itemVisualStyle.decal,"inherit"===itemStyle.fill&&(
/**
     * Series with visualDrawType as 'stroke' should have
     * series stroke as legend fill
     */
itemStyle.fill=itemVisualStyle[drawType]),"inherit"===itemStyle.stroke&&(
/**
     * icon type with "emptyXXX" should use fill color
     * in visual style
     */
itemStyle.stroke=itemVisualStyle[iconBrushType]),"inherit"===itemStyle.opacity&&(
/**
     * Use lineStyle.opacity if drawType is stroke
     */
itemStyle.opacity=("fill"===drawType?itemVisualStyle:lineVisualStyle).opacity),handleCommonProps(itemStyle,itemVisualStyle);// lineStyle
var legendLineModel=legendItemModel.getModel("lineStyle"),lineStyle=legendLineModel.getLineStyle();if(handleCommonProps(lineStyle,lineVisualStyle),// Fix auto color to real color
"auto"===itemStyle.fill&&(itemStyle.fill=itemVisualStyle.fill),"auto"===itemStyle.stroke&&(itemStyle.stroke=itemVisualStyle.fill),"auto"===lineStyle.stroke&&(lineStyle.stroke=itemVisualStyle.fill),!isSelected){var borderWidth=legendItemModel.get("inactiveBorderWidth"),visualHasBorder=itemStyle[iconBrushType];
/**
     * Since stroke is set to be inactiveBorderColor, it may occur that
     * there is no border in series but border in legend, so we need to
     * use border only when series has border if is set to be auto
     */itemStyle.lineWidth="auto"===borderWidth?itemVisualStyle.lineWidth>0&&visualHasBorder?2:0:itemStyle.lineWidth,itemStyle.fill=legendItemModel.get("inactiveColor"),itemStyle.stroke=legendItemModel.get("inactiveBorderColor"),lineStyle.stroke=legendLineModel.get("inactiveColor"),lineStyle.lineWidth=legendLineModel.get("inactiveWidth")}return{itemStyle:itemStyle,lineStyle:lineStyle}}function getDefaultLegendIcon(opt){var symboType=opt.icon||"roundRect",icon=(0,symbol/* createSymbol */.th)(symboType,0,0,opt.itemWidth,opt.itemHeight,opt.itemStyle.fill,opt.symbolKeepAspect);return icon.setStyle(opt.itemStyle),icon.rotation=(opt.iconRotate||0)*Math.PI/180,icon.setOrigin([opt.itemWidth/2,opt.itemHeight/2]),symboType.indexOf("empty")>-1&&(icon.style.stroke=icon.style.fill,icon.style.fill="#fff",icon.style.lineWidth=2),icon}function dispatchSelectAction(seriesName,dataName,api,excludeSeriesId){
// downplay before unselect
dispatchDownplayAction(seriesName,dataName,api,excludeSeriesId),api.dispatchAction({type:"legendToggleSelect",name:null!=seriesName?seriesName:dataName}),// highlight after select
// TODO highlight immediately may cause animation loss.
dispatchHighlightAction(seriesName,dataName,api,excludeSeriesId)}function isUseHoverLayer(api){var emphasisState,list=api.getZr().storage.getDisplayList(),i=0,len=list.length;while(i<len&&!(emphasisState=list[i].states.emphasis))i++;return emphasisState&&emphasisState.hoverLayer}function dispatchHighlightAction(seriesName,dataName,api,excludeSeriesId){
// If element hover will move to a hoverLayer.
isUseHoverLayer(api)||api.dispatchAction({type:"highlight",seriesName:seriesName,name:dataName,excludeSeriesId:excludeSeriesId})}function dispatchDownplayAction(seriesName,dataName,api,excludeSeriesId){
// If element hover will move to a hoverLayer.
isUseHoverLayer(api)||api.dispatchAction({type:"downplay",seriesName:seriesName,name:dataName,excludeSeriesId:excludeSeriesId})}
/* harmony default export */var legend_LegendView=LegendView;// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/legendFilter.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function legendFilter(ecModel){var legendModels=ecModel.findComponents({mainType:"legend"});legendModels&&legendModels.length&&ecModel.filterSeries((function(series){
// If in any legend component the status is not selected.
// Because in legend series is assumed selected when it is not in the legend data.
for(var i=0;i<legendModels.length;i++)if(!legendModels[i].isSelected(series.name))return!1;return!0}))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/legendAction.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// @ts-nocheck
function legendSelectActionHandler(methodName,payload,ecModel){var isSelected,selectedMap={},isToggleSelect="toggleSelected"===methodName;// Return the event explicitly
// Update all legend components
return ecModel.eachComponent("legend",(function(legendModel){isToggleSelect&&null!=isSelected?
// Force other legend has same selected status
// Or the first is toggled to true and other are toggled to false
// In the case one legend has some item unSelected in option. And if other legend
// doesn't has the item, they will assume it is selected.
legendModel[isSelected?"select":"unSelect"](payload.name):"allSelect"===methodName||"inverseSelect"===methodName?legendModel[methodName]():(legendModel[methodName](payload.name),isSelected=legendModel.isSelected(payload.name));var legendData=legendModel.getData();(0,util/* each */.S6)(legendData,(function(model){var name=model.get("name");// Wrap element
if("\n"!==name&&""!==name){var isItemSelected=legendModel.isSelected(name);selectedMap.hasOwnProperty(name)?
// Unselected if any legend is unselected
selectedMap[name]=selectedMap[name]&&isItemSelected:selectedMap[name]=isItemSelected}}))})),"allSelect"===methodName||"inverseSelect"===methodName?{selected:selectedMap}:{name:payload.name,selected:selectedMap}}function installLegendAction(registers){
/**
   * @event legendToggleSelect
   * @type {Object}
   * @property {string} type 'legendToggleSelect'
   * @property {string} [from]
   * @property {string} name Series name or data item name
   */
registers.registerAction("legendToggleSelect","legendselectchanged",(0,util/* curry */.WA)(legendSelectActionHandler,"toggleSelected")),registers.registerAction("legendAllSelect","legendselectall",(0,util/* curry */.WA)(legendSelectActionHandler,"allSelect")),registers.registerAction("legendInverseSelect","legendinverseselect",(0,util/* curry */.WA)(legendSelectActionHandler,"inverseSelect")),
/**
   * @event legendSelect
   * @type {Object}
   * @property {string} type 'legendSelect'
   * @property {string} name Series name or data item name
   */
registers.registerAction("legendSelect","legendselected",(0,util/* curry */.WA)(legendSelectActionHandler,"select")),
/**
   * @event legendUnSelect
   * @type {Object}
   * @property {string} type 'legendUnSelect'
   * @property {string} name Series name or data item name
   */
registers.registerAction("legendUnSelect","legendunselected",(0,util/* curry */.WA)(legendSelectActionHandler,"unSelect"))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/installLegendPlain.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerComponentModel(legend_LegendModel),registers.registerComponentView(legend_LegendView),registers.registerProcessor(registers.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),registers.registerSubTypeDefaulter("legend",(function(){return"plain"})),installLegendAction(registers)}
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/component.js
var component=__webpack_require__(942151),ScrollableLegendModel=
/** @class */
function(_super){function ScrollableLegendModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScrollableLegendModel.type,_this}
/**
   * @param {number} scrollDataIndex
   */return(0,tslib_es6/* __extends */.ZT)(ScrollableLegendModel,_super),ScrollableLegendModel.prototype.setScrollDataIndex=function(scrollDataIndex){this.option.scrollDataIndex=scrollDataIndex},ScrollableLegendModel.prototype.init=function(option,parentModel,ecModel){var inputPositionParams=(0,util_layout/* getLayoutParams */.tE)(option);_super.prototype.init.call(this,option,parentModel,ecModel),mergeAndNormalizeLayoutParams(this,option,inputPositionParams)},
/**
   * @override
   */
ScrollableLegendModel.prototype.mergeOption=function(option,ecModel){_super.prototype.mergeOption.call(this,option,ecModel),mergeAndNormalizeLayoutParams(this,this.option,option)},ScrollableLegendModel.type="legend.scroll",ScrollableLegendModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(legend_LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),ScrollableLegendModel}(legend_LegendModel);// Do not `ignoreSize` to enable setting {left: 10, right: 10}.
function mergeAndNormalizeLayoutParams(legendModel,target,raw){var orient=legendModel.getOrient(),ignoreSize=[1,1];ignoreSize[orient.index]=0,(0,util_layout/* mergeLayoutParam */.dt)(target,raw,{type:"box",ignoreSize:!!ignoreSize})}
/* harmony default export */var legend_ScrollableLegendModel=ScrollableLegendModel,basicTransition=__webpack_require__(944292),ScrollableLegendView_Group=Group/* default */.Z,WH=["width","height"],XY=["x","y"],ScrollableLegendView=
/** @class */
function(_super){function ScrollableLegendView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ScrollableLegendView.type,_this.newlineDisabled=!0,_this._currentIndex=0,_this}return(0,tslib_es6/* __extends */.ZT)(ScrollableLegendView,_super),ScrollableLegendView.prototype.init=function(){_super.prototype.init.call(this),this.group.add(this._containerGroup=new ScrollableLegendView_Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ScrollableLegendView_Group)},
/**
   * @override
   */
ScrollableLegendView.prototype.resetInner=function(){_super.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},
/**
   * @override
   */
ScrollableLegendView.prototype.renderInner=function(itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition){var self=this;// Render content items.
_super.prototype.renderInner.call(this,itemAlign,legendModel,ecModel,api,selector,orient,selectorPosition);var controllerGroup=this._controllerGroup,pageIconSize=legendModel.get("pageIconSize",!0),pageIconSizeArr=util/* isArray */.kJ(pageIconSize)?pageIconSize:[pageIconSize,pageIconSize];// FIXME: support be 'auto' adapt to size number text length,
// e.g., '3/12345' should not overlap with the control arrow button.
createPageButton("pagePrev",0);var pageTextStyleModel=legendModel.getModel("pageTextStyle");function createPageButton(name,iconIdx){var pageDataIndexName=name+"DataIndex",icon=graphic.createIcon(legendModel.get("pageIcons",!0)[legendModel.getOrient().name][iconIdx],{
// Buttons will be created in each render, so we do not need
// to worry about avoiding using legendModel kept in scope.
onclick:util/* bind */.ak(self._pageGo,self,pageDataIndexName,legendModel,api)},{x:-pageIconSizeArr[0]/2,y:-pageIconSizeArr[1]/2,width:pageIconSizeArr[0],height:pageIconSizeArr[1]});icon.name=name,controllerGroup.add(icon)}controllerGroup.add(new Text/* default */.ZP({name:"pageText",style:{
// Placeholder to calculate a proper layout.
text:"xx/xx",fill:pageTextStyleModel.getTextColor(),font:pageTextStyleModel.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),createPageButton("pageNext",1)},
/**
   * @override
   */
ScrollableLegendView.prototype.layoutInner=function(legendModel,itemAlign,maxSize,isFirstRender,selector,selectorPosition){var selectorGroup=this.getSelectorGroup(),orientIdx=legendModel.getOrient().index,wh=WH[orientIdx],xy=XY[orientIdx],hw=WH[1-orientIdx],yx=XY[1-orientIdx];selector&&util_layout/* box */.BZ(// Buttons in selectorGroup always layout horizontally
"horizontal",selectorGroup,legendModel.get("selectorItemGap",!0));var selectorButtonGap=legendModel.get("selectorButtonGap",!0),selectorRect=selectorGroup.getBoundingRect(),selectorPos=[-selectorRect.x,-selectorRect.y],processMaxSize=util/* clone */.d9(maxSize);selector&&(processMaxSize[wh]=maxSize[wh]-selectorRect[wh]-selectorButtonGap);var mainRect=this._layoutContentAndController(legendModel,isFirstRender,processMaxSize,orientIdx,wh,hw,yx,xy);if(selector){if("end"===selectorPosition)selectorPos[orientIdx]+=mainRect[wh]+selectorButtonGap;else{var offset=selectorRect[wh]+selectorButtonGap;selectorPos[orientIdx]-=offset,mainRect[xy]-=offset}mainRect[wh]+=selectorRect[wh]+selectorButtonGap,selectorPos[1-orientIdx]+=mainRect[yx]+mainRect[hw]/2-selectorRect[hw]/2,mainRect[hw]=Math.max(mainRect[hw],selectorRect[hw]),mainRect[yx]=Math.min(mainRect[yx],selectorRect[yx]+selectorPos[1-orientIdx]),selectorGroup.x=selectorPos[0],selectorGroup.y=selectorPos[1],selectorGroup.markRedraw()}return mainRect},ScrollableLegendView.prototype._layoutContentAndController=function(legendModel,isFirstRender,maxSize,orientIdx,wh,hw,yx,xy){var contentGroup=this.getContentGroup(),containerGroup=this._containerGroup,controllerGroup=this._controllerGroup;// Place items in contentGroup.
util_layout/* box */.BZ(legendModel.get("orient"),contentGroup,legendModel.get("itemGap"),orientIdx?maxSize.width:null,orientIdx?null:maxSize.height),util_layout/* box */.BZ(// Buttons in controller are layout always horizontally.
"horizontal",controllerGroup,legendModel.get("pageButtonItemGap",!0));var contentRect=contentGroup.getBoundingRect(),controllerRect=controllerGroup.getBoundingRect(),showController=this._showController=contentRect[wh]>maxSize[wh],contentPos=[-contentRect.x,-contentRect.y];// Remain contentPos when scroll animation perfroming.
// If first rendering, `contentGroup.position` is [0, 0], which
// does not make sense and may cause unexepcted animation if adopted.
isFirstRender||(contentPos[orientIdx]=contentGroup[xy]);// Layout container group based on 0.
var containerPos=[0,0],controllerPos=[-controllerRect.x,-controllerRect.y],pageButtonGap=util/* retrieve2 */.pD(legendModel.get("pageButtonGap",!0),legendModel.get("itemGap",!0));// Place containerGroup and controllerGroup and contentGroup.
if(showController){var pageButtonPosition=legendModel.get("pageButtonPosition",!0);// controller is on the right / bottom.
"end"===pageButtonPosition?controllerPos[orientIdx]+=maxSize[wh]-controllerRect[wh]:containerPos[orientIdx]+=controllerRect[wh]+pageButtonGap}// Always align controller to content as 'middle'.
controllerPos[1-orientIdx]+=contentRect[hw]/2-controllerRect[hw]/2,contentGroup.setPosition(contentPos),containerGroup.setPosition(containerPos),controllerGroup.setPosition(controllerPos);// Calculate `mainRect` and set `clipPath`.
// mainRect should not be calculated by `this.group.getBoundingRect()`
// for sake of the overflow.
var mainRect={x:0,y:0};// Consider content may be overflow (should be clipped).
if(mainRect[wh]=showController?maxSize[wh]:contentRect[wh],mainRect[hw]=Math.max(contentRect[hw],controllerRect[hw]),// `containerRect[yx] + containerPos[1 - orientIdx]` is 0.
mainRect[yx]=Math.min(0,controllerRect[yx]+controllerPos[1-orientIdx]),containerGroup.__rectSize=maxSize[wh],showController){var clipShape={x:0,y:0};clipShape[wh]=Math.max(maxSize[wh]-controllerRect[wh]-pageButtonGap,0),clipShape[hw]=mainRect[hw],containerGroup.setClipPath(new Rect/* default */.Z({shape:clipShape})),// Consider content may be larger than container, container rect
// can not be obtained from `containerGroup.getBoundingRect()`.
containerGroup.__rectSize=clipShape[wh]}else
// Do not remove or ignore controller. Keep them set as placeholders.
controllerGroup.eachChild((function(child){child.attr({invisible:!0,silent:!0})}));// Content translate animation.
var pageInfo=this._getPageInfo(legendModel);return null!=pageInfo.pageIndex&&basicTransition/* updateProps */.D(contentGroup,{x:pageInfo.contentPosition[0],y:pageInfo.contentPosition[1]},// When switch from "show controller" to "not show controller", view should be
// updated immediately without animation, otherwise causes weird effect.
showController?legendModel:null),this._updatePageInfoView(legendModel,pageInfo),mainRect},ScrollableLegendView.prototype._pageGo=function(to,legendModel,api){var scrollDataIndex=this._getPageInfo(legendModel)[to];null!=scrollDataIndex&&api.dispatchAction({type:"legendScroll",scrollDataIndex:scrollDataIndex,legendId:legendModel.id})},ScrollableLegendView.prototype._updatePageInfoView=function(legendModel,pageInfo){var controllerGroup=this._controllerGroup;util/* each */.S6(["pagePrev","pageNext"],(function(name){var key=name+"DataIndex",canJump=null!=pageInfo[key],icon=controllerGroup.childOfName(name);icon&&(icon.setStyle("fill",canJump?legendModel.get("pageIconColor",!0):legendModel.get("pageIconInactiveColor",!0)),icon.cursor=canJump?"pointer":"default")}));var pageText=controllerGroup.childOfName("pageText"),pageFormatter=legendModel.get("pageFormatter"),pageIndex=pageInfo.pageIndex,current=null!=pageIndex?pageIndex+1:0,total=pageInfo.pageCount;pageText&&pageFormatter&&pageText.setStyle("text",util/* isString */.HD(pageFormatter)?pageFormatter.replace("{current}",null==current?"":current+"").replace("{total}",null==total?"":total+""):pageFormatter({current:current,total:total}))},
/**
   *  contentPosition: Array.<number>, null when data item not found.
   *  pageIndex: number, null when data item not found.
   *  pageCount: number, always be a number, can be 0.
   *  pagePrevDataIndex: number, null when no previous page.
   *  pageNextDataIndex: number, null when no next page.
   * }
   */
ScrollableLegendView.prototype._getPageInfo=function(legendModel){var scrollDataIndex=legendModel.get("scrollDataIndex",!0),contentGroup=this.getContentGroup(),containerRectSize=this._containerGroup.__rectSize,orientIdx=legendModel.getOrient().index,wh=WH[orientIdx],xy=XY[orientIdx],targetItemIndex=this._findTargetItemIndex(scrollDataIndex),children=contentGroup.children(),targetItem=children[targetItemIndex],itemCount=children.length,pCount=itemCount?1:0,result={contentPosition:[contentGroup.x,contentGroup.y],pageCount:pCount,pageIndex:pCount-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!targetItem)return result;var targetItemInfo=getItemInfo(targetItem);result.contentPosition[orientIdx]=-targetItemInfo.s;// Strategy:
// (1) Always align based on the left/top most item.
// (2) It is user-friendly that the last item shown in the
// current window is shown at the begining of next window.
// Otherwise if half of the last item is cut by the window,
// it will have no chance to display entirely.
// (3) Consider that item size probably be different, we
// have calculate pageIndex by size rather than item index,
// and we can not get page index directly by division.
// (4) The window is to narrow to contain more than
// one item, we should make sure that the page can be fliped.
for(var i=targetItemIndex+1,winStartItemInfo=targetItemInfo,winEndItemInfo=targetItemInfo,currItemInfo=null;i<=itemCount;++i)currItemInfo=getItemInfo(children[i]),(// Half of the last item is out of the window.
!currItemInfo&&winEndItemInfo.e>winStartItemInfo.s+containerRectSize||// If the current item does not intersect with the window, the new page
// can be started at the current item or the last item.
currItemInfo&&!intersect(currItemInfo,winStartItemInfo.s))&&(winStartItemInfo=winEndItemInfo.i>winStartItemInfo.i?winEndItemInfo:currItemInfo,winStartItemInfo&&(null==result.pageNextDataIndex&&(result.pageNextDataIndex=winStartItemInfo.i),++result.pageCount)),winEndItemInfo=currItemInfo;for(i=targetItemIndex-1,winStartItemInfo=targetItemInfo,winEndItemInfo=targetItemInfo,currItemInfo=null;i>=-1;--i)currItemInfo=getItemInfo(children[i]),// If the the end item does not intersect with the window started
// from the current item, a page can be settled.
currItemInfo&&intersect(winEndItemInfo,currItemInfo.s)||// e.g., when page size is smaller than item size.
!(winStartItemInfo.i<winEndItemInfo.i)||(winEndItemInfo=winStartItemInfo,null==result.pagePrevDataIndex&&(result.pagePrevDataIndex=winStartItemInfo.i),++result.pageCount,++result.pageIndex),winStartItemInfo=currItemInfo;return result;function getItemInfo(el){if(el){var itemRect=el.getBoundingRect(),start=itemRect[xy]+el[xy];return{s:start,e:start+itemRect[wh],i:el.__legendDataIndex}}}function intersect(itemInfo,winStart){return itemInfo.e>=winStart&&itemInfo.s<=winStart+containerRectSize}},ScrollableLegendView.prototype._findTargetItemIndex=function(targetDataIndex){if(!this._showController)return 0;var index,defaultIndex,contentGroup=this.getContentGroup();return contentGroup.eachChild((function(child,idx){var legendDataIdx=child.__legendDataIndex;// FIXME
// If the given targetDataIndex (from model) is illegal,
// we use defaultIndex. But the index on the legend model and
// action payload is still illegal. That case will not be
// changed until some scenario requires.
null==defaultIndex&&null!=legendDataIdx&&(defaultIndex=idx),legendDataIdx===targetDataIndex&&(index=idx)})),null!=index?index:defaultIndex},ScrollableLegendView.type="legend.scroll",ScrollableLegendView}(legend_LegendView),legend_ScrollableLegendView=ScrollableLegendView;
// EXTERNAL MODULE: ./node_modules/echarts/lib/animation/basicTransition.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/scrollableLegendAction.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function installScrollableLegendAction(registers){
/**
   * @event legendScroll
   * @type {Object}
   * @property {string} type 'legendScroll'
   * @property {string} scrollDataIndex
   */
registers.registerAction("legendScroll","legendscroll",(function(payload,ecModel){var scrollDataIndex=payload.scrollDataIndex;null!=scrollDataIndex&&ecModel.eachComponent({mainType:"legend",subType:"scroll",query:payload},(function(legendModel){legendModel.setScrollDataIndex(scrollDataIndex)}))}))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/installLegendScroll.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function installLegendScroll_install(registers){(0,extension/* use */.D)(install),registers.registerComponentModel(legend_ScrollableLegendModel),registers.registerComponentView(legend_ScrollableLegendView),installScrollableLegendAction(registers)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/legend/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install_install(registers){(0,extension/* use */.D)(install),(0,extension/* use */.D)(installLegendScroll_install)}
/***/},
/***/908690:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */N:function(){/* binding */return install}
/* harmony export */});
/* harmony import */var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(570655),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(933051),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(679750),_util_graphic_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25293),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(30106),_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(336006),_util_layout_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(576172),_model_Component_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(498071),_view_Component_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(833166),_util_format_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(578988),TitleModel=
/** @class */
function(_super){function TitleModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TitleModel.type,_this.layoutMode={type:"box",ignoreSize:!0},_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(TitleModel,_super),TitleModel.type="title",TitleModel.defaultOption={
// zlevel: 0,
z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},TitleModel}(_model_Component_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */.Z),TitleView=
/** @class */
function(_super){function TitleView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TitleView.type,_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */.ZT)(TitleView,_super),TitleView.prototype.render=function(titleModel,ecModel,api){if(this.group.removeAll(),titleModel.get("show")){var group=this.group,textStyleModel=titleModel.getModel("textStyle"),subtextStyleModel=titleModel.getModel("subtextStyle"),textAlign=titleModel.get("textAlign"),textVerticalAlign=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .retrieve2 */.pD(titleModel.get("textBaseline"),titleModel.get("textVerticalAlign")),textEl=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.ZP({style:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__/* .createTextStyle */.Lr)(textStyleModel,{text:titleModel.get("text"),fill:textStyleModel.getTextColor()},{disableBox:!0}),z2:10}),textRect=textEl.getBoundingRect(),subText=titleModel.get("subtext"),subTextEl=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.ZP({style:(0,_label_labelStyle_js__WEBPACK_IMPORTED_MODULE_4__/* .createTextStyle */.Lr)(subtextStyleModel,{text:subText,fill:subtextStyleModel.getTextColor(),y:textRect.height+titleModel.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),link=titleModel.get("link"),sublink=titleModel.get("sublink"),triggerEvent=titleModel.get("triggerEvent",!0);textEl.silent=!link&&!triggerEvent,subTextEl.silent=!sublink&&!triggerEvent,link&&textEl.on("click",(function(){(0,_util_format_js__WEBPACK_IMPORTED_MODULE_5__/* .windowOpen */.MI)(link,"_"+titleModel.get("target"))})),sublink&&subTextEl.on("click",(function(){(0,_util_format_js__WEBPACK_IMPORTED_MODULE_5__/* .windowOpen */.MI)(sublink,"_"+titleModel.get("subtarget"))})),(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_6__/* .getECData */.A)(textEl).eventData=(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_6__/* .getECData */.A)(subTextEl).eventData=triggerEvent?{componentType:"title",componentIndex:titleModel.componentIndex}:null,group.add(textEl),subText&&group.add(subTextEl);// If no subText, but add subTextEl, there will be an empty line.
var groupRect=group.getBoundingRect(),layoutOption=titleModel.getBoxLayoutParams();layoutOption.width=groupRect.width,layoutOption.height=groupRect.height;var layoutRect=(0,_util_layout_js__WEBPACK_IMPORTED_MODULE_7__/* .getLayoutRect */.ME)(layoutOption,{width:api.getWidth(),height:api.getHeight()},titleModel.get("padding"));// Adjust text align based on position
textAlign||(
// Align left if title is on the left. center and right is same
textAlign=titleModel.get("left")||titleModel.get("right"),// @ts-ignore
"middle"===textAlign&&(textAlign="center"),// Adjust layout by text align
"right"===textAlign?layoutRect.x+=layoutRect.width:"center"===textAlign&&(layoutRect.x+=layoutRect.width/2)),textVerticalAlign||(textVerticalAlign=titleModel.get("top")||titleModel.get("bottom"),// @ts-ignore
"center"===textVerticalAlign&&(textVerticalAlign="middle"),"bottom"===textVerticalAlign?layoutRect.y+=layoutRect.height:"middle"===textVerticalAlign&&(layoutRect.y+=layoutRect.height/2),textVerticalAlign=textVerticalAlign||"top"),group.x=layoutRect.x,group.y=layoutRect.y,group.markRedraw();var alignStyle={align:textAlign,verticalAlign:textVerticalAlign};textEl.setStyle(alignStyle),subTextEl.setStyle(alignStyle),// Render background
// Get groupRect again because textAlign has been changed
groupRect=group.getBoundingRect();var padding=layoutRect.margin,style=titleModel.getItemStyle(["color","opacity"]);style.fill=titleModel.get("backgroundColor");var rect=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z({shape:{x:groupRect.x-padding[3],y:groupRect.y-padding[0],width:groupRect.width+padding[1]+padding[3],height:groupRect.height+padding[0]+padding[2],r:titleModel.get("borderRadius")},style:style,subPixelOptimize:!0,silent:!0});group.add(rect)}},TitleView.type="title",TitleView}(_view_Component_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.Z);
/* harmony import */function install(registers){registers.registerComponentModel(TitleModel),registers.registerComponentView(TitleView)}
/***/},
/***/582739:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install_install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/component/axisPointer/install.js + 5 modules
var install=__webpack_require__(746738),extension=__webpack_require__(768023),tslib_es6=__webpack_require__(570655),Component=__webpack_require__(498071),TooltipModel=
/** @class */
function(_super){function TooltipModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TooltipModel.type,_this}return(0,tslib_es6/* __extends */.ZT)(TooltipModel,_super),TooltipModel.type="tooltip",TooltipModel.dependencies=["axisPointer"],TooltipModel.defaultOption={
// zlevel: 0,
z:60,show:!0,
// tooltip main content
showContent:!0,
// 'trigger' only works on coordinate system.
// 'item' | 'axis' | 'none'
trigger:"item",
// 'click' | 'mousemove' | 'none'
triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",
// whether restraint content inside viewRect.
// If renderMode: 'richText', default true.
// If renderMode: 'html', defaut false (for backward compat).
confine:null,showDelay:0,hideDelay:100,
// Animation transition time, unit is second
transitionDuration:.4,enterable:!1,backgroundColor:"#fff",
// box shadow
shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,
// tooltip border radius, unit is px, default is 4
borderRadius:4,
// tooltip border width, unit is px, default is 0 (no border)
borderWidth:1,
// Tooltip inside padding, default is 5 for all direction
// Array is allowed to set up, right, bottom, left, same with css
// The default value: See `tooltip/tooltipMarkup.ts#getPaddingFromTooltipModel`.
padding:null,
// Extra css text
extraCssText:"",
// axis indicator, trigger by axis
axisPointer:{
// default is line
// legal values: 'line' | 'shadow' | 'cross'
type:"line",
// Valid when type is line, appoint tooltip line locate on which line. Optional
// legal values: 'x' | 'y' | 'angle' | 'radius' | 'auto'
// default is 'auto', chose the axis which type is category.
// for multiply y axis, cartesian coord chose x axis, polar chose angle axis
axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",
// TODO formatter
textStyle:{}}},textStyle:{color:"#666",fontSize:14}},TooltipModel}(Component/* default */.Z),tooltip_TooltipModel=TooltipModel,util=__webpack_require__(933051),env=__webpack_require__(966387),core_event=__webpack_require__(461158),dom=__webpack_require__(284602),format=__webpack_require__(578988);
// EXTERNAL MODULE: ./node_modules/echarts/lib/extension.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/component/tooltip/helper.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/* global document */
function shouldTooltipConfine(tooltipModel){var confineOption=tooltipModel.get("confine");return null!=confineOption?!!confineOption:"richText"===tooltipModel.get("renderMode")}function testStyle(styleProps){if(env/* default */.Z.domSupported)for(var style=document.documentElement.style,i=0,len=styleProps.length;i<len;i++)if(styleProps[i]in style)return styleProps[i]}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(styleVendor,styleProp){if(!styleVendor)return styleProp;styleProp=(0,format/* toCamelCase */.zW)(styleProp,!0);var idx=styleVendor.indexOf(styleProp);return styleVendor=-1===idx?styleProp:"-"+styleVendor.slice(0,idx)+"-"+styleProp,styleVendor.toLowerCase()}function getComputedStyle(el,style){var stl=el.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(el);return stl?style?stl[style]:stl:null}
// EXTERNAL MODULE: ./node_modules/echarts/lib/component/tooltip/tooltipMarkup.js
var tooltipMarkup=__webpack_require__(305685),CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env/* default */.Z.transform3dSupported?"will-change:transform;":"");function mirrorPos(pos){return pos="left"===pos?"right":"right"===pos?"left":"top"===pos?"bottom":"top",pos}function assembleArrow(tooltipModel,borderColor,arrowPosition){if(!(0,util/* isString */.HD)(arrowPosition)||"inside"===arrowPosition)return"";var backgroundColor=tooltipModel.get("backgroundColor"),borderWidth=tooltipModel.get("borderWidth");borderColor=(0,format/* convertToColorString */.Lz)(borderColor);var rotateDeg,arrowPos=mirrorPos(arrowPosition),arrowSize=Math.max(1.5*Math.round(borderWidth),6),positionStyle="",transformStyle=CSS_TRANSFORM_VENDOR+":";(0,util/* indexOf */.cq)(["left","right"],arrowPos)>-1?(positionStyle+="top:50%",transformStyle+="translateY(-50%) rotate("+(rotateDeg="left"===arrowPos?-225:-45)+"deg)"):(positionStyle+="left:50%",transformStyle+="translateX(-50%) rotate("+(rotateDeg="top"===arrowPos?225:45)+"deg)");var rotateRadian=rotateDeg*Math.PI/180,arrowWH=arrowSize+borderWidth,rotatedWH=arrowWH*Math.abs(Math.cos(rotateRadian))+arrowWH*Math.abs(Math.sin(rotateRadian)),arrowOffset=Math.round(100*((rotatedWH-Math.SQRT2*borderWidth)/2+Math.SQRT2*borderWidth-(rotatedWH-arrowWH)/2))/100;positionStyle+=";"+arrowPos+":-"+arrowOffset+"px";var borderStyle=borderColor+" solid "+borderWidth+"px;",styleCss=["position:absolute;width:"+arrowSize+"px;height:"+arrowSize+"px;z-index:-1;",positionStyle+";"+transformStyle+";","border-bottom:"+borderStyle,"border-right:"+borderStyle,"background-color:"+backgroundColor+";"];return'<div style="'+styleCss.join("")+'"></div>'}function assembleTransition(duration,onlyFade){var transitionCurve="cubic-bezier(0.23,1,0.32,1)",transitionOption=" "+duration/2+"s "+transitionCurve,transitionText="opacity"+transitionOption+",visibility"+transitionOption;return onlyFade||(transitionOption=" "+duration+"s "+transitionCurve,transitionText+=env/* default */.Z.transformSupported?","+CSS_TRANSFORM_VENDOR+transitionOption:",left"+transitionOption+",top"+transitionOption),CSS_TRANSITION_VENDOR+":"+transitionText}function assembleTransform(x,y,toString){
// If using float on style, the final width of the dom might
// keep changing slightly while mouse move. So `toFixed(0)` them.
var x0=x.toFixed(0)+"px",y0=y.toFixed(0)+"px";// not support transform, use `left` and `top` instead.
if(!env/* default */.Z.transformSupported)return toString?"top:"+y0+";left:"+x0+";":[["top",y0],["left",x0]];// support transform
var is3d=env/* default */.Z.transform3dSupported,translate="translate"+(is3d?"3d":"")+"("+x0+","+y0+(is3d?",0":"")+")";return toString?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+translate+";":[["top",0],["left",0],[TRANSFORM_VENDOR,translate]]}
/**
 * @param {Object} textStyle
 * @return {string}
 * @inner
 */function assembleFont(textStyleModel){var cssText=[],fontSize=textStyleModel.get("fontSize"),color=textStyleModel.getTextColor();color&&cssText.push("color:"+color),cssText.push("font:"+textStyleModel.getFont()),fontSize&&cssText.push("line-height:"+Math.round(3*fontSize/2)+"px");var shadowColor=textStyleModel.get("textShadowColor"),shadowBlur=textStyleModel.get("textShadowBlur")||0,shadowOffsetX=textStyleModel.get("textShadowOffsetX")||0,shadowOffsetY=textStyleModel.get("textShadowOffsetY")||0;return shadowColor&&shadowBlur&&cssText.push("text-shadow:"+shadowOffsetX+"px "+shadowOffsetY+"px "+shadowBlur+"px "+shadowColor),(0,util/* each */.S6)(["decoration","align"],(function(name){var val=textStyleModel.get(name);val&&cssText.push("text-"+name+":"+val)})),cssText.join(";")}function assembleCssText(tooltipModel,enableTransition,onlyFade){var cssText=[],transitionDuration=tooltipModel.get("transitionDuration"),backgroundColor=tooltipModel.get("backgroundColor"),shadowBlur=tooltipModel.get("shadowBlur"),shadowColor=tooltipModel.get("shadowColor"),shadowOffsetX=tooltipModel.get("shadowOffsetX"),shadowOffsetY=tooltipModel.get("shadowOffsetY"),textStyleModel=tooltipModel.getModel("textStyle"),padding=(0,tooltipMarkup/* getPaddingFromTooltipModel */.d_)(tooltipModel,"html"),boxShadow=shadowOffsetX+"px "+shadowOffsetY+"px "+shadowBlur+"px "+shadowColor;return cssText.push("box-shadow:"+boxShadow),// Animation transition. Do not animate when transitionDuration is 0.
enableTransition&&transitionDuration&&cssText.push(assembleTransition(transitionDuration,onlyFade)),backgroundColor&&cssText.push("background-color:"+backgroundColor),// Border style
(0,util/* each */.S6)(["width","color","radius"],(function(name){var borderName="border-"+name,camelCase=(0,format/* toCamelCase */.zW)(borderName),val=tooltipModel.get(camelCase);null!=val&&cssText.push(borderName+":"+val+("color"===name?"":"px"))})),// Text style
cssText.push(assembleFont(textStyleModel)),// Padding
null!=padding&&cssText.push("padding:"+(0,format/* normalizeCssArray */.MY)(padding).join("px ")+"px"),cssText.join(";")+";"}// If not able to make, do not modify the input `out`.
function makeStyleCoord(out,zr,appendToBody,zrX,zrY){var zrPainter=zr&&zr.painter;if(appendToBody){var zrViewportRoot=zrPainter&&zrPainter.getViewportRoot();zrViewportRoot&&
// Some APPs might use scale on body, so we support CSS transform here.
(0,dom/* transformLocalCoord */.YB)(out,zrViewportRoot,document.body,zrX,zrY)}else{out[0]=zrX,out[1]=zrY;// xy should be based on canvas root. But tooltipContent is
// the sibling of canvas root. So padding of ec container
// should be considered here.
var viewportRootOffset=zrPainter&&zrPainter.getViewportRootOffset();viewportRootOffset&&(out[0]+=viewportRootOffset.offsetLeft,out[1]+=viewportRootOffset.offsetTop)}out[2]=out[0]/zr.getWidth(),out[3]=out[1]/zr.getHeight()}var TooltipHTMLContent=
/** @class */
function(){function TooltipHTMLContent(container,api,opt){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env/* default */.Z.wxa)return null;var el=document.createElement("div");// TODO: TYPE
el.domBelongToZr=!0,this.el=el;var zr=this._zr=api.getZr(),appendToBody=this._appendToBody=opt&&opt.appendToBody;makeStyleCoord(this._styleCoord,zr,appendToBody,api.getWidth()/2,api.getHeight()/2),appendToBody?document.body.appendChild(el):container.appendChild(el),this._container=container;// FIXME
// Is it needed to trigger zr event manually if
// the browser do not support `pointer-events: none`.
var self=this;el.onmouseenter=function(){
// clear the timeout in hideLater and keep showing tooltip
self._enterable&&(clearTimeout(self._hideTimeout),self._show=!0),self._inContent=!0},el.onmousemove=function(e){if(e=e||window.event,!self._enterable){
// `pointer-events: none` is set to tooltip content div
// if `enterable` is set as `false`, and `el.onmousemove`
// can not be triggered. But in browser that do not
// support `pointer-events`, we need to do this:
// Try trigger zrender event to avoid mouse
// in and out shape too frequently
var handler=zr.handler,zrViewportRoot=zr.painter.getViewportRoot();(0,core_event/* normalizeEvent */.OD)(zrViewportRoot,e,!0),handler.dispatch("mousemove",e)}},el.onmouseleave=function(){
// set `_inContent` to `false` before `hideLater`
self._inContent=!1,self._enterable&&self._show&&self.hideLater(self._hideDelay)}}
/**
   * Update when tooltip is rendered
   */return TooltipHTMLContent.prototype.update=function(tooltipModel){
// FIXME
// Move this logic to ec main?
var container=this._container,position=getComputedStyle(container,"position"),domStyle=container.style;"absolute"!==domStyle.position&&"absolute"!==position&&(domStyle.position="relative");// move tooltip if chart resized
var alwaysShowContent=tooltipModel.get("alwaysShowContent");alwaysShowContent&&this._moveIfResized(),// update alwaysShowContent
this._alwaysShowContent=alwaysShowContent,// update className
this.el.className=tooltipModel.get("className")||""},TooltipHTMLContent.prototype.show=function(tooltipModel,nearPointColor){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var el=this.el,style=el.style,styleCoord=this._styleCoord;el.innerHTML?style.cssText=gCssText+assembleCssText(tooltipModel,!this._firstShow,this._longHide)+assembleTransform(styleCoord[0],styleCoord[1],!0)+"border-color:"+(0,format/* convertToColorString */.Lz)(nearPointColor)+";"+(tooltipModel.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):style.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},TooltipHTMLContent.prototype.setContent=function(content,markers,tooltipModel,borderColor,arrowPosition){var el=this.el;if(null!=content){var arrow="";if((0,util/* isString */.HD)(arrowPosition)&&"item"===tooltipModel.get("trigger")&&!shouldTooltipConfine(tooltipModel)&&(arrow=assembleArrow(tooltipModel,borderColor,arrowPosition)),(0,util/* isString */.HD)(content))el.innerHTML=content+arrow;else if(content){
// Clear previous
el.innerHTML="",(0,util/* isArray */.kJ)(content)||(content=[content]);for(var i=0;i<content.length;i++)(0,util/* isDom */.Mh)(content[i])&&content[i].parentNode!==el&&el.appendChild(content[i]);// no arrow if empty
if(arrow&&el.childNodes.length){
// no need to create a new parent element, but it's not supported by IE 10 and older.
// const arrowEl = document.createRange().createContextualFragment(arrow);
var arrowEl=document.createElement("div");arrowEl.innerHTML=arrow,el.appendChild(arrowEl)}}}else el.innerHTML=""},TooltipHTMLContent.prototype.setEnterable=function(enterable){this._enterable=enterable},TooltipHTMLContent.prototype.getSize=function(){var el=this.el;return[el.offsetWidth,el.offsetHeight]},TooltipHTMLContent.prototype.moveTo=function(zrX,zrY){var styleCoord=this._styleCoord;if(makeStyleCoord(styleCoord,this._zr,this._appendToBody,zrX,zrY),null!=styleCoord[0]&&null!=styleCoord[1]){var style_1=this.el.style,transforms=assembleTransform(styleCoord[0],styleCoord[1]);(0,util/* each */.S6)(transforms,(function(transform){style_1[transform[0]]=transform[1]}))}},
/**
   * when `alwaysShowContent` is true,
   * move the tooltip after chart resized
   */
TooltipHTMLContent.prototype._moveIfResized=function(){
// The ratio of left to width
var ratioX=this._styleCoord[2],ratioY=this._styleCoord[3];// The ratio of top to height
this.moveTo(ratioX*this._zr.getWidth(),ratioY*this._zr.getHeight())},TooltipHTMLContent.prototype.hide=function(){var _this=this,style=this.el.style;style.visibility="hidden",style.opacity="0",env/* default */.Z.transform3dSupported&&(style.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return _this._longHide=!0}),500)},TooltipHTMLContent.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(time?(this._hideDelay=time,// Set show false to avoid invoke hideLater multiple times
this._show=!1,this._hideTimeout=setTimeout((0,util/* bind */.ak)(this.hide,this),time)):this.hide())},TooltipHTMLContent.prototype.isShow=function(){return this._show},TooltipHTMLContent.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},TooltipHTMLContent}(),tooltip_TooltipHTMLContent=TooltipHTMLContent,Text=__webpack_require__(679750),log=__webpack_require__(470175),TooltipRichContent=
/** @class */
function(){function TooltipRichContent(api){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=api.getZr(),TooltipRichContent_makeStyleCoord(this._styleCoord,this._zr,api.getWidth()/2,api.getHeight()/2)}
/**
   * Update when tooltip is rendered
   */return TooltipRichContent.prototype.update=function(tooltipModel){var alwaysShowContent=tooltipModel.get("alwaysShowContent");alwaysShowContent&&this._moveIfResized(),// update alwaysShowContent
this._alwaysShowContent=alwaysShowContent},TooltipRichContent.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},
/**
   * Set tooltip content
   */
TooltipRichContent.prototype.setContent=function(content,markupStyleCreator,tooltipModel,borderColor,arrowPosition){var _this=this;util/* isObject */.Kn(content)&&(0,log/* throwError */._y)(""),this.el&&this._zr.remove(this.el);var textStyleModel=tooltipModel.getModel("textStyle");this.el=new Text/* default */.ZP({style:{rich:markupStyleCreator.richTextStyles,text:content,lineHeight:22,borderWidth:1,borderColor:borderColor,textShadowColor:textStyleModel.get("textShadowColor"),fill:tooltipModel.get(["textStyle","color"]),padding:(0,tooltipMarkup/* getPaddingFromTooltipModel */.d_)(tooltipModel,"richText"),verticalAlign:"top",align:"left"},z:tooltipModel.get("z")}),util/* each */.S6(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(propName){_this.el.style[propName]=tooltipModel.get(propName)})),util/* each */.S6(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(propName){_this.el.style[propName]=textStyleModel.get(propName)||0})),this._zr.add(this.el);var self=this;this.el.on("mouseover",(function(){
// clear the timeout in hideLater and keep showing tooltip
self._enterable&&(clearTimeout(self._hideTimeout),self._show=!0),self._inContent=!0})),this.el.on("mouseout",(function(){self._enterable&&self._show&&self.hideLater(self._hideDelay),self._inContent=!1}))},TooltipRichContent.prototype.setEnterable=function(enterable){this._enterable=enterable},TooltipRichContent.prototype.getSize=function(){var el=this.el,bounding=this.el.getBoundingRect(),shadowOuterSize=calcShadowOuterSize(el.style);return[bounding.width+shadowOuterSize.left+shadowOuterSize.right,bounding.height+shadowOuterSize.top+shadowOuterSize.bottom]},TooltipRichContent.prototype.moveTo=function(x,y){var el=this.el;if(el){var styleCoord=this._styleCoord;TooltipRichContent_makeStyleCoord(styleCoord,this._zr,x,y),x=styleCoord[0],y=styleCoord[1];var style=el.style,borderWidth=mathMaxWith0(style.borderWidth||0),shadowOuterSize=calcShadowOuterSize(style);// rich text x, y do not include border.
el.x=x+borderWidth+shadowOuterSize.left,el.y=y+borderWidth+shadowOuterSize.top,el.markRedraw()}},
/**
   * when `alwaysShowContent` is true,
   * move the tooltip after chart resized
   */
TooltipRichContent.prototype._moveIfResized=function(){
// The ratio of left to width
var ratioX=this._styleCoord[2],ratioY=this._styleCoord[3];// The ratio of top to height
this.moveTo(ratioX*this._zr.getWidth(),ratioY*this._zr.getHeight())},TooltipRichContent.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},TooltipRichContent.prototype.hideLater=function(time){!this._show||this._inContent&&this._enterable||this._alwaysShowContent||(time?(this._hideDelay=time,// Set show false to avoid invoke hideLater multiple times
this._show=!1,this._hideTimeout=setTimeout(util/* bind */.ak(this.hide,this),time)):this.hide())},TooltipRichContent.prototype.isShow=function(){return this._show},TooltipRichContent.prototype.dispose=function(){this._zr.remove(this.el)},TooltipRichContent}();
/* harmony default export */function mathMaxWith0(val){return Math.max(0,val)}function calcShadowOuterSize(style){var shadowBlur=mathMaxWith0(style.shadowBlur||0),shadowOffsetX=mathMaxWith0(style.shadowOffsetX||0),shadowOffsetY=mathMaxWith0(style.shadowOffsetY||0);return{left:mathMaxWith0(shadowBlur-shadowOffsetX),right:mathMaxWith0(shadowBlur+shadowOffsetX),top:mathMaxWith0(shadowBlur-shadowOffsetY),bottom:mathMaxWith0(shadowBlur+shadowOffsetY)}}function TooltipRichContent_makeStyleCoord(out,zr,zrX,zrY){out[0]=zrX,out[1]=zrY,out[2]=out[0]/zr.getWidth(),out[3]=out[1]/zr.getHeight()}
/* harmony default export */var tooltip_TooltipRichContent=TooltipRichContent,number=__webpack_require__(785669),Rect=__webpack_require__(25293),findPointFromSeries=__webpack_require__(892448),layout=__webpack_require__(576172),Model=__webpack_require__(812312),globalListener=__webpack_require__(856996),axisHelper=__webpack_require__(597980),viewHelper=__webpack_require__(175539),util_model=__webpack_require__(232234),view_Component=__webpack_require__(833166),time=__webpack_require__(515015),innerStore=__webpack_require__(30106),dataFormat=__webpack_require__(961219),util_event=__webpack_require__(218310),throttle=__webpack_require__(800270),proxyRect=new Rect/* default */.Z({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=
/** @class */
function(_super){function TooltipView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=TooltipView.type,_this}return(0,tslib_es6/* __extends */.ZT)(TooltipView,_super),TooltipView.prototype.init=function(ecModel,api){if(!env/* default */.Z.node&&api.getDom()){var tooltipModel=ecModel.getComponent("tooltip"),renderMode=this._renderMode=(0,util_model/* getTooltipRenderMode */.U9)(tooltipModel.get("renderMode"));this._tooltipContent="richText"===renderMode?new tooltip_TooltipRichContent(api):new tooltip_TooltipHTMLContent(api.getDom(),api,{appendToBody:tooltipModel.get("appendToBody",!0)})}},TooltipView.prototype.render=function(tooltipModel,ecModel,api){if(!env/* default */.Z.node&&api.getDom()){// Reset
this.group.removeAll(),this._tooltipModel=tooltipModel,this._ecModel=ecModel,this._api=api;var tooltipContent=this._tooltipContent;tooltipContent.update(tooltipModel),tooltipContent.setEnterable(tooltipModel.get("enterable")),this._initGlobalListener(),this._keepShow(),// PENDING
// `mousemove` event will be triggered very frequently when the mouse moves fast,
// which causes that the `updatePosition` function was also called frequently.
// In Chrome with devtools open and Firefox, tooltip looks laggy and shakes. See #14695 #16101
// To avoid frequent triggering,
// consider throttling it in 50ms when transition is enabled
"richText"!==this._renderMode&&tooltipModel.get("transitionDuration")?(0,throttle/* createOrUpdate */.T9)(this,"_updatePosition",50,"fixRate"):(0,throttle/* clear */.ZH)(this,"_updatePosition")}},TooltipView.prototype._initGlobalListener=function(){var tooltipModel=this._tooltipModel,triggerOn=tooltipModel.get("triggerOn");globalListener/* register */.z("itemTooltip",this._api,(0,util/* bind */.ak)((function(currTrigger,e,dispatchAction){
// If 'none', it is not controlled by mouse totally.
"none"!==triggerOn&&(triggerOn.indexOf(currTrigger)>=0?this._tryShow(e,dispatchAction):"leave"===currTrigger&&this._hide(dispatchAction))}),this))},TooltipView.prototype._keepShow=function(){var tooltipModel=this._tooltipModel,ecModel=this._ecModel,api=this._api,triggerOn=tooltipModel.get("triggerOn");// Try to keep the tooltip show when refreshing
if(null!=this._lastX&&null!=this._lastY&&"none"!==triggerOn&&"click"!==triggerOn){var self_1=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){
// Show tip next tick after other charts are rendered
// In case highlight action has wrong result
// FIXME
!api.isDisposed()&&self_1.manuallyShowTip(tooltipModel,ecModel,api,{x:self_1._lastX,y:self_1._lastY,dataByCoordSys:self_1._lastDataByCoordSys})}))}},
/**
   * Show tip manually by
   * dispatchAction({
   *     type: 'showTip',
   *     x: 10,
   *     y: 10
   * });
   * Or
   * dispatchAction({
   *      type: 'showTip',
   *      seriesIndex: 0,
   *      dataIndex or dataIndexInside or name
   * });
   *
   *  TODO Batch
   */
TooltipView.prototype.manuallyShowTip=function(tooltipModel,ecModel,api,payload){if(payload.from!==this.uid&&!env/* default */.Z.node&&api.getDom()){var dispatchAction=makeDispatchAction(payload,api);// Reset ticket
this._ticket="";// When triggered from axisPointer.
var dataByCoordSys=payload.dataByCoordSys,cmptRef=findComponentReference(payload,ecModel,api);if(cmptRef){var rect=cmptRef.el.getBoundingRect().clone();rect.applyTransform(cmptRef.el.transform),this._tryShow({offsetX:rect.x+rect.width/2,offsetY:rect.y+rect.height/2,target:cmptRef.el,position:payload.position,
// When manully trigger, the mouse is not on the el, so we'd better to
// position tooltip on the bottom of the el and display arrow is possible.
positionDefault:"bottom"},dispatchAction)}else if(payload.tooltip&&null!=payload.x&&null!=payload.y){var el=proxyRect;el.x=payload.x,el.y=payload.y,el.update(),(0,innerStore/* getECData */.A)(el).tooltipConfig={name:null,option:payload.tooltip},// Manually show tooltip while view is not using zrender elements.
this._tryShow({offsetX:payload.x,offsetY:payload.y,target:el},dispatchAction)}else if(dataByCoordSys)this._tryShow({offsetX:payload.x,offsetY:payload.y,position:payload.position,dataByCoordSys:dataByCoordSys,tooltipOption:payload.tooltipOption},dispatchAction);else if(null!=payload.seriesIndex){if(this._manuallyAxisShowTip(tooltipModel,ecModel,api,payload))return;var pointInfo=(0,findPointFromSeries/* default */.Z)(payload,ecModel),cx=pointInfo.point[0],cy=pointInfo.point[1];null!=cx&&null!=cy&&this._tryShow({offsetX:cx,offsetY:cy,target:pointInfo.el,position:payload.position,
// When manully trigger, the mouse is not on the el, so we'd better to
// position tooltip on the bottom of the el and display arrow is possible.
positionDefault:"bottom"},dispatchAction)}else null!=payload.x&&null!=payload.y&&(
// FIXME
// should wrap dispatchAction like `axisPointer/globalListener` ?
api.dispatchAction({type:"updateAxisPointer",x:payload.x,y:payload.y}),this._tryShow({offsetX:payload.x,offsetY:payload.y,position:payload.position,target:api.getZr().findHover(payload.x,payload.y).target},dispatchAction))}},TooltipView.prototype.manuallyHideTip=function(tooltipModel,ecModel,api,payload){var tooltipContent=this._tooltipContent;this._tooltipModel&&tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,payload.from!==this.uid&&this._hide(makeDispatchAction(payload,api))},// Be compatible with previous design, that is, when tooltip.type is 'axis' and
// dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer
// and tooltip.
TooltipView.prototype._manuallyAxisShowTip=function(tooltipModel,ecModel,api,payload){var seriesIndex=payload.seriesIndex,dataIndex=payload.dataIndex,coordSysAxesInfo=ecModel.getComponent("axisPointer").coordSysAxesInfo;if(null!=seriesIndex&&null!=dataIndex&&null!=coordSysAxesInfo){var seriesModel=ecModel.getSeriesByIndex(seriesIndex);if(seriesModel){var data=seriesModel.getData(),tooltipCascadedModel=buildTooltipModel([data.getItemModel(dataIndex),seriesModel,(seriesModel.coordinateSystem||{}).model],this._tooltipModel);if("axis"===tooltipCascadedModel.get("trigger"))return api.dispatchAction({type:"updateAxisPointer",seriesIndex:seriesIndex,dataIndex:dataIndex,position:payload.position}),!0}}},TooltipView.prototype._tryShow=function(e,dispatchAction){var el=e.target,tooltipModel=this._tooltipModel;if(tooltipModel){// Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed
this._lastX=e.offsetX,this._lastY=e.offsetY;var dataByCoordSys=e.dataByCoordSys;if(dataByCoordSys&&dataByCoordSys.length)this._showAxisTooltip(dataByCoordSys,e);else if(el){var seriesDispatcher_1,cmptDispatcher_1;this._lastDataByCoordSys=null,(0,util_event/* findEventDispatcher */.o)(el,(function(target){
// Always show item tooltip if mouse is on the element with dataIndex
return null!=(0,innerStore/* getECData */.A)(target).dataIndex?(seriesDispatcher_1=target,!0):// Tooltip provided directly. Like legend.
null!=(0,innerStore/* getECData */.A)(target).tooltipConfig?(cmptDispatcher_1=target,!0):void 0}),!0),seriesDispatcher_1?this._showSeriesItemTooltip(e,seriesDispatcher_1,dispatchAction):cmptDispatcher_1?this._showComponentItemTooltip(e,cmptDispatcher_1,dispatchAction):this._hide(dispatchAction)}else this._lastDataByCoordSys=null,this._hide(dispatchAction)}},TooltipView.prototype._showOrMove=function(tooltipModel,cb){
// showDelay is used in this case: tooltip.enterable is set
// as true. User intent to move mouse into tooltip and click
// something. `showDelay` makes it easier to enter the content
// but tooltip do not move immediately.
var delay=tooltipModel.get("showDelay");cb=(0,util/* bind */.ak)(cb,this),clearTimeout(this._showTimout),delay>0?this._showTimout=setTimeout(cb,delay):cb()},TooltipView.prototype._showAxisTooltip=function(dataByCoordSys,e){var ecModel=this._ecModel,globalTooltipModel=this._tooltipModel,point=[e.offsetX,e.offsetY],singleTooltipModel=buildTooltipModel([e.tooltipOption],globalTooltipModel),renderMode=this._renderMode,cbParamsList=[],articleMarkup=(0,tooltipMarkup/* createTooltipMarkup */.TX)("section",{blocks:[],noHeader:!0}),markupTextArrLegacy=[],markupStyleCreator=new tooltipMarkup/* TooltipMarkupStyleCreator */.iv;(0,util/* each */.S6)(dataByCoordSys,(function(itemCoordSys){(0,util/* each */.S6)(itemCoordSys.dataByAxis,(function(axisItem){var axisModel=ecModel.getComponent(axisItem.axisDim+"Axis",axisItem.axisIndex),axisValue=axisItem.value;if(axisModel&&null!=axisValue){var axisValueLabel=viewHelper/* getValueLabel */.gk(axisValue,axisModel.axis,ecModel,axisItem.seriesDataIndices,axisItem.valueLabelOpt),axisSectionMarkup=(0,tooltipMarkup/* createTooltipMarkup */.TX)("section",{header:axisValueLabel,noHeader:!(0,util/* trim */.fy)(axisValueLabel),sortBlocks:!0,blocks:[]});articleMarkup.blocks.push(axisSectionMarkup),(0,util/* each */.S6)(axisItem.seriesDataIndices,(function(idxItem){var series=ecModel.getSeriesByIndex(idxItem.seriesIndex),dataIndex=idxItem.dataIndexInside,cbParams=series.getDataParams(dataIndex);// Can't find data.
if(!(cbParams.dataIndex<0)){cbParams.axisDim=axisItem.axisDim,cbParams.axisIndex=axisItem.axisIndex,cbParams.axisType=axisItem.axisType,cbParams.axisId=axisItem.axisId,cbParams.axisValue=axisHelper/* getAxisRawValue */.DX(axisModel.axis,{value:axisValue}),cbParams.axisValueLabel=axisValueLabel,// Pre-create marker style for makers. Users can assemble richText
// text in `formatter` callback and use those markers style.
cbParams.marker=markupStyleCreator.makeTooltipMarker("item",(0,format/* convertToColorString */.Lz)(cbParams.color),renderMode);var seriesTooltipResult=(0,dataFormat/* normalizeTooltipFormatResult */.f)(series.formatTooltip(dataIndex,!0,null)),frag=seriesTooltipResult.frag;if(frag){var valueFormatter=buildTooltipModel([series],globalTooltipModel).get("valueFormatter");axisSectionMarkup.blocks.push(valueFormatter?(0,util/* extend */.l7)({valueFormatter:valueFormatter},frag):frag)}seriesTooltipResult.text&&markupTextArrLegacy.push(seriesTooltipResult.text),cbParamsList.push(cbParams)}}))}}))})),// In most cases, the second axis is displays upper on the first one.
// So we reverse it to look better.
articleMarkup.blocks.reverse(),markupTextArrLegacy.reverse();var positionExpr=e.position,orderMode=singleTooltipModel.get("order"),builtMarkupText=(0,tooltipMarkup/* buildTooltipMarkup */.BY)(articleMarkup,markupStyleCreator,renderMode,orderMode,ecModel.get("useUTC"),singleTooltipModel.get("textStyle"));builtMarkupText&&markupTextArrLegacy.unshift(builtMarkupText);var blockBreak="richText"===renderMode?"\n\n":"<br/>",allMarkupText=markupTextArrLegacy.join(blockBreak);this._showOrMove(singleTooltipModel,(function(){this._updateContentNotChangedOnAxis(dataByCoordSys,cbParamsList)?this._updatePosition(singleTooltipModel,positionExpr,point[0],point[1],this._tooltipContent,cbParamsList):this._showTooltipContent(singleTooltipModel,allMarkupText,cbParamsList,Math.random()+"",point[0],point[1],positionExpr,null,markupStyleCreator)}))},TooltipView.prototype._showSeriesItemTooltip=function(e,dispatcher,dispatchAction){var ecModel=this._ecModel,ecData=(0,innerStore/* getECData */.A)(dispatcher),seriesIndex=ecData.seriesIndex,seriesModel=ecModel.getSeriesByIndex(seriesIndex),dataModel=ecData.dataModel||seriesModel,dataIndex=ecData.dataIndex,dataType=ecData.dataType,data=dataModel.getData(dataType),renderMode=this._renderMode,positionDefault=e.positionDefault,tooltipModel=buildTooltipModel([data.getItemModel(dataIndex),dataModel,seriesModel&&(seriesModel.coordinateSystem||{}).model],this._tooltipModel,positionDefault?{position:positionDefault}:null),tooltipTrigger=tooltipModel.get("trigger");if(null==tooltipTrigger||"item"===tooltipTrigger){var params=dataModel.getDataParams(dataIndex,dataType),markupStyleCreator=new tooltipMarkup/* TooltipMarkupStyleCreator */.iv;// Pre-create marker style for makers. Users can assemble richText
// text in `formatter` callback and use those markers style.
params.marker=markupStyleCreator.makeTooltipMarker("item",(0,format/* convertToColorString */.Lz)(params.color),renderMode);var seriesTooltipResult=(0,dataFormat/* normalizeTooltipFormatResult */.f)(dataModel.formatTooltip(dataIndex,!1,dataType)),orderMode=tooltipModel.get("order"),valueFormatter=tooltipModel.get("valueFormatter"),frag=seriesTooltipResult.frag,markupText=frag?(0,tooltipMarkup/* buildTooltipMarkup */.BY)(valueFormatter?(0,util/* extend */.l7)({valueFormatter:valueFormatter},frag):frag,markupStyleCreator,renderMode,orderMode,ecModel.get("useUTC"),tooltipModel.get("textStyle")):seriesTooltipResult.text,asyncTicket="item_"+dataModel.name+"_"+dataIndex;this._showOrMove(tooltipModel,(function(){this._showTooltipContent(tooltipModel,markupText,params,asyncTicket,e.offsetX,e.offsetY,e.position,e.target,markupStyleCreator)})),// FIXME
// duplicated showtip if manuallyShowTip is called from dispatchAction.
dispatchAction({type:"showTip",dataIndexInside:dataIndex,dataIndex:data.getRawIndex(dataIndex),seriesIndex:seriesIndex,from:this.uid})}},TooltipView.prototype._showComponentItemTooltip=function(e,el,dispatchAction){var ecData=(0,innerStore/* getECData */.A)(el),tooltipConfig=ecData.tooltipConfig,tooltipOpt=tooltipConfig.option||{};if((0,util/* isString */.HD)(tooltipOpt)){var content=tooltipOpt;tooltipOpt={content:content,
// Fixed formatter
formatter:content}}var tooltipModelCascade=[tooltipOpt],cmpt=this._ecModel.getComponent(ecData.componentMainType,ecData.componentIndex);cmpt&&tooltipModelCascade.push(cmpt),// In most cases, component tooltip formatter has different params with series tooltip formatter,
// so that they cannot share the same formatter. Since the global tooltip formatter is used for series
// by convention, we do not use it as the default formatter for component.
tooltipModelCascade.push({formatter:tooltipOpt.content});var positionDefault=e.positionDefault,subTooltipModel=buildTooltipModel(tooltipModelCascade,this._tooltipModel,positionDefault?{position:positionDefault}:null),defaultHtml=subTooltipModel.get("content"),asyncTicket=Math.random()+"",markupStyleCreator=new tooltipMarkup/* TooltipMarkupStyleCreator */.iv;// Do not check whether `trigger` is 'none' here, because `trigger`
// only works on coordinate system. In fact, we have not found case
// that requires setting `trigger` nothing on component yet.
this._showOrMove(subTooltipModel,(function(){
// Use formatterParams from element defined in component
// Avoid users modify it.
var formatterParams=(0,util/* clone */.d9)(subTooltipModel.get("formatterParams")||{});this._showTooltipContent(subTooltipModel,defaultHtml,formatterParams,asyncTicket,e.offsetX,e.offsetY,e.position,el,markupStyleCreator)})),// If not dispatch showTip, tip may be hide triggered by axis.
dispatchAction({type:"showTip",from:this.uid})},TooltipView.prototype._showTooltipContent=function(// Use Model<TooltipOption> insteadof TooltipModel because this model may be from series or other options.
// Instead of top level tooltip.
tooltipModel,defaultHtml,params,asyncTicket,x,y,positionExpr,el,markupStyleCreator){if(
// Reset ticket
this._ticket="",tooltipModel.get("showContent")&&tooltipModel.get("show")){var tooltipContent=this._tooltipContent;tooltipContent.setEnterable(tooltipModel.get("enterable"));var formatter=tooltipModel.get("formatter");positionExpr=positionExpr||tooltipModel.get("position");var html=defaultHtml,nearPoint=this._getNearestPoint([x,y],params,tooltipModel.get("trigger"),tooltipModel.get("borderColor")),nearPointColor=nearPoint.color;if(formatter)if((0,util/* isString */.HD)(formatter)){var useUTC=tooltipModel.ecModel.get("useUTC"),params0=(0,util/* isArray */.kJ)(params)?params[0]:params,isTimeAxis=params0&&params0.axisType&&params0.axisType.indexOf("time")>=0;html=formatter,isTimeAxis&&(html=(0,time/* format */.WU)(params0.axisValue,html,useUTC)),html=(0,format/* formatTpl */.kF)(html,params,!0)}else if((0,util/* isFunction */.mf)(formatter)){var callback=(0,util/* bind */.ak)((function(cbTicket,html){cbTicket===this._ticket&&(tooltipContent.setContent(html,markupStyleCreator,tooltipModel,nearPointColor,positionExpr),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el))}),this);this._ticket=asyncTicket,html=formatter(params,asyncTicket,callback)}else html=formatter;tooltipContent.setContent(html,markupStyleCreator,tooltipModel,nearPointColor,positionExpr),tooltipContent.show(tooltipModel,nearPointColor),this._updatePosition(tooltipModel,positionExpr,x,y,tooltipContent,params,el)}},TooltipView.prototype._getNearestPoint=function(point,tooltipDataParams,trigger,borderColor){return"axis"===trigger||(0,util/* isArray */.kJ)(tooltipDataParams)?{color:borderColor||("html"===this._renderMode?"#fff":"none")}:(0,util/* isArray */.kJ)(tooltipDataParams)?void 0:{color:borderColor||tooltipDataParams.color||tooltipDataParams.borderColor}},TooltipView.prototype._updatePosition=function(tooltipModel,positionExpr,x,// Mouse x
y,// Mouse y
content,params,el){var viewWidth=this._api.getWidth(),viewHeight=this._api.getHeight();positionExpr=positionExpr||tooltipModel.get("position");var contentSize=content.getSize(),align=tooltipModel.get("align"),vAlign=tooltipModel.get("verticalAlign"),rect=el&&el.getBoundingRect().clone();if(el&&rect.applyTransform(el.transform),(0,util/* isFunction */.mf)(positionExpr)&&(
// Callback of position can be an array or a string specify the position
positionExpr=positionExpr([x,y],params,content.el,rect,{viewSize:[viewWidth,viewHeight],contentSize:contentSize.slice()})),(0,util/* isArray */.kJ)(positionExpr))x=(0,number/* parsePercent */.GM)(positionExpr[0],viewWidth),y=(0,number/* parsePercent */.GM)(positionExpr[1],viewHeight);else if((0,util/* isObject */.Kn)(positionExpr)){var boxLayoutPosition=positionExpr;boxLayoutPosition.width=contentSize[0],boxLayoutPosition.height=contentSize[1];var layoutRect=(0,layout/* getLayoutRect */.ME)(boxLayoutPosition,{width:viewWidth,height:viewHeight});x=layoutRect.x,y=layoutRect.y,align=null,// When positionExpr is left/top/right/bottom,
// align and verticalAlign will not work.
vAlign=null}// Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element
else if((0,util/* isString */.HD)(positionExpr)&&el){var pos=calcTooltipPosition(positionExpr,rect,contentSize,tooltipModel.get("borderWidth"));x=pos[0],y=pos[1]}else{pos=refixTooltipPosition(x,y,content,viewWidth,viewHeight,align?null:20,vAlign?null:20);x=pos[0],y=pos[1]}if(align&&(x-=isCenterAlign(align)?contentSize[0]/2:"right"===align?contentSize[0]:0),vAlign&&(y-=isCenterAlign(vAlign)?contentSize[1]/2:"bottom"===vAlign?contentSize[1]:0),shouldTooltipConfine(tooltipModel)){pos=confineTooltipPosition(x,y,content,viewWidth,viewHeight);x=pos[0],y=pos[1]}content.moveTo(x,y)},// FIXME
// Should we remove this but leave this to user?
TooltipView.prototype._updateContentNotChangedOnAxis=function(dataByCoordSys,cbParamsList){var lastCoordSys=this._lastDataByCoordSys,lastCbParamsList=this._cbParamsList,contentNotChanged=!!lastCoordSys&&lastCoordSys.length===dataByCoordSys.length;return contentNotChanged&&(0,util/* each */.S6)(lastCoordSys,(function(lastItemCoordSys,indexCoordSys){var lastDataByAxis=lastItemCoordSys.dataByAxis||[],thisItemCoordSys=dataByCoordSys[indexCoordSys]||{},thisDataByAxis=thisItemCoordSys.dataByAxis||[];contentNotChanged=contentNotChanged&&lastDataByAxis.length===thisDataByAxis.length,contentNotChanged&&(0,util/* each */.S6)(lastDataByAxis,(function(lastItem,indexAxis){var thisItem=thisDataByAxis[indexAxis]||{},lastIndices=lastItem.seriesDataIndices||[],newIndices=thisItem.seriesDataIndices||[];contentNotChanged=contentNotChanged&&lastItem.value===thisItem.value&&lastItem.axisType===thisItem.axisType&&lastItem.axisId===thisItem.axisId&&lastIndices.length===newIndices.length,contentNotChanged&&(0,util/* each */.S6)(lastIndices,(function(lastIdxItem,j){var newIdxItem=newIndices[j];contentNotChanged=contentNotChanged&&lastIdxItem.seriesIndex===newIdxItem.seriesIndex&&lastIdxItem.dataIndex===newIdxItem.dataIndex})),// check is cbParams data value changed
lastCbParamsList&&(0,util/* each */.S6)(lastItem.seriesDataIndices,(function(idxItem){var seriesIdx=idxItem.seriesIndex,cbParams=cbParamsList[seriesIdx],lastCbParams=lastCbParamsList[seriesIdx];cbParams&&lastCbParams&&lastCbParams.data!==cbParams.data&&(contentNotChanged=!1)}))}))})),this._lastDataByCoordSys=dataByCoordSys,this._cbParamsList=cbParamsList,!!contentNotChanged},TooltipView.prototype._hide=function(dispatchAction){
// Do not directly hideLater here, because this behavior may be prevented
// in dispatchAction when showTip is dispatched.
// FIXME
// duplicated hideTip if manuallyHideTip is called from dispatchAction.
this._lastDataByCoordSys=null,dispatchAction({type:"hideTip",from:this.uid})},TooltipView.prototype.dispose=function(ecModel,api){!env/* default */.Z.node&&api.getDom()&&((0,throttle/* clear */.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),globalListener/* unregister */.E("itemTooltip",api))},TooltipView.type="tooltip",TooltipView}(view_Component/* default */.Z);
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/number.js
/**
 * From top to bottom. (the last one should be globalTooltipModel);
 */
function buildTooltipModel(modelCascade,globalTooltipModel,defaultTooltipOption){
// Last is always tooltip model.
var resultModel,ecModel=globalTooltipModel.ecModel;defaultTooltipOption?(resultModel=new Model/* default */.Z(defaultTooltipOption,ecModel,ecModel),resultModel=new Model/* default */.Z(globalTooltipModel.option,resultModel,ecModel)):resultModel=globalTooltipModel;for(var i=modelCascade.length-1;i>=0;i--){var tooltipOpt=modelCascade[i];tooltipOpt&&(tooltipOpt instanceof Model/* default */.Z&&(tooltipOpt=tooltipOpt.get("tooltip",!0)),// In each data item tooltip can be simply write:
// {
//  value: 10,
//  tooltip: 'Something you need to know'
// }
(0,util/* isString */.HD)(tooltipOpt)&&(tooltipOpt={formatter:tooltipOpt}),tooltipOpt&&(resultModel=new Model/* default */.Z(tooltipOpt,resultModel,ecModel)))}return resultModel}function makeDispatchAction(payload,api){return payload.dispatchAction||(0,util/* bind */.ak)(api.dispatchAction,api)}function refixTooltipPosition(x,y,content,viewWidth,viewHeight,gapH,gapV){var size=content.getSize(),width=size[0],height=size[1];return null!=gapH&&(
// Add extra 2 pixels for this case:
// At present the "values" in default tooltip are using CSS `float: right`.
// When the right edge of the tooltip box is on the right side of the
// viewport, the `float` layout might push the "values" to the second line.
x+width+gapH+2>viewWidth?x-=width+gapH:x+=gapH),null!=gapV&&(y+height+gapV>viewHeight?y-=height+gapV:y+=gapV),[x,y]}function confineTooltipPosition(x,y,content,viewWidth,viewHeight){var size=content.getSize(),width=size[0],height=size[1];return x=Math.min(x+width,viewWidth)-width,y=Math.min(y+height,viewHeight)-height,x=Math.max(x,0),y=Math.max(y,0),[x,y]}function calcTooltipPosition(position,rect,contentSize,borderWidth){var domWidth=contentSize[0],domHeight=contentSize[1],offset=Math.ceil(Math.SQRT2*borderWidth)+8,x=0,y=0,rectWidth=rect.width,rectHeight=rect.height;switch(position){case"inside":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight/2-domHeight/2;break;case"top":x=rect.x+rectWidth/2-domWidth/2,y=rect.y-domHeight-offset;break;case"bottom":x=rect.x+rectWidth/2-domWidth/2,y=rect.y+rectHeight+offset;break;case"left":x=rect.x-domWidth-offset,y=rect.y+rectHeight/2-domHeight/2;break;case"right":x=rect.x+rectWidth+offset,y=rect.y+rectHeight/2-domHeight/2}return[x,y]}function isCenterAlign(align){return"center"===align||"middle"===align}
/**
 * Find target component by payload like:
 * ```js
 * { legendId: 'some_id', name: 'xxx' }
 * { toolboxIndex: 1, name: 'xxx' }
 * { geoName: 'some_name', name: 'xxx' }
 * ```
 * PENDING: at present only
 *
 * If not found, return null/undefined.
 */function findComponentReference(payload,ecModel,api){var queryOptionMap=(0,util_model/* preParseFinder */.zH)(payload).queryOptionMap,componentMainType=queryOptionMap.keys()[0];if(componentMainType&&"series"!==componentMainType){var queryResult=(0,util_model/* queryReferringComponents */.HZ)(ecModel,componentMainType,queryOptionMap.get(componentMainType),{useDefault:!1,enableAll:!1,enableNone:!1}),model=queryResult.models[0];if(model){var el,view=api.getViewOfComponentModel(model);return view.group.traverse((function(subEl){var tooltipConfig=(0,innerStore/* getECData */.A)(subEl).tooltipConfig;if(tooltipConfig&&tooltipConfig.name===payload.name)return el=subEl,!0;// stop
})),el?{componentMainType:componentMainType,componentIndex:model.componentIndex,el:el}:void 0}}}
/* harmony default export */var tooltip_TooltipView=TooltipView;// CONCATENATED MODULE: ./node_modules/echarts/lib/component/tooltip/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install_install(registers){(0,extension/* use */.D)(install/* install */.N),registers.registerComponentModel(tooltip_TooltipModel),registers.registerComponentView(tooltip_TooltipView),
/**
   * @action
   * @property {string} type
   * @property {number} seriesIndex
   * @property {number} dataIndex
   * @property {number} [x]
   * @property {number} [y]
   */
registers.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},util/* noop */.ZT),registers.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},util/* noop */.ZT)}
/***/},
/***/453993:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */w:function(){/* binding */return defaultSeriesFormatTooltip}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(305685),_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(668540),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(232234);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function defaultSeriesFormatTooltip(opt){var inlineValue,inlineValueType,subBlocks,sortParam,series=opt.series,dataIndex=opt.dataIndex,multipleSeries=opt.multipleSeries,data=series.getData(),tooltipDims=data.mapDimensionsAll("defaultedTooltip"),tooltipDimLen=tooltipDims.length,value=series.getRawValue(dataIndex),isValueArr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(value),markerColor=(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieveVisualColorForTooltipMarker */.jT)(series,dataIndex);if(tooltipDimLen>1||isValueArr&&!tooltipDimLen){var formatArrResult=formatTooltipArrayValue(value,series,dataIndex,tooltipDims,markerColor);inlineValue=formatArrResult.inlineValues,inlineValueType=formatArrResult.inlineValueTypes,subBlocks=formatArrResult.blocks,// Only support tooltip sort by the first inline value. It's enough in most cases.
sortParam=formatArrResult.inlineValues[0]}else if(tooltipDimLen){var dimInfo=data.getDimensionInfo(tooltipDims[0]);sortParam=inlineValue=(0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__/* .retrieveRawValue */.hk)(data,dataIndex,tooltipDims[0]),inlineValueType=dimInfo.type}else sortParam=inlineValue=isValueArr?value[0]:value;// Do not show generated series name. It might not be readable.
var seriesNameSpecified=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .isNameSpecified */.yu)(series),seriesName=seriesNameSpecified&&series.name||"",itemName=data.getName(dataIndex),inlineName=multipleSeries?seriesName:itemName;return(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__/* .createTooltipMarkup */.TX)("section",{header:seriesName,
// When series name is not specified, do not show a header line with only '-'.
// This case always happens in tooltip.trigger: 'item'.
noHeader:multipleSeries||!seriesNameSpecified,sortParam:sortParam,blocks:[(0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__/* .createTooltipMarkup */.TX)("nameValue",{markerType:"item",markerColor:markerColor,
// Do not mix display seriesName and itemName in one tooltip,
// which might confuses users.
name:inlineName,
// name dimension might be auto assigned, where the name might
// be not readable. So we check trim here.
noName:!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .trim */.fy)(inlineName),value:inlineValue,valueType:inlineValueType})].concat(subBlocks||[])})}function formatTooltipArrayValue(value,series,dataIndex,tooltipDims,colorStr){
// check: category-no-encode-has-axis-data in dataset.html
var data=series.getData(),isValueMultipleLine=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .reduce */.u4)(value,(function(isValueMultipleLine,val,idx){var dimItem=data.getDimensionInfo(idx);return isValueMultipleLine||dimItem&&!1!==dimItem.tooltip&&null!=dimItem.displayName}),!1),inlineValues=[],inlineValueTypes=[],blocks=[];function setEachItem(val,dim){var dimInfo=data.getDimensionInfo(dim);// If `dimInfo.tooltip` is not set, show tooltip.
dimInfo&&!1!==dimInfo.otherDims.tooltip&&(isValueMultipleLine?blocks.push((0,_tooltipMarkup_js__WEBPACK_IMPORTED_MODULE_1__/* .createTooltipMarkup */.TX)("nameValue",{markerType:"subItem",markerColor:colorStr,name:dimInfo.displayName,value:val,valueType:dimInfo.type})):(inlineValues.push(val),inlineValueTypes.push(dimInfo.type)))}return tooltipDims.length?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(tooltipDims,(function(dim){setEachItem((0,_data_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_2__/* .retrieveRawValue */.hk)(data,dataIndex,dim),dim)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(value,setEachItem),{inlineValues:inlineValues,inlineValueTypes:inlineValueTypes,blocks:blocks}}
/***/},
/***/305685:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */BY:function(){/* binding */return buildTooltipMarkup},
/* harmony export */TX:function(){/* binding */return createTooltipMarkup},
/* harmony export */d_:function(){/* binding */return getPaddingFromTooltipModel},
/* harmony export */iv:function(){/* binding */return TooltipMarkupStyleCreator},
/* harmony export */jT:function(){/* binding */return retrieveVisualColorForTooltipMarker}
/* harmony export */});
/* harmony import */var _util_format_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(284602),_util_format_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(578988),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_data_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(198407),_util_number_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(785669),TOOLTIP_LINE_HEIGHT_CSS="line-height:1";
/* harmony import */ // TODO: more textStyle option
function getTooltipTextStyle(textStyle,renderMode){var nameFontColor=textStyle.color||"#6e7079",nameFontSize=textStyle.fontSize||12,nameFontWeight=textStyle.fontWeight||"400",valueFontColor=textStyle.color||"#464646",valueFontSize=textStyle.fontSize||14,valueFontWeight=textStyle.fontWeight||"900";return"html"===renderMode?{
// eslint-disable-next-line max-len
nameStyle:"font-size:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(nameFontSize+"")+"px;color:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(nameFontColor)+";font-weight:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(nameFontWeight+""),
// eslint-disable-next-line max-len
valueStyle:"font-size:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(valueFontSize+"")+"px;color:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(valueFontColor)+";font-weight:"+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(valueFontWeight+"")}:{nameStyle:{fontSize:nameFontSize,fill:nameFontColor,fontWeight:nameFontWeight},valueStyle:{fontSize:valueFontSize,fill:valueFontColor,fontWeight:valueFontWeight}}}// See `TooltipMarkupLayoutIntent['innerGapLevel']`.
// (value from UI design)
var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["","\n","\n\n","\n\n\n"];// eslint-disable-next-line max-len
function createTooltipMarkup(type,option){return option.type=type,option}function isSectionFragment(frag){return"section"===frag.type}function getBuilder(frag){return isSectionFragment(frag)?buildSection:buildNameValue}function getBlockGapLevel(frag){if(isSectionFragment(frag)){var gapLevel_1=0,subBlockLen=frag.blocks.length,hasInnerGap_1=subBlockLen>1||subBlockLen>0&&!frag.noHeader;return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(frag.blocks,(function(subBlock){var subGapLevel=getBlockGapLevel(subBlock);// If the some of the sub-blocks have some gaps (like 10px) inside, this block
// should use a larger gap (like 20px) to distinguish those sub-blocks.
subGapLevel>=gapLevel_1&&(gapLevel_1=subGapLevel+ +(hasInnerGap_1&&(// 0 always can not be readable gap level.
!subGapLevel||isSectionFragment(subBlock)&&!subBlock.noHeader)))})),gapLevel_1}return 0}function buildSection(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var noHeader=fragment.noHeader,gaps=getGap(getBlockGapLevel(fragment)),subMarkupTextList=[],subBlocks=fragment.blocks||[];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .assert */.hu)(!subBlocks||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(subBlocks)),subBlocks=subBlocks||[];var orderMode=ctx.orderMode;if(fragment.sortBlocks&&orderMode){subBlocks=subBlocks.slice();var orderMap={valueAsc:"asc",valueDesc:"desc"};if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .hasOwn */.RI)(orderMap,orderMode)){var comparator_1=new _data_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .SortOrderComparator */.ID(orderMap[orderMode],null);subBlocks.sort((function(a,b){return comparator_1.evaluate(a.sortParam,b.sortParam)}))}// FIXME 'seriesDesc' necessary?
else"seriesDesc"===orderMode&&subBlocks.reverse()}(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(subBlocks,(function(subBlock,idx){var valueFormatter=fragment.valueFormatter,subMarkupText=getBuilder(subBlock)(// Inherit valueFormatter
valueFormatter?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)({},ctx),{valueFormatter:valueFormatter}):ctx,subBlock,idx>0?gaps.html:0,toolTipTextStyle);null!=subMarkupText&&subMarkupTextList.push(subMarkupText)}));var subMarkupText="richText"===ctx.renderMode?subMarkupTextList.join(gaps.richText):wrapBlockHTML(subMarkupTextList.join(""),noHeader?topMarginForOuterGap:gaps.html);if(noHeader)return subMarkupText;var displayableHeader=(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__/* .makeValueReadable */.uX)(fragment.header,"ordinal",ctx.useUTC),nameStyle=getTooltipTextStyle(toolTipTextStyle,ctx.renderMode).nameStyle;return"richText"===ctx.renderMode?wrapInlineNameRichText(ctx,displayableHeader,nameStyle)+gaps.richText+subMarkupText:wrapBlockHTML('<div style="'+nameStyle+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(displayableHeader)+"</div>"+subMarkupText,topMarginForOuterGap)}function buildNameValue(ctx,fragment,topMarginForOuterGap,toolTipTextStyle){var renderMode=ctx.renderMode,noName=fragment.noName,noValue=fragment.noValue,noMarker=!fragment.markerType,name=fragment.name,useUTC=ctx.useUTC,valueFormatter=fragment.valueFormatter||ctx.valueFormatter||function(value){return value=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(value)?value:[value],(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI)(value,(function(val,idx){return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__/* .makeValueReadable */.uX)(val,(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(valueTypeOption)?valueTypeOption[idx]:valueTypeOption,useUTC)}))};if(!noName||!noValue){var markerStr=noMarker?"":ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType,fragment.markerColor||"#333",renderMode),readableName=noName?"":(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__/* .makeValueReadable */.uX)(name,"ordinal",useUTC),valueTypeOption=fragment.valueType,readableValueList=noValue?[]:valueFormatter(fragment.value),valueAlignRight=!noMarker||!noName,valueCloseToMarker=!noMarker&&noName,_a=getTooltipTextStyle(toolTipTextStyle,renderMode),nameStyle=_a.nameStyle,valueStyle=_a.valueStyle;return"richText"===renderMode?(noMarker?"":markerStr)+(noName?"":wrapInlineNameRichText(ctx,readableName,nameStyle))+(noValue?"":wrapInlineValueRichText(ctx,readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)):wrapBlockHTML((noMarker?"":markerStr)+(noName?"":wrapInlineNameHTML(readableName,!noMarker,nameStyle))+(noValue?"":wrapInlineValueHTML(readableValueList,valueAlignRight,valueCloseToMarker,valueStyle)),topMarginForOuterGap)}}
/**
 * @return markupText. null/undefined means no content.
 */function buildTooltipMarkup(fragment,markupStyleCreator,renderMode,orderMode,useUTC,toolTipTextStyle){if(fragment){var builder=getBuilder(fragment),ctx={useUTC:useUTC,renderMode:renderMode,orderMode:orderMode,markupStyleCreator:markupStyleCreator,valueFormatter:fragment.valueFormatter};return builder(ctx,fragment,0,toolTipTextStyle)}}function getGap(gapLevel){return{html:HTML_GAPS[gapLevel],richText:RICH_TEXT_GAPS[gapLevel]}}function wrapBlockHTML(encodedContent,topGap){var clearfix='<div style="clear:both"></div>',marginCSS="margin: "+topGap+"px 0 0";return'<div style="'+marginCSS+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodedContent+clearfix+"</div>"}function wrapInlineNameHTML(name,leftHasMarker,style){var marginCss=leftHasMarker?"margin-left:2px":"";return'<span style="'+style+";"+marginCss+'">'+(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(name)+"</span>"}function wrapInlineValueHTML(valueList,alignRight,valueCloseToMarker,style){
// Do not too close to marker, considering there are multiple values separated by spaces.
var paddingStr=valueCloseToMarker?"10px":"20px",alignCSS=alignRight?"float:right;margin-left:"+paddingStr:"";return valueList=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(valueList)?valueList:[valueList],'<span style="'+alignCSS+";"+style+'">'+(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI)(valueList,(function(value){return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_0__/* .encodeHTML */.F1)(value)})).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(ctx,name,style){return ctx.markupStyleCreator.wrapRichTextStyle(name,style)}function wrapInlineValueRichText(ctx,values,alignRight,valueCloseToMarker,style){var styles=[style],paddingLeft=valueCloseToMarker?10:20;// Value has commas inside, so use '  ' as delimiter for multiple values.
return alignRight&&styles.push({padding:[0,0,0,paddingLeft],align:"right"}),ctx.markupStyleCreator.wrapRichTextStyle((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(values)?values.join("  "):values,styles)}function retrieveVisualColorForTooltipMarker(series,dataIndex){var style=series.getData().getItemVisual(dataIndex,"style"),color=style[series.visualDrawType];return(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__/* .convertToColorString */.Lz)(color)}function getPaddingFromTooltipModel(model,renderMode){var padding=model.get("padding");return null!=padding?padding:"richText"===renderMode?[8,10]:10}
/**
 * The major feature is generate styles for `renderMode: 'richText'`.
 * But it also serves `renderMode: 'html'` to provide
 * "renderMode-independent" API.
 */var TooltipMarkupStyleCreator=
/** @class */
function(){function TooltipMarkupStyleCreator(){this.richTextStyles={},// Notice that "generate a style name" usually happens repeatedly when mouse is moving and
// a tooltip is displayed. So we put the `_nextStyleNameId` as a member of each creator
// rather than static shared by all creators (which will cause it increase to fast).
this._nextStyleNameId=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_4__/* .getRandomIdBase */.jj)()}return TooltipMarkupStyleCreator.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},TooltipMarkupStyleCreator.prototype.makeTooltipMarker=function(markerType,colorStr,renderMode){var markerId="richText"===renderMode?this._generateStyleName():null,marker=(0,_util_format_js__WEBPACK_IMPORTED_MODULE_3__/* .getTooltipMarker */.A0)({color:colorStr,type:markerType,renderMode:renderMode,markerId:markerId});return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(marker)?marker:(this.richTextStyles[markerId]=marker.style,marker.content)},
/**
   * @usage
   * ```ts
   * const styledText = markupStyleCreator.wrapRichTextStyle([
   *     // The styles will be auto merged.
   *     {
   *         fontSize: 12,
   *         color: 'blue'
   *     },
   *     {
   *         padding: 20
   *     }
   * ]);
   * ```
   */
TooltipMarkupStyleCreator.prototype.wrapRichTextStyle=function(text,styles){var finalStl={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(styles)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(styles,(function(stl){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)(finalStl,stl)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)(finalStl,styles);var styleName=this._generateStyleName();return this.richTextStyles[styleName]=finalStl,"{"+styleName+"|"+text+"}"},TooltipMarkupStyleCreator}();
/***/},
/***/111389:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/conditionalExpression.js
var conditionalExpression=__webpack_require__(974901),util=__webpack_require__(933051),log=__webpack_require__(470175),filterTransform={type:"echarts:filter",
// PENDING: enhance to filter by index rather than create new data
transform:function(params){for(
// [Caveat] Fail-Fast:
// Do not return the whole dataset unless user config indicates it explicitly.
// For example, if no condition is specified by mistake, returning an empty result
// is better than returning the entire raw source for the user to find the mistake.
var rawItem,upstream=params.upstream,condition=(0,conditionalExpression/* parseConditionalExpression */.a)(params.config,{valueGetterAttrMap:(0,util/* createHashMap */.kW)({dimension:!0}),prepareGetValue:function(exprOption){var errMsg="",dimLoose=exprOption.dimension;(0,util/* hasOwn */.RI)(exprOption,"dimension")||(0,log/* throwError */._y)(errMsg);var dimInfo=upstream.getDimensionInfo(dimLoose);return dimInfo||(0,log/* throwError */._y)(errMsg),{dimIdx:dimInfo.index}},getValue:function(param){return upstream.retrieveValueFromItem(rawItem,param.dimIdx)}}),resultData=[],i=0,len=upstream.count();i<len;i++)rawItem=upstream.getRawDataItem(i),condition.evaluate()&&resultData.push(rawItem);return{data:resultData}}},types=__webpack_require__(894279),model=__webpack_require__(232234),dataValueHelper=__webpack_require__(198407);
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/util.js
var sortTransform={type:"echarts:sort",transform:function(params){var upstream=params.upstream,config=params.config,errMsg="",orderExprList=(0,model/* normalizeToArray */.kF)(config);orderExprList.length||(0,log/* throwError */._y)(errMsg);var orderDefList=[];(0,util/* each */.S6)(orderExprList,(function(orderExpr){var dimLoose=orderExpr.dimension,order=orderExpr.order,parserName=orderExpr.parser,incomparable=orderExpr.incomparable;if(null==dimLoose&&(0,log/* throwError */._y)(errMsg),"asc"!==order&&"desc"!==order&&(0,log/* throwError */._y)(errMsg),incomparable&&"min"!==incomparable&&"max"!==incomparable){var errMsg_1="";0,(0,log/* throwError */._y)(errMsg_1)}if("asc"!==order&&"desc"!==order){var errMsg_2="";0,(0,log/* throwError */._y)(errMsg_2)}var dimInfo=upstream.getDimensionInfo(dimLoose);dimInfo||(0,log/* throwError */._y)(errMsg);var parser=parserName?(0,dataValueHelper/* getRawValueParser */.o2)(parserName):null;parserName&&!parser&&(0,log/* throwError */._y)(errMsg),orderDefList.push({dimIdx:dimInfo.index,parser:parser,comparator:new dataValueHelper/* SortOrderComparator */.ID(order,incomparable)})}));// TODO: support it?
var sourceFormat=upstream.sourceFormat;sourceFormat!==types/* SOURCE_FORMAT_ARRAY_ROWS */.XD&&sourceFormat!==types/* SOURCE_FORMAT_OBJECT_ROWS */.qb&&(0,log/* throwError */._y)(errMsg);// Other upstream format are all array.
for(var resultData=[],i=0,len=upstream.count();i<len;i++)resultData.push(upstream.getRawDataItem(i));return resultData.sort((function(item0,item1){for(var i=0;i<orderDefList.length;i++){var orderDef=orderDefList[i],val0=upstream.retrieveValueFromItem(item0,orderDef.dimIdx),val1=upstream.retrieveValueFromItem(item1,orderDef.dimIdx);orderDef.parser&&(val0=orderDef.parser(val0),val1=orderDef.parser(val1));var result=orderDef.comparator.evaluate(val0,val1);if(0!==result)return result}return 0})),{data:resultData}}};// CONCATENATED MODULE: ./node_modules/echarts/lib/component/transform/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerTransform(filterTransform),registers.registerTransform(sortTransform)}
/***/},
/***/850720:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{N:function(){/* binding */return install_install}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/extension.js
var extension=__webpack_require__(768023),tslib_es6=__webpack_require__(570655),util=__webpack_require__(933051),visualDefault=__webpack_require__(182300),VisualMapping=__webpack_require__(159937),visualSolution=__webpack_require__(30801),model=__webpack_require__(232234),number=__webpack_require__(785669),Component=__webpack_require__(498071),mapVisual=VisualMapping/* default */.Z.mapVisual,eachVisual=VisualMapping/* default */.Z.eachVisual,isArray=util/* isArray */.kJ,each=util/* each */.S6,asc=number/* asc */.dt,linearMap=number/* linearMap */.NU,VisualMapModel=
/** @class */
function(_super){function VisualMapModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=VisualMapModel.type,_this.stateList=["inRange","outOfRange"],_this.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],_this.layoutMode={type:"box",ignoreSize:!0},
/**
     * [lowerBound, upperBound]
     */
_this.dataBound=[-1/0,1/0],_this.targetVisuals={},_this.controllerVisuals={},_this}return(0,tslib_es6/* __extends */.ZT)(VisualMapModel,_super),VisualMapModel.prototype.init=function(option,parentModel,ecModel){this.mergeDefaultAndTheme(option,ecModel)},
/**
   * @protected
   */
VisualMapModel.prototype.optionUpdated=function(newOption,isInit){var thisOption=this.option;!isInit&&visualSolution/* replaceVisualOption */.jO(thisOption,newOption,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},
/**
   * @protected
   */
VisualMapModel.prototype.resetVisual=function(supplementVisualOption){var stateList=this.stateList;supplementVisualOption=util/* bind */.ak(supplementVisualOption,this),this.controllerVisuals=visualSolution/* createVisualMappings */.qD(this.option.controller,stateList,supplementVisualOption),this.targetVisuals=visualSolution/* createVisualMappings */.qD(this.option.target,stateList,supplementVisualOption)},
/**
   * @public
   */
VisualMapModel.prototype.getItemSymbol=function(){return null},
/**
   * @protected
   * @return {Array.<number>} An array of series indices.
   */
VisualMapModel.prototype.getTargetSeriesIndices=function(){var optionSeriesIndex=this.option.seriesIndex,seriesIndices=[];return null==optionSeriesIndex||"all"===optionSeriesIndex?this.ecModel.eachSeries((function(seriesModel,index){seriesIndices.push(index)})):seriesIndices=model/* normalizeToArray */.kF(optionSeriesIndex),seriesIndices},
/**
   * @public
   */
VisualMapModel.prototype.eachTargetSeries=function(callback,context){util/* each */.S6(this.getTargetSeriesIndices(),(function(seriesIndex){var seriesModel=this.ecModel.getSeriesByIndex(seriesIndex);seriesModel&&callback.call(context,seriesModel)}),this)},
/**
   * @pubilc
   */
VisualMapModel.prototype.isTargetSeries=function(seriesModel){var is=!1;return this.eachTargetSeries((function(model){model===seriesModel&&(is=!0)})),is},
/**
   * @example
   * this.formatValueText(someVal); // format single numeric value to text.
   * this.formatValueText(someVal, true); // format single category value to text.
   * this.formatValueText([min, max]); // format numeric min-max to text.
   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.
   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.
   *
   * @param value Real value, or this.dataBound[0 or 1].
   * @param isCategory Only available when value is number.
   * @param edgeSymbols Open-close symbol when value is interval.
   * @protected
   */
VisualMapModel.prototype.formatValueText=function(value,isCategory,edgeSymbols){var isMinMax,option=this.option,precision=option.precision,dataBound=this.dataBound,formatter=option.formatter;edgeSymbols=edgeSymbols||["<",">"],util/* isArray */.kJ(value)&&(value=value.slice(),isMinMax=!0);var textValue=isCategory?value:isMinMax?[toFixed(value[0]),toFixed(value[1])]:toFixed(value);return util/* isString */.HD(formatter)?formatter.replace("{value}",isMinMax?textValue[0]:textValue).replace("{value2}",isMinMax?textValue[1]:textValue):util/* isFunction */.mf(formatter)?isMinMax?formatter(value[0],value[1]):formatter(value):isMinMax?value[0]===dataBound[0]?edgeSymbols[0]+" "+textValue[1]:value[1]===dataBound[1]?edgeSymbols[1]+" "+textValue[0]:textValue[0]+" - "+textValue[1]:textValue;function toFixed(val){return val===dataBound[0]?"min":val===dataBound[1]?"max":(+val).toFixed(Math.min(precision,20))}},
/**
   * @protected
   */
VisualMapModel.prototype.resetExtent=function(){var thisOption=this.option,extent=asc([thisOption.min,thisOption.max]);// Can not calculate data extent by data here.
// Because series and data may be modified in processing stage.
// So we do not support the feature "auto min/max".
this._dataExtent=extent},
/**
   * PENDING:
   * delete this method if no outer usage.
   *
   * Return  Concrete dimension. If null/undefined is returned, no dimension is used.
   */
// getDataDimension(data: SeriesData) {
//     const optDim = this.option.dimension;
//     if (optDim != null) {
//         return data.getDimension(optDim);
//     }
//     const dimNames = data.dimensions;
//     for (let i = dimNames.length - 1; i >= 0; i--) {
//         const dimName = dimNames[i];
//         const dimInfo = data.getDimensionInfo(dimName);
//         if (!dimInfo.isCalculationCoord) {
//             return dimName;
//         }
//     }
// }
VisualMapModel.prototype.getDataDimensionIndex=function(data){var optDim=this.option.dimension;if(null!=optDim)return data.getDimensionIndex(optDim);for(var dimNames=data.dimensions,i=dimNames.length-1;i>=0;i--){var dimName=dimNames[i],dimInfo=data.getDimensionInfo(dimName);if(!dimInfo.isCalculationCoord)return dimInfo.storeDimIndex}},VisualMapModel.prototype.getExtent=function(){return this._dataExtent.slice()},VisualMapModel.prototype.completeVisualOption=function(){var ecModel=this.ecModel,thisOption=this.option,base={inRange:thisOption.inRange,outOfRange:thisOption.outOfRange},target=thisOption.target||(thisOption.target={}),controller=thisOption.controller||(thisOption.controller={});util/* merge */.TS(target,base),// Do not override
util/* merge */.TS(controller,base);// Do not override
var isCategory=this.isCategory();function completeSingle(base){
// Compatible with ec2 dataRange.color.
// The mapping order of dataRange.color is: [high value, ..., low value]
// whereas inRange.color and outOfRange.color is [low value, ..., high value]
// Notice: ec2 has no inverse.
isArray(thisOption.color)&&!base.inRange&&(base.inRange={color:thisOption.color.slice().reverse()}),// Compatible with previous logic, always give a default color, otherwise
// simple config with no inRange and outOfRange will not work.
// Originally we use visualMap.color as the default color, but setOption at
// the second time the default color will be erased. So we change to use
// constant DEFAULT_COLOR.
// If user do not want the default color, set inRange: {color: null}.
base.inRange=base.inRange||{color:ecModel.get("gradientColor")}}function completeInactive(base,stateExist,stateAbsent){var optExist=base[stateExist],optAbsent=base[stateAbsent];optExist&&!optAbsent&&(optAbsent=base[stateAbsent]={},each(optExist,(function(visualData,visualType){if(VisualMapping/* default */.Z.isValidType(visualType)){var defa=visualDefault/* default */.Z.get(visualType,"inactive",isCategory);null!=defa&&(optAbsent[visualType]=defa,// Compatibable with ec2:
// Only inactive color to rgba(0,0,0,0) can not
// make label transparent, so use opacity also.
"color"!==visualType||optAbsent.hasOwnProperty("opacity")||optAbsent.hasOwnProperty("colorAlpha")||(optAbsent.opacity=[0,0]))}})))}function completeController(controller){var symbolExists=(controller.inRange||{}).symbol||(controller.outOfRange||{}).symbol,symbolSizeExists=(controller.inRange||{}).symbolSize||(controller.outOfRange||{}).symbolSize,inactiveColor=this.get("inactiveColor"),itemSymbol=this.getItemSymbol(),defaultSymbol=itemSymbol||"roundRect";each(this.stateList,(function(state){var itemSize=this.itemSize,visuals=controller[state];// Set inactive color for controller if no other color
// attr (like colorAlpha) specified.
visuals||(visuals=controller[state]={color:isCategory?inactiveColor:[inactiveColor]}),// Consistent symbol and symbolSize if not specified.
null==visuals.symbol&&(visuals.symbol=symbolExists&&util/* clone */.d9(symbolExists)||(isCategory?defaultSymbol:[defaultSymbol])),null==visuals.symbolSize&&(visuals.symbolSize=symbolSizeExists&&util/* clone */.d9(symbolSizeExists)||(isCategory?itemSize[0]:[itemSize[0],itemSize[0]])),// Filter none
visuals.symbol=mapVisual(visuals.symbol,(function(symbol){return"none"===symbol?defaultSymbol:symbol}));// Normalize symbolSize
var symbolSize=visuals.symbolSize;if(null!=symbolSize){var max_1=-1/0;// symbolSize can be object when categories defined.
eachVisual(symbolSize,(function(value){value>max_1&&(max_1=value)})),visuals.symbolSize=mapVisual(symbolSize,(function(value){return linearMap(value,[0,max_1],[0,itemSize[0]],!0)}))}}),this)}completeSingle.call(this,target),completeSingle.call(this,controller),completeInactive.call(this,target,"inRange","outOfRange"),// completeInactive.call(this, target, 'outOfRange', 'inRange');
completeController.call(this,controller)},VisualMapModel.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},VisualMapModel.prototype.isCategory=function(){return!!this.option.categories},
/**
   * @public
   * @abstract
   */
VisualMapModel.prototype.setSelected=function(selected){},VisualMapModel.prototype.getSelected=function(){return null},
/**
   * @public
   * @abstract
   */
VisualMapModel.prototype.getValueState=function(value){return null},
/**
   * FIXME
   * Do not publish to thirt-part-dev temporarily
   * util the interface is stable. (Should it return
   * a function but not visual meta?)
   *
   * @pubilc
   * @abstract
   * @param getColorVisual
   *        params: value, valueState
   *        return: color
   * @return {Object} visualMeta
   *        should includes {stops, outerColors}
   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]
   */
VisualMapModel.prototype.getVisualMeta=function(getColorVisual){return null},VisualMapModel.type="visualMap",VisualMapModel.dependencies=["series"],VisualMapModel.defaultOption={show:!0,
// zlevel: 0,
z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,
// 接受数组分别设定上右下左边距，同css
textGap:10,precision:0,textStyle:{color:"#333"}},VisualMapModel}(Component/* default */.Z),visualMap_VisualMapModel=VisualMapModel,component=__webpack_require__(942151),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=
/** @class */
function(_super){function ContinuousModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ContinuousModel.type,_this}
/**
   * @override
   */return(0,tslib_es6/* __extends */.ZT)(ContinuousModel,_super),ContinuousModel.prototype.optionUpdated=function(newOption,isInit){_super.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(mappingOption){mappingOption.mappingMethod="linear",mappingOption.dataExtent=this.getExtent()})),this._resetRange()},
/**
   * @protected
   * @override
   */
ContinuousModel.prototype.resetItemSize=function(){_super.prototype.resetItemSize.apply(this,arguments);var itemSize=this.itemSize;(null==itemSize[0]||isNaN(itemSize[0]))&&(itemSize[0]=DEFAULT_BAR_BOUND[0]),(null==itemSize[1]||isNaN(itemSize[1]))&&(itemSize[1]=DEFAULT_BAR_BOUND[1])},
/**
   * @private
   */
ContinuousModel.prototype._resetRange=function(){var dataExtent=this.getExtent(),range=this.option.range;!range||range.auto?(
// `range` should always be array (so we don't use other
// value like 'auto') for user-friend. (consider getOption).
dataExtent.auto=1,this.option.range=dataExtent):util/* isArray */.kJ(range)&&(range[0]>range[1]&&range.reverse(),range[0]=Math.max(range[0],dataExtent[0]),range[1]=Math.min(range[1],dataExtent[1]))},
/**
   * @protected
   * @override
   */
ContinuousModel.prototype.completeVisualOption=function(){_super.prototype.completeVisualOption.apply(this,arguments),util/* each */.S6(this.stateList,(function(state){var symbolSize=this.option.controller[state].symbolSize;symbolSize&&symbolSize[0]!==symbolSize[1]&&(symbolSize[0]=symbolSize[1]/3)}),this)},
/**
   * @override
   */
ContinuousModel.prototype.setSelected=function(selected){this.option.range=selected.slice(),this._resetRange()},
/**
   * @public
   */
ContinuousModel.prototype.getSelected=function(){var dataExtent=this.getExtent(),dataInterval=number/* asc */.dt((this.get("range")||[]).slice());// Clamp
return dataInterval[0]>dataExtent[1]&&(dataInterval[0]=dataExtent[1]),dataInterval[1]>dataExtent[1]&&(dataInterval[1]=dataExtent[1]),dataInterval[0]<dataExtent[0]&&(dataInterval[0]=dataExtent[0]),dataInterval[1]<dataExtent[0]&&(dataInterval[1]=dataExtent[0]),dataInterval},
/**
   * @override
   */
ContinuousModel.prototype.getValueState=function(value){var range=this.option.range,dataExtent=this.getExtent();// When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.
// range[1] is processed likewise.
return(range[0]<=dataExtent[0]||range[0]<=value)&&(range[1]>=dataExtent[1]||value<=range[1])?"inRange":"outOfRange"},ContinuousModel.prototype.findTargetDataIndices=function(range){var result=[];return this.eachTargetSeries((function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimensionIndex(data),(function(value,dataIndex){range[0]<=value&&value<=range[1]&&dataIndices.push(dataIndex)}),this),result.push({seriesId:seriesModel.id,dataIndex:dataIndices})}),this),result},
/**
   * @implement
   */
ContinuousModel.prototype.getVisualMeta=function(getColorVisual){var oVals=getColorStopValues(this,"outOfRange",this.getExtent()),iVals=getColorStopValues(this,"inRange",this.option.range.slice()),stops=[];function setStop(value,valueState){stops.push({value:value,color:getColorVisual(value,valueState)})}// Format to: outOfRange -- inRange -- outOfRange.
for(var iIdx=0,oIdx=0,iLen=iVals.length,oLen=oVals.length;oIdx<oLen&&(!iVals.length||oVals[oIdx]<=iVals[0]);oIdx++)
// If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.
oVals[oIdx]<iVals[iIdx]&&setStop(oVals[oIdx],"outOfRange");for(var first=1;iIdx<iLen;iIdx++,first=0)
// If range is full, value beyond min, max will be clamped.
// make a singularity
first&&stops.length&&setStop(iVals[iIdx],"outOfRange"),setStop(iVals[iIdx],"inRange");for(first=1;oIdx<oLen;oIdx++)(!iVals.length||iVals[iVals.length-1]<oVals[oIdx])&&(
// make a singularity
first&&(stops.length&&setStop(stops[stops.length-1].value,"outOfRange"),first=0),setStop(oVals[oIdx],"outOfRange"));var stopsLen=stops.length;return{stops:stops,outerColors:[stopsLen?stops[0].color:"transparent",stopsLen?stops[stopsLen-1].color:"transparent"]}},ContinuousModel.type="visualMap.continuous",ContinuousModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(visualMap_VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),ContinuousModel}(visualMap_VisualMapModel);
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
function getColorStopValues(visualMapModel,valueState,dataExtent){if(dataExtent[0]===dataExtent[1])return dataExtent.slice();// When using colorHue mapping, it is not linear color any more.
// Moreover, canvas gradient seems not to be accurate linear.
// FIXME
// Should be arbitrary value 100? or based on pixel size?
for(var count=200,step=(dataExtent[1]-dataExtent[0])/count,value=dataExtent[0],stopValues=[],i=0;i<=count&&value<dataExtent[1];i++)stopValues.push(value),value+=step;return stopValues.push(dataExtent[1]),stopValues}
/* harmony default export */var visualMap_ContinuousModel=ContinuousModel,LinearGradient=__webpack_require__(574438),core_event=__webpack_require__(461158),Rect=__webpack_require__(25293),format=__webpack_require__(578988),layout=__webpack_require__(576172),view_Component=__webpack_require__(833166),VisualMapView=
/** @class */
function(_super){function VisualMapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=VisualMapView.type,_this.autoPositionValues={left:1,right:1,top:1,bottom:1},_this}return(0,tslib_es6/* __extends */.ZT)(VisualMapView,_super),VisualMapView.prototype.init=function(ecModel,api){this.ecModel=ecModel,this.api=api},
/**
   * @protected
   */
VisualMapView.prototype.render=function(visualMapModel,ecModel,api,payload){this.visualMapModel=visualMapModel,!1!==visualMapModel.get("show")?this.doRender(visualMapModel,ecModel,api,payload):this.group.removeAll()},
/**
   * @protected
   */
VisualMapView.prototype.renderBackground=function(group){var visualMapModel=this.visualMapModel,padding=format/* normalizeCssArray */.MY(visualMapModel.get("padding")||0),rect=group.getBoundingRect();group.add(new Rect/* default */.Z({z2:-1,silent:!0,shape:{x:rect.x-padding[3],y:rect.y-padding[0],width:rect.width+padding[3]+padding[1],height:rect.height+padding[0]+padding[2]},style:{fill:visualMapModel.get("backgroundColor"),stroke:visualMapModel.get("borderColor"),lineWidth:visualMapModel.get("borderWidth")}}))},
/**
   * @protected
   * @param targetValue can be Infinity or -Infinity
   * @param visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'
   * @param opts
   * @param opts.forceState Specify state, instead of using getValueState method.
   * @param opts.convertOpacityToAlpha For color gradient in controller widget.
   * @return {*} Visual value.
   */
VisualMapView.prototype.getControllerVisual=function(targetValue,visualCluster,opts){opts=opts||{};var forceState=opts.forceState,visualMapModel=this.visualMapModel,visualObj={};// Default values.
if("color"===visualCluster){var defaultColor=visualMapModel.get("contentColor");visualObj.color=defaultColor}function getter(key){return visualObj[key]}function setter(key,value){visualObj[key]=value}var mappings=visualMapModel.controllerVisuals[forceState||visualMapModel.getValueState(targetValue)],visualTypes=VisualMapping/* default */.Z.prepareVisualTypes(mappings);return util/* each */.S6(visualTypes,(function(type){var visualMapping=mappings[type];opts.convertOpacityToAlpha&&"opacity"===type&&(type="colorAlpha",visualMapping=mappings.__alphaForOpacity),VisualMapping/* default */.Z.dependsOn(type,visualCluster)&&visualMapping&&visualMapping.applyVisual(targetValue,getter,setter)})),visualObj[visualCluster]},VisualMapView.prototype.positionGroup=function(group){var model=this.visualMapModel,api=this.api;layout/* positionElement */.p$(group,model.getBoxLayoutParams(),{width:api.getWidth(),height:api.getHeight()})},VisualMapView.prototype.doRender=function(visualMapModel,ecModel,api,payload){},VisualMapView.type="visualMap",VisualMapView}(view_Component/* default */.Z),visualMap_VisualMapView=VisualMapView,Text=__webpack_require__(679750),Group=__webpack_require__(38154),graphic=__webpack_require__(851177),Polygon=__webpack_require__(195094),sliderMove=__webpack_require__(19233),paramsSet=[["left","right","width"],["top","bottom","height"]];
// EXTERNAL MODULE: ./node_modules/zrender/lib/graphic/LinearGradient.js
/**
 * @param visualMapModel
 * @param api
 * @param itemSize always [short, long]
 * @return {string} 'left' or 'right' or 'top' or 'bottom'
 */
function getItemAlign(visualMapModel,api,itemSize){var modelOption=visualMapModel.option,itemAlign=modelOption.align;if(null!=itemAlign&&"auto"!==itemAlign)return itemAlign;// Auto decision align.
for(var ecSize={width:api.getWidth(),height:api.getHeight()},realIndex="horizontal"===modelOption.orient?1:0,reals=paramsSet[realIndex],fakeValue=[0,null,10],layoutInput={},i=0;i<3;i++)layoutInput[paramsSet[1-realIndex][i]]=fakeValue[i],layoutInput[reals[i]]=2===i?itemSize[0]:modelOption[reals[i]];var rParam=[["x","width",3],["y","height",0]][realIndex],rect=(0,layout/* getLayoutRect */.ME)(layoutInput,ecSize,modelOption.padding);return reals[(rect.margin[rParam[2]]||0)+rect[rParam[0]]+.5*rect[rParam[1]]<.5*ecSize[rParam[1]]?0:1]}
/**
 * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and
 * dataIndexInside means filtered index.
 */
// TODO: TYPE more specified payload types.
function makeHighDownBatch(batch,visualMapModel){return util/* each */.S6(batch||[],(function(batchItem){null!=batchItem.dataIndex&&(batchItem.dataIndexInside=batchItem.dataIndex,batchItem.dataIndex=null),batchItem.highlightKey="visualMap"+(visualMapModel?visualMapModel.componentIndex:"")})),batch}
// EXTERNAL MODULE: ./node_modules/zrender/lib/contain/text.js
var contain_text=__webpack_require__(780423),states=__webpack_require__(726357),symbol=__webpack_require__(241525),Image=__webpack_require__(744535),innerStore=__webpack_require__(30106),labelStyle=__webpack_require__(336006),util_event=__webpack_require__(218310),ContinuousView_linearMap=number/* linearMap */.NU,ContinuousView_each=util/* each */.S6,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=
/** @class */
function(_super){function ContinuousView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=ContinuousView.type,_this._shapes={},_this._dataInterval=[],_this._handleEnds=[],_this._hoverLinkDataIndices=[],_this}return(0,tslib_es6/* __extends */.ZT)(ContinuousView,_super),ContinuousView.prototype.doRender=function(visualMapModel,ecModel,api,payload){this._api=api,payload&&"selectDataRange"===payload.type&&payload.from===this.uid||this._buildView()},ContinuousView.prototype._buildView=function(){this.group.removeAll();var visualMapModel=this.visualMapModel,thisGroup=this.group;this._orient=visualMapModel.get("orient"),this._useHandle=visualMapModel.get("calculable"),this._resetInterval(),this._renderBar(thisGroup);var dataRangeText=visualMapModel.get("text");this._renderEndsText(thisGroup,dataRangeText,0),this._renderEndsText(thisGroup,dataRangeText,1),// Do this for background size calculation.
this._updateView(!0),// After updating view, inner shapes is built completely,
// and then background can be rendered.
this.renderBackground(thisGroup),// Real update view
this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(thisGroup)},ContinuousView.prototype._renderEndsText=function(group,dataRangeText,endsIndex){if(dataRangeText){// Compatible with ec2, text[0] map to high value, text[1] map low value.
var text=dataRangeText[1-endsIndex];text=null!=text?text+"":"";var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),itemSize=visualMapModel.itemSize,barGroup=this._shapes.mainGroup,position=this._applyTransform([itemSize[0]/2,0===endsIndex?-textGap:itemSize[1]+textGap],barGroup),align=this._applyTransform(0===endsIndex?"bottom":"top",barGroup),orient=this._orient,textStyleModel=this.visualMapModel.textStyleModel;this.group.add(new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{x:position[0],y:position[1],verticalAlign:"horizontal"===orient?"middle":align,align:"horizontal"===orient?align:"center",text:text})}))}},ContinuousView.prototype._renderBar=function(targetGroup){var visualMapModel=this.visualMapModel,shapes=this._shapes,itemSize=visualMapModel.itemSize,orient=this._orient,useHandle=this._useHandle,itemAlign=getItemAlign(visualMapModel,this.api,itemSize),mainGroup=shapes.mainGroup=this._createBarGroup(itemAlign),gradientBarGroup=new Group/* default */.Z;mainGroup.add(gradientBarGroup),// Bar
gradientBarGroup.add(shapes.outOfRange=createPolygon()),gradientBarGroup.add(shapes.inRange=createPolygon(null,useHandle?getCursor(this._orient):null,util/* bind */.ak(this._dragHandle,this,"all",!1),util/* bind */.ak(this._dragHandle,this,"all",!0))),// A border radius clip.
gradientBarGroup.setClipPath(new Rect/* default */.Z({shape:{x:0,y:0,width:itemSize[0],height:itemSize[1],r:3}}));var textRect=visualMapModel.textStyleModel.getTextRect("国"),textSize=mathMax(textRect.width,textRect.height);// Handle
useHandle&&(shapes.handleThumbs=[],shapes.handleLabels=[],shapes.handleLabelPoints=[],this._createHandle(visualMapModel,mainGroup,0,itemSize,textSize,orient),this._createHandle(visualMapModel,mainGroup,1,itemSize,textSize,orient)),this._createIndicator(visualMapModel,mainGroup,itemSize,textSize,orient),targetGroup.add(mainGroup)},ContinuousView.prototype._createHandle=function(visualMapModel,mainGroup,handleIndex,itemSize,textSize,orient){var onDrift=util/* bind */.ak(this._dragHandle,this,handleIndex,!1),onDragEnd=util/* bind */.ak(this._dragHandle,this,handleIndex,!0),handleSize=(0,contain_text/* parsePercent */.GM)(visualMapModel.get("handleSize"),itemSize[0]),handleThumb=(0,symbol/* createSymbol */.th)(visualMapModel.get("handleIcon"),-handleSize/2,-handleSize/2,handleSize,handleSize,null,!0),cursor=getCursor(this._orient);handleThumb.attr({cursor:cursor,draggable:!0,drift:onDrift,ondragend:onDragEnd,onmousemove:function(e){core_event/* stop */.sT(e.event)}}),handleThumb.x=itemSize[0]/2,handleThumb.useStyle(visualMapModel.getModel("handleStyle").getItemStyle()),handleThumb.setStyle({strokeNoScale:!0,strokeFirst:!0}),handleThumb.style.lineWidth*=2,handleThumb.ensureState("emphasis").style=visualMapModel.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,states/* setAsHighDownDispatcher */.Nj)(handleThumb,!0),mainGroup.add(handleThumb);// Text is always horizontal layout but should not be effected by
// transform (orient/inverse). So label is built separately but not
// use zrender/graphic/helper/RectText, and is located based on view
// group (according to handleLabelPoint) but not barGroup.
var textStyleModel=this.visualMapModel.textStyleModel,handleLabel=new Text/* default */.ZP({cursor:cursor,draggable:!0,drift:onDrift,onmousemove:function(e){
// For mobile device, prevent screen slider on the button.
core_event/* stop */.sT(e.event)},ondragend:onDragEnd,style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{x:0,y:0,text:""})});handleLabel.ensureState("blur").style={opacity:.1},handleLabel.stateTransition={duration:200},this.group.add(handleLabel);var handleLabelPoint=[handleSize,0],shapes=this._shapes;shapes.handleThumbs[handleIndex]=handleThumb,shapes.handleLabelPoints[handleIndex]=handleLabelPoint,shapes.handleLabels[handleIndex]=handleLabel},ContinuousView.prototype._createIndicator=function(visualMapModel,mainGroup,itemSize,textSize,orient){var scale=(0,contain_text/* parsePercent */.GM)(visualMapModel.get("indicatorSize"),itemSize[0]),indicator=(0,symbol/* createSymbol */.th)(visualMapModel.get("indicatorIcon"),-scale/2,-scale/2,scale,scale,null,!0);indicator.attr({cursor:"move",invisible:!0,silent:!0,x:itemSize[0]/2});var indicatorStyle=visualMapModel.getModel("indicatorStyle").getItemStyle();if(indicator instanceof Image/* default */.ZP){var pathStyle=indicator.style;indicator.useStyle(util/* extend */.l7({
// TODO other properties like x, y ?
image:pathStyle.image,x:pathStyle.x,y:pathStyle.y,width:pathStyle.width,height:pathStyle.height},indicatorStyle))}else indicator.useStyle(indicatorStyle);mainGroup.add(indicator);var textStyleModel=this.visualMapModel.textStyleModel,indicatorLabel=new Text/* default */.ZP({silent:!0,invisible:!0,style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{x:0,y:0,text:""})});this.group.add(indicatorLabel);var indicatorLabelPoint=[("horizontal"===orient?textSize/2:HOVER_LINK_OUT)+itemSize[0]/2,0],shapes=this._shapes;shapes.indicator=indicator,shapes.indicatorLabel=indicatorLabel,shapes.indicatorLabelPoint=indicatorLabelPoint,this._firstShowIndicator=!0},ContinuousView.prototype._dragHandle=function(handleIndex,isEnd,// dx is event from ondragend if isEnd is true. It's not used
dx,dy){if(this._useHandle){if(this._dragging=!isEnd,!isEnd){
// Transform dx, dy to bar coordination.
var vertex=this._applyTransform([dx,dy],this._shapes.mainGroup,!0);this._updateInterval(handleIndex,vertex[1]),this._hideIndicator(),// Considering realtime, update view should be executed
// before dispatch action.
this._updateView()}// dragEnd do not dispatch action when realtime.
isEnd===!this.visualMapModel.get("realtime")&&
// jshint ignore:line
this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),isEnd?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[handleIndex],!1)}},ContinuousView.prototype._resetInterval=function(){var visualMapModel=this.visualMapModel,dataInterval=this._dataInterval=visualMapModel.getSelected(),dataExtent=visualMapModel.getExtent(),sizeExtent=[0,visualMapModel.itemSize[1]];this._handleEnds=[ContinuousView_linearMap(dataInterval[0],dataExtent,sizeExtent,!0),ContinuousView_linearMap(dataInterval[1],dataExtent,sizeExtent,!0)]},
/**
   * @private
   * @param {(number|string)} handleIndex 0 or 1 or 'all'
   * @param {number} dx
   * @param {number} dy
   */
ContinuousView.prototype._updateInterval=function(handleIndex,delta){delta=delta||0;var visualMapModel=this.visualMapModel,handleEnds=this._handleEnds,sizeExtent=[0,visualMapModel.itemSize[1]];(0,sliderMove/* default */.Z)(delta,handleEnds,sizeExtent,handleIndex,// cross is forbidden
0);var dataExtent=visualMapModel.getExtent();// Update data interval.
this._dataInterval=[ContinuousView_linearMap(handleEnds[0],sizeExtent,dataExtent,!0),ContinuousView_linearMap(handleEnds[1],sizeExtent,dataExtent,!0)]},ContinuousView.prototype._updateView=function(forSketch){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),shapes=this._shapes,outOfRangeHandleEnds=[0,visualMapModel.itemSize[1]],inRangeHandleEnds=forSketch?outOfRangeHandleEnds:this._handleEnds,visualInRange=this._createBarVisual(this._dataInterval,dataExtent,inRangeHandleEnds,"inRange"),visualOutOfRange=this._createBarVisual(dataExtent,dataExtent,outOfRangeHandleEnds,"outOfRange");shapes.inRange.setStyle({fill:visualInRange.barColor}).setShape("points",visualInRange.barPoints),shapes.outOfRange.setStyle({fill:visualOutOfRange.barColor}).setShape("points",visualOutOfRange.barPoints),this._updateHandle(inRangeHandleEnds,visualInRange)},ContinuousView.prototype._createBarVisual=function(dataInterval,dataExtent,handleEnds,forceState){var opts={forceState:forceState,convertOpacityToAlpha:!0},colorStops=this._makeColorGradient(dataInterval,opts),symbolSizes=[this.getControllerVisual(dataInterval[0],"symbolSize",opts),this.getControllerVisual(dataInterval[1],"symbolSize",opts)],barPoints=this._createBarPoints(handleEnds,symbolSizes);return{barColor:new LinearGradient/* default */.Z(0,0,0,1,colorStops),barPoints:barPoints,handlesColor:[colorStops[0].color,colorStops[colorStops.length-1].color]}},ContinuousView.prototype._makeColorGradient=function(dataInterval,opts){
// Considering colorHue, which is not linear, so we have to sample
// to calculate gradient color stops, but not only calculate head
// and tail.
var sampleNumber=100,colorStops=[],step=(dataInterval[1]-dataInterval[0])/sampleNumber;// Arbitrary value.
colorStops.push({color:this.getControllerVisual(dataInterval[0],"color",opts),offset:0});for(var i=1;i<sampleNumber;i++){var currValue=dataInterval[0]+step*i;if(currValue>dataInterval[1])break;colorStops.push({color:this.getControllerVisual(currValue,"color",opts),offset:i/sampleNumber})}return colorStops.push({color:this.getControllerVisual(dataInterval[1],"color",opts),offset:1}),colorStops},ContinuousView.prototype._createBarPoints=function(handleEnds,symbolSizes){var itemSize=this.visualMapModel.itemSize;return[[itemSize[0]-symbolSizes[0],handleEnds[0]],[itemSize[0],handleEnds[0]],[itemSize[0],handleEnds[1]],[itemSize[0]-symbolSizes[1],handleEnds[1]]]},ContinuousView.prototype._createBarGroup=function(itemAlign){var orient=this._orient,inverse=this.visualMapModel.get("inverse");return new Group/* default */.Z("horizontal"!==orient||inverse?"horizontal"===orient&&inverse?{scaleX:"bottom"===itemAlign?-1:1,rotation:-Math.PI/2}:"vertical"!==orient||inverse?{scaleX:"left"===itemAlign?1:-1}:{scaleX:"left"===itemAlign?1:-1,scaleY:-1}:{scaleX:"bottom"===itemAlign?1:-1,rotation:Math.PI/2})},ContinuousView.prototype._updateHandle=function(handleEnds,visualInRange){if(this._useHandle){var shapes=this._shapes,visualMapModel=this.visualMapModel,handleThumbs=shapes.handleThumbs,handleLabels=shapes.handleLabels,itemSize=visualMapModel.itemSize,dataExtent=visualMapModel.getExtent();ContinuousView_each([0,1],(function(handleIndex){var handleThumb=handleThumbs[handleIndex];handleThumb.setStyle("fill",visualInRange.handlesColor[handleIndex]),handleThumb.y=handleEnds[handleIndex];var val=ContinuousView_linearMap(handleEnds[handleIndex],[0,itemSize[1]],dataExtent,!0),symbolSize=this.getControllerVisual(val,"symbolSize");handleThumb.scaleX=handleThumb.scaleY=symbolSize/itemSize[0],handleThumb.x=itemSize[0]-symbolSize/2;// Update handle label position.
var textPoint=graphic.applyTransform(shapes.handleLabelPoints[handleIndex],graphic.getTransform(handleThumb,this.group));handleLabels[handleIndex].setStyle({x:textPoint[0],y:textPoint[1],text:visualMapModel.formatValueText(this._dataInterval[handleIndex]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",shapes.mainGroup):"center"})}),this)}},ContinuousView.prototype._showIndicator=function(cursorValue,textValue,rangeSymbol,halfHoverLinkSize){var visualMapModel=this.visualMapModel,dataExtent=visualMapModel.getExtent(),itemSize=visualMapModel.itemSize,sizeExtent=[0,itemSize[1]],shapes=this._shapes,indicator=shapes.indicator;if(indicator){indicator.attr("invisible",!1);var opts={convertOpacityToAlpha:!0},color=this.getControllerVisual(cursorValue,"color",opts),symbolSize=this.getControllerVisual(cursorValue,"symbolSize"),y=ContinuousView_linearMap(cursorValue,dataExtent,sizeExtent,!0),x=itemSize[0]-symbolSize/2,oldIndicatorPos={x:indicator.x,y:indicator.y};// Update handle label position.
indicator.y=y,indicator.x=x;var textPoint=graphic.applyTransform(shapes.indicatorLabelPoint,graphic.getTransform(indicator,this.group)),indicatorLabel=shapes.indicatorLabel;indicatorLabel.attr("invisible",!1);var align=this._applyTransform("left",shapes.mainGroup),orient=this._orient,isHorizontal="horizontal"===orient;indicatorLabel.setStyle({text:(rangeSymbol||"")+visualMapModel.formatValueText(textValue),verticalAlign:isHorizontal?align:"middle",align:isHorizontal?"center":align});var indicatorNewProps={x:x,y:y,style:{fill:color}},labelNewProps={style:{x:textPoint[0],y:textPoint[1]}};if(visualMapModel.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var animationCfg={duration:100,easing:"cubicInOut",additive:!0};indicator.x=oldIndicatorPos.x,indicator.y=oldIndicatorPos.y,indicator.animateTo(indicatorNewProps,animationCfg),indicatorLabel.animateTo(labelNewProps,animationCfg)}else indicator.attr(indicatorNewProps),indicatorLabel.attr(labelNewProps);this._firstShowIndicator=!1;var handleLabels=this._shapes.handleLabels;if(handleLabels)for(var i=0;i<handleLabels.length;i++)
// Fade out handle labels.
// NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.
this._api.enterBlur(handleLabels[i])}},ContinuousView.prototype._enableHoverLinkToSeries=function(){var self=this;this._shapes.mainGroup.on("mousemove",(function(e){if(self._hovering=!0,!self._dragging){var itemSize=self.visualMapModel.itemSize,pos=self._applyTransform([e.offsetX,e.offsetY],self._shapes.mainGroup,!0,!0);// For hover link show when hover handle, which might be
// below or upper than sizeExtent.
pos[1]=mathMin(mathMax(0,pos[1]),itemSize[1]),self._doHoverLinkToSeries(pos[1],0<=pos[0]&&pos[0]<=itemSize[0])}})).on("mouseout",(function(){
// When mouse is out of handle, hoverLink still need
// to be displayed when realtime is set as false.
self._hovering=!1,!self._dragging&&self._clearHoverLinkToSeries()}))},ContinuousView.prototype._enableHoverLinkFromSeries=function(){var zr=this.api.getZr();this.visualMapModel.option.hoverLink?(zr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),zr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},ContinuousView.prototype._doHoverLinkToSeries=function(cursorPos,hoverOnBar){var visualMapModel=this.visualMapModel,itemSize=visualMapModel.itemSize;if(visualMapModel.option.hoverLink){var sizeExtent=[0,itemSize[1]],dataExtent=visualMapModel.getExtent();// For hover link show when hover handle, which might be below or upper than sizeExtent.
cursorPos=mathMin(mathMax(sizeExtent[0],cursorPos),sizeExtent[1]);var halfHoverLinkSize=getHalfHoverLinkSize(visualMapModel,dataExtent,sizeExtent),hoverRange=[cursorPos-halfHoverLinkSize,cursorPos+halfHoverLinkSize],cursorValue=ContinuousView_linearMap(cursorPos,sizeExtent,dataExtent,!0),valueRange=[ContinuousView_linearMap(hoverRange[0],sizeExtent,dataExtent,!0),ContinuousView_linearMap(hoverRange[1],sizeExtent,dataExtent,!0)];// Consider data range is out of visualMap range, see test/visualMap-continuous.html,
// where china and india has very large population.
hoverRange[0]<sizeExtent[0]&&(valueRange[0]=-1/0),hoverRange[1]>sizeExtent[1]&&(valueRange[1]=1/0),// Do not show indicator when mouse is over handle,
// otherwise labels overlap, especially when dragging.
hoverOnBar&&(valueRange[0]===-1/0?this._showIndicator(cursorValue,valueRange[1],"< ",halfHoverLinkSize):valueRange[1]===1/0?this._showIndicator(cursorValue,valueRange[0],"> ",halfHoverLinkSize):this._showIndicator(cursorValue,cursorValue,"≈ ",halfHoverLinkSize));// When realtime is set as false, handles, which are in barGroup,
// also trigger hoverLink, which help user to realize where they
// focus on when dragging. (see test/heatmap-large.html)
// When realtime is set as true, highlight will not show when hover
// handle, because the label on handle, which displays a exact value
// but not range, might mislead users.
var oldBatch=this._hoverLinkDataIndices,newBatch=[];(hoverOnBar||useHoverLinkOnHandle(visualMapModel))&&(newBatch=this._hoverLinkDataIndices=visualMapModel.findTargetDataIndices(valueRange));var resultBatches=model/* compressBatches */.XI(oldBatch,newBatch);this._dispatchHighDown("downplay",makeHighDownBatch(resultBatches[0],visualMapModel)),this._dispatchHighDown("highlight",makeHighDownBatch(resultBatches[1],visualMapModel))}},ContinuousView.prototype._hoverLinkFromSeriesMouseOver=function(e){var ecData;if((0,util_event/* findEventDispatcher */.o)(e.target,(function(target){var currECData=(0,innerStore/* getECData */.A)(target);if(null!=currECData.dataIndex)return ecData=currECData,!0}),!0),ecData){var dataModel=this.ecModel.getSeriesByIndex(ecData.seriesIndex),visualMapModel=this.visualMapModel;if(visualMapModel.isTargetSeries(dataModel)){var data=dataModel.getData(ecData.dataType),value=data.getStore().get(visualMapModel.getDataDimensionIndex(data),ecData.dataIndex);isNaN(value)||this._showIndicator(value,value)}}},ContinuousView.prototype._hideIndicator=function(){var shapes=this._shapes;shapes.indicator&&shapes.indicator.attr("invisible",!0),shapes.indicatorLabel&&shapes.indicatorLabel.attr("invisible",!0);var handleLabels=this._shapes.handleLabels;if(handleLabels)for(var i=0;i<handleLabels.length;i++)
// Fade out handle labels.
// NOTE: Must use api enter/leave on emphasis/blur/select state. Or the global states manager will change it.
this._api.leaveBlur(handleLabels[i])},ContinuousView.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var indices=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(indices,this.visualMapModel)),indices.length=0},ContinuousView.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var zr=this.api.getZr();zr.off("mouseover",this._hoverLinkFromSeriesMouseOver),zr.off("mouseout",this._hideIndicator)},ContinuousView.prototype._applyTransform=function(vertex,element,inverse,global){var transform=graphic.getTransform(element,global?null:this.group);return util/* isArray */.kJ(vertex)?graphic.applyTransform(vertex,transform,inverse):graphic.transformDirection(vertex,transform,inverse)},// TODO: TYPE more specified payload types.
ContinuousView.prototype._dispatchHighDown=function(type,batch){batch&&batch.length&&this.api.dispatchAction({type:type,batch:batch})},
/**
   * @override
   */
ContinuousView.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},
/**
   * @override
   */
ContinuousView.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},ContinuousView.type="visualMap.continuous",ContinuousView}(visualMap_VisualMapView);
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/states.js
function createPolygon(points,cursor,onDrift,onDragEnd){return new Polygon/* default */.Z({shape:{points:points},draggable:!!onDrift,cursor:cursor,drift:onDrift,onmousemove:function(e){
// For mobile device, prevent screen slider on the button.
core_event/* stop */.sT(e.event)},ondragend:onDragEnd})}function getHalfHoverLinkSize(visualMapModel,dataExtent,sizeExtent){var halfHoverLinkSize=HOVER_LINK_SIZE/2,hoverLinkDataSize=visualMapModel.get("hoverLinkDataSize");return hoverLinkDataSize&&(halfHoverLinkSize=ContinuousView_linearMap(hoverLinkDataSize,dataExtent,sizeExtent,!0)/2),halfHoverLinkSize}function useHoverLinkOnHandle(visualMapModel){var hoverLinkOnHandle=visualMapModel.get("hoverLinkOnHandle");return!!(null==hoverLinkOnHandle?visualMapModel.get("realtime"):hoverLinkOnHandle)}function getCursor(orient){return"vertical"===orient?"ns-resize":"ew-resize"}
/* harmony default export */var visualMap_ContinuousView=ContinuousView,visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",
// FIXME use updateView appears wrong
update:"update"},visualMapActionHander=function(payload,ecModel){ecModel.eachComponent({mainType:"visualMap",query:payload},(function(model){model.setSelected(payload.selected)}))},helper=__webpack_require__(726211),visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(seriesModel,ecModel){var resetDefines=[];return ecModel.eachComponent("visualMap",(function(visualMapModel){var pipelineContext=seriesModel.pipelineContext;!visualMapModel.isTargetSeries(seriesModel)||pipelineContext&&pipelineContext.large||resetDefines.push(visualSolution/* incrementalApplyVisual */.Z7(visualMapModel.stateList,visualMapModel.targetVisuals,util/* bind */.ak(visualMapModel.getValueState,visualMapModel),visualMapModel.getDataDimensionIndex(seriesModel.getData())))})),resetDefines}},// Only support color.
{createOnAllSeries:!0,reset:function(seriesModel,ecModel){var data=seriesModel.getData(),visualMetaList=[];ecModel.eachComponent("visualMap",(function(visualMapModel){if(visualMapModel.isTargetSeries(seriesModel)){var visualMeta=visualMapModel.getVisualMeta(util/* bind */.ak(getColorVisual,null,seriesModel,visualMapModel))||{stops:[],outerColors:[]},dimIdx=visualMapModel.getDataDimensionIndex(data);dimIdx>=0&&(
// visualMeta.dimension should be dimension index, but not concrete dimension.
visualMeta.dimension=dimIdx,visualMetaList.push(visualMeta))}})),// console.log(JSON.stringify(visualMetaList.map(a => a.stops)));
seriesModel.getData().setVisual("visualMeta",visualMetaList)}}];// FIXME
// performance and export for heatmap?
// value can be Infinity or -Infinity
function getColorVisual(seriesModel,visualMapModel,value,valueState){for(var mappings=visualMapModel.targetVisuals[valueState],visualTypes=VisualMapping/* default */.Z.prepareVisualTypes(mappings),resultVisual={color:(0,helper/* getVisualFromData */.UL)(seriesModel.getData(),"color")},i=0,len=visualTypes.length;i<len;i++){var type=visualTypes[i],mapping=mappings["opacity"===type?"__alphaForOpacity":type];mapping&&mapping.applyVisual(value,getVisual,setVisual)}return resultVisual.color;function getVisual(key){return resultVisual[key]}function setVisual(key,value){resultVisual[key]=value}}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/preprocessor.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// @ts-nocheck
var preprocessor_each=util/* each */.S6;function visualMapPreprocessor(option){var visualMap=option&&option.visualMap;util/* isArray */.kJ(visualMap)||(visualMap=visualMap?[visualMap]:[]),preprocessor_each(visualMap,(function(opt){if(opt){// rename splitList to pieces
has(opt,"splitList")&&!has(opt,"pieces")&&(opt.pieces=opt.splitList,delete opt.splitList);var pieces=opt.pieces;pieces&&util/* isArray */.kJ(pieces)&&preprocessor_each(pieces,(function(piece){util/* isObject */.Kn(piece)&&(has(piece,"start")&&!has(piece,"min")&&(piece.min=piece.start),has(piece,"end")&&!has(piece,"max")&&(piece.max=piece.end))}))}}))}function has(obj,name){return obj&&obj.hasOwnProperty&&obj.hasOwnProperty(name)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/installCommon.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var installed=!1;function installCommon(registers){installed||(installed=!0,registers.registerSubTypeDefaulter("visualMap",(function(option){
// Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.
return option.categories||(option.pieces?option.pieces.length>0:option.splitNumber>0)&&!option.calculable?"piecewise":"continuous"})),registers.registerAction(visualMapActionInfo,visualMapActionHander),(0,util/* each */.S6)(visualMapEncodingHandlers,(function(handler){registers.registerVisual(registers.PRIORITY.VISUAL.COMPONENT,handler)})),registers.registerPreprocessor(visualMapPreprocessor))}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/installVisualMapContinuous.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install(registers){registers.registerComponentModel(visualMap_ContinuousModel),registers.registerComponentView(visualMap_ContinuousView),installCommon(registers)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/PiecewiseModel.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
var PiecewiseModel=
/** @class */
function(_super){function PiecewiseModel(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PiecewiseModel.type,
/**
     * The order is always [low, ..., high].
     * [{text: string, interval: Array.<number>}, ...]
     */
_this._pieceList=[],_this}return(0,tslib_es6/* __extends */.ZT)(PiecewiseModel,_super),PiecewiseModel.prototype.optionUpdated=function(newOption,isInit){_super.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var mode=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(newOption,isInit);var categories=this.option.categories;this.resetVisual((function(mappingOption,state){"categories"===mode?(mappingOption.mappingMethod="category",mappingOption.categories=util/* clone */.d9(categories)):(mappingOption.dataExtent=this.getExtent(),mappingOption.mappingMethod="piecewise",mappingOption.pieceList=util/* map */.UI(this._pieceList,(function(piece){return piece=util/* clone */.d9(piece),"inRange"!==state&&(
// FIXME
// outOfRange do not support special visual in pieces.
piece.visual=null),piece})))}))},
/**
   * @protected
   * @override
   */
PiecewiseModel.prototype.completeVisualOption=function(){
// Consider this case:
// visualMap: {
//      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]
// }
// where no inRange/outOfRange set but only pieces. So we should make
// default inRange/outOfRange for this case, otherwise visuals that only
// appear in `pieces` will not be taken into account in visual encoding.
var option=this.option,visualTypesInPieces={},visualTypes=VisualMapping/* default */.Z.listVisualTypes(),isCategory=this.isCategory();function has(obj,state,visualType){return obj&&obj[state]&&obj[state].hasOwnProperty(visualType)}util/* each */.S6(option.pieces,(function(piece){util/* each */.S6(visualTypes,(function(visualType){piece.hasOwnProperty(visualType)&&(visualTypesInPieces[visualType]=1)}))})),util/* each */.S6(visualTypesInPieces,(function(v,visualType){var exists=!1;util/* each */.S6(this.stateList,(function(state){exists=exists||has(option,state,visualType)||has(option.target,state,visualType)}),this),!exists&&util/* each */.S6(this.stateList,(function(state){(option[state]||(option[state]={}))[visualType]=visualDefault/* default */.Z.get(visualType,"inRange"===state?"active":"inactive",isCategory)}))}),this),_super.prototype.completeVisualOption.apply(this,arguments)},PiecewiseModel.prototype._resetSelected=function(newOption,isInit){var thisOption=this.option,pieceList=this._pieceList,selected=(isInit?thisOption:newOption).selected||{};if(thisOption.selected=selected,// Consider 'not specified' means true.
util/* each */.S6(pieceList,(function(piece,index){var key=this.getSelectedMapKey(piece);selected.hasOwnProperty(key)||(selected[key]=!0)}),this),"single"===thisOption.selectedMode){
// Ensure there is only one selected.
var hasSel_1=!1;util/* each */.S6(pieceList,(function(piece,index){var key=this.getSelectedMapKey(piece);selected[key]&&(hasSel_1?selected[key]=!1:hasSel_1=!0)}),this)}// thisOption.selectedMode === 'multiple', default: all selected.
},
/**
   * @public
   */
PiecewiseModel.prototype.getItemSymbol=function(){return this.get("itemSymbol")},
/**
   * @public
   */
PiecewiseModel.prototype.getSelectedMapKey=function(piece){return"categories"===this._mode?piece.value+"":piece.index+""},
/**
   * @public
   */
PiecewiseModel.prototype.getPieceList=function(){return this._pieceList},
/**
   * @return {string}
   */
PiecewiseModel.prototype._determineMode=function(){var option=this.option;return option.pieces&&option.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},
/**
   * @override
   */
PiecewiseModel.prototype.setSelected=function(selected){this.option.selected=util/* clone */.d9(selected)},
/**
   * @override
   */
PiecewiseModel.prototype.getValueState=function(value){var index=VisualMapping/* default */.Z.findPieceIndex(value,this._pieceList);return null!=index&&this.option.selected[this.getSelectedMapKey(this._pieceList[index])]?"inRange":"outOfRange"},
/**
   * @public
   * @param pieceIndex piece index in visualMapModel.getPieceList()
   */
PiecewiseModel.prototype.findTargetDataIndices=function(pieceIndex){var result=[],pieceList=this._pieceList;return this.eachTargetSeries((function(seriesModel){var dataIndices=[],data=seriesModel.getData();data.each(this.getDataDimensionIndex(data),(function(value,dataIndex){
// Should always base on model pieceList, because it is order sensitive.
var pIdx=VisualMapping/* default */.Z.findPieceIndex(value,pieceList);pIdx===pieceIndex&&dataIndices.push(dataIndex)}),this),result.push({seriesId:seriesModel.id,dataIndex:dataIndices})}),this),result},
/**
   * @private
   * @param piece piece.value or piece.interval is required.
   * @return  Can be Infinity or -Infinity
   */
PiecewiseModel.prototype.getRepresentValue=function(piece){var representValue;if(this.isCategory())representValue=piece.value;else if(null!=piece.value)representValue=piece.value;else{var pieceInterval=piece.interval||[];representValue=pieceInterval[0]===-1/0&&pieceInterval[1]===1/0?0:(pieceInterval[0]+pieceInterval[1])/2}return representValue},PiecewiseModel.prototype.getVisualMeta=function(getColorVisual){
// Do not support category. (category axis is ordinal, numerical)
if(!this.isCategory()){var stops=[],outerColors=["",""],visualMapModel=this,pieceList=this._pieceList.slice();if(pieceList.length){var edge=pieceList[0].interval[0];edge!==-1/0&&pieceList.unshift({interval:[-1/0,edge]}),edge=pieceList[pieceList.length-1].interval[1],edge!==1/0&&pieceList.push({interval:[edge,1/0]})}else pieceList.push({interval:[-1/0,1/0]});var curr=-1/0;return util/* each */.S6(pieceList,(function(piece){var interval=piece.interval;interval&&(
// Fulfill gap.
interval[0]>curr&&setStop([curr,interval[0]],"outOfRange"),setStop(interval.slice()),curr=interval[1])}),this),{stops:stops,outerColors:outerColors}}function setStop(interval,valueState){var representValue=visualMapModel.getRepresentValue({interval:interval});// Not category
valueState||(valueState=visualMapModel.getValueState(representValue));var color=getColorVisual(representValue,valueState);interval[0]===-1/0?outerColors[0]=color:interval[1]===1/0?outerColors[1]=color:stops.push({value:interval[0],color:color},{value:interval[1],color:color})}// Suplement
},PiecewiseModel.type="visualMap.piecewise",PiecewiseModel.defaultOption=(0,component/* inheritDefaultOption */.ZL)(visualMap_VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),PiecewiseModel}(visualMap_VisualMapModel),resetMethods={splitNumber:function(outPieceList){var thisOption=this.option,precision=Math.min(thisOption.precision,20),dataExtent=this.getExtent(),splitNumber=thisOption.splitNumber;splitNumber=Math.max(parseInt(splitNumber,10),1),thisOption.splitNumber=splitNumber;var splitStep=(dataExtent[1]-dataExtent[0])/splitNumber;// Precision auto-adaption
while(+splitStep.toFixed(precision)!==splitStep&&precision<5)precision++;thisOption.precision=precision,splitStep=+splitStep.toFixed(precision),thisOption.minOpen&&outPieceList.push({interval:[-1/0,dataExtent[0]],close:[0,0]});for(var index=0,curr=dataExtent[0];index<splitNumber;curr+=splitStep,index++){var max=index===splitNumber-1?dataExtent[1]:curr+splitStep;outPieceList.push({interval:[curr,max],close:[1,1]})}thisOption.maxOpen&&outPieceList.push({interval:[dataExtent[1],1/0],close:[0,0]}),(0,number/* reformIntervals */.nR)(outPieceList),util/* each */.S6(outPieceList,(function(piece,index){piece.index=index,piece.text=this.formatValueText(piece.interval)}),this)},categories:function(outPieceList){var thisOption=this.option;util/* each */.S6(thisOption.categories,(function(cate){
// FIXME category模式也使用pieceList，但在visualMapping中不是使用pieceList。
// 是否改一致。
outPieceList.push({text:this.formatValueText(cate,!0),value:cate})}),this),// See "Order Rule".
normalizeReverse(thisOption,outPieceList)},pieces:function(outPieceList){var thisOption=this.option;util/* each */.S6(thisOption.pieces,(function(pieceListItem,index){util/* isObject */.Kn(pieceListItem)||(pieceListItem={value:pieceListItem});var item={text:"",index:index};if(null!=pieceListItem.label&&(item.text=pieceListItem.label),pieceListItem.hasOwnProperty("value")){var value=item.value=pieceListItem.value;item.interval=[value,value],item.close=[1,1]}else{for(
// `min` `max` is legacy option.
// `lt` `gt` `lte` `gte` is recommended.
var interval=item.interval=[],close_1=item.close=[0,0],closeList=[1,0,1],infinityList=[-1/0,1/0],useMinMax=[],lg=0;lg<2;lg++){for(var names=[["gte","gt","min"],["lte","lt","max"]][lg],i=0;i<3&&null==interval[lg];i++)interval[lg]=pieceListItem[names[i]],close_1[lg]=closeList[i],useMinMax[lg]=2===i;null==interval[lg]&&(interval[lg]=infinityList[lg])}useMinMax[0]&&interval[1]===1/0&&(close_1[0]=0),useMinMax[1]&&interval[0]===-1/0&&(close_1[1]=0),interval[0]===interval[1]&&close_1[0]&&close_1[1]&&(
// Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],
// we use value to lift the priority when min === max
item.value=interval[0])}item.visual=VisualMapping/* default */.Z.retrieveVisuals(pieceListItem),outPieceList.push(item)}),this),// See "Order Rule".
normalizeReverse(thisOption,outPieceList),// Only pieces
(0,number/* reformIntervals */.nR)(outPieceList),util/* each */.S6(outPieceList,(function(piece){var close=piece.close,edgeSymbols=[["<","≤"][close[1]],[">","≥"][close[0]]];piece.text=piece.text||this.formatValueText(null!=piece.value?piece.value:piece.interval,!1,edgeSymbols)}),this)}};function normalizeReverse(thisOption,pieceList){var inverse=thisOption.inverse;("vertical"===thisOption.orient?!inverse:inverse)&&pieceList.reverse()}
/* harmony default export */var visualMap_PiecewiseModel=PiecewiseModel,PiecewiseVisualMapView=
/** @class */
function(_super){function PiecewiseVisualMapView(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.type=PiecewiseVisualMapView.type,_this}return(0,tslib_es6/* __extends */.ZT)(PiecewiseVisualMapView,_super),PiecewiseVisualMapView.prototype.doRender=function(){var thisGroup=this.group;thisGroup.removeAll();var visualMapModel=this.visualMapModel,textGap=visualMapModel.get("textGap"),textStyleModel=visualMapModel.textStyleModel,textFont=textStyleModel.getFont(),textFill=textStyleModel.getTextColor(),itemAlign=this._getItemAlign(),itemSize=visualMapModel.itemSize,viewData=this._getViewData(),endsText=viewData.endsText,showLabel=util/* retrieve */.Jv(visualMapModel.get("showLabel",!0),!endsText);endsText&&this._renderEndsText(thisGroup,endsText[0],itemSize,showLabel,itemAlign),util/* each */.S6(viewData.viewPieceList,(function(item){var piece=item.piece,itemGroup=new Group/* default */.Z;itemGroup.onclick=util/* bind */.ak(this._onItemClick,this,piece),this._enableHoverLink(itemGroup,item.indexInModelPieceList);// TODO Category
var representValue=visualMapModel.getRepresentValue(piece);if(this._createItemSymbol(itemGroup,representValue,[0,0,itemSize[0],itemSize[1]]),showLabel){var visualState=this.visualMapModel.getValueState(representValue);itemGroup.add(new Text/* default */.ZP({style:{x:"right"===itemAlign?-textGap:itemSize[0]+textGap,y:itemSize[1]/2,text:piece.text,verticalAlign:"middle",align:itemAlign,font:textFont,fill:textFill,opacity:"outOfRange"===visualState?.5:1}}))}thisGroup.add(itemGroup)}),this),endsText&&this._renderEndsText(thisGroup,endsText[1],itemSize,showLabel,itemAlign),layout/* box */.BZ(visualMapModel.get("orient"),thisGroup,visualMapModel.get("itemGap")),this.renderBackground(thisGroup),this.positionGroup(thisGroup)},PiecewiseVisualMapView.prototype._enableHoverLink=function(itemGroup,pieceIndex){var _this=this;itemGroup.on("mouseover",(function(){return onHoverLink("highlight")})).on("mouseout",(function(){return onHoverLink("downplay")}));var onHoverLink=function(method){var visualMapModel=_this.visualMapModel;// TODO: TYPE More detailed action types
visualMapModel.option.hoverLink&&_this.api.dispatchAction({type:method,batch:makeHighDownBatch(visualMapModel.findTargetDataIndices(pieceIndex),visualMapModel)})}},PiecewiseVisualMapView.prototype._getItemAlign=function(){var visualMapModel=this.visualMapModel,modelOption=visualMapModel.option;if("vertical"===modelOption.orient)return getItemAlign(visualMapModel,this.api,visualMapModel.itemSize);
// horizontal, most case left unless specifying right.
var align=modelOption.align;return align&&"auto"!==align||(align="left"),align},PiecewiseVisualMapView.prototype._renderEndsText=function(group,text,itemSize,showLabel,itemAlign){if(text){var itemGroup=new Group/* default */.Z,textStyleModel=this.visualMapModel.textStyleModel;itemGroup.add(new Text/* default */.ZP({style:(0,labelStyle/* createTextStyle */.Lr)(textStyleModel,{x:showLabel?"right"===itemAlign?itemSize[0]:0:itemSize[0]/2,y:itemSize[1]/2,verticalAlign:"middle",align:showLabel?itemAlign:"center",text:text})})),group.add(itemGroup)}},
/**
   * @private
   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.
   */
PiecewiseVisualMapView.prototype._getViewData=function(){var visualMapModel=this.visualMapModel,viewPieceList=util/* map */.UI(visualMapModel.getPieceList(),(function(piece,index){return{piece:piece,indexInModelPieceList:index}})),endsText=visualMapModel.get("text"),orient=visualMapModel.get("orient"),inverse=visualMapModel.get("inverse");// Order of model pieceList is always [low, ..., high]
return("horizontal"===orient?inverse:!inverse)?viewPieceList.reverse():endsText&&(endsText=endsText.slice().reverse()),{viewPieceList:viewPieceList,endsText:endsText}},PiecewiseVisualMapView.prototype._createItemSymbol=function(group,representValue,shapeParam){group.add((0,symbol/* createSymbol */.th)(// symbol will be string
this.getControllerVisual(representValue,"symbol"),shapeParam[0],shapeParam[1],shapeParam[2],shapeParam[3],// color will be string
this.getControllerVisual(representValue,"color")))},PiecewiseVisualMapView.prototype._onItemClick=function(piece){var visualMapModel=this.visualMapModel,option=visualMapModel.option,selectedMode=option.selectedMode;if(selectedMode){var selected=util/* clone */.d9(option.selected),newKey=visualMapModel.getSelectedMapKey(piece);"single"===selectedMode||!0===selectedMode?(selected[newKey]=!0,util/* each */.S6(selected,(function(o,key){selected[key]=key===newKey}))):selected[newKey]=!selected[newKey],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:selected})}},PiecewiseVisualMapView.type="visualMap.piecewise",PiecewiseVisualMapView}(visualMap_VisualMapView),PiecewiseView=PiecewiseVisualMapView;// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/installVisualMapPiecewise.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function installVisualMapPiecewise_install(registers){registers.registerComponentModel(visualMap_PiecewiseModel),registers.registerComponentView(PiecewiseView),installCommon(registers)}// CONCATENATED MODULE: ./node_modules/echarts/lib/component/visualMap/install.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function install_install(registers){(0,extension/* use */.D)(install),(0,extension/* use */.D)(installVisualMapPiecewise_install)}
/***/},
/***/31073:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function isCoordinateSystemType(coordSys,type){return coordSys.type===type}
/***/
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */H:function(){/* binding */return isCoordinateSystemType}
/* harmony export */})},
/***/597980:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */AH:function(){/* binding */return unionAxisExtentFromData},
/* harmony export */DX:function(){/* binding */return getAxisRawValue},
/* harmony export */Do:function(){/* binding */return estimateLabelUnionRect},
/* harmony export */J9:function(){/* binding */return makeLabelFormatter},
/* harmony export */Jk:function(){/* binding */return niceScaleExtent},
/* harmony export */PY:function(){/* binding */return getDataDimensionsOnAxis},
/* harmony export */WY:function(){/* binding */return shouldShowAllLabels},
/* harmony export */Xv:function(){/* binding */return getScaleExtent},
/* harmony export */Yb:function(){/* binding */return ifAxisCrossZero},
/* harmony export */aG:function(){/* binding */return createScaleByModel},
/* harmony export */rk:function(){/* binding */return getOptionCategoryInterval}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(933051),_scale_Ordinal_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(385043),_scale_Interval_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(70103),_scale_Scale_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(660379),_layout_barGrid_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(79093),zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(260479),_scale_Time_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(861618),_scale_Log_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(976304),_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(599936),_scaleRawExtentInfo_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(38986);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Get axis scale extent before niced.
 * Item of returned array can only be number (including Infinity and NaN).
 *
 * Caution:
 * Precondition of calling this method:
 * The scale extent has been initialized using series data extent via
 * `scale.setExtent` or `scale.unionExtentFromData`;
 */
function getScaleExtent(scale,model){var scaleType=scale.type,rawExtentResult=(0,_scaleRawExtentInfo_js__WEBPACK_IMPORTED_MODULE_0__/* .ensureScaleRawExtentInfo */.Qw)(scale,model,scale.getExtent()).calculate();scale.setBlank(rawExtentResult.isBlank);var min=rawExtentResult.min,max=rawExtentResult.max,ecModel=model.ecModel;if(ecModel&&"time"
/* || scaleType === 'interval' */===scaleType){var barSeriesModels=(0,_layout_barGrid_js__WEBPACK_IMPORTED_MODULE_1__/* .prepareLayoutBarSeries */.Ge)("bar",ecModel),isBaseAxisAndHasBarSeries_1=!1;if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6(barSeriesModels,(function(seriesModel){isBaseAxisAndHasBarSeries_1=isBaseAxisAndHasBarSeries_1||seriesModel.getBaseAxis()===model.axis})),isBaseAxisAndHasBarSeries_1){
// Calculate placement of bars on axis. TODO should be decoupled
// with barLayout
var barWidthAndOffset=(0,_layout_barGrid_js__WEBPACK_IMPORTED_MODULE_1__/* .makeColumnLayout */.My)(barSeriesModels),adjustedScale=adjustScaleForOverflow(min,max,model,barWidthAndOffset);// Adjust axis min and max to account for overflow
min=adjustedScale.min,max=adjustedScale.max}}return{extent:[min,max],
// "fix" means "fixed", the value should not be
// changed in the subsequent steps.
fixMin:rawExtentResult.minFixed,fixMax:rawExtentResult.maxFixed}}function adjustScaleForOverflow(min,max,model,// Only support cartesian coord yet.
barWidthAndOffset){
// Get Axis Length
var axisExtent=model.axis.getExtent(),axisLength=axisExtent[1]-axisExtent[0],barsOnCurrentAxis=(0,_layout_barGrid_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieveColumnLayout */.G_)(barWidthAndOffset,model.axis);if(void 0===barsOnCurrentAxis)return{min:min,max:max};var minOverflow=1/0;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6(barsOnCurrentAxis,(function(item){minOverflow=Math.min(item.offset,minOverflow)}));var maxOverflow=-1/0;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6(barsOnCurrentAxis,(function(item){maxOverflow=Math.max(item.offset+item.width,maxOverflow)})),minOverflow=Math.abs(minOverflow),maxOverflow=Math.abs(maxOverflow);var totalOverFlow=minOverflow+maxOverflow,oldRange=max-min,oldRangePercentOfNew=1-(minOverflow+maxOverflow)/axisLength,overflowBuffer=oldRange/oldRangePercentOfNew-oldRange;// Calculate required buffer based on old range and overflow
return max+=overflowBuffer*(maxOverflow/totalOverFlow),min-=overflowBuffer*(minOverflow/totalOverFlow),{min:min,max:max}}// Precondition of calling this method:
// The scale extent has been initialized using series data extent via
// `scale.setExtent` or `scale.unionExtentFromData`;
function niceScaleExtent(scale,inModel){var model=inModel,extentInfo=getScaleExtent(scale,model),extent=extentInfo.extent,splitNumber=model.get("splitNumber");scale instanceof _scale_Log_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z&&(scale.base=model.get("logBase"));var scaleType=scale.type,interval=model.get("interval"),isIntervalOrTime="interval"===scaleType||"time"===scaleType;scale.setExtent(extent[0],extent[1]),scale.calcNiceExtent({splitNumber:splitNumber,fixMin:extentInfo.fixMin,fixMax:extentInfo.fixMax,minInterval:isIntervalOrTime?model.get("minInterval"):null,maxInterval:isIntervalOrTime?model.get("maxInterval"):null}),// If some one specified the min, max. And the default calculated interval
// is not good enough. He can specify the interval. It is often appeared
// in angle axis with angle 0 - 360. Interval calculated in interval scale is hard
// to be 60.
// FIXME
null!=interval&&scale.setInterval&&scale.setInterval(interval)}
/**
 * @param axisType Default retrieve from model.type
 */function createScaleByModel(model,axisType){if(axisType=axisType||model.get("type"),axisType)switch(axisType){
// Buildin scale
case"category":return new _scale_Ordinal_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z({ordinalMeta:model.getOrdinalMeta?model.getOrdinalMeta():model.getCategories(),extent:[1/0,-1/0]});case"time":return new _scale_Time_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.Z({locale:model.ecModel.getLocaleModel(),useUTC:model.ecModel.get("useUTC")});default:
// case 'value'/'interval', 'log', or others.
return new(_scale_Scale_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */.Z.getClass(axisType)||_scale_Interval_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z)}}
/**
 * Check if the axis cross 0
 */function ifAxisCrossZero(axis){var dataExtent=axis.scale.getExtent(),min=dataExtent[0],max=dataExtent[1];return!(min>0&&max>0||min<0&&max<0)}
/**
 * @param axis
 * @return Label formatter function.
 *         param: {number} tickValue,
 *         param: {number} idx, the index in all ticks.
 *                         If category axis, this param is not required.
 *         return: {string} label string.
 */function makeLabelFormatter(axis){var labelFormatter=axis.getLabelModel().get("formatter"),categoryTickStart="category"===axis.type?axis.scale.getExtent()[0]:null;return"time"===axis.scale.type?function(tpl){return function(tick,idx){return axis.scale.getFormattedLabel(tick,idx,tpl)}}(labelFormatter):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isString */.HD(labelFormatter)?function(tpl){return function(tick){
// For category axis, get raw value; for numeric axis,
// get formatted label like '1,333,444'.
var label=axis.scale.getLabel(tick),text=tpl.replace("{value}",null!=label?label:"");return text}}(labelFormatter):zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isFunction */.mf(labelFormatter)?function(cb){return function(tick,idx){
// The original intention of `idx` is "the index of the tick in all ticks".
// But the previous implementation of category axis do not consider the
// `axisLabel.interval`, which cause that, for example, the `interval` is
// `1`, then the ticks "name5", "name7", "name9" are displayed, where the
// corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep
// the definition here for back compatibility.
return null!=categoryTickStart&&(idx=tick.value-categoryTickStart),cb(getAxisRawValue(axis,tick),idx,null!=tick.level?{level:tick.level}:null)}}(labelFormatter):function(tick){return axis.scale.getLabel(tick)}}function getAxisRawValue(axis,tick){
// In category axis with data zoom, tick is not the original
// index of axis.data. So tick should not be exposed to user
// in category axis.
return"category"===axis.type?axis.scale.getLabel(tick):tick.value}
/**
 * @param axis
 * @return Be null/undefined if no labels.
 */function estimateLabelUnionRect(axis){var axisModel=axis.model,scale=axis.scale;if(axisModel.get(["axisLabel","show"])&&!scale.isBlank()){var realNumberScaleTicks,tickCount,categoryScaleExtent=scale.getExtent();// Optimize for large category data, avoid call `getTicks()`.
scale instanceof _scale_Ordinal_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z?tickCount=scale.count():(realNumberScaleTicks=scale.getTicks(),tickCount=realNumberScaleTicks.length);var rect,axisLabelModel=axis.getLabelModel(),labelFormatter=makeLabelFormatter(axis),step=1;// Simple optimization for large amount of labels
tickCount>40&&(step=Math.ceil(tickCount/40));for(var i=0;i<tickCount;i+=step){var tick=realNumberScaleTicks?realNumberScaleTicks[i]:{value:categoryScaleExtent[0]+i},label=labelFormatter(tick,i),unrotatedSingleRect=axisLabelModel.getTextRect(label),singleRect=rotateTextRect(unrotatedSingleRect,axisLabelModel.get("rotate")||0);rect?rect.union(singleRect):rect=singleRect}return rect}}function rotateTextRect(textRect,rotate){var rotateRadians=rotate*Math.PI/180,beforeWidth=textRect.width,beforeHeight=textRect.height,afterWidth=beforeWidth*Math.abs(Math.cos(rotateRadians))+Math.abs(beforeHeight*Math.sin(rotateRadians)),afterHeight=beforeWidth*Math.abs(Math.sin(rotateRadians))+Math.abs(beforeHeight*Math.cos(rotateRadians)),rotatedRect=new zrender_lib_core_BoundingRect_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z(textRect.x,textRect.y,afterWidth,afterHeight);return rotatedRect}
/**
 * @param model axisLabelModel or axisTickModel
 * @return {number|String} Can be null|'auto'|number|function
 */function getOptionCategoryInterval(model){var interval=model.get("interval");return null==interval?"auto":interval}
/**
 * Set `categoryInterval` as 0 implicitly indicates that
 * show all labels regardless of overlap.
 * @param {Object} axis axisModel.axis
 */function shouldShowAllLabels(axis){return"category"===axis.type&&0===getOptionCategoryInterval(axis.getLabelModel())}function getDataDimensionsOnAxis(data,axisDim){
// Remove duplicated dat dimensions caused by `getStackedDimension`.
var dataDimMap={};// Currently `mapDimensionsAll` will contain stack result dimension ('__\0ecstackresult').
// PENDING: is it reasonable? Do we need to remove the original dim from "coord dim" since
// there has been stacked result dim?
return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6(data.mapDimensionsAll(axisDim),(function(dataDim){
// For example, the extent of the original dimension
// is [0.1, 0.5], the extent of the `stackResultDimension`
// is [7, 9], the final extent should NOT include [0.1, 0.5],
// because there is no graphic corresponding to [0.1, 0.5].
// See the case in `test/area-stack.html` `main1`, where area line
// stack needs `yAxis` not start from 0.
dataDimMap[(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_9__/* .getStackedDimension */.IR)(data,dataDim)]=!0})),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .keys */.XP(dataDimMap)}function unionAxisExtentFromData(dataExtent,data,axisDim){data&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6(getDataDimensionsOnAxis(data,axisDim),(function(dim){var seriesExtent=data.getApproximateExtent(dim);seriesExtent[0]<dataExtent[0]&&(dataExtent[0]=seriesExtent[0]),seriesExtent[1]>dataExtent[1]&&(dataExtent[1]=seriesExtent[1])}))}
/***/},
/***/949069:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Mk:function(){/* binding */return findAxisModels},
/* harmony export */Yh:function(){/* binding */return isCartesian2DSeries},
/* harmony export */bK:function(){/* binding */return layout}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_util_model_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(232234);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Can only be called after coordinate system creation stage.
 * (Can be called before coordinate system update stage).
 */
function layout(gridModel,axisModel,opt){opt=opt||{};var grid=gridModel.coordinateSystem,axis=axisModel.axis,layout={},otherAxisOnZeroOf=axis.getAxesOnZeroOf()[0],rawAxisPosition=axis.position,axisPosition=otherAxisOnZeroOf?"onZero":rawAxisPosition,axisDim=axis.dim,rect=grid.getRect(),rectBound=[rect.x,rect.x+rect.width,rect.y,rect.y+rect.height],idx={left:0,right:1,top:0,bottom:1,onZero:2},axisOffset=axisModel.get("offset")||0,posBound="x"===axisDim?[rectBound[2]-axisOffset,rectBound[3]+axisOffset]:[rectBound[0]-axisOffset,rectBound[1]+axisOffset];if(otherAxisOnZeroOf){var onZeroCoord=otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));posBound[idx.onZero]=Math.max(Math.min(onZeroCoord,posBound[1]),posBound[0])}// Axis position
layout.position=["y"===axisDim?posBound[idx[axisPosition]]:rectBound[0],"x"===axisDim?posBound[idx[axisPosition]]:rectBound[3]],// Axis rotation
layout.rotation=Math.PI/2*("x"===axisDim?0:1);// Tick and label direction, x y is axisDim
var dirMap={top:-1,bottom:1,left:-1,right:1};layout.labelDirection=layout.tickDirection=layout.nameDirection=dirMap[rawAxisPosition],layout.labelOffset=otherAxisOnZeroOf?posBound[idx[rawAxisPosition]]-posBound[idx.onZero]:0,axisModel.get(["axisTick","inside"])&&(layout.tickDirection=-layout.tickDirection),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieve */.Jv(opt.labelInside,axisModel.get(["axisLabel","inside"]))&&(layout.labelDirection=-layout.labelDirection);// Special label rotation
var labelRotate=axisModel.get(["axisLabel","rotate"]);return layout.labelRotate="top"===axisPosition?-labelRotate:labelRotate,// Over splitLine and splitArea
layout.z2=1,layout}function isCartesian2DSeries(seriesModel){return"cartesian2d"===seriesModel.get("coordinateSystem")}function findAxisModels(seriesModel){var axisModelMap={xAxisModel:null,yAxisModel:null};return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(axisModelMap,(function(v,key){var axisType=key.replace(/Model$/,""),axisModel=seriesModel.getReferringComponents(axisType,_util_model_js__WEBPACK_IMPORTED_MODULE_1__/* .SINGLE_REFERRING */.C6).models[0];axisModelMap[key]=axisModel})),axisModelMap}
/***/},
/***/38986:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Qw:function(){/* binding */return ensureScaleRawExtentInfo}
/* harmony export */});
/* unused harmony exports ScaleRawExtentInfo, parseAxisModelMinMax */
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(780423),ScaleRawExtentInfo=
/** @class */
function(){function ScaleRawExtentInfo(scale,model,// Usually: data extent from all series on this axis.
originalExtent){this._prepareParams(scale,model,originalExtent)}
/**
   * Parameters depending on outside (like model, user callback)
   * are prepared and fixed here.
   */return ScaleRawExtentInfo.prototype._prepareParams=function(scale,model,// Usually: data extent from all series on this axis.
dataExtent){dataExtent[1]<dataExtent[0]&&(dataExtent=[NaN,NaN]),this._dataMin=dataExtent[0],this._dataMax=dataExtent[1];var isOrdinal=this._isOrdinal="ordinal"===scale.type;this._needCrossZero="interval"===scale.type&&model.getNeedCrossZero&&model.getNeedCrossZero();var modelMinRaw=this._modelMinRaw=model.get("min",!0);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf)(modelMinRaw)?
// This callback always provides users the full data extent (before data is filtered).
this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMin"!==modelMinRaw&&(this._modelMinNum=parseAxisModelMinMax(scale,modelMinRaw));var modelMaxRaw=this._modelMaxRaw=model.get("max",!0);if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf)(modelMaxRaw)?
// This callback always provides users the full data extent (before data is filtered).
this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw({min:dataExtent[0],max:dataExtent[1]})):"dataMax"!==modelMaxRaw&&(this._modelMaxNum=parseAxisModelMinMax(scale,modelMaxRaw)),isOrdinal)
// FIXME: there is a flaw here: if there is no "block" data processor like `dataZoom`,
// and progressive rendering is using, here the category result might just only contain
// the processed chunk rather than the entire result.
this._axisDataLen=model.getCategories().length;else{var boundaryGap=model.get("boundaryGap"),boundaryGapArr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(boundaryGap)?boundaryGap:[boundaryGap||0,boundaryGap||0];"boolean"===typeof boundaryGapArr[0]||"boolean"===typeof boundaryGapArr[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(boundaryGapArr[0],1),(0,zrender_lib_contain_text_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(boundaryGapArr[1],1)]}},
/**
   * Calculate extent by prepared parameters.
   * This method has no external dependency and can be called duplicatedly,
   * getting the same result.
   * If parameters changed, should call this method to recalcuate.
   */
ScaleRawExtentInfo.prototype.calculate=function(){
// Notice: When min/max is not set (that is, when there are null/undefined,
// which is the most common case), these cases should be ensured:
// (1) For 'ordinal', show all axis.data.
// (2) For others:
//      + `boundaryGap` is applied (if min/max set, boundaryGap is
//      disabled).
//      + If `needCrossZero`, min/max should be zero, otherwise, min/max should
//      be the result that originalExtent enlarged by boundaryGap.
// (3) If no data, it should be ensured that `scale.setBlank` is set.
var isOrdinal=this._isOrdinal,dataMin=this._dataMin,dataMax=this._dataMax,axisDataLen=this._axisDataLen,boundaryGapInner=this._boundaryGapInner,span=isOrdinal?null:dataMax-dataMin||Math.abs(dataMin),min="dataMin"===this._modelMinRaw?dataMin:this._modelMinNum,max="dataMax"===this._modelMaxRaw?dataMax:this._modelMaxNum,minFixed=null!=min,maxFixed=null!=max;null==min&&(min=isOrdinal?axisDataLen?0:NaN:dataMin-boundaryGapInner[0]*span),null==max&&(max=isOrdinal?axisDataLen?axisDataLen-1:NaN:dataMax+boundaryGapInner[1]*span),(null==min||!isFinite(min))&&(min=NaN),(null==max||!isFinite(max))&&(max=NaN);var isBlank=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .eqNaN */.Bu)(min)||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .eqNaN */.Bu)(max)||isOrdinal&&!axisDataLen;// If data extent modified, need to recalculated to ensure cross zero.
this._needCrossZero&&(
// Axis is over zero and min is not set
min>0&&max>0&&!minFixed&&(min=0),// Axis is under zero and max is not set
min<0&&max<0&&!maxFixed&&(max=0));var determinedMin=this._determinedMin,determinedMax=this._determinedMax;// Ensure min/max be finite number or NaN here. (not to be null/undefined)
// `NaN` means min/max axis is blank.
return null!=determinedMin&&(min=determinedMin,minFixed=!0),null!=determinedMax&&(max=determinedMax,maxFixed=!0),{min:min,max:max,minFixed:minFixed,maxFixed:maxFixed,isBlank:isBlank}},ScaleRawExtentInfo.prototype.modifyDataMinMax=function(minMaxName,val){this[DATA_MIN_MAX_ATTR[minMaxName]]=val},ScaleRawExtentInfo.prototype.setDeterminedMinMax=function(minMaxName,val){var attr=DETERMINED_MIN_MAX_ATTR[minMaxName];this[attr]=val},ScaleRawExtentInfo.prototype.freeze=function(){
// @ts-ignore
this.frozen=!0},ScaleRawExtentInfo}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};
/* harmony import */
/**
 * Get scale min max and related info only depends on model settings.
 * This method can be called after coordinate system created.
 * For example, in data processing stage.
 *
 * Scale extent info probably be required multiple times during a workflow.
 * For example:
 * (1) `dataZoom` depends it to get the axis extent in "100%" state.
 * (2) `processor/extentCalculator` depends it to make sure whether axis extent is specified.
 * (3) `coordSys.update` use it to finally decide the scale extent.
 * But the callback of `min`/`max` should not be called multiple times.
 * The code below should not be implemented repeatedly either.
 * So we cache the result in the scale instance, which will be recreated at the beginning
 * of the workflow (because `scale` instance will be recreated each round of the workflow).
 */
function ensureScaleRawExtentInfo(scale,model,// Usually: data extent from all series on this axis.
originalExtent){
// Do not permit to recreate.
var rawExtentInfo=scale.rawExtentInfo;return rawExtentInfo||(rawExtentInfo=new ScaleRawExtentInfo(scale,model,originalExtent),// @ts-ignore
scale.rawExtentInfo=rawExtentInfo,rawExtentInfo)}function parseAxisModelMinMax(scale,minMax){return null==minMax?null:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .eqNaN */.Bu)(minMax)?NaN:scale.parse(minMax)}
/***/},
/***/854267:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),coordinateSystemCreators={},CoordinateSystemManager=
/** @class */
function(){function CoordinateSystemManager(){this._coordinateSystems=[]}return CoordinateSystemManager.prototype.create=function(ecModel,api){var coordinateSystems=[];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(coordinateSystemCreators,(function(creator,type){var list=creator.create(ecModel,api);coordinateSystems=coordinateSystems.concat(list||[])})),this._coordinateSystems=coordinateSystems},CoordinateSystemManager.prototype.update=function(ecModel,api){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(this._coordinateSystems,(function(coordSys){coordSys.update&&coordSys.update(ecModel,api)}))},CoordinateSystemManager.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},CoordinateSystemManager.register=function(type,creator){coordinateSystemCreators[type]=creator},CoordinateSystemManager.get=function(type){return coordinateSystemCreators[type]},CoordinateSystemManager}();
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/* harmony default export */__webpack_exports__.Z=CoordinateSystemManager},
/***/169255:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Hr:function(){/* binding */return PRIORITY},S1:function(){/* binding */return init},zl:function(){/* binding */return registerAction},RS:function(){/* binding */return registerCoordinateSystem},qR:function(){/* binding */return registerLayout},yn:function(){/* binding */return registerLoading},je:function(){/* binding */return registerMap},sq:function(){/* binding */return registerPostInit},Br:function(){/* binding */return registerPostUpdate},ds:function(){/* binding */return registerPreprocessor},Pu:function(){/* binding */return registerProcessor},OB:function(){/* binding */return registerTransform},YK:function(){/* binding */return registerUpdateLifecycle},Og:function(){/* binding */return registerVisual}});
// UNUSED EXPORTS: connect, dataTool, dependencies, disConnect, disconnect, dispose, getCoordinateSystemDimensions, getInstanceByDom, getInstanceById, getMap, registerLocale, registerTheme, setCanvasCreator, version
// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js
var tslib_es6=__webpack_require__(570655),zrender=__webpack_require__(956641),util=__webpack_require__(933051),env=__webpack_require__(966387),timsort=__webpack_require__(319455),Eventful=__webpack_require__(923510),Global=__webpack_require__(780669),availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL",// 'getModel',
"getOption",// 'getViewOfComponentModel',
// 'getViewOfSeriesModel',
"getId","updateLabelLayout"],ExtensionAPI=
/** @class */
function(){function ExtensionAPI(ecInstance){util/* each */.S6(availableMethods,(function(methodName){this[methodName]=util/* bind */.ak(ecInstance[methodName],ecInstance)}),this)}return ExtensionAPI}(),core_ExtensionAPI=ExtensionAPI,CoordinateSystem=__webpack_require__(854267),OptionManager=__webpack_require__(43534),backwardCompat=__webpack_require__(328773),dataStack=__webpack_require__(433809),Series=__webpack_require__(993321),Component=__webpack_require__(833166),Chart=__webpack_require__(975797),Rect=__webpack_require__(25293),Image=__webpack_require__(744535),basicTransition=__webpack_require__(944292),Path=__webpack_require__(696997),innerStore=__webpack_require__(30106),states=__webpack_require__(726357),model=__webpack_require__(232234),throttle=__webpack_require__(800270),style=__webpack_require__(646256),loading_default=__webpack_require__(223430),core_task=__webpack_require__(608674),component=__webpack_require__(942151),Scheduler=
/** @class */
function(){function Scheduler(ecInstance,api,dataProcessorHandlers,visualHandlers){
// key: handlerUID
this._stageTaskMap=(0,util/* createHashMap */.kW)(),this.ecInstance=ecInstance,this.api=api,// Fix current processors in case that in some rear cases that
// processors might be registered after echarts instance created.
// Register processors incrementally for a echarts instance is
// not supported by this stream architecture.
dataProcessorHandlers=this._dataProcessorHandlers=dataProcessorHandlers.slice(),visualHandlers=this._visualHandlers=visualHandlers.slice(),this._allHandlers=dataProcessorHandlers.concat(visualHandlers)}return Scheduler.prototype.restoreData=function(ecModel,payload){
// TODO: Only restore needed series and components, but not all components.
// Currently `restoreData` of all of the series and component will be called.
// But some independent components like `title`, `legend`, `graphic`, `toolbox`,
// `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,
// and some components like coordinate system, axes, dataZoom, visualMap only
// need their target series refresh.
// (1) If we are implementing this feature some day, we should consider these cases:
// if a data processor depends on a component (e.g., dataZoomProcessor depends
// on the settings of `dataZoom`), it should be re-performed if the component
// is modified by `setOption`.
// (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,
// it should be re-performed when the result array of `getTargetSeries` changed.
// We use `dependencies` to cover these issues.
// (3) How to update target series when coordinate system related components modified.
// TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,
// and this case all of the tasks will be set as dirty.
ecModel.restoreData(payload),// Theoretically an overall task not only depends on each of its target series, but also
// depends on all of the series.
// The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks
// dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure
// that the overall task is set as dirty and to be performed, otherwise it probably cause
// state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it
// probably cause state chaos (consider `dataZoomProcessor`).
this._stageTaskMap.each((function(taskRecord){var overallTask=taskRecord.overallTask;overallTask&&overallTask.dirty()}))},// If seriesModel provided, incremental threshold is check by series data.
Scheduler.prototype.getPerformArgs=function(task,isBlock){
// For overall task
if(task.__pipeline){var pipeline=this._pipelineMap.get(task.__pipeline.id),pCtx=pipeline.context,incremental=!isBlock&&pipeline.progressiveEnabled&&(!pCtx||pCtx.progressiveRender)&&task.__idxInPipeline>pipeline.blockIndex,step=incremental?pipeline.step:null,modDataCount=pCtx&&pCtx.modDataCount,modBy=null!=modDataCount?Math.ceil(modDataCount/step):null;return{step:step,modBy:modBy,modDataCount:modDataCount}}},Scheduler.prototype.getPipeline=function(pipelineId){return this._pipelineMap.get(pipelineId)},
/**
   * Current, progressive rendering starts from visual and layout.
   * Always detect render mode in the same stage, avoiding that incorrect
   * detection caused by data filtering.
   * Caution:
   * `updateStreamModes` use `seriesModel.getData()`.
   */
Scheduler.prototype.updateStreamModes=function(seriesModel,view){var pipeline=this._pipelineMap.get(seriesModel.uid),data=seriesModel.getData(),dataLen=data.count(),progressiveRender=pipeline.progressiveEnabled&&view.incrementalPrepareRender&&dataLen>=pipeline.threshold,large=seriesModel.get("large")&&dataLen>=seriesModel.get("largeThreshold"),modDataCount="mod"===seriesModel.get("progressiveChunkMode")?dataLen:null;seriesModel.pipelineContext=pipeline.context={progressiveRender:progressiveRender,modDataCount:modDataCount,large:large}},Scheduler.prototype.restorePipelines=function(ecModel){var scheduler=this,pipelineMap=scheduler._pipelineMap=(0,util/* createHashMap */.kW)();ecModel.eachSeries((function(seriesModel){var progressive=seriesModel.getProgressive(),pipelineId=seriesModel.uid;pipelineMap.set(pipelineId,{id:pipelineId,head:null,tail:null,threshold:seriesModel.getProgressiveThreshold(),progressiveEnabled:progressive&&!(seriesModel.preventIncremental&&seriesModel.preventIncremental()),blockIndex:-1,step:Math.round(progressive||700),count:0}),scheduler._pipe(seriesModel,seriesModel.dataTask)}))},Scheduler.prototype.prepareStageTasks=function(){var stageTaskMap=this._stageTaskMap,ecModel=this.api.getModel(),api=this.api;(0,util/* each */.S6)(this._allHandlers,(function(handler){var record=stageTaskMap.get(handler.uid)||stageTaskMap.set(handler.uid,{}),errMsg="";(0,util/* assert */.hu)(!(handler.reset&&handler.overallReset),errMsg),handler.reset&&this._createSeriesStageTask(handler,record,ecModel,api),handler.overallReset&&this._createOverallStageTask(handler,record,ecModel,api)}),this)},Scheduler.prototype.prepareView=function(view,model,ecModel,api){var renderTask=view.renderTask,context=renderTask.context;context.model=model,context.ecModel=ecModel,context.api=api,renderTask.__block=!view.incrementalPrepareRender,this._pipe(model,renderTask)},Scheduler.prototype.performDataProcessorTasks=function(ecModel,payload){
// If we do not use `block` here, it should be considered when to update modes.
this._performStageTasks(this._dataProcessorHandlers,ecModel,payload,{block:!0})},Scheduler.prototype.performVisualTasks=function(ecModel,payload,opt){this._performStageTasks(this._visualHandlers,ecModel,payload,opt)},Scheduler.prototype._performStageTasks=function(stageHandlers,ecModel,payload,opt){opt=opt||{};var unfinished=!1,scheduler=this;function needSetDirty(opt,task){return opt.setDirty&&(!opt.dirtyMap||opt.dirtyMap.get(task.__pipeline.id))}(0,util/* each */.S6)(stageHandlers,(function(stageHandler,idx){if(!opt.visualType||opt.visualType===stageHandler.visualType){var stageHandlerRecord=scheduler._stageTaskMap.get(stageHandler.uid),seriesTaskMap=stageHandlerRecord.seriesTaskMap,overallTask=stageHandlerRecord.overallTask;if(overallTask){var overallNeedDirty_1,agentStubMap=overallTask.agentStubMap;agentStubMap.each((function(stub){needSetDirty(opt,stub)&&(stub.dirty(),overallNeedDirty_1=!0)})),overallNeedDirty_1&&overallTask.dirty(),scheduler.updatePayload(overallTask,payload);var performArgs_1=scheduler.getPerformArgs(overallTask,opt.block);// Execute stubs firstly, which may set the overall task dirty,
// then execute the overall task. And stub will call seriesModel.setData,
// which ensures that in the overallTask seriesModel.getData() will not
// return incorrect data.
agentStubMap.each((function(stub){stub.perform(performArgs_1)})),overallTask.perform(performArgs_1)&&(unfinished=!0)}else seriesTaskMap&&seriesTaskMap.each((function(task,pipelineId){needSetDirty(opt,task)&&task.dirty();var performArgs=scheduler.getPerformArgs(task,opt.block);// FIXME
// if intending to declare `performRawSeries` in handlers, only
// stream-independent (specifically, data item independent) operations can be
// performed. Because if a series is filtered, most of the tasks will not
// be performed. A stream-dependent operation probably cause wrong biz logic.
// Perhaps we should not provide a separate callback for this case instead
// of providing the config `performRawSeries`. The stream-dependent operations
// and stream-independent operations should better not be mixed.
performArgs.skip=!stageHandler.performRawSeries&&ecModel.isSeriesFiltered(task.context.model),scheduler.updatePayload(task,payload),task.perform(performArgs)&&(unfinished=!0)}))}})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.performSeriesTasks=function(ecModel){var unfinished;ecModel.eachSeries((function(seriesModel){
// Progress to the end for dataInit and dataRestore.
unfinished=seriesModel.dataTask.perform()||unfinished})),this.unfinished=unfinished||this.unfinished},Scheduler.prototype.plan=function(){
// Travel pipelines, check block.
this._pipelineMap.each((function(pipeline){var task=pipeline.tail;do{if(task.__block){pipeline.blockIndex=task.__idxInPipeline;break}task=task.getUpstream()}while(task)}))},Scheduler.prototype.updatePayload=function(task,payload){"remain"!==payload&&(task.context.payload=payload)},Scheduler.prototype._createSeriesStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,oldSeriesTaskMap=stageHandlerRecord.seriesTaskMap,newSeriesTaskMap=stageHandlerRecord.seriesTaskMap=(0,util/* createHashMap */.kW)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries;function create(seriesModel){var pipelineId=seriesModel.uid,task=newSeriesTaskMap.set(pipelineId,oldSeriesTaskMap&&oldSeriesTaskMap.get(pipelineId)||(0,core_task/* createTask */.v)({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));// Init tasks for each seriesModel only once.
// Reuse original task instance.
task.context={model:seriesModel,ecModel:ecModel,api:api,
// PENDING: `useClearVisual` not used?
useClearVisual:stageHandler.isVisual&&!stageHandler.isLayout,plan:stageHandler.plan,reset:stageHandler.reset,scheduler:scheduler},scheduler._pipe(seriesModel,task)}// If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,
// to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,
// it works but it may cause other irrelevant charts blocked.
stageHandler.createOnAllSeries?ecModel.eachRawSeries(create):seriesType?ecModel.eachRawSeriesByType(seriesType,create):getTargetSeries&&getTargetSeries(ecModel,api).each(create)},Scheduler.prototype._createOverallStageTask=function(stageHandler,stageHandlerRecord,ecModel,api){var scheduler=this,overallTask=stageHandlerRecord.overallTask=stageHandlerRecord.overallTask||(0,core_task/* createTask */.v)({reset:overallTaskReset});overallTask.context={ecModel:ecModel,api:api,overallReset:stageHandler.overallReset,scheduler:scheduler};var oldAgentStubMap=overallTask.agentStubMap,newAgentStubMap=overallTask.agentStubMap=(0,util/* createHashMap */.kW)(),seriesType=stageHandler.seriesType,getTargetSeries=stageHandler.getTargetSeries,overallProgress=!0,shouldOverallTaskDirty=!1,errMsg="";// The count of stages are totally about only several dozen, so
// do not need to reuse the map.
function createStub(seriesModel){var pipelineId=seriesModel.uid,stub=newAgentStubMap.set(pipelineId,oldAgentStubMap&&oldAgentStubMap.get(pipelineId)||(// When the result of `getTargetSeries` changed, the overallTask
// should be set as dirty and re-performed.
shouldOverallTaskDirty=!0,(0,core_task/* createTask */.v)({reset:stubReset,onDirty:stubOnDirty})));stub.context={model:seriesModel,overallProgress:overallProgress},stub.agent=overallTask,stub.__block=overallProgress,scheduler._pipe(seriesModel,stub)}(0,util/* assert */.hu)(!stageHandler.createOnAllSeries,errMsg),seriesType?ecModel.eachRawSeriesByType(seriesType,createStub):getTargetSeries?getTargetSeries(ecModel,api).each(createStub):(overallProgress=!1,(0,util/* each */.S6)(ecModel.getSeries(),createStub)),shouldOverallTaskDirty&&overallTask.dirty()},Scheduler.prototype._pipe=function(seriesModel,task){var pipelineId=seriesModel.uid,pipeline=this._pipelineMap.get(pipelineId);!pipeline.head&&(pipeline.head=task),pipeline.tail&&pipeline.tail.pipe(task),pipeline.tail=task,task.__idxInPipeline=pipeline.count++,task.__pipeline=pipeline},Scheduler.wrapStageHandler=function(stageHandler,visualType){return(0,util/* isFunction */.mf)(stageHandler)&&(stageHandler={overallReset:stageHandler,seriesType:detectSeriseType(stageHandler)}),stageHandler.uid=(0,component/* getUID */.Kr)("stageHandler"),visualType&&(stageHandler.visualType=visualType),stageHandler},Scheduler}();
// EXTERNAL MODULE: ./node_modules/zrender/lib/zrender.js + 6 modules
function overallTaskReset(context){context.overallReset(context.ecModel,context.api,context.payload)}function stubReset(context){return context.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(context){return context.plan?context.plan(context.model,context.ecModel,context.api,context.payload):null}function seriesTaskReset(context){context.useClearVisual&&context.data.clearAllVisual();var resetDefines=context.resetDefines=(0,model/* normalizeToArray */.kF)(context.reset(context.model,context.ecModel,context.api,context.payload));return resetDefines.length>1?(0,util/* map */.UI)(resetDefines,(function(v,idx){return makeSeriesTaskProgress(idx)})):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(resetDefineIdx){return function(params,context){var data=context.data,resetDefine=context.resetDefines[resetDefineIdx];if(resetDefine&&resetDefine.dataEach)for(var i=params.start;i<params.end;i++)resetDefine.dataEach(data,i);else resetDefine&&resetDefine.progress&&resetDefine.progress(params,data)}}function seriesTaskCount(context){return context.data.count()}
/**
 * Only some legacy stage handlers (usually in echarts extensions) are pure function.
 * To ensure that they can work normally, they should work in block mode, that is,
 * they should not be started util the previous tasks finished. So they cause the
 * progressive rendering disabled. We try to detect the series type, to narrow down
 * the block range to only the series type they concern, but not all series.
 */function detectSeriseType(legacyFunc){seriesType=null;try{
// Assume there is no async when calling `eachSeriesByType`.
legacyFunc(ecModelMock,apiMock)}catch(e){}return seriesType}var seriesType,ecModelMock={},apiMock={};function mockMethods(target,Clz){
/* eslint-disable */
for(var name_1 in Clz.prototype)
// Do not use hasOwnProperty
target[name_1]=util/* noop */.ZT;
/* eslint-enable */}
/* harmony default export */mockMethods(ecModelMock,Global/* default */.Z),mockMethods(apiMock,core_ExtensionAPI),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(type){seriesType=type},ecModelMock.eachComponent=function(cond){"series"===cond.mainType&&cond.subType&&(seriesType=cond.subType)};var core_Scheduler=Scheduler,light=__webpack_require__(629594),dark=__webpack_require__(473450),clazz=__webpack_require__(834251),ECEventProcessor=__webpack_require__(927443),symbol=__webpack_require__(534586),helper=__webpack_require__(726211),log=__webpack_require__(470175),dataSelectAction=__webpack_require__(531891),transform=__webpack_require__(110437),locale=__webpack_require__(975212),util_event=__webpack_require__(218310),decal=__webpack_require__(880526),lifecycle=new Eventful/* default */.Z,core_lifecycle=lifecycle,platform=__webpack_require__(623132),impl=__webpack_require__(749428),TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;
// EXTERNAL MODULE: ./node_modules/echarts/lib/theme/light.js
function createRegisterEventWithLowercaseECharts(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(!this.isDisposed())return toLowercaseNameAndCallEventful(this,method,args);disposedWarning(this.id)}}function createRegisterEventWithLowercaseMessageCenter(method){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return toLowercaseNameAndCallEventful(this,method,args)}}function toLowercaseNameAndCallEventful(host,method,args){
// `args[0]` is event name. Event name is all lowercase.
return args[0]=args[0]&&args[0].toLowerCase(),Eventful/* default */.Z.prototype[method].apply(host,args)}var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,MessageCenter=
/** @class */
function(_super){function MessageCenter(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(MessageCenter,_super),MessageCenter}(Eventful/* default */.Z),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var ECharts=
/** @class */
function(_super){function ECharts(dom,// Theme name or themeOption.
theme,opts){var _this=_super.call(this,new ECEventProcessor/* ECEventProcessor */.v)||this;_this._chartsViews=[],_this._chartsMap={},_this._componentsViews=[],_this._componentsMap={},// Can't dispatch action during rendering procedure
_this._pendingActions=[],opts=opts||{},// Get theme by name
(0,util/* isString */.HD)(theme)&&(theme=themeStorage[theme]),_this._dom=dom;var defaultRenderer="canvas",defaultCoarsePointer="auto",defaultUseDirtyRect=!1,zr=_this._zr=zrender/* init */.S1(dom,{renderer:opts.renderer||defaultRenderer,devicePixelRatio:opts.devicePixelRatio,width:opts.width,height:opts.height,ssr:opts.ssr,useDirtyRect:(0,util/* retrieve2 */.pD)(opts.useDirtyRect,defaultUseDirtyRect),useCoarsePointer:(0,util/* retrieve2 */.pD)(opts.useCoarsePointer,defaultCoarsePointer),pointerSize:opts.pointerSize});_this._ssr=opts.ssr,// Expect 60 fps.
_this._throttledZrFlush=(0,throttle/* throttle */.P2)((0,util/* bind */.ak)(zr.flush,zr),17),theme=(0,util/* clone */.d9)(theme),theme&&(0,backwardCompat/* default */.Z)(theme,!0),_this._theme=theme,_this._locale=(0,locale/* createLocaleObject */.D0)(opts.locale||locale/* SYSTEM_LANG */.sO),_this._coordSysMgr=new CoordinateSystem/* default */.Z;var api=_this._api=createExtensionAPI(_this);// Sort on demand
function prioritySortFunc(a,b){return a.__prio-b.__prio}return(0,timsort/* default */.Z)(visualFuncs,prioritySortFunc),(0,timsort/* default */.Z)(dataProcessorFuncs,prioritySortFunc),_this._scheduler=new core_Scheduler(_this,api,dataProcessorFuncs,visualFuncs),_this._messageCenter=new MessageCenter,// Init mouse events
_this._initEvents(),// In case some people write `window.onresize = chart.resize`
_this.resize=(0,util/* bind */.ak)(_this.resize,_this),zr.animation.on("frame",_this._onframe,_this),bindRenderedEvent(zr,_this),bindMouseEvent(zr,_this),// ECharts instance can be used as value.
(0,util/* setAsPrimitive */.s7)(_this),_this}return(0,tslib_es6/* __extends */.ZT)(ECharts,_super),ECharts.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var scheduler=this._scheduler;// Lazy update
if(this[PENDING_UPDATE]){var silent=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(e){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,e}// At present, in each frame, zrender performs:
//   (1) animation step forward.
//   (2) trigger('frame') (where this `_onframe` is called)
//   (3) zrender flush (render).
// If we do nothing here, since we use `setToFinal: true`, the step (3) above
// will render the final state of the elements before the real animation started.
this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}// Avoid do both lazy update and progress in one frame.
else if(scheduler.unfinished){
// Stream progress.
var remainTime=TEST_FRAME_REMAIN_TIME,ecModel=this._model,api=this._api;scheduler.unfinished=!1;do{var startTime=+new Date;scheduler.performSeriesTasks(ecModel),// Currently dataProcessorFuncs do not check threshold.
scheduler.performDataProcessorTasks(ecModel),updateStreamModes(this,ecModel),// Do not update coordinate system here. Because that coord system update in
// each frame is not a good user experience. So we follow the rule that
// the extent of the coordinate system is determined in the first frame (the
// frame is executed immediately after task reset.
// this._coordSysMgr.update(ecModel, api);
// console.log('--- ec frame visual ---', remainTime);
scheduler.performVisualTasks(ecModel),renderSeries(this,this._model,api,"remain",{}),remainTime-=+new Date-startTime}while(remainTime>0&&scheduler.unfinished);// Call flush explicitly for trigger finished event.
scheduler.unfinished||this._zr.flush();// Else, zr flushing be ensue within the same frame,
// because zr flushing is after onframe event.
}}},ECharts.prototype.getDom=function(){return this._dom},ECharts.prototype.getId=function(){return this.id},ECharts.prototype.getZr=function(){return this._zr},ECharts.prototype.isSSR=function(){return this._ssr},
/* eslint-disable-next-line */
ECharts.prototype.setOption=function(option,notMerge,lazyUpdate){if(!this[IN_MAIN_PROCESS_KEY])if(this._disposed)disposedWarning(this.id);else{var silent,replaceMerge,transitionOpt;if((0,util/* isObject */.Kn)(notMerge)&&(lazyUpdate=notMerge.lazyUpdate,silent=notMerge.silent,replaceMerge=notMerge.replaceMerge,transitionOpt=notMerge.transition,notMerge=notMerge.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||notMerge){var optionManager=new OptionManager/* default */.Z(this._api),theme=this._theme,ecModel=this._model=new Global/* default */.Z;ecModel.scheduler=this._scheduler,ecModel.ssr=this._ssr,ecModel.init(null,null,null,theme,this._locale,optionManager)}this._model.setOption(option,{replaceMerge:replaceMerge},optionPreprocessorFuncs);var updateParams={seriesTransition:transitionOpt,optionChanged:!0};if(lazyUpdate)this[PENDING_UPDATE]={silent:silent,updateParams:updateParams},this[IN_MAIN_PROCESS_KEY]=!1,// `setOption(option, {lazyMode: true})` may be called when zrender has been slept.
// It should wake it up to make sure zrender start to render at the next frame.
this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,updateParams)}catch(e){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,e}// Ensure zr refresh sychronously, and then pixel in canvas can be
// fetched after `setOption`.
this._ssr||
// not use flush when using ssr mode.
this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},
/**
   * @deprecated
   */
ECharts.prototype.setTheme=function(){(0,log/* deprecateLog */.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},// We don't want developers to use getModel directly.
ECharts.prototype.getModel=function(){return this._model},ECharts.prototype.getOption=function(){return this._model&&this._model.getOption()},ECharts.prototype.getWidth=function(){return this._zr.getWidth()},ECharts.prototype.getHeight=function(){return this._zr.getHeight()},ECharts.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr
/* eslint-disable-next-line */||env/* default */.Z.hasGlobalWindow&&window.devicePixelRatio||1},
/**
   * Get canvas which has all thing rendered
   * @deprecated Use renderToCanvas instead.
   */
ECharts.prototype.getRenderedCanvas=function(opts){return this.renderToCanvas(opts)},ECharts.prototype.renderToCanvas=function(opts){opts=opts||{};var painter=this._zr.painter;return painter.getRenderedCanvas({backgroundColor:opts.backgroundColor||this._model.get("backgroundColor"),pixelRatio:opts.pixelRatio||this.getDevicePixelRatio()})},ECharts.prototype.renderToSVGString=function(opts){opts=opts||{};var painter=this._zr.painter;return painter.renderToString({useViewBox:opts.useViewBox})},
/**
   * Get svg data url
   */
ECharts.prototype.getSvgDataURL=function(){if(env/* default */.Z.svgSupported){var zr=this._zr,list=zr.storage.getDisplayList();// Stop animations
return(0,util/* each */.S6)(list,(function(el){el.stopAnimation(null,!0)})),zr.painter.toDataURL()}},ECharts.prototype.getDataURL=function(opts){if(!this._disposed){opts=opts||{};var excludeComponents=opts.excludeComponents,ecModel=this._model,excludesComponentViews=[],self=this;(0,util/* each */.S6)(excludeComponents,(function(componentType){ecModel.eachComponent({mainType:componentType},(function(component){var view=self._componentsMap[component.__viewId];view.group.ignore||(excludesComponentViews.push(view),view.group.ignore=!0)}))}));var url="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(opts).toDataURL("image/"+(opts&&opts.type||"png"));return(0,util/* each */.S6)(excludesComponentViews,(function(view){view.group.ignore=!1})),url}disposedWarning(this.id)},ECharts.prototype.getConnectedDataURL=function(opts){if(!this._disposed){var isSvg="svg"===opts.type,groupId=this.group,mathMin=Math.min,mathMax=Math.max,MAX_NUMBER=1/0;if(connectedGroups[groupId]){var left_1=MAX_NUMBER,top_1=MAX_NUMBER,right_1=-MAX_NUMBER,bottom_1=-MAX_NUMBER,canvasList_1=[],dpr_1=opts&&opts.pixelRatio||this.getDevicePixelRatio();(0,util/* each */.S6)(instances,(function(chart,id){if(chart.group===groupId){var canvas=isSvg?chart.getZr().painter.getSvgDom().innerHTML:chart.renderToCanvas((0,util/* clone */.d9)(opts)),boundingRect=chart.getDom().getBoundingClientRect();left_1=mathMin(boundingRect.left,left_1),top_1=mathMin(boundingRect.top,top_1),right_1=mathMax(boundingRect.right,right_1),bottom_1=mathMax(boundingRect.bottom,bottom_1),canvasList_1.push({dom:canvas,left:boundingRect.left,top:boundingRect.top})}})),left_1*=dpr_1,top_1*=dpr_1,right_1*=dpr_1,bottom_1*=dpr_1;var width=right_1-left_1,height=bottom_1-top_1,targetCanvas=platform/* platformApi */.qW.createCanvas(),zr_1=zrender/* init */.S1(targetCanvas,{renderer:isSvg?"svg":"canvas"});if(zr_1.resize({width:width,height:height}),isSvg){var content_1="";return(0,util/* each */.S6)(canvasList_1,(function(item){var x=item.left-left_1,y=item.top-top_1;content_1+='<g transform="translate('+x+","+y+')">'+item.dom+"</g>"})),zr_1.painter.getSvgRoot().innerHTML=content_1,opts.connectedBackgroundColor&&zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor),zr_1.refreshImmediately(),zr_1.painter.toDataURL()}
// Background between the charts
return opts.connectedBackgroundColor&&zr_1.add(new Rect/* default */.Z({shape:{x:0,y:0,width:width,height:height},style:{fill:opts.connectedBackgroundColor}})),(0,util/* each */.S6)(canvasList_1,(function(item){var img=new Image/* default */.ZP({style:{x:item.left*dpr_1-left_1,y:item.top*dpr_1-top_1,image:item.dom}});zr_1.add(img)})),zr_1.refreshImmediately(),targetCanvas.toDataURL("image/"+(opts&&opts.type||"png"))}return this.getDataURL(opts)}disposedWarning(this.id)},ECharts.prototype.convertToPixel=function(finder,value){return doConvertPixel(this,"convertToPixel",finder,value)},ECharts.prototype.convertFromPixel=function(finder,value){return doConvertPixel(this,"convertFromPixel",finder,value)},
/**
   * Is the specified coordinate systems or components contain the given pixel point.
   * @param {Array|number} value
   * @return {boolean} result
   */
ECharts.prototype.containPixel=function(finder,value){if(!this._disposed){var result,ecModel=this._model,findResult=model/* parseFinder */.pm(ecModel,finder);return(0,util/* each */.S6)(findResult,(function(models,key){key.indexOf("Models")>=0&&(0,util/* each */.S6)(models,(function(model){var coordSys=model.coordinateSystem;if(coordSys&&coordSys.containPoint)result=result||!!coordSys.containPoint(value);else if("seriesModels"===key){var view=this._chartsMap[model.__viewId];view&&view.containPoint&&(result=result||view.containPoint(value,model))}else 0}),this)}),this),!!result}disposedWarning(this.id)},
/**
   * Get visual from series or data.
   * @param finder
   *        If string, e.g., 'series', means {seriesIndex: 0}.
   *        If Object, could contain some of these properties below:
   *        {
   *            seriesIndex / seriesId / seriesName,
   *            dataIndex / dataIndexInside
   *        }
   *        If dataIndex is not specified, series visual will be fetched,
   *        but not data item visual.
   *        If all of seriesIndex, seriesId, seriesName are not specified,
   *        visual will be fetched from first series.
   * @param visualType 'color', 'symbol', 'symbolSize'
   */
ECharts.prototype.getVisual=function(finder,visualType){var ecModel=this._model,parsedFinder=model/* parseFinder */.pm(ecModel,finder,{defaultMainType:"series"}),seriesModel=parsedFinder.seriesModel;var data=seriesModel.getData(),dataIndexInside=parsedFinder.hasOwnProperty("dataIndexInside")?parsedFinder.dataIndexInside:parsedFinder.hasOwnProperty("dataIndex")?data.indexOfRawIndex(parsedFinder.dataIndex):null;return null!=dataIndexInside?(0,helper/* getItemVisualFromData */.Or)(data,dataIndexInside,visualType):(0,helper/* getVisualFromData */.UL)(data,visualType)},
/**
   * Get view of corresponding component model
   */
ECharts.prototype.getViewOfComponentModel=function(componentModel){return this._componentsMap[componentModel.__viewId]},
/**
   * Get view of corresponding series model
   */
ECharts.prototype.getViewOfSeriesModel=function(seriesModel){return this._chartsMap[seriesModel.__viewId]},ECharts.prototype._initEvents=function(){var _this=this;(0,util/* each */.S6)(MOUSE_EVENT_NAMES,(function(eveName){var handler=function(e){var params,ecModel=_this.getModel(),el=e.target,isGlobalOut="globalout"===eveName;// Contract: if params prepared in mouse event,
// these properties must be specified:
// {
//    componentType: string (component main type)
//    componentIndex: number
// }
// Otherwise event query can not work.
if(// no e.target when 'globalout'.
isGlobalOut?params={}:el&&(0,util_event/* findEventDispatcher */.o)(el,(function(parent){var ecData=(0,innerStore/* getECData */.A)(parent);if(ecData&&null!=ecData.dataIndex){var dataModel=ecData.dataModel||ecModel.getSeriesByIndex(ecData.seriesIndex);return params=dataModel&&dataModel.getDataParams(ecData.dataIndex,ecData.dataType,el)||{},!0}// If element has custom eventData of components
if(ecData.eventData)return params=(0,util/* extend */.l7)({},ecData.eventData),!0}),!0),params){var componentType=params.componentType,componentIndex=params.componentIndex;// Special handling for historic reason: when trigger by
// markLine/markPoint/markArea, the componentType is
// 'markLine'/'markPoint'/'markArea', but we should better
// enable them to be queried by seriesIndex, since their
// option is set in each series.
"markLine"!==componentType&&"markPoint"!==componentType&&"markArea"!==componentType||(componentType="series",componentIndex=params.seriesIndex);var model=componentType&&null!=componentIndex&&ecModel.getComponent(componentType,componentIndex),view=model&&_this["series"===model.mainType?"_chartsMap":"_componentsMap"][model.__viewId];0,params.event=e,params.type=eveName,_this._$eventProcessor.eventInfo={targetEl:el,packedEvent:params,model:model,view:view},_this.trigger(eveName,params)}};// Consider that some component (like tooltip, brush, ...)
// register zr event handler, but user event handler might
// do anything, such as call `setOption` or `dispatchAction`,
// which probably update any of the content and probably
// cause problem if it is called previous other inner handlers.
handler.zrEventfulCallAtLast=!0,_this._zr.on(eveName,handler,_this)})),(0,util/* each */.S6)(eventActionMap,(function(actionType,eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),// Extra events
// TODO register?
(0,util/* each */.S6)(["selectchanged"],(function(eventType){_this._messageCenter.on(eventType,(function(event){this.trigger(eventType,event)}),_this)})),(0,dataSelectAction/* handleLegacySelectEvents */.s)(this._messageCenter,this,this._api)},ECharts.prototype.isDisposed=function(){return this._disposed},ECharts.prototype.clear=function(){this._disposed?disposedWarning(this.id):this.setOption({series:[]},!0)},ECharts.prototype.dispose=function(){if(this._disposed)disposedWarning(this.id);else{this._disposed=!0;var dom=this.getDom();dom&&model/* setAttribute */.P$(this.getDom(),DOM_ATTRIBUTE_KEY,"");var chart=this,api=chart._api,ecModel=chart._model;(0,util/* each */.S6)(chart._componentsViews,(function(component){component.dispose(ecModel,api)})),(0,util/* each */.S6)(chart._chartsViews,(function(chart){chart.dispose(ecModel,api)})),// Dispose after all views disposed
chart._zr.dispose(),// Set properties to null.
// To reduce the memory cost in case the top code still holds this instance unexpectedly.
chart._dom=chart._model=chart._chartsMap=chart._componentsMap=chart._chartsViews=chart._componentsViews=chart._scheduler=chart._api=chart._zr=chart._throttledZrFlush=chart._theme=chart._coordSysMgr=chart._messageCenter=null,delete instances[chart.id]}},
/**
   * Resize the chart
   */
ECharts.prototype.resize=function(opts){if(!this[IN_MAIN_PROCESS_KEY])if(this._disposed)disposedWarning(this.id);else{this._zr.resize(opts);var ecModel=this._model;// Resize loading effect
if(this._loadingFX&&this._loadingFX.resize(),ecModel){var needPrepare=ecModel.resetOption("media"),silent=opts&&opts.silent;// There is some real cases that:
// chart.setOption(option, { lazyUpdate: true });
// chart.resize();
this[PENDING_UPDATE]&&(null==silent&&(silent=this[PENDING_UPDATE].silent),needPrepare=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{needPrepare&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:(0,util/* extend */.l7)({
// Disable animation
duration:0},opts&&opts.animation)})}catch(e){throw this[IN_MAIN_PROCESS_KEY]=!1,e}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}}},ECharts.prototype.showLoading=function(name,cfg){if(this._disposed)disposedWarning(this.id);else if((0,util/* isObject */.Kn)(name)&&(cfg=name,name=""),name=name||"default",this.hideLoading(),loadingEffects[name]){var el=loadingEffects[name](this._api,cfg),zr=this._zr;this._loadingFX=el,zr.add(el)}},
/**
   * Hide loading effect
   */
ECharts.prototype.hideLoading=function(){this._disposed?disposedWarning(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},ECharts.prototype.makeActionFromEvent=function(eventObj){var payload=(0,util/* extend */.l7)({},eventObj);return payload.type=eventActionMap[eventObj.type],payload},
/**
   * @param opt If pass boolean, means opt.silent
   * @param opt.silent Default `false`. Whether trigger events.
   * @param opt.flush Default `undefined`.
   *        true: Flush immediately, and then pixel in canvas can be fetched
   *            immediately. Caution: it might affect performance.
   *        false: Not flush.
   *        undefined: Auto decide whether perform flush.
   */
ECharts.prototype.dispatchAction=function(payload,opt){if(this._disposed)disposedWarning(this.id);else if((0,util/* isObject */.Kn)(opt)||(opt={silent:!!opt}),actions[payload.type]&&this._model)// May dispatchAction in rendering procedure
if(this[IN_MAIN_PROCESS_KEY])this._pendingActions.push(payload);else{var silent=opt.silent;doDispatchAction.call(this,payload,silent);var flush=opt.flush;flush?this._zr.flush():!1!==flush&&env/* default */.Z.browser.weChat&&
// In WeChat embedded browser, `requestAnimationFrame` and `setInterval`
// hang when sliding page (on touch event), which cause that zr does not
// refresh until user interaction finished, which is not expected.
// But `dispatchAction` may be called too frequently when pan on touch
// screen, which impacts performance if do not throttle them.
this._throttledZrFlush(),flushPendingActions.call(this,silent),triggerUpdatedEvent.call(this,silent)}// Avoid dispatch action before setOption. Especially in `connect`.
},ECharts.prototype.updateLabelLayout=function(){core_lifecycle.trigger("series:layoutlabels",this._model,this._api,{
// Not adding series labels.
// TODO
updatedSeries:[]})},ECharts.prototype.appendData=function(params){if(this._disposed)disposedWarning(this.id);else{var seriesIndex=params.seriesIndex,ecModel=this.getModel(),seriesModel=ecModel.getSeriesByIndex(seriesIndex);0,seriesModel.appendData(params),// Note: `appendData` does not support that update extent of coordinate
// system, util some scenario require that. In the expected usage of
// `appendData`, the initial extent of coordinate system should better
// be fixed by axis `min`/`max` setting or initial data, otherwise if
// the extent changed while `appendData`, the location of the painted
// graphic elements have to be changed, which make the usage of
// `appendData` meaningless.
this._scheduler.unfinished=!0,this.getZr().wakeUp()}},// A work around for no `internal` modifier in ts yet but
// need to strictly hide private methods to JS users.
ECharts.internalField=function(){function clearColorPalette(ecModel){ecModel.clearColorPalette(),ecModel.eachSeries((function(seriesModel){seriesModel.clearColorPalette()}))}// Allocate zlevels for series and components
function allocateZlevels(ecModel){var componentZLevels=[],seriesZLevels=[],hasSeperateZLevel=!1;if(ecModel.eachComponent((function(componentType,componentModel){var zlevel=componentModel.get("zlevel")||0,z=componentModel.get("z")||0,zlevelKey=componentModel.getZLevelKey();hasSeperateZLevel=hasSeperateZLevel||!!zlevelKey,("series"===componentType?seriesZLevels:componentZLevels).push({zlevel:zlevel,z:z,idx:componentModel.componentIndex,type:componentType,key:zlevelKey})})),hasSeperateZLevel){
// Series after component
var lastSeriesZLevel_1,lastSeriesKey_1,zLevels=componentZLevels.concat(seriesZLevels);(0,timsort/* default */.Z)(zLevels,(function(a,b){return a.zlevel===b.zlevel?a.z-b.z:a.zlevel-b.zlevel})),(0,util/* each */.S6)(zLevels,(function(item){var componentModel=ecModel.getComponent(item.type,item.idx),zlevel=item.zlevel,key=item.key;null!=lastSeriesZLevel_1&&(zlevel=Math.max(lastSeriesZLevel_1,zlevel)),key?(zlevel===lastSeriesZLevel_1&&key!==lastSeriesKey_1&&zlevel++,lastSeriesKey_1=key):lastSeriesKey_1&&(zlevel===lastSeriesZLevel_1&&zlevel++,lastSeriesKey_1=""),lastSeriesZLevel_1=zlevel,componentModel.setZLevel(zlevel)}))}}function applyElementStates(el){// Keep other states.
for(var newStates=[],oldStates=el.currentStates,i=0;i<oldStates.length;i++){var stateName=oldStates[i];"emphasis"!==stateName&&"blur"!==stateName&&"select"!==stateName&&newStates.push(stateName)}// Only use states when it's exists.
el.selected&&el.states.select&&newStates.push("select"),el.hoverState===states/* HOVER_STATE_EMPHASIS */.wU&&el.states.emphasis?newStates.push("emphasis"):el.hoverState===states/* HOVER_STATE_BLUR */.CX&&el.states.blur&&newStates.push("blur"),el.useStates(newStates)}function updateHoverLayerStatus(ecIns,ecModel){var zr=ecIns._zr,storage=zr.storage,elCount=0;storage.traverse((function(el){el.isGroup||elCount++})),elCount>ecModel.get("hoverLayerThreshold")&&!env/* default */.Z.node&&!env/* default */.Z.worker&&ecModel.eachSeries((function(seriesModel){if(!seriesModel.preventUsingHoverLayer){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive&&chartView.eachRendered((function(el){el.states.emphasis&&(el.states.emphasis.hoverLayer=!0)}))}}))}
/**
     * Update chart and blend.
     */
function updateBlend(seriesModel,chartView){var blendMode=seriesModel.get("blendMode")||null;chartView.eachRendered((function(el){
// FIXME marker and other components
el.isGroup||(
// DON'T mark the element dirty. In case element is incremental and don't want to rerender.
el.style.blend=blendMode)}))}function updateZ(model,view){if(!model.preventAutoZ){var z=model.get("z")||0,zlevel=model.get("zlevel")||0;// Set z and zlevel
view.eachRendered((function(el){// Don't traverse the children because it has been traversed in _updateZ.
return doUpdateZ(el,z,zlevel,-1/0),!0}))}}function doUpdateZ(el,z,zlevel,maxZ2){
// Group may also have textContent
var label=el.getTextContent(),labelLine=el.getTextGuideLine(),isGroup=el.isGroup;if(isGroup)for(
// set z & zlevel of children elements of Group
var children=el.childrenRef(),i=0;i<children.length;i++)maxZ2=Math.max(doUpdateZ(children[i],z,zlevel,maxZ2),maxZ2);else
// not Group
el.z=z,el.zlevel=zlevel,maxZ2=Math.max(el.z2,maxZ2);// always set z and zlevel if label/labelLine exists
if(label&&(label.z=z,label.zlevel=zlevel,// lift z2 of text content
// TODO if el.emphasis.z2 is spcefied, what about textContent.
isFinite(maxZ2)&&(label.z2=maxZ2+2)),labelLine){var textGuideLineConfig=el.textGuideLineConfig;labelLine.z=z,labelLine.zlevel=zlevel,isFinite(maxZ2)&&(labelLine.z2=maxZ2+(textGuideLineConfig&&textGuideLineConfig.showAbove?1:-1))}return maxZ2}// Clear states without animation.
// TODO States on component.
function clearStates(model,view){view.eachRendered((function(el){
// Not applied on removed elements, it may still in fading.
if(!basicTransition/* isElementRemoved */.eq(el)){var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();el.stateTransition&&(el.stateTransition=null),textContent&&textContent.stateTransition&&(textContent.stateTransition=null),textGuide&&textGuide.stateTransition&&(textGuide.stateTransition=null),// TODO If el is incremental.
el.hasState()?(el.prevStates=el.currentStates,el.clearStates()):el.prevStates&&(el.prevStates=null)}}))}function updateStates(model,view){var stateAnimationModel=model.getModel("stateAnimation"),enableAnimation=model.isAnimationEnabled(),duration=stateAnimationModel.get("duration"),stateTransition=duration>0?{duration:duration,delay:stateAnimationModel.get("delay"),easing:stateAnimationModel.get("easing")}:null;view.eachRendered((function(el){if(el.states&&el.states.emphasis){
// Not applied on removed elements, it may still in fading.
if(basicTransition/* isElementRemoved */.eq(el))return;// Only updated on changed element. In case element is incremental and don't want to rerender.
// TODO, a more proper way?
if(el instanceof Path/* default */.ZP&&(0,states/* savePathStates */.e9)(el),el.__dirty){var prevStates=el.prevStates;// Restore states without animation
prevStates&&el.useStates(prevStates)}// Update state transition and enable animation again.
if(enableAnimation){el.stateTransition=stateTransition;var textContent=el.getTextContent(),textGuide=el.getTextGuideLine();// TODO Is it necessary to animate label?
textContent&&(textContent.stateTransition=stateTransition),textGuide&&(textGuide.stateTransition=stateTransition)}// Use highlighted and selected flag to toggle states.
el.__dirty&&applyElementStates(el)}}))}prepare=function(ecIns){var scheduler=ecIns._scheduler;scheduler.restorePipelines(ecIns._model),scheduler.prepareStageTasks(),prepareView(ecIns,!0),prepareView(ecIns,!1),scheduler.plan()},
/**
     * Prepare view instances of charts and components
     */
prepareView=function(ecIns,isComponent){for(var ecModel=ecIns._model,scheduler=ecIns._scheduler,viewList=isComponent?ecIns._componentsViews:ecIns._chartsViews,viewMap=isComponent?ecIns._componentsMap:ecIns._chartsMap,zr=ecIns._zr,api=ecIns._api,i=0;i<viewList.length;i++)viewList[i].__alive=!1;function doPrepare(model){
// By default view will be reused if possible for the case that `setOption` with "notMerge"
// mode and need to enable transition animation. (Usually, when they have the same id, or
// especially no id but have the same type & name & index. See the `model.id` generation
// rule in `makeIdAndName` and `viewId` generation rule here).
// But in `replaceMerge` mode, this feature should be able to disabled when it is clear that
// the new model has nothing to do with the old model.
var requireNewView=model.__requireNewView;// This command should not work twice.
model.__requireNewView=!1;// Consider: id same and type changed.
var viewId="_ec_"+model.id+"_"+model.type,view=!requireNewView&&viewMap[viewId];if(!view){var classType=(0,clazz/* parseClassType */.u9)(model.type),Clazz=isComponent?Component/* default */.Z.getClass(classType.main,classType.sub):// FIXME:TS
// (ChartView as ChartViewConstructor).getClass('series', classType.sub)
// For backward compat, still support a chart type declared as only subType
// like "liquidfill", but recommend "series.liquidfill"
// But need a base class to make a type series.
Chart/* default */.Z.getClass(classType.sub);0,view=new Clazz,view.init(ecModel,api),viewMap[viewId]=view,viewList.push(view),zr.add(view.group)}model.__viewId=view.__id=viewId,view.__alive=!0,view.__model=model,view.group.__ecComponentInfo={mainType:model.mainType,index:model.componentIndex},!isComponent&&scheduler.prepareView(view,model,ecModel,api)}isComponent?ecModel.eachComponent((function(componentType,model){"series"!==componentType&&doPrepare(model)})):ecModel.eachSeries(doPrepare);for(i=0;i<viewList.length;){var view=viewList[i];view.__alive?i++:(!isComponent&&view.renderTask.dispose(),zr.remove(view.group),view.dispose(ecModel,api),viewList.splice(i,1),viewMap[view.__id]===view&&delete viewMap[view.__id],view.__id=view.group.__ecComponentInfo=null)}},updateDirectly=function(ecIns,method,payload,mainType,subType){var ecModel=ecIns._model;// broadcast
if(ecModel.setUpdatePayload(payload),mainType){var query={};query[mainType+"Id"]=payload[mainType+"Id"],query[mainType+"Index"]=payload[mainType+"Index"],query[mainType+"Name"]=payload[mainType+"Name"];var condition={mainType:mainType,query:query};subType&&(condition.subType=subType);// subType may be '' by parseClassType;
var excludeSeriesIdMap,excludeSeriesId=payload.excludeSeriesId;null!=excludeSeriesId&&(excludeSeriesIdMap=(0,util/* createHashMap */.kW)(),(0,util/* each */.S6)(model/* normalizeToArray */.kF(excludeSeriesId),(function(id){var modelId=model/* convertOptionIdName */.U5(id,null);null!=modelId&&excludeSeriesIdMap.set(modelId,!0)}))),// If dispatchAction before setOption, do nothing.
ecModel&&ecModel.eachComponent(condition,(function(model){var isExcluded=excludeSeriesIdMap&&null!=excludeSeriesIdMap.get(model.id);if(!isExcluded)if((0,states/* isHighDownPayload */.xp)(payload))if(model instanceof Series/* default */.Z)payload.type!==states/* HIGHLIGHT_ACTION_TYPE */.Ki||payload.notBlur||model.get(["emphasis","disabled"])||(0,states/* blurSeriesFromHighlightPayload */.UL)(model,payload,ecIns._api);else{var _a=(0,states/* findComponentHighDownDispatchers */.oJ)(model.mainType,model.componentIndex,payload.name,ecIns._api),focusSelf=_a.focusSelf,dispatchers=_a.dispatchers;payload.type===states/* HIGHLIGHT_ACTION_TYPE */.Ki&&focusSelf&&!payload.notBlur&&(0,states/* blurComponent */.zI)(model.mainType,model.componentIndex,ecIns._api),// PENDING:
// Whether to put this "enter emphasis" code in `ComponentView`,
// which will be the same as `ChartView` but might be not necessary
// and will be far from this logic.
dispatchers&&(0,util/* each */.S6)(dispatchers,(function(dispatcher){payload.type===states/* HIGHLIGHT_ACTION_TYPE */.Ki?(0,states/* enterEmphasis */.fD)(dispatcher):(0,states/* leaveEmphasis */.Mh)(dispatcher)}))}else(0,states/* isSelectChangePayload */.aG)(payload)&&model instanceof Series/* default */.Z&&((0,states/* toggleSelectionFromPayload */.og)(model,payload,ecIns._api),(0,states/* updateSeriesElementSelection */.ci)(model),markStatusToUpdate(ecIns))}),ecIns),ecModel&&ecModel.eachComponent(condition,(function(model){var isExcluded=excludeSeriesIdMap&&null!=excludeSeriesIdMap.get(model.id);isExcluded||callView(ecIns["series"===mainType?"_chartsMap":"_componentsMap"][model.__viewId])}),ecIns)}else
// FIXME
// Chart will not be update directly here, except set dirty.
// But there is no such scenario now.
(0,util/* each */.S6)([].concat(ecIns._componentsViews).concat(ecIns._chartsViews),callView);function callView(view){view&&view.__alive&&view[method]&&view[method](view.__model,ecModel,ecIns._api,payload)}},updateMethods={prepareAndUpdate:function(payload){prepare(this),updateMethods.update.call(this,payload,{
// Needs to mark option changed if newOption is given.
// It's from MagicType.
// TODO If use a separate flag optionChanged in payload?
optionChanged:null!=payload.newOption})},update:function(payload,updateParams){var ecModel=this._model,api=this._api,zr=this._zr,coordSysMgr=this._coordSysMgr,scheduler=this._scheduler;// update before setOption
if(ecModel){ecModel.setUpdatePayload(payload),scheduler.restoreData(ecModel,payload),scheduler.performSeriesTasks(ecModel),// TODO
// Save total ecModel here for undo/redo (after restoring data and before processing data).
// Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.
// Create new coordinate system each update
// In LineView may save the old coordinate system and use it to get the original point.
coordSysMgr.create(ecModel,api),scheduler.performDataProcessorTasks(ecModel,payload),// Current stream render is not supported in data process. So we can update
// stream modes after data processing, where the filtered data is used to
// determine whether to use progressive rendering.
updateStreamModes(this,ecModel),// We update stream modes before coordinate system updated, then the modes info
// can be fetched when coord sys updating (consider the barGrid extent fix). But
// the drawback is the full coord info can not be fetched. Fortunately this full
// coord is not required in stream mode updater currently.
coordSysMgr.update(ecModel,api),clearColorPalette(ecModel),scheduler.performVisualTasks(ecModel,payload),render(this,ecModel,api,payload,updateParams);// Set background
var backgroundColor=ecModel.get("backgroundColor")||"transparent",darkMode=ecModel.get("darkMode");zr.setBackgroundColor(backgroundColor),// Force set dark mode.
null!=darkMode&&"auto"!==darkMode&&zr.setDarkMode(darkMode),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateTransform:function(payload){var _this=this,ecModel=this._model,api=this._api;// update before setOption
if(ecModel){ecModel.setUpdatePayload(payload);// ChartView.markUpdateMethod(payload, 'updateTransform');
var componentDirtyList=[];ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);if(componentView&&componentView.__alive)if(componentView.updateTransform){var result=componentView.updateTransform(componentModel,ecModel,api,payload);result&&result.update&&componentDirtyList.push(componentView)}else componentDirtyList.push(componentView)}}));var seriesDirtyMap=(0,util/* createHashMap */.kW)();ecModel.eachSeries((function(seriesModel){var chartView=_this._chartsMap[seriesModel.__viewId];if(chartView.updateTransform){var result=chartView.updateTransform(seriesModel,ecModel,api,payload);result&&result.update&&seriesDirtyMap.set(seriesModel.uid,1)}else seriesDirtyMap.set(seriesModel.uid,1)})),clearColorPalette(ecModel),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
// this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);
this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0,dirtyMap:seriesDirtyMap}),// Currently, not call render of components. Geo render cost a lot.
// renderComponents(ecIns, ecModel, api, payload, componentDirtyList);
renderSeries(this,ecModel,api,payload,{},seriesDirtyMap),core_lifecycle.trigger("afterupdate",ecModel,api)}},updateView:function(payload){var ecModel=this._model;// update before setOption
ecModel&&(ecModel.setUpdatePayload(payload),Chart/* default */.Z.markUpdateMethod(payload,"updateView"),clearColorPalette(ecModel),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
this._scheduler.performVisualTasks(ecModel,payload,{setDirty:!0}),render(this,ecModel,this._api,payload,{}),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateVisual:function(payload){
// updateMethods.update.call(this, payload);
var _this=this,ecModel=this._model;// update before setOption
ecModel&&(ecModel.setUpdatePayload(payload),// clear all visual
ecModel.eachSeries((function(seriesModel){seriesModel.getData().clearAllVisual()})),// Perform visual
Chart/* default */.Z.markUpdateMethod(payload,"updateVisual"),clearColorPalette(ecModel),// Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.
this._scheduler.performVisualTasks(ecModel,payload,{visualType:"visual",setDirty:!0}),ecModel.eachComponent((function(componentType,componentModel){if("series"!==componentType){var componentView=_this.getViewOfComponentModel(componentModel);componentView&&componentView.__alive&&componentView.updateVisual(componentModel,ecModel,_this._api,payload)}})),ecModel.eachSeries((function(seriesModel){var chartView=_this._chartsMap[seriesModel.__viewId];chartView.updateVisual(seriesModel,ecModel,_this._api,payload)})),core_lifecycle.trigger("afterupdate",ecModel,this._api))},updateLayout:function(payload){updateMethods.update.call(this,payload)}},doConvertPixel=function(ecIns,methodName,finder,value){if(ecIns._disposed)disposedWarning(ecIns.id);else{for(var result,ecModel=ecIns._model,coordSysList=ecIns._coordSysMgr.getCoordinateSystems(),parsedFinder=model/* parseFinder */.pm(ecModel,finder),i=0;i<coordSysList.length;i++){var coordSys=coordSysList[i];if(coordSys[methodName]&&null!=(result=coordSys[methodName](ecModel,parsedFinder,value)))return result}0}},updateStreamModes=function(ecIns,ecModel){var chartsMap=ecIns._chartsMap,scheduler=ecIns._scheduler;ecModel.eachSeries((function(seriesModel){scheduler.updateStreamModes(seriesModel,chartsMap[seriesModel.__viewId])}))},doDispatchAction=function(payload,silent){var _this=this,ecModel=this.getModel(),payloadType=payload.type,escapeConnect=payload.escapeConnect,actionWrap=actions[payloadType],actionInfo=actionWrap.actionInfo,cptTypeTmp=(actionInfo.update||"update").split(":"),updateMethod=cptTypeTmp.pop(),cptType=null!=cptTypeTmp[0]&&(0,clazz/* parseClassType */.u9)(cptTypeTmp[0]);this[IN_MAIN_PROCESS_KEY]=!0;var payloads=[payload],batched=!1;// Batch action
payload.batch&&(batched=!0,payloads=(0,util/* map */.UI)(payload.batch,(function(item){return item=(0,util/* defaults */.ce)((0,util/* extend */.l7)({},item),payload),item.batch=null,item})));var eventObj,eventObjBatch=[],isSelectChange=(0,states/* isSelectChangePayload */.aG)(payload),isHighDown=(0,states/* isHighDownPayload */.xp)(payload);if(// Only leave blur once if there are multiple batches.
isHighDown&&(0,states/* allLeaveBlur */.T5)(this._api),(0,util/* each */.S6)(payloads,(function(batchItem){// light update does not perform data process, layout and visual.
if(
// Action can specify the event by return it.
eventObj=actionWrap.action(batchItem,_this._model,_this._api),// Emit event outside
eventObj=eventObj||(0,util/* extend */.l7)({},batchItem),// Convert type to eventType
eventObj.type=actionInfo.event||eventObj.type,eventObjBatch.push(eventObj),isHighDown){var _a=model/* preParseFinder */.zH(payload),queryOptionMap=_a.queryOptionMap,mainTypeSpecified=_a.mainTypeSpecified,componentMainType=mainTypeSpecified?queryOptionMap.keys()[0]:"series";updateDirectly(_this,updateMethod,batchItem,componentMainType),markStatusToUpdate(_this)}else isSelectChange?(
// At present `dispatchAction({ type: 'select', ... })` is not supported on components.
// geo still use 'geoselect'.
updateDirectly(_this,updateMethod,batchItem,"series"),markStatusToUpdate(_this)):cptType&&updateDirectly(_this,updateMethod,batchItem,cptType.main,cptType.sub)})),"none"!==updateMethod&&!isHighDown&&!isSelectChange&&!cptType)try{
// Still dirty
this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,payload),this[PENDING_UPDATE]=null):updateMethods[updateMethod].call(this,payload)}catch(e){throw this[IN_MAIN_PROCESS_KEY]=!1,e}// Follow the rule of action batch
if(eventObj=batched?{type:actionInfo.event||payloadType,escapeConnect:escapeConnect,batch:eventObjBatch}:eventObjBatch[0],this[IN_MAIN_PROCESS_KEY]=!1,!silent){var messageCenter=this._messageCenter;// Extra triggered 'selectchanged' event
if(messageCenter.trigger(eventObj.type,eventObj),isSelectChange){var newObj={type:"selectchanged",escapeConnect:escapeConnect,selected:(0,states/* getAllSelectedIndices */.C5)(ecModel),isFromClick:payload.isFromClick||!1,fromAction:payload.type,fromActionPayload:payload};messageCenter.trigger(newObj.type,newObj)}}},flushPendingActions=function(silent){var pendingActions=this._pendingActions;while(pendingActions.length){var payload=pendingActions.shift();doDispatchAction.call(this,payload,silent)}},triggerUpdatedEvent=function(silent){!silent&&this.trigger("updated")},
/**
     * Event `rendered` is triggered when zr
     * rendered. It is useful for realtime
     * snapshot (reflect animation).
     *
     * Event `finished` is triggered when:
     * (1) zrender rendering finished.
     * (2) initial animation finished.
     * (3) progressive rendering finished.
     * (4) no pending action.
     * (5) no delayed setOption needs to be processed.
     */
bindRenderedEvent=function(zr,ecIns){zr.on("rendered",(function(params){ecIns.trigger("rendered",params),// The `finished` event should not be triggered repeatedly,
// so it should only be triggered when rendering indeed happens
// in zrender. (Consider the case that dipatchAction is keep
// triggering when mouse move).
// Although zr is dirty if initial animation is not finished
// and this checking is called on frame, we also check
// animation finished for robustness.
!zr.animation.isFinished()||ecIns[PENDING_UPDATE]||ecIns._scheduler.unfinished||ecIns._pendingActions.length||ecIns.trigger("finished")}))},bindMouseEvent=function(zr,ecIns){zr.on("mouseover",(function(e){var el=e.target,dispatcher=(0,util_event/* findEventDispatcher */.o)(el,states/* isHighDownDispatcher */.Av);dispatcher&&((0,states/* handleGlobalMouseOverForHighDown */.$l)(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("mouseout",(function(e){var el=e.target,dispatcher=(0,util_event/* findEventDispatcher */.o)(el,states/* isHighDownDispatcher */.Av);dispatcher&&((0,states/* handleGlobalMouseOutForHighDown */.xr)(dispatcher,e,ecIns._api),markStatusToUpdate(ecIns))})).on("click",(function(e){var el=e.target,dispatcher=(0,util_event/* findEventDispatcher */.o)(el,(function(target){return null!=(0,innerStore/* getECData */.A)(target).dataIndex}),!0);if(dispatcher){var actionType=dispatcher.selected?"unselect":"select",ecData=(0,innerStore/* getECData */.A)(dispatcher);ecIns._api.dispatchAction({type:actionType,dataType:ecData.dataType,dataIndexInside:ecData.dataIndex,seriesIndex:ecData.seriesIndex,isFromClick:!0})}}))},render=function(ecIns,ecModel,api,payload,updateParams){allocateZlevels(ecModel),renderComponents(ecIns,ecModel,api,payload,updateParams),(0,util/* each */.S6)(ecIns._chartsViews,(function(chart){chart.__alive=!1})),renderSeries(ecIns,ecModel,api,payload,updateParams),// Remove groups of unrendered charts
(0,util/* each */.S6)(ecIns._chartsViews,(function(chart){chart.__alive||chart.remove(ecModel,api)}))},renderComponents=function(ecIns,ecModel,api,payload,updateParams,dirtyList){(0,util/* each */.S6)(dirtyList||ecIns._componentsViews,(function(componentView){var componentModel=componentView.__model;clearStates(componentModel,componentView),componentView.render(componentModel,ecModel,api,payload),updateZ(componentModel,componentView),updateStates(componentModel,componentView)}))},
/**
     * Render each chart and component
     */
renderSeries=function(ecIns,ecModel,api,payload,updateParams,dirtyMap){
// Render all charts
var scheduler=ecIns._scheduler;updateParams=(0,util/* extend */.l7)(updateParams||{},{updatedSeries:ecModel.getSeries()}),// TODO progressive?
core_lifecycle.trigger("series:beforeupdate",ecModel,api,updateParams);var unfinished=!1;ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];chartView.__alive=!0;var renderTask=chartView.renderTask;scheduler.updatePayload(renderTask,payload),// TODO states on marker.
clearStates(seriesModel,chartView),dirtyMap&&dirtyMap.get(seriesModel.uid)&&renderTask.dirty(),renderTask.perform(scheduler.getPerformArgs(renderTask))&&(unfinished=!0),chartView.group.silent=!!seriesModel.get("silent"),// Should not call markRedraw on group, because it will disable zrender
// incremental render (always render from the __startIndex each frame)
// chartView.group.markRedraw();
updateBlend(seriesModel,chartView),(0,states/* updateSeriesElementSelection */.ci)(seriesModel)})),scheduler.unfinished=unfinished||scheduler.unfinished,core_lifecycle.trigger("series:layoutlabels",ecModel,api,updateParams),// transition after label is layouted.
core_lifecycle.trigger("series:transition",ecModel,api,updateParams),ecModel.eachSeries((function(seriesModel){var chartView=ecIns._chartsMap[seriesModel.__viewId];// Update Z after labels updated. Before applying states.
updateZ(seriesModel,chartView),// NOTE: Update states after label is updated.
// label should be in normal status when layouting.
updateStates(seriesModel,chartView)})),// If use hover layer
updateHoverLayerStatus(ecIns,ecModel),core_lifecycle.trigger("series:afterupdate",ecModel,api,updateParams)},markStatusToUpdate=function(ecIns){ecIns[STATUS_NEEDS_UPDATE_KEY]=!0,// Wake up zrender if it's sleep. Let it update states in the next frame.
ecIns.getZr().wakeUp()},applyChangedStates=function(ecIns){ecIns[STATUS_NEEDS_UPDATE_KEY]&&(ecIns.getZr().storage.traverse((function(el){
// Not applied on removed elements, it may still in fading.
basicTransition/* isElementRemoved */.eq(el)||applyElementStates(el)})),ecIns[STATUS_NEEDS_UPDATE_KEY]=!1)},createExtensionAPI=function(ecIns){return new(
/** @class */function(_super){function class_1(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6/* __extends */.ZT)(class_1,_super),class_1.prototype.getCoordinateSystems=function(){return ecIns._coordSysMgr.getCoordinateSystems()},class_1.prototype.getComponentByElement=function(el){while(el){var modelInfo=el.__ecComponentInfo;if(null!=modelInfo)return ecIns._model.getComponent(modelInfo.mainType,modelInfo.index);el=el.parent}},class_1.prototype.enterEmphasis=function(el,highlightDigit){(0,states/* enterEmphasis */.fD)(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.leaveEmphasis=function(el,highlightDigit){(0,states/* leaveEmphasis */.Mh)(el,highlightDigit),markStatusToUpdate(ecIns)},class_1.prototype.enterBlur=function(el){(0,states/* enterBlur */.SX)(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveBlur=function(el){(0,states/* leaveBlur */.VP)(el),markStatusToUpdate(ecIns)},class_1.prototype.enterSelect=function(el){(0,states/* enterSelect */.XX)(el),markStatusToUpdate(ecIns)},class_1.prototype.leaveSelect=function(el){(0,states/* leaveSelect */.SJ)(el),markStatusToUpdate(ecIns)},class_1.prototype.getModel=function(){return ecIns.getModel()},class_1.prototype.getViewOfComponentModel=function(componentModel){return ecIns.getViewOfComponentModel(componentModel)},class_1.prototype.getViewOfSeriesModel=function(seriesModel){return ecIns.getViewOfSeriesModel(seriesModel)},class_1}(core_ExtensionAPI))(ecIns)},enableConnect=function(chart){function updateConnectedChartsStatus(charts,status){for(var i=0;i<charts.length;i++){var otherChart=charts[i];otherChart[CONNECT_STATUS_KEY]=status}}(0,util/* each */.S6)(eventActionMap,(function(actionType,eventType){chart._messageCenter.on(eventType,(function(event){if(connectedGroups[chart.group]&&chart[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(event&&event.escapeConnect)return;var action_1=chart.makeActionFromEvent(event),otherCharts_1=[];(0,util/* each */.S6)(instances,(function(otherChart){otherChart!==chart&&otherChart.group===chart.group&&otherCharts_1.push(otherChart)})),updateConnectedChartsStatus(otherCharts_1,CONNECT_STATUS_PENDING),(0,util/* each */.S6)(otherCharts_1,(function(otherChart){otherChart[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&otherChart.dispatchAction(action_1)})),updateConnectedChartsStatus(otherCharts_1,CONNECT_STATUS_UPDATED)}}))}))}}(),ECharts}(Eventful/* default */.Z),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),
/**
 * @deprecated
 */
// @ts-ignore
echartsProto.one=function(eventName,cb,ctx){var self=this;function wrapped(){for(var args2=[],_i=0;_i<arguments.length;_i++)args2[_i]=arguments[_i];cb&&cb.apply&&cb.apply(this,args2),// @ts-ignore
self.off(eventName,wrapped)}(0,log/* deprecateLog */.Sh)("ECharts#one is deprecated."),// @ts-ignore
this.on.call(this,eventName,wrapped,ctx)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(id){0}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY=(new Date,"_echarts_instance_");
/**
 * Map eventType to actionType
 */
/**
 * @param opts.devicePixelRatio Use window.devicePixelRatio by default
 * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.
 * @param opts.width Use clientWidth of the input `dom` by default.
 *        Can be 'auto' (the same as null/undefined)
 * @param opts.height Use clientHeight of the input `dom` by default.
 *        Can be 'auto' (the same as null/undefined)
 * @param opts.locale Specify the locale.
 * @param opts.useDirtyRect Enable dirty rectangle rendering or not.
 */
function init(dom,theme,opts){var isClient=!(opts&&opts.ssr);if(isClient){0;var existInstance=getInstanceByDom(dom);if(existInstance)return existInstance;0}var chart=new ECharts(dom,theme,opts);return chart.id="ec_"+idBase++,instances[chart.id]=chart,isClient&&model/* setAttribute */.P$(dom,DOM_ATTRIBUTE_KEY,chart.id),enableConnect(chart),core_lifecycle.trigger("afterinit",chart),chart}
/**
 * @usage
 * (A)
 * ```js
 * let chart1 = echarts.init(dom1);
 * let chart2 = echarts.init(dom2);
 * chart1.group = 'xxx';
 * chart2.group = 'xxx';
 * echarts.connect('xxx');
 * ```
 * (B)
 * ```js
 * let chart1 = echarts.init(dom1);
 * let chart2 = echarts.init(dom2);
 * echarts.connect('xxx', [chart1, chart2]);
 * ```
 */function getInstanceByDom(dom){return instances[model/* getAttribute */.IL(dom,DOM_ATTRIBUTE_KEY)]}
/**
 * Register theme
 */
function registerTheme(name,theme){themeStorage[name]=theme}
/**
 * Register option preprocessor
 */function registerPreprocessor(preprocessorFunc){(0,util/* indexOf */.cq)(optionPreprocessorFuncs,preprocessorFunc)<0&&optionPreprocessorFuncs.push(preprocessorFunc)}function registerProcessor(priority,processor){normalizeRegister(dataProcessorFuncs,priority,processor,PRIORITY_PROCESSOR_DEFAULT)}
/**
 * Register postIniter
 * @param {Function} postInitFunc
 */function registerPostInit(postInitFunc){registerUpdateLifecycle("afterinit",postInitFunc)}
/**
 * Register postUpdater
 * @param {Function} postUpdateFunc
 */function registerPostUpdate(postUpdateFunc){registerUpdateLifecycle("afterupdate",postUpdateFunc)}function registerUpdateLifecycle(name,cb){core_lifecycle.on(name,cb)}function registerAction(actionInfo,eventName,action){(0,util/* isFunction */.mf)(eventName)&&(action=eventName,eventName="");var actionType=(0,util/* isObject */.Kn)(actionInfo)?actionInfo.type:[actionInfo,actionInfo={event:eventName}][0];// Event name is all lowercase
actionInfo.event=(actionInfo.event||actionType).toLowerCase(),eventName=actionInfo.event,eventActionMap[eventName]||(// Validate action type and event name.
(0,util/* assert */.hu)(ACTION_REG.test(actionType)&&ACTION_REG.test(eventName)),actions[actionType]||(actions[actionType]={action:action,actionInfo:actionInfo}),eventActionMap[eventName]=actionType)}function registerCoordinateSystem(type,coordSysCreator){CoordinateSystem/* default */.Z.register(type,coordSysCreator)}
/**
 * Get dimensions of specified coordinate system.
 * @param {string} type
 * @return {Array.<string|Object>}
 */function registerLayout(priority,layoutTask){normalizeRegister(visualFuncs,priority,layoutTask,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(priority,visualTask){normalizeRegister(visualFuncs,priority,visualTask,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(targetList,priority,fn,defaultPriority,visualType){// Already registered
if(((0,util/* isFunction */.mf)(priority)||(0,util/* isObject */.Kn)(priority))&&(fn=priority,priority=defaultPriority),!((0,util/* indexOf */.cq)(registeredTasks,fn)>=0)){registeredTasks.push(fn);var stageHandler=core_Scheduler.wrapStageHandler(fn,visualType);stageHandler.__prio=priority,stageHandler.__raw=fn,targetList.push(stageHandler)}}function registerLoading(name,loadingFx){loadingEffects[name]=loadingFx}
/**
 * ZRender need a canvas context to do measureText.
 * But in node environment canvas may be created by node-canvas.
 * So we need to specify how to create a canvas instead of using document.createElement('canvas')
 *
 *
 * @deprecated use setPlatformAPI({ createCanvas }) instead.
 *
 * @example
 *     let Canvas = require('canvas');
 *     let echarts = require('echarts');
 *     echarts.setCanvasCreator(function () {
 *         // Small size is enough.
 *         return new Canvas(32, 32);
 *     });
 */
/**
 * The parameters and usage: see `geoSourceManager.registerMap`.
 * Compatible with previous `echarts.registerMap`.
 */
function registerMap(mapName,geoJson,specialAreas){var registerMap=(0,impl/* getImpl */.C)("registerMap");registerMap&&registerMap(mapName,geoJson,specialAreas)}var registerTransform=transform/* registerExternalTransform */.DA;
/**
 * Globa dispatchAction to a specified chart instance.
 */
// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {
//     if (!payload || !payload.chartId) {
//         // Must have chartId to find chart
//         return;
//     }
//     const chart = instances[payload.chartId];
//     if (chart) {
//         chart.dispatchAction(payload, opt);
//     }
// }
// Builtin global visual
registerVisual(PRIORITY_VISUAL_GLOBAL,style/* seriesStyleTask */.TD),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,style/* dataStyleTask */.Tn),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,style/* dataColorPaletteTask */.$P),registerVisual(PRIORITY_VISUAL_GLOBAL,symbol/* seriesSymbolTask */.n),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,symbol/* dataSymbolTask */.m),registerVisual(PRIORITY_VISUAL_DECAL,decal/* default */.Z),registerPreprocessor(backwardCompat/* default */.Z),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack/* default */.Z),registerLoading("default",loading_default/* default */.Z),// Default actions
registerAction({type:states/* HIGHLIGHT_ACTION_TYPE */.Ki,event:states/* HIGHLIGHT_ACTION_TYPE */.Ki,update:states/* HIGHLIGHT_ACTION_TYPE */.Ki},util/* noop */.ZT),registerAction({type:states/* DOWNPLAY_ACTION_TYPE */.yx,event:states/* DOWNPLAY_ACTION_TYPE */.yx,update:states/* DOWNPLAY_ACTION_TYPE */.yx},util/* noop */.ZT),registerAction({type:states/* SELECT_ACTION_TYPE */.Hg,event:states/* SELECT_ACTION_TYPE */.Hg,update:states/* SELECT_ACTION_TYPE */.Hg},util/* noop */.ZT),registerAction({type:states/* UNSELECT_ACTION_TYPE */.JQ,event:states/* UNSELECT_ACTION_TYPE */.JQ,update:states/* UNSELECT_ACTION_TYPE */.JQ},util/* noop */.ZT),registerAction({type:states/* TOGGLE_SELECT_ACTION_TYPE */.iK,event:states/* TOGGLE_SELECT_ACTION_TYPE */.iK,update:states/* TOGGLE_SELECT_ACTION_TYPE */.iK},util/* noop */.ZT),// Default theme
registerTheme("light",light/* default */.Z),registerTheme("dark",dark/* default */.Z)},
/***/749428:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */C:function(){/* binding */return getImpl},
/* harmony export */M:function(){/* binding */return registerImpl}
/* harmony export */});
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// Implementation of exported APIs. For example registerMap, getMap.
// The implementations will be registered when installing the component.
// Avoid these code being bundled to the core module.
var implsStore={};// TODO Type
function registerImpl(name,impl){implsStore[name]=impl}function getImpl(name){return implsStore[name]}
/***/},
/***/975212:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{sO:function(){/* binding */return SYSTEM_LANG},D0:function(){/* binding */return createLocaleObject},Li:function(){/* binding */return getDefaultLocaleModel},G8:function(){/* binding */return getLocaleModel}});
// UNUSED EXPORTS: registerLocale
// EXTERNAL MODULE: ./node_modules/echarts/lib/model/Model.js + 2 modules
var Model=__webpack_require__(812312),env=__webpack_require__(966387),langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},util=__webpack_require__(933051),LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env/* default */.Z.domSupported?function(){var langStr=
/* eslint-disable-next-line */(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return langStr.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/env.js
function registerLocale(locale,localeObj){locale=locale.toUpperCase(),localeModels[locale]=new Model/* default */.Z(localeObj),localeStorage[locale]=localeObj}// export function getLocale(locale: string) {
//     return localeStorage[locale];
// }
function createLocaleObject(locale){if((0,util/* isString */.HD)(locale)){var localeObj=localeStorage[locale.toUpperCase()]||{};return locale===LOCALE_ZH||locale===LOCALE_EN?(0,util/* clone */.d9)(localeObj):(0,util/* merge */.TS)((0,util/* clone */.d9)(localeObj),(0,util/* clone */.d9)(localeStorage[DEFAULT_LOCALE]),!1)}return(0,util/* merge */.TS)((0,util/* clone */.d9)(locale),(0,util/* clone */.d9)(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(lang){return localeModels[lang]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}// Default locale
registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH)},
/***/608674:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */v:function(){/* binding */return createTask}
/* harmony export */});
/* unused harmony export Task */
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051);
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * @param {Object} define
 * @return See the return of `createTask`.
 */
function createTask(define){return new Task(define)}var Task=
/** @class */
function(){function Task(define){define=define||{},this._reset=define.reset,this._plan=define.plan,this._count=define.count,this._onDirty=define.onDirty,this._dirty=!0}
/**
   * @param step Specified step.
   * @param skip Skip customer perform call.
   * @param modBy Sampling window size.
   * @param modDataCount Sampling count.
   * @return whether unfinished.
   */return Task.prototype.perform=function(performArgs){var planResult,upTask=this._upstream,skip=performArgs&&performArgs.skip;// TODO some refactor.
// Pull data. Must pull data each time, because context.data
// may be updated by Series.setData.
if(this._dirty&&upTask){var context=this.context;context.data=context.outputData=upTask.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!skip&&(planResult=this._plan(this.context));// Support sharding by mod, which changes the render sequence and makes the rendered graphic
// elements uniformed distributed when progress, especially when moving or zooming.
var forceFirstProgress,lastModBy=normalizeModBy(this._modBy),lastModDataCount=this._modDataCount||0,modBy=normalizeModBy(performArgs&&performArgs.modBy),modDataCount=performArgs&&performArgs.modDataCount||0;function normalizeModBy(val){// jshint ignore:line
return!(val>=1)&&(val=1),val}lastModBy===modBy&&lastModDataCount===modDataCount||(planResult="reset"),(this._dirty||"reset"===planResult)&&(this._dirty=!1,forceFirstProgress=this._doReset(skip)),this._modBy=modBy,this._modDataCount=modDataCount;var step=performArgs&&performArgs.step;// Note: Stubs, that its host overall task let it has progress, has progress.
// If no progress, pass index from upstream to downstream each time plan called.
if(this._dueEnd=upTask?upTask._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var start=this._dueIndex,end=Math.min(null!=step?this._dueIndex+step:1/0,this._dueEnd);if(!skip&&(forceFirstProgress||start<end)){var progress=this._progress;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(progress))for(var i=0;i<progress.length;i++)this._doProgress(progress[i],start,end,modBy,modDataCount);else this._doProgress(progress,start,end,modBy,modDataCount)}this._dueIndex=end;// If no `outputDueEnd`, assume that output data and
// input data is the same, so use `dueIndex` as `outputDueEnd`.
var outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:end;0,this._outputDueEnd=outputDueEnd}else
// (1) Some overall task has no progress.
// (2) Stubs, that its host overall task do not let it has progress, has no progress.
// This should always be performed so it can be passed to downstream.
this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},Task.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Task.prototype._doProgress=function(progress,start,end,modBy,modDataCount){iterator.reset(start,end,modBy,modDataCount),this._callingProgress=progress,this._callingProgress({start:start,end:end,count:end-start,next:iterator.next},this.context)},Task.prototype._doReset=function(skip){var progress,forceFirstProgress;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!skip&&this._reset&&(progress=this._reset(this.context),progress&&progress.progress&&(forceFirstProgress=progress.forceFirstProgress,progress=progress.progress),// To simplify no progress checking, array must has item.
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ)(progress)&&!progress.length&&(progress=null)),this._progress=progress,this._modBy=this._modDataCount=null;var downstream=this._downstream;return downstream&&downstream.dirty(),forceFirstProgress},Task.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},
/**
   * @param downTask The downstream task.
   * @return The downstream task.
   */
Task.prototype.pipe=function(downTask){// If already downstream, do not dirty downTask.
(this._downstream!==downTask||this._dirty)&&(this._downstream=downTask,downTask._upstream=this,downTask.dirty())},Task.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Task.prototype.getUpstream=function(){return this._upstream},Task.prototype.getDownstream=function(){return this._downstream},Task.prototype.setOutputEnd=function(end){
// This only happens in dataTask, dataZoom, map, currently.
// where dataZoom do not set end each time, but only set
// when reset. So we should record the set end, in case
// that the stub of dataZoom perform again and earse the
// set end by upstream.
this._outputDueEnd=this._settedOutputEnd=end},Task}(),iterator=function(){var end,current,modBy,modDataCount,winCount,it={reset:function(s,e,sStep,sCount){current=s,end=e,modBy=sStep,modDataCount=sCount,winCount=Math.ceil(modDataCount/modBy),it.next=modBy>1&&modDataCount>0?modNext:sequentialNext}};return it;function sequentialNext(){return current<end?current++:null}function modNext(){var dataIndex=current%winCount*modBy+Math.ceil(current/winCount),result=current>=end?null:dataIndex<modDataCount?dataIndex:current;return current++,result}}()},
/***/904130:
/***/function(__unused_webpack_module,__webpack_exports__){
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function dataIndexMapValueLength(valNumOrArrLengthMoreThan2){return null==valNumOrArrLengthMoreThan2?0:valNumOrArrLengthMoreThan2.length||1}function defaultKeyGetter(item){return item}var DataDiffer=
/** @class */
function(){
/**
   * @param context Can be visited by this.context in callback.
   */
function DataDiffer(oldArr,newArr,oldKeyGetter,newKeyGetter,context,// By default: 'oneToOne'.
diffMode){this._old=oldArr,this._new=newArr,this._oldKeyGetter=oldKeyGetter||defaultKeyGetter,this._newKeyGetter=newKeyGetter||defaultKeyGetter,// Visible in callback via `this.context`;
this.context=context,this._diffModeMultiple="multiple"===diffMode}
/**
   * Callback function when add a data
   */return DataDiffer.prototype.add=function(func){return this._add=func,this},
/**
   * Callback function when update a data
   */
DataDiffer.prototype.update=function(func){return this._update=func,this},
/**
   * Callback function when update a data and only work in `cbMode: 'byKey'`.
   */
DataDiffer.prototype.updateManyToOne=function(func){return this._updateManyToOne=func,this},
/**
   * Callback function when update a data and only work in `cbMode: 'byKey'`.
   */
DataDiffer.prototype.updateOneToMany=function(func){return this._updateOneToMany=func,this},
/**
   * Callback function when update a data and only work in `cbMode: 'byKey'`.
   */
DataDiffer.prototype.updateManyToMany=function(func){return this._updateManyToMany=func,this},
/**
   * Callback function when remove a data
   */
DataDiffer.prototype.remove=function(func){return this._remove=func,this},DataDiffer.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},DataDiffer.prototype._executeOneToOne=function(){var oldArr=this._old,newArr=this._new,newDataIndexMap={},oldDataKeyArr=new Array(oldArr.length),newDataKeyArr=new Array(newArr.length);this._initIndexMap(oldArr,null,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldArr.length;i++){var oldKey=oldDataKeyArr[i],newIdxMapVal=newDataIndexMap[oldKey],newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);// idx can never be empty array here. see 'set null' logic below.
if(newIdxMapValLen>1){
// Consider there is duplicate key (for example, use dataItem.name as key).
// We should make sure every item in newArr and oldArr can be visited.
var newIdx=newIdxMapVal.shift();1===newIdxMapVal.length&&(newDataIndexMap[oldKey]=newIdxMapVal[0]),this._update&&this._update(newIdx,i)}else 1===newIdxMapValLen?(newDataIndexMap[oldKey]=null,this._update&&this._update(newIdxMapVal,i)):this._remove&&this._remove(i)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},
/**
   * For example, consider the case:
   * oldData: [o0, o1, o2, o3, o4, o5, o6, o7],
   * newData: [n0, n1, n2, n3, n4, n5, n6, n7, n8],
   * Where:
   *     o0, o1, n0 has key 'a' (many to one)
   *     o5, n4, n5, n6 has key 'b' (one to many)
   *     o2, n1 has key 'c' (one to one)
   *     n2, n3 has key 'd' (add)
   *     o3, o4 has key 'e' (remove)
   *     o6, o7, n7, n8 has key 'f' (many to many, treated as add and remove)
   * Then:
   *     (The order of the following directives are not ensured.)
   *     this._updateManyToOne(n0, [o0, o1]);
   *     this._updateOneToMany([n4, n5, n6], o5);
   *     this._update(n1, o2);
   *     this._remove(o3);
   *     this._remove(o4);
   *     this._remove(o6);
   *     this._remove(o7);
   *     this._add(n2);
   *     this._add(n3);
   *     this._add(n7);
   *     this._add(n8);
   */
DataDiffer.prototype._executeMultiple=function(){var oldArr=this._old,newArr=this._new,oldDataIndexMap={},newDataIndexMap={},oldDataKeyArr=[],newDataKeyArr=[];this._initIndexMap(oldArr,oldDataIndexMap,oldDataKeyArr,"_oldKeyGetter"),this._initIndexMap(newArr,newDataIndexMap,newDataKeyArr,"_newKeyGetter");for(var i=0;i<oldDataKeyArr.length;i++){var oldKey=oldDataKeyArr[i],oldIdxMapVal=oldDataIndexMap[oldKey],newIdxMapVal=newDataIndexMap[oldKey],oldIdxMapValLen=dataIndexMapValueLength(oldIdxMapVal),newIdxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(oldIdxMapValLen>1&&1===newIdxMapValLen)this._updateManyToOne&&this._updateManyToOne(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&newIdxMapValLen>1)this._updateOneToMany&&this._updateOneToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(1===oldIdxMapValLen&&1===newIdxMapValLen)this._update&&this._update(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1&&newIdxMapValLen>1)this._updateManyToMany&&this._updateManyToMany(newIdxMapVal,oldIdxMapVal),newDataIndexMap[oldKey]=null;else if(oldIdxMapValLen>1)for(var i_1=0;i_1<oldIdxMapValLen;i_1++)this._remove&&this._remove(oldIdxMapVal[i_1]);else this._remove&&this._remove(oldIdxMapVal)}this._performRestAdd(newDataKeyArr,newDataIndexMap)},DataDiffer.prototype._performRestAdd=function(newDataKeyArr,newDataIndexMap){for(var i=0;i<newDataKeyArr.length;i++){var newKey=newDataKeyArr[i],newIdxMapVal=newDataIndexMap[newKey],idxMapValLen=dataIndexMapValueLength(newIdxMapVal);if(idxMapValLen>1)for(var j=0;j<idxMapValLen;j++)this._add&&this._add(newIdxMapVal[j]);else 1===idxMapValLen&&this._add&&this._add(newIdxMapVal);// Support both `newDataKeyArr` are duplication removed or not removed.
newDataIndexMap[newKey]=null}},DataDiffer.prototype._initIndexMap=function(arr,// Can be null.
map,// In 'byKey', the output `keyArr` is duplication removed.
// In 'byIndex', the output `keyArr` is not duplication removed and
//     its indices are accurately corresponding to `arr`.
keyArr,keyGetterName){for(var cbModeMultiple=this._diffModeMultiple,i=0;i<arr.length;i++){
// Add prefix to avoid conflict with Object.prototype.
var key="_ec_"+this[keyGetterName](arr[i],i);if(cbModeMultiple||(keyArr[i]=key),map){var idxMapVal=map[key],idxMapValLen=dataIndexMapValueLength(idxMapVal);0===idxMapValLen?(
// Simple optimize: in most cases, one index has one key,
// do not need array.
map[key]=i,cbModeMultiple&&keyArr.push(key)):1===idxMapValLen?map[key]=[idxMapVal,i]:idxMapVal.push(i)}}},DataDiffer}();
/* harmony default export */__webpack_exports__.Z=DataDiffer},
/***/143834:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */hG:function(){/* binding */return CtorInt32Array}
/* harmony export */});
/* unused harmony exports CtorUint32Array, CtorUint16Array, CtorFloat64Array */
/* harmony import */var defaultDimValueGetters,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(198407),_Source_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(899574),UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array,
// Ordinal data type can be string or int
ordinal:Array,number:Array,time:CtorFloat64Array};
/* harmony import */function getIndicesCtor(rawCount){
// The possible max value in this._indicies is always this._rawCount despite of filtering.
return rawCount>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(originalChunk){var Ctor=originalChunk.constructor;// Only shallow clone is enough when Array.
return Ctor===Array?originalChunk.slice():new Ctor(originalChunk)}function prepareStore(store,dimIdx,dimType,end,append){var DataCtor=dataCtors[dimType||"float"];if(append){var oldStore=store[dimIdx],oldLen=oldStore&&oldStore.length;if(oldLen!==end){// The cost of the copy is probably inconsiderable
// within the initial chunkSize.
for(var newStore=new DataCtor(end),j=0;j<oldLen;j++)newStore[j]=oldStore[j];store[dimIdx]=newStore}}else store[dimIdx]=new DataCtor(end)}
/**
 * Basically, DataStore API keep immutable.
 */
var DataStore=
/** @class */
function(){function DataStore(){this._chunks=[],// It will not be calculated until needed.
this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .createHashMap */.kW)()}
/**
   * Initialize from data
   */return DataStore.prototype.initData=function(provider,inputDimensions,dimValueGetter){this._provider=provider,// Clear
this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var source=provider.getSource(),defaultGetter=this.defaultDimValueGetter=defaultDimValueGetters[source.sourceFormat];// Default dim value getter
this._dimValueGetter=dimValueGetter||defaultGetter,// Reset raw extent.
this._rawExtent=[];(0,_Source_js__WEBPACK_IMPORTED_MODULE_1__/* .shouldRetrieveDataByName */.QY)(source);this._dimensions=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)(inputDimensions,(function(dim){return{
// Only pick these two props. Not leak other properties like orderMeta.
type:dim.type,property:dim.property}})),this._initDataFromProvider(0,provider.count())},DataStore.prototype.getProvider=function(){return this._provider},
/**
   * Caution: even when a `source` instance owned by a series, the created data store
   * may still be shared by different sereis (the source hash does not use all `source`
   * props, see `sourceManager`). In this case, the `source` props that are not used in
   * hash (like `source.dimensionDefine`) probably only belongs to a certain series and
   * thus should not be fetch here.
   */
DataStore.prototype.getSource=function(){return this._provider.getSource()},
/**
   * @caution Only used in dataStack.
   */
DataStore.prototype.ensureCalculationDimension=function(dimName,type){var calcDimNameToIdx=this._calcDimNameToIdx,dimensions=this._dimensions,calcDimIdx=calcDimNameToIdx.get(dimName);if(null!=calcDimIdx){if(dimensions[calcDimIdx].type===type)return calcDimIdx}else calcDimIdx=dimensions.length;return dimensions[calcDimIdx]={type:type},calcDimNameToIdx.set(dimName,calcDimIdx),this._chunks[calcDimIdx]=new dataCtors[type||"float"](this._rawCount),this._rawExtent[calcDimIdx]=getInitialExtent(),calcDimIdx},DataStore.prototype.collectOrdinalMeta=function(dimIdx,ordinalMeta){var chunk=this._chunks[dimIdx],dim=this._dimensions[dimIdx],rawExtents=this._rawExtent,offset=dim.ordinalOffset||0,len=chunk.length;0===offset&&(
// We need to reset the rawExtent if collect is from start.
// Because this dimension may be guessed as number and calcuating a wrong extent.
rawExtents[dimIdx]=getInitialExtent());// Parse from previous data offset. len may be changed after appendData
for(var dimRawExtent=rawExtents[dimIdx],i=offset;i<len;i++){var val=chunk[i]=ordinalMeta.parseAndCollect(chunk[i]);isNaN(val)||(dimRawExtent[0]=Math.min(val,dimRawExtent[0]),dimRawExtent[1]=Math.max(val,dimRawExtent[1]))}dim.ordinalMeta=ordinalMeta,dim.ordinalOffset=len,dim.type="ordinal"},DataStore.prototype.getOrdinalMeta=function(dimIdx){var dimInfo=this._dimensions[dimIdx],ordinalMeta=dimInfo.ordinalMeta;return ordinalMeta},DataStore.prototype.getDimensionProperty=function(dimIndex){var item=this._dimensions[dimIndex];return item&&item.property},
/**
   * Caution: Can be only called on raw data (before `this._indices` created).
   */
DataStore.prototype.appendData=function(data){var provider=this._provider,start=this.count();provider.appendData(data);var end=provider.count();return provider.persistent||(end+=start),start<end&&this._initDataFromProvider(start,end,!0),[start,end]},DataStore.prototype.appendValues=function(values,minFillLen){for(var chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,start=this.count(),end=start+Math.max(values.length,minFillLen||0),i=0;i<dimLen;i++){var dim=dimensions[i];prepareStore(chunks,i,dim.type,end,!0)}for(var emptyDataItem=[],idx=start;idx<end;idx++)// Store the data by dimensions
for(var sourceIdx=idx-start,dimIdx=0;dimIdx<dimLen;dimIdx++){dim=dimensions[dimIdx];var val=defaultDimValueGetters.arrayRows.call(this,values[sourceIdx]||emptyDataItem,dim.property,sourceIdx,dimIdx);chunks[dimIdx][idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}return this._rawCount=this._count=end,{start:start,end:end}},DataStore.prototype._initDataFromProvider=function(start,end,append){for(var provider=this._provider,chunks=this._chunks,dimensions=this._dimensions,dimLen=dimensions.length,rawExtent=this._rawExtent,dimNames=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)(dimensions,(function(dim){return dim.property})),i=0;i<dimLen;i++){var dim=dimensions[i];rawExtent[i]||(rawExtent[i]=getInitialExtent()),prepareStore(chunks,i,dim.type,end,append)}if(provider.fillStorage)provider.fillStorage(start,end,chunks,rawExtent);else for(var dataItem=[],idx=start;idx<end;idx++){
// NOTICE: Try not to write things into dataItem
dataItem=provider.getItem(idx,dataItem);// Each data item is value
// [1, 2]
// 2
// Bar chart, line chart which uses category axis
// only gives the 'y' value. 'x' value is the indices of category
// Use a tempValue to normalize the value to be a (x, y) value
// Store the data by dimensions
for(var dimIdx=0;dimIdx<dimLen;dimIdx++){var dimStorage=chunks[dimIdx],val=this._dimValueGetter(dataItem,dimNames[dimIdx],idx,dimIdx);// PENDING NULL is empty or zero
dimStorage[idx]=val;var dimRawExtent=rawExtent[dimIdx];val<dimRawExtent[0]&&(dimRawExtent[0]=val),val>dimRawExtent[1]&&(dimRawExtent[1]=val)}}!provider.persistent&&provider.clean&&
// Clean unused data if data source is typed array.
provider.clean(),this._rawCount=this._count=end,// Reset data extent
this._extent=[]},DataStore.prototype.count=function(){return this._count},
/**
   * Get value. Return NaN if idx is out of range.
   */
DataStore.prototype.get=function(dim,idx){if(!(idx>=0&&idx<this._count))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[this.getRawIndex(idx)]:NaN},DataStore.prototype.getValues=function(dimensions,idx){var values=[],dimArr=[];if(null==idx){idx=dimensions,// TODO get all from store?
dimensions=[];// All dimensions
for(var i=0;i<this._dimensions.length;i++)dimArr.push(i)}else dimArr=dimensions;i=0;for(var len=dimArr.length;i<len;i++)values.push(this.get(dimArr[i],idx));return values},
/**
   * @param dim concrete dim
   */
DataStore.prototype.getByRawIndex=function(dim,rawIdx){if(!(rawIdx>=0&&rawIdx<this._rawCount))return NaN;var dimStore=this._chunks[dim];return dimStore?dimStore[rawIdx]:NaN},
/**
   * Get sum of data in one dimension
   */
DataStore.prototype.getSum=function(dim){var dimData=this._chunks[dim],sum=0;if(dimData)for(var i=0,len=this.count();i<len;i++){var value=this.get(dim,i);isNaN(value)||(sum+=value)}return sum},
/**
   * Get median of data in one dimension
   */
DataStore.prototype.getMedian=function(dim){var dimDataArray=[];// map all data of one dimension
this.each([dim],(function(val){isNaN(val)||dimDataArray.push(val)}));// TODO
// Use quick select?
var sortedDimDataArray=dimDataArray.sort((function(a,b){return a-b})),len=this.count();// calculate median
return 0===len?0:len%2===1?sortedDimDataArray[(len-1)/2]:(sortedDimDataArray[len/2]+sortedDimDataArray[len/2-1])/2},
/**
   * Retrieve the index with given raw data index.
   */
DataStore.prototype.indexOfRawIndex=function(rawIndex){if(rawIndex>=this._rawCount||rawIndex<0)return-1;if(!this._indices)return rawIndex;// Indices are ascending
var indices=this._indices,rawDataIndex=indices[rawIndex];// If rawIndex === dataIndex
if(null!=rawDataIndex&&rawDataIndex<this._count&&rawDataIndex===rawIndex)return rawIndex;var left=0,right=this._count-1;while(left<=right){var mid=(left+right)/2|0;if(indices[mid]<rawIndex)left=mid+1;else{if(!(indices[mid]>rawIndex))return mid;right=mid-1}}return-1},
/**
   * Retrieve the index of nearest value.
   * @param dim
   * @param value
   * @param [maxDistance=Infinity]
   * @return If and only if multiple indices have
   *         the same value, they are put to the result.
   */
DataStore.prototype.indicesOfNearest=function(dim,value,maxDistance){var chunks=this._chunks,dimData=chunks[dim],nearestIndices=[];if(!dimData)return nearestIndices;null==maxDistance&&(maxDistance=1/0);// Check the test case of `test/ut/spec/data/SeriesData.js`.
for(var minDist=1/0,minDiff=-1,nearestIndicesLen=0,i=0,len=this.count();i<len;i++){var dataIndex=this.getRawIndex(i),diff=value-dimData[dataIndex],dist=Math.abs(diff);dist<=maxDistance&&(
// When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,
// we'd better not push both of them to `nearestIndices`, otherwise it is easy to
// get more than one item in `nearestIndices` (more specifically, in `tooltip`).
// So we choose the one that `diff >= 0` in this case.
// But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them
// should be push to `nearestIndices`.
(dist<minDist||dist===minDist&&diff>=0&&minDiff<0)&&(minDist=dist,minDiff=diff,nearestIndicesLen=0),diff===minDiff&&(nearestIndices[nearestIndicesLen++]=i))}return nearestIndices.length=nearestIndicesLen,nearestIndices},DataStore.prototype.getIndices=function(){var newIndices,indices=this._indices;if(indices){var Ctor=indices.constructor,thisCount=this._count;// `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.
if(Ctor===Array){newIndices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)newIndices[i]=indices[i]}else newIndices=new Ctor(indices.buffer,0,thisCount)}else{Ctor=getIndicesCtor(this._rawCount);newIndices=new Ctor(this.count());for(i=0;i<newIndices.length;i++)newIndices[i]=i}return newIndices},
/**
   * Data filter.
   */
DataStore.prototype.filter=function(dims,cb){if(!this._count)return this;for(var newStore=this.clone(),count=newStore.count(),Ctor=getIndicesCtor(newStore._rawCount),newIndices=new Ctor(count),value=[],dimSize=dims.length,offset=0,dim0=dims[0],chunks=newStore._chunks,i=0;i<count;i++){var keep=void 0,rawIdx=newStore.getRawIndex(i);// Simple optimization
if(0===dimSize)keep=cb(i);else if(1===dimSize){var val=chunks[dim0][rawIdx];keep=cb(val,i)}else{for(var k=0;k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];value[k]=i,keep=cb.apply(null,value)}keep&&(newIndices[offset++]=rawIdx)}// Set indices after filtered.
return offset<count&&(newStore._indices=newIndices),newStore._count=offset,// Reset data extent
newStore._extent=[],newStore._updateGetRawIdx(),newStore},
/**
   * Select data in range. (For optimization of filter)
   * (Manually inline code, support 5 million data filtering in data zoom.)
   */
DataStore.prototype.selectRange=function(range){var newStore=this.clone(),len=newStore._count;if(!len)return this;var dims=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(range),dimSize=dims.length;if(!dimSize)return this;var originalCount=newStore.count(),Ctor=getIndicesCtor(newStore._rawCount),newIndices=new Ctor(originalCount),offset=0,dim0=dims[0],min=range[dim0][0],max=range[dim0][1],storeArr=newStore._chunks,quickFinished=!1;if(!newStore._indices){
// Extreme optimization for common case. About 2x faster in chrome.
var idx=0;if(1===dimSize){for(var dimStorage=storeArr[dims[0]],i=0;i<len;i++){var val=dimStorage[i];// NaN will not be filtered. Consider the case, in line chart, empty
// value indicates the line should be broken. But for the case like
// scatter plot, a data item with empty value will not be rendered,
// but the axis extent may be effected if some other dim of the data
// item has value. Fortunately it is not a significant negative effect.
(val>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}else if(2===dimSize){dimStorage=storeArr[dims[0]];var dimStorage2=storeArr[dims[1]],min2=range[dims[1]][0],max2=range[dims[1]][1];for(i=0;i<len;i++){val=dimStorage[i];var val2=dimStorage2[i];// Do not filter NaN, see comment above.
(val>=min&&val<=max||isNaN(val))&&(val2>=min2&&val2<=max2||isNaN(val2))&&(newIndices[offset++]=idx),idx++}quickFinished=!0}}if(!quickFinished)if(1===dimSize)for(i=0;i<originalCount;i++){var rawIndex=newStore.getRawIndex(i);val=storeArr[dims[0]][rawIndex];// Do not filter NaN, see comment above.
(val>=min&&val<=max||isNaN(val))&&(newIndices[offset++]=rawIndex)}else for(i=0;i<originalCount;i++){for(var keep=!0,k=(rawIndex=newStore.getRawIndex(i),0);k<dimSize;k++){var dimk=dims[k];val=storeArr[dimk][rawIndex];// Do not filter NaN, see comment above.
(val<range[dimk][0]||val>range[dimk][1])&&(keep=!1)}keep&&(newIndices[offset++]=newStore.getRawIndex(i))}// Set indices after filtered.
return offset<originalCount&&(newStore._indices=newIndices),newStore._count=offset,// Reset data extent
newStore._extent=[],newStore._updateGetRawIdx(),newStore},// /**
//  * Data mapping to a plain array
//  */
// mapArray(dims: DimensionIndex[], cb: MapArrayCb): any[] {
//     const result: any[] = [];
//     this.each(dims, function () {
//         result.push(cb && (cb as MapArrayCb).apply(null, arguments));
//     });
//     return result;
// }
/**
   * Data mapping to a new List with given dimensions
   */
DataStore.prototype.map=function(dims,cb){
// TODO only clone picked chunks.
var target=this.clone(dims);return this._updateDims(target,dims,cb),target},
/**
   * @caution Danger!! Only used in dataStack.
   */
DataStore.prototype.modify=function(dims,cb){this._updateDims(this,dims,cb)},DataStore.prototype._updateDims=function(target,dims,cb){for(var targetChunks=target._chunks,tmpRetValue=[],dimSize=dims.length,dataCount=target.count(),values=[],rawExtent=target._rawExtent,i=0;i<dims.length;i++)rawExtent[dims[i]]=getInitialExtent();for(var dataIndex=0;dataIndex<dataCount;dataIndex++){for(var rawIndex=target.getRawIndex(dataIndex),k=0;k<dimSize;k++)values[k]=targetChunks[dims[k]][rawIndex];values[dimSize]=dataIndex;var retValue=cb&&cb.apply(null,values);if(null!=retValue){
// a number or string (in oridinal dimension)?
"object"!==typeof retValue&&(tmpRetValue[0]=retValue,retValue=tmpRetValue);for(i=0;i<retValue.length;i++){var dim=dims[i],val=retValue[i],rawExtentOnDim=rawExtent[dim],dimStore=targetChunks[dim];dimStore&&(dimStore[rawIndex]=val),val<rawExtentOnDim[0]&&(rawExtentOnDim[0]=val),val>rawExtentOnDim[1]&&(rawExtentOnDim[1]=val)}}}},
/**
   * Large data down sampling using largest-triangle-three-buckets
   * @param {string} valueDimension
   * @param {number} targetCount
   */
DataStore.prototype.lttbDownSample=function(valueDimension,rate){var maxArea,area,nextRawIndex,target=this.clone([valueDimension],!0),targetStorage=target._chunks,dimStore=targetStorage[valueDimension],len=this.count(),sampledIndex=0,frameSize=Math.floor(1/rate),currentRawIndex=this.getRawIndex(0),newIndices=new(getIndicesCtor(this._rawCount))(Math.min(2*(Math.ceil(len/frameSize)+2),len));// First frame use the first data.
newIndices[sampledIndex++]=currentRawIndex;for(var i=1;i<len-1;i+=frameSize){for(var nextFrameStart=Math.min(i+frameSize,len-1),nextFrameEnd=Math.min(i+2*frameSize,len),avgX=(nextFrameEnd+nextFrameStart)/2,avgY=0,idx=nextFrameStart;idx<nextFrameEnd;idx++){var rawIndex=this.getRawIndex(idx),y=dimStore[rawIndex];isNaN(y)||(avgY+=y)}avgY/=nextFrameEnd-nextFrameStart;var frameStart=i,frameEnd=Math.min(i+frameSize,len),pointAX=i-1,pointAY=dimStore[currentRawIndex];maxArea=-1,nextRawIndex=frameStart;var firstNaNIndex=-1,countNaN=0;// Find a point from current frame that construct a triangle with largest area with previous selected point
// And the average of next frame.
for(idx=frameStart;idx<frameEnd;idx++){rawIndex=this.getRawIndex(idx),y=dimStore[rawIndex];isNaN(y)?(countNaN++,firstNaNIndex<0&&(firstNaNIndex=rawIndex)):(// Calculate triangle area over three buckets
area=Math.abs((pointAX-avgX)*(y-pointAY)-(pointAX-idx)*(avgY-pointAY)),area>maxArea&&(maxArea=area,nextRawIndex=rawIndex))}countNaN>0&&countNaN<frameEnd-frameStart&&(
// Append first NaN point in every bucket.
// It is necessary to ensure the correct order of indices.
newIndices[sampledIndex++]=Math.min(firstNaNIndex,nextRawIndex),nextRawIndex=Math.max(firstNaNIndex,nextRawIndex)),newIndices[sampledIndex++]=nextRawIndex,currentRawIndex=nextRawIndex}// First frame use the last data.
return newIndices[sampledIndex++]=this.getRawIndex(len-1),target._count=sampledIndex,target._indices=newIndices,target.getRawIndex=this._getRawIdx,target},
/**
   * Large data down sampling on given dimension
   * @param sampleIndex Sample index for name and id
   */
DataStore.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){for(var target=this.clone([dimension],!0),targetStorage=target._chunks,frameValues=[],frameSize=Math.floor(1/rate),dimStore=targetStorage[dimension],len=this.count(),rawExtentOnDim=target._rawExtent[dimension]=getInitialExtent(),newIndices=new(getIndicesCtor(this._rawCount))(Math.ceil(len/frameSize)),offset=0,i=0;i<len;i+=frameSize){
// Last frame
frameSize>len-i&&(frameSize=len-i,frameValues.length=frameSize);for(var k=0;k<frameSize;k++){var dataIdx=this.getRawIndex(i+k);frameValues[k]=dimStore[dataIdx]}var value=sampleValue(frameValues),sampleFrameIdx=this.getRawIndex(Math.min(i+sampleIndex(frameValues,value)||0,len-1));// Only write value on the filtered data
dimStore[sampleFrameIdx]=value,value<rawExtentOnDim[0]&&(rawExtentOnDim[0]=value),value>rawExtentOnDim[1]&&(rawExtentOnDim[1]=value),newIndices[offset++]=sampleFrameIdx}return target._count=offset,target._indices=newIndices,target._updateGetRawIdx(),target},
/**
   * Data iteration
   * @param ctx default this
   * @example
   *  list.each('x', function (x, idx) {});
   *  list.each(['x', 'y'], function (x, y, idx) {});
   *  list.each(function (idx) {})
   */
DataStore.prototype.each=function(dims,cb){if(this._count)for(var dimSize=dims.length,chunks=this._chunks,i=0,len=this.count();i<len;i++){var rawIdx=this.getRawIndex(i);// Simple optimization
switch(dimSize){case 0:cb(i);break;case 1:cb(chunks[dims[0]][rawIdx],i);break;case 2:cb(chunks[dims[0]][rawIdx],chunks[dims[1]][rawIdx],i);break;default:for(var k=0,value=[];k<dimSize;k++)value[k]=chunks[dims[k]][rawIdx];// Index
value[k]=i,cb.apply(null,value)}}},
/**
   * Get extent of data in one dimension
   */
DataStore.prototype.getDataExtent=function(dim){
// Make sure use concrete dim as cache name.
var dimData=this._chunks[dim],initialExtent=getInitialExtent();if(!dimData)return initialExtent;// Make more strict checkings to ensure hitting cache.
var dimExtent,currEnd=this.count(),useRaw=!this._indices;// Consider the most cases when using data zoom, `getDataExtent`
// happened before filtering. We cache raw extent, which is not
// necessary to be cleared and recalculated when restore data.
if(useRaw)return this._rawExtent[dim].slice();if(dimExtent=this._extent[dim],dimExtent)return dimExtent.slice();dimExtent=initialExtent;for(var min=dimExtent[0],max=dimExtent[1],i=0;i<currEnd;i++){var rawIdx=this.getRawIndex(i),value=dimData[rawIdx];value<min&&(min=value),value>max&&(max=value)}return dimExtent=[min,max],this._extent[dim]=dimExtent,dimExtent},
/**
   * Get raw data item
   */
DataStore.prototype.getRawDataItem=function(idx){var rawIdx=this.getRawIndex(idx);if(this._provider.persistent)return this._provider.getItem(rawIdx);for(var val=[],chunks=this._chunks,i=0;i<chunks.length;i++)val.push(chunks[i][rawIdx]);return val},
/**
   * Clone shallow.
   *
   * @param clonedDims Determine which dims to clone. Will share the data if not specified.
   */
DataStore.prototype.clone=function(clonedDims,ignoreIndices){var target=new DataStore,chunks=this._chunks,clonedDimsMap=clonedDims&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .reduce */.u4)(clonedDims,(function(obj,dimIdx){return obj[dimIdx]=!0,obj}),{});if(clonedDimsMap)for(var i=0;i<chunks.length;i++)
// Not clone if dim is not picked.
target._chunks[i]=clonedDimsMap[i]?cloneChunk(chunks[i]):chunks[i];else target._chunks=chunks;return this._copyCommonProps(target),ignoreIndices||(target._indices=this._cloneIndices()),target._updateGetRawIdx(),target},DataStore.prototype._copyCommonProps=function(target){target._count=this._count,target._rawCount=this._rawCount,target._provider=this._provider,target._dimensions=this._dimensions,target._extent=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */.d9)(this._extent),target._rawExtent=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */.d9)(this._rawExtent)},DataStore.prototype._cloneIndices=function(){if(this._indices){var Ctor=this._indices.constructor,indices=void 0;if(Ctor===Array){var thisCount=this._indices.length;indices=new Ctor(thisCount);for(var i=0;i<thisCount;i++)indices[i]=this._indices[i]}else indices=new Ctor(this._indices);return indices}return null},DataStore.prototype._getRawIdxIdentity=function(idx){return idx},DataStore.prototype._getRawIdx=function(idx){return idx<this._count&&idx>=0?this._indices[idx]:-1},DataStore.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},DataStore.internalField=function(){function getDimValueSimply(dataItem,property,dataIndex,dimIndex){return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .parseDataValue */.yQ)(dataItem[dimIndex],this._dimensions[dimIndex])}defaultDimValueGetters={arrayRows:getDimValueSimply,objectRows:function(dataItem,property,dataIndex,dimIndex){return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .parseDataValue */.yQ)(dataItem[property],this._dimensions[dimIndex])},keyedColumns:getDimValueSimply,original:function(dataItem,property,dataIndex,dimIndex){
// Performance sensitive, do not use modelUtil.getDataItemValue.
// If dataItem is an plain object with no value field, the let `value`
// will be assigned with the object, but it will be tread correctly
// in the `convertValue`.
var value=dataItem&&(null==dataItem.value?dataItem:dataItem.value);return(0,_helper_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .parseDataValue */.yQ)(value instanceof Array?value[dimIndex]:value,this._dimensions[dimIndex])},typedArray:function(dataItem,property,dataIndex,dimIndex){return dataItem[dimIndex]}}}(),DataStore}();
/* harmony default export */__webpack_exports__.ZP=DataStore},
/***/251401:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),uidBase=0,OrdinalMeta=
/** @class */
function(){function OrdinalMeta(opt){this.categories=opt.categories||[],this._needCollect=opt.needCollect,this._deduplication=opt.deduplication,this.uid=++uidBase}return OrdinalMeta.createByAxisModel=function(axisModel){var option=axisModel.option,data=option.data,categories=data&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)(data,getName);return new OrdinalMeta({categories:categories,needCollect:!categories,
// deduplication is default in axis.
deduplication:!1!==option.dedplication})},OrdinalMeta.prototype.getOrdinal=function(category){
// @ts-ignore
return this._getOrCreateMap().get(category)},
/**
   * @return The ordinal. If not found, return NaN.
   */
OrdinalMeta.prototype.parseAndCollect=function(category){var index,needCollect=this._needCollect;// The value of category dim can be the index of the given category set.
// This feature is only supported when !needCollect, because we should
// consider a common case: a value is 2017, which is a number but is
// expected to be tread as a category. This case usually happen in dataset,
// where it happent to be no need of the index feature.
if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD)(category)&&!needCollect)return category;// Optimize for the scenario:
// category is ['2012-01-01', '2012-01-02', ...], where the input
// data has been ensured not duplicate and is large data.
// Notice, if a dataset dimension provide categroies, usually echarts
// should remove duplication except user tell echarts dont do that
// (set axis.deduplication = false), because echarts do not know whether
// the values in the category dimension has duplication (consider the
// parallel-aqi example)
if(needCollect&&!this._deduplication)return index=this.categories.length,this.categories[index]=category,index;var map=this._getOrCreateMap();// @ts-ignore
return index=map.get(category),null==index&&(needCollect?(index=this.categories.length,this.categories[index]=category,// @ts-ignore
map.set(category,index)):index=NaN),index},// Consider big data, do not create map until needed.
OrdinalMeta.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .createHashMap */.kW)(this.categories))},OrdinalMeta}();
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/function getName(obj){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isObject */.Kn)(obj)&&null!=obj.value?obj.value:obj+""}
/* harmony default export */__webpack_exports__.Z=OrdinalMeta},
/***/305101:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_model_Model_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(812312),_DataDiffer_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(904130),_helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(668540),_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(810381),_SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(835440),_util_types_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(894279),_util_model_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(232234),_util_innerStore_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30106),_Source_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(899574),_DataStore_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143834),_helper_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31029),isObject=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isObject */.Kn,map=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI,CtorInt32Array="undefined"===typeof Int32Array?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],SeriesData=
/** @class */
function(){
/**
   * @param dimensionsInput.dimensions
   *        For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].
   *        Dimensions should be concrete names like x, y, z, lng, lat, angle, radius
   */
function SeriesData(dimensionsInput,hostModel){var dimensions;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],// Models of data option is stored sparse for optimizing memory cost
// Never used yet (not used yet).
// private _optionModels: Model[] = [];
// Global visual properties after visual coding
this._visual={},// Global layout properties.
this._layout={},// Item visual properties after visual coding
this._itemVisuals=[],// Item layout properties after layout
this._itemLayouts=[],// Graphic elements
this._graphicEls=[],// key: dim, value: extent
this._approximateExtent={},this._calculationInfo={},// Having detected that there is data item is non primitive type
// (in type `OptionDataItemObject`).
// Like `data: [ { value: xx, itemStyle: {...} }, ...]`
// At present it only happen in `SOURCE_FORMAT_ORIGINAL`.
this.hasItemOption=!1,// Methods that create a new list based on this list should be listed here.
// Notice that those method should `RETURN` the new list.
this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],// Methods that change indices of this list should be listed here.
this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var assignStoreDimIdx=!1;(0,_helper_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__/* .isSeriesDataSchema */.bB)(dimensionsInput)?(dimensions=dimensionsInput.dimensions,this._dimOmitted=dimensionsInput.isDimensionOmitted(),this._schema=dimensionsInput):(assignStoreDimIdx=!0,dimensions=dimensionsInput),dimensions=dimensions||["x","y"];for(var dimensionInfos={},dimensionNames=[],invertedIndicesMap={},needsHasOwn=!1,emptyObj={},i=0;i<dimensions.length;i++){
// Use the original dimensions[i], where other flag props may exists.
var dimInfoInput=dimensions[i],dimensionInfo=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD(dimInfoInput)?new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z({name:dimInfoInput}):dimInfoInput instanceof _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z?dimInfoInput:new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z(dimInfoInput),dimensionName=dimensionInfo.name;dimensionInfo.type=dimensionInfo.type||"float",dimensionInfo.coordDim||(dimensionInfo.coordDim=dimensionName,dimensionInfo.coordDimIndex=0);var otherDims=dimensionInfo.otherDims=dimensionInfo.otherDims||{};dimensionNames.push(dimensionName),dimensionInfos[dimensionName]=dimensionInfo,null!=emptyObj[dimensionName]&&(needsHasOwn=!0),dimensionInfo.createInvertedIndices&&(invertedIndicesMap[dimensionName]=[]),0===otherDims.itemName&&(this._nameDimIdx=i),0===otherDims.itemId&&(this._idDimIdx=i),assignStoreDimIdx&&(dimensionInfo.storeDimIndex=i)}if(this.dimensions=dimensionNames,this._dimInfos=dimensionInfos,this._initGetDimensionInfo(needsHasOwn),this.hostModel=hostModel,this._invertedIndicesMap=invertedIndicesMap,this._dimOmitted){var dimIdxToName_1=this._dimIdxToName=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .createHashMap */.kW();zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(dimensionNames,(function(dimName){dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex,dimName)}))}}
/**
   *
   * Get concrete dimension name by dimension name or dimension index.
   * If input a dimension name, do not validate whether the dimension name exits.
   *
   * @caution
   * @param dim Must make sure the dimension is `SeriesDimensionLoose`.
   * Because only those dimensions will have auto-generated dimension names if not
   * have a user-specified name, and other dimensions will get a return of null/undefined.
   *
   * @notice Because of this reason, should better use `getDimensionIndex` instead, for examples:
   * ```js
   * const val = data.getStore().get(data.getDimensionIndex(dim), dataIdx);
   * ```
   *
   * @return Concrete dim name.
   */return SeriesData.prototype.getDimension=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null==dimIdx)return dim;if(dimIdx=dim,!this._dimOmitted)return this.dimensions[dimIdx];// Retrieve from series dimension definition because it probably contains
// generated dimension name (like 'x', 'y').
var dimName=this._dimIdxToName.get(dimIdx);if(null!=dimName)return dimName;var sourceDimDef=this._schema.getSourceDimension(dimIdx);return sourceDimDef?sourceDimDef.name:void 0},
/**
   * Get dimension index in data store. Return -1 if not found.
   * Can be used to index value from getRawValue.
   */
SeriesData.prototype.getDimensionIndex=function(dim){var dimIdx=this._recognizeDimIndex(dim);if(null!=dimIdx)return dimIdx;if(null==dim)return-1;var dimInfo=this._getDimInfo(dim);return dimInfo?dimInfo.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(dim):-1},
/**
   * The meanings of the input parameter `dim`:
   *
   * + If dim is a number (e.g., `1`), it means the index of the dimension.
   *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.
   * + If dim is a number-like string (e.g., `"1"`):
   *     + If there is the same concrete dim name defined in `series.dimensions` or `dataset.dimensions`,
   *        it means that concrete name.
   *     + If not, it will be converted to a number, which means the index of the dimension.
   *        (why? because of the backward compatibility. We have been tolerating number-like string in
   *        dimension setting, although now it seems that it is not a good idea.)
   *     For example, `visualMap[i].dimension: "1"` is the same meaning as `visualMap[i].dimension: 1`,
   *     if no dimension name is defined as `"1"`.
   * + If dim is a not-number-like string, it means the concrete dim name.
   *   For example, it can be be default name `"x"`, `"y"`, `"z"`, `"lng"`, `"lat"`, `"angle"`, `"radius"`,
   *   or customized in `dimensions` property of option like `"age"`.
   *
   * @return recognized `DimensionIndex`. Otherwise return null/undefined (means that dim is `DimensionName`).
   */
SeriesData.prototype._recognizeDimIndex=function(dim){if(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj(dim)||null!=dim&&!isNaN(dim)&&!this._getDimInfo(dim)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(dim)<0))return+dim},SeriesData.prototype._getStoreDimIndex=function(dim){var dimIdx=this.getDimensionIndex(dim);return dimIdx},
/**
   * Get type and calculation info of particular dimension
   * @param dim
   *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius
   *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'
   */
SeriesData.prototype.getDimensionInfo=function(dim){
// Do not clone, because there may be categories in dimInfo.
return this._getDimInfo(this.getDimension(dim))},SeriesData.prototype._initGetDimensionInfo=function(needsHasOwn){var dimensionInfos=this._dimInfos;this._getDimInfo=needsHasOwn?function(dimName){return dimensionInfos.hasOwnProperty(dimName)?dimensionInfos[dimName]:void 0}:function(dimName){return dimensionInfos[dimName]}},
/**
   * concrete dimension name list on coord.
   */
SeriesData.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},SeriesData.prototype.mapDimension=function(coordDim,idx){var dimensionsSummary=this._dimSummary;if(null==idx)return dimensionsSummary.encodeFirstDimNotExtra[coordDim];var dims=dimensionsSummary.encode[coordDim];return dims?dims[idx]:null},SeriesData.prototype.mapDimensionsAll=function(coordDim){var dimensionsSummary=this._dimSummary,dims=dimensionsSummary.encode[coordDim];return(dims||[]).slice()},SeriesData.prototype.getStore=function(){return this._store},
/**
   * Initialize from data
   * @param data source or data or data store.
   * @param nameList The name of a datum is used on data diff and
   *        default label/tooltip.
   *        A name can be specified in encode.itemName,
   *        or dataItem.name (only for series option data),
   *        or provided in nameList from outside.
   */
SeriesData.prototype.initData=function(data,nameList,dimValueGetter){var store,_this=this;if(data instanceof _DataStore_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.ZP&&(store=data),!store){var dimensions=this.dimensions,provider=(0,_Source_js__WEBPACK_IMPORTED_MODULE_4__/* .isSourceInstance */.Ld)(data)||zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArrayLike */.zG(data)?new _helper_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__/* .DefaultDataProvider */.Pl(data,dimensions.length):data;store=new _DataStore_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.ZP;var dimensionInfos=map(dimensions,(function(dimName){return{type:_this._dimInfos[dimName].type,property:dimName}}));store.initData(provider,dimensionInfos,dimValueGetter)}this._store=store,// Reset
this._nameList=(nameList||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,store.count()),// Cache summary info for fast visit. See "dimensionHelper".
// Needs to be initialized after store is prepared.
this._dimSummary=(0,_helper_dimensionHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .summarizeDimensions */.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},
/**
   * Caution: Can be only called on raw data (before `this._indices` created).
   */
SeriesData.prototype.appendData=function(data){var range=this._store.appendData(data);this._doInit(range[0],range[1])},
/**
   * Caution: Can be only called on raw data (before `this._indices` created).
   * This method does not modify `rawData` (`dataProvider`), but only
   * add values to store.
   *
   * The final count will be increased by `Math.max(values.length, names.length)`.
   *
   * @param values That is the SourceType: 'arrayRows', like
   *        [
   *            [12, 33, 44],
   *            [NaN, 43, 1],
   *            ['-', 'asdf', 0]
   *        ]
   *        Each item is exactly corresponding to a dimension.
   */
SeriesData.prototype.appendValues=function(values,names){var _a=this._store.appendValues(values,names.length),start=_a.start,end=_a.end,shouldMakeIdFromName=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),names)for(var idx=start;idx<end;idx++){var sourceIdx=idx-start;this._nameList[idx]=names[sourceIdx],shouldMakeIdFromName&&makeIdFromName(this,idx)}},SeriesData.prototype._updateOrdinalMeta=function(){for(var store=this._store,dimensions=this.dimensions,i=0;i<dimensions.length;i++){var dimInfo=this._dimInfos[dimensions[i]];dimInfo.ordinalMeta&&store.collectOrdinalMeta(dimInfo.storeDimIndex,dimInfo.ordinalMeta)}},SeriesData.prototype._shouldMakeIdFromName=function(){var provider=this._store.getProvider();return null==this._idDimIdx&&provider.getSource().sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_7__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5&&!provider.fillStorage},SeriesData.prototype._doInit=function(start,end){if(!(start>=end)){var store=this._store,provider=store.getProvider();this._updateOrdinalMeta();var nameList=this._nameList,idList=this._idList,sourceFormat=provider.getSource().sourceFormat,isFormatOriginal=sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_7__/* .SOURCE_FORMAT_ORIGINAL */.cy;// Each data item is value
// [1, 2]
// 2
// Bar chart, line chart which uses category axis
// only gives the 'y' value. 'x' value is the indices of category
// Use a tempValue to normalize the value to be a (x, y) value
// If dataItem is {name: ...} or {id: ...}, it has highest priority.
// This kind of ids and names are always stored `_nameList` and `_idList`.
if(isFormatOriginal&&!provider.pure)for(var sharedDataItem=[],idx=start;idx<end;idx++){
// NOTICE: Try not to write things into dataItem
var dataItem=provider.getItem(idx,sharedDataItem);if(!this.hasItemOption&&(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__/* .isDataItemOption */.Co)(dataItem)&&(this.hasItemOption=!0),dataItem){var itemName=dataItem.name;null==nameList[idx]&&null!=itemName&&(nameList[idx]=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__/* .convertOptionIdName */.U5)(itemName,null));var itemId=dataItem.id;null==idList[idx]&&null!=itemId&&(idList[idx]=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__/* .convertOptionIdName */.U5)(itemId,null))}}if(this._shouldMakeIdFromName())for(idx=start;idx<end;idx++)makeIdFromName(this,idx);prepareInvertedIndex(this)}},
/**
   * PENDING: In fact currently this function is only used to short-circuit
   * the calling of `scale.unionExtentFromData` when data have been filtered by modules
   * like "dataZoom". `scale.unionExtentFromData` is used to calculate data extent for series on
   * an axis, but if a "axis related data filter module" is used, the extent of the axis have
   * been fixed and no need to calling `scale.unionExtentFromData` actually.
   * But if we add "custom data filter" in future, which is not "axis related", this method may
   * be still needed.
   *
   * Optimize for the scenario that data is filtered by a given extent.
   * Consider that if data amount is more than hundreds of thousand,
   * extent calculation will cost more than 10ms and the cache will
   * be erased because of the filtering.
   */
SeriesData.prototype.getApproximateExtent=function(dim){return this._approximateExtent[dim]||this._store.getDataExtent(this._getStoreDimIndex(dim))},
/**
   * Calculate extent on a filtered data might be time consuming.
   * Approximate extent is only used for: calculate extent of filtered data outside.
   */
SeriesData.prototype.setApproximateExtent=function(extent,dim){dim=this.getDimension(dim),this._approximateExtent[dim]=extent.slice()},SeriesData.prototype.getCalculationInfo=function(key){return this._calculationInfo[key]},SeriesData.prototype.setCalculationInfo=function(key,value){isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(this._calculationInfo,key):this._calculationInfo[key]=value},
/**
   * @return Never be null/undefined. `number` will be converted to string. Because:
   * In most cases, name is used in display, where returning a string is more convenient.
   * In other cases, name is used in query (see `indexOfName`), where we can keep the
   * rule that name `2` equals to name `'2'`.
   */
SeriesData.prototype.getName=function(idx){var rawIndex=this.getRawIndex(idx),name=this._nameList[rawIndex];return null==name&&null!=this._nameDimIdx&&(name=getIdNameFromStore(this,this._nameDimIdx,rawIndex)),null==name&&(name=""),name},SeriesData.prototype._getCategory=function(dimIdx,idx){var ordinal=this._store.get(dimIdx,idx),ordinalMeta=this._store.getOrdinalMeta(dimIdx);return ordinalMeta?ordinalMeta.categories[ordinal]:ordinal},
/**
   * @return Never null/undefined. `number` will be converted to string. Because:
   * In all cases having encountered at present, id is used in making diff comparison, which
   * are usually based on hash map. We can keep the rule that the internal id are always string
   * (treat `2` is the same as `'2'`) to make the related logic simple.
   */
SeriesData.prototype.getId=function(idx){return getId(this,this.getRawIndex(idx))},SeriesData.prototype.count=function(){return this._store.count()},
/**
   * Get value. Return NaN if idx is out of range.
   *
   * @notice Should better to use `data.getStore().get(dimIndex, dataIdx)` instead.
   */
SeriesData.prototype.get=function(dim,idx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.get(dimInfo.storeDimIndex,idx)},
/**
   * @notice Should better to use `data.getStore().getByRawIndex(dimIndex, dataIdx)` instead.
   */
SeriesData.prototype.getByRawIndex=function(dim,rawIdx){var store=this._store,dimInfo=this._dimInfos[dim];if(dimInfo)return store.getByRawIndex(dimInfo.storeDimIndex,rawIdx)},SeriesData.prototype.getIndices=function(){return this._store.getIndices()},SeriesData.prototype.getDataExtent=function(dim){return this._store.getDataExtent(this._getStoreDimIndex(dim))},SeriesData.prototype.getSum=function(dim){return this._store.getSum(this._getStoreDimIndex(dim))},SeriesData.prototype.getMedian=function(dim){return this._store.getMedian(this._getStoreDimIndex(dim))},SeriesData.prototype.getValues=function(dimensions,idx){var _this=this,store=this._store;return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ(dimensions)?store.getValues(map(dimensions,(function(dim){return _this._getStoreDimIndex(dim)})),idx):store.getValues(dimensions)},
/**
   * If value is NaN. Including '-'
   * Only check the coord dimensions.
   */
SeriesData.prototype.hasValue=function(idx){for(var dataDimIndicesOnCoord=this._dimSummary.dataDimIndicesOnCoord,i=0,len=dataDimIndicesOnCoord.length;i<len;i++)
// Ordinal type originally can be string or number.
// But when an ordinal type is used on coord, it can
// not be string but only number. So we can also use isNaN.
if(isNaN(this._store.get(dataDimIndicesOnCoord[i],idx)))return!1;return!0},
/**
   * Retrieve the index with given name
   */
SeriesData.prototype.indexOfName=function(name){for(var i=0,len=this._store.count();i<len;i++)if(this.getName(i)===name)return i;return-1},SeriesData.prototype.getRawIndex=function(idx){return this._store.getRawIndex(idx)},SeriesData.prototype.indexOfRawIndex=function(rawIndex){return this._store.indexOfRawIndex(rawIndex)},
/**
   * Only support the dimension which inverted index created.
   * Do not support other cases until required.
   * @param dim concrete dim
   * @param value ordinal index
   * @return rawIndex
   */
SeriesData.prototype.rawIndexOf=function(dim,value){var invertedIndices=dim&&this._invertedIndicesMap[dim];var rawIndex=invertedIndices[value];return null==rawIndex||isNaN(rawIndex)?INDEX_NOT_FOUND:rawIndex},
/**
   * Retrieve the index of nearest value
   * @param dim
   * @param value
   * @param [maxDistance=Infinity]
   * @return If and only if multiple indices has
   *         the same value, they are put to the result.
   */
SeriesData.prototype.indicesOfNearest=function(dim,value,maxDistance){return this._store.indicesOfNearest(this._getStoreDimIndex(dim),value,maxDistance)},SeriesData.prototype.each=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf(dims)&&(ctx=cb,cb=dims,dims=[]);// ctxCompat just for compat echarts3
var fCtx=ctx||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);this._store.each(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .bind */.ak(cb,fCtx):cb)},SeriesData.prototype.filterSelf=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf(dims)&&(ctx=cb,cb=dims,dims=[]);// ctxCompat just for compat echarts3
var fCtx=ctx||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);return this._store=this._store.filter(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .bind */.ak(cb,fCtx):cb),this},
/**
   * Select data in range. (For optimization of filter)
   * (Manually inline code, support 5 million data filtering in data zoom.)
   */
SeriesData.prototype.selectRange=function(range){var _this=this,innerRange={},dims=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP(range),dimIndices=[];return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(dims,(function(dim){var dimIdx=_this._getStoreDimIndex(dim);innerRange[dimIdx]=range[dim],dimIndices.push(dimIdx)})),this._store=this._store.selectRange(innerRange),this},
/* eslint-enable max-len */
SeriesData.prototype.mapArray=function(dims,cb,ctx){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf(dims)&&(ctx=cb,cb=dims,dims=[]),// ctxCompat just for compat echarts3
ctx=ctx||this;var result=[];return this.each(dims,(function(){result.push(cb&&cb.apply(this,arguments))}),ctx),result},SeriesData.prototype.map=function(dims,cb,ctx,ctxCompat){// ctxCompat just for compat echarts3
var fCtx=ctx||ctxCompat||this,dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this),list=cloneListForMapAndSample(this);return list._store=this._store.map(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .bind */.ak(cb,fCtx):cb),list},SeriesData.prototype.modify=function(dims,cb,ctx,ctxCompat){var fCtx=ctx||ctxCompat||this;// ctxCompat just for compat echarts3
var dimIndices=map(normalizeDimensions(dims),this._getStoreDimIndex,this);// If do shallow clone here, if there are too many stacked series,
// it still cost lots of memory, because `_store.dimensions` are not shared.
// We should consider there probably be shallow clone happen in each series
// in consequent filter/map.
this._store.modify(dimIndices,fCtx?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .bind */.ak(cb,fCtx):cb)},
/**
   * Large data down sampling on given dimension
   * @param sampleIndex Sample index for name and id
   */
SeriesData.prototype.downSample=function(dimension,rate,sampleValue,sampleIndex){var list=cloneListForMapAndSample(this);return list._store=this._store.downSample(this._getStoreDimIndex(dimension),rate,sampleValue,sampleIndex),list},
/**
   * Large data down sampling using largest-triangle-three-buckets
   * @param {string} valueDimension
   * @param {number} targetCount
   */
SeriesData.prototype.lttbDownSample=function(valueDimension,rate){var list=cloneListForMapAndSample(this);return list._store=this._store.lttbDownSample(this._getStoreDimIndex(valueDimension),rate),list},SeriesData.prototype.getRawDataItem=function(idx){return this._store.getRawDataItem(idx)},
/**
   * Get model of one data item.
   */
// TODO: Type of data item
SeriesData.prototype.getItemModel=function(idx){var hostModel=this.hostModel,dataItem=this.getRawDataItem(idx);return new _model_Model_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.Z(dataItem,hostModel,hostModel&&hostModel.ecModel)},
/**
   * Create a data differ
   */
SeriesData.prototype.diff=function(otherList){var thisList=this;return new _DataDiffer_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */.Z(otherList?otherList.getStore().getIndices():[],this.getStore().getIndices(),(function(idx){return getId(otherList,idx)}),(function(idx){return getId(thisList,idx)}))},
/**
   * Get visual property.
   */
SeriesData.prototype.getVisual=function(key){var visual=this._visual;return visual&&visual[key]},SeriesData.prototype.setVisual=function(kvObj,val){this._visual=this._visual||{},isObject(kvObj)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(this._visual,kvObj):this._visual[kvObj]=val},
/**
   * Get visual property of single data item
   */
// eslint-disable-next-line
SeriesData.prototype.getItemVisual=function(idx,key){var itemVisual=this._itemVisuals[idx],val=itemVisual&&itemVisual[key];return null==val?this.getVisual(key):val},
/**
   * If exists visual property of single data item
   */
SeriesData.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},
/**
   * Make sure itemVisual property is unique
   */
// TODO: use key to save visual to reduce memory.
SeriesData.prototype.ensureUniqueItemVisual=function(idx,key){var itemVisuals=this._itemVisuals,itemVisual=itemVisuals[idx];itemVisual||(itemVisual=itemVisuals[idx]={});var val=itemVisual[key];return null==val&&(val=this.getVisual(key),// TODO Performance?
zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ(val)?val=val.slice():isObject(val)&&(val=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7({},val)),itemVisual[key]=val),val},// eslint-disable-next-line
SeriesData.prototype.setItemVisual=function(idx,key,value){var itemVisual=this._itemVisuals[idx]||{};this._itemVisuals[idx]=itemVisual,isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(itemVisual,key):itemVisual[key]=value},
/**
   * Clear itemVisuals and list visual.
   */
SeriesData.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},SeriesData.prototype.setLayout=function(key,val){isObject(key)?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(this._layout,key):this._layout[key]=val},
/**
   * Get layout property.
   */
SeriesData.prototype.getLayout=function(key){return this._layout[key]},
/**
   * Get layout of single data item
   */
SeriesData.prototype.getItemLayout=function(idx){return this._itemLayouts[idx]},
/**
   * Set layout of single data item
   */
SeriesData.prototype.setItemLayout=function(idx,layout,merge){this._itemLayouts[idx]=merge?zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(this._itemLayouts[idx]||{},layout):layout},
/**
   * Clear all layout of single data item
   */
SeriesData.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},
/**
   * Set graphic element relative to data. It can be set as null
   */
SeriesData.prototype.setItemGraphicEl=function(idx,el){var seriesIndex=this.hostModel&&this.hostModel.seriesIndex;(0,_util_innerStore_js__WEBPACK_IMPORTED_MODULE_11__/* .setCommonECData */.Q)(seriesIndex,this.dataType,idx,el),this._graphicEls[idx]=el},SeriesData.prototype.getItemGraphicEl=function(idx){return this._graphicEls[idx]},SeriesData.prototype.eachItemGraphicEl=function(cb,context){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(this._graphicEls,(function(el,idx){el&&cb&&cb.call(context,el,idx)}))},
/**
   * Shallow clone a new list except visual and layout properties, and graph elements.
   * New list only change the indices.
   */
SeriesData.prototype.cloneShallow=function(list){return list||(list=new SeriesData(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(list,this),list._store=this._store,list},
/**
   * Wrap some method to add more feature
   */
SeriesData.prototype.wrapMethod=function(methodName,injectFunction){var originalMethod=this[methodName];zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isFunction */.mf(originalMethod)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(methodName),this[methodName]=function(){var res=originalMethod.apply(this,arguments);return injectFunction.apply(this,[res].concat(zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .slice */.tP(arguments)))})},// ----------------------------------------------------------
// A work around for internal method visiting private member.
// ----------------------------------------------------------
SeriesData.internalField=function(){prepareInvertedIndex=function(data){var invertedIndicesMap=data._invertedIndicesMap;zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(invertedIndicesMap,(function(invertedIndices,dim){var dimInfo=data._dimInfos[dim],ordinalMeta=dimInfo.ordinalMeta,store=data._store;// Currently, only dimensions that has ordinalMeta can create inverted indices.
if(ordinalMeta){invertedIndices=invertedIndicesMap[dim]=new CtorInt32Array(ordinalMeta.categories.length);// The default value of TypedArray is 0. To avoid miss
// mapping to 0, we should set it as INDEX_NOT_FOUND.
for(var i=0;i<invertedIndices.length;i++)invertedIndices[i]=INDEX_NOT_FOUND;for(i=0;i<store.count();i++)
// Only support the case that all values are distinct.
invertedIndices[store.get(dimInfo.storeDimIndex,i)]=i}}))},getIdNameFromStore=function(data,dimIdx,idx){return(0,_util_model_js__WEBPACK_IMPORTED_MODULE_8__/* .convertOptionIdName */.U5)(data._getCategory(dimIdx,idx),null)},
/**
     * @see the comment of `List['getId']`.
     */
getId=function(data,rawIndex){var id=data._idList[rawIndex];return null==id&&null!=data._idDimIdx&&(id=getIdNameFromStore(data,data._idDimIdx,rawIndex)),null==id&&(id=ID_PREFIX+rawIndex),id},normalizeDimensions=function(dimensions){return zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */.kJ(dimensions)||(dimensions=null!=dimensions?[dimensions]:[]),dimensions},
/**
     * Data in excludeDimensions is copied, otherwise transferred.
     */
cloneListForMapAndSample=function(original){var list=new SeriesData(original._schema?original._schema:map(original.dimensions,original._getDimInfo,original),original.hostModel);// FIXME If needs stackedOn, value may already been stacked
return transferProperties(list,original),list},transferProperties=function(target,source){zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods||[]),(function(propName){source.hasOwnProperty(propName)&&(target[propName]=source[propName])})),target.__wrappedMethods=source.__wrappedMethods,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6(CLONE_PROPERTIES,(function(propName){target[propName]=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */.d9(source[propName])})),target._calculationInfo=zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7({},source._calculationInfo)},makeIdFromName=function(data,idx){var nameList=data._nameList,idList=data._idList,nameDimIdx=data._nameDimIdx,idDimIdx=data._idDimIdx,name=nameList[idx],id=idList[idx];if(null==name&&null!=nameDimIdx&&(nameList[idx]=name=getIdNameFromStore(data,nameDimIdx,idx)),null==id&&null!=idDimIdx&&(idList[idx]=id=getIdNameFromStore(data,idDimIdx,idx)),null==id&&null!=name){var nameRepeatCount=data._nameRepeatCount,nmCnt=nameRepeatCount[name]=(nameRepeatCount[name]||0)+1;id=name,nmCnt>1&&(id+="__ec__"+nmCnt),idList[idx]=id}}}(),SeriesData}();
/* harmony import */
/* harmony default export */__webpack_exports__.Z=SeriesData},
/***/835440:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),SeriesDimensionDefine=
/** @class */
function(){
/**
   * @param opt All of the fields will be shallow copied.
   */
function SeriesDimensionDefine(opt){
/**
     * The format of `otherDims` is:
     * ```js
     * {
     *     tooltip?: number
     *     label?: number
     *     itemName?: number
     *     seriesName?: number
     * }
     * ```
     *
     * A `series.encode` can specified these fields:
     * ```js
     * encode: {
     *     // "3, 1, 5" is the index of data dimension.
     *     tooltip: [3, 1, 5],
     *     label: [0, 3],
     *     ...
     * }
     * ```
     * `otherDims` is the parse result of the `series.encode` above, like:
     * ```js
     * // Suppose the index of this data dimension is `3`.
     * this.otherDims = {
     *     // `3` is at the index `0` of the `encode.tooltip`
     *     tooltip: 0,
     *     // `3` is at the index `1` of the `encode.label`
     *     label: 1
     * };
     * ```
     *
     * This prop should never be `null`/`undefined` after initialized.
     */
this.otherDims={},null!=opt&&zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .extend */.l7(this,opt)}return SeriesDimensionDefine}();
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/* harmony default export */__webpack_exports__.Z=SeriesDimensionDefine},
/***/899574:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Kp:function(){/* binding */return detectSourceFormat},
/* harmony export */Ld:function(){/* binding */return isSourceInstance},
/* harmony export */ML:function(){/* binding */return cloneSourceShallow},
/* harmony export */QY:function(){/* binding */return shouldRetrieveDataByName},
/* harmony export */_P:function(){/* binding */return createSource},
/* harmony export */nx:function(){/* binding */return createSourceFromSeriesDataOption}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(933051),_util_types_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(894279),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(232234),_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(161772),SourceImpl=
/** @class */
function(){function SourceImpl(fields){this.data=fields.data||(fields.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL?{}:[]),this.sourceFormat=fields.sourceFormat||_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_UNKNOWN */.RA,// Visit config
this.seriesLayoutBy=fields.seriesLayoutBy||_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SERIES_LAYOUT_BY_COLUMN */.fY,this.startIndex=fields.startIndex||0,this.dimensionsDetectedCount=fields.dimensionsDetectedCount,this.metaRawOption=fields.metaRawOption;var dimensionsDefine=this.dimensionsDefine=fields.dimensionsDefine;if(dimensionsDefine)for(var i=0;i<dimensionsDefine.length;i++){var dim=dimensionsDefine[i];null==dim.type&&(0,_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .guessOrdinal */.u7)(this,i)===_helper_sourceHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .BE_ORDINAL */.Dq.Must&&(dim.type="ordinal")}}return SourceImpl}();
/* harmony import */function isSourceInstance(val){return val instanceof SourceImpl}
/**
 * Create a source from option.
 * NOTE: Created source is immutable. Don't change any properties in it.
 */function createSource(sourceData,thisMetaRawOption,// can be null. If not provided, auto detect it from `sourceData`.
sourceFormat){sourceFormat=sourceFormat||detectSourceFormat(sourceData);var seriesLayoutBy=thisMetaRawOption.seriesLayoutBy,determined=determineSourceDimensions(sourceData,sourceFormat,seriesLayoutBy,thisMetaRawOption.sourceHeader,thisMetaRawOption.dimensions),source=new SourceImpl({data:sourceData,sourceFormat:sourceFormat,seriesLayoutBy:seriesLayoutBy,dimensionsDefine:determined.dimensionsDefine,startIndex:determined.startIndex,dimensionsDetectedCount:determined.dimensionsDetectedCount,metaRawOption:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */.d9)(thisMetaRawOption)});return source}
/**
 * Wrap original series data for some compatibility cases.
 */function createSourceFromSeriesDataOption(data){return new SourceImpl({data:data,sourceFormat:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isTypedArray */.fU)(data)?_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5:_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_ORIGINAL */.cy})}
/**
 * Clone source but excludes source data.
 */function cloneSourceShallow(source){return new SourceImpl({data:source.data,sourceFormat:source.sourceFormat,seriesLayoutBy:source.seriesLayoutBy,dimensionsDefine:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */.d9)(source.dimensionsDefine),startIndex:source.startIndex,dimensionsDetectedCount:source.dimensionsDetectedCount})}
/**
 * Note: An empty array will be detected as `SOURCE_FORMAT_ARRAY_ROWS`.
 */function detectSourceFormat(data){var sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_UNKNOWN */.RA;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isTypedArray */.fU)(data))sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5;else if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isArray */.kJ)(data)){
// FIXME Whether tolerate null in top level array?
0===data.length&&(sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD);for(var i=0,len=data.length;i<len;i++){var item=data[i];if(null!=item){if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isArray */.kJ)(item)){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD;break}if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isObject */.Kn)(item)){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb;break}}}}else if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isObject */.Kn)(data))for(var key in data)if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .hasOwn */.RI)(data,key)&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isArrayLike */.zG)(data[key])){sourceFormat=_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL;break}return sourceFormat}
/**
 * Determine the source definitions from data standalone dimensions definitions
 * are not specified.
 */function determineSourceDimensions(data,sourceFormat,seriesLayoutBy,sourceHeader,// standalone raw dimensions definition, like:
// {
//     dimensions: ['aa', 'bb', { name: 'cc', type: 'time' }]
// }
// in `dataset` or `series`
dimensionsDefine){var dimensionsDetectedCount,startIndex;// PENDING: Could data be null/undefined here?
// currently, if `dataset.source` not specified, error thrown.
// if `series.data` not specified, nothing rendered without error thrown.
// Should test these cases.
if(!data)return{dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),startIndex:startIndex,dimensionsDetectedCount:dimensionsDetectedCount};if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD){var dataArrayRows=data;// Rule: Most of the first line are string: it is header.
// Caution: consider a line with 5 string and 1 number,
// it still can not be sure it is a head, because the
// 5 string may be 5 values of category columns.
"auto"===sourceHeader||null==sourceHeader?arrayRowsTravelFirst((function(val){
// '-' is regarded as null/undefined.
null!=val&&"-"!==val&&((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isString */.HD)(val)?null==startIndex&&(startIndex=1):startIndex=0);// 10 is an experience number, avoid long loop.
}),seriesLayoutBy,dataArrayRows,10):startIndex=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isNumber */.hj)(sourceHeader)?sourceHeader:sourceHeader?1:0,dimensionsDefine||1!==startIndex||(dimensionsDefine=[],arrayRowsTravelFirst((function(val,index){dimensionsDefine[index]=null!=val?val+"":""}),seriesLayoutBy,dataArrayRows,1/0)),dimensionsDetectedCount=dimensionsDefine?dimensionsDefine.length:seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SERIES_LAYOUT_BY_ROW */.Wc?dataArrayRows.length:dataArrayRows[0]?dataArrayRows[0].length:null}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb)dimensionsDefine||(dimensionsDefine=objectRowsCollectDimensions(data));else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL)dimensionsDefine||(dimensionsDefine=[],(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6)(data,(function(colArr,key){dimensionsDefine.push(key)})));else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_ORIGINAL */.cy){var value0=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .getDataItemValue */.C4)(data[0]);dimensionsDetectedCount=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isArray */.kJ)(value0)&&value0.length||1}else _util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5;return{startIndex:startIndex,dimensionsDefine:normalizeDimensionsOption(dimensionsDefine),dimensionsDetectedCount:dimensionsDetectedCount}}function objectRowsCollectDimensions(data){var obj,firstIndex=0;while(firstIndex<data.length&&!(obj=data[firstIndex++]));// jshint ignore: line
if(obj)return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .keys */.XP)(obj)}// Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],
// which is reasonable. But dimension name is duplicated.
// Returns undefined or an array contains only object without null/undefined or string.
function normalizeDimensionsOption(dimensionsDefine){if(dimensionsDefine){var nameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .createHashMap */.kW)();return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .map */.UI)(dimensionsDefine,(function(rawItem,index){rawItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .isObject */.Kn)(rawItem)?rawItem:{name:rawItem};// Other fields will be discarded.
var item={name:rawItem.name,displayName:rawItem.displayName,type:rawItem.type};// User can set null in dimensions.
// We don't auto specify name, otherwise a given name may
// cause it to be referred unexpectedly.
if(null==item.name)return item;// Also consider number form like 2012.
item.name+="",// User may also specify displayName.
// displayName will always exists except user not
// specified or dim name is not specified or detected.
// (A auto generated dim name will not be used as
// displayName).
null==item.displayName&&(item.displayName=item.name);var exist=nameMap.get(item.name);return exist?item.name+="-"+exist.count++:nameMap.set(item.name,{count:1}),item}))}}function arrayRowsTravelFirst(cb,seriesLayoutBy,data,maxLoop){if(seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SERIES_LAYOUT_BY_ROW */.Wc)for(var i=0;i<data.length&&i<maxLoop;i++)cb(data[i]?data[i][0]:null,i);else{var value0=data[0]||[];for(i=0;i<value0.length&&i<maxLoop;i++)cb(value0[i],i)}}function shouldRetrieveDataByName(source){var sourceFormat=source.sourceFormat;return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb||sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_0__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL}
/***/},
/***/31029:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Eo:function(){/* binding */return SeriesDataSchema},
/* harmony export */Jj:function(){/* binding */return ensureSourceDimNameMap},
/* harmony export */Jl:function(){/* binding */return shouldOmitUnusedDimensions},
/* harmony export */bB:function(){/* binding */return isSeriesDataSchema},
/* harmony export */v5:function(){/* binding */return createDimNameMap}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234),_Source_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(899574),inner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=
/** @class */
function(){function SeriesDataSchema(opt){this.dimensions=opt.dimensions,this._dimOmitted=opt.dimensionOmitted,this.source=opt.source,this._fullDimCount=opt.fullDimensionCount,this._updateDimOmitted(opt.dimensionOmitted)}return SeriesDataSchema.prototype.isDimensionOmitted=function(){return this._dimOmitted},SeriesDataSchema.prototype._updateDimOmitted=function(dimensionOmitted){this._dimOmitted=dimensionOmitted,dimensionOmitted&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},
/**
   * @caution Can only be used when `dimensionOmitted: true`.
   *
   * Get index by user defined dimension name (i.e., not internal generate name).
   * That is, get index from `dimensionsDefine`.
   * If no `dimensionsDefine`, or no name get, return -1.
   */
SeriesDataSchema.prototype.getSourceDimensionIndex=function(dimName){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(this._dimNameMap.get(dimName),-1)},
/**
   * @caution Can only be used when `dimensionOmitted: true`.
   *
   * Notice: may return `null`/`undefined` if user not specify dimension names.
   */
SeriesDataSchema.prototype.getSourceDimension=function(dimIndex){var dimensionsDefine=this.source.dimensionsDefine;if(dimensionsDefine)return dimensionsDefine[dimIndex]},SeriesDataSchema.prototype.makeStoreSchema=function(){for(var dimCount=this._fullDimCount,willRetrieveDataByName=(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__/* .shouldRetrieveDataByName */.QY)(this.source),makeHashStrict=!shouldOmitUnusedDimensions(dimCount),dimHash="",dims=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<dimCount;fullDimIdx++){var property=void 0,type=void 0,ordinalMeta=void 0,seriesDimDef=this.dimensions[seriesDimIdx];// The list has been sorted by `storeDimIndex` asc.
if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)property=willRetrieveDataByName?seriesDimDef.name:null,type=seriesDimDef.type,ordinalMeta=seriesDimDef.ordinalMeta,seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(property=willRetrieveDataByName?sourceDimDef.name:null,type=sourceDimDef.type)}dims.push({property:property,type:type,ordinalMeta:ordinalMeta}),// If retrieving data by index,
//   use <index, type, ordinalMeta> to determine whether data can be shared.
//   (Because in this case there might be no dimension name defined in dataset, but indices always exists).
//   (Indices are always 0, 1, 2, ..., so we can ignore them to shorten the hash).
// Otherwise if retrieving data by property name (like `data: [{aa: 123, bb: 765}, ...]`),
//   use <property, type, ordinalMeta> in hash.
!willRetrieveDataByName||null==property||seriesDimDef&&seriesDimDef.isCalculationCoord||(dimHash+=makeHashStrict?property.replace(/\`/g,"`1").replace(/\$/g,"`2"):property),dimHash+="$",dimHash+=dimTypeShort[type]||"f",ordinalMeta&&(dimHash+=ordinalMeta.uid),dimHash+="$"}// Source from endpoint(usually series) will be read differently
// when seriesLayoutBy or startIndex(which is affected by sourceHeader) are different.
// So we use this three props as key.
var source=this.source,hash=[source.seriesLayoutBy,source.startIndex,dimHash].join("$$");return{dimensions:dims,hash:hash}},SeriesDataSchema.prototype.makeOutputDimensionNames=function(){for(var result=[],fullDimIdx=0,seriesDimIdx=0;fullDimIdx<this._fullDimCount;fullDimIdx++){var name_1=void 0,seriesDimDef=this.dimensions[seriesDimIdx];// The list has been sorted by `storeDimIndex` asc.
if(seriesDimDef&&seriesDimDef.storeDimIndex===fullDimIdx)seriesDimDef.isCalculationCoord||(name_1=seriesDimDef.name),seriesDimIdx++;else{var sourceDimDef=this.getSourceDimension(fullDimIdx);sourceDimDef&&(name_1=sourceDimDef.name)}result.push(name_1)}return result},SeriesDataSchema.prototype.appendCalculationDimension=function(dimDef){this.dimensions.push(dimDef),dimDef.isCalculationCoord=!0,this._fullDimCount++,// If append dimension on a data store, consider the store
// might be shared by different series, series dimensions not
// really map to store dimensions.
this._updateDimOmitted(!0)},SeriesDataSchema}();
/* harmony import */function isSeriesDataSchema(schema){return schema instanceof SeriesDataSchema}function createDimNameMap(dimsDef){for(var dataDimNameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .createHashMap */.kW)(),i=0;i<(dimsDef||[]).length;i++){var dimDefItemRaw=dimsDef[i],userDimName=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(dimDefItemRaw)?dimDefItemRaw.name:dimDefItemRaw;null!=userDimName&&null==dataDimNameMap.get(userDimName)&&dataDimNameMap.set(userDimName,i)}return dataDimNameMap}function ensureSourceDimNameMap(source){var innerSource=inner(source);return innerSource.dimNameMap||(innerSource.dimNameMap=createDimNameMap(source.dimensionsDefine))}function shouldOmitUnusedDimensions(dimCount){return dimCount>30}
/***/},
/***/555623:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return prepareSeriesDataSchema}
/* harmony export */});
/* unused harmony export createDimensions */
/* harmony import */var _util_types_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(894279),_SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(835440),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_Source_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(899574),_DataStore_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143834),_util_model_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(232234),_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(161772),_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31029);
/* harmony import */
/**
 * This method builds the relationship between:
 * + "what the coord sys or series requires (see `coordDimensions`)",
 * + "what the user defines (in `encode` and `dimensions`, see `opt.dimensionsDefine` and `opt.encodeDefine`)"
 * + "what the data source provids (see `source`)".
 *
 * Some guess strategy will be adapted if user does not define something.
 * If no 'value' dimension specified, the first no-named dimension will be
 * named as 'value'.
 *
 * @return The results are always sorted by `storeDimIndex` asc.
 */
function prepareSeriesDataSchema(// TODO: TYPE completeDimensions type
source,opt){(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__/* .isSourceInstance */.Ld)(source)||(source=(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__/* .createSourceFromSeriesDataOption */.nx)(source)),opt=opt||{};var sysDims=opt.coordDimensions||[],dimsDef=opt.dimensionsDefine||source.dimensionsDefine||[],coordDimNameMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .createHashMap */.kW)(),resultList=[],dimCount=getDimCount(source,sysDims,dimsDef,opt.dimensionsCount),omitUnusedDimensions=opt.canOmitUnusedDimensions&&(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__/* .shouldOmitUnusedDimensions */.Jl)(dimCount),isUsingSourceDimensionsDef=dimsDef===source.dimensionsDefine,dataDimNameMap=isUsingSourceDimensionsDef?(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__/* .ensureSourceDimNameMap */.Jj)(source):(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__/* .createDimNameMap */.v5)(dimsDef),encodeDef=opt.encodeDefine;!encodeDef&&opt.encodeDefaulter&&(encodeDef=opt.encodeDefaulter(source,dimCount));for(var encodeDefMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .createHashMap */.kW)(encodeDef),indicesMap=new _DataStore_js__WEBPACK_IMPORTED_MODULE_3__/* .CtorInt32Array */.hG(dimCount),i=0;i<indicesMap.length;i++)indicesMap[i]=-1;function getResultItem(dimIdx){var idx=indicesMap[dimIdx];if(idx<0){var dimDefItemRaw=dimsDef[dimIdx],dimDefItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(dimDefItemRaw)?dimDefItemRaw:{name:dimDefItemRaw},resultItem=new _SeriesDimensionDefine_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z,userDimName=dimDefItem.name;null!=userDimName&&null!=dataDimNameMap.get(userDimName)&&(
// Only if `series.dimensions` is defined in option
// displayName, will be set, and dimension will be displayed vertically in
// tooltip by default.
resultItem.name=resultItem.displayName=userDimName),null!=dimDefItem.type&&(resultItem.type=dimDefItem.type),null!=dimDefItem.displayName&&(resultItem.displayName=dimDefItem.displayName);var newIdx=resultList.length;return indicesMap[dimIdx]=newIdx,resultItem.storeDimIndex=dimIdx,resultList.push(resultItem),resultItem}return resultList[idx]}if(!omitUnusedDimensions)for(i=0;i<dimCount;i++)getResultItem(i);// Set `coordDim` and `coordDimIndex` by `encodeDefMap` and normalize `encodeDefMap`.
encodeDefMap.each((function(dataDimsRaw,coordDim){var dataDims=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__/* .normalizeToArray */.kF)(dataDimsRaw).slice();// Note: It is allowed that `dataDims.length` is `0`, e.g., options is
// `{encode: {x: -1, y: 1}}`. Should not filter anything in
// this case.
if(1===dataDims.length&&!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(dataDims[0])&&dataDims[0]<0)encodeDefMap.set(coordDim,!1);else{var validDataDims=encodeDefMap.set(coordDim,[]);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(dataDims,(function(resultDimIdxOrName,idx){
// The input resultDimIdx can be dim name or index.
var resultDimIdx=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(resultDimIdxOrName)?dataDimNameMap.get(resultDimIdxOrName):resultDimIdxOrName;null!=resultDimIdx&&resultDimIdx<dimCount&&(validDataDims[idx]=resultDimIdx,applyDim(getResultItem(resultDimIdx),coordDim,idx))}))}}));// Apply templates and default order from `sysDims`.
var availDimIdx=0;function applyDim(resultItem,coordDim,coordDimIndex){null!=_util_types_js__WEBPACK_IMPORTED_MODULE_6__/* .VISUAL_DIMENSIONS */.f7.get(coordDim)?resultItem.otherDims[coordDim]=coordDimIndex:(resultItem.coordDim=coordDim,resultItem.coordDimIndex=coordDimIndex,coordDimNameMap.set(coordDim,!0))}// Make sure the first extra dim is 'value'.
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(sysDims,(function(sysDimItemRaw){var coordDim,sysDimItemDimsDef,sysDimItemOtherDims,sysDimItem;if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(sysDimItemRaw))coordDim=sysDimItemRaw,sysDimItem={};else{sysDimItem=sysDimItemRaw,coordDim=sysDimItem.name;var ordinalMeta=sysDimItem.ordinalMeta;sysDimItem.ordinalMeta=null,sysDimItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)({},sysDimItem),sysDimItem.ordinalMeta=ordinalMeta,// `coordDimIndex` should not be set directly.
sysDimItemDimsDef=sysDimItem.dimsDef,sysDimItemOtherDims=sysDimItem.otherDims,sysDimItem.name=sysDimItem.coordDim=sysDimItem.coordDimIndex=sysDimItem.dimsDef=sysDimItem.otherDims=null}var dataDims=encodeDefMap.get(coordDim);// negative resultDimIdx means no need to mapping.
if(!1!==dataDims){// dimensions provides default dim sequences.
if(dataDims=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__/* .normalizeToArray */.kF)(dataDims),!dataDims.length)for(var i=0;i<(sysDimItemDimsDef&&sysDimItemDimsDef.length||1);i++){while(availDimIdx<dimCount&&null!=getResultItem(availDimIdx).coordDim)availDimIdx++;availDimIdx<dimCount&&dataDims.push(availDimIdx++)}// Apply templates.
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(dataDims,(function(resultDimIdx,coordDimIndex){var resultItem=getResultItem(resultDimIdx);// Coordinate system has a higher priority on dim type than source.
if(isUsingSourceDimensionsDef&&null!=sysDimItem.type&&(resultItem.type=sysDimItem.type),applyDim((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(resultItem,sysDimItem),coordDim,coordDimIndex),null==resultItem.name&&sysDimItemDimsDef){var sysDimItemDimsDefItem=sysDimItemDimsDef[coordDimIndex];!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(sysDimItemDimsDefItem)&&(sysDimItemDimsDefItem={name:sysDimItemDimsDefItem}),resultItem.name=resultItem.displayName=sysDimItemDimsDefItem.name,resultItem.defaultTooltip=sysDimItemDimsDefItem.defaultTooltip}// FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}
sysDimItemOtherDims&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .defaults */.ce)(resultItem.otherDims,sysDimItemOtherDims)}))}}));var generateCoord=opt.generateCoord,generateCoordCount=opt.generateCoordCount,fromZero=null!=generateCoordCount;generateCoordCount=generateCoord?generateCoordCount||1:0;var extra=generateCoord||"value";function ifNoNameFillWithCoordName(resultItem){null==resultItem.name&&(
// Duplication will be removed in the next step.
resultItem.name=resultItem.coordDim)}// Set dim `name` and other `coordDim` and other props.
if(omitUnusedDimensions)(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(resultList,(function(resultItem){
// PENDING: guessOrdinal or let user specify type: 'ordinal' manually?
ifNoNameFillWithCoordName(resultItem)})),// Sort dimensions: there are some rule that use the last dim as label,
// and for some latter travel process easier.
resultList.sort((function(item0,item1){return item0.storeDimIndex-item1.storeDimIndex}));else for(var resultDimIdx=0;resultDimIdx<dimCount;resultDimIdx++){var resultItem=getResultItem(resultDimIdx),coordDim=resultItem.coordDim;null==coordDim&&(
// TODO no need to generate coordDim for isExtraCoord?
resultItem.coordDim=genCoordDimName(extra,coordDimNameMap,fromZero),resultItem.coordDimIndex=0,// Series specified generateCoord is using out.
(!generateCoord||generateCoordCount<=0)&&(resultItem.isExtraCoord=!0),generateCoordCount--),ifNoNameFillWithCoordName(resultItem),null!=resultItem.type||(0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__/* .guessOrdinal */.u7)(source,resultDimIdx)!==_sourceHelper_js__WEBPACK_IMPORTED_MODULE_7__/* .BE_ORDINAL */.Dq.Must&&(!resultItem.isExtraCoord||null==resultItem.otherDims.itemName&&null==resultItem.otherDims.seriesName)||(resultItem.type="ordinal")}return removeDuplication(resultList),new _SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_2__/* .SeriesDataSchema */.Eo({source:source,dimensions:resultList,fullDimensionCount:dimCount,dimensionOmitted:omitUnusedDimensions})}function removeDuplication(result){for(var duplicationMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .createHashMap */.kW)(),i=0;i<result.length;i++){var dim=result[i],dimOriginalName=dim.name,count=duplicationMap.get(dimOriginalName)||0;count>0&&(
// Starts from 0.
dim.name=dimOriginalName+(count-1)),count++,duplicationMap.set(dimOriginalName,count)}}// ??? TODO
// Originally detect dimCount by data[0]. Should we
// optimize it to only by sysDims and dimensions and encode.
// So only necessary dims will be initialized.
// But
// (1) custom series should be considered. where other dims
// may be visited.
// (2) sometimes user need to calculate bubble size or use visualMap
// on other dimensions besides coordSys needed.
// So, dims that is not used by system, should be shared in data store?
function getDimCount(source,sysDims,dimsDef,optDimCount){
// Note that the result dimCount should not small than columns count
// of data, otherwise `dataDimNameMap` checking will be incorrect.
var dimCount=Math.max(source.dimensionsDetectedCount||1,sysDims.length,dimsDef.length,optDimCount||0);return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(sysDims,(function(sysDimItem){var sysDimItemDimsDef;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(sysDimItem)&&(sysDimItemDimsDef=sysDimItem.dimsDef)&&(dimCount=Math.max(dimCount,sysDimItemDimsDef.length))})),dimCount}function genCoordDimName(name,map,fromZero){if(fromZero||map.hasKey(name)){var i=0;while(map.hasKey(name+i))i++;name+=i}return map.set(name,!0),name}
/***/},
/***/668540:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Pl:function(){/* binding */return DefaultDataProvider},
/* harmony export */_j:function(){/* binding */return getRawSourceItemGetter},
/* harmony export */a:function(){/* binding */return getRawSourceDataCounter},
/* harmony export */hk:function(){/* binding */return retrieveRawValue},
/* harmony export */tB:function(){/* binding */return getRawSourceValueGetter}
/* harmony export */});
/* unused harmony export retrieveRawAttr */
/* harmony import */var _a,_b,_c,providerMethods,mountMethods,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(933051),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(232234),_Source_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(899574),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(894279),DefaultDataProvider=
/** @class */
function(){function DefaultDataProvider(sourceParam,dimSize){
// let source: Source;
var source=(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__/* .isSourceInstance */.Ld)(sourceParam)?sourceParam:(0,_Source_js__WEBPACK_IMPORTED_MODULE_0__/* .createSourceFromSeriesDataOption */.nx)(sourceParam);// declare source is Source;
this._source=source;var data=this._data=source.data;// Typed array. TODO IE10+?
source.sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5&&(this._offset=0,this._dimSize=dimSize,this._data=data),mountMethods(this,data,source)}return DefaultDataProvider.prototype.getSource=function(){return this._source},DefaultDataProvider.prototype.count=function(){return 0},DefaultDataProvider.prototype.getItem=function(idx,out){},DefaultDataProvider.prototype.appendData=function(newData){},DefaultDataProvider.prototype.clean=function(){},DefaultDataProvider.protoInitialize=function(){
// PENDING: To avoid potential incompat (e.g., prototype
// is visited somewhere), still init them on prototype.
var proto=DefaultDataProvider.prototype;proto.pure=!1,proto.persistent=!0}(),DefaultDataProvider.internalField=function(){var _a;mountMethods=function(provider,data,source){var sourceFormat=source.sourceFormat,seriesLayoutBy=source.seriesLayoutBy,startIndex=source.startIndex,dimsDef=source.dimensionsDefine,methods=providerMethods[getMethodMapKey(sourceFormat,seriesLayoutBy)];if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .extend */.l7)(provider,methods),sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5)provider.getItem=getItemForTypedArray,provider.count=countForTypedArray,provider.fillStorage=fillStorageForTypedArray;else{var rawItemGetter=getRawSourceItemGetter(sourceFormat,seriesLayoutBy);provider.getItem=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .bind */.ak)(rawItemGetter,null,data,startIndex,dimsDef);var rawCounter=getRawSourceDataCounter(sourceFormat,seriesLayoutBy);provider.count=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .bind */.ak)(rawCounter,null,data,startIndex,dimsDef)}};var getItemForTypedArray=function(idx,out){idx-=this._offset,out=out||[];for(var data=this._data,dimSize=this._dimSize,offset=dimSize*idx,i=0;i<dimSize;i++)out[i]=data[offset+i];return out},fillStorageForTypedArray=function(start,end,storage,extent){for(var data=this._data,dimSize=this._dimSize,dim=0;dim<dimSize;dim++){for(var dimExtent=extent[dim],min=null==dimExtent[0]?1/0:dimExtent[0],max=null==dimExtent[1]?-1/0:dimExtent[1],count=end-start,arr=storage[dim],i=0;i<count;i++){
// appendData with TypedArray will always do replace in provider.
var val=data[i*dimSize+dim];arr[start+i]=val,val<min&&(min=val),val>max&&(max=val)}dimExtent[0]=min,dimExtent[1]=max}},countForTypedArray=function(){return this._data?this._data.length/this._dimSize:0};function appendDataSimply(newData){for(var i=0;i<newData.length;i++)this._data.push(newData[i])}_a={},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY]={pure:!0,appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_ROW */.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb]={pure:!0,appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL]={pure:!0,appendData:function(newData){var data=this._data;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_2__/* .each */.S6)(newData,(function(newCol,key){for(var oldCol=data[key]||(data[key]=[]),i=0;i<(newCol||[]).length;i++)oldCol.push(newCol[i])}))}},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy]={appendData:appendDataSimply},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5]={persistent:!1,pure:!0,appendData:function(newData){this._data=newData},
// Clean self if data is already used.
clean:function(){
// PENDING
this._offset+=this.count(),this._data=null}},providerMethods=_a}(),DefaultDataProvider}(),getItemSimply=function(rawData,startIndex,dimsDef,idx){return rawData[idx]},rawSourceItemGetterMap=(_a={},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY]=function(rawData,startIndex,dimsDef,idx){return rawData[idx+startIndex]},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_ROW */.Wc]=function(rawData,startIndex,dimsDef,idx,out){idx+=startIndex;for(var item=out||[],data=rawData,i=0;i<data.length;i++){var row=data[i];item[i]=row?row[idx]:null}return item},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb]=getItemSimply,_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL]=function(rawData,startIndex,dimsDef,idx,out){for(var item=out||[],i=0;i<dimsDef.length;i++){var dimName=dimsDef[i].name;0;var col=rawData[dimName];item[i]=col?col[idx]:null}return item},_a[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy]=getItemSimply,_a);
/* harmony import */function getRawSourceItemGetter(sourceFormat,seriesLayoutBy){var method=rawSourceItemGetterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)];return method}var countSimply=function(rawData,startIndex,dimsDef){return rawData.length},rawSourceDataCounterMap=(_b={},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY]=function(rawData,startIndex,dimsDef){return Math.max(0,rawData.length-startIndex)},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD+"_"+_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_ROW */.Wc]=function(rawData,startIndex,dimsDef){var row=rawData[0];return row?Math.max(0,row.length-startIndex):0},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb]=countSimply,_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL]=function(rawData,startIndex,dimsDef){var dimName=dimsDef[0].name;var col=rawData[dimName];return col?col.length:0},_b[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy]=countSimply,_b);function getRawSourceDataCounter(sourceFormat,seriesLayoutBy){var method=rawSourceDataCounterMap[getMethodMapKey(sourceFormat,seriesLayoutBy)];return method}var getRawValueSimply=function(dataItem,dimIndex,property){return dataItem[dimIndex]},rawSourceValueGetterMap=(_c={},_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD]=getRawValueSimply,_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb]=function(dataItem,dimIndex,property){return dataItem[property]},_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL]=getRawValueSimply,_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy]=function(dataItem,dimIndex,property){
// FIXME: In some case (markpoint in geo (geo-map.html)),
// dataItem is {coord: [...]}
var value=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .getDataItemValue */.C4)(dataItem);return value instanceof Array?value[dimIndex]:value},_c[_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5]=getRawValueSimply,_c);function getRawSourceValueGetter(sourceFormat){var method=rawSourceValueGetterMap[sourceFormat];return method}function getMethodMapKey(sourceFormat,seriesLayoutBy){return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD?sourceFormat+"_"+seriesLayoutBy:sourceFormat}// ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,
// Consider persistent.
// Caution: why use raw value to display on label or tooltip?
// A reason is to avoid format. For example time value we do not know
// how to format is expected. More over, if stack is used, calculated
// value may be 0.91000000001, which have brings trouble to display.
// TODO: consider how to treat null/undefined/NaN when display?
function retrieveRawValue(data,dataIndex,// If dimIndex is null/undefined, return OptionDataItem.
// Otherwise, return OptionDataValue.
dim){if(data){// Consider data may be not persistent.
var dataItem=data.getRawDataItem(dataIndex);if(null!=dataItem){var store=data.getStore(),sourceFormat=store.getSource().sourceFormat;if(null!=dim){var dimIndex=data.getDimensionIndex(dim),property=store.getDimensionProperty(dimIndex);return getRawSourceValueGetter(sourceFormat)(dataItem,dimIndex,property)}var result=dataItem;return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy&&(result=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .getDataItemValue */.C4)(dataItem)),result}}}
/**
 * Compatible with some cases (in pie, map) like:
 * data: [{name: 'xx', value: 5, selected: true}, ...]
 * where only sourceFormat is 'original' and 'objectRows' supported.
 *
 * // TODO
 * Supported detail options in data item when using 'arrayRows'.
 *
 * @param data
 * @param dataIndex
 * @param attr like 'selected'
 */},
/***/599936:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */BM:function(){/* binding */return enableDataStack},
/* harmony export */IR:function(){/* binding */return getStackedDimension},
/* harmony export */M:function(){/* binding */return isDimensionStacked}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31029);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Note that it is too complicated to support 3d stack by value
 * (have to create two-dimension inverted index), so in 3d case
 * we just support that stacked by index.
 *
 * @param seriesModel
 * @param dimensionsInput The same as the input of <module:echarts/data/SeriesData>.
 *        The input will be modified.
 * @param opt
 * @param opt.stackedCoordDimension Specify a coord dimension if needed.
 * @param opt.byIndex=false
 * @return calculationInfo
 * {
 *     stackedDimension: string
 *     stackedByDimension: string
 *     isStackedByIndex: boolean
 *     stackedOverDimension: string
 *     stackResultDimension: string
 * }
 */
function enableDataStack(seriesModel,dimensionsInput,opt){opt=opt||{};var dimensionDefineList,schema,store,byIndex=opt.byIndex,stackedCoordDimension=opt.stackedCoordDimension;isLegacyDimensionsInput(dimensionsInput)?dimensionDefineList=dimensionsInput:(schema=dimensionsInput.schema,dimensionDefineList=schema.dimensions,store=dimensionsInput.store);// Compatibal: when `stack` is set as '', do not stack.
var stackedByDimInfo,stackedDimInfo,stackResultDimension,stackedOverDimension,mayStack=!(!seriesModel||!seriesModel.get("stack"));// Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.
// That put stack logic in List is for using conveniently in echarts extensions, but it
// might not be a good way.
if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(dimensionDefineList,(function(dimensionInfo,index){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD)(dimensionInfo)&&(dimensionDefineList[index]=dimensionInfo={name:dimensionInfo}),mayStack&&!dimensionInfo.isExtraCoord&&(
// Find the first ordinal dimension as the stackedByDimInfo.
byIndex||stackedByDimInfo||!dimensionInfo.ordinalMeta||(stackedByDimInfo=dimensionInfo),// Find the first stackable dimension as the stackedDimInfo.
stackedDimInfo||"ordinal"===dimensionInfo.type||"time"===dimensionInfo.type||stackedCoordDimension&&stackedCoordDimension!==dimensionInfo.coordDim||(stackedDimInfo=dimensionInfo))})),!stackedDimInfo||byIndex||stackedByDimInfo||(
// Compatible with previous design, value axis (time axis) only stack by index.
// It may make sense if the user provides elaborately constructed data.
byIndex=!0),stackedDimInfo){
// Use a weird name that not duplicated with other names.
// Also need to use seriesModel.id as postfix because different
// series may share same data store. The stack dimension needs to be distinguished.
stackResultDimension="__\0ecstackresult_"+seriesModel.id,stackedOverDimension="__\0ecstackedover_"+seriesModel.id,// Create inverted index to fast query index by value.
stackedByDimInfo&&(stackedByDimInfo.createInvertedIndices=!0);var stackedDimCoordDim_1=stackedDimInfo.coordDim,stackedDimType=stackedDimInfo.type,stackedDimCoordIndex_1=0;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(dimensionDefineList,(function(dimensionInfo){dimensionInfo.coordDim===stackedDimCoordDim_1&&stackedDimCoordIndex_1++}));var stackedOverDimensionDefine={name:stackResultDimension,coordDim:stackedDimCoordDim_1,coordDimIndex:stackedDimCoordIndex_1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length},stackResultDimensionDefine={name:stackedOverDimension,
// This dimension contains stack base (generally, 0), so do not set it as
// `stackedDimCoordDim` to avoid extent calculation, consider log scale.
coordDim:stackedOverDimension,coordDimIndex:stackedDimCoordIndex_1+1,type:stackedDimType,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:dimensionDefineList.length+1};schema?(store&&(stackedOverDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackedOverDimension,stackedDimType),stackResultDimensionDefine.storeDimIndex=store.ensureCalculationDimension(stackResultDimension,stackedDimType)),schema.appendCalculationDimension(stackedOverDimensionDefine),schema.appendCalculationDimension(stackResultDimensionDefine)):(dimensionDefineList.push(stackedOverDimensionDefine),dimensionDefineList.push(stackResultDimensionDefine))}return{stackedDimension:stackedDimInfo&&stackedDimInfo.name,stackedByDimension:stackedByDimInfo&&stackedByDimInfo.name,isStackedByIndex:byIndex,stackedOverDimension:stackedOverDimension,stackResultDimension:stackResultDimension}}function isLegacyDimensionsInput(dimensionsInput){return!(0,_SeriesDataSchema_js__WEBPACK_IMPORTED_MODULE_1__/* .isSeriesDataSchema */.bB)(dimensionsInput.schema)}function isDimensionStacked(data,stackedDim){
// Each single series only maps to one pair of axis. So we do not need to
// check stackByDim, whatever stacked by a dimension or stacked by index.
return!!stackedDim&&stackedDim===data.getCalculationInfo("stackedDimension")}function getStackedDimension(data,targetDim){return isDimensionStacked(data,targetDim)?data.getCalculationInfo("stackResultDimension"):targetDim}
/***/},
/***/198407:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */ID:function(){/* binding */return SortOrderComparator},
/* harmony export */o2:function(){/* binding */return getRawValueParser},
/* harmony export */tR:function(){/* binding */return createFilterComparator},
/* harmony export */yQ:function(){/* binding */return parseDataValue}
/* harmony export */});
/* harmony import */var _util_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(785669),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_util_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(470175);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * Convert raw the value in to inner value in List.
 *
 * [Performance sensitive]
 *
 * [Caution]: this is the key logic of user value parser.
 * For backward compatibility, do not modify it until you have to!
 */
function parseDataValue(value,// For high performance, do not omit the second param.
opt){
// Performance sensitive.
var dimType=opt&&opt.type;return"ordinal"===dimType?value:("time"!==dimType||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj)(value)||null==value||"-"===value||(value=+(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parseDate */.sG)(value)),null==value||""===value?NaN:+value)}var valueParserMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .createHashMap */.kW)({number:function(val){
// Do not use `numericToNumber` here. We have `numericToNumber` by default.
// Here the number parser can have loose rule:
// enable to cut suffix: "120px" => 120, "14%" => 14.
return parseFloat(val)},time:function(val){
// return timestamp.
return+(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parseDate */.sG)(val)},trim:function(val){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD)(val)?(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .trim */.fy)(val):val}});function getRawValueParser(type){return valueParserMap.get(type)}var ORDER_COMPARISON_OP_MAP={lt:function(lval,rval){return lval<rval},lte:function(lval,rval){return lval<=rval},gt:function(lval,rval){return lval>rval},gte:function(lval,rval){return lval>=rval}},FilterOrderComparator=
/** @class */
function(){function FilterOrderComparator(op,rval){if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj)(rval)){var errMsg="";0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg)}this._opFn=ORDER_COMPARISON_OP_MAP[op],this._rvalFloat=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(rval)}// Performance sensitive.
return FilterOrderComparator.prototype.evaluate=function(lval){
// Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.
return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj)(lval)?this._opFn(lval,this._rvalFloat):this._opFn((0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(lval),this._rvalFloat)},FilterOrderComparator}(),SortOrderComparator=
/** @class */
function(){
/**
   * @param order by default: 'asc'
   * @param incomparable by default: Always on the tail.
   *        That is, if 'asc' => 'max', if 'desc' => 'min'
   *        See the definition of "incomparable" in [SORT_COMPARISON_RULE].
   */
function SortOrderComparator(order,incomparable){var isDesc="desc"===order;this._resultLT=isDesc?1:-1,null==incomparable&&(incomparable=isDesc?"min":"max"),this._incomparable="min"===incomparable?-1/0:1/0}// See [SORT_COMPARISON_RULE].
// Performance sensitive.
return SortOrderComparator.prototype.evaluate=function(lval,rval){
// Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.
var lvalFloat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj)(lval)?lval:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(lval),rvalFloat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isNumber */.hj)(rval)?rval:(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(rval),lvalNotNumeric=isNaN(lvalFloat),rvalNotNumeric=isNaN(rvalFloat);if(lvalNotNumeric&&(lvalFloat=this._incomparable),rvalNotNumeric&&(rvalFloat=this._incomparable),lvalNotNumeric&&rvalNotNumeric){var lvalIsStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD)(lval),rvalIsStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isString */.HD)(rval);lvalIsStr&&(lvalFloat=rvalIsStr?lval:0),rvalIsStr&&(rvalFloat=lvalIsStr?rval:0)}return lvalFloat<rvalFloat?this._resultLT:lvalFloat>rvalFloat?-this._resultLT:0},SortOrderComparator}(),FilterEqualityComparator=
/** @class */
function(){function FilterEqualityComparator(isEq,rval){this._rval=rval,this._isEQ=isEq,this._rvalTypeof=typeof rval,this._rvalFloat=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(rval)}// Performance sensitive.
return FilterEqualityComparator.prototype.evaluate=function(lval){var eqResult=lval===this._rval;if(!eqResult){var lvalTypeof=typeof lval;lvalTypeof===this._rvalTypeof||"number"!==lvalTypeof&&"number"!==this._rvalTypeof||(eqResult=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .numericToNumber */.FK)(lval)===this._rvalFloat)}return this._isEQ?eqResult:!eqResult},FilterEqualityComparator}();
/**
 * [FILTER_COMPARISON_RULE]
 * `lt`|`lte`|`gt`|`gte`:
 * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.
 * `eq`:
 * + If same type, compare with `===`.
 * + If there is one number, convert to number (`numericToNumber`) to compare.
 * + Else return `false`.
 * `ne`:
 * + Not `eq`.
 *
 *
 * [SORT_COMPARISON_RULE]
 * All the values are grouped into three categories:
 * + "numeric" (number and numeric string)
 * + "non-numeric-string" (string that excluding numeric string)
 * + "others"
 * "numeric" vs "numeric": values are ordered by number order.
 * "non-numeric-string" vs "non-numeric-string": values are ordered by ES spec (#sec-abstract-relational-comparison).
 * "others" vs "others": do not change order (always return 0).
 * "numeric" vs "non-numeric-string": "non-numeric-string" is treated as "incomparable".
 * "number" vs "others": "others" is treated as "incomparable".
 * "non-numeric-string" vs "others": "others" is treated as "incomparable".
 * "incomparable" will be seen as -Infinity or Infinity (depends on the settings).
 * MEMO:
 *   Non-numeric string sort makes sense when we need to put the items with the same tag together.
 *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,
 *   So we treat "numeric-string" sorted by number order rather than string comparison.
 *
 *
 * [CHECK_LIST_OF_THE_RULE_DESIGN]
 * + Do not support string comparison until required. And also need to
 *   avoid the misleading of "2" > "12".
 * + Should avoid the misleading case:
 *   `" 22 " gte "22"` is `true` but `" 22 " eq "22"` is `false`.
 * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...
 * + Only "numeric" can be converted to comparable number, otherwise converted to NaN.
 *   See `util/number.ts#numericToNumber`.
 *
 * @return If `op` is not `RelationalOperator`, return null;
 */
function createFilterComparator(op,rval){return"eq"===op||"ne"===op?new FilterEqualityComparator("eq"===op,rval):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .hasOwn */.RI)(ORDER_COMPARISON_OP_MAP,op)?new FilterOrderComparator(op,rval):null}
/***/},
/***/810381:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */T:function(){/* binding */return getDimensionTypeByAxis},
/* harmony export */y:function(){/* binding */return summarizeDimensions}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(894279),DimensionUserOuput=
/** @class */
function(){function DimensionUserOuput(encode,dimRequest){this._encode=encode,this._schema=dimRequest}return DimensionUserOuput.prototype.get=function(){return{
// Do not generate full dimension name until fist used.
fullDimensions:this._getFullDimensionNames(),encode:this._encode}},
/**
   * Get all data store dimension names.
   * Theoretically a series data store is defined both by series and used dataset (if any).
   * If some dimensions are omitted for performance reason in `this.dimensions`,
   * the dimension name may not be auto-generated if user does not specify a dimension name.
   * In this case, the dimension name is `null`/`undefined`.
   */
DimensionUserOuput.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},DimensionUserOuput}();
/* harmony import */function summarizeDimensions(data,schema){var summary={},encode=summary.encode={},notExtraCoordDimMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .createHashMap */.kW)(),defaultedLabel=[],defaultedTooltip=[],userOutputEncode={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(data.dimensions,(function(dimName){var dimItem=data.getDimensionInfo(dimName),coordDim=dimItem.coordDim;if(coordDim){0;var coordDimIndex=dimItem.coordDimIndex;getOrCreateEncodeArr(encode,coordDim)[coordDimIndex]=dimName,dimItem.isExtraCoord||(notExtraCoordDimMap.set(coordDim,1),// Use the last coord dim (and label friendly) as default label,
// because when dataset is used, it is hard to guess which dimension
// can be value dimension. If both show x, y on label is not look good,
// and conventionally y axis is focused more.
mayLabelDimType(dimItem.type)&&(defaultedLabel[0]=dimName),// User output encode do not contain generated coords.
// And it only has index. User can use index to retrieve value from the raw item array.
getOrCreateEncodeArr(userOutputEncode,coordDim)[coordDimIndex]=data.getDimensionIndex(dimItem.name)),dimItem.defaultTooltip&&defaultedTooltip.push(dimName)}_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .VISUAL_DIMENSIONS */.f7.each((function(v,otherDim){var encodeArr=getOrCreateEncodeArr(encode,otherDim),dimIndex=dimItem.otherDims[otherDim];null!=dimIndex&&!1!==dimIndex&&(encodeArr[dimIndex]=dimItem.name)}))}));var dataDimsOnCoord=[],encodeFirstDimNotExtra={};notExtraCoordDimMap.each((function(v,coordDim){var dimArr=encode[coordDim];encodeFirstDimNotExtra[coordDim]=dimArr[0],// Not necessary to remove duplicate, because a data
// dim canot on more than one coordDim.
dataDimsOnCoord=dataDimsOnCoord.concat(dimArr)})),summary.dataDimsOnCoord=dataDimsOnCoord,summary.dataDimIndicesOnCoord=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)(dataDimsOnCoord,(function(dimName){return data.getDimensionInfo(dimName).storeDimIndex})),summary.encodeFirstDimNotExtra=encodeFirstDimNotExtra;var encodeLabel=encode.label;// FIXME `encode.label` is not recommended, because formatter cannot be set
// in this way. Use label.formatter instead. Maybe remove this approach someday.
encodeLabel&&encodeLabel.length&&(defaultedLabel=encodeLabel.slice());var encodeTooltip=encode.tooltip;return encodeTooltip&&encodeTooltip.length?defaultedTooltip=encodeTooltip.slice():defaultedTooltip.length||(defaultedTooltip=defaultedLabel.slice()),encode.defaultedLabel=defaultedLabel,encode.defaultedTooltip=defaultedTooltip,summary.userOutput=new DimensionUserOuput(userOutputEncode,schema),summary}function getOrCreateEncodeArr(encode,dim){return encode.hasOwnProperty(dim)||(encode[dim]=[]),encode[dim]}// FIXME:TS should be type `AxisType`
function getDimensionTypeByAxis(axisType){return"category"===axisType?"ordinal":"time"===axisType?"time":"float"}function mayLabelDimType(dimType){
// In most cases, ordinal and time do not suitable for label.
// Ordinal info can be displayed on axis. Time is too long.
return!("ordinal"===dimType||"time"===dimType)}// function findTheLastDimMayLabel(data) {
//     // Get last value dim
//     let dimensions = data.dimensions.slice();
//     let valueType;
//     let valueDim;
//     while (dimensions.length && (
//         valueDim = dimensions.pop(),
//         valueType = data.getDimensionInfo(valueDim).type,
//         valueType === 'ordinal' || valueType === 'time'
//     )) {} // jshint ignore:line
//     return valueDim;
// }
/***/},
/***/161772:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Dq:function(){/* binding */return BE_ORDINAL},
/* harmony export */JT:function(){/* binding */return queryDatasetUpstreamDatasetModels},
/* harmony export */Ss:function(){/* binding */return makeSeriesEncodeForNameBased},
/* harmony export */Wd:function(){/* binding */return querySeriesUpstreamDatasetModel},
/* harmony export */md:function(){/* binding */return resetSourceDefaulter},
/* harmony export */pY:function(){/* binding */return makeSeriesEncodeForAxisCoordSys},
/* harmony export */u7:function(){/* binding */return guessOrdinal}
/* harmony export */});
/* harmony import */var _util_model_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232234),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_types_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(894279),BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .makeInner */.Yf)();
/* harmony import */
/**
 * MUST be called before mergeOption of all series.
 */
function resetSourceDefaulter(ecModel){
// `datasetMap` is used to make default encode.
innerGlobalModel(ecModel).datasetMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .createHashMap */.kW)()}
/**
 * [The strategy of the arrengment of data dimensions for dataset]:
 * "value way": all axes are non-category axes. So series one by one take
 *     several (the number is coordSysDims.length) dimensions from dataset.
 *     The result of data arrengment of data dimensions like:
 *     | ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |
 * "category way": at least one axis is category axis. So the the first data
 *     dimension is always mapped to the first category axis and shared by
 *     all of the series. The other data dimensions are taken by series like
 *     "value way" does.
 *     The result of data arrengment of data dimensions like:
 *     | ser_shared_x | ser0_y | ser1_y | ser2_y |
 *
 * @return encode Never be `null/undefined`.
 */function makeSeriesEncodeForAxisCoordSys(coordDimensions,seriesModel,source){var encode={},datasetModel=querySeriesUpstreamDatasetModel(seriesModel);// Currently only make default when using dataset, util more reqirements occur.
if(!datasetModel||!coordDimensions)return encode;var baseCategoryDimIndex,categoryWayValueDimStart,encodeItemName=[],encodeSeriesName=[],ecModel=seriesModel.ecModel,datasetMap=innerGlobalModel(ecModel).datasetMap,key=datasetModel.uid+"_"+source.seriesLayoutBy;coordDimensions=coordDimensions.slice(),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(coordDimensions,(function(coordDimInfoLoose,coordDimIdx){var coordDimInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(coordDimInfoLoose)?coordDimInfoLoose:coordDimensions[coordDimIdx]={name:coordDimInfoLoose};"ordinal"===coordDimInfo.type&&null==baseCategoryDimIndex&&(baseCategoryDimIndex=coordDimIdx,categoryWayValueDimStart=getDataDimCountOnCoordDim(coordDimInfo)),encode[coordDimInfo.name]=[]}));var datasetRecord=datasetMap.get(key)||datasetMap.set(key,{categoryWayDim:categoryWayValueDimStart,valueWayDim:0});// TODO
// Auto detect first time axis and do arrangement.
function pushDim(dimIdxArr,idxFrom,idxCount){for(var i=0;i<idxCount;i++)dimIdxArr.push(idxFrom+i)}function getDataDimCountOnCoordDim(coordDimInfo){var dimsDef=coordDimInfo.dimsDef;return dimsDef?dimsDef.length:1}return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(coordDimensions,(function(coordDimInfo,coordDimIdx){var coordDimName=coordDimInfo.name,count=getDataDimCountOnCoordDim(coordDimInfo);// In value way.
if(null==baseCategoryDimIndex){var start=datasetRecord.valueWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.valueWayDim+=count}// In category way, the first category axis.
else if(baseCategoryDimIndex===coordDimIdx)pushDim(encode[coordDimName],0,count),pushDim(encodeItemName,0,count);else{start=datasetRecord.categoryWayDim;pushDim(encode[coordDimName],start,count),pushDim(encodeSeriesName,start,count),datasetRecord.categoryWayDim+=count}})),encodeItemName.length&&(encode.itemName=encodeItemName),encodeSeriesName.length&&(encode.seriesName=encodeSeriesName),encode}
/**
 * Work for data like [{name: ..., value: ...}, ...].
 *
 * @return encode Never be `null/undefined`.
 */function makeSeriesEncodeForNameBased(seriesModel,source,dimCount){var encode={},datasetModel=querySeriesUpstreamDatasetModel(seriesModel);// Currently only make default when using dataset, util more reqirements occur.
if(!datasetModel)return encode;var potentialNameDimIndex,sourceFormat=source.sourceFormat,dimensionsDefine=source.dimensionsDefine;sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb&&sourceFormat!==_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .each */.S6)(dimensionsDefine,(function(dim,idx){"name"===((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(dim)?dim.name:dim)&&(potentialNameDimIndex=idx)}));var idxResult=function(){// 5 is an experience value.
for(var idxRes0={},idxRes1={},guessRecords=[],i=0,len=Math.min(5,dimCount);i<len;i++){var guessResult=doGuessOrdinal(source.data,sourceFormat,source.seriesLayoutBy,dimensionsDefine,source.startIndex,i);guessRecords.push(guessResult);var isPureNumber=guessResult===BE_ORDINAL.Not;// [Strategy of idxRes0]: find the first BE_ORDINAL.Not as the value dim,
// and then find a name dim with the priority:
// "BE_ORDINAL.Might|BE_ORDINAL.Must" > "other dim" > "the value dim itself".
if(isPureNumber&&null==idxRes0.v&&i!==potentialNameDimIndex&&(idxRes0.v=i),(null==idxRes0.n||idxRes0.n===idxRes0.v||!isPureNumber&&guessRecords[idxRes0.n]===BE_ORDINAL.Not)&&(idxRes0.n=i),fulfilled(idxRes0)&&guessRecords[idxRes0.n]!==BE_ORDINAL.Not)return idxRes0;// [Strategy of idxRes1]: if idxRes0 not satisfied (that is, no BE_ORDINAL.Not),
// find the first BE_ORDINAL.Might as the value dim,
// and then find a name dim with the priority:
// "other dim" > "the value dim itself".
// That is for backward compat: number-like (e.g., `'3'`, `'55'`) can be
// treated as number.
isPureNumber||(guessResult===BE_ORDINAL.Might&&null==idxRes1.v&&i!==potentialNameDimIndex&&(idxRes1.v=i),null!=idxRes1.n&&idxRes1.n!==idxRes1.v||(idxRes1.n=i))}function fulfilled(idxResult){return null!=idxResult.v&&null!=idxResult.n}return fulfilled(idxRes0)?idxRes0:fulfilled(idxRes1)?idxRes1:null}();if(idxResult){encode.value=[idxResult.v];// `potentialNameDimIndex` has highest priority.
var nameDimIndex=null!=potentialNameDimIndex?potentialNameDimIndex:idxResult.n;// By default, label uses itemName in charts.
// So we don't set encodeLabel here.
encode.itemName=[nameDimIndex],encode.seriesName=[nameDimIndex]}return encode}
/**
 * @return If return null/undefined, indicate that should not use datasetModel.
 */function querySeriesUpstreamDatasetModel(seriesModel){
// Caution: consider the scenario:
// A dataset is declared and a series is not expected to use the dataset,
// and at the beginning `setOption({series: { noData })` (just prepare other
// option but no data), then `setOption({series: {data: [...]}); In this case,
// the user should set an empty array to avoid that dataset is used by default.
var thisData=seriesModel.get("data",!0);if(!thisData)return(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .queryReferringComponents */.HZ)(seriesModel.ecModel,"dataset",{index:seriesModel.get("datasetIndex",!0),id:seriesModel.get("datasetId",!0)},_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .SINGLE_REFERRING */.C6).models[0]}
/**
 * @return Always return an array event empty.
 */function queryDatasetUpstreamDatasetModels(datasetModel){
// Only these attributes declared, we by defualt reference to `datasetIndex: 0`.
// Otherwise, no reference.
return datasetModel.get("transform",!0)||datasetModel.get("fromTransformResult",!0)?(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .queryReferringComponents */.HZ)(datasetModel.ecModel,"dataset",{index:datasetModel.get("fromDatasetIndex",!0),id:datasetModel.get("fromDatasetId",!0)},_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .SINGLE_REFERRING */.C6).models:[]}
/**
 * The rule should not be complex, otherwise user might not
 * be able to known where the data is wrong.
 * The code is ugly, but how to make it neat?
 */function guessOrdinal(source,dimIndex){return doGuessOrdinal(source.data,source.sourceFormat,source.seriesLayoutBy,source.dimensionsDefine,source.startIndex,dimIndex)}// dimIndex may be overflow source data.
// return {BE_ORDINAL}
function doGuessOrdinal(data,sourceFormat,seriesLayoutBy,dimensionsDefine,startIndex,dimIndex){var result,dimName,dimType,maxLoop=5;// Experience value.
if((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isTypedArray */.fU)(data))return BE_ORDINAL.Not;// When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine
// always exists in source.
if(dimensionsDefine){var dimDefItem=dimensionsDefine[dimIndex];(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isObject */.Kn)(dimDefItem)?(dimName=dimDefItem.name,dimType=dimDefItem.type):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(dimDefItem)&&(dimName=dimDefItem)}if(null!=dimType)return"ordinal"===dimType?BE_ORDINAL.Must:BE_ORDINAL.Not;if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD){var dataArrayRows=data;if(seriesLayoutBy===_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SERIES_LAYOUT_BY_ROW */.Wc){for(var sample=dataArrayRows[dimIndex],i=0;i<(sample||[]).length&&i<maxLoop;i++)if(null!=(result=detectValue(sample[startIndex+i])))return result}else for(i=0;i<dataArrayRows.length&&i<maxLoop;i++){var row=dataArrayRows[startIndex+i];if(row&&null!=(result=detectValue(row[dimIndex])))return result}}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb){var dataObjectRows=data;if(!dimName)return BE_ORDINAL.Not;for(i=0;i<dataObjectRows.length&&i<maxLoop;i++){var item=dataObjectRows[i];if(item&&null!=(result=detectValue(item[dimName])))return result}}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_KEYED_COLUMNS */.hL){var dataKeyedColumns=data;if(!dimName)return BE_ORDINAL.Not;sample=dataKeyedColumns[dimName];if(!sample||(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isTypedArray */.fU)(sample))return BE_ORDINAL.Not;for(i=0;i<sample.length&&i<maxLoop;i++)if(null!=(result=detectValue(sample[i])))return result}else if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_2__/* .SOURCE_FORMAT_ORIGINAL */.cy){var dataOriginal=data;for(i=0;i<dataOriginal.length&&i<maxLoop;i++){item=dataOriginal[i];var val=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_0__/* .getDataItemValue */.C4)(item);if(!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isArray */.kJ)(val))return BE_ORDINAL.Not;if(null!=(result=detectValue(val[dimIndex])))return result}}function detectValue(val){var beStr=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isString */.HD)(val);// Consider usage convenience, '1', '2' will be treated as "number".
// `isFinit('')` get `true`.
return null!=val&&isFinite(val)&&""!==val?beStr?BE_ORDINAL.Might:BE_ORDINAL.Not:beStr&&"-"!==val?BE_ORDINAL.Must:void 0}return BE_ORDINAL.Not}
/***/},
/***/536437:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */U:function(){/* binding */return SourceManager},
/* harmony export */t:function(){/* binding */return disableTransformOptionMerge}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_Source_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(899574),_util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(894279),_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(161772),_transform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(110437),_DataStore_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(143834),_dataProvider_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(668540),SourceManager=
/** @class */
function(){function SourceManager(sourceHost){
// Cached source. Do not repeat calculating if not dirty.
this._sourceList=[],this._storeList=[],// version sign of each upstream source manager.
this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=sourceHost}
/**
   * Mark dirty.
   */return SourceManager.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},SourceManager.prototype._setLocalSource=function(sourceList,upstreamSignList){this._sourceList=sourceList,this._upstreamSignList=upstreamSignList,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},
/**
   * For detecting whether the upstream source is dirty, so that
   * the local cached source (in `_sourceList`) should be discarded.
   */
SourceManager.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},
/**
   * Always return a source instance. Otherwise throw error.
   */
SourceManager.prototype.prepareSource=function(){
// For the case that call `setOption` multiple time but no data changed,
// cache the result source to prevent from repeating transform.
this._isDirty()&&(this._createSource(),this._dirty=!1)},SourceManager.prototype._createSource=function(){this._setLocalSource([],[]);var resultSourceList,upstreamSignList,sourceHost=this._sourceHost,upSourceMgrList=this._getUpstreamSourceManagers(),hasUpstream=!!upSourceMgrList.length;if(isSeries(sourceHost)){var seriesModel=sourceHost,data=void 0,sourceFormat=void 0,upSource=void 0;// Has upstream dataset
if(hasUpstream){var upSourceMgr=upSourceMgrList[0];upSourceMgr.prepareSource(),upSource=upSourceMgr.getSource(),data=upSource.data,sourceFormat=upSource.sourceFormat,upstreamSignList=[upSourceMgr._getVersionSign()]}// Series data is from own.
else data=seriesModel.get("data",!0),sourceFormat=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .isTypedArray */.fU)(data)?_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_TYPED_ARRAY */.J5:_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ORIGINAL */.cy,upstreamSignList=[];// See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.
var newMetaRawOption=this._getSourceMetaRawOption()||{},upMetaRawOption=upSource&&upSource.metaRawOption||{},seriesLayoutBy=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieve2 */.pD)(newMetaRawOption.seriesLayoutBy,upMetaRawOption.seriesLayoutBy)||null,sourceHeader=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieve2 */.pD)(newMetaRawOption.sourceHeader,upMetaRawOption.sourceHeader),dimensions=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .retrieve2 */.pD)(newMetaRawOption.dimensions,upMetaRawOption.dimensions),needsCreateSource=seriesLayoutBy!==upMetaRawOption.seriesLayoutBy||!!sourceHeader!==!!upMetaRawOption.sourceHeader||dimensions;resultSourceList=needsCreateSource?[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__/* .createSource */._P)(data,{seriesLayoutBy:seriesLayoutBy,sourceHeader:sourceHeader,dimensions:dimensions},sourceFormat)]:[]}else{var datasetModel=sourceHost;// Has upstream dataset.
if(hasUpstream){var result=this._applyTransform(upSourceMgrList);resultSourceList=result.sourceList,upstreamSignList=result.upstreamSignList}// Is root dataset.
else{var sourceData=datasetModel.get("source",!0);resultSourceList=[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__/* .createSource */._P)(sourceData,this._getSourceMetaRawOption(),null)],upstreamSignList=[]}}this._setLocalSource(resultSourceList,upstreamSignList)},SourceManager.prototype._applyTransform=function(upMgrList){var sourceList,datasetModel=this._sourceHost,transformOption=datasetModel.get("transform",!0),fromTransformResult=datasetModel.get("fromTransformResult",!0);if(null!=fromTransformResult){var errMsg="";1!==upMgrList.length&&doThrow(errMsg)}var upSourceList=[],upstreamSignList=[];return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(upMgrList,(function(upMgr){upMgr.prepareSource();var upSource=upMgr.getSource(fromTransformResult||0),errMsg="";null==fromTransformResult||upSource||doThrow(errMsg),upSourceList.push(upSource),upstreamSignList.push(upMgr._getVersionSign())})),transformOption?sourceList=(0,_transform_js__WEBPACK_IMPORTED_MODULE_3__/* .applyDataTransform */.vK)(transformOption,upSourceList,{datasetIndex:datasetModel.componentIndex}):null!=fromTransformResult&&(sourceList=[(0,_Source_js__WEBPACK_IMPORTED_MODULE_2__/* .cloneSourceShallow */.ML)(upSourceList[0])]),{sourceList:sourceList,upstreamSignList:upstreamSignList}},SourceManager.prototype._isDirty=function(){if(this._dirty)return!0;// All sourceList is from the some upstream.
for(var upSourceMgrList=this._getUpstreamSourceManagers(),i=0;i<upSourceMgrList.length;i++){var upSrcMgr=upSourceMgrList[i];if(// Consider the case that there is ancestor diry, call it recursively.
// The performance is probably not an issue because usually the chain is not long.
upSrcMgr._isDirty()||this._upstreamSignList[i]!==upSrcMgr._getVersionSign())return!0}},
/**
   * @param sourceIndex By default 0, means "main source".
   *                    In most cases there is only one source.
   */
SourceManager.prototype.getSource=function(sourceIndex){sourceIndex=sourceIndex||0;var source=this._sourceList[sourceIndex];if(!source){
// Series may share source instance with dataset.
var upSourceMgrList=this._getUpstreamSourceManagers();return upSourceMgrList[0]&&upSourceMgrList[0].getSource(sourceIndex)}return source},
/**
   *
   * Get a data store which can be shared across series.
   * Only available for series.
   *
   * @param seriesDimRequest Dimensions that are generated in series.
   *        Should have been sorted by `storeDimIndex` asc.
   */
SourceManager.prototype.getSharedDataStore=function(seriesDimRequest){var schema=seriesDimRequest.makeStoreSchema();return this._innerGetDataStore(schema.dimensions,seriesDimRequest.source,schema.hash)},SourceManager.prototype._innerGetDataStore=function(storeDims,seriesSource,sourceReadKey){
// TODO Can use other sourceIndex?
var sourceIndex=0,storeList=this._storeList,cachedStoreMap=storeList[sourceIndex];cachedStoreMap||(cachedStoreMap=storeList[sourceIndex]={});var cachedStore=cachedStoreMap[sourceReadKey];if(!cachedStore){var upSourceMgr=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&upSourceMgr?cachedStore=upSourceMgr._innerGetDataStore(storeDims,seriesSource,sourceReadKey):(cachedStore=new _DataStore_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.ZP,// Always create store from source of series.
cachedStore.initData(new _dataProvider_js__WEBPACK_IMPORTED_MODULE_5__/* .DefaultDataProvider */.Pl(seriesSource,storeDims.length),storeDims)),cachedStoreMap[sourceReadKey]=cachedStore}return cachedStore},
/**
   * PENDING: Is it fast enough?
   * If no upstream, return empty array.
   */
SourceManager.prototype._getUpstreamSourceManagers=function(){
// Always get the relationship from the raw option.
// Do not cache the link of the dependency graph, so that
// there is no need to update them when change happens.
var sourceHost=this._sourceHost;if(isSeries(sourceHost)){var datasetModel=(0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .querySeriesUpstreamDatasetModel */.Wd)(sourceHost);return datasetModel?[datasetModel.getSourceManager()]:[]}return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .map */.UI)((0,_sourceHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .queryDatasetUpstreamDatasetModels */.JT)(sourceHost),(function(datasetModel){return datasetModel.getSourceManager()}))},SourceManager.prototype._getSourceMetaRawOption=function(){var seriesLayoutBy,sourceHeader,dimensions,sourceHost=this._sourceHost;if(isSeries(sourceHost))seriesLayoutBy=sourceHost.get("seriesLayoutBy",!0),sourceHeader=sourceHost.get("sourceHeader",!0),dimensions=sourceHost.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var model=sourceHost;seriesLayoutBy=model.get("seriesLayoutBy",!0),sourceHeader=model.get("sourceHeader",!0),dimensions=model.get("dimensions",!0)}return{seriesLayoutBy:seriesLayoutBy,sourceHeader:sourceHeader,dimensions:dimensions}},SourceManager}();
/* harmony import */
// Call this method after `super.init` and `super.mergeOption` to
// disable the transform merge, but do not disable transform clone from rawOption.
function disableTransformOptionMerge(datasetModel){var transformOption=datasetModel.option.transform;transformOption&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .setAsPrimitive */.s7)(datasetModel.option.transform)}function isSeries(sourceHost){
// Avoid circular dependency with Series.ts
return"series"===sourceHost.mainType}function doThrow(errMsg){throw new Error(errMsg)}
/***/},
/***/110437:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */DA:function(){/* binding */return registerExternalTransform},
/* harmony export */vK:function(){/* binding */return applyDataTransform}
/* harmony export */});
/* unused harmony export ExternalSource */
/* harmony import */var _util_types_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(894279),_util_model_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(232234),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(933051),_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(668540),_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(198407),_util_log_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(470175),_Source_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(899574),ExternalSource=
/** @class */
function(){function ExternalSource(){}return ExternalSource.prototype.getRawData=function(){
// Only built-in transform available.
throw new Error("not supported")},ExternalSource.prototype.getRawDataItem=function(dataIndex){
// Only built-in transform available.
throw new Error("not supported")},ExternalSource.prototype.cloneRawData=function(){},
/**
   * @return If dimension not found, return null/undefined.
   */
ExternalSource.prototype.getDimensionInfo=function(dim){},
/**
   * dimensions defined if and only if either:
   * (a) dataset.dimensions are declared.
   * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).
   * If dimensions are defined, `dimensionInfoAll` is corresponding to
   * the defined dimensions.
   * Otherwise, `dimensionInfoAll` is determined by data columns.
   * @return Always return an array (even empty array).
   */
ExternalSource.prototype.cloneAllDimensionInfo=function(){},ExternalSource.prototype.count=function(){},
/**
   * Only support by dimension index.
   * No need to support by dimension name in transform function,
   * because transform function is not case-specific, no need to use name literally.
   */
ExternalSource.prototype.retrieveValue=function(dataIndex,dimIndex){},ExternalSource.prototype.retrieveValueFromItem=function(dataItem,dimIndex){},ExternalSource.prototype.convertValue=function(rawVal,dimInfo){return(0,_dataValueHelper_js__WEBPACK_IMPORTED_MODULE_0__/* .parseDataValue */.yQ)(rawVal,dimInfo)},ExternalSource}();
/* harmony import */function createExternalSource(internalSource,externalTransform){var extSource=new ExternalSource,data=internalSource.data,sourceFormat=extSource.sourceFormat=internalSource.sourceFormat,sourceHeaderCount=internalSource.startIndex,errMsg="";internalSource.seriesLayoutBy!==_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);// [MEMO]
// Create a new dimensions structure for exposing.
// Do not expose all dimension info to users directly.
// Because the dimension is probably auto detected from data and not might reliable.
// Should not lead the transformers to think that is reliable and return it.
// See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.
var dimensions=[],dimsByName={},dimsDef=internalSource.dimensionsDefine;if(dimsDef)(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .each */.S6)(dimsDef,(function(dimDef,idx){var name=dimDef.name,dimDefExt={index:idx,name:name,displayName:dimDef.displayName};// Users probably do not specify dimension name. For simplicity, data transform
// does not generate dimension name.
if(dimensions.push(dimDefExt),null!=name){
// Dimension name should not be duplicated.
// For simplicity, data transform forbids name duplication, do not generate
// new name like module `completeDimensions.ts` did, but just tell users.
var errMsg_1="";(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .hasOwn */.RI)(dimsByName,name)&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg_1),dimsByName[name]=dimDefExt}}));else for(var i=0;i<internalSource.dimensionsDetectedCount;i++)
// Do not generete name or anything others. The consequence process in
// `transform` or `series` probably have there own name generation strategry.
dimensions.push({index:i});// Implement public methods:
var rawItemGetter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__/* .getRawSourceItemGetter */._j)(sourceFormat,_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY);externalTransform.__isBuiltIn&&(extSource.getRawDataItem=function(dataIndex){return rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex)},extSource.getRawData=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .bind */.ak)(getRawData,null,internalSource)),extSource.cloneRawData=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .bind */.ak)(cloneRawData,null,internalSource);var rawCounter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__/* .getRawSourceDataCounter */.a)(sourceFormat,_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY);extSource.count=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .bind */.ak)(rawCounter,null,data,sourceHeaderCount,dimensions);var rawValueGetter=(0,_dataProvider_js__WEBPACK_IMPORTED_MODULE_4__/* .getRawSourceValueGetter */.tB)(sourceFormat);extSource.retrieveValue=function(dataIndex,dimIndex){var rawItem=rawItemGetter(data,sourceHeaderCount,dimensions,dataIndex);return retrieveValueFromItem(rawItem,dimIndex)};var retrieveValueFromItem=extSource.retrieveValueFromItem=function(dataItem,dimIndex){if(null!=dataItem){var dimDef=dimensions[dimIndex];// When `dimIndex` is `null`, `rawValueGetter` return the whole item.
return dimDef?rawValueGetter(dataItem,dimIndex,dimDef.name):void 0}};return extSource.getDimensionInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .bind */.ak)(getDimensionInfo,null,dimensions,dimsByName),extSource.cloneAllDimensionInfo=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .bind */.ak)(cloneAllDimensionInfo,null,dimensions),extSource}function getRawData(upstream){var sourceFormat=upstream.sourceFormat;if(!isSupportedSourceFormat(sourceFormat)){var errMsg="";0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg)}return upstream.data}function cloneRawData(upstream){var sourceFormat=upstream.sourceFormat,data=upstream.data;if(!isSupportedSourceFormat(sourceFormat)){var errMsg="";0,(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg)}if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD){for(var result=[],i=0,len=data.length;i<len;i++)
// Not strictly clone for performance
result.push(data[i].slice());return result}if(sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb){for(result=[],i=0,len=data.length;i<len;i++)
// Not strictly clone for performance
result.push((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .extend */.l7)({},data[i]));return result}}function getDimensionInfo(dimensions,dimsByName,dim){if(null!=dim)// Keep the same logic as `List::getDimension` did.
return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .isNumber */.hj)(dim)||!isNaN(dim)&&!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .hasOwn */.RI)(dimsByName,dim)?dimensions[dim]:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .hasOwn */.RI)(dimsByName,dim)?dimsByName[dim]:void 0}function cloneAllDimensionInfo(dimensions){return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */.d9)(dimensions)}var externalTransformMap=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .createHashMap */.kW)();function registerExternalTransform(externalTransform){externalTransform=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */.d9)(externalTransform);var type=externalTransform.type,errMsg="";type||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);var typeParsed=type.split(":");2!==typeParsed.length&&(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);// Namespace 'echarts:xxx' is official namespace, where the transforms should
// be called directly via 'xxx' rather than 'echarts:xxx'.
var isBuiltIn=!1;"echarts"===typeParsed[0]&&(type=typeParsed[1],isBuiltIn=!0),externalTransform.__isBuiltIn=isBuiltIn,externalTransformMap.set(type,externalTransform)}function applyDataTransform(rawTransOption,sourceList,infoForPrint){var pipedTransOption=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__/* .normalizeToArray */.kF)(rawTransOption),pipeLen=pipedTransOption.length,errMsg="";pipeLen||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);for(var i=0,len=pipeLen;i<len;i++){var transOption=pipedTransOption[i];sourceList=applySingleDataTransform(transOption,sourceList,infoForPrint,1===pipeLen?null:i),// piped transform only support single input, except the fist one.
// piped transform only support single output, except the last one.
i!==len-1&&(sourceList.length=Math.max(sourceList.length,1))}return sourceList}function applySingleDataTransform(transOption,upSourceList,infoForPrint,// If `pipeIndex` is null/undefined, no piped transform.
pipeIndex){var errMsg="";upSourceList.length||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .isObject */.Kn)(transOption)||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);var transType=transOption.type,externalTransform=externalTransformMap.get(transType);externalTransform||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);// Prepare source
var extUpSourceList=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .map */.UI)(upSourceList,(function(upSource){return createExternalSource(upSource,externalTransform)})),resultList=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_5__/* .normalizeToArray */.kF)(externalTransform.transform({upstream:extUpSourceList[0],upstreamList:extUpSourceList,config:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */.d9)(transOption.config)}));return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .map */.UI)(resultList,(function(result,resultIndex){var errMsg="";(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_3__/* .isObject */.Kn)(result)||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg),result.data||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);var resultMetaRawOption,sourceFormat=(0,_Source_js__WEBPACK_IMPORTED_MODULE_6__/* .detectSourceFormat */.Kp)(result.data);isSupportedSourceFormat(sourceFormat)||(0,_util_log_js__WEBPACK_IMPORTED_MODULE_2__/* .throwError */._y)(errMsg);var firstUpSource=upSourceList[0];
/**
     * Intuitively, the end users known the content of the original `dataset.source`,
     * calucating the transform result in mind.
     * Suppose the original `dataset.source` is:
     * ```js
     * [
     *     ['product', '2012', '2013', '2014', '2015'],
     *     ['AAA', 41.1, 30.4, 65.1, 53.3],
     *     ['BBB', 86.5, 92.1, 85.7, 83.1],
     *     ['CCC', 24.1, 67.2, 79.5, 86.4]
     * ]
     * ```
     * The dimension info have to be detected from the source data.
     * Some of the transformers (like filter, sort) will follow the dimension info
     * of upstream, while others use new dimensions (like aggregate).
     * Transformer can output a field `dimensions` to define the its own output dimensions.
     * We also allow transformers to ignore the output `dimensions` field, and
     * inherit the upstream dimensions definition. It can reduce the burden of handling
     * dimensions in transformers.
     *
     * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.
     */if(firstUpSource&&0===resultIndex&&!result.dimensions){var startIndex=firstUpSource.startIndex;// We copy the header of upstream to the result, because:
// (1) The returned data always does not contain header line and can not be used
// as dimension-detection. In this case we can not use "detected dimensions" of
// upstream directly, because it might be detected based on different `seriesLayoutBy`.
// (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.
// So the original detected header should be add to the result, otherwise they can not be read.
startIndex&&(result.data=firstUpSource.data.slice(0,startIndex).concat(result.data)),resultMetaRawOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY,sourceHeader:startIndex,dimensions:firstUpSource.metaRawOption.dimensions}}else resultMetaRawOption={seriesLayoutBy:_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SERIES_LAYOUT_BY_COLUMN */.fY,sourceHeader:0,dimensions:result.dimensions};return(0,_Source_js__WEBPACK_IMPORTED_MODULE_6__/* .createSource */._P)(result.data,resultMetaRawOption,null)}))}function isSupportedSourceFormat(sourceFormat){return sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_ARRAY_ROWS */.XD||sourceFormat===_util_types_js__WEBPACK_IMPORTED_MODULE_1__/* .SOURCE_FORMAT_OBJECT_ROWS */.qb}
/***/},
/***/768023:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */D:function(){/* binding */return use}
/* harmony export */});
/* harmony import */var _core_echarts_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(169255),_view_Component_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(833166),_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(975797),_model_Component_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(498071),_model_Series_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(993321),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(933051),_core_impl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(749428),zrender_lib_zrender_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(956641),extensions=[],extensionRegisters={registerPreprocessor:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerPreprocessor */.ds,registerProcessor:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerProcessor */.Pu,registerPostInit:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerPostInit */.sq,registerPostUpdate:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerPostUpdate */.Br,registerUpdateLifecycle:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerUpdateLifecycle */.YK,registerAction:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerAction */.zl,registerCoordinateSystem:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerCoordinateSystem */.RS,registerLayout:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerLayout */.qR,registerVisual:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerVisual */.Og,registerTransform:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerTransform */.OB,registerLoading:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerLoading */.yn,registerMap:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .registerMap */.je,registerImpl:_core_impl_js__WEBPACK_IMPORTED_MODULE_1__/* .registerImpl */.M,PRIORITY:_core_echarts_js__WEBPACK_IMPORTED_MODULE_0__/* .PRIORITY */.Hr,ComponentModel:_model_Component_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z,ComponentView:_view_Component_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z,SeriesModel:_model_Series_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z,ChartView:_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.Z,
// TODO Use ComponentModel and SeriesModel instead of Constructor
registerComponentModel:function(ComponentModelClass){_model_Component_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z.registerClass(ComponentModelClass)},registerComponentView:function(ComponentViewClass){_view_Component_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.registerClass(ComponentViewClass)},registerSeriesModel:function(SeriesModelClass){_model_Series_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */.Z.registerClass(SeriesModelClass)},registerChartView:function(ChartViewClass){_view_Chart_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.Z.registerClass(ChartViewClass)},registerSubTypeDefaulter:function(componentType,defaulter){_model_Component_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z.registerSubTypeDefaulter(componentType,defaulter)},registerPainter:function(painterType,PainterCtor){(0,zrender_lib_zrender_js__WEBPACK_IMPORTED_MODULE_6__/* .registerPainter */.wm)(painterType,PainterCtor)}};
/* harmony import */function use(ext){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__/* .isArray */.kJ)(ext)?
// use([ChartLine, ChartBar]);
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__/* .each */.S6)(ext,(function(singleExt){use(singleExt)})):(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__/* .indexOf */.cq)(extensions,ext)>=0||(extensions.push(ext),(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_7__/* .isFunction */.mf)(ext)&&(ext={install:ext}),ext.install(extensionRegisters))}
/***/},
/***/106378:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{T:function(){/* binding */return installLabelLayout}});
// EXTERNAL MODULE: ./node_modules/echarts/lib/util/model.js
var model=__webpack_require__(232234),BoundingRect=__webpack_require__(260479),basicTransition=__webpack_require__(944292),innerStore=__webpack_require__(30106),number=__webpack_require__(785669),Transformable=__webpack_require__(487411),labelGuideHelper=__webpack_require__(87377),util=__webpack_require__(933051),labelLayoutHelper=__webpack_require__(654162),labelStyle=__webpack_require__(336006),contain_util=__webpack_require__(203266);
// EXTERNAL MODULE: ./node_modules/zrender/lib/core/BoundingRect.js
// CONCATENATED MODULE: ./node_modules/echarts/lib/label/LabelManager.js
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
// TODO: move labels out of viewport.
function cloneArr(points){if(points){for(var newPoints=[],i=0;i<points.length;i++)newPoints.push(points[i].slice());return newPoints}}function prepareLayoutCallbackParams(labelItem,hostEl){var label=labelItem.label,labelLine=hostEl&&hostEl.getTextGuideLine();return{dataIndex:labelItem.dataIndex,dataType:labelItem.dataType,seriesIndex:labelItem.seriesModel.seriesIndex,text:labelItem.label.style.text,rect:labelItem.hostRect,labelRect:labelItem.rect,
// x: labelAttr.x,
// y: labelAttr.y,
align:label.style.align,verticalAlign:label.style.verticalAlign,labelLinePoints:cloneArr(labelLine&&labelLine.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable/* default */.ZP,labelLayoutInnerStore=(0,model/* makeInner */.Yf)(),labelLineAnimationStore=(0,model/* makeInner */.Yf)();function extendWithKeys(target,source,keys){for(var i=0;i<keys.length;i++){var key=keys[i];null!=source[key]&&(target[key]=source[key])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=
/** @class */
function(){function LabelManager(){this._labelList=[],this._chartViewList=[]}return LabelManager.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},
/**
   * Add label to manager
   */
LabelManager.prototype._addLabel=function(dataIndex,dataType,seriesModel,label,layoutOption){var labelStyle=label.style,hostEl=label.__hostTarget,textConfig=hostEl.textConfig||{},labelTransform=label.getComputedTransform(),labelRect=label.getBoundingRect().plain();BoundingRect/* default */.Z.applyTransform(labelRect,labelRect,labelTransform),labelTransform?dummyTransformable.setLocalTransform(labelTransform):(
// Identity transform.
dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=(0,contain_util/* normalizeRadian */.m)(dummyTransformable.rotation);var hostRect,host=label.__hostTarget;if(host){hostRect=host.getBoundingRect().plain();var transform=host.getComputedTransform();BoundingRect/* default */.Z.applyTransform(hostRect,hostRect,transform)}var labelGuide=hostRect&&host.getTextGuideLine();this._labelList.push({label:label,labelLine:labelGuide,seriesModel:seriesModel,dataIndex:dataIndex,dataType:dataType,layoutOption:layoutOption,computedLayoutOption:null,rect:labelRect,hostRect:hostRect,
// Label with lower priority will be hidden when overlapped
// Use rect size as default priority
priority:hostRect?hostRect.width*hostRect.height:0,
// Save default label attributes.
// For restore if developers want get back to default value in callback.
defaultAttr:{ignore:label.ignore,labelGuideIgnore:labelGuide&&labelGuide.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:labelStyle.x,y:labelStyle.y,align:labelStyle.align,verticalAlign:labelStyle.verticalAlign,width:labelStyle.width,height:labelStyle.height,fontSize:labelStyle.fontSize},cursor:label.cursor,attachedPos:textConfig.position,attachedRot:textConfig.rotation}})},LabelManager.prototype.addLabelsOfSeries=function(chartView){var _this=this;this._chartViewList.push(chartView);var seriesModel=chartView.__model,layoutOption=seriesModel.get("labelLayout");
/**
     * Ignore layouting if it's not specified anything.
     */
((0,util/* isFunction */.mf)(layoutOption)||(0,util/* keys */.XP)(layoutOption).length)&&chartView.group.traverse((function(child){if(child.ignore)return!0;// Stop traverse descendants.
// Only support label being hosted on graphic elements.
var textEl=child.getTextContent(),ecData=(0,innerStore/* getECData */.A)(child);// Can only attach the text on the element with dataIndex
textEl&&!textEl.disableLabelLayout&&_this._addLabel(ecData.dataIndex,ecData.dataType,seriesModel,textEl,layoutOption)}))},LabelManager.prototype.updateLayoutConfig=function(api){var width=api.getWidth(),height=api.getHeight();function createDragHandler(el,labelLineModel){return function(){(0,labelGuideHelper/* updateLabelLinePoints */.d)(el,labelLineModel)}}for(var i=0;i<this._labelList.length;i++){var labelItem=this._labelList[i],label=labelItem.label,hostEl=label.__hostTarget,defaultLabelAttr=labelItem.defaultAttr,layoutOption=void 0;// TODO A global layout option?
layoutOption=(0,util/* isFunction */.mf)(labelItem.layoutOption)?labelItem.layoutOption(prepareLayoutCallbackParams(labelItem,hostEl)):labelItem.layoutOption,layoutOption=layoutOption||{},labelItem.computedLayoutOption=layoutOption;var degreeToRadian=Math.PI/180;// TODO hostEl should always exists.
// Or label should not have parent because the x, y is all in global space.
hostEl&&hostEl.setTextConfig({
// Force to set local false.
local:!1,
// Ignore position and rotation config on the host el if x or y is changed.
position:null!=layoutOption.x||null!=layoutOption.y?null:defaultLabelAttr.attachedPos,
// Ignore rotation config on the host el if rotation is changed.
rotation:null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.attachedRot,offset:[layoutOption.dx||0,layoutOption.dy||0]});var needsUpdateLabelLine=!1;if(null!=layoutOption.x?(
// TODO width of chart view.
label.x=(0,number/* parsePercent */.GM)(layoutOption.x,width),label.setStyle("x",0),// Ignore movement in style. TODO: origin.
needsUpdateLabelLine=!0):(label.x=defaultLabelAttr.x,label.setStyle("x",defaultLabelAttr.style.x)),null!=layoutOption.y?(
// TODO height of chart view.
label.y=(0,number/* parsePercent */.GM)(layoutOption.y,height),label.setStyle("y",0),// Ignore movement in style.
needsUpdateLabelLine=!0):(label.y=defaultLabelAttr.y,label.setStyle("y",defaultLabelAttr.style.y)),layoutOption.labelLinePoints){var guideLine=hostEl.getTextGuideLine();guideLine&&(guideLine.setShape({points:layoutOption.labelLinePoints}),// Not update
needsUpdateLabelLine=!1)}var labelLayoutStore=labelLayoutInnerStore(label);labelLayoutStore.needsUpdateLabelLine=needsUpdateLabelLine,label.rotation=null!=layoutOption.rotate?layoutOption.rotate*degreeToRadian:defaultLabelAttr.rotation,label.scaleX=defaultLabelAttr.scaleX,label.scaleY=defaultLabelAttr.scaleY;for(var k=0;k<LABEL_OPTION_TO_STYLE_KEYS.length;k++){var key=LABEL_OPTION_TO_STYLE_KEYS[k];label.setStyle(key,null!=layoutOption[key]?layoutOption[key]:defaultLabelAttr.style[key])}if(layoutOption.draggable){if(label.draggable=!0,label.cursor="move",hostEl){var hostModel=labelItem.seriesModel;if(null!=labelItem.dataIndex){var data=labelItem.seriesModel.getData(labelItem.dataType);hostModel=data.getItemModel(labelItem.dataIndex)}label.on("drag",createDragHandler(hostEl,hostModel.getModel("labelLine")))}}else
// TODO Other drag functions?
label.off("drag"),label.cursor=defaultLabelAttr.cursor}},LabelManager.prototype.layout=function(api){var width=api.getWidth(),height=api.getHeight(),labelList=(0,labelLayoutHelper/* prepareLayoutList */.VT)(this._labelList),labelsNeedsAdjustOnX=(0,util/* filter */.hX)(labelList,(function(item){return"shiftX"===item.layoutOption.moveOverlap})),labelsNeedsAdjustOnY=(0,util/* filter */.hX)(labelList,(function(item){return"shiftY"===item.layoutOption.moveOverlap}));(0,labelLayoutHelper/* shiftLayoutOnX */.WE)(labelsNeedsAdjustOnX,0,width),(0,labelLayoutHelper/* shiftLayoutOnY */.GI)(labelsNeedsAdjustOnY,0,height);var labelsNeedsHideOverlap=(0,util/* filter */.hX)(labelList,(function(item){return item.layoutOption.hideOverlap}));(0,labelLayoutHelper/* hideOverlap */.yl)(labelsNeedsHideOverlap)},
/**
   * Process all labels. Not only labels with layoutOption.
   */
LabelManager.prototype.processLabelsOverall=function(){var _this=this;(0,util/* each */.S6)(this._chartViewList,(function(chartView){var seriesModel=chartView.__model,ignoreLabelLineUpdate=chartView.ignoreLabelLineUpdate,animationEnabled=seriesModel.isAnimationEnabled();chartView.group.traverse((function(child){if(child.ignore&&!child.forceLabelAnimation)return!0;// Stop traverse descendants.
var needsUpdateLabelLine=!ignoreLabelLineUpdate,label=child.getTextContent();!needsUpdateLabelLine&&label&&(needsUpdateLabelLine=labelLayoutInnerStore(label).needsUpdateLabelLine),needsUpdateLabelLine&&_this._updateLabelLine(child,seriesModel),animationEnabled&&_this._animateLabels(child,seriesModel)}))}))},LabelManager.prototype._updateLabelLine=function(el,seriesModel){
// Only support label being hosted on graphic elements.
var textEl=el.getTextContent(),ecData=(0,innerStore/* getECData */.A)(el),dataIndex=ecData.dataIndex;// Update label line style.
// Only support labelLine on the labels represent data.
if(textEl&&null!=dataIndex){var data=seriesModel.getData(ecData.dataType),itemModel=data.getItemModel(dataIndex),defaultStyle={},visualStyle=data.getItemVisual(dataIndex,"style");if(visualStyle){var visualType=data.getVisual("drawType");// Default to be same with main color
defaultStyle.stroke=visualStyle[visualType]}var labelLineModel=itemModel.getModel("labelLine");(0,labelGuideHelper/* setLabelLineStyle */.Iu)(el,(0,labelGuideHelper/* getLabelLineStatesModels */.$x)(itemModel),defaultStyle),(0,labelGuideHelper/* updateLabelLinePoints */.d)(el,labelLineModel)}},LabelManager.prototype._animateLabels=function(el,seriesModel){var textEl=el.getTextContent(),guideLine=el.getTextGuideLine();// Animate
if(textEl&&(el.forceLabelAnimation||!textEl.ignore&&!textEl.invisible&&!el.disableLabelAnimation&&!(0,basicTransition/* isElementRemoved */.eq)(el))){var layoutStore=labelLayoutInnerStore(textEl),oldLayout=layoutStore.oldLayout,ecData=(0,innerStore/* getECData */.A)(el),dataIndex=ecData.dataIndex,newProps={x:textEl.x,y:textEl.y,rotation:textEl.rotation},data=seriesModel.getData(ecData.dataType);if(oldLayout){textEl.attr(oldLayout);// Make sure the animation from is in the right status.
var prevStates=el.prevStates;prevStates&&((0,util/* indexOf */.cq)(prevStates,"select")>=0&&textEl.attr(layoutStore.oldLayoutSelect),(0,util/* indexOf */.cq)(prevStates,"emphasis")>=0&&textEl.attr(layoutStore.oldLayoutEmphasis)),(0,basicTransition/* updateProps */.D)(textEl,newProps,seriesModel,dataIndex)}else// Disable fade in animation if value animation is enabled.
if(textEl.attr(newProps),!(0,labelStyle/* labelInner */.qA)(textEl).valueAnimation){var oldOpacity=(0,util/* retrieve2 */.pD)(textEl.style.opacity,1);// Fade in animation
textEl.style.opacity=0,(0,basicTransition/* initProps */.KZ)(textEl,{style:{opacity:oldOpacity}},seriesModel,dataIndex)}if(layoutStore.oldLayout=newProps,textEl.states.select){var layoutSelect=layoutStore.oldLayoutSelect={};extendWithKeys(layoutSelect,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutSelect,textEl.states.select,LABEL_LAYOUT_PROPS)}if(textEl.states.emphasis){var layoutEmphasis=layoutStore.oldLayoutEmphasis={};extendWithKeys(layoutEmphasis,newProps,LABEL_LAYOUT_PROPS),extendWithKeys(layoutEmphasis,textEl.states.emphasis,LABEL_LAYOUT_PROPS)}(0,labelStyle/* animateLabelValue */.tD)(textEl,dataIndex,data,seriesModel,seriesModel)}if(guideLine&&!guideLine.ignore&&!guideLine.invisible){layoutStore=labelLineAnimationStore(guideLine),oldLayout=layoutStore.oldLayout;var newLayout={points:guideLine.shape.points};oldLayout?(guideLine.attr({shape:oldLayout}),(0,basicTransition/* updateProps */.D)(guideLine,{shape:newLayout},seriesModel)):(guideLine.setShape(newLayout),guideLine.style.strokePercent=0,(0,basicTransition/* initProps */.KZ)(guideLine,{style:{strokePercent:1}},seriesModel)),layoutStore.oldLayout=newLayout}},LabelManager}(),label_LabelManager=LabelManager,getLabelManager=(0,model/* makeInner */.Yf)();function installLabelLayout(registers){registers.registerUpdateLifecycle("series:beforeupdate",(function(ecModel,api,params){
// TODO api provide an namespace that can save stuff per instance
var labelManager=getLabelManager(api).labelManager;labelManager||(labelManager=getLabelManager(api).labelManager=new label_LabelManager),labelManager.clearLabels()})),registers.registerUpdateLifecycle("series:layoutlabels",(function(ecModel,api,params){var labelManager=getLabelManager(api).labelManager;params.updatedSeries.forEach((function(series){labelManager.addLabelsOfSeries(api.getViewOfSeriesModel(series))})),labelManager.updateLayoutConfig(api),labelManager.layout(api),labelManager.processLabelsOverall()}))}
/***/},
/***/87377:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */$x:function(){/* binding */return getLabelLineStatesModels},
/* harmony export */Iu:function(){/* binding */return setLabelLineStyle},
/* harmony export */_A:function(){/* binding */return limitSurfaceAngle},
/* harmony export */d:function(){/* binding */return updateLabelLinePoints},
/* harmony export */qK:function(){/* binding */return limitTurnAngle}
/* harmony export */});
/* harmony import */var _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(241610),_util_graphic_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(696997),_util_graphic_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(862514),zrender_lib_core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(714014),zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(203266),zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(318554),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(933051),zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(932892),zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45280),_util_states_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(726357),PI2=2*Math.PI,CMD=zrender_lib_core_PathProxy_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];
/* harmony import */function getCandidateAnchor(pos,distance,rect,outPt,outDir){var width=rect.width,height=rect.height;switch(pos){case"top":outPt.set(rect.x+width/2,rect.y-distance),outDir.set(0,-1);break;case"bottom":outPt.set(rect.x+width/2,rect.y+height+distance),outDir.set(0,1);break;case"left":outPt.set(rect.x-distance,rect.y+height/2),outDir.set(-1,0);break;case"right":outPt.set(rect.x+width+distance,rect.y+height/2),outDir.set(1,0);break}}function projectPointToArc(cx,cy,r,startAngle,endAngle,anticlockwise,x,y,out){x-=cx,y-=cy;var d=Math.sqrt(x*x+y*y);x/=d,y/=d;// Intersect point.
var ox=x*r+cx,oy=y*r+cy;if(Math.abs(startAngle-endAngle)%PI2<1e-4)
// Is a circle
return out[0]=ox,out[1]=oy,d-r;if(anticlockwise){var tmp=startAngle;startAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeRadian */.m)(endAngle),endAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeRadian */.m)(tmp)}else startAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeRadian */.m)(startAngle),endAngle=(0,zrender_lib_contain_util_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeRadian */.m)(endAngle);startAngle>endAngle&&(endAngle+=PI2);var angle=Math.atan2(y,x);if(angle<0&&(angle+=PI2),angle>=startAngle&&angle<=endAngle||angle+PI2>=startAngle&&angle+PI2<=endAngle)
// Project point is on the arc.
return out[0]=ox,out[1]=oy,d-r;var x1=r*Math.cos(startAngle)+cx,y1=r*Math.sin(startAngle)+cy,x2=r*Math.cos(endAngle)+cx,y2=r*Math.sin(endAngle)+cy,d1=(x1-x)*(x1-x)+(y1-y)*(y1-y),d2=(x2-x)*(x2-x)+(y2-y)*(y2-y);return d1<d2?(out[0]=x1,out[1]=y1,Math.sqrt(d1)):(out[0]=x2,out[1]=y2,Math.sqrt(d2))}function projectPointToLine(x1,y1,x2,y2,x,y,out,limitToEnds){var dx=x-x1,dy=y-y1,dx1=x2-x1,dy1=y2-y1,lineLen=Math.sqrt(dx1*dx1+dy1*dy1);dx1/=lineLen,dy1/=lineLen;// dot product
var projectedLen=dx*dx1+dy*dy1,t=projectedLen/lineLen;limitToEnds&&(t=Math.min(Math.max(t,0),1)),t*=lineLen;var ox=out[0]=x1+t*dx1,oy=out[1]=y1+t*dy1;return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}function projectPointToRect(x1,y1,width,height,x,y,out){width<0&&(x1+=width,width=-width),height<0&&(y1+=height,height=-height);var x2=x1+width,y2=y1+height,ox=out[0]=Math.min(Math.max(x,x1),x2),oy=out[1]=Math.min(Math.max(y,y1),y2);return Math.sqrt((ox-x)*(ox-x)+(oy-y)*(oy-y))}var tmpPt=[];function nearestPointOnRect(pt,rect,out){var dist=projectPointToRect(rect.x,rect.y,rect.width,rect.height,pt.x,pt.y,tmpPt);return out.set(tmpPt[0],tmpPt[1]),dist}
/**
 * Calculate min distance corresponding point.
 * This method won't evaluate if point is in the path.
 */function nearestPointOnPath(pt,path,out){for(var x1,y1,xi=0,yi=0,x0=0,y0=0,minDist=1/0,data=path.data,x=pt.x,y=pt.y,i=0;i<data.length;){var cmd=data[i++];1===i&&(xi=data[i],yi=data[i+1],x0=xi,y0=yi);var d=minDist;switch(cmd){case CMD.M:
// moveTo 命令重新创建一个新的 subpath, 并且更新新的起点
// 在 closePath 的时候使用
x0=data[i++],y0=data[i++],xi=x0,yi=y0;break;case CMD.L:d=projectPointToLine(xi,yi,data[i],data[i+1],x,y,tmpPt,!0),xi=data[i++],yi=data[i++];break;case CMD.C:d=(0,zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__/* .cubicProjectPoint */.t1)(xi,yi,data[i++],data[i++],data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case CMD.Q:d=(0,zrender_lib_core_curve_js__WEBPACK_IMPORTED_MODULE_2__/* .quadraticProjectPoint */.Wr)(xi,yi,data[i++],data[i++],data[i],data[i+1],x,y,tmpPt),xi=data[i++],yi=data[i++];break;case CMD.A:
// TODO Arc 判断的开销比较大
var cx=data[i++],cy=data[i++],rx=data[i++],ry=data[i++],theta=data[i++],dTheta=data[i++];// TODO Arc 旋转
i+=1;var anticlockwise=!!(1-data[i++]);x1=Math.cos(theta)*rx+cx,y1=Math.sin(theta)*ry+cy,// 不是直接使用 arc 命令
i<=1&&(
// 第一个命令起点还未定义
x0=x1,y0=y1);// zr 使用scale来模拟椭圆, 这里也对x做一定的缩放
var _x=(x-cx)*ry/rx+cx;d=projectPointToArc(cx,cy,ry,theta,theta+dTheta,anticlockwise,_x,y,tmpPt),xi=Math.cos(theta+dTheta)*rx+cx,yi=Math.sin(theta+dTheta)*ry+cy;break;case CMD.R:x0=xi=data[i++],y0=yi=data[i++];var width=data[i++],height=data[i++];d=projectPointToRect(x0,y0,width,height,x,y,tmpPt);break;case CMD.Z:d=projectPointToLine(xi,yi,x0,y0,x,y,tmpPt,!0),xi=x0,yi=y0;break}d<minDist&&(minDist=d,out.set(tmpPt[0],tmpPt[1]))}return minDist}// Temporal variable for intermediate usage.
var pt0=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z,pt1=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z,pt2=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z,dir=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z,dir2=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z;
/**
 * Calculate a proper guide line based on the label position and graphic element definition
 * @param label
 * @param labelRect
 * @param target
 * @param targetRect
 */
function updateLabelLinePoints(target,labelLineModel){if(target){var labelLine=target.getTextGuideLine(),label=target.getTextContent();// Needs to create text guide in each charts.
if(label&&labelLine){var labelGuideConfig=target.textGuideLineConfig||{},points=[[0,0],[0,0],[0,0]],searchSpace=labelGuideConfig.candidates||DEFAULT_SEARCH_SPACE,labelRect=label.getBoundingRect().clone();labelRect.applyTransform(label.getComputedTransform());var minDist=1/0,anchorPoint=labelGuideConfig.anchor,targetTransform=target.getComputedTransform(),targetInversedTransform=targetTransform&&(0,zrender_lib_core_matrix_js__WEBPACK_IMPORTED_MODULE_4__/* .invert */.U_)([],targetTransform),len=labelLineModel.get("length2")||0;anchorPoint&&pt2.copy(anchorPoint);for(var i=0;i<searchSpace.length;i++){var candidate=searchSpace[i];getCandidateAnchor(candidate,0,labelRect,pt0,dir),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.scaleAndAdd(pt1,pt0,dir,len),// Transform to target coord space.
pt1.transform(targetInversedTransform);// Note: getBoundingRect will ensure the `path` being created.
var boundingRect=target.getBoundingRect(),dist=anchorPoint?anchorPoint.distance(pt1):target instanceof _util_graphic_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.ZP?nearestPointOnPath(pt1,target.path,pt2):nearestPointOnRect(pt1,boundingRect,pt2);// TODO pt2 is in the path
dist<minDist&&(minDist=dist,// Transform back to global space.
pt1.transform(targetTransform),pt2.transform(targetTransform),pt2.toArray(points[0]),pt1.toArray(points[1]),pt0.toArray(points[2]))}limitTurnAngle(points,labelLineModel.get("minTurnAngle")),labelLine.setShape({points:points})}}}// Temporal variable for the limitTurnAngle function
var tmpArr=[],tmpProjPoint=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z;
/**
 * Reduce the line segment attached to the label to limit the turn angle between two segments.
 * @param linePoints
 * @param minTurnAngle Radian of minimum turn angle. 0 - 180
 */
function limitTurnAngle(linePoints,minTurnAngle){if(minTurnAngle<=180&&minTurnAngle>0){minTurnAngle=minTurnAngle/180*Math.PI,// The line points can be
//      /pt1----pt2 (label)
//     /
// pt0/
pt0.fromArray(linePoints[0]),pt1.fromArray(linePoints[1]),pt2.fromArray(linePoints[2]),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.sub(dir,pt0,pt1),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.sub(dir2,pt2,pt1);var len1=dir.len(),len2=dir2.len();if(!(len1<.001||len2<.001)){dir.scale(1/len1),dir2.scale(1/len2);var angleCos=dir.dot(dir2),minTurnAngleCos=Math.cos(minTurnAngle);if(minTurnAngleCos<angleCos){
// Smaller than minTurnAngle
// Calculate project point of pt0 on pt1-pt2
var d=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),// Calculate new projected length with limited minTurnAngle and get the new connect point
tmpProjPoint.scaleAndAdd(dir2,d/Math.tan(Math.PI-minTurnAngle));// Limit the new calculated connect point between pt1 and pt2.
var t=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(t))return;t<0?_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.copy(tmpProjPoint,pt1):t>1&&_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(linePoints[1])}}}}
/**
 * Limit the angle of line and the surface
 * @param maxSurfaceAngle Radian of minimum turn angle. 0 - 180. 0 is same direction to normal. 180 is opposite
 */function limitSurfaceAngle(linePoints,surfaceNormal,maxSurfaceAngle){if(maxSurfaceAngle<=180&&maxSurfaceAngle>0){maxSurfaceAngle=maxSurfaceAngle/180*Math.PI,pt0.fromArray(linePoints[0]),pt1.fromArray(linePoints[1]),pt2.fromArray(linePoints[2]),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.sub(dir,pt1,pt0),_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.sub(dir2,pt2,pt1);var len1=dir.len(),len2=dir2.len();if(!(len1<.001||len2<.001)){dir.scale(1/len1),dir2.scale(1/len2);var angleCos=dir.dot(surfaceNormal),maxSurfaceAngleCos=Math.cos(maxSurfaceAngle);if(angleCos<maxSurfaceAngleCos){
// Calculate project point of pt0 on pt1-pt2
var d=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var HALF_PI=Math.PI/2,angle2=Math.acos(dir2.dot(surfaceNormal)),newAngle=HALF_PI+angle2-maxSurfaceAngle;if(newAngle>=HALF_PI)
// parallel
_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.copy(tmpProjPoint,pt2);else{
// Calculate new projected length with limited minTurnAngle and get the new connect point
tmpProjPoint.scaleAndAdd(dir2,d/Math.tan(Math.PI/2-newAngle));// Limit the new calculated connect point between pt1 and pt2.
var t=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(t))return;t<0?_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.copy(tmpProjPoint,pt1):t>1&&_util_graphic_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */.Z.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(linePoints[1])}}}}function setLabelLineState(labelLine,ignore,stateName,stateModel){var isNormal="normal"===stateName,stateObj=isNormal?labelLine:labelLine.ensureState(stateName);// Make sure display.
stateObj.ignore=ignore;// Set smooth
var smooth=stateModel.get("smooth");smooth&&!0===smooth&&(smooth=.3),stateObj.shape=stateObj.shape||{},smooth>0&&(stateObj.shape.smooth=smooth);var styleObj=stateModel.getModel("lineStyle").getLineStyle();isNormal?labelLine.useStyle(styleObj):stateObj.style=styleObj}function buildLabelLinePath(path,shape){var smooth=shape.smooth,points=shape.points;if(points)if(path.moveTo(points[0][0],points[0][1]),smooth>0&&points.length>=3){var len1=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .dist */.TK(points[0],points[1]),len2=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .dist */.TK(points[1],points[2]);if(!len1||!len2)return path.lineTo(points[1][0],points[1][1]),void path.lineTo(points[2][0],points[2][1]);var moveLen=Math.min(len1,len2)*smooth,midPoint0=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .lerp */.t7([],points[1],points[0],moveLen/len1),midPoint2=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .lerp */.t7([],points[1],points[2],moveLen/len2),midPoint1=zrender_lib_core_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .lerp */.t7([],midPoint0,midPoint2,.5);path.bezierCurveTo(midPoint0[0],midPoint0[1],midPoint0[0],midPoint0[1],midPoint1[0],midPoint1[1]),path.bezierCurveTo(midPoint2[0],midPoint2[1],midPoint2[0],midPoint2[1],points[2][0],points[2][1])}else for(var i=1;i<points.length;i++)path.lineTo(points[i][0],points[i][1])}
/**
 * Create a label line if necessary and set it's style.
 */function setLabelLineStyle(targetEl,statesModels,defaultStyle){var labelLine=targetEl.getTextGuideLine(),label=targetEl.getTextContent();if(label){for(var normalModel=statesModels.normal,showNormal=normalModel.get("show"),labelIgnoreNormal=label.ignore,i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_7__/* .DISPLAY_STATES */.qc.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_7__/* .DISPLAY_STATES */.qc[i],stateModel=statesModels[stateName],isNormal="normal"===stateName;if(stateModel){var stateShow=stateModel.get("show"),isLabelIgnored=isNormal?labelIgnoreNormal:(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__/* .retrieve2 */.pD)(label.states[stateName]&&label.states[stateName].ignore,labelIgnoreNormal);if(isLabelIgnored||!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__/* .retrieve2 */.pD)(stateShow,showNormal)){var stateObj=isNormal?labelLine:labelLine&&labelLine.states[stateName];stateObj&&(stateObj.ignore=!0);continue}// Create labelLine if not exists
labelLine||(labelLine=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.Z,targetEl.setTextGuideLine(labelLine),// Reset state of normal because it's new created.
// NOTE: NORMAL should always been the first!
isNormal||!labelIgnoreNormal&&showNormal||setLabelLineState(labelLine,!0,"normal",statesModels.normal),// Use same state proxy.
targetEl.stateProxy&&(labelLine.stateProxy=targetEl.stateProxy)),setLabelLineState(labelLine,!1,stateName,stateModel)}}if(labelLine){(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_8__/* .defaults */.ce)(labelLine.style,defaultStyle),// Not fill.
labelLine.style.fill=null;var showAbove=normalModel.get("showAbove"),labelLineConfig=targetEl.textGuideLineConfig=targetEl.textGuideLineConfig||{};labelLineConfig.showAbove=showAbove||!1,// Custom the buildPath.
labelLine.buildPath=buildLabelLinePath}}else
// Not show label line if there is no label.
labelLine&&targetEl.removeTextGuideLine()}function getLabelLineStatesModels(itemModel,labelLineName){labelLineName=labelLineName||"labelLine";for(var statesModels={normal:itemModel.getModel(labelLineName)},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_7__/* .SPECIAL_STATES */.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_7__/* .SPECIAL_STATES */.L1[i];statesModels[stateName]=itemModel.getModel([stateName,labelLineName])}return statesModels}
/***/},
/***/654162:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */GI:function(){/* binding */return shiftLayoutOnY},
/* harmony export */VT:function(){/* binding */return prepareLayoutList},
/* harmony export */WE:function(){/* binding */return shiftLayoutOnX},
/* harmony export */yl:function(){/* binding */return hideOverlap}
/* harmony export */});
/* harmony import */var _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(841587),_util_graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(260479);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function prepareLayoutList(input){for(var list=[],i=0;i<input.length;i++){var rawItem=input[i];if(!rawItem.defaultAttr.ignore){var label=rawItem.label,transform=label.getComputedTransform(),localRect=label.getBoundingRect(),isAxisAligned=!transform||transform[1]<1e-5&&transform[2]<1e-5,minMargin=label.style.margin||0,globalRect=localRect.clone();globalRect.applyTransform(transform),globalRect.x-=minMargin/2,globalRect.y-=minMargin/2,globalRect.width+=minMargin,globalRect.height+=minMargin;var obb=isAxisAligned?new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z(localRect,transform):null;list.push({label:label,labelLine:rawItem.labelLine,rect:globalRect,localRect:localRect,obb:obb,priority:rawItem.priority,defaultAttr:rawItem.defaultAttr,layoutOption:rawItem.computedLayoutOption,axisAligned:isAxisAligned,transform:transform})}}return list}function shiftLayout(list,xyDim,sizeDim,minBound,maxBound,balanceShift){var len=list.length;if(!(len<2)){list.sort((function(a,b){return a.rect[xyDim]-b.rect[xyDim]}));for(var delta,lastPos=0,adjusted=!1,shifts=[],totalShifts=0,i=0;i<len;i++){var item=list[i],rect=item.rect;delta=rect[xyDim]-lastPos,delta<0&&(
// shiftForward(i, len, -delta);
rect[xyDim]-=delta,item.label[xyDim]-=delta,adjusted=!0);var shift=Math.max(-delta,0);shifts.push(shift),totalShifts+=shift,lastPos=rect[xyDim]+rect[sizeDim]}totalShifts>0&&balanceShift&&
// Shift back to make the distribution more equally.
shiftList(-totalShifts/len,0,len);// TODO bleedMargin?
var minGap,maxGap,first=list[0],last=list[len-1];return updateMinMaxGap(),// If ends exceed two bounds, squeeze at most 80%, then take the gap of two bounds.
minGap<0&&squeezeGaps(-minGap,.8),maxGap<0&&squeezeGaps(maxGap,.8),updateMinMaxGap(),takeBoundsGap(minGap,maxGap,1),takeBoundsGap(maxGap,minGap,-1),// Handle bailout when there is not enough space.
updateMinMaxGap(),minGap<0&&squeezeWhenBailout(-minGap),maxGap<0&&squeezeWhenBailout(maxGap),adjusted}function updateMinMaxGap(){minGap=first.rect[xyDim]-minBound,maxGap=maxBound-last.rect[xyDim]-last.rect[sizeDim]}function takeBoundsGap(gapThisBound,gapOtherBound,moveDir){if(gapThisBound<0){
// Move from other gap if can.
var moveFromMaxGap=Math.min(gapOtherBound,-gapThisBound);if(moveFromMaxGap>0){shiftList(moveFromMaxGap*moveDir,0,len);var remained=moveFromMaxGap+gapThisBound;remained<0&&squeezeGaps(-remained*moveDir,1)}else squeezeGaps(-gapThisBound*moveDir,1)}}function shiftList(delta,start,end){0!==delta&&(adjusted=!0);for(var i=start;i<end;i++){var item=list[i],rect=item.rect;rect[xyDim]+=delta,item.label[xyDim]+=delta}}// Squeeze gaps if the labels exceed margin.
function squeezeGaps(delta,maxSqeezePercent){for(var gaps=[],totalGaps=0,i=1;i<len;i++){var prevItemRect=list[i-1].rect,gap=Math.max(list[i].rect[xyDim]-prevItemRect[xyDim]-prevItemRect[sizeDim],0);gaps.push(gap),totalGaps+=gap}if(totalGaps){var squeezePercent=Math.min(Math.abs(delta)/totalGaps,maxSqeezePercent);if(delta>0)for(i=0;i<len-1;i++){
// Distribute the shift delta to all gaps.
var movement=gaps[i]*squeezePercent;// Forward
shiftList(movement,0,i+1)}else
// Backward
for(i=len-1;i>0;i--){
// Distribute the shift delta to all gaps.
movement=gaps[i-1]*squeezePercent;shiftList(-movement,i,len)}}}
/**
   * Squeeze to allow overlap if there is no more space available.
   * Let other overlapping strategy like hideOverlap do the job instead of keep exceeding the bounds.
   */function squeezeWhenBailout(delta){var dir=delta<0?-1:1;delta=Math.abs(delta);for(var moveForEachLabel=Math.ceil(delta/(len-1)),i=0;i<len-1;i++)if(dir>0?
// Forward
shiftList(moveForEachLabel,0,i+1):
// Backward
shiftList(-moveForEachLabel,len-i-1,len),delta-=moveForEachLabel,delta<=0)return}}
/**
 * Adjust labels on x direction to avoid overlap.
 */function shiftLayoutOnX(list,leftBound,rightBound,// If average the shifts on all labels and add them to 0
// TODO: Not sure if should enable it.
// Pros: The angle of lines will distribute more equally
// Cons: In some layout. It may not what user wanted. like in pie. the label of last sector is usually changed unexpectedly.
balanceShift){return shiftLayout(list,"x","width",leftBound,rightBound,balanceShift)}
/**
 * Adjust labels on y direction to avoid overlap.
 */function shiftLayoutOnY(list,topBound,bottomBound,// If average the shifts on all labels and add them to 0
balanceShift){return shiftLayout(list,"y","height",topBound,bottomBound,balanceShift)}function hideOverlap(labelList){var displayedLabels=[];// TODO, render overflow visible first, put in the displayedLabels.
labelList.sort((function(a,b){return b.priority-a.priority}));var globalRect=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */.Z(0,0,0,0);function hideEl(el){if(!el.ignore){
// Show on emphasis.
var emphasisState=el.ensureState("emphasis");null==emphasisState.ignore&&(emphasisState.ignore=!1)}el.ignore=!0}for(var i=0;i<labelList.length;i++){var labelItem=labelList[i],isAxisAligned=labelItem.axisAligned,localRect=labelItem.localRect,transform=labelItem.transform,label=labelItem.label,labelLine=labelItem.labelLine;globalRect.copy(labelItem.rect),// Add a threshold because layout may be aligned precisely.
globalRect.width-=.1,globalRect.height-=.1,globalRect.x+=.05,globalRect.y+=.05;for(var obb=labelItem.obb,overlapped=!1,j=0;j<displayedLabels.length;j++){var existsTextCfg=displayedLabels[j];// Fast rejection.
if(globalRect.intersect(existsTextCfg.rect)){if(isAxisAligned&&existsTextCfg.axisAligned){
// Is overlapped
overlapped=!0;break}if(existsTextCfg.obb||(
// If self is not axis aligned. But other is.
existsTextCfg.obb=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z(existsTextCfg.localRect,existsTextCfg.transform)),obb||(
// If self is axis aligned. But other is not.
obb=new _util_graphic_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z(localRect,transform)),obb.intersect(existsTextCfg.obb)){overlapped=!0;break}}}// TODO Callback to determine if this overlap should be handled?
overlapped?(hideEl(label),labelLine&&hideEl(labelLine)):(label.attr("ignore",labelItem.defaultAttr.ignore),labelLine&&labelLine.attr("ignore",labelItem.defaultAttr.labelGuideIgnore),displayedLabels.push(labelItem))}}
/***/},
/***/336006:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Lr:function(){/* binding */return createTextStyle},
/* harmony export */k3:function(){/* binding */return getLabelStatesModels},
/* harmony export */nC:function(){/* binding */return createTextConfig},
/* harmony export */ni:function(){/* binding */return setLabelStyle},
/* harmony export */pe:function(){/* binding */return setLabelValueAnimation},
/* harmony export */qA:function(){/* binding */return labelInner},
/* harmony export */qT:function(){/* binding */return getFont},
/* harmony export */tD:function(){/* binding */return animateLabelValue}
/* harmony export */});
/* unused harmony export setLabelText */
/* harmony import */var zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(679750),zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_util_states_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(726357),_util_model_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(232234),_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(944292),EMPTY_OBJ={};
/* harmony import */function setLabelText(label,labelTexts){for(var i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1[i],text=labelTexts[stateName],state=label.ensureState(stateName);state.style=state.style||{},state.style.text=text}var oldStates=label.currentStates.slice();label.clearStates(!0),label.setStyle({text:labelTexts.normal}),label.useStates(oldStates,!0)}function getLabelText(opt,stateModels,interpolatedValue){var baseText,labelFetcher=opt.labelFetcher,labelDataIndex=opt.labelDataIndex,labelDimIndex=opt.labelDimIndex,normalModel=stateModels.normal;labelFetcher&&(baseText=labelFetcher.getFormattedLabel(labelDataIndex,"normal",null,labelDimIndex,normalModel&&normalModel.get("formatter"),null!=interpolatedValue?{interpolatedValue:interpolatedValue}:null)),null==baseText&&(baseText=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .isFunction */.mf)(opt.defaultText)?opt.defaultText(labelDataIndex,opt,interpolatedValue):opt.defaultText);for(var statesText={normal:baseText},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1[i],stateModel=stateModels[stateName];statesText[stateName]=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(labelFetcher?labelFetcher.getFormattedLabel(labelDataIndex,stateName,null,labelDimIndex,stateModel&&stateModel.get("formatter")):null,baseText)}return statesText}function setLabelStyle(targetEl,labelStatesModels,opt,stateSpecified){opt=opt||EMPTY_OBJ;for(var isSetOnText=targetEl instanceof zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.ZP,needsCreateText=!1,i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .DISPLAY_STATES */.qc.length;i++){var stateModel=labelStatesModels[_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .DISPLAY_STATES */.qc[i]];if(stateModel&&stateModel.getShallow("show")){needsCreateText=!0;break}}var textContent=isSetOnText?targetEl:targetEl.getTextContent();if(needsCreateText){isSetOnText||(
// Reuse the previous
textContent||(textContent=new zrender_lib_graphic_Text_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.ZP,targetEl.setTextContent(textContent)),// Use same state proxy
targetEl.stateProxy&&(textContent.stateProxy=targetEl.stateProxy));var labelStatesTexts=getLabelText(opt,labelStatesModels),normalModel=labelStatesModels.normal,showNormal=!!normalModel.getShallow("show"),normalStyle=createTextStyle(normalModel,stateSpecified&&stateSpecified.normal,opt,!1,!isSetOnText);normalStyle.text=labelStatesTexts.normal,isSetOnText||
// Always create new
targetEl.setTextConfig(createTextConfig(normalModel,opt,!1));for(i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1[i];stateModel=labelStatesModels[stateName];if(stateModel){var stateObj=textContent.ensureState(stateName),stateShow=!!(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(stateModel.getShallow("show"),showNormal);if(stateShow!==showNormal&&(stateObj.ignore=!stateShow),stateObj.style=createTextStyle(stateModel,stateSpecified&&stateSpecified[stateName],opt,!0,!isSetOnText),stateObj.style.text=labelStatesTexts[stateName],!isSetOnText){var targetElEmphasisState=targetEl.ensureState(stateName);targetElEmphasisState.textConfig=createTextConfig(stateModel,opt,!0)}}}// PENDING: if there is many requirements that emphasis position
// need to be different from normal position, we might consider
// auto silent is those cases.
textContent.silent=!!normalModel.getShallow("silent"),// Keep x and y
null!=textContent.style.x&&(normalStyle.x=textContent.style.x),null!=textContent.style.y&&(normalStyle.y=textContent.style.y),textContent.ignore=!showNormal,// Always create new style.
textContent.useStyle(normalStyle),textContent.dirty(),opt.enableTextSetter&&(labelInner(textContent).setLabelText=function(interpolatedValue){var labelStatesTexts=getLabelText(opt,labelStatesModels,interpolatedValue);setLabelText(textContent,labelStatesTexts)})}else textContent&&(
// Not display rich text.
textContent.ignore=!0);targetEl.dirty()}function getLabelStatesModels(itemModel,labelName){labelName=labelName||"label";for(var statesModels={normal:itemModel.getModel(labelName)},i=0;i<_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1.length;i++){var stateName=_util_states_js__WEBPACK_IMPORTED_MODULE_0__/* .SPECIAL_STATES */.L1[i];statesModels[stateName]=itemModel.getModel([stateName,labelName])}return statesModels}
/**
 * Set basic textStyle properties.
 */function createTextStyle(textStyleModel,specifiedTextStyle,// Fixed style in the code. Can't be set by model.
opt,isNotNormal,isAttached){var textStyle={};// textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);
return setTextStyleCommon(textStyle,textStyleModel,opt,isNotNormal,isAttached),specifiedTextStyle&&(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .extend */.l7)(textStyle,specifiedTextStyle),textStyle}function createTextConfig(textStyleModel,opt,isNotNormal){opt=opt||{};var labelPosition,textConfig={},labelRotate=textStyleModel.getShallow("rotate"),labelDistance=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow("distance"),isNotNormal?null:5),labelOffset=textStyleModel.getShallow("offset");return labelPosition=textStyleModel.getShallow("position")||(isNotNormal?null:"inside"),// 'outside' is not a valid zr textPostion value, but used
// in bar series, and magric type should be considered.
"outside"===labelPosition&&(labelPosition=opt.defaultOutsidePosition||"top"),null!=labelPosition&&(textConfig.position=labelPosition),null!=labelOffset&&(textConfig.offset=labelOffset),null!=labelRotate&&(labelRotate*=Math.PI/180,textConfig.rotation=labelRotate),null!=labelDistance&&(textConfig.distance=labelDistance),// fill and auto is determined by the color of path fill if it's not specified by developers.
textConfig.outsideFill="inherit"===textStyleModel.get("color")?opt.inheritColor||null:"auto",textConfig}
/**
 * The uniform entry of set text style, that is, retrieve style definitions
 * from `model` and set to `textStyle` object.
 *
 * Never in merge mode, but in overwrite mode, that is, all of the text style
 * properties will be set. (Consider the states of normal and emphasis and
 * default value can be adopted, merge would make the logic too complicated
 * to manage.)
 */function setTextStyleCommon(textStyle,textStyleModel,opt,isNotNormal,isAttached){
// Consider there will be abnormal when merge hover style to normal style if given default value.
opt=opt||EMPTY_OBJ;var richResult,ecModel=textStyleModel.ecModel,globalTextStyle=ecModel&&ecModel.option.textStyle,richItemNames=getRichItemNames(textStyleModel);if(richItemNames)for(var name_1 in richResult={},richItemNames)if(richItemNames.hasOwnProperty(name_1)){
// Cascade is supported in rich.
var richTextStyle=textStyleModel.getModel(["rich",name_1]);// In rich, never `disableBox`.
// FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,
// the default color `'blue'` will not be adopted if no color declared in `rich`.
// That might confuses users. So probably we should put `textStyleModel` as the
// root ancestor of the `richTextStyle`. But that would be a break change.
setTokenTextStyle(richResult[name_1]={},richTextStyle,globalTextStyle,opt,isNotNormal,isAttached,!1,!0)}richResult&&(textStyle.rich=richResult);var overflow=textStyleModel.get("overflow");overflow&&(textStyle.overflow=overflow);var margin=textStyleModel.get("minMargin");null!=margin&&(textStyle.margin=margin),setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,!0,!1)}// Consider case:
// {
//     data: [{
//         value: 12,
//         label: {
//             rich: {
//                 // no 'a' here but using parent 'a'.
//             }
//         }
//     }],
//     rich: {
//         a: { ... }
//     }
// }
// TODO TextStyleModel
function getRichItemNames(textStyleModel){
// Use object to remove duplicated names.
var richItemNameMap;while(textStyleModel&&textStyleModel!==textStyleModel.ecModel){var rich=(textStyleModel.option||EMPTY_OBJ).rich;if(rich){richItemNameMap=richItemNameMap||{};for(var richKeys=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .keys */.XP)(rich),i=0;i<richKeys.length;i++){var richKey=richKeys[i];richItemNameMap[richKey]=1}}textStyleModel=textStyleModel.parentModel}return richItemNameMap}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(textStyle,textStyleModel,globalTextStyle,opt,isNotNormal,isAttached,isBlock,inRich){
// In merge mode, default value should not be given.
globalTextStyle=!isNotNormal&&globalTextStyle||EMPTY_OBJ;var inheritColor=opt&&opt.inheritColor,fillColor=textStyleModel.getShallow("color"),strokeColor=textStyleModel.getShallow("textBorderColor"),opacity=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow("opacity"),globalTextStyle.opacity);"inherit"!==fillColor&&"auto"!==fillColor||(fillColor=inheritColor||null),"inherit"!==strokeColor&&"auto"!==strokeColor||(strokeColor=inheritColor||null),isAttached||(
// Only use default global textStyle.color if text is individual.
// Otherwise it will use the strategy of attached text color because text may be on a path.
fillColor=fillColor||globalTextStyle.color,strokeColor=strokeColor||globalTextStyle.textBorderColor),null!=fillColor&&(textStyle.fill=fillColor),null!=strokeColor&&(textStyle.stroke=strokeColor);var textBorderWidth=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow("textBorderWidth"),globalTextStyle.textBorderWidth);null!=textBorderWidth&&(textStyle.lineWidth=textBorderWidth);var textBorderType=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow("textBorderType"),globalTextStyle.textBorderType);null!=textBorderType&&(textStyle.lineDash=textBorderType);var textBorderDashOffset=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow("textBorderDashOffset"),globalTextStyle.textBorderDashOffset);null!=textBorderDashOffset&&(textStyle.lineDashOffset=textBorderDashOffset),isNotNormal||null!=opacity||inRich||(opacity=opt&&opt.defaultOpacity),null!=opacity&&(textStyle.opacity=opacity),// TODO
isNotNormal||isAttached||
// Set default finally.
null==textStyle.fill&&opt.inheritColor&&(textStyle.fill=opt.inheritColor);// Do not use `getFont` here, because merge should be supported, where
// part of these properties may be changed in emphasis style, and the
// others should remain their original value got from normal style.
for(var i=0;i<TEXT_PROPS_WITH_GLOBAL.length;i++){var key=TEXT_PROPS_WITH_GLOBAL[i],val=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(textStyleModel.getShallow(key),globalTextStyle[key]);null!=val&&(textStyle[key]=val)}for(i=0;i<TEXT_PROPS_SELF.length;i++){key=TEXT_PROPS_SELF[i],val=textStyleModel.getShallow(key);null!=val&&(textStyle[key]=val)}if(null==textStyle.verticalAlign){var baseline=textStyleModel.getShallow("baseline");null!=baseline&&(textStyle.verticalAlign=baseline)}if(!isBlock||!opt.disableBox){for(i=0;i<TEXT_PROPS_BOX.length;i++){key=TEXT_PROPS_BOX[i],val=textStyleModel.getShallow(key);null!=val&&(textStyle[key]=val)}var borderType=textStyleModel.getShallow("borderType");null!=borderType&&(textStyle.borderDash=borderType),"auto"!==textStyle.backgroundColor&&"inherit"!==textStyle.backgroundColor||!inheritColor||(textStyle.backgroundColor=inheritColor),"auto"!==textStyle.borderColor&&"inherit"!==textStyle.borderColor||!inheritColor||(textStyle.borderColor=inheritColor)}}function getFont(opt,ecModel){var gTextStyleModel=ecModel&&ecModel.getModel("textStyle");return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .trim */.fy)([// FIXME in node-canvas fontWeight is before fontStyle
opt.fontStyle||gTextStyleModel&&gTextStyleModel.getShallow("fontStyle")||"",opt.fontWeight||gTextStyleModel&&gTextStyleModel.getShallow("fontWeight")||"",(opt.fontSize||gTextStyleModel&&gTextStyleModel.getShallow("fontSize")||12)+"px",opt.fontFamily||gTextStyleModel&&gTextStyleModel.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .makeInner */.Yf)();function setLabelValueAnimation(label,labelStatesModels,value,getDefaultText){if(label){var obj=labelInner(label);obj.prevValue=obj.value,obj.value=value;var normalLabelModel=labelStatesModels.normal;obj.valueAnimation=normalLabelModel.get("valueAnimation"),obj.valueAnimation&&(obj.precision=normalLabelModel.get("precision"),obj.defaultInterpolatedText=getDefaultText,obj.statesModels=labelStatesModels)}}function animateLabelValue(textEl,dataIndex,data,animatableModel,labelFetcher){var labelInnerStore=labelInner(textEl);if(labelInnerStore.valueAnimation&&labelInnerStore.prevValue!==labelInnerStore.value){var defaultInterpolatedText=labelInnerStore.defaultInterpolatedText,currValue=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .retrieve2 */.pD)(labelInnerStore.interpolatedValue,labelInnerStore.prevValue),targetValue=labelInnerStore.value;// Consider the case that being animating, do not use the `obj.value`,
// Otherwise it will jump to the `obj.value` when this new animation started.
textEl.percent=0,(null==labelInnerStore.prevValue?_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* .initProps */.KZ:_util_graphic_js__WEBPACK_IMPORTED_MODULE_4__/* .updateProps */.D)(textEl,{
// percent is used to prevent animation from being aborted #15916
percent:1},animatableModel,dataIndex,null,during)}function during(percent){var interpolated=(0,_util_model_js__WEBPACK_IMPORTED_MODULE_3__/* .interpolateRawValues */.pk)(data,labelInnerStore.precision,currValue,targetValue,percent);labelInnerStore.interpolatedValue=1===percent?null:interpolated;var labelText=getLabelText({labelDataIndex:dataIndex,labelFetcher:labelFetcher,defaultText:defaultInterpolatedText?defaultInterpolatedText(interpolated):interpolated+""},labelInnerStore.statesModels,interpolated);setLabelText(textEl,labelText)}}
/***/},
/***/79093:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Bk:function(){/* binding */return createProgressiveLayout},
/* harmony export */G_:function(){/* binding */return retrieveColumnLayout},
/* harmony export */Ge:function(){/* binding */return prepareLayoutBarSeries},
/* harmony export */Gk:function(){/* binding */return getLayoutOnAxis},
/* harmony export */My:function(){/* binding */return makeColumnLayout},
/* harmony export */bK:function(){/* binding */return layout}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(933051),_util_number_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(785669),_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(599936),_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95682),_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(980887),STACK_PREFIX="__ec_stack_";
/* harmony import */function getSeriesStackId(seriesModel){return seriesModel.get("stack")||STACK_PREFIX+seriesModel.seriesIndex}function getAxisKey(axis){return axis.dim+axis.index}
/**
 * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.
 */function getLayoutOnAxis(opt){var params=[],baseAxis=opt.axis,axisKey="axis0";if("category"===baseAxis.type){for(var bandWidth=baseAxis.getBandWidth(),i=0;i<opt.count;i++)params.push((0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .defaults */.ce)({bandWidth:bandWidth,axisKey:axisKey,stackId:STACK_PREFIX+i},opt));var widthAndOffsets=doCalBarWidthAndOffset(params),result=[];for(i=0;i<opt.count;i++){var item=widthAndOffsets[axisKey][STACK_PREFIX+i];item.offsetCenter=item.offset+item.width/2,result.push(item)}return result}}function prepareLayoutBarSeries(seriesType,ecModel){var seriesModels=[];return ecModel.eachSeriesByType(seriesType,(function(seriesModel){
// Check series coordinate, do layout for cartesian2d only
isOnCartesian(seriesModel)&&seriesModels.push(seriesModel)})),seriesModels}
/**
 * Map from (baseAxis.dim + '_' + baseAxis.index) to min gap of two adjacent
 * values.
 * This works for time axes, value axes, and log axes.
 * For a single time axis, return value is in the form like
 * {'x_0': [1000000]}.
 * The value of 1000000 is in milliseconds.
 */function getValueAxesMinGaps(barSeries){
/**
   * Map from axis.index to values.
   * For a single time axis, axisValues is in the form like
   * {'x_0': [1495555200000, 1495641600000, 1495728000000]}.
   * Items in axisValues[x], e.g. 1495555200000, are time values of all
   * series.
   */
var axisValues={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(barSeries,(function(seriesModel){var cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis();if("time"===baseAxis.type||"value"===baseAxis.type)for(var data=seriesModel.getData(),key=baseAxis.dim+"_"+baseAxis.index,dimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),store=data.getStore(),i=0,cnt=store.count();i<cnt;++i){var value=store.get(dimIdx,i);axisValues[key]?
// No value in previous series
axisValues[key].push(value):
// No previous data for the axis
axisValues[key]=[value];// Ignore duplicated time values in the same axis
}}));var axisMinGaps={};for(var key in axisValues)if(axisValues.hasOwnProperty(key)){var valuesInAxis=axisValues[key];if(valuesInAxis){
// Sort axis values into ascending order to calculate gaps
valuesInAxis.sort((function(a,b){return a-b}));for(var min=null,j=1;j<valuesInAxis.length;++j){var delta=valuesInAxis[j]-valuesInAxis[j-1];delta>0&&(
// Ignore 0 delta because they are of the same axis value
min=null===min?delta:Math.min(min,delta))}// Set to null if only have one data
axisMinGaps[key]=min}}return axisMinGaps}function makeColumnLayout(barSeries){var axisMinGaps=getValueAxesMinGaps(barSeries),seriesInfoList=[];return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(barSeries,(function(seriesModel){var bandWidth,cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),axisExtent=baseAxis.getExtent();if("category"===baseAxis.type)bandWidth=baseAxis.getBandWidth();else if("value"===baseAxis.type||"time"===baseAxis.type){var key=baseAxis.dim+"_"+baseAxis.index,minGap=axisMinGaps[key],extentSpan=Math.abs(axisExtent[1]-axisExtent[0]),scale=baseAxis.scale.getExtent(),scaleSpan=Math.abs(scale[1]-scale[0]);bandWidth=minGap?extentSpan/scaleSpan*minGap:extentSpan}else{var data=seriesModel.getData();bandWidth=Math.abs(axisExtent[1]-axisExtent[0])/data.count()}var barWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(seriesModel.get("barWidth"),bandWidth),barMaxWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(seriesModel.get("barMaxWidth"),bandWidth),barMinWidth=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(// barMinWidth by default is 0.5 / 1 in cartesian. Because in value axis,
// the auto-calculated bar width might be less than 0.5 / 1.
seriesModel.get("barMinWidth")||(isInLargeMode(seriesModel)?.5:1),bandWidth),barGap=seriesModel.get("barGap"),barCategoryGap=seriesModel.get("barCategoryGap");seriesInfoList.push({bandWidth:bandWidth,barWidth:barWidth,barMaxWidth:barMaxWidth,barMinWidth:barMinWidth,barGap:barGap,barCategoryGap:barCategoryGap,axisKey:getAxisKey(baseAxis),stackId:getSeriesStackId(seriesModel)})})),doCalBarWidthAndOffset(seriesInfoList)}function doCalBarWidthAndOffset(seriesInfoList){
// Columns info on each category axis. Key is cartesian name
var columnsMap={};(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(seriesInfoList,(function(seriesInfo,idx){var axisKey=seriesInfo.axisKey,bandWidth=seriesInfo.bandWidth,columnsOnAxis=columnsMap[axisKey]||{bandWidth:bandWidth,remainedWidth:bandWidth,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},stacks=columnsOnAxis.stacks;columnsMap[axisKey]=columnsOnAxis;var stackId=seriesInfo.stackId;stacks[stackId]||columnsOnAxis.autoWidthCount++,stacks[stackId]=stacks[stackId]||{width:0,maxWidth:0};// Caution: In a single coordinate system, these barGrid attributes
// will be shared by series. Consider that they have default values,
// only the attributes set on the last series will work.
// Do not change this fact unless there will be a break change.
var barWidth=seriesInfo.barWidth;barWidth&&!stacks[stackId].width&&(
// See #6312, do not restrict width.
stacks[stackId].width=barWidth,barWidth=Math.min(columnsOnAxis.remainedWidth,barWidth),columnsOnAxis.remainedWidth-=barWidth);var barMaxWidth=seriesInfo.barMaxWidth;barMaxWidth&&(stacks[stackId].maxWidth=barMaxWidth);var barMinWidth=seriesInfo.barMinWidth;barMinWidth&&(stacks[stackId].minWidth=barMinWidth);var barGap=seriesInfo.barGap;null!=barGap&&(columnsOnAxis.gap=barGap);var barCategoryGap=seriesInfo.barCategoryGap;null!=barCategoryGap&&(columnsOnAxis.categoryGap=barCategoryGap)}));var result={};return(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(columnsMap,(function(columnsOnAxis,coordSysName){result[coordSysName]={};var stacks=columnsOnAxis.stacks,bandWidth=columnsOnAxis.bandWidth,categoryGapPercent=columnsOnAxis.categoryGap;if(null==categoryGapPercent){var columnCount=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .keys */.XP)(stacks).length;// More columns in one group
// the spaces between group is smaller. Or the column will be too thin.
categoryGapPercent=Math.max(35-4*columnCount,15)+"%"}var categoryGap=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(categoryGapPercent,bandWidth),barGapPercent=(0,_util_number_js__WEBPACK_IMPORTED_MODULE_1__/* .parsePercent */.GM)(columnsOnAxis.gap,1),remainedWidth=columnsOnAxis.remainedWidth,autoWidthCount=columnsOnAxis.autoWidthCount,autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent);autoWidth=Math.max(autoWidth,0),// Find if any auto calculated bar exceeded maxBarWidth
(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(stacks,(function(column){var maxWidth=column.maxWidth,minWidth=column.minWidth;if(column.width){
// `barMinWidth/barMaxWidth` has higher priority than `barWidth`, as
// CSS does. Because barWidth can be a percent value, where
// `barMaxWidth` can be used to restrict the final width.
finalWidth=column.width;maxWidth&&(finalWidth=Math.min(finalWidth,maxWidth)),// `minWidth` has higher priority, as described above
minWidth&&(finalWidth=Math.max(finalWidth,minWidth)),column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--}else{var finalWidth=autoWidth;maxWidth&&maxWidth<finalWidth&&(finalWidth=Math.min(maxWidth,remainedWidth)),// `minWidth` has higher priority. `minWidth` decide that whether the
// bar is able to be visible. So `minWidth` should not be restricted
// by `maxWidth` or `remainedWidth` (which is from `bandWidth`). In
// the extreme cases for `value` axis, bars are allowed to overlap
// with each other if `minWidth` specified.
minWidth&&minWidth>finalWidth&&(finalWidth=minWidth),finalWidth!==autoWidth&&(column.width=finalWidth,remainedWidth-=finalWidth+barGapPercent*finalWidth,autoWidthCount--)}})),// Recalculate width again
autoWidth=(remainedWidth-categoryGap)/(autoWidthCount+(autoWidthCount-1)*barGapPercent),autoWidth=Math.max(autoWidth,0);var lastColumn,widthSum=0;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(stacks,(function(column,idx){column.width||(column.width=autoWidth),lastColumn=column,widthSum+=column.width*(1+barGapPercent)})),lastColumn&&(widthSum-=lastColumn.width*barGapPercent);var offset=-widthSum/2;(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(stacks,(function(column,stackId){result[coordSysName][stackId]=result[coordSysName][stackId]||{bandWidth:bandWidth,offset:offset,width:column.width},offset+=column.width*(1+barGapPercent)}))})),result}function retrieveColumnLayout(barWidthAndOffset,axis,seriesModel){if(barWidthAndOffset&&axis){var result=barWidthAndOffset[getAxisKey(axis)];return null!=result&&null!=seriesModel?result[getSeriesStackId(seriesModel)]:result}}function layout(seriesType,ecModel){var seriesModels=prepareLayoutBarSeries(seriesType,ecModel),barWidthAndOffset=makeColumnLayout(seriesModels);(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_0__/* .each */.S6)(seriesModels,(function(seriesModel){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),stackId=getSeriesStackId(seriesModel),columnLayoutInfo=barWidthAndOffset[getAxisKey(baseAxis)][stackId],columnOffset=columnLayoutInfo.offset,columnWidth=columnLayoutInfo.width;data.setLayout({bandWidth:columnLayoutInfo.bandWidth,offset:columnOffset,size:columnWidth})}))}// TODO: Do not support stack in large mode yet.
function createProgressiveLayout(seriesType){return{seriesType:seriesType,plan:(0,_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.Z)(),reset:function(seriesModel){if(isOnCartesian(seriesModel)){var data=seriesModel.getData(),cartesian=seriesModel.coordinateSystem,baseAxis=cartesian.getBaseAxis(),valueAxis=cartesian.getOtherAxis(baseAxis),valueDimIdx=data.getDimensionIndex(data.mapDimension(valueAxis.dim)),baseDimIdx=data.getDimensionIndex(data.mapDimension(baseAxis.dim)),drawBackground=seriesModel.get("showBackground",!0),valueDim=data.mapDimension(valueAxis.dim),stackResultDim=data.getCalculationInfo("stackResultDimension"),stacked=(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .isDimensionStacked */.M)(data,valueDim)&&!!data.getCalculationInfo("stackedOnSeries"),isValueAxisH=valueAxis.isHorizontal(),valueAxisStart=getValueAxisStart(baseAxis,valueAxis),isLarge=isInLargeMode(seriesModel),barMinHeight=seriesModel.get("barMinHeight")||0,stackedDimIdx=stackResultDim&&data.getDimensionIndex(stackResultDim),columnWidth=data.getLayout("size"),columnOffset=data.getLayout("offset");return{progress:function(params,data){var dataIndex,count=params.count,largePoints=isLarge&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__/* .createFloat32Array */.o)(3*count),largeBackgroundPoints=isLarge&&drawBackground&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__/* .createFloat32Array */.o)(3*count),largeDataIndices=isLarge&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_4__/* .createFloat32Array */.o)(count),coordLayout=cartesian.master.getRect(),bgSize=isValueAxisH?coordLayout.width:coordLayout.height,store=data.getStore(),idxOffset=0;while(null!=(dataIndex=params.next())){var value=store.get(stacked?stackedDimIdx:valueDimIdx,dataIndex),baseValue=store.get(baseDimIdx,dataIndex),baseCoord=valueAxisStart,startValue=void 0;// Because of the barMinHeight, we can not use the value in
// stackResultDimension directly.
stacked&&(startValue=+value-store.get(valueDimIdx,dataIndex));var x=void 0,y=void 0,width=void 0,height=void 0;if(isValueAxisH){var coord=cartesian.dataToPoint([value,baseValue]);if(stacked){var startCoord=cartesian.dataToPoint([startValue,baseValue]);baseCoord=startCoord[0]}x=baseCoord,y=coord[1]+columnOffset,width=coord[0]-baseCoord,height=columnWidth,Math.abs(width)<barMinHeight&&(width=(width<0?-1:1)*barMinHeight)}else{coord=cartesian.dataToPoint([baseValue,value]);if(stacked){startCoord=cartesian.dataToPoint([baseValue,startValue]);baseCoord=startCoord[1]}x=coord[0]+columnOffset,y=baseCoord,width=columnWidth,height=coord[1]-baseCoord,Math.abs(height)<barMinHeight&&(
// Include zero to has a positive bar
height=(height<=0?-1:1)*barMinHeight)}isLarge?(largePoints[idxOffset]=x,largePoints[idxOffset+1]=y,largePoints[idxOffset+2]=isValueAxisH?width:height,largeBackgroundPoints&&(largeBackgroundPoints[idxOffset]=isValueAxisH?coordLayout.x:x,largeBackgroundPoints[idxOffset+1]=isValueAxisH?y:coordLayout.y,largeBackgroundPoints[idxOffset+2]=bgSize),largeDataIndices[dataIndex]=dataIndex):data.setItemLayout(dataIndex,{x:x,y:y,width:width,height:height}),idxOffset+=3}isLarge&&data.setLayout({largePoints:largePoints,largeDataIndices:largeDataIndices,largeBackgroundPoints:largeBackgroundPoints,valueAxisHorizontal:isValueAxisH})}}}}}}function isOnCartesian(seriesModel){return seriesModel.coordinateSystem&&"cartesian2d"===seriesModel.coordinateSystem.type}function isInLargeMode(seriesModel){return seriesModel.pipelineContext&&seriesModel.pipelineContext.large}// See cases in `test/bar-start.html` and `#7412`, `#8747`.
function getValueAxisStart(baseAxis,valueAxis){return valueAxis.toGlobalCoord(valueAxis.dataToCoord("log"===valueAxis.type?1:0))}
/***/},
/***/621149:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return pointsLayout}
/* harmony export */});
/* harmony import */var zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(933051),_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95682),_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(599936),_util_vendor_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(980887);
/* harmony import */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
/**
 * AUTO-GENERATED FILE. DO NOT MODIFY.
 */
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
function pointsLayout(seriesType,forceStoreInTypedArray){return{seriesType:seriesType,plan:(0,_chart_helper_createRenderPlanner_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)(),reset:function(seriesModel){var data=seriesModel.getData(),coordSys=seriesModel.coordinateSystem,pipelineContext=seriesModel.pipelineContext,useTypedArray=forceStoreInTypedArray||pipelineContext.large;if(coordSys){var dims=(0,zrender_lib_core_util_js__WEBPACK_IMPORTED_MODULE_1__/* .map */.UI)(coordSys.dimensions,(function(dim){return data.mapDimension(dim)})).slice(0,2),dimLen=dims.length,stackResultDim=data.getCalculationInfo("stackResultDimension");(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .isDimensionStacked */.M)(data,dims[0])&&(dims[0]=stackResultDim),(0,_data_helper_dataStackHelper_js__WEBPACK_IMPORTED_MODULE_2__/* .isDimensionStacked */.M)(data,dims[1])&&(dims[1]=stackResultDim);var store=data.getStore(),dimIdx0=data.getDimensionIndex(dims[0]),dimIdx1=data.getDimensionIndex(dims[1]);return dimLen&&{progress:function(params,data){for(var segCount=params.end-params.start,points=useTypedArray&&(0,_util_vendor_js__WEBPACK_IMPORTED_MODULE_3__/* .createFloat32Array */.o)(segCount*dimLen),tmpIn=[],tmpOut=[],i=params.start,offset=0;i<params.end;i++){var point=void 0;if(1===dimLen){var x=store.get(dimIdx0,i);// NOTE: Make sure the second parameter is null to use default strategy.
point=coordSys.dataToPoint(x,null,tmpOut)}else tmpIn[0]=store.get(dimIdx0,i),tmpIn[1]=store.get(dimIdx1,i),// Let coordinate system to handle the NaN data.
point=coordSys.dataToPoint(tmpIn,null,tmpOut);useTypedArray?(points[offset++]=point[0],points[offset++]=point[1]):data.setItemLayout(i,point.slice())}useTypedArray&&data.setLayout("points",points)}}}}}}}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/chunk-common-bc050c32.js.map