"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[78374],{
/***/710:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return NewsSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/PortalTenant/news/NewsSummary.vue?vue&type=template&id=dd57dc02
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_c("div",{staticClass:"news-info-summary"},[_c("div",{staticClass:"header-title"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{animateFill:!1,animation:"shift-toward"},expression:"{ animateFill: false, animation: 'shift-toward' }"}],staticClass:"el-icon-back bold pointer",attrs:{content:"back",arrow:""},on:{click:_vm.goBack}}),_vm._v(" "+_vm._s(_vm.$t("tenant.news.news_info"))+" ")])]),_vm.isLoading?_c("spinner",{staticClass:"align-center",attrs:{show:!0,size:"80"}}):_c("div",{staticClass:"p20 d-flex flex-col scrollable120-y100"},[_c("NewsCard",{key:_vm.record.id,attrs:{record:_vm.record,moduleName:_vm.moduleName,notesModuleName:_vm.notesModuleName,commentsList:_vm.comments,canShowAllComments:!0,attachmentsModuleName:_vm.attachmentsModuleName,attachmentList:_vm.attachments},on:{onCommentAdded:_vm.onCommentAdded}})],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(891719),__webpack_require__(32284)),router=__webpack_require__(329435),NewsCard=__webpack_require__(670431),validation=__webpack_require__(990260),NewsSummaryvue_type_script_lang_js={props:["viewname","id","moduleName","notesModuleName","attachmentsModuleName"],components:{NewsCard:NewsCard/* default */.Z},title:function(){return"News and Information"},data:function(){return{record:{},comments:[],attachments:[],isLoading:!0,isNotesLoading:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,_context.next=3,_this.loadData();case 3:return _context.next=5,_this.loadComments();case 5:return _context.next=7,_this.loadAttachments();case 7:_this.isLoading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},methods:{loadData:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var id,moduleName,_yield$API$fetchRecor,error,record;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return id=_this2.id,moduleName=_this2.moduleName,_context2.next=3,api/* API */.bl.fetchRecord(moduleName,{id:id});case 3:_yield$API$fetchRecor=_context2.sent,error=_yield$API$fetchRecor.error,record=_yield$API$fetchRecor[moduleName],error?_this2.$message.error(error.message||"Error Occurred"):_this2.record=record;case 7:case"end":return _context2.stop()}}),_callee2)})))()},loadComments:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,api/* API */.bl.get("/note/get",{module:_this3.notesModuleName,parentId:_this3.id,parentModule:_this3.moduleName});case 2:_yield$API$get=_context3.sent,error=_yield$API$get.error,data=_yield$API$get.data,_this3.comments=error||(0,validation/* isEmpty */.xb)(data)?[]:data;case 6:case"end":return _context3.stop()}}),_callee3)})))()},loadAttachments:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,api/* API */.bl.get("/attachment",{module:_this4.attachmentsModuleName,recordId:_this4.id});case 2:_yield$API$get2=_context4.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,_this4.attachments=error?[]:data.attachments?data.attachments:[];case 6:case"end":return _context4.stop()}}),_callee4)})))()},goBack:function(){var viewname=this.viewname,$router=this.$router,route=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST);route&&$router.push({name:route.name,params:{viewname:viewname}})},onCommentAdded:function(comment){this.comments.unshift(comment)}}},news_NewsSummaryvue_type_script_lang_js=NewsSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(news_NewsSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewsSummary=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/78374.js.map