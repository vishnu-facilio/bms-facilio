"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[97088],{
/***/797088:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AnomalyMetrics}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/anomalies/AnomalyMetrics.vue?vue&type=template&id=937bb898
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.loading?_c("div",{staticClass:"flex-middle fc-empty-white block"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm.time.length?_c("el-table",{staticClass:"anamolay-metrics-table",staticStyle:{width:"100%"},attrs:{data:_vm.time}},[_c("el-table-column",{attrs:{fixed:"",prop:"month",label:"TIMESTAMP"}}),_c("el-table-column",{attrs:{label:"NO OF OCCURRENCES",width:"200p"},scopedSlots:_vm._u([{key:"default",fn:function(time){return[_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.metrics.noofanomalies[time.row.month])+" ")])]}}])}),_c("el-table-column",{attrs:{label:"ENERGY/CDD (kWh/CDD)",width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(time){return[_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.metrics.energyByCdd[time.row.month],"value")?_vm.$getProperty(_vm.metrics.energyByCdd[time.row.month],"value").toFixed(2):"0")+" ")])]}}])}),_c("el-table-column",{attrs:{label:"EXCEEDED ENERGY"},scopedSlots:_vm._u([{key:"default",fn:function(time){return[_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.metrics.wastage&&_vm.metrics.wastage[time.row.month]?_vm.getFormattedValue(_vm.metrics.wastage[time.row.month]):"0 kWh")+" ")])]}}])}),_c("el-table-column",{attrs:{label:"DEVIATION (%)"},scopedSlots:_vm._u([{key:"default",fn:function(time){return[_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.metrics.deviation&&_vm.metrics.deviation[time.row.month]?_vm.metrics.deviation[time.row.month].toFixed(2):0)+" ")])]}}])}),_c("el-table-column",{attrs:{label:"MTTC"},scopedSlots:_vm._u([{key:"default",fn:function(time){return[_c("div",{staticClass:"table-subheading"},[_vm._v(" "+_vm._s(_vm.metrics.mttc&&_vm.metrics.mttc[time.row.month]?_vm.getDuration(_vm.metrics.mttc[time.row.month]):"0 Hrs")+" ")])]}}])})],1):_c("div",{staticClass:"block"},[_c("div",{staticClass:"mT40 mB40 text-center p30imp"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/alarmEmpty",iconClass:"icon text-center icon-xxxxlg emptystate-icon-size"}}),_c("div",{staticClass:"pT20 fc-black-dark f18 bold"},[_vm._v("No Anomaly!")])],1)])],1)},staticRenderFns=[],AnomalyMetricsvue_type_script_lang_js=(__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(897389),{props:["details","widget","tab"],data:function(){return{activeName:"first",time:[],metrics:null,loading:!1}},mounted:function(){this.loadData(this.details.alarm.resource.id)},methods:{loadData:function(resourceId){var _this=this;this.loading=!0;var url="/v2/mlAnomalyAlarm/metrics?alarmId=".concat(this.details.alarm.id,"&resourceId=").concat(resourceId,"&siteId=").concat(this.details.alarm.resource.siteId);this.$http.get(url).then((function(response){0===response.data.responseCode&&(_this.metrics=response.data.result.metrics,_this.metrics.time&&(_this.time=_this.metrics.time.map((function(time){return{month:time}})))),_this.loading=!1}))},getDuration:function(value){var data="",duration=this.$helpers.getDuration(value,"seconds");for(var key in duration)data+=" "+duration[key]+" "+key;return data},getFormattedValue:function(val){return val>1e4?(val/=1e3,val=val.toFixed(2),val+=" MWh"):(val=val.toFixed(2),val+=" kWh"),val}}}),anomalies_AnomalyMetricsvue_type_script_lang_js=AnomalyMetricsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(anomalies_AnomalyMetricsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AnomalyMetrics=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/97088.js.map