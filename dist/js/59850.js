"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[59850],{
/***/859850:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewCriteriaBuilder}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/NewCriteriaBuilder.vue?vue&type=template&id=b1740190
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"criteria-container"},[_vm.disable?_c("div",{staticClass:"disable-overlay"}):_vm._e(),_c("div",{staticClass:"criteria-inner-container"},[_vm.hideTitleSection?_vm._e():_c("label",{staticClass:"fc-modal-sub-title",attrs:{for:"name"}},[_vm._v(_vm._s(_vm.$t("setup.users_management.criteria")))]),_vm.hideTitleSection?_vm._e():_c("div",{staticClass:"fc-sub-title-desc"},[_vm._v(" "+_vm._s(_vm.title?_vm.title:_vm.$t("setup.users_management.specify_rules_for_reading"))+" ")]),Object.keys(_vm.rule.conditions).length>=2?_c("div",{staticClass:"criteria-radio-block mT20 mL10 mB10"},[_c("el-radio-group",{staticClass:"criteria-radio-label",attrs:{disabled:1!==_vm.disabled},model:{value:_vm.conditionOperator,callback:function($$v){_vm.conditionOperator=$$v},expression:"conditionOperator"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"and"}},[_vm._v("Match all ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"or"}},[_vm._v("Match any ")])],1)],1):_vm._e(),_vm._l(_vm.rule.conditions,(function(criteria,key,i){return _c("div",{key:key,staticClass:"criteria-condition-block"},[_c("div",{staticStyle:{display:"none"}},[_vm._v(_vm._s(criteria))]),_c("div",{staticClass:"criteria-alphabet-block"},[_c("div",{staticClass:"alphabet-circle"},[_vm._v(" "+_vm._s(key)+" ")])]),_c("div",{staticClass:"creteria-dropdown"},[_c("el-select",{staticClass:"fc-border-select",attrs:{filterable:"",placeholder:"Select Field"},on:{change:function($event){return _vm.fieldSelected(criteria)}},model:{value:criteria.fieldName,callback:function($$v){_vm.$set(criteria,"fieldName",$$v)},expression:"criteria.fieldName"}},_vm._l(_vm.moduleMetaObject.fields,(function(field,idx1){return _c("el-option",{key:idx1,attrs:{label:field.displayName,value:field.name}})})),1)],1),_c("div",{staticClass:"creteria-dropdown"},[criteria.isResourceOperator?_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{placeholder:"Select operator"},on:{change:function($event){return _vm.statusFieldName(criteria,key)}},model:{value:criteria.name,callback:function($$v){_vm.$set(criteria,"name",$$v)},expression:"criteria.name"}},_vm._l(_vm.resourceOperator,(function(group){return _c("el-option-group",{key:group.label,attrs:{label:group.label}},_vm._l(group.options,(function(operator,idx2){return _c("el-option",{key:idx2+group.label,attrs:{label:operator.operator,value:operator.name}})})),1)})),1):_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{placeholder:"Select operator"},on:{change:function($event){return _vm.statusFieldName(criteria,key)}},model:{value:criteria.operatorLabel,callback:function($$v){_vm.$set(criteria,"operatorLabel",$$v)},expression:"criteria.operatorLabel"}},_vm._l(_vm.getOperators(criteria),(function(operator,idx2){return _c("el-option",{key:idx2,attrs:{label:idx2,value:idx2}})})),1)],1),_vm.$validation.isEmpty(_vm.lookupModuleFieldsList)?_vm._e():_c("div",{staticClass:"creteria-dropdown"},[criteria.active?_c("div",[_c("el-select",{staticClass:"select-operator-input fc-border-select",on:{change:function($event){return _vm.toggleLookupFields(key,_vm.showLookupFieldForCriteria[key])}},model:{value:_vm.showLookupFieldForCriteria[key],callback:function($$v){_vm.$set(_vm.showLookupFieldForCriteria,key,$$v)},expression:"showLookupFieldForCriteria[key]"}},_vm._l(_vm.valueTypes,(function(valueType,idx3){return _c("el-option",{key:idx3,attrs:{label:valueType,value:idx3}})})),1)],1):_c("div",[_c("el-input",{staticClass:"fc-border-select",attrs:{placeholder:"Input not needed",disabled:""}})],1)]),_c("div",{class:_vm.$validation.isEmpty(_vm.lookupModuleFieldsList)?"creteria-input":"creteria-input d-flex flex-direction-column"},[criteria.active?criteria.operatorsDataType?_c("div",[_vm.$validation.isEmpty(_vm.lookupModuleFieldsList)||_vm.$validation.isEmpty(_vm.showLookupFieldForCriteria[key])||"1"!==_vm.showLookupFieldForCriteria[key]?criteria.isSpacePicker?_c("div",{staticClass:"fc-tag"},[_c("el-input",{staticClass:"fc-border-select",attrs:{disabled:""},model:{value:criteria.parseLabel,callback:function($$v){_vm.$set(criteria,"parseLabel",$$v)},expression:"criteria.parseLabel"}},[_c("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{"line-height":"0px !important","font-size":"16px !important",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function($event){_vm.chooserVisibility=!0,_vm.selectedIndex(i)}},slot:"suffix"})])],1):"formId"===criteria.fieldName?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"NUMBER"===criteria.operatorsDataType.dataType||"DECIMAL"===criteria.operatorsDataType.dataType?_c("el-input",{staticClass:"fc-border-select",attrs:{type:"number"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"BOOLEAN"===criteria.operatorsDataType.dataType?_c("el-select",{staticClass:"fc-border-select",on:{change:_vm.forceUpdate},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}},[_c("el-option",{attrs:{label:criteria.trueVal?criteria.trueVal:"Yes",value:"true"}}),_c("el-option",{attrs:{label:criteria.falseVal?criteria.falseVal:"No",value:"false"}})],1):106===criteria.operatorId||107===criteria.operatorId?_c("el-input",{staticClass:"fc-border-select",model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):85===criteria.operatorId?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{filterable:"",multiple:""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.$constants.WEEK_DAYS,(function(weekValue,weekKey){return _c("el-option",{key:weekKey,attrs:{label:weekValue,value:weekKey}})})),1):84===criteria.operatorId?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{filterable:"",multiple:""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.$constants.MONTHS,(function(value,index){return _c("el-option",{key:index,attrs:{label:value.label,value:value.value}})})),1):[101,108,103].includes(criteria.operatorId)?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{filterable:"",multiple:""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.dateOperatorValues(criteria),(function(value,index){return _c("el-option",{key:index,attrs:{label:value,value:value}})})),1):"DATE"===criteria.operatorsDataType.dataType?_c("f-date-picker",{staticClass:"fc-border-select form-date-picker",attrs:{type:criteria.operator&&criteria.operator.indexOf("between")>=0?"daterange":"date"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"DATE_TIME"===criteria.operatorsDataType.dataType?_c("f-date-picker",{staticClass:"fc-border-select form-date-picker",attrs:{type:criteria.operator&&criteria.operator.indexOf("between")>=0?"datetimerange":"datetime"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_SIMPLE"===criteria.operatorsDataType.displayType||"MULTI_LOOKUP"===criteria.operatorsDataType.dataType||"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_POPUP"===criteria.operatorsDataType.displayType?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{filterable:"",multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"ENUM"===criteria.operatorsDataType.dataType||"SYSTEM_ENUM"===criteria.operatorsDataType.dataType||"MULTI_ENUM"===criteria.operatorsDataType.dataType||"siteId"===criteria.fieldName?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_POPUP1"===criteria.operatorsDataType.displayType?_c("el-input",{staticClass:"fc-border-select",attrs:{placeholder:"Select records",readonly:!0,"suffix-icon":"el-icon-search"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):_c("el-input",{staticClass:"fc-border-select",on:{change:_vm.forceUpdate},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):_c("div",[_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100",attrs:{"collapse-tags":"",filterable:""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}},_vm._l(_vm.lookupModuleFieldsList,(function(value,key){return _c("el-option",{key:key,attrs:{label:value.displayName,value:"${"+(_vm.lookupFieldModuleName?_vm.lookupFieldModuleName:"")+"."+value.name+(_vm.$validation.isEmpty(value.field)||"LOOKUP"!=value.field.dataTypeEnum?"":".id")+"}"}})})),1)],1)],1):_vm._e():_c("div",[_c("el-input",{staticClass:"fc-border-select",attrs:{placeholder:"Input not needed",disabled:""}})],1)]),_c("div",{staticClass:"creteria-delete-icon flex-middle"},[Object.keys(_vm.rule.conditions).length-1===i?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addCreteria}}):_vm._e(),1!==Object.keys(_vm.rule.conditions).length?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-right":"3px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteCreteria(key)}}}):_vm._e()])])})),Object.keys(_vm.rule.conditions).length>2?_c("div",{staticClass:"creteria-footer"},[_c("span",{staticClass:"criteria-pattern-txt"},[_vm._v("Criteria Pattern")]),_c("el-input",{staticClass:"criteria-input fc-border-select",staticStyle:{width:"450px","margin-left":"20px"},attrs:{placeholder:"Please input",disabled:1===_vm.disabled},model:{value:_vm.rule.pattern,callback:function($$v){_vm.$set(_vm.rule,"pattern",$$v)},expression:"rule.pattern"}}),_c("span",{staticClass:"pointer",on:{click:function($event){_vm.disabled=!1}}},[_c("i",{staticClass:"el-icon-edit",staticStyle:{position:"relative",top:"8px",right:"-13px",cursor:"pointer",color:"#319aa8"}})]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.err,expression:"err"}],staticClass:"err-msg"},[_vm._v(_vm._s(_vm.err))])],1):_c("div",[_c("div",{staticStyle:{"margin-top":"33px"}})]),_vm.chooserVisibility?_c("space-asset-multi-chooser",{attrs:{visibility:_vm.chooserVisibility,initialValues:_vm.resourceData,showAsset:_vm.type,hideBanner:!0,selectedResource:_vm.selectedeResourceObj},on:{associate:_vm.associateResource,"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e()],2)])])},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),esm_typeof=__webpack_require__(103336),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(506203),__webpack_require__(169358),__webpack_require__(450886),__webpack_require__(397895),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(212826),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(425728),__webpack_require__(564043),__webpack_require__(907409),__webpack_require__(821057),__webpack_require__(420629)),validation=__webpack_require__(990260),SpaceAssetMultiChooser=__webpack_require__(673362),FDatePicker=__webpack_require__(358551),isString=__webpack_require__(747037),isString_default=__webpack_require__.n(isString),picklist=__webpack_require__(961358),NewCriteriaBuildervue_type_script_lang_js={props:["module","exrule","disable","title","isRendering","lookupFieldModuleName","showSiteField","showFormIDField","hideTitleSection","index","variables","lookupModuleFieldsList"],computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getTicketStatusPickList"])),(0,vuex_esm/* mapState */.rn)({ticketpriority:function(state){return state.ticketPriority},siteList:function(state){return state.sites},roles:function(state){return state.roles}})),created:function(){this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadRoles")},watch:{conditionOperator:function(){var pat=Object.keys(this.rule.conditions).join(" ".concat(this.conditionOperator," "));this.rule.pattern="("+pat+")"},rule:{handler:function(after,before){var postfix,tokens=this.tokenize(after.pattern);try{this.err="",postfix=this.postfix(tokens);var expressionTree=this.expressionTree(postfix);if(0===Object.keys(expressionTree).length)return this.rule.pattern="","undefined"!==typeof this.index?this.$emit("condition",this.rule,this.index):this.$emit("condition",this.rule),void(this.err="Pattern is mandatory");var infix=[];this.infix(expressionTree,infix),this.rule.pattern=this.toPattern(infix),"undefined"!==typeof this.index?this.$emit("condition",this.rule,this.index):this.$emit("condition",this.rule),this.$emit("hook",this.rule),this.$emit("moduleObj",this.moduleMetaObject)}catch(e){this.err=e.message}},deep:!0},exrule:function(ruled){this.loadModuleMeta(ruled),this.lookupFieldHandling()},module:function(){this.loadModuleMeta(this.exrule)}},data:function(){return{excludeOperators:[74,75,76,77,78,79,35],valueTypes:{1:"Field",2:"Value"},showLookupFieldForCriteria:{},woForms:[],moduleMeta:{},dataTypeToDisplayType:{TEXT:"TEXTBOX",NUMBER:"NUMBER",DECIMAL:"DECIMAL",DATE_TIME:"DATE_TIME",DATE:"DATE"},Defaultoperators:{ENUM:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"value isn't":{dynamicOperator:!1,operator:"value isn't",operatorId:53,valueNeeded:!0,_name:"VALUE_ISN_T"},"value is":{dynamicOperator:!1,operator:"value is",operatorId:52,valueNeeded:!0,_name:"VALUE_IS"},is:{dynamicOperator:!1,operator:"is",operatorId:54,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!1,operator:"isn't",operatorId:55,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},NUMBER:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},MISC:null,DECIMAL:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},BOOLEAN:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},is:{dynamicOperator:!1,operator:"is",operatorId:15,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},DATE:{Upcoming:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Upcoming",operatorId:73,valueNeeded:!1,_name:"UPCOMING"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"Current year upto last month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current year upto last month",operatorId:80,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_LAST_MONTH"},"is after":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is after",operatorId:19,valueNeeded:!0,_name:"IS_AFTER"},"Current N Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Year",operatorId:65,valueNeeded:!0,_name:"CURRENT_N_YEAR"},"Last N Months":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Months",operatorId:51,valueNeeded:!0,_name:"LAST_N_MONTHS"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"Current Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year",operatorId:44,valueNeeded:!1,_name:"CURRENT_YEAR"},"Current Year upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year upto now",operatorId:46,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_NOW"},"Within N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Within N Hours",operatorId:40,valueNeeded:!0,_name:"WITHIN_HOURS"},"In N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"In N Day",operatorId:58,valueNeeded:!0,_name:"IN_N_DAY"},"Current Week upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week upto now",operatorId:47,valueNeeded:!1,_name:"CURRENT_WEEK_UPTO_NOW"},"Age in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Age in Days",operatorId:33,valueNeeded:!0,_name:"AGE_IN_DAYS"},between:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!1,operator:"between",operatorId:20,valueNeeded:!0,_name:"BETWEEN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},Yesterday:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Yesterday",operatorId:25,valueNeeded:!1,_name:"YESTERDAY"},"Current N Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Month",operatorId:64,valueNeeded:!0,_name:"CURRENT_N_MONTH"},is:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is",operatorId:16,valueNeeded:!0,_name:"IS"},"Next N Weeks":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Weeks",operatorId:60,valueNeeded:!0,_name:"NEXT_N_WEEKS"},Tomorrow:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Tomorrow",operatorId:23,valueNeeded:!1,_name:"TOMORROW"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"},"Current Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week",operatorId:31,valueNeeded:!1,_name:"CURRENT_WEEK"},"Next N Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Months",operatorId:59,valueNeeded:!0,_name:"NEXT_N_MONTHS"},"Current N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Day",operatorId:62,valueNeeded:!0,_name:"CURRENT_N_DAY"},"Till Yesterday":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Yesterday",operatorId:26,valueNeeded:!1,_name:"TILL_YESTERDAY"},"Last Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Quarter",operatorId:69,valueNeeded:!1,_name:"LAST_QUARTER"},"Last Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Month",operatorId:27,valueNeeded:!1,_name:"LAST_MONTH"},"Due in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Due in Days",operatorId:34,valueNeeded:!0,_name:"DUE_IN_DAYS"},"Next N Days":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Days",operatorId:61,valueNeeded:!0,_name:"NEXT_N_DAYS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"},"Last N Hours":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Hours",operatorId:42,valueNeeded:!0,_name:"LAST_N_HOURS"},"Last Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Months",operatorId:39,valueNeeded:!0,_name:"LAST_MONTHS"},"Last N Minutes":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Minutes",operatorId:56,valueNeeded:!0,_name:"LAST_N_MINUTES"},"Current N Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Quarter",operatorId:67,valueNeeded:!0,_name:"CURRENT_N_QUARTER"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"Next N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Hours",operatorId:41,valueNeeded:!0,_name:"NEXT_HOURS"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"isn't",operatorId:17,valueNeeded:!0,_name:"ISN_T"},"is before":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is before",operatorId:18,valueNeeded:!0,_name:"IS_BEFORE"},"Starting Tomorrow":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Starting Tomorrow",operatorId:24,valueNeeded:!1,_name:"STARTING_TOMORROW"},"Last Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Week",operatorId:30,valueNeeded:!1,_name:"LAST_WEEK"},"Current N Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Week",operatorId:63,valueNeeded:!0,_name:"CURRENT_N_WEEK"},"Hour Start Time":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Hour Start Time",operatorId:71,valueNeeded:!0,_name:"HOUR_START_TIME"},"Next Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Month",operatorId:29,valueNeeded:!1,_name:"NEXT_MONTH"},"not between":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"not between",operatorId:21,valueNeeded:!0,_name:"NOT_BETWEEN"},"Past Nth day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Past Nth day",operatorId:57,valueNeeded:!0,_name:"PAST_N_DAY"},"Last N Weeks":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Weeks",operatorId:50,valueNeeded:!0,_name:"LAST_N_WEEKS"},"Last Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Year",operatorId:45,valueNeeded:!1,_name:"LAST_YEAR"},"today upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"today upto now",operatorId:43,valueNeeded:!1,_name:"TODAY_UPTO_NOW"},"This Quarter":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"This Quarter",operatorId:68,valueNeeded:!1,_name:"THIS_QUARTER"},"Last N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Days",operatorId:49,valueNeeded:!0,_name:"LAST_N_DAYS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},Today:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Today",operatorId:22,valueNeeded:!1,_name:"TODAY"},"This Month Till Yesterday":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"This Month Till Yesterday",operatorId:66,valueNeeded:!1,_name:"THIS_MONTH_TILL_YESTERDAY"},"Till Now":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Now",operatorId:72,valueNeeded:!1,_name:"TILL_NOW"},"Current Month upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month upto now",operatorId:48,valueNeeded:!1,_name:"CURRENT_MONTH_UPTO_NOW"},"Next Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Week",operatorId:32,valueNeeded:!1,_name:"NEXT_WEEK"},"LAST N Quarters":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"LAST N Quarters",operatorId:70,valueNeeded:!0,_name:"LAST_N_QUARTERS"},"Current Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month",operatorId:28,valueNeeded:!1,_name:"CURRENT_MONTH"},"Hours of Day":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Hours of Day",operatorId:103,valueNeeded:!0,_name:"HOURS_OF_DAY"},"Day of Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Day of Week",operatorId:85,valueNeeded:!0,_name:"DAY_OF_WEEK"},"Day of Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Day of Month",operatorId:101,valueNeeded:!0,_name:"DAY_OF_MONTH"},Month:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Month",operatorId:84,valueNeeded:!0,_name:"MONTH"},"Week of Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Week of Year",operatorId:108,valueNeeded:!0,_name:"WEEK_OF_YEAR"},"After N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"After N Days",operatorId:107,valueNeeded:!0,_name:"AFTER_N_DAYS"},"Before N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Before N Days",operatorId:106,valueNeeded:!0,_name:"BEFORE_N_DAYS"}},LOOKUP:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},lookup:{dynamicOperator:!1,operator:"lookup",operatorId:35,valueNeeded:!0,_name:"LOOKUP"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},building_is:{dynamicOperator:!0,operator:"building_is",operatorId:38,valueNeeded:!0,_name:"BUILDING_IS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},is:{dynamicOperator:!0,operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},STRING:{" > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},"doesn't contain":{dynamicOperator:!1,operator:"doesn't contain",operatorId:6,valueNeeded:!0,_name:"DOESNT_CONTAIN"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"ends with":{dynamicOperator:!1,operator:"ends with",operatorId:8,valueNeeded:!0,_name:"ENDS_WITH"},is:{dynamicOperator:!1,operator:"is",operatorId:3,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!1,operator:"isn't",operatorId:4,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},contains:{dynamicOperator:!1,operator:"contains",operatorId:5,valueNeeded:!0,_name:"CONTAINS"},"starts with":{dynamicOperator:!1,operator:"starts with",operatorId:7,valueNeeded:!0,_name:"STARTS_WITH"}},DATE_TIME:{Upcoming:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Upcoming",operatorId:73,valueNeeded:!1,_name:"UPCOMING"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"Current year upto last month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current year upto last month",operatorId:80,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_LAST_MONTH"},"is after":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is after",operatorId:19,valueNeeded:!0,_name:"IS_AFTER"},"Current N Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Year",operatorId:65,valueNeeded:!0,_name:"CURRENT_N_YEAR"},"Last N Months":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Months",operatorId:51,valueNeeded:!0,_name:"LAST_N_MONTHS"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"Current Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year",operatorId:44,valueNeeded:!1,_name:"CURRENT_YEAR"},"Current Year upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year upto now",operatorId:46,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_NOW"},"Within N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Within N Hours",operatorId:40,valueNeeded:!0,_name:"WITHIN_HOURS"},"In N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"In N Day",operatorId:58,valueNeeded:!0,_name:"IN_N_DAY"},"Current Week upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week upto now",operatorId:47,valueNeeded:!1,_name:"CURRENT_WEEK_UPTO_NOW"},"Age in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Age in Days",operatorId:33,valueNeeded:!0,_name:"AGE_IN_DAYS"},between:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!1,operator:"between",operatorId:20,valueNeeded:!0,_name:"BETWEEN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},Yesterday:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Yesterday",operatorId:25,valueNeeded:!1,_name:"YESTERDAY"},"Current N Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Month",operatorId:64,valueNeeded:!0,_name:"CURRENT_N_MONTH"},is:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is",operatorId:16,valueNeeded:!0,_name:"IS"},"Next N Weeks":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Weeks",operatorId:60,valueNeeded:!0,_name:"NEXT_N_WEEKS"},Tomorrow:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Tomorrow",operatorId:23,valueNeeded:!1,_name:"TOMORROW"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"},"Current Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week",operatorId:31,valueNeeded:!1,_name:"CURRENT_WEEK"},"Next N Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Months",operatorId:59,valueNeeded:!0,_name:"NEXT_N_MONTHS"},"Current N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Day",operatorId:62,valueNeeded:!0,_name:"CURRENT_N_DAY"},"Till Yesterday":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Yesterday",operatorId:26,valueNeeded:!1,_name:"TILL_YESTERDAY"},"Last Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Quarter",operatorId:69,valueNeeded:!1,_name:"LAST_QUARTER"},"Last Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Month",operatorId:27,valueNeeded:!1,_name:"LAST_MONTH"},"Due in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Due in Days",operatorId:34,valueNeeded:!0,_name:"DUE_IN_DAYS"},"Next N Days":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Days",operatorId:61,valueNeeded:!0,_name:"NEXT_N_DAYS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"},"Last N Hours":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Hours",operatorId:42,valueNeeded:!0,_name:"LAST_N_HOURS"},"Last Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Months",operatorId:39,valueNeeded:!0,_name:"LAST_MONTHS"},"Last N Minutes":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Minutes",operatorId:56,valueNeeded:!0,_name:"LAST_N_MINUTES"},"Current N Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Quarter",operatorId:67,valueNeeded:!0,_name:"CURRENT_N_QUARTER"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"Next N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Hours",operatorId:41,valueNeeded:!0,_name:"NEXT_HOURS"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"isn't",operatorId:17,valueNeeded:!0,_name:"ISN_T"},"is before":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is before",operatorId:18,valueNeeded:!0,_name:"IS_BEFORE"},"Starting Tomorrow":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Starting Tomorrow",operatorId:24,valueNeeded:!1,_name:"STARTING_TOMORROW"},"Last Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Week",operatorId:30,valueNeeded:!1,_name:"LAST_WEEK"},"Current N Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Week",operatorId:63,valueNeeded:!0,_name:"CURRENT_N_WEEK"},"Hour Start Time":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Hour Start Time",operatorId:71,valueNeeded:!0,_name:"HOUR_START_TIME"},"Next Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Month",operatorId:29,valueNeeded:!1,_name:"NEXT_MONTH"},"not between":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"not between",operatorId:21,valueNeeded:!0,_name:"NOT_BETWEEN"},"Past Nth day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Past Nth day",operatorId:57,valueNeeded:!0,_name:"PAST_N_DAY"},"Last N Weeks":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Weeks",operatorId:50,valueNeeded:!0,_name:"LAST_N_WEEKS"},"Last Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Year",operatorId:45,valueNeeded:!1,_name:"LAST_YEAR"},"today upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"today upto now",operatorId:43,valueNeeded:!1,_name:"TODAY_UPTO_NOW"},"This Quarter":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"This Quarter",operatorId:68,valueNeeded:!1,_name:"THIS_QUARTER"},"Last N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Days",operatorId:49,valueNeeded:!0,_name:"LAST_N_DAYS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},Today:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Today",operatorId:22,valueNeeded:!1,_name:"TODAY"},"This Month Till Yesterday":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"This Month Till Yesterday",operatorId:66,valueNeeded:!1,_name:"THIS_MONTH_TILL_YESTERDAY"},"Till Now":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Now",operatorId:72,valueNeeded:!1,_name:"TILL_NOW"},"Current Month upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month upto now",operatorId:48,valueNeeded:!1,_name:"CURRENT_MONTH_UPTO_NOW"},"Next Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Week",operatorId:32,valueNeeded:!1,_name:"NEXT_WEEK"},"LAST N Quarters":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"LAST N Quarters",operatorId:70,valueNeeded:!0,_name:"LAST_N_QUARTERS"},"Current Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month",operatorId:28,valueNeeded:!1,_name:"CURRENT_MONTH"},"Hours of Day":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Hours of Day",operatorId:103,valueNeeded:!0,_name:"HOURS_OF_DAY"},"Day of Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Day of Week",operatorId:85,valueNeeded:!0,_name:"DAY_OF_WEEK"},"Day of Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Day of Month",operatorId:101,valueNeeded:!0,_name:"DAY_OF_MONTH"},Month:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Month",operatorId:84,valueNeeded:!0,_name:"MONTH"},"Week of Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Week of Year",operatorId:108,valueNeeded:!0,_name:"WEEK_OF_YEAR"},"After N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"After N Days",operatorId:107,valueNeeded:!0,_name:"AFTER_N_DAYS"},"Before N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Before N Days",operatorId:106,valueNeeded:!0,_name:"BEFORE_N_DAYS"}},ID:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},FILE:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},COUNTER:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},SYSTEM_ENUM:null},selectedeResourceObj:[],siteLists:{},siteId:{displayName:"Site",name:"siteId",default:!0,options:{},value:[],dataTypeEnum:{_name:"LOOKUP"}},formId:{displayName:"Template",name:"formId",default:!0,options:{},value:[],dataTypeEnum:{_name:"LOOKUP"}},resourceOperator:[{label:"",options:[{name:"isEmpty",dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},{name:"is not empty",dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}]},{label:"Space",options:[{name:"space_isn't",dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"},{dynamicOperator:!0,name:"space_is",operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"},{dynamicOperator:!0,name:"space_building_is",operator:"building_is",operatorId:38,valueNeeded:!0,_name:"BUILDING_IS"}]},{label:"Asset",options:[{name:"asset_isn't",dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"},{name:"asset_is",dynamicOperator:!0,operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"}]}],systemEnumOperator:{is:{dynamicOperator:!0,operator:"is",operatorId:9,valueNeeded:!0,_name:"IS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"isn't":{dynamicOperator:!0,operator:"isn't",operatorId:10,valueNeeded:!0,_name:"ISN_T"}},dummyAssertValue:[],err:"",isResourceOperator:!1,type:null,chooserVisibility:!1,quickSearchQuery:"",spaceAssetDisplayName:"",picklistOptions:{},valueNotNeed:["is empty","is not empty","Today","Tomorrow","Yesterday","Starting Tomorrow","Till Yesterday","Till Now","Last Month","Current Month","Next Month","Last Week","Current Week","Next Week","is before","is after","Hours of Day","Day of Month","Day of Week","Month","Week of Year","After N Days","Before N Days"],conditionOperator:"and",moduleMetaObject:[],disabled:1,resourceData:null,selectedIndexs:null,rule:{pattern:"",conditions:{}}}},components:{SpaceAssetMultiChooser:SpaceAssetMultiChooser/* default */.Z,FDatePicker:FDatePicker/* default */.Z},mounted:function(){this.addCreteria(),this.loadWoForms(),this.loadModuleMeta(this.exrule),
// setTimeout(this.lookupFieldHandling, 5000)
this.lookupFieldHandling()},methods:{dateOperatorValues:function(criteria){var dateOperatorValues=[],operatorValueObj={101:31,108:52};return dateOperatorValues=103===criteria.operatorId?Array(24).fill().map((function(_,i){return i})):Array(operatorValueObj[criteria.operatorId]).fill().map((function(_,i){return i+1})),dateOperatorValues},lookupFieldHandling:function(){var exrule=this.exrule,lookupModuleFieldsList=this.lookupModuleFieldsList,lookupFieldModuleName=this.lookupFieldModuleName;if(!(0,validation/* isEmpty */.xb)(lookupModuleFieldsList)&&!(0,validation/* isEmpty */.xb)(exrule)&&!(0,validation/* isEmpty */.xb)(exrule.conditions))for(var key in exrule.conditions)!(0,validation/* isEmpty */.xb)(exrule.conditions[key].value)&&exrule.conditions[key].value.includes("${"+lookupFieldModuleName+".")?this.$set(this.showLookupFieldForCriteria,key,"1"):this.$set(this.showLookupFieldForCriteria,key,"2")},toggleLookupFields:function(key,value){this.$set(this.showLookupFieldForCriteria,key,value),this.rule.conditions[key].value="",this.rule.conditions[key].valueArray=[]},loadWoForms:function(){var _this=this,url="/v2/forms?moduleName=workorder";this.$http.get(url).then((function(response){0===response.data.responseCode&&(_this.woForms=(response.data.result.forms||[]).filter((function(form){return form.id>0})))}))},forceUpdate:function(){this.$forceUpdate()},selectedIndex:function(i){this.selectedIndexs=i+1;var cond=this.rule.conditions[this.selectedIndexs],value=cond.value.split(","),splitName=cond.name.split("_");"space"===splitName[0]?this.type=!1:"asset"===splitName[0]&&(this.type=!0),this.resourceData={isIncludeResource:!0,selectedResources:value.map((function(resource){return{id:resource&&"object"===(0,esm_typeof/* default */.Z)(resource)?parseInt(resource.id):parseInt(resource)}}))}},resourceLabel:function(selectedResourceObject){if(selectedResourceObject){var message,selectedCount=selectedResourceObject.length,categoryName=this.type?"Asset":"Space";return selectedCount&&(message=selectedCount+" "+(selectedCount>1?categoryName+"s":categoryName)),message}},associateResource:function(selectedObj){var _this2=this;selectedObj.resourceList&&selectedObj.resourceList.length&&(this.rule.conditions[this.selectedIndexs].value=[],selectedObj.resourceList.forEach((function(element){_this2.rule.conditions[_this2.selectedIndexs].value.push(element.id)})),this.rule.conditions[this.selectedIndexs].parseLabel=this.resourceLabel(this.rule.conditions[this.selectedIndexs].value),this.rule.conditions[this.selectedIndexs].value=this.rule.conditions[this.selectedIndexs].value.toString()),this.chooserVisibility=!1},initData:function(condEdit){var _this3=this;if(this.$emit("update:isRendering",!1),condEdit&&condEdit.conditions){var self=this;Object.keys(condEdit.conditions).forEach((function(kessy){var newConditionObject={},condArrat=condEdit.conditions[kessy];if(condArrat){if(90==condArrat.operatorId||91==condArrat.operatorId){
//TODO Change this check based on field type
var name=condArrat.fieldName.split(".");name.length>1&&(condArrat.fieldName=name[1])}if(newConditionObject.fieldName=condArrat.fieldName,"resource"===condArrat.fieldName){var tempOperator,_self=_this3;if(condArrat.value){var promise2=_self.$http.post("v2/resource/getResourcesDetails",{resourceId:condArrat.value.split(",")});Promise.all([promise2]).then((function(values){if(0===values[0].data.responseCode&&values[0].data.result.resource.length>0){_self.selectedeResourceObj=values[0].data.result.resource;var resp=values[0].data.result.resource[0];"SPACE"===resp.resourceTypeEnum?_self.type=!1:"ASSET"===resp.resourceTypeEnum&&(_self.type=!0)}newConditionObject.value=condArrat.value,newConditionObject.value&&(isString_default()(condArrat.value)?newConditionObject.valueArray=condArrat.value.split(","):newConditionObject.valueArray=[condArrat.value])}))}_self.resourceOperator.find((function(d){_self.type?"Asset"===d.label&&d.options.find((function(dr){dr.operatorId===condArrat.operatorId&&(tempOperator=dr)})):(d.label,d.options.find((function(dr){dr.operatorId===condArrat.operatorId&&(tempOperator=dr)})))})),newConditionObject.name=tempOperator?tempOperator.name:"",newConditionObject.operatorLabel=tempOperator.operator,newConditionObject.parseLabel=_self.resourceLabel(condArrat.valueArray),newConditionObject.columnName=condArrat.columnName,newConditionObject.operatorId=condArrat.operatorId,_self.statusFieldName(newConditionObject,null),_self.rule.pattern=condEdit.pattern}else if(condArrat.operator)newConditionObject.operatorLabel=condArrat.operator.operator,newConditionObject.active=condArrat.operator.valueNeeded;else if(condArrat.operatorId){var tempCond=_this3.getOperators(condArrat);Object.keys(tempCond).forEach((function(d){tempCond[d].operatorId===condArrat.operatorId&&(newConditionObject.operatorLabel=tempCond[d].operator,newConditionObject.active=tempCond[d].valueNeeded)}))}newConditionObject.value=condArrat.value,newConditionObject.value&&(isString_default()(condArrat.value)?newConditionObject.valueArray=condArrat.value.split(","):newConditionObject.valueArray=[condArrat.value]),newConditionObject.columnName=condArrat.columnName,newConditionObject.operatorId=condArrat.operatorId,self.statusFieldName(newConditionObject,null)}_this3.$set(self.rule.conditions,kessy,newConditionObject)})),self.rule.pattern=condEdit.pattern}},chageDataType:function(criteria){if("siteId"===criteria.fieldName&&("workorder"===this.module?criteria.columnName="WorkOrders.SITE_ID":"asset"===this.module?criteria.columnName="Assets.SITE_ID":"alarmoccurrence"===this.module?criteria.columnName="AlarmOccurrence.SITE_ID":criteria.columnName="SITE_ID"),"formId"===criteria.fieldName&&"workorder"===this.module&&(criteria.columnName="Tickets.FORM_ID"),criteria.valueArray.length>0&&"trigger"!==criteria.fieldName){var values=criteria.valueArray.join();criteria.value=values}if("trigger"===criteria.fieldName){criteria.fieldName="workorder.trigger",36===criteria.operatorId&&(criteria.operatorId=35);var a={conditions:{1:{fieldName:"frequency",isExpressionValue:null,moduleName:"trigger",operatorId:9,parentCriteriaId:-1,sequence:1,value:criteria.valueArray.join()}},pattern:"(1)"};criteria.criteriaValue=a,delete criteria.value}this.$forceUpdate()},fieldSelected:function(rule){rule.isResourceOperator=!1;var currField=this.moduleMeta.fields.find((function(field){return field.name===rule.fieldName})),_ref=currField||{},lookupModule=_ref.lookupModule;(0,validation/* isEmpty */.xb)(lookupModule)||"resource"!==lookupModule.name||(rule.isResourceOperator=!0),rule.parseLabel=null,rule.valueArray=[],rule.operatorLabel=null,this.$set(rule,"value",null),rule.active=!1,this.$forceUpdate()},statusFieldName:function(rule,key){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var splitName,field,opId,roles,priority,statusModule,fetchOptions,_yield$getFieldOption,error,options,data,_data,oprs;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if((0,validation/* isEmpty */.xb)(_this4.lookupModuleFieldsList)||(0,validation/* isEmpty */.xb)(key)||!(0,validation/* isEmpty */.xb)(rule.value)||(_this4.showLookupFieldForCriteria[key]="2"),!rule.fieldName||!rule.operatorLabel&&!rule.name){_context.next=55;break}if(rule.isResourceOperator&&(splitName=rule.name.split("_"),"space"===splitName[0]?_this4.type=!1:"asset"===splitName[0]&&(_this4.type=!0),_this4.resourceOperator.find((function(d){d.options.find((function(dr){dr.name===rule.name&&(rule.operatorLabel=dr.operator)}))})),rule.isSpacePicker=!0),_this4.getValueDataType(rule),field=_this4.moduleMeta.fields.filter((function(field){return field.name===rule.fieldName})),rule.isSpacePicker=!1,!(field.length>0)){_context.next=55;break}if("alarmType"===field[0].name&&"alarm"===_this4.module||"preRequestStatus"===field[0].name&&"workorder"===_this4.module?(opId=null,opId="="===rule.operatorLabel||"!="===rule.operatorLabel?"="===rule.operatorLabel?"is":"isn't":rule.operatorLabel,rule.operatorId=_this4.systemEnumOperator[opId].operatorId,rule.active=_this4.systemEnumOperator[opId].valueNeeded):"SYSTEM_ENUM"===field[0].dataTypeEnum._name?(rule.operatorId=_this4.moduleMeta.operators["ENUM"][rule.operatorLabel].operatorId,rule.active=_this4.moduleMeta.operators["ENUM"][rule.operatorLabel].valueNeeded):(rule.operatorId=_this4.moduleMeta.operators[field[0].dataTypeEnum._name][rule.operatorLabel].operatorId,rule.active=_this4.moduleMeta.operators[field[0].dataTypeEnum._name][rule.operatorLabel].valueNeeded),rule.columnName=field[0].completeColumnName,"ENUM"!==field[0].dataTypeEnum._name&&"SYSTEM_ENUM"!==field[0].dataTypeEnum._name&&"MULTI_ENUM"!==field[0].dataTypeEnum._name||_this4.$set(_this4.picklistOptions,rule.fieldName,field[0].enumMap),"BOOLEAN"===field[0].dataTypeEnum._name&&(rule.trueVal=field[0].trueVal,rule.falseVal=field[0].falseVal),!["LOOKUP","MULTI_LOOKUP"].includes(field[0].dataTypeEnum._name)||!field[0].specialType){_context.next=15;break}"role is"===rule.operatorLabel?(roles=_this4.roles.reduce((function(acc,role){return acc[role.id]=role.name,acc}),{}),_this4.$set(_this4.picklistOptions,rule.fieldName,roles)):_this4.loadSpecialTypePickList(field[0].specialType,rule.fieldName),_context.next=40;break;case 15:if(!["LOOKUP","MULTI_LOOKUP"].includes(field[0].dataTypeEnum._name)||!field[0].lookupModule){_context.next=40;break}if("resource"===field[0].lookupModule.name&&(rule.isSpacePicker=!0),"basespace"===field[0].lookupModule.name&&"space"===field[0].name&&(rule.isSpacePicker=!0),"ticketpriority"!==field[0].lookupModule.name){_context.next=24;break}
// handling  key value pair to match existing flow pattern
priority={},_this4.ticketpriority.forEach((function(d){priority[d.id]=d.displayName})),_this4.$set(_this4.picklistOptions,rule.fieldName,priority),_context.next=40;break;case 24:if("ticketstatus"!==field[0].lookupModule.name){_context.next=29;break}statusModule="workorderTimeLog"===_this4.module?"workorder":_this4.module,_this4.$store.dispatch("loadTicketStatus",statusModule).then((function(){_this4.$set(_this4.picklistOptions,rule.fieldName,_this4.getTicketStatusPickList(statusModule))})),_context.next=40;break;case 29:if("readingrule"!==field[0].lookupModule.name){_context.next=39;break}return fetchOptions={lookupModuleName:"readingrule",skipDeserialize:!0},_context.next=33,(0,picklist/* getFieldOptions */._K)({field:fetchOptions});case 33:_yield$getFieldOption=_context.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this4.$message.error(error.message||"Error Occured"):_this4.$set(_this4.picklistOptions,rule.fieldName,options),_context.next=40;break;case 39:_this4.loadPickList(field[0].lookupModule.name,rule.fieldName);case 40:if("formId"===rule.fieldName&&(data={},_this4.woForms&&_this4.woForms.forEach((function(form){data[form.id]=form.displayName})),_this4.$set(_this4.picklistOptions,rule.fieldName,data)),"siteId"===rule.fieldName&&("workorder"===_this4.module?rule.columnName="WorkOrders.SITE_ID":"asset"===_this4.module?rule.columnName="Assets.SITE_ID":"alarmoccurrence"===_this4.module&&(rule.columnName="AlarmOccurrence.SITE_ID"),_data={},_this4.siteList&&_this4.siteList.forEach((function(sit){_data[sit.id]=sit.name})),_this4.$set(_this4.picklistOptions,rule.fieldName,_data)),!field[0].specialType||"basespace"!==field[0].specialType){_context.next=49;break}return oprs=_this4.moduleMeta.operators[field[0].dataTypeEnum._name],oprs["is"]="BUILDING_IS",_this4.$forceUpdate(),_context.abrupt("return",oprs);case 49:if(!("alarmType"===field[0].name&&"alarm"===_this4.module||"preRequestStatus"===field[0].name&&"workorder"===_this4.module)){_context.next=53;break}_this4.loadSpecialTypePickList(field[0].name,rule.fieldName),_context.next=55;break;case 53:return _this4.$forceUpdate(),_context.abrupt("return",_this4.moduleMeta.operators[field[0].dataTypeEnum._name]);case 55:_this4.$forceUpdate();case 56:case"end":return _context.stop()}}),_callee)})))()},getValueDataType:function(rule){if(rule.operatorLabel&&""!==rule.operatorLabel){var field=this.moduleMeta.fields.filter((function(field){return field.name===rule.fieldName}));return"DATE"!==field[0].dataTypeEnum._name&&"DATE_TIME"!==field[0].dataTypeEnum._name||"Age in Days"!==rule.operatorLabel&&"Due in Days"!==rule.operatorLabel?"alarmType"===field[0].name&&"alarm"===this.module||"preRequestStatus"===field[0].name&&"workorder"===this.module||"siteId"===field[0].name||"formId"===field[0].name?(rule.operatorsDataType={dataType:"LOOKUP",displayType:"LOOKUP_SIMPLE"},rule.operatorsDataType):(rule.operatorsDataType={dataType:field[0].dataTypeEnum._name,displayType:field[0].displayType?field[0].displayType._name:"LOOKUP"===field[0].dataTypeEnum._name?"LOOKUP_SIMPLE":null},rule.operatorsDataType):(rule.operatorsDataType={dataType:"NUMBER",displayType:"NUMBER"},rule.operatorsDataType)}return null},setModuleMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Graphics",this.moduleMeta["name"]="graphics",this.moduleMeta["fields"]=this.convertGraphicsVariablesToFileds(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},setCardBuilderMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Card Builder",this.moduleMeta["name"]="cardbuilder",this.moduleMeta["fields"]=this.getCardBuilderFields(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},setTabularModuleMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Tabular",this.moduleMeta["name"]="tabular",this.moduleMeta["fields"]=this.getTabularFields(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},setPivotBuilderMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Pivot Builder",this.moduleMeta["name"]="pivotbuilder",this.moduleMeta["fields"]=variables),this.moduleMetaObject=this.moduleMeta,this.loading=!1},convertGraphicsVariablesToFileds:function(variables){var fields=[];return variables.forEach((function(variable){fields.push({name:variable.key,displayName:variable.label,dataTypeEnum:{_name:variable.dataType},displayType:{_name:"TEXTBOX"}})})),fields},getTabularFields:function(variables){var fields=[],self=this;return variables.forEach((function(rt){fields.push({name:rt.columnAlias,displayName:rt.columnLabel,dataTypeEnum:{_name:rt.dataTypeEnum},displayType:{_name:self.dataTypeToDisplayType[rt.dataTypeEnum]||"TEXTBOX"}})})),fields},getCardBuilderFields:function(variables){var fields=[],self=this;return variables.forEach((function(rt){fields.push({name:rt.name,displayName:rt.displayName,dataTypeEnum:{_name:rt.dataType},displayType:{_name:self.dataTypeToDisplayType[rt.dataType]||"TEXTBOX"}})})),fields},paternToArray:function(pattern){return pattern.split("(")[1].split(")")[0].split(" ")},setConditionOperator:function(pattern){this.paternToArray(pattern).filter((function(rt){return"and"===rt})).length&&!this.paternToArray(pattern).filter((function(rt){return"or"===rt})).length?this.conditionOperator="and":this.paternToArray(pattern).filter((function(rt){return"or"===rt})).length&&!this.paternToArray(pattern).filter((function(rt){return"and"===rt})).length&&(this.conditionOperator="or")},loadModuleMeta:function(editCondi){var _this5=this;if(this.loading=!0,this.$emit("update:isRendering",!0),"graphicsbuilder"===this.module&&this.variables)this.setModuleMeta(this.variables),editCondi&&editCondi.conditions&&(this.setConditionOperator(editCondi.pattern),this.initData(editCondi));else if("cardbuilder"===this.module&&this.variables)this.setCardBuilderMeta(this.variables),editCondi&&editCondi.conditions&&(this.setConditionOperator(editCondi.pattern),this.initData(editCondi));else if("pivotbuilder"===this.module&&this.variables)this.setPivotBuilderMeta(this.variables),editCondi&&editCondi.conditions&&(this.setConditionOperator(editCondi.pattern),this.initData(editCondi));else if("tabular"===this.module&&this.variables)this.setTabularModuleMeta(this.variables),editCondi&&editCondi.conditions&&(this.setConditionOperator(editCondi.pattern),this.initData(editCondi));else if(!this.threshold||"asset"!==this.module&&"space"!==this.module)this.$http.get("/module/metafields?moduleName="+this.module).then((function(response){var spaceObject,assetObject;_this5.moduleMeta=response.data.meta,_this5.moduleMetaObject=_this5.moduleMeta,_this5.showSiteField&&_this5.moduleMetaObject.fields.push(_this5.siteId),_this5.showFormIDField&&_this5.moduleMetaObject.fields.push(_this5.formId),_this5.moduleMetaObject.fields.filter((function(d,i){"resource"===d.name&&(spaceObject=Object.assign({},d),assetObject=Object.assign({},d))})),null===spaceObject&&(spaceObject.displayName="Space",spaceObject.name="space"),null===assetObject&&(assetObject.displayName="Asset",assetObject.name="asset"),_this5.loading=!1,editCondi&&(_this5.setConditionOperator(editCondi.pattern),_this5.initData(editCondi)),_this5.$emit("moduleMetaObject",_this5.moduleMetaObject)}));else{var url=null;"asset"===this.module?url="/module/meta?moduleName="+this.module+"&assetId="+this.readingobj.id+"&categoryId="+this.readingobj.category.id+"&resourceType="+this.module:"space"===this.module&&(url="/module/meta?moduleName="+this.module+"&assetId="+this.readingobj.id+"&categoryId="+this.readingobj.spaceCategory.id+"&resourceType="+this.module),this.$http.get(url).then((function(response){_this5.moduleMeta=response.data.meta,_this5.loading=!1,editCondi&&(_this5.setConditionOperator(editCondi.pattern),_this5.initData(editCondi))}))}},loadSpecialTypePickList:function(specialType,fieldName){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var pickOption,userList,_iterator,_step,user,triggerList,groupList,_iterator2,_step2,group,spaceList,_iterator4,_step4,space,fetchOptions,_yield$getFieldOption2,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(pickOption={},"users"!==specialType){_context2.next=9;break}userList=_this6.$store.state.users,pickOption["${LOGGED_USER}"]="Current User",_iterator=(0,createForOfIteratorHelper/* default */.Z)(userList);try{for(_iterator.s();!(_step=_iterator.n()).done;)user=_step.value,pickOption[user.id]=user.name}catch(err){_iterator.e(err)}finally{_iterator.f()}_this6.$set(_this6.picklistOptions,fieldName,pickOption),_context2.next=48;break;case 9:if("trigger"!==specialType){_context2.next=14;break}triggerList=_this6.$constants.FACILIO_FREQUENCY,_this6.$set(_this6.picklistOptions,fieldName,triggerList),_context2.next=48;break;case 14:if("groups"!==specialType){_context2.next=21;break}groupList=_this6.$store.state.groups,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(groupList);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)group=_step2.value,pickOption[group.groupId]=group.name}catch(err){_iterator2.e(err)}finally{_iterator2.f()}_this6.$set(_this6.picklistOptions,fieldName,pickOption),_context2.next=48;break;case 21:if("requester"!==specialType){_context2.next=25;break}_this6.$http.get("/setup/portalusers").then((function(_ref2){var data=_ref2.data,requesterlist=data.users;_this6.loading=!1;var _step3,pickOption={},_iterator3=(0,createForOfIteratorHelper/* default */.Z)(requesterlist);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _user=_step3.value;pickOption[_user.id]=_user.name}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}_this6.$set(_this6.picklistOptions,fieldName,pickOption)})).catch((function(){})),_context2.next=48;break;case 25:if("basespace"!==specialType){_context2.next=32;break}spaceList=_this6.$store.state.spaces,_iterator4=(0,createForOfIteratorHelper/* default */.Z)(spaceList);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;)space=_step4.value,pickOption[space.id]=space.name}catch(err){_iterator4.e(err)}finally{_iterator4.f()}_this6.$set(_this6.picklistOptions,fieldName,pickOption),_context2.next=48;break;case 32:if("alarmType"!==specialType){_context2.next=36;break}_this6.$set(_this6.picklistOptions,fieldName,_this6.$constants.AlarmCategory),_context2.next=48;break;case 36:if("preRequestStatus"!==specialType){_context2.next=40;break}_this6.$set(_this6.picklistOptions,fieldName,_this6.$constants.PrerequestStatus),_context2.next=48;break;case 40:if("readingrule"!==specialType){_context2.next=48;break}return fetchOptions={lookupModuleName:"readingrule",skipDeserialize:!0},_context2.next=44,(0,picklist/* getFieldOptions */._K)({field:fetchOptions});case 44:_yield$getFieldOption2=_context2.sent,error=_yield$getFieldOption2.error,options=_yield$getFieldOption2.options,error?_this6.$message.error(error.message||"Error Occured"):_this6.$set(_this6.picklistOptions,fieldName,options);case 48:case"end":return _context2.stop()}}),_callee2)})))()},loadPickList:function(moduleName,fieldName){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$getFieldOption3,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:moduleName,skipDeserialize:!0}});case 2:_yield$getFieldOption3=_context3.sent,error=_yield$getFieldOption3.error,options=_yield$getFieldOption3.options,error?_this7.$message.error(error.message||"Error Occured"):("people"===moduleName&&(options["${LOGGED_PEOPLE}"]="Current User"),_this7.$set(_this7.picklistOptions,fieldName,options));case 6:case"end":return _context3.stop()}}),_callee3)})))()},getOperators:function(criteria){var _this8=this;if(criteria.fieldName&&""!==criteria.fieldName){var field=this.moduleMeta.fields.filter((function(field){return field.name===criteria.fieldName}));if((0,validation/* isEmpty */.xb)(field)||"siteId"!==field[0].name||(field[0].dataTypeEnum._name="LOOKUP"),!(0,validation/* isEmpty */.xb)(field)&&field[0].dataTypeEnum._name){var oprs=this.moduleMeta.operators[field[0].dataTypeEnum._name];for(var key in oprs)this.excludeOperators.includes(oprs[key].operatorId)&&delete this.moduleMeta.operators[field[0].dataTypeEnum._name][key]}if(field.length){if("LOOKUP"===field[0].dataTypeEnum._name&&field[0].lookupModule&&"resource"===field[0].lookupModule.name)return void(criteria.isResourceOperator=!0);if(field[0].specialType&&"basespace"===field[0].specialType){criteria.isResourceOperator=!1;var _oprs=this.moduleMeta.operators[field[0].dataTypeEnum._name];return _oprs["is"]="BUILDING_IS",_oprs}if("DATE"===field[0].dataTypeEnum._name||"DATE_TIME"===field[0].dataTypeEnum._name){criteria.isResourceOperator=!1;var remove=[];Object.keys(this.moduleMeta.operators[field[0].dataTypeEnum._name]).forEach((function(d){-1===_this8.valueNotNeed.indexOf(d)&&remove.push(d)})),remove&&remove.filter((function(d){delete _this8.moduleMeta.operators[field[0].dataTypeEnum._name][d]}))}else if("ENUM"===field[0].dataTypeEnum._name)delete this.moduleMeta.operators[field[0].dataTypeEnum._name]["value is"],delete this.moduleMeta.operators[field[0].dataTypeEnum._name]["value isn't"];else{if(12===field[0].dataType&&"SYSTEM_ENUM"===field[0].dataTypeEnum._name){var operators={},_oprs2=this.moduleMeta.operators["ENUM"];for(var _key in _oprs2)this.excludeOperators.includes(_oprs2[_key].operatorId)&&delete this.moduleMeta.operators["ENUM"][_key];return Object.keys(this.moduleMeta.operators["ENUM"]).forEach((function(operator){["value is","value isn't"].includes(operator)||(operators[operator]=_this8.moduleMeta.operators["ENUM"][operator])})),operators}if("LOOKUP"===field[0].dataTypeEnum._name){var _operators={};return"space"===field[0].name||!(0,validation/* isEmpty */.xb)(field[0].lookupModule)&&"building"===field[0].lookupModule.name?Object.keys(this.moduleMeta.operators[field[0].dataTypeEnum._name]).forEach((function(operator){"role is"===operator&&"users"!==field[0].specialType||(_operators[operator]=_this8.moduleMeta.operators[field[0].dataTypeEnum._name][operator])})):Object.keys(this.moduleMeta.operators[field[0].dataTypeEnum._name]).forEach((function(operator){"building_is"===operator||"role is"===operator&&"users"!==field[0].specialType||(_operators[operator]=_this8.moduleMeta.operators[field[0].dataTypeEnum._name][operator])})),_operators}if("alarmType"===field[0].name&&"alarm"===this.module||"preRequestStatus"===field[0].name&&"workorder"===this.module)return this.systemEnumOperator}return this.moduleMeta.operators[field[0].dataTypeEnum._name]}}return null},addCreteria:function(){var keyId,conditionLength=Object.keys(this.rule.conditions).length;keyId=0===conditionLength?1:parseInt(Object.keys(this.rule.conditions)[conditionLength-1])+1,this.$set(this.rule.conditions,keyId,{});var tokens=this.tokenize(this.rule.pattern),postfix=this.postfix(tokens);this.addOperand(postfix,keyId);var expressionTree=this.expressionTree(postfix),infix=[];this.infix(expressionTree,infix),this.rule.resourceOperator=!1,this.rule.pattern=this.toPattern(infix)},deleteCreteria:function(index){this.$delete(this.rule.conditions,index);var pat=Object.keys(this.rule.conditions).join(" ".concat(this.conditionOperator," "));this.rule.pattern="("+pat+")"},addOperand:function(postfix,key){var len=postfix.length;postfix.push(key),0!==len&&postfix.push(this.conditionOperator)},toPattern:function(infix){var pattern="";return infix.forEach((function(e){pattern+="and"===e||"or"===e?" ".concat(e," "):e})),pattern},expressionTree:function(postfix){var stack=[];return postfix.forEach((function(e){if("and"===e||"or"===e){var right=stack.pop(),left=stack.pop(),node={left:left,right:right,data:e,parent:null,isRightChild:null};right.parent=node,right.isRightChild=!0,left.parent=node,left.isRightChild=!1,stack.push(node)}else stack.push({data:e})})),0===stack.length?{}:stack[0]},infix:function(expressionTree,expression){if(expressionTree){if(!expressionTree.parent&&!expressionTree.left&!expressionTree.right)return expression.push("("),expression.push(expressionTree.data),void expression.push(")");var addBracket=expressionTree&&/[a-z]+/.test(expressionTree.data)&&(!expressionTree.parent||"or"===expressionTree.data&&"and"===expressionTree.parent.data);addBracket&&expression.push("("),this.infix(expressionTree.left,expression),expression.push(expressionTree.data),this.infix(expressionTree.right,expression),addBracket&&expression.push(")")}},postfix:function(tokens){var _this9=this,stack=[],output=[],current=-1,prev=null;if(tokens.forEach((function(e){var pass=/\d+/.test(e)||"and"===e||"or"===e||")"===e||"("===e;if(!pass)throw new Error("Invalid Character");if("("===e&&null!==prev&&"("!==prev&&"and"!==prev&&"or"!==prev)throw new Error("Invalid Expression");if(")"===e&&")"!==prev&&!/\d+/.test(prev))throw new Error("Invalid Expression");if(!("and"!==e&&"or"!==e||")"===prev||/\d+/.test(prev)))throw new Error("Invalid Expression");if(/\d+/.test(e)&&prev&&"("!==prev&&"and"!==prev&&"or"!==prev)throw new Error("Invalid Expression");if("("===e)stack[++current]=e;else if(/\d+/.test(e)){if(!_this9.rule.conditions[e])throw new Error("Invalid Expression");output.push(e)}else if("and"===e){while(current>-1&&"("!==stack[current]&&"or"!==stack[current])output.push(stack[current]),current--;stack[++current]=e}else if("or"===e){while(current>-1&&"("!==stack[current])output.push(stack[current]),current--;stack[++current]=e}else if(")"===e){while(current>-1&&"("!==stack[current])output.push(stack[current]),current--;"("===stack[current]&&current--}prev=e})),-1!==current)throw new Error("Invalid Expression");return output},tokenize:function(pattern){var _step5,tokens=[],curr="",_iterator5=(0,createForOfIteratorHelper/* default */.Z)(pattern);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var c=_step5.value;"("===c?tokens.push(c):")"===c?(""!==curr&&(tokens.push(curr),curr=""),tokens.push(c)):/\d/.test(c)?"and"===curr||"or"===curr||"("===curr?(tokens.push(curr),curr=""):""===curr||/\d/.test(curr.charAt(curr.length-1))?curr+=c:(tokens.push(curr),curr=c):/[a-z]/.test(c)?(""!==curr&&/\d/.test(curr.charAt(curr.length-1))&&(tokens.push(curr),curr=""),curr+=c,"and"!==curr&&"or"!==curr||(tokens.push(curr),curr="")):/\s/.test(c)?""!==curr&&(tokens.push(curr),curr=""):(""!==curr&&tokens.push(curr),curr="",tokens.push(c))}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return""!==curr&&tokens.push(curr),tokens}}},components_NewCriteriaBuildervue_type_script_lang_js=NewCriteriaBuildervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewCriteriaBuildervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewCriteriaBuilder=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/59850.js.map