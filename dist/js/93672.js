(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[93672],{
/***/303514:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AsyncButton}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/AsyncButton.vue?vue&type=template&id=16ca9ad1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-button",_vm._b({class:_vm.buttonClass,attrs:{loading:_vm.showLoading,type:_vm.buttonType,size:_vm.size,disabled:_vm.disabled},on:{click:function($event){return _vm.save()}}},"el-button",_vm.$attrs,!1),[_vm._t("default")],2)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),AsyncButtonvue_type_script_lang_js=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),{props:["clickAction","actionParams","buttonType","buttonClass","size","disabled","loading"],data:function(){return{isLoading:!1}},computed:{showLoading:function(){return this.loading||this.isLoading}},methods:{save:function(){var _this=this;if(this.clickAction&&"function"===typeof this.clickAction){this.isLoading=!0;var returnPromise=this.actionParams?this.clickAction.apply(this,(0,toConsumableArray/* default */.Z)(this.actionParams)):this.clickAction(),minimumTimeout=this.$helpers.delay(1e3);returnPromise?Promise.all([returnPromise,minimumTimeout]).finally((function(){_this.isLoading=!1})):this.$helpers.delay(1e3).then((function(){return _this.isLoading=!1}))}}}}),components_AsyncButtonvue_type_script_lang_js=AsyncButtonvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AsyncButtonvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AsyncButton=component.exports},
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/874249:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return RichTextArea}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/RichTextArea.vue?vue&type=template&id=7711575b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isRichText?_c("div",{staticClass:"richtext-area"},[_c("RichText",{style:{minHeight:_vm.minHeight,maxHeight:_vm.maxHeight,overflow:_vm.overflow},attrs:{readOnly:_vm.disabled,placeholder:_vm.placeholder,hideImgTool:_vm.hideImgTool,hideUnorderedList:_vm.hideUnorderedList,hideOrderedList:_vm.hideOrderedList,secondaryToolbar:_vm.secondaryToolbar,istoolbarPositionBottom:_vm.istoolbarPositionBottom,isMoreOption:_vm.isMoreOption,customToolOrder:_vm.customToolOrder,iconColor:_vm.iconColor},scopedSlots:_vm._u([_vm.canShowModeToggle?{key:"editorMode",fn:function(){return[_c("div",{staticClass:"self-center marginL-auto mR15 cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.plain_text_mode"))+" ")])]},proxy:!0}:null],null,!0),model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1):_c("div",{staticClass:"richtext-area plain-text-mode"},[_c("div",{staticClass:"richtext-editor"},[_c("div",{staticClass:"richtext-toolbar"},[_c("div",{staticClass:"toolbar-button marginL-auto cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.switch_to_richtext"))+" ")])]),_c("el-input",{key:"plain-text",staticClass:"richtext-content",attrs:{type:"textarea",resize:"none",placeholder:_vm.placeholder},model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1)])},staticRenderFns=[],ui_forms=(__webpack_require__(879288),__webpack_require__(141323)),filters=__webpack_require__(638203),RichTextAreavue_type_script_lang_js={props:{value:{type:String},field:{type:Object},rows:{type:Number,default:10},maxRows:{type:Number,default:12},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Enter text here"},isEdit:{type:Boolean,default:!1},hideImgTool:{type:Boolean,default:!1},hideOrderedList:{type:Boolean,default:!1},hideUnorderedList:{type:Boolean,default:!1},isRichTextMode:{type:Boolean,default:!0},canShowModeToggle:{type:Boolean,default:!1},istoolbarPositionBottom:{type:Boolean},customToolOrder:{type:Array},isMoreOption:{type:Boolean},secondaryToolbar:{type:Boolean},iconColor:{type:String}},components:{RichText:ui_forms/* RichText */.Ho},computed:{content:{get:function(){return this.value},set:function(value){this.$emit("input",value)}},isRichText:{get:function(){return this.isRichTextMode},set:function(value){this.$emit("update:isRichTextMode",value)}},
// Assuming a <p></p> tag inside editor
// has fonts-size 1rem and margin-bottom 1rem
minHeight:function(){return"".concat(2*this.rows,"rem")},maxHeight:function(){return"".concat(2*this.maxRows,"rem")},overflow:function(){return"hidden"}},methods:{changeMode:function(){var isRichText=this.isRichText,value=this.value;if(isRichText)this.showConfirmModeSwitch();else{var htmlContent="<p>".concat(value,"</p>");this.content=htmlContent,this.proceedChangingModes()}},showConfirmModeSwitch:function(){var _this=this,dialogObj={htmlMessage:"".concat(this.$t("forms.builder.switch_alert")),rbDanger:!0,rbLabel:"Confirm"};this.$dialog.confirm(dialogObj).then((function(canProceed){if(canProceed){var value=_this.value,textContent=(0,filters/* htmlToText */.s9)(value);_this.content=textContent,_this.proceedChangingModes()}}))},proceedChangingModes:function(){var isRichText=this.isRichText;this.isRichText=!isRichText}}},forms_RichTextAreavue_type_script_lang_js=RichTextAreavue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_RichTextAreavue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RichTextArea=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/786113:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkOrderSpecialFieldsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/WorkOrderSpecialFieldsList.vue?vue&type=template&id=c5129894
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",["resource"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position",staticStyle:{"min-width":"170px"}},[_vm.$validation.isEmpty(_vm.moduleData.resource)||_vm.$validation.isEmpty(_vm.moduleData.resource.id)?_c("div",[_c("span",{staticClass:"q-item-label secondary-color color-d"},[_vm._v("--- "+_vm._s(_vm.$t("maintenance.wr_list.space_asset"))+" ---")])]):_c("div",[_c("div",{staticClass:"flLeft mR7"},[1===_vm.moduleData.resource.resourceType?_c("img",{staticStyle:{height:"12px",width:"14px"},attrs:{src:__webpack_require__(572902)}}):_c("img",{staticStyle:{height:"11px",width:"14px"},attrs:{src:__webpack_require__(30684)}})]),_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"flLeft q-item-label ellipsis max-width140px",attrs:{small:"","data-position":"bottom",title:_vm.moduleData.resource.name}},[_vm._v(_vm._s(_vm.moduleData.resource.name))])])]):"assignedTo"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position wo_assignedto_avatarblock"},[_c("div",{staticClass:"wo-assigned-avatar fL"},[_c("user-avatar",{attrs:{size:"md",user:_vm.moduleData.assignedTo,group:_vm.moduleData.assignmentGroup,showLabel:!0,moduleName:"lookupModuleName"}})],1)]):"noOfNotes"===_vm.field.name?_c("div",[_vm._m(0),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.notesLabel))])]):"noOfTasks"===_vm.field.name?_c("div",[_vm.canShowTaskIcon?_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/task-list",iconClass:"icon icon-sm mT5 mR5 task-icon"}}):_vm._e(),_c("span",{staticClass:"q-item-sublabel pL5"},[_vm._v(_vm._s(_vm.taskLabel))])],1):"noOfAttachments"===_vm.field.name?_c("div",{staticStyle:{float:"left"}},[_vm._m(1),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.attachmentLabel))])]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(293656)}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(345265)}})])}],User=(__webpack_require__(634338),__webpack_require__(426803)),validation=__webpack_require__(990260),WorkOrderSpecialFieldsListvue_type_script_lang_js={components:{UserAvatar:User/* default */.Z},props:["field","moduleData"],computed:{canShowTaskIcon:function(){var moduleData=this.moduleData;return!(0,validation/* isEmpty */.xb)(moduleData.noOfTasks)&&0!==moduleData.noOfNotes},taskLabel:function(){var moduleData=this.moduleData,noOfTasks=moduleData.noOfTasks,noOfNotes=moduleData.noOfNotes,noOfClosedTasks=moduleData.noOfClosedTasks,taskLabel="---";return(0,validation/* isEmpty */.xb)(noOfTasks)||0===noOfNotes?taskLabel:(0,validation/* isEmpty */.xb)(noOfClosedTasks)?"0":"".concat(noOfClosedTasks,"/").concat(noOfTasks)},notesLabel:function(){var moduleData=this.moduleData,noOfNotes=moduleData.noOfNotes;return(0,validation/* isEmpty */.xb)(noOfNotes)||0===noOfNotes?"0":moduleData.noOfNotes},attachmentLabel:function(){var moduleData=this.moduleData,_ref=moduleData||{},noOfAttachments=_ref.noOfAttachments;return(0,validation/* isEmpty */.xb)(noOfAttachments)||0===noOfAttachments?"0":noOfAttachments}}},list_WorkOrderSpecialFieldsListvue_type_script_lang_js=WorkOrderSpecialFieldsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_WorkOrderSpecialFieldsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderSpecialFieldsList=component.exports},
/***/760218:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PageBuilder}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/PageBuilder.vue?vue&type=template&id=0dd0982f
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.showPage&&_vm.pagebuilderComponent?_c(_vm.pagebuilderComponent,_vm._b({tag:"component",attrs:{module:_vm.module},on:{forceOldPage:function($event){_vm.forceOld=!0}}},"component",_vm.$attrs,!1)):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),vuex_esm=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(420629)),PageBuildervue_type_script_lang_js={props:["module"],data:function(){return{forceOld:!1,showPage:!1}},components:{NewPageBuilder:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(44119),__webpack_require__.e(88262),__webpack_require__.e(82080),__webpack_require__.e(88506)]).then(__webpack_require__.bind(__webpack_require__,110570))},OldPageBuilder:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(23803),__webpack_require__.e(55246)]).then(__webpack_require__.bind(__webpack_require__,223803))}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!_this.$helpers.isLicenseEnabled("PAGE_BUILDER")){_context.next=4;break}return _context.next=4,_this.$store.dispatch("pagebuilder/loadNewPageEnabledModules");case 4:_context.next=8;break;case 6:_context.prev=6,_context.t0=_context["catch"](0);case 8:_this.$nextTick((function(){_this.showPage=!0}));case 9:case"end":return _context.stop()}}),_callee,null,[[0,6]])})))()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({newPageEnabledModules:function(state){return state.pagebuilder.newPageEnabledModules}})),{},{pagebuilderComponent:function(){var newPageEnabledModules=this.newPageEnabledModules,module=this.module,forceOld=this.forceOld,isNew=(newPageEnabledModules||[]).includes(module),showNew=!forceOld&&(this.showNewPageBuilder||isNew);return showNew?"NewPageBuilder":"OldPageBuilder"},showNewPageBuilder:function(){var query=this.$route.query,_query$showNewPageBui=query.showNewPageBuilder,showNewPageBuilder=void 0!==_query$showNewPageBui&&_query$showNewPageBui;return!0===showNewPageBuilder||"true"===showNewPageBuilder}})},page_PageBuildervue_type_script_lang_js=PageBuildervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(page_PageBuildervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PageBuilder=component.exports},
/***/806339:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/utils/WidgetPagination.vue?vue&type=template&id=6b10cd5b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-widget-pagination"},[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_vm._v(" of "+_vm._s(_vm.total)+" "),_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],WidgetPaginationvue_type_script_lang_js={props:["currentPage","perPage","total","hideToggle"],data:function(){return{from:0,to:0,page:1}},mounted:function(){this.init()},watch:{total:function(){this.init()},currentPage:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage||1,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.updateCurrentPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.updateCurrentPage()},updateCurrentPage:function(){
// Update currentPage value
this.$emit("update:currentPage",this.page),this.$emit("onChange")}}},utils_WidgetPaginationvue_type_script_lang_js=WidgetPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(utils_WidgetPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WidgetPagination=component.exports},
/***/323796:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return TransitionForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/stateflow/TransitionForm.vue?vue&type=template&id=406a8f2a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-header-hide wo-state-transition-dialog-center",staticStyle:{"z-index":"999999"},attrs:{"append-to-body":!0,visible:!0,"custom-class":"wo-web-form",width:_vm.hasMultiColumnElements?"70%":"35%"}},[_vm.isLoading||_vm.isFormDataLoading?_c("Spinner",{attrs:{size:"80",show:!0}}):[_c("div",{staticClass:"header pL30 pB20 pT10 d-flex bold"},[_c("div",{staticClass:"title mT10"},[_vm._v(_vm._s(_vm.formObj.displayName))])]),_c("f-webform",{attrs:{form:_vm.formObj,module:_vm.moduleName,isSaving:_vm.isSaving,isV3Api:_vm.isV3Api,canShowNotifyRequester:_vm.canShowNotifyRequester,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,isEdit:!0,isEditForm:!0,moduleData:_vm.moduleData,moduleDataId:_vm.moduleDataId,modifyFieldPropsHook:_vm.modifyFieldPropsHook,formLabelPosition:"top"},on:{"update:form":function($event){_vm.formObj=$event},save:_vm.submitForm,cancel:_vm.closeAction}})]],2)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FormCreation=(__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(260228),__webpack_require__(373729)),FWebform=__webpack_require__(434500),validation=__webpack_require__(990260),api=__webpack_require__(32284),CustomButtonUtil=__webpack_require__(746095),TransitionFormvue_type_script_lang_js={extends:FormCreation/* default */.Z,components:{FWebform:FWebform/* default */.Z},props:["moduleName","recordId","transition","record","formId","closeAction","saveAction","isExternalModule","isV3","actionType","isFormOfCustomButton"],data:function(){return{isSaving:!1,selectedForm:{id:this.formId},isFormDataLoading:!1,hasMultiColumnElements:!1,isLoading:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!_this.formId){_context.next=5;break}return _context.next=3,_this.loadModuleData();case 3:return _context.next=5,_this.loadFormData();case 5:case"end":return _context.stop()}}),_callee)})))()},computed:{moduleDataId:function(){return this.recordId},canShowNotifyRequester:function(){var moduleName=this.moduleName,record=this.record;return"workorder"===moduleName&&!(0,validation/* isEmpty */.xb)((record||{}).requester)},isV3Api:function(){return this.isV3}},methods:{init:function(){
// override to prevent default code in formcreation
},loadFormData:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var selectedForm,moduleName,moduleData,transition,formModuleName,id,name,formObj,_moduleName,formUrl,_yield$API$get,error,data,form,sections;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return selectedForm=_this2.selectedForm,moduleName=_this2.moduleName,moduleData=_this2.moduleData,transition=_this2.transition,formModuleName=transition.formModuleName,id=selectedForm.id,name=selectedForm.name,formObj={},_moduleName=_this2.isExternalModule?formModuleName:moduleName,formUrl=-1===id?"/v2/forms/".concat(_moduleName,"?formName=").concat(name,"&fetchFormRuleFields=true"):"/v2/forms/".concat(_moduleName,"?formId=").concat(id,"&fetchFormRuleFields=true"),_this2.isLoading=!0,_context2.next=9,api/* API */.bl.get(formUrl);case 9:return _yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message):(form=data.form,(0,validation/* isEmpty */.xb)(form)||(formObj=form,_this2.$set(_this2,"formObj",formObj),_this2.setFormLabels(),form.sections&&(
// Check if there are any subforms
// TODO: Also handle for cases where fields with
// span !== 1..ie multiple fields in the same row
sections=form.sections,_this2.hasMultiColumnElements=sections.some((function(section){return section.subFormId>0}))),_this2.isExternalModule||(0,validation/* isEmpty */.xb)(moduleData)||_this2.deserializeData(moduleData))),_this2.isLoading=!1,_context2.abrupt("return",formObj);case 15:case"end":return _context2.stop()}}),_callee2)})))()},setFormLabels:function(){this.formObj.primaryBtnLabel=this.$t("common.roles.save"),this.formObj.secondaryBtnLabel=this.$t("common._common.cancel")},loadModuleData:function(){var _this3=this;
// Keeping this async in case we need to load data from api here
return(0,validation/* isEmpty */.xb)(this.record)?Promise.resolve():new Promise((function(resolve){_this3.$set(_this3,"moduleData",_this3.record),resolve()}))},modifyFieldPropsHook:function(field){var moduleName=this.moduleName,recordId=this.recordId,isFormOfCustomButton=this.isFormOfCustomButton,actionType=this.actionType,isExternalModule=this.isExternalModule,_ref=field||{},displayTypeEnum=_ref.displayTypeEnum,lookupModuleName=_ref.lookupModuleName,isRelatedModuleField="LOOKUP_SIMPLE"===displayTypeEnum&&lookupModuleName===moduleName,isDisabled=isFormOfCustomButton?actionType===CustomButtonUtil/* ACTION_TYPES */.aI.CREATE_RECORD:isExternalModule;if(isRelatedModuleField)return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{isDisabled:isDisabled,value:recordId})},submitForm:function(data){var _this4=this;this.isSaving=!0;var formObj=this.formObj,formId=this.formId,_data=data,subFormFiles=_data.subFormFiles;data=this.serializedData(formObj,data),subFormFiles&&(data=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},data),{},{subFormFiles:subFormFiles})),this.saveAction(data,formId).catch((function(){_this4.closeAction()})).finally((function(){_this4.isSaving=!1}))}}},stateflow_TransitionFormvue_type_script_lang_js=TransitionFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(stateflow_TransitionFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,TransitionForm=component.exports},
/***/487390:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Sort}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/Sort.vue?vue&type=template&id=31d08398&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-sort-popover p0"},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"sort-popover page-sort-popover","visible-arrow":!0,tabindex:-1},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("el-input",{staticClass:"tag-list-search",attrs:{type:"text",placeholder:"Search..."},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}}),_c("div",{staticClass:"pointer user-select-none sort-icon-container",attrs:{slot:"reference"},slot:"reference"},[_c("img",{staticClass:"sort-icon",attrs:{src:__webpack_require__(137308)}})]),_c("div",{staticClass:"sort-popovernew",attrs:{link:""}},_vm._l(_vm.filteredSortFieldList,(function(field,index){return _c("div",{key:index,staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderBy(field.name),_vm.close()}}},[_c("div",{staticClass:"fc-div-hover page-sort-list",class:{"selected flex-middle":_vm.orderBy===field.name},attrs:{label:field.name}},[_vm._v(" "+_vm._s(field.displayName)+" ")]),_c("i",{class:{"el-icon-check":_vm.orderBy===field.name}})])})),0),_c("div",{staticClass:"scr-sep"}),_c("div",{staticClass:"sort-popovernew"},[_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("asc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle"},[_vm.config.orderType?_c("div",{attrs:{separator:""}},[_c("div",{class:{selected:"asc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.ascending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"asc"===_vm.orderType}})]),_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("desc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle active-sort-type"},[_vm.config.orderType?_c("div",[_c("div",{class:{selected:"desc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.descending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"desc"===_vm.orderType}})])])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),Sortvue_type_script_lang_js={props:["config","sortList","excludeFields"],data:function(){return{visible:!1,search:"",skipDisplayTypeHash:["MULTI_LOOKUP","MULTI_ENUM","MULTI_LOOKUP_SIMPLE","LOOKUP_SIMPLE","LOOKUP_POPUP"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{orderBy:function(){var orderBy=this.config.orderBy;return(0,validation/* isObject */.Kn)(orderBy)?orderBy.value:(0,validation/* isEmpty */.xb)(orderBy)?null:orderBy},orderType:function(){return this.config.orderType?this.config.orderType:null},filteredSortFieldList:function(){var search=this.search,sortListDataType=this.sortListDataType;return(0,validation/* isEmpty */.xb)(search)?sortListDataType||[]:(sortListDataType||[]).filter((function(fld){var displayName=fld.displayName,lcDisplayName=displayName.toLowerCase(),lcSearch=search.toLowerCase();return lcDisplayName.includes(lcSearch)}))},sortListDataType:function(){var _this=this,moduleMeta=this.moduleMeta,_this$excludeFields=this.excludeFields,excludeFields=void 0===_this$excludeFields?[]:_this$excludeFields,skipDisplayTypeHash=this.skipDisplayTypeHash;if(!(0,validation/* isEmpty */.xb)(moduleMeta)){var _ref=moduleMeta||{},fields=_ref.fields,currentSortFields=(fields||[]).filter((function(fld){return(_this.sortList||[]).includes(null===fld||void 0===fld?void 0:fld.name)})),filteredFields=(currentSortFields||[]).filter((function(fld){var _ref2=fld||{},displayType=_ref2.displayType,fieldName=_ref2.name,_ref3=displayType||{},_name=_ref3._name;return!skipDisplayTypeHash.includes(_name)&&!(excludeFields||[]).includes(fieldName)}));return(filteredFields||[]).map((function(fld){return{name:fld.name,displayName:fld.displayName}}))}return[]}}),methods:{close:function(){this.visible=!1},updateOrderBy:function(orderBy){this.config.orderBy=orderBy,this.$emit("onchange",{orderBy:orderBy,orderType:this.orderType})},updateOrderType:function(orderType){this.config.orderType=orderType,this.$emit("onchange",{orderBy:this.orderBy,orderType:orderType})}}},components_Sortvue_type_script_lang_js=Sortvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Sortvue_type_script_lang_js,render,staticRenderFns,!1,null,"31d08398",null)
/* harmony default export */,Sort=component.exports},
/***/105402:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SummarySideBar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/SummarySideBar.vue?vue&type=template&id=28fb6c2a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height-100"},[_vm._t("title"),_c("ul",{staticClass:"mT10 p0 side-bar-list"},[_c("v-infinite-scroll",{staticClass:"overflow-y-scroll",attrs:{loading:_vm.isLoading,offset:20},on:{bottom:_vm.nextPage}},_vm._l(_vm.lists,(function(record,index){return _c("div",{key:index,staticClass:"pointer list-item",class:{active:_vm.currentId===record.id}},[_vm._t("default",null,{record:record})],2)})),0),_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1)],2)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),v_infinite_scroll=(__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),SummarySideBarvue_type_script_lang_js={props:["list","isLoading","activeRecordId","total","currentCount","currentPage","perPage"],data:function(){return{currentId:-1,lists:[]}},components:{VInfiniteScroll:v_infinite_scroll_default()},computed:{page:function(){return this.currentPage?this.currentPage:parseInt(this.$route.query.page||1)}},watch:{activeRecordId:{handler:function(newValue){this.currentId=newValue},immediate:!0},list:{handler:function(newValue){this.isLoading?this.lists=[].concat((0,toConsumableArray/* default */.Z)(this.lists),(0,toConsumableArray/* default */.Z)(newValue)):this.lists=(0,toConsumableArray/* default */.Z)(newValue),this.$emit("update:isLoading",!1)},immediate:!0}},methods:{nextPage:function(){var page=this.page,total=this.total,currentCount=this.currentCount,perPage=this.perPage,query=this.$route.query,canTraverseNextPage=total>(page-1)*(perPage||50)+currentCount;canTraverseNextPage&&(this.$emit("nextPage"),this.$router.push({query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{page:page+1})}))}}},components_SummarySideBarvue_type_script_lang_js=SummarySideBarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SummarySideBarvue_type_script_lang_js,render,staticRenderFns,!1,null,"28fb6c2a",null)
/* harmony default export */,SummarySideBar=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/714218:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DeprecatedCommonLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/list/DeprecatedCommonLayout.vue?vue&type=template&id=33b4bc06
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout common-list-layout d-flex"},[_vm._t("views-list",(function(){return[_vm.canShowViewsSidePanel&&!_vm.hideViewSidebar?_c("ViewsList",{attrs:{canShowViewsSidePanel:_vm.canShowViewsSidePanel,groupViews:_vm.groupViews,moduleName:_vm.moduleName},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},onChange:_vm.goToView}}):_vm._e()]})),_c("div",{staticClass:"list-content-container"},[_c("div",{class:["view-header-container subheader-section",!0===_vm.hasQuery&&"filter-class"]},[_vm._t("views",(function(){return[_c("ViewHeader",{attrs:{moduleName:_vm.moduleName,showRearrange:_vm.showViewRearrange,showCurrentViewOnly:_vm.showSearch,maxVisibleMenu:_vm.visibleViewCount,showEditIcon:_vm.showViewEdit,pathPrefix:_vm.pathPrefix,retainFilters:_vm.filtersToRetain,canShowViewsSidePanel:_vm.canShowViewsSidePanel},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},viewsLoaded:function($event){return _vm.$emit("viewsLoaded")},hideViewSidebar:function(val){return _vm.hideViewSidebar=val}}})]})),_c("div",{staticClass:"fR fc-subheader-right"},[_vm._t("header")],2)],2),_c("div",{staticClass:"height100 common-content-container"},[_vm._t("content"),_vm._t("default")],2)])],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(169358),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(420629)),validation=__webpack_require__(990260),ViewHeader=__webpack_require__(629039),ViewsSidePanel=__webpack_require__(409886),router=__webpack_require__(329435),DeprecatedCommonLayoutvue_type_script_lang_js={props:["moduleName","getPageTitle","showViewRearrange","visibleViewCount","showViewEdit","pathPrefix","retainFilters"],components:{ViewHeader:ViewHeader/* default */.Z,ViewsList:ViewsSidePanel/* default */.Z},created:function(){this.$store.dispatch("view/clearViews").catch((function(){})),(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},data:function(){return{currentModuleName:this.moduleName,hideViewSidebar:!1,isSidePanelOpen:JSON.parse(localStorage.getItem("fc-view-sidepanel"))||!1}},title:function(){var title=this.getPageTitle();return(0,validation/* isEmpty */.xb)(title)?"":title},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo},viewDetail:function(state){return state.view.currentViewDetail},showSearch:function(state){return state.search.active},currentTab:function(state){return state.webtabs.selectedTab},groupViews:function(state){return(0,validation/* isEmpty */.xb)(state.view.groupViews)?[]:state.view.groupViews}})),{},{currentView:function(){var $route=this.$route;return $route.params.viewname?$route.params.viewname:null},filtersToRetain:function(){var retainFilters=this.retainFilters;return(0,validation/* isNull */.Ft)(retainFilters)?[]:(0,validation/* isEmpty */.xb)(retainFilters)?["search","includeParentFilter"]:retainFilters},hasQuery:function(){var query=this.$route.query;return""===query.filters||!!query.filters},canShowViewsSidePanel:{get:function(){var isSidePanelOpen=this.isSidePanelOpen,$slots=this.$slots,isViewHeaderOverriden=!(0,validation/* isEmpty */.xb)($slots.views);return isSidePanelOpen&&!isViewHeaderOverriden},set:function(value){this.isSidePanelOpen=value,localStorage.setItem("fc-view-sidepanel",value)}}}),watch:{moduleName:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},$route:function(newVal,oldVal){newVal.params.viewname!==oldVal.params.viewname&&this.setPageTitle()},metaInfo:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},currentView:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!newVal||oldVal===newVal){_context.next=5;break}return _context.next=3,_this.loadViewDetails();case 3:_this.getMetaInfo(),_this.setPageTitle();case 5:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{reloadList:function(){var routeParams=this.$getProperty(this,"$route.params");this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:""})}).catch((function(){})),this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:routeParams.viewname})}).catch((function(){}))},getMetaInfo:function(){this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){}))},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if("rearrange-views"===viewname)return void(this.showReorderPanel=!0);var currentTab=this.currentTab,_this$retainFilters=this.retainFilters,retainFilters=void 0===_this$retainFilters?[]:_this$retainFilters,query=this.$route.query,hasRetainableQuery=retainFilters.some((function(filterName){return query.hasOwnProperty(filterName)}));if((0,router/* isWebTabsEnabled */.tj)()){var route=(0,router/* findRouteForTab */.OD)(currentTab.id,{pageType:router/* pageTypes */.As.LIST})||{};route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{viewname:viewname},query:hasRetainableQuery?query:null})).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path,query:query}).catch((function(){}))}}},getPathForView:function(view){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(view.name)},loadViewDetails:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName}).catch((function(){}))},setPageTitle:function(){var getPageTitle=this.getPageTitle,setTitle=this.setTitle,currentView=this.currentView,title=getPageTitle(currentView);(0,validation/* isEmpty */.xb)(title)||setTitle(title)},keyDownHandler:function(e){if(e.shiftKey&&"N"===e.key&&(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref.name;"body"===e.target.localName&&name&&this.$router.push({name:name}).catch((function(){}))}}}},list_DeprecatedCommonLayoutvue_type_script_lang_js=DeprecatedCommonLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_DeprecatedCommonLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DeprecatedCommonLayout=component.exports},
/***/712290:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ApprovalList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/approvals/ApprovalList.vue?vue&type=template&id=65af139c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout new-approval-list"},[_vm.isSummaryOpen?_c("div",{staticClass:"d-flex height100"},[_c("div",{staticClass:"height100vh full-layout-white fc-border-left fc-border-right approval-sidebar-list"},[_c("summary-side-bar",{attrs:{list:_vm.list,isLoading:_vm.loading,activeRecordId:_vm.selectedRecordId,total:_vm.listCount,currentCount:(_vm.list||[]).length,currentPage:_vm.page-1},on:{"update:isLoading":function($event){_vm.loading=$event},"update:is-loading":function($event){_vm.loading=$event},nextPage:_vm.loadApprovals},scopedSlots:_vm._u([{key:"title",fn:function(){return[_c("el-row",{staticClass:"p15 pT20 pB20 fc-border-bottom"},[_c("el-col",{attrs:{span:2}},[_c("span",{on:{click:function($event){return _vm.openList()}}},[_c("inline-svg",{staticClass:"rotate-90 pointer",attrs:{src:"svgs/arrow",iconClass:"icon icon-sm"},on:{click:function($event){return _vm.openList()}}})],1)]),_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"bold"},[_vm._v(_vm._s(_vm.getViewName(_vm.currentView)))])])],1)]},proxy:!0},{key:"default",fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"list-label p20",on:{click:function($event){return _vm.openSummary(record)}}},[_c("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                placement: 'top',\n                animation: 'shift-away',\n                arrow: true,\n              }"}],attrs:{title:record.subject||record.name}},[_vm._v(" "+_vm._s(record.subject||record.name)+" ")])])]}}],null,!1,167557046)})],1),_c("div",{staticClass:"flex-grow"},[_c("ApprovalSummary",{key:_vm.selectedRecordId,attrs:{id:_vm.selectedRecordId,moduleName:_vm.moduleName,details:_vm.list.find((function(ref){var id=ref.id;return id===_vm.selectedRecordId})),updateUrl:_vm.moduleUpdateUrl,transformFn:_vm.moduleTransformFn},on:{onTransitionSuccesss:_vm.handleTransitionSuccess}})],1)]):_c("div",[_c("ListLayout",{attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,visibleViewCount:2,showViewEdit:!1,getPageTitle:_vm.getViewName,pathPrefix:_vm.pathPrefix},scopedSlots:_vm._u([{key:"views-list",fn:function(){return[_vm.canShowViewsSidePanel?_c("ApprovalViewSidePanel",{attrs:{moduleName:_vm.moduleName,moduleList:_vm.modules,canShowViewsSidePanel:_vm.canShowViewsSidePanel,pathPrefix:_vm.pathPrefix},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event}}}):_vm._e()]},proxy:!0},{key:"views",fn:function(){return[_c("ApprovalViews",{attrs:{moduleName:_vm.moduleName,moduleList:_vm.modules,maxVisibleMenu:3,canShowViewsSidePanel:_vm.canShowViewsSidePanel,pathPrefix:_vm.pathPrefix},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event}}})]},proxy:!0},{key:"header",fn:function(){return[_vm.sortConfigList?[_vm.listcount?_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.listcount,perPage:_vm.perPage}}):_vm._e(),_c("portal-target",{attrs:{name:"approval-list-top"}}),_vm.listcount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("sort",{attrs:{sortList:_vm.sortConfigList,config:_vm.sortConfig,excludeFields:_vm.excludedSortFields},on:{onchange:_vm.updateSort}}),_c("span",{staticClass:"separator"},[_vm._v("|")])]:_vm._e(),_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}})]},proxy:!0}])},[_c("div",{staticClass:"width100"},[_c("FTags",{key:"ftags-list-"+_vm.moduleName,attrs:{hideSaveView:!0}})],1),_c("div",{class:["height100 f-list-view height100vh",{m10:_vm.loading}]},[_vm.loading?_c("div",{staticClass:"full-layout-white height100 text-center"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c(_vm.listComponent,{tag:"component",attrs:{moduleName:_vm.moduleName,list:_vm.list,setSortConfig:_vm.setSortConfig,setTransitionConfig:_vm.setTransitionConfig,getApprovalStates:_vm.getApprovalStates,refreshAction:_vm.reload,openSummary:_vm.openSummary,currentView:_vm.currentView}})],1)])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(169358),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(648324),__webpack_require__(634338),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(689730),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),DeprecatedCommonLayout=__webpack_require__(714218),FPagination=__webpack_require__(929593),AdvancedSearch=__webpack_require__(784823),FTags=__webpack_require__(775676),Sort=__webpack_require__(487390),ApprovalHeader=__webpack_require__(493887),ApprovalViewSidePanel=__webpack_require__(967360),SummarySideBar=__webpack_require__(105402),ApprovalSummaryvue_type_template_id_edafefda_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"summaryHeader d-flex"},[_c("div",{staticClass:"primary-field summary-header-heading pT5"},[_c("div",["workorder"===_vm.moduleName?[_c("span",{staticClass:"fc-id"},[_vm._v("#"+_vm._s(_vm.record["serialNumber"]))]),_c("div",{staticClass:"heading-black18 f16 max-width500px textoverflow-ellipsis"},[_vm._v(" "+_vm._s(_vm.record[_vm.mainField])+" ")]),_vm.record.requester?_c("span",{staticClass:"pT5 pR8 f13 vertical-middle",staticStyle:{color:"#2ea2b2"}},[_vm._v(_vm._s(_vm.record.requester.name))]):_vm._e()]:[_c("span",{staticClass:"fc-id"},[_vm._v("#"+_vm._s(_vm.record["id"]))]),_c("div",{staticClass:"heading-black22 max-width500px textoverflow-ellipsis"},[_vm._v(" "+_vm._s(_vm.record[_vm.mainField])+" ")])]],2)]),_c("ApprovalButtons",_vm._b({ref:"ApprovalButtons",staticClass:"mL-auto",attrs:{moduleName:_vm.moduleName,record:_vm.record},on:{onSuccess:_vm.goToNext,onFailure:_vm.onTransitionFailure}},"ApprovalButtons",_vm.approvalButtonProps,!1))],1),_c("page",{key:_vm.id,attrs:{id:_vm.id,module:_vm.moduleName,primaryFields:_vm.primaryFields,notesModuleName:_vm.docsModuleName+"notes",attachmentsModuleName:_vm.docsModuleName+"attachments",isApprovalView:!0,isMetaLoading:_vm.isLoading,approvalMeta:_vm.approvalMeta,metaFields:_vm.metaFields,moduleMeta:_vm.metaInfo},on:{record:_vm.enhanceRecord}})],1)},ApprovalSummaryvue_type_template_id_edafefda_scoped_true_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(450886),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(32284)),PageBuilder=__webpack_require__(760218),ApprovalButtons=__webpack_require__(840889),eventBus=__webpack_require__(398011),ApprovalSummaryvue_type_script_lang_js={props:["id","moduleName","details","updateUrl","transformFn"],components:{Page:PageBuilder/* default */.Z,ApprovalButtons:ApprovalButtons/* default */.Z},data:function(){return{record:{},approvalMeta:{},metaInfo:{},isLoading:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,_this.record=_this.details||{},_context.next=4,_this.loadMeta();case 4:return _context.next=6,_this.loadApprovalMeta();case 6:_this.isLoading=!1;case 7:case"end":return _context.stop()}}),_callee)})))()},computed:{metaFields:function(){var metaInfo=this.metaInfo,approvalMeta=this.approvalMeta,approvalRule=this.$getProperty(approvalMeta,"approvalRule"),metafields=this.$getProperty(metaInfo,"fields"),configJson=JSON.parse(this.$getProperty(approvalRule,"configJson")||"{}"),summaryFields=configJson.fields||[],fieldIds=(0,toConsumableArray/* default */.Z)(summaryFields).filter((function(id){return!(0,validation/* isEmpty */.xb)(id)})),fields=fieldIds.map((function(id){return(metafields||[]).find((function(_ref){var fieldId=_ref.id;return fieldId===id}))})).filter((function(f){return!(0,validation/* isEmpty */.xb)(f)}));return fields},primaryFields:function(){var fields=this.metaFields.map((function(field){return field.name}));return fields},mainField:function(){var metafields=this.$getProperty(this.metaInfo,"fields",[]),mainField=metafields.find((function(f){return f.mainField}));return(0,validation/* isEmpty */.xb)(mainField)?"name":mainField.name},docsModuleName:function(){var moduleName=this.moduleName;return"workorder"===moduleName?"ticket":moduleName},approvalButtonProps:function(){var props={};return(0,validation/* isEmpty */.xb)(this.updateUrl)&&(props.updateUrl=this.updateUrl),(0,validation/* isFunction */.mf)(this.transformFn)&&(props.transformFn=this.transformFn),props}},watch:{details:function(newValue){this.record=newValue,this.loadApprovalMeta()}},methods:{enhanceRecord:function(record){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.record=record,_context2.next=3,_this2.loadApprovalMeta();case 3:case"end":return _context2.stop()}}),_callee2)})))()},goToNext:function(){this.$emit("onTransitionSuccesss",this.record)},onTransitionFailure:function(){this.$message.error("Could not perform transition")},loadMeta:function(){var _this3=this;return api/* API */.bl.get("/module/meta",{moduleName:this.moduleName}).then((function(_ref2){var error=_ref2.error,data=_ref2.data;error||(0,validation/* isEmpty */.xb)(data.meta)||(_this3.metaInfo=data.meta)}))},loadApprovalMeta:function(){var _this4=this,moduleName=this.moduleName,id=this.record.id;if(!(0,validation/* isEmpty */.xb)(id))return api/* API */.bl.post("v2/approval/approvalDetails",{moduleName:moduleName,id:id}).then((function(_ref3){var error=_ref3.error,data=_ref3.data;error?_this4.$message.error("Could not fetch record details"):_this4.approvalMeta=data}));Promise.resolve()},refreshRelatedList:function(){eventBus/* eventBus */.Y.$emit("refresh-related-list")}}},approvals_ApprovalSummaryvue_type_script_lang_js=ApprovalSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(approvals_ApprovalSummaryvue_type_script_lang_js,ApprovalSummaryvue_type_template_id_edafefda_scoped_true_render,ApprovalSummaryvue_type_template_id_edafefda_scoped_true_staticRenderFns,!1,null,"edafefda",null)
/* harmony default export */,ApprovalSummary=component.exports,router=__webpack_require__(329435),ApprovalListvue_type_script_lang_js={name:"ApprovalList",props:["moduleName","modules"],components:{ListLayout:DeprecatedCommonLayout/* default */.Z,ApprovalViews:ApprovalHeader/* default */.Z,ApprovalViewSidePanel:ApprovalViewSidePanel/* default */.Z,Pagination:FPagination/* default */.Z,AdvancedSearch:AdvancedSearch/* default */.Z,FTags:FTags["default"],Sort:Sort/* default */.Z,SummarySideBar:SummarySideBar/* default */.Z,ApprovalSummary:ApprovalSummary},data:function(){return{list:[],listcount:null,stateflows:[],page:1,perPage:50,isLoading:!0,isMetaLoading:!1,sortConfig:{},sortConfigList:null,excludedSortFields:null,moduleUpdateUrl:null,moduleTransformFn:null,canShowViewsSidePanel:JSON.parse(localStorage.getItem("fc-view-sidepanel"))||!1}},created:function(){var _this=this;if((0,validation/* isEmpty */.xb)(this.moduleName)){var moduleName=this.$getProperty(this.modules,"0.name")||null;moduleName&&this.$router.replace({params:{moduleName:moduleName}})}this.isMetaLoading=!0,Promise.all([this.$store.dispatch("loadTicketStatus",this.moduleName),this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketPriority")]).finally((function(){_this.isMetaLoading=!1}))},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({isViewLoading:function(state){return state.view.isLoading},moduleMeta:function(state){return state.view.metaInfo}})),{},{moduleDisplayName:function(){var moduleMeta=this.moduleMeta,_ref=moduleMeta||{},_ref$displayName=_ref.displayName,displayName=void 0===_ref$displayName?"":_ref$displayName;return displayName},listComponent:function(){var componentHash={workorder:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(4631)]).then(__webpack_require__.bind(__webpack_require__,404631))},workpermit:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(79983)]).then(__webpack_require__.bind(__webpack_require__,779983))},inventoryrequest:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(7290)]).then(__webpack_require__.bind(__webpack_require__,607290))},defaultModule:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(44262)]).then(__webpack_require__.bind(__webpack_require__,544262))}};return componentHash[this.moduleName]||componentHash["defaultModule"]},selectedRecordId:function(){return this.$route.params.id?parseInt(this.$route.params.id):-1},isSummaryOpen:function(){return!(0,validation/* isEmpty */.xb)(this.selectedRecordId)},currentView:function(){return this.$route.params.viewname},loading:{get:function(){return this.isLoading||this.isMetaLoading||this.isViewLoading},set:function(value){this.isLoading=value}},filters:function(){var $route=this.$route,_ref2=$route||{},search=_ref2.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(this.$route.query.search)},includeParentFilter:function(){var query=this.$route.query,includeParentFilter=query.includeParentFilter;return includeParentFilter&&("true"===includeParentFilter||!0===includeParentFilter)},pathPrefix:function(){return"/app/wo/newapprovals/"}}),watch:{moduleName:{handler:function(newVal,oldVal){(0,validation/* isEmpty */.xb)(newVal)||newVal===oldVal||(this.$store.dispatch("view/loadModuleMeta",newVal).catch((function(){})),this.reload())},immediate:!0},filters:function(){this.reload()},isSummaryOpen:function(isOpen){isOpen||this.reload()},canShowViewsSidePanel:function(value){localStorage.setItem("fc-view-sidepanel",value)}},methods:{getViewName:function(){return"Pending Approvals"},openSummary:function(_ref3){var id=_ref3.id,moduleName=this.moduleName;this.$router.push({params:{id:id,moduleName:moduleName},query:(0,objectSpread2/* default */.Z)({},this.$route.query)})},openList:function(){var moduleName=this.moduleName,viewname=this.currentView;(0,router/* isWebTabsEnabled */.tj)()?this.$router.push({params:{moduleName:moduleName,viewname:viewname,id:null},query:(0,objectSpread2/* default */.Z)({},this.$route.query)}):this.$router.push({name:"ApprovalList",params:{moduleName:moduleName,viewname:viewname},query:(0,objectSpread2/* default */.Z)({},this.$route.query)})},reload:function(){var force=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.page=1,this.loadApprovals({force:force}),this.loadApprovalCounts({force:force})},handleTransitionSuccess:function(currentRecord){var record,index,list=this.list,skipLoading=!1;this.isSummaryOpen&&(1===list.length?(index=0,this.openList()):(
// Find the next record and open it's summary
index=list.findIndex((function(_ref4){var id=_ref4.id;return currentRecord.id===id})),record=index<list.length-1?list[index+1]:list[0],(0,validation/* isEmpty */.xb)(record)||this.openSummary(record),skipLoading=!0)),this.loadApprovals({skipLoading:skipLoading}),this.loadApprovalCounts()},loadApprovals:function(){var _this2=this,_ref5=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref5$skipLoading=_ref5.skipLoading,skipLoading=void 0!==_ref5$skipLoading&&_ref5$skipLoading,_ref5$force=_ref5.force,force=void 0!==_ref5$force&&_ref5$force;this.page=skipLoading?1:this.page;var moduleName=this.moduleName,page=this.page,perPage=this.perPage,includeParentFilter=this.includeParentFilter,filters=this.filters,currentView=this.currentView,criteriaIds=this.$route.query.criteriaIds;if(!(0,validation/* isEmpty */.xb)(moduleName)&&!(0,validation/* isEmpty */.xb)(currentView)){var params={moduleName:moduleName,viewName:currentView,page:page,perPage:perPage,filters:(0,validation/* isEmpty */.xb)(filters)?null:JSON.stringify(filters),criteriaIds:(0,validation/* isEmpty */.xb)(criteriaIds)?null:criteriaIds,includeParentFilter:includeParentFilter};return skipLoading||(this.isLoading=!0),api/* API */.bl.get("/v2/approval/moduleList",params,{force:force}).then((function(_ref6){var data=_ref6.data,error=_ref6.error;error?_this2.$message.error(error.message||"Could not load approval requests"):(_this2.list=data.records,_this2.stateflows=data.stateFlows,_this2.page+=1),_this2.isSummaryOpen||(_this2.isLoading=!1)}))}},loadApprovalCounts:function(){var _this3=this,_ref7=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref7$force=_ref7.force,force=void 0!==_ref7$force&&_ref7$force,moduleName=this.moduleName,includeParentFilter=this.includeParentFilter,filters=this.filters,currentView=this.currentView,criteriaIds=this.$route.query.criteriaIds,params={moduleName:moduleName,viewName:currentView,filters:(0,validation/* isEmpty */.xb)(filters)?null:JSON.stringify(filters),criteriaIds:(0,validation/* isEmpty */.xb)(criteriaIds)?null:criteriaIds,includeParentFilter:includeParentFilter,fetchCount:!0};(0,validation/* isEmpty */.xb)(moduleName)||(0,validation/* isEmpty */.xb)(currentView)||api/* API */.bl.get("/v2/approval/moduleList",params,{force:force}).then((function(_ref8){var data=_ref8.data,error=_ref8.error;error?(_this3.$message.error(error.message||"Error Occured"),_this3.listcount=null):_this3.listcount=data.recordCount}))},getApprovalStates:function(record){var _ref9=record||{},approvalStatus=_ref9.approvalStatus,approvalFlowId=_ref9.approvalFlowId,_ref10=approvalStatus||{},approvalStatusId=_ref10.id;if((0,validation/* isEmpty */.xb)(approvalStatus)||(0,validation/* isEmpty */.xb)(approvalFlowId))return[];var key="".concat(approvalFlowId,"_").concat(approvalStatusId),transitions=this.stateflows[key],_record$evaluatedTran=record.evaluatedTransitionIds,evaluatedTransitionIds=void 0===_record$evaluatedTran?[]:_record$evaluatedTran;return transitions?(transitions=transitions.filter((function(_ref11){var id=_ref11.id;return(evaluatedTransitionIds||[]).includes(id)})),transitions.slice(0,2)):[]},setSortConfig:function(sortConfig,sortConfigList,excludedSortFields){this.sortConfig=sortConfig,this.sortConfigList=sortConfigList,this.excludedSortFields=excludedSortFields},setTransitionConfig:function(updateUrl,transformFn){this.moduleUpdateUrl=updateUrl||null,this.moduleTransformFn=transformFn||null},updateSort:function(sorting){var _this4=this;this.$store.dispatch("view/savesorting",{viewName:this.currentView,orderBy:sorting.orderBy,orderType:sorting.orderType,moduleName:this.moduleName}).then((function(){return _this4.reload({force:!0})}))}}},approvals_ApprovalListvue_type_script_lang_js=ApprovalListvue_type_script_lang_js,ApprovalList_component=(0,componentNormalizer/* default */.Z)(approvals_ApprovalListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalList=ApprovalList_component.exports},
/***/493887:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ApprovalHeader}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),ViewHeader=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(629039)),validation=__webpack_require__(990260),ApprovalViewMixin=__webpack_require__(347009),ApprovalHeadervue_type_script_lang_js={extends:ViewHeader/* default */.Z,mixins:[ApprovalViewMixin/* default */.Z],props:["moduleName","pathPrefix","isActivityView","showEditIcon","moduleList"],data:function(){return{moduleVsViewList:{},showAllViews:!1}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadApprovalModules();case 2:_this.initializeViews(),_this.isActivityView||_this.loadViewDetails();case 4:case"end":return _context.stop()}}),_callee)})))()},computed:{currentGroup:function(){var groupViews=this.groupViews,moduleName=this.moduleName;return(0,validation/* isEmpty */.xb)(moduleName)||(0,validation/* isEmpty */.xb)(groupViews)?null:groupViews.find((function(group){return group.moduleName===moduleName}))},currentViews:function(){var currentGroup=this.currentGroup;if((0,validation/* isEmpty */.xb)(currentGroup))return[];var _currentGroup$views=currentGroup.views,selectedViews=void 0===_currentGroup$views?[]:_currentGroup$views;return selectedViews.map((function(view){return{label:view.displayName,id:view.id,name:view.name,isCustom:!view.isDefault,primary:view.primary}}))}},watch:{moduleName:{handler:function(){this.initializeViews(),this.isActivityView||this.loadViewDetails()}},currentView:function(newVal,oldVal){newVal!==oldVal&&(this.isActivityView||this.loadViewDetails())}},methods:{init:function(){},initializeViews:function(){var currentView=this.currentView,groupViews=this.groupViews,$getProperty=this.$getProperty,firstGroupName=$getProperty(groupViews,"0.name")||null;firstGroupName&&(0,validation/* isEmpty */.xb)(currentView)&&this.openGroup(firstGroupName)}}},components_ApprovalHeadervue_type_script_lang_js=ApprovalHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ApprovalHeadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalHeader=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/347009:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ApprovalViewMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(990260)),router=__webpack_require__(329435),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),activityView={name:"activities",displayName:"History"},pendingView={name:"pendingapproval",displayName:"Pending Approval"},ApprovalViewMixinvue_type_script_lang_js={data:function(){return{modules:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),{},{groupViews:function(){var currentModules=[];currentModules=(0,router/* isWebTabsEnabled */.tj)()?this.moduleList||this.currentTab.modules:this.modules;var moduleVsViewList=(currentModules||[]).map((function(m){return{name:m.name,moduleName:m.name,displayName:m.displayName,id:m.moduleId,views:[pendingView,activityView]}}));return moduleVsViewList},currentView:function(){var viewname=this.$route.params.viewname;return(0,validation/* isEmpty */.xb)(viewname)||"activities"===viewname?this.isActivityView?"activities":null:viewname}}),methods:{loadApprovalModules:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(0,validation/* isEmpty */.xb)(_this.moduleList)){_context.next=9;break}return _context.next=3,api/* API */.bl.get("v2/approval/modules");case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error||(_this.modules=data.modules||[]),_context.next=10;break;case 9:_this.modules=_this.moduleList;case 10:case"end":return _context.stop()}}),_callee)})))()},getCriteria:function(viewname){return"activities"===viewname?{pageType:router/* pageTypes */.As.APPROVAL_ACTIVITY}:{pageType:router/* pageTypes */.As.APPROVAL_LIST}},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if((0,router/* isWebTabsEnabled */.tj)()){var getCriteria=this.getCriteria,moduleName=group.moduleName,_ref=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.APPROVAL,getCriteria(viewname))||{},name=_ref.name;name&&this.$router.push({name:name,params:{moduleName:moduleName,viewname:viewname}}).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path}).catch((function(){}))}}},getPathForView:function(view,group){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(group.moduleName,"/").concat(view.name)}}},components_ApprovalViewMixinvue_type_script_lang_js=ApprovalViewMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ApprovalViewMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalViewMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/967360:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ApprovalViewSidePanel}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/approvals/components/ApprovalViewSidePanel.vue?vue&type=template&id=57383f05
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",{attrs:{name:"fade"}},[_c("div",{staticClass:"view-panel"},[_c("div",{staticClass:"view-list-container"},[_c("div",{staticClass:"header-container"},[_c("div",{staticClass:"label-txt-black fwBold text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("common._common.views"))+" ")]),_c("inline-svg",{staticClass:"rotate-90 pointer d-flex back-icon mL-auto",attrs:{src:"svgs/arrow",iconClass:"icon icon-xs"},nativeOn:{click:function($event){return _vm.closeViewSidePanel()}}})],1),_c("div",{staticClass:"search-container mT20 mb25"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Search",type:"search","prefix-icon":"el-icon-search"},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}})],1),_c("div",{staticClass:"views-group"},_vm._l(_vm.filteredList,(function(group){return _c("div",{key:group.id},[_vm.$validation.isEmpty(group.views)?_vm._e():[_vm.$validation.isEmpty(_vm.searchText)?_c("div",{staticClass:"folder-name pB10 mT20 text-uppercase"},[_vm._v(" "+_vm._s(group.displayName||group.name)+" ")]):_vm._e(),_vm._l(group.views,(function(view,index){return _c("div",{key:index,staticClass:"view-item pT10 pB15 pointer",class:_vm.isActiveView(view)?"active":"",on:{click:function($event){return _vm.changeView(view,group)}}},[_c("div",{staticClass:"view-name ellipsis"},[_vm._v(" "+_vm._s(view.displayName)+" ")])])}))]],2)})),0)])])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(260228),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(990260)),ApprovalViewMixin=__webpack_require__(347009),ApprovalViewSidePanelvue_type_script_lang_js={props:["moduleName","canShowViewsSidePanel","pathPrefix","retainFilters","moduleList"],mixins:[ApprovalViewMixin/* default */.Z],data:function(){return{searchText:""}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadApprovalModules();case 2:case"end":return _context.stop()}}),_callee)})))()},computed:{filteredList:function(){var _this2=this;return(0,validation/* isEmpty */.xb)(this.searchText)?this.groupViews:this.groupViews.reduce((function(res,group){var filteredViews=group.views.filter((function(view){return view.displayName.toLowerCase().includes(_this2.searchText)}));return(0,validation/* isEmpty */.xb)(filteredViews)||res.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},group),{},{views:filteredViews})),res}),[])}},methods:{isActiveView:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$name=_ref.name,name=void 0===_ref$name?"":_ref$name,currentViewName=this.currentViewName;return currentViewName===name},changeView:function(view,group){this.goToView(view,group),this.closeViewSidePanel()},closeViewSidePanel:function(){this.$emit("update:canShowViewsSidePanel",!1)}}},components_ApprovalViewSidePanelvue_type_script_lang_js=ApprovalViewSidePanelvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ApprovalViewSidePanelvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ApprovalViewSidePanel=component.exports},
/***/706881:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CurrencyPopOver}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/organizationSetting/currency/CurrencyPopOver.vue?vue&type=template&id=434b446a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showCurrencyField?_c("div",{staticClass:"d-flex"},[_vm.showInfo?_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))]):_vm._e(),_vm.showMultiCurrencyInfo?_c("el-popover",{attrs:{placement:"right",title:_vm.$t("setup.currency.rate"),width:"230",trigger:"hover",content:_vm.currencyContent,"open-delay":5,disabled:_vm.isEmpty(_vm.baseValue)}},[_vm.showInfo?_vm._e():_c("div",{class:[_vm.baseValue&&"pointer"],attrs:{slot:"reference"},slot:"reference"},[_c("div",[_vm._v(_vm._s(""+_vm.getMultiCurrencyFieldValue))]),_c("div",{staticClass:"f12"},[_vm._v(_vm._s(_vm.baseValue))])]),_vm.isBaseCode||!_vm.showInfo||_vm.hideInfoBtn?_vm._e():_c("fc-icon",{staticClass:"pointer info-position mL2",attrs:{slot:"reference",group:"dsm",name:"info",size:"13"},slot:"reference"})],1):_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))])],1):_c("span",[_vm._v("---")])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(990260)),CurrencyUtil=__webpack_require__(15426),vuex_esm=__webpack_require__(420629),CurrencyPopOvervue_type_script_lang_js={props:["field","details","showInfo","hideInfoBtn"],data:function(){return{baseValue:"",isEmpty:validation/* isEmpty */.xb}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account},currencyList:function(state){return state.activeCurrencies}})),{},{showMultiCurrencyInfo:function(){var _ref=this.multiCurrency||{},multiCurrencyEnabled=_ref.multiCurrencyEnabled;return multiCurrencyEnabled},isBaseCode:function(){var _ref2=this.multiCurrency||{},baseCode=_ref2.currencyCode,_ref3=this.details||{},currencyCode=_ref3.currencyCode;return baseCode===currencyCode},showCurrencyField:function(){var currencyValue=this.currencyValue;return!(0,validation/* isEmpty */.xb)(currencyValue)&&"---"!=currencyValue},multiCurrency:function(){var _ref4=this.$getProperty(this.account,"data.currencyInfo")||{},displaySymbol=_ref4.displaySymbol,currencyCode=_ref4.currencyCode,multiCurrencyEnabled=_ref4.multiCurrencyEnabled;return{displaySymbol:displaySymbol,currencyCode:currencyCode,multiCurrencyEnabled:multiCurrencyEnabled}},currencyContent:function(){var details=this.details,currencyValue=this.currencyValue,baseSymbol=this.multiCurrency.displaySymbol;if(!(0,validation/* isEmpty */.xb)(currencyValue)){var _ref5=details||{},exchangeRate=_ref5.exchangeRate,currencyCode=_ref5.currencyCode,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)||currency.displaySymbol===baseSymbol)return null;var _ref6=currency||{},displaySymbol=_ref6.displaySymbol,content="".concat(baseSymbol," 1 = ").concat(displaySymbol," ").concat(exchangeRate);return content}return"---"},currencyValue:function(){var details=this.details,field=this.field,_ref7=details||{},data=_ref7.data;return field.displayValue||details[field.name]||(null===data||void 0===data?void 0:data[field.name])},getMultiCurrencyFieldValue:function(){var currencyValue=this.currencyValue,showInfo=this.showInfo,_this$multiCurrency=this.multiCurrency,baseSymbol=_this$multiCurrency.displaySymbol,baseCode=_this$multiCurrency.currencyCode,multiCurrencyEnabled=_this$multiCurrency.multiCurrencyEnabled,_ref8=this.details||{},currencyCode=_ref8.currencyCode,exchangeRate=_ref8.exchangeRate,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode})),baseCurrency=(this.currencyList||[]).find((function(currency){return baseCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)&&!(0,validation/* isEmpty */.xb)(currencyValue))return"".concat(baseSymbol," ").concat(currencyValue);var _ref9=currency||{},displaySymbol=_ref9.displaySymbol;displaySymbol=(0,validation/* isEmpty */.xb)(displaySymbol)?baseSymbol:displaySymbol;var baseValue="";if(multiCurrencyEnabled&&baseCode!==currencyCode){var value=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue/exchangeRate,baseCurrency);baseValue="( ".concat(baseSymbol," ").concat(value," )")}return currencyValue=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue,currency),this.setBaseValue(baseValue),showInfo?"".concat(displaySymbol," ").concat(currencyValue," ").concat(baseValue):"".concat(displaySymbol," ").concat(currencyValue)}}),created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$store.dispatch("getActiveCurrencyList");case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{setBaseValue:function(value){this.baseValue=value}}},currency_CurrencyPopOvervue_type_script_lang_js=CurrencyPopOvervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(currency_CurrencyPopOvervue_type_script_lang_js,render,staticRenderFns,!1,null,"434b446a",null)
/* harmony default export */,CurrencyPopOver=component.exports},
/***/345265:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"35079cf978684c9b6a17e182df923ff5.svg";
/***/},
/***/293656:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e179f34e6169d9164845bf6c1d403c8e.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/137308:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f5655b5c7d337eaaa1c310ef6456f44e.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/30684:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"52c2ff301190417db7febd08d4cd5153.svg";
/***/},
/***/572902:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"db5324b7cf9058a0aa45899e55bf6444.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/93672.js.map