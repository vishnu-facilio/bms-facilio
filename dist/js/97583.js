"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[97583],{
/***/97583:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Dashboard}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/translation/filters/Dashboard.vue?vue&type=template&id=bfabb34c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isEmpty(_vm.activeDashboardFolderId)||_vm.isEmpty(_vm.activeDashboardId)?_c("div",{staticClass:"filter-start loading-shimmer width120px height40 bR5"}):_c("div",{staticClass:"filter-list"},[_c("div",{staticClass:"filter-start"},[_vm.loadingDashboards?_vm._e():_c("FilterDropdown",{attrs:{options:_vm.folderOptions},model:{value:_vm.activeDashboardFolderId,callback:function($$v){_vm.activeDashboardFolderId=$$v},expression:"activeDashboardFolderId"}})],1),_c("div",{staticClass:"filter"},[_vm.isEmpty(_vm.dashboardOptions)?_vm._e():_c("FilterDropdown",{attrs:{options:_vm.dashboardOptions},model:{value:_vm.activeDashboardId,callback:function($$v){_vm.activeDashboardId=$$v},expression:"activeDashboardId"}})],1),_c("div",{staticClass:"filter"},[_vm.isEmpty(_vm.tabOptions)?_vm._e():_c("FilterDropdown",{attrs:{options:_vm.tabOptions},model:{value:_vm.activeTabId,callback:function($$v){_vm.activeTabId=$$v},expression:"activeTabId"}})],1)])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),slicedToArray=__webpack_require__(554621),api=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(32284)),FilterDropdown=__webpack_require__(535347),validation=__webpack_require__(990260),Dashboardvue_type_script_lang_js={props:["moduleName","setFilter"],components:{FilterDropdown:FilterDropdown/* default */.Z},data:function(){return{dashboardFolders:[],folderOptions:[],dashboardOptions:[],tabOptions:[],activeDashboardFolderId:null,activeDashboardId:null,activeTabId:null,loadingDashboards:!0}},created:function(){this.loadDashboardFolders()},watch:{activeDashboardFolderId:function(){var _this=this,currentFolder=this.dashboardFolders.find((function(folder){return folder.id===_this.activeDashboardFolderId})),_ref=currentFolder||{},dashboards=_ref.dashboards;dashboards=dashboards||[],dashboards=dashboards.map((function(dashboard){var id=dashboard.id,dashboardName=dashboard.dashboardName;return{id:id,label:dashboardName}}));var _dashboards=dashboards,_dashboards2=(0,slicedToArray/* default */.Z)(_dashboards,1),firstDashboard=_dashboards2[0],_ref2=firstDashboard||{},id=_ref2.id;this.activeDashboardId=id,this.dashboardOptions=dashboards},activeDashboardId:function(){var activeDashboardFolderId=this.activeDashboardFolderId,activeDashboardId=this.activeDashboardId,currentFolder=this.dashboardFolders.find((function(folder){return folder.id===activeDashboardFolderId})),_ref3=currentFolder||{},dashboards=_ref3.dashboards,currentDashboard=dashboards?dashboards.find((function(dashboard){return dashboard.id===activeDashboardId})):{},_ref4=currentDashboard||{},dashboardTabContexts=_ref4.dashboardTabContexts;(0,validation/* isEmpty */.xb)(dashboardTabContexts)&&!(0,validation/* isEmpty */.xb)(activeDashboardId)&&this.setFilter({loading:!1,query:{dashboardId:activeDashboardId}});var tabs=[];dashboardTabContexts&&dashboardTabContexts.forEach((function(tab){var id=tab.id,name=tab.name,childTabs=tab.childTabs;childTabs.forEach((function(childTab){var id=childTab.id,name=childTab.name;tabs=[].concat((0,toConsumableArray/* default */.Z)(tabs),[{id:id,label:name}])})),tabs=[].concat((0,toConsumableArray/* default */.Z)(tabs),[{id:id,label:name}])}));var _tabs=tabs,_tabs2=(0,slicedToArray/* default */.Z)(_tabs,1),firstTab=_tabs2[0],_ref5=firstTab||{},id=_ref5.id;this.activeTabId=id,this.tabOptions=tabs},activeTabId:function(){var id=this.activeTabId;(0,validation/* isEmpty */.xb)(id)||this.setFilter({loading:!1,query:{dashboardTabId:id}})}},computed:{},methods:{isEmpty:validation/* isEmpty */.xb,loadDashboardFolders:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,error,data,_ref6,dashboardFolders,_dashboardFolders,_dashboardFolders2,firstFolder,_ref7,id;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this2.loadingStateFlows=!0,_context.next=3,api/* API */.bl.get("/dashboardWithFolder");case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(_this2.$message.error(error.message||"Error Occured"),_this2.setFilter({loading:!1,query:null})):(_ref6=data||{},dashboardFolders=_ref6.dashboardFolders,dashboardFolders=dashboardFolders||[],_this2.dashboardFolders=dashboardFolders,_dashboardFolders=dashboardFolders,_dashboardFolders2=(0,slicedToArray/* default */.Z)(_dashboardFolders,1),firstFolder=_dashboardFolders2[0],_ref7=firstFolder||{},id=_ref7.id,_this2.activeDashboardFolderId=id,_this2.folderOptions=dashboardFolders.map((function(folder){var id=folder.id,moduleName=folder.moduleName;return{id:id,label:moduleName}})),(0,validation/* isEmpty */.xb)(dashboardFolders)&&_this2.setFilter({loading:!1,query:null})),_this2.loadingDashboards=!1;case 8:case"end":return _context.stop()}}),_callee)})))()}}},filters_Dashboardvue_type_script_lang_js=Dashboardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(filters_Dashboardvue_type_script_lang_js,render,staticRenderFns,!1,null,"bfabb34c",null)
/* harmony default export */,Dashboard=component.exports},
/***/535347:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FilterDropdown}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/translation/filters/FilterDropdown.vue?vue&type=template&id=5fd3b796&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.selectedId?_c("el-dropdown",{attrs:{placement:"bottom-start",trigger:"click"},on:{command:_vm.handleFilterSelection}},[_vm.displayName?_c("span",{staticClass:"el-dropdown-link filter-text"},[_vm._v(" "+_vm._s(_vm.displayName)+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]):_vm._e(),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-input",{staticClass:"modules-header-input",attrs:{placeholder:"Search"},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}),_vm._l(_vm.filteredOptions,(function(option,index){return _c("el-dropdown-item",{key:index,attrs:{command:option}},[_vm._v(" "+_vm._s(option.label)+" ")])}))],2)],1):_vm._e()},staticRenderFns=[],FilterDropdownvue_type_script_lang_js=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),{props:["options","value"],data:function(){return{selectedId:this.value,searchText:""}},computed:{displayName:function(){var _this=this,selectedOption=this.options.find((function(option){return option.id==_this.selectedId})),_ref=selectedOption||{},label=_ref.label;return label},filteredOptions:function(){var query=this.searchText.replace(/\s/g,"").toLowerCase();return this.options.filter((function(option){return option.label.replace(/\s/g,"").toLowerCase().includes(query)}))}},watch:{value:function(){this.selectedId!=this.value&&(this.selectedId=this.value)}},methods:{handleFilterSelection:function(option){this.selectedId=option.id,this.$emit("input",option.id)}}}),filters_FilterDropdownvue_type_script_lang_js=FilterDropdownvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(filters_FilterDropdownvue_type_script_lang_js,render,staticRenderFns,!1,null,"5fd3b796",null)
/* harmony default export */,FilterDropdown=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/97583.js.map