(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[46523],{
/***/846523:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return RulesSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/firealarm/rules/RulesSummary.vue?vue&type=template&id=42bc0cc3
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"alarm-summary-header"},[_c("div",{staticClass:"fL"},[_c("div",{staticClass:"fc-id"},[_vm._v("#"+_vm._s(_vm.rule.alarmRule.preRequsite.id))]),_c("div",{staticClass:"fc-black3-24 max-width600px textoverflow-height-ellipsis"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.preRequsite.name)+" ")]),_c("div",{staticClass:"fc-grey2-text14 ellipsis max-width500px mT10"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.preRequsite.description)+" ")])]),_c("div",{staticClass:"fR"},[_c("div",{staticClass:"triangle-close"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"close-summary-icon material-icons pull-right pointer",attrs:{"data-theme":"light","data-arrow":"true"},on:{click:_vm.closeSummary}},[_vm._v("close")])]),_c("div",{staticClass:"display-flex"},[_c("div",{staticClass:"label-txt-black mR10"},[_vm._v("Enabled")]),_c("el-switch",{staticClass:"mR10",attrs:{"active-color":"rgba(57, 178, 194, 0.8)","inactive-color":"#e5e5e5"},on:{change:function($event){return _vm.changeRuleStatus(_vm.rule)}},model:{value:_vm.rule.alarmRule.preRequsite.status,callback:function($$v){_vm.$set(_vm.rule.alarmRule.preRequsite,"status",$$v)},expression:"rule.alarmRule.preRequsite.status"}}),_c("div",{staticClass:"fc-subheader-divide-small mR10"}),_c("div",{staticClass:"label-txt-blue mR10"},[_vm._v("Edit Rule")])],1)])]),_c("div",{staticClass:"alarm-summary-body clearboth"},[_c("div",{staticClass:"alarm-summary-body-left"},[_c("div",{staticClass:"alaram-summary-body-scroll"},[_c("div",{staticClass:"alarm-summary-inner"},[_c("div",{staticClass:"mB20"},[_c("el-row",[_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"fc-white-bg-container text-center"},[_c("div",{staticClass:"text-center blue-bg mR-auto mL-auto"},[_c("img",{attrs:{src:__webpack_require__(972731)}})]),_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRulewoSummary?_vm.rule.alarmRulewoSummary:"--")+" ")]),_c("div",{staticClass:"fc-black-small-txt mT10 bold"},[_vm._v(" ASSETS ASSOCIATED ")])])]),_c("el-col",{staticClass:"fc-white-bg-container text-center mL20",staticStyle:{width:"63.748%"},attrs:{span:15}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"red-bg mR-auto mL-auto"},[_c("img",{attrs:{src:__webpack_require__(875964),width:"30",height:"30"}})]),_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRuleActiveAlarm?_vm.rule.alarmRuleActiveAlarm:"--")+" ")]),_c("div",{staticClass:"fc-black-small-txt mT10 bold"},[_vm._v(" ACTIVE ALARMS ")])]),_c("el-col",{staticClass:"card-border-right text-center",attrs:{span:12}},[_c("div",{staticClass:"red-bg mR-auto mL-auto"},[_c("img",{attrs:{src:__webpack_require__(143852),width:"30",height:"30"}})]),_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRuleThisWeek?_vm.rule.alarmRuleThisWeek:"--")+" ")]),_c("div",{staticClass:"fc-black-small-txt mT10 bold"},[_vm._v(" ALARMS THIS WEEK ")])])],1)],1)],1),_c("div",{staticClass:"fc-white-bg-container mT20"},[_c("div",{staticClass:"fc-blue3 f11 text-uppercase letter-spacing07"},[_vm._v(" CONDITION ")]),_c("div",{staticClass:"fc-dark-blue-txt2 text-uppercase pT20 letter-spacing07"},[_vm._v(" PREREQUISITE ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(_vm._s(_vm.rule.preRequsite))]),_c("div",{staticClass:"fc-divider-width100 mT20 mB20"}),_c("div",{staticClass:"fc-dark-blue-txt2 text-uppercase"},[_vm._v(" Alarm triggered when ")]),_c("el-row",{staticClass:"mT20"},[_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fc-badge-critical"},[_vm._v("CRITICAL")])]),_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"label-txt-black"},[_vm._v(_vm._s(_vm.rule.alarmCondition))])])],1),_c("div",{staticClass:"fc-divider-width100 mT20 mB20"}),_c("div",{staticClass:"fc-dark-blue-txt2 text-uppercase"},[_vm._v(" ALARM CLEARED WHEN ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v("Autoclear (Default)")])],1),_c("div",{staticClass:"fc-white-bg-container mT20"},[_c("el-row",{staticClass:"pT10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-blue3 f11 text-uppercase letter-spacing07"},[_vm._v(" Possible Causes ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.alarmTriggerRule.actions[0].template.originalTemplate.possibleCauses)+" ")])]),_c("el-col",{attrs:{span:1}},[_c("div",{staticClass:"separator-lg"})]),_c("el-col",{attrs:{span:11}},[_c("div",{staticClass:"fc-blue3 f11 text-uppercasee letter-spacing07"},[_vm._v(" POSSIBLE SOLUTIONS ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.alarmTriggerRule.actions[0].template.originalTemplate.problem)+" ")])])],1)],1),_c("div",{staticClass:"fc-white-bg-container mT20"},[_c("div",{staticClass:"fc-black3-16"},[_vm._v("Top 5 Critical Asset")]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout p0"},[_c("table",{staticClass:"setting-list-view-table"},[_vm._m(0),_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1)])]):_vm._e()])])])]),_c("div",{staticClass:"fc-white-bg-container mT20"},[_c("el-row",[_c("el-col",{staticClass:"text-center width25",attrs:{span:4}},[_c("div",[_c("img",{attrs:{src:__webpack_require__(459175),width:"15",height:"15"}})]),_vm.rule.alarmRulewoSummary?_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRulewoSummary.woCreatedThisWeek)+" ")]):_vm._e(),_c("div",{staticClass:"fc-black-small-txt bold"},[_vm._v("OPEN")]),_c("div",{staticClass:"pT10 fc-grey2-11"},[_vm._v("WORKORDERS")])]),_c("el-col",{staticClass:"card-border-right text-center width25",attrs:{span:4}},[_c("div",[_c("img",{attrs:{src:__webpack_require__(459175),width:"15",height:"15"}})]),_vm.rule.alarmRulewoSummary?_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRulewoSummary.woCreatedThisMonth)+" ")]):_vm._e(),_c("div",{staticClass:"fc-black-small-txt bold"},[_vm._v("WORKORDERS")]),_c("div",{staticClass:"pT10 fc-grey2-11"},[_vm._v("THIS MONTH")])]),_c("el-col",{staticClass:"card-border-right text-center width25",attrs:{span:4}},[_c("div",{},[_c("img",{attrs:{src:__webpack_require__(683774),width:"15",height:"15"}})]),_vm.rule.alarmRulewoSummary?_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRulewoSummary.avgResponseTimeInMins)+" ")]):_vm._e(),_c("div",{staticClass:"fc-black-small-txt bold"},[_vm._v("AVG TIME TAKEN")]),_c("div",{staticClass:"pT10 fc-grey2-11"},[_vm._v("TO ACKNOWLEDGE")])]),_c("el-col",{staticClass:"text-center card-border-right width25",attrs:{span:4}},[_c("div",{},[_c("img",{attrs:{src:__webpack_require__(683774),width:"15",height:"15"}})]),_vm.rule.alarmRulewoSummary?_c("div",{staticClass:"f36 fc-black-2"},[_vm._v(" "+_vm._s(_vm.rule.alarmRulewoSummary.avgResolutionTimeInMins)+" ")]):_vm._e(),_c("div",{staticClass:"fc-black-small-txt mT10 bold"},[_vm._v("AVG TIME TAKEN")]),_c("div",{staticClass:"pT10 fc-grey2-11"},[_vm._v("TO COMPLETE")])])],1)],1)])])]),_c("div",{staticClass:"alarm-summary-body-right clearboth"},[_c("div",{staticClass:"alaram-summary-body-scroll mL30 mR20"},[_c("div",{staticClass:"mT20"},[_c("div",{staticClass:"fc-blue3 f11 text-uppercase letter-spacing07"},[_vm._v(" ASSET CATEGORY ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.preRequsite.assetCategoryId>0?_vm.getAssetCategory(_vm.rule.alarmRule.preRequsite.assetCategoryId).name:"---")+" ")])]),_c("div",{staticClass:"mT20"},[_c("div",{staticClass:"fc-blue3 f11 text-uppercase letter-spacing07"},[_vm._v(" THRESHOLD METRIC ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(" "+_vm._s(_vm.metricField?_vm.metricField.displayName:"--")+" ")])]),_c("div",{staticClass:"mT20"},[_c("div",{staticClass:"fc-blue3 f11 text-uppercase letter-spacing07"},[_vm._v(" MESSAGE ")]),_c("div",{staticClass:"mT10 label-txt-black"},[_vm._v(" "+_vm._s(_vm.rule.alarmRule.alarmTriggerRule.actions[0].template.originalTemplate.message)+" ")])])])])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v("ID")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v("NAME")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" LOCATION ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" DURATION ")])])])}],objectSpread2=__webpack_require__(595082),JumpToHelper=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(921466)),AnalyticsMixin=__webpack_require__(244936),NewDateHelper=__webpack_require__(105534),NewDataFormatHelper=__webpack_require__(804911),vuex_esm=__webpack_require__(420629),RulesSummaryvue_type_script_lang_js={mixins:[JumpToHelper/* default */.Z,NewDataFormatHelper/* default */.Z,AnalyticsMixin/* default */.Z,NewDateHelper/* default */.Z],data:function(){return{thresholdFields:null,metricField:null,rule:{},rules:{},alarmRule:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{rulesId:function(){return parseInt(this.$route.params.id)}}),created:function(){this.$util.fetchRule("alarm",this.$route.params.id),this.$store.dispatch("loadAssetCategory")},watch:{rulesId:function(newVal){this.loadRuleDetails()}},mounted:function(){this.loadRuleDetails()},methods:{loadRuleDetails:function(){var self=this;self.$http.get("/v2/alarm/rules/fetchRule?ruleId="+self.$route.params.id).then((function(response){self.rule=response.data.result,self.loadThresholdFields(response.data.result.alarmRule.preRequsite.assetCategoryId,response.data.result.alarmRule.preRequsite.readingFieldId)})),self.$util.fetchRule("alarm",self.$route.params.id).then((function(response){self.rules=response.data.result}))},loadThresholdFields:function(id,readingId){var _this=this;this.thresholdFields=[],this.$store.dispatch("formulabuilder/loadAssetReadings",{assetCategoryId:id}).then((function(){_this.thresholdFields=_this.$store.getters["formulabuilder/getAssetReadings"](id,!0),_this.getFieldDisplayName(readingId)}))},getFieldDisplayName:function(id){var fieldObj;return this.thresholdFields.filter((function(d){d.id===id&&(fieldObj=d)})),this.metricField=fieldObj,fieldObj},closeSummary:function(){var newpath=this.$route.path.substring(0,this.$route.path.indexOf("/summary/"));this.$router.replace({path:newpath})},changeRuleStatus:function(rule){this.$util.changeRuleStatus("alarm",rule.id,rule.status).then((function(response){})).catch((function(error){}))}}},rules_RulesSummaryvue_type_script_lang_js=RulesSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(rules_RulesSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RulesSummary=component.exports},
/***/875964:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e797fc637428abe52b19ed6535a760e6.svg";
/***/},
/***/972731:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"acd45bb7ba77d96afaf2b4ee3df424f5.svg";
/***/},
/***/143852:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"2a1ff6ce465405240cf8c8511854a5b9.svg";
/***/},
/***/683774:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"0d874f41d578e9dd941dd20e1d063b1d.svg";
/***/},
/***/459175:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4916f75dcfda409e5df822266e84b91a.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/46523.js.map