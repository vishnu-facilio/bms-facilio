"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[60713],{
/***/924743:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ImageUpload}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/components/ImageUpload.vue?vue&type=template&id=da46c074
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.$validation.isEmpty(_vm.value)?_c("el-upload",{staticClass:"card-img-upload mR40",attrs:{drag:"",action:"",accept:"image/*","show-file-list":!1,"http-request":_vm.onUpload,"on-remove":_vm.onRemove,"on-success":_vm.onUploadSuccess}},[_c("div",{staticClass:"d-flex flex-direction-column"},[_c("InlineSvg",{staticClass:"d-flex justify-content-center folder-icon",attrs:{src:"svgs/file-image-solid",iconClass:"icon icon-xlg"}}),_c("div",{staticClass:"self-center"},[_c("p",{staticClass:"help-text"},[_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.drag_drop_text"))+" "+_vm._s(_vm.$t("common.attachment_form.click_to_browse"))+" ")])])],1)]):_c("div",{staticClass:"inline line-height24"},[_c("el-image",{staticClass:"fc-avatar-square card-image-preview",attrs:{src:_vm.previewUrl,fit:"cover"}},[_c("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[_c("InlineSvg",{attrs:{src:"svgs/photo",iconClass:"icon fill-grey icon-xxlll op5"}})],1)]),_c("a",{staticClass:"f12 block text-center",on:{click:_vm.onRemove}},[_vm._v("Remove")])],1)],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),baseUrl=__webpack_require__(420499),ImageUploadvue_type_script_lang_js={props:["value"],data:function(){return{uploding:!1}},computed:{previewUrl:function(){var value=this.value;return(0,baseUrl/* getBaseURL */.BS)()+"/v2/files/preview/"+value}},methods:{onUpload:function(_ref){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var file;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return file=_ref.file,_ref.onError,_this.uploding=!0,_context.abrupt("return",api/* API */.bl.uploadFiles([file]));case 3:case"end":return _context.stop()}}),_callee)})))()},onUploadSuccess:function(response){var ids=response.ids,_ids=(response.error,(0,slicedToArray/* default */.Z)(ids,1)),id=_ids[0];this.$emit("input",id),this.uploding=!1},onRemove:function(){
// TODO delete file
this.$emit("input",null)}}},components_ImageUploadvue_type_script_lang_js=ImageUploadvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ImageUploadvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ImageUpload=component.exports},
/***/760713:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return IndoorFloorPlanEditor}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/IndoorFloorPlanEditor.vue?vue&type=template&id=575b2fa1&scoped=true
var EditorActions_render,EditorActions_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.ready?_c("div",{staticClass:"indoor-floorplan-editor fc-indoor-floorplan-editor-view",attrs:{id:"editor"}},[_c("div",{staticClass:"dragElement",staticStyle:{display:"none"},attrs:{id:"dragMarkerItem"}}),_c("div",{staticClass:"dragElement",staticStyle:{display:"none"},attrs:{id:"dragSpaceItem"}}),_vm.selectedMarkerType?_c("div",{staticClass:"dragElemntClose"},[_c("div",{staticClass:"width100 flex"},[_c("div",{staticClass:"fc-dragelement-txt pR5"},[_vm._v(" "+_vm._s("You are adding "+_vm.selectedMarkerType.name+", click to ")+" ")]),_c("div",{},[_c("el-button",{staticClass:"pull-right fc-dragelement-btn",attrs:{size:"medium"},on:{click:_vm.closeDrgaMarker}},[_vm._v("Stop")])],1)])]):_vm._e(),_c("top-bar",{attrs:{saveButn:_vm.saveButn,indoorFloorPlan:_vm.indoorFloorPlan,floor:_vm.floor,building:_vm.building},on:{refresh:_vm.refresh,save:_vm.saveFloorPlan,addNumber:function($event){return _vm.setNumber()},close:_vm.closeFlooplanEditor}}),_c("div",{staticClass:"indoor-fp-mapbox-section"},[_c("side-bar",{staticStyle:{width:"16%"},attrs:{selectedMarkerType:_vm.selectedMarkerType,markers:_vm.markerTypes,markerMappedDesk:_vm.markerMappedDesk,isDraging:_vm.isDraging,deskDraging:_vm.deskDraging,floorId:_vm.floorId,zoneMapedSpaceId:_vm.zoneMapedSpaceId},on:{markerType:_vm.getMarker,"update:selectedMarkerType":function($event){_vm.selectedMarkerType=$event},"update:selected-marker-type":function($event){_vm.selectedMarkerType=$event},"update:isDraging":function($event){_vm.isDraging=$event},"update:is-draging":function($event){_vm.isDraging=$event},"update:deskDraging":function($event){_vm.deskDraging=$event},"update:desk-draging":function($event){_vm.deskDraging=$event},dragElement:_vm.handlemouseDownElement,deskDrag:_vm.handleDeskDrag,closeElement:_vm.destroyDragEement}}),_vm.dropZone?_c("div",{attrs:{id:"drop1"},on:{dragover:_vm.allowDrop,drop:_vm.drop}}):_vm._e(),_c("base-map",{staticStyle:{width:"84%"},attrs:{maxZoom:22,zoom:20,minZoom:10},on:{mapLoaded:_vm.mapLoaded}}),_vm.propertieVisibile?_c("properties-dialog",{attrs:{visible:_vm.propertieVisibile,properties:_vm.selectedElement.properties,selectedElement:_vm.selectedElement,departments:_vm.departments,markers:_vm.rawMarkers},on:{"update:visible":function($event){_vm.propertieVisibile=$event},close:_vm.closeDialog,update:_vm.updateMarker,delete:function($event){return _vm.deleteMarker()}}}):_vm._e(),_vm.spaceMapDialog?_c("SpaceMapDialog",{attrs:{visible:_vm.spaceMapDialog,selectedZone:_vm.selectedZone},on:{"update:visible":function($event){_vm.spaceMapDialog=$event},update:_vm.updateZone,close:_vm.closeSpacePropertieDialog,delete:_vm.deleteZone}}):_vm._e()],1)],1):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(538077),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(899211),__webpack_require__(228607),__webpack_require__(995194),__webpack_require__(36664),__webpack_require__(455980),__webpack_require__(279943),__webpack_require__(396089),__webpack_require__(718539),__webpack_require__(948690),__webpack_require__(520522),__webpack_require__(200082),__webpack_require__(345385),__webpack_require__(785552),__webpack_require__(131803),__webpack_require__(991565),__webpack_require__(367987),__webpack_require__(549365),__webpack_require__(480677),__webpack_require__(518118),__webpack_require__(41165),__webpack_require__(271522),__webpack_require__(379976),__webpack_require__(304797),__webpack_require__(207300),__webpack_require__(593356),__webpack_require__(862533),__webpack_require__(699724),__webpack_require__(724224),__webpack_require__(761121),__webpack_require__(899901),__webpack_require__(637133),__webpack_require__(212826),__webpack_require__(169358),__webpack_require__(879288),__webpack_require__(150124)),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),api=(__webpack_require__(425728),__webpack_require__(648324),__webpack_require__(397895),__webpack_require__(32284)),validation=__webpack_require__(990260),baseUrl=__webpack_require__(420499),mapbox_gl=__webpack_require__(706158),mapbox_gl_default=__webpack_require__.n(mapbox_gl),mapbox_gl_draw=__webpack_require__(301307),mapbox_gl_draw_default=__webpack_require__.n(mapbox_gl_draw),drawStyles_namespaceObject=JSON.parse('[{"id":"gl-draw-line","type":"line","filter":["all",["==","$type","LineString"],["!=","mode","static"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#32ACED","line-width":2}},{"id":"gl-draw-polygon-fill-inactive","type":"fill","filter":["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],"paint":{"fill-color":["case",["==",["get","user_class_id"],1],"#00ff00",["==",["get","user_class_id"],2],"#0000ff","#32ACED"],"fill-outline-color":"#32ACED","fill-opacity":0.2}},{"id":"gl-draw-polygon-fill-active","type":"fill","filter":["all",["==","active","true"],["==","$type","Polygon"]],"paint":{"fill-color":"#3bcefb","fill-outline-color":"#3bcefb","fill-opacity":0.1}},{"id":"gl-draw-polygon-midpoint","type":"circle","filter":["all",["==","$type","Point"],["==","meta","midpoint"]],"paint":{"circle-radius":5,"circle-color":"#3bcefb"}},{"id":"gl-draw-polygon-stroke-inactive","type":"line","filter":["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#32ACED","line-width":2}},{"id":"gl-draw-polygon-stroke-active","type":"line","filter":["all",["==","active","true"],["==","$type","Polygon"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#3bcefb","line-width":3}},{"id":"gl-draw-line-inactive","type":"line","filter":["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#32ACED","line-width":2}},{"id":"gl-draw-line-active","type":"line","filter":["all",["==","$type","LineString"],["==","active","true"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#3bcefb","line-dasharray":[0.2,2],"line-width":2}},{"id":"gl-draw-polygon-and-line-vertex-stroke-inactive","type":"circle","filter":["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],"paint":{"circle-radius":9,"circle-color":"#3bcefb"}},{"id":"gl-draw-polygon-and-line-vertex-inactive","type":"circle","filter":["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],"paint":{"circle-radius":4,"circle-color":"#fff"}},{"id":"gl-draw-point-point-stroke-inactive","type":"circle","filter":["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],"paint":{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{"id":"gl-draw-point-inactive","type":"circle","filter":["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],"paint":{"circle-radius":5,"circle-color":"#32ACED"}},{"id":"gl-draw-point-stroke-active","type":"circle","filter":["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],"paint":{"circle-radius":5,"circle-color":"#3bcefb"}},{"id":"gl-draw-point-active","type":"circle","filter":["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],"paint":{"circle-radius":5,"circle-color":"#3bcefb"}},{"id":"gl-draw-polygon-fill-static","type":"fill","filter":["all",["==","mode","static"],["==","$type","Polygon"]],"paint":{"fill-color":"#32ACED","fill-outline-color":"#32ACED","fill-opacity":0.1}},{"id":"gl-draw-polygon-stroke-static","type":"line","filter":["all",["==","mode","static"],["==","$type","Polygon"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#32ACED","line-width":2}},{"id":"gl-draw-line-static","type":"line","filter":["all",["==","mode","static"],["==","$type","LineString"]],"layout":{"line-cap":"round","line-join":"round"},"paint":{"line-color":"#32ACED","line-width":2}},{"id":"gl-draw-point-static","type":"circle","filter":["all",["==","mode","static"],["==","$type","Point"]],"paint":{"circle-radius":5,"circle-color":"#32ACED"}}]'),EditorActionsvue_type_script_lang_js={props:["id","visibile"],data:function(){return{geoJson:{},indoorFloorPlan:null,markers:{},zones:{},indoorFloorPlanObjects:null,loading:!0,ready:!1,draw:null,selectedMarkerType:null,deskMarkerSelected:!1,saveButn:!0,selectedElementIndex:-1,selectedElement:null,canMove:!0,propertieVisibile:!1,markerTypes:[],selectedZone:null,spaceMapDialog:!1,spaces:[],numbering:[],selectedNumbering:null,deletedMarkersList:[],deletedZonesList:[],editorProperties:!1,spaceCategories:[],departments:[],floorDetails:null,imageBounds:{},rawMarkers:[],markerIconMap:{Camera:"Camera.png",CCTV:"CCTV.png",Elevator:"Elevator.png",Escalator:"Escalator.png","Women’s restroom":"FemaleRestroom.png","Fire extinguisher":"FireExtingus.png",Kitchen:"Kitchen1.png",Microwave:"Kitchen2.png",Locker:"Locker.png","Men’s restroom":"MaleRestroom.png",Parking:"Parking.png",Restroom:"Restroom.png",Handicap:"Handicap.png",Limited:"Limited.png"},rawDesks:{}}},computed:{iconSize:function(){return this.indoorFloorPlan&&this.indoorFloorPlan.iconSize?this.indoorFloorPlan.iconSize:1},fontSize:function(){return this.indoorFloorPlan&&this.indoorFloorPlan.fontSize?this.indoorFloorPlan.fontSize:10},minZoom:function(){return this.indoorFloorPlan&&this.indoorFloorPlan.minZoom?this.indoorFloorPlan.minZoom:16},maxZoom:function(){return this.indoorFloorPlan&&this.indoorFloorPlan.maxZoom?this.indoorFloorPlan.maxZoom:22},defaultMarkerTypes:function(){var _this=this,markers=this.markerTypes.filter((function(rt){return-1===rt.fileId&&"desk"!==rt.name?rt:null}));return markers.forEach((function(rt){_this.markerIconMap[rt.name]&&_this.$set(rt,"icon",_this.markerIconMap[rt.name])})),markers},defaultMarkerIdVsName:function(){var _this2=this,data={};return this.defaultMarkerTypes.forEach((function(rt){_this2.$set(data,rt.id,rt.name)})),data},defaultMarkerNameVsId:function(){var _this3=this,data={};return this.defaultMarkerTypes.forEach((function(rt){_this3.$set(data,rt.name,rt.id)})),data},building:function(){var floorDetails=this.floorDetails;return floorDetails&&floorDetails.building?floorDetails.building:null},floor:function(){return this.floorDetails||null},spaceCategoryIdVsNameMap:function(){var _this4=this,data={};return this.spaceCategories.forEach((function(rt){_this4.$set(data,rt.id,rt.name)})),data},deskCategoryId:function(){var deskCategory=this.spaceCategories.find((function(rt){return"Desk"===rt.name}));return deskCategory?deskCategory.id:null},floorplanId:function(){return this.id?this.id:this.$route&&this.$route.params.floorplanid?parseInt(this.$route.params.floorplanid):null}},methods:{updateZone:function(zone){var _this5=this;zone.properties&&(Object.keys(zone.properties).forEach((function(key){_this5.draw.setFeatureProperty(zone.id,key,zone.properties[key])})),this.syncData())},closeSpacePropertieDialog:function(){this.spaceMapDialog=!1,this.selectedZone=null},move:function(){this.canMove=!this.canMove},getPreviewUrl:function(fileId){return"".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(fileId,"?fetchOriginal=true")},deleteFeature:function(){var selectedElementIndex=this.selectedElementIndex,selectedElement=this.selectedElement,markers=this.markers;selectedElementIndex>-1&&selectedElement&&(markers.features.splice(selectedElementIndex,1),this.refrshMarkerJson())},updateMarker:function(properties){var selectedElementIndex=this.selectedElementIndex,markers=this.markers;selectedElementIndex>-1&&properties&&(markers.features[selectedElementIndex].properties=properties,this.refrshMarkerJson())},refrshMarkerJson:function(){this.map.getSource("marker").setData(this.markers),this.selectedElementIndex=-1,this.selectedElement=null},addControlLayer:function(map){var _this6=this,self=this;this.draw=new(mapbox_gl_draw_default())({userProperties:!1,displayControlsDefault:!1,styles:drawStyles_namespaceObject,controls:{}});var draw=this.draw;
// let drawBar = new extendDrawBar({
//   draw: draw,
//   buttons: [
//     {
//       on: 'click',
//       action: e => {
//         this.move(e)
//       },
//       classes: ['fa', 'fa-arrows'],
//     },
//   ],
// })
function update(){self.objectUpdate(draw.getAll())}function deleteObject(){self.objectDelete(draw.getAll())}map.addControl(draw),this.draw.add(this.zones),map.on("draw.create",(function(e){_this6.selectedZone=null,_this6.selectedZone=_this6.getFirstFeature(e),_this6.spaceMapDialog=!0})),map.on("draw.delete",deleteObject),map.on("draw.update",update),map.on("draw.selectionchange",(function(e){if(e.features&&e.features.length){var feat=e.features[0];_this6.selectedZone=feat,_this6.spaceMapDialog=!0,_this6.draw.changeMode("direct_select",{featureId:feat.id}),map.setLayoutProperty("space-text","visibility","none")}else _this6.closeSpacePropertieDialog(),map.setLayoutProperty("space-text","visibility","visible")}))},
// getSelectedZone() {
//   let {draw, selectedZone} = this
//   let selectedzone = draw.getSelected()
//   if (selectedZone !== null) {
//     let selectedFeatureId = this.getFirstFeatureId(selectedzone)
//     if (selectedFeatureId === selectedZone.id) {
//     }
//   }
//   else {
//     this.objectSelected(this.getFirstFeature(selectedzone))
//   }
// },
getFirstFeatureId:function(geoJson){return geoJson.features.length&&geoJson.features[0]?geoJson.features[0].id:null},getFirstFeature:function(geoJson){return geoJson.features[0]},objectSelected:function(feature){this.selectedZone=feature},objectCreate:function(data){this.syncData(data)},objectUpdate:function(data){this.syncData(data)},objectDelete:function(data){this.syncData(data)},updateAndSaveNumbering:function(){var moduleName="floorplanmarkertypes";this.numbering.forEach((function(rt){if(rt.id){var params={id:rt.id,data:rt};api/* API */.bl.updateRecord(moduleName,params)}else api/* API */.bl.createRecord(moduleName,{data:rt})}))},mergeDeleteMarkerList:function(){var indoorFloorPlan=this.indoorFloorPlan,deletedMarkersList=this.deletedMarkersList;indoorFloorPlan&&indoorFloorPlan.markers&&(indoorFloorPlan.markers=[].concat((0,toConsumableArray/* default */.Z)(indoorFloorPlan.markers),(0,toConsumableArray/* default */.Z)(deletedMarkersList)))},saveFloorPlan:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this7.serializeGeoJson(),_this7.deletedMarkersList=_this7.formatDeleteMarker(),_this7.deletedZonesList=_this7.formatDeleteZone(),_this7.mergeDeleteMarkerList(),params={moduleName:"indoorfloorplan",id:_this7.floorplanId,data:_this7.indoorFloorPlan},_context.next=8,api/* API */.bl.post("v3/modules/data/update",params);case 8:_yield$API$post=_context.sent,error=_yield$API$post.error,error?_this7.$message.error(error.message):(_this7.deleteMarkers(),_this7.deleteZones(),_this7.refreshData(),_this7.updateAndSaveNumbering(),_this7.$message.success("updated"),_this7.closeFlooplanEditor());case 11:case"end":return _context.stop()}}),_callee)})))()},deleteMarkers:function(){if(this.deletedMarkersList.length){var ids=this.deletedMarkersList.map((function(rt){return rt.id}));
// let params = {
//     data: {
//       floorplanmarker: ids
//     },
//   }
api/* API */.bl.deleteRecord("floorplanmarker",ids)}},deleteZones:function(){if(this.deletedZonesList.length){var ids=this.deletedZonesList.map((function(rt){return rt.id}));
// let params = {
//     data: {
//       floorplanmarkedzone: ids
//     },
//   }
api/* API */.bl.deleteRecord("floorplanmarkedzone",ids)}},getNumberingList:function(){return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return params={moduleName:"floorplanmarkertypes"},_context2.next=3,api/* API */.bl.get("v3/modules/data/list",params);case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}),_callee2)})))()},getSpaceCatgory:function(){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var params,_yield$API$get,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return params={page:1,perPage:200,includeParentFilter:!0,moduleName:"spacecategory"},_context3.next=3,api/* API */.bl.get("v3/modules/data/list",params);case 3:_yield$API$get=_context3.sent,data=_yield$API$get.data,data&&(_this8.spaceCategories=data.spacecategory);case 6:case"end":return _context3.stop()}}),_callee3)})))()},refreshData:function(){var _this9=this;this.getFloorplan().then((function(_ref){var data=_ref.data,error=_ref.error;error&&_this9.$message.error(error.message),_this9.indoorFloorPlan=data.indoorfloorplan,_this9.deSerializeGeoJson(_this9.indoorFloorPlan)}))},getFloorplan:function(){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return params={moduleName:"indoorfloorplan",id:_this10.floorplanId},_context4.next=3,api/* API */.bl.post("v3/modules/data/summary",params);case 3:return _context4.abrupt("return",_context4.sent);case 4:case"end":return _context4.stop()}}),_callee4)})))()},loadFloorplanImage:function(map){var imageUrl="",fileId=this.indoorFloorPlan.fileId;imageUrl=this.isDev?"".concat(window.location.origin,"/statics/floorplan.png"):"".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(fileId,"?fetchOriginal=true");var img=new Image,self=this;img.onload=function(){var w=this.width,h=this.height,cUL=map.unproject([0,0]).toArray(),cUR=map.unproject([w,0]).toArray(),cLR=map.unproject([w,h]).toArray(),cLL=map.unproject([0,h]).toArray(),coordinates=[cUL,cUR,cLR,cLL];if(self.indoorFloorPlan.geometry){var geometry=JSON.parse(self.indoorFloorPlan.geometry);geometry.coordinates&&(coordinates=geometry.coordinates)}else self.indoorFloorPlan.geometry=JSON.stringify({coordinates:coordinates});self.setImageBounds(coordinates),map.addSource("ImageSource",{type:"image",url:imageUrl,coordinates:coordinates},{pixelRatio:2}),map.addLayer({id:"ImageLayer",source:"ImageSource",type:"raster",paint:{"raster-opacity":.7}});var bd=coordinates.reduce((function(bid,coord){return bid.extend(coord)}),new(mapbox_gl_default().LngLatBounds)(coordinates[0],coordinates[0]));
// need to set the mapbox fitbounds zoom level
// let minZoom = map.getZoom() - 2
// let maxZoom = map.getZoom() + 2
// self.minZoom = minZoom
// self.maxZoom = maxZoom
// map.setMinZoom(minZoom)
// map.setMaxZoom(maxZoom)
map.fitBounds(bd,{padding:100}),self.loadObjects(map)},img.src=imageUrl},setImageBounds:function(coordinates){var imageBounds=this.imageBounds;this.$set(imageBounds,"blLng",coordinates[3][0]),// bottom-left lng
this.$set(imageBounds,"blLat",coordinates[3][1]),// bottom-left lat
this.$set(imageBounds,"trLng",coordinates[1][0]),// top-right lng
this.$set(imageBounds,"trLat",coordinates[1][1])},getNumbering:function(marker){return this.numbering.find((function(rt){return rt.markerType&&rt.markerType.id===marker.id?rt:null}))},getNumberingCode:function(numbering,selectedMarkerType){if(numbering){var prefix=numbering.prefix,suffix=numbering.suffix,currentNumber=numbering.currentNumber,code="";return prefix&&(code+=prefix),currentNumber&&(code+=currentNumber),suffix&&(code+=suffix),code}return selectedMarkerType?selectedMarkerType.name:""},getSpaceCatgoryfromSpace:function(space){return space&&space.spaceCategory&&space.spaceCategory.id&&this.spaceCategoryIdVsNameMap[space.spaceCategory.id]?this.spaceCategoryIdVsNameMap[space.spaceCategory.id]:null},deSerializeGeoJson:function(floorplanObj){var _this11=this,markedZones=floorplanObj.markedZones,markers=floorplanObj.markers,deskMarkerType=this.getDeskMarkerType(),features=[];(0,validation/* isEmpty */.xb)(markedZones)?this.zones=this.convertGeoJson([]):(markedZones.forEach((function(zone){var feature={};feature["geometry"]=JSON.parse(zone.geometry),feature["properties"]=JSON.parse(zone.properties),feature.type=zone.type,feature.geoId=zone.geoId,feature.id=zone.id,feature.space=zone.space,feature.label=zone.label,zone.markerType&&(feature.markerType=zone.markerType,_this11.$set(feature.properties,"markerId",zone.markerType.id)),zone.space&&zone.space.id&&(_this11.$set(feature,"space",zone.space),feature.space=zone.space,_this11.$set(feature.properties,"isReservable",zone.isReservable),
// let reservable = zone.space.reservable || false
// this.$set(feature.properties, 'isReservable', reservable)
_this11.$set(feature.properties,"spaceId",zone.space.id),_this11.$set(feature.properties,"spaceCategory",_this11.getSpaceCatgoryfromSpace(zone.space))),zone.zoneModuleId&&_this11.$set(feature.properties,"zoneModuleId",zone.zoneModuleId),zone.recordId&&_this11.$set(feature.properties,"recordId",zone.recordId),zone.label&&_this11.$set(feature.properties,"label",zone.label),_this11.$set(feature.properties,"id",zone.id),features.push(feature)})),this.zones=this.convertGeoJson(features)),(0,validation/* isEmpty */.xb)(markers)?this.markers=this.convertGeoJson([]):(features=[],markers.forEach((function(marker){var feature={};if(feature["geometry"]=JSON.parse(marker.geometry),feature["properties"]=JSON.parse(marker.properties),feature.type=marker.type,feature.geoId=marker.geoId,feature.label=marker.label,feature.id=marker.id,marker.desk&&(feature.desk=marker.desk,_this11.$set(_this11.rawDesks,marker.desk.id,marker.desk),_this11.$set(feature.properties,"deskCode",marker.desk.deskCode),_this11.$set(feature.properties,"deskId",marker.desk.id),marker.desk&&marker.desk.employee&&_this11.$set(feature.properties,"employeeId",marker.desk.employee.id),marker.desk&&marker.desk.deskType&&_this11.$set(feature.properties,"deskType",marker.desk.deskType),marker.desk&&marker.desk.department&&_this11.$set(feature.properties,"departmentId",marker.desk.department.id)),marker.markerType)if(feature.markerType=marker.markerType,marker.markerType.id===deskMarkerType.id)_this11.$set(feature.properties,"normalClass","desk"),_this11.$set(feature.properties,"markerId","desk"),_this11.$set(feature.properties,"activeClass","desk_active"),_this11.$set(feature.properties,"isCustom",!0);else if(_this11.defaultMarkerIdVsName[marker.markerType.id]){var name=_this11.defaultMarkerIdVsName[marker.markerType.id];_this11.$set(feature.properties,"normalClass",name),_this11.$set(feature.properties,"markerId",name),_this11.$set(feature.properties,"activeClass","".concat(name)),_this11.$set(feature.properties,"isCustom",!0)}else _this11.$set(feature.properties,"normalClass",marker.markerType.id),_this11.$set(feature.properties,"markerId",marker.markerType.id),_this11.$set(feature.properties,"activeClass",marker.markerType.id);marker.markerModuleId&&_this11.$set(feature.properties,"markerModuleId",marker.markerModuleId),marker.recordId&&_this11.$set(feature.properties,"recordId",marker.recordId),marker.label&&_this11.$set(feature.properties,"label",marker.label),_this11.$set(feature.properties,"id",marker.id),features.push(feature)})),this.markers=this.convertGeoJson(features))},convertGeoJson:function(data){return{type:"FeatureCollection",features:data}},getDeskMarkerType:function(){return this.markerTypes.find((function(rt){return"desk"===rt.name}))},formatDeleteZone:function(){var _this12=this,markedZones=[];return this.deletedZonesList&&this.deletedZonesList.length&&this.deletedZonesList.forEach((function(feature){markedZones.push(_this12.formatedZones(feature))})),markedZones},formatDeleteMarker:function(){var _this13=this,markers=[];return this.deletedMarkersList&&this.deletedMarkersList.length&&this.deletedMarkersList.forEach((function(feature){markers.push(_this13.formatedMarkers(feature))})),markers},formatedZones:function(feature){var localObj={};return localObj["geometry"]=JSON.stringify(feature.geometry),localObj["properties"]=JSON.stringify({}),localObj.type=feature.type,localObj.indoorfloorplan={id:this.indoorFloorPlan.id},"number"===typeof feature.id?localObj.id=feature.id:"string"===typeof feature.id&&(localObj.geoId=feature.id),feature.properties.geoId&&(localObj.geoId=feature.properties.geoId),feature.properties.spaceId&&(localObj.space={id:feature.properties.spaceId,reservable:feature.properties.isReservable||!1}),localObj.isReservable=feature.properties.isReservable||!1,feature.properties.markerId&&(localObj.markerType={id:feature.properties.markerId}),feature.properties.zoneModuleId&&(localObj.zoneModuleId=feature.properties.zoneModuleId),
//      else if (feature.properties.markerModuleId) {
//   localObj.markerModuleId = feature.properties.markerModuleId
// }
feature.properties.recordId&&(localObj.recordId=feature.properties.recordId),feature.properties.label&&(localObj.label=feature.properties.label),localObj},formatedMarkers:function(feature){var deskMarkerType=this.getDeskMarkerType(),localObj={};return localObj["geometry"]=JSON.stringify(feature.geometry),localObj["properties"]=JSON.stringify({}),localObj.type=feature.type,localObj.indoorfloorplan={id:this.indoorFloorPlan.id},"number"===typeof feature.id?localObj.id=feature.id:"string"===typeof feature.id&&(localObj.geoId=feature.id),feature.properties.geoId&&(localObj.geoId=feature.properties.geoId),feature.properties&&feature.properties.isCustom&&feature.properties.markerId&&("desk"===feature.properties.markerId||"desk_active"===feature.properties.markerId)&&(localObj.desk=this.propertiesTODesk(feature.properties)),("desk"===feature.properties.markerId||"desk_active"===feature.properties.markerId)&&feature.properties.isCustom&&deskMarkerType?localObj.markerType={id:deskMarkerType.id}:this.defaultMarkerNameVsId[feature.properties.markerId]?localObj.markerType={id:this.defaultMarkerNameVsId[feature.properties.markerId]}:feature.properties.markerId&&!feature.properties.isCustom&&(localObj.markerType={id:feature.properties.markerId}),feature.properties.recordModuleId?localObj.markerModuleId=feature.properties.recordModuleId:feature.properties.markerModuleId&&(localObj.markerModuleId=feature.properties.markerModuleId),feature.properties.recordId&&(localObj.recordId=feature.properties.recordId),feature.properties.label&&(localObj.label=feature.properties.label),localObj},serializeGeoJson:function(){var _this14=this,markedZones=[],markers=[];this.zones.features&&this.zones.features.length&&this.zones.features.forEach((function(feature){markedZones.push(_this14.formatedZones(feature))})),this.markers.features&&this.markers.features.length&&this.markers.features.forEach((function(feature){markers.push(_this14.formatedMarkers(feature))})),this.$set(this.indoorFloorPlan,"markedZones",markedZones),this.$set(this.indoorFloorPlan,"markers",markers)},propertiesTODesk:function(properites){if(properites){var desk={deskCode:properites.deskCode,deskType:properites.deskType,name:properites.label,spaceType:properites.spaceType,floor:{id:this.floorId},spaceCategory:{id:this.deskCategoryId},siteId:this.siteId,resourceType:1,floorId:this.floorId,reservable:1!==properites.deskType,isArchived:properites.isArchived||!1};if(properites.deskId&&
// delete desk.name
this.$set(desk,"id",Number(properites.deskId)),properites.employeeId&&this.$set(desk,"employee",{id:Number(properites.employeeId)}),properites.departmentId&&this.$set(desk,"department",{id:Number(properites.departmentId)}),this.buildingId&&this.$set(desk,"building",{id:this.buildingId}),null!==desk&&void 0!==desk&&desk.id&&this.rawDesks&&this.rawDesks[desk.id]){var rawDesk=this.rawDesks[desk.id];return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},rawDesk),desk)}return desk}},fetchMarkerTypes:function(){var _this15=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return params={moduleName:"markertype"},_context5.next=3,api/* API */.bl.get("v3/modules/data/list",params).then((function(_ref2){var data=_ref2.data;data&&(_this15.markerTypes=data.markertype)}));case 3:return _context5.abrupt("return",_context5.sent);case 4:case"end":return _context5.stop()}}),_callee5)})))()},getDepartments:function(){var _this16=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return params={moduleName:"department"},_context6.next=3,api/* API */.bl.get("v2/module/data/list",params).then((function(_ref3){var data=_ref3.data;data&&(_this16.departments=data.moduleDatas)}));case 3:return _context6.abrupt("return",_context6.sent);case 4:case"end":return _context6.stop()}}),_callee6)})))()},fetchFloorDetails:function(){var _this17=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return params={floorId:_this17.floorId},_context7.next=3,api/* API */.bl.get("v2/floor/details",params).then((function(_ref4){var data=_ref4.data;data&&(_this17.floorDetails=data.floor)}));case 3:return _context7.abrupt("return",_context7.sent);case 4:case"end":return _context7.stop()}}),_callee7)})))()},addDeskIcon:function(){var map=this.map,size=80,outerRadius=(size-20)/2,radius=size/3*.5,active=size/2-5,desk={width:size,height:size,data:new Uint8Array(size*size*4),
// get rendering context for the map canvas when layer is added to the map
onAdd:function(){var canvas=document.createElement("canvas");canvas.width=this.width,canvas.height=this.height,this.context=canvas.getContext("2d")},
// called once before every frame where the icon will be used
render:function(){var context=this.context;
// draw inner circle
// continuously repaint the map, resulting in the smooth animation of the dot
// map.triggerRepaint();
// return `true` to let the map know that the image was updated
return context.beginPath(),context.arc(this.width/2,this.height/2,active,0,2*Math.PI),context.fillStyle="transparent",context.strokeStyle="transparent",context.lineWidth=5,context.fill(),context.stroke(),
// draw inner circle
context.beginPath(),context.arc(this.width/2,this.height/2,outerRadius,0,2*Math.PI),context.fillStyle="#000",context.strokeStyle="white",context.lineWidth=2,context.fill(),context.stroke(),
// draw inner circle
context.beginPath(),context.arc(this.width/2,this.height/2,radius,0,2*Math.PI),context.fillStyle="#fff",context.fill(),
// update this image's data with data from the canvas
this.data=context.getImageData(0,0,this.width,this.height).data,!0}},deskactive={width:size,height:size,data:new Uint8Array(size*size*4),
// get rendering context for the map canvas when layer is added to the map
onAdd:function(){var canvas=document.createElement("canvas");canvas.width=this.width,canvas.height=this.height,this.context=canvas.getContext("2d")},
// called once before every frame where the icon will be used
render:function(){var context=this.context;
// draw inner circle
// continuously repaint the map, resulting in the smooth animation of the dot
// map.triggerRepaint();
// return `true` to let the map know that the image was updated
return context.beginPath(),context.arc(this.width/2,this.height/2,active,0,2*Math.PI),context.fillStyle="transparent",context.strokeStyle="green",context.lineWidth=5,context.fill(),context.stroke(),
// draw outer circle
context.beginPath(),context.arc(this.width/2,this.height/2,outerRadius,0,2*Math.PI),context.fillStyle="#000",context.strokeStyle="white",context.lineWidth=2,context.fill(),context.stroke(),
// draw inner circle
context.beginPath(),context.arc(this.width/2,this.height/2,radius,0,2*Math.PI),context.fillStyle="#fff",context.fill(),
// update this image's data with data from the canvas
this.data=context.getImageData(0,0,this.width,this.height).data,!0}};map.addImage("desk_active",deskactive,{pixelRatio:2}),map.addImage("desk",desk,{pixelRatio:2})}}},mixins_EditorActionsvue_type_script_lang_js=EditorActionsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(mixins_EditorActionsvue_type_script_lang_js,EditorActions_render,EditorActions_staticRenderFns,!1,null,null,null)
/* harmony default export */,EditorActions=component.exports,IndoorFloorPlanTopBarvue_type_template_id_46569698_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"setting-header2 position-relative fp-header indoor-fp-topbar flex-middle"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"fc-black3-16 fw4 flex-middle cursor-default"},[_vm.indoorFloorPlan?_c("el-input",{staticClass:"fc-input-border-remove width-auto fc-input-floor",attrs:{placeholder:""},model:{value:_vm.indoorFloorPlan.name,callback:function($$v){_vm.$set(_vm.indoorFloorPlan,"name",$$v)},expression:"indoorFloorPlan.name"}}):_vm._e(),_vm.indoorFloorPlan?_c("span",{staticClass:"fc-grey3-text14 bold f14"},[_vm._v("for")]):_vm._e(),_c("div",{staticClass:"display-flex btn-effect-1"},[_c("i",{staticClass:"el-icon-office-building f18 pR5 primary-font"}),_c("span",{staticClass:"primary-font f14 ellipsis bold"},[_vm._v(_vm._s(""+_vm.floor.name)+", "+_vm._s(""+_vm.building.name))])])],1)]),_c("div",{staticClass:"action-btn setting-page-btn"},[_c("el-button",{staticClass:"fc-btn-green-medium-border shadow-none",attrs:{type:"secondary"},on:{click:function($event){return _vm.$emit("close")}}},[_vm._v("Close")]),_vm.saveButn?_c("el-button",{staticClass:"fc-btn-green-medium-fill shadow-none",attrs:{type:"primary"},on:{click:_vm.save}},[_vm._v("Save")]):_vm._e()],1)])},IndoorFloorPlanTopBarvue_type_template_id_46569698_staticRenderFns=[],IndoorFloorPlanTopBarvue_type_script_lang_js={props:["indoorFloorPlan","saveButn","floorplan","floor","building"],methods:{save:function(){var _this=this;this.$confirm("Once saved, changes go live immediately",{title:"Save changes",confirmButtonText:"Save",cancelButtonText:"Cancel",cancelButtonClass:"msg-cancel-btn",confirmButtonClass:"msg-confirm-btn",customClass:"fc-el-msgBox",type:"warning"}).then((function(){_this.$emit("save")})).catch((function(){_this.$emit("close")}))}}},components_IndoorFloorPlanTopBarvue_type_script_lang_js=IndoorFloorPlanTopBarvue_type_script_lang_js,IndoorFloorPlanTopBar_component=(0,componentNormalizer/* default */.Z)(components_IndoorFloorPlanTopBarvue_type_script_lang_js,IndoorFloorPlanTopBarvue_type_template_id_46569698_render,IndoorFloorPlanTopBarvue_type_template_id_46569698_staticRenderFns,!1,null,null,null)
/* harmony default export */,IndoorFloorPlanTopBar=IndoorFloorPlanTopBar_component.exports,IndoorFloorPlanSideBarvue_type_template_id_5c9ebec2_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"indoor-fp-sidebar",on:{mouseup:function($event){return _vm.handlemouseup()}}},[_c("div",{staticClass:"mT15"},[_c("div",[_c("div",{staticClass:"flex-middle width100 justify-content-space space-search-block p15 pT0"},[_vm.showHidesearchIcon?_c("div",{staticClass:"fc-pink-floorplan flex-middle"},[_c("div",[_vm._v(" Spaces ")])]):_vm._e(),_c("div",{staticClass:"width100 text-right pointer"},[_c("div",{on:{click:function($event){return _vm.clickToShowSearchBox()}}},[_vm.showHidesearchIcon?_c("i",{staticClass:"el-icon-search fc-black-14 fw-bold pointer"}):_vm._e()]),_vm.showSearchbox?_c("el-input",{staticClass:"width100 fc-input-full-border-h35",attrs:{size:"medium",placeholder:"Search"},on:{change:function($event){return _vm.fetchSpaces()}},model:{value:_vm.spaceSearch,callback:function($$v){_vm.spaceSearch=$$v},expression:"spaceSearch"}},[_c("i",{staticClass:"el-input__icon pointer fc-black-14 fwBold el-icon-close",attrs:{slot:"suffix"},on:{click:_vm.hideSearchBox},slot:"suffix"})]):_vm._e()],1)]),_vm.spaceLoading?[_c("spinner",{attrs:{show:_vm.spaceLoading,size:"40"}})]:_c("div",{staticClass:"db-user-filter-manager-dialog pL15 pR15"},[_vm.filterdSpaceList.length?_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},_vm._l(_vm.filterdSpaceList,(function(space,index){return _c("div",{key:index,staticClass:"field-row mB15 cursor-drag",on:{mousedown:function($event){return _vm.handleMouseDown($event,space)}}},[_vm._m(0,!0),_c("div",{staticClass:"fc-black-14 bold text-left pT5"},[_vm._v(" "+_vm._s(space.name)+" ")])])})),0):_c("div",{staticClass:"pB10 text-center"},[_c("div",{staticClass:"fc-black-12 line-height25 break-word letter-spacing-normal text-left pL15"},[_vm._v(" No spaces available to add. ")])])])],2),_c("div",[_c("div",{staticClass:"flex-middle width100 justify-content-space space-search-block p15 pT0"},[_vm.showHidesearchIcon1?_c("div",{staticClass:"fc-pink-floorplan flex-middle"},[_c("div",{staticClass:"ellipsis"},[_vm._v(" Parking spaces ")])]):_vm._e(),_c("div",{staticClass:"width100 text-right pointer"},[_c("div",{on:{click:function($event){return _vm.clickToShowSearchBox()}}},[_vm.showHidesearchIcon1?_c("i",{staticClass:"el-icon-search fc-black-14 fw-bold pointer"}):_vm._e()]),_vm.showSearchbox1?_c("el-input",{staticClass:"width100 fc-input-full-border-h35",attrs:{size:"medium",placeholder:"Search"},on:{change:function($event){return _vm.fetchSpaces()}},model:{value:_vm.spaceSearch,callback:function($$v){_vm.spaceSearch=$$v},expression:"spaceSearch"}},[_c("i",{staticClass:"el-input__icon pointer fc-black-14 fwBold el-icon-close",attrs:{slot:"suffix"},on:{click:_vm.hideSearchBox},slot:"suffix"})]):_vm._e()],1)]),_vm.spaceLoading?[_c("spinner",{attrs:{show:_vm.spaceLoading,size:"40"}})]:_c("div",{staticClass:"db-user-filter-manager-dialog pL15 pR15"},[_vm.parkingSpaceList.length?_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},_vm._l(_vm.parkingSpaceList,(function(space,index){return _c("div",{key:index,staticClass:"field-row mB15 cursor-drag",on:{mousedown:function($event){return _vm.handleMouseDown($event,space)}}},[_vm._m(1,!0),_c("div",{staticClass:"fc-black-14 bold text-left pT5"},[_vm._v(" "+_vm._s(space.name)+" ")])])})),0):_c("div",{staticClass:"pB10 text-center"},[_c("div",{staticClass:"fc-black-12 line-height25 break-word letter-spacing-normal text-left pL15"},[_vm._v(" No parking spaces available to add. ")])])])],2),_c("div",[_c("div",{staticClass:"flex-middle width100 justify-content-space space-search-block p15 pT0"},[_vm.showHidesearchIcon2?_c("div",{staticClass:"fc-pink-floorplan flex-middle"},[_c("div",{staticClass:"ellipsis"},[_vm._v(" Lockers ")])]):_vm._e(),_c("div",{staticClass:"width100 text-right pointer"},[_c("div",{on:{click:function($event){return _vm.clickToShowLockerSearchBox()}}},[_vm.showHidesearchIcon2?_c("i",{staticClass:"el-icon-search fc-black-14 fw-bold pointer"}):_vm._e()]),_vm.showSearchbox2?_c("el-input",{staticClass:"width100 fc-input-full-border-h35",attrs:{size:"medium",placeholder:"Search"},on:{change:function($event){return _vm.fetchLockers()}},model:{value:_vm.lockerSearch,callback:function($$v){_vm.lockerSearch=$$v},expression:"lockerSearch"}},[_c("i",{staticClass:"el-input__icon pointer fc-black-14 fwBold el-icon-close",attrs:{slot:"suffix"},on:{click:_vm.hidelocker},slot:"suffix"})]):_vm._e()],1)]),_vm.lockerloading?[_c("spinner",{attrs:{show:_vm.lockerloading,size:"40"}})]:_c("div",{staticClass:"db-user-filter-manager-dialog pL15 pR15"},[_vm.filteredLockerList.length?_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word"},_vm._l(_vm.filteredLockerList,(function(space,index){return _c("div",{key:index,staticClass:"field-row mB15 cursor-drag",on:{mousedown:function($event){return _vm.handleMouseDown($event,space)}}},[_vm._m(2,!0),_c("div",{staticClass:"fc-black-14 bold text-left pT5"},[_vm._v(" "+_vm._s(space.name)+" ")])])})),0):_c("div",{staticClass:"pB10 text-center"},[_c("div",{staticClass:"fc-black-12 line-height25 break-word letter-spacing-normal text-left pL15"},[_vm._v(" No lockers available to add. ")])])])],2)]),_c("div",[_c("div",{staticClass:"flex-middle width100 justify-content-space space-search-block p15"},[_vm.showDiskHidesearchIcon?_c("div",{staticClass:"fc-pink-floorplan flex-middle"},[_c("div",[_vm._v(" Desks ")])]):_vm._e(),_c("div",{staticClass:"width100 text-right pointer"},[_c("div",{on:{click:function($event){return _vm.clickToDiskShowSearchBox()}}},[_vm.showDiskHidesearchIcon?_c("i",{staticClass:"el-icon-search fc-black-14 fw-bold"}):_vm._e()]),_vm.showDiskSearchbox?_c("el-input",{staticClass:"width100 fc-input-full-border-h35",attrs:{size:"medium",placeholder:"Search"},on:{change:function($event){return _vm.fetchDesks()}},model:{value:_vm.deskSearch,callback:function($$v){_vm.deskSearch=$$v},expression:"deskSearch"}},[_c("i",{staticClass:"el-input__icon pointer fc-black-14 fwBold el-icon-close",attrs:{slot:"suffix"},on:{click:_vm.hideDiskSearchBox},slot:"suffix"})]):_vm._e()],1)]),_c("div",{staticClass:"flex p15 f13 pointer bold",style:{color:"#289cab"},on:{click:function($event){return _vm.upadteMarker(Object.assign({},_vm.deskmarker,{type:"custom"}))}}},[_c("i",{staticClass:"el-icon-plus"}),_c("span",{staticClass:"pL5"},[_vm._v("New Desk")])]),_vm.deskLoading?[_c("spinner",{attrs:{show:_vm.deskLoading,size:"40"}})]:[_c("div",{staticClass:"db-user-filter-manager-dialog"},[_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word "},_vm._l(_vm.desklist,(function(desk,index){return _c("div",{key:index,staticClass:"field-row mB10 mT15",on:{mousedown:function($event){return _vm.handleDeskMouseDown($event,desk)}}},[_c("div",{staticClass:"task-handle mR10 pointer mT5"},[_c("inline-svg",{attrs:{src:"svgs/office_desk",iconClass:"icon text-center icon-sm-md icon-fill-desk"}})],1),_c("div",{staticClass:"fc-black-14 bold text-left pT5"},[_vm._v(" "+_vm._s(desk.name)+" ")])])})),0)])]],2),_c("div",{staticClass:"width100 p15"},[_c("div",{staticClass:"fc-pink-floorplan f14 text-left bold "},[_vm._v(" Markers ")]),_c("div",{staticClass:"fc-black-14 text-left line-height25 break-word flex flex-wrap pT15 justify-content-space"},[_vm._l(_vm.defaultMarkerTypes,(function(marker,index){return _c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],key:"custom"+index,staticClass:" marker-conatiner pointer",class:{active:_vm.selectedMarkerType&&_vm.selectedMarkerType.name===marker.name},attrs:{"data-arrow":"true",title:marker.name}},[_c("div",{staticClass:"pointer",on:{click:function($event){return _vm.upadteMarker(Object.assign({},marker,{type:"custom"}))}}},[_c("img",{staticClass:"vertical-middle",staticStyle:{width:"20px",height:"20px"},attrs:{src:_vm.pathIcon(marker.icon)}})])])})),_vm._l(_vm.filterdMarkertypes,(function(marker,index){return _c("div",{key:index,staticClass:" marker-conatiner pointer",class:{active:_vm.selectedMarkerType&&_vm.selectedMarkerType.name===marker.name}},["desk"===marker.name?_c("div",{staticClass:"pointer",on:{click:function($event){return _vm.upadteMarker(Object.assign({},marker,{type:"custom"}))}}},[_c("img",{staticClass:"vertical-middle",staticStyle:{width:"20px",height:"20px"},attrs:{src:__webpack_require__(160957)}})]):_c("el-image",{attrs:{src:_vm.getPreviewUrl(marker.fileId)},on:{click:function($event){return _vm.upadteMarker(marker)}}},[_c("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[_c("i",{staticClass:"el-icon-picture-outline"})])])],1)}))],2),_vm.isNewFloorPlan?_c("div",{staticClass:" mT0 flex p15 f13 pointer bold pL0",style:{color:"#289cab"},on:{click:function($event){_vm.uploadDialog=!0}}},[_c("i",{staticClass:"el-icon-plus"}),_c("span",{staticClass:"pL5"},[_vm._v("Marker")])]):_vm._e()]),_c("markerUploader",{attrs:{visibility:_vm.uploadDialog},on:{close:_vm.close,"update:visibility":function($event){_vm.uploadDialog=$event}}})],1)},IndoorFloorPlanSideBarvue_type_template_id_5c9ebec2_staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-handle mR10 pointer"},[_c("i",{staticClass:"fa fa-cube",attrs:{"aria-hidden":"true"}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-handle mR10 pointer"},[_c("i",{staticClass:"fa fa-cube",attrs:{"aria-hidden":"true"}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"task-handle mR10 pointer"},[_c("i",{staticClass:"fa fa-cube",attrs:{"aria-hidden":"true"}})])}],FloorPlanMarkerUploadervue_type_template_id_b771dd0c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("el-dialog",{attrs:{"custom-class":"f-image-editor fc-dialog-center-container  fp-adder indoorfp-dialog fp-image-adder",visible:_vm.visibility,"modal-append-to-body":!1,"before-close":_vm.closeDialog,width:"35%",title:"UPLOAD MARKER"},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"height100"},[_c("div",{staticClass:"flex-container height100"},[_c("div",{staticClass:"infp-left-section height100 p30 width100 pT20"},[_c("el-form",{ref:"form",attrs:{rules:_vm.rules,model:_vm.markertype,"label-width":"120px"}},[_c("el-row",{staticClass:"mB20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"name"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Marker name")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{placeholder:"Enter the name"},model:{value:_vm.markertype.name,callback:function($$v){_vm.$set(_vm.markertype,"name",$$v)},expression:"markertype.name"}})],1)],1)],1),_c("el-row",{},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB20 m0",attrs:{prop:"description"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Description")]),_c("el-input",{staticClass:"width100 fc-input-full-border-select2",attrs:{type:"textarea",autosize:{minRows:2,maxRows:2},resize:"none",placeholder:"Description"},model:{value:_vm.markertype.description,callback:function($$v){_vm.$set(_vm.markertype,"description",$$v)},expression:"markertype.description"}})],1)],1)],1),_c("el-row",{staticClass:"mB20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"description"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Module")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{filterable:"",clearable:"",placeholder:"Select Module"},model:{value:_vm.markertype.recordModuleId,callback:function($$v){_vm.$set(_vm.markertype,"recordModuleId",$$v)},expression:"markertype.recordModuleId"}},_vm._l(_vm.modules,(function(mod,index){return _c("el-option",{key:index,attrs:{label:mod.displayName,value:mod.moduleId}})})),1)],1)],1)],1),_c("el-row",{staticClass:"mB20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"fileId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Marker Icon")]),_c("div",{staticClass:"infp-right-section height100 width100 marker-upload-conatiner pT0"},[_c("ImageUpload",{staticClass:"flex  upload-section",model:{value:_vm.markertype["fileId"],callback:function($$v){_vm.$set(_vm.markertype,"fileId",$$v)},expression:"markertype['fileId']"}})],1)])],1)],1)],1)],1)]),_c("div",{staticClass:"modal-dialog-footer row",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"col-6 modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"col-6 modal-btn-save",attrs:{loading:_vm.uploading,type:"primary"},on:{click:_vm.handleSave}},[_vm._v(" "+_vm._s(_vm.uploading?"Saving...":"SAVE"))])],1)])]):_vm._e()},FloorPlanMarkerUploadervue_type_template_id_b771dd0c_staticRenderFns=[],ImageUpload=(__webpack_require__(186466),__webpack_require__(924743)),FloorPlanMarkerUploadervue_type_script_lang_js={props:["visibility"],components:{ImageUpload:ImageUpload/* default */.Z},data:function(){return{modules:[],markertype:{name:null,description:null,fileId:null,recordModuleId:null,isAutoCreate:!1},uploading:!1,rules:{name:[{required:!0,message:"Please input Floor Plan name",trigger:"blur"}],fileId:[{required:!0,message:"Icon required",trigger:"blur"}]},floorList:[]}},created:function(){this.loadModules()},methods:{validData:function(){return null!=this.markertype.name&&null!=this.markertype.fileId},handleSave:function(){this.validData()?this.save():this.$message.error("Mandatory Fields Missing")},loadModules:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var url,_yield$API$get,error,data,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return url="/v3/modules/list/all",_context.next=3,api/* API */.bl.get(url);case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(message=error.message,_this.$message.error(message)):Object.values(data).forEach((function(value){var _this$modules;(_this$modules=_this.modules).push.apply(_this$modules,(0,toConsumableArray/* default */.Z)(value))}));case 7:case"end":return _context.stop()}}),_callee)})))()},closeDialog:function(){this.$emit("close"),this.$emit("update:visibility",!1)},save:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var url,params,_yield$API$post,error,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return url="v3/modules/data/create",params={moduleName:"markertype",data:_this2.markertype},_this2.uploading=!0,_context2.next=5,api/* API */.bl.post(url,params);case 5:_yield$API$post=_context2.sent,error=_yield$API$post.error,error?(message=error.message,_this2.$message.error(message)):(_this2.closeDialog(),_this2.uploading=!1);case 8:case"end":return _context2.stop()}}),_callee2)})))()}}},components_FloorPlanMarkerUploadervue_type_script_lang_js=FloorPlanMarkerUploadervue_type_script_lang_js,FloorPlanMarkerUploader_component=(0,componentNormalizer/* default */.Z)(components_FloorPlanMarkerUploadervue_type_script_lang_js,FloorPlanMarkerUploadervue_type_template_id_b771dd0c_render,FloorPlanMarkerUploadervue_type_template_id_b771dd0c_staticRenderFns,!1,null,null,null)
/* harmony default export */,FloorPlanMarkerUploader=FloorPlanMarkerUploader_component.exports,IndoorFloorPlanSideBarvue_type_script_lang_js={props:["selectedMarkerType","isDraging","deskDraging","markerMappedDesk","floorId","zoneMapedSpaceId"],data:function(){return{spaceLoading:!1,lockerloading:!1,markerTypes:[],uploadDialog:!1,spaceSearch:null,parkingSearch:null,deskSearch:null,showSearchbox:!1,showSearchbox1:!1,showHidesearchIcon:!0,showHidesearchIcon1:!0,showHidesearchIcon2:!0,showSearchbox2:!1,lockerSearch:null,closeSearchBox:!1,showDiskHidesearchIcon:!0,showDiskSearchbox:!1,closeDeskSearchBox:!1,deskSpaces:[],deskLoading:!1,spaces:[],lcokerList:[],activeNames:["space","marker","markers"],spaceCategories:[],modulesList:[],markerIconMap:{Camera:"Camera.png",CCTV:"CCTV.png",Elevator:"Elevator.png",Escalator:"Escalator.png","Women’s restroom":"FemaleRestroom.png","Fire extinguisher":"FireExtingus.png",Kitchen:"Kitchen1.png",Microwave:"Kitchen2.png",Locker:"Locker.png","Men’s restroom":"MaleRestroom.png","Womens restroom":"FemaleRestroom.png","Mens restroom":"MaleRestroom.png",Parking:"Parking.png",Restroom:"Restroom.png",Handicap:"Handicap.png",Limited:"Limited.png"}}},computed:{parkingSpaceCategory:function(){var parking=this.spaceCategories.find((function(rt){return"Parking Stall"===rt.name}));return parking||null},parkingSpaceCategoryId:function(){return this.parkingSpaceCategory?this.parkingSpaceCategory.id:null},defaultMarkerTypes:function(){var _this=this,markers=this.markerTypes.filter((function(rt){return-1===rt.fileId&&"desk"!==rt.name?rt:null}));return markers.forEach((function(rt){_this.markerIconMap[rt.name]&&_this.$set(rt,"icon",_this.markerIconMap[rt.name])})),markers},filterdSpaceList:function(){var _this2=this,spaceIds=this.zoneMapedSpaceId;return this.spaces.filter((function(space){return-1===spaceIds.indexOf(space.id)&&space.spaceCategory&&space.spaceCategory.id!==_this2.parkingSpaceCategoryId?space:null}))},parkingSpaceList:function(){var _this3=this,spaceIds=this.zoneMapedSpaceId;return this.spaces.filter((function(space){return-1===spaceIds.indexOf(space.id)&&space.spaceCategory&&space.spaceCategory.id===_this3.parkingSpaceCategoryId?space:null}))},filteredLockerList:function(){var spaceIds=this.zoneMapedSpaceId;return this.lcokerList.filter((function(space){return-1===spaceIds.indexOf(space.id)?space:null}))},deskCategoryId:function(){var deskCategory=this.spaceCategories.find((function(rt){return"Desk"===rt.name}));return deskCategory?deskCategory.id:null},filterdMarkertypes:function(){return this.markerTypes.filter((function(rt){return"desk"!==rt.name&&-1!==rt.fileId?rt:null}))},deskmarker:function(){var find=this.markers.find((function(rt){return"desk"===rt.name}));return find||null},desklist:function(){var deskIds=this.markerMappedDesk;return this.deskSpaces.filter((function(desk){return-1===deskIds.indexOf(desk.id)?desk:null}))},getParkingModule:function(){if(this.modulesList.length){var parkingModule=this.modulesList.find((function(rt){return"parkingstall"===rt.name}));return parkingModule||null}return null},isNewFloorPlan:function(){return this.$helpers.isLicenseEnabled("NEW_FLOORPLAN")}},components:{markerUploader:FloorPlanMarkerUploader},created:function(){var _this4=this,promise=[this.loadModules(),this.getMarkerTypes(),this.fetchDesks(),this.fetchLockers(),this.getSpaceCatgory()];Promise.all(promise).finally((function(){_this4.fetchSpaces()}))},methods:{loadModules:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,api/* API */.bl.get("/v3/modules/list/all");case 2:_yield$API$get=_context.sent,data=_yield$API$get.data,null!==data&&void 0!==data&&data.systemModules.length&&(_this5.modulesList=data.systemModules);case 5:case"end":return _context.stop()}}),_callee)})))()},pathIcon:function(icon){return __webpack_require__(614607)("./".concat(icon))},getSpaceCatgory:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return params={page:1,perPage:200,includeParentFilter:!0,moduleName:"spacecategory"},_context2.next=3,api/* API */.bl.get("v3/modules/data/list",params).then((function(_ref){var data=_ref.data;data&&(_this6.spaceCategories=data.spacecategory)}));case 3:return _context2.abrupt("return",_context2.sent);case 4:case"end":return _context2.stop()}}),_callee2)})))()},fetchSpaces:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var filters,params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this7.spaceLoading=!0,filters={floor:{operatorId:36,value:["".concat(_this7.floorId)]},spaceCategory:{operatorId:37,value:["".concat(_this7.deskCategoryId)]}},_this7.spaceSearch&&(filters["name"]={operatorId:5,value:["".concat(_this7.spaceSearch)]}),params={moduleName:"space",page:1,perPage:200,includeParentFilter:!0,filters:JSON.stringify(filters)},_context3.next=6,api/* API */.bl.get("v2/module/data/list",params).then((function(_ref2){var data=_ref2.data;data&&(_this7.spaces=data.moduleDatas,_this7.spaces.forEach((function(space){_this7.isParkingSpace(space)&&_this7.getParkingModule&&(space.moduleId=_this7.getParkingModule.id,_this7.$set(space,"moduleId",_this7.getParkingModule.moduleId))})))}));case 6:_this7.spaceLoading=!1;case 7:case"end":return _context3.stop()}}),_callee3)})))()},fetchLockers:function(){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var filters,params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this8.lockerloading=!0,filters={name:{operatorId:5,value:[_this8.lockerSearch]}},params={moduleName:"lockers",page:1,perPage:50,includeParentFilter:!0},_this8.lockerSearch&&(params={moduleName:"lockers",page:1,perPage:50,includeParentFilter:!0,filters:JSON.stringify(filters)}),_context4.next=6,api/* API */.bl.get("v2/module/data/list",params).then((function(_ref3){var data=_ref3.data;data&&(_this8.lcokerList=data.moduleDatas)}));case 6:_this8.lockerloading=!1;case 7:case"end":return _context4.stop()}}),_callee4)})))()},fetchDesks:function(){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var filters,params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _this9.deskLoading=!0,filters={floor:{operatorId:36,value:["".concat(_this9.floorId)]}},params={moduleName:"desks",page:1,perPage:200,includeParentFilter:!0,filters:JSON.stringify(filters)},_this9.deskSearch&&(filters={name:{operatorId:5,value:[_this9.deskSearch]},floor:{operatorId:36,value:["".concat(_this9.floorId)]}},params={moduleName:"desks",filters:JSON.stringify(filters),page:1,perPage:200,includeParentFilter:!0}),_context5.next=6,api/* API */.bl.get("v3/modules/data/list",params).then((function(_ref4){var data=_ref4.data;data&&(_this9.deskSpaces=data.desks)}));case 6:_this9.deskLoading=!1;case 7:case"end":return _context5.stop()}}),_callee5)})))()},handleDeskMouseDown:function($event,desk){this.$emit("deskDrag",$event,desk),this.$emit("update:deskDraging",!0)},isParkingSpace:function(space){var _space$spaceCategory;return!(null===space||void 0===space||null===(_space$spaceCategory=space.spaceCategory)||void 0===_space$spaceCategory||!_space$spaceCategory.id||space.spaceCategory.id!==this.parkingSpaceCategoryId)},handleMouseDown:function($event,space){this.$emit("dragElement",$event,space),this.$emit("update:isDraging",!0)},handlemouseup:function(){this.isDraging&&(this.$emit("update:isDraging",!1),this.$emit("closeElement",!1)),this.deskDraging&&(this.$emit("update:deskDraging",!1),this.$emit("closeElement",!1))},upadteMarker:function(marker){var data=marker;(null===marker||void 0===marker?void 0:marker.fileId)>0&&(data=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},marker),{type:"custom"})),this.$emit("selectedMarkerType:update",data),this.$emit("markerType",data)},getPreviewUrl:function(fileId){return"".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(fileId,"?fetchOriginal=true")},close:function(){this.getMarkerTypes()},getMarkerTypes:function(){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var params,_yield$API$get2,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return params={moduleName:"markertype"},_context6.next=3,api/* API */.bl.get("v3/modules/data/list",params);case 3:_yield$API$get2=_context6.sent,data=_yield$API$get2.data,data&&(_this10.markerTypes=data.markertype,_this10.markers=data.markertype);case 6:case"end":return _context6.stop()}}),_callee6)})))()},clickToShowSearchBox:function(){this.showSearchbox=!0,this.showHidesearchIcon=!1,this.showHidesearchIcon1=!1,this.showSearchbox1=!0},clickToShowLockerSearchBox:function(){this.showHidesearchIcon2=!1,this.showSearchbox2=!0},hidelocker:function(){this.showSearchbox2=!1,this.showHidesearchIcon2=!0},hideSearchBox:function(){this.showSearchbox=!1,this.showHidesearchIcon=!0,this.showHidesearchIcon1=!0,this.showSearchbox1=!1},clickToDiskShowSearchBox:function(){this.showDiskSearchbox=!0,this.showDiskHidesearchIcon=!1},hideDiskSearchBox:function(){this.showDiskSearchbox=!1,this.showDiskHidesearchIcon=!0}}},components_IndoorFloorPlanSideBarvue_type_script_lang_js=IndoorFloorPlanSideBarvue_type_script_lang_js,IndoorFloorPlanSideBar_component=(0,componentNormalizer/* default */.Z)(components_IndoorFloorPlanSideBarvue_type_script_lang_js,IndoorFloorPlanSideBarvue_type_template_id_5c9ebec2_render,IndoorFloorPlanSideBarvue_type_template_id_5c9ebec2_staticRenderFns,!1,null,null,null)
/* harmony default export */,IndoorFloorPlanSideBar=IndoorFloorPlanSideBar_component.exports,MapBoxBase=__webpack_require__(605552),PropertiesDialogvue_type_template_id_f2684934_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"properties-section fc-properties-section-editor"},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text relative"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v("Properties")]),_c("div",{staticClass:"fc-setup-modal-close f18 pointer",on:{click:_vm.handleClose}},[_c("i",{staticClass:"el-icon-close fwBold"})])])]),_c("div",{staticClass:"new-body-modal infp-left-section height100 pL20 pR20 mT10"},[_c("el-form",{ref:"form",attrs:{model:_vm.properties,"label-width":"120px"}},[_vm.properties.markerId&&String(_vm.properties.markerId).indexOf("desk")>-1?[_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"siteId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Desk Type")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{filterable:"",placeholder:"Select Desk type"},on:{change:function($event){return _vm.update()}},model:{value:_vm.properties.deskType,callback:function($$v){_vm.$set(_vm.properties,"deskType",$$v)},expression:"properties.deskType"}},[_vm._l(_vm.deskTypes,(function(type,index){return[_c("el-option",{key:index,attrs:{label:type.name,value:type.value}})]}))],2)],1)],1)],1)]:_vm._e(),_vm.properties.markerId&&-1===String(_vm.properties.markerId).indexOf("desk")&&_vm.markerModule?_c("el-row",{staticClass:"mB10 mT10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"floorId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(""+_vm.markerModule.displayName)+" ")]),_c("FLookupFieldWrapper",{attrs:{label:_vm.markerModule.displayName,field:{lookupModule:{name:_vm.markerModule.name},multiple:!1}},on:{recordSelected:function(value){return _vm.setName(value)}},model:{value:_vm.properties.recordId,callback:function($$v){_vm.$set(_vm.properties,"recordId",$$v)},expression:"properties.recordId"}})],1)],1)],1):_vm.properties.markerModuleId&&_vm.markerModuleObj&&!_vm.loading?_c("el-row",{staticClass:"mB10 mT10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"floorId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(""+_vm.markerModuleObj.displayName)+" ")]),_c("FLookupFieldWrapper",{attrs:{label:_vm.markerModuleObj.displayName,field:{lookupModule:{name:_vm.markerModuleObj.name},multiple:!1}},on:{recordSelected:function(value){return _vm.setName(value)}},model:{value:_vm.properties.recordId,callback:function($$v){_vm.$set(_vm.properties,"recordId",$$v)},expression:"properties.recordId"}})],1)],1)],1):_vm._e(),_c("el-row",{staticClass:"mT30"},[_c("el-col",{attrs:{span:24}},[_c("el-button",{staticClass:"fc-floorplan-delete",on:{click:function($event){return _vm.deleteMarker()}}},[_vm._v("DELETE")])],1)],1)],2)],1)])},PropertiesDialogvue_type_template_id_f2684934_staticRenderFns=[],FLookupFieldWrapper=__webpack_require__(201117),lodash=__webpack_require__(496486),PropertiesDialogvue_type_script_lang_js={props:["properties","visible","departments"],components:{FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},data:function(){return{element:{id:null},deskTypes:[{name:"Assigned",value:1},{name:"Hotel",value:2},{name:"Hot",value:3}],records:[],modules:[],loading:!1}},mounted:function(){this.loadModules()},watch:{properties:{handler:function(newVal,oldVal){(0,lodash.isEqual)(newVal,oldVal)||this.rerender()},deep:!0}},computed:{formatedDepartmentList:function(){return this.departments?[].concat((0,toConsumableArray/* default */.Z)(this.departments),[{name:"None",id:-1}]):[{name:"none",id:-1}]},markerModule:function(){var _this=this,modules=this.modules;if(modules.length){var module=this.modules.find((function(rt){return rt.moduleId===Number(_this.properties.recordModuleId)}));return module}return null},markerModuleObj:function(){var _this2=this,modules=this.modules;if(modules.length){var module=this.modules.find((function(rt){return rt.moduleId===Number(_this2.properties.markerModuleId)}));return module}return null},markerTypModule:function(){var _this3=this,modules=this.modules;if(modules.length){var module=this.modules.find((function(rt){return rt.moduleId===Number(_this3.properties.recordModuleId)}));return module}return null}},methods:{rerender:function(){var _this4=this;this.loading=!0,this.$nextTick((function(){_this4.loading=!1}))},setName:function(value){value.label&&(this.$set(this.properties,"label",value.label),this.update())},loadModules:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var url,_yield$API$get,error,data,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return url="/v3/modules/list/all",_context.next=3,api/* API */.bl.get(url);case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(message=error.message,_this5.$message.error(message)):(Object.values(data).forEach((function(value){var _this5$modules;(_this5$modules=_this5.modules).push.apply(_this5$modules,(0,toConsumableArray/* default */.Z)(value))})),_this5.loadRecords());case 7:case"end":return _context.stop()}}),_callee)})))()},loadRecords:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var params,_yield$API$post,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!_this6.markerModule||!_this6.markerModule.name){_context2.next=8;break}return params={moduleName:_this6.markerModule.name,id:Number(_this6.properties.recordModuleId)},_context2.next=4,api/* API */.bl.post("v3/modules/data/list",params);case 4:_yield$API$post=_context2.sent,data=_yield$API$post.data,error=_yield$API$post.error,data?_this6.records=data[_this6.markerModule.name]:error&&_this6.$message.error(error.message);case 8:case"end":return _context2.stop()}}),_callee2)})))()},deleteMarker:function(){this.$emit("delete",this.properties)},handleClose:function(){this.$emit("update:visible",!1),this.$emit("close")},update:function(){this.$emit("update",this.properties)}}},components_PropertiesDialogvue_type_script_lang_js=PropertiesDialogvue_type_script_lang_js,PropertiesDialog_component=(0,componentNormalizer/* default */.Z)(components_PropertiesDialogvue_type_script_lang_js,PropertiesDialogvue_type_template_id_f2684934_render,PropertiesDialogvue_type_template_id_f2684934_staticRenderFns,!1,null,null,null)
/* harmony default export */,PropertiesDialog=PropertiesDialog_component.exports,SpaceMapDialogvue_type_template_id_42ab9caa_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"properties-section fc-properties-section-editor"},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text relative"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v("Properties")]),_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-setup-modal-close f18 pointer",on:{click:_vm.handleClose}},[_c("i",{staticClass:"el-icon-close fwBold"})])])])]),_c("div",{staticClass:"new-body-modal infp-left-section height100 pL20 pR20 mT10"},["Parking Stall"===_vm.spaceCategory?_c("el-form",{ref:"form",attrs:{model:_vm.selectedZone,"label-width":"120px"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"siteId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(_vm._s(_vm.spaceCategory))]),_c("FLookupFieldWrapper",{attrs:{label:"Space",disabled:!0,field:{lookupModule:{name:"space"},multiple:!1}},on:{recordSelected:function(value){return _vm.setValue(value)}},model:{value:_vm.selectedZone.properties.spaceId,callback:function($$v){_vm.$set(_vm.selectedZone.properties,"spaceId",$$v)},expression:"selectedZone.properties.spaceId"}})],1)],1)],1),_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"name"}},[_c("el-checkbox",{on:{change:function($event){return _vm.update()}},model:{value:_vm.selectedZone.properties.isReservable,callback:function($$v){_vm.$set(_vm.selectedZone.properties,"isReservable",$$v)},expression:"selectedZone.properties.isReservable"}},[_vm._v("Reservable")])],1)],1)],1),_c("el-row",{staticClass:"mT30"},[_c("el-col",{attrs:{span:24}},[_c("el-button",{staticClass:"fc-floorplan-delete",on:{click:function($event){return _vm.deleteZone()}}},[_vm._v("DELETE")])],1)],1)],1):"Lockers"===_vm.spaceCategory?_c("el-form",{ref:"form",attrs:{model:_vm.selectedZone,"label-width":"120px"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"siteId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(_vm._s(_vm.spaceCategory))]),_c("FLookupFieldWrapper",{attrs:{label:"Space",disabled:!0,field:{lookupModule:{name:"space"},multiple:!1}},on:{recordSelected:function(value){return _vm.setValue(value)}},model:{value:_vm.selectedZone.properties.spaceId,callback:function($$v){_vm.$set(_vm.selectedZone.properties,"spaceId",$$v)},expression:"selectedZone.properties.spaceId"}})],1)],1)],1),_c("el-row",{staticClass:"mT30"},[_c("el-col",{attrs:{span:24}},[_c("el-button",{staticClass:"fc-floorplan-delete",on:{click:function($event){return _vm.deleteZone()}}},[_vm._v("DELETE")])],1)],1)],1):_c("el-form",{ref:"form",attrs:{model:_vm.selectedZone,"label-width":"120px"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"siteId"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Space")]),_c("FLookupFieldWrapper",{attrs:{label:"Space",disabled:!0,field:{lookupModule:{name:"space"},multiple:!1}},on:{recordSelected:function(value){return _vm.setValue(value)}},model:{value:_vm.selectedZone.properties.spaceId,callback:function($$v){_vm.$set(_vm.selectedZone.properties,"spaceId",$$v)},expression:"selectedZone.properties.spaceId"}})],1)],1)],1),_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10 m0",attrs:{prop:"name"}},[_c("el-checkbox",{on:{change:function($event){return _vm.update()}},model:{value:_vm.selectedZone.properties.isReservable,callback:function($$v){_vm.$set(_vm.selectedZone.properties,"isReservable",$$v)},expression:"selectedZone.properties.isReservable"}},[_vm._v("Reservable")])],1)],1)],1),_c("el-row",{staticClass:"mT30"},[_c("el-col",{attrs:{span:24}},[_c("el-button",{staticClass:"fc-floorplan-delete",on:{click:function($event){return _vm.deleteZone()}}},[_vm._v("DELETE")])],1)],1)],1)],1)])},SpaceMapDialogvue_type_template_id_42ab9caa_staticRenderFns=[],SpaceMapDialogvue_type_script_lang_js={components:{FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},props:["selectedZone","visible"],data:function(){return{departments:[]}},computed:{spaceCategory:function(){return this.selectedZone&&this.selectedZone.properties&&this.selectedZone.properties.spaceCategory?this.selectedZone.properties.spaceCategory:""}},methods:{deleteZone:function(){this.$emit("delete",this.selectedZone)},handleClose:function(){this.$emit("update:visible",!1),this.$emit("close")},
// changeSpace() {
//   let selectedSpace = this.spaces.find(
//     rt => rt.id === this.selectedZone.properties.spaceId
//   )
//   this.selectedZone.properties.label = selectedSpace.name
//   this.update()
// },
setValue:function(value){this.selectedZone.properties.label=value.name,this.selectedZone.properties.spaceId=value.value,this.update()},update:function(){this.$emit("update",this.selectedZone)},loadSpaces:function(){}}},components_SpaceMapDialogvue_type_script_lang_js=SpaceMapDialogvue_type_script_lang_js,SpaceMapDialog_component=(0,componentNormalizer/* default */.Z)(components_SpaceMapDialogvue_type_script_lang_js,SpaceMapDialogvue_type_template_id_42ab9caa_render,SpaceMapDialogvue_type_template_id_42ab9caa_staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceMapDialog=SpaceMapDialog_component.exports,IndoorFloorPlanEditorvue_type_script_lang_js={mixins:[EditorActions],data:function(){return{dropZone:!1,isDraging:!1,deskDraging:!1,dragSpaceElement:null,drgaDeskElement:null,clickEvents:{}}},computed:{zoneMapedSpaceId:function(){var zones=this.zones,spaceIds=[];return zones&&zones.features.length&&zones.features.forEach((function(feature){feature.properties&&feature.properties.spaceId&&spaceIds.push(feature.properties.spaceId)})),spaceIds},markerMappedDesk:function(){var markers=this.markers,deskIds=[];return markers&&markers.features.length&&markers.features.forEach((function(feature){var desk=feature.desk;desk&&deskIds.push(desk.id)})),deskIds},isDev:function(){var isDevMode=!1;return isDevMode},floorId:function(){return this.indoorFloorPlan.floor&&this.indoorFloorPlan.floor.id?this.indoorFloorPlan.floor.id:null},buildingId:function(){return this.indoorFloorPlan.building&&this.indoorFloorPlan.building.id?this.indoorFloorPlan.building.id:null},siteId:function(){return this.indoorFloorPlan.site&&this.indoorFloorPlan.site.id?this.indoorFloorPlan.site.id:null}},components:{topBar:IndoorFloorPlanTopBar,BaseMap:MapBoxBase/* default */.Z,SideBar:IndoorFloorPlanSideBar,PropertiesDialog:PropertiesDialog,SpaceMapDialog:SpaceMapDialog},mounted:function(){var _this=this;this.getSpaceCatgory(),Promise.all([this.fetchMarkerTypes()]).then((function(){_this.getFloorplan().then((function(_ref){var data=_ref.data,error=_ref.error;error&&_this.$message.error(error.message),_this.indoorFloorPlan=data.indoorfloorplan,_this.deSerializeGeoJson(_this.indoorFloorPlan),_this.rawMarkers=_this.indoorFloorPlan.markers||[],_this.fetchFloorDetails(),_this.getDepartments(),_this.ready=!0,_this.$nextTick((function(){_this.addEventListenerevents()})),_this.getNumberingList().then((function(response){response.data&&(_this.numbering=response.data.floorplanmarkertypes.filter((function(rt){return rt.indoorfloorplan.id===_this.floorplanId})))}))}))}))},methods:{closeFlooplanEditor:function(){this.$emit("update:visibile",!1),this.$emit("close")},deleteZone:function(){var selectedZone=this.selectedZone,zones=this.zones,deletedZonesList=this.deletedZonesList;if(selectedZone.id){deletedZonesList.push(selectedZone);var index=zones.features.findIndex((function(rt){return rt.id===selectedZone.id}));zones.features.splice(index,1),this.draw.deleteAll(),this.draw.add(zones),this.syncData()}this.closeSpacePropertieDialog()},deleteMarker:function(){var selectedElementIndex=this.selectedElementIndex,selectedElement=this.selectedElement,markers=this.markers,deletedMarkersList=this.deletedMarkersList;selectedElementIndex>-1&&selectedElement&&(selectedElement.id&&(this.$set(selectedElement.properties,"isArchived",!0),deletedMarkersList.push(selectedElement)),markers.features.splice(selectedElementIndex,1),this.refrshMarkerJson()),this.closeDialog()},addZoneLabelLayer:function(map){map.addSource("zoneLabel",{type:"geojson",data:this.zones}),map.addLayer({id:"space-text",type:"symbol",source:"zoneLabel",layout:{"icon-allow-overlap":!0,"text-field":"{label}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":["interpolate",["linear"],["zoom"],16,1,20,14],"text-transform":"uppercase","text-letter-spacing":.05,"text-offset":[0,1.5]},paint:{"text-color":"#202","text-halo-color":"#fff","text-halo-width":2},filter:["all",["in","$type","Polygon"]]})},destroyDragEement:function(){this.isDraging=!1,this.deskDraging=!1,this.dragSpaceElement=null,this.drgaDeskElement=null,this.hideElement(),this.onselectEnable()},onselectPrevent:function(){document.onselectstart=function(){return!1;// cancel selection
}},onselectEnable:function(){document.onselectstart=function(){return!0;// cancel selection
}},handlemouseDownElement:function(e,data){this.isDraging=!0,this.dragSpaceElement=data,this.createElemnt(e),this.onselectPrevent()},handleDeskDrag:function(e,desk){this.deskDraging=!0,this.drgaDeskElement=desk,this.displayDragElement(e),this.onselectPrevent()},createElemnt:function(e){if(e.pageX||e.pageY){var color="#fff",div=document.getElementById("dragSpaceItem");div.style.position="absolute",div.style.zIndex="20",div.style.top="0px",div.style.color="#000",div.style.display="block",div.innerHTML='<div class="dragelemnt-innerContainer">\n      <div class="drag-avatar">'.concat(this.dragSpaceElement.name.charAt(0)).concat(this.dragSpaceElement.name.charAt(1),'</div>\n      <div class="drag-label">').concat(this.dragSpaceElement.name,"</div>\n      </div>"),div.style.transform="translate(".concat(e.pageX+10,"px,").concat(e.pageY,"px)"),// Insert text
div.style.background=color,document.body.appendChild(div)}},ghostElemntHandle:function(e){if(e.pageX||e.pageY){var div=document.getElementById("dragSpaceItem");div.style.display="block",div.style.transform="translate(".concat(e.pageX+10,"px,").concat(e.pageY,"px)")}},closeDrgaMarker:function(){this.selectedMarkerType=null,this.selectedNumbering=null,this.hideElement()},setNumber:function(){},hideElement:function(){var marker=document.getElementById("dragMarkerItem"),space=document.getElementById("dragSpaceItem");marker.innerHTML="",space.innerHTML="",marker.style.display="none",space.style.display="none"},mapAddImages:function(){var map=this.map,size=100,self=this;this.markerTypes.forEach((function(type){var pulsingDot={width:size,height:size,data:new Uint8Array(size*size*4),
// get rendering context for the map canvas when layer is added to the map
onAdd:function(){var imageCanvas=document.createElement("canvas");imageCanvas.width=this.width,imageCanvas.height=this.height,this.context=imageCanvas.getContext("2d")},
// called once before every frame where the icon will be used
render:function(){var context=this.context,img=new Image,url="";
// return `true` to let the map know that the image was updated
return type.fileId&&(url=self.getPreviewUrl(type.fileId)),self.isDev&&(url="https://upload.wikimedia.org/wikipedia/commons/7/7c/201408_cat.png"),img.src=url,img.setAttribute("crossOrigin",""),img.onload=function(){
//https://www.nashvail.me/blog/canvas-image refre this link for more details
context.drawImage(this,0,0,this.width,this.height,25,25,50,50)},
// update this image's data with data from the canvas
this.data=context.getImageData(0,0,this.width,this.height).data,!0}};map.addImage(type.id,pulsingDot,{pixelRatio:2})})),this.defaultMarkerTypes.forEach((function(marker){var defaultIcons={width:size,height:size,data:new Uint8Array(size*size*4),
// get rendering context for the map canvas when layer is added to the map
onAdd:function(){var imageCanvas=document.createElement("canvas");imageCanvas.width=this.width,imageCanvas.height=this.height,this.context=imageCanvas.getContext("2d")},
// called once before every frame where the icon will be used
render:function(){var context=this.context,img=new Image,url="";
// return `true` to let the map know that the image was updated
return marker.name&&(url=self.pathIcon(marker.icon)),
// if (self.isDev) {
//   url =
//     'https://upload.wikimedia.org/wikipedia/commons/7/7c/201408_cat.png'
// }
img.src=url,img.setAttribute("crossOrigin",""),img.onload=function(){
//https://www.nashvail.me/blog/canvas-image refre this link for more details
context.drawImage(this,0,0,this.width,this.height,25,25,50,50)},
// update this image's data with data from the canvas
this.data=context.getImageData(0,0,this.width,this.height).data,!0}};map.addImage(marker.name,defaultIcons,{pixelRatio:2})}))},closeDialog:function(){this.propertieVisibile=!1,this.selectedElement=null,this.selectedElementIndex=null,this.deActiveSelectedElement()},addMarkerLayer:function(map){var _this2=this;this.mapAddImages(),this.addDeskIcon(),map.addSource("marker",{type:"geojson",data:this.markers});
// this.geojson.features.forEach(ft => {
var id="deskMarker";map.addLayer({id:id,type:"symbol",source:"marker",layout:{"icon-image":"{markerId}","text-field":"{label}","text-allow-overlap":!0,"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,2],"text-anchor":"top","icon-allow-overlap":!0,"icon-size":["interpolate",["linear"],["zoom"],this.minZoom,.2,this.maxZoom,this.iconSize],"text-size":["interpolate",["linear"],["zoom"],this.minZoom,0,this.maxZoom,this.fontSize]},filter:["all",["in","$type","Point"]]});var canvas=map.getCanvasContainer(),self=this;function onMove(e){var coords=e.lngLat;
// Set a UI indicator for dragging.
if(canvas.style.cursor="grabbing",this.selectedElement&&self.canMove){var markers=self.markers;this.selectedElementIndex>-1&&(markers.features[this.selectedElementIndex].geometry.coordinates=[coords.lng,coords.lat],map.getSource("marker").setData(markers))}}function onUp(){this.selectedElement&&(map.off("mousemove",onMove),map.off("touchmove",onMove))}
// When the cursor enters a feature in the point layer, prepare for dragging.
map.on("mouseenter",id,(function(e){var point=map.queryRenderedFeatures(e.point),element=point?point[0]:null;element&&self.selectedElement&&element.id===self.selectedElement.id?canvas.style.cursor="move":canvas.style.cursor="pointer"})),map.on("mouseleave",id,(function(){
// map.setPaintProperty(id, 'circle-color', '#3887be')
canvas.style.cursor=""})),map.on("mouseup",(function(){_this2.$set(_this2.clickEvents,"mouseup",!0)})),map.on("mousedown",id,(function(e){self.$set(self.clickEvents,"mousedown",!0),
// Prevent the default map drag behavior.
self.deActiveSelectedElement(),self.closeDrgaMarker(),e.preventDefault();var inside=!0;if(inside=self.findPoint(e.lngLat),inside){var point=map.queryRenderedFeatures(e.point);if(self.canMove&&(this.selectedElement=point?point[0]:null),self.deActiveSelectedElement(),self.selectedElement=point?point[0]:null,this.selectedElement){self.selectedElement=this.selectedElement;var markers=self.markers,layerId=this.selectedElement.properties.id;
// eslint-disable-next-line array-callback-return
this.selectedElementIndex=markers.features.findIndex((function(rt){if(rt.properties.id&&rt.properties.id===layerId)return rt}))}if(self.selectedElement){var _markers=self.markers,_layerId=self.selectedElement.properties.id;
// eslint-disable-next-line array-callback-return
self.selectedElementIndex=_markers.features.findIndex((function(rt){if(rt.properties.id&&rt.properties.id===_layerId)return rt})),self.propertieVisibile=!0,self.activeSelectedElement()}canvas.style.cursor="grab",map.on("mousemove",onMove),map.once("mouseup",onUp)}else self.closeDrgaMarker()})),map.on("touchstart",id,(function(e){1===e.points.length&&(
// Prevent the default map drag behavior.
e.preventDefault(),map.on("touchmove",onMove),map.once("touchend",onUp))}))},activeSelectedElement:function(){var selectedElement=this.selectedElement,markers=this.markers,selectedElementIndex=this.selectedElementIndex;selectedElement.properties&&selectedElement.properties.activeClass&&(selectedElement.properties.markerId=this.$helpers.cloneObject(selectedElement.properties.activeClass)),markers.features[selectedElementIndex]=selectedElement,this.refrshMarkerJson()},deActiveSelectedElement:function(){var markers=this.markers;markers.features.forEach((function(feature){var properties=feature.properties;properties.normalClass&&(properties["markerId"]=properties.normalClass)})),this.refrshMarkerJson()},addPolygon:function(e){var id=Math.random().toString(36).substring(10),map=this.map,point=e.point,x=point.x,y=point.y,w=100,h=100,cUL=map.unproject([x-w/2,y-h/2]).toArray(),cUR=map.unproject([x+w/2,y-h/2]).toArray(),cLR=map.unproject([x+w/2,y+h/2]).toArray(),cLL=map.unproject([x-w/2,y+h/2]).toArray(),coordinates=[cUL,cUR,cLR,cLL,cUL],poly={id:id,type:"Feature",properties:{label:this.dragSpaceElement.name,spaceId:this.dragSpaceElement.id,zoneModuleId:this.dragSpaceElement.moduleId,recordId:this.dragSpaceElement.id},geometry:{coordinates:[coordinates],type:"Polygon"}};this.draw.add(poly),this.draw.changeMode("direct_select",{featureId:id}),this.syncData()},findPoint:function(lngLat){var lat=lngLat.lat,lng=lngLat.lng,imageBounds=this.imageBounds,blLat=imageBounds.blLat,blLng=imageBounds.blLng,trLat=imageBounds.trLat,trLng=imageBounds.trLng;return!!(Object.keys(imageBounds).length&&lat>blLat&&lat<trLat&&lng>blLng&&lng<trLng)},mapboxEvents:function(map){var _this3=this,self=this;function onClick(e){self.clickHandle(e)}map.on("mouseup",(function(e){_this3.$set(_this3.clickEvents,"mouseup",!0);var inside=!0;if(inside=_this3.findPoint(e.lngLat),!inside)return _this3.destroyDragEement(),_this3.closeDrgaMarker(),void _this3.$message.error("You clicked outside of the Floor Plan");_this3.isDraging&&(_this3.addPolygon(e),_this3.destroyDragEement()),_this3.deskDraging&&(_this3.addDeskMarker(e),_this3.destroyDragEement())})),map.on("click",onClick)},clickHandle:function(e){this.clickEvents.mousedown||this.closeDialog(),null===this.selectedElement&&this.deActiveSelectedElement();var inside=!0;if(inside=this.findPoint(e.lngLat),inside){var id="desk-marker-".concat(String((new Date).getTime())),marker={type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]},properties:{id:id},id:id};if(this.selectedMarkerType){var _this$selectedMarkerT=this.selectedMarkerType,name=_this$selectedMarkerT.name,type=_this$selectedMarkerT.type;if(type&&"custom"===type){if("desk"===name){var desk={deskCode:"",departmentId:-1,deskType:1,name:this.getNumberingCode(this.selectedNumbering),spaceType:4,floor:{id:this.floorId},siteId:this.siteId,resourceType:1,floorId:this.floorId};this.buildingId&&this.$set(desk,"building",{id:this.buildingId}),marker.properties=this.$helpers.cloneObject((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},desk),this.selectedMarkerType),marker.properties),{markerId:"desk",isCustom:!0,label:this.getNumberingCode(this.selectedNumbering)}),{normalClass:"desk",markerId:"desk",activeClass:"desk_active"})),this.selectedNumbering.currentNumber+=1,this.markers.features.push(marker),this.refrshMarkerJson()}else if(name){var _this$selectedMarkerT2=this.selectedMarkerType,fileId=_this$selectedMarkerT2.fileId,_id=_this$selectedMarkerT2.id,markerId=fileId&&fileId>0?_id:this.selectedMarkerType.name;marker.properties=this.$helpers.cloneObject((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.selectedMarkerType),marker.properties),{markerId:markerId,isCustom:!1,label:this.selectedMarkerType.name})),this.markers.features.push(marker),this.refrshMarkerJson()}}else{var _markerId=this.selectedMarkerType.id;marker.properties=this.$helpers.cloneObject((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.selectedMarkerType),marker.properties),{markerId:_markerId,isCustom:!1,label:this.selectedMarkerType.name})),this.markers.features.push(marker),this.refrshMarkerJson()}}this.clickEvents={}}else this.destroyDragEement()},addDeskMarker:function(e){if(this.drgaDeskElement){var desk=this.drgaDeskElement,id="desk-marker-".concat(String((new Date).getTime())),marker={type:"Feature",geometry:{type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]},properties:{id:id},id:id,markerModuleId:desk.moduleId,recordId:desk.id,desk:desk};marker.properties=this.$helpers.cloneObject((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},desk),this.selectedMarkerType),marker.properties),{markerId:"desk",isCustom:!0,label:desk.name,recordModuleId:desk.moduleId,recordId:desk.id}),{normalClass:"desk",markerId:"desk",activeClass:"desk_active"})),desk.employee&&this.$set(marker.properties,"employeeId",Number(desk.employee.id)),desk.department&&this.$set(marker.properties,"departmentId",Number(desk.department.id)),desk.id&&this.$set(marker.properties,"deskId",Number(desk.id)),this.$set(marker,"desk",desk),this.markers.features.push(marker),this.refrshMarkerJson()}},updateSpaceElement:function(e){if(e.pageX||e.pageY){var color="#fff",div=document.getElementById("dragSpaceItem");div.style.transform="translate(".concat(e.pageX+10,"px,").concat(e.pageY,"px)"),// Insert text
div.style.background=color,div.style.padding="4px",div.innerHTML="<div>".concat(this.dragSpaceElement.name,"</div>"),document.body.appendChild(div)}},updateDeskElement:function(e){if(this.drgaDeskElement&&(e.pageX||e.pageY)){var color="transparent",div=document.getElementById("dragMarkerItem");div.style.transform="translate(".concat(e.pageX+10,"px,").concat(e.pageY,"px)"),// Insert text
div.style.background=color,div.style.width="30px",div.style.height="30px",div.style.padding="4px";var url="";url="/img/desk.cd45f094.png",div.innerHTML='<div data-v-0045ef1c="" class="el-image"><img src="'.concat(url,'" class="el-image__inner"></div>\n       <div  style="text-align: center;white-space: nowrap;font-size: 10px;">').concat(this.drgaDeskElement.name,"</div>\n      "),document.body.appendChild(div)}},updateElement:function(e){if(e.pageX||e.pageY){var color="transparent",div=document.getElementById("dragMarkerItem");div.style.transform="translate(".concat(e.pageX+10,"px,").concat(e.pageY,"px)"),// Insert text
div.style.background=color,div.style.width="30px",div.style.height="30px",div.style.padding="4px";var url="";url="desk"===this.selectedMarkerType.name?"/img/desk.cd45f094.png":"custom"===this.selectedMarkerType.type?this.pathIcon(this.selectedMarkerType.icon):"".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(this.selectedMarkerType.fileId,"?fetchOriginal=true"),div.innerHTML='<div data-v-0045ef1c="" class="el-image"><img src="'.concat(url,'" class="el-image__inner"></div>\n       <div  style="text-align: center;white-space: nowrap;font-size: 10px;">').concat(this.getNumberingCode(this.selectedNumbering,this.selectedMarkerType),"</div>\n      "),document.body.appendChild(div)}},pathIcon:function(icon){return __webpack_require__(614607)("./".concat(icon))},addEventListenerevents:function(){document.getElementById("editor").addEventListener("mousemove",this.mousemove)},mousemove:function(e){this.selectedMarkerType&&this.updateElement(e),this.isDraging&&this.updateSpaceElement(e),this.deskDraging&&this.updateDeskElement(e)},displayDragElement:function(){var div=document.getElementById("dragMarkerItem");div.style.display="block",div.style.position="absolute",div.style.zIndex="20",div.style.opacity="0.5",div.style.width="0px",div.style.height="0px",div.style.top="0px",div.style.color="#000"},removeEventListenerevents:function(){var editor=document.getElementById("editor");editor&&editor.removeEventListener("mousemove",this.mousemove)},refrshMarkerJson:function(){this.map.getSource("marker").setData(this.markers);
// this.selectedElementIndex = -1
// this.selectedElement = null
},checkNumbering:function(marker){if(marker&&marker.id&&this.numbering&&this.numbering.length){var index=this.numbering.findIndex((function(rt){return rt.markerType&&rt.markerType.id===marker.id?rt:null}));if(index>-1)return!0}return!1},getMarker:function(marker){if(this.selectedMarkerType=marker,"desk"===marker.name){if(!this.checkNumbering(marker)){var numbering={startNumber:1,currentNumber:1,prefix:"d",suffix:"",previewcard:"",indoorfloorplan:{id:this.indoorFloorPlan.id},markerType:{id:marker.id}};this.numbering.push(numbering)}this.selectedNumbering=this.getNumbering(marker)}this.displayDragElement()},syncData:function(){this.zones=this.draw.getAll(),this.map.getSource("zoneLabel").setData(this.zones)},refresh:function(){var _this4=this;this.ready=!1,setTimeout((function(){_this4.ready=!0}),100)},loadObjects:function(map){this.addControlLayer(map),this.addMarkerLayer(map),this.addZoneLabelLayer(map)},mapLoaded:function(event){var _this5=this;this.map=event.map,this.loading=!1,event.onMapLoad.then((function(){_this5.loadFloorplanImage(_this5.map),_this5.mapboxEvents(_this5.map)}))}},destroyed:function(){this.draw=null,this.removeEventListenerevents()}},indoorFloorPlan_IndoorFloorPlanEditorvue_type_script_lang_js=IndoorFloorPlanEditorvue_type_script_lang_js,IndoorFloorPlanEditor_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_IndoorFloorPlanEditorvue_type_script_lang_js,render,staticRenderFns,!1,null,"575b2fa1",null)
/* harmony default export */,IndoorFloorPlanEditor=IndoorFloorPlanEditor_component.exports},
/***/160957:
/***/function(module){module.exports="data:image/png;base64,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";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/60713.js.map