"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[44292],{
/***/144292:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EnergyCard}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/widget/static/EnergyCard.vue?vue&type=template&id=453365b8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_c("shimmer-loading",{attrs:{config:{type:"form"}}}):_c("div",{staticClass:"dragabale-card h100"},[_vm.buildingDetails.loading?_c("div",[_vm._v(_vm._s(_vm.$t("panel.card.loading")))]):_c("div",{staticClass:"h100"},[_c("div",{staticClass:"h100"},[_c("div",{staticClass:"db-container energy_background energy-card2 h100 energy-card"},[_c("div",{staticClass:"energy-card-H mobile-energy-card-H"},[_vm._v(" "+_vm._s(_vm.$t("panel.card.consumption"))+" ")]),_c("div",{staticClass:"thismonth-section mobile-energy-card"},[_c("center",[_c("div",[_c("span",{staticClass:"selfcenter align readings-result-txt mobile-readings-result-txt"},[_vm._v(_vm._s(_vm.buildingDetails.data.currentVal.consumption||0))]),_c("span",{staticClass:"meter-formula-txt mobile-meter-formula-txt"},[_vm._v(_vm._s(_vm.buildingDetails.data.currentVal.units)+" ")])])]),_c("center",{staticClass:"thismonth fwBold mobile-this-month"},[_vm._v(" "+_vm._s(_vm.$t("panel.tyre.month"))+" ")])],1),_c("div",{staticClass:"divider-section divider-section-padding mobile-divider-section"},[_c("div",{staticClass:"dividerwhite mobile-divider-white",staticStyle:{opacity:"0.26",height:"1px"}})]),_c("div",{staticClass:"lastmonth-section mobile-lastmonth-section"},[_c("center",[_c("div",[_c("span",{staticClass:"selfcenter readings-result-txt  mobile-readings-result-txt"},[_vm._v(_vm._s(_vm.buildingDetails.data.previousVal.consumption||0))]),_c("span",{staticClass:"meter-formula-txt mobile-meter-formula-txt"},[_vm._v(_vm._s(_vm.buildingDetails.data.previousVal.units)+" ")])])]),_c("center",{staticClass:"lastmonth mobile-last-month"},[_vm._v(" "+_vm._s(_vm.$t("panel.card.last_month"))+" ")])],1),0!==Math.round(_vm.buildingDetails.data.variance)?_c("center",{staticClass:"varience-class mobile-varience-class",staticStyle:{"padding-top":"35px"}},[_c("i",{staticClass:"mobile-arrow-down",class:_vm.buildingDetails.arrow,staticStyle:{color:"#fff","padding-top":"10px"},attrs:{"aria-hidden":"true"}}),_c("span",{staticClass:"varience mobile-varience"},[_vm._v(_vm._s(Math.round(_vm.buildingDetails.data.variance))+" %")])]):_vm._e()],1)])])])},staticRenderFns=[],ShimmerLoading=(__webpack_require__(879288),__webpack_require__(897389),__webpack_require__(730381),__webpack_require__(516400)),EnergyCardvue_type_script_lang_js={props:["currentDashboard"],data:function(){return{buildingDetails:{loading:!1,data:[]},loading:!0}},components:{shimmerLoading:ShimmerLoading/* default */.Z},computed:{buildingId:function(){return this.currentDashboard?"dsoem1dailyconsumption"===this.currentDashboard.linkName?616227:this.currentDashboard.buildingId:"dsoem1dailyconsumption"===this.$route.params.dashboardlink?616227:this.$route.params.buildingid?parseInt(this.$route.params.buildingid):void 0}},mounted:function(){this.loadBuildingDetails()},methods:{loadBuildingDetails:function(){var self=this;self.buildingDetails.loading=!0,self.loading=!0;var formData=new FormData;formData.append("buildingId",self.buildingId),self.$http.post("/report/energy/building/getBuildingDetails",formData).then((function(response){var reportData=response.data.reportData;self.buildingDetails.data=self.prepareData(reportData),self.buildingDetails.arrow=self.$helpers.arrowHandleClass(reportData.variance),self.purpose=reportData.purpose,self.loading=!1})).catch((function(error){
// self.energyConsumption.loading = false
self.loading=!1})),self.buildingDetails.loading=!1},prepareData:function(data){if(data)if(data.previousVal.units!==data.currentVal.units){var curentValue=Number(data.currentVal.consumption),preValue=Number(data.previousVal.consumption);"MWh"===data.previousVal.units&&"kWh"===data.currentVal.units?(data.currentVal.consumption=Number(curentValue/1e3).toFixed(1),data.currentVal.units="MWh"):"kWh"===data.previousVal.units&&"MWh"===data.currentVal.units&&(data.previousVal.consumption=Number(preValue/1e3).toFixed(1),data.previousVal.units="MWh")}else data.currentVal&&data.previousVal&&(data.currentVal.consumption=Number(data.currentVal.consumption).toFixed(1),data.previousVal.consumption=Number(data.previousVal.consumption).toFixed(1));return data}}},static_EnergyCardvue_type_script_lang_js=EnergyCardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(static_EnergyCardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,EnergyCard=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/44292.js.map