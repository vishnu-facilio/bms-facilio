"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[45306],{
/***/303514:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AsyncButton}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/AsyncButton.vue?vue&type=template&id=16ca9ad1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-button",_vm._b({class:_vm.buttonClass,attrs:{loading:_vm.showLoading,type:_vm.buttonType,size:_vm.size,disabled:_vm.disabled},on:{click:function($event){return _vm.save()}}},"el-button",_vm.$attrs,!1),[_vm._t("default")],2)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),AsyncButtonvue_type_script_lang_js=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),{props:["clickAction","actionParams","buttonType","buttonClass","size","disabled","loading"],data:function(){return{isLoading:!1}},computed:{showLoading:function(){return this.loading||this.isLoading}},methods:{save:function(){var _this=this;if(this.clickAction&&"function"===typeof this.clickAction){this.isLoading=!0;var returnPromise=this.actionParams?this.clickAction.apply(this,(0,toConsumableArray/* default */.Z)(this.actionParams)):this.clickAction(),minimumTimeout=this.$helpers.delay(1e3);returnPromise?Promise.all([returnPromise,minimumTimeout]).finally((function(){_this.isLoading=!1})):this.$helpers.delay(1e3).then((function(){return _this.isLoading=!1}))}}}}),components_AsyncButtonvue_type_script_lang_js=AsyncButtonvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AsyncButtonvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AsyncButton=component.exports},
/***/145306:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AlarmRuleCreation}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/alarm/rule-creation/AlarmRuleCreation.vue?vue&type=template&id=59ff4fd7
var RcaCriteriaBuilder_render,RcaCriteriaBuilder_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"formbuilder",class:{"formbuilder-fullscreen-popup sla-policy-container mL0 mT0":_vm.isV2,"formbuilder-fullscreen-popup sla-policy-container":!_vm.isV2}},[_c("div",{staticClass:"setting-header"},[_vm.isNew?_c("div",{staticClass:"d-flex flex-direction-column"},[_c("div",{staticClass:"mT10 mB10 f22 fw3 letter-spacing0_5"},[_vm._v(_vm._s(_vm.title))])]):_c("div",[_c("div",{staticClass:"pointer fc-link fw-normal f13",on:{click:_vm.goBack}},[_c("inline-svg",{attrs:{src:"left-arrow",iconClass:"icon icon-sm vertical-text-top mR5"}}),_vm._v(" "+_vm._s(_vm.$t("setup.setupLabel.go_back"))+" ")],1),_c("div",{staticClass:"mT10 mB5 f22 fw3 letter-spacing0_5"},[_vm._v(" "+_vm._s(_vm.title)+" ")])]),_c("div",{class:{isV2:"fR","fR stateflow-btn-wrapper":!_vm.isV2}},[_c("async-button",{class:{"v2-cancel-color ":_vm.isV2,"asset-el-btn":!_vm.isV2},attrs:{clickAction:_vm.goBack}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("async-button",{class:{"v2-save-color mL20":_vm.isV2,"asset-el-btn":!_vm.isV2},attrs:{button:"primary",clickAction:_vm.save}},[_vm._v(" "+_vm._s(_vm.$t("common._common._save"))+" ")])],1)]),_c("div",{staticClass:"d-flex setup-grey-bg"},[_c("div",{staticClass:"sla-sidebar pT10"},[_c("a",{staticClass:"sla-link active",attrs:{id:"ruledetails-link"},on:{click:function($event){return _vm.scrollTo("ruledetails")}}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_details"))+" ")]),_c("a",{staticClass:"sla-link",attrs:{id:"conditions-link"},on:{click:function($event){return _vm.scrollTo("conditions")}}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_conditions"))+" ")]),_c("a",{staticClass:"sla-link",attrs:{id:"alarmdetails-link"},on:{click:function($event){return _vm.scrollTo("alarmdetails")}}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_alarm_details"))+" ")]),_c("a",{staticClass:"sla-link",attrs:{id:"impact-link"},on:{click:function($event){return _vm.scrollTo("impact")}}},[_vm._v(" "+_vm._s(_vm.$t("rule.create.impact"))+" ")]),_c("a",{staticClass:"sla-link",attrs:{id:"rootcauses-link"},on:{click:function($event){return _vm.scrollTo("rootcauses")}}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_root_causes"))+" ")])]),_c("div",{staticClass:"scroll-container"},[_vm.isLoading?_c("div",{staticClass:"mT20"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):[_c("RuleDetailsForm",{ref:"ruledetails-section",staticClass:"mB20",attrs:{id:"ruledetails-section",isNew:_vm.isNew,ruleInfo:_vm.alarmRules},on:{ruleDetailsChange:_vm.setProperties,sendRuleDetail:_vm.setRuleDetail}}),_c("RuleConditions",{ref:"conditions-section",staticClass:"mB20",attrs:{id:"conditions-section",moduleName:_vm.moduleName,ruleInfo:_vm.alarmRules,isEditForm:_vm.isEditForm,isV2:_vm.isV2},on:{onConditionsChange:_vm.setProperties}}),_c("AlarmDetails",{ref:"alarmdetails-section",staticClass:"mB20",attrs:{id:"alarmdetails-section",ruleDetails:_vm.alarmRules,isV2:_vm.isV2},on:{onDetailsChange:_vm.setProperties}}),_c("Impact",{ref:"impact-section",staticClass:"mB20",attrs:{id:"impact-section",alarmImpactObj:_vm.alarmRules,ruleDetail:_vm.ruleDetail,isV2:_vm.isV2},on:{ruleDetailsChange:_vm.setProperties}}),_c("RootCause",{ref:"rootcauses-section",staticClass:"mB20",attrs:{id:"rootcauses-section",alarmRulesObj:_vm.alarmRules,isEditForm:_vm.isEditForm,moduleName:_vm.moduleName,isV2:_vm.isV2},on:{ruleDetailsChange:_vm.setProperties}})],_c("div",{staticClass:"mT50"})],2)])])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(32284)),validation=__webpack_require__(586529),AsyncButton=__webpack_require__(303514),SidebarScrollMixin=__webpack_require__(565476),RuleDetailsFormvue_type_template_id_263a2da3_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"section-header",attrs:{id:"ruledetails-header"}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_details"))+" ")]),_c("el-form",{ref:"alarmRulesForm",staticClass:"p50 pT10 pB30",attrs:{model:_vm.preRequsite,rules:_vm.validationRules,"label-width":"150px","label-position":"left"}},[_c("div",{staticClass:"section-container flex-container"},[_c("div",{staticClass:"form-one-column fc-label-required"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.rules.rule_name"),prop:"name"}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:""+this.$t("alarm.rules.rule_name"),autofocus:!0},model:{value:_vm.preRequsite.name,callback:function($$v){_vm.$set(_vm.preRequsite,"name",$$v)},expression:"preRequsite.name"}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:""+this.$t("common.roles.description"),prop:"description"}},[_c("el-input",{staticClass:"mT3 fc-input-full-border-textarea",attrs:{type:"textarea",autofocus:!0,"min-rows":2,autosize:{minRows:3,maxRows:4},placeholder:""+this.$t("common.roles.description")},model:{value:_vm.preRequsite.description,callback:function($$v){_vm.$set(_vm.preRequsite,"description",$$v)},expression:"preRequsite.description"}})],1)],1),_vm.isAsset?_c("div",{staticClass:"form-one-column"},[_c("div",{staticClass:"form-one-column  fc-label-required"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.alarm.asset_category"),prop:"assetCategory"}},[_c("FLookupField",{key:"rules-assetcategory",attrs:{model:_vm.preRequsite.assetCategory.id,field:_vm.assetCategoryField,isRemoteField:!1,disabled:!_vm.isNew},on:{"update:model":function($event){return _vm.$set(_vm.preRequsite.assetCategory,"id",$event)},recordSelected:_vm.onAssetCategorySelected}})],1)],1),_vm.isAssetCategoryEmpty?_vm._e():_c("div",{staticClass:"form-one-column"},[_c("el-form-item",[_c("el-radio-group",{model:{value:_vm.bulkSelectOption,callback:function($$v){_vm.bulkSelectOption=$$v},expression:"bulkSelectOption"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"all"}},[_vm._v(_vm._s(_vm.$t("alarm.rules.all_assets")))]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"include"}},[_vm._v(_vm._s(_vm.$t("alarm.rules.specific_assets")))])],1)],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:""+this.$t("common.products.assets")}},[_vm.isAllAssetsSelected?_c("div",[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.allAssetsPlaceHolderText,disabled:!0}})],1):_c("FLookupField",{key:"assets-lookup-field",ref:"assets-lookup-field",attrs:{model:_vm.preRequsite.assets,field:_vm.assetField,preHookFilterConstruction:_vm.constructCategoryFilter},on:{"update:model":function($event){return _vm.$set(_vm.preRequsite,"assets",$event)},showLookupWizard:_vm.showLookupWizard}})],1)],1)]):_vm._e(),_c("div",{staticClass:"form-one-column  fc-label-required"},[_c("el-form-item",{attrs:{label:""+this.$t("rule.create.rule_interval"),prop:"ruleInterval"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{filterable:"",clearable:"",placeholder:""+this.$t("common._common.select")},model:{value:_vm.preRequsite.ruleInterval,callback:function($$v){_vm.$set(_vm.preRequsite,"ruleInterval",$$v)},expression:"preRequsite.ruleInterval"}},_vm._l(_vm.ruleIntervalOptions,(function(key,label){return _c("el-option",{key:key,attrs:{label:label,value:key}})})),1)],1)],1)])]),_vm.canShowLookupWizard?_c("div",[_vm.isNewLookupWizardEnabled?_c("LookupWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,field:_vm.selectedLookupField},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue}}):_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.selectedLookupField,categoryId:_vm.preRequsite.assetCategory.id},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue}})],1):_vm._e()],1)},RuleDetailsFormvue_type_template_id_263a2da3_staticRenderFns=[],FLookupField=(__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(891719),__webpack_require__(855048)),FLookupFieldWizard=__webpack_require__(499751),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),ui_forms=__webpack_require__(141323),RuleDetailsFormvue_type_script_lang_js={components:{FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:FLookupFieldWizard["default"],LookupWizard:ui_forms/* LookupWizard */.ns},props:{isNew:{type:Boolean},ruleInfo:{type:Object}},data:function(){return{preRequsite:{name:"",description:"",assetCategory:{id:null},assets:null,ruleInterval:9e5,assetCategoryId:null},validationRules:{name:[{required:!0,message:"Please enter rule name",trigger:"blur"}],assetCategory:[{required:!0,message:"Please select asset category",trigger:"blur"}],ruleInterval:[{required:!0,message:"Please select rule interval",trigger:"blur"}]},resourceType:"asset",assetCategoryField:{lookupModuleName:"assetcategory",lookupModule:{type:-1},options:[],isDataLoading:!1},assetField:{isDataLoading:!1,options:[],lookupModuleName:"asset",placeHolderText:"".concat(this.$t("commissioning.sheet.select_asset")),field:{lookupModule:{name:"asset",displayName:"Asset"}},multiple:!0},canShowLookupWizard:!1,selectedLookupField:null,bulkSelectOption:"all",selectedCategoryLabel:"",isMatchedAssetSelection:!1,ruleIntervalOptions:{"1 Min":6e4,"2 Mins":12e4,"3 Mins":18e4,"4 Mins":24e4,"5 Mins":3e5,"10 Mins":6e5,"15 Mins":9e5,"20 Mins":12e5,"30 Mins":18e5,"1 Hr":36e5,"2 Hr":72e5,"3 Hr":108e5,"4 Hr":144e5,"8 Hr":288e5,"12 Hr":432e5,"1 Day":864e5}}},created:function(){this.prefillRuleDetails()},computed:{isAsset:function(){var resourceType=this.resourceType;return"asset"===resourceType},isAssetCategoryEmpty:function(){var preRequsite=this.preRequsite,_ref=preRequsite||{},assetCategory=_ref.assetCategory,_ref2=assetCategory||{},id=_ref2.id;return(0,validation/* isEmpty */.xb)(id)},isAllAssetsSelected:function(){var bulkSelectOption=this.bulkSelectOption;return"all"===bulkSelectOption},allAssetsPlaceHolderText:function(){var selectedCategoryLabel=this.selectedCategoryLabel;return"All ".concat(selectedCategoryLabel," selected")},isNewLookupWizardEnabled:function(){return this.$helpers.isLicenseEnabled("NEW_LOOKUP_WIZARD")}},watch:{isAsset:function(){var preRequsite=this.preRequsite,_ref3=preRequsite||{},assetCategory=_ref3.assetCategory,_ref4=assetCategory||{},id=_ref4.id;this.$set(id,"id",null)},preRequsite:{handler:function(value){this.$emit("ruleDetailsChange",value),this.$emit("sendRuleDetail",value)},deep:!0},"preRequsite.assetCategory.id":{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var $refs,assetField,preRequsite,isMatchedAssetSelection,elem,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(isEqual_default()(newVal,oldVal)){_context.next=13;break}if($refs=_this.$refs,assetField=_this.assetField,preRequsite=_this.preRequsite,isMatchedAssetSelection=_this.isMatchedAssetSelection,elem=$refs["assets-lookup-field"],(0,validation/* isEmpty */.xb)(elem)||isMatchedAssetSelection){_context.next=12;break}return _context.next=6,elem.getOptions({initialFetch:!0});case 6:if(_context.t0=_context.sent,_context.t0){_context.next=9;break}_context.t0=[];case 9:options=_context.t0,_this.$set(preRequsite,"assets",null),_this.$set(assetField,"options",options);case 12:_this.isMatchedAssetSelection=!1;case 13:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{prefillRuleDetails:function(){var preRequsite=this.preRequsite,ruleInfo=this.ruleInfo;if(!(0,validation/* isEmpty */.xb)(ruleInfo)){this.preRequsite=ruleInfo;var assets=ruleInfo.assets,assetCategory=ruleInfo.assetCategory;(0,validation/* isEmpty */.xb)(assets)||(this.bulkSelectOption="include",this.isMatchedAssetSelection=!0,this.$set(preRequsite,"assets",assets));var ns=ruleInfo.ns,_ref5=ns||{},execInterval=_ref5.execInterval,id=assetCategory.id;this.preRequsite.assetCategoryId=id,this.$set(this.preRequsite,"ruleInterval",execInterval)}this.$emit("sendRuleDetail",preRequsite)},showLookupWizard:function(field,canShow){this.$set(this,"selectedLookupField",field),this.$set(this,"canShowLookupWizard",canShow)},setLookupFieldValue:function(props){var preRequsite=this.preRequsite,field=props.field,_field$options=field.options,options=void 0===_field$options?[]:_field$options,_field$selectedItems=field.selectedItems,selectedItems=void 0===_field$selectedItems?[]:_field$selectedItems,selectedItemIds=[];if(!(0,validation/* isEmpty */.xb)(selectedItems))if(selectedItemIds=selectedItems.map((function(item){return item.value})),(0,validation/* isEmpty */.xb)(options))options=(0,toConsumableArray/* default */.Z)(selectedItems);else{var _options,ids=options.map((function(item){return item.value})),newOptions=selectedItems.filter((function(item){return!ids.includes(item.value)}));(_options=options).unshift.apply(_options,(0,toConsumableArray/* default */.Z)(newOptions))}this.$set(preRequsite,"assets",selectedItemIds),this.$set(this.selectedLookupField,"options",options)},constructCategoryFilter:function(){var preRequsite=this.preRequsite,_ref6=preRequsite||{},assetCategory=_ref6.assetCategory,_ref7=assetCategory||{},id=_ref7.id,filters={};return(0,validation/* isEmpty */.xb)(assetCategory)||(filters={category:{operator:"is",value:["".concat(id)]}}),filters},onAssetCategorySelected:function(selectedValue){var _ref8=selectedValue||{},label=_ref8.label,assetField=this.assetField,preRequsite=this.preRequsite,_ref9=assetField||{},selectedItems=_ref9.selectedItems,_ref10=preRequsite||{},assetCategory=_ref10.assetCategory,_ref11=assetCategory||{},id=_ref11.id;(0,validation/* isEmpty */.xb)(id)||this.$set(preRequsite,"assetCategoryId",id),(0,validation/* isEmpty */.xb)(label)||(this.selectedCategoryLabel=label),(0,validation/* isEmpty */.xb)(selectedItems)||(assetField.selectedItems=[],this.$set(preRequsite,"assets",null))}}},component_RuleDetailsFormvue_type_script_lang_js=RuleDetailsFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(component_RuleDetailsFormvue_type_script_lang_js,RuleDetailsFormvue_type_template_id_263a2da3_render,RuleDetailsFormvue_type_template_id_263a2da3_staticRenderFns,!1,null,null,null)
/* harmony default export */,RuleDetailsForm=component.exports,RuleConditionsvue_type_template_id_437c29ce_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"section-header pB10",attrs:{id:"ruleconditions-header"}},[_vm._v(" "+_vm._s(_vm.$t("rule.create.alarm_conditions"))+" ")]),_c("FormulaBuilder",{attrs:{ruleCondition:_vm.ruleInfo,moduleName:_vm.moduleName,isEditForm:_vm.isEditForm,isV2:_vm.isV2,isMainApp:"true"},on:{setCondition:_vm.setCondition}})],1)},RuleConditionsvue_type_template_id_437c29ce_staticRenderFns=[],FormulaBuilder=__webpack_require__(945484),RuleConditionsvue_type_script_lang_js={components:{FormulaBuilder:FormulaBuilder/* default */.Z},props:["ruleInfo","isEditForm","moduleName","isV2"],methods:{setCondition:function(condition){this.$emit("onConditionsChange",condition)}}},component_RuleConditionsvue_type_script_lang_js=RuleConditionsvue_type_script_lang_js,RuleConditions_component=(0,componentNormalizer/* default */.Z)(component_RuleConditionsvue_type_script_lang_js,RuleConditionsvue_type_template_id_437c29ce_render,RuleConditionsvue_type_template_id_437c29ce_staticRenderFns,!1,null,null,null)
/* harmony default export */,RuleConditions=RuleConditions_component.exports,AlarmDetailsvue_type_template_id_03e3bd84_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"section-header",attrs:{id:"alarmdetails-header"}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_alarm_details"))+" ")]),_c("el-form",{ref:"alarmDetailsForm",staticClass:"p50 pT10 pB30 alarm-details-container",attrs:{model:_vm.action,rules:_vm.validationRules,"label-width":"150px","label-position":"left"}},[_c("div",{staticClass:"section-container flex-container"},[_c("div",{staticClass:"form-one-column fc-label-required"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.rules.alarm_message"),prop:"name"}},[_c("el-input",{staticClass:"fc-input-full-border-textarea",attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},resize:"none",placeholder:""+this.$t("alarm.rules.alarm_message"),autofocus:!0},model:{value:_vm.action.message,callback:function($$v){_vm.$set(_vm.action,"message",$$v)},expression:"action.message"}})],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.rules.fault_type"),prop:"faultType"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:""+this.$t("alarm.rules.alarm_message")},model:{value:_vm.action.faultType,callback:function($$v){_vm.$set(_vm.action,"faultType",$$v)},expression:"action.faultType"}},_vm._l(_vm.faultTypes,(function(label,key){return _c("el-option",{key:key,attrs:{label:label,value:parseInt(key)}})})),1)],1)],1),_c("div",{staticClass:"form-one-column fc-label-required"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.alarm.severity"),prop:"severity"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{placeholder:""+this.$t("alarm.alarm.severity")},model:{value:_vm.action.severity,callback:function($$v){_vm.$set(_vm.action,"severity",$$v)},expression:"action.severity"}},_vm._l(_vm.severityList,(function(label){return _c("el-option",{key:label.id,attrs:{label:label.displayName,value:label.severity}})})),1)],1)],1),_c("div",{staticClass:"form-one-column"},[_c("el-form-item",{attrs:{label:""+this.$t("alarm.alarm.problem"),prop:"description"}},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:""+this.$t("alarm.rules.problem_placeholder"),autofocus:!0},model:{value:_vm.action.problem,callback:function($$v){_vm.$set(_vm.action,"problem",$$v)},expression:"action.problem"}})],1)],1),_c("div",{staticClass:"cause-recommendation-conatiner"},[_c("div",{staticClass:"header",class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2}},[_vm._v(" "+_vm._s(_vm.$t("alarm.alarm.possible_causes"))+" ")]),_c("div",{staticClass:"desc"},[_vm._v(_vm._s(_vm.$t("alarm.rules.possible_desc")))]),_vm._l(_vm.action.possibleCauses,(function(causes,index){return _c("div",{key:index,staticClass:"cause-recommendation-list"},[_c("div",{staticClass:"cause-recommendation-index"},[_vm._v(_vm._s(index+1))]),_c("el-input",{ref:"possible-cause-"+index,refInFor:!0,staticClass:"fc-input-border-remove",attrs:{placeholder:"Enter a possible cause"},model:{value:_vm.action.possibleCauses[index],callback:function($$v){_vm.$set(_vm.action.possibleCauses,index,$$v)},expression:"action.possibleCauses[index]"}}),_c("i",{staticClass:"el-icon-delete pointer trash-icon mR10",on:{click:function($event){return _vm.deleteItem(index,"possibleCauses")}}})],1)})),_c("div",{staticClass:"flex flex-direction-row pointer mT20 items-center"},[_c("fc-icon",{attrs:{group:"action",name:"circle-plus",color:_vm.iconsColor,size:"18"}}),_c("div",{ref:"possibleCauses",class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2},on:{click:_vm.addPossibleCause}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.add_causes"))+" ")])],1)],2),_c("div",{staticClass:"cause-recommendation-conatiner"},[_c("div",{staticClass:"header",class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2}},[_vm._v(" "+_vm._s(_vm.$t("alarm.alarm.recommendation"))+" ")]),_c("div",{staticClass:"desc"},[_vm._v(_vm._s(_vm.$t("alarm.rules.recommendation_desc")))]),_vm._l(_vm.action.recommendations,(function(causes,index){return _c("div",{key:index,staticClass:"cause-recommendation-list"},[_c("div",{staticClass:"cause-recommendation-index"},[_vm._v(_vm._s(index+1))]),_c("el-input",{ref:"recommendation-"+index,refInFor:!0,staticClass:"fc-input-border-remove",attrs:{placeholder:"Enter recommendations"},model:{value:_vm.action.recommendations[index],callback:function($$v){_vm.$set(_vm.action.recommendations,index,$$v)},expression:"action.recommendations[index]"}}),_c("i",{staticClass:"el-icon-delete pointer trash-icon mR10",on:{click:function($event){return _vm.deleteItem(index,"recommendations")}}})],1)})),_c("div",{staticClass:"flex flex-direction-row pointer mT20 items-center"},[_c("fc-icon",{attrs:{group:"action",name:"circle-plus",color:_vm.iconsColor,size:"18"}}),_c("div",{class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2},on:{click:_vm.addRecommendation}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.add_recommendation"))+" ")])],1)],2)])])],1)},AlarmDetailsvue_type_template_id_03e3bd84_scoped_true_staticRenderFns=[],vuex_esm=(__webpack_require__(425728),__webpack_require__(162506),__webpack_require__(420629)),AlarmDetailsvue_type_script_lang_js={props:["ruleDetails","isV2"],data:function(){return{action:{message:"",severity:null,faultType:null,problem:"",iconsColor:"#3fb4c3",possibleCauses:[],recommendations:[]},validationRules:{message:[{required:!0,message:"Please enter rule name"}],severity:[{required:!0,message:"Please select severity"}]}}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({alarmSeverity:function(state){return state.alarmSeverity},metaInfo:function(state){return state.view.metaInfo}})),{},{severityList:function(){var alarmSeverity=this.alarmSeverity,severityList=[];return(0,validation/* isEmpty */.xb)(alarmSeverity)||(severityList=alarmSeverity.filter((function(m){return"Clear"!==m.severity}))),severityList},faultTypes:function(){var faultTypeArr=[],metaInfo=this.metaInfo,_ref=metaInfo||{},fields=_ref.fields;if(!(0,validation/* isEmpty */.xb)(fields)){var faultField=this.metaInfo.fields.find((function(field){return"faultType"===field.displayName})),_ref2=faultField||{},enumMap=_ref2.enumMap;faultTypeArr=enumMap||[]}return faultTypeArr}}),mounted:function(){this.isV2&&(this.iconsColor="#0059d6")},created:function(){this.$store.dispatch("loadAlarmSeverity"),this.$store.dispatch("view/loadModuleMeta","readingrule");var ruleDetails=this.ruleDetails,alarmDetails=ruleDetails.alarmDetails;if(!(0,validation/* isEmpty */.xb)(alarmDetails)){this.action=alarmDetails;var action=this.action,_ref3=action||{},faultType=_ref3.faultType;faultType<=0&&this.$set(action,"faultType",null)}},watch:{action:{handler:function(newVal){this.$emit("onDetailsChange",{alarmDetails:newVal})},deep:!0}},methods:{addPossibleCause:function(){var _this=this;this.action.possibleCauses.push("");var possibleCauses=this.$getProperty(this,"action.possibleCauses"),index=possibleCauses.length-1;this.$nextTick((function(){var input=_this.$refs["possible-cause-".concat(index)][0];(0,validation/* isEmpty */.xb)(input)||input.focus()}))},addRecommendation:function(){var _this2=this;this.action.recommendations.push("");var recommendations=this.$getProperty(this,"action.recommendations"),index=recommendations.length-1;this.$nextTick((function(){var input=_this2.$refs["recommendation-".concat(index)][0];(0,validation/* isEmpty */.xb)(input)||input.focus()}))},deleteItem:function(index,key){this.action[key].splice(index,1)}}},component_AlarmDetailsvue_type_script_lang_js=AlarmDetailsvue_type_script_lang_js,AlarmDetails_component=(0,componentNormalizer/* default */.Z)(component_AlarmDetailsvue_type_script_lang_js,AlarmDetailsvue_type_template_id_03e3bd84_scoped_true_render,AlarmDetailsvue_type_template_id_03e3bd84_scoped_true_staticRenderFns,!1,null,"03e3bd84",null)
/* harmony default export */,AlarmDetails=AlarmDetails_component.exports,RootCausevue_type_template_id_2631ab6a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"section-header",attrs:{id:"rootcauses-header"}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.root_cause"))+" ")]),_c("div",{staticClass:"p50 pT10 pB30",staticStyle:{"min-height":"500px"}},[_vm.$validation.isEmpty(_vm.rcaSelected)?_c("div",{staticClass:"rule-basic-info-content"},[_c("div",{staticClass:"d-flex flex-direction-column text-center"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/data-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"mT10 empty-text f15 bold"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.no_root_cause"))+" ")]),_c("div",{staticClass:"mT5 empty-text-desc f13"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.no_root_cause_created"))+" ")]),_c("div",{staticClass:"inline-block mT20"},[_c("el-button",{staticClass:"pT10 pB10 small-border-btn text-uppercase pL15 pR15",class:{"v2-rules-btn":_vm.isV2},on:{click:function($event){return _vm.handleClickEvent()}}},[_vm._v(_vm._s(_vm.$t("alarm.rules.add_root_cause")))])],1)],1)]):_c("div",{staticClass:"root-cause-container"},[_c("div",{staticClass:"flex-center-row-space mB10"},[_c("div",{staticClass:"desc mT0"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.possible_desc"))+" ")]),_c("div",{staticClass:"flex flex-direction-row pointer items-center"},[_c("el-button",{staticClass:"pT10 pB10 small-border-btn text-uppercase pL15 pR15",class:{"v2-rules-btn":_vm.isV2},on:{click:function($event){return _vm.handleClickEvent()}}},[_vm._v(_vm._s(_vm.$t("alarm.rules.add_root_cause")))])],1)]),_c("el-table",{staticClass:"root-cause-table",staticStyle:{width:"100%"},attrs:{data:_vm.rcaSelected,"header-cell-style":{background:"#f3f1fc"},fit:!0,border:""}},[_c("el-table-column",{attrs:{type:"index",label:"S.NO.",width:"100"}}),_c("el-table-column",{attrs:{prop:"name",label:"NAME"},scopedSlots:_vm._u([{key:"default",fn:function(rule){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:_vm.tippyOptions,expression:"tippyOptions"}],staticClass:"label-txt-black textoverflow-ellipsis",attrs:{title:rule.row.name||"---"}},[_vm._v(" "+_vm._s(rule.row.name)+" ")])]}}])}),_c("el-table-column",{attrs:{prop:"description",label:"DESCRIPTION"},scopedSlots:_vm._u([{key:"default",fn:function(rule){return[_c("div",{staticClass:"label-txt-black"},[_vm._v(" "+_vm._s(_vm.$getProperty(rule,"row.description")||"---")+" ")])]}}])}),_c("el-table-column",{attrs:{label:"CATEGORY"},scopedSlots:_vm._u([{key:"default",fn:function(rule){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:_vm.tippyOptions,expression:"tippyOptions"}],staticClass:"label-txt-black textoverflow-ellipsis",attrs:{title:_vm.getCategory(rule)||"---"}},[_vm._v(" "+_vm._s(_vm.getCategory(rule))+" ")])]}}])}),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130"},scopedSlots:_vm._u([{key:"default",fn:function(rule){return[_c("div",{staticClass:"text-center"},[_c("i",{staticClass:"el-icon-delete pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true"},on:{click:function($event){return _vm.deleteItem(rule)}}})])]}}])})],1),_vm.$validation.isEmpty(_vm.rca.groups)?_vm._e():_c("div",{staticClass:"mT30 width100 f14"},[_c("div",{staticClass:"header"},[_vm._v(_vm._s(_vm.$t("alarm.rules.ranking")))]),_c("div",{staticClass:"desc mBT20 required"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.data_set_interval"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border2 ranking-select",attrs:{placeholder:"Data set interval"},model:{value:_vm.rca.dataSetInterval,callback:function($$v){_vm.$set(_vm.rca,"dataSetInterval",$$v)},expression:"rca.dataSetInterval"}},_vm._l(_vm.dataSetInterval,(function(key,label){return _c("el-option",{key:key,attrs:{label:label,value:key}})})),1),_c("div",{staticClass:"desc mBT20 required"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_interval"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border2 ranking-select",attrs:{placeholder:"Rule Interval"},model:{value:_vm.rca.ruleInterval,callback:function($$v){_vm.$set(_vm.rca,"ruleInterval",$$v)},expression:"rca.ruleInterval"}},_vm._l(_vm.ruleInterval,(function(key,label){return _c("el-option",{key:key,attrs:{label:label,value:key}})})),1)],1),_vm.isGroupLoading?_c("div",[_c("Spinner",{attrs:{show:_vm.isGroupLoading,size:"80"}})],1):_vm._l(_vm.rca.groups,(function(group,index){return _c("div",{key:"groups-"+index},[_c("Group",{attrs:{group:group,moduleName:_vm.moduleName,isEditForm:_vm.isEditForm,isV2:_vm.isV2},on:{groupChanged:_vm.groupChanged,deleteGroup:_vm.deleteGroup}})],1)})),_c("div",{staticClass:"d-flex pointer mT20 mB20 pL20 align-center",class:{"fc-v2-color":_vm.isV2,"add-group-container":!_vm.isV2},on:{click:_vm.addGroup}},[_c("div",{staticClass:"align-center"},[_c("fc-icon",{attrs:{group:"default",name:"circle-plus",size:"30",color:"#ffffff"}})],1),_c("div",{staticClass:"add-group-text bold"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.add_new_group"))+" ")])])],2)]),_vm.showAddRootCause?_c("NewRootCause",{attrs:{closeDialog:function(){return _vm.showAddRootCause=!1},rulesList:_vm.rulesPickList,rcaSelected:_vm.rcaSelectedValues,isV2:_vm.isV2},on:{addRootCause:_vm.associateRule}}):_vm._e()],1)},RootCausevue_type_template_id_2631ab6a_scoped_true_staticRenderFns=[],cloneDeep=(__webpack_require__(339772),__webpack_require__(150361)),cloneDeep_default=__webpack_require__.n(cloneDeep),uuid=__webpack_require__(455877),NewRootCausevue_type_template_id_2c10a3db_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,"append-to-body":!0,title:_vm.$t("alarm.rules.add_root_cause"),"custom-class":"setup-dialog40 fc-dialog-center-container fc-dialog-center-body-p0","before-close":_vm.closeDialog}},[_c("div",{staticClass:"dialog-container"},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100 fc-tag",attrs:{multiple:"",placeholder:"Select root causes","collapse-tags":""},model:{value:_vm.ruleObjs,callback:function($$v){_vm.ruleObjs=$$v},expression:"ruleObjs"}},_vm._l(_vm.rulesList,(function(rule){return _c("el-option",{key:rule.value,attrs:{label:rule.label,value:rule.value}})})),1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t("alarm.alarm.cancel")))]),_c("el-button",{ref:"rootcause",staticClass:"modal-btn-save",on:{click:_vm.addRootCause}},[_vm._v(_vm._s(_vm.$t("alarm.alarm.save")))])],1)],1)])},NewRootCausevue_type_template_id_2c10a3db_scoped_true_staticRenderFns=[],NewRootCausevue_type_script_lang_js={props:["closeDialog","rulesList","rcaSelected","isV2"],data:function(){return{ruleObjs:[]}},mounted:function(){var _this=this;if(this.isV2){var interval=setInterval((function(){_this.$refs.rootcause&&(_this.addbuttonRef(),clearInterval(interval))}),50);this.loading=!0}else this.loading=!0},created:function(){var rcaSelected=this.rcaSelected;(0,validation/* isEmpty */.xb)(rcaSelected)||(this.ruleObjs=rcaSelected)},methods:{addbuttonRef:function(){this.$refs.rootcause.$el.classList.value="fc-v2-btn"},addRootCause:function(){this.$emit("addRootCause",this.ruleObjs),this.closeDialog()}}},component_NewRootCausevue_type_script_lang_js=NewRootCausevue_type_script_lang_js,NewRootCause_component=(0,componentNormalizer/* default */.Z)(component_NewRootCausevue_type_script_lang_js,NewRootCausevue_type_template_id_2c10a3db_scoped_true_render,NewRootCausevue_type_template_id_2c10a3db_scoped_true_staticRenderFns,!1,null,"2c10a3db",null)
/* harmony default export */,NewRootCause=NewRootCause_component.exports,Groupvue_type_template_id_3a0e4cc2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"grouping-container"},[_c("div",{staticClass:"flex-center-row-space"},[_c("div",{staticClass:"desc mT10 mB10 required"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.group_name"))+" ")]),_c("div",{staticClass:"flex-center-row-space p5"},[_c("div",{staticClass:"delete-icon mL10 mT10 mB10 mR5",on:{click:function($event){return _vm.deleteGroup()}}},[_c("fc-icon",{attrs:{group:"default",name:"trash-can",color:_vm.iconsColor}})],1),_c("el-switch",{ref:"switch",model:{value:_vm.defaultRCAGrouping.status,callback:function($$v){_vm.$set(_vm.defaultRCAGrouping,"status",$$v)},expression:"defaultRCAGrouping.status"}})],1)]),_c("el-input",{staticClass:"fc-input-full-border2 pR75",attrs:{placeholder:"Group Name",autofocus:!0,disabled:!_vm.defaultRCAGrouping.status},model:{value:_vm.defaultRCAGrouping.name,callback:function($$v){_vm.$set(_vm.defaultRCAGrouping,"name",$$v)},expression:"defaultRCAGrouping.name"}}),_c("div",{staticClass:"header mT10 pT10",class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.group_criteria"))+" ")]),_c("div",{staticClass:"desc mT20 mB20"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.group_criteria_description"))+" ")]),_c("div",{staticClass:"desc"},[_vm._v(_vm._s(_vm.$t("alarm.rules.criteria")))]),_c("RcaCriteriaBuilder",{staticClass:"pB20 pR75",attrs:{moduleName:_vm.moduleName,disabled:!_vm.defaultRCAGrouping.status},model:{value:_vm.defaultRCAGrouping.criteria,callback:function($$v){_vm.$set(_vm.defaultRCAGrouping,"criteria",$$v)},expression:"defaultRCAGrouping.criteria"}}),_c("div",{staticClass:"header mT10",class:{"fc-id bold pointer f14 pL5":!_vm.isV2,"fb-v2-text bold pointer pL5":_vm.isV2}},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.group_conditions"))+" ")]),_c("div",{staticClass:"desc mT20"},[_vm._v(" "+_vm._s(_vm.$t("alarm.rules.rule_conditions_description"))+" ")]),_c("ConditionBuilder",{staticClass:"pB20 pR75",attrs:{moduleName:_vm.moduleName,disabled:_vm.disableCondition},model:{value:_vm.defaultRCAGrouping.conditions,callback:function($$v){_vm.$set(_vm.defaultRCAGrouping,"conditions",$$v)},expression:"defaultRCAGrouping.conditions"}})],1)},Groupvue_type_template_id_3a0e4cc2_scoped_true_staticRenderFns=[],clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),dist=(__webpack_require__(634338),__webpack_require__(191853)),field_display_util=__webpack_require__(265227),RcaCriteriaBuildervue_type_script_lang_js={name:"RcaCriteriaBuilder",extends:dist/* CriteriaBuilder */.IP,methods:{loadFields:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName,getField,url,response,advancedData,advancedFieldsError,advancedFieldsList,advancedFields,_ref,_ref$message,message,fields,computedFields,defaultFields,computedAdvancedFields;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return moduleName=_this.moduleName,getField=_this.getField,url="/v2/filter/advanced/fields/".concat(moduleName),_context.next=4,api/* API */.bl.get(url);case 4:response=_context.sent,advancedData=response.data,advancedFieldsError=response.error,advancedFieldsList=advancedData.fields,advancedFields=advancedFieldsList.map((function(field){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{multiple:(0,field_display_util/* isLookupPopupField */.QK)(field)||(0,field_display_util/* isLookupTypeField */.hd)(field)})})),advancedFieldsError?(_ref=advancedFieldsError||{},_ref$message=_ref.message,message=void 0===_ref$message?"Error occured":_ref$message,_this.$message.error(message)):(fields=advancedFieldsList.reduce((function(acc,field){return[].concat((0,toConsumableArray/* default */.Z)(acc),[(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{name:"".concat(field.name,"#parent"),multiple:(0,field_display_util/* isLookupPopupField */.QK)(field)||(0,field_display_util/* isLookupTypeField */.hd)(field)})])}),[]),computedFields=[],computedFields.push(getField("NUMBER","Duration","NUMBER","duration#parent"),getField("NUMBER","Event Count","NUMBER","noOfEvents#parent"),getField("NUMBER","Occurrence Count","NUMBER","noOfOccurrences#parent")),defaultFields=["severity#parent","faultType#parent","readingAlarmAssetCategory#parent","costImpact#parent","energyImpact#parent"],fields=(fields||[]).filter((function(field){return defaultFields.includes(field.name)})),advancedFields=(advancedFields||[]).filter((function(field){return defaultFields.includes("".concat(field.name)+"#parent")})),computedAdvancedFields=computedFields.reduce((function(acc,field){return[].concat((0,toConsumableArray/* default */.Z)(acc),[(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{name:field.name.split("#")[0]})])}),[]),_this.$setProperty(_this,"fields",[].concat((0,toConsumableArray/* default */.Z)(fields),computedFields)),_this.$setProperty(_this,"advancedFields",[].concat((0,toConsumableArray/* default */.Z)(advancedFields),(0,toConsumableArray/* default */.Z)(computedAdvancedFields))));case 9:case"end":return _context.stop()}}),_callee)})))()},getField:function(dataType,displayName,displayType,name){return{dataType:dataType,default:!0,displayName:displayName,displayType:displayType,mainField:!1,name:name}}}},component_RcaCriteriaBuildervue_type_script_lang_js=RcaCriteriaBuildervue_type_script_lang_js,RcaCriteriaBuilder_component=(0,componentNormalizer/* default */.Z)(component_RcaCriteriaBuildervue_type_script_lang_js,RcaCriteriaBuilder_render,RcaCriteriaBuilder_staticRenderFns,!1,null,null,null)
/* harmony default export */,RcaCriteriaBuilder=RcaCriteriaBuilder_component.exports,ConditionBuildervue_type_template_id_2775864c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"flex"},[_c("FieldLoader",{staticClass:"mr-2",attrs:{isLoading:_vm.isLoading}}),_c("FieldLoader",{staticClass:"mr-2",attrs:{isLoading:_vm.isLoading}}),_c("FieldLoader",{staticClass:"mr-2",attrs:{isLoading:_vm.isLoading}}),_c("FieldLoader",{staticClass:"mr-2",attrs:{isLoading:_vm.isLoading}}),_c("FieldLoader",{attrs:{isLoading:_vm.showValueType&&_vm.isLoading}})],1):_c("div",{staticClass:"flex flex-col self-center criteria-builder m-2"},_vm._l(_vm.dataForConditions,(function(ref,index){var condition=ref.condition,id=ref.id;return _c("div",{key:id},[_c("div",{staticClass:"condition"},[_c("RcaCondition",{key:"condition-"+id,ref:"condition-"+id,refInFor:!0,attrs:{condition:condition,operators:_vm.operators,index:Number(index+1),fields:_vm.filteredFields,account:_vm.account,filterOperators:_vm.filterOperators,showValueType:_vm.showValueType,customValues:_vm.customValues,disabled:_vm.disabled,advancedFields:_vm.advancedFields},on:{updateCondition:_vm.updateCondition}}),_c("div",{staticClass:"add-remove-container"},[_vm.conditionsLength==index+1?_c("span",{staticClass:"flex items-center",on:{click:_vm.addCriteria}},[_c("AddIcon",{staticClass:"delete-icon ml-3 cursor-pointer",class:_vm.disabled?"cursor-not-allowed\t":""})],1):_vm._e(),_c("span",{staticClass:"flex items-center",on:{click:function(){return _vm.deleteCriteria(index)}}},[_vm.showRemoveIcon?_c("RemoveIcon",{staticClass:"delete-icon ml-2 cursor-pointer",class:_vm.disabled?"cursor-not-allowed\t":""}):_vm._e()],1)])],1)])})),0)},ConditionBuildervue_type_template_id_2775864c_staticRenderFns=[],RcaConditionvue_type_template_id_3665a837_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"w-full"},[_c("div",{staticClass:"flex w-full flex-nowrap relative h-14"},[_c("div",{staticClass:"index-container self-center"},[_c("div",{staticClass:"alphabet-circle"},[_vm._v(" "+_vm._s(_vm.index)+" ")])]),_c("div",{staticClass:"criteria-fields-container self-center w-full relative f-ui-forms"},[_c("Cascader",{key:"index "+_vm.conditionObj.fieldName+" field",ref:"index-"+_vm.conditionObj.fieldName+"-field",staticClass:"w-full f-ui-select f-cascader",attrs:{options:_vm.fields,label:"displayName",value:"name",filterable:"",clearable:"",props:_vm.cascaderProps,"popper-class":"cascader-popover","filter-method":_vm.filterFields,disabled:_vm.disabled},on:{clear:_vm.resetCondition,change:_vm.setFieldValue},model:{value:_vm.conditionObj.fieldName,callback:function($$v){_vm.$set(_vm.conditionObj,"fieldName",$$v)},expression:"conditionObj.fieldName"}}),_vm.canShowError?_c("div",{staticClass:"condition-error"},[_vm._v(" "+_vm._s(_vm.cascaderErrorMsg)+" ")]):_vm._e()],1),_c("div",{staticClass:"criteria-operator-container self-center w-full"},[_c("Select",{key:"index "+_vm.conditionObj.fieldName+" Operator",ref:"index-"+_vm.conditionObj.fieldName+"-operator",staticClass:"width-full",attrs:{options:_vm.fieldOperators,labelName:"displayName",valueName:"id",filterable:"",clearable:"",placeholder:_vm.operatorPlaceholder,disabled:_vm.checkOperatorDisabled},on:{clear:_vm.resetValue,change:_vm.handleOperatorChange},model:{value:_vm.conditionObj.operatorId,callback:function($$v){_vm.$set(_vm.conditionObj,"operatorId",$$v)},expression:"conditionObj.operatorId"}})],1),_vm.showValueType?_c("div",{staticClass:"criteria-operator-container self-center w-full"},[_c("Select",{key:"index "+_vm.conditionObj.fieldName+" Operator",ref:"index-"+_vm.conditionObj.fieldName+"-operator",staticClass:"width-full",attrs:{options:_vm.valueTypeOptions,filterable:"",clearable:"",disabled:_vm.checkOperatorDisabled},on:{clear:_vm.resetValue,change:_vm.updateCustomValue},model:{value:_vm.valueType,callback:function($$v){_vm.valueType=$$v},expression:"valueType"}})],1):_vm._e(),_vm.showComputed?_c("ConditionValue",{ref:"conditionValue",attrs:{field:_vm.field,disableValueContainer:_vm.disableValueContainer,account:_vm.account,isSpecialOperator:_vm.isSpecialOperator,operatorObj:_vm.currentOperatorObj},on:{"update:field":function($event){_vm.field=$event}},model:{value:_vm.conditionObj.value,callback:function($$v){_vm.$set(_vm.conditionObj,"value",$$v)},expression:"conditionObj.value"}}):"value"!==_vm.valueType&&"custom"!==_vm.valueType?_c("div",{staticClass:"criteria-fields-container self-center w-full"},[_c("Select",{key:"index "+_vm.conditionObj.fieldName+" field",ref:"index-"+_vm.conditionObj.fieldName+"-field",staticClass:"width-full",attrs:{options:_vm.typeBasedValues[_vm.valueType],filterable:!!_vm.isEmpty(_vm.allowCreate)||_vm.allowCreate,clearable:"",allowCreate:_vm.allowCreate},model:{value:_vm.conditionObj.value,callback:function($$v){_vm.$set(_vm.conditionObj,"value",$$v)},expression:"conditionObj.value"}})],1):_vm._e(),_c("div",{staticClass:"criteria-operator-container self-center w-full"},[_c("el-input",{staticClass:"fc-input-full-border2",class:_vm.disabledOpacityChange,attrs:{placeholder:"Enter a Score",type:"number",disabled:_vm.checkOperatorDisabled},model:{value:_vm.conditionObj.scoring,callback:function($$v){_vm.$set(_vm.conditionObj,"scoring",$$v)},expression:"conditionObj.scoring"}})],1)],1)])},RcaConditionvue_type_template_id_3665a837_staticRenderFns=[],utils_validation=(__webpack_require__(169358),__webpack_require__(564043),__webpack_require__(322462),__webpack_require__(990260)),DEFAULT_CONDITION={fieldName:null,operatorId:null,value:null,scoring:null},CONDITION_PROP_HASH=["fieldName","operatorId","value","prevOperator","fieldNameStr","scoring"],RcaConditionvue_type_script_lang_js={name:"RcaCondition",extends:dist/* Condition */.gP,data:function(){return{conditionObj:{fieldName:null,operatorId:null,value:null,scoring:null},cascaderProps:{value:"name",label:"displayName",expandTrigger:"hover"}}},computed:{cascaderErrorMsg:function(){var selectedFieldExists=this.selectedFieldExists;return selectedFieldExists?this.$t("condition_operator_existence"):this.$t("rule.create.condition_field_existence")},showComputed:function(){var showValueType=this.showValueType,valueType=this.valueType;return showValueType&&"value"===valueType||"value"===valueType},disabledOpacityChange:function(){var checkOperatorDisabled=this.checkOperatorDisabled;return checkOperatorDisabled?"opacity-50":""}},watch:{conditionObj:{handler:function(newVal){var index=this.index,value=newVal.value,currentFieldName=newVal.fieldName;(0,utils_validation/* isEmpty */.xb)(currentFieldName)&&(this.conditionObj.scoring=null);var clonedValue=cloneDeep_default()(newVal);!(0,utils_validation/* isEmpty */.xb)(value)&&(0,utils_validation/* isArray */.kJ)(value)&&(clonedValue.value="".concat(value));var fieldName=clonedValue.fieldName,operatorId=clonedValue.operatorId,scoring=clonedValue.scoring,serializedCondition={fieldName:fieldName.split("#")[0],operatorId:operatorId,value:clonedValue.value,scoring:scoring};this.$emit("updateCondition",{condition:serializedCondition,index:index})},deep:!0}},methods:{initCondition:function(){var condition=this.condition,showValueType=this.showValueType,clonedCondition=cloneDeep_default()(condition),deserializedCondition={};if(Object.keys(clonedCondition).map((function(key){CONDITION_PROP_HASH.includes(key)&&(deserializedCondition[key]=clonedCondition[key])})),!(0,utils_validation/* isEmpty */.xb)(deserializedCondition)){var _ref=deserializedCondition||{},fieldName=_ref.fieldName,value=_ref.value,actualFieldName=this.getFieldName(fieldName);deserializedCondition.fieldName=actualFieldName,!(0,utils_validation/* isEmpty */.xb)(actualFieldName)&&actualFieldName.match(/#parent$/)&&(actualFieldName=actualFieldName.split("#")[0]);var selectedField=this.getSelectedField(actualFieldName);this.setField(selectedField),showValueType&&this.setValueType(value),deserializedCondition.value=this.getConditionValue(selectedField,value),this.conditionObj=deserializedCondition}showValueType&&this.initCustomValues()},resetCondition:function(){var condition=DEFAULT_CONDITION;this.conditionObj=cloneDeep_default()(condition)}}},component_RcaConditionvue_type_script_lang_js=RcaConditionvue_type_script_lang_js,RcaCondition_component=(0,componentNormalizer/* default */.Z)(component_RcaConditionvue_type_script_lang_js,RcaConditionvue_type_template_id_3665a837_render,RcaConditionvue_type_template_id_3665a837_staticRenderFns,!1,null,null,null)
/* harmony default export */,RcaCondition=RcaCondition_component.exports,defaultCriteria={fieldName:null,operatorId:null,value:null,scoring:null},ConditionBuildervue_type_script_lang_js={name:"ConditionBuilder",extends:RcaCriteriaBuilder,components:{RcaCondition:RcaCondition},computed:{dataForConditions:function(){var ifCriteriaExists=this.ifCriteriaExists,serializedConditions=this.serializedConditions,dummyCriteria=this.dummyCriteria;return ifCriteriaExists?serializedConditions:dummyCriteria},conditionsLength:function(){var _ref=this||{},conditionsKeys=_ref.conditionsKeys,_ref2=conditionsKeys||{},_ref2$length=_ref2.length,length=void 0===_ref2$length?0:_ref2$length;return length}},methods:{serializeConditions:function(){var criteria=this.criteria,conditions=criteria.conditions,pattern=criteria.pattern,arr=[];for(var key in conditions){var conditionObj=conditions[key],newCondition=void 0;newCondition={condition:conditionObj,id:(0,uuid.v4)()};var fieldName=conditionObj.fieldName;null!==fieldName&&(conditionObj.fieldName="".concat(fieldName,"#parent")),arr.push(newCondition)}this.serializedConditions=arr,this.serializedPattern=pattern},constructCriteria:function(){var value=this.value;if((0,utils_validation/* isEmpty */.xb)(value)){
// if the criteria is empty, then we're configurig a dummy criteria
var defaultCriteriaObj=cloneDeep_default()(defaultCriteria);delete defaultCriteriaObj.prevOperator,this.dummyCriteria=[{condition:{conditions:{1:defaultCriteria},pattern:"1"},id:1}]}else this.constructOperatorFromPattern()},addCriteria:function(){var criteria=this.criteria,isPatternReadonly=this.isPatternReadonly,disabled=this.disabled;if(disabled)this.$message.error(this.$t("rule.create.criteria_disabled"));else if(isPatternReadonly){var pattern=criteria.pattern,newCondition=cloneDeep_default()(defaultCriteria),condition={condition:newCondition,id:(0,uuid.v4)()};this.serializedConditions.push(condition),this.serializedPattern="( ".concat(pattern," and ").concat(this.serializedConditions.length," )"),this.setCriteria()}else this.$message.warning(this.$t("rule.create.criteria_warning"))},setCriteria:function(){var serializedConditions=this.serializedConditions,criteria=this.criteria,serializedPattern=this.serializedPattern,conditions={};for(var i in serializedConditions){var condition=(0,objectSpread2/* default */.Z)({},serializedConditions[i].condition),index=parseInt(i)+1;conditions[index]=condition}var modifiedCriteria=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},criteria),{},{conditions:conditions,pattern:serializedPattern});this.$set(this,"criteria",modifiedCriteria)},updateCondition:function(props){var _ref3=props||{},condition=_ref3.condition,index=_ref3.index,key=parseInt(index)-1,conditionsLength=this.conditionsLength,dummyCriteria=this.dummyCriteria,isNullCondition=this.checkNullCondition(condition);if(isNullCondition&&1===conditionsLength){this.criteria=null,this.serializedConditions=[],this.serializedPattern="";var defaultCriteriaObj=cloneDeep_default()(defaultCriteria);return delete defaultCriteriaObj.prevOperator,void(this.dummyCriteria=[{condition:{conditions:{1:defaultCriteria},id:1}}])}if((0,utils_validation/* isEmpty */.xb)(dummyCriteria))this.serializedConditions[key].condition=condition,this.setCriteria();else{var fieldName=condition.fieldName;if(!(0,utils_validation/* isEmpty */.xb)(fieldName)){this.dummyCriteria=null,this.criteria={conditions:{1:condition},pattern:"( 1 )"};var conditionObj={condition:(0,objectSpread2/* default */.Z)({},condition),id:(0,uuid.v4)()};this.serializedConditions=[].concat((0,toConsumableArray/* default */.Z)(this.serializedConditions),[conditionObj]),this.serializedPattern="( 1 )"}}},checkNullCondition:function(condition){var fieldName=condition.fieldName,operatorId=condition.operatorId,value=condition.value,scoring=condition.scoring,isEmptyCondition=(0,utils_validation/* isEmpty */.xb)(fieldName)&&(0,utils_validation/* isEmpty */.xb)(operatorId)&&(0,utils_validation/* isEmpty */.xb)(value)&&(0,utils_validation/* isEmpty */.xb)(scoring);return isEmptyCondition},deleteCriteria:function(index){var _this=this,isPatternReadonly=this.isPatternReadonly,disabled=this.disabled;disabled?this.$message.error(this.$t("rule.create.criteria_disabled")):isPatternReadonly?(this.deleteKeyFromPattern(index),this.serializedConditions=this.serializedConditions.filter((function(item,itemIndex){return itemIndex!=index})),this.setCriteria(),setTimeout((function(){var serializedConditions=_this.serializedConditions;serializedConditions.forEach((function(val){var ref=_this.$refs["condition-".concat(val.id)];ref[0].initCondition()}))}))):this.$message.warning(this.$t("rule.create.criteria_warning"))}}},component_ConditionBuildervue_type_script_lang_js=ConditionBuildervue_type_script_lang_js,ConditionBuilder_component=(0,componentNormalizer/* default */.Z)(component_ConditionBuildervue_type_script_lang_js,ConditionBuildervue_type_template_id_2775864c_render,ConditionBuildervue_type_template_id_2775864c_staticRenderFns,!1,null,null,null)
/* harmony default export */,ConditionBuilder=ConditionBuilder_component.exports,Groupvue_type_script_lang_js={name:"Group",components:{ConditionBuilder:ConditionBuilder,RcaCriteriaBuilder:RcaCriteriaBuilder},props:{moduleName:{type:String,required:!0},group:{type:Object},isEditForm:{type:Boolean,required:!0},isV2:{type:Boolean}},data:function(){return{defaultRCAGrouping:{id:null,name:"",criteria:{},conditions:{},status:!0},iconsColor:"#3fb4c3"}},computed:{disableCondition:function(){var defaultRCAGrouping=this.defaultRCAGrouping,status=defaultRCAGrouping.status,criteria=defaultRCAGrouping.criteria;return!status||(0,validation/* isEmpty */.xb)(criteria)}},created:function(){this.prefillGroup()},watch:{defaultRCAGrouping:{handler:function(){this.serializeData()},deep:!0}},methods:{prefillGroup:function(){var group=this.group;if(!(0,validation/* isEmpty */.xb)(group))if(this.isEditForm){var tempGroup={};this.defaultRCAGrouping=cloneDeep_default()(group);var conditions=this.defaultRCAGrouping.conditions;conditions.forEach((function(condition,index){var _ref=condition||{},_ref$criteria=_ref.criteria,_ref$criteria2=void 0===_ref$criteria?{}:_ref$criteria,conditions=_ref$criteria2.conditions,score=_ref.score;tempGroup[index+1]=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},conditions[1]),{},{scoring:score})})),this.defaultRCAGrouping["conditions"]={conditions:tempGroup,pattern:this.getDummyPattern(conditions.length)}}else this.defaultRCAGrouping=cloneDeep_default()(group)},getDummyPattern:function(length){for(var pattern="(1)",i=2;i<=length;i++)pattern="("+pattern+" and "+i+")";return pattern},serializeData:function(){var defaultRCAGrouping=this.defaultRCAGrouping,_ref2=defaultRCAGrouping||{},id=_ref2.id,name=_ref2.name,criteria=_ref2.criteria,conditions=_ref2.conditions,status=_ref2.status,conditionsArray=this.createCriteriasFromEachCondition(conditions),newRCAGrouping={id:id,name:name,criteria:criteria,conditions:conditionsArray,status:status};this.$emit("groupChanged",newRCAGrouping)},createCriteriasFromEachCondition:function(conditionsObj){var conditionsArray=[],_ref3=conditionsObj||{},conditions=_ref3.conditions;for(var key in conditions){var condition=clone_default()(conditions[key]),_ref4=condition||{},score=_ref4.scoring;delete condition.scoring,conditionsArray.push({criteria:{conditions:{1:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},condition),{},{moduleName:"newreadingalarm"})}},score:score})}return conditionsArray},deleteGroup:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var value,group;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$dialog.confirm({title:"".concat(_this.$t("rule.create.delete_group")),message:"".concat(_this.$t("rule.create.delete_group_confirm")),rbDanger:!0,rbLabel:_this.$t("custommodules.list.delete")});case 2:value=_context.sent,value&&(group=_this.group,_this.$emit("deleteGroup",group));case 4:case"end":return _context.stop()}}),_callee)})))()}}},component_Groupvue_type_script_lang_js=Groupvue_type_script_lang_js,Group_component=(0,componentNormalizer/* default */.Z)(component_Groupvue_type_script_lang_js,Groupvue_type_template_id_3a0e4cc2_scoped_true_render,Groupvue_type_template_id_3a0e4cc2_scoped_true_staticRenderFns,!1,null,"3a0e4cc2",null)
/* harmony default export */,Group=Group_component.exports,Spinner=__webpack_require__(604947),dataSetInterval={"1 Day":864e5,"2 Days":1728e5,"3 Days":2592e5,"4 Days":3456e5,"5 Days":432e6,"6 Days":5184e5,"7 Days":6048e5,"10 Days":864e6,"15 Days":1296e6,"30 Days":2592e6},ruleInterval={"1 Min":6e4,"2 Mins":12e4,"3 Mins":18e4,"4 Mins":24e4,"5 Mins":3e5,"10 Mins":6e5,"15 Mins":9e5,"20 Mins":12e5,"30 Mins":18e5,"1 Hr":36e5,"2 Hr":72e5,"3 Hr":108e5,"4 Hr":144e5,"8 Hr":288e5,"12 Hr":432e5,"1 Day":864e5},groupModel={id:0,name:"",criteria:{},conditions:{},status:!0},RootCausevue_type_script_lang_js={props:["alarmRulesObj","isEditForm","isV2"],components:{NewRootCause:NewRootCause,Group:Group,Spinner:Spinner/* default */.Z},data:function(){return{moduleName:"newreadingalarm",categoryId:null,showAddRootCause:!1,rulesPickList:[],rcaSelectedValues:[],rulesList:[],rcaSelected:[],dataSetInterval:dataSetInterval,ruleInterval:ruleInterval,rcaGroups:[],rca:{dataSetInterval:null,ruleInterval:null,rcaRuleIds:[],groups:[]},isGroupLoading:!1,tippyOptions:{placement:"top",animation:"shift-away",arrow:!0}}},created:function(){this.prefillRCARules()},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({assetCategoryList:function(state){return state.assetCategory}})),watch:{rca:{handler:function(newVal){(0,validation/* isEmpty */.xb)(newVal)||this.$emit("ruleDetailsChange",{rca:newVal})},deep:!0}},methods:{prefillRCARules:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var isEditForm;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:isEditForm=_this.isEditForm,isEditForm&&_this.initRCARules();case 2:case"end":return _context.stop()}}),_callee)})))()},handleClickEvent:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.showAddRootCause=!0,_context2.next=3,_this2.initRCARules();case 3:case"end":return _context2.stop()}}),_callee2)})))()},initRCARules:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var alarmRulesObj,_ref,rca,_ref2,rcaRuleIds;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this3.loadRules();case 2:alarmRulesObj=_this3.alarmRulesObj,_ref=alarmRulesObj||{},rca=_ref.rca,(0,validation/* isEmpty */.xb)(rca)||(_this3.rca=cloneDeep_default()(rca),_ref2=_this3.rca||{},rcaRuleIds=_ref2.rcaRuleIds,(0,validation/* isEmpty */.xb)(rcaRuleIds)||_this3.associateRule(rcaRuleIds));case 5:case"end":return _context3.stop()}}),_callee3)})))()},loadRules:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var alarmRulesObj,_ref3,assetCategory,ruleId,_ref4,assetCategoryId,moduleName,_yield$API$get,data,error,result,rulesList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return alarmRulesObj=_this4.alarmRulesObj,_ref3=alarmRulesObj||{},assetCategory=_ref3.assetCategory,ruleId=_ref3.id,_ref4=assetCategory||{},assetCategoryId=_ref4.id,moduleName=_this4.getCategoryName(assetCategoryId),_context4.next=6,api/* API */.bl.get("v3/readingrule/fetchRules",{moduleName:moduleName});case 6:_yield$API$get=_context4.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this4.$message.error(error.message||"Error Occured"):(result=data.result,_this4.isEditForm?_this4.rulesList=result.filter((function(rule){return rule.id!==ruleId})):_this4.rulesList=result,rulesList=_this4.rulesList,(0,validation/* isEmpty */.xb)(result)||(_this4.rulesPickList=rulesList.map((function(rule){return{label:rule.name,value:rule.id}}))));case 10:case"end":return _context4.stop()}}),_callee4)})))()},associateRule:function(selectedValues){var _this5=this;this.rcaSelectedValues=selectedValues;var rulesList=this.rulesList;this.rcaSelected=[],selectedValues.forEach((function(id){var currRuleList=rulesList.find((function(rule){return rule.id===id}));_this5.rcaSelected.push(currRuleList)})),this.rca.rcaRuleIds=selectedValues},deleteItem:function(rule){var rcaSelected=this.rcaSelected,_rule$row=rule.row,_rule$row2=void 0===_rule$row?{}:_rule$row,id=_rule$row2.id,index=rcaSelected.findIndex((function(deleteRule){return deleteRule.id===id}));this.rcaSelected.splice(index,1),this.rcaSelectedValues.splice(index,1),this.rca.rcaRuleIds=this.rcaSelectedValues},getCategoryName:function(assetCategoryId){var _ref5=this||{},assetCategoryList=_ref5.assetCategoryList;if(assetCategoryId>0&&assetCategoryList){var category=assetCategoryList.find((function(category){return category.id===assetCategoryId}));if(!(0,validation/* isEmpty */.xb)(category)){var _ref6=category||{},moduleName=_ref6.moduleName;return moduleName}}},initGroups:function(){var groupObjectModel=cloneDeep_default()(groupModel),id=(0,uuid.v4)().substring(0,4);groupObjectModel.id=id;var rca=this.rca,_ref7=rca||{},groups=_ref7.groups;(0,validation/* isEmpty */.xb)(groups)&&Array.isArray(groups)&&this.rca.groups.push(groupObjectModel)},groupChanged:function(group){var rca=this.rca,_ref8=rca||[],groups=_ref8.groups,index=groups.findIndex((function(rcaGroup){return rcaGroup.id===group.id}));groups[index]=group,this.$set(this.rca,"groups",cloneDeep_default()(groups))},addGroup:function(){var _this$rca=this.rca,_this$rca2=void 0===_this$rca?{}:_this$rca,groups=_this$rca2.groups;(0,validation/* isEmpty */.xb)(groups)&&(this.rca.dataSetInterval=6048e5,this.rca.ruleInterval=36e5);var groupObjectModel=cloneDeep_default()(groupModel),id=(0,uuid.v4)().substring(0,4);groupObjectModel.id=id,this.rca.groups.push(groupObjectModel)},deleteGroup:function(group){var _this6=this;this.isGroupLoading=!0;var rca=this.rca,_ref9=rca||[],groups=_ref9.groups,index=groups.findIndex((function(rcaGroup){return rcaGroup.id===group.id}));groups.splice(index,1),this.$set(this.rca,"groups",cloneDeep_default()(groups)),this.$nextTick((function(){_this6.isGroupLoading=!1}))},getCategoryDisplayName:function(assetCategoryId){var assetCategoryList=this.assetCategoryList;if(assetCategoryId>0&&Array.isArray(assetCategoryList)){var category=assetCategoryList.find((function(category){return category.id===assetCategoryId}));if(!(0,validation/* isEmpty */.xb)(category)){var _ref10=category||{},displayName=_ref10.displayName;return displayName}}},getCategory:function(rule){var _ref11=rule||{},row=_ref11.row,_ref12=row||{},assetCategory=_ref12.assetCategory,_ref13=assetCategory||{},id=_ref13.id;return this.getCategoryDisplayName(id)}}},component_RootCausevue_type_script_lang_js=RootCausevue_type_script_lang_js,RootCause_component=(0,componentNormalizer/* default */.Z)(component_RootCausevue_type_script_lang_js,RootCausevue_type_template_id_2631ab6a_scoped_true_render,RootCausevue_type_template_id_2631ab6a_scoped_true_staticRenderFns,!1,null,"2631ab6a",null)
/* harmony default export */,RootCause=RootCause_component.exports,ImpactAssociationvue_type_template_id_622b6756_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"section-header",attrs:{id:"impact-header"}},[_vm._v(" "+_vm._s(_vm.$t("rule.create.impact"))+" ")]),_c("div",{staticClass:"p50 pT10 pB30",staticStyle:{"min-height":"450px"}},[_vm.$validation.isEmpty(_vm.selectedImpact)?_c("div",{staticClass:"rule-basic-info-content"},[_c("div",{staticClass:"d-flex flex-direction-column text-center"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/data-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"mT10 empty-text f15 bold"},[_vm._v(" "+_vm._s(_vm.$t("rule.create.impact_not_available"))+" ")]),_c("div",{staticClass:"mT5 empty-text-desc f13"},[_vm._v(" "+_vm._s(_vm.$t("rule.create.no_impact_associated"))+" ")]),_c("div",{staticClass:"inline-block mT20"},[_c("el-button",{staticClass:"pT10 pB10 small-border-btn text-uppercase pL15 pR15",class:{"v2-rules-btn":_vm.isV2},on:{click:function($event){_vm.showAddImpact=!0}}},[_vm._v(_vm._s(_vm.$t("rule.create.add_impact")))])],1)],1)]):_c("div",{staticClass:"root-cause-container"},[_c("div",{staticClass:"flex-center-row-space mB30 mT20"},[_c("div",{staticClass:"desc"},[_vm._v(_vm._s(_vm.$t("rule.create.associated_impact")))])]),_c("el-table",{staticClass:"root-cause-table",staticStyle:{width:"100%"},attrs:{data:_vm.selectedImpactList,fit:!0,border:""}},[_c("el-table-column",{attrs:{label:"S.NO.",width:"100"}},[_vm._v(_vm._s("1")+" ")]),_c("el-table-column",{attrs:{prop:"name",label:_vm.$t("common.products._name")},scopedSlots:_vm._u([{key:"default",fn:function(impact){return[_c("div",{staticClass:"label-txt-black"},[_vm._v(_vm._s(impact.row.name))])]}}])}),_c("el-table-column",{attrs:{prop:"description",label:_vm.$t("common._common.description")},scopedSlots:_vm._u([{key:"default",fn:function(impact){return[_c("div",{staticClass:"label-txt-black"},[_vm._v(" "+_vm._s(_vm.$getProperty(impact,"row.description")||"---")+" ")])]}}])}),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130"},scopedSlots:_vm._u([{key:"default",fn:function(impact){return[_c("div",{staticClass:"text-center"},[_c("i",{staticClass:"el-icon-delete pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true"},on:{click:function($event){return _vm.deleteItem(impact.row)}}})])]}}])})],1)],1)]),_vm.showAddImpact?_c("NewImpact",{attrs:{closeDialog:function(){return _vm.showAddImpact=!1},impactList:_vm.impactList,selectedImpact:_vm.selectedImpact,isV2:_vm.isV2},on:{addImpact:_vm.associateImpact}}):_vm._e()],1)},ImpactAssociationvue_type_template_id_622b6756_staticRenderFns=[],NewImpactvue_type_template_id_808000d4_v_if_loading_render=(__webpack_require__(648324),__webpack_require__(212826),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,"append-to-body":!0,title:_vm.$t("rule.create.add_impact"),"custom-class":"setup-dialog40 fc-dialog-center-container fc-dialog-center-body-p0","before-close":_vm.closeDialog}},[_c("div",{staticClass:"height150 p20"},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100 fc-tag",attrs:{placeholder:"Select Impact","collapse-tags":""},model:{value:_vm.impact,callback:function($$v){_vm.impact=$$v},expression:"impact"}},_vm._l(_vm.impactList,(function(impact){return _c("el-option",{key:impact.value,attrs:{label:impact.label,value:impact.value}})})),1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t("alarm.alarm.cancel")))]),_c("el-button",{ref:"formbuilder",staticClass:"modal-btn-save",on:{click:_vm.addImpact}},[_vm._v(_vm._s(_vm.$t("alarm.alarm.save")))])],1)],1)])}),NewImpactvue_type_template_id_808000d4_v_if_loading_staticRenderFns=[],NewImpactvue_type_script_lang_js={name:"NewImpact",data:function(){return{impact:null,loading:!1}},props:["closeDialog","selectedImpact","impactList","isV2"],mounted:function(){var _this=this;if(this.isV2){var interval=setInterval((function(){_this.$refs.formbuilder&&(_this.addbuttonRef(),clearInterval(interval))}),50);this.loading=!0}else this.loading=!0},methods:{addbuttonRef:function(){this.$refs.formbuilder.$el.classList.value="fc-v2-btn"},addImpact:function(){this.$emit("addImpact",this.impact),this.closeDialog()}}},component_NewImpactvue_type_script_lang_js=NewImpactvue_type_script_lang_js,NewImpact_component=(0,componentNormalizer/* default */.Z)(component_NewImpactvue_type_script_lang_js,NewImpactvue_type_template_id_808000d4_v_if_loading_render,NewImpactvue_type_template_id_808000d4_v_if_loading_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewImpact=NewImpact_component.exports,ImpactAssociationvue_type_script_lang_js={name:"Impact",data:function(){return{selectedImpact:-1,selectedImpactList:[],impactList:[],impactTemplates:[],showAddImpact:!1}},props:["alarmImpactObj","ruleDetail","isV2"],components:{NewImpact:NewImpact},created:function(){this.initImpact()},watch:{selectedImpact:{handler:function(newVal,oldVal){if(newVal!==oldVal){var selectedImpact=this.selectedImpact,impact={id:selectedImpact};this.$emit("ruleDetailsChange",{impact:impact})}},immediate:!0},ruleDetail:{handler:function(newVal,oldVal){var _ref=newVal||{},newAssetCategory=_ref.assetCategory,_ref2=oldVal||{},oldAssetCategory=_ref2.assetCategory;newAssetCategory===oldAssetCategory||(0,utils_validation/* isEmpty */.xb)(newAssetCategory)||this.loadImpact()},deep:!0}},methods:{initImpact:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var alarmImpactObj,_ref3,impact,_ref4,impactId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadImpact();case 2:alarmImpactObj=_this.alarmImpactObj,(0,utils_validation/* isEmpty */.xb)(alarmImpactObj)||(_ref3=alarmImpactObj||{},impact=_ref3.impact,_ref4=impact||{},impactId=_ref4.id,(0,utils_validation/* isEmpty */.xb)(impactId)||(_this.$set(_this,"selectedImpact",impactId),_this.associateImpact(impactId)));case 4:case"end":return _context.stop()}}),_callee)})))()},loadImpact:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var ruleDetail,_ref5,assetCategory,_ref6,id,url,params,_yield$API$get,error,data,_ref7,faultImpact;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loading=!0,ruleDetail=_this2.ruleDetail,_ref5=ruleDetail||{},assetCategory=_ref5.assetCategory,_ref6=assetCategory||{},id=_ref6.id,url="v3/modules/data/list",params={page:1,perPage:50,withCount:!0,viewName:"all",force:!1,moduleName:"faultImpact"},(0,utils_validation/* isEmpty */.xb)(id)||(params=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},params),{},{filters:JSON.stringify({assetCategory:{operatorId:36,value:[id.toString()]}})})),_context2.next=9,api/* API */.bl.get(url,params);case 9:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error("Error Occured"):(_ref7=data||{},faultImpact=_ref7.faultImpact,_this2.impactTemplates=faultImpact,(0,utils_validation/* isEmpty */.xb)(_this2.impactTemplates)||(_this2.impactList=_this2.impactTemplates.map((function(impact){return{label:impact.name,value:impact.id}})))),_this2.loading=!1;case 14:case"end":return _context2.stop()}}),_callee2)})))()},associateImpact:function(selectedValue){var impactTemplates=this.impactTemplates,selectedImpactObj=impactTemplates.find((function(impact){return impact.id===selectedValue}));this.selectedImpactList.push(selectedImpactObj),this.selectedImpact=selectedValue},deleteItem:function(rule){var selectedImpactList=this.selectedImpactList,index=selectedImpactList.findIndex((function(impact){return impact.id===rule.id}));this.selectedImpactList.splice(index,1),this.selectedImpact=-1}}},component_ImpactAssociationvue_type_script_lang_js=ImpactAssociationvue_type_script_lang_js,ImpactAssociation_component=(0,componentNormalizer/* default */.Z)(component_ImpactAssociationvue_type_script_lang_js,ImpactAssociationvue_type_template_id_622b6756_render,ImpactAssociationvue_type_template_id_622b6756_staticRenderFns,!1,null,null,null)
/* harmony default export */,ImpactAssociation=ImpactAssociation_component.exports,RuleMixin=__webpack_require__(977347),ruleValidation=__webpack_require__(990763),router=__webpack_require__(329435),dlv_umd=__webpack_require__(226905),dlv_umd_default=__webpack_require__.n(dlv_umd),AlarmRuleCreationvue_type_script_lang_js={name:"New-SLA",props:["id","rule","isEdit","isV2"],mixins:[SidebarScrollMixin/* default */.Z,RuleMixin/* default */.Z],components:{AsyncButton:AsyncButton/* default */.Z,RuleDetailsForm:RuleDetailsForm,RuleConditions:RuleConditions,AlarmDetails:AlarmDetails,RootCause:RootCause,Impact:ImpactAssociation},mounted:function(){this.$nextTick(this.registerScrollHandler)},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var isEditForm;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:// this.$setProperty(this, 'isEditForm', this.isEdit)
if(isEditForm=_this.isEditForm,!isEditForm){_context.next=5;break}return _context.next=4,_this.prefillRule();case 4:_this.isNew=!1;case 5:case"end":return _context.stop()}}),_callee)})))()},data:function(){return{isLoading:!1,hasChanged:!1,rootElementForScroll:".scroll-container",sidebarElements:["#ruledetails-link","#conditions-link","#alarmdetails-link","#impact-link","#rootcauses-link"],sectionElements:["#ruledetails-section","#conditions-section","#alarmdetails-section","#impact-section","#rootcauses-section"],alarmRules:{},ruleList:[],ruleDetail:{},isNew:!0}},computed:{title:function(){var isNew=this.isNew,title=isNew?this.$t("rule.create.new_alarm_rule"):this.$t("rule.create.edit_alarm_rule");return title},isEditForm:function(){var id=dlv_umd_default()(this,"$route.params.id");return!(0,validation/* isEmpty */.xb)(id)},moduleName:function(){return"newreadingrules"},moduleDisplayName:function(){return"NewReadingRule"},viewname:function(){return this.$route.params.viewname}},watch:{rule:{handler:function(newVal,oldVal){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:newVal!==oldVal&&(_this2.alarmRules=_this2.rule);case 1:case"end":return _context2.stop()}}),_callee2)})))()}}},methods:{save:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var isEditForm,moduleName,isV2,rule,_ref,data,_ref2,id,params,isValidRule,isValidFormula,isValidRca,promise,_yield$promise,newreadingrules,error,_id,_ref3,viewname,$route,_ref4,query,_moduleName,_ref5,name;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(isEditForm=_this3.isEditForm,moduleName=_this3.moduleName,isV2=_this3.isV2,rule=_this3.serializeData(),_ref=rule||{},data=_ref.data,_ref2=data||{},id=_ref2.id,params={data:data},isEditForm&&_this3.$set(params,"id",id),isValidRule=(0,ruleValidation/* validateRule */.fX)(rule,"readingRule"),isValidFormula=(0,ruleValidation/* validateFields */.Of)(rule,"readingRule"),isValidRca=(0,ruleValidation/* validateRca */.vn)(rule),!(isValidRule&&isValidFormula&&isValidRca)){_context3.next=27;break}if(!isEditForm){_context3.next=16;break}return _context3.next=13,api/* API */.bl.updateRecord(moduleName,params);case 13:promise=_context3.sent,_context3.next=19;break;case 16:return _context3.next=18,api/* API */.bl.createRecord(moduleName,params);case 18:promise=_context3.sent;case 19:return _context3.next=21,promise;case 21:_yield$promise=_context3.sent,newreadingrules=_yield$promise.newreadingrules,error=_yield$promise.error,error?_this3.$message.error(error):(_this3.ruleList=newreadingrules,_id=newreadingrules.id,_ref3=_this3||{},viewname=_ref3.viewname,$route=_ref3.$route,_ref4=$route||{},query=_ref4.query,isV2?_this3.$emit("ruleEvent",{moduleName:moduleName,id:_id,viewname:viewname}):(0,router/* isWebTabsEnabled */.tj)()?(_moduleName=_this3.moduleName,_ref5=(0,router/* findRouteForModule */.Jp)(_moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref5.name,name&&_this3.$router.push({name:name,params:{id:_id,viewname:viewname},query:query})):_this3.$router.push({name:"newRulesSummary",params:{id:_id,viewname:viewname},query:query})),_context3.next=28;break;case 27:isValidFormula?isValidRule?_this3.$message.error(_this3.$t("rule.create.invalid_group_configuration")):_this3.$message.error(_this3.$t("rule.create.fill_mandatory_fields")):_this3.$message.error(_this3.$t("rule.create.variables_must_be_unique"));case 28:case"end":return _context3.stop()}}),_callee3)})))()},prefillRule:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var id,params,_yield$API$fetchRecor,newreadingrules;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this4.isLoading=!0,id=dlv_umd_default()(_this4,"$route.params.id"),params={id:id},_context4.prev=3,_context4.next=6,api/* API */.bl.fetchRecord(_this4.moduleName,params);case 6:_yield$API$fetchRecor=_context4.sent,newreadingrules=_yield$API$fetchRecor.newreadingrules,_this4.alarmRules=newreadingrules,_this4.isLoading=!1,_context4.next=15;break;case 12:_context4.prev=12,_context4.t0=_context4["catch"](3),_this4.$message.error(_context4.t0.message);case 15:case"end":return _context4.stop()}}),_callee4,null,[[3,12]])})))()},goBack:function(){this.$emit("closeEditForm",!0),this.$router.go(-1)},setProperties:function(value){this.alarmRules=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.alarmRules),value)},serializeData:function(){var _this5=this,alarmRules=this.alarmRules,_ref6=alarmRules||{},actions=_ref6.actions,alertDownTime=_ref6.alertDownTime,autoCloseWo=_ref6.autoCloseWo,createWo=_ref6.createWo,readingAlarmRuleContexts=_ref6.readingAlarmRuleContexts,ns=_ref6.ns,_ref7=ns||{},fields=_ref7.fields;fields.forEach((function(field){return _this5.sanitizeField(field)})),ns=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},ns),{},{fields:fields}),alarmRules=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},alarmRules),{},{ns:ns});var workflowRulesForAlarms=[];
// severity change and notification actions
// report downtime action
if((0,validation/* isEmpty */.xb)(actions)||(workflowRulesForAlarms=(0,toConsumableArray/* default */.Z)(actions)),alertDownTime){var reportDowntime={actions:[{actionType:22,templateJson:{}}],name:"Report Downtime",event:{moduleName:"newreadingalarm",activityType:1}};readingAlarmRuleContexts?readingAlarmRuleContexts.forEach((function(ruleContext){ruleContext.actions=reportDowntime.actions})):readingAlarmRuleContexts=[reportDowntime]}else readingAlarmRuleContexts=null;
// create and auto close workorder action
createWo&&(workflowRulesForAlarms.push({name:"Create Wo",event:{moduleName:"newreadingalarm",activityType:1},actions:[{actionType:11,templateJson:{}}]}),autoCloseWo&&workflowRulesForAlarms.push({name:"Close Wo",event:{moduleName:"newreadingalarm",activityType:1},actions:[{actionType:12,templateJson:{}}]})),(0,validation/* isEmpty */.xb)(workflowRulesForAlarms)||(alarmRules=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},alarmRules),{},{workflowRulesForAlarms:workflowRulesForAlarms}));var _ref8=alarmRules||{},rca=_ref8.rca;if(!(0,validation/* isEmpty */.xb)(rca)){var _ref9=rca||[],groups=_ref9.groups;groups.forEach((function(group){var _ref10=group||{},id=_ref10.id;("string"===typeof id||id instanceof String)&&delete group.id}))}return{data:alarmRules}},sanitizeField:function(field){var excludeFields=["id","selectedLookupField","type","readingsLoading","readingsInitLoading","canShowLookupWizard","relGroupId","varDataType"];excludeFields.forEach((function(excludeField){return delete(field||{})[excludeField]}))},setRuleDetail:function(rule){this.ruleDetail=Object.assign({},rule)}}},rule_creation_AlarmRuleCreationvue_type_script_lang_js=AlarmRuleCreationvue_type_script_lang_js,AlarmRuleCreation_component=(0,componentNormalizer/* default */.Z)(rule_creation_AlarmRuleCreationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AlarmRuleCreation=AlarmRuleCreation_component.exports},
/***/565476:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SidebarScrollMixin}});
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js
__webpack_require__(450886),__webpack_require__(260228),__webpack_require__(947522);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var render,staticRenderFns,vue_scrollto=__webpack_require__(593081),vue_scrollto_default=__webpack_require__.n(vue_scrollto),SidebarScrollMixinvue_type_script_lang_js={beforeDestroy:function(){var root=document.querySelector(this.rootElementForScroll);root&&root.removeEventListener("scroll",this.scrollhandler)},methods:{registerScrollHandler:function(){var root=document.querySelector(this.rootElementForScroll);root&&root.addEventListener("scroll",this.scrollhandler,{passive:!0})},scrollhandler:function(){var highlightSidebarElement=this.highlightSidebarElement,anchorSectionHeader=this.anchorSectionHeader,deAnchorSectionHeader=this.deAnchorSectionHeader,sectionElements=this.sectionElements,elements=sectionElements.map((function(id){return document.querySelector(id)}));window.requestAnimationFrame((function(){elements.forEach((function(el){var _el$getBoundingClient=el.getBoundingClientRect(),top=_el$getBoundingClient.top,sectionName=el.getAttribute("id").split("-")[0];top<153?anchorSectionHeader(sectionName):deAnchorSectionHeader(sectionName),top<400&&highlightSidebarElement(sectionName)}))}))},scrollTo:function(sectionName){var _this=this,onDone=function(){return _this.highlightSidebarElement(sectionName)};vue_scrollto_default().scrollTo("#".concat(sectionName,"-section"),500,{container:".scroll-container",easing:"ease-in",offset:0,force:!0,onDone:onDone})},highlightSidebarElement:function(sectionName){var sidebarElements=this.sidebarElements,elements=sidebarElements.map((function(e){return document.querySelector(e)}));elements.forEach((function(el){el.getAttribute("id")==="".concat(sectionName,"-link")?el.classList.add("active"):el.classList.remove("active")}))},anchorSectionHeader:function(sectionName){var elements=document.querySelectorAll(".section-header");elements.forEach((function(el){el.getAttribute("id")==="".concat(sectionName,"-header")&&el.classList.add("anchor-top")}))},deAnchorSectionHeader:function(sectionName){var elements=document.querySelectorAll(".section-header");elements.forEach((function(el){el.getAttribute("id")==="".concat(sectionName,"-header")&&el.classList.remove("anchor-top")}))}}},mixins_SidebarScrollMixinvue_type_script_lang_js=SidebarScrollMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(mixins_SidebarScrollMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SidebarScrollMixin=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/45306.js.map