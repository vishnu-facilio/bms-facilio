"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[61153],{
/***/437499:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BaseWidget}});// CONCATENATED MODULE: ./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/BaseWidget.vue?vue&type=script&lang=js
/* harmony default export */var render,staticRenderFns,BaseWidgetvue_type_script_lang_js={methods:{widgetInit:function(){
// widget init base class
}}},HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js=BaseWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_BaseWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BaseWidget=component.exports},
/***/161153:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return SpaceFinder}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomepageWidgetComponents/SpaceFinder.vue?vue&type=template&id=705bb282
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-card",{staticClass:"box-card fc-recently-received-card fc-visit-card"},[_c("div",{staticClass:"fc-visit-header"},[_c("inline-svg",{attrs:{src:"svgs/employeePortal/mybooking",iconClass:"icon text-center icon-md vertical-bottom"}}),_c("div",{staticClass:"fc-portal-title-txt-14 fw5"},[_vm._v(" Plan your next Visit ")])],1),_c("div",{staticClass:"fc-visit-body"},[_c("el-row",[_c("el-col",{staticClass:"fc-portal-border-right fc-card-padding-visit-body",attrs:{span:9}},[_c("div",{staticClass:"fc-grey-10"},[_vm._v("Date")]),_c("div",{staticClass:"fc-portal-txt-16 fw5 fw5 pT5 date-picker-container"},[_c("FDatePicker",{staticClass:"date-picker-lol",attrs:{hideClear:!0,type:"date"},on:{change:_vm.dateChanged},model:{value:_vm.date,callback:function($$v){_vm.date=$$v},expression:"date"}})],1)]),_c("el-col",{staticClass:"fc-card-padding-visit-body",attrs:{span:15}},[_c("div",{staticClass:"fc-grey-10"},[_vm._v("Time")]),_c("div",{staticClass:"fc-portal-txt-16 fw5 fw5 pT5 d-flex"},[_c("div",{staticClass:"time-range-picker-container"},[_c("el-time-select",{staticClass:"start-time-picker",attrs:{placeholder:"Start time","picker-options":{start:"00:00",step:"00:30",end:"23:30"}},model:{value:_vm.timeRange.timeMillis[0],callback:function($$v){_vm.$set(_vm.timeRange.timeMillis,0,$$v)},expression:"timeRange.timeMillis[0]"}}),_c("el-time-select",{staticClass:"end-time-picker",attrs:{placeholder:"End time","picker-options":{start:"00:00",step:"00:30",end:"23:30",minTime:_vm.timeRange.timeMillis[0]}},model:{value:_vm.timeRange.timeMillis[1],callback:function($$v){_vm.$set(_vm.timeRange.timeMillis,1,$$v)},expression:"timeRange.timeMillis[1]"}})],1)])])],1)],1),_c("div",{staticClass:"fc-visit-footer"},[_c("el-button",{staticClass:"fc-visit-footer-btn",on:{click:_vm.findSpace}},[_vm._v(" Find Space ")])],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FDatePicker=(__webpack_require__(879288),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(670560),__webpack_require__(648324),__webpack_require__(358551)),moment=__webpack_require__(730381),moment_default=__webpack_require__.n(moment),router=__webpack_require__(329435),api=__webpack_require__(32284),BaseWidget=__webpack_require__(437499),SpaceFindervue_type_script_lang_js={extends:BaseWidget/* default */.Z,components:{FDatePicker:FDatePicker/* default */.Z},data:function(){return{timeRange:{timeMillis:["9:00","17:00"],
//default 9AM-5PM
timeStrings:["09:00 : AM","05:00 : PM"]},date:moment_default()().startOf("day").valueOf(),floorId:null,floorplanId:null}},mounted:function(){this.getFirstActivePlanFromFloorList()},methods:{toMillis:function(val){var millis=60*Number(val.split(":")[0])*60*1e3+60*Number(val.split(":")[1])*1e3;return millis},dateChanged:function(){this.$emit("input",{startTime:this.date+this.timeRange.timeMillis[0],endTime:this.date+this.timeRange.timeMillis[1]}),this.$emit("change",{startTime:this.date+this.timeRange.timeMillis[0],endTime:this.date+this.timeRange.timeMillis[1]})},findSpace:function(){var _findRouteForTab=(0,router/* findRouteForTab */.OD)(router/* tabTypes */.VF.INDOOR_FLOORPLAN),path=_findRouteForTab.path;
// 'floorplan/floor-map/indoorfloorplan/:floorId?/:floorplanid?'
path&&(path=path.replaceAll(":floorId?",this.floorId),path=path.replaceAll(":floorplanid?",this.floorplanId)),this.$router.push({path:"/employee/".concat(path),query:{viewMode:"BOOKING",date:this.date,startTime:this.toMillis(this.timeRange.timeMillis[0]),endTime:this.toMillis(this.timeRange.timeMillis[1])}})},getFirstActivePlanFromFloorList:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$get,data,error,floorPlanIdFromList,floor;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:
//get first floor with an  active floor plan
return params={viewName:"all",page:1,perPage:1,moduleName:"floor",filters:JSON.stringify({indoorFloorPlanId:{operatorId:2,value:[]}})},_context.next=3,api/* API */.bl.get("v2/module/data/list",params);case 3:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this.$error.message("Error loading all floors",error):(floorPlanIdFromList=data.moduleDatas[0].indoorFloorPlanId,floor=data.moduleDatas[0],_this.floorId=floor.id,_this.floorplanId=floorPlanIdFromList),_this.loading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()}}},HomepageWidgetComponents_SpaceFindervue_type_script_lang_js=SpaceFindervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(HomepageWidgetComponents_SpaceFindervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceFinder=component.exports},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/61153.js.map