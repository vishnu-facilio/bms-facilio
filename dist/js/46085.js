"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[46085],{
/***/570992:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FForm.vue?vue&type=template&id=9efaf436
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isInlineForm?_c("el-form",{ref:"newForm",staticClass:"fc-form",attrs:{"label-position":"top",model:_vm.formModel,rules:_vm.rules},on:{submit:function($event){return $event.preventDefault(),_vm.save.apply(null,arguments)}}},[_c("div",{staticClass:"form-content"},[_vm._t("form",null,{formModel:_vm.formModel})],2)]):_c("el-dialog",{attrs:{visible:_vm.visibilityState,fullscreen:!0,"custom-class":"fc-dialog-form "+_vm.getDialogClass,"show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function($event){_vm.visibilityState=$event},close:_vm.handleClose}},[_c("span",{attrs:{slot:"title"},slot:"title"},[_c("el-row",{staticClass:"form-header"},[_vm._t("header",(function(){return[_c("span",{staticClass:"form-title"},[_vm._v(" "+_vm._s(_vm.title)+" ")])]}))],2)],1),_c("el-form",{ref:"newForm",staticClass:"fc-form",attrs:{"label-position":"top",model:_vm.formModel,rules:_vm.rules},on:{submit:function($event){return $event.preventDefault(),_vm.save.apply(null,arguments)}}},[_c("div",{staticClass:"form-content"},[_vm._t("form",null,{formModel:_vm.formModel})],2)]),_c("div",{staticClass:"modal-dialog-footer"},[_vm._t("footer",(function(){return[_c("button",{staticClass:"modal-btn-cancel",attrs:{type:"button"},on:{click:_vm.close}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"modal-btn-save",attrs:{type:"button"},on:{click:_vm.save}},[_c("span",[_vm._v("Save")])])]}))],2)],1)},staticRenderFns=[],types=(__webpack_require__(976801),["inline","dialog40","dialog50","dialog60"]),FFormvue_type_script_lang_js={props:{title:{type:String,default:""},model:Object,rules:Object,type:{type:String,default:"dialog50",validator:function(val){return types.includes(val)}},size:String},computed:{isInlineForm:function(){return"inline"===this.type},getDialogClass:function(){return this.isInlineForm?"":"fc-"+this.type+"-form"}},data:function(){return{visibilityState:!1,formModel:this.$helpers.cloneObject(this.model)}},methods:{open:function(){this.visibilityState=!0},close:function(){this.visibilityState=!1},handleClose:function(){this.reset(),this.$emit("closed",!0)},getFormModel:function(){return this.formModel},save:function(){this.$emit("save",this.getFormModel())},reset:function(){this.formModel=this.$helpers.cloneObject(this.model)}}},components_FFormvue_type_script_lang_js=FFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FForm=component.exports},
/***/946085:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return SpaceCategories}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/SpaceCategories.vue?vue&type=template&id=673baa9e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.$t("common._common.space_categories"))+" ")]),_c("div",{staticClass:"heading-description"},[_vm._v(" "+_vm._s(_vm.$t("common._common.list_of_all_space_category"))+" ")])]),_c("div",{staticClass:"action-btn setting-page-btn"},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){return _vm.redirectToFormNew()}}},[_vm._v(_vm._s(_vm.$t("common.wo_report.new_category")))])],1)]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout mT30"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_vm.loading?_c("spinner",{attrs:{show:_vm.loading,size:"80"}}):[_c("el-table",{staticClass:"setting-list-view-table",staticStyle:{width:"100%"},attrs:{data:_vm.spaceCategories,"cell-style":{padding:"12px 30px"},"empty-text":_vm.$t("common._common.empty_text"),height:"calc(100vh - 200px)"}},[_c("el-table-column",{attrs:{prop:"name",label:_vm.$t("common.products._name"),width:"200"}}),_c("el-table-column",{attrs:{prop:"description",label:_vm.$t("common.wo_report._description"),width:"200"}}),_c("el-table-column",{attrs:{prop:"commonArea",label:_vm.$t("common._common.is_common_area"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(spacecategory){return[_vm._v(" "+_vm._s(spacecategory.row.commonArea?_vm.$t("common._common.true"):_vm.$t("common._common.false"))+" ")]}}])}),_c("el-table-column",{attrs:{width:"150"},scopedSlots:_vm._u([{key:"default",fn:function(spacecategory){return[_c("div",{staticClass:"d-flex text-center"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.redirectToFormEdit(spacecategory.row.id)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer edit-icon-color visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deleteCategories(spacecategory.row.id)}}})])]}}])})],1)]],2)])]),_c("edit-space-category",{ref:"editSpaceCategory"})],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),EditSpaceCategoryvue_type_template_id_ec9a2a48_render=(__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.spaceCategorymodel?_c("f-form",{ref:"editSpaceCategoryForm",attrs:{type:"dialog40",title:_vm.formTitle,model:_vm.spaceCategorymodel},on:{save:_vm.save},scopedSlots:_vm._u([{key:"form",fn:function(fscope){return[_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Name"},model:{value:fscope.formModel.name,callback:function($$v){_vm.$set(fscope.formModel,"name",$$v)},expression:"fscope.formModel.name"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Description",type:"textarea"},model:{value:fscope.formModel.description,callback:function($$v){_vm.$set(fscope.formModel,"description",$$v)},expression:"fscope.formModel.description"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{staticClass:"form-item mT20",attrs:{span:12}},[_vm._v(" "+_vm._s(_vm.$t("common._common.is_common_area"))+" ")]),_c("el-col",{staticClass:"mT20",attrs:{span:12}},[_c("q-toggle",{attrs:{"float-label":_vm.$t("common._common.is_common_area")},model:{value:fscope.formModel.commonArea,callback:function($$v){_vm.$set(fscope.formModel,"commonArea",$$v)},expression:"fscope.formModel.commonArea"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}})],1)]}}],null,!1,445978781)}):_vm._e()}),EditSpaceCategoryvue_type_template_id_ec9a2a48_staticRenderFns=[],quasar_esm=__webpack_require__(641358),FForm=__webpack_require__(570992),EditSpaceCategoryvue_type_script_lang_js={props:["data"],components:{QInput:quasar_esm/* QInput */.Ke,FForm:FForm/* default */.Z,QToggle:quasar_esm/* QToggle */.Sr},data:function(){return{formTitle:"Edit Category",spaceCategorymodel:null}},created:function(){this.$store.dispatch("loadSpaceCategory")},methods:{open:function(spaceCategory){var self=this;this.spaceCategorymodel=spaceCategory,this.$nextTick((function(){self.$refs.editSpaceCategoryForm.open()}))},close:function(){this.$refs.editSpaceCategoryForm.close()},save:function(){var formModel=this.$refs.editSpaceCategoryForm.getFormModel(),self=this;self.$http.post("/spacecategory/update",{spaceCategory:formModel,spaceCategoryIds:[formModel.id]}).then((function(response){response.data;self.$message.success(this.$t("common._common.space_category_updated_success")),self.close()}))}}},setup_EditSpaceCategoryvue_type_script_lang_js=EditSpaceCategoryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(setup_EditSpaceCategoryvue_type_script_lang_js,EditSpaceCategoryvue_type_template_id_ec9a2a48_render,EditSpaceCategoryvue_type_template_id_ec9a2a48_staticRenderFns,!1,null,null,null)
/* harmony default export */,EditSpaceCategory=component.exports,api=__webpack_require__(32284),SpaceCategoriesvue_type_script_lang_js={title:function(){return"Space Category"},components:{EditSpaceCategory:EditSpaceCategory},data:function(){return{loading:!1,spaceCategories:[]}},created:function(){this.loadSpaceCategories()},methods:{redirectToFormNew:function(){this.$router.push({name:"space-categories-new"})},redirectToFormEdit:function(id){this.$router.push({name:"space-categories-edit",params:{id:id}})},loadSpaceCategories:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$fetchAll,list,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,api/* API */.bl.fetchAll("spacecategory",{page:1,perPage:5e3,withCount:!0});case 3:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,error?_this.$message.error(_this.$t("common._common.could_not_fetch_module")):_this.spaceCategories=list,_this.loading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},deleteCategories:function(id){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var value,_yield$API$deleteReco,error,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.$dialog.confirm({title:_this2.$t("common.wo_report.delete_space_category_title"),message:_this2.$t("common.header.are_you_sure_you_want_to_delete_this_spacecategory"),rbDanger:!0,rbLabel:_this2.$t("common._common.delete")});case 2:if(value=_context2.sent,!value){_context2.next=9;break}return _context2.next=6,api/* API */.bl.deleteRecord("spacecategory",id);case 6:_yield$API$deleteReco=_context2.sent,error=_yield$API$deleteReco.error,error?_this2.$message.error(error.message||_this2.$t("common._common.error_occured")):(index=_this2.spaceCategories.findIndex((function(spaceCategory){return spaceCategory.id===id})),index>=0&&_this2.spaceCategories.splice(index,1),_this2.$message.success(_this2.$t("common._common.spacecategory_deleted_successfully")));case 9:case"end":return _context2.stop()}}),_callee2)})))()}}},setup_SpaceCategoriesvue_type_script_lang_js=SpaceCategoriesvue_type_script_lang_js,SpaceCategories_component=(0,componentNormalizer/* default */.Z)(setup_SpaceCategoriesvue_type_script_lang_js,render,staticRenderFns,!1,null,"673baa9e",null)
/* harmony default export */,SpaceCategories=SpaceCategories_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/46085.js.map