"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[82612],{
/***/479374:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type1_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/kpi/type1/Config.vue?vue&type=template&id=cc3b4082
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30"},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"KPI Layout")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section config-panel panel-scroll"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.builder_title"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew},on:{change:function($event){_vm.cardStateObj.expression.name=_vm.cardDataObj.title}},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common._common.type"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_period")},on:{change:function($event){_vm.setDateRange,_vm.typeChange=!0}},model:{value:_vm.cardDataObj.kpiType,callback:function($$v){_vm.$set(_vm.cardDataObj,"kpiType",$$v)},expression:"cardDataObj.kpiType"}},[_vm._l(_vm.kpiTypes,(function(value,key){return[_c("el-option",{key:key,attrs:{label:key,value:value}})]}))],2)],1)],1)],1),"reading"===_vm.cardDataObj.kpiType?[_c("ReadingKpiPicker",{attrs:{initialReading:_vm.cardDataObj.kpi,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("kpi",reading)}}}),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.period"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_period")},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1)],1)]:[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10"},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.products.choose_module"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{filterable:"",placeholder:_vm.$t("common.header.please_select_a_module")},on:{change:_vm.onModuleChange},model:{value:_vm.cardDataObj.moduleName,callback:function($$v){_vm.$set(_vm.cardDataObj,"moduleName",$$v)},expression:"cardDataObj.moduleName"}},[_vm._l(_vm.Moduleobj,(function(mod,index){return[_c("el-option",{key:index,attrs:{label:mod.displayName,value:mod.name}})]}))],2)],1)],1),_c("el-col",{attrs:{span:24}},[_c("ReadingKpiPicker",{attrs:{type:"moduleKPI",initialReading:_vm.cardDataObj.kpi,moduleId:_vm.kpiModuleId,clearData:_vm.typeChange},on:{onModuleKpiSelect:function(moduleKpi){return _vm.handleModuleKpi(moduleKpi)},onReadingSelect:function(reading){return _vm.setReading("kpi",reading)}}})],1),_vm.cardDataObj.dateRange?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.period"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_period")},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1):_vm._e(),_c("el-col",{attrs:{span:22}},[_c("el-form-item",{staticClass:"mB10"},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common._common.sub_text"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew,clearable:""},model:{value:_vm.cardDataObj.subText,callback:function($$v){_vm.$set(_vm.cardDataObj,"subText",$$v)},expression:"cardDataObj.subText"}})],1)],1),_c("el-col",{attrs:{span:2}},[_c("el-form-item",{staticClass:"mB10 mT25"},[_c("p",{staticClass:"fc-input-label-txt pB5"}),_c("el-popover",{attrs:{placement:"right",width:"250",trigger:"click","popper-class":"f-popover"},model:{value:_vm.showInsertVariablePopover,callback:function($$v){_vm.showInsertVariablePopover=$$v},expression:"showInsertVariablePopover"}},[_c("div",{staticClass:"graphics-insert-variable-container"},[_c("div",{staticClass:"graphics-insert-variable-title"},[_vm._v(" "+_vm._s(_vm.$t("common.products.insert_variable"))+" ")]),_c("div",{staticClass:"graphics-insert-variable-filter"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.filter_variables")},model:{value:_vm.filterVariablesInput,callback:function($$v){_vm.filterVariablesInput=$$v},expression:"filterVariablesInput"}})],1),_vm.previewData.value.fields?_c("div",{staticClass:"graphics-insert-variable-list"},[_c("ul",_vm._l(_vm.previewData.value.fields.filter((function(v){return!_vm.filterVariablesInput||v.name.toLowerCase().indexOf(_vm.filterVariablesInput.toLowerCase())>=0})),(function(v,index){return _c("li",{key:index,on:{click:function($event){_vm.cardDataObj.subText=_vm.cardDataObj.subText+" ${"+v.name+"}",_vm.showInsertVariablePopover=!1}}},[_vm._v(" "+_vm._s(v.displayName)+" ")])})),0)]):_vm._e()]),_c("el-tooltip",{staticClass:"item",attrs:{slot:"reference",effect:"dark",content:_vm.$t("common.products.insert_variable"),placement:"top"},slot:"reference"},[_c("el-button",{staticStyle:{padding:"2px 8px","font-size":"24px"},attrs:{icon:"el-icon-s-order",type:"text"}})],1)],1)],1)],1)],1)]],2),_c("el-tab-pane",{attrs:{label:_vm.$t("common.products.styles"),name:"styles"}},[_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"primaryColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.primary_text"))+" ")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"primaryColor"+_vm.cardStateObj.styles.primaryColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.primaryColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"primaryColor",$$v)},expression:"cardStateObj.styles.primaryColor"}})],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"secondaryColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.secondary_text"))+" ")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"secondaryColor"+_vm.cardStateObj.styles.secondaryColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.secondaryColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"secondaryColor",$$v)},expression:"cardStateObj.styles.secondaryColor"}})],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.products.background_color"))+" ")]),_c("div",{staticClass:"d-flex mT5 card-color-container fc-color-picker"},[_c("el-color-picker",{key:"backgroundColor"+_vm.cardStateObj.styles.backgroundColor,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.backgroundColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"backgroundColor",$$v)},expression:"cardStateObj.styles.backgroundColor"}})],1)])],1)],1),_c("el-row",{staticClass:"mB10 mT20"},[_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.products.decimal_place"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_decimal_place")},model:{value:_vm.cardStateObj.styles.decimalPlace,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"decimalPlace",$$v)},expression:"cardStateObj.styles.decimalPlace"}},[_vm._l(_vm.decimalPlaces,(function(value,key){return[_c("el-option",{key:key,attrs:{label:key,value:value}})]}))],2)],1)],1),_c("el-col",{attrs:{span:16}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"backgroundColor"}},[_c("unit-picker",{staticClass:"pL10",attrs:{unitConfig:_vm.cardStateObj.styles.unitConfig}})],1)],1)],1)],1),_c("el-tab-pane",{attrs:{label:_vm.$t("common.products.actions"),name:"actions"}},[_vm.cardActionsMount?_c("ActionPicker",{ref:"action-picker",attrs:{definedActionTypes:_vm.definedActionTypes,variables:_vm.variables,moduleName:_vm.cardDataObj.moduleName,elements:[{name:"default",displayName:"None"}]},model:{value:_vm.cardActions,callback:function($$v){_vm.cardActions=$$v},expression:"cardActions"}},[_c("template",{slot:"element-title"},[_c("div",{staticClass:"pT15"})])],2):_vm._e()],1),_c("el-tab-pane",{attrs:{label:_vm.$t("common.wo_report.formatting"),name:"conditionalformatting"}},[_c("div",{staticClass:"card-builder-criteria-block"},[_c("ConditionalFormating",{ref:"conditional-formatting",attrs:{variables:_vm.conditionalVariables,cardData:_vm.previewData,cardStyles:_vm.cardStateObj.styles},model:{value:_vm.conditionalFormatting,callback:function($$v){_vm.conditionalFormatting=$$v},expression:"conditionalFormatting"}})],1)]),_vm.nameSpaces.length?_c("el-tab-pane",{attrs:{label:"CUSTOM SCRIPT"}},[_c("div",{staticClass:"p10"},[_c("el-checkbox",{on:{change:function($event){return _vm.changescriptModeInt()}},model:{value:_vm.enableBoxchecked,callback:function($$v){_vm.enableBoxchecked=$$v},expression:"enableBoxchecked"}},[_vm._v("Enable Custom Script")]),1==_vm.enableBoxchecked?_c("div",{staticClass:"mT30"},[_vm.nameSpaces.length?_c("div",[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Select Function ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please Select a Script"},model:{value:_vm.customScriptId,callback:function($$v){_vm.customScriptId=$$v},expression:"customScriptId"}},_vm._l(_vm.nameSpaces,(function(nameSpace,index){return _c("el-option-group",{key:index,attrs:{label:nameSpace.name}},_vm._l(nameSpace.functions,(function(func,index){return _c("el-option",{key:index,attrs:{label:func.name,value:func.id}})})),1)})),1)],1):_c("div",{staticClass:"fc-input-label-txt mT30"},[_vm._v(" No functions available. Kindly add some functions and check. ")])]):_vm._e()],1)]):_vm._e()],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,isLoading:_vm.isPreviewLoading,cardParams:_vm.cardDataObj}})],1)])]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v(_vm._s(_vm.$t("common._common._save")))])],1)])},staticRenderFns=[],defineProperty=__webpack_require__(482482),createForOfIteratorHelper=__webpack_require__(566347),regeneratorRuntime=__webpack_require__(150124),toConsumableArray=__webpack_require__(488478),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(634338),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(947522),__webpack_require__(186466),__webpack_require__(670560),__webpack_require__(420629)),NewDateHelper=__webpack_require__(105534),Config=__webpack_require__(760184),Card=__webpack_require__(710612),card_constants=__webpack_require__(806186),KpiReadingPicker=__webpack_require__(636783),api=__webpack_require__(32284),validation=__webpack_require__(990260),isString=__webpack_require__(747037),isString_default=__webpack_require__.n(isString),Configvue_type_script_lang_js={name:"KpiCard1",extends:Config/* default */.Z,components:{Card:Card/* default */.Z,ReadingKpiPicker:KpiReadingPicker/* default */.Z},data:function(){return{typeChange:!1,Moduleobj:[],cardLayout:"kpicard_layout_1",kpiTypes:card_constants/* kpiTypes */.Gy,showInsertVariablePopover:!1,filterVariablesInput:"",cardActionsMount:!0,moduleKpi:[],resourceProps:["title","kpiType","kpi",{prop:"kpi",resourceProps:["kpiId","yAggr"]},"dateRange","subText","moduleName"],readingTypes:{Asset:"asset",Space:"space"},modules:[{label:"Maintenance",moduleName:"workorder",license:"MAINTENANCE"},{label:"FDD",moduleName:this.$helpers.isLicenseEnabled("NEW_ALARMS")?"newreadingalarm":"alarm",license:"ALARMS"},{label:"Building performance",moduleName:"energydata",license:"ENERGY"},{label:"Asset",moduleName:"asset",license:"SPACE_ASSET"},{label:"Inventory Request",moduleName:"inventoryrequest",list:[],expand:!1,license:"INVENTORY"},{label:"Item",moduleName:"item",list:[],expand:!1,license:"INVENTORY"},{label:"Contracts",moduleName:"contracts",list:[],expand:!1,license:"CONTRACT"},{label:"Purchaseorder",moduleName:"purchaseorder",list:[],expand:!1,license:"PURCHASE"},{label:"Purchaserequest",moduleName:"purchaserequest",list:[],expand:!1,license:"PURCHASE"},{label:"Visit",moduleName:"visitorlog",list:[],expand:!1,license:"VISITOR"},{label:"contact",moduleName:"contact",list:[],expand:!1,license:"VISITOR"},{label:"Watchlist",moduleName:"watchlist",list:[],expand:!1,license:"VISITOR"},{label:"Visitor",moduleName:"visitor",list:[],expand:!1,license:"VISITOR"}],metrics:[],kpiList:[],cardStateObj:{canResize:!0,styles:{primaryColor:"#110d24",secondaryColor:"#969caf",backgroundColor:"#FFF",decimalPlace:-1,unitConfig:{unit:null,position:2}},modulekpi:{moduleName:null,kpiId:null},expression:{name:"test",aggr:3,metricId:-1,moduleName:"workorder",siteId:null,dateOperator:22,dateValue:"".concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[1]," "),dateFieldId:null,criteria:{pattern:"(1)",conditions:{1:{fieldName:"__vue_devtool_undefined__",value:"__vue_devtool_undefined__",columnName:"__vue_devtool_undefined__",operatorId:-1}},resourceOperator:!1}}},cardActions:{default:{actionType:"none"}},cardDataObj:{title:"",kpiType:"reading",reading:{parentType:"asset",assetCategory:null,kpiId:null},kpi:null,moduleName:null,moduleId:null,dateRange:"Today",aggr:"avg",subText:""},kpiModule:{moduleName:null,expression:{},aggregateString:"count"},toggleMetricAggregation:!1,timeFields:[],aggregateFunctions:card_constants/* aggregateFunctions */.rD,dateOperators:card_constants/* dateOperators */._M}},created:function(){this.$store.dispatch("loadAssetCategory"),this.loadModules()},mounted:function(){this.validationCheck(),this.getKpiList(),this.loadModuleFields()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({assetCategory:function(state){return state.assetCategory},sites:function(state){return state.sites}})),{},{kpiModuleId:function(){var _this=this;if(this.Moduleobj&&this.Moduleobj.length){var kpiModule=this.Moduleobj.find((function(rt){return rt.name===_this.cardDataObj.moduleName}));if(null!==kpiModule&&void 0!==kpiModule&&kpiModule.moduleId)return kpiModule.moduleId}return null},definedActionTypes:function(){var type=this.cardDataObj.kpiType;return"reading"===type?["hyperLink","controlAction","none","showTrend","showReport"]:["hyperLink","controlAction","none","showListView","showReport"]},AssetFilteredKpiList:function(){var _this2=this;return"asset"===this.cardDataObj.reading.parentType?this.kpiList.filter((function(rt){return rt.assetCategoryId===_this2.cardDataObj.reading.assetCategory})):this.kpiList},metric:function(){var _this3=this;return this.data&&this.cardStateObj.expression.aggr?this.metrics.find((function(rt){return rt.id===_this3.cardStateObj.expression.metricId})):this.metrics.length?this.metrics[0]:null},variables:function(){var variables=this.previewData.variables;return variables||[]}}),methods:{validationCheck:function(){var operatorId=this.$getProperty(this,"cardStateObj.expression.criteria.conditions.1.operatorId",null);"__vue_devtool_undefined__"===operatorId&&(this.cardStateObj.expression.criteria.conditions[1].operatorId=-1);var decimalPlace=this.$getProperty(this,"cardStateObj.styles.decimalPlace",null);"Auto"===decimalPlace&&(this.cardStateObj.styles.decimalPlace=-1)},loadModules:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var url,_yield$API$get,error,data,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return url="/v3/modules/list/all",_context.next=3,api/* API */.bl.get(url);case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(message=error.message,_this4.$message.error(message)):Object.values(data).forEach((function(value){var _this4$Moduleobj;(_this4$Moduleobj=_this4.Moduleobj).push.apply(_this4$Moduleobj,(0,toConsumableArray/* default */.Z)(value))}));case 7:case"end":return _context.stop()}}),_callee)})))()},getCardActions:function(){},setDateRange:function(){var _this$cardDataObj,_this5=this,type=this.cardDataObj.kpiType;"reading"===type?(this.cardDataObj.dateRange=null!==this&&void 0!==this&&null!==(_this$cardDataObj=this.cardDataObj)&&void 0!==_this$cardDataObj&&_this$cardDataObj.dateRange?this.cardDataObj.dateRange:"Today",this.cardActions={default:{actionType:"showTrend"}}):this.cardActions={default:{actionType:"showListView",data:{target:"popup"}}};this.cardActionsMount=!1,setTimeout((function(){_this5.cardActionsMount=!0}),500)},serializeProperty:function(prop,data){if("kpi"===prop)return data.kpi},customValidation:function(){var _cardDataObj$kpi,cardDataObj=this.cardDataObj;return!!(null!==cardDataObj&&void 0!==cardDataObj&&null!==(_cardDataObj$kpi=cardDataObj.kpi)&&void 0!==_cardDataObj$kpi&&_cardDataObj$kpi.kpiId||cardDataObj.kpis.length>0)||(this.$message.error("Please select kpi"),!1)},validateProperty:function(){return{kpi:function(data){var kpi=data.kpi;return!(void 0!==kpi&&!(0,validation/* isEmpty */.xb)(kpi))},dateRange:function(){return!1},subText:function(){return!1},moduleName:function(){return!1}}},onModuleChange:function(){var _this6=this;if(this.cardDataObj.moduleName){var moduleRecord=this.Moduleobj.find((function(m){return m.name==_this6.cardDataObj.moduleName}));moduleRecord&&(this.cardDataObj.moduleId=moduleRecord.moduleId)}},handleModuleKpi:function(moduleKpiObj){moduleKpiObj&&moduleKpiObj.id&&moduleKpiObj.dateOperator&&moduleKpiObj.dateOperator>0&&(this.cardDataObj.dateRange=this.dateOperators.find((function(rl){return rl.enumValue===moduleKpiObj.dateOperator})).value)},addKpi:function(){var _this7=this;this.$http.post("/v2/kpi/module/addOrUpdate",{kpi:this.cardStateObj.expression}).then((function(response){_this7.setKpiResult(response.data.result)}))},setKpiResult:function(result){if(result.kpi){var kpi=result.kpi,obj={kpiId:kpi.id,yAggr:this.aggregateFunctions.find((function(rt){return rt.enumValue===kpi.aggr})).value};this.$set(this.cardDataObj,"kpi",obj),this.getData()}},setDateValue:function(){this.cardStateObj.expression.dateValue="".concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[1]," ")},setMetricAggregation:function(agg){this.cardStateObj.expression.aggr=agg.enumValue,this.toggleMetricAggregation=!1},getModuleObject:function(moduleMetaObject){this.moduleMetaObject=moduleMetaObject},getCriteria:function(criteria){this.cardStateObj.expression.criteria=criteria},showMetricAggregation:function(metric){return!metric||!metric.defaultMetric||(this.toggleMetricAggregation=!1,!1)},loadModuleFields:function(){var _this8=this;this.loading=!0,this.$http.post("/v2/report/getReportFields",{moduleName:this.cardStateObj.expression.moduleName}).then((function(response){_this8.prepareMetrics(response.data.result),_this8.getTimeFields(response.data.result),_this8.loading=!1}))},getTimeFields:function(result){result.meta&&result.meta.dimension&&result.meta.dimension.time&&(this.timeFields=result.meta.dimension.time)},prepareMetrics:function(result){var _this9=this;if(this.metrics=[],result&&result.meta&&result.meta.metrics){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(result.meta.metrics);try{for(_iterator.s();!(_step=_iterator.n()).done;){var metric=_step.value;"actualWorkDuration"===metric.name&&(metric.displayName="Work Duration"),this.metrics.push(metric)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var defaultMetric={};defaultMetric["displayName"]="Number of "+this.modules.find((function(rt){return rt.moduleName===_this9.cardStateObj.expression.moduleName})).label+"s",defaultMetric["defaultMetric"]=!0,defaultMetric["fieldId"]=-1,defaultMetric["name"]="count",defaultMetric["id"]=-1,this.metrics.push(defaultMetric)}},getKpiList:function(){var _this10=this,url="/v2/kpi/list?type=1&";this.$http.get(url).then((function(_ref){var data=_ref.data;0===data.responseCode&&(_this10.kpiList=data.result.formulaList)}))},setReading:function(prop,reading){var cardDataObj=this.cardDataObj,kpiId=reading.kpiId;if("reading"===(null===cardDataObj||void 0===cardDataObj?void 0:cardDataObj.kpiType)){var readingNew=this.$helpers.cloneObject(reading),_kpiId=readingNew.kpiId;isString_default()(_kpiId)&&(readingNew.kpiId=parseInt(_kpiId.split("_")[0])),this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,readingNew)))}else this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,reading)));this.$set(reading,"kpiId",kpiId),this.setConditionalVariables(reading)}}},type1_Configvue_type_script_lang_js=Configvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type1_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type1_Config=component.exports},
/***/182612:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type7_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type7/Config.vue?vue&type=template&id=0747b3ec&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30"},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"KPI Layout")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section config-panel panel-scroll"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{staticClass:"pR10",attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Title")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:_vm.isNew},on:{change:function($event){_vm.cardStateObj.expression.name=_vm.cardDataObj.title}},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{staticClass:"pR10",attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Type")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},on:{change:function($event){_vm.setDateRange,_vm.typeChange=!0}},model:{value:_vm.cardDataObj.kpiType,callback:function($$v){_vm.$set(_vm.cardDataObj,"kpiType",$$v)},expression:"cardDataObj.kpiType"}},[_vm._l(_vm.kpiTypes,(function(value,key){return[_c("el-option",{key:key,attrs:{label:key,value:value}})]}))],2)],1)],1)],1),"reading"===_vm.cardDataObj.kpiType?[_c("kpi-reading-picker",{attrs:{initialReading:_vm.cardDataObj.kpis,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("kpis",reading)}}})]:[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("kpi-reading-picker",{attrs:{type:"moduleKPI",initialReading:_vm.cardDataObj.kpis,clearData:_vm.typeChange},on:{onModuleKpiSelect:function(moduleKpi){return _vm.handleModuleKpi(moduleKpi)},onReadingSelect:function(reading){return _vm.setReading("kpis",reading)}}})],1)],1)],_c("el-row",{staticClass:"mB20",attrs:{gutter:20}},[[_vm.safeLimitTypes.MAX,_vm.safeLimitTypes.BETWEEN].includes(_vm.cardDataObj.safeLimitType)?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"maxSafeLimitType"}},[_c("div",{staticClass:"fc-text-pink2 pB5"},[_vm._v(" Maximum ")]),_c("div",{},[_c("div",{staticClass:"width100 pR10"},[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.maxSafeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitType",$$v)},expression:"cardDataObj.maxSafeLimitType"}},[_c("el-option",{attrs:{label:"KPI",value:"kpi"}}),_c("el-option",{attrs:{label:"Constant",value:"constant"}})],1)],1),"constant"===_vm.cardDataObj.maxSafeLimitType?_c("div",{staticClass:"width100 pR10"},[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the maximum value"},model:{value:_vm.cardDataObj.maxSafeLimitConstant,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitConstant",$$v)},expression:"cardDataObj.maxSafeLimitConstant"}})],1):_c("div",{staticClass:"width100"},["reading"===_vm.cardDataObj.kpiType?[_c("kpi-single-reading-picker",{key:_vm.cardDataObj.kpiType,attrs:{initialReading:_vm.cardDataObj.maxSafeLimitKpi,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("maxSafeLimitKpi",reading)}}})]:[_c("kpi-single-reading-picker",{key:_vm.cardDataObj.kpiType,attrs:{type:"moduleKPI",initialReading:_vm.cardDataObj.maxSafeLimitKpi,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("maxSafeLimitKpi",reading)}}})]],2)])])],1):_vm._e()],1),_c("el-row",{staticClass:"mB20 pR10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10"},[_c("div",{staticClass:"fc-text-pink2 pB5"},[_vm._v(" Center Text ")]),_c("div",{},[_c("div",{staticClass:"width100"},[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.centerTextType,callback:function($$v){_vm.$set(_vm.cardDataObj,"centerTextType",$$v)},expression:"cardDataObj.centerTextType"}},[_c("el-option",{attrs:{label:"KPI",value:"kpi"}}),_c("el-option",{attrs:{label:"Text",value:"text"}})],1)],1),"text"===_vm.cardDataObj.centerTextType?_c("div",{staticClass:"width100 pT10"},[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the center text"},model:{value:_vm.cardDataObj.centerText,callback:function($$v){_vm.$set(_vm.cardDataObj,"centerText",$$v)},expression:"cardDataObj.centerText"}})],1):_c("div",{staticClass:"width100"},["reading"===_vm.cardDataObj.kpiType?[_c("kpi-single-reading-picker",{key:_vm.cardDataObj.kpiType,attrs:{initialReading:_vm.cardDataObj.centerTextKpi,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("centerTextKpi",reading)}}})]:[_c("kpi-single-reading-picker",{key:_vm.cardDataObj.kpiType,attrs:{type:"moduleKPI",initialReading:_vm.cardDataObj.centerTextKpi,clearData:_vm.typeChange},on:{onReadingSelect:function(reading){return _vm.setReading("centerTextKpi",reading)}}})]],2)])])],1)],1)],2),_vm.showstyle?_c("el-tab-pane",{staticClass:"styleScroll",attrs:{label:"Styles",name:"styles"}},[_c("el-row",{staticClass:"mB30 pT20"},[_c("el-col",{staticClass:"flex-middle pT5 pL5",attrs:{span:10}},[_c("div",[_c("el-checkbox",{model:{value:_vm.cardStateObj.styles.showPathtext,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"showPathtext",$$v)},expression:"cardStateObj.styles.showPathtext"}})],1),_c("div",{staticClass:"fc-input-label-txt pB0 pL10"},[_vm._v("Show data label")])]),_c("el-col",{staticClass:"flex-middle dashboard-color-picker",attrs:{span:14}},[_c("el-color-picker",{key:"centercolor",attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.gaugeCenterColors.pathColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles.gaugeCenterColors,"pathColor",$$v)},expression:"cardStateObj.styles.gaugeCenterColors.pathColor"}}),_c("div",{staticClass:"fc-input-label-txt pB0 pL10"},[_vm._v(" Center background color ")])],1),_c("el-col",{staticClass:"flex-middle dashboard-color-picker pT20",attrs:{span:14}},[_c("el-color-picker",{key:"centerText",attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.gaugeCenterColors.textColor,callback:function($$v){_vm.$set(_vm.cardStateObj.styles.gaugeCenterColors,"textColor",$$v)},expression:"cardStateObj.styles.gaugeCenterColors.textColor"}}),_c("div",{staticClass:"fc-input-label-txt pB0 pL5"},[_vm._v(" Center Text color ")])],1)],1),_vm.cardDataObj.kpis.length?_c("el-row",{staticClass:"mB30",attrs:{gutter:20}},[_c("el-col",{staticClass:"mB10",attrs:{span:8}},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v("Name")])]),_c("el-col",{staticClass:"mB10",attrs:{span:4}},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v("Colors")])]),_c("el-col",{staticClass:"mB10",attrs:{span:5}},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v("Text color")])])],1):_vm._e(),_vm._l(_vm.cardDataObj.kpis,(function(color,index){return _c("el-row",{key:index,staticClass:"mB30",attrs:{gutter:20}},[_c("el-col",{staticClass:"mB10",attrs:{span:8}},[_vm._v(" "+_vm._s(color.label)+" ")]),_c("el-col",{staticClass:"mB10 dashboard-color-picker",attrs:{span:4}},[_c("el-color-picker",{key:index+"-color",attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:color.pathColor,callback:function($$v){_vm.$set(color,"pathColor",$$v)},expression:"color.pathColor"}})],1),_c("el-col",{staticClass:"mB10 dashboard-color-picker",attrs:{span:5}},[_c("el-color-picker",{key:index+"-textColor",attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:color.textColor,callback:function($$v){_vm.$set(color,"textColor",$$v)},expression:"color.textColor"}})],1)],1)}))],2):_vm._e()],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,isLoading:_vm.isPreviewLoading,cardParams:_vm.cardDataObj,editMode:!0}})],1)])]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Save")])],1)])},staticRenderFns=[],defineProperty=__webpack_require__(482482),createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(634338),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(420629)),NewDateHelper=__webpack_require__(105534),Config=__webpack_require__(479374),Card=__webpack_require__(992107),KpiReadingPicker=__webpack_require__(636783),card_constants=__webpack_require__(806186),KpiMultiReadingPickervue_type_template_id_6e69607d_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm._m(0),"moduleKPI"===_vm.type?_c("div",{staticClass:"text-right"},[_c("el-button",{staticClass:"fc-add-border-green-btn text-uppercase mB20 mR10",on:{click:function($event){_vm.canShow=!0}}},[_c("i",{staticClass:"el-icon-plus fwBold"}),_vm._v(" "+_vm._s(_vm.$t("common.header.add_new_kpi"))+" ")])],1):_vm._e(),_c("div",{staticClass:"position-relative"},_vm._l(_vm.kpidata,(function(kpi,index){return _c("el-row",{key:index+"row",staticClass:"row  kpi-multi-reading-border",class:{mb70:index===_vm.kpidata.length-1,mB10:index!==_vm.kpidata.length-1},staticStyle:{width:"98% !important"}},["moduleKPI"===_vm.type?_c("el-col",{staticClass:" width100x`",attrs:{span:24}},[_c("el-form-item",[_c("el-col",{staticClass:"p0",attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.products.choose_kpi"))+" ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_kpi")},on:{change:function($event){return _vm.emitReading(index)}},model:{value:kpi.kpiId,callback:function($$v){_vm.$set(kpi,"kpiId",$$v)},expression:"kpi.kpiId"}},[_vm._l(_vm.moduleKPI,(function(kpi,index){return[_c("el-option",{key:index,attrs:{label:kpi.name,value:kpi.id}})]}))],2),_vm.$validation.isEmpty(kpi.kpiId)?_vm._e():_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer mT13 position-absolute",staticStyle:{right:"35px"},attrs:{"data-arrow":"true",title:_vm.$t("common.header.edit_select_kpi")},on:{click:function($event){return _vm.editKPI(kpi)}}})],1)],1)],1),_c("el-form-item",{staticClass:"mB10"},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.label"))+" ")]),_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:_vm.$t("common._common.enter_the_label")},on:{change:_vm.emitReading},model:{value:kpi.label,callback:function($$v){_vm.$set(kpi,"label",$$v)},expression:"kpi.label"}})],1)],1)],1)],1):_c("el-col",{staticClass:"width100",attrs:{span:24}},[_c("el-form-item",[_c("el-col",{staticClass:"p0",attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.kpi_category"))+" ")]),_vm.categoryLoading?_c("div",[_c("FieldLoader",{attrs:{isLoading:!0}})],1):_c("div",[_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_kpi_category")},on:{change:function(){return _vm.emptyKpiAndAsset(index)}},model:{value:kpi.categoryId,callback:function($$v){_vm.$set(kpi,"categoryId",$$v)},expression:"kpi.categoryId"}},[_vm._l(_vm.kpiCategoryList,(function(value,key){return[_c("el-option",{key:key,attrs:{label:value,value:key}})]}))],2)],1)])],1)],1),_c("el-form-item",[_c("el-row",{attrs:{gutter:10}},[_c("el-col",{attrs:{span:10}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_vm.kpiloading?_c("div",[_c("FieldLoader",{attrs:{isLoading:!0}})],1):_c("div",[_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{filterable:"",loading:_vm.loading,clearable:"",remote:"",placeholder:_vm.$t("common.header.please_select_kpi"),"remote-method":function(value){return _vm.searchkpilist(null,value)}},on:{change:function(kpiId){return _vm.assetSpaceList(kpiId,index)},clear:_vm.getKpiList},model:{value:kpi.kpiId,callback:function($$v){_vm.$set(kpi,"kpiId",$$v)},expression:"kpi.kpiId"}},[_vm._l(_vm.kpiList.filter((function(rt){return Number(rt.kpiCategory)===Number(kpi.categoryId)})),(function(category,index){return[_c("el-option",{key:index,attrs:{label:category.name,value:category.id}})]}))],2)],1)])],1),_c("el-col",{attrs:{span:8}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_vm.assetloading?_c("div",[_c("FieldLoader",{attrs:{isLoading:!0}})],1):_c("div",[_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common.header.please_select_asset")},on:{change:function(){return _vm.emitReading(index)}},model:{value:kpi.parentId,callback:function($$v){_vm.$set(kpi,"parentId",$$v)},expression:"kpi.parentId"}},_vm._l(_vm.assetSpaceObject[kpi.kpiId],(function(parent,index){return _c("el-option",{key:index,attrs:{label:parent.name,value:parent.id}})})),1)],1)])],1),_c("el-col",{attrs:{span:6}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading"}},[_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:_vm.$t("common._common.aggr")},on:{change:function(){return _vm.emitReading(index)}},model:{value:kpi.yAggr,callback:function($$v){_vm.$set(kpi,"yAggr",$$v)},expression:"kpi.yAggr"}},_vm._l(_vm.aggregateFunctions,(function(fn,index){return _c("el-option",{key:index,attrs:{label:fn.label,value:fn.value}})})),1)],1)],1)],1)],1),_c("el-form-item",{staticClass:"mB10"},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.label"))+" ")]),_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:_vm.$t("common._common.enter_the_label")},on:{change:function(){return _vm.emitReading(index)}},model:{value:kpi.label,callback:function($$v){_vm.$set(kpi,"label",$$v)},expression:"kpi.label"}})],1)],1)],1)],1),_c("div",[_c("div",{staticClass:"d-flex justify-content-start item-controls f16"},[index===_vm.kpidata.length-1?_c("el-button",{staticClass:"fc-add-border-green-btn text-uppercase mB20 new-row-btn",on:{click:function($event){return _vm.add(index)}}},[_c("i",{staticClass:"el-icon-plus fwBold"}),_vm._v(" "+_vm._s(_vm.$t("common.header.add_new"))+" ")]):_vm._e(),_vm.kpidata&&_vm.kpidata.length>1?_c("img",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"pointer",staticStyle:{height:"18px",width:"18px",position:"absolute",top:"50%",right:"-8px"},attrs:{src:__webpack_require__(385769),title:_vm.$t("common._common.remove_reading")},on:{click:function($event){return _vm.remove(index)}}}):_vm._e()],1)])],1)})),1),_vm.canShow&&"moduleKPI"===_vm.type?_c("add-module-kpi",{attrs:{isNew:_vm.isNewKpi,kpi:_vm.kpiObj},on:{onSave:_vm.onKpiCreated,onClose:function($event){_vm.canShow=!1}}}):_vm._e()],1)},KpiMultiReadingPickervue_type_template_id_6e69607d_staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex justify-content-space"},[_c("p",{staticClass:"fc-input-label-txt"})])}],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),AddModuleKpi=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(648324),__webpack_require__(162506),__webpack_require__(212826),__webpack_require__(947522),__webpack_require__(339772),__webpack_require__(441243)),validation=__webpack_require__(990260),utility_methods=__webpack_require__(773258),picklist=__webpack_require__(961358),FieldLoader=__webpack_require__(62979),isString=__webpack_require__(747037),isString_default=__webpack_require__.n(isString),api=__webpack_require__(32284),debounce=__webpack_require__(23279),debounce_default=__webpack_require__.n(debounce),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),KpiMultiReadingPickervue_type_script_lang_js={components:{AddModuleKpi:AddModuleKpi/* default */.Z,FieldLoader:FieldLoader/* default */.Z},props:["type","initialReading","clearData"],data:function(){return{canShow:!1,moduleKPI:[],emptydata:{parentId:null,parentType:"Asset",categoryId:null,kpiId:null,yAggr:"sum",label:null},kpidata:[{parentId:null,parentType:"Asset",categoryId:null,kpiId:null,yAggr:"sum",dateRange:null,label:null,showPathtext:!0,isNewKpi:!1}],emptykpi:{parentId:null,parentType:"Asset",categoryId:null,kpiId:null,yAggr:"sum",dateRange:null,showPathtext:!0,label:null},kpiCategoryList:null,kpiList:[],aggregateFunctions:card_constants/* aggregateFunctions */.rD,isNewKpi:!0,kpiObj:{},dateOperators:card_constants/* dateOperators */._M,categoryLoading:!0,loading:!0,kpiloading:!0,assetloading:!0,assetSpaceObject:{}}},created:function(){(0,validation/* isEmpty */.xb)(this.initialReading)||this.deserializeReading(this.initialReading)},mounted:function(){if(this.clearData&&(this.kpidata=[this.emptykpi]),"moduleKPI"===this.type)this.getModulekpiList();else{var defaultIds=this.kpidata.reduce((function(ids,kpi){var id=kpi.kpiId;return(0,validation/* isEmpty */.xb)(id)?ids:isString_default()(id)?[].concat((0,toConsumableArray/* default */.Z)(ids),["".concat(id.split("_")[0])]):[].concat((0,toConsumableArray/* default */.Z)(ids),["".concat(id)])}),[]);this.getKpiList(defaultIds),this.getKpiCategoryList()}this.searchkpilist=debounce_default()(this.getKpiList,500)},computed:function(){},methods:{emptyKpiAndAsset:function(index){this.kpidata[index].kpiId=null,this.kpidata[index].parentId=null},assetSpaceList:function(kpiId,index){this.kpidata[index].parentId=null,this.kpidata[index].isNewKpi=!1,this.assetOrSpaceList(kpiId)},assetOrSpaceList:function(kpiId){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var kpiList,obj,kpi,key,filterValue,_kpi$assetCategory,_yield$API$fetchAll,list,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(kpiList=_this.kpiList,obj={},kpi=kpiList.find((function(element){return element.id===kpiId})),(0,validation/* isEmpty */.xb)(kpi)){_context.next=17;break}if(!isString_default()(kpiId)||!kpiId.includes("new")){_context.next=16;break}return key=kpi.assets?"id":"category",filterValue=[],filterValue=(0,validation/* isEmpty */.xb)(kpi.assets)?["".concat(null===(_kpi$assetCategory=kpi.assetCategory)||void 0===_kpi$assetCategory?void 0:_kpi$assetCategory.id)]:kpi.assets.map((function(id){return String(id)})),_context.next=10,api/* API */.bl.fetchAll("asset",{filters:JSON.stringify((0,defineProperty/* default */.Z)({},key,{operatorId:36,value:filterValue}))});case 10:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,error?_this.$message.error(error.message||_this.$t("common._common.error_occured")):obj[kpi.id]=list,_context.next=17;break;case 16:(0,validation/* isEmpty */.xb)(kpi.matchedResources)||(obj[kpi.id]=kpi.matchedResources);case 17:_this.assetSpaceObject=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this.assetSpaceObject),obj),_this.assetloading=!1;case 19:case"end":return _context.stop()}}),_callee)})))()},addEmpty:function(){var data=(0,utility_methods/* deepCloneObject */.kh)(this.emptykpi);this.kpidata.push(data)},add:function(){this.addEmpty(),this.getKpiList()},remove:function(index){this.kpidata.splice(index,1)},getModulekpiList:function(){var _this2=this,url="/v2/kpi/module/list";this.$http.get(url).then((function(_ref){var data=_ref.data;_this2.moduleKPI=data.result.kpis||[]}))},emitReading:function(index){var kpidata=this.kpidata;if("moduleKPI"===this.type){if(index>-1){var kpiId=kpidata[index].kpiId,kpi=this.moduleKPI.find((function(rt){return rt.id===kpiId}));null===kpidata[index].label&&(kpidata[index].label=kpi.name)}var filterData=this.serializeReading(kpidata);this.$emit("onReadingSelect",filterData),this.moduleKpiSelected(filterData)}else{var _kpidata$index$kpiId,_kpidata$index,_kpiId=null!==(_kpidata$index$kpiId=null===(_kpidata$index=kpidata[index])||void 0===_kpidata$index?void 0:_kpidata$index.kpiId)&&void 0!==_kpidata$index$kpiId?_kpidata$index$kpiId:null;isString_default()(_kpiId)&&_kpiId.includes("new")&&(kpidata[index].isNewKpi=!0),this.$emit("onReadingSelect",this.serializeReading(kpidata))}},moduleKpiSelected:function(filterData){var selectedObject=this.moduleKPI.find((function(rt){return rt.id===filterData.kpiId}));this.$emit("onModuleKpiSelect",selectedObject)},getColor:function(){return"#"+Math.random().toString(16).substr(2,6)},serializeReading:function(data){var _this3=this;return data.forEach((function(rt){rt.pathColor||_this3.$set(rt,"pathColor",_this3.getColor()),rt.textColor||_this3.$set(rt,"textColor","#000000"),rt.hasOwnProperty("showPathtext")||_this3.$set(rt,"showPathtext",!0)})),data},deserializeReading:function(initialReading){this.kpidata=(initialReading||[]).map((function(kpi){return kpi.isNewKpi&&!isString_default()(kpi.kpiId)&&(kpi.kpiId=kpi.kpiId+"_new"),kpi}))},filterList:function(list){var kpiIds=this.kpiList.reduce((function(ids,kpi){return[].concat((0,toConsumableArray/* default */.Z)(ids),[kpi.id])}),[]),filteredList=[];return filteredList=list.filter((function(kpi){return!kpiIds.includes(kpi.id)&&kpi})),filteredList},getKpiCategoryList:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:"kpiCategory",skipDeserialize:!0}});case 2:_yield$getFieldOption=_context2.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,_this4.categoryLoading=!1,error?_this4.$message.error(error.message||"Error Occured"):_this4.kpiCategoryList=options;case 7:case"end":return _context2.stop()}}),_callee2)})))()},getKpi:function(params){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var newKpiList,oldKpiList,_yield$API$get,_error,_data,_data$readingkpi,readingkpi,_yield$API$get2,error,data,_data$formulaList,formulaList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(newKpiList=[],oldKpiList=[],!_this5.$helpers.isLicenseEnabled("NEW_KPI")){_context3.next=9;break}return _context3.next=5,api/* API */.bl.get("/v3/modules/data/list?moduleName=readingkpi",params);case 5:_yield$API$get=_context3.sent,_error=_yield$API$get.error,_data=_yield$API$get.data,_error?_this5.$message.error(_error.message||_this5.$t("common._common.error_occured")):(readingkpi=cloneDeep_default()(null!==(_data$readingkpi=null===_data||void 0===_data?void 0:_data.readingkpi)&&void 0!==_data$readingkpi?_data$readingkpi:[]),newKpiList=readingkpi.map((function(kpi){return isString_default()(kpi.id)||(kpi.id=kpi.id+"_new"),kpi})));case 9:return _context3.next=11,api/* API */.bl.get("/v2/kpi/list?type=1&",params);case 11:_yield$API$get2=_context3.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?_this5.$message.error(error.message||_this5.$t("common._common.error_occured")):(formulaList=null!==(_data$formulaList=null===data||void 0===data?void 0:data.formulaList)&&void 0!==_data$formulaList?_data$formulaList:[],oldKpiList=formulaList),_this5.kpiList=newKpiList.concat(oldKpiList);case 16:case"end":return _context3.stop()}}),_callee3)})))()},getKpiList:function(ids,searchText){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var params,filter,_filter,selectedKpi,kpis;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(_this6.loading=!0,params={},filter=(0,validation/* isEmpty */.xb)(searchText)?{}:{name:{operatorId:5,value:[searchText]}},(0,validation/* isEmpty */.xb)(ids)){_context4.next=8;break}return _filter={id:{operatorId:9,value:ids}},params.filters=JSON.stringify(_filter),_context4.next=8,_this6.getKpi(params);case 8:return selectedKpi=[],selectedKpi=_this6.kpiList,params.filters=JSON.stringify(filter),_context4.next=13,_this6.getKpi(params);case 13:(0,validation/* isEmpty */.xb)(selectedKpi)||(kpis=_this6.filterList(selectedKpi),_this6.kpiList=_this6.kpiList.concat(kpis)),_this6.kpiloading=!1,_this6.loading=!1,_this6.kpidata.forEach((function(element){return _this6.assetOrSpaceList(element.kpiId)}));case 17:case"end":return _context4.stop()}}),_callee4)})))()},onKpiCreated:function(kpiObj){if("moduleKPI"===this.type){var kpi=this.moduleKPI.find((function(kpi){return kpi.id===kpiObj.id}));if((0,validation/* isEmpty */.xb)(kpi))this.moduleKPI.push(kpiObj);else{var index=this.moduleKPI.findIndex((function(kpi){return kpi.id===kpiObj.id}));this.moduleKPI.splice(index,1,kpiObj)}this.kpidata[0].kpiId=kpiObj.id,this.emitReading()}},editKPI:function(_ref2){var kpiId=_ref2.kpiId,listOfKpi=[];"moduleKPI"===this.type&&(listOfKpi=this.moduleKPI),this.kpiObj=listOfKpi.find((function(Kpi){return Kpi.id===kpiId}))||{},this.isNewKpi=!1,this.canShow=!0}}},common_KpiMultiReadingPickervue_type_script_lang_js=KpiMultiReadingPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(common_KpiMultiReadingPickervue_type_script_lang_js,KpiMultiReadingPickervue_type_template_id_6e69607d_render,KpiMultiReadingPickervue_type_template_id_6e69607d_staticRenderFns,!1,null,null,null)
/* harmony default export */,KpiMultiReadingPicker=component.exports,Configvue_type_script_lang_js={name:"GuageCard7",extends:Config["default"],components:{Card:Card/* default */.Z,KpiReadingPicker:KpiMultiReadingPicker,KpiSingleReadingPicker:KpiReadingPicker/* default */.Z},data:function(){var safeLimitTypes={MIN:0,MAX:1,BETWEEN:2};return{typeChange:!1,cardLayout:"gauge_layout_7",kpiTypes:card_constants/* kpiTypes */.Gy,showstyle:!0,showInsertVariablePopover:!1,filterVariablesInput:"",validationRules:{},cardActionsMount:!0,moduleKpi:[],resourceProps:["title","kpiType","kpis","dateRange","subText","safeLimitType","maxSafeLimitType","maxSafeLimitKpi","maxSafeLimitConstant","centerTextType","centerTextKpi","centerText"],readingTypes:{Asset:"asset",Space:"space"},cardDataObj:{title:"",kpiType:"reading",reading:{parentType:"asset",assetCategory:null,kpiId:null},safeLimitType:1,maxSafeLimitType:"constant",centerTextType:"text",maxSafeLimitConstant:null,maxSafeLimitKpi:{},centerTextKpi:{},centerText:null,kpis:[],dateRange:"Today",aggr:"avg",subText:""},modules:[{label:"Maintenance",moduleName:"workorder",license:"MAINTENANCE"},{label:"FDD",moduleName:this.$helpers.isLicenseEnabled("NEW_ALARMS")?"newreadingalarm":"alarm",license:"ALARMS"},{label:"Building performance",moduleName:"energydata",license:"ENERGY"},{label:"Asset",moduleName:"asset",license:"SPACE_ASSET"},{label:"Inventory Request",moduleName:"inventoryrequest",list:[],expand:!1,license:"INVENTORY"},{label:"Item",moduleName:"item",list:[],expand:!1,license:"INVENTORY"},{label:"Contracts",moduleName:"contracts",list:[],expand:!1,license:"CONTRACT"},{label:"Purchaseorder",moduleName:"purchaseorder",list:[],expand:!1,license:"PURCHASE"},{label:"Purchaserequest",moduleName:"purchaserequest",list:[],expand:!1,license:"PURCHASE"},{label:"Visit",moduleName:"visitorlog",list:[],expand:!1,license:"VISITOR"},{label:"contact",moduleName:"contact",list:[],expand:!1,license:"VISITOR"},{label:"Watchlist",moduleName:"watchlist",list:[],expand:!1,license:"VISITOR"},{label:"Visitor",moduleName:"visitor",list:[],expand:!1,license:"VISITOR"}],readingPickerOptions:{parentId:{type:"single"},fieldName:{type:"single"},fieldId:{type:"single"},dataType:{type:"single"},moduleName:{type:"single"},parentName:{type:"single"},parentType:{type:"single"},yAggr:{type:"single"}},metrics:[],kpiList:[],cardStateObj:{canResize:!0,styles:{primaryColor:"#110d24",secondaryColor:"#969caf",backgroundColor:"#FFF",gaugeColors:[],showPathText:!0,textColor:"#000000",gaugeCenterColors:{pathColor:"#969caf",textColor:"#000000"}},modulekpi:{moduleName:null,kpiId:null},expression:{name:"test",aggr:3,metricId:-1,moduleName:"workorder",siteId:null,dateOperator:22,dateValue:"".concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(22).value[1]," "),dateFieldId:null,criteria:{pattern:"(1)",conditions:{1:{fieldName:"__vue_devtool_undefined__",value:"__vue_devtool_undefined__",columnName:"__vue_devtool_undefined__",operatorId:-1}},resourceOperator:!1}}},safeLimitTypes:safeLimitTypes,cardActions:{default:{actionType:"none"}},emptykpi:{kpiId:null,yAggr:null,dateRange:"Today"},kpiModule:{moduleName:null,expression:{},aggregateString:"count"},toggleMetricAggregation:!1,timeFields:[],aggregateFunctions:card_constants/* aggregateFunctions */.rD,dateOperators:card_constants/* dateOperators */._M}},created:function(){this.$store.dispatch("loadAssetCategory")},mounted:function(){this.getKpiList(),this.loadModuleFields()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({assetCategory:function(state){return state.assetCategory},sites:function(state){return state.sites}})),{},{unit:function(){return""},definedActionTypes:function(){return["none"]},AssetFilteredKpiList:function(){var _this=this;return"asset"===this.cardDataObj.reading.parentType?this.kpiList.filter((function(rt){return rt.assetCategoryId===_this.cardDataObj.reading.assetCategory})):this.kpiList},metric:function(){var _this2=this;return this.data&&this.cardStateObj.expression.aggr?this.metrics.find((function(rt){return rt.id===_this2.cardStateObj.expression.metricId})):this.metrics.length?this.metrics[0]:null},variables:function(){var variables=this.previewData&&this.previewData.variables?this.previewData.variables:null;return variables||[]}}),methods:{addEmpty:function(){var data=(0,utility_methods/* deepCloneObject */.kh)(this.emptykpi);this.cardDataObj.kpis.push(data)},serializeProperty:function(prop,data){if("kpis"===prop)return data.kpis},validateProperty:function(){return{kpis:function(){return!1},dateRange:function(){return!1},subText:function(){return!1},safeLimitType:function(){return!1},maxSafeLimitConstant:function(){return!1},maxSafeLimitKpi:function(){return!1},centerTextType:function(){return!1},centerTextKpi:function(){return!1},centerText:function(){return!1}}},handleModuleKpi:function(moduleKpiObj){moduleKpiObj&&moduleKpiObj.id&&(moduleKpiObj.dateOperator&&moduleKpiObj.dateOperator>0?this.cardDataObj.dateRange=this.dateOperators.find((function(rl){return rl.enumValue===moduleKpiObj.dateOperator})).value:this.cardDataObj.dateRange=null)},addKpi:function(){this.$http.post("/v2/kpi/module/addOrUpdate",{kpi:this.cardStateObj.expression}).then((function(response){
// this.setKpiResult(response.data.result)
}))},
// setKpiResult(result) {
//   if (result.kpi) {
//     let { kpi } = result
//     let obj = {
//       kpiId: kpi.id,
//       yAggr: this.aggregateFunctions.find(rt => rt.enumValue === kpi.aggr)
//         .value,
//     }
//     this.$set(this.cardDataObj, 'kpi', obj)
//     this.getData()
//   }
// },
setDateValue:function(){this.cardStateObj.expression.dateValue="".concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[0],",").concat(NewDateHelper/* default */.Z.getDatePickerObject(this.cardStateObj.expression.dateOperator).value[1]," ")},setMetricAggregation:function(agg){this.cardStateObj.expression.aggr=agg.enumValue,this.toggleMetricAggregation=!1},getModuleObject:function(moduleMetaObject){this.moduleMetaObject=moduleMetaObject},getCriteria:function(criteria){this.cardStateObj.expression.criteria=criteria},showMetricAggregation:function(metric){return!metric||!metric.defaultMetric||(this.toggleMetricAggregation=!1,!1)},loadModuleFields:function(){var _this3=this;this.loading=!0,this.$http.post("/v2/report/getReportFields",{moduleName:this.cardStateObj.expression.moduleName}).then((function(response){_this3.prepareMetrics(response.data.result),_this3.getTimeFields(response.data.result),_this3.loading=!1}))},getTimeFields:function(result){result.meta&&result.meta.dimension&&result.meta.dimension.time&&(this.timeFields=result.meta.dimension.time)},prepareMetrics:function(result){var _this4=this;if(this.metrics=[],result&&result.meta&&result.meta.metrics){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(result.meta.metrics);try{for(_iterator.s();!(_step=_iterator.n()).done;){var metric=_step.value;"actualWorkDuration"===metric.name&&(metric.displayName="Work Duration"),this.metrics.push(metric)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var defaultMetric={};defaultMetric["displayName"]="Number of "+this.modules.find((function(rt){return rt.moduleName===_this4.cardStateObj.expression.moduleName})).label+"s",defaultMetric["defaultMetric"]=!0,defaultMetric["fieldId"]=-1,defaultMetric["name"]="count",defaultMetric["id"]=-1,this.metrics.push(defaultMetric)}},getKpiList:function(){var _this5=this,url="/v2/kpi/list?type=1&";this.$http.get(url).then((function(_ref){var data=_ref.data;0===data.responseCode&&(_this5.kpiList=data.result.formulaList)}))},setReading:function(prop,reading){var _this6=this,cardDataObj=this.cardDataObj,_reading=reading,kpiId=_reading.kpiId;if("reading"===(null===cardDataObj||void 0===cardDataObj?void 0:cardDataObj.kpiType)){reading="centerTextKpi"===prop||"maxSafeLimitKpi"===prop?[reading]:reading;var readingNew=this.$helpers.cloneObject(reading);readingNew=readingNew.map((function(kpi){var kpiId=kpi.kpiId;return isString_default()(kpiId)&&(kpi.kpiId=parseInt(kpiId.split("_")[0])),kpi})),readingNew="centerTextKpi"===prop||"maxSafeLimitKpi"===prop?readingNew[0]:readingNew,this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,readingNew)))}else this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,reading)));this.$set(reading,"kpiId",kpiId),"kpis"===prop&&(this.showstyle=!1,setTimeout((function(){_this6.showstyle=!0}),100))}}},type7_Configvue_type_script_lang_js=Configvue_type_script_lang_js,Config_component=(0,componentNormalizer/* default */.Z)(type7_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,"0747b3ec",null)
/* harmony default export */,type7_Config=Config_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/82612.js.map