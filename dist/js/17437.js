(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[17437],{
/***/383943:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return CustomModulesCreation}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/custom-module/CustomModulesCreation.vue?vue&type=template&id=7325388c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:[_vm.isCreateEditWidgetConfigured?"form-widget-container":"form-data-creation",_vm.isEmpty(_vm.widgetsArr)?"":"form-creation-widgets",_vm.customClassForContainer]},[_vm.showEmptyState?_c("div",{staticClass:"form-empty-container"},[_c("inline-svg",{staticClass:"d-flex module-view-empty-state",attrs:{src:"svgs/no-configuration",iconClass:"icon"}}),_c("div",{staticClass:"mB10 mT10 no-template-text f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("forms.live_form.no_forms"))+" ")]),_c("div",{staticClass:"contact-admin-text f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("forms.live_form.contact_admin"))+" ")])],1):_c("div",{staticClass:"height-100",class:[_vm.$validation.isEmpty(_vm.widgetsArr)?"":"form-left-container"]},[_vm.isCreateEditWidgetConfigured?_vm._e():_c("div",{staticClass:"header mT20 mB10 d-flex"},[_c("div",{staticClass:"title mT10"},[_vm._v(_vm._s(_vm.title))]),_vm.forms.length>1?_c("el-select",{staticClass:"fc-input-full-border-select2 mL-auto width25",attrs:{"value-key":"name"},model:{value:_vm.selectedForm,callback:function($$v){_vm.selectedForm=$$v},expression:"selectedForm"}},_vm._l(_vm.forms,(function(form,index){return _c("el-option",{key:index,attrs:{value:form,label:form.displayName}})})),1):_vm._e()],1),_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_vm.isCreateEditWidgetConfigured?_c("ConnectedAppViewWidget",{attrs:{widgetId:_vm.widgetId,recordId:_vm.moduleDataId,context:_vm.moduleData}}):_c("f-webform",{ref:"f-webform",attrs:{form:_vm.formObj,module:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,isSaving:_vm.isSaving,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,isEdit:_vm.isEdit,isV3Api:_vm.isV3Api,moduleData:_vm.moduleData,moduleDataId:_vm.moduleDataId,isWidgetsSupported:_vm.isWidgetsSupported,subFormRecords:_vm.subFormRecords,modifyFieldPropsHook:_vm.modifyFieldPropsHook},on:{"update:form":function($event){_vm.formObj=$event},onBlur:_vm.onBlurHook,onWidgetChange:_vm.onWidgetChange,save:_vm.saveRecord,cancel:_vm.redirectToList}})],1),_c("portal-target",{staticClass:"widgets-container",attrs:{name:"side-bar-widgets"}})],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),objectSpread2=__webpack_require__(595082),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(990260)),FormCreation=__webpack_require__(373729),ConnectedAppViewWidget=__webpack_require__(767004),FetchViewsMixin=__webpack_require__(646716),router=__webpack_require__(329435),CustomModuleData=__webpack_require__(689565),CustomModulesCreationvue_type_script_lang_js={extends:FormCreation/* default */.Z,props:["dataObj","selectedFormDetails"],components:{ConnectedAppViewWidget:ConnectedAppViewWidget["default"]},mixins:[FetchViewsMixin/* default */.Z],data:function(){return{widgetId:null,isEmpty:validation/* isEmpty */.xb}},computed:{showEmptyState:function(){var _ref=this||{},forms=_ref.forms;return!this.isLoading&&(0,validation/* isEmpty */.xb)(forms)&&!this.isCreateEditWidgetConfigured},moduleName:function(){var moduleName=this.$route.params.moduleName;// TODO: make this a prop and use directly
return moduleName||(moduleName=this.$attrs.moduleName),(0,validation/* isEmpty */.xb)(moduleName)?null:moduleName},moduleDisplayName:function(){return this.formObj&&this.formObj.module?this.formObj.module.displayName:""},isWidgetsSupported:function(){return!0},isCreateEditWidgetConfigured:function(){var widgetId=this.widgetId;return!(0,validation/* isEmpty */.xb)(widgetId)},isV3Api:function(){return!0},modelDataClass:function(){return CustomModuleData/* CustomModuleData */.u},customProps:function(){return{}},loadDataManually:function(){return!1}},methods:{init:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleDataId,moduleName,loadDataManually,widgetId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(moduleDataId=_this.moduleDataId,moduleName=_this.moduleName,loadDataManually=_this.loadDataManually,_this.isLoading=!0,(0,validation/* isEmpty */.xb)(moduleDataId)&&!loadDataManually){_context.next=7;break}return _context.next=5,_this.loadModuleData({moduleName:moduleName,moduleDataId:moduleDataId});case 5:_context.next=8;break;case 7:_this.moduleData=new _this.modelDataClass((0,objectSpread2/* default */.Z)({moduleName:moduleName},_this.dataObj||{}));case 8:if((0,validation/* isEmpty */.xb)(_this.selectedFormDetails)){_context.next=13;break}return _context.next=11,_this.loadFormData(null,_this.selectedFormDetails||null);case 11:return _this.selectedForm=_context.sent,_context.abrupt("return");case 13:return _context.next=15,_this.getCreateEditRecordWidgetId();case 15:if(widgetId=_context.sent,(0,validation/* isEmpty */.xb)(widgetId)){_context.next=21;break}_this.widgetId=widgetId,_this.isLoading=!1,_context.next=24;break;case 21:return _context.next=23,_this.loadFormsList(moduleName);case 23:_this.setInitialForm();case 24:_this.isLoading=!1;case 25:case"end":return _context.stop()}}),_callee)})))()},getCreateEditRecordWidgetId:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var isEdit,operatorValue,filters,_yield$_this2$modelDa,connectedAppWidgets,_ref2,_ref3,selectedWidget,_ref4,widgetId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return isEdit=_this2.isEdit,operatorValue=isEdit?7:6,filters={entityType:{operatorId:9,value:["".concat(operatorValue)]}},_this2.isLoading=!0,_context2.prev=4,_context2.next=7,_this2.modelDataClass.loadWidgets(filters);case 7:return _yield$_this2$modelDa=_context2.sent,connectedAppWidgets=_yield$_this2$modelDa.connectedAppWidgets,_ref2=connectedAppWidgets||[],_ref3=(0,slicedToArray/* default */.Z)(_ref2,1),selectedWidget=_ref3[0],_ref4=selectedWidget||{},widgetId=_ref4.id,_context2.abrupt("return",widgetId);case 14:_context2.prev=14,_context2.t0=_context2["catch"](4),_this2.showErrorToastMessage(_context2.t0,_this2.$t("custommodules.form.widget_error"));case 17:case"end":return _context2.stop()}}),_callee2,null,[[4,14]])})))()},loadFormsList:function(moduleName){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,_this3.modelDataClass.loadFormsList(moduleName);case 3:_this3.forms=_context3.sent,_context3.next=9;break;case 6:_context3.prev=6,_context3.t0=_context3["catch"](0),_this3.showErrorToastMessage(_context3.t0,_this3.$t("custommodules.form.form_template_error"));case 9:case"end":return _context3.stop()}}),_callee3,null,[[0,6]])})))()},loadModuleData:function(_ref5){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var moduleDataId,moduleName,_ref6,customProps;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return moduleDataId=_ref5.moduleDataId,moduleName=_ref5.moduleName,_context4.prev=1,_ref6=_this4||{},customProps=_ref6.customProps,_context4.next=5,_this4.modelDataClass.fetch((0,objectSpread2/* default */.Z)({moduleName:moduleName,id:moduleDataId},customProps));case 5:_this4.moduleData=_context4.sent,_context4.next=11;break;case 8:_context4.prev=8,_context4.t0=_context4["catch"](1),_this4.showErrorToastMessage(_context4.t0,_this4.$t("custommodules.summary.record_summary_error"));case 11:case"end":return _context4.stop()}}),_callee4,null,[[1,8]])})))()},loadFormData:function(formId,selectedFormDetails){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var selectedForm,moduleName,moduleDataId,moduleData,loadDataManually,dataObj,formObj,form;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return selectedForm=_this5.selectedForm,moduleName=_this5.moduleName,moduleDataId=_this5.moduleDataId,moduleData=_this5.moduleData,loadDataManually=_this5.loadDataManually,dataObj=_this5.dataObj,formObj={},_context5.prev=2,_context5.next=5,_this5.modelDataClass.loadFormData({formId:formId,moduleName:moduleName,selectedForm:selectedFormDetails||selectedForm});case 5:form=_context5.sent,(0,validation/* isEmpty */.xb)(form)||(formObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},form),{},{secondaryBtnLabel:_this5.$t("common._common.cancel"),primaryBtnLabel:_this5.$t("common._common._save")}),((0,validation/* isEmpty */.xb)(moduleDataId)||(0,validation/* isEmpty */.xb)(null===moduleData||void 0===moduleData?void 0:moduleData.id))&&!loadDataManually&&(0,validation/* isEmpty */.xb)(dataObj)||(formObj=_this5.moduleData.deserialize(formObj)),_this5.formObj=formObj),_context5.next=12;break;case 9:_context5.prev=9,_context5.t0=_context5["catch"](2),_this5.showErrorToastMessage(_context5.t0,_this5.$t("custommodules.form.form_details_error"));case 12:return _context5.abrupt("return",formObj);case 13:case"end":return _context5.stop()}}),_callee5,null,[[2,9]])})))()},saveRecord:function(formModel){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var formObj,afterSaveHook,afterSerializeHook,response;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return formObj=_this6.formObj,afterSaveHook=_this6.afterSaveHook,afterSerializeHook=_this6.afterSerializeHook,_this6.isSaving=!0,
//same params as serialize method
_context6.next=4,_this6.moduleData.save(formObj,formModel,afterSerializeHook);case 4:response=_context6.sent,_this6.isSaving=!1,
// Hook to handle notification after crud operation
_this6.notificationHandler(response),
// Hook to handle response after crud operation
!(0,validation/* isEmpty */.xb)(afterSaveHook)&&(0,validation/* isFunction */.mf)(afterSaveHook)&&_this6.afterSaveHook(response);case 8:case"end":return _context6.stop()}}),_callee6)})))()},afterSaveHook:function(response){var moduleName=this.moduleName,data=response[moduleName],id=data.id;this.redirectToSummary(id)},redirectToSummary:function(id){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var moduleName,viewname,_ref7,name;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return _this7.isSaving=!0,moduleName=_this7.moduleName,_context7.next=4,_this7.fetchView(moduleName);case 4:viewname=_context7.sent,_this7.isSaving=!1,(0,router/* isWebTabsEnabled */.tj)()?(_ref7=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref7.name,name&&_this7.$router.push({name:name,params:{viewname:viewname,id:id}})):_this7.$router.push({name:"custommodules-summary",params:{id:id,viewname:viewname}}).catch((function(){}));case 7:case"end":return _context7.stop()}}),_callee7)})))()},redirectToList:function(){var moduleName=this.moduleName;if((0,router/* isWebTabsEnabled */.tj)()){var _ref8=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.LIST)||{},name=_ref8.name;name&&this.$router.push({name:name})}else this.$router.push({name:"custommodules-list",params:{moduleName:moduleName}}).catch((function(){}))},showErrorToastMessage:function(error,customMsg){var message=(null===error||void 0===error?void 0:error.message)||customMsg;this.$message.error(message)}}},custom_module_CustomModulesCreationvue_type_script_lang_js=CustomModulesCreationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(custom_module_CustomModulesCreationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CustomModulesCreation=component.exports},
/***/517437:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return BreakList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/peopleV2/break/BreakList.vue?vue&type=template&id=3dd496bb
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CommonListLayout",{key:_vm.moduleName+"-list-layout",staticClass:"custom-module-list-layout",attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.moduleDisplayName},pathPrefix:_vm.parentPath,hideSubHeader:_vm.canHideSubHeader,recordCount:_vm.recordCount,recordLoading:_vm.showLoading},scopedSlots:_vm._u([{key:"header",fn:function(){return[_vm.canHideFilter?_vm._e():_c("AdvancedSearchWrapper",{key:"ftags-list-"+_vm.moduleName,attrs:{filters:_vm.filters,moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}}),_vm.canShowVisualSwitch?[_c("visual-type",{on:{onSwitchVisualize:function(val){return _vm.canShowListView=val}}})]:_vm._e(),_vm.hasPermission("CREATE")?[_c("button",{staticClass:"fc-create-btn ",on:{click:function($event){return _vm.addBreak()}}},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.new"))+" "+_vm._s(_vm.moduleDisplayName?_vm.moduleDisplayName:"")+" ")])]:_vm._e()]},proxy:!0},{key:"sub-header-actions",fn:function(){return[!_vm.isEmpty(_vm.records)&&_vm.showListView?[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.recordCount,perPage:50,skipTotalCount:!0}}),_vm.recordCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"right"}},[_c("Sort",{key:_vm.moduleName+"-sort",attrs:{moduleName:_vm.moduleName},on:{onSortChange:_vm.updateSort}})],1)]:_vm._e()]},proxy:!0},{key:"content",fn:function(){return[_vm.showLoading?_c("Spinner",{staticClass:"mT40",attrs:{show:_vm.showLoading}}):_vm.$validation.isEmpty(_vm.records)?_c("div",{staticClass:"cm-list-container"},[_c("div",{staticClass:"fc-list-empty-state-container"},[_c("img",{staticClass:"mT20 self-center",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.emptyStateText)+" ")])])]):[_c("div",{staticClass:"cm-list-container"},[_c("div",{staticClass:"column-customization-icon",on:{click:function($event){_vm.showColumnSettings=!0}}},[_c("img",{staticClass:"text-center position-absolute icon",attrs:{src:__webpack_require__(266707)}})]),_vm.$validation.isEmpty(_vm.selectedListItemsIds)?_vm._e():_c("div",{staticClass:"pull-left table-header-actions"},[_c("div",{staticClass:"action-btn-slide btn-block"},[_c("button",{staticClass:"btn btn--tertiary pointer",on:{click:function($event){return _vm.deleteRecords(_vm.selectedListItemsIds)}}},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.delete"))+" ")])])]),_c("CommonList",{attrs:{viewDetail:_vm.viewDetail,records:_vm.records,moduleName:_vm.moduleName,slotList:_vm.slotList,canShowCustomButton:!1,refreshList:_vm.onCustomButtonSuccess},on:{"selection-change":_vm.selectItems},scopedSlots:_vm._u([{key:_vm.slotList[0].criteria,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"self-center mL5"},[_vm._v(" "+_vm._s(record.name||"---")+" ")])])]}},{key:_vm.slotList[1].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"d-flex text-center"},[_vm.hasPermission("EDIT")?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"\n                  el-icon-edit\n                  pointer\n                  edit-icon-color\n                  visibility-hide-actions\n                  mL10\n                ",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.editBreak(record)}}}):_vm._e(),_vm.hasPermission("DELETE")?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"\n                  el-icon-delete\n                  pointer\n                  edit-icon-color\n                  visibility-hide-actions\n                  mL10\n                ",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deleteRecords([record.id])}}}):_vm._e()])]}},{key:_vm.slotList[2].name,fn:function(ref){var record=ref.record;return[_c("div",{staticClass:"fc-id"},[_vm._v(" "+_vm._s("#"+record.id)+" ")])]}},{key:_vm.slotList[3].criteria,fn:function(ref){var record=ref.record;return[_vm._v(" "+_vm._s(_vm.secondsToHoursAndMinutes(record.breakTime))+" ")]}}],null,!0)})],1),_c("column-customization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.moduleName,viewName:_vm.viewname},on:{"update:visible":function($event){_vm.showColumnSettings=$event}}})]]},proxy:!0}])},[_c("portal",{attrs:{to:"view-manager-link"}},[_c("router-link",{staticClass:"view-manager-btn",attrs:{tag:"div",to:"/app/pl/break/viewmanager"}},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.views_manager"))+" ")])],1)],1),_vm.visibility?_c("CreateEditBreak",{attrs:{visibility:_vm.visibility,id:_vm.editModuleID,viewName:_vm.viewname},on:{"update:visibility":function($event){_vm.visibility=$event},saved:_vm.loadRecords}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),CommonModuleList=(__webpack_require__(648324),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(347446)),CreateEditBreakvue_type_template_id_3c9682ff_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",[_c("el-dialog",{staticStyle:{"z-index":"1999"},attrs:{fullscreen:!0,"append-to-body":!0,visible:_vm.visibility,title:_vm.$t("common.header.break"),"custom-class":"fc-dialog-form setup-dialog-right setup-dialog50 setup-dialog f-webform-right-dialog"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.title)+" ")])])]),_c("div",{staticClass:"mT20"},[_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("f-webform",{ref:"f-webform",attrs:{form:_vm.formObj,module:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,isSaving:_vm.isSaving,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,isEdit:_vm.isEdit,isV3Api:_vm.isV3Api,moduleData:_vm.moduleData,moduleDataId:_vm.moduleDataId,isWidgetsSupported:_vm.isWidgetsSupported,subFormRecords:_vm.subFormRecords,modifyFieldPropsHook:_vm.modifyFieldPropsHook},on:{"update:form":function($event){_vm.formObj=$event},onBlur:_vm.onBlurHook,onWidgetChange:_vm.onWidgetChange,save:_vm.saveRecord,cancel:_vm.redirectToList}})],1)])],1):_vm._e()},CreateEditBreakvue_type_template_id_3c9682ff_staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),CustomModulesCreation=__webpack_require__(383943),validation=__webpack_require__(990260),CreateEditBreakvue_type_script_lang_js={extends:CustomModulesCreation["default"],name:"CreateEditBreak",props:["id","viewName","visibility"],computed:{moduleDataId:function(){return this.id},moduleName:function(){return"break"},moduleDisplayName:function(){return"Break"},isEdit:function(){return!!this.id}},methods:{loadModuleData:function(_ref){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleDataId,moduleName,_ref2,customProps;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return moduleDataId=_ref.moduleDataId,moduleName=_ref.moduleName,_context.prev=1,_ref2=_this||{},customProps=_ref2.customProps,_context.next=5,_this.modelDataClass.fetch((0,objectSpread2/* default */.Z)({moduleName:moduleName,id:moduleDataId},customProps));case 5:_this.moduleData=_context.sent,_context.next=11;break;case 8:_context.prev=8,_context.t0=_context["catch"](1),_this.$message.error(_context.t0);case 11:case"end":return _context.stop()}}),_callee,null,[[1,8]])})))()},saveRecord:function(formModel){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var formObj,afterSaveHook,afterSerializeHook,response;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return formObj=_this2.formObj,afterSaveHook=_this2.afterSaveHook,afterSerializeHook=_this2.afterSerializeHook,_this2.isSaving=!0,_context2.next=4,_this2.moduleData.save(formObj,formModel,afterSerializeHook);case 4:response=_context2.sent,_this2.isSaving=!1,_this2.notificationHandler(response),
// Hook to handle response after crud operation
!(0,validation/* isEmpty */.xb)(afterSaveHook)&&(0,validation/* isFunction */.mf)(afterSaveHook)&&_this2.afterSaveHook(response),_this2.$emit("saved");case 9:case"end":return _context2.stop()}}),_callee2)})))()},afterSaveHook:function(response){var _ref3=response||{},error=_ref3.error;(0,validation/* isEmpty */.xb)(error)&&this.redirectToList()},redirectToList:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this3.$emit("update:visibility",!1);case 1:case"end":return _context3.stop()}}),_callee3)})))()}}},break_CreateEditBreakvue_type_script_lang_js=CreateEditBreakvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(break_CreateEditBreakvue_type_script_lang_js,CreateEditBreakvue_type_template_id_3c9682ff_render,CreateEditBreakvue_type_template_id_3c9682ff_staticRenderFns,!1,null,null,null)
/* harmony default export */,CreateEditBreak=component.exports,router=__webpack_require__(329435),routeUtil=__webpack_require__(405759),peopleMixin=__webpack_require__(849561),BreakListvue_type_script_lang_js={name:"BreakList",extends:CommonModuleList["default"],mixins:[peopleMixin/* default */.Z],components:{CreateEditBreak:CreateEditBreak},computed:{moduleDisplayName:function(){return"Break"},parentPath:function(){return"/app/pl/break/"},slotList:function(){return[{criteria:JSON.stringify({name:"name"})},{name:"editDelete",isActionColumn:!0,columnAttrs:{width:130,class:"visibility-visible-actions",fixed:"right"}},{name:"id",isHardcodedColumn:!0,columnAttrs:{"min-width":90,label:"ID",fixed:"left"}},{criteria:JSON.stringify({name:"breakTime"})}]}},data:function(){return{editModuleID:null,visibility:!1}},methods:{openList:function(){var viewname=this.viewname;if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST)||{},name=_ref.name;name&&this.$router.push({name:name,params:{viewname:viewname},query:this.$route.query})}else this.$router.push({name:"break-v2-list",params:{viewname:viewname},query:this.$route.query})},getViewManagerRoute:function(){var moduleName=this.moduleName,$route=this.$route,query=$route.query,route=(0,routeUtil/* findRouterForModuleInApp */.E)(moduleName,router/* pageTypes */.As.VIEW_MANAGER);route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{moduleName:moduleName},query:(0,objectSpread2/* default */.Z)({},query)}))},addBreak:function(){this.editModuleID=null,this.visibility=!0},editBreak:function(row){var id=row.id;this.editModuleID=id,this.visibility=!0}}},break_BreakListvue_type_script_lang_js=BreakListvue_type_script_lang_js,BreakList_component=(0,componentNormalizer/* default */.Z)(break_BreakListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BreakList=BreakList_component.exports},
/***/849561:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return peopleMixin}});
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.pad-start.js
__webpack_require__(108472),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(634338);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js
var render,staticRenderFns,moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),peopleMixinvue_type_script_lang_js={methods:{getTodayDate:function(){return(new Date).setHours(0,0,0,0).valueOf()},computeSlotEndDay:function(epoch,span){return moment_timezone_default()(epoch).add(span-1,"days").valueOf()},readableTime:function(secondsOfDay){secondsOfDay||(secondsOfDay=0);var millisecondsOfDay=1e3*secondsOfDay;return this.formatDateWithOnlyTime((new Date).setHours(0,0,0,0)+millisecondsOfDay)},prettifyEmpty:function(value){return value||"---"},formatTime:function(t){return t.toString().padStart(2,"0")},secondsToHoursAndMinutes:function(seconds){if(!seconds)return"---";var h=Math.floor(seconds/3600),m=Math.floor(seconds%3600/60);return"".concat(h,"h : ").concat(m,"m")},msToHoursAndMinutes:function(ms){return ms?this.secondsToHoursAndMinutes(ms/1e3):"---"},formatDate:function(date,exclTime,onlyTime){return date?this.$options.filters.formatDate(date,exclTime,onlyTime):"---"},formatDateWithoutTime:function(date){return this.formatDate(date,!0,!1)},formatDateWithOnlyTime:function(date){return this.formatDate(date,!1,!0)},getDisplayNameForTransition:function(name){switch(name){case"CHECK_IN":return"Check-In";case"CHECK_OUT":return"Check-Out";case"RESUME_WORK":return"Resume Work";case"BREAK":return"Break";default:return"---"}},getDisplayNameForStatus:function(name){switch(name){case"ABSENT":return"Absent";case"PRESENT":return"Present";case"WEEKLY_OFF":return"Weekly Off";case"LEAVE":return"Leave";default:return"---"}}}},peopleV2_peopleMixinvue_type_script_lang_js=peopleMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(peopleV2_peopleMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,peopleMixin=component.exports},
/***/266707:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"aa8bf7d214fbcc77945abad62903a613.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/17437.js.map