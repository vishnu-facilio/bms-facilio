"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[62710,97741],{
/***/62710:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ModuleSurveyLiveForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/moduleSurveys/pages/ModuleSurveyLiveForm.vue?vue&type=template&id=78c9976d&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100vh"},[_c("SurveyLiveForm",{ref:"survey-live-form",attrs:{templateModuleName:_vm.templateModuleName,responseModuleName:_vm.responseModuleName,templateDisplayName:_vm.templateDisplayName,responseId:_vm.responseId,canShowFooter:!0},on:{onSubmitSuccess:_vm.redirectToThankYouScreen,recordDetails:_vm.recordDetails},scopedSlots:_vm._u([{key:"header",fn:function(){return[_c("div",{staticClass:"survey-header"},[_c("div",{staticClass:"record-context mT10"},[_c("div",{staticClass:"template-name mB10"},[_vm._v(_vm._s(_vm.surveyName))]),_c("div",{staticClass:"record-id d-flex"},[_vm._v(" "+_vm._s(_vm.moduleDisplayName+" ID")+" : "+_vm._s("#"+_vm.recordId)+" ")]),_c("div",{staticClass:"record-name mB10"},[_vm._v(" "+_vm._s(""+_vm.moduleDisplayName)+" : "+_vm._s(_vm.recordName)+" ")])]),_vm.isEmpty(_vm.companyLogoUrl)?_vm._e():_c("div",{staticClass:"company-logo mT10 mB10"},[_c("img",{staticClass:"logo-style",attrs:{src:_vm.companyLogoUrl}})]),_c("div",{staticClass:"btn-section mT20"},[_c("el-button",{staticClass:"footer-action-btn",attrs:{type:"primary",loading:_vm.isSaving},on:{click:function($event){return _vm.saveSurvey()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.submit"))+" ")])],1)])]},proxy:!0}])})],1)},staticRenderFns=[],dist=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(635120)),router=__webpack_require__(329435),InspectionLiveForm=__webpack_require__(897741),validation=__webpack_require__(990260),ModuleSurveyLiveFormvue_type_script_lang_js={extends:InspectionLiveForm["default"],props:["companyLogoUrl","templateId"],data:function(){return{templateModuleName:"surveyTemplate",templateDisplayName:"Survey",responseModuleName:"surveyResponse",surveyName:"",recordName:"",moduleDisplayName:"",recordId:""}},components:{SurveyLiveForm:dist/* SurveyLiveForm */.Mk},computed:{responseId:function(){return parseInt(this.$route.params.id)},isSaving:function(){return this.$refs["survey-live-form"].isSubmitTriggered}},created:function(){this.isEmpty=validation/* isEmpty */.xb},methods:{getRecordId:function(record){var id=record.id;return id},getRecordName:function(record){var subject=record.subject;return subject},getSurveyName:function(record){var name=record.name;this.surveyName=name},recordDetails:function(record){if(!(0,validation/* isEmpty */.xb)(record)){this.getSurveyName(record);var workorder=record.workOrderId,serviceRequest=record.serviceRequestId;(0,validation/* isEmpty */.xb)(workorder)?(0,validation/* isEmpty */.xb)(serviceRequest)||(this.moduleDisplayName="Service Request",this.recordId=this.getRecordId(serviceRequest),this.recordName=this.getRecordName(serviceRequest)):(this.moduleDisplayName="WorkOrder",this.recordId=this.getRecordId(workorder),this.recordName=this.getRecordName(workorder))}},saveSurvey:function(){this.$refs["survey-live-form"].triggerSubmitSurvey()},redirectToThankYouScreen:function(data){if((0,validation/* isEmpty */.xb)(data))this.$message.error("Survey Expired");else{var responseId=this.responseId,$route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},name=_ref2.name,recordId=_ref2.recordId,_ref3=(0,router/* getApp */.wx)()||{},appName=_ref3.linkName,params={moduleName:name,recordId:recordId,id:responseId,appName:appName};this.$router.push({name:"thankYouScreen",params:params})}this.canSubmitSurvey=!1}}},pages_ModuleSurveyLiveFormvue_type_script_lang_js=ModuleSurveyLiveFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(pages_ModuleSurveyLiveFormvue_type_script_lang_js,render,staticRenderFns,!1,null,"78c9976d",null)
/* harmony default export */,ModuleSurveyLiveForm=component.exports},
/***/897741:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return InspectionLiveForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/inspection/individual-inspection/InspectionLiveForm.vue?vue&type=template&id=1058f399
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_c("SurveyLiveForm",{staticClass:"height100",attrs:{templateModuleName:_vm.templateModuleName,templateDisplayName:_vm.templateDisplayName,responseModuleName:_vm.responseModuleName,responseId:_vm.responseId},on:{onSubmitSuccess:_vm.redirectToSummary,onGoBack:_vm.goBack,dirtyQuestionIds:_vm.isDirtyQuestions}})],1)},staticRenderFns=[],dist=(__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(635120)),router=__webpack_require__(329435),InspectionLiveFormvue_type_script_lang_js={components:{SurveyLiveForm:dist/* SurveyLiveForm */.Mk},computed:{responseId:function(){var $route=this.$route,_ref=$route||{},params=_ref.params,_ref2=params||{},id=_ref2.id;return Number(id)}},data:function(){return{templateModuleName:"inspectionTemplate",templateDisplayName:"Inspection",responseModuleName:"inspectionResponse",canLeave:!0}},beforeRouteLeave:function(to,from,next){if(this.canLeave)next();else{var confirmMessage=this.$t("qanda.response.confirm_message");confirm(confirmMessage)?(this.canLeave=!0,next()):next(!1)}},methods:{isDirtyQuestions:function(value){this.canLeave=value},redirectToSummary:function(data){this.canLeave=!0;var _ref3=data||{},id=_ref3.id;if((0,router/* isWebTabsEnabled */.tj)()){var _ref4=(0,router/* findRouteForModule */.Jp)(this.responseModuleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref4.name;name&&this.$router.push({name:name,params:{viewname:"all",id:id}})}else this.$router.push({name:"individualInspectionSummary",params:{id:id,viewname:"all"}})},goBack:function(props){var _ref5=props||{},_ref5$data=_ref5.data,data=void 0===_ref5$data?{}:_ref5$data;this.redirectToSummary(data)}}},individual_inspection_InspectionLiveFormvue_type_script_lang_js=InspectionLiveFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(individual_inspection_InspectionLiveFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,InspectionLiveForm=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/62710.js.map