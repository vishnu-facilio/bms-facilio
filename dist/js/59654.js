"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[59654],{
/***/659654:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return BillGeneration}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/BillGeneration.vue?vue&type=template&id=43f7900c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout-padding"},[_vm.upload?_c("div",[_c("div",{staticClass:"fc-form-title"},[_vm._v("Generate Bill From Templates")]),_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-md-6"},[_c("q-select",{attrs:{"float-label":"Bill Templates",options:_vm.excelList},model:{value:_vm.billTemplate,callback:function($$v){_vm.billTemplate=$$v},expression:"billTemplate"}})],1)]),_c("div",{staticClass:"row"},[_c("q-datetime",{staticClass:"col-md-2",attrs:{type:"date","float-label":"From Date"},model:{value:_vm.fromdate,callback:function($$v){_vm.fromdate=$$v},expression:"fromdate"}}),_c("q-datetime",{staticClass:"col-md-2",attrs:{type:"date","float-label":"End Date"},model:{value:_vm.enddate,callback:function($$v){_vm.enddate=$$v},expression:"enddate"}})],1),_c("div",{staticClass:"row"},["energydata"===_vm.billTemplate?_c("div",{staticClass:"col-md-6"},[_c("q-select",{attrs:{"float-label":"Assets",options:_vm.assetList},model:{value:_vm.assetName,callback:function($$v){_vm.assetName=$$v},expression:"assetName"}})],1):_vm._e()])]):_vm._e()])},staticRenderFns=[],quasar_esm=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(641358)),BillGenerationvue_type_script_lang_js={data:function(){return{upload:!0,loading:!1,mapping:!1,billTemplate:"Energy",mapperName:"Sami",downloadURL:null,assetName:"0",tenantName:"",fromdate:null,enddate:null,metainfo:[],excelList:[{label:"Select Template",value:-1}],assetList:[]}},title:function(){return"Generate Bill"},mounted:function(){this.loadTemplates()},components:{QSelect:quasar_esm/* QSelect */.zO,QDatetime:quasar_esm/* QDatetime */.fB},created:function(){this.loadAssetsList()},methods:{generatebill:function(file){var self=this,from=new Date(this.fromdate).getTime(),end=new Date(this.enddate).getTime(),formData=new FormData;
// svar self = this
formData.append("startTime",from),formData.append("endTime",end),formData.append("templateId",this.billTemplate),self.$http.post("/tenantbilling/generatebill",formData).then((function(response){self.loading=!1,self.downloadURL=response.data.downloadURL}))},loadTemplates:function(){var self=this;self.$http.get("/tenantbilling/loadtemplates").then((function(response){for(var template=response.data.excelTemplates,i=0;i<template.length;i++){var option={};option.label=template[i].name,option.value=template[i].id,self.excelList.push(option)}}))},processMetainfo:function(metainfo){this.metainfo=metainfo,this.upload=!1,this.mapping=!0},processResult:function(data){this.upload=!0,this.mapping=!1;var alert1=Alert.create({html:"Data imported successfully!",color:"positive",position:"top-center"});setTimeout((function(){alert1.dismiss()}),1500)}}},setup_BillGenerationvue_type_script_lang_js=BillGenerationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(setup_BillGenerationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BillGeneration=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/59654.js.map