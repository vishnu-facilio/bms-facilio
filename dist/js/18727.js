"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[18727],{
/***/990301:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return SpaceReadings}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/v1/SpaceReadings.vue?vue&type=template&id=1f5d9213
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 setup-readings"},[_c("div",{staticClass:"fc-setup-header",staticStyle:{height:"183px"}},[_vm._m(0),_c("div",{staticClass:"action-btn setting-page-btn fR"},[_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){_vm.showDialog=!0}}},[_vm._v("New Space Readings")]),_c("new-asset-reading",{attrs:{isNew:!0,resourceType:"Space",visibility:_vm.showDialog},on:{saved:_vm.aftersave,"update:visibility":function($event){_vm.showDialog=$event}}})],1),_c("div",{staticClass:"clearboth flex-middle pT20 justify-content-space width100"},[_c("div",[_c("el-select",{staticClass:"fc-input-full-border2 space-reading-link",attrs:{placeholder:"Select Readings"},on:{change:_vm.readingSpaceAssetChoosing},model:{value:_vm.readinglist,callback:function($$v){_vm.readinglist=$$v},expression:"readinglist"}},[_c("el-option",{attrs:{label:"Asset Readings",value:"assetreadings"}},[_vm._v(" Asset Readings ")]),_c("el-option",{attrs:{label:"Space Readings",value:"spacereadings"}},[_vm._v(" Space Readings ")]),_c("el-option",{attrs:{label:"Weather Readings",value:"weatherreadings"}},[_vm._v(" Weather Readings ")])],1),_c("el-select",{staticClass:"fc-input-full-border2 space-reading-link mL20",attrs:{placeholder:"Select Readings"},on:{change:_vm.assetReadingChooser},model:{value:_vm.readingFilter,callback:function($$v){_vm.readingFilter=$$v},expression:"readingFilter"}},[_c("el-option",{attrs:{label:"Site",value:"site"}},[_vm._v(" Site ")]),_c("el-option",{attrs:{label:"Building",value:"building"}},[_vm._v(" Building ")]),_c("el-option",{attrs:{label:"Floor",value:"floor"}},[_vm._v(" Floor ")]),_c("el-option",{attrs:{label:"Space",value:"space"}},[_vm._v(" Space ")])],1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL20",attrs:{filterable:"",placeholder:_vm.$t("setup.setup.select_category")},on:{change:_vm.categoryChange},model:{value:_vm.categoryId,callback:function($$v){_vm.categoryId=$$v},expression:"categoryId"}},[_c("el-option",{attrs:{label:"All Categories",value:-1}}),_vm._l(_vm.spaceCategories,(function(category){return _c("el-option",{key:category.id,attrs:{label:category.name,value:category.id}})}))],2)],1),_c("div",[_c("f-search",{staticClass:"reading-search",model:{value:_vm.spaceReadingFields,callback:function($$v){_vm.spaceReadingFields=$$v},expression:"spaceReadingFields"}})],1)]),_c("div",{staticClass:"mT15"},[_c("el-tabs",{staticClass:"width100 setup-reading-tab",on:{"tab-click":_vm.readingsTabChange},model:{value:_vm.selectedtab,callback:function($$v){_vm.selectedtab=$$v},expression:"selectedtab"}},_vm._l(_vm.tabs,(function(tab){return _c("el-tab-pane",{key:tab.key,attrs:{label:tab.label,name:tab.key}},[_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table width100"},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" Reading NAME ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("setup.setupLabel.link_name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" Reading TYPE ")]),_c("th")])]),_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1)])]):_vm._e(),_vm.$validation.isEmpty(_vm.spaceReadingFields)&&!_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"100%"}},[_vm._v(" NO DATA ")])])]):_c("tbody",_vm._l(_vm.spaceReadingFields,(function(field,index){return _c("tr",{key:index,staticClass:"tablerow"},[_c("td",[_vm._v(" "+_vm._s(field.displayName)+" ")]),_c("td",[_vm._v(" "+_vm._s(field.name)+" ")]),_c("td",[_vm._v(" "+_vm._s(field.counterField?"Counter":_vm.$constants.dataType[field.dataType])+" ")]),_c("td",{staticStyle:{width:"30%"}},[_c("div",{staticClass:"text-left actions",staticStyle:{"margin-top":"-3px","margin-right":"15px","text-align":"center"}},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit pointer",attrs:{title:"Edit Reading"},on:{click:function($event){return _vm.editReadingField(field)}}})])])])})),0)])])])])])})),1)],1)]),_vm.editshowDialog?_c("edit-reading",{attrs:{model:_vm.model,visibility:_vm.editshowDialog,unitDetails:_vm.metricsUnits,resourceType:"space"},on:{"update:visibility":function($event){_vm.editshowDialog=$event},saved:_vm.aftersave}}):_vm._e()],1)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"setting-title-block fL"},[_c("div",{staticClass:"setting-form-title"},[_vm._v("Space Readings")]),_c("div",{staticClass:"heading-description"},[_vm._v("List of all space readings")])])}],objectSpread2=__webpack_require__(595082),NewAssetReading=(__webpack_require__(634338),__webpack_require__(625516)),EditAssetReadingDialog=__webpack_require__(18903),vuex_esm=__webpack_require__(420629),FSearch=__webpack_require__(947748),ReadingsHelper=__webpack_require__(414577),SpaceReadingsvue_type_script_lang_js={title:function(){return"Space Reading"},mixins:[ReadingsHelper/* default */.Z],components:{NewAssetReading:NewAssetReading/* default */.Z,EditReading:EditAssetReadingDialog/* default */.Z,FSearch:FSearch/* default */.Z},data:function(){return{metricsUnits:null,loading:!0,spaceReadingFields:[],loadForm:!1,model:{},readinglist:"spacereadings",editshowDialog:!1,showDialog:!1,selectedtab:"connected",tabs:[{key:"connected",label:"Connected"},{key:"formula",label:"Formula"},{key:"available",label:"Available"}],readingFilter:"space",categoryId:-1}},mounted:function(){this.loadDefaultMetricUnits(),this.getAllSpaceReadings()},created:function(){this.$store.dispatch("loadSpaceCategory")},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({spaceCategories:function(state){return state.spaceCategory}})),methods:{aftersave:function(){
// this.$refs.newAssetReadingDialog.close()
this.spaceReadingFields=[],this.getAllSpaceReadings()},showNewReading:function(){this.$refs.newAssetReadingDialog.open(),this.loadForm=!0},getAllSpaceReadings:function(){var self=this;this.loading=!0,self.spaceReadingFields=[],this.$http.get("/v2/readings/spacecategory?id=".concat(this.categoryId,"&readingType=").concat(this.selectedtab)).then((function(response){self.spaceReadingFields=response.data.result.readings,self.loading=!1}))},newSpaceReadingDialog:function(){this.$refs.newSpaceReading.open()},editSpaceCategoryDialog:function(data){this.$refs.editSpaceCategory.open(data)},editReadingField:function(field){this.model.fields=[field],this.editshowDialog=!0},loadDefaultMetricUnits:function(){var self=this;self.$http.get("/units/getDefaultMetricUnits").then((function(response){self.metricsUnits=response.data}))},readingsTabChange:function(){this.getAllSpaceReadings()},categoryChange:function(){this.getAllSpaceReadings()}}},v1_SpaceReadingsvue_type_script_lang_js=SpaceReadingsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v1_SpaceReadingsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceReadings=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/18727.js.map