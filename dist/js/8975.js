"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[8975,8183],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/608183:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ModuleDetails}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/modules/ModuleDetails.vue?vue&type=template&id=604a0104
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",[_c("spinner",{attrs:{show:_vm.isLoading}})],1):_c("div",{staticClass:"d-flex height100 overflow-hidden"},[_c("div",{staticClass:"modules-left-pane"},[_c("ModuleSideBar",{attrs:{moduleData:_vm.moduleData,fieldCount:_vm.fieldCount}})],1),_c("div",{staticClass:"modules-right-pane"},[_c("div",{staticClass:"p20 pB0 white-background"},[_c("div",{staticClass:"module-detail-header"},[_c("div",[_c("div",{staticClass:"setting-form-title text-capitalize"},[_vm._v(" "+_vm._s(_vm.moduleData.displayName)+" ")]),_c("div",{staticClass:"heading-description text-capitalize"},[_vm._v(" Setup "+_vm._s(_vm.moduleData.displayName)+" module details ")])]),_c("portal-target",{attrs:{name:"module-summary-actions"}})],1),_c("div",{staticClass:"module-tabs d-flex justify-content-space width100 overflow-y"},[_c("div",{staticClass:"d-flex module-tabs-height"},_vm._l(_vm.moduleTabs,(function(tab,idx){return _c("router-link",{key:tab.label+"_"+idx,staticClass:"module-tab-link",attrs:{to:tab.path}},[_vm._v(" "+_vm._s(tab.label)+" "),_c("div",{staticClass:"border-highlight"})])})),1),_c("div",{staticClass:"d-flex justify-end"},[_c("portal-target",{attrs:{name:"module-summary-pagenation"}})],1)])]),_c("router-view",{staticClass:"border-separator",attrs:{moduleDisplayName:_vm.moduleData.displayName,moduleData:_vm.moduleData,moduleName:_vm.moduleName}})],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(634338),__webpack_require__(857267),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(670560),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(990260)),ModuleSideBarvue_type_template_id_768801b2_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 overflow-hidden"},[_c("div",{staticClass:"modules-details"},[_c("div",{staticClass:"d-flex text-capitalize cursor-pointer",on:{click:function($event){return _vm.redirectToModulesList()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/arrow",iconClass:"icon icon-sm mR10 arrow rotate-left mT2"}}),_c("div",{staticClass:"f16 bold letter-spacing0_5 fc-black-color text-capitalize"},[_vm._v(" "+_vm._s(_vm.moduleData.displayName)+" ")])],1),_vm.moduleData.custom?_c("div",{staticClass:"d-flex mT40"},[_c("div",{staticClass:"calender d-flex justify-content-center"},[_c("inline-svg",{staticClass:"vertical-middle self-center",attrs:{src:"svgs/calendar-time",iconClass:"icon fill-white icon-md vertical-middle"}})],1),_c("div",[_c("div",{staticClass:"fc-blue-label pL10"},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.created_date"))+" ")]),_c("div",{staticClass:"flex-middle pT5 pL10"},[_c("div",{staticClass:"fc-black-color date f13 letter-spacing0_5"},[_vm._v(" "+_vm._s(_vm._f("formatDate")(_vm.moduleData.createdTime))+" ")])])])]):_vm._e(),_vm.moduleData.custom?_c("div",{staticClass:"d-flex mT25"},[_c("div",{staticClass:"d-flex justify-content-center"},[_c("avatar",{attrs:{size:"lg",user:_vm.moduleData.createdBy,color:"#4273e9"}})],1),_c("div",[_c("div",{staticClass:"fc-blue-label pL10 avatar-title"},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.created_by"))+" ")]),_c("div",{staticClass:"flex-middle pT5 pL10 avatar-content"},[_c("div",{staticClass:"fc-black-color date f13 letter-spacing0_5"},[_vm._v(" "+_vm._s(_vm.getUserName(_vm.moduleData.createdBy))+" ")])])])]):_vm._e(),_c("div",{staticClass:"fields-count d-flex mT30"},[_c("div",{staticClass:"text-capitalize f14 bold letter-spacing0_5 fc-black-color"},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.fields"))+" ")]),_c("div",{staticClass:"f14 letter-spacing0_5 fc-black-color"},[_vm._v(" "+_vm._s(_vm.fieldCount)+" ")])]),_c("div",{staticClass:"state-flow d-flex mT15"},[_c("div",{staticClass:"text-capitalize f14 bold letter-spacing0_5 fc-black-color"},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.state_flows"))+" ")]),_c("div",{staticClass:"f14 letter-spacing0_5 status",class:_vm.moduleData.stateFlowEnabled||!_vm.moduleData.custom?"":"disabled"},[_vm._v(" "+_vm._s(_vm.moduleData.stateFlowEnabled||!_vm.moduleData.custom?_vm.$t("custommodules.list.enabled"):_vm.$t("custommodules.list.disabled"))+" ")])]),_c("div",{staticClass:"description mT15"},[_c("div",{staticClass:"title text-uppercase f11 bold letter-spacing0_5"},[_vm._v(" "+_vm._s(_vm.$t("custommodules.list.description"))+" ")]),_c("div",{staticClass:"f13 letter-spacing0_5 fc-black-color mT7 line-height20"},[_vm._v(" "+_vm._s(_vm.moduleData.description)+" ")])])])])},ModuleSideBarvue_type_template_id_768801b2_staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(434284),__webpack_require__(420629)),Avatar=__webpack_require__(574752),ModuleSideBarvue_type_script_lang_js={props:["moduleData","fieldCount"],components:{Avatar:Avatar["default"]},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getUser"])),methods:{redirectToModulesList:function(){var moduleData=this.moduleData,_ref=moduleData||{},extendModule=_ref.extendModule,_ref2=extendModule||{},name=_ref2.name;if("asset"===name){var currentPath=this.$router.resolve({name:"modules-details",params:{moduleName:name}}).href;this.$router.push({path:"".concat(currentPath,"/extendedModules")})}else this.$router.push({name:"module-list"})},getUserName:function(userObj){if(!(0,validation/* isEmpty */.xb)(userObj)){var id=userObj.id,currentUser=this.getUser(id);return"Unknown"===currentUser.name?"---":currentUser.name}return"---"}}},modules_ModuleSideBarvue_type_script_lang_js=ModuleSideBarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(modules_ModuleSideBarvue_type_script_lang_js,ModuleSideBarvue_type_template_id_768801b2_render,ModuleSideBarvue_type_template_id_768801b2_staticRenderFns,!1,null,null,null)
/* harmony default export */,ModuleSideBar=component.exports,api=__webpack_require__(32284),ModuleDetailsvue_type_script_lang_js={props:["moduleName"],components:{ModuleSideBar:ModuleSideBar},beforeRouteLeave:function(to,from,next){this.$store.dispatch("updateSetupSideBar",!0).then((function(){next()}))},created:function(){var moduleTabs=this.moduleTabs,moduleName=this.moduleName;this.$store.dispatch("updateSetupSideBar",!1),this.init();var path=this.$route.path,tabPath=path.split(moduleName)[1];// return route path after moduleName
if((0,validation/* isEmpty */.xb)(tabPath)||"/"===tabPath){var currentPath=this.$route.path,_path=moduleTabs[0].path,redirectPath="".concat(currentPath).concat("/"===tabPath?"":"/").concat(_path);this.$router.replace({path:redirectPath})}},data:function(){return{isLoading:!1,moduleData:{},fieldCount:null,tabs:[{label:"Templates",path:"layouts"},{label:"Fields",path:"fields"},{label:"Custom Buttons",path:"custombuttons",hasLicense:["CUSTOM_BUTTON"]},{label:"Relationships",path:"relationship"}]}},computed:{activeModuleTabs:function(){return this.tabs},moduleTabs:function(){var $account=this.$account,$helpers=this.$helpers,activeModuleTabs=this.activeModuleTabs,moduleTabs=activeModuleTabs.filter((function(tab){var showInOrg=tab.showInOrg,hasLicense=tab.hasLicense,orgCheck=(0,validation/* isEmpty */.xb)(showInOrg)||showInOrg.includes($account.org.orgId),licenseCheck=(0,validation/* isEmpty */.xb)(hasLicense)||hasLicense.every((function(l){return $helpers.isLicenseEnabled(l)}));return orgCheck&&licenseCheck}));return this.addCustomTabs(moduleTabs)}},watch:{moduleName:{handler:function(newVal,oldVal){newVal!==oldVal&&this.init()}}},methods:{addCustomTabs:function(tabs){return this.addVisitorTabs(tabs),tabs},addVisitorTabs:function(tabs){var tab={label:"Visitor Types",path:"visitortypes"},moduleName=this.moduleName;if("visitorlog"===moduleName||"invitevisitor"===moduleName)return tabs.push(tab)},init:function(){this.loadModuleData(),this.loadFields()},loadFields:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName,_yield$API$get,error,data,HideFieldsSpecificToModule,hiddenFields,fieldsLength;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return moduleName=_this.moduleName,_context.next=3,api/* API */.bl.get("/v2/modules/fields/fields",{moduleName:moduleName});case 3:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this.$message.error(error.message||"Error Occurred"):(HideFieldsSpecificToModule=_this.$constants.HideFieldsSpecificToModule,hiddenFields=HideFieldsSpecificToModule[moduleName]||[],fieldsLength=data.fields.length-hiddenFields.length,_this.fieldCount=fieldsLength);case 7:case"end":return _context.stop()}}),_callee)})))()},loadModuleData:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,_yield$API$get2,error,data,moduleData,description;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.isLoading=!0,moduleName=_this2.moduleName,_context2.next=4,api/* API */.bl.get("v2/module/".concat(moduleName));case 4:_yield$API$get2=_context2.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?_this2.$message.error(error.message||"Error Occurred"):(moduleData=data.module,description=moduleData.description,moduleData.description=(0,validation/* isEmpty */.xb)(description)?"---":description,_this2.moduleData=moduleData),_this2.isLoading=!1;case 9:case"end":return _context2.stop()}}),_callee2)})))()}}},modules_ModuleDetailsvue_type_script_lang_js=ModuleDetailsvue_type_script_lang_js,ModuleDetails_component=(0,componentNormalizer/* default */.Z)(modules_ModuleDetailsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ModuleDetails=ModuleDetails_component.exports},
/***/208975:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return FaultModuleDetails}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules
var render,staticRenderFns,toConsumableArray=__webpack_require__(488478),ModuleDetails=(__webpack_require__(162506),__webpack_require__(670560),__webpack_require__(608183)),FaultModuleDetailsvue_type_script_lang_js={extends:ModuleDetails["default"],computed:{activeModuleTabs:function(){var activeTabs=(0,toConsumableArray/* default */.Z)(this.tabs);return activeTabs.splice(0,1),// delete template tab
activeTabs.push({label:"Severity",path:"severity"}),activeTabs}}},newreadingalarm_FaultModuleDetailsvue_type_script_lang_js=FaultModuleDetailsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(newreadingalarm_FaultModuleDetailsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FaultModuleDetails=component.exports;
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.splice.js
}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/8975.js.map