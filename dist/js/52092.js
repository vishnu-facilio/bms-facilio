(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[52092],{
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/852092:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return UserScopingAddOrEdit}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/UserScopes/UserScopingAddOrEdit.vue?vue&type=template&id=429fabce
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:!0,width:"85%","custom-class":"fc-setup-dialog-form fc-setup-dialog-form fc-setup-rightSide-dialog-scroll fc-user-scope-dialog","append-to-body":!0,"before-close":_vm.closeDialog}},[_c("el-form",{ref:"scopeDetails",attrs:{model:_vm.scopingContext,"label-position":"top"}},[_c("div",{staticClass:"form-header inactiveheader flex-middle justify-content-space"},[_vm.isNew?_vm._e():_c("div",{staticClass:"fc-black2-18 fw6"},[_vm._v(" Edit "+_vm._s(_vm.scopingContext.scopeName)+" ")]),!0===_vm.userScopeData.isDefault?_c("div",{staticClass:"text-center fc-text-blink fc-red-new bold letter-spacing07"},[_vm._v(" "+_vm._s(_vm.$t("setup.userScoping.default_scoping_cannot_edit"))+" ")]):_vm._e(),_c("div")]),_c("div",{staticClass:"user-scope-criteria-con"},[_c("div",{staticClass:"user-scope-criteria-left"},[_c("el-form-item",[_c("div",{staticClass:"fc-user-scope-criteria-search"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Search the module",clearable:""},model:{value:_vm.searchQuery,callback:function($$v){_vm.searchQuery=$$v},expression:"searchQuery"}},[_c("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),_vm.loading?_c("div",{staticClass:"fc-user-empty-creation"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm.$validation.isEmpty(_vm.resultQuery)&&!_vm.loading?_c("div",{staticClass:"fc-user-empty-creation"},[_c("inline-svg",{attrs:{src:"svgs/floor-plan-empty",iconClass:"icon text-center icon-xxxlg"}}),_c("div",{staticClass:"fwBold fc-black-14 text-left"},[_vm._v(" "+_vm._s(_vm.$t("setup.userScoping.no_results"))+" ")])],1):_c("div",_vm._l(_vm.resultQuery,(function(modules){return _c("div",{key:modules.moduleId,staticClass:"module-link",class:{active:_vm.selectedModule.moduleId==modules.moduleId},on:{click:function($event){_vm.selectedModule=modules}}},[_c("div",{staticClass:"flex-middle justify-content-space line-height20"},[_c("div",{staticClass:"width70 break-word"},[_c("a",{},[_vm._v(" "+_vm._s(modules.displayName)+" ")])]),_vm.configuredList[modules.moduleId]?_c("div",{staticClass:"fc-criteria-enabled"},[_vm._v(" Configured ")]):_vm._e()])])})),0)])],1),_c("div",{staticClass:"user-scope-criteria-right"},[_vm.loading?_c("div",{staticClass:"fc-user-empty-creation"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_vm.$validation.isEmpty(_vm.modulesList)&&!_vm.loading?_c("div",{staticClass:"fc-user-empty-creation"},[_c("inline-svg",{attrs:{src:"svgs/floor-plan-empty",iconClass:"icon text-center icon-xxxlg"}}),_c("div",{staticClass:"fwBold fc-black-14 text-left"},[_vm._v(" "+_vm._s(_vm.$t("setup.userScoping.no_results"))+" ")])],1):_c("div",[_c("div",{staticClass:"fc-security-header"},[_c("div",{staticClass:"fc-modal-sub-title fw6 pB20 pL20"},[_vm._v(" "+_vm._s(_vm.selectedModule.displayName)+" ")])]),_c("el-form-item",[_vm.moduleIdVsCriteriaObj[_vm.selectedModule.moduleId]?_c("UserScopeCriteria",{key:_vm.selectedModule.moduleId,ref:"criteriaBuilder",attrs:{exrule:_vm.moduleIdVsCriteriaObj[_vm.selectedModule.moduleId].criteria,module:_vm.selectedModule.name,isRendering:_vm.isCriteriaRendering},on:{condition:_vm.handleCondition,"update:isRendering":function($event){_vm.isCriteriaRendering=$event},"update:is-rendering":function($event){_vm.isCriteriaRendering=$event}},model:{value:_vm.moduleIdVsCriteriaObj[_vm.selectedModule.moduleId].criteria,callback:function($$v){_vm.$set(_vm.moduleIdVsCriteriaObj[_vm.selectedModule.moduleId],"criteria",$$v)},expression:"\n                moduleIdVsCriteriaObj[selectedModule.moduleId].criteria\n              "}}):_vm._e()],1)],1)])])]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving,disabled:!0===_vm.userScopeData.isDefault},on:{click:_vm.saveUserScope}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.confirm"))+" ")])],1)],1)},staticRenderFns=[],esm_typeof=__webpack_require__(103336),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),UserScopeCriteriavue_type_template_id_5fafe9d0_render=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(670560),__webpack_require__(169358),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-user-scope-criteria"},[_c("div",{staticClass:"criteria-container"},[_vm.disable?_c("div",{staticClass:"disable-overlay"}):_vm._e(),_c("div",{staticClass:"criteria-inner-container"},[_vm.hideTitleSection?_vm._e():_c("label",{staticClass:"fc-modal-sub-title",attrs:{for:"name"}},[_vm._v(_vm._s(_vm.$t("setup.users_management.criteria")))]),_vm.hideTitleSection?_vm._e():_c("div",{staticClass:"fc-sub-title-desc"},[_vm._v(" "+_vm._s(_vm.title?_vm.title:_vm.$t("setup.users_management.specify_rules_for_reading"))+" ")]),Object.keys(_vm.rule.conditions).length>=2?_c("div",{staticClass:"criteria-radio-block mT20 mL10 mB10"},[_c("el-radio-group",{staticClass:"criteria-radio-label",attrs:{disabled:1!==_vm.disabled},model:{value:_vm.conditionOperator,callback:function($$v){_vm.conditionOperator=$$v},expression:"conditionOperator"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"and"}},[_vm._v("Match all ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"or"}},[_vm._v("Match any ")])],1)],1):_vm._e(),_vm._l(_vm.rule.conditions,(function(criteria,key,i){return _c("div",{key:key,staticClass:"criteria-condition-block"},[_c("div",{staticStyle:{display:"none"}},[_vm._v(_vm._s(criteria))]),_c("div",{staticClass:"criteria-alphabet-block"},[_c("div",{staticClass:"alphabet-circle"},[_vm._v(" "+_vm._s(key)+" ")])]),_c("div",{staticClass:"creteria-dropdown"},[_c("el-select",{staticClass:"fc-border-select",attrs:{filterable:"",placeholder:"Select Field"},on:{change:function($event){return _vm.fieldSelected(criteria)}},model:{value:criteria.fieldName,callback:function($$v){_vm.$set(criteria,"fieldName",$$v)},expression:"criteria.fieldName"}},_vm._l(_vm.moduleMetaObject.fields,(function(field,idx1){return _c("el-option",{key:idx1,attrs:{label:field.displayName,value:field.name}})})),1)],1),_c("div",{staticClass:"creteria-dropdown"},[criteria.isResourceOperator?_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{placeholder:"Select operator","default-first-option":!0},on:{change:function($event){return _vm.statusFieldName(criteria,key)}},model:{value:criteria.name,callback:function($$v){_vm.$set(criteria,"name",$$v)},expression:"criteria.name"}},_vm._l(_vm.resourceOperator,(function(group){return _c("el-option-group",{key:group.label,attrs:{label:group.label}},_vm._l(group.options,(function(operator,idx2){return _c("el-option",{key:idx2+group.label,attrs:{label:operator.operator,value:operator.name}})})),1)})),1):_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{placeholder:"Select operator","default-first-option":"",filterable:""},on:{change:function($event){return _vm.statusFieldName(criteria,key)}},model:{value:criteria.operatorLabel,callback:function($$v){_vm.$set(criteria,"operatorLabel",$$v)},expression:"criteria.operatorLabel"}},_vm._l(_vm.getOperators(criteria),(function(operator,indexOpertator){return _c("el-option",{key:indexOpertator,attrs:{label:operator.operator,value:operator.operator,selected:0===indexOpertator}})})),1)],1),_c("div",[_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{"collapse-tags":"",filterable:"","default-first-option":!0},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:_vm.fieldValues[criteria.fieldName],callback:function($$v){_vm.$set(_vm.fieldValues,criteria.fieldName,$$v)},expression:"fieldValues[criteria.fieldName]"}},_vm._l(_vm.valueTypes,(function(valueType,idx3){return _c("el-option",{key:idx3,attrs:{label:valueType,value:idx3}})})),1)],1),"93"===_vm.fieldValues[criteria.fieldName]?_c("div",{staticClass:"pL10"},[_c("el-select",{staticClass:"select-operator-input fc-border-select",attrs:{filterable:""},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}},_vm._l(_vm.valueGeneratorData,(function(generator,valueInex){return _c("el-option",{key:valueInex,attrs:{value:generator.linkName,label:generator.valueGeneratorName}})})),1)],1):_c("div",{staticClass:"pL10",class:_vm.$validation.isEmpty(_vm.lookupModuleFieldsList)?"creteria-input":"creteria-input d-flex flex-direction-column"},[criteria.operatorsDataType?_c("div",[_vm.$validation.isEmpty(_vm.lookupModuleFieldsList)||_vm.$validation.isEmpty(_vm.showLookupFieldForCriteria[key])||"1"!==_vm.showLookupFieldForCriteria[key]?criteria.isSpacePicker?_c("div",{staticClass:"fc-tag"},[_c("el-input",{staticClass:"fc-border-select",attrs:{disabled:""},model:{value:criteria.parseLabel,callback:function($$v){_vm.$set(criteria,"parseLabel",$$v)},expression:"criteria.parseLabel"}},[_c("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{"line-height":"0px !important","font-size":"16px !important",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function($event){_vm.chooserVisibility=!0,_vm.selectedIndex(i)}},slot:"suffix"})])],1):"formId"===criteria.fieldName?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100 select-operator-input fc-border-select",attrs:{multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"NUMBER"===criteria.operatorsDataType.dataType||"DECIMAL"===criteria.operatorsDataType.dataType?_c("el-input",{staticClass:"fc-border-select",attrs:{type:"number"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"BOOLEAN"===criteria.operatorsDataType.dataType?_c("el-select",{staticClass:"fc-border-select",on:{change:_vm.forceUpdate},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}},[_c("el-option",{attrs:{label:criteria.trueVal?criteria.trueVal:"Yes",value:"true"}}),_c("el-option",{attrs:{label:criteria.falseVal?criteria.falseVal:"No",value:"false"}})],1):"DATE"===criteria.operatorsDataType.dataType?_c("f-date-picker",{staticClass:"fc-border-select form-date-picker",attrs:{type:criteria.operator&&criteria.operator.indexOf("between")>=0?"daterange":"date"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"DATE_TIME"===criteria.operatorsDataType.dataType?_c("f-date-picker",{staticClass:"fc-border-select form-date-picker",attrs:{type:criteria.operator&&criteria.operator.indexOf("between")>=0?"datetimerange":"datetime"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_SIMPLE"===criteria.operatorsDataType.displayType||"MULTI_LOOKUP"===criteria.operatorsDataType.dataType||"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_POPUP"===criteria.operatorsDataType.displayType?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100 select-operator-input fc-border-select",attrs:{filterable:"",multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"ENUM"===criteria.operatorsDataType.dataType||"SYSTEM_ENUM"===criteria.operatorsDataType.dataType||"MULTI_ENUM"===criteria.operatorsDataType.dataType||"siteId"===criteria.fieldName?_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100 select-operator-input fc-border-select",attrs:{multiple:"","collapse-tags":""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.valueArray,callback:function($$v){_vm.$set(criteria,"valueArray",$$v)},expression:"criteria.valueArray"}},_vm._l(_vm.picklistOptions[criteria.fieldName],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"LOOKUP"===criteria.operatorsDataType.dataType&&"LOOKUP_POPUP1"===criteria.operatorsDataType.displayType?_c("el-input",{staticClass:"fc-border-select",attrs:{placeholder:"Select records",readonly:!0,"suffix-icon":"el-icon-search"},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):_c("el-input",{staticClass:"fc-border-select",on:{change:_vm.forceUpdate},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}}):_c("div",[_c("el-select",{staticClass:"fc-select-multiple-tag fc-criteria-value-select fc-tag width100 select-operator-input fc-border-select",attrs:{"collapse-tags":"",filterable:""},on:{change:function($event){return _vm.chageDataType(criteria)}},model:{value:criteria.value,callback:function($$v){_vm.$set(criteria,"value",$$v)},expression:"criteria.value"}},_vm._l(_vm.lookupModuleFieldsList,(function(value,key){return _c("el-option",{key:key,attrs:{label:value.displayName,value:"${"+(_vm.lookupFieldModuleName?_vm.lookupFieldModuleName:"")+"."+value.name+(_vm.$validation.isEmpty(value.field)||"LOOKUP"!=value.field.dataTypeEnum?"":".id")+"}"}})})),1)],1)],1):_vm._e()]),_c("div",{staticClass:"creteria-delete-icon flex-middle"},[Object.keys(_vm.rule.conditions).length-1===i?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addCreteria}}):_vm._e(),1!==Object.keys(_vm.rule.conditions).length?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-right":"3px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteCreteria(key)}}}):_vm._e()])])})),Object.keys(_vm.rule.conditions).length>2?_c("div",{staticClass:"creteria-footer"},[_c("span",{staticClass:"criteria-pattern-txt"},[_vm._v("Criteria Pattern")]),_c("el-input",{staticClass:"criteria-input fc-border-select",staticStyle:{width:"450px","margin-left":"20px"},attrs:{placeholder:"Please input",disabled:1===_vm.disabled},model:{value:_vm.rule.pattern,callback:function($$v){_vm.$set(_vm.rule,"pattern",$$v)},expression:"rule.pattern"}}),_c("span",{staticClass:"pointer",on:{click:function($event){_vm.disabled=!1}}},[_c("i",{staticClass:"el-icon-edit",staticStyle:{position:"relative",top:"8px",right:"-13px",cursor:"pointer",color:"#319aa8"}})]),_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.err,expression:"err"}],staticClass:"err-msg"},[_vm._v(_vm._s(_vm.err))])],1):_c("div",[_c("div")]),_vm.chooserVisibility?_c("space-asset-multi-chooser",{attrs:{visibility:_vm.chooserVisibility,initialValues:_vm.resourceData,showAsset:_vm.type,hideBanner:!0,selectedResource:_vm.selectedeResourceObj},on:{associate:_vm.associateResource,"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e()],2)])])}),UserScopeCriteriavue_type_template_id_5fafe9d0_staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),vuex_esm=(__webpack_require__(506203),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(212826),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(186466),__webpack_require__(564043),__webpack_require__(907409),__webpack_require__(821057),__webpack_require__(420629)),validation=__webpack_require__(990260),SpaceAssetMultiChooser=__webpack_require__(673362),FDatePicker=__webpack_require__(358551),isString=__webpack_require__(747037),isString_default=__webpack_require__.n(isString),picklist=__webpack_require__(961358),api=__webpack_require__(32284),UserScopeCriteriavue_type_script_lang_js={props:["module","exrule","disable","title","isRendering","lookupFieldModuleName","showSiteField","showFormIDField","hideTitleSection","index","variables","lookupModuleFieldsList"],computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getTicketStatusPickList"])),(0,vuex_esm/* mapState */.rn)({ticketpriority:function(state){return state.ticketPriority},siteList:function(state){return state.sites},roles:function(state){return state.roles}})),created:function(){this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadRoles")},watch:{conditionOperator:function(){var pat=Object.keys(this.rule.conditions).join(" ".concat(this.conditionOperator," "));this.rule.pattern="("+pat+")"},rule:{handler:function(after,before){var postfix,tokens=this.tokenize(after.pattern);try{this.err="",postfix=this.postfix(tokens);var expressionTree=this.expressionTree(postfix);if(0===Object.keys(expressionTree).length)return this.rule.pattern="","undefined"!==typeof this.index?this.$emit("condition",this.rule,this.index):this.$emit("condition",this.rule),void(this.err="Pattern is mandatory");var infix=[];this.infix(expressionTree,infix),this.rule.pattern=this.toPattern(infix),"undefined"!==typeof this.index?this.$emit("condition",this.rule,this.index):this.$emit("condition",this.rule),this.$emit("hook",this.rule),this.$emit("moduleObj",this.moduleMetaObject)}catch(e){this.err=e.message}},deep:!0},exrule:function(ruled){this.loadModuleMeta(ruled),this.lookupFieldHandling()},module:function(){this.loadModuleMeta(this.exrule)}},data:function(){return{excludeOperators:[74,75,76,77,78,79,35],valueTypes:{
// 1: 'Field',
2:"Value",93:"Value generator"},valueInput:"",showLookupFieldForCriteria:{},woForms:[],fieldValues:{},moduleMeta:{},dataTypeToDisplayType:{TEXT:"TEXTBOX",NUMBER:"NUMBER",DECIMAL:"DECIMAL",DATE_TIME:"DATE_TIME",DATE:"DATE"},Defaultoperators:{ENUM:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"value isn't":{dynamicOperator:!1,operator:"value isn't",operatorId:53,valueNeeded:!0,_name:"VALUE_ISN_T"},"value is":{dynamicOperator:!1,operator:"value is",operatorId:52,valueNeeded:!0,_name:"VALUE_IS"},is:{dynamicOperator:!1,operator:"is",operatorId:54,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!1,operator:"isn't",operatorId:55,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},NUMBER:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},MISC:null,DECIMAL:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},BOOLEAN:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},is:{dynamicOperator:!1,operator:"is",operatorId:15,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},DATE:{Upcoming:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Upcoming",operatorId:73,valueNeeded:!1,_name:"UPCOMING"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"Current year upto last month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current year upto last month",operatorId:80,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_LAST_MONTH"},"is after":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is after",operatorId:19,valueNeeded:!0,_name:"IS_AFTER"},"Current N Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Year",operatorId:65,valueNeeded:!0,_name:"CURRENT_N_YEAR"},"Last N Months":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Months",operatorId:51,valueNeeded:!0,_name:"LAST_N_MONTHS"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"Current Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year",operatorId:44,valueNeeded:!1,_name:"CURRENT_YEAR"},"Current Year upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year upto now",operatorId:46,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_NOW"},"Within N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Within N Hours",operatorId:40,valueNeeded:!0,_name:"WITHIN_HOURS"},"In N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"In N Day",operatorId:58,valueNeeded:!0,_name:"IN_N_DAY"},"Current Week upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week upto now",operatorId:47,valueNeeded:!1,_name:"CURRENT_WEEK_UPTO_NOW"},"Age in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Age in Days",operatorId:33,valueNeeded:!0,_name:"AGE_IN_DAYS"},between:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!1,operator:"between",operatorId:20,valueNeeded:!0,_name:"BETWEEN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},Yesterday:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Yesterday",operatorId:25,valueNeeded:!1,_name:"YESTERDAY"},"Current N Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Month",operatorId:64,valueNeeded:!0,_name:"CURRENT_N_MONTH"},is:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is",operatorId:16,valueNeeded:!0,_name:"IS"},"Next N Weeks":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Weeks",operatorId:60,valueNeeded:!0,_name:"NEXT_N_WEEKS"},Tomorrow:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Tomorrow",operatorId:23,valueNeeded:!1,_name:"TOMORROW"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"},"Current Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week",operatorId:31,valueNeeded:!1,_name:"CURRENT_WEEK"},"Next N Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Months",operatorId:59,valueNeeded:!0,_name:"NEXT_N_MONTHS"},"Current N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Day",operatorId:62,valueNeeded:!0,_name:"CURRENT_N_DAY"},"Till Yesterday":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Yesterday",operatorId:26,valueNeeded:!1,_name:"TILL_YESTERDAY"},"Last Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Quarter",operatorId:69,valueNeeded:!1,_name:"LAST_QUARTER"},"Last Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Month",operatorId:27,valueNeeded:!1,_name:"LAST_MONTH"},"Due in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Due in Days",operatorId:34,valueNeeded:!0,_name:"DUE_IN_DAYS"},"Next N Days":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Days",operatorId:61,valueNeeded:!0,_name:"NEXT_N_DAYS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"},"Last N Hours":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Hours",operatorId:42,valueNeeded:!0,_name:"LAST_N_HOURS"},"Last Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Months",operatorId:39,valueNeeded:!0,_name:"LAST_MONTHS"},"Last N Minutes":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Minutes",operatorId:56,valueNeeded:!0,_name:"LAST_N_MINUTES"},"Current N Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Quarter",operatorId:67,valueNeeded:!0,_name:"CURRENT_N_QUARTER"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"Next N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Hours",operatorId:41,valueNeeded:!0,_name:"NEXT_HOURS"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"isn't",operatorId:17,valueNeeded:!0,_name:"ISN_T"},"is before":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is before",operatorId:18,valueNeeded:!0,_name:"IS_BEFORE"},"Starting Tomorrow":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Starting Tomorrow",operatorId:24,valueNeeded:!1,_name:"STARTING_TOMORROW"},"Last Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Week",operatorId:30,valueNeeded:!1,_name:"LAST_WEEK"},"Current N Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Week",operatorId:63,valueNeeded:!0,_name:"CURRENT_N_WEEK"},"Hour Start Time":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Hour Start Time",operatorId:71,valueNeeded:!0,_name:"HOUR_START_TIME"},"Next Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Month",operatorId:29,valueNeeded:!1,_name:"NEXT_MONTH"},"not between":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"not between",operatorId:21,valueNeeded:!0,_name:"NOT_BETWEEN"},"Past Nth day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Past Nth day",operatorId:57,valueNeeded:!0,_name:"PAST_N_DAY"},"Last N Weeks":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Weeks",operatorId:50,valueNeeded:!0,_name:"LAST_N_WEEKS"},"Last Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Year",operatorId:45,valueNeeded:!1,_name:"LAST_YEAR"},"today upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"today upto now",operatorId:43,valueNeeded:!1,_name:"TODAY_UPTO_NOW"},"This Quarter":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"This Quarter",operatorId:68,valueNeeded:!1,_name:"THIS_QUARTER"},"Last N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Days",operatorId:49,valueNeeded:!0,_name:"LAST_N_DAYS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},Today:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Today",operatorId:22,valueNeeded:!1,_name:"TODAY"},"This Month Till Yesterday":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"This Month Till Yesterday",operatorId:66,valueNeeded:!1,_name:"THIS_MONTH_TILL_YESTERDAY"},"Till Now":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Now",operatorId:72,valueNeeded:!1,_name:"TILL_NOW"},"Current Month upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month upto now",operatorId:48,valueNeeded:!1,_name:"CURRENT_MONTH_UPTO_NOW"},"Next Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Week",operatorId:32,valueNeeded:!1,_name:"NEXT_WEEK"},"LAST N Quarters":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"LAST N Quarters",operatorId:70,valueNeeded:!0,_name:"LAST_N_QUARTERS"},"Current Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month",operatorId:28,valueNeeded:!1,_name:"CURRENT_MONTH"}},LOOKUP:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},lookup:{dynamicOperator:!1,operator:"lookup",operatorId:35,valueNeeded:!0,_name:"LOOKUP"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},building_is:{dynamicOperator:!0,operator:"building_is",operatorId:38,valueNeeded:!0,_name:"BUILDING_IS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},is:{dynamicOperator:!0,operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},STRING:{" > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},"doesn't contain":{dynamicOperator:!1,operator:"doesn't contain",operatorId:6,valueNeeded:!0,_name:"DOESNT_CONTAIN"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"ends with":{dynamicOperator:!1,operator:"ends with",operatorId:8,valueNeeded:!0,_name:"ENDS_WITH"},is:{dynamicOperator:!1,operator:"is",operatorId:3,valueNeeded:!0,_name:"IS"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{dynamicOperator:!1,operator:"isn't",operatorId:4,valueNeeded:!0,_name:"ISN_T"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},contains:{dynamicOperator:!1,operator:"contains",operatorId:5,valueNeeded:!0,_name:"CONTAINS"},"starts with":{dynamicOperator:!1,operator:"starts with",operatorId:7,valueNeeded:!0,_name:"STARTS_WITH"}},DATE_TIME:{Upcoming:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Upcoming",operatorId:73,valueNeeded:!1,_name:"UPCOMING"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"Current year upto last month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current year upto last month",operatorId:80,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_LAST_MONTH"},"is after":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is after",operatorId:19,valueNeeded:!0,_name:"IS_AFTER"},"Current N Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Year",operatorId:65,valueNeeded:!0,_name:"CURRENT_N_YEAR"},"Last N Months":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Months",operatorId:51,valueNeeded:!0,_name:"LAST_N_MONTHS"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"Current Year":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year",operatorId:44,valueNeeded:!1,_name:"CURRENT_YEAR"},"Current Year upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Year upto now",operatorId:46,valueNeeded:!1,_name:"CURRENT_YEAR_UPTO_NOW"},"Within N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Within N Hours",operatorId:40,valueNeeded:!0,_name:"WITHIN_HOURS"},"In N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"In N Day",operatorId:58,valueNeeded:!0,_name:"IN_N_DAY"},"Current Week upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week upto now",operatorId:47,valueNeeded:!1,_name:"CURRENT_WEEK_UPTO_NOW"},"Age in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Age in Days",operatorId:33,valueNeeded:!0,_name:"AGE_IN_DAYS"},between:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!1,operator:"between",operatorId:20,valueNeeded:!0,_name:"BETWEEN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"},Yesterday:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Yesterday",operatorId:25,valueNeeded:!1,_name:"YESTERDAY"},"Current N Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Month",operatorId:64,valueNeeded:!0,_name:"CURRENT_N_MONTH"},is:{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is",operatorId:16,valueNeeded:!0,_name:"IS"},"Next N Weeks":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Weeks",operatorId:60,valueNeeded:!0,_name:"NEXT_N_WEEKS"},Tomorrow:{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Tomorrow",operatorId:23,valueNeeded:!1,_name:"TOMORROW"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"},"Current Week":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Week",operatorId:31,valueNeeded:!1,_name:"CURRENT_WEEK"},"Next N Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Months",operatorId:59,valueNeeded:!0,_name:"NEXT_N_MONTHS"},"Current N Day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Day",operatorId:62,valueNeeded:!0,_name:"CURRENT_N_DAY"},"Till Yesterday":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Yesterday",operatorId:26,valueNeeded:!1,_name:"TILL_YESTERDAY"},"Last Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Quarter",operatorId:69,valueNeeded:!1,_name:"LAST_QUARTER"},"Last Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Month",operatorId:27,valueNeeded:!1,_name:"LAST_MONTH"},"Due in Days":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Due in Days",operatorId:34,valueNeeded:!0,_name:"DUE_IN_DAYS"},"Next N Days":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Days",operatorId:61,valueNeeded:!0,_name:"NEXT_N_DAYS"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"},"Last N Hours":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Hours",operatorId:42,valueNeeded:!0,_name:"LAST_N_HOURS"},"Last Months":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Months",operatorId:39,valueNeeded:!0,_name:"LAST_MONTHS"},"Last N Minutes":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Minutes",operatorId:56,valueNeeded:!0,_name:"LAST_N_MINUTES"},"Current N Quarter":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Quarter",operatorId:67,valueNeeded:!0,_name:"CURRENT_N_QUARTER"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"Next N Hours":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next N Hours",operatorId:41,valueNeeded:!0,_name:"NEXT_HOURS"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"},"isn't":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"isn't",operatorId:17,valueNeeded:!0,_name:"ISN_T"},"is before":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"is before",operatorId:18,valueNeeded:!0,_name:"IS_BEFORE"},"Starting Tomorrow":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Starting Tomorrow",operatorId:24,valueNeeded:!1,_name:"STARTING_TOMORROW"},"Last Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Week",operatorId:30,valueNeeded:!1,_name:"LAST_WEEK"},"Current N Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Current N Week",operatorId:63,valueNeeded:!0,_name:"CURRENT_N_WEEK"},"Hour Start Time":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"Hour Start Time",operatorId:71,valueNeeded:!0,_name:"HOUR_START_TIME"},"Next Month":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Month",operatorId:29,valueNeeded:!1,_name:"NEXT_MONTH"},"not between":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!1,operator:"not between",operatorId:21,valueNeeded:!0,_name:"NOT_BETWEEN"},"Past Nth day":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Past Nth day",operatorId:57,valueNeeded:!0,_name:"PAST_N_DAY"},"Last N Weeks":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Weeks",operatorId:50,valueNeeded:!0,_name:"LAST_N_WEEKS"},"Last Year":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Last Year",operatorId:45,valueNeeded:!1,_name:"LAST_YEAR"},"today upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"today upto now",operatorId:43,valueNeeded:!1,_name:"TODAY_UPTO_NOW"},"This Quarter":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"This Quarter",operatorId:68,valueNeeded:!1,_name:"THIS_QUARTER"},"Last N Days":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Last N Days",operatorId:49,valueNeeded:!0,_name:"LAST_N_DAYS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},Today:{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Today",operatorId:22,valueNeeded:!1,_name:"TODAY"},"This Month Till Yesterday":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"This Month Till Yesterday",operatorId:66,valueNeeded:!1,_name:"THIS_MONTH_TILL_YESTERDAY"},"Till Now":{baseLineSupported:!1,currentOperator:!1,dynamicOperator:!0,operator:"Till Now",operatorId:72,valueNeeded:!1,_name:"TILL_NOW"},"Current Month upto now":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month upto now",operatorId:48,valueNeeded:!1,_name:"CURRENT_MONTH_UPTO_NOW"},"Next Week":{baseLineSupported:!0,currentOperator:!1,dynamicOperator:!0,operator:"Next Week",operatorId:32,valueNeeded:!1,_name:"NEXT_WEEK"},"LAST N Quarters":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"LAST N Quarters",operatorId:70,valueNeeded:!0,_name:"LAST_N_QUARTERS"},"Current Month":{baseLineSupported:!0,currentOperator:!0,dynamicOperator:!0,operator:"Current Month",operatorId:28,valueNeeded:!1,_name:"CURRENT_MONTH"}},ID:{"<=":{dynamicOperator:!1,operator:"<=",operatorId:12,valueNeeded:!0,_name:"LESS_THAN_EQUAL"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}," <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"!=":{dynamicOperator:!1,operator:"!=",operatorId:10,valueNeeded:!0,_name:"NOT_EQUALS"},"<":{dynamicOperator:!1,operator:"<",operatorId:11,valueNeeded:!0,_name:"LESS_THAN"},"=":{dynamicOperator:!1,operator:"=",operatorId:9,valueNeeded:!0,_name:"EQUALS"},">":{dynamicOperator:!1,operator:">",operatorId:13,valueNeeded:!0,_name:"GREATER_THAN"},">=":{dynamicOperator:!1,operator:">=",operatorId:14,valueNeeded:!0,_name:"GREATER_THAN_EQUAL"}},FILE:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},COUNTER:{" <= ":{dynamicOperator:!1,operator:" <= ",operatorId:77,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN_EQUAL"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"}," > ":{dynamicOperator:!1,operator:" > ",operatorId:78,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN"}," = ":{dynamicOperator:!1,operator:" = ",operatorId:74,placeHoldersMandatory:!0,valueNeeded:!1,_name:"EQUAL"}," < ":{dynamicOperator:!1,operator:" < ",operatorId:76,placeHoldersMandatory:!0,valueNeeded:!1,_name:"LESS_THAN"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}," != ":{dynamicOperator:!1,operator:" != ",operatorId:75,placeHoldersMandatory:!0,valueNeeded:!1,_name:"NOT_EQUAL"}," >= ":{dynamicOperator:!1,operator:" >= ",operatorId:79,placeHoldersMandatory:!0,valueNeeded:!1,_name:"GREATER_THAN_EQUAL"}},SYSTEM_ENUM:null},selectedeResourceObj:[],siteLists:{},siteId:{displayName:"Site",name:"siteId",default:!0,options:{},value:[],dataTypeEnum:{_name:"LOOKUP"}},formId:{displayName:"Template",name:"formId",default:!0,options:{},value:[],dataTypeEnum:{_name:"LOOKUP"}},resourceOperator:[{label:"",options:[{name:"isEmpty",dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},{name:"is not empty",dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"}]},{label:"Space",options:[{name:"space_isn't",dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"},{dynamicOperator:!0,name:"space_is",operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"},{dynamicOperator:!0,name:"space_building_is",operator:"building_is",operatorId:38,valueNeeded:!0,_name:"BUILDING_IS"}]},{label:"Asset",options:[{name:"asset_isn't",dynamicOperator:!0,operator:"isn't",operatorId:37,valueNeeded:!0,_name:"ISN_T"},{name:"asset_is",dynamicOperator:!0,operator:"is",operatorId:36,valueNeeded:!0,_name:"IS"}]}],systemEnumOperator:{is:{dynamicOperator:!0,operator:"is",operatorId:9,valueNeeded:!0,_name:"IS"},"is empty":{dynamicOperator:!1,operator:"is empty",operatorId:1,valueNeeded:!1,_name:"IS_EMPTY"},"is not empty":{dynamicOperator:!1,operator:"is not empty",operatorId:2,valueNeeded:!1,_name:"IS_NOT_EMPTY"},"isn't":{dynamicOperator:!0,operator:"isn't",operatorId:10,valueNeeded:!0,_name:"ISN_T"}},dummyAssertValue:[],err:"",isResourceOperator:!1,type:null,chooserVisibility:!1,quickSearchQuery:"",spaceAssetDisplayName:"",picklistOptions:{},valueNotNeed:["is empty","is not empty","Today","Tomorrow","Yesterday","Starting Tomorrow","Till Yesterday","Till Now","Last Month","Current Month","Next Month","Last Week","Current Week","Next Week","is before","is after"],conditionOperator:"and",moduleMetaObject:[],disabled:1,resourceData:null,selectedIndexs:null,rule:{pattern:"",conditions:{}},valueGeneratorData:[],valueGenerator:{}}},components:{SpaceAssetMultiChooser:SpaceAssetMultiChooser/* default */.Z,FDatePicker:FDatePicker/* default */.Z},mounted:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _this$exrule;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.addCreteria(),_context.next=3,_this.loadWoForms();case 3:return _context.next=5,_this.loadModuleMeta(_this.exrule);case 5:return _this.lookupFieldHandling(),_context.next=8,_this.getValueGeneratorData();case 8:null!==(_this$exrule=_this.exrule)&&void 0!==_this$exrule&&_this$exrule.conditions[1]&&_this.exrule.conditions[1].operatorId&&93===_this.exrule.conditions[1].operatorId&&(_this.$set(_this.exrule["conditions"][1],"valueTypes",93),_this.$set(_this.exrule["conditions"][1],"operatorsDataType",{dataType:"LOOKUP",displayType:"LOOKUP_SIMPLE"}),_this.$set(_this.exrule["conditions"][1],"operatorsDataType",{dataType:"LOOKUP",displayType:"LOOKUP_SIMPLE"}),"SITE_ID"===_this.exrule["conditions"][1].columnName&&_this.$set(_this.exrule["conditions"][1],"columnName","WorkOrders.SITE_ID"),_this.$set(_this.exrule["conditions"][1],"operatorLabel","is"),_this.$set(_this.fieldValues,_this.exrule["conditions"][1].fieldName,"93"),_this.chageDataType(_this.exrule));case 9:case"end":return _context.stop()}}),_callee)})))()},methods:{lookupFieldHandling:function(){var exrule=this.exrule,lookupModuleFieldsList=this.lookupModuleFieldsList,lookupFieldModuleName=this.lookupFieldModuleName;if(!(0,validation/* isEmpty */.xb)(lookupModuleFieldsList)&&!(0,validation/* isEmpty */.xb)(exrule)&&!(0,validation/* isEmpty */.xb)(exrule.conditions))for(var key in exrule.conditions)!(0,validation/* isEmpty */.xb)(exrule.conditions[key].value)&&exrule.conditions[key].value.includes("${"+lookupFieldModuleName+".")?this.$set(this.showLookupFieldForCriteria,key,"1"):this.$set(this.showLookupFieldForCriteria,key,"2")},toggleLookupFields:function(key,value){this.$set(this.showLookupFieldForCriteria,key,value),this.rule.conditions[key].value="",this.rule.conditions[key].valueArray=[]},loadWoForms:function(){var _this2=this,url="/v2/forms?moduleName=workorder";this.$http.get(url).then((function(response){0===response.data.responseCode&&(_this2.woForms=(response.data.result.forms||[]).filter((function(form){return form.id>0})))}))},forceUpdate:function(){this.$forceUpdate()},selectedIndex:function(i){this.selectedIndexs=i+1;var cond=this.rule.conditions[this.selectedIndexs],value=cond.value.split(","),splitName=cond.name.split("_");"space"===splitName[0]?this.type=!1:"asset"===splitName[0]&&(this.type=!0),this.resourceData={isIncludeResource:!0,selectedResources:value.map((function(resource){return{id:resource&&"object"===(0,esm_typeof/* default */.Z)(resource)?parseInt(resource.id):parseInt(resource)}}))}},resourceLabel:function(selectedResourceObject){if(selectedResourceObject){var message,selectedCount=selectedResourceObject.length,categoryName=this.type?"Asset":"Space";return selectedCount&&(message=selectedCount+" "+(selectedCount>1?categoryName+"s":categoryName)),message}},associateResource:function(selectedObj){var _this3=this;selectedObj.resourceList&&selectedObj.resourceList.length&&(this.rule.conditions[this.selectedIndexs].value=[],selectedObj.resourceList.forEach((function(element){_this3.rule.conditions[_this3.selectedIndexs].value.push(element.id)})),this.rule.conditions[this.selectedIndexs].parseLabel=this.resourceLabel(this.rule.conditions[this.selectedIndexs].value),this.rule.conditions[this.selectedIndexs].value=this.rule.conditions[this.selectedIndexs].value.toString()),this.chooserVisibility=!1},initData:function(condEdit){var _this4=this;if(this.$emit("update:isRendering",!1),condEdit&&condEdit.conditions){var self=this;Object.keys(condEdit.conditions).forEach((function(kessy){var newConditionObject={},condArrat=condEdit.conditions[kessy];if(condArrat){if(90==condArrat.operatorId||91==condArrat.operatorId){
//TODO Change this check based on field type
var name=condArrat.fieldName.split(".");name.length>1&&(condArrat.fieldName=name[1])}if(newConditionObject.fieldName=condArrat.fieldName,"resource"===condArrat.fieldName){var tempOperator,_self=_this4;if(condArrat.value){var promise2=_self.$http.post("v2/resource/getResourcesDetails",{resourceId:condArrat.value.split(",")});Promise.all([promise2]).then((function(values){if(0===values[0].data.responseCode&&values[0].data.result.resource.length>0){_self.selectedeResourceObj=values[0].data.result.resource;var resp=values[0].data.result.resource[0];"SPACE"===resp.resourceTypeEnum?_self.type=!1:"ASSET"===resp.resourceTypeEnum&&(_self.type=!0)}newConditionObject.value=condArrat.value,newConditionObject.value&&(isString_default()(condArrat.value)?newConditionObject.valueArray=condArrat.value.split(","):newConditionObject.valueArray=[condArrat.value])}))}_self.resourceOperator.find((function(d){_self.type?"Asset"===d.label&&d.options.find((function(dr){dr.operatorId===condArrat.operatorId&&(tempOperator=dr)})):(d.label,d.options.find((function(dr){dr.operatorId===condArrat.operatorId&&(tempOperator=dr)})))})),newConditionObject.name=tempOperator?tempOperator.name:"",newConditionObject.operatorLabel=tempOperator.operator,newConditionObject.parseLabel=_self.resourceLabel(condArrat.valueArray),newConditionObject.columnName=condArrat.columnName,newConditionObject.operatorId=condArrat.operatorId,_self.statusFieldName(newConditionObject,null),_self.rule.pattern=condEdit.pattern}else if(condArrat.operator)newConditionObject.operatorLabel=condArrat.operator.operator,newConditionObject.active=condArrat.operator.valueNeeded;else if(condArrat.operatorId){var tempCond=_this4.getOperators(condArrat);Object.keys(tempCond).forEach((function(d){tempCond[d].operatorId===condArrat.operatorId&&(newConditionObject.operatorLabel=tempCond[d].operator,newConditionObject.active=tempCond[d].valueNeeded)}))}newConditionObject.value=condArrat.value,newConditionObject.value&&(isString_default()(condArrat.value)?newConditionObject.valueArray=condArrat.value.split(","):newConditionObject.valueArray=[condArrat.value]),newConditionObject.columnName=condArrat.columnName,newConditionObject.operatorId=condArrat.operatorId,self.statusFieldName(newConditionObject,null)}_this4.$set(self.rule.conditions,kessy,newConditionObject)})),self.rule.pattern=condEdit.pattern}},chageDataType:function(criteria){if("siteId"===criteria.fieldName&&("workorder"===this.module?criteria.columnName="WorkOrders.SITE_ID":"asset"===this.module?criteria.columnName="Assets.SITE_ID":"alarmoccurrence"===this.module?criteria.columnName="AlarmOccurrence.SITE_ID":criteria.columnName="SITE_ID"),"formId"===criteria.fieldName&&"workorder"===this.module&&(criteria.columnName="Tickets.FORM_ID"),criteria.valueArray.length>0&&"trigger"!==criteria.fieldName){var values=criteria.valueArray.join();criteria.value=values}if("trigger"===criteria.fieldName){criteria.fieldName="workorder.trigger",36===criteria.operatorId&&(criteria.operatorId=35);var a={conditions:{1:{fieldName:"frequency",isExpressionValue:null,moduleName:"trigger",operatorId:9,parentCriteriaId:-1,sequence:1,value:criteria.valueArray.join()}},pattern:"(1)"};criteria.criteriaValue=a,delete criteria.value}criteria.value=null,this.$forceUpdate()},fieldSelected:function(rule){rule.isResourceOperator=!1;var currField=this.moduleMeta.fields.find((function(field){return field.name===rule.fieldName})),_ref=currField||{},lookupModule=_ref.lookupModule;(0,validation/* isEmpty */.xb)(lookupModule)||"resource"!==lookupModule.name||(rule.isResourceOperator=!0),rule.parseLabel=null,rule.valueArray=[],rule.operatorLabel=null,this.$set(rule,"value",null),rule.active=!1,this.$forceUpdate()},statusFieldName:function(rule,key){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var splitName,field,opId,roles,priority,statusModule,fetchOptions,_yield$getFieldOption,error,options,data,_data,oprs;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if((0,validation/* isEmpty */.xb)(_this5.lookupModuleFieldsList)||(0,validation/* isEmpty */.xb)(key)||!(0,validation/* isEmpty */.xb)(rule.value)||(_this5.showLookupFieldForCriteria[key]="2"),!rule.fieldName||!rule.operatorLabel&&!rule.name){_context2.next=55;break}if(rule.isResourceOperator&&(splitName=rule.name.split("_"),"space"===splitName[0]?_this5.type=!1:"asset"===splitName[0]&&(_this5.type=!0),_this5.resourceOperator.find((function(d){d.options.find((function(dr){dr.name===rule.name&&(rule.operatorLabel=dr.operator)}))})),rule.isSpacePicker=!0),_this5.getValueDataType(rule),field=_this5.moduleMeta.fields.filter((function(field){return field.name===rule.fieldName})),rule.isSpacePicker=!1,!(field.length>0)){_context2.next=55;break}if("alarmType"===field[0].name&&"alarm"===_this5.module||"preRequestStatus"===field[0].name&&"workorder"===_this5.module?(opId=null,opId="="===rule.operatorLabel||"!="===rule.operatorLabel?"="===rule.operatorLabel?"is":"isn't":rule.operatorLabel,rule.operatorId=_this5.systemEnumOperator[opId].operatorId,rule.active=_this5.systemEnumOperator[opId].valueNeeded):"SYSTEM_ENUM"===field[0].dataTypeEnum._name?(rule.operatorId=_this5.moduleMeta.operators["ENUM"][rule.operatorLabel].operatorId,rule.active=_this5.moduleMeta.operators["ENUM"][rule.operatorLabel].valueNeeded):(rule.operatorId=_this5.moduleMeta.operators[field[0].dataTypeEnum._name][rule.operatorLabel].operatorId,rule.active=_this5.moduleMeta.operators[field[0].dataTypeEnum._name][rule.operatorLabel].valueNeeded),rule.columnName=field[0].completeColumnName,"ENUM"!==field[0].dataTypeEnum._name&&"SYSTEM_ENUM"!==field[0].dataTypeEnum._name&&"MULTI_ENUM"!==field[0].dataTypeEnum._name||_this5.$set(_this5.picklistOptions,rule.fieldName,field[0].enumMap),"BOOLEAN"===field[0].dataTypeEnum._name&&(rule.trueVal=field[0].trueVal,rule.falseVal=field[0].falseVal),!["LOOKUP","MULTI_LOOKUP"].includes(field[0].dataTypeEnum._name)||!field[0].specialType){_context2.next=15;break}"role is"===rule.operatorLabel?(roles=_this5.roles.reduce((function(acc,role){return acc[role.id]=role.name,acc}),{}),_this5.$set(_this5.picklistOptions,rule.fieldName,roles)):_this5.loadSpecialTypePickList(field[0].specialType,rule.fieldName),_context2.next=40;break;case 15:if(!["LOOKUP","MULTI_LOOKUP"].includes(field[0].dataTypeEnum._name)||!field[0].lookupModule){_context2.next=40;break}if("resource"===field[0].lookupModule.name&&(rule.isSpacePicker=!0),"basespace"===field[0].lookupModule.name&&"space"===field[0].name&&(rule.isSpacePicker=!0),"ticketpriority"!==field[0].lookupModule.name){_context2.next=24;break}
// handling  key value pair to match existing flow pattern
priority={},_this5.ticketpriority.forEach((function(d){priority[d.id]=d.displayName})),_this5.$set(_this5.picklistOptions,rule.fieldName,priority),_context2.next=40;break;case 24:if("ticketstatus"!==field[0].lookupModule.name){_context2.next=29;break}statusModule="workorderTimeLog"===_this5.module?"workorder":_this5.module,_this5.$store.dispatch("loadTicketStatus",statusModule).then((function(){_this5.$set(_this5.picklistOptions,rule.fieldName,_this5.getTicketStatusPickList(statusModule))})),_context2.next=40;break;case 29:if("readingrule"!==field[0].lookupModule.name){_context2.next=39;break}return fetchOptions={lookupModuleName:"readingrule",skipDeserialize:!0},_context2.next=33,(0,picklist/* getFieldOptions */._K)({field:fetchOptions});case 33:_yield$getFieldOption=_context2.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this5.$message.error(error.message||"Error Occured"):_this5.$set(_this5.picklistOptions,rule.fieldName,options),_context2.next=40;break;case 39:_this5.loadPickList(field[0].lookupModule.name,rule.fieldName);case 40:if("formId"===rule.fieldName&&(data={},_this5.woForms&&_this5.woForms.forEach((function(form){data[form.id]=form.displayName})),_this5.$set(_this5.picklistOptions,rule.fieldName,data)),"siteId"===rule.fieldName&&("workorder"===_this5.module?rule.columnName="WorkOrders.SITE_ID":"asset"===_this5.module?rule.columnName="Assets.SITE_ID":"alarmoccurrence"===_this5.module&&(rule.columnName="AlarmOccurrence.SITE_ID"),_data={},_this5.siteList&&_this5.siteList.forEach((function(sit){_data[sit.id]=sit.name})),_this5.$set(_this5.picklistOptions,rule.fieldName,_data)),!field[0].specialType||"basespace"!==field[0].specialType){_context2.next=49;break}return oprs=_this5.moduleMeta.operators[field[0].dataTypeEnum._name],oprs["is"]="BUILDING_IS",_this5.$forceUpdate(),_context2.abrupt("return",oprs);case 49:if(!("alarmType"===field[0].name&&"alarm"===_this5.module||"preRequestStatus"===field[0].name&&"workorder"===_this5.module)){_context2.next=53;break}_this5.loadSpecialTypePickList(field[0].name,rule.fieldName),_context2.next=55;break;case 53:return _this5.$forceUpdate(),_context2.abrupt("return",_this5.moduleMeta.operators[field[0].dataTypeEnum._name]);case 55:_this5.$forceUpdate();case 56:case"end":return _context2.stop()}}),_callee2)})))()},getValueDataType:function(rule){if(rule.operatorLabel&&""!==rule.operatorLabel){var field=this.moduleMeta.fields.filter((function(field){return field.name===rule.fieldName}));return"DATE"!==field[0].dataTypeEnum._name&&"DATE_TIME"!==field[0].dataTypeEnum._name||"Age in Days"!==rule.operatorLabel&&"Due in Days"!==rule.operatorLabel?"alarmType"===field[0].name&&"alarm"===this.module||"preRequestStatus"===field[0].name&&"workorder"===this.module||"siteId"===field[0].name||"formId"===field[0].name?(rule.operatorsDataType={dataType:"LOOKUP",displayType:"LOOKUP_SIMPLE"},rule.operatorsDataType):(rule.operatorsDataType={dataType:field[0].dataTypeEnum._name,displayType:field[0].displayType?field[0].displayType._name:"LOOKUP"===field[0].dataTypeEnum._name?"LOOKUP_SIMPLE":null},rule.operatorsDataType):(rule.operatorsDataType={dataType:"NUMBER",displayType:"NUMBER"},rule.operatorsDataType)}return null},setModuleMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Graphics",this.moduleMeta["name"]="graphics",this.moduleMeta["fields"]=this.convertGraphicsVariablesToFileds(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},setCardBuilderMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Card Builder",this.moduleMeta["name"]="cardbuilder",this.moduleMeta["fields"]=this.getCardBuilderFields(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},setTabularModuleMeta:function(variables){variables&&variables.length&&(this.moduleMeta["operators"]=this.Defaultoperators,this.moduleMeta["displayName"]="Tabular",this.moduleMeta["name"]="tabular",this.moduleMeta["fields"]=this.getTabularFields(variables)),this.moduleMetaObject=this.moduleMeta,this.loading=!1},convertGraphicsVariablesToFileds:function(variables){var fields=[];return variables.forEach((function(variable){fields.push({name:variable.key,displayName:variable.label,dataTypeEnum:{_name:variable.dataType},displayType:{_name:"TEXTBOX"}})})),fields},getTabularFields:function(variables){var fields=[],self=this;return variables.forEach((function(rt){fields.push({name:rt.columnAlias,displayName:rt.columnLabel,dataTypeEnum:{_name:rt.dataTypeEnum},displayType:{_name:self.dataTypeToDisplayType[rt.dataTypeEnum]||"TEXTBOX"}})})),fields},getCardBuilderFields:function(variables){var fields=[],self=this;return variables.forEach((function(rt){fields.push({name:rt.name,displayName:rt.displayName,dataTypeEnum:{_name:rt.dataType},displayType:{_name:self.dataTypeToDisplayType[rt.dataType]||"TEXTBOX"}})})),fields},paternToArray:function(pattern){return pattern.split("")||pattern.split("(")[1].split(")")[0].split(" ")||pattern.split("(")[1].split(")")[0]},setConditionOperator:function(pattern){this.paternToArray(pattern).filter((function(rt){return"and"===rt})).length&&!this.paternToArray(pattern).filter((function(rt){return"or"===rt})).length?this.conditionOperator="and":this.paternToArray(pattern).filter((function(rt){return"or"===rt})).length&&!this.paternToArray(pattern).filter((function(rt){return"and"===rt})).length&&(this.conditionOperator="or")},loadModuleMeta:function(editCondi){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var url;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(_this6.loading=!0,_this6.$emit("update:isRendering",!0),"graphicsbuilder"!==_this6.module||!_this6.variables){_context3.next=7;break}_this6.setModuleMeta(_this6.variables),editCondi&&editCondi.conditions&&(_this6.setConditionOperator(editCondi.pattern),_this6.initData(editCondi)),_context3.next=26;break;case 7:if("cardbuilder"!==_this6.module||!_this6.variables){_context3.next=12;break}_this6.setCardBuilderMeta(_this6.variables),editCondi&&editCondi.conditions&&(_this6.setConditionOperator(editCondi.pattern),_this6.initData(editCondi)),_context3.next=26;break;case 12:if("tabular"!==_this6.module||!_this6.variables){_context3.next=17;break}_this6.setTabularModuleMeta(_this6.variables),editCondi&&editCondi.conditions&&(_this6.setConditionOperator(editCondi.pattern),_this6.initData(editCondi)),_context3.next=26;break;case 17:if(!_this6.threshold||"asset"!==_this6.module&&"space"!==_this6.module){_context3.next=24;break}return url=null,"asset"===_this6.module?url="/module/meta?moduleName="+_this6.module+"&assetId="+_this6.readingobj.id+"&categoryId="+_this6.readingobj.category.id+"&resourceType="+_this6.module:"space"===_this6.module&&(url="/module/meta?moduleName="+_this6.module+"&assetId="+_this6.readingobj.id+"&categoryId="+_this6.readingobj.spaceCategory.id+"&resourceType="+_this6.module),_context3.next=22,_this6.$http.get(url).then((function(response){_this6.moduleMeta=response.data.meta,_this6.loading=!1,editCondi&&(_this6.setConditionOperator(editCondi.pattern),_this6.initData(editCondi))}));case 22:_context3.next=26;break;case 24:return _context3.next=26,_this6.$http.get("/module/metafields?moduleName="+_this6.module).then((function(response){var spaceObject,assetObject;_this6.moduleMeta=response.data.meta,_this6.moduleMetaObject=_this6.moduleMeta,_this6.showSiteField&&_this6.moduleMetaObject.fields.push(_this6.siteId),_this6.showFormIDField&&_this6.moduleMetaObject.fields.push(_this6.formId),_this6.moduleMetaObject.fields.filter((function(d,i){"resource"===d.name&&(spaceObject=Object.assign({},d),assetObject=Object.assign({},d))})),null===spaceObject&&(spaceObject.displayName="Space",spaceObject.name="space"),null===assetObject&&(assetObject.displayName="Asset",assetObject.name="asset"),_this6.loading=!1,editCondi&&(_this6.setConditionOperator(editCondi.pattern),_this6.initData(editCondi)),_this6.$emit("moduleMetaObject",_this6.moduleMetaObject)}));case 26:case"end":return _context3.stop()}}),_callee3)})))()},loadSpecialTypePickList:function(specialType,fieldName){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var pickOption,userList,_iterator,_step,user,triggerList,groupList,_iterator2,_step2,group,spaceList,_iterator4,_step4,space,fetchOptions,_yield$getFieldOption2,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(pickOption={},"users"!==specialType){_context4.next=9;break}userList=_this7.$store.state.users,pickOption["${LOGGED_USER}"]="Current User",_iterator=(0,createForOfIteratorHelper/* default */.Z)(userList);try{for(_iterator.s();!(_step=_iterator.n()).done;)user=_step.value,pickOption[user.id]=user.name}catch(err){_iterator.e(err)}finally{_iterator.f()}_this7.$set(_this7.picklistOptions,fieldName,pickOption),_context4.next=48;break;case 9:if("trigger"!==specialType){_context4.next=14;break}triggerList=_this7.$constants.FACILIO_FREQUENCY,_this7.$set(_this7.picklistOptions,fieldName,triggerList),_context4.next=48;break;case 14:if("groups"!==specialType){_context4.next=21;break}groupList=_this7.$store.state.groups,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(groupList);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)group=_step2.value,pickOption[group.groupId]=group.name}catch(err){_iterator2.e(err)}finally{_iterator2.f()}_this7.$set(_this7.picklistOptions,fieldName,pickOption),_context4.next=48;break;case 21:if("requester"!==specialType){_context4.next=25;break}_this7.$http.get("/setup/portalusers").then((function(_ref2){var data=_ref2.data,requesterlist=data.users;_this7.loading=!1;var _step3,pickOption={},_iterator3=(0,createForOfIteratorHelper/* default */.Z)(requesterlist);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _user=_step3.value;pickOption[_user.id]=_user.name}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}_this7.$set(_this7.picklistOptions,fieldName,pickOption)})).catch((function(){})),_context4.next=48;break;case 25:if("basespace"!==specialType){_context4.next=32;break}spaceList=_this7.$store.state.spaces,_iterator4=(0,createForOfIteratorHelper/* default */.Z)(spaceList);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;)space=_step4.value,pickOption[space.id]=space.name}catch(err){_iterator4.e(err)}finally{_iterator4.f()}_this7.$set(_this7.picklistOptions,fieldName,pickOption),_context4.next=48;break;case 32:if("alarmType"!==specialType){_context4.next=36;break}_this7.$set(_this7.picklistOptions,fieldName,_this7.$constants.AlarmCategory),_context4.next=48;break;case 36:if("preRequestStatus"!==specialType){_context4.next=40;break}_this7.$set(_this7.picklistOptions,fieldName,_this7.$constants.PrerequestStatus),_context4.next=48;break;case 40:if("readingrule"!==specialType){_context4.next=48;break}return fetchOptions={lookupModuleName:"readingrule",skipDeserialize:!0},_context4.next=44,(0,picklist/* getFieldOptions */._K)({field:fetchOptions});case 44:_yield$getFieldOption2=_context4.sent,error=_yield$getFieldOption2.error,options=_yield$getFieldOption2.options,error?_this7.$message.error(error.message||"Error Occured"):_this7.$set(_this7.picklistOptions,fieldName,options);case 48:case"end":return _context4.stop()}}),_callee4)})))()},loadPickList:function(moduleName,fieldName){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var _yield$getFieldOption3,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:moduleName,skipDeserialize:!0}});case 2:_yield$getFieldOption3=_context5.sent,error=_yield$getFieldOption3.error,options=_yield$getFieldOption3.options,error?_this8.$message.error(error.message||"Error Occured"):("people"===moduleName&&(options["${LOGGED_PEOPLE}"]="Current User"),_this8.$set(_this8.picklistOptions,fieldName,options));case 6:case"end":return _context5.stop()}}),_callee5)})))()},getOperators:function(criteria){if(this.loading=!0,criteria.fieldName&&""!==criteria.fieldName){var field=this.moduleMeta.fields.find((function(field){return field.name===criteria.fieldName})),_ref3=field||{},dataTypeEnum=_ref3.dataTypeEnum,fieldName=_ref3.name,_ref4=dataTypeEnum||{},_name=_ref4._name;
// if (!isEmpty(field) && field.dataTypeEnum._name) {
//   let oprs = this.moduleMeta.operators[field.dataTypeEnum._name]
//   for (let key in oprs) {
//     if (this.excludeOperators.includes(oprs[key].operatorId)) {
//       delete this.moduleMeta.operators[field.dataTypeEnum._name][key]
//     }
//   }
// }
if("siteId"===fieldName&&(_name="LOOKUP"),_name){var oprs=this.moduleMeta.operators[_name]||{};
// let operatorObject = Object.values(oprs).find(
//   opr => opr.defaultSelection
// )
return Object.values(oprs).filter((function(opr){return opr.defaultSelection}));
// return operatorObject?.operator
}
// if (field.length) {
//   if (
//     field.dataTypeEnum._name === 'LOOKUP' &&
//     field.lookupModule &&
//     field.lookupModule.name === 'resource'
//   ) {
//     criteria.isResourceOperator = true
//     return
//   } else if (field.specialType && field.specialType === 'basespace') {
//     criteria.isResourceOperator = false
//     let oprs = this.moduleMeta.operators[field.dataTypeEnum._name]
//     oprs['is'] = 'BUILDING_IS'
//     return oprs
//   } else {
//     if (
//       field.dataTypeEnum._name === 'DATE' ||
//       field.dataTypeEnum._name === 'DATE_TIME'
//     ) {
//       criteria.isResourceOperator = false
//       let remove = []
//       Object.keys(
//         this.moduleMeta.operators[field.dataTypeEnum._name]
//       ).forEach(d => {
//         if (this.valueNotNeed.indexOf(d) === -1) {
//           remove.push(d)
//         }
//       })
//       if (remove) {
//         remove.filter(d => {
//           delete this.moduleMeta.operators[field.dataTypeEnum._name][d]
//         })
//       }
//     } else if (field.dataTypeEnum._name === 'ENUM') {
//       delete this.moduleMeta.operators[field.dataTypeEnum._name][
//         'value is'
//       ]
//       delete this.moduleMeta.operators[field.dataTypeEnum._name][
//         "value isn't"
//       ]
//     } else if (
//       field.dataType === 12 &&
//       field.dataTypeEnum._name === 'SYSTEM_ENUM'
//     ) {
//       let operators = {}
//       let oprs = this.moduleMeta.operators['ENUM']
//       for (let key in oprs) {
//         if (this.excludeOperators.includes(oprs[key].operatorId)) {
//           delete this.moduleMeta.operators['ENUM'][key]
//         }
//       }
//       Object.keys(this.moduleMeta.operators['ENUM']).forEach(
//         operator => {
//           if (!['value is', "value isn't"].includes(operator)) {
//             operators[operator] = this.moduleMeta.operators['ENUM'][
//               operator
//             ]
//           }
//         }
//       )
//       return operators
//     } else if (field.dataTypeEnum._name === 'LOOKUP') {
//       let operators = {}
//       if (
//         field.name === 'space' ||
//         (!isEmpty(field.lookupModule) &&
//           field.lookupModule.name === 'building')
//       ) {
//         Object.keys(
//           this.moduleMeta.operators[field.dataTypeEnum._name]
//         ).forEach(operator => {
//           if (operator !== 'role is' || field.specialType === 'users') {
//             operators[operator] = this.moduleMeta.operators[
//               field.dataTypeEnum._name
//             ][operator]
//           }
//         })
//       } else {
//         Object.keys(
//           this.moduleMeta.operators[field.dataTypeEnum._name]
//         ).forEach(operator => {
//           if (
//             operator !== 'building_is' &&
//             (operator !== 'role is' || field.specialType === 'users')
//           ) {
//             operators[operator] = this.moduleMeta.operators[
//               field.dataTypeEnum._name
//             ][operator]
//           }
//         })
//       }
//       return operators
//     } else if (
//       (field.name === 'alarmType' && this.module === 'alarm') ||
//       (field.name === 'preRequestStatus' && this.module === 'workorder')
//     ) {
//       return this.systemEnumOperator
//     }
//     return this.moduleMeta.operators[field.dataTypeEnum._name]
//   }
// }
this.loafing=!1}return null},addCreteria:function(){var keyId,conditionLength=Object.keys(this.rule.conditions).length;keyId=0===conditionLength?1:parseInt(Object.keys(this.rule.conditions)[conditionLength-1])+1,this.$set(this.rule.conditions,keyId,{});var tokens=this.tokenize(this.rule.pattern),postfix=this.postfix(tokens);this.addOperand(postfix,keyId);var expressionTree=this.expressionTree(postfix),infix=[];this.infix(expressionTree,infix),this.rule.resourceOperator=!1,this.rule.pattern=this.toPattern(infix)},deleteCreteria:function(index){this.$delete(this.rule.conditions,index);var pat=Object.keys(this.rule.conditions).join(" ".concat(this.conditionOperator," "));this.rule.pattern="("+pat+")"},addOperand:function(postfix,key){var len=postfix.length;postfix.push(key),0!==len&&postfix.push(this.conditionOperator)},toPattern:function(infix){var pattern="";return infix.forEach((function(e){pattern+="and"===e||"or"===e?" ".concat(e," "):e})),pattern},expressionTree:function(postfix){var stack=[];return postfix.forEach((function(e){if("and"===e||"or"===e){var right=stack.pop(),left=stack.pop(),node={left:left,right:right,data:e,parent:null,isRightChild:null};right.parent=node,right.isRightChild=!0,left.parent=node,left.isRightChild=!1,stack.push(node)}else stack.push({data:e})})),0===stack.length?{}:stack[0]},infix:function(expressionTree,expression){if(expressionTree){if(!expressionTree.parent&&!expressionTree.left&!expressionTree.right)return expression.push("("),expression.push(expressionTree.data),void expression.push(")");var addBracket=expressionTree&&/[a-z]+/.test(expressionTree.data)&&(!expressionTree.parent||"or"===expressionTree.data&&"and"===expressionTree.parent.data);addBracket&&expression.push("("),this.infix(expressionTree.left,expression),expression.push(expressionTree.data),this.infix(expressionTree.right,expression),addBracket&&expression.push(")")}},postfix:function(tokens){var _this9=this,stack=[],output=[],current=-1,prev=null;if(tokens.forEach((function(e){var pass=/\d+/.test(e)||"and"===e||"or"===e||")"===e||"("===e;if(!pass)throw new Error("Invalid Character");if("("===e&&null!==prev&&"("!==prev&&"and"!==prev&&"or"!==prev)throw new Error("Invalid Expression");if(")"===e&&")"!==prev&&!/\d+/.test(prev))throw new Error("Invalid Expression");if(!("and"!==e&&"or"!==e||")"===prev||/\d+/.test(prev)))throw new Error("Invalid Expression");if(/\d+/.test(e)&&prev&&"("!==prev&&"and"!==prev&&"or"!==prev)throw new Error("Invalid Expression");if("("===e)stack[++current]=e;else if(/\d+/.test(e)){if(!_this9.rule.conditions[e])throw new Error("Invalid Expression");output.push(e)}else if("and"===e){while(current>-1&&"("!==stack[current]&&"or"!==stack[current])output.push(stack[current]),current--;stack[++current]=e}else if("or"===e){while(current>-1&&"("!==stack[current])output.push(stack[current]),current--;stack[++current]=e}else if(")"===e){while(current>-1&&"("!==stack[current])output.push(stack[current]),current--;"("===stack[current]&&current--}prev=e})),-1!==current)throw new Error("Invalid Expression");return output},tokenize:function(pattern){var _step5,tokens=[],curr="",_iterator5=(0,createForOfIteratorHelper/* default */.Z)(pattern);try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var c=_step5.value;"("===c?tokens.push(c):")"===c?(""!==curr&&(tokens.push(curr),curr=""),tokens.push(c)):/\d/.test(c)?"and"===curr||"or"===curr||"("===curr?(tokens.push(curr),curr=""):""===curr||/\d/.test(curr.charAt(curr.length-1))?curr+=c:(tokens.push(curr),curr=c):/[a-z]/.test(c)?(""!==curr&&/\d/.test(curr.charAt(curr.length-1))&&(tokens.push(curr),curr=""),curr+=c,"and"!==curr&&"or"!==curr||(tokens.push(curr),curr="")):/\s/.test(c)?""!==curr&&(tokens.push(curr),curr=""):(""!==curr&&tokens.push(curr),curr="",tokens.push(c))}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return""!==curr&&tokens.push(curr),tokens},getValueGeneratorData:function(){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return _this10.loading=!0,_context6.next=3,api/* API */.bl.get("v2/scoping/valueGenerators");case 3:_yield$API$get=_context6.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this10.$message.error(error.message||"Error Occurred"):_this10.valueGeneratorData=data.valueGenerators,_this10.loading=!1;case 8:case"end":return _context6.stop()}}),_callee6)})))()}}},UserScopes_UserScopeCriteriavue_type_script_lang_js=UserScopeCriteriavue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(UserScopes_UserScopeCriteriavue_type_script_lang_js,UserScopeCriteriavue_type_template_id_5fafe9d0_render,UserScopeCriteriavue_type_template_id_5fafe9d0_staticRenderFns,!1,null,null,null)
/* harmony default export */,UserScopeCriteria=component.exports,util_validation=__webpack_require__(586529),UserScopingAddOrEditvue_type_script_lang_js={props:["isNew","userScopeData","applicationId"],data:function(){return{saving:!1,loading:!0,searchQuery:null,isCriteriaRendering:!1,scopingContext:{},moduleFieldsCriteria:[],userScopeCriteriaData:[],selectedModule:null}},components:{UserScopeCriteria:UserScopeCriteria},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("automationSetup",["getAutomationModulesList"])),{},{modulesList:function(){return this.getAutomationModulesList()},moduleIdVsCriteriaObj:function(){var _this=this,data={},_ref=this.scopingContext||{},scopingConfigList=_ref.scopingConfigList;return scopingConfigList.forEach((function(rt){var _rt$criteria,obj={};null!==(_rt$criteria=rt.criteria)&&void 0!==_rt$criteria&&_rt$criteria.conditions[1]&&rt.criteria.conditions[1].operatorId&&93===rt.criteria.conditions[1].operatorId&&_this.$set(rt.criteria["conditions"][1],"operatorsDataType",{dataType:"LOOKUP",displayType:"LOOKUP_SIMPLE"}),_this.$set(obj,"criteria",rt.criteria),_this.$set(data,rt.moduleId,obj)})),data},configuredList:function(){var _this2=this,data={},_ref2=this.scopingContext||{},scopingConfigList=_ref2.scopingConfigList;return scopingConfigList.forEach((function(rt){var _rt$criteria2;null!==(_rt$criteria2=rt.criteria)&&void 0!==_rt$criteria2&&_rt$criteria2.conditions[1]&&rt.criteria.conditions[1].value&&_this2.$set(data,rt.moduleId,!0)})),data},resultQuery:function(){var _this3=this;return this.searchQuery?this.modulesList.filter((function(item){return _this3.searchQuery.toLowerCase().split(" ").every((function(v){return item.displayName.toLowerCase().includes(v)}))})):this.modulesList},criteriaObj:{get:function(){var _this4=this,_ref3=this.scopingContext||{},scopingConfigList=_ref3.scopingConfigList,_ref4=(scopingConfigList||[]).find((function(rt){return rt.moduleId===_this4.selectedModule.moduleId}))||{},criteria=_ref4.criteria;return criteria||null},set:function(value){var _this5=this,_ref5=this.scopingContext||{},scopingConfigList=_ref5.scopingConfigList,index=scopingConfigList.findIndex((function(rt){return rt.moduleId===_this5.selectedModule.moduleId}));if(-1!==index){var configObject=scopingConfigList[index];scopingConfigList.splice(index,0,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},configObject),{},{criteria:value})),this.$set(this.scopingContext,"scopingConfigList",scopingConfigList),this.clearEmpties(scopingConfigList)}}}}),created:function(){this.isNew||(this.scopingContext=(0,objectSpread2/* default */.Z)({},this.userScopeData),this.getUserScopeCriteriaData())},watch:{selectedModule:function(newValue){var _this6=this;if(!(0,util_validation/* isEmpty */.xb)(newValue)){var _ref6=this.scopingContext||{},scopingConfigList=_ref6.scopingConfigList,index=scopingConfigList.findIndex((function(rt){return rt.moduleId===_this6.selectedModule.moduleId}));-1===index&&(scopingConfigList.push({moduleId:this.selectedModule.moduleId,criteria:null}),this.$set(this.scopingContext,"scopingConfigList",scopingConfigList))}}},methods:{handleCondition:function(criteria){this.moduleIdVsCriteriaObj[this.selectedModule.moduleId].criteria=criteria},closeDialog:function(){this.$emit("onClose")},getScopingContext:function(context){var _this7=this,scopingContext=this.$helpers.cloneObject(context);if(null!==scopingContext&&void 0!==scopingContext&&scopingContext.scopingConfigList&&scopingContext.scopingConfigList.length){var _ref7=this.scopingContext||null,scopingConfigList=_ref7.scopingConfigList,configList=[];scopingConfigList.forEach((function(rt){var critera=_this7.moduleIdVsCriteriaObj[rt.moduleId]||null;(critera||critera.criteria)&&(critera.moduleId=rt.moduleId,critera.critera?configList.push(critera.criteria):critera&&(_this7.$set(critera,"moduleId",rt.moduleId),configList.push(critera)))})),this.$set(scopingContext,"scopingConfigList",configList)}return scopingContext},
// validateScopingContext(scopingContext) {
//   let validate = true
//   if (
//     scopingContext?.scopingConfigList &&
//     scopingContext.scopingConfigList.length
//   ) {
//     let { scopingConfigList } = this.scopingContext || null
//     scopingConfigList.forEach(rt => {
//       let critera = this.moduleIdVsCriteriaObj[rt.moduleId] || null
//       if (critera || critera.critera) {
//         if (critera.critera) {
//           validate = true
//         } else if (critera) {
//           validate = true
//         } else {
//           validate = false
//         }
//       }
//     })
//   }
//   return validate
// },
saveUserScope:function(){var _this8=this;this.$refs["scopeDetails"].validate(function(){var _ref8=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var url,scopingContext,_yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return _this8.saving=!0,url="v2/scoping/addOrUpdateConfig",// let { scopingContext } = this;
scopingContext=_this8.getScopingContext(_this8.scopingContext),_context.next=7,api/* API */.bl.post(url,{scopingContext:scopingContext});case 7:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this8.$message.error(error.message||_this8.$t("common._common.error_occured")):(_this8.$message.success(_this8.$t("common._common.user_scope_saved_successfully")),_this8.$emit("onSave",data.scopingContext),_this8.closeDialog()),_this8.saving=!1,_this8.$forceUpdate();case 13:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref8.apply(this,arguments)}}())},getUserScopeCriteriaData:function(){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,_ref9,scopingConfigList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this9.loading=!0,_context2.next=3,api/* API */.bl.get("v2/scoping/scopingConfigList?scopingId=".concat(_this9.userScopeData.id));case 3:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this9.$message.error(error.message||_this9.$t("common._common.error_occured")):(_this9.scopingContext=data.scopingContext||[],_ref9=_this9.scopingContext||{},scopingConfigList=_ref9.scopingConfigList,scopingConfigList||(_this9.scopingContext.scopingConfigList=[])),_this9.selectedModule=_this9.modulesList[0],_this9.loading=!1;case 9:case"end":return _context2.stop()}}),_callee2)})))()},clearEmpties:function(obj){for(var k in obj)if(obj[k]&&"object"===(0,esm_typeof/* default */.Z)(obj[k]))return 0===Object.keys(obj[k]).length&&delete obj[k],obj}}},UserScopes_UserScopingAddOrEditvue_type_script_lang_js=UserScopingAddOrEditvue_type_script_lang_js,UserScopingAddOrEdit_component=(0,componentNormalizer/* default */.Z)(UserScopes_UserScopingAddOrEditvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,UserScopingAddOrEdit=UserScopingAddOrEdit_component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/52092.js.map