"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[93953],{
/***/393953:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return SupplierDetailsTableWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/etisalat/suppliers/SupplierDetailsTableWidget.vue?vue&type=template&id=6c164ca1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"preview-container"},[_c("div",{},[_vm.loading?_c("div",{staticClass:"fc-grid-center height400"},[_vm.loading?_c("spinner",{attrs:{show:_vm.loading,size:"80"}}):_vm._e()],1):_c("div",[_vm.invoices.length?_c("table",{staticClass:"supplier-cancel-table"},[_vm._m(0),_c("tbody",_vm._l(_vm.invoices,(function(invoice,index){return _c("tr",{key:index},[_c("td",{staticClass:"width25 bold"},[_c("div",{staticClass:"fc-blue-txt3-13"},[_vm._v(" "+_vm._s(invoice.data["singleline_7"]||"")+" ")]),_c("div",{staticClass:"fw4 pT10"},[_vm._v(" Payment Memo Date: "+_vm._s(invoice.data.date_1?_vm.getDate(invoice.data.date_1,"DD MMM YYYY"):"---")+" ")]),_c("div",{staticClass:"fw4 pT10"},[_vm._v(" Region code : "+_vm._s(invoice.data.singleline_4||"")+" ")]),_c("div",{staticClass:"fw4 pT10"},[_vm._v(" Cost Center :"+_vm._s(invoice.data.singleline_6||"")+" ")])]),_c("td",{staticClass:"width25"},[_c("div",{staticClass:"bold"},[_vm._v(" "+_vm._s(invoice.data.decimal_2?_vm.formatCurrency(invoice.data.decimal_2):"0")+" AED ")]),_c("div",{staticClass:"fc-greey9-12 pT5"},[_vm._v(" "+_vm._s(invoice.data.number?"From "+invoice.data.number+" Bills":"")+" ")])]),_c("td",{staticClass:"width25"},[_c("div",{staticClass:"fc-orange"},[_vm._v(" "+_vm._s(invoice.moduleState&&invoice.moduleState.displayName?invoice.moduleState.displayName:"")+" ")])]),_c("td",{staticClass:"width25"},[_c("div",{staticClass:"fc-blue-txt3-13 pointer",on:{click:function($event){return _vm.goToInvoice(invoice)}}},[_vm._v(" Show Payment Memo ")])])])})),0)]):_c("div",{staticClass:"fc-empty-center height400"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/history",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" No Payment details ")])],1)])])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("thead",[_c("th",{staticClass:"width25"},[_vm._v("Payment Memo Details")]),_c("th",{staticClass:"width25"},[_vm._v("Payment Memo Value")]),_c("th",{staticClass:"width25"},[_vm._v("STATUS")]),_c("th",{staticClass:"width25"},[_vm._v("ACTIONS")])])}],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(420629)),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),formatter=__webpack_require__(676240),validation=__webpack_require__(990260),router=__webpack_require__(329435),SupplierDetailsTableWidgetvue_type_script_lang_js={props:["details","moduleName","calculateDimensions","resizeWidget"],data:function(){return{pdfopen:!1,loading:!1,currentPage:0,pageCount:0,page:{from:1,to:100},invoices:[],params:{nameSpace:"SupplierSummary",functionName:"getArrearSummaryCount",paramList:[]}}},mounted:function(){this.getData()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{fields:function(){return this.moduleMeta.fields||[]},fieldDisplayNames:function(){var _this=this;if(this.moduleMeta&&this.moduleMeta.fields){var fieldMap={};return this.moduleMeta.fields.forEach((function(field){_this.$set(fieldMap,field.name,field.displayName)})),fieldMap}return[]}}),methods:{autoResize:function(){var _this2=this;this.$nextTick((function(){var height=_this2.$refs["preview-container"].scrollHeight,width=_this2.$refs["preview-container"].scrollWidth,_this2$calculateDimen=_this2.calculateDimensions({height:height,width:width}),h=_this2$calculateDimen.h;(0,validation/* isEmpty */.xb)(_this2.initialWidgetHeight)&&(_this2.initialWidgetHeight=h),_this2.resizeWidget({h:_this2.isAllVisible?h:_this2.initialWidgetHeight})}))},formatCurrency:function(value){return(0,formatter/* formatCurrency */.xG)(value,2)},goToInvoice:function(invoice){var routeData;if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)("custom_invoices",router/* pageTypes */.As.OVERVIEW)||{},name=_ref.name;name&&(routeData=this.$router.resolve({name:name,params:{viewname:"all",id:invoice.id}}))}else routeData=this.$router.resolve({path:"/app/supp/custom_invoices/all/".concat(invoice.id,"/summary")});routeData&&window.open(routeData.href,"_blank")},getDate:function(time){return moment_timezone_default()(Number(time)).tz(this.$timezone).format("DD MMM YYYY")},getData:function(){var _this3=this,supplierrid=this.details.id,page=this.page,details=this.details;this.params.paramList.push(supplierrid),this.loading=!0;var url="/v2/module/data/list?moduleName=custom_invoices&page=".concat(page.from,"&perPage=").concat(page.to,"&filters=%7B%22boolean%22%3A%7B%22operatorId%22%3A15%2C%22value%22%3A%5B%22true%22%5D%7D%2C%22lookup%22%3A%7B%22operatorId%22%3A36%2C%22value%22%3A%5B%22").concat(supplierrid,"%22%5D%2C%22selectedLabel%22%3A%22").concat(details.name,"%22%7D%7D&viewName=all&includeParentFilter=tru");this.$http.get(url).then((function(resp){0===resp.data.responseCode&&(_this3.invoices=resp.data.result&&resp.data.result.moduleDatas?resp.data.result.moduleDatas:[]),_this3.loading=!1,_this3.autoResize()}))}}},suppliers_SupplierDetailsTableWidgetvue_type_script_lang_js=SupplierDetailsTableWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(suppliers_SupplierDetailsTableWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SupplierDetailsTableWidget=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/93953.js.map