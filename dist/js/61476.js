"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[61476],{
/***/919324:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CodeMirror}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/CodeMirror.vue?vue&type=template&id=f33b888a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("codemirror",{attrs:{options:_vm.cmOption,placeholder:_vm.placeholder},on:{input:_vm.onCmCodeChange,ready:_vm.onCmReady,focus:_vm.onCmFocus},model:{value:_vm.script,callback:function($$v){_vm.script=$$v},expression:"script"}})],1)},staticRenderFns=[],vue_codemirror=__webpack_require__(375055),CodeMirrorvue_type_script_lang_js=(__webpack_require__(304631),__webpack_require__(471707),__webpack_require__(959372),__webpack_require__(620017),__webpack_require__(796876),__webpack_require__(988386),{data:function(){return{script:null,cmOption:{tabSize:4,styleActiveLine:!0,mode:"text/javascript",theme:"default",lineNumbers:!0,line:!0,matchBrackets:!0,foldGutter:!0,placeholder:!1,hintOptions:{completeSingle:!1},showCursorWhenSelecting:!0}}},props:["value","options","placeholder"],components:{codemirror:vue_codemirror.codemirror},computed:{codemirror:function(){return this.$refs.myCm.codemirror}},watch:{value:{handler:function(){this.script=this.$helpers.cloneObject(this.value),this.options&&Object.assign(this.cmOption,this.options)},immediate:!0}},methods:{onCmReady:function(cm){},onCmFocus:function(cm){},onCmCodeChange:function(newCode){this.$emit("input",newCode)},addCode:function(code){this.script=this.script+="\n"+code+"\n"},onCmScroll:function(){}}}),components_CodeMirrorvue_type_script_lang_js=CodeMirrorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CodeMirrorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CodeMirror=component.exports},
/***/628539:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FEditor}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FEditor.vue?vue&type=template&id=0c30c6a9
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"editor",attrs:{id:_vm.tid?_vm.tid:Math.random().toString(36).substr(2,9)}})},staticRenderFns=[],createClass=__webpack_require__(862833),classCallCheck=__webpack_require__(513087),inherits=__webpack_require__(793806),createSuper=__webpack_require__(624343),quill=(__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(676095)),quill_default=__webpack_require__.n(quill),FEditorvue_type_script_lang_js={props:["value","placeholder","editorModules","disabled","tid","registerCustomModules"],data:function(){return{quill:null}},mounted:function(){this.registerPrototypes(),this.setupQuillEditor(),this.handleInitialContent(),this.registerEditorEventListeners(),this.$emit("ready",this.quill)},watch:{value:function(val){val===this.quill.root.innerHTML||this.quill.hasFocus()||(this.quill.root.innerHTML=val)},disabled:function(status){this.quill.enable(!status)}},beforeDestroy:function(){this.quill=null,delete this.quill},methods:{setupQuillEditor:function(){var modules={};this.editorModules&&(modules=this.editorModules);var editorConfig={debug:!1,modules:modules,theme:"snow",placeholder:this.placeholder?this.placeholder:"",readOnly:!!this.disabled&&this.disabled};this.quill=new(quill_default())(this.$el,editorConfig)},registerPrototypes:function(){quill_default().prototype.getHTML=function(){return this.container.querySelector(".ql-editor").innerHTML},quill_default().prototype.getWordCount=function(){return this.container.querySelector(".ql-editor").innerText.length};var Block=quill_default()["import"]("blots/block"),Div=function(_Block){(0,inherits/* default */.Z)(Div,_Block);var _super=(0,createSuper/* default */.Z)(Div);function Div(){return(0,classCallCheck/* default */.Z)(this,Div),_super.apply(this,arguments)}return(0,createClass/* default */.Z)(Div)}(Block);Div.tagName="div",Div.blotName="div",Div.allowedChildren=Block.allowedChildren,Div.allowedChildren.push(Block),quill_default().register(Div,!1),this.registerCustomModules&&this.registerCustomModules(quill_default())},registerEditorEventListeners:function(){this.quill.on("text-change",this.handleTextChange),this.quill.on("selection-change",this.handleSelectionChange),this.listenForEditorEvent("text-change"),this.listenForEditorEvent("selection-change"),this.listenForEditorEvent("editor-change")},listenForEditorEvent:function(type){var _this=this;this.quill.on(type,(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this.$emit.apply(_this,[type].concat(args))}))},handleInitialContent:function(){this.value&&(this.quill.root.innerHTML=this.value)},handleSelectionChange:function(range,oldRange){!range&&oldRange?this.$emit("blur",this.quill):range&&!oldRange&&this.$emit("focus",this.quill)},handleTextChange:function(){var editorContent="<div><br></div>"===this.quill.getHTML()?"":this.quill.getHTML();this.$emit("input",editorContent)},removeFormat:function(){this.quill.removeFormat(0,this.quill.getLength())}}},components_FEditorvue_type_script_lang_js=FEditorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FEditorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FEditor=component.exports},
/***/361476:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return QuotationSendMailForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/quotation/v1/QuotationSendMailForm.vue?vue&type=template&id=1af669ac
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-form-single-wrapper"},[_c("div",{staticClass:"active-txt bold pointer f12",on:{click:function($event){return _vm.goToSummary()}}},[_c("i",{staticClass:"el-icon-back pR5 f12"}),_vm._v("Go to Summary ")]),_c("div",{staticClass:"fc-black-com f20 fw4 pT5"},[_vm._v(" "+_vm._s(_vm.$t("setup.setupLabel.send_email"))+" ")]),_vm.isLoading?_c("div",{staticClass:"flex-middle "},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_c("div",{staticClass:"fc-single-form-con mT10"},[_c("el-row",[_c("el-col",{staticClass:"pB80",attrs:{span:22}},[_c("el-form",{ref:"sendMailForm",attrs:{model:_vm.mailJson,"label-width":"120px","label-position":_vm.labelPosition,rules:_vm.rules}},[_c("el-form-item",{staticClass:"el-select-block form-input fc-input-full-border-select2",attrs:{label:"Send to",prop:"to"}},[_c("el-select",{staticClass:"width100",attrs:{multiple:"",filterable:"","default-first-option":"","collapse-tags":""},model:{value:_vm.mailJson.to,callback:function($$v){_vm.$set(_vm.mailJson,"to",$$v)},expression:"mailJson.to"}},_vm._l(_vm.contacts,(function(contact){return _c("el-option",{key:contact.id,attrs:{label:contact.name,value:contact.email}},[_vm._v(_vm._s(contact.name+" ("+contact.email+")"))])})),1)],1),_c("div",{staticClass:"position-relative width100"},[_c("el-form-item",{staticClass:"el-select-block form-input fc-input-full-border-select2",attrs:{label:"CC",prop:"cc"}},[_c("el-select",{staticClass:"width100",attrs:{multiple:"",filterable:"","default-first-option":"","collapse-tags":""},model:{value:_vm.mailJson.cc,callback:function($$v){_vm.$set(_vm.mailJson,"cc",$$v)},expression:"mailJson.cc"}},_vm._l(_vm.usersList,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}},[_vm._v(_vm._s(user.name+" ("+user.email+")"))])})),1)],1),_c("div",{directives:[{name:"show",rawName:"v-show",value:!_vm.showBcc,expression:"!showBcc"}],staticClass:"active-txt f14 fc-bcc-txt pointer",on:{click:function($event){_vm.showBcc=!0}}},[_vm._v(" Bcc ")])],1),_vm.showBcc?_c("div",{staticClass:"position-relative width100"},[_c("el-form-item",{staticClass:"el-select-block form-input fc-input-full-border-select2",attrs:{label:"BCC",prop:"bcc"}},[_c("el-select",{staticClass:"width100",attrs:{multiple:"",filterable:"","default-first-option":"","collapse-tags":""},model:{value:_vm.mailJson.bcc,callback:function($$v){_vm.$set(_vm.mailJson,"bcc",$$v)},expression:"mailJson.bcc"}},_vm._l(_vm.usersList,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}},[_vm._v(_vm._s(user.name+" ("+user.email+")"))])})),1)],1)],1):_vm._e(),_c("el-form-item",{attrs:{label:"Subject",prop:"subject"}},[_c("el-input",{staticClass:"fc-input-full-border width100",model:{value:_vm.mailJson.subject,callback:function($$v){_vm.$set(_vm.mailJson,"subject",$$v)},expression:"mailJson.subject"}})],1),_c("el-form-item",{attrs:{label:"Message",prop:"message"}},[_c("div",{staticClass:"notification-editor-block pB0"},[_c("div",{staticClass:"html-editor-icon pointer fc-link-blue14 bold mT20",on:{click:function($event){_vm.codeEditorVisible=!0}}},[_vm._v(" Insert HTML ")]),_c("f-editor",{ref:"templateEditor",staticClass:"height400",attrs:{editorModules:_vm.quillEditorConfig},model:{value:_vm.mailJson.message,callback:function($$v){_vm.$set(_vm.mailJson,"message",$$v)},expression:"mailJson.message"}})],1),_vm.codeEditorVisible?_c("code-editor",{attrs:{options:{mode:"text/html"},visibility:_vm.codeEditorVisible},on:{"update:visibility":function($event){_vm.codeEditorVisible=$event}},model:{value:_vm.mailJson.message,callback:function($$v){_vm.$set(_vm.mailJson,"message",$$v)},expression:"mailJson.message"}}):_vm._e()],1),_c("el-form-item",{staticClass:"mB10"},[_c("div",{staticClass:"d-flex width100 justify-content-space"},[_c("div",{},[_c("el-checkbox",{model:{value:_vm.sendPdf,callback:function($$v){_vm.sendPdf=$$v},expression:"sendPdf"}},[_vm._v("Attach Quote PDF")])],1)])]),_vm.sendPdf?_c("el-form-item",[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{staticClass:"pB20 pointer",attrs:{span:12}},[_c("div",{staticClass:"fc-attch-block",on:{click:_vm.downloadPrintQuotation}},[_c("el-row",{staticClass:"flex-middle",attrs:{gutter:20}},[_c("el-col",{attrs:{span:2}},[_c("i",{staticClass:"el-icon-document fc-grey2-text12 f18"})]),_c("el-col",{staticClass:"pointer p210",attrs:{span:22}},[_c("div",{staticClass:"fc-black-13 line-height20 text-left"},[_vm._v(" "+_vm._s((_vm.quotationDetails||{}).subject)+" ")])])],1)],1)])],1)],1):_vm._e()],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.goToSummary}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.isSaving},on:{click:_vm.validateMail}},[_vm._v(_vm._s(_vm.isSaving?"Sending...":"Send")+" ")])],1)],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),FEditor=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(162506),__webpack_require__(670560),__webpack_require__(628539)),api=__webpack_require__(32284),validation=__webpack_require__(990260),EmailCodeEditor=__webpack_require__(9915),pick=__webpack_require__(478718),pick_default=__webpack_require__.n(pick),vuex_esm=__webpack_require__(420629),utility_methods=__webpack_require__(555005),router=__webpack_require__(329435),QuotationSendMailFormvue_type_script_lang_js={props:["id","viewname"],components:{FEditor:FEditor/* default */.Z,CodeEditor:EmailCodeEditor/* default */.Z},data:function(){return{isLoading:!1,quotationDetails:{},labelPosition:"left",isSaving:!1,sendPdf:!0,showBcc:!1,codeEditorVisible:!1,contacts:[],mailJson:{to:[],cc:[],bcc:[],subject:"",message:"",html:!0},rules:{subject:[{required:!0,message:"Please Input Subject",trigger:"blur"}],message:[{required:!0,message:"Please Input Message",trigger:"blur"}],to:[{type:"array",required:!0,message:"Please select at least one to address",trigger:"change"}]},quillEditorConfig:{toolbar:[["bold","italic","underline","link",{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{size:["small",!1,"large","huge"]},{align:["","right","center","justify"]},{header:[1,2,3,4,5,6,!1]}]]}}},created:function(){this.loadRecordDetails()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{usersList:function(){return(this.users||[]).filter((function(user){return user.inviteAcceptStatus}))},pdfUrl:function(){var appName=(0,router/* getApp */.wx)().linkName;return window.location.protocol+"//"+window.location.host+"/".concat(appName,"/pdf/quotationpdf?quotationId=").concat(this.id)},moduleName:function(){return"quote"}}),methods:{loadRecordDetails:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$fetchRecor,quote,error,_error$message,message,qContact;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,_context.next=3,api/* API */.bl.fetchRecord("quote",{id:_this.id,fetchContacts:!0,force:!0});case 3:_yield$API$fetchRecor=_context.sent,quote=_yield$API$fetchRecor.quote,error=_yield$API$fetchRecor.error,(0,validation/* isEmpty */.xb)(error)?(_this.quotationDetails=quote,_this.setInitialHTMLContent(),quote.customerType&&(1==quote.customerType?(0,validation/* isEmpty */.xb)(_this.$getProperty(quote,"tenant.peopleTenantContacts"))||(_this.contacts=_this.$getProperty(quote,"tenant.peopleTenantContacts",[]).filter((function(contact){return!(0,validation/* isEmpty */.xb)(contact.email)&&quote.contact&&quote.contact.email&&contact.email!==quote.contact.email}))):2==quote.customerType&&((0,validation/* isEmpty */.xb)(_this.$getProperty(quote,"client.peopleClientContacts"))||(_this.contacts=_this.$getProperty(quote,"client.peopleClientContacts",[]).filter((function(contact){return!(0,validation/* isEmpty */.xb)(contact.email)&&quote.contact&&quote.contact.email&&contact.email!==quote.contact.email}))))),quote.contact&&quote.contact.email&&(qContact={name:"Quote Contact - "+quote.contact.name,email:quote.contact.email},_this.contacts.splice(0,0,qContact))):(_error$message=error.message,message=void 0===_error$message?"Error Occured while fetching Quote":_error$message,_this.$message.error(message)),_this.isLoading=!1;case 8:case"end":return _context.stop()}}),_callee)})))()},goToSummary:function(){var viewname=this.viewname,moduleName=this.moduleName,id=this.id;if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref.name;name&&this.$router.push({name:name,params:{viewname:viewname,id:id},query:this.$route.query})}else this.$router.push({path:"/app/tm/quotation/".concat(viewname,"/").concat(id,"/overview"),query:this.$route.query})},validateMail:function(){var _this2=this;this.$refs["sendMailForm"].validate((function(valid){if(!valid)return!1;_this2.sendMail()}))},sendMail:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var quotationDetails,pdfUrl,mailTemplate,quotation,params,_yield$API$post,error,_error$message2,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this3.isSaving=!0,quotationDetails=_this3.quotationDetails,pdfUrl=_this3.pdfUrl,mailTemplate=_this3.$helpers.cloneObject(_this3.mailJson),_this3.$common.setUserMailWorkflow(mailTemplate.to,mailTemplate,"mail",null,null,(0,validation/* isEmpty */.xb)(mailTemplate.cc)?null:{ids:mailTemplate.cc,key:"cc"},(0,validation/* isEmpty */.xb)(mailTemplate.bcc)?null:{ids:mailTemplate.bcc,key:"bcc"}),quotation=pick_default()(quotationDetails,["id","subject"]),mailTemplate=(0,utility_methods/* deepClean */.I2)(mailTemplate),params={emailTemplate:mailTemplate,quotation:quotation},_this3.sendPdf&&(params["pdfUrl"]=pdfUrl),_context2.next=10,api/* API */.bl.post("/v2/quotation/sendMail",params);case 10:_yield$API$post=_context2.sent,error=_yield$API$post.error,error?(_error$message2=error.message,message=void 0===_error$message2?"Error Occured while sending mail":_error$message2,_this3.$message.error(message)):(_this3.$message.success("Mail Sent Successfully"),_this3.goToSummary()),_this3.isSaving=!1;case 14:case"end":return _context2.stop()}}),_callee2)})))()},downloadPrintQuotation:function(){window.open(this.pdfUrl)},setInitialHTMLContent:function(){var quotation=this.quotationDetails,toName=quotation.contact&&quotation.contact.name?quotation.contact.name:" ",message='<div style="max-width: 600px; margin-left: auto; margin-right: auto;border-top: 2px solid #584a8f; border-left: 2px solid #584a8f; border-right: 2px solid #584a8f; border-top-left-radius: 10px; border-top-right-radius: 10px;padding-left: 20px;padding-top: 20px;padding-right: 20px;">QUOTE #'.concat((quotation||{}).id,"</div>");(0,validation/* isEmpty */.xb)((quotation||{}).billDate)||(message+="<div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family:'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important;text-align: left;font-size: 12px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: normal; letter-spacing: 0.86px; text-align: left; color: #584a8f !important;\">Bill Date: ".concat(this.$options.filters.formatDate((quotation||{}).billDate),"</div>")),message+="<div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family:'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important;color:#19182e;font-size: 13px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: 1.54; letter-spacing: 0.5px;font-weight: bold;padding-top: 10px;\">Dear ".concat(toName,", </div><div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family:'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important;color:#19182e;font-size: 13px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: 1.54; letter-spacing: 0.5px;padding-bottom: 20px;\">This our Quotation for your Workorder: ").concat(this.$getProperty(quotation,"workorder.subject"," "),". Please check your Quote attached as PDF.</div><div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family: 'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important; text-align: center; font-size: 12px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: normal; padding-top: 20px; text-align: center; color: #584a8f; background: #f9f7ff;\">QUOTATION AMOUNT</div><div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family: 'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important; text-align: center; font-size: 24px; font-weight: bold; padding-top: 10px; font-stretch: normal; font-style: normal; line-height: normal; letter-spacing: 0.75px; text-align: center; color: #584a8f;background: #f9f7ff;padding-bottom: 20px;\">").concat(this.getFormattedCurrency((quotation||{}).totalCost),"</div><div style=\"max-width: 600px; margin-left: auto; margin-right: auto;border-left: 2px solid #584a8f;padding-left: 20px; padding-right: 20px;border-right: 2px solid #584a8f;font-family:'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important;color:#19182e;font-size: 13px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: 1.54; letter-spacing: 0.5px;padding-top: 20px;\"> Regards, </div><div style=\"max-width: 600px; margin-left: auto; margin-right: auto;padding-bottom: 20px;padding-left: 20px; padding-right: 20px;border-left: 2px solid #584a8f; border-right: 2px solid #584a8f; border-bottom: 2px solid #584a8f; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px;font-family:'Roboto','Helvetica Neue',Helvetica,Arial,sans-serif!important;color:#19182e;font-size: 13px; font-weight: normal; font-stretch: normal; font-style: normal; line-height: 1.54; letter-spacing: 0.5px;\"> ").concat(this.$org.name," </div>"),this.mailJson.message=message,(0,validation/* isEmpty */.xb)(this.$getProperty(quotation,"workorder.subject"))?(0,validation/* isEmpty */.xb)(quotation.subject)||(this.mailJson.subject="".concat(quotation.subject)):this.mailJson.subject="Quotation for ".concat(this.$getProperty(quotation,"workorder.subject"))},getFormattedCurrency:function(val){val=this.$d3.format(",.2f")(val);var amount="$"===this.$currency||"₹"===this.$currency?"".concat(this.$currency," ").concat(val):"".concat(val," ").concat(this.$currency);return amount}}},v1_QuotationSendMailFormvue_type_script_lang_js=QuotationSendMailFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v1_QuotationSendMailFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,QuotationSendMailForm=component.exports},
/***/9915:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return EmailCodeEditor}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/actions/EmailCodeEditor.vue?vue&type=template&id=204823de
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{"append-to-body":!0,title:"HTML Editor",visible:_vm.visibility,width:"50%","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticStyle:{height:"443px"}},[_c("el-radio-group",{model:{value:_vm.codeShowAndPreview,callback:function($$v){_vm.codeShowAndPreview=$$v},expression:"codeShowAndPreview"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"HTML Editor"}},[_vm._v("HTML Editor")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"Preview"}},[_vm._v("Preview")])],1),"HTML Editor"===_vm.codeShowAndPreview?_c("div",{staticClass:"mT20"},[_c("code-mirror",{attrs:{codeeditor:!0},model:{value:_vm.htmlEditor,callback:function($$v){_vm.htmlEditor=$$v},expression:"htmlEditor"}})],1):_vm._e(),"Preview"===_vm.codeShowAndPreview?_c("div",{staticClass:"mT20 html-editor-preview",domProps:{innerHTML:_vm._s(_vm.htmlEditor)}},[_vm._v(" "+_vm._s(_vm.htmlEditor)+" ")]):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Insert")])],1)])],1)},staticRenderFns=[],CodeMirror=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(919324)),EmailCodeEditorvue_type_script_lang_js={props:["visibility","value"],data:function(){return{htmlEditor:"",codeShowAndPreview:"HTML Editor",content:""}},components:{CodeMirror:CodeMirror/* default */.Z},mounted:function(){this.htmlEditor=this.value},methods:{closeDialog:function(){this.$emit("update:visibility",!1)},save:function(){this.htmlEditor.includes("<script")||(this.$emit("input",this.htmlEditor),this.closeDialog())}}},actions_EmailCodeEditorvue_type_script_lang_js=EmailCodeEditorvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(actions_EmailCodeEditorvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,EmailCodeEditor=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/61476.js.map