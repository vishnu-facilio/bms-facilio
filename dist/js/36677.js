(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[36677],{
/***/720096:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PreviewFile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PreviewFile.vue?vue&type=template&id=447c7e89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.currentFile?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"preview-file"},[_c("div",{staticClass:"top-toolbar"},[_c("div",{staticClass:"a-top-toolbar"},[_c("div",{staticClass:"file-name word-break-keep"},[_vm._v(" "+_vm._s(_vm.currentFile.fileName)+" ")]),_c("div",{staticClass:"top-toolbar-icon-right flex align-center"},[_vm.currentFile.contentType.includes("image")?[_c("div",{staticClass:"flex-middle pL15"},[_vm.showOriginalImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showOriginalPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_original"))+" ")]):_vm._e(),_vm.showCompressedImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showCompressedPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_default"))+" ")]):_vm._e()]),_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.currentFile.contentType.includes("pdf")?[_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.showDeleteOption()?_c("div",{staticClass:"flex-middle pL15",on:{click:function($event){return _vm.deletePreview()}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color close vertical-text-top",attrs:{src:"svgs/delete",iconClass:"icon icon-md"}})],1):_vm._e(),_c("div",{staticClass:"pL15"},[_c("i",{staticClass:"el-icon-close close",on:{click:_vm.closePreview}})])],2)])]),_vm.currentFileIndex>0?_c("a",{staticClass:"el-icon-arrow-left prev",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(-1)}}}):_vm._e(),_vm.currentFileIndex<_vm.files.length-1?_c("a",{staticClass:"el-icon-arrow-right next",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(1)}}}):_vm._e(),_c("div",{staticClass:"preview-content"},[_vm.currentFile.contentType.includes("image")?[_vm.compressedImage?_c("img",{staticClass:"content",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl)}}):_vm.originalImage?_c("img",{staticClass:"content original",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl+"?fetchOriginal=true")}}):_vm._e()]:_vm.currentFile.contentType.includes("pdf")?_c("div",{staticClass:"width100 height-100"},[_c("iframe",{staticClass:"fc-preview-pdf",attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl),height:"100%",width:"100%"}})]):_vm.isVideoSupported(_vm.currentFile.contentType)?_c("div",{staticClass:"width100 height-100 fc-preview-video"},[_c("video",{attrs:{controls:""}},[_c("source",{attrs:{src:_vm.$prependBaseUrl(_vm.$getProperty(_vm.currentFile,"downloadUrl",null)),type:_vm.$getProperty(_vm.currentFile,"contentType")}}),_vm._v(" "+_vm._s(_vm.$t("common._common.browser_not_supported"))+" ")])]):_c("div",{staticClass:"no-preview"},[_c("div",{staticClass:"flex justify-center pT24"},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:_vm.getFileIcon(_vm.currentFile),iconClass:"icon icon-60 overlay"}})],1),_c("div",{staticClass:"f14 pT12 pB12"},[_vm._v("No preview available")]),_c("div",{staticClass:"download-button"},[_c("a",{staticClass:"flex flex-row",staticStyle:{color:"#ffff"},on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("div",[_vm._v("Download")])])])])],2),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()]):_vm._e()},staticRenderFns=[],validation=(__webpack_require__(339772),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(228436),__webpack_require__(990260)),PreviewFilevue_type_script_lang_js={props:["previewFile","files","visibility","showDelete","isLockedState","isTaskClosed"],data:function(){return{show:!0,previewUrl:null,currentFileIndex:0,currentFile:null,imageMargin:null,exportDownloadUrl:null,originalImage:!1,compressedImage:!0,showOriginalImage:!0,showCompressedImage:!1}},destroyed:function(){window.removeEventListener("keyup",this.handler)},mounted:function(){window.addEventListener("keyup",this.handler),this.preloadImages()},watch:{},computed:{},methods:{handler:function(){
// If escape key is pressed...
27===event.keyCode?this.closePreview():37===event.keyCode?this.plusSlides(-1):39===event.keyCode&&this.plusSlides(1)},preloadImages:function(){this.currentFile=this.previewFile?this.previewFile:this.files[0],this.currentFileIndex=this.files.indexOf(this.currentFile)},plusSlides:function(n){var index=this.currentFileIndex+n;index<0&&(index=0),index>=this.files.length&&(index=this.files.length-1),this.currentFileIndex=index,this.currentFile=this.files[index]},closePreview:function(){this.$emit("update:visibility",!1)},deletePreview:function(){var currentFile=this.currentFile;this.$emit("onDelete",currentFile)},downloadAttachment:function(file){var _this=this,_ref=file||{},url=_ref.downloadUrl;this.exportDownloadUrl&&(this.exportDownloadUrl=null),this.$nextTick((function(){_this.exportDownloadUrl=url}))},showOriginalPhoto:function(){this.originalImage=!0,this.showCompressedImage=!0,this.showOriginalImage=!1,this.compressedImage=!1},showCompressedPhoto:function(){this.showCompressedImage=!1,this.originalImage=!1,this.showOriginalImage=!0,this.compressedImage=!0},getFileIcon:function(attachment){var contentType=attachment.contentType,FILE_TYPE_ICONS=this.$constants.FILE_TYPE_ICONS,selectedIndex=FILE_TYPE_ICONS.findIndex((function(icons){var fileTypes=icons.fileTypes;return fileTypes.some((function(type){return contentType.includes(type)}))}));return(0,validation/* isEmpty */.xb)(selectedIndex)?FILE_TYPE_ICONS[0].path:FILE_TYPE_ICONS[selectedIndex].path},isVideoSupported:function(contentType){contentType=contentType||"";var supportedTypes=["video/webm","video/mp4","video/ogg"];return supportedTypes.includes(contentType.trim().toLowerCase())},showDeleteOption:function(){var showDelete=this.showDelete,isLockedState=this.isLockedState,isTaskClosed=this.isTaskClosed;return showDelete&&!isLockedState&&!isTaskClosed}}},components_PreviewFilevue_type_script_lang_js=PreviewFilevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PreviewFilevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PreviewFile=component.exports},
/***/772071:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return InventoryLabor}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/InventoryLabor.vue?vue&type=template&id=5b745e9c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"inventoryLaborWidget",staticClass:"p30 white-bg-block mB20"},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-v1-icon-bg text-center"},[_c("InlineSvg",{attrs:{src:"svgs/labour",iconClass:"icon icon-lg"}})],1),_c("div",{staticClass:"fc-black3-16 mL10"},[_vm._v(_vm._s(_vm.$t("common.header.labour")))])]),_c("div",{staticClass:"inventory-table inventory-tool-table inventory-labour-tool-table pT20"},[_vm.labourLoading?_c("table",{staticClass:"width100"},[_c("tr",[_c("td",{attrs:{colspan:"100%"}},[_c("div",{staticClass:"iTloading in-no-data"},[_c("spinner",{attrs:{show:!0,size:"80"}})],1)])])]):_c("table",{staticClass:"width100"},[_c("thead",[_c("tr",[_c("th",{staticStyle:{width:"180px"}},[_vm._v(" "+_vm._s(_vm.$t("common.header._labour"))+" ")]),_c("th",{staticClass:"text-right width110px"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report._start_time"))+" ")]),_c("th",{staticClass:"text-right width110px pL20"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report._end_time"))+" ")]),_c("th",{staticClass:"text-right width130px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.duration_hr"))+" ")]),_c("th",{staticClass:"text-right"},[_vm._v(_vm._s(_vm.$t("common.header.rate_hr")))]),_c("th",{staticClass:"text-right"},[_vm._v(_vm._s(_vm.$t("common.tabs._cost")))]),_c("th",{staticClass:"width40px"})])]),_vm.workorderLabourList.length?_c("tbody",_vm._l(_vm.workorderLabourList,(function(workLabour,index){return _c("tr",{key:workLabour.id,staticClass:"borderB1px border-color11 visibility-visible-actions pointer"},[_c("td",[_c("div",{staticClass:"pL17",staticStyle:{width:"180px"}},[_c("div",[_vm._v(_vm._s(workLabour.labour.name))])])]),_c("td",[_c("div",{staticClass:"in-Quantity width110px"},[_c("div",{staticClass:"fc-black-13 text-right pR17"},[_vm._v(" "+_vm._s(_vm.formatTime(Number(workLabour.startTime),"hh:mm a",!1))+" ")]),_c("div",{staticClass:"fc-grey2-text12 text-right"},[_c("el-date-picker",{staticClass:"fc-input-border-remove inventory-date-picker pL40 fc-grey2-text12",attrs:{format:"dd-MM-yyyy hh:mm a","value-format":"timestamp",type:"datetime",disabled:!_vm.actionRule,placeholder:_vm.$t("common.wo_report.start_time")},on:{change:function($event){return _vm.changeWorkLabourField(workLabour,index,1)}},model:{value:workLabour.startTime,callback:function($$v){_vm.$set(workLabour,"startTime",$$v)},expression:"workLabour.startTime"}})],1)])]),_c("td",{staticClass:"pL20"},[_c("div",{staticClass:"in-Quantity width110px"},[_c("div",{staticClass:"fc-black-13 text-right"},[_vm._v(" "+_vm._s(_vm.formatTime(Number(workLabour.endTime),"hh:mm a",!1))+" ")]),_c("div",{staticClass:"fc-grey2-text12 text-right"},[_c("el-date-picker",{staticClass:"fc-input-border-remove inventory-date-picker pL40 fc-grey2-text12",attrs:{format:"dd-MM-yyyy hh:mm a","value-format":"timestamp",type:"datetime",disabled:!_vm.actionRule,placeholder:_vm.$t("common.wo_report.end_time"),"picker-options":{disabledDate:function(time){return time.getTime()<workLabour.startTime}}},on:{change:function($event){return _vm.changeWorkLabourField(workLabour,index,2)}},model:{value:workLabour.endTime,callback:function($$v){_vm.$set(workLabour,"endTime",$$v)},expression:"workLabour.endTime"}})],1)])]),_c("td",[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,animation:"shift-away"},expression:"{\n                placement: 'top',\n                arrow: true,\n                animation: 'shift-away',\n              }"}],staticClass:"in-Quantity",staticStyle:{width:"70px","text-align":"right",float:"right"},attrs:{title:workLabour.duration}},[_c("el-input",{staticClass:"pL10 labour-inventory-items-input labour-inventory-input pR0 fc-input-full-border-select2",attrs:{placeholder:"duration",disabled:!_vm.actionRule},on:{change:function($event){return _vm.changeWorkLabourField(workLabour,index,3)}},model:{value:workLabour.duration,callback:function($$v){_vm.$set(workLabour,"duration",$$v)},expression:"workLabour.duration"}})],1)]),_c("td",[_c("div",{staticClass:"text-right"},[_c("currency",{attrs:{value:workLabour.labour.cost,recordCurrency:_vm.recordCurrency}})],1)]),_c("td",[_c("div",{staticClass:"text-right"},[_c("currency",{attrs:{value:workLabour.cost,recordCurrency:_vm.recordCurrency}})],1)]),_c("td",{directives:[{name:"show",rawName:"v-show",value:_vm.actionRule,expression:"actionRule"}]},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer inv-delet-icon visibility-hide-actions pR10 pL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete_labour")},on:{click:function($event){return _vm.deleteWorkorderLabour(workLabour,index)}}})])])})),0):_c("tbody",[_c("tr",[_c("td",{staticClass:"inventory-td-selected pL20 pT10 pB10",class:{disabled:!_vm.actionRule},on:{click:function($event){_vm.actionRule&&_vm.addNewWOLabour()}}},[_c("div",[_vm._v(_vm._s(_vm.$t("common.header._add_labour")))])]),_vm._m(0),_vm._m(1),_c("td",[_c("div",{staticClass:"text-right"},[_c("el-input",{staticClass:"fc-input-full-border2 width50px inventory-input-width text-center mR10",attrs:{placeholder:"",type:"number",disabled:""}})],1)]),_c("td",{staticClass:"pT10 pB10"},[_c("div",{staticClass:"fc-grey3-13 text-right"},[_c("currency",{attrs:{value:0,recordCurrency:_vm.recordCurrency}})],1)]),_c("td",{staticClass:"pT10 pB10"},[_c("div",{staticClass:"fc-grey3-13 text-right"},[_c("currency",{attrs:{value:0,recordCurrency:_vm.recordCurrency}})],1)]),_c("td")])])])]),_vm.labourLoading?_c("div",{staticClass:"item-add"}):_c("div",{staticClass:"item-add"},[_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.isNotPortal&&_vm.actionRule&&_vm.workorderLabourList.length,expression:"isNotPortal && actionRule && workorderLabourList.length"}],staticClass:"fL"},[_c("div",{staticClass:"green-txt-13 fc-v1-add-txt pointer",on:{click:_vm.addNewWOLabour}},[_c("img",{attrs:{src:__webpack_require__(353654)}}),_vm._v(_vm._s(_vm.$t("common.header._add_labour"))+" ")])]),_c("div",{staticClass:"fR inline-flex mR44"},[_c("div",{staticClass:"bold mR50"},[_vm._v(_vm._s(_vm.$t("common.header._total")))]),_c("div",{staticClass:"fc-black3-16 text-right bold pL10"},[_c("currency",{attrs:{value:_vm.workLabourTotalCost,recordCurrency:_vm.recordCurrency}})],1)]),_c("el-dialog",{attrs:{visible:_vm.newLabourToggle,fullscreen:!1,open:"top","custom-class":"fc-dialog-up Inventoryaddvaluedialog","append-to-body":!0},on:{"update:visible":function($event){_vm.newLabourToggle=$event}}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.$t("common.header.labour_list"))+" ")])]),_c("div",{staticClass:"fc-inv-container-body"},[_c("table",{staticClass:"setting-list-view-table width100 invent-table-dialog"},[_c("thead",[_c("th",{staticClass:"setting-table-th setting-th-text"}),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common._phone_number"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.status"))+" ")])]),_vm.labourList.length?_c("tbody",_vm._l(_vm.labourList,(function(labour){return _c("tr",{key:labour.id,staticClass:"tablerow asset-hover-td"},[_c("td",{staticStyle:{width:"10%"}},[_c("el-checkbox",{model:{value:labour.checked,callback:function($$v){_vm.$set(labour,"checked",$$v)},expression:"labour.checked"}})],1),_c("td",[_vm._v(_vm._s(labour.name))]),_c("td",[_vm._v(_vm._s(labour.phone))]),_c("td",[_vm._v(_vm._s(labour.availability?"Active":"Inactive"))])])})),0):_c("tbody",[_c("tr",[_c("td",{attrs:{colspan:"100%"}},[_c("div",{staticClass:"flex-middle justify-content-center flex-direction-column"},[_c("inline-svg",{attrs:{src:"svgs/emptystate/inventory",iconClass:"icon text-center icon-100"}}),_c("div",{staticClass:"nowo-label f14 bold"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_labours_present"))+" ")])],1)])])])])]),_c("div",{staticClass:"modal-dialog-footer-parts-dialog"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.cancelLabourDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",staticStyle:{"margin-left":"0px !important"},attrs:{type:"primary",disabled:_vm.iTloading},on:{click:function($event){return _vm.addLabourSave()}}},[_vm._v(_vm._s(_vm.$t("common._common._add")))])],1)])],1)])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("td",{staticClass:"pT10 pB10"},[_c("div",{staticClass:"fc-black-13 text-right"},[_vm._v("-- -- --")])])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("td",{staticClass:"pT10 pB10 pL20"},[_c("div",{staticClass:"fc-black-13 text-right"},[_vm._v("-- -- --")])])}],moment_timezone=(__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(897389),__webpack_require__(879288),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(162506),__webpack_require__(480008)),moment_timezone_default=__webpack_require__.n(moment_timezone),workorderHelper=__webpack_require__(865764),InlineSvg=__webpack_require__(586166),InventoryLaborvue_type_script_lang_js={props:["details","resizeWidget"],mixins:[workorderHelper/* default */.Z],components:{InlineSvg:InlineSvg/* default */.Z},data:function(){return{iTloading:!1,labourLoading:!1,workLabourTotalCost:null,workorderLabourList:[],labourList:[],newLabourToggle:!1,selectedLabour:[]}},created:function(){this.$store.dispatch("loadTicketStatus","workorder"),this.init()},computed:{workorder:function(){return this.details.workorder},actionRule:function(){return this.canEdit},canEdit:function(){return this.isStateFlowEnabled?!this.$store.getters.isStatusLocked(this.workorder.moduleState.id,"workorder"):this.workorder&&2!==this.workorder.approvalState},isStateFlowEnabled:function(){return Boolean(this.workorder.moduleState&&this.workorder.moduleState.id)}},methods:{init:function(){this.loadWorkOrderLabour(!0)},autoResize:function(){var _this=this;this.$nextTick((function(){var container=_this.$refs["inventoryLaborWidget"];if(container){var height=container.scrollHeight+10,width=container.scrollWidth;_this.resizeWidget({height:height,width:width})}}))},addNewWOLabour:function(){this.loadLabour(!0),this.newLabourToggle=!0},deleteWorkorderLabour:function(workLabour){var _this2=this,param={parentId:this.workorder.id,workorderLabourIds:[]};param.workorderLabourIds.push(workLabour.id),this.$http.post("v2/workorderLabour/delete",param).then((function(response){0===response.data.responseCode?_this2.$message.success(_this2.$t("common.products.labour_deleted_successfully")):_this2.$message.error(response.data.message),_this2.$root.$emit("refresh-inventory-summary")})).then((function(){_this2.loadWorkOrderLabour()})).catch((function(error){}))},cancelLabourDialog:function(){this.newLabourToggle=!1},addLabourSave:function(){var _this3=this,param={workorderLabourList:[]};if(this.labourList.length){for(var i=0;i<this.labourList.length;i++){var labour=this.labourList[i];if(labour.checked){var temp={parentId:this.workorder.id,startTime:-1,endTime:-1,labour:labour};param.workorderLabourList.push(temp),this.labourList[i]=!1}}this.labourLoading=!0,this.$http.post("/v2/workorderLabour/addOrUpdate",param).then((function(response){_this3.labourLoading=!0,0!==response.data.responseCode?_this3.$message.error(response.data.message):_this3.$message.success(_this3.$t("common._common.added_available_labour_successfully"))})).then((function(){_this3.loadWorkOrderLabour()})).catch((function(error){_this3.$message.error(_this3.$t("common.wo_report.unable_to_add_labour"))})).finally((function(){_this3.labourLoading=!1,_this3.newLabourToggle=!1,_this3.$root.$emit("refresh-inventory-summary")}))}},changeWorkLabourField:function(workLabour,index,changedfield){var _this4=this,self=this,duration=Number(workLabour.duration).toFixed(2),param={workorderLabourList:[]};-1===workLabour.startTime&&(workLabour.startTime=null),-1===workLabour.endTime&&(workLabour.endTime=null);var startTime=null!==workLabour.startTime?moment_timezone_default()(workLabour.startTime).tz(this.$timezone).valueOf():workLabour.startTime,endTime=null!==workLabour.endTime?moment_timezone_default()(workLabour.endTime).tz(this.$timezone).valueOf():workLabour.endTime,temp={id:workLabour.id,parentId:this.workorder.id,duration:3===changedfield||1===changedfield?duration:-1,labour:workLabour.labour,startTime:startTime||-99,endTime:2===changedfield?endTime:-99};param.workorderLabourList.push(temp),this.$http.post("/v2/workorderLabour/addOrUpdate",param).then((function(response){0!==response.data.responseCode?self.$message.error(response.data.message):self.$message.success(_this4.$t("common._common.updated_successfully"))})).then((function(){self.loadWorkOrderLabour()}))},loadLabour:function(){var _this5=this,self=this;this.$http.get("/v2/labour/labourList").then((function(response){self.labourList=response.data.result.labours;for(var i=0;i<self.labourList.length;i++){var labourItem=self.labourList[i];self.selectedLabour.includes(labourItem.id)&&self.labourList.splice(i,1)}})).catch((function(error){self.$message.error(_this5.$t("common.wo_report.unable_to_labor_list"))}))},loadWorkOrderLabour:function(loading){var _this6=this;loading&&(this.labourLoading=!0),this.$http.get("/v2/workorderLabourList/parent/"+this.workorder.id).then((function(response){for(var workLabour in _this6.workLabourTotalCost=0,response.data.result.workorderLabour)_this6.workLabourTotalCost=_this6.workLabourTotalCost+response.data.result.workorderLabour[workLabour].cost;for(var index in _this6.workorderLabourList=_this6.$helpers.cloneObject(response.data.result.workorderLabour),_this6.selectedLabour=[],_this6.workorderLabourList){var workLabourItem=_this6.workorderLabourList[index];_this6.selectedLabour.push(workLabourItem.labour.id),workLabourItem.startTime=workLabourItem.startTime<=0?null:workLabourItem.startTime,workLabourItem.endTime=workLabourItem.endTime<=0?null:workLabourItem.endTime,workLabourItem.duration=workLabourItem.duration.toFixed(2)}_this6.labourLoading=!1})).catch((function(error){_this6.$message.error(_this6.$t("common.wo_report.unable_to_load_labor"))})).finally((function(){_this6.labourLoading=!1,_this6.autoResize()}))}}},widgets_InventoryLaborvue_type_script_lang_js=InventoryLaborvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_InventoryLaborvue_type_script_lang_js,render,staticRenderFns,!1,null,"5b745e9c",null)
/* harmony default export */,InventoryLabor=component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/36677.js.map