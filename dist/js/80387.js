"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[80387],{
/***/380387:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return APIClients}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/personalsettings/APIClients.vue?vue&type=template&id=3d1e7fde&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.loading?_c("SetupLoader",{scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})]},proxy:!0}],null,!1,3199698086)}):_c("div",[_c("div",{staticClass:"flex-space-between"},[_c("div",{staticClass:"fc-black-15 fwBold pL20 pT20"},[_vm._v("API Clients")]),_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){return _vm.addApiClient()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_api_client"))+" ")])],1),_c("div",{staticClass:"fc-setup-actions-con pT0 pL0"}),_c("el-table",{staticClass:"fc-setup-table fc-setup-table-p0 fc-setup-table-th-borderTop",staticStyle:{width:"100%"},attrs:{data:_vm.apiClientList,height:"calc(100vh - 320px)",fit:!0}},[_c("template",{slot:"empty"},[_c("div",{staticClass:"height57vh fc-align-center-column"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"label-txt-black f18 bold"},[_vm._v(" "+_vm._s(_vm.$t("setup.empty.empty_api_clients"))+" ")])],1)]),_c("el-table-column",{attrs:{prop:"name",label:"Name"},scopedSlots:_vm._u([{key:"default",fn:function(apiClient){return[_vm._v(" "+_vm._s(apiClient.row.name)+" ")]}}])}),_c("el-table-column",{attrs:{prop:"type",label:"Type"},scopedSlots:_vm._u([{key:"default",fn:function(apiClient){return[_vm._v(" "+_vm._s(2===apiClient.row.authType?"API Key":"Oauth2")+" ")]}}])}),_c("el-table-column",{attrs:{prop:"oauth2ClientId",label:"Client ID"},scopedSlots:_vm._u([{key:"default",fn:function(apiClient){return[_vm._v(" "+_vm._s(apiClient.row.oauth2ClientId||"---")+" ")]}}])}),_c("el-table-column",{attrs:{prop:"createdTime",label:"Created Time"},scopedSlots:_vm._u([{key:"default",fn:function(apiClient){return[_vm._v(" "+_vm._s(_vm._f("formatDate")(apiClient.row.createdTime,!0))+" ")]}}])}),_c("el-table-column",{attrs:{label:""},scopedSlots:_vm._u([{key:"default",fn:function(apiClient){return[_c("i",{staticClass:"visibility-hide-actions el-icon-delete pL10",on:{click:function($event){return _vm.removeClient(apiClient.row.id)}}})]}}])})],2)],1),_vm.showApiClientForm?_c("new-api-client",{attrs:{isNew:_vm.isNew},on:{onClose:_vm.onClose,onSave:_vm.listApiClients}}):_vm._e()],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),NewAPIClientvue_type_template_id_2695e554_render=(__webpack_require__(233432),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.$t("common._common.add_api_client"),visible:_vm.canShowAPIClientType,width:"30%","append-to-body":!0,"before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.canShowAPIClientType=$event}}},[_c("div",{staticClass:"height300"},[_c("el-form",[_c("el-form-item",{attrs:{required:!0,label:_vm.$t("common.products.name")}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_name")},model:{value:_vm.apiClient.name,callback:function($$v){_vm.$set(_vm.apiClient,"name",$$v)},expression:"apiClient.name"}})],1),_c("el-form-item",{attrs:{label:_vm.$t("common._common.apiclienttype"),required:!0}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.products.select_tabtype"),filterable:""},model:{value:_vm.apiType,callback:function($$v){_vm.apiType=$$v},expression:"apiType"}},_vm._l(_vm.apiClientTypes,(function(type){return _c("el-option",{key:type.value,attrs:{label:type.name,value:type.value}})})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.confirm"))+" ")])],1)],1)]),_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.$t("common._common.api_secret"),visible:_vm.canShowSecret,width:"30%","append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":_vm.closeSecret},on:{"update:visible":function($event){_vm.canShowSecret=$event}}},[_c("div",{staticClass:"max-height300 pB40"},[_c("div",[_c("div",["oauth2"===_vm.apiType?_c("div",[_c("div",{staticClass:"fc-black2-14 text-left bold"},[_c("i",{staticClass:"el-icon-lock pR10 fc-secret-lock"}),_vm._v(" Oauth Client ID: ")]),_c("div",{staticClass:"flex-middle fc-code-block-oauthKey visibility-visible-actions mB20"},[_vm._v(" "+_vm._s(_vm.clientId)+" "),_c("div",{staticClass:"pointer pL5 visibility-hide-actions",on:{click:function($event){return _vm.copyLinkName(_vm.clientId)}}},[_c("inline-svg",{attrs:{src:"svgs/link-copy",iconClass:"icon icon-sm-md vertical-bottom op5"}})],1)])]):_vm._e()]),_c("div",[_c("div",{staticClass:"fc-black2-14 text-left bold"},[_c("i",{staticClass:"el-icon-key pR10 fc-secret-key"}),_vm._v(" Secret Key: ")]),_c("div",{staticClass:"flex-middle fc-code-block-apiKey visibility-visible-actions"},[_c("div",{staticClass:"fc-black2-14 text-left"},[_vm._v(" "+_vm._s(_vm.token)+" ")]),_c("div",{staticClass:"pointer pL5 visibility-hide-actions",on:{click:function($event){return _vm.copyLinkName(_vm.token)}}},[_c("inline-svg",{attrs:{src:"svgs/link-copy",iconClass:"icon icon-sm-md vertical-bottom op5"}})],1)])])])])])],1)}),NewAPIClientvue_type_template_id_2695e554_staticRenderFns=[],api=__webpack_require__(32284),NewAPIClientvue_type_script_lang_js={props:["isNew"],data:function(){return{clientId:null,token:null,apiType:"api-key",canShowSecret:!1,canShowAPIClientType:!1,canShowAPIKeyClientForm:!1,canShowOauth2ClientForm:!1,saving:!1,apiClient:{name:null},apiClientTypes:[{name:"API Key",value:"api-key"},{name:"Oauth2",value:"oauth2"}]}},created:function(){this.canShowAPIClientType=this.isNew},methods:{openApiClientForm:function(){this.canShowAPIClientType=!1,"api-key"===this.apiType?this.canShowAPIKeyClientForm=!0:this.canShowOauth2ClientForm=!0},closeDialog:function(){this.$emit("onClose")},submitForm:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.saving=!0,"api-key"===_this.apiType?_this.apiClient.authType=2:_this.apiClient.authType=1,_context.next=4,api/* API */.bl.post("/v2/dev/createAPIClient",{apiClient:_this.apiClient});case 4:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this.$message.error(error.message||"Error Occured"):(_this.clientId=data.clientId,_this.token=data.token,_this.canShowAPIKeyClientForm=!1,_this.canShowOauth2ClientForm=!1,_this.canShowAPIClientType=!1,_this.$message.success(_this.$t("common._common.api_client_added")),_this.canShowSecret=!0),_this.saving=!1;case 9:case"end":return _context.stop()}}),_callee)})))()},closeSecret:function(){this.$emit("onSave"),this.closeDialog()},copyLinkName:function(copy){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,navigator.clipboard.writeText(copy);case 2:_this2.$message({message:"Copied !",type:"success"});case 3:case"end":return _context2.stop()}}),_callee2)})))()}}},personalsettings_NewAPIClientvue_type_script_lang_js=NewAPIClientvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(personalsettings_NewAPIClientvue_type_script_lang_js,NewAPIClientvue_type_template_id_2695e554_render,NewAPIClientvue_type_template_id_2695e554_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewAPIClient=component.exports,APIClientsvue_type_script_lang_js={data:function(){return{loading:!1,apiClientList:[],isNew:!1,showApiClientForm:!1}},components:{NewApiClient:NewAPIClient},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.listApiClients();case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{onSave:function(){this.showApiClientForm=!1,this.listApiClients()},addApiClient:function(){this.isNew=!0,this.showApiClientForm=!0},onClose:function(){this.showApiClientForm=!1},listApiClients:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loading=!0,_context2.next=3,api/* API */.bl.get("/v2/dev/listApiClients");case 3:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||"Error Occured"):_this2.apiClientList=data.apiClients,_this2.loading=!1;case 8:case"end":return _context2.stop()}}),_callee2)})))()},removeClient:function(id){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this3.loading=!0,_context3.next=3,api/* API */.bl.post("/v2/dev/deleteClient",{id:id});case 3:_yield$API$post=_context3.sent,error=_yield$API$post.error,error?(_this3.$message.error(error.message||"Error Occured"),_this3.loading=!1):(_this3.$message.success(_this3.$t("common._common.api_deleted_successfully")),_this3.listApiClients());case 6:case"end":return _context3.stop()}}),_callee3)})))()}}},personalsettings_APIClientsvue_type_script_lang_js=APIClientsvue_type_script_lang_js,APIClients_component=(0,componentNormalizer/* default */.Z)(personalsettings_APIClientsvue_type_script_lang_js,render,staticRenderFns,!1,null,"3d1e7fde",null)
/* harmony default export */,APIClients=APIClients_component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/80387.js.map