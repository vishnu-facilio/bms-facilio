(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[30721,40011,51201],{
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/479776:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkorderTimer}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/WorkorderTimer.vue?vue&type=template&id=744e77af
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.workorder?_c("div",{staticClass:"wo-timer fc__wo__sum__timer",staticStyle:{"min-height":"45px"}},[!_vm.workorder.loadTimer||_vm.loading?[_c("spinner",{attrs:{show:!0,size:"40"}})]:_vm.workorder.moduleState&&_vm.$store.getters.getTicketStatus(_vm.workorder.moduleState.id,"workorder").timerEnabled?[_c("timer",{staticClass:"alarm-timer p10 wip",attrs:{time:_vm.time}})]:_vm.workorder.moduleState&&_vm.workorder.moduleState.id||"Work in Progress"!==_vm.workorder.status.status?_vm.time?[_vm.actualWorkDurationField?_c("static-timer",{staticClass:"alarm-timer p10 static",attrs:{time:_vm.time,static:!0,twoDigits:"true",duration:_vm.duration}}):_vm._e()]:[_c("div",{staticClass:"fc-timer p10 nothing static"},[_c("div",{staticClass:"row"},[_c("div",{staticClass:"t-hours"},[_c("div",{staticClass:"t-label"},[_vm._v(_vm._s("00"))]),_c("div",{staticClass:"t-sublabel uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.hour"))+" ")])]),_c("span",{staticClass:"t-separate"},[_vm._v(":")]),_c("div",{staticClass:"t-mins"},[_c("div",{staticClass:"t-label"},[_vm._v(_vm._s("00"))]),_c("div",{staticClass:"t-sublabel uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.min"))+" ")])]),_c("span",{staticClass:"t-separate pL13"},[_vm._v(":")]),_c("div",{staticClass:"t-secs"},[_c("div",{staticClass:"t-label"},[_vm._v(_vm._s("00"))]),_c("div",{staticClass:"t-sublabel uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.sec"))+" ")])])])])]:[_c("timer",{attrs:{vclass:"alarm-timer p10 wip",time:_vm.time}})]],2):_vm._e()},staticRenderFns=[],Timer=__webpack_require__(114857),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),WorkorderTimervue_type_script_lang_js={props:["actualWorkDurationField","loading"],components:{Timer:Timer/* default */.Z,StaticTimer:Timer/* default */.Z},watch:{workorder:{handler:function(){},deep:!0}},created:function(){this.$store.dispatch("loadTicketStatus","workorder")},computed:{time:function(){if(this.workorder.loadTimer){var time=this.workorder.actualWorkStart>this.workorder.resumedWorkStart?this.workorder.actualWorkStart:this.workorder.resumedWorkStart,duration=this.workorder.actualWorkDuration;return time=time>-1?time:moment_timezone_default()().tz(this.$timezone).valueOf(),duration=1e3*(duration>-1?duration:0),time-duration}return moment_timezone_default()().tz(this.$timezone).valueOf()},duration:function(){var actualWorkDurationField=this.actualWorkDurationField;if(this.workorder.loadTimer){var duration=this.workorder.actualWorkDuration;return duration=duration>-1?duration:0,this.$helpers.getDurationInSecs(duration,(null===actualWorkDurationField||void 0===actualWorkDurationField?void 0:actualWorkDurationField.unit)||"s")}return 0},workorder:function(){return this.$store.state.workorder.currentWorkOrder}}},components_WorkorderTimervue_type_script_lang_js=WorkorderTimervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_WorkorderTimervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkorderTimer=component.exports},
/***/751201:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Asset}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/Asset.vue?vue&type=template&id=30a11ac8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.asset?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[!_vm.showSlide||"undefined"!==typeof _vm.disableSlide&&!1!==_vm.disableSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{staticClass:"fc-avatar-carousel",attrs:{trigger:"click",autoplay:!1,"indicator-position":"none"}},[_vm._l(_vm.photos,(function(photo,index){return[photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{target:"_blank",src:photo.url},on:{click:function($event){return _vm.openPhotoUrl(photo.originalUrl)}}})]):_vm._e()]}))],2)],1),_vm.showName?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(_vm._s(_vm.asset.name))])])]):_vm._e(),!_vm.showUpload||"undefined"!==typeof _vm.disableUpload&&!1!==_vm.disableUpload?_vm._e():_c("div",[_c("span",{staticClass:"upload-space-photos pointer",on:{click:_vm.showUploadPhotoDialog}},[_c("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}})]),_c("f-upload-photos",{ref:"uploadDialog",attrs:{module:"assetphotos",list:_vm.photos,record:_vm.asset},on:{updatePhotos:function($event){return _vm.handleUpdate()}}})],1)])]):_vm._e()},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),FUploadPhotos=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(350367)),vuex_esm=__webpack_require__(420629),validation=__webpack_require__(990260),api=__webpack_require__(32284),Assetvue_type_script_lang_js={props:["size","asset","name","hovercard","disableUpload","disableSlide"],data:function(){return{avatarUrl:null,sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.asset.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["shuge","huge","xhuge","widget"]}},components:{FUploadPhotos:FUploadPhotos/* default */.Z},mounted:function(){this.loadAvatarUrl()},created:function(){this.$store.dispatch("loadAssetType")},computed:(0,objectSpread2/* default */.Z)({showSlide:function(){if(this.photos&&this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},(0,vuex_esm/* mapGetters */.Se)(["getAssetType"])),watch:{asset:function(){this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var asset,size,sliderEnabledSize,disableSlide,_ref,avatarUrl,assetId,_yield$API$get,error,data,_ref2,_ref2$photos,photos,defaultAvatarUrl;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(asset=_this.asset,size=_this.size,sliderEnabledSize=_this.sliderEnabledSize,disableSlide=_this.disableSlide,_ref=asset||{},avatarUrl=_ref.avatarUrl,assetId=_ref.id,!(sliderEnabledSize.indexOf(size)>=0&&(!disableSlide||disableSlide&&"true"===disableSlide))){_context.next=12;break}if(!assetId){_context.next=12;break}return _this.photosLoading=!0,_context.next=7,api/* API */.bl.get("/photos/get?module=assetphotos&parentId=".concat(assetId));case 7:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error||(_ref2=data||{},_ref2$photos=_ref2.photos,photos=void 0===_ref2$photos?[]:_ref2$photos,(0,validation/* isEmpty */.xb)(photos)||photos.forEach((function(photo){var _ref3=photo||{},url=_ref3.url;(0,validation/* isEmpty */.xb)(url)||(avatarUrl=url)})),_this.$set(_this,"photos",photos)),_this.photosLoading=!1;case 12:(0,validation/* isEmpty */.xb)(avatarUrl)?(defaultAvatarUrl=_this.getDefaultAvatar()||"",_this.$set(_this,"avatarUrl",defaultAvatarUrl)):_this.$set(_this,"avatarUrl",avatarUrl);case 13:case"end":return _context.stop()}}),_callee)})))()},handleUpdate:function(){this.loadAvatarUrl()},openPhotoUrl:function(url){window.open(url,"_blank")},getDefaultAvatar:function(){if(this.asset&&this.asset.type&&this.asset.type.id){var name=this.getAssetType(this.asset.type.id)?this.getAssetType(this.asset.type.id).name:"";return __webpack_require__("Plumbing Equipment"===name||"Equipment"===name?164065:"Furniture"===name?703659:"Vehicle"===name?916803:164065)}return __webpack_require__(164065)},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}},avatar_Assetvue_type_script_lang_js=Assetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_Assetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Asset=component.exports},
/***/615924:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Resource}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/Resource.vue?vue&type=template&id=2e9a305e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.loading?_c("div",{staticClass:"p20 wo-space-card"},[_c("spinner",{attrs:{size:"50",show:!0}})],1):_vm.workorder&&_vm.workorder.resource?_c("div",{staticClass:"p20 mT5 wo-space-card"},[2===_vm.workorder.resource.resourceType?_c("div",{staticClass:"fc-id11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.asset"))+" ")]):_c("div",{staticClass:"fc-id11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.space"))+" ")]),_c("div",{staticClass:"flex-middle label-txt-black pT10"},[_c("div",{staticClass:"flex-middle"},[_c("div",[2===_vm.workorder.resource.resourceType?_c("div",[_c("AssetAvatar",{staticClass:"asset-space-img",attrs:{size:"lg",name:"false",asset:{id:-1,name:""}}})],1):1===_vm.workorder.resource.spaceType?_c("div",[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/spacemanagement/site",iconClass:"icon icon-xxxl vertical-middle"}})],1):2===_vm.workorder.resource.spaceType?_c("div",[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/spacemanagement/building",iconClass:"icon icon-xxxl vertical-middle"}})],1):3===_vm.workorder.resource.spaceType?_c("div",[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/spacemanagement/floor",iconClass:"icon icon-xxxl vertical-middle"}})],1):_c("div",[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/spacemanagement/space",iconClass:"icon icon-xxxl vertical-middle"}})],1)]),_c("div",{staticClass:"pL15 flex-col"},[2===_vm.workorder.resource.resourceType?_c("div",{staticClass:"label-txt-black bold width-fit ",class:!_vm.$validation.isEmpty(_vm.workorder.resource.sysDeletedTime)&&_vm.workorder.resource.sysDeletedTime>0?"action-disabled":"pointer"},[_c("span",{on:{click:function($event){return _vm.openAsset(_vm.workorder.resource.id)}}},[_vm._v(_vm._s(_vm.workorder.resource.name?_vm.workorder.resource.name:"---"))])]):_c("div",{staticClass:"label-txt-black bold width-fit ",class:!_vm.$validation.isEmpty(_vm.workorder.resource.sysDeletedTime)&&_vm.workorder.resource.sysDeletedTime>0?"action-disabled":"pointer"},[_c("span",{on:{click:function($event){_vm.hierarchyList&&_vm.redirect(_vm.hierarchyList[_vm.hierarchyList.length-1].route)}}},[_vm._v(_vm._s(_vm.workorder.resource.name?_vm.workorder.resource.name:"---"))]),_vm.workorder.resource&&_vm.workorder.resource.floorId&&_vm.hierarchyList&&4===_vm.hierarchyList.length?_c("span",{on:{click:function($event){return _vm.openFloorplan(_vm.workorder.resource)}}},[_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"View Floor Plan",placement:"bottom"}},[_c("i",{staticClass:"fa fa-map-o  f11 pL5 pointer fc-black-11 op6"})])],1):_vm._e()]),_c("div",{staticClass:"d-flex pT5 flex-wrap"},_vm._l(_vm.hierarchyList,(function(item,index){return _c("div",{key:index},[2===_vm.workorder.resource.resourceType||index!=_vm.hierarchyList.length-1?_c("div",{staticClass:"d-flex flex-direction-row",on:{click:function($event){return _vm.redirect(item.route)}}},[_c("div",{staticClass:"fc-black-11 text-left pointer line-height15"},[_vm._v(" "+_vm._s(item.displayName)+" ")]),2===_vm.workorder.resource.resourceType&&index!==_vm.hierarchyList.length-1||2!==_vm.workorder.resource.resourceType&&_vm.hierarchyList.length>1&&index!==_vm.hierarchyList.length-2?_c("div",{staticClass:"pL10 pR10"},[_c("el-divider",{attrs:{direction:"vertical"}})],1):_vm._e()]):_vm._e()])})),0)])])])]):_c("div",{staticClass:"p20 wo-site-card"},[_c("div",{staticClass:"fc-id11 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.site"))+" ")]),_c("div",[_c("div",{staticClass:"flex-middle"},[_c("div",{on:{click:_vm.siteRoute}},[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/spacemanagement/site",iconClass:"icon icon-xxxl vertical-middle"}})],1),_c("div",{staticClass:"label-txt-black pointer pL10",on:{click:_vm.siteRoute}},[_vm._v(" "+_vm._s(_vm.site?_vm.site.name:"---")+" ")])])])])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),SpaceCardMixin=(__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(960170)),api=__webpack_require__(32284),validation=__webpack_require__(990260),Asset=__webpack_require__(751201),router=__webpack_require__(329435),FetchViewsMixin=__webpack_require__(646716),relatedFieldUtil=__webpack_require__(850558),Resourcevue_type_script_lang_js={name:"Resource",props:["moduleName","details"],mixins:[SpaceCardMixin/* default */.Z,FetchViewsMixin/* default */.Z],components:{AssetAvatar:Asset["default"]},data:function(){return{hierarchyList:[],loading:!1,site:null}},computed:{currModuleName:function(){return"workorder"},widgetTitle:function(){return"Resource"},workorder:function(){return this.details.workorder}},created:function(){this.loadResourceDetails(),this.resolveSiteName()},methods:{loadResourceDetails:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var resource,resourceId,_data$asset,_yield$API$get,data,error,_data$asset2,_yield$API$get2,_data,_error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(_this.hierarchyList=[],resource=_this.$getProperty(_this.workorder,"".concat(_this.resourceFieldKey||"resource")),(0,validation/* isEmpty */.xb)(resource)){_context.next=23;break}if(resourceId=resource.id,2!==resource.resourceType){_context.next=15;break}return _this.loading=!0,_context.next=8,api/* API */.bl.get("/v2/assets/".concat(resourceId,"?fetchHierarchy=true"));case 8:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this.$message.error(error.message||"Error Occurred"):null!==data&&void 0!==data&&null!==(_data$asset=data.asset)&&void 0!==_data$asset&&_data$asset.space&&(_this.hierarchyList=_this.initHierarchy(null===data||void 0===data||null===(_data$asset2=data.asset)||void 0===_data$asset2?void 0:_data$asset2.space)),_this.loading=!1,_context.next=23;break;case 15:return _this.loading=!0,_context.next=18,api/* API */.bl.get("/v2/basespaces/".concat(resourceId,"?fetchDeleted=true"));case 18:_yield$API$get2=_context.sent,_data=_yield$API$get2.data,_error=_yield$API$get2.error,_error?_this.$message.error(_error.message||"Error Occurred"):null!==_data&&void 0!==_data&&_data.basespace&&(_this.hierarchyList=_this.initHierarchy(null===_data||void 0===_data?void 0:_data.basespace)),_this.loading=!1;case 23:case"end":return _context.stop()}}),_callee)})))()},siteRoute:function(){var parentPath=this.findRoute();parentPath&&this.$router.push({path:"".concat(parentPath,"/site/").concat(this.workorder.siteId,"/overview")})},openFloorplan:function(resource){resource&&resource.floorId&&resource.id&&(this.$set(this.floorPlanViewMode,"floorId",resource.floorId),this.$set(this.floorPlanViewMode,"focus",{spaceId:resource.id}),this.floorplanVisible=!0)},resolveSiteName:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var workorder,_ref,siteId,_yield$getUnRelatedMo,site;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(workorder=_this2.workorder,_ref=workorder||{},siteId=_ref.siteId,(0,validation/* isEmpty */.xb)(siteId)){_context2.next=8;break}return _context2.next=5,(0,relatedFieldUtil/* getUnRelatedModuleSummary */.$B)("workorder","site",siteId);case 5:_yield$getUnRelatedMo=_context2.sent,site=_yield$getUnRelatedMo.site,_this2.site=site||{};case 8:case"end":return _context2.stop()}}),_callee2)})))()},openAsset:function(id){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var viewname,_ref2,name;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this3.fetchView("asset");case 2:viewname=_context3.sent,(0,router/* isWebTabsEnabled */.tj)()?(_ref2=(0,router/* findRouteForModule */.Jp)("asset",router/* pageTypes */.As.OVERVIEW)||{},name=_ref2.name,name&&_this3.$router.push({name:name,params:{viewname:viewname,id:id}})):_this3.$router.push({path:"/app/at/assets/".concat(viewname,"/").concat(id,"/overview")});case 4:case"end":return _context3.stop()}}),_callee3)})))()}}},widgets_Resourcevue_type_script_lang_js=Resourcevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_Resourcevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Resource=component.exports},
/***/6031:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Responsibility}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/Responsibility.vue?vue&type=template&id=2b01d57b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"white-bg-block mT20 p20 mB20"},[_c("div",{staticClass:"fc-id11 text-uppercase text-left"},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.responsibility"))+" ")]),_c("div",{staticClass:"fc-text-pink11 text-uppercase text-uppercase text-left pT10 pB10 f10"},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.staff/team"))+" ")]),_c("el-row",{staticClass:"flex-middle pB20"},[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"label-txt-black visibility-visible-actions"},[_vm.workorder.assignedTo&&_vm.workorder.assignedTo.id>0||_vm.workorder.assignmentGroup&&_vm.workorder.assignmentGroup.id>0?_c("div",{staticClass:"flLeft width80"},[_c("user-avatar",{attrs:{size:"md",user:_vm.workorder.assignedTo,group:_vm.workorder.assignmentGroup,showPopover:!0,showLabel:!0,moduleName:"workorder"}})],1):_c("div",{staticClass:"flLeft color-d"},[_vm._v("--- / ---")])])])],1),_vm.canHideField("vendor")?_vm._e():_c("div",[_vm.vendorLicenseEnabled()?_c("div",[_c("div",{staticClass:"fc-text-pink11 text-uppercase text-left f10"},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.vendor"))+" ")]),_c("el-row",{staticClass:"flex-middle pB20"},[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"label-txt-black mT10"},[_c("div",{staticClass:"flLeft",class:_vm.workorder.vendor?"":"color-d"},[_vm._v(" "+_vm._s(_vm.workorder.vendor&&_vm.workorder.vendor.name?_vm.workorder.vendor.name:"---")+" ")]),_c("div",{staticClass:"clearboth"})])])],1)],1):_vm._e(),_c("div",[_c("div",{staticClass:"fc-text-pink11 text-uppercase text-left f10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.requester"))+" ")]),_c("el-row",{staticClass:"flex-middle pB20"},[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"label-txt-black visibility-visible-actions"},[_vm.workorder.requester&&_vm.workorder.requester.name?_c("div",{staticClass:"pT10"},[_vm._v(" "+_vm._s(_vm.workorder.requester.name)+" ")]):_c("div",{staticClass:"pT10"},[_vm._v("---")])])])],1)],1)])],1)},staticRenderFns=[],User=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(426803)),helpers=__webpack_require__(778390),Responsibilityvue_type_script_lang_js={name:"Responsibility",props:["moduleName","details"],components:{UserAvatar:User/* default */.Z},data:function(){return{excludeFields:[]}},computed:{currModuleName:function(){return"workorder"},widgetTitle:function(){return"Responsibility"},workorder:function(){return this.details.workorder}},methods:{canHideField:function(fieldName){return this.excludeFields.includes(fieldName)},vendorLicenseEnabled:function(){var isLicenseEnabled=helpers/* default */.ZP.isLicenseEnabled,vendorLicense=isLicenseEnabled("VENDOR");return vendorLicense}}},widgets_Responsibilityvue_type_script_lang_js=Responsibilityvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_Responsibilityvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Responsibility=component.exports},
/***/584434:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkDuration}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/WorkDuration.vue?vue&type=template&id=48182e27
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"white-bg-block mb fc__wo__sum__timer pB20 mT10 pT20"},[_c("div",{staticClass:"fc-id11 text-uppercase pL15"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.work_duration"))+" ")]),_c("wo-timer",{staticClass:"alarm-timer wo-duration",attrs:{actualWorkDurationField:_vm.actualWorkDurationField}})],1)},staticRenderFns=[],WorkorderTimer=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(479776)),workorderHelper=__webpack_require__(865764),WorkDurationvue_type_script_lang_js={name:"WorkDuration",mixins:[workorderHelper/* default */.Z],components:{WoTimer:WorkorderTimer/* default */.Z},mounted:function(){this.loadFields()},data:function(){return{loading:!0,fields:[]}},computed:{actualWorkDurationField:function(){var fields=this.fields;return fields.find((function(field){return"actualWorkDuration"===field.name}))}}},widgets_WorkDurationvue_type_script_lang_js=WorkDurationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_WorkDurationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkDuration=component.exports},
/***/487312:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkorderSidebar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/WorkorderSidebar.vue?vue&type=template&id=614d0f51
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("WorkDuration",{attrs:{moduleName:_vm.moduleName}}),_c("Resource",{attrs:{moduleName:_vm.moduleName,details:_vm.details}}),_c("Responsibility",{attrs:{moduleName:_vm.moduleName,details:_vm.details}}),_c("WorkorderDetails",{attrs:{moduleName:_vm.moduleName,details:_vm.details}})],1)},staticRenderFns=[],WorkDuration=__webpack_require__(584434),Resource=__webpack_require__(615924),Responsibility=__webpack_require__(6031),WorkorderDetails=__webpack_require__(581624),WorkorderSidebarvue_type_script_lang_js={name:"Sidebar",components:{WorkDuration:WorkDuration["default"],Resource:Resource["default"],Responsibility:Responsibility["default"],WorkorderDetails:WorkorderDetails["default"]},props:["moduleName","details"],computed:{currModuleName:function(){return"workorder"},widgetTitle:function(){return"Sidebar"},workorder:function(){return this.details.workorder}}},widgets_WorkorderSidebarvue_type_script_lang_js=WorkorderSidebarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widgets_WorkorderSidebarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkorderSidebar=component.exports},
/***/164065:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"ee31f43b8151f3590eba8e0562377413.svg";
/***/},
/***/703659:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"782922838e1b33e6568fd666d379c2b8.svg";
/***/},
/***/916803:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"45e80daecf3b2313cd875b1056bb278b.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/30721.js.map