"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[72586],{
/***/829953:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type1_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type1/Config.vue?vue&type=template&id=5c710b19&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30 "},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"Gauge Card")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Title")]),_c("el-input",{staticClass:"width100 pR20 fc-input-full-border2",attrs:{autofocus:_vm.isNew},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1)],1),_c("el-row",{staticClass:"mB10 mR20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading.fieldName"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Reading")]),_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.reading},on:{onReadingSelect:function(reading){return _vm.setReading("reading",reading)}}})],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Period")]),_c("el-select",{staticClass:"width100 pR20 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1)],1),_c("el-row",{staticClass:"mB20",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"safeLimitType"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Safe Limit")]),_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.MAX,value:_vm.safeLimitTypes.MAX},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Lesser than")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.MIN,value:_vm.safeLimitTypes.MIN},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Greater than")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.BETWEEN,value:_vm.safeLimitTypes.BETWEEN},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Between")])],1)])],1),[_vm.safeLimitTypes.MIN,_vm.safeLimitTypes.BETWEEN].includes(_vm.cardDataObj.safeLimitType)?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"minSafeLimitType"}},[2===_vm.cardDataObj.safeLimitType?_c("p",{staticClass:"fc-input-label-txt pB5 f12"},[_vm._v(" Minimum ")]):_vm._e(),_c("div",{staticClass:"d-flex flex-row mR20"},[_c("div",{staticClass:"width50"},[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.minSafeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"minSafeLimitType",$$v)},expression:"cardDataObj.minSafeLimitType"}},[_c("el-option",{attrs:{label:"Reading",value:"reading"}}),_c("el-option",{attrs:{label:"Constant",value:"constant"}})],1)],1),"constant"===_vm.cardDataObj.minSafeLimitType?_c("div",{staticClass:"width50 mL10"},[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the minimum value"},model:{value:_vm.cardDataObj.minSafeLimitConstant,callback:function($$v){_vm.$set(_vm.cardDataObj,"minSafeLimitConstant",$$v)},expression:"cardDataObj.minSafeLimitConstant"}})],1):_c("div",[_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.minSafeLimitReading},on:{onReadingSelect:function(reading){return _vm.setReading("minSafeLimitReading",reading)}}})],1)])])],1):_vm._e(),[_vm.safeLimitTypes.MAX,_vm.safeLimitTypes.BETWEEN].includes(_vm.cardDataObj.safeLimitType)?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"maxSafeLimitType"}},[2===_vm.cardDataObj.safeLimitType?_c("p",{staticClass:"fc-input-label-txt pB5 f12"},[_vm._v(" Maximum ")]):_vm._e(),_c("div",{staticClass:"d-flex flex-row mR20"},[_c("div",{staticClass:"width50"},[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.maxSafeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitType",$$v)},expression:"cardDataObj.maxSafeLimitType"}},[_c("el-option",{attrs:{label:"Reading",value:"reading"}}),_c("el-option",{attrs:{label:"Constant",value:"constant"}})],1)],1),"constant"===_vm.cardDataObj.maxSafeLimitType?_c("div",{staticClass:"width50 mL10"},[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the maximum value"},model:{value:_vm.cardDataObj.maxSafeLimitConstant,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitConstant",$$v)},expression:"cardDataObj.maxSafeLimitConstant"}})],1):_c("div",{staticClass:"width50 mL10"},[_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.maxSafeLimitReading},on:{onReadingSelect:function(reading){return _vm.setReading("maxSafeLimitReading",reading)}}})],1)])])],1):_vm._e()],1)],1),_c("el-tab-pane",{attrs:{label:"Styles",name:"styles"}},[_c("el-row",{staticClass:"mB30",attrs:{gutter:20}},[["gauge_layout_1","gauge_layout_3"].includes(_vm.cardLayout)?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Gauge Colors")]),_c("div",{staticClass:"mT5 card-color-container"},_vm._l(_vm.cardStateObj.styles.colors,(function(color,index){return _c("div",{key:index,staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+color.id+color.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:color.hex,callback:function($$v){_vm.$set(color,"hex",$$v)},expression:"color.hex"}})],1)})),0)]):["gauge_layout_2","gauge_layout_4"].includes(_vm.cardLayout)?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Gauge Color")]),_c("div",{staticClass:"mT5"},[_c("div",{staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+_vm.cardStateObj.styles.color.id+_vm.cardStateObj.styles.color.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker "},model:{value:_vm.cardStateObj.styles.color.hex,callback:function($$v){_vm.$set(_vm.cardStateObj.styles.color,"hex",$$v)},expression:"cardStateObj.styles.color.hex"}})],1)])]):_vm._e(),["gauge_layout_3","gauge_layout_4"].includes(_vm.cardLayout)?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Tick Color")]),_c("div",{staticClass:"d-flex mT5 card-color-container card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker"},[_c("el-color-picker",{key:""+_vm.cardStateObj.styles.tickColor.id+_vm.cardStateObj.styles.tickColor.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.tickColor.hex,callback:function($$v){_vm.$set(_vm.cardStateObj.styles.tickColor,"hex",$$v)},expression:"cardStateObj.styles.tickColor.hex"}})],1)])]):_vm._e()],1)],1),_c("el-tab-pane",{staticStyle:{},attrs:{label:"Actions"}},[_c("ActionPicker",{ref:"action-picker",attrs:{variables:_vm.variables,elements:[{name:"default",displayName:"Default"}]},model:{value:_vm.cardActions,callback:function($$v){_vm.cardActions=$$v},expression:"cardActions"}},[_c("template",{slot:"element-title"},[_c("div",{staticClass:"pT15"})])],2)],1),_c("el-tab-pane",{attrs:{label:"FORMATTING",name:"conditionalformatting"}},[_c("div",{staticClass:"card-builder-criteria-block"},[_c("ConditionalFormating",{ref:"conditional-formatting",attrs:{cardLayout:_vm.cardLayout,variables:_vm.conditionalVariables,cardData:_vm.previewData,cardStyles:_vm.cardStateObj.styles},model:{value:_vm.conditionalFormatting,callback:function($$v){_vm.conditionalFormatting=$$v},expression:"conditionalFormatting"}})],1)]),_vm.nameSpaces.length?_c("el-tab-pane",{attrs:{label:"CUSTOM SCRIPT"}},[_c("div",{staticClass:"p10"},[_c("el-checkbox",{on:{change:function($event){return _vm.changescriptModeInt()}},model:{value:_vm.enableBoxchecked,callback:function($$v){_vm.enableBoxchecked=$$v},expression:"enableBoxchecked"}},[_vm._v("Enable Custom Script")]),1==_vm.enableBoxchecked?_c("div",{staticClass:"mT30"},[_vm.nameSpaces.length?_c("div",[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Select Function ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please Select a Script"},model:{value:_vm.customScriptId,callback:function($$v){_vm.customScriptId=$$v},expression:"customScriptId"}},_vm._l(_vm.nameSpaces,(function(nameSpace,index){return _c("el-option-group",{key:index,attrs:{label:nameSpace.name}},_vm._l(nameSpace.functions,(function(func,index){return _c("el-option",{key:index,attrs:{label:func.name,value:func.id}})})),1)})),1)],1):_c("div",{staticClass:"fc-input-label-txt mT30"},[_vm._v(" No functions available. Kindly add some functions and check. ")])]):_vm._e()],1)]):_vm._e()],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,isLoading:_vm.isPreviewLoading}})],1)])]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Save")])],1)])},staticRenderFns=[],objectDestructuringEmpty=__webpack_require__(991172),objectSpread2=__webpack_require__(595082),objectWithoutProperties=__webpack_require__(62078),Configvue_type_template_id_d7a2c796_render=(__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(821057),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div")}),Configvue_type_template_id_d7a2c796_staticRenderFns=[],defineProperty=__webpack_require__(482482),BaseConfig=__webpack_require__(641384),Configvue_type_script_lang_js={extends:BaseConfig/* default */.Z,methods:{setReading:function(prop,reading){if(reading){var cardDataObj=this.cardDataObj;this.$set(this,"cardDataObj",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},cardDataObj),{},(0,defineProperty/* default */.Z)({},prop,reading))),this.setConditionalVariables(reading)}},setTitleFromReading:function(reading){var cardDataObj=this.cardDataObj,cardName=this.cardDataObj.title;cardDataObj.title=isEmpty(cardName)?reading.readingName:cardName}},mounted:function(){this.setProps(),this.loadNameSpaceList()}},base_Configvue_type_script_lang_js=Configvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_Configvue_type_script_lang_js,Configvue_type_template_id_d7a2c796_render,Configvue_type_template_id_d7a2c796_staticRenderFns,!1,null,null,null)
/* harmony default export */,Config=component.exports,Card=__webpack_require__(356025),card_constants=__webpack_require__(806186),validation=__webpack_require__(990260),DateHelper=__webpack_require__(281230),ReadingPicker=__webpack_require__(700697),ActionPicker=__webpack_require__(624817),CardConditionalFormating=__webpack_require__(962424),_excluded=["styles"],safeLimitTypes={MIN:0,MAX:1,BETWEEN:2},type1_Configvue_type_script_lang_js={extends:Config,props:["isNew","onClose","onGoBack"],mixins:[DateHelper/* default */.Z],components:{Card:Card/* default */.Z,ReadingPicker:ReadingPicker/* default */.Z,ActionPicker:ActionPicker/* default */.Z,ConditionalFormating:CardConditionalFormating/* default */.Z},data:function(){return{cardLayout:"gauge_layout_1",activeTab:"config",cardActions:{default:{actionType:"showTrend"}},conditionalVariables:[{name:"title",dataType:"STRING",displayName:"Title"},{name:"value",dataType:"NUMBER",displayName:"Value"},{name:"minValue",dataType:"NUMBER",displayName:"Min value"},{name:"maxValue",dataType:"NUMBER",displayName:"max value"}],isPreviewLoading:!1,resourceProps:["title",{prop:"reading",resourceProps:["moduleName","parentId","fieldName","dataType","fieldId","yAggr","fieldId","parentType"]},{prop:"minSafeLimitReading",resourceProps:["moduleName","parentId","fieldName","yAggr","fieldId","parentType"]},"minSafeLimitType","minSafeLimitConstant",{prop:"maxSafeLimitReading",resourceProps:["moduleName","parentId","fieldName","yAggr","fieldId","parentType"]},"maxSafeLimitType","maxSafeLimitConstant","safeLimitType","dateRange"],cardDataObj:{title:"",reading:{yAggr:"lastValue"},minSafeLimitReading:{yAggr:"lastValue"},minSafeLimitType:"constant",minSafeLimitConstant:null,maxSafeLimitReading:{yAggr:"lastValue"},maxSafeLimitType:"constant",maxSafeLimitConstant:null,dateRange:"Today",safeLimitType:safeLimitTypes.MAX},cardStateObj:{canResize:!1,styles:{tickColor:{id:0,hex:"#969aa2"},color:{id:0,hex:"#FF728E"},colors:[{id:0,hex:"#ff7878"},{id:1,hex:"#7d49ff"},{id:2,hex:"#514dff"},{id:3,hex:"#1eb9b7"}],backgroundColors:[{id:0,hex:"#fff"},{id:0,hex:"#fff"}]}},readingPickerOptions:{parentId:{type:"single"},fieldName:{type:"single"},fieldId:{type:"single"},dataType:{type:"single"},moduleName:{type:"single"},parentName:{type:"single"},parentType:{type:"single"},yAggr:{type:"single"},selectedFieldId:{type:"single"},kpiType:{type:"single"}},layout:{w:16,h:19},result:null,validationRules:{},safeLimitTypes:safeLimitTypes,predefinedColors:card_constants/* predefinedColors */.UH,dateOperators:card_constants/* dateOperators */._M,aggregateFunctions:card_constants/* aggregateFunctions */.rD}},computed:{previewData:function(){var result=this.result,_ref=result||{},data=_ref.data;return(0,validation/* isEmpty */.xb)(this.result)?{period:"Last Month",maxValue:{value:100},title:"Gauge Card 1",value:{unit:"KwH",value:65}}:data},previewState:function(){var result=this.result,cardStateObj=this.cardStateObj,_ref2=result||{},cardContext=_ref2.cardContext;return(0,validation/* isEmpty */.xb)(result&&cardContext)?this.serializeState(cardStateObj):result.state?this.serializeConditionalState(result.state):this.serializeState(cardStateObj)}},methods:{serializeState:function(){var _this$cardStateObj=this.cardStateObj,styles=_this$cardStateObj.styles,props=(0,objectWithoutProperties/* default */.Z)(_this$cardStateObj,_excluded);return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{styles:{colors:styles.colors.map((function(color){return color.hex})),backgroundColors:styles.backgroundColors.map((function(color){return color.hex}))}})},serializeConditionalState:function(state){var styles=state.styles,props=Object.assign({},((0,objectDestructuringEmpty/* default */.Z)(this.cardStateObj),this.cardStateObj)),style={colors:styles.colors.map((function(color){return color.hex?color.hex:color})),backgroundColors:styles.backgroundColors.map((function(color){return color.hex?color.hex:color}))};return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{styles:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},styles),style)})},deserializeState:function(cardState){this.cardStateObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.cardStateObj),{},{styles:{colors:cardState.styles.colors.map((function(hex,index){return{id:index,hex:hex}})),backgroundColors:cardState.styles.backgroundColors.map((function(hex,index){return{id:index,hex:hex}}))}})},serializeProperty:function(prop,data){if(["minSafeLimitReading","maxSafeLimitReading"].includes(prop))return"minSafeLimitReading"===prop&&"reading"===data.minSafeLimitType?data.minSafeLimitReading:"maxSafeLimitReading"===prop&&"reading"===data.maxSafeLimitType?data.maxSafeLimitReading:null;if("minSafeLimitConstant"===prop&&"constant"!==data.minSafeLimitType)return null;if("maxSafeLimitConstant"===prop&&"constant"!==data.maxSafeLimitType)return null;if(["minSafeLimitType","maxSafeLimitType"].includes(prop)){if("minSafeLimitType"===prop&&![safeLimitTypes.MIN,safeLimitTypes.BETWEEN].includes(this.cardDataObj.safeLimitType))return null;if("maxSafeLimitType"===prop&&![safeLimitTypes.MAX,safeLimitTypes.BETWEEN].includes(this.cardDataObj.safeLimitType))return null}},validateProperty:function(){var safeLimitType=this.cardDataObj.safeLimitType,isMinRequired=function(type){return[safeLimitTypes.MIN,safeLimitTypes.BETWEEN].includes(type)},isMaxRequired=function(type){return[safeLimitTypes.MAX,safeLimitTypes.BETWEEN].includes(type)};return{reading:function(data){var readingProp=this.resourceProps.find((function(prop){return(0,validation/* isObject */.Kn)(prop)?"reading"===prop.prop:"reading"===prop}));if((0,validation/* isObject */.Kn)(readingProp)){var resourceProps=readingProp.resourceProps,nullableFields=["fieldId","dataType"],hasEmptyField=!1;return resourceProps.forEach((function(prop){!nullableFields.includes(prop)&&(0,validation/* isEmpty */.xb)(data["reading"][prop])&&(hasEmptyField=!0)})),hasEmptyField}return(0,validation/* isEmpty */.xb)(data["reading"])}.bind(this),minSafeLimitType:function(data){return isMinRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.minSafeLimitType)},minSafeLimitReading:function(data){return"reading"===data.minSafeLimitType&&isMinRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.minSafeLimitReading)},minSafeLimitConstant:function(data){return"constant"===data.minSafeLimitType&&isMinRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.minSafeLimitConstant)},maxSafeLimitType:function(data){return isMaxRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.maxSafeLimitType)},maxSafeLimitReading:function(data){return"reading"===data.maxSafeLimitType&&isMaxRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.maxSafeLimitReading)},maxSafeLimitConstant:function(data){return"constant"===data.maxSafeLimitType&&isMaxRequired(safeLimitType)&&(0,validation/* isEmpty */.xb)(data.maxSafeLimitConstant)}}},validateField:function(){return{minSafeLimitType:{trigger:"change",validator:function(rule,value,callback){"reading"===value&&(0,validation/* isEmpty */.xb)(this.cardDataObj["minSafeLimitReading"])||"constant"===value&&(0,validation/* isEmpty */.xb)(this.cardDataObj["minSafeLimitConstant"])?callback(new Error("Field can not be empty")):callback()}.bind(this)},maxSafeLimitType:{trigger:"change",validator:function(rule,value,callback){"reading"===value&&(0,validation/* isEmpty */.xb)(this.cardDataObj["maxSafeLimitReading"])||"constant"===value&&(0,validation/* isEmpty */.xb)(this.cardDataObj["maxSafeLimitConstant"])?callback(new Error("Field can not be empty")):callback()}.bind(this)}}}}},targetMeter_type1_Configvue_type_script_lang_js=type1_Configvue_type_script_lang_js,Config_component=(0,componentNormalizer/* default */.Z)(targetMeter_type1_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,"5c710b19",null)
/* harmony default export */,type1_Config=Config_component.exports},
/***/772586:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return type5_Config}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/cards/targetMeter/type5/Config.vue?vue&type=template&id=667be6ac
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p30 "},[_c("div",{staticClass:"header"},[_c("span",{staticClass:"pointer",on:{click:_vm.onGoBack}},[_c("inline-svg",{staticClass:"vertical-top rotate-90 mR20",attrs:{src:"svgs/arrow",iconClass:"icon"}})],1),_vm._v(" "+_vm._s(_vm.cardMeta&&_vm.cardMeta.name||"Gauge Card")+" "),_c("span",{staticClass:"pointer",on:{click:_vm.onClose}},[_c("inline-svg",{staticClass:"vertical-middle fR",attrs:{src:"svgs/close",iconClass:"icon icon-sm"}})],1)]),_c("div",{staticClass:"container mT20"},[_c("div",{staticClass:"section"},[_c("el-form",{ref:this.cardLayout+"_form",attrs:{model:_vm.cardDataObj,rules:_vm.validationRules,"label-position":"top"}},[_c("el-tabs",{staticClass:"card-tab-fixed",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{attrs:{label:"Config",name:"config"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"title"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Title")]),_c("el-input",{staticClass:"width100 pR20 fc-input-full-border2",attrs:{autofocus:_vm.isNew},model:{value:_vm.cardDataObj.title,callback:function($$v){_vm.$set(_vm.cardDataObj,"title",$$v)},expression:"cardDataObj.title"}})],1)],1)],1),_c("el-row",{staticClass:"mB10 mR20"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"reading.fieldName"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Reading")]),_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.reading},on:{onReadingSelect:function(reading){return _vm.setReading("reading",reading)}}})],1)],1)],1),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"dateRange"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Period")]),_c("el-select",{staticClass:"width100 pR20 el-input-textbox-full-border",attrs:{placeholder:"Please select a period"},model:{value:_vm.cardDataObj.dateRange,callback:function($$v){_vm.$set(_vm.cardDataObj,"dateRange",$$v)},expression:"cardDataObj.dateRange"}},[_vm._l(_vm.dateOperators,(function(dateRange,index){return[_c("el-option",{key:index,attrs:{label:dateRange.label,value:dateRange.value}})]}))],2)],1)],1)],1),_c("el-row",{},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"safeLimitType"}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Safe Limit")]),_c("div",[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.MAX,value:_vm.safeLimitTypes.MAX},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Lesser than")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.MIN,value:_vm.safeLimitTypes.MIN},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Greater than")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:_vm.safeLimitTypes.BETWEEN,value:_vm.safeLimitTypes.BETWEEN},model:{value:_vm.cardDataObj.safeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"safeLimitType",$$v)},expression:"cardDataObj.safeLimitType"}},[_vm._v("Between")])],1)])],1),[_vm.safeLimitTypes.MIN,_vm.safeLimitTypes.BETWEEN].includes(_vm.cardDataObj.safeLimitType)?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"minSafeLimitType"}},[2===_vm.cardDataObj.safeLimitType?_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Minimum ")]):_vm._e(),_c("div",{staticClass:"mR20"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{},[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.minSafeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"minSafeLimitType",$$v)},expression:"cardDataObj.minSafeLimitType"}},[_c("el-option",{attrs:{label:"Reading",value:"reading"}}),_c("el-option",{attrs:{label:"Constant",value:"constant"}})],1)],1)]),"constant"===_vm.cardDataObj.minSafeLimitType?_c("el-col",{attrs:{span:12}},[_c("div",{},[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the minimum value"},model:{value:_vm.cardDataObj.minSafeLimitConstant,callback:function($$v){_vm.$set(_vm.cardDataObj,"minSafeLimitConstant",$$v)},expression:"cardDataObj.minSafeLimitConstant"}})],1)]):_c("el-col",{attrs:{span:12}},[_c("div",[_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.minSafeLimitReading},on:{onReadingSelect:function(reading){return _vm.setReading("minSafeLimitReading",reading)}}})],1)])],1)],1)])],1):_vm._e(),[_vm.safeLimitTypes.MAX,_vm.safeLimitTypes.BETWEEN].includes(_vm.cardDataObj.safeLimitType)?_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"maxSafeLimitType"}},[2===_vm.cardDataObj.safeLimitType?_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Maximum ")]):_vm._e(),_c("div",{staticClass:"mR20"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",[_c("el-select",{staticClass:"el-input-textbox-full-border mB10 width100",attrs:{placeholder:"Select the option"},model:{value:_vm.cardDataObj.maxSafeLimitType,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitType",$$v)},expression:"cardDataObj.maxSafeLimitType"}},[_c("el-option",{attrs:{label:"Reading",value:"reading"}}),_c("el-option",{attrs:{label:"Constant",value:"constant"}})],1)],1)]),"constant"===_vm.cardDataObj.maxSafeLimitType?_c("el-col",{attrs:{span:12}},[_c("div",[_c("el-input",{staticClass:"addReading-title el-input-textbox-full-border width100",attrs:{autofocus:!0,placeholder:"Enter the maximum value"},model:{value:_vm.cardDataObj.maxSafeLimitConstant,callback:function($$v){_vm.$set(_vm.cardDataObj,"maxSafeLimitConstant",$$v)},expression:"cardDataObj.maxSafeLimitConstant"}})],1)]):_c("el-col",{attrs:{span:12}},[_c("div",[_c("ReadingPicker",{attrs:{options:_vm.readingPickerOptions,gaugeCard:!0,initialReading:_vm.cardDataObj.maxSafeLimitReading},on:{onReadingSelect:function(reading){return _vm.setReading("maxSafeLimitReading",reading)}}})],1)])],1)],1)])],1):_vm._e()],1),_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("No of ticks")]),_c("div",{staticClass:"d-flex mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker"},[_c("el-input",{staticClass:"width100 pR20 fc-input-full-border2",attrs:{type:"number"},model:{value:_vm.cardStateObj.styles.majorTicksCount,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"majorTicksCount",$$v)},expression:"cardStateObj.styles.majorTicksCount"}})],1)])])],1)],1),_c("el-tab-pane",{attrs:{label:"Styles",name:"styles"}},[_c("el-row",{staticClass:"mB30",attrs:{gutter:20}},[_c("el-col",{attrs:{span:6}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Bar start Color")]),_c("div",{staticClass:"d-flex mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker"},[_c("el-color-picker",{key:""+_vm.cardStateObj.styles.colorBarProgress,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.colorBarProgress,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"colorBarProgress",$$v)},expression:"cardStateObj.styles.colorBarProgress"}})],1)])]),_c("el-col",{attrs:{span:6}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Bar end color")]),_c("div",{staticClass:"d-flex mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker"},[_c("el-color-picker",{attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},model:{value:_vm.cardStateObj.styles.colorBarProgressEnd,callback:function($$v){_vm.$set(_vm.cardStateObj.styles,"colorBarProgressEnd",$$v)},expression:"cardStateObj.styles.colorBarProgressEnd"}})],1)])])],1)],1),_c("el-tab-pane",{attrs:{label:"Actions",name:"actions"}},[_c("ActionPicker",{ref:"action-picker",attrs:{variables:_vm.variables,elements:[{name:"default",displayName:"Default"}]},model:{value:_vm.cardActions,callback:function($$v){_vm.cardActions=$$v},expression:"cardActions"}},[_c("template",{slot:"element-title"},[_c("div",{staticClass:"pT15"})])],2)],1),_vm.nameSpaces.length?_c("el-tab-pane",{attrs:{label:"CUSTOM SCRIPT"}},[_c("div",{staticClass:"p10"},[_c("el-checkbox",{on:{change:function($event){return _vm.changescriptModeInt()}},model:{value:_vm.enableBoxchecked,callback:function($$v){_vm.enableBoxchecked=$$v},expression:"enableBoxchecked"}},[_vm._v("Enable Custom Script")]),1==_vm.enableBoxchecked?_c("div",{staticClass:"mT30"},[_vm.nameSpaces.length?_c("div",[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v(" Select Function ")]),_c("el-select",{staticClass:"width100 el-input-textbox-full-border",attrs:{placeholder:"Please Select a Script"},model:{value:_vm.customScriptId,callback:function($$v){_vm.customScriptId=$$v},expression:"customScriptId"}},_vm._l(_vm.nameSpaces,(function(nameSpace,index){return _c("el-option-group",{key:index,attrs:{label:nameSpace.name}},_vm._l(nameSpace.functions,(function(func,index){return _c("el-option",{key:index,attrs:{label:func.name,value:func.id}})})),1)})),1)],1):_c("div",{staticClass:"fc-input-label-txt mT30"},[_vm._v(" No functions available. Kindly add some functions and check. ")])]):_vm._e()],1)]):_vm._e()],1)],1)],1),_c("div",{staticClass:"preview-panel section"},[_c("div",{staticClass:"card-wrapper"},[_c("Card",{attrs:{cardData:_vm.previewData,cardState:_vm.previewState,isLoading:_vm.isPreviewLoading}})],1)])]),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onGoBack()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.save()}}},[_vm._v("Save")])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),objectWithoutProperties=__webpack_require__(62078),Config=__webpack_require__(829953),Card=__webpack_require__(422791),_excluded=["styles"],Configvue_type_script_lang_js={extends:Config["default"],components:{Card:Card/* default */.Z},data:function(){return{cardLayout:"gauge_layout_5",cardStateObj:{canResize:!0,styles:{colorBarProgress:"#3adaad",colorBarProgressEnd:"#0232ab",majorTicksCount:5}}}},methods:{serializeState:function(){var _this$cardStateObj=this.cardStateObj,styles=_this$cardStateObj.styles,props=(0,objectWithoutProperties/* default */.Z)(_this$cardStateObj,_excluded);return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{styles:styles})},deserializeState:function(cardState){this.cardStateObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.cardStateObj),{},{styles:cardState.styles})}}},type5_Configvue_type_script_lang_js=Configvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(type5_Configvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,type5_Config=component.exports},
/***/962424:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CardConditionalFormating}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/card-builder/components/CardConditionalFormating.vue?vue&type=template&id=1088c554
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("div",{staticClass:"conditional-formatting p10"},[_c("el-collapse",{staticClass:"new-rule-collapse position-relative controllogic-collapse",attrs:{accordion:!0},model:{value:_vm.activeNames,callback:function($$v){_vm.activeNames=$$v},expression:"activeNames"}},_vm._l(_vm.conditionalFormatting,(function(conditional,index){return _c("el-collapse-item",{key:index,staticClass:"rule-border-blue mT20 position-relative",staticStyle:{"border-left":"1px solid rgb(228, 235, 241)"},attrs:{name:index}},[_c("template",{slot:"title"},[_vm._v(" Conditional Rule "+_vm._s(index+1)+" ")]),_c("div",{staticClass:"pT20"},[_c("div",{staticClass:"conditional-formatting"},[_c("new-criteria-builder",{staticClass:"graphics-criteria-builder",attrs:{title:"Specify conditions",exrule:conditional.criteria,index:index,showSiteField:!0,module:"cardbuilder",variables:_vm.filteredVariables},on:{condition:_vm.getCriteria}}),_c("div",{staticClass:"style-container pB20"},[_c("el-row",[_c("label",{staticClass:"fc-modal-sub-title",attrs:{for:"name"}},[_vm._v("Formatting")]),_c("div",{staticClass:"fc-sub-title-desc"},[_vm._v(" Specify styles for the conditions ")])]),_c("el-row",{staticClass:"mT10",attrs:{gutter:10}},[conditional.styles.hasOwnProperty("primaryColor")?_c("el-col",{attrs:{span:7}},[_c("div",{staticClass:"fc-input-label-txt mb5"},[_vm._v("Primary")]),_c("div",{staticClass:"fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},on:{change:_vm.emitData},model:{value:conditional.styles.primaryColor,callback:function($$v){_vm.$set(conditional.styles,"primaryColor",$$v)},expression:"conditional.styles.primaryColor"}})],1)]):_vm._e(),conditional.styles.hasOwnProperty("secondaryColor")?_c("el-col",{attrs:{span:7}},[_c("div",{staticClass:"fc-input-label-txt mb5"},[_vm._v("Secondary")]),_c("div",{staticClass:"fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},on:{change:_vm.emitData},model:{value:conditional.styles.secondaryColor,callback:function($$v){_vm.$set(conditional.styles,"secondaryColor",$$v)},expression:"conditional.styles.secondaryColor"}})],1)]):_vm._e(),conditional.styles.hasOwnProperty("arrowUpColor")?_c("el-col",{attrs:{span:7}},[_c("div",{staticClass:"fc-input-label-txt mb5"},[_vm._v("Arrow Up color")]),_c("div",{staticClass:"fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},on:{change:_vm.emitData},model:{value:conditional.styles.arrowUpColor,callback:function($$v){_vm.$set(conditional.styles,"arrowUpColor",$$v)},expression:"conditional.styles.arrowUpColor"}})],1)]):_vm._e(),conditional.styles.hasOwnProperty("arrowDownColor")?_c("el-col",{attrs:{span:7}},[_c("div",{staticClass:"fc-input-label-txt mb5"},[_vm._v("Arrow Down color")]),_c("div",{staticClass:"fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},on:{change:_vm.emitData},model:{value:conditional.styles.arrowDownColor,callback:function($$v){_vm.$set(conditional.styles,"arrowDownColor",$$v)},expression:"conditional.styles.arrowDownColor"}})],1)]):_vm._e(),conditional.styles.hasOwnProperty("backgroundColor")?_c("el-col",{attrs:{span:7}},[_c("div",{staticClass:"fc-input-label-txt mb5"},[_vm._v("BG")]),_c("div",{staticClass:"fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.getPredefinedColors()},on:{change:_vm.emitData},model:{value:conditional.styles.backgroundColor,callback:function($$v){_vm.$set(conditional.styles,"backgroundColor",$$v)},expression:"conditional.styles.backgroundColor"}})],1)]):_vm._e(),conditional.styles.hasOwnProperty("colors")&&["gauge_layout_1","gauge_layout_3"].includes(_vm.cardLayout)?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Gauge Colors")]),_c("div",{staticClass:"mT5 card-color-container"},_vm._l(conditional.styles.colors,(function(color,index){return _c("div",{key:index,staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+color.id+color.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},on:{change:_vm.emitData},model:{value:color.hex,callback:function($$v){_vm.$set(color,"hex",$$v)},expression:"color.hex"}})],1)})),0)]):_vm._e(),conditional.styles.hasOwnProperty("color")&&["gauge_layout_2","gauge_layout_4"].includes(_vm.cardLayout)?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Gauge Color")]),_c("div",{staticClass:"mT5"},[_c("div",{staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+conditional.styles.color.id+conditional.styles.color.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},on:{change:_vm.emitData},model:{value:conditional.styles.color.hex,callback:function($$v){_vm.$set(conditional.styles.color,"hex",$$v)},expression:"conditional.styles.color.hex"}})],1)])]):_vm._e(),conditional.styles.hasOwnProperty("tickColor")&&["gauge_layout_3","gauge_layout_4"].includes(_vm.cardLayout)?_c("el-col",{staticClass:"mB50",attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Tick Color")]),_c("div",{staticClass:"mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+conditional.styles.tickColor.id+conditional.styles.tickColor.hex,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},on:{change:_vm.emitData},model:{value:conditional.styles.tickColor.hex,callback:function($$v){_vm.$set(conditional.styles.tickColor,"hex",$$v)},expression:"conditional.styles.tickColor.hex"}})],1)])]):_vm._e(),conditional.styles.hasOwnProperty("colorBarProgress")?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Bar start Color")]),_c("div",{staticClass:"d-flex mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{key:""+conditional.styles.colorBarProgress,attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},on:{change:_vm.emitData},model:{value:conditional.styles.colorBarProgress,callback:function($$v){_vm.$set(conditional.styles,"colorBarProgress",$$v)},expression:"conditional.styles.colorBarProgress"}})],1)])]):_vm._e(),conditional.styles.hasOwnProperty("colorBarProgressEnd")?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Bar end color")]),_c("div",{staticClass:"d-flex mT5 card-color-container"},[_c("div",{staticClass:"mR10 fc-color-picker card-color-container"},[_c("el-color-picker",{attrs:{predefine:_vm.predefinedColors,size:"small","popper-class":"chart-custom-color-picker"},on:{change:_vm.emitData},model:{value:conditional.styles.colorBarProgressEnd,callback:function($$v){_vm.$set(conditional.styles,"colorBarProgressEnd",$$v)},expression:"conditional.styles.colorBarProgressEnd"}})],1)])]):_vm._e(),conditional.styles.hasOwnProperty("blink")?_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"mT40"},[_c("el-checkbox",{on:{change:_vm.emitData},model:{value:conditional.styles.blink,callback:function($$v){_vm.$set(conditional.styles,"blink",$$v)},expression:"conditional.styles.blink"}},[_vm._v("Blink")])],1)]):_vm._e(),conditional.styles.hasOwnProperty("displayValue")?_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt pB5"},[_vm._v("Display value")]),_c("div",[_c("el-input",{staticClass:"fc-border-select",model:{value:conditional.styles.displayValue,callback:function($$v){_vm.$set(conditional.styles,"displayValue",$$v)},expression:"conditional.styles.displayValue"}})],1)]):_vm._e()],1)],1)],1),_vm.conditionalFormatting.length>1?_c("img",{staticClass:"delete-icon pointer",staticStyle:{height:"18px",width:"18px","margin-right":"3px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteRule(index)}}}):_vm._e()])],2)})),1),_c("el-button",{staticClass:"fc-btn-green-medium-fill mT20 f14 fwBold",attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:_vm.addRule}})],1)},staticRenderFns=[],NewCriteriaBuilder=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(169358),__webpack_require__(670560),__webpack_require__(859850)),colors=__webpack_require__(519898),card_constants=__webpack_require__(806186),validation=__webpack_require__(990260),CardConditionalFormatingvue_type_script_lang_js={props:["value","cardStyles","variables","cardLayout"],components:{NewCriteriaBuilder:NewCriteriaBuilder/* default */.Z},data:function(){return{loading:!1,predefinedColors:card_constants/* predefinedColors */.UH,activeNames:["0"],conditionalFormatting:[],styles:{primaryColor:"#110d24",secondaryColor:"#969caf",backgroundColor:"#FFF",tickColor:{id:0,hex:"#969aa2"},color:{id:0,hex:"#FF728E"},colors:[{id:0,hex:"#ff7878"},{id:1,hex:"#7d49ff"},{id:2,hex:"#514dff"},{id:3,hex:"#1eb9b7"}],backgroundColors:[{id:0,hex:"#fff"},{id:0,hex:"#fff"}],colorBarProgress:"#3adaad",colorBarProgressEnd:"#0232ab",arrowUpColor:"#008000",arrowDownColor:"#ff0100",blink:!1,displayValue:null}}},mounted:function(){this.initConditionalFormatting()},watch:{currentObject:function(){this.initConditionalFormatting()}},computed:{filteredVariables:function(){return this.variables.filter((function(rt){return"title"!==rt.name}))}},methods:{rerender:function(){var _this=this;this.loading=!0,setTimeout((function(){_this.loading=!1,_this.cleardata()}),500)},cleardata:function(){this.conditionalFormatting=[],this.addRule(),this.emitData()},initConditionalFormatting:function(){if((0,validation/* isEmpty */.xb)(this.$getProperty(this,"value.conditionalFormatting",null)))this.conditionalFormatting=[],this.addRule();else{var value=this.value;this.conditionalFormatting=this.getExtraStyles(value.conditionalFormatting)}},getExtraStyles:function(conditionalFormatting){var _this2=this;return conditionalFormatting.forEach((function(rt){var styles=rt.styles;styles.hasOwnProperty("displayValue")||_this2.$set(styles,"displayValue",null),styles.hasOwnProperty("blink")||_this2.$set(styles,"blink",!1)})),conditionalFormatting},getCriteria:function(criteria,index){this.conditionalFormatting[index].criteria=criteria},getPredefinedColors:function(){return colors/* default */.Z.readingcardColors},deleteRule:function(key){this.conditionalFormatting.splice(key,1)},getEmptyCFObject:function(){var _this3=this,cf={criteria:{pattern:""},styles:{}};return Object.keys(this.cardStyles).forEach((function(rt){_this3.$set(cf.styles,rt,_this3.styles[rt])})),cf.styles=this.setAdditionalStats(cf.styles),cf},setAdditionalStats:function(styles){return this.$set(styles,"blink",!1),this.$set(styles,"displayValue",null),styles},addRule:function(){this.conditionalFormatting.push(this.getEmptyCFObject())},emitData:function(){var conditionalFormatting={conditionalFormatting:this.conditionalFormatting};this.$emit("input",conditionalFormatting)}}},components_CardConditionalFormatingvue_type_script_lang_js=CardConditionalFormatingvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_CardConditionalFormatingvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CardConditionalFormating=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/72586.js.map