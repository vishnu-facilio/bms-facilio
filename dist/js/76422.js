(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[76422],{
/***/373729:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FormCreation}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/base/FormCreation.vue?vue&type=template&id=4b914323
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.bulkMode?_c("div",{staticClass:"fc-bulk-form-page"},[_c("div",{staticClass:"bulk-form-data-creation"},[_c("el-header",{staticClass:"bulk-form-header",attrs:{height:"80"}},[_c("div",{staticClass:"header d-flex justify-content-space"},[_c("div",{staticClass:"title line-height40 fw4"},[_vm._v(_vm._s(_vm.title))]),_vm.forms.length>1?_c("el-select",{staticClass:"fc-input-full-border-select2 mL-auto width25",attrs:{"value-key":"name"},model:{value:_vm.selectedForm,callback:function($$v){_vm.selectedForm=$$v},expression:"selectedForm"}},_vm._l(_vm.forms,(function(form,index){return _c("el-option",{key:index,attrs:{value:form,label:form.displayName}})})),1):_vm._e(),_c("div",{staticClass:"flex-middle width15"},[_c("el-button",{staticClass:"small-border-btn width50 bR3 pB13 pT13 f12 text-uppercase",on:{click:_vm.redirectToList}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"small-border-btn-save width50 bR3 pB13 pT13 f12 text-uppercase",attrs:{loading:_vm.isSaving},on:{click:_vm.triggerBulkSubmit}},[_vm._v(_vm._s(_vm.$t("common._common._save")))])],1)],1)]),_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("bulk-form",{ref:"bulkform",attrs:{form:_vm.formObj,module:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,isSaving:_vm.isSaving,canShowPrimaryBtn:!1,canShowSecondaryBtn:!1,isEdit:_vm.isEdit,customClass:_vm.customClass},on:{"update:form":function($event){_vm.formObj=$event}}})],1)]):_c("div",{staticClass:"form-data-creation",class:[_vm.$validation.isEmpty(_vm.widgetsArr)?"":"form-creation-widgets",_vm.customClassForContainer]},[_vm.showEmptyState?_c("div",{staticClass:"form-empty-container"},[_c("inline-svg",{staticClass:"d-flex module-view-empty-state",attrs:{src:"svgs/no-configuration",iconClass:"icon"}}),_c("div",{staticClass:"mB10 mT10 no-template-text f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("forms.live_form.no_forms"))+" ")]),_c("div",{staticClass:"contact-admin-text f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("forms.live_form.contact_admin"))+" ")])],1):_c("div",{staticClass:"height-100",class:[_vm.$validation.isEmpty(_vm.widgetsArr)?"":"form-left-container"]},[_c("div",{staticClass:"header mT20 mB10 d-flex"},[_c("div",{staticClass:"title mT10"},[_vm._v(_vm._s(_vm.title))]),_vm.forms.length>1?_c("el-select",{staticClass:"fc-input-full-border-select2 mL-auto width25",attrs:{"value-key":"name"},model:{value:_vm.selectedForm,callback:function($$v){_vm.selectedForm=$$v},expression:"selectedForm"}},_vm._l(_vm.forms,(function(form,index){return _c("el-option",{key:index,attrs:{value:form,label:form.displayName}})})),1):_vm._e()],1),_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("f-webform",{attrs:{form:_vm.formObj,module:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,isSaving:_vm.isSaving,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,isEdit:_vm.isEdit,isV3Api:_vm.isV3Api,isWidgetsSupported:_vm.isWidgetsSupported,moduleData:_vm.moduleData,moduleDataId:_vm.moduleDataId,subFormRecords:_vm.subFormRecords,modifyFieldPropsHook:_vm.modifyFieldPropsHook},on:{"update:form":function($event){_vm.formObj=$event},onBlur:_vm.onBlurHook,onWidgetChange:_vm.onWidgetChange,save:_vm.saveRecord,cancel:_vm.redirectToList,onFormModelChange:_vm.handleFormModlechange}})],1),_c("portal-target",{staticClass:"widgets-container",attrs:{name:"side-bar-widgets"}})],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),Spinner=(__webpack_require__(879288),__webpack_require__(634338),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(976801),__webpack_require__(604947)),FWebform=__webpack_require__(434500),validation=__webpack_require__(990260),constant=__webpack_require__(354754),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),DataCreationMixin=__webpack_require__(216758),FormsEventMixin=__webpack_require__(332807),BulkForm=__webpack_require__(713243),api=__webpack_require__(32284),pick=__webpack_require__(478718),pick_default=__webpack_require__.n(pick),baseUrl=__webpack_require__(420499),utility_methods=__webpack_require__(773258),FormCreationvue_type_script_lang_js={name:"form-creation",mixins:[DataCreationMixin/* default */.Z,FormsEventMixin/* default */.Z],components:{Spinner:Spinner/* default */.Z,FWebform:FWebform/* default */.Z,bulkForm:BulkForm/* default */.Z},data:function(){return{forms:[],isLoading:!0,selectedForm:{},formObj:{},isSaving:!1,moduleData:{},widgetsArr:[],subFormRecords:{}}},computed:{showEmptyState:function(){var _ref=this||{},forms=_ref.forms;return!this.isLoading&&(0,validation/* isEmpty */.xb)(forms)&&!this.isCreateEditWidgetConfigured},bulkMode:function(){var $route=this.$route,_ref2=$route||{},query=_ref2.query,_ref3=query||{},bulkmode=_ref3.bulkmode;return bulkmode},moduleDataId:function(){var $route=this.$route,dataId=this.dataId;if((0,validation/* isEmpty */.xb)(dataId)){var id=this.$attrs.id||$route.params.id;return(0,validation/* isEmpty */.xb)(id)?id:Number(id)}return dataId},title:function(){var moduleDisplayName=this.moduleDisplayName,moduleDataId=this.moduleDataId;return(0,validation/* isEmpty */.xb)(moduleDataId)?"Create ".concat(moduleDisplayName):"Edit ".concat(moduleDisplayName)},isEdit:function(){var moduleDataId=this.moduleDataId;return!(0,validation/* isEmpty */.xb)(moduleDataId)},customClass:function(){return""},queryFormId:function(){var $route=this.$route,formId=$route.query.formId;return(0,validation/* isEmpty */.xb)(formId)?formId:parseInt(formId)},isV3Api:function(){return!1},isWidgetsSupported:function(){return!0},customClassForContainer:function(){return""}},created:function(){this.init()},watch:{selectedForm:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(isEqual_default()(newVal,oldVal)){_context.next=6;break}return _this.widgetsArr=[],_this.isLoading=!0,_context.next=5,_this.loadFormData();case 5:_this.isLoading=!1;case 6:case"end":return _context.stop()}}),_callee)})))()},deep:!0},queryFormId:{handler:function(newVal,oldVal){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:isEqual_default()(newVal,oldVal)||_this2.setInitialForm();case 1:case"end":return _context2.stop()}}),_callee2)})))()},deep:!0}},methods:{
//promise rej->indicates validation fail, remove loading state
triggerBulkSubmit:function(){var _this3=this;this.isSaving=!0,this.$refs["bulkform"].triggerSubmit().then((function(data){_this3.saveRecord(data)})).catch((function(error){_this3.$message(error),_this3.isSaving=!1}))},init:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var moduleDataId,moduleName;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return moduleDataId=_this4.moduleDataId,moduleName=_this4.moduleName,_this4.isLoading=!0,_context3.next=4,_this4.loadFormsList(moduleName);case 4:if((0,validation/* isEmpty */.xb)(moduleDataId)){_context3.next=7;break}return _context3.next=7,_this4.loadModuleData({moduleName:moduleName,moduleDataId:moduleDataId});case 7:_this4.setInitialForm(),_this4.isLoading=!1;case 9:case"end":return _context3.stop()}}),_callee3)})))()},loadFormsList:function(moduleName){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var url,_yield$API$get,data,error,message,_ref4,_ref4$forms,forms;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return url="/v2/forms?moduleName=".concat(moduleName),_this5.isLoading=!0,_context4.next=4,api/* API */.bl.get(url);case 4:_yield$API$get=_context4.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?(message=error.message,_this5.$message.error(message)):(_ref4=data||{},_ref4$forms=_ref4.forms,forms=void 0===_ref4$forms?[]:_ref4$forms,_this5.$set(_this5,"forms",forms));case 8:case"end":return _context4.stop()}}),_callee4)})))()},loadModuleData:function(_ref5){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var moduleDataId,moduleName,response,_response,error,_response$data,data,record,message,moduleData;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(moduleDataId=_ref5.moduleDataId,moduleName=_ref5.moduleName,!_this6.isV3Api){_context5.next=7;break}return _context5.next=4,api/* API */.bl.fetchRecord(moduleName,{id:moduleDataId});case 4:response=_context5.sent,_context5.next=10;break;case 7:return _context5.next=9,api/* API */.bl.get("/v2/module/data/".concat(moduleDataId,"?moduleName=").concat(moduleName));case 9:response=_context5.sent;case 10:_response=response,error=_response.error,_response$data=_response.data,data=void 0===_response$data?{}:_response$data,record=_response[moduleName],error?(message=error.message,_this6.$message.error(message)):(moduleData=_this6.isV3Api?record:data["moduleData"],_this6.$set(_this6,"moduleData",moduleData));case 12:case"end":return _context5.stop()}}),_callee5)})))()},setInitialForm:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var moduleData,forms,queryFormId,selectedForm,formId,existingForm;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:moduleData=_this7.moduleData,forms=_this7.forms,queryFormId=_this7.queryFormId,selectedForm={},formId=null,(0,validation/* isEmpty */.xb)(forms)||(formId=(0,validation/* isEmpty */.xb)(queryFormId)?_this7.getSelectedFormId(moduleData):queryFormId,(0,validation/* isEmpty */.xb)(formId)?selectedForm=_this7.$getProperty(_this7,"forms.0"):(existingForm=_this7.forms.find((function(form){return formId===form.id})),selectedForm=(0,validation/* isEmpty */.xb)(existingForm)?_this7.$getProperty(_this7,"forms.0"):existingForm),_this7.$set(_this7,"selectedForm",selectedForm));case 4:case"end":return _context6.stop()}}),_callee6)})))()},loadFormData:function(formId){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var formObj,selectedForm,moduleName,moduleData,isEdit,id,name,module,_ref6,formModuleName,formUrl,_yield$API$get2,data,error,message,form;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return formObj={},selectedForm=_this8.selectedForm,moduleName=_this8.moduleName,moduleData=_this8.moduleData,isEdit=_this8.isEdit,id=selectedForm.id,name=selectedForm.name,module=selectedForm.module,_ref6=module||{},formModuleName=_ref6.name,moduleName=(0,validation/* isEmpty */.xb)(formModuleName)?moduleName:formModuleName,formUrl=-1===id?"/v2/forms/".concat(moduleName,"?formName=").concat(name,"&fetchFormRuleFields=true"):"/v2/forms/".concat(moduleName,"?formId=").concat(formId||id,"&fetchFormRuleFields=true"),isEdit||(formUrl="".concat(formUrl,"&forCreate=true")),_this8.isLoading=!0,_context7.next=10,api/* API */.bl.get(formUrl);case 10:return _yield$API$get2=_context7.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error?(message=error.message,_this8.$message.error(message)):(form=data.form,(0,validation/* isEmpty */.xb)(form)||(formObj=form,formObj.secondaryBtnLabel=_this8.$t("common._common.cancel"),formObj.primaryBtnLabel=_this8.$t("common._common._save"),_this8.$set(_this8,"formObj",formObj),(0,validation/* isEmpty */.xb)(moduleData)||_this8.deserializeData(moduleData))),_context7.abrupt("return",formObj);case 15:case"end":return _context7.stop()}}),_callee7)})))()},onBlurHook:function(){
// override in consuming components
},onWidgetChange:function(widgetsArr){this.$set(this,"widgetsArr",widgetsArr)},saveRecord:function(formModel){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee8(){var formObj,afterSerializeHook,afterSaveHook,moduleName,moduleDataId,formId,response,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context8){while(1)switch(_context8.prev=_context8.next){case 0:if(formObj=_this9.formObj,afterSerializeHook=_this9.afterSerializeHook,afterSaveHook=_this9.afterSaveHook,moduleName=_this9.moduleName,moduleDataId=_this9.moduleDataId,formId=formModel.formId,response={},data=_this9.serializedData(formObj,formModel),(0,validation/* isEmpty */.xb)(formId)||(data.formId=formId),(0,validation/* isEmpty */.xb)(moduleDataId)||(data.id=moduleDataId),
// Hook to overwrite the serialized data, before performing crud operation
!(0,validation/* isEmpty */.xb)(afterSerializeHook)&&(0,validation/* isFunction */.mf)(afterSerializeHook)&&(data=_this9.afterSerializeHook({data:data,formModel:formModel,formObj:formObj})),_this9.isSaving=!0,!(0,validation/* isEmpty */.xb)(moduleDataId)){_context8.next=14;break}return _context8.next=11,api/* API */.bl.createRecord(moduleName,{data:data});case 11:response=_context8.sent,_context8.next=17;break;case 14:return _context8.next=16,api/* API */.bl.updateRecord(moduleName,{id:moduleDataId,data:data});case 16:response=_context8.sent;case 17:_this9.isSaving=!1,
// Hook to handle notification after crud operation
_this9.notificationHandler(response),
// Hook to handle response after crud operation
!(0,validation/* isEmpty */.xb)(afterSaveHook)&&(0,validation/* isFunction */.mf)(afterSaveHook)&&_this9.afterSaveHook(response);case 20:case"end":return _context8.stop()}}),_callee8)})))()},notificationHandler:function(response){var moduleDataId=this.moduleDataId,moduleDisplayName=this.moduleDisplayName,error=response.error;if(error){var _error$message=error.message,message=void 0===_error$message?"Error occured":_error$message;this.$message.error(message)}else{var successMsg="".concat(moduleDisplayName,moduleDataId?" updated successfully":" created successfully");this.$message.success(successMsg)}},getSelectedFormId:function(moduleData){if(!(0,validation/* isEmpty */.xb)(moduleData)){var formId=moduleData.formId;return formId}},modifyFieldPropsHook:function(){
// Overriding field object in consuming component
},handleFormModlechange:function(){
//this method to handle formModel change
},deserializeData:function(moduleData){var _this10=this,data=moduleData.data,isV3Api=this.isV3Api,formObj=this.formObj;if(!(0,validation/* isEmpty */.xb)(formObj)){var sections=formObj.sections;(0,validation/* isEmpty */.xb)(sections)||sections.forEach((function(section){var fields=section.fields;(0,validation/* isEmpty */.xb)(fields)||fields.forEach((function(field){var fieldObj=field.field,name=field.name,displayTypeEnum=field.displayTypeEnum,displayType=field.displayType;
// Custom fields data extraction
if((0,validation/* isEmpty */.xb)(fieldObj)||fieldObj.default||(0,validation/* isEmpty */.xb)(data)||isV3Api)if("TEAMSTAFFASSIGNMENT"===displayTypeEnum){var assignedTo=moduleData.assignedTo,assignmentGroup=moduleData.assignmentGroup,fieldValue={assignedTo:{id:""},assignmentGroup:{id:""}};(0,validation/* isEmpty */.xb)(assignedTo)||(fieldValue.assignedTo=assignedTo),(0,validation/* isEmpty */.xb)(assignmentGroup)||(fieldValue.assignmentGroup=assignmentGroup),_this10.$set(field,"value",fieldValue)}else if("IMAGE"===displayTypeEnum||"SIGNATURE"===displayTypeEnum){var _imageId=moduleData["".concat(name,"Id")],_imgUrl="".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(moduleData["".concat(name,"Id")]);_this10.$set(field,"imgUrl",_imageId?_imgUrl:null),_this10.$set(field,"value",_imageId)}else if("FILE"===displayTypeEnum){var _fileId=moduleData["".concat(name,"Id")],_fileObj={name:moduleData["".concat(name,"FileName")]};_this10.$set(field,"fileObj",_fileId?_fileObj:null),_this10.$set(field,"value",_fileId)}else if("LOOKUP_SIMPLE"!==displayTypeEnum&&"REQUESTER"!==displayTypeEnum&&"SPACECHOOSER"!==displayTypeEnum||"siteId"===field.name)if(56===displayType){var config=field.config,endFieldName=config.endFieldName,startFieldName=config.startFieldName,scheduleJsonName=config.scheduleJsonName,scheduleValueObj={startFieldValue:moduleData[startFieldName],endFieldValue:moduleData[endFieldName],scheduleJsonValue:moduleData[scheduleJsonName],isRecurring:moduleData.isRecurring};_this10.$set(field,"scheduleValueObj",scheduleValueObj)}else"SADDRESS"===displayTypeEnum||"ADDRESS"===displayTypeEnum?_this10.$set(field,"value",_this10.$getProperty(_this10,"moduleData.".concat(field.name),(0,utility_methods/* deepCloneObject */.kh)(constant/* default */.Z.ADDRESS_FIELD_DEFAULTS))):"QUOTE_ADDRESS"===displayTypeEnum?(_this10.$set(field,"billToAddress",_this10.$getProperty(_this10,"moduleData.billToAddress",{})),_this10.$set(field,"shipToAddress",_this10.$getProperty(_this10,"moduleData.shipToAddress",{}))):["QUOTE_LINE_ITEMS","LINEITEMS"].includes(displayTypeEnum)?(_this10.$set(field,"value",_this10.$getProperty(_this10,"moduleData.".concat(name),null)),constant/* default */.Z.QUOTE_LINE_ITEMS_ADDITIONAL_FIELDS.forEach((function(additionalField){var value=_this10.$getProperty(_this10,"moduleData.".concat(additionalField),null);"tax"===additionalField&&(value=(0,validation/* isEmpty */.xb)(value)?{id:null}:pick_default()(value,["id"])),_this10.$set(field,additionalField,value)}))):["INVREQUEST_LINE_ITEMS"].includes(displayTypeEnum)?_this10.$set(field,"value",_this10.$getProperty(_this10,"moduleData.lineItems",null)||_this10.$getProperty(_this10,"moduleData.inventoryrequestlineitems",null)):"BUDGET_AMOUNT"===displayTypeEnum?_this10.$set(field,"value",_this10.getFormattedBudgetAmountsData(moduleData)):"FACILITY_BOOKING_SLOTS"===displayTypeEnum?(_this10.$set(field,"value",_this10.getFormattedSlotData(moduleData)),_this10.$set(field,"bookingDate",moduleData.bookingDate)):"FACILITY_AVAILABILITY"===displayTypeEnum?_this10.$set(field,"value",_this10.formatForFacilityAvailability(moduleData)):"NOTES"===displayTypeEnum?_this10.$set(field,"value",field.value):["NUMBER","DECIMAL"].includes(displayTypeEnum)&&!(0,validation/* isNullOrUndefined */.le)(moduleData[name])?_this10.$set(field,"value",moduleData[name]):(0,validation/* isEmpty */.xb)(moduleData[name])?_this10.$set(field,"value",null):_this10.$set(field,"value",moduleData[name]);else _this10.$set(field,"value",(moduleData[name]||{}).id);else if("IMAGE"===displayTypeEnum||"SIGNATURE"===displayTypeEnum){var imageId=moduleData.data["".concat(name,"Id")],imgUrl="".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(moduleData.data["".concat(name,"Id")]);_this10.$set(field,"imgUrl",imageId?imgUrl:null),_this10.$set(field,"value",imageId)}else if("FILE"===displayTypeEnum){var fileId=moduleData.data["".concat(name,"Id")],fileObj={name:moduleData.data["".concat(name,"FileName")]};_this10.$set(field,"fileObj",fileId?fileObj:null),_this10.$set(field,"value",fileId)}else"LOOKUP_SIMPLE"===displayTypeEnum?_this10.$set(field,"value",(data[name]||{}).id):"DURATION"===displayTypeEnum?_this10.$set(field,"value",_this10.$helpers.getDurationInSecs(data[name],(0,validation/* isEmpty */.xb)((fieldObj||{}).unit)?"s":fieldObj.unit)):"SADDRESS"===displayTypeEnum||"ADDRESS"===displayTypeEnum?_this10.$set(field,"value",_this10.$getProperty(_this10,"moduleData.data.".concat(field.name),(0,utility_methods/* deepCloneObject */.kh)(constant/* default */.Z.ADDRESS_FIELD_DEFAULTS))):_this10.$set(field,"value",data[name])}))}))}}}},base_FormCreationvue_type_script_lang_js=FormCreationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_FormCreationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FormCreation=component.exports},
/***/713243:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BulkForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/bulkform/BulkForm.vue?vue&type=template&id=e97f44fe
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loadHot?_c("div",{staticClass:"bulk-form-container fc-hottable-com-page"},[_c("HotTableWrapper",{ref:"hotTableWrapper",attrs:{hotTableSettingsData:_vm.hotConfig,selectedSiteId:_vm.selectedSiteId,pasteDataMap:_vm.pasteDataMap,onRowChange:_vm.onRowChange,moduleData:_vm.moduleData},on:{"update:pasteDataMap":function($event){_vm.pasteDataMap=$event},"update:paste-data-map":function($event){_vm.pasteDataMap=$event}}})],1):_vm._e()},staticRenderFns=[],defineProperty=__webpack_require__(482482),objectSpread2=__webpack_require__(595082),objectWithoutProperties=__webpack_require__(62078),slicedToArray=__webpack_require__(554621),createForOfIteratorHelper=__webpack_require__(566347),toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(336585),__webpack_require__(634338),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(990260)),CustomValidator=__webpack_require__(314346),HotTableWrapper=__webpack_require__(513868),FWebform=__webpack_require__(434500),constant=__webpack_require__(354754),field_utils=__webpack_require__(455344),utils_field=__webpack_require__(815872),uuid=__webpack_require__(455877),range=__webpack_require__(396026),range_default=__webpack_require__.n(range),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),dset_es=__webpack_require__(444806),_excluded=["uuid"],BulkFormvue_type_script_lang_js={name:"bulk-form",extends:FWebform/* default */.Z,components:{HotTableWrapper:HotTableWrapper/* default */.Z},mounted:function(){this.initBulkForm(),this.loadHot=!0,window.handsonTable=this.$refs["hot"]},data:function(){return{loadHot:!1,hotConfig:{renderAllRows:!0,
//turn off virtual scrolling
viewportColumnRenderingOffset:"auto",rowHeaders:!0,data:[],dataSchema:{},uniqueDataKey:"uuid",colHeaders:[],columns:[],minRows:25,minSpareRows:3,maxRows:25,undo:!0,manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,afterValidate:function(){},errormessage:"",fieldnames:[]},pasteDataMap:{}}},methods:{initBulkForm:function(){
//Bulk form has no section , accumulate fields from all section to single list
var allFields=this.form.sections.reduce((function(accum,section){return accum.push.apply(accum,(0,toConsumableArray/* default */.Z)(section.fields)),accum}),[]);this.constructHotColumns(allFields),this.hotConfig.stretchH="all"},
// triggered from outside
triggerSubmit:function(){var _this=this,formRowsData=this.getFormRows();return(0,validation/* isEmpty */.xb)(formRowsData)?Promise.reject({type:"warning",message:"Please enter the values for atleast one row"}):new Promise((function(res,rej){var usedRowIndices=_this.getUsedRowIndices();if(!(0,validation/* isEmpty */.xb)(usedRowIndices)){var $refs=_this.$refs,validationOption={rows:usedRowIndices};$refs["hotTableWrapper"].triggerValidate(validationOption,(function(isValid){if(isValid)res(formRowsData);else{var count=_this.errorRowIndex(),dialogObj={},classname="";classname=count<10?"f-dialog-minheight":"f-dialog-maxheight",dialogObj={title:"Please correct the following errors to proceed:",htmlMessage:"".concat(_this.errormessage),lbHide:!0,className:"".concat(classname)},_this.$dialog.confirm(dialogObj)}}))}}))},errorRowIndex:function(){var hotConfig=this.hotConfig,Required=[],celltype=[],usedRowIndex=this.getUsedRowIndices();this.errormessage="";var usedindex,_step,errorCount=1,index=0,formRowsData=this.getFormRows(),columns=hotConfig.columns,_iterator=(0,createForOfIteratorHelper/* default */.Z)(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){var column=_step.value,required=column.required,cellType=column.cellType;Required.push(required),celltype.push(cellType)}}catch(err){_iterator.e(err)}finally{_iterator.f()}usedindex=0;for(var _i=0,_Object$entries=Object.entries(formRowsData);_i<_Object$entries.length;_i++){var _Object$entries$_i=(0,slicedToArray/* default */.Z)(_Object$entries[_i],2),values=(_Object$entries$_i[0],_Object$entries$_i[1]);for(var value in index=0,values)1!=Required[index]||"lookup"!==celltype[index]&&"select"!==celltype[index]?1!=Required[index]||void 0!=celltype[index]||null!=values[value]&&""!=values[value]||(this.errormessage+="Row ".concat(usedRowIndex[usedindex]+1,": ").concat(this.hotConfig.fieldnames[index]," is mandatory\n"),errorCount++):null!=values[value].id&&""!=values[value].id||(this.errormessage+="Row ".concat(usedRowIndex[usedindex]+1,": ").concat(this.hotConfig.fieldnames[index]," is mandatory\n"),errorCount++),index++;usedindex++}return errorCount-1},onRowChange:function(props){var $refs=this.$refs,hotConfig=this.hotConfig,_ref=hotConfig||{},data=_ref.data,index=props.index,selectedRowData=data[index]||{},_ref2=selectedRowData||{},uuid=_ref2["uuid"],dataWithoutId=(0,objectWithoutProperties/* default */.Z)(_ref2,_excluded),canClearError=(0,validation/* areValuesEmpty */.sD)(dataWithoutId);!(0,validation/* isEmpty */.xb)($refs)&&canClearError&&$refs["hotTableWrapper"].clearRowError(uuid)},getFormRows:function(){var _this2=this,_this$hotConfig=this.hotConfig,uniqueDataKey=_this$hotConfig.uniqueDataKey,rows=_this$hotConfig.data,formRowsData=[];return rows.forEach((function(row){var isUsedRow=_this2.isRowUsed(row);if(isUsedRow){var data=cloneDeep_default()(row),id=data[uniqueDataKey];if(_this2.pasteDataMap[id]){var pasteData=_this2.pasteDataMap[id];Object.entries(pasteData).forEach((function(_ref3){var _ref4=(0,slicedToArray/* default */.Z)(_ref3,2),key=_ref4[0],value=_ref4[1];(0,dset_es/* default */.Z)(data,key,value)}))}delete data[uniqueDataKey],formRowsData.push(data)}})),formRowsData},getUsedRowIndices:function(){var _this3=this,rows=this.hotConfig.data,usedRowIndices=[];return rows.forEach((function(row,rowIndex){var isUsedRow=_this3.isRowUsed(row);isUsedRow&&usedRowIndices.push(rowIndex)})),usedRowIndices},isRowUsed:function(row){
// uuid or id must not be considered when checking for usage
// TODO check if visible fields are all null because id will be
// present in edit case and hidden fields might have default values
// during creation case
var uniqueDataKey=this.hotConfig.uniqueDataKey;return!(0,validation/* areValuesEmpty */.sD)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},row),{},(0,defineProperty/* default */.Z)({},uniqueDataKey,null)))},constructHotColumns:function(deserializedFormFields){var _this4=this,supportedFields=deserializedFormFields.filter((function(formField){return _this4.isBulkModeSupported(formField)}));if(this.hotConfig.fieldnames=supportedFields.map((function(field){var _ref5=field||{},displayName=_ref5.displayName;_ref5.required;return"".concat(displayName)})),this.hotConfig.colHeaders=supportedFields.map((function(field){var _ref6=field||{},displayName=_ref6.displayName,required=_ref6.required;return required?'<span class="required">'.concat(displayName,"*</span>"):"".concat(displayName)})),(0,validation/* isEmpty */.xb)(this.moduleData))this.hotConfig.dataSchema=cloneDeep_default()(this.formModel),this.hotConfig.data=range_default()(0,25).map((function(){return cloneDeep_default()((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this4.formModel),{},{uuid:(0,uuid.v4)()}))}));else{var temp=0;this.hotConfig.dataSchema=cloneDeep_default()(this.formModel),this.hotConfig.data=range_default()(0,25).map((function(){return cloneDeep_default()((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this4.moduleData[temp++]),{},{uuid:(0,uuid.v4)()}))}))}
//get appropriate column object for each field object
supportedFields.forEach((function(formField){_this4.hotConfig.columns.push(_this4.getHotColumn(formField))}))},getHotColumn:function(field){var name=field.name,displayTypeEnum=field.displayTypeEnum,required=field.required,columnObj={};(0,validation/* isObject */.Kn)(this.formModel[name])?columnObj["data"]="".concat(name,".id"):columnObj["data"]="".concat(name);
//Can be type:'systemTypeString' or type:{renderer,validator,editor} for customtypes'
//define props for column type and then mix into column object
var columnTypeObj={};return"TEXTBOX"===displayTypeEnum||"TEXTAREA"===displayTypeEnum?columnTypeObj.renderer="input":"NUMBER"===displayTypeEnum||"DECIMAL"===displayTypeEnum?columnTypeObj.type="numeric":"DATETIME"===displayTypeEnum?(columnTypeObj.editor="picker",columnTypeObj.pickerType="datetime",columnTypeObj.renderer="picker",columnTypeObj.width=200):(0,utils_field/* isLookupSimple */.qu)(field)||(0,field_utils/* isChooserTypeField */.Rq)(field)?(columnObj.editor="lookup",columnObj.renderer="lookup",columnObj.cellType="lookup",columnObj.field=field,columnObj.field.optionsCache={}):this.isDropdownTypeFields(field.displayTypeEnum)?(columnTypeObj.renderer="select",columnTypeObj.editor="select",columnObj.cellType="select",columnTypeObj.options=field.options):"DECISION_BOX"===displayTypeEnum&&(columnTypeObj.type="checkbox"),columnObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},columnObj),columnTypeObj),columnObj.required=required,required&&(columnObj.validateFn=CustomValidator/* requiredFieldValidator */.i),columnObj},isBulkModeSupported:function(field){return constant/* default */.Z.BULK_MODE_SUPPORTED_DISPLAY_TYPES.includes(field.displayTypeEnum)}}},bulkform_BulkFormvue_type_script_lang_js=BulkFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(bulkform_BulkFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BulkForm=component.exports},
/***/513868:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return HotTableWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/newcoms/HotTableWrapper.vue?vue&type=template&id=2dd8a344
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"hot-table-wrapper-container"},[_vm.$validation.isEmpty(_vm.hotTableSettingsData)?_vm._e():_c("div",{ref:"hotTableContainer",staticClass:"relative"},[_vm.isPasteInProgress?_c("div",{directives:[{name:"loading",rawName:"v-loading",value:_vm.isPasteInProgress,expression:"isPasteInProgress"}],staticClass:"loading-container"}):_vm._e(),_c("hot-table",{ref:"hotTableInstance",attrs:{settings:_vm.hotTableSettingsData}})],1),_vm.canShowInput?_c("el-input",{ref:"inputComponent",staticClass:"fc-handson-input hide",model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}}):_vm._e(),_vm.canShowSelect?_c("el-select",{key:"unit-dropdown",ref:"selectComponent",staticClass:"fc-handson-input hide",attrs:{"automatic-dropdown":!0,"popper-append-to-body":!1,placeholder:_vm.selectPlaceHolder,loading:(_vm.activeSelectField||{}).isSelectOptionsLoading||!1,"loading-text":_vm.$t("common._common.searching"),filterable:""},on:{change:_vm.handleSelectChange},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)},keydown:function($event){return $event.stopPropagation(),function($event){return _vm.onKeyDownEvent($event)}.apply(null,arguments)}},model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}},_vm._l(_vm.selectOptions,(function(option,index){return _c("el-option",{key:index,attrs:{label:option.label,value:option.value}})})),1):_vm._e(),_vm.canShowPicker?_c("f-date-picker",{ref:"pickerComponent",staticClass:"fc-input-full-border2 form-date-picker fc-handson-picker",attrs:{type:_vm.hotTableSettingsData.columns[_vm.activeColumnIndex].pickerType,format:_vm.EL_PICKER_DISPLAY_FORMAT,appendToBody:!1,arrowControl:!0},on:{pickerChange:function($event){return _vm.activeEditorInstance.finishEditing()}},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)}},model:{value:_vm.proxyDataSetter,callback:function($$v){_vm.proxyDataSetter=$$v},expression:"proxyDataSetter"}}):_vm._e(),_vm.canShowLookup?_c("FLookupField",{ref:"lookUpComponent",staticClass:"fc-handson-lookup",attrs:{model:_vm.proxyDataSetter,field:_vm.activeLookupField,popperAppendToBody:!1,skipLoading:!0,fetchOptionsMethod:_vm.getLookupOptions?_vm.getLookupOptionsForColumn:null,hideDropDown:_vm.$fieldUtils.isChooserTypeField(_vm.activeLookupField)&&!(_vm.activeLookupField.config||{}).isFiltersEnabled},on:{"update:model":function($event){_vm.proxyDataSetter=$event},recordSelected:_vm.handleRecordSelected,showLookupWizard:_vm.showLookupWizard},nativeOn:{mousedown:function($event){return $event.stopPropagation(),function($event){return _vm.onMouseDownEvent($event)}.apply(null,arguments)},keydown:function($event){return $event.stopPropagation(),function($event){return _vm.onKeyDownEvent($event)}.apply(null,arguments)}}}):_vm._e(),_vm.canShowLookupWizard?_c("div",[_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.selectedLookupField,specialFilterValue:_vm.specialFilterValue},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue,closeWizard:_vm.handleCloseWizard}})],1):_vm._e(),_vm.canShowFilterDialog?_c("div",[_c("HandsonColumnFilter",{attrs:{canShowFilterDialog:_vm.canShowFilterDialog,currentFilterColumn:_vm.currentFilterColumn,filteredCondition:_vm.filteredCondition},on:{"update:canShowFilterDialog":function($event){_vm.canShowFilterDialog=$event},"update:can-show-filter-dialog":function($event){_vm.canShowFilterDialog=$event},"update:currentFilterColumn":function($event){_vm.currentFilterColumn=$event},"update:current-filter-column":function($event){_vm.currentFilterColumn=$event},"update:filteredCondition":function($event){_vm.filteredCondition=$event},"update:filtered-condition":function($event){_vm.filteredCondition=$event}}})],1):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),slicedToArray=__webpack_require__(554621),constant=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(336585),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(354754)),validation=__webpack_require__(990260),vue_handsontable=__webpack_require__(366258),FDatePicker=__webpack_require__(358551),FLookupField=__webpack_require__(855048),FLookupFieldWizard=__webpack_require__(499751),HandsonColumnFiltervue_type_template_id_0e3067e1_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"handson-column-filter fc-dialog-center-container",attrs:{title:_vm.$t("commissioning.sheet.filter"),visible:_vm.canShowDialog,"append-to-body":!0,width:"30%"},on:{"update:visible":function($event){_vm.canShowDialog=$event}}},[_c("div",{staticClass:"height150"},[_c("div",{staticClass:"mT10"},[_vm._v(_vm._s(_vm.$t("commissioning.sheet.filter_by_value")))]),_c("div",[_c("el-input",{staticClass:"fc-input-full-border2 mT5",model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}})],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.setFilter}},[_vm._v("Confirm")])],1)])},HandsonColumnFiltervue_type_template_id_0e3067e1_staticRenderFns=[],HandsonColumnFiltervue_type_script_lang_js=(__webpack_require__(879288),__webpack_require__(339772),{props:{canShowFilterDialog:{type:Boolean},currentFilterColumn:{type:Number},filteredCondition:{type:Array}},data:function(){return{searchText:""}},computed:{canShowDialog:{get:function(){return this.canShowFilterDialog},set:function(value){this.$emit("update:canShowFilterDialog",value)}},activeColumnIndex:{get:function(){return this.currentFilterColumn},set:function(value){this.$emit("update:currentFilterColumn",value)}},selectedColumn:function(){var filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumn={};return(0,validation/* isEmpty */.xb)(filteredCondition)||(selectedColumn=filteredCondition.find((function(condition){return condition.columnIndex===activeColumnIndex}))),selectedColumn},selectedColumnIndex:function(){var filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumnIndex=null;return(0,validation/* isEmpty */.xb)(filteredCondition)||(selectedColumnIndex=filteredCondition.findIndex((function(condition){return condition.columnIndex===activeColumnIndex}))),selectedColumnIndex}},created:function(){var selectedColumn=this.selectedColumn;if(!(0,validation/* isEmpty */.xb)(selectedColumn)){var searchText=selectedColumn.searchText;this.$set(this,"searchText",searchText)}},methods:{setFilter:function(){var searchText=this.searchText,filteredCondition=this.filteredCondition,activeColumnIndex=this.activeColumnIndex,selectedColumn=this.selectedColumn,selectedColumnIndex=this.selectedColumnIndex,conditionArr=filteredCondition;(0,validation/* isEmpty */.xb)(selectedColumn)?(0,validation/* isEmpty */.xb)(searchText)||conditionArr.push({columnIndex:activeColumnIndex,searchText:searchText}):(0,validation/* isEmpty */.xb)(searchText)?conditionArr.splice(selectedColumnIndex,1):selectedColumn.searchText=searchText,this.$emit("update:filteredCondition",conditionArr),this.closeDialog()},closeDialog:function(){this.canShowDialog=!1,this.activeColumnIndex=null}}}),handsontable_HandsonColumnFiltervue_type_script_lang_js=HandsonColumnFiltervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(handsontable_HandsonColumnFiltervue_type_script_lang_js,HandsonColumnFiltervue_type_template_id_0e3067e1_render,HandsonColumnFiltervue_type_template_id_0e3067e1_staticRenderFns,!1,null,null,null)
/* harmony default export */,HandsonColumnFilter=component.exports,hottableEvents=__webpack_require__(663763),hottableGetterSetter=__webpack_require__(906653),hottableSetup=__webpack_require__(580302),HotTableWrappervue_type_script_lang_js={components:{HotTable:vue_handsontable.HotTable,FDatePicker:FDatePicker/* default */.Z,FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:FLookupFieldWizard["default"],HandsonColumnFilter:HandsonColumnFilter},mixins:[hottableEvents/* default */.Z,hottableGetterSetter/* default */.Z,hottableSetup/* default */.Z],props:{hotTableSettingsData:{type:Object,required:!0},isPasteInProgress:{type:Boolean},filterArr:{type:Array},getLookupOptions:{type:[Function,null]},getSelectOptions:{type:Function,default:function(){}},getDynamicPlaceHolder:{type:Function,default:function(){}},getSpecialFilterValue:{type:Function,default:function(){}},getReadingOptions:{type:Function,default:function(){}},onPasteEventHook:{type:Function,default:function(){}},afterPasteHook:{type:Function,default:function(){}},afterRowPaste:{type:Function,default:function(){}},handleAfterDocumentKeyDown:{type:Function,default:function(){}},preBeforePasteEventHanlder:{type:Function,default:function(){}},showEnumInputWizard:{type:Function,default:function(){}},resetActiveRowData:{type:Function,default:function(){}},showSetInputValues:{type:Function,default:function(){}},pasteDataMap:{type:Object},onAutoFillRowChange:{type:Function,default:function(){}},onRowChange:{type:Function,default:function(){}},showCustomFilter:{type:Boolean,default:!1},handleSorting:{type:Function,default:function(){}}},data:function(){return{EL_PICKER_DISPLAY_FORMAT:constant/* default */.Z.EL_PICKER_DISPLAY_FORMAT,canShowInput:!1,canShowSelect:!1,canShowPicker:!1,canShowLookup:!1,activePropName:null,activeRowIndex:null,activeColumnIndex:null,activeEditorInstance:null,isLoading:!0,canShowLookupWizard:!1,selectedLookupField:null,cellsErrorMap:{},canShowFilterDialog:!1,currentFilterColumn:null,specialFilterValue:{},physicalRowArr:[],previousData:null}},computed:{hotTableData:function(){var hotTableSettingsData=this.hotTableSettingsData,data=hotTableSettingsData.data;return data||[]},proxyDataSetter:{get:function(){var activeRowIndex=this.activeRowIndex,hotTableData=this.hotTableData,activePropName=this.activePropName,physicalRow=this.getPhysicalRowIndex(activeRowIndex),currentData=hotTableData[physicalRow]||{};return this.$getProperty(currentData,"".concat(activePropName),null)},set:function(value){var activeRowIndex=this.activeRowIndex,activePropName=this.activePropName,hotTableData=this.hotTableData,physicalRow=this.getPhysicalRowIndex(activeRowIndex),currentData=hotTableData[physicalRow]||{};this.$setProperty(currentData,"".concat(activePropName),value),
/*
          set property doesnot triggers the change, hence to rerender we're
          setting using Vue setter.
        */
this.$set(hotTableData,physicalRow,currentData)}},activeColumn:function(){var hotTableSettingsData=this.hotTableSettingsData,activeColumnIndex=this.activeColumnIndex,columns=hotTableSettingsData.columns;return(0,validation/* isEmpty */.xb)(columns)?{}:columns[activeColumnIndex]||{}},
// This field only exists if column of select type having different options for every row
activeSelectField:function(){var activeColumn=this.activeColumn;if(!(0,validation/* isEmpty */.xb)(activeColumn)){var field=activeColumn.field;return field||{}}return{}},activeLookupField:function(){var activeColumn=this.activeColumn;return activeColumn.field||null},selectOptions:{get:function(){var activeColumn=this.activeColumn,activeSelectField=this.activeSelectField;return(0,validation/* isEmpty */.xb)(activeSelectField)?activeColumn.options||[]:activeSelectField.options||[]},set:function(value){var activeColumn=this.activeColumn,activeSelectField=this.activeSelectField;(0,validation/* isEmpty */.xb)(activeSelectField)?this.$set(activeColumn,"options",value||[]):this.$set(activeSelectField,"options",value||[])}},selectPlaceHolder:function(){var activeColumn=this.activeColumn,activeRowIndex=this.activeRowIndex;if(!(0,validation/* isEmpty */.xb)(activeColumn)){var isDynamicPlaceHolderText=activeColumn.isDynamicPlaceHolderText;if(isDynamicPlaceHolderText){var text=this.getDynamicPlaceHolder({row:activeRowIndex});return text||""}var placeHolderText=activeColumn.placeHolderText;return placeHolderText||""}return""},filteredCondition:{get:function(){return this.filterArr||[]},set:function(value){this.$emit("update:filterArr",value)}}},created:function(){this.$set(this,"isLoading",!0),this.setupHotTableSettingsData(),this.$set(this,"isLoading",!1)},methods:{
/*
      Caching labels for selected options for both lookup and select fields
      Custom Renderer needs ID -> labels map to render
    */
cacheLookUpLabels:function(option){this.activeLookupField.optionsCache||this.$set(this.activeLookupField,"optionsCache",{}),this.$set(this.activeLookupField.optionsCache,option.value,option.label)},handleCloseWizard:function(data){var _data$field$selectedI,_this$getHotTableInst=this.getHotTableInstance(),hotInstance=_this$getHotTableInst.hotInstance;null!==(_data$field$selectedI=data.field.selectedItems[0])&&void 0!==_data$field$selectedI&&_data$field$selectedI.value&&(this.previousData.isAlreadyInvalid=!0,this.previousData.isValidEntry=!0,this.pushOrRemoveError(this.previousData)),hotInstance.render()},cacheSelectLabels:function(value){var activeSelectField=this.activeSelectField;if(!(0,validation/* isEmpty */.xb)(activeSelectField)&&!(0,validation/* isEmpty */.xb)(value)){var options=activeSelectField.options,_activeSelectField$op=activeSelectField.optionsCache,optionsCache=void 0===_activeSelectField$op?{}:_activeSelectField$op,selectedOption=options.find((function(option){return option.value===value}))||{},selectedOptionLabel=selectedOption.label||"";this.$set(optionsCache,value,selectedOptionLabel)}},setLookupFieldValue:function(props){var field=props.field,_ref=field||{},selectedItems=_ref.selectedItems,_selectedItems=(0,slicedToArray/* default */.Z)(selectedItems,1),selectedItem=_selectedItems[0],options=[],label=selectedItem.label,value=selectedItem.value;options=[{label:label,value:value}],this.$set(this.activeLookupField,"options",options),this.$set(this,"specialFilterValue",{}),this.proxyDataSetter=value,this.handleRecordSelected(selectedItem)},
/* Open dialog related methods */showLookupWizard:function(field,canShow){var activeColumnIndex=this.activeColumnIndex,activeRowIndex=this.activeRowIndex;if(this.$set(this,"selectedLookupField",field),this.$set(this,"canShowLookupWizard",canShow),(0,validation/* isFunction */.mf)(this.getSpecialFilterValue)){var filters=this.getSpecialFilterValue({row:activeRowIndex,column:activeColumnIndex});this.$set(this,"specialFilterValue",filters)}},openFilterDialog:function(column){var _ref2=this||{},showCustomFilter=_ref2.showCustomFilter;showCustomFilter?this.$emit("openCustomFilter",{column:column}):(this.$set(this,"canShowFilterDialog",!0),this.$set(this,"currentFilterColumn",column))},cellsErrorMaps:function(){var cellsErrorMap=this.cellsErrorMap;return cellsErrorMap},pushOrRemoveError:function(props){this.previousData=props;var isValidEntry=props.isValidEntry,isAlreadyInvalid=props.isAlreadyInvalid,id=props.id,propName=props.propName,cellsErrorMap=this.cellsErrorMap;if(id)if(isValidEntry){if(isAlreadyInvalid){cellsErrorMap[id].splice(cellsErrorMap[id].indexOf(propName),1);var isAllErrorsCleared=Object.entries(cellsErrorMap).every((function(_ref3){var _ref4=(0,slicedToArray/* default */.Z)(_ref3,2),value=_ref4[1];return(0,validation/* isEmpty */.xb)(value)}));isAllErrorsCleared&&(this.cellsErrorMap={})}}else(0,validation/* isEmpty */.xb)(cellsErrorMap[id])?cellsErrorMap[id]=[propName]:
// Don't have to push, if the entry is invalid again and again
isAlreadyInvalid||cellsErrorMap[id].push(propName)},clearRowError:function(id){var cellsErrorMap=this.cellsErrorMap;(0,validation/* isEmpty */.xb)(id)||(cellsErrorMap[id]=[],delete cellsErrorMap[id])},triggerValidate:function(props,callback){var _step,rows=props.rows,hotTableSettingsData=this.hotTableSettingsData,hotTableData=this.hotTableData,cellsErrorMap=this.cellsErrorMap,pasteDataMap=this.pasteDataMap,_ref5=hotTableSettingsData||{},columns=_ref5.columns,uniqueDataKey=_ref5.uniqueDataKey,_ref6=this.getHotTableInstance()||{},hotInstance=_ref6.hotInstance,_iterator=(0,createForOfIteratorHelper/* default */.Z)(rows);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step2,row=_step.value,_iterator2=(0,createForOfIteratorHelper/* default */.Z)(columns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var column=_step2.value,required=column.required,validateFn=column.validateFn,data=column.data,cellType=column.cellType,rowData=hotTableData[row]||{},id=(0,validation/* isEmpty */.xb)(rowData)?null:rowData[uniqueDataKey],dataFromPasteMap=pasteDataMap[id]?pasteDataMap[id][data]:null,cellValue=dataFromPasteMap||this.$getProperty(rowData,data,null)||{},isValidEntry=!0;required&&!(0,validation/* isEmpty */.xb)(validateFn)&&(isValidEntry=validateFn({cellValue:cellValue,cellType:cellType,skipRowValidation:!0}));var isAlreadyInvalid=(cellsErrorMap[id]||[]).includes(data);isAlreadyInvalid||this.pushOrRemoveError({isValidEntry:isValidEntry,isAlreadyInvalid:isAlreadyInvalid,id:id,propName:data})}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}}catch(err){_iterator.e(err)}finally{_iterator.f()}(0,validation/* isEmpty */.xb)(cellsErrorMap)||hotInstance.render(),callback((0,validation/* isEmpty */.xb)(cellsErrorMap))},onEnumIconClick:function(rowIndex){this.showEnumInputWizard&&this.showEnumInputWizard(rowIndex)},_showSetInputValues:function(prop){return this.showSetInputValues(prop)}}},newcoms_HotTableWrappervue_type_script_lang_js=HotTableWrappervue_type_script_lang_js,HotTableWrapper_component=(0,componentNormalizer/* default */.Z)(newcoms_HotTableWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,HotTableWrapper=HotTableWrapper_component.exports},
/***/754125:
/***/function(module,__unused_webpack_exports,__webpack_require__){var map={"./af":702525,"./af.js":702525,"./ar":689102,"./ar-dz":463778,"./ar-dz.js":463778,"./ar-kw":410960,"./ar-kw.js":410960,"./ar-ly":281490,"./ar-ly.js":281490,"./ar-ma":985507,"./ar-ma.js":985507,"./ar-sa":224042,"./ar-sa.js":224042,"./ar-tn":191523,"./ar-tn.js":191523,"./ar.js":689102,"./az":938365,"./az.js":938365,"./be":544860,"./be.js":544860,"./bg":709904,"./bg.js":709904,"./bm":660952,"./bm.js":660952,"./bn":709807,"./bn.js":709807,"./bo":858437,"./bo.js":858437,"./br":784557,"./br.js":784557,"./bs":979332,"./bs.js":979332,"./ca":493667,"./ca.js":493667,"./cs":276860,"./cs.js":276860,"./cv":515427,"./cv.js":515427,"./cy":158863,"./cy.js":158863,"./da":513520,"./da.js":513520,"./de":112111,"./de-at":30464,"./de-at.js":30464,"./de-ch":750701,"./de-ch.js":750701,"./de.js":112111,"./dv":494438,"./dv.js":494438,"./el":33121,"./el.js":33121,"./en-au":849197,"./en-au.js":849197,"./en-ca":753885,"./en-ca.js":753885,"./en-gb":551914,"./en-gb.js":551914,"./en-ie":880938,"./en-ie.js":880938,"./en-nz":619722,"./en-nz.js":619722,"./eo":742783,"./eo.js":742783,"./es":56820,"./es-do":559651,"./es-do.js":559651,"./es-us":146018,"./es-us.js":146018,"./es.js":56820,"./et":818686,"./et.js":818686,"./eu":831323,"./eu.js":831323,"./fa":261885,"./fa.js":261885,"./fi":263741,"./fi.js":263741,"./fo":219961,"./fo.js":219961,"./fr":802800,"./fr-ca":388121,"./fr-ca.js":388121,"./fr-ch":427979,"./fr-ch.js":427979,"./fr.js":802800,"./fy":428930,"./fy.js":428930,"./gd":695513,"./gd.js":695513,"./gl":224485,"./gl.js":224485,"./gom-latn":703878,"./gom-latn.js":703878,"./gu":25435,"./gu.js":25435,"./he":862825,"./he.js":862825,"./hi":727282,"./hi.js":727282,"./hr":402438,"./hr.js":402438,"./hu":591310,"./hu.js":591310,"./hy-am":614794,"./hy-am.js":614794,"./id":108761,"./id.js":108761,"./is":256593,"./is.js":256593,"./it":272196,"./it.js":272196,"./ja":812645,"./ja.js":812645,"./jv":471869,"./jv.js":471869,"./ka":174093,"./ka.js":174093,"./kk":919794,"./kk.js":919794,"./km":792637,"./km.js":792637,"./kn":828684,"./kn.js":828684,"./ko":94565,"./ko.js":94565,"./ky":465606,"./ky.js":465606,"./lb":472027,"./lb.js":472027,"./lo":280366,"./lo.js":280366,"./lt":327311,"./lt.js":327311,"./lv":531851,"./lv.js":531851,"./me":952700,"./me.js":952700,"./mi":673575,"./mi.js":673575,"./mk":195509,"./mk.js":195509,"./ml":429866,"./ml.js":429866,"./mr":713798,"./mr.js":713798,"./ms":526848,"./ms-my":701212,"./ms-my.js":701212,"./ms.js":526848,"./mt":863181,"./mt.js":863181,"./my":63977,"./my.js":63977,"./nb":47248,"./nb.js":47248,"./ne":891859,"./ne.js":891859,"./nl":127058,"./nl-be":66901,"./nl-be.js":66901,"./nl.js":127058,"./nn":561748,"./nn.js":561748,"./pa-in":634266,"./pa-in.js":634266,"./pl":79581,"./pl.js":79581,"./pt":687410,"./pt-br":906114,"./pt-br.js":906114,"./pt.js":687410,"./ro":138295,"./ro.js":138295,"./ru":539862,"./ru.js":539862,"./sd":59548,"./sd.js":59548,"./se":293236,"./se.js":293236,"./si":340289,"./si.js":340289,"./sk":658339,"./sk.js":658339,"./sl":574170,"./sl.js":574170,"./sq":615316,"./sq.js":615316,"./sr":668791,"./sr-cyrl":447630,"./sr-cyrl.js":447630,"./sr.js":668791,"./ss":65773,"./ss.js":65773,"./sv":731159,"./sv.js":731159,"./sw":422329,"./sw.js":422329,"./ta":267054,"./ta.js":267054,"./te":971280,"./te.js":971280,"./tet":154120,"./tet.js":154120,"./th":254679,"./th.js":254679,"./tl-ph":63270,"./tl-ph.js":63270,"./tlh":845386,"./tlh.js":845386,"./tr":664669,"./tr.js":664669,"./tzl":691434,"./tzl.js":691434,"./tzm":57217,"./tzm-latn":547665,"./tzm-latn.js":547665,"./tzm.js":57217,"./uk":969596,"./uk.js":969596,"./ur":985133,"./ur.js":985133,"./uz":349456,"./uz-latn":978737,"./uz-latn.js":978737,"./uz.js":349456,"./vi":905577,"./vi.js":905577,"./x-pseudo":464564,"./x-pseudo.js":464564,"./yo":68854,"./yo.js":68854,"./zh-cn":795817,"./zh-cn.js":795817,"./zh-hk":266634,"./zh-hk.js":266634,"./zh-tw":749292,"./zh-tw.js":749292};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=754125},
/***/567835:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
// Module
var code='<svg width="17" height="11" viewBox="0 0 17 11" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" stroke-linecap="round"><g id="Approval-Task-Page-Copy" transform="translate(-1224 -105)" stroke="#333" stroke-width="1.8"><g id="Filter" transform="translate(1225 105)"><path d="M.5 1.5h14" id="Line-11"/><path d="M.5 5.5H12" id="Line-11-Copy"/><path d="M.5 9.5h8" id="Line-11-Copy-2"/></g></g></g></svg>';
// Exports
/* harmony default export */__webpack_exports__["default"]=code},
/***/271741:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);
// Module
var code='<svg width="512" height="512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g transform="translate(32 .5)" fill="currentcolor" fill-rule="nonzero" id="lookup" stroke="none" stroke-width="1"><path d="M183.466 480.932c0 10.704-8.71 15.247-19.492 15.247H78.082C20.151 496.179 0 480.932 0 418.65V77.528C0 17.254 15.553 0 78.082 0h239.999c62.999 0 78.082 14.659 78.082 77.528v185.098c0 10.705-4.305 20.37-15.083 20.37-10.782 0-14.915-9.665-14.915-20.37V77.528c0-38.847-5.615-47.576-48.084-47.576H78.082c-39.68 0-47.917 13.097-47.917 47.576V418.65c0 40.768 6.732 47.518 47.917 47.518h85.892c10.782 0 19.492 4.058 19.492 14.763z" id="Path"/><path d="M298.56 116.292H97.497c-10.782 0-19.52 6.637-19.52 14.827 0 8.19 8.738 14.828 19.52 14.828H298.56c10.78 0 19.522-6.638 19.522-14.828s-8.743-14.827-19.522-14.827zm19.522 92.355c0-8.19-8.744-14.827-19.523-14.827H97.498c-10.782 0-19.52 6.637-19.52 14.827 0 8.19 8.738 14.827 19.52 14.827H298.56c10.78 0 19.522-6.637 19.522-14.827zm-220.584 62.7c-10.783 0-19.522 6.639-19.522 14.828 0 8.19 8.739 14.827 19.52 14.827h102.592c10.782 0 19.52-6.637 19.52-14.827 0-8.19-8.74-14.827-19.52-14.827H97.497z" id="Shape"/><path d="M313.307 293.274c31.684 0 62.96 12.212 92.762 35.826a230.97 230.97 0 0111.047 9.343c13.134 11.819 22.4 22.164 33.691 36.212l.773.963c.603.753 1.29 1.656 2.058 2.693l.897 1.222.937 1.295 1.133 1.59c8.391 11.835 8.391 27.68.026 39.48l-1.116 1.57c-1.147 1.6-2.36 3.25-3.376 4.56l-.558.709-1.538 1.914c-10.94 13.558-20.096 23.715-32.938 35.267a231.043 231.043 0 01-11.036 9.333c-29.8 23.615-61.078 35.827-92.762 35.827-31.683 0-62.96-12.211-92.761-35.826a230.993 230.993 0 01-11.047-9.343c-12.837-11.55-21.989-21.705-32.928-35.264l-1.54-1.914-.466-.592a121.78 121.78 0 01-2.179-2.9l-.745-1.024c-.288-.398-.569-.789-.841-1.17l-.792-1.113a34.168 34.168 0 01-.003-39.513l.802-1.126.412-.575.859-1.187.899-1.225a91.05 91.05 0 012.059-2.693l.792-.988c14.496-18.03 27.043-31.52 44.717-45.524 29.801-23.615 61.079-35.827 92.762-35.827zm0 29.8c-24.536 0-49.45 9.727-74.255 29.383-15.22 12.06-26.349 23.94-39.232 39.888l-1.671 2.08-.324.417c-.743.966-1.739 2.33-2.78 3.786l-.725 1.02a4.37 4.37 0 00.002 5.056l1.089 1.526c.899 1.251 1.757 2.42 2.414 3.276l.473.605 1.479 1.84c10.016 12.41 18.255 21.549 29.654 31.806a201.246 201.246 0 009.621 8.139c24.806 19.655 49.72 29.383 74.255 29.383 24.536 0 49.45-9.728 74.255-29.384a201.302 201.302 0 009.613-8.13c11.675-10.504 20.036-19.834 30.372-32.69l.911-1.14.34-.438c.664-.867 1.54-2.06 2.385-3.236l1.112-1.562a4.368 4.368 0 00-.01-5.06l-.931-1.309c-1.171-1.633-2.325-3.2-3.036-4.087l-.744-.927-1.54-1.908c-9.667-11.92-17.758-20.832-28.85-30.813a201.224 201.224 0 00-9.622-8.138c-24.806-19.656-49.719-29.383-74.255-29.383z" id="Path"/><path d="M313.6 365.35c-16.497 0-29.867 13.276-29.867 29.655 0 16.378 13.37 29.654 29.867 29.654s29.867-13.276 29.867-29.654c0-16.379-13.37-29.654-29.867-29.654z" id="Path"/></g></svg>';
// Exports
/* harmony default export */__webpack_exports__["default"]=code}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/76422.js.map