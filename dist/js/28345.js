(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[28345,38300,51201],{
/***/297157:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ErrorBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ErrorBanner.vue?vue&type=template&id=3d9e5288
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasError?_c("div",{staticClass:"error-block",attrs:{id:"error"}},[_c("p",{staticClass:"error-txt"},[_c("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(_vm.errorMessage?_vm.errorMessage:"Please fill all mandatory fields.")+" ")]),_c("i",{staticClass:"el-icon-close error-close-icon",on:{click:_vm.closeBanner}})]):_vm._e()])},staticRenderFns=[],ErrorBannervue_type_script_lang_js={props:["error","errorMessage"],computed:{hasError:{get:function(){return this.error},set:function(value){this.$emit("update:error",value)}}},methods:{closeBanner:function(){this.hasError=!1,this.$emit("update:errorMessage","")}}},components_ErrorBannervue_type_script_lang_js=ErrorBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ErrorBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ErrorBanner=component.exports},
/***/350367:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FUploadPhotos}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FUploadPhotos.vue?vue&type=template&id=5a0f9682
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"upload-photos-dialog fc-dialog-center-container",attrs:{title:"Upload Photos",visible:_vm.showDialog,"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event},"before-close":_vm.closeDialog}},[_vm.showDialog?_c("el-upload",{attrs:{multiple:"","list-type":"picture-card","file-list":_vm.photos,action:"",accept:"image/*","http-request":_vm.onUpload,"on-success":_vm.onUploadSuccess,"on-error":_vm.onError,"on-remove":_vm.onRemove}},[_c("i",{staticClass:"el-icon-plus"})]):_vm._e(),_c("span",{staticClass:"dialog-footer modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.done}},[_vm._v("Done")])],1)],1)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),eventBus=__webpack_require__(398011),FUploadPhotosvue_type_script_lang_js={props:["module","record","list"],data:function(){return{photos:[],showDialog:!1,isChanged:!1}},methods:{open:function(){this.photos=(0,validation/* isEmpty */.xb)(this.list)?[]:this.list,this.showDialog=!0},onUpload:function(_ref){var file=_ref.file,data=(_ref.onError,{parentId:this.record.id,module:this.module}),formData=new FormData;for(var key in formData.append("file",file,file.name),data)this.$helpers.setFormData(key,data[key],formData);return this.$http.post("v2/photos/upload",formData)},onUploadSuccess:function(response){var _response$data=response.data,responseCode=_response$data.responseCode,result=_response$data.result;0===responseCode&&(this.list.push(result.photos[0]),this.isChanged=!0)},onError:function(){this.$message.error(this.$t("setup.users_management.Invalid_image"))},onRemove:function(file){var _this=this;this.$http.post("/v2/photos/delete",{id:file.id,photoId:file.photoId,module:this.module,parentId:this.record.id}).then((function(response){if(0===response.data.responseCode){var list=(0,toConsumableArray/* default */.Z)(_this.list),index=list.findIndex((function(f){return f.id===file.id}));list.splice(index,1),_this.$emit("updatePhotos",list),_this.isChanged=!0}})).catch((function(){}))},done:function(){this.showDialog=!1,this.photos=[],this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1)},closeDialog:function(){this.isChanged&&(eventBus/* eventBus */.Y.$emit("refreshDetails"),this.isChanged=!1),this.showDialog=!1}}},components_FUploadPhotosvue_type_script_lang_js=FUploadPhotosvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FUploadPhotosvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FUploadPhotos=component.exports},
/***/747579:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewOperatingHour}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/NewOperatingHour.vue?vue&type=template&id=437b8bc5
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("error-banner",{attrs:{error:_vm.error,errorMessage:_vm.errorText},on:{"update:error":function($event){_vm.error=$event},"update:errorMessage":function($event){_vm.errorText=$event},"update:error-message":function($event){_vm.errorText=$event}}}),_c("div",{attrs:{id:"newworkordercategory"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common.wo_report.new_operating_hour"):_vm.$t("common.wo_report.edit_operating_hour"))+" ")])])]),_c("div",{staticClass:"new-body-modal"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("common._common.enter_the_name")},model:{value:_vm.name,callback:function($$v){_vm.name=$$v},expression:"name"}})],1)],1),_c("el-row",{staticClass:"mT20",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.operating_hour_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_operating_hour_type")},model:{value:_vm.businessHourType,callback:function($$v){_vm.businessHourType=$$v},expression:"businessHourType"}},[_c("el-option",{attrs:{label:_vm.$t("common.date_picker.24_hours_7_days"),value:"DAYS_24_7"}}),_c("el-option",{attrs:{label:_vm.$t("common.date_picker.24_hours_5_days"),value:"DAYS_24_5"}}),_c("el-option",{attrs:{label:_vm.$t("common._common.custom_hours"),value:"CUSTOM"}})],1)],1)],1),"DAYS_24_7"!==_vm.businessHourType?_c("div",["CUSTOM"===_vm.businessHourType?_c("div",[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"setup-input-block mT20"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.custom_hour_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_custom_hour_type")},model:{value:_vm.customHourType,callback:function($$v){_vm.customHourType=$$v},expression:"customHourType"}},[_c("el-option",{attrs:{label:_vm.$t("common._common.same_timing_all_day"),value:"SAME_TIMING_ALLDAY"}}),_c("el-option",{attrs:{label:_vm.$t("common._common.different_timing_all_day"),value:"DIFFERENT_TIMING_ALLDAY"}})],1)],1)]),_c("el-col",{attrs:{span:12}},["SAME_TIMING_ALLDAY"===_vm.customHourType?_c("div",[_c("div",{staticClass:"setup-input-block mT20"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.timing"))+" ")]),_c("el-row",{staticClass:"operating-hours-checkbox"},[_c("el-col",{attrs:{span:12}},[_c("el-time-select",{staticClass:"width110px",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.same_starttime,callback:function($$v){_vm.same_starttime=$$v},expression:"same_starttime"}})],1),_c("el-col",{staticClass:"pL10",attrs:{span:12}},[_c("el-time-select",{staticClass:"width110px",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.products.to")},model:{value:_vm.same_endtime,callback:function($$v){_vm.same_endtime=$$v},expression:"same_endtime"}})],1)],1)],1)]):_vm._e()])],1)],1):_vm._e(),_c("div",{staticClass:"setup-input-block mT30"},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.operating_days"))+" ")]),_c("el-checkbox-group",{staticClass:"mT10 operating-hours-checkbox",attrs:{min:1,max:7},model:{value:_vm.operatingDaysList,callback:function($$v){_vm.operatingDaysList=$$v},expression:"operatingDaysList"}},[_c("el-checkbox",{staticClass:"mB20",attrs:{label:"1"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.monday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.mon_starttime,callback:function($$v){_vm.mon_starttime=$$v},expression:"mon_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.mon_endtime,callback:function($$v){_vm.mon_endtime=$$v},expression:"mon_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"2"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.tuesday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.tue_starttime,callback:function($$v){_vm.tue_starttime=$$v},expression:"tue_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.tue_endtime,callback:function($$v){_vm.tue_endtime=$$v},expression:"tue_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"3"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.wednesday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.wed_starttime,callback:function($$v){_vm.wed_starttime=$$v},expression:"wed_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.wed_endtime,callback:function($$v){_vm.wed_endtime=$$v},expression:"wed_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"4"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.thursday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.thu_starttime,callback:function($$v){_vm.thu_starttime=$$v},expression:"thu_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.thu_endtime,callback:function($$v){_vm.thu_endtime=$$v},expression:"thu_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"5"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.friday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.fri_starttime,callback:function($$v){_vm.fri_starttime=$$v},expression:"fri_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.fri_endtime,callback:function($$v){_vm.fri_endtime=$$v},expression:"fri_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"6"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(" "+_vm._s(_vm.$t("common._common.saturday"))+" ")]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.sat_starttime,callback:function($$v){_vm.sat_starttime=$$v},expression:"sat_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.sat_endtime,callback:function($$v){_vm.sat_endtime=$$v},expression:"sat_endtime"}})],1):_vm._e()])]),_c("br"),_c("el-checkbox",{staticClass:"mB20",attrs:{label:"7"}},[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"width75px"},[_vm._v(_vm._s(_vm.$t("common._common.sunday")))]),"CUSTOM"===_vm.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===_vm.customHourType?_c("div",{staticClass:"mL20"},[_c("el-time-select",{staticClass:"fc-input-full-border-h35 mR10 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common._common.from")},model:{value:_vm.sun_starttime,callback:function($$v){_vm.sun_starttime=$$v},expression:"sun_starttime"}}),_c("el-time-select",{staticClass:"fc-input-full-border-h35 ",attrs:{"picker-options":{start:"00:00",step:"00:15",end:"23:45"},placeholder:_vm.$t("common.wo_report.to")},model:{value:_vm.sun_endtime,callback:function($$v){_vm.sun_endtime=$$v},expression:"sun_endtime"}})],1):_vm._e()])]),_c("br")],1)],1)]):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.operatingHourValueSaving},on:{click:_vm.saveOperatingHour}},[_vm._v(_vm._s(_vm.operatingHourValueSaving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)])],1)},staticRenderFns=[],ErrorBanner=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(212826),__webpack_require__(670560),__webpack_require__(297157)),NewOperatingHourvue_type_script_lang_js={props:["businessHour","isNew","visibility","resourceid"],components:{ErrorBanner:ErrorBanner/* default */.Z},data:function(){return{name:"",businessHourType:"",customHourType:"",same_starttime:"",same_endtime:"",mon_starttime:"",mon_endtime:"",tue_starttime:"",tue_endtime:"",wed_starttime:"",wed_endtime:"",thu_starttime:"",thu_endtime:"",fri_starttime:"",fri_endtime:"",sat_starttime:"",sat_endtime:"",sun_starttime:"",sun_endtime:"",operatingDaysList:[],singleDaybusinessHoursList:[],error:!1,errorText:"",operatingHourValueSaving:!1}},mounted:function(){this.initOperatingHour()},methods:{initOperatingHour:function(){if(this.isNew)this.name="",this.businessHourType="DAYS_24_7",this.customHourType="SAME_TIMING_ALLDAY",this.same_starttime="",this.same_endtime="",this.mon_starttime="",this.mon_endtime="",this.tue_starttime="",this.tue_endtime="",this.wed_starttime="",this.wed_endtime="",this.thu_starttime="",this.thu_endtime="",this.fri_starttime="",this.fri_endtime="",this.sat_starttime="",this.sat_endtime="",this.sun_starttime="",this.sun_endtime="",this.operatingDaysList=["1","2","3","4","5"],this.singleDaybusinessHoursList=[];else{for(var i in this.name=this.businessHour.value.name,this.businessHourType=this.businessHour.value.businessHourTypeVal,this.customHourType=this.businessHour.value.customHourTypeVal,null===this.customHourType&&(this.customHourType="SAME_TIMING_ALLDAY"),this.singleDaybusinessHoursList=this.businessHour.value.singleDaybusinessHoursList,"DAYS_24_7"===this.businessHourType&&(this.operatingDaysList=["1","2","3","4","5"]),this.singleDaybusinessHoursList)this.singleDaybusinessHoursList[i].dayOfWeek=this.singleDaybusinessHoursList[i].dayOfWeek.toString(),this.operatingDaysList.push(this.singleDaybusinessHoursList[i].dayOfWeek),"1"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.mon_starttime=this.singleDaybusinessHoursList[i].startTime,this.mon_endtime=this.singleDaybusinessHoursList[i].endTime):"2"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.tue_starttime=this.singleDaybusinessHoursList[i].startTime,this.tue_endtime=this.singleDaybusinessHoursList[i].endTime):"3"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.wed_starttime=this.singleDaybusinessHoursList[i].startTime,this.wed_endtime=this.singleDaybusinessHoursList[i].endTime):"4"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.thu_starttime=this.singleDaybusinessHoursList[i].startTime,this.thu_endtime=this.singleDaybusinessHoursList[i].endTime):"5"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.fri_starttime=this.singleDaybusinessHoursList[i].startTime,this.fri_endtime=this.singleDaybusinessHoursList[i].endTime):"6"===this.singleDaybusinessHoursList[i].dayOfWeek?(this.sat_starttime=this.singleDaybusinessHoursList[i].startTime,this.sat_endtime=this.singleDaybusinessHoursList[i].endTime):"7"===this.singleDaybusinessHoursList[i].dayOfWeek&&(this.sun_starttime=this.singleDaybusinessHoursList[i].startTime,this.sun_endtime=this.singleDaybusinessHoursList[i].endTime);"CUSTOM"===this.businessHourType&&"SAME_TIMING_ALLDAY"===this.customHourType&&this.singleDaybusinessHoursList.length>0&&(this.same_starttime=this.singleDaybusinessHoursList[0].startTime,this.same_endtime=this.singleDaybusinessHoursList[0].endTime)}},validation:function(){return this.error=!1,this.errorText="",null===this.name||""===this.name?(this.errorText=this.$t("common.header.please_enter_name"),this.error=!0,!1):"DAYS_24_5"===this.businessHourType&&5!=this.operatingDaysList.length?(this.errorText=this.$t("common._common.please_choose_five_operating_days"),this.error=!0,!1):"CUSTOM"!==this.businessHourType||"SAME_TIMING_ALLDAY"!==this.customHourType||null!==this.same_starttime&&""!==this.same_starttime&&null!==this.same_endtime&&""!==this.same_endtime?"CUSTOM"===this.businessHourType&&"DIFFERENT_TIMING_ALLDAY"===this.customHourType&&(this.operatingDaysList.indexOf("1")>-1&&(null===this.mon_starttime||""===this.mon_starttime||null===this.mon_endtime||""===this.mon_endtime)||this.operatingDaysList.indexOf("2")>-1&&(null===this.tue_starttime||""===this.tue_starttime||null===this.tue_endtime||""===this.tue_endtime)||this.operatingDaysList.indexOf("3")>-1&&(null===this.wed_starttime||""===this.wed_starttime||null===this.wed_endtime||""===this.wed_endtime)||this.operatingDaysList.indexOf("4")>-1&&(null===this.thu_starttime||""===this.thu_starttime||null===this.thu_endtime||""===this.thu_endtime)||this.operatingDaysList.indexOf("5")>-1&&(null===this.fri_starttime||""===this.fri_starttime||null===this.fri_endtime||""===this.fri_endtime)||this.operatingDaysList.indexOf("6")>-1&&(null===this.sat_starttime||""===this.sat_starttime||null===this.sat_endtime||""===this.sat_endtime)||this.operatingDaysList.indexOf("7")>-1&&(null===this.sun_starttime||""===this.sun_starttime||null===this.sun_endtime||""===this.sun_endtime))?(this.errorText=this.$t("common._common.please_choose_timing_selected_operating_days"),this.error=!0,!1):(this.errorText="",void(this.error=!1)):(this.errorText=this.$t("common._common.please_choose_timing"),this.error=!0,!1)},addOperatingHour:function(){var _this=this;if(this.validation(),!this.error){this.preparingDatasToSave();var resourceid=this.resourceid,businessHour={name:this.name,businessHourType:this.businessHourType,customHourType:this.customHourType,singleDaybusinessHoursList:this.singleDaybusinessHoursList};this.$http.post("/v2/businesshours/add",{businessHour:businessHour,resourceid:resourceid}).then((function(response){
// this.$account.data.operatingHour.push(response.data.result.businessHour);
_this.$message.success(_this.$t("common.wo_report.operating_hour_saved_success")),businessHour.businessHourTypeVal=businessHour.businessHourType,businessHour.customHourTypeVal=businessHour.customHourType,businessHour.id=response.data.result.businessHour.id,void 0!==resourceid?_this.$emit("businessHourChange",businessHour):_this.$emit("add",businessHour),_this.$emit("update:visibility",!1)})).catch((function(){_this.$message.error(_this.$t("common._common.failed_to_save_operating_hour")),_this.$emit("update:visibility",!1)}))}},editOperatingHour:function(){var _this2=this;if(this.validation(),!this.error){this.preparingDatasToSave();var businessHour=Object.assign({},this.businessHour.value);businessHour.name=this.name,businessHour.businessHourType=this.businessHourType,businessHour.customHourType=this.customHourType,businessHour.businessHourTypeVal=businessHour.businessHourType,businessHour.customHourTypeVal=businessHour.customHourType,businessHour.singleDaybusinessHoursList=this.singleDaybusinessHoursList,this.$http.post("/v2/businesshours/edit",{businessHour:businessHour}).then((function(){_this2.$emit("edit",businessHour),_this2.$message.success(_this2.$t("common._common.operating_hour_updated_success")),_this2.$emit("update:visibility",!1)})).catch((function(){_this2.$message.success(_this2.$t("common._common.failed_to_update_operating_hour")),_this2.$emit("update:visibility",!1)}))}},saveOperatingHour:function(){this.isNew?this.addOperatingHour():this.editOperatingHour()},closeDialog:function(){this.$emit("close"),this.$emit("update:visibility",!1)},clearDifferentTimingValues:function(){this.mon_starttime=null,this.mon_endtime=null,this.tue_starttime=null,this.tue_endtime=null,this.wed_starttime=null,this.wed_endtime=null,this.thu_starttime=null,this.thu_endtime=null,this.fri_starttime=null,this.fri_endtime=null,this.sat_starttime=null,this.sat_endtime=null,this.sun_starttime=null,this.sun_endtime=null},preparingDatasToSave:function(){if("DAYS_24_7"===this.businessHourType)this.customHourType=null,this.same_starttime=null,this.same_endtime=null,this.operatingDaysList=null,this.clearDifferentTimingValues(),this.singleDaybusinessHoursList=null;else if("DAYS_24_5"===this.businessHourType)for(var i in this.customHourType=null,this.same_starttime=null,this.same_endtime=null,this.clearDifferentTimingValues(),this.singleDaybusinessHoursList=[],this.operatingDaysList){var singleDayBusinessHour={dayOfWeek:"",startTime:"",endTime:""};singleDayBusinessHour.dayOfWeek=this.operatingDaysList[i],this.singleDaybusinessHoursList.push(singleDayBusinessHour)}else if("CUSTOM"===this.businessHourType)for(var j in"SAME_TIMING_ALLDAY"===this.customHourType?(this.mon_starttime=this.same_starttime,this.mon_endtime=this.same_endtime,this.tue_starttime=this.same_starttime,this.tue_endtime=this.same_endtime,this.wed_starttime=this.same_starttime,this.wed_endtime=this.same_endtime,this.thu_starttime=this.same_starttime,this.thu_endtime=this.same_endtime,this.fri_starttime=this.same_starttime,this.fri_endtime=this.same_endtime,this.sat_starttime=this.same_starttime,this.sat_endtime=this.same_endtime,this.sun_starttime=this.same_starttime,this.sun_endtime=this.same_endtime):(this.same_starttime=null,this.same_endtime=null),this.singleDaybusinessHoursList=[],this.operatingDaysList){var singleDayBusinessHours={dayOfWeek:"",startTime:"",endTime:""};singleDayBusinessHours.dayOfWeek=this.operatingDaysList[j],singleDayBusinessHours.startTime=this.getTimeByDayOfWeek("start",singleDayBusinessHours.dayOfWeek),singleDayBusinessHours.endTime=this.getTimeByDayOfWeek("end",singleDayBusinessHours.dayOfWeek),this.singleDaybusinessHoursList.push(singleDayBusinessHours)}},getTimeByDayOfWeek:function(type,dayofweek){if("start"===type){if("1"===dayofweek)return this.mon_starttime;if("2"===dayofweek)return this.tue_starttime;if("3"===dayofweek)return this.wed_starttime;if("4"===dayofweek)return this.thu_starttime;if("5"===dayofweek)return this.fri_starttime;if("6"===dayofweek)return this.sat_starttime;if("7"===dayofweek)return this.sun_starttime}else if("end"===type){if("1"===dayofweek)return this.mon_endtime;if("2"===dayofweek)return this.tue_endtime;if("3"===dayofweek)return this.wed_endtime;if("4"===dayofweek)return this.thu_endtime;if("5"===dayofweek)return this.fri_endtime;if("6"===dayofweek)return this.sat_endtime;if("7"===dayofweek)return this.sun_endtime}}}},components_NewOperatingHourvue_type_script_lang_js=NewOperatingHourvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_NewOperatingHourvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewOperatingHour=component.exports},
/***/751201:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Asset}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/Asset.vue?vue&type=template&id=30a11ac8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.asset?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position cursor-pointer"},[!_vm.showSlide||"undefined"!==typeof _vm.disableSlide&&!1!==_vm.disableSlide?_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl}}):_vm._e()]):_c("div",{staticClass:"q-item-side q-item-side-left q-item-section relative",class:_vm.sizeClass},[_c("el-carousel",{staticClass:"fc-avatar-carousel",attrs:{trigger:"click",autoplay:!1,"indicator-position":"none"}},[_vm._l(_vm.photos,(function(photo,index){return[photo.url?_c("el-carousel-item",{key:index},[_c("img",{staticClass:"fc-avatar-square",class:_vm.sizeClass,attrs:{target:"_blank",src:photo.url},on:{click:function($event){return _vm.openPhotoUrl(photo.originalUrl)}}})]):_vm._e()]}))],2)],1),_vm.showName?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(_vm._s(_vm.asset.name))])])]):_vm._e(),!_vm.showUpload||"undefined"!==typeof _vm.disableUpload&&!1!==_vm.disableUpload?_vm._e():_c("div",[_c("span",{staticClass:"upload-space-photos pointer",on:{click:_vm.showUploadPhotoDialog}},[_c("i",{staticClass:"fa fa-camera",attrs:{"aria-hidden":"true"}})]),_c("f-upload-photos",{ref:"uploadDialog",attrs:{module:"assetphotos",list:_vm.photos,record:_vm.asset},on:{updatePhotos:function($event){return _vm.handleUpdate()}}})],1)])]):_vm._e()},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),createForOfIteratorHelper=__webpack_require__(566347),objectSpread2=__webpack_require__(595082),FUploadPhotos=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(350367)),vuex_esm=__webpack_require__(420629),validation=__webpack_require__(990260),api=__webpack_require__(32284),Assetvue_type_script_lang_js={props:["size","asset","name","hovercard","disableUpload","disableSlide"],data:function(){return{avatarUrl:null,sizeClass:"fc-avatar-"+this.size,hoverCardId:"spaceHoverCardId-"+this.asset.id,showName:"undefined"===typeof this.name||"true"===this.name,showHoverCard:"undefined"===typeof this.hovercard||"true"===this.hovercard,loadHoverCardData:!1,photosLoading:!0,photos:[],sliderEnabledSize:["shuge","huge","xhuge","widget"]}},components:{FUploadPhotos:FUploadPhotos/* default */.Z},mounted:function(){this.loadAvatarUrl()},created:function(){this.$store.dispatch("loadAssetType")},computed:(0,objectSpread2/* default */.Z)({showSlide:function(){if(this.photos&&this.photos.length){if(this.sliderEnabledSize.indexOf(this.size)>=0){var _step,allUrlNull=!0,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.photos);try{for(_iterator.s();!(_step=_iterator.n()).done;){var photo=_step.value;if(photo.url){allUrlNull=!1;break}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!allUrlNull}return!1}return!1},showUpload:function(){return this.sliderEnabledSize.indexOf(this.size)>=0}},(0,vuex_esm/* mapGetters */.Se)(["getAssetType"])),watch:{asset:function(){this.loadAvatarUrl()}},methods:{loadAvatarUrl:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var asset,size,sliderEnabledSize,disableSlide,_ref,avatarUrl,assetId,_yield$API$get,error,data,_ref2,_ref2$photos,photos,defaultAvatarUrl;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(asset=_this.asset,size=_this.size,sliderEnabledSize=_this.sliderEnabledSize,disableSlide=_this.disableSlide,_ref=asset||{},avatarUrl=_ref.avatarUrl,assetId=_ref.id,!(sliderEnabledSize.indexOf(size)>=0&&(!disableSlide||disableSlide&&"true"===disableSlide))){_context.next=12;break}if(!assetId){_context.next=12;break}return _this.photosLoading=!0,_context.next=7,api/* API */.bl.get("/photos/get?module=assetphotos&parentId=".concat(assetId));case 7:_yield$API$get=_context.sent,error=_yield$API$get.error,data=_yield$API$get.data,error||(_ref2=data||{},_ref2$photos=_ref2.photos,photos=void 0===_ref2$photos?[]:_ref2$photos,(0,validation/* isEmpty */.xb)(photos)||photos.forEach((function(photo){var _ref3=photo||{},url=_ref3.url;(0,validation/* isEmpty */.xb)(url)||(avatarUrl=url)})),_this.$set(_this,"photos",photos)),_this.photosLoading=!1;case 12:(0,validation/* isEmpty */.xb)(avatarUrl)?(defaultAvatarUrl=_this.getDefaultAvatar()||"",_this.$set(_this,"avatarUrl",defaultAvatarUrl)):_this.$set(_this,"avatarUrl",avatarUrl);case 13:case"end":return _context.stop()}}),_callee)})))()},handleUpdate:function(){this.loadAvatarUrl()},openPhotoUrl:function(url){window.open(url,"_blank")},getDefaultAvatar:function(){if(this.asset&&this.asset.type&&this.asset.type.id){var name=this.getAssetType(this.asset.type.id)?this.getAssetType(this.asset.type.id).name:"";return __webpack_require__("Plumbing Equipment"===name||"Equipment"===name?164065:"Furniture"===name?703659:"Vehicle"===name?916803:164065)}return __webpack_require__(164065)},loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1},showUploadPhotoDialog:function(){this.$refs.uploadDialog.open()}}},avatar_Assetvue_type_script_lang_js=Assetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(avatar_Assetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Asset=component.exports},
/***/728345:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AssetSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/common/AssetSummary.vue?vue&type=template&id=18559ef5&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"asset-summary-card"},[_c("div",{ref:"content-container",staticClass:"asset-details"},[_c("div",{staticClass:"flex width20"},[_c("asset-avatar",{attrs:{size:"widget",name:"false",asset:_vm.details}})],1),_c("div",{staticClass:"flex mT30 mL35 width70"},[_c("div",{staticClass:"setup-dialog60"},[_c("div",{staticClass:"d-flex f14 mB20 fc-black-com"},[_c("asset-location",{attrs:{asset:_vm.details}})],1),_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"f12 mR30 d-flex flex-direction-column"},[_c("span",{staticClass:"fc-blue-label mb5 mR10"},[_vm._v(_vm._s(_vm.$t("asset.assets.asset_category")))]),_c("span",{staticClass:"f14 fc-black-com"},[_vm._v(" "+_vm._s(_vm.getAssetCategoryDisplayName(_vm.details))+" ")]),_vm.getAssetParentCategory(_vm.details)?_c("span",{staticClass:"f11 fc-black-com pT5"},[_vm._v("( "+_vm._s(_vm.getAssetParentCategory(_vm.details))+" )")]):_vm._e()]),_c("div",{staticClass:"f12 d-flex flex-direction-column mL10"},[_c("span",{staticClass:"fc-blue-label mb5 mR10"},[_vm._v(_vm._s(_vm.$t("asset.assets.asset_type")))]),_c("span",{staticClass:"f14 fc-black-com"},[_vm._v(" "+_vm._s(_vm.getAssetTypeName(_vm.details))+" ")])])]),_c("div",{staticClass:"f13 mT30 d-flex flex-direction-column"},[_c("span",{staticClass:"fc-blue-label mb5 mR10"},[_vm._v(_vm._s(_vm.$t("asset.assets.asset_description")))]),_c("span",{staticClass:"f14 fc-black-com"},[_vm._v(" "+_vm._s(_vm.getAssetDescription)+" ")])])]),_vm.canShowOperatingHours?_c("div",{staticClass:"fc-border-left width40"},[_c("div",{staticClass:"f12 mR30 mL35 d-flex flex-direction-column"},[_c("div",{staticClass:"d-flex"},[_c("span",{staticClass:"fc-blue-label mB15 mR10"},[_vm._v(_vm._s(_vm.$t("asset.assets.operating_hours")))]),_vm.businessHour?_c("div",{staticClass:"fc-dark-blue4-12 pointer",on:{click:_vm.showOphoursChooser}},[_vm._v(" "+_vm._s(_vm.$t("asset.assets.change"))+" ")]):_vm._e()]),_c("operating-hours",{ref:"operating-hours-view",staticClass:"f14",attrs:{model:_vm.businessHour,changeBH:_vm.changeBH,resourceId:_vm.details.id,hideChangeBtn:_vm.businessHour,isAssetBh:!0},on:{"update:model":function($event){_vm.businessHour=$event}}})],1)]):_vm._e()])]),_vm.needsShowMore?_c("div",{staticClass:"text-center pT10 pB15 mR20 white-background"},[_c("a",{staticClass:"fc-link fc-link-animation text-capitalize letter-spacing0_3 f13",on:{click:function($event){return _vm.toggleVisibility()}}},[_vm._v(_vm._s(_vm.showMoreLinkText))])]):_vm._e()])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(990260)),Asset=__webpack_require__(751201),OperatingHoursView=__webpack_require__(604625),AssetLocationvue_type_template_id_47e4f6cb_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.canShowSpaceId?_c("div",{staticClass:"display-flex letter-spacing0_4"},[_c("inline-svg",{staticClass:"mR8 d-flex",attrs:{src:_vm.locations[_vm.locations.length-1].image,iconClass:"icon fc-color icon-lg"}}),_c("div",{staticClass:"d-flex flex-wrap"},[_vm._l(_vm.locations,(function(location){return[_c("span",{key:location.name,staticClass:"pointer",on:{click:function($event){return location.fn()}}},[_vm._v(_vm._s(location.name))]),_c("span",{key:location.name+"-seperator",staticClass:"pL10 pR10"},[_vm._v("/")])]})),_c("span",{staticClass:"text-fc-grey"},[_vm._v(_vm._s(_vm.asset.name))])],2)],1):_c("div",[_vm._v("---")])},AssetLocationvue_type_template_id_47e4f6cb_staticRenderFns=[],SpaceMixin=(__webpack_require__(670560),__webpack_require__(87171)),AssetLocationvue_type_script_lang_js={mixins:[SpaceMixin/* default */.Z],props:["asset"],created:function(){this.locationConstruction()},data:function(){return{locations:[]}},computed:{canShowSpaceId:function(){return!(0,validation/* isEmpty */.xb)(this.asset.space.id)}},methods:{locationConstruction:function(){var _this=this,_this$asset$space=this.asset.space,space=void 0===_this$asset$space?{}:_this$asset$space;if(!(0,validation/* isEmpty */.xb)(space)){var site=space.site,building=space.building,floor=space.floor,space1=space.space1,space2=space.space2,space3=space.space3,space4=space.space4,space5=space.space5;(0,validation/* isEmpty */.xb)(site)||(0,validation/* isEmpty */.xb)(site.name)||this.locations.push({fn:function(){_this.openSiteLink(space.siteId)},name:site.name,image:"svgs/site_icon"}),(0,validation/* isEmpty */.xb)(building)||(0,validation/* isEmpty */.xb)(building.name)||this.locations.push({fn:function(){_this.openBuildingLink(space.siteId,space.buildingId)},name:building.name,image:"svgs/building_icon_new"}),(0,validation/* isEmpty */.xb)(floor)||(0,validation/* isEmpty */.xb)(floor.name)||this.locations.push({fn:function(){_this.openFloorLink(space.siteId,space.floorId)},name:floor.name,image:"svgs/floor_icon_new"}),"SPACE"==space.spaceTypeEnum&&((0,validation/* isEmpty */.xb)(space1)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId1)},name:space1.name,image:"svgs/Space_icon_new"}),(0,validation/* isEmpty */.xb)(space2)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId2)},name:space2.name,image:"svgs/Space_icon_new"}),(0,validation/* isEmpty */.xb)(space3)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId3)},name:space3.name,image:"svgs/Space_icon_new"}),(0,validation/* isEmpty */.xb)(space4)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId4)},name:space4.name,image:"svgs/Space_icon_new"}),(0,validation/* isEmpty */.xb)(space5)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId5)},name:space5.name,image:"svgs/Space_icon_new"}),(0,validation/* isEmpty */.xb)(space)||this.locations.push({fn:function(){_this.openSpaceLink(space.siteId,space.spaceId)},name:space.name,image:"svgs/Space_icon_new"}))}}}},fields_AssetLocationvue_type_script_lang_js=AssetLocationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(fields_AssetLocationvue_type_script_lang_js,AssetLocationvue_type_template_id_47e4f6cb_render,AssetLocationvue_type_template_id_47e4f6cb_staticRenderFns,!1,null,null,null)
/* harmony default export */,AssetLocation=component.exports,vuex_esm=__webpack_require__(420629),AssetSummaryvue_type_script_lang_js={components:{AssetAvatar:Asset["default"],OperatingHours:OperatingHoursView/* default */.Z,AssetLocation:AssetLocation},props:["details","params"],data:function(){return{cardBodyStyle:{padding:"0px",height:"100%",display:"flex",flexDirection:"row"},needsShowMore:!1,isAllVisible:!1,canShowOperatingHours:!0,businessHoursList:[],businessHour:null}},created:function(){this.initCategory()},mounted:function(){this.details&&this.details.operatingHour&&this.getOperatingHours(),this.canShowMore()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({showMoreLinkText:function(){var isAllVisible=this.isAllVisible;return isAllVisible?this.$t("common._common.view_less"):this.$t("common._common.view_more")},layoutParams:function(){var $attrs=this.$attrs,_ref=$attrs||{},layoutParams=_ref.layoutParams;return layoutParams},currentHeight:function(){var $refs=this.$refs,_ref2=$refs["content-container"]||{},scrollHeight=_ref2.scrollHeight;return(0,validation/* isEmpty */.xb)(scrollHeight)?200:scrollHeight},getAssetDescription:function(){var details=this.details,_ref3=details||{},description=_ref3.description;return(0,validation/* isEmpty */.xb)(description)?this.$t("common._common.no_description"):description}},(0,vuex_esm/* mapState */.rn)({assetCategory:function(state){return state.assetCategory}})),(0,vuex_esm/* mapGetters */.Se)(["getAssetType","getAssetCategory"])),methods:{getOperatingHours:function(){var _this=this;return this.$http.get("/v2/businesshours/list").then((function(response){if(0===response.data.responseCode){var result=response.data.result,list=(0,validation/* isEmpty */.xb)(result.list)?[]:result.list;_this.businessHour=list.find((function(businessHour){return businessHour.id===_this.details.operatingHour}))}}))},toggleVisibility:function(){var _this2=this;this.isAllVisible=!this.isAllVisible;var isAllVisible=this.isAllVisible,currentHeight=this.currentHeight,$refs=this.$refs,layoutParams=this.layoutParams;isAllVisible?this.$nextTick((function(){_this2.resizeWidget({height:currentHeight+100,width:$refs["content-container"].scrollWidth})})):this.$nextTick((function(){return _this2.resizeWidget(layoutParams)}))},canShowMore:function(){var currentHeight=this.currentHeight;this.needsShowMore=currentHeight>230},resizeWidget:function(params){var $attrs=this.$attrs;return $attrs.resizeWidget(params)},changeBH:function(businesshour){this.businessHour=businesshour},showOphoursChooser:function(){this.$refs["operating-hours-view"].showOperatingHoursDialog=!0},getAssetCategoryDisplayName:function(data){var _ref4=data||{},category=_ref4.category,_ref5=category||{},id=_ref5.id,_ref6=this.getAssetCategory(id)||{},displayName=_ref6.displayName;return(0,validation/* isEmpty */.xb)(displayName)?"- - -":displayName},getAssetTypeName:function(data){var _ref7=data||{},type=_ref7.type,_ref8=type||{},id=_ref8.id,_ref9=this.getAssetType(id)||{},name=_ref9.name;return(0,validation/* isEmpty */.xb)(name)?"- - -":name},getAssetParentCategory:function(data){var _ref10=data||{},category=_ref10.category,_ref11=category||{},id=_ref11.id,_ref12=this.getAssetCategory(id)||{},parentCategoryId=_ref12.parentCategoryId;if(0!==parentCategoryId){var _this$assetCategory$f=this.assetCategory.find((function(assetCategory){return assetCategory.id===parentCategoryId})),displayName=_this$assetCategory$f.displayName;return(0,validation/* isEmpty */.xb)(displayName)?"- - -":displayName}},initCategory:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this3.$store.dispatch("loadAssetCategory");case 2:case"end":return _context.stop()}}),_callee)})))()}}},common_AssetSummaryvue_type_script_lang_js=AssetSummaryvue_type_script_lang_js,AssetSummary_component=(0,componentNormalizer/* default */.Z)(common_AssetSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,"18559ef5",null)
/* harmony default export */,AssetSummary=AssetSummary_component.exports},
/***/604625:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return OperatingHoursView}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/widget/OperatingHoursView.vue?vue&type=template&id=bba13fc8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.model&&_vm.model.id?"DAYS_24_7"===_vm.model.businessHourTypeVal?_c("div",[_vm._v(" "+_vm._s(_vm.$t("space.sites.mon_sun"))+": 24 "+_vm._s(_vm.$t("space.sites.hours"))+" ")]):"DAYS_24_5"===_vm.model.businessHourTypeVal?_c("div",_vm._l(_vm.model.singleDaybusinessHoursList,(function(operatingDays,index){return _c("div",{key:index},[_c("div",{staticClass:"pB10 text-left"},[_vm._v(" "+_vm._s(_vm.dayOfWeekMap.get(operatingDays.dayOfWeek.toString()))+": 24 "+_vm._s(_vm.$t("space.sites.hours"))+" ")])])})),0):"CUSTOM"===_vm.model.businessHourTypeVal?_c("div",_vm._l(_vm.model.singleDaybusinessHoursList,(function(operatingDays,index){return _c("div",{key:index},[_c("div",{staticClass:"pB10 text-left"},[_vm._v(" "+_vm._s(_vm.dayOfWeekMap.get(operatingDays.dayOfWeek.toString()))+": "+_vm._s(operatingDays.startTime)+" - "+_vm._s(operatingDays.endTime)+" ")])])})),0):_vm._e():_c("div",{staticClass:"no-operating-hours"},[_vm._v(" "+_vm._s(_vm.$t("asset.assets.no_operating_hours"))+" ")]),!_vm.hideChangeBtn&&(!_vm.isAssetBh&&_vm.$hasPermission("setup:GENERAL")||_vm.isAssetBh&&_vm.$hasPermission("asset:UPDATE"))?_c("div",{staticClass:"op-hrs-change pointer pT10",on:{click:function($event){_vm.showOperatingHoursDialog=!0}}},[_vm.model?_c("div",{staticClass:"fc-dark-blue4-12"},[_vm._v(" "+_vm._s(_vm.$t("space.sites.change_opertaing_hours"))+" ")]):_c("div",{staticClass:"fc-dark-blue4-12"},[_vm._v(" "+_vm._s(_vm.$t("space.sites.assign_opertaing_hours"))+" ")])]):_vm._e(),_vm.showOperatingHoursDialog?_c("operating-hour-chooser",{attrs:{showOperatingHourDialog:_vm.showOperatingHoursDialog,resourceid:_vm.resourceId,businessHour:_vm.model,isAssetBh:_vm.isAssetBh},on:{"update:showOperatingHourDialog":function($event){_vm.showOperatingHoursDialog=$event},"update:show-operating-hour-dialog":function($event){_vm.showOperatingHoursDialog=$event},businessHourChangeInChooser:_vm.onBHChange,"update:businessHour":function($event){_vm.model=$event},"update:business-hour":function($event){_vm.model=$event},closeOperatingHourChooser:function($event){_vm.showOperatingHoursDialog=!1}}}):_vm._e()],1)},staticRenderFns=[],OperatingHourChooservue_type_template_id_3bd88a3a_render=(__webpack_require__(456646),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showDialog?_c("new-operating-hour",{attrs:{isNew:!0,resourceid:_vm.resourceid,visibility:_vm.showDialog},on:{businessHourChange:_vm.changeBH,"update:visibility":function($event){_vm.showDialog=$event},close:_vm.handleclose}}):_vm._e(),_vm.showOperatingHourDialog?_c("el-dialog",{attrs:{visible:_vm.showOperatingHourDialog,title:_vm.$t("asset.operating_hours.operating_hours"),fullscreen:!1,open:"top","custom-class":"fc-dialog-center-container fc-dialog-center-body-p0 operating-hours-dialog","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.showOperatingHourDialog=$event}}},[_vm.showScheduleNotification?_c("div",{staticClass:"fc-alert-msg-info"},[_c("i",{staticClass:"fa fa-exclamation-triangle pR10",attrs:{"aria-hidden":"true"}}),_vm._v(" Out of Schedule alarm will be re-calculated with this operational hour for last one year. ")]):_vm._e(),_c("div",{attrs:{id:"operatinghourchooser"}},[_vm.resourceid?_c("div",{staticClass:"fc-dark-blue4-12 position-absolute pointer",staticStyle:{right:"70px",top:"22px"},on:{click:_vm.newOperatingHour}},[_vm._v(" "+_vm._s(_vm.$t("space.sites.add_operating_hour"))+" ")]):_vm._e(),_c("div",{staticClass:"clearboth operating-hour-dialog-scroll"},[_c("div",[_c("div",{staticClass:"col-lg-12 col-md-12"},[_c("table",{staticClass:"setting-list-view-table width100 setting-table-p0"},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text width200"},[_vm._v(" "+_vm._s(_vm.$t("common._common.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("asset.operating_hours.op_type"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("asset.operating_hours.custom_type"))+" ")])])]),0===_vm.businessHoursList.length?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" "+_vm._s(_vm.$t("asset.operating_hours.no_data"))+" ")])])]):_c("tbody",_vm._l(_vm.businessHoursList,(function(operatingHour,index){return _c("tr",{key:index,staticClass:"tablerow",class:{selectedrow:operatingHour.selected},on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(operatingHour)}}},[_c("td",{staticClass:"width200"},[_vm._v(" "+_vm._s(operatingHour.name)+" ")]),_c("td",[_vm._v(" "+_vm._s(_vm.businessHourtypeMap.get(operatingHour.businessHourTypeVal))+" ")]),_c("td",[_vm._v(" "+_vm._s(_vm.customHourtypeMap.get(operatingHour.customHourTypeVal))+" ")])])})),0)])])])]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleclose()}}},[_vm._v(_vm._s(_vm.$t("space.sites.site_cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.operatingHourValueSaving},on:{click:_vm.updateOperatingHour}},[_vm._v(_vm._s(_vm.operatingHourValueSaving?_vm.$t("common._common._saving"):_vm.resourceid?_vm.$t("common._common._save"):_vm.$t("common._common.select")))])],1)])]):_vm._e()],1)}),OperatingHourChooservue_type_template_id_3bd88a3a_staticRenderFns=[],NewOperatingHour=(__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(747579)),OperatingHourChooservue_type_script_lang_js={props:["resourceid","businessHour","showOperatingHourDialog","isAssetBh"],components:{NewOperatingHour:NewOperatingHour/* default */.Z},data:function(){var businessHourtypeMap=new Map;businessHourtypeMap.set("DAYS_24_7","24 Hours 7 Days"),businessHourtypeMap.set("DAYS_24_5","24 Hours 5 Days"),businessHourtypeMap.set("CUSTOM","Custom Hours");var customHourtypeMap=new Map;return customHourtypeMap.set("SAME_TIMING_ALLDAY","Same timing all day"),customHourtypeMap.set("DIFFERENT_TIMING_ALLDAY","Different timing all day"),{businessHoursList:[],showDialog:!1,selectedList:[],operatingHourValueSaving:!1,businessHourtypeMap:businessHourtypeMap,customHourtypeMap:customHourtypeMap,showScheduleNotification:!1}},created:function(){this.checkRunStatus()},mounted:function(){this.getOperatingHour(),this.initOperatingHour()},methods:{getOperatingHour:function(){var self=this;self.$http.get("/v2/businesshours/list").then((function(response){self.businessHoursList=response.data.result.list,self.initOperatingHour()}))},changeBH:function(businesshour){this.$emit("businessHourChangeInChooser",businesshour)},initOperatingHour:function(){for(var i in this.selectedList=[],this.businessHoursList)null!=this.businessHour&&(this.businessHour.id===this.businessHoursList[i].id?this.businessHoursList[i].selected=!0:this.businessHoursList[i].selected=!1)},handleclose:function(){this.showOperatingHourDialog=!1,this.$emit("update:showOperatingHourDialog",!1),this.$emit("closeOperatingHourChooser")},checkRunStatus:function(){var _this=this;this.isAssetBh&&this.$helpers.isLicenseEnabled("OPERATIONAL_ALARM")&&this.$http.get("/v2/assets/checkrunstatus?assetId=".concat(this.resourceid)).then((function(response){_this.showScheduleNotification=response.data.result.runStatusAvailable}))},updateOperatingHour:function(){var _this2=this;if(this.selectedList.length>0){var id=this.selectedList[0].id;this.operatingHourValueSaving=!0;var resourceid=this.resourceid;if(resourceid>0)return this.$http.post("/v2/businesshours/updateresource",{id:id,resourceid:resourceid}).then((function(response){_this2.operatingHourValueSaving=!1,_this2.$message.success("Operating Hour Saved Successfully."),_this2.onSelect()})).catch((function(){_this2.operatingHourValueSaving=!1,_this2.$message.error("Failed to save Operating Hour.")}));this.onSelect()}},onSelect:function(){this.changeBH(this.selectedList[0]),this.$emit("update:showOperatingHourDialog",!1)},newOperatingHour:function(){this.showDialog=!0,this.showOperatingHourDialog=!1},toggleSelect:function(resource,alreadyChanged){for(var i in this.selectedList=[],this.businessHoursList)this.businessHoursList[i].selected=!1;alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource)},setSelectedResource:function(resource){if(resource.selected){this.selectedList.push(this.$helpers.cloneObject(resource));var idx=this.businessHoursList.findIndex((function(bh){return bh.id===resource.id}));this.businessHoursList[idx].selected=!0,this.businessHoursList.splice(idx,0,resource),this.businessHoursList.splice(idx+1,1)}else{var _idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==_idx&&this.selectedList.splice(_idx,1)}}}},components_OperatingHourChooservue_type_script_lang_js=OperatingHourChooservue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_OperatingHourChooservue_type_script_lang_js,OperatingHourChooservue_type_template_id_3bd88a3a_render,OperatingHourChooservue_type_template_id_3bd88a3a_staticRenderFns,!1,null,null,null)
/* harmony default export */,OperatingHourChooser=component.exports,OperatingHoursViewvue_type_script_lang_js={props:["model","resourceId","changeBH","hideChangeBtn","isAssetBh"],components:{OperatingHourChooser:OperatingHourChooser},data:function(){var businessHourtypeMap=new Map;businessHourtypeMap.set("DAYS_24_7","24 Hours 7 Days"),businessHourtypeMap.set("DAYS_24_5","24 Hours 5 Days"),businessHourtypeMap.set("CUSTOM","Custom Hours");var customHourtypeMap=new Map;customHourtypeMap.set("SAME_TIMING_ALLDAY","Same timing all day"),customHourtypeMap.set("DIFFERENT_TIMING_ALLDAY","Different timing all day");var dayOfWeekMap=new Map;return dayOfWeekMap.set("1","Monday"),dayOfWeekMap.set("2","Tuesday"),dayOfWeekMap.set("3","Wednesday"),dayOfWeekMap.set("4","Thursday"),dayOfWeekMap.set("5","Friday"),dayOfWeekMap.set("6","Saturday"),dayOfWeekMap.set("7","Sunday"),{businessHourtypeMap:businessHourtypeMap,customHourtypeMap:customHourtypeMap,dayOfWeekMap:dayOfWeekMap,showOperatingHoursDialog:!1}},methods:{onBHChange:function(businessHour){this.changeBH(businessHour),this.showOperatingHoursDialog=!1}}},widget_OperatingHoursViewvue_type_script_lang_js=OperatingHoursViewvue_type_script_lang_js,OperatingHoursView_component=(0,componentNormalizer/* default */.Z)(widget_OperatingHoursViewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OperatingHoursView=OperatingHoursView_component.exports},
/***/164065:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"ee31f43b8151f3590eba8e0562377413.svg";
/***/},
/***/703659:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"782922838e1b33e6568fd666d379c2b8.svg";
/***/},
/***/916803:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"45e80daecf3b2313cd875b1056bb278b.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/28345.js.map