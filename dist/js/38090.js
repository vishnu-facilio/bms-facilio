"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[38090],{
/***/693659:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WarrantyContractSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/contract/summary/WarrantyContractSummary.vue?vue&type=template&id=4488e7de
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.summaryData?_c("div",{staticClass:"fc__layout__flexes fc__layout__has__row fc__layout__box"},[_c("div",{staticClass:"fc__layout__flexes fc__layout__has__row fc__layout__box"},[_c("div",{staticClass:"fc__layout__flexes fc__layout__has__columns fc__layout__box"},[_c("div",{staticClass:"fc__layout__flexes fc__layout__has__columns"},[_c("div",{staticClass:"fc__layout__has__row fc__layout__box"},[_c("div",{staticClass:"fc__layout__has__row fc__submenu__left fc__layout__box"},[_c("div",{staticClass:"fc__layout_media_center fc__submenu__header fc__layout__has__columns pointer"},[_c("i",{staticClass:"el-icon-back fw6",on:{click:_vm.back}}),_vm.showRevisionHistory?_c("div",{staticClass:"label-txt-black pL10"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.revision_history"))+" "+_vm._s(_vm.revisionHistoryObj?_vm.revisionHistoryObj.name:"---")+" ")]):_c("div",{staticClass:"label-txt-black pL10"},[_c("el-popover",{attrs:{placement:"bottom",width:"170","popper-class":"popover-height inventory-list-popover",trigger:"click"},model:{value:_vm.toggle,callback:function($$v){_vm.toggle=$$v},expression:"toggle"}},[_c("ul",_vm._l(_vm.views,(function(view,index){return _c("li",{key:index,class:{active:_vm.currentViewDetail.displayName===view.displayName},on:{click:function($event){return _vm.switchCategory(view)}}},[_vm._v(" "+_vm._s(view.displayName)+" ")])})),0),_c("span",{attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(_vm.currentViewDetail.displayName)+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon-arrow-down-tv",staticStyle:{"padding-left":"8px"}})])])],1),_vm.showRevisionHistory?_vm._e():_c("div",{staticClass:"pointer",on:{click:function($event){_vm.showQuickSearch=!_vm.showQuickSearch}}},[_c("i",{staticClass:"fa fa-search asset__search__icon",attrs:{"aria-hidden":"true"}})]),_vm.showQuickSearch?_c("div",{staticClass:"row"},[_c("div",{staticClass:"col-12 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper asset__inventory_search__con"},[_c("svg",{staticClass:"search-icon-asset hide",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v(_vm._s(_vm.$t("common._common.search")))]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input-asset asset__inventory__search",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.search")},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"asset__inventory__close",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.closeSearch}},[_c("title",[_vm._v(_vm._s(_vm.$t("common._common.close")))]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_vm._e()]),_c("div",{staticClass:"fc__layout__flexes overflo-auto fc__layout__has__row fc__layout__box layout__box__height"},[_c("div",{staticClass:"fc__submenu__section fc__layout__has__row fc__layout__max__row"},[_vm.showRevisionHistory?_vm.showRevisionHistory?_c("div",{staticClass:"pT10"},_vm._l(_vm.revisionHistoryJSON.list,(function(contract){return _c("div",{key:contract.id,staticClass:"label-txt-black pb20 flex-middle justify-content-space",class:{fcactivelist:_vm.id===contract.id},on:{click:function($event){return _vm.getHistorySummaryLink(contract.id)}}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                          placement: 'top',\n                          animation: 'shift-away',\n                          arrow: true,\n                        }"}],staticClass:"width220px textoverflow-ellipsis",attrs:{title:contract.name?contract.name:"[#"+contract.id+"]"}},[_vm._v(" "+_vm._s(contract?contract.name+" R-"+contract.revisionNumber:"[#"+contract.parentId+"]")+" ")]),_c("img",{staticClass:"fR hide mT3",class:{show:_vm.id===contract.id},attrs:{src:__webpack_require__(513905),width:"15",height:"15"}})])})),0):_vm._e():_c("div",{staticClass:"pT10"},_vm._l(_vm.warrantyContracts,(function(wc){return _c("div",{key:wc.id,staticClass:"label-txt-black pb20 flex-middle justify-content-space",class:{fcactivelist:_vm.id===wc.id},on:{click:function($event){return _vm.getSummaryLink(wc.id)}}},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                          placement: 'top',\n                          animation: 'shift-away',\n                          arrow: true,\n                        }"}],staticClass:"width220px textoverflow-ellipsis",attrs:{title:wc.name?wc.name:"[#"+wc.id+"]"}},[_vm._v(" "+_vm._s(wc.name?wc.name:"[#"+wc.id+"]")+" ")]),_c("img",{staticClass:"fR hide mT3",class:{show:_vm.id===wc.id},attrs:{src:__webpack_require__(513905),width:"15",height:"15"}})])})),0)])])]),_c("div",{staticClass:"fc__layout__flexes fc__layout__has__row fc__layout__asset_main"},[_c("div",{},[_c("div",{staticClass:"fc__layout__align fc__asset__main__header pT24 pB20 pL20 pR20"},[_c("div",{staticClass:"fc-dark-grey-txt18"},[_c("div",{staticClass:"fc-id"},[_vm._v("#"+_vm._s(_vm.summaryData.parentId))]),_c("div",{staticClass:"fc-black-17 bold inline-flex"},[_vm._v(" "+_vm._s(_vm.summaryData.name)+" "),_c("div",{staticClass:"fc-newsummary-chip mL10"},[_vm._v(" "+_vm._s(_vm.getContractStatus(_vm.summaryData.status))+" ")])])]),_c("div",{staticClass:"fc__layout__align inventory-overview-btn-group"},[_vm.$hasPermission("contract:APPROVE_REJECT_WORKREQUEST")&&7!==_vm.summaryData.status?_c("div",[_c("el-popover",{attrs:{placement:"top-start",width:"180",trigger:"hover"}},[_c("el-button",{staticClass:"fc__border__btn",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(_vm.$t("common.profile.change_status"))+" "),_c("i",{staticClass:"el-icon-arrow-down f14 text-right"})]),2!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateContractStatus(2,"Approved Successfully","warrantycontract")}}},[_vm._v(" "+_vm._s(_vm.$t("common.header.approve"))+" ")]):_vm._e(),3!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateContractStatus(3,"Closed Successfully","warrantycontract")}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.close"))+" ")]):_vm._e(),4!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateContractStatus(4,"Cancelled Successfully","warrantycontract")}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]):_vm._e(),5!==_vm.summaryData.status?_c("div",{staticClass:"label-txt-black pT10 pB10 pointer pL10 list-hover",on:{click:function($event){return _vm.updateContractStatus(5,"Suspended Successfully","warrantycontract")}}},[_vm._v(" "+_vm._s(_vm.$t("common.header.suspend"))+" ")]):_vm._e()],1)],1):_vm._e(),_vm.isContractEditable(_vm.summaryData.status)||_vm.$hasPermission("contract:DELETE")?_c("el-dropdown",{staticClass:"mL15 fc-btn-ico-lg pT5 pB5 pL8 pR8 pointer",on:{command:_vm.handleCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_c("img",{attrs:{src:__webpack_require__(935010),height:"18",width:"18"}})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_vm.isContractEditable(_vm.summaryData.status)?_c("el-dropdown-item",{attrs:{command:"edit"}},[_vm._v(_vm._s(_vm.$t("common._common.edit")))]):_vm._e(),1===_vm.summaryData.status&&_vm.$hasPermission("contract:DELETE")?_c("el-dropdown-item",{attrs:{command:"delete"}},[_vm._v(_vm._s(_vm.$t("common._common.delete")))]):_vm._e(),_vm.$hasPermission("contract:CREATE")?_c("el-dropdown-item",{attrs:{command:"duplicate"}},[_vm._v(_vm._s(_vm.$t("common._common.duplicate")))]):_vm._e(),_vm.$hasPermission("contract:CREATE")&&2===_vm.summaryData.status?_c("el-dropdown-item",{attrs:{command:"revise"}},[_vm._v(_vm._s(_vm.$t("common.products.revise")))]):_vm._e(),_vm.summaryData.revisionNumber>0&&7!==_vm.summaryData.status?_c("el-dropdown-item",{attrs:{command:"revisionhistory"}},[_vm._v(_vm._s(_vm.$t("common.header.show_revision_history")))]):_vm._e(),2===_vm.summaryData.status?_c("el-dropdown-item",{attrs:{command:"preference"}},[_vm._v(_vm._s(_vm.$t("common.header.notification_preferences")))]):_vm._e(),_vm.summaryData.frequencyType>0&&2===_vm.summaryData.status?_c("el-dropdown-item",{attrs:{command:"updatepayment"}},[_vm._v(_vm._s(_vm.$t("common.header.update_payment_status")))]):_vm._e()],1)],1):_vm._e()],1)])]),null!==_vm.summaryData?_c("div",{staticClass:"fc__layout__flexes fc__main__con__width"},[_c("div",{staticClass:"fc__asset__main__scroll"},[_c("div",{staticClass:"fc__white__bg__asset"},[_c("el-row",[_c("el-col",{staticClass:"mB30",attrs:{span:16}},[_c("el-col",{staticClass:"pB30",attrs:{span:24}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.report_description"))+" ")]),_vm.summaryData.description?_c("div",{staticClass:"label-txt-black pT10 inventory-item-desc textoverflow-height-ellipsis2 height40"},[_vm._v(" "+_vm._s(_vm.summaryData.description)+" ")]):_c("div",{staticClass:"label-txt-black pT10 inventory-item-desc textoverflow-height-ellipsis2 height40 pointer f13",on:{click:function($event){_vm.addDescDialog=!0,_vm.addDescriptionText=null}}},[_c("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0},expression:"{ arrow: true }"}],attrs:{title:_vm.$t("common.attachment_form.click_to_add_description")}},[_vm._v(_vm._s(_vm.$t("common._common.nodescription")))])]),_c("el-dialog",{attrs:{visible:_vm.addDescDialog,fullscreen:!1,title:_vm.$t("common.header.add_description"),open:"top",width:"400px","custom-class":"inventory-dialog fc-dialog-center-container fc-web-form-dialog","append-to-body":!0},on:{"update:visible":function($event){_vm.addDescDialog=$event}}},[_c("div",[_c("div",{staticClass:"readingcard-setlayout"},[_c("div",{staticClass:"reading-setcard-body"},[_c("div",{staticClass:"pB10",staticStyle:{"margin-top":"7px"}},[_c("div",{staticClass:"inventory-select-item-con mT15 mB15"},[_c("el-input",{staticClass:"fc-input-full-border-textarea",attrs:{type:"textarea",placeholder:_vm.$t("common.placeholders.enter_description"),autosize:{minRows:3}},model:{value:_vm.addDescriptionText,callback:function($$v){_vm.addDescriptionText=$$v},expression:"addDescriptionText"}})],1)])])])]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.addDescDialog=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.addDescription()}}},[_vm._v(_vm._s(_vm.$t("common._common._add")))])],1)])],1),_c("el-col",{staticClass:"mB30",attrs:{span:24}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.type"))+" ")]),_c("div",{staticClass:"label-txt-black pT5"},[_vm._v(" "+_vm._s(_vm.summaryData.contractType?_vm.contractTypeEnumFormatter(_vm.summaryData.contractType):"---")+" ")])]),_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.products.vendor"))+" ")]),_c("div",{staticClass:"label-txt-black pT5"},[_vm.summaryData.vendor?_c("router-link",{attrs:{to:_vm.openVendorSummary(_vm.summaryData.vendor.id)}},[_vm._v(_vm._s(_vm.summaryData.vendor.name))]):_c("span",[_vm._v("---")])],1)])],1)],1)],1),_c("div",{staticClass:"mT20 mB10 inventory-section-header"},[_vm._v(" "+_vm._s(_vm.$t("common._common.summary"))+" ")]),_c("div",{staticClass:"fc__white__bg__info"},[_c("el-row",{staticClass:"border-bottom6 pB20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.valid_from"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.fromDate>0?_vm.$options.filters.formatDate(_vm.summaryData.fromDate,!0):"---"))])],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.valid_till"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.endDate>0?_vm.$options.filters.formatDate(_vm.summaryData.endDate,!0):"---"))])],1)],1),_c("el-row",{staticClass:"pT20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.renewal_date"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.renewalDate>0?_vm.$options.filters.formatDate(_vm.summaryData.renewalDate,!0):"---"))])],1)],1)],1),_c("div",{staticClass:"mT20 mB10 inventory-section-header"},[_vm._v(" "+_vm._s(_vm.$t("common.header.payment_info"))+" "),_vm.isContractEditable(_vm.summaryData.status)?_c("i",{staticClass:"el-icon-edit pointer pL10",on:{click:function($event){return _vm.handleCommand("edit")}}}):_vm._e()]),_vm.summaryData.frequencyType<0?_c("div",{staticClass:"fc__white__bg__info height100px"},[_c("el-row",{staticClass:"mT10"},[_c("div",{staticClass:"payment-info-nodata"},[_vm._v(" "+_vm._s(_vm.$t("inventory.contracts.no_payment_info"))+" ")])])],1):_c("div",{staticClass:"fc__white__bg__info"},[_c("el-row",{staticClass:"border-bottom6 pB20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.header.next_payment_date"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.nextPaymentDate>0?_vm.$options.filters.formatDate(_vm.summaryData.nextPaymentDate,!0):"---"))])],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common._common.frequency_type"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.frequencyTypeEnum?_vm.summaryData.frequencyTypeEnum:"---"))])],1)],1),_c("el-row",{staticClass:"pT20 border-bottom6 pB20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.header.payment_interval"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.paymentInterval?_vm.summaryData.paymentInterval:"---"))])],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.header.schedule_time"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.scheduleTime?_vm.convertMilliSecondsToTimeHHMM(_vm.summaryData.scheduleTime):"---"))])],1)],1),_c("el-row",{staticClass:"pT20 border-bottom6 pB20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.header.schedule_day"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.scheduleDay?_vm.summaryData.scheduleDay:"---"))])],1),_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.$t("common.header.schedule_month"))+" ")])]),_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.scheduleMonth?_vm.summaryData.scheduleMonth:"---"))])],1)],1)],1),_vm.customFields&&_vm.customFields.length>0?_c("div",{staticClass:"fc__white__bg__info__custom mT20"},_vm._l(_vm.customFields,(function(d,index){return index%2===0?_c("el-row",{key:index,staticClass:"border-bottom6 pB20 pT20"},[_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.customFields[index].displayName)+" ")])]),"DATE"===_vm.customFields[index].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index].name]>0?_vm.$options.filters.formatDate(_vm.summaryData.data[_vm.customFields[index].name],!0):"---"))]):"DATE_TIME"===_vm.customFields[index].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s((_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index].name])>0?_vm.$options.filters.formatDate(_vm.summaryData.data[_vm.customFields[index].name]):"---"))]):[2,3].includes(_vm.customFields[index].field.dataType)?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index].name]&&-1!==_vm.summaryData.data[_vm.customFields[index].name]?_vm.summaryData.data[_vm.customFields[index].name]:"---"))]):"ENUM"===_vm.customFields[index].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name]?_vm.customFields[index+1].field.enumMap[parseInt(_vm.summaryData.data[_vm.customFields[index+1].name])]:"---"))]):"LOOKUP"===_vm.customFields[index].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.$validation.isEmpty((_vm.summaryData.data||{})[_vm.customFields[index].name])?"---":_vm.summaryData.data[_vm.customFields[index].name].primaryValue))]):_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index].name]?_vm.summaryData.data[_vm.customFields[index].name]:"---"))])],1),_vm.customFields.length>index+1?_c("el-col",{attrs:{span:12}},[_c("el-col",{attrs:{span:12}},[_c("div",{staticClass:"fc-blue-label"},[_vm._v(" "+_vm._s(_vm.customFields[index+1].displayName)+" ")])]),"DATE"===_vm.customFields[index+1].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name]>0?_vm.$options.filters.formatDate(_vm.summaryData.data[_vm.customFields[index+1].name],!0):"---"))]):"DATE_TIME"===_vm.customFields[index+1].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s((_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name])>0?_vm.$options.filters.formatDate(_vm.summaryData.data[_vm.customFields[index+1].name]):"---"))]):[2,3].includes(_vm.customFields[index+1].field.dataType)?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name]&&-1!==_vm.summaryData.data[_vm.customFields[index+1].name]?_vm.summaryData.data[_vm.customFields[index+1].name]:"---"))]):"ENUM"===_vm.customFields[index+1].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name]?_vm.customFields[index+1].field.enumMap[parseInt(_vm.summaryData.data[_vm.customFields[index+1].name])]:"---"))]):"LOOKUP"===_vm.customFields[index+1].field.dataTypeEnum?_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.$validation.isEmpty((_vm.summaryData.data||{})[_vm.customFields[index+1].name])?"---":_vm.summaryData.data[_vm.customFields[index+1].name].primaryValue))]):_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(_vm.summaryData.data&&_vm.summaryData.data[_vm.customFields[index+1].name]?_vm.summaryData.data[_vm.customFields[index+1].name]:"---"))])],1):_vm._e()],1):_vm._e()})),1):_vm._e(),_c("div",{staticClass:"fc__white__bg__p0 mT20"},["first"===_vm.activeName1&&_vm.isContractEditable(_vm.summaryData.status)?_c("div",{staticClass:"pull-right self-center table-btn"},[_c("el-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-button f12 fc-sites-btn el-button--text sh-button sh-button-add button-add sp-sh-btn-sm",attrs:{icon:"el-icon-plus",type:"text",title:_vm.$t("common.products.add_line_items"),"data-size":"small"},on:{click:_vm.addLineItemsDialog}})],1):_vm._e(),_c("el-tabs",{staticClass:"fc-tab-hide",on:{"tab-click":_vm.handleClick},model:{value:_vm.activeName1,callback:function($$v){_vm.activeName1=$$v},expression:"activeName1"}},[_c("el-tab-pane",{attrs:{label:_vm.$t("common.products.line_items"),name:"first"}},[_c("el-table",{staticClass:"width100 inventory-inner-table mT20",attrs:{data:_vm.summaryData.lineItems,"empty-text":_vm.$t("common.products.no_items_available"),"default-sort":{prop:"summaryData.lineItems.service.name",order:"descending"}}},[_c("el-table-column",{attrs:{prop:"service.name",label:_vm.$t("common.products._service")}}),_c("el-table-column",{attrs:{label:_vm.$t("common.header.item_coverage")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_vm.isContractEditable(_vm.summaryData.status)?_c("div",[_c("el-input",{staticClass:"fc-input-full-border2 width50px inventory-input-width text-right pL20 pr-summary",attrs:{placeholder:"",min:0,type:"number"},on:{change:function($event){return _vm.updateContractLineItem("Line Item edited Successfully","warrantycontract")}},model:{value:_vm.summaryData.lineItems[scope.$index].itemCoverage,callback:function($$v){_vm.$set(_vm.summaryData.lineItems[scope.$index],"itemCoverage",$$v)},expression:"\n                                    summaryData.lineItems[scope.$index]\n                                      .itemCoverage\n                                  "}})],1):_c("div",[_c("div",[_vm._v(" "+_vm._s(_vm.summaryData.lineItems[scope.$index].itemCoverage)+" ")])])]}}],null,!1,4275711145)}),_c("el-table-column",{attrs:{label:_vm.$t("common.header.tool_coverage")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_vm.isContractEditable(_vm.summaryData.status)?_c("div",[_c("el-input",{staticClass:"fc-input-full-border2 width50px inventory-input-width text-right pL20 pr-summary",attrs:{placeholder:"",min:0,type:"number"},on:{change:function($event){return _vm.updateContractLineItem("Line Item edited Successfully","warrantycontract")}},model:{value:_vm.summaryData.lineItems[scope.$index].toolCoverage,callback:function($$v){_vm.$set(_vm.summaryData.lineItems[scope.$index],"toolCoverage",$$v)},expression:"\n                                    summaryData.lineItems[scope.$index]\n                                      .toolCoverage\n                                  "}})],1):_c("div",[_c("div",[_vm._v(" "+_vm._s(_vm.summaryData.lineItems[scope.$index].toolCoverage)+" ")])])]}}],null,!1,2546064169)}),_c("el-table-column",{attrs:{label:_vm.$t("common.header.labor_coverage")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_vm.isContractEditable(_vm.summaryData.status)?_c("div",[_c("el-input",{staticClass:"fc-input-full-border2 width50px inventory-input-width text-right pL20 pr-summary",attrs:{placeholder:"",min:0,type:"number"},on:{change:function($event){return _vm.updateContractLineItem("Line Item edited Successfully","warrantycontract")}},model:{value:_vm.summaryData.lineItems[scope.$index].labourCoverage,callback:function($$v){_vm.$set(_vm.summaryData.lineItems[scope.$index],"labourCoverage",$$v)},expression:"\n                                    summaryData.lineItems[scope.$index]\n                                      .labourCoverage\n                                  "}})],1):_c("div",[_c("div",[_vm._v(" "+_vm._s(_vm.summaryData.lineItems[scope.$index].labourCoverage)+" ")])])]}}],null,!1,558151977)}),_c("el-table-column",{scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"visibility-hide-actions export-dropdown-menu"},[_vm.isContractEditable(_vm.summaryData.status)?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete pointer edit-icon-color",staticStyle:{"padding-left":"18px"},attrs:{"data-arrow":"true",title:_vm.$t("common.header.delete_line_item")},on:{click:function($event){return _vm.remove(_vm.summaryData.lineItems[scope.$index],scope.$index)}}}):_vm._e()])]}}],null,!1,1122216537)})],1)],1)],1)],1),_c("div",{staticClass:"fc__white__bg__p0 mT20"},["asset"===_vm.section2?_c("div",{staticClass:"pull-right self-center table-btn"},[_c("el-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-button f12 fc-sites-btn el-button--text sh-button sh-button-add button-add sp-sh-btn-sm",attrs:{icon:"el-icon-plus",type:"text",title:_vm.$t("common.header.associate_assets"),"data-size":"small"},on:{click:function($event){_vm.associateAssetsVisibility=!0}}})],1):_vm._e(),"tandc"===_vm.section2&&1===_vm.summaryData.status?_c("div",{staticClass:"pull-right self-center table-btn"},[_c("el-button",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-button f12 fc-sites-btn el-button--text sh-button sh-button-add button-add sp-sh-btn-sm",attrs:{icon:"el-icon-plus",type:"text",title:_vm.$t("common.header.add_tc"),"data-size":"small"},on:{click:function($event){_vm.addTandCVisibility=!0}}})],1):_vm._e(),_c("el-tabs",{staticClass:"fc-tab-hide",on:{"tab-click":_vm.handleClick},model:{value:_vm.section2,callback:function($$v){_vm.section2=$$v},expression:"section2"}},[_c("el-tab-pane",{attrs:{label:_vm.$t("common._common.terms_conditions"),name:"tandc"}},[_c("contract-terms-and-conditions",{attrs:{summaryData:_vm.summaryData,type:"contract",addTandCVisibility:_vm.addTandCVisibility},on:{refreshList:_vm.loadSummary,"update:addTandCVisibility":function($event){_vm.addTandCVisibility=$event},"update:add-tand-c-visibility":function($event){_vm.addTandCVisibility=$event}}})],1)],1)],1),_c("div",{key:_vm.summaryData.id,staticClass:"fc__white__bg__p0 mT20"},[_c("el-tabs",{on:{"tab-click":_vm.handleClick},model:{value:_vm.activeName,callback:function($$v){_vm.activeName=$$v},expression:"activeName"}},[_c("el-tab-pane",{attrs:{label:_vm.$t("common._common.notes"),name:"first"}},["first"===_vm.activeName&&_vm.summaryData&&_vm.summaryData.id?_c("div",{staticClass:"inventory-comments"},[_c("comments",{attrs:{module:"contractnotes",placeholder:_vm.$t("common._common.add_note_btn"),btnLabel:_vm.$t("common._common.add_note_btn"),record:_vm.summaryData,notify:!1}})],1):_vm._e()]),_c("el-tab-pane",{attrs:{label:_vm.$t("common._common.documents"),name:"second"}},["second"===_vm.activeName?_c("div",[_vm.summaryData?_c("attachments",{attrs:{module:"contractattachments",record:_vm.summaryData}}):_vm._e()],1):_vm._e()])],1)],1)])]):_vm._e()])])])])]),_vm.addLineItemsVisibility?_c("div",{key:_vm.summaryData.id,staticClass:"position-relative"},[_c("el-dialog",{key:_vm.summaryData.id,attrs:{visible:_vm.addLineItemsVisibility,fullscreen:!1,title:_vm.$t("common.products.add_line_items"),width:"70%",open:"top","custom-class":"assetaddvaluedialog fc-dialog-center-container inventory-store-dialog fc-web-form-dialog","append-to-body":!0},on:{"update:visible":function($event){_vm.addLineItemsVisibility=$event}}},[_c("table",{staticClass:"setting-list-view-table store-table"},[_c("thead",{staticClass:"setup-dialog-thead"},[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"240px"}},[_vm._v(" "+_vm._s(_vm.$t("common.products._service"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"240px"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.item_coverage"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"240px"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.tool_coverage"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"240px"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.labor_coverage"))+" ")]),_c("th")])]),_c("tbody",{key:_vm.summaryData.id},_vm._l(_vm.lineItemsFormObject.lineItems,(function(field,lineindex){return _c("tr",{key:lineindex,staticClass:"visibility-visible-actions"},[_c("td",{staticClass:"module-builder-td"},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{filterable:"",clearable:""},model:{value:_vm.lineItemsFormObject.lineItems[lineindex].service.id,callback:function($$v){_vm.$set(_vm.lineItemsFormObject.lineItems[lineindex].service,"id",$$v)},expression:"\n                    lineItemsFormObject.lineItems[lineindex].service.id\n                  "}},_vm._l(_vm.services,(function(service,index){return _c("el-option",{key:index,attrs:{label:service.name,value:service.id}})})),1)],1),_c("td",{staticClass:"module-builder-td"},[_c("el-input",{staticClass:"fc-input-full-border-select2 duration-input",attrs:{placeholder:"Item Coverage %",type:"number",max:100,min:0},model:{value:_vm.lineItemsFormObject.lineItems[lineindex].itemCoverage,callback:function($$v){_vm.$set(_vm.lineItemsFormObject.lineItems[lineindex],"itemCoverage",$$v)},expression:"\n                    lineItemsFormObject.lineItems[lineindex].itemCoverage\n                  "}})],1),_c("td",{staticClass:"module-builder-td"},[_c("el-input",{staticClass:"fc-input-full-border-select2 duration-input",attrs:{placeholder:_vm.$t("common.header.tool_coverage"),type:"number",max:100,min:0},model:{value:_vm.lineItemsFormObject.lineItems[lineindex].toolCoverage,callback:function($$v){_vm.$set(_vm.lineItemsFormObject.lineItems[lineindex],"toolCoverage",$$v)},expression:"\n                    lineItemsFormObject.lineItems[lineindex].toolCoverage\n                  "}})],1),_c("td",{staticClass:"module-builder-td"},[_c("el-input",{staticClass:"fc-input-full-border-select2 duration-input",attrs:{placeholder:_vm.$t("common.header.labor_coverage"),type:"number",max:100,min:0},model:{value:_vm.lineItemsFormObject.lineItems[lineindex].labourCoverage,callback:function($$v){_vm.$set(_vm.lineItemsFormObject.lineItems[lineindex],"labourCoverage",$$v)},expression:"\n                    lineItemsFormObject.lineItems[lineindex].labourCoverage\n                  "}})],1),_c("td",[_c("div",{staticClass:"visibility-hide-actions export-dropdown-menu"},[_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:_vm.$t("common._common.add")},on:{click:function($event){return _vm.addWarrantyLineEntry(_vm.lineItemsFormObject.lineItems)}}},[_c("img",{staticClass:"mR10 mT10",attrs:{src:__webpack_require__(353654)}})]),_vm.lineItemsFormObject.lineItems.length>1?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:_vm.$t("common._common.remove")},on:{click:function($event){return _vm.removeWarrantyLineEntry(_vm.lineItemsFormObject.lineItems,lineindex)}}},[_c("img",{staticClass:"mT10",attrs:{src:__webpack_require__(385769)}})]):_vm._e()])])])})),0)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.addLineItemsVisibility=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.addWarrantyLine()}}},[_vm._v(_vm._s(_vm.$t("common._common.add")))])],1)])],1):_vm._e(),_vm.preferenceVisibility?_c("div",[_c("el-dialog",{key:"1",attrs:{visible:_vm.preferenceVisibility,title:_vm.$t("common.header.notification_preference"),fullscreen:!1,"before-close":_vm.cancelNotificationPreference,"append-to-body":!0,"custom-class":"fc-animated slideInRight fc-dialog-form contract-notification-form-heading fc-dialog-right width50"},on:{"update:visible":function($event){_vm.preferenceVisibility=$event}}},[_c("notification-preference",{attrs:{moduleName:"warrantycontracts",recordId:_vm.summaryData.id,visibility:_vm.preferenceVisibility},on:{"update:visibility":function($event){_vm.preferenceVisibility=$event}}})],1)],1):_vm._e()]):_c("div",[_c("spinner",{attrs:{show:!_vm.summaryData}})],1)])},staticRenderFns=[],Attachments=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(538077),__webpack_require__(169358),__webpack_require__(162506),__webpack_require__(976801),__webpack_require__(648324),__webpack_require__(77098)),Comments=__webpack_require__(147105),contractHelper=__webpack_require__(496376),ContractTermsAndConditions=__webpack_require__(932773),NotificationPreference=__webpack_require__(785595),router=__webpack_require__(329435),WarrantyContractSummaryvue_type_script_lang_js={components:{Comments:Comments/* default */.Z,Attachments:Attachments/* default */.Z,ContractTermsAndConditions:ContractTermsAndConditions/* default */.Z,NotificationPreference:NotificationPreference/* default */.Z},mixins:[contractHelper/* default */.Z],data:function(){return{activeName:"first",activeName1:"first",activeName2:"first",section2:"tandc",status:{REQUESTED:"REQUESTED",APPROVED:"APPROVED",REJECTED:"REJECTED",ORDERED:"ORDERED",PARTIALLY_RECEIVED:"PARTIALLY RECEIVED",RECEIVED:"RECEIVED",COMPLETED:"COMPLETED"},showQuickSearch:!1,error:!1,quickSearchQuery:null,toggle:!1,selectindex:!1,loading:!0,page:1,fetchingMore:!1,summaryData:null,saving:!1,customFields:null,addLineItemsVisibility:!1,lineItemsFormObject:{lineItems:null},addDescDialog:!1,addDescriptionText:null,services:[],associateAssetsVisibility:!1,purchaseAssetVisibility:!1,returnAssetVisibility:!1,addTandCVisibility:!1,preferenceVisibility:!1}},mounted:function(){this.$store.dispatch("view/clearViews"),this.$store.dispatch("view/loadViews",this.getCurrentModule),this.$store.dispatch("view/loadModuleMeta",this.getCurrentModule),this.getViewDetail(),this.loadData(),this.loadSummary(),this.loadForm()},computed:{id:function(){return parseInt(this.$route.params.id)},warrantyContracts:function(){return this.$store.state.warrantycontract.warrantyContracts},getCurrentModule:function(){return"warrantycontracts"},canLoadMore:function(){return this.$store.state.warrantycontract.canLoadMore},scrollDisabled:function(){return this.loading||!this.canLoadMore||this.fetchingMore},currentView:function(){return this.$route.query.search?(this.views.push({displayName:"Filtered Warranty Contracts",name:"filteredwarrantycontracts"}),"Filtered Warranty Contracts"):this.$route.params.viewname?this.$route.params.viewname:"all"},currentViewDetail:function(){var _this=this;return this.$route.query.search?{displayName:"Filtered Warranty Contracts",name:"filteredwarrantycontracts"}:this.views.find((function(view){return view.name===_this.currentView}))||{}},views:function(){return this.$store.state.view.views},searchQuery:function(){return this.$store.state.warrantycontract.quickSearchQuery}},watch:{warrantyContracts:function(newVal){"null"===this.$route.params.id&&newVal&&newVal.length>0&&this.getSummaryLink(newVal[0].id)},id:function(){this.$route.query.refresh&&this.loadData(),this.loadSummary()},searchQuery:function(){this.loadData()},currentView:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.loadData()}},methods:{loadForm:function(){var self=this,url="/getFormMeta?formNames=warrantyContractForm";this.$http.get(url).then((function(response){self.formFields(response.data.forms[0])})).catch((function(error){}))},updateStatus:function(status,message){status&&0!==status&&(this.summaryData.status=status);var self=this,param={warrantyContract:{id:this.summaryData.id,lineItems:this.summaryData.lineItems,status:status,vendor:this.summaryData.vendor}};this.$http.post("v2/warrantycontract/addOrUpdate",param).then((function(response){0===response.data.responseCode?(self.$message.success(message),self.loadSummary()):self.$message.error(response.data.message)})).catch((function(error){}))},addDescription:function(){if(this.addDescDialog=!1,this.addDescriptionText){var self=this,param={warrantyContract:{id:this.summaryData.id,description:this.addDescriptionText,lineItems:this.summaryData.lineItems,storeRoom:this.summaryData.storeRoom,vendor:this.summaryData.vendor}};this.$http.post("v2/warrantycontract/addOrUpdate",param).then((function(response){0===response.data.responseCode?(self.$message.success(this.$t("common.products.description_updated_successfully")),self.summaryData.description=self.addDescriptionText):self.$message.error(response.data.message)})).catch((function(error){}))}},remove:function(data,index){
// if (this.summaryData.lineItems.length === 1) {
//   this.$message.error('Atleast One Line Item is required')
//   return
// }
// this.summaryData.lineItems.splice(index, 1)
this.deleteContractLineItem([this.summaryData.lineItems[index].id],"Line Item Removed Successfully","warrantycontract")},loadSummary:function(){var _this2=this,self=this,url="/v2/warrantycontract/getById",params={recordId:this.id};this.id&&this.$http.post(url,params).then((function(response){self.summaryData=response.data.result&&response.data.result.warrantycontract?response.data.result.warrantycontract:[];var title="[#"+self.summaryData.id+"] "+self.summaryData.name;self.setTitle(title),_this2.summaryDataLoadedActions()})).catch((function(error){}))},summaryDataLoadedActions:function(){2===this.summaryData.status?this.section2="asset":this.section2="tandc"},formFields:function(data){this.customFields=data.fields.filter((function(field){return field.field&&!0!==field.field.default}))},handleClick:function(){},closeSearch:function(){this.toggleQuickSearch(),this.quickSearchQuery=null,this.quickSearch()},quickSearch:function(){this.$store.dispatch("warrantycontract/updateSearchQuery",this.quickSearchQuery)},getViewDetail:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.getCurrentModule})},loadData:function(loadMore){var self=this;this.page=loadMore?this.page:1;var queryObj={viewname:this.currentView,page:this.page,filters:this.$route.query.search?JSON.parse(this.$route.query.search):this.filters,search:this.searchQuery,includeParentFilter:this.includeParentFilter};loadMore?self.fetchingMore=!0:self.loading=!0,self.$store.dispatch("warrantycontract/fetchWarrantyContracts",queryObj).then((function(){self.loading=!1,self.fetchingMore=!1,self.page++})).catch((function(error){error&&(self.loading=!1,self.fetchingMore=!1)}))},getSummaryLink:function(id){var getCurrentModule=this.getCurrentModule,_this$$route=this.$route,query=_this$$route.query,params=_this$$route.params,_ref=params||{},viewname=_ref.viewname;if((0,router/* isWebTabsEnabled */.tj)()){var _ref2=(0,router/* findRouteForModule */.Jp)(getCurrentModule,router/* pageTypes */.As.OVERVIEW)||{},name=_ref2.name;name&&this.$router.push({name:name,params:{id:id,viewname:viewname},query:query})}else{var url="/app/ct/warrantycontracts/"+viewname+"/summary/"+id;this.$router.push({path:url,query:query})}},switchCategory:function(index){var indexs;indexs&&-1!==indexs&&this.views.splice(indexs,1);var getCurrentModule=this.getCurrentModule;if((0,router/* isWebTabsEnabled */.tj)()){var _ref3=(0,router/* findRouteForModule */.Jp)(getCurrentModule,router/* pageTypes */.As.OVERVIEW)||{},name=_ref3.name;name&&this.$router.push({name:name,params:{id:"null",viewname:index.name}})}else{var url="/app/ct/warrantycontracts/"+index.name+"/summary/null";this.$router.push({path:url})}this.toggle=!1},handleCommand:function(command){if(["edit","duplicate"].includes(command)){var summaryData=this.summaryData,getCurrentModule=this.getCurrentModule,_ref4=summaryData||{},id=_ref4.id,query="duplicate"===command?{duplicate:!0}:{};if((0,router/* isWebTabsEnabled */.tj)()){var _ref5=(0,router/* findRouteForModule */.Jp)(getCurrentModule,router/* pageTypes */.As.EDIT)||{},name=_ref5.name;name&&this.$router.push({name:name,params:{id:id},query:query})}else this.$router.push({path:"/app/ct/warrantycontracts/edit/"+id,query:query})}else"delete"===command?this.delete():"revise"===command?this.reviseContract(this.summaryData,"warrantycontract"):"revisionhistory"===command?this.$router.push({query:{showRevisionHistory:JSON.stringify({id:this.summaryData.id,parentId:this.summaryData.parentId,name:this.summaryData.name})}}):"preference"===command?this.preferenceVisibility=!0:"updatepayment"===command&&this.updatePaymentActions(this.summaryData)},delete:function(){var _this3=this,self=this,url="/v2/warrantycontract/delete",params={recordIds:[this.summaryData.id]};this.$http.post(url,params).then((function(response){if(0===response.data.responseCode)if(self.$message.success(_this3.$t("common._common.delete_success")),(0,router/* isWebTabsEnabled */.tj)()){var getCurrentModule=_this3.getCurrentModule,_params=_this3.$route.params,_ref6=_params||{},viewname=_ref6.viewname,_ref7=(0,router/* findRouteForModule */.Jp)(getCurrentModule,router/* pageTypes */.As.LIST)||{},name=_ref7.name;name&&_this3.$router.push({name:name,params:{viewname:viewname}})}else self.$router.push({path:"/app/ct/warrantycontracts/all"})})).catch()},getDateTime:function(val){var value=val.sysCreatedTime;return value&&-1!==value?this.$options.filters.formatDate(value):""},addLineItemsDialog:function(){this.loadServices(),this.addLineItemsVisibility=!0,this.lineItemsFormObject.lineItems=[{service:{id:null},toolCoverage:null,itemCoverage:null,labourCoverage:null}]},loadServices:function(){var _this4=this;this.services&&this.services.length>0||this.$http.get("/v2/service/all").then((function(response){_this4.services=response.data.result.services})).catch()},addWarrantyLineEntry:function(field){field.push({service:{id:null},toolCoverage:null,itemCoverage:null,labourCoverage:null})},removeWarrantyLineEntry:function(list,index){list.splice(index,1)},isValid:function(val){if(null!==val&&""!==val&&void 0!==val)return!0},addWarrantyLine:function(){for(var _this5=this,i=this.lineItemsFormObject.lineItems.length-1;i>=0;i--)this.isValid(this.lineItemsFormObject.lineItems[i].service.id)||this.lineItemsFormObject.lineItems.splice(i,1);if(0!==this.lineItemsFormObject.lineItems.length){for(var j in this.lineItemsFormObject.lineItems)this.lineItemsFormObject.lineItems[j]["warrantyContractId"]=this.summaryData.id;var param={lineItems:this.lineItemsFormObject.lineItems};this.$http.post("v2/warrantycontract/addOrUpdateLineItem",param).then((function(response){0===response.data.responseCode?(_this5.addLineItemsVisibility=!1,_this5.loadSummary(),_this5.$message.success("Line Item Added Successfully")):_this5.$message.error(response.data.message)})).catch()}else this.addLineItemsVisibility=!1},openVendorSummary:function(id){if(!(0,router/* isWebTabsEnabled */.tj)())return{path:"/app/vendor/vendors/all/summary/".concat(id)};var _ref8=(0,router/* findRouteForModule */.Jp)("vendors",router/* pageTypes */.As.OVERVIEW)||{},name=_ref8.name;return name?{name:name,params:{viewname:"all",id:id}}:void 0}}},summary_WarrantyContractSummaryvue_type_script_lang_js=WarrantyContractSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(summary_WarrantyContractSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WarrantyContractSummary=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/38090.js.map