"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[17895],{
/***/61543:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkOrderActualsLabour}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v3/widgets/actuals/WorkOrderActualsLabour.vue?vue&type=template&id=485ffcd0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("LineItemList",_vm._b({ref:"lineItemList",staticClass:"height-100",attrs:{config:_vm.listConfiguration,moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,additionalParams:_vm.additionalParams,widgetDetails:_vm.widgetDetails,viewname:"all"},on:{onDelete:function($event){return _vm.refreshCost()},onCreateOrUpdate:function($event){return _vm.refreshCost()},clickedActionBtn:_vm.btnValue}},"LineItemList",_vm.$attrs,!1))],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),LineItemList=(__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(648324),__webpack_require__(197724)),eventBus=__webpack_require__(398011),CustomModuleData=__webpack_require__(689565),api=__webpack_require__(32284),WorkOrderActualsLabourvue_type_script_lang_js={props:["widget","details"],components:{LineItemList:LineItemList/* default */.Z},data:function(){return{actionButtonValue:null}},computed:{moduleDisplayName:function(){return"Work Order Labor Actual(s)"},moduleName:function(){return"workorderLabour"},workorder:function(){var _ref=this||{},details=_ref.details,_ref2=details||{},workorder=_ref2.workorder;return workorder},filters:function(){var _ref3=this||{},workorder=_ref3.workorder,_ref4=workorder||{},id=_ref4.id,filter={parentId:{operatorId:9,value:["".concat(id)]}};return filter},editConfig:function(){return{canHideEdit:!1}},deleteConfig:function(){return{canHideDelete:!1}},searchAndFilterConfig:function(){return{canHideSearch:!1,canHideFilter:!1}},formConfig:function(){var _this=this;return{formType:"POP_UP_FORM",modifyFieldPropsHook:function(field){var _ref5=_this||{},actionButtonValue=_ref5.actionButtonValue,_ref6=actionButtonValue||{},lookupModuleName=_ref6.lookupModuleName,_ref7=field||{},name=_ref7.name;return["craft","cost"].includes(name)||"labour"===name&&"labourCraftSkill"===lookupModuleName?(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{isDisabled:!0}):void 0}}},listConfiguration:function(){var filters=this.filters,searchAndFilterConfig=this.searchAndFilterConfig,formConfig=this.formConfig,disableActionableUIElements=this.disableActionableUIElements;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({expand:!0,isSelectionEnabled:!1,isIndexEnabled:!1,filters:filters,canHideColumnConfig:!0,canShowEdit:!0,canShowDelete:!0,canHideFooter:!1},searchAndFilterConfig||{}),formConfig||{}),{},{formTitle:{addForm:"Labor Details",editForm:"Labor Details"},disableActionableUIElements:disableActionableUIElements})},widgetDetails:function(){var _this2=this,widget=this.widget,_ref8=widget||{},relatedList=_ref8.relatedList,_ref9=relatedList||{},summaryWidgetName=_ref9.summaryWidgetName,emptyStateText=this.$t("setup.relationship.no_module_available",{moduleName:"Labors"}),actionButtonList=[{label:this.$t("common._common.select_labor"),value:{lookupModuleName:"labourCraftSkill",lookupModuleDisplayName:"Labor",getRecordDetails:function(){var _getRecordDetails=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(payload){var _ref10,id,moduleName,lookupModuleName,params,_yield$API$get,data,error,_ref11,workorderLabour;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _ref10=payload||{},id=_ref10.id,moduleName=_ref10.moduleName,lookupModuleName=_ref10.lookupModuleName,params={recordId:id,moduleName:lookupModuleName},_context.next=4,api/* API */.bl.get("/v3/workOrderLabour/actuals",params);case 4:if(_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,!error){_context.next=11;break}_this2.$message.error(error.message||_this2.$t("common._common.error_occured")),_context.next=13;break;case 11:return _ref11=data||{},workorderLabour=_ref11.workorderLabour,_context.abrupt("return",new CustomModuleData/* CustomModuleData */.u((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},workorderLabour||{}),{},{moduleName:moduleName})));case 13:case"end":return _context.stop()}}),_callee)})));function getRecordDetails(_x){return _getRecordDetails.apply(this,arguments)}return getRecordDetails}()}},{label:this.$t("common._common.select_planned_labor"),value:{lookupModuleName:"workorderLabourPlan",lookupModuleDisplayName:"Planned Labor",getRecordDetails:function(){var _getRecordDetails2=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(payload){var _ref12,id,moduleName,lookupModuleName,params,_yield$API$get2,data,error,_ref13,workorderLabour;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _ref12=payload||{},id=_ref12.id,moduleName=_ref12.moduleName,lookupModuleName=_ref12.lookupModuleName,params={recordId:id,moduleName:lookupModuleName},_context2.next=4,api/* API */.bl.get("/v3/workOrderLabour/actuals",params);case 4:if(_yield$API$get2=_context2.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,!error){_context2.next=11;break}_this2.$message.error(error.message||_this2.$t("common._common.error_occured")),_context2.next=13;break;case 11:return _ref13=data||{},workorderLabour=_ref13.workorderLabour,_context2.abrupt("return",new CustomModuleData/* CustomModuleData */.u((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},workorderLabour||{}),{},{moduleName:moduleName})));case 13:case"end":return _context2.stop()}}),_callee2)})));function getRecordDetails(_x2){return _getRecordDetails2.apply(this,arguments)}return getRecordDetails}(),getRecordList:function(){var _getRecordList=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _ref14,workorder,_ref15,id,filters,params,_yield$API$fetchAll,list,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _ref14=_this2||{},workorder=_ref14.workorder,_ref15=workorder||{},id=_ref15.id,filters={parent:{operatorId:9,value:["".concat(id)]}},params={filters:JSON.stringify(filters)},_context3.next=6,api/* API */.bl.fetchAll("workorderLabourPlan",params);case 6:if(_yield$API$fetchAll=_context3.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,error){_context3.next=11;break}return _context3.abrupt("return",list);case 11:case"end":return _context3.stop()}}),_callee3)})));function getRecordList(){return _getRecordList.apply(this,arguments)}return getRecordList}(),getRecordCount:function(){var _getRecordCount=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _ref16,workorder,_ref17,id,filters,params,_yield$API$fetchAll2,list,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _ref16=_this2||{},workorder=_ref16.workorder,_ref17=workorder||{},id=_ref17.id,filters={parent:{operatorId:9,value:["".concat(id)]}},params={filters:JSON.stringify(filters)},_context4.next=6,api/* API */.bl.fetchAll("workorderLabourPlan",params);case 6:if(_yield$API$fetchAll2=_context4.sent,list=_yield$API$fetchAll2.list,error=_yield$API$fetchAll2.error,error){_context4.next=11;break}return _context4.abrupt("return",list.length);case 11:case"end":return _context4.stop()}}),_callee4)})));function getRecordCount(){return _getRecordCount.apply(this,arguments)}return getRecordCount}()}}];return{title:this.$t("common._common.list_of_labours"),canHideTitle:!0,emptyStateText:emptyStateText,perPage:5,summaryWidgetName:summaryWidgetName,actionButtonList:actionButtonList}},workOrderSettings:function(){var details=this.details,_ref18=details||{},_ref18$workOrderSetti=_ref18.workOrderSettings,workOrderSettings=void 0===_ref18$workOrderSetti?{}:_ref18$workOrderSetti;return workOrderSettings},disableActionableUIElements:function(){var workOrderSettings=this.workOrderSettings,_ref19=workOrderSettings||{},inventoryActuals=_ref19.inventoryActuals,_ref20=inventoryActuals||{},_ref20$allowed=_ref20.allowed,canDoActionsOnActuals=void 0===_ref20$allowed||_ref20$allowed;return!canDoActionsOnActuals}},methods:{btnValue:function(value){this.actionButtonValue=value},additionalParams:function(){var _ref21=this||{},workorder=_ref21.workorder,_ref22=workorder||{},id=_ref22.id;return{parentId:id}},refreshCost:function(){eventBus/* eventBus */.Y.$emit("reloadOverallCost")},getWorkOrderId:function(){var _ref23=this||{},workorder=_ref23.workorder,_ref24=workorder||{},id=_ref24.id;return id}}},actuals_WorkOrderActualsLabourvue_type_script_lang_js=WorkOrderActualsLabourvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(actuals_WorkOrderActualsLabourvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderActualsLabour=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/17895.js.map