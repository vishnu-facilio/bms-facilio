"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[46742],{
/***/346742:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkorderSummary}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/widget/static/WorkorderSummary.vue?vue&type=template&id=cf37c29a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.countSummary.loading?_c("spinner",{staticStyle:{},attrs:{show:_vm.countSummary.loading,size:"80"}}):_c("div",[_c("div",{staticClass:"row db-test-2 count-grid-container mobile-count-grid-container1"},[_c("div",{staticClass:"col-md-6 col-lg-6",staticStyle:{"text-align":"center","padding-left":"10px"}},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{on:{click:function($event){return _vm.openfilterurl("/app/wo/orders/duetoday")}}},[_c("div",{staticClass:"q-item-label",staticStyle:{"font-size":"40px","letter-spacing":"0.2px",color:"#e4ba2d","text-align":"center"}},[_vm._v(" "+_vm._s(_vm.countSummary.data.dueToday)+" ")]),_c("div",{staticClass:"count-header"},[_vm._v(_vm._s(_vm.$t("panel.card.due_today")))])])])]),_c("div",{staticClass:"col-md-6 col-lg-6",staticStyle:{"text-align":"center","padding-right":"10px"}},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{on:{click:function($event){return _vm.openfilterurl("/app/wo/orders/overdue")}}},[_c("div",{staticClass:"q-item-label",staticStyle:{"font-size":"40px","letter-spacing":"0.2px",color:"#e07575","text-align":"center"}},[_vm._v(" "+_vm._s(_vm.countSummary.data.overdue)+" ")]),_c("div",{staticClass:"count-header"},[_vm._v(_vm._s(_vm.$t("panel.card.overdue")))])])])])]),_c("div",{staticClass:"en-divider",staticStyle:{margin:"0 auto"}}),_c("div",{staticClass:"row db-test-2 count-grid-container mobile-count-grid-container2"},[_c("div",{staticClass:"col-md-6 col-lg-6",staticStyle:{"text-align":"center","padding-left":"10px"}},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{on:{click:function($event){return _vm.openfilterurl("/app/wo/orders/open")}}},[_c("div",{staticClass:"q-item-label",staticStyle:{"font-size":"40px","letter-spacing":"0.2px",color:"#5dc6d5","text-align":"center"}},[_vm._v(" "+_vm._s(_vm.countSummary.data.open)+" ")]),_c("div",{staticClass:"count-header"},[_vm._v(_vm._s(_vm.$t("panel.card.open")))])])])]),_c("div",{staticClass:"col-md-6 col-lg-6",staticStyle:{"text-align":"center","padding-right":"10px"}},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{on:{click:function($event){return _vm.openfilterurl("/app/wo/orders/unassigned")}}},[_c("div",{staticClass:"q-item-label",staticStyle:{"font-size":"40px","letter-spacing":"0.2px",color:"#e08c42","text-align":"center"}},[_vm._v(" "+_vm._s(_vm.countSummary.data.unassigned)+" ")]),_c("div",{staticClass:" count-header"},[_vm._v(_vm._s(_vm.$t("panel.card.unassigned")))])])])])])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(730381),__webpack_require__(420629)),router=__webpack_require__(329435),WorkorderSummaryvue_type_script_lang_js={props:["widget"],data:function(){return{countSummary:{loading:!0,isdemodata:!1,data:{dueToday:0,overdue:0,unassigned:0,open:0}}}},mounted:function(){this.initdata()},created:function(){this.$store.dispatch("loadTicketStatus","workorder")},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({today:function(){return this.$options.filters.formatDate(new Date,!0,!1)}},(0,vuex_esm/* mapState */.rn)({ticketstatus:function(state){return state.ticketStatus.workorder}})),{},{reportFilters:function(){return this.$route.query.filters?this.$route.query.filters:null}}),watch:{reportFilters:{handler:function(newData,oldData){this.initdata()},immediate:!0}},methods:{initdata:function(){var self=this;self.countSummary.loading=!0;var params={staticKey:"workorderSummary"};this.$route.query.filters&&(params.filters=this.$route.query.filters),self.$http.post("dashboard/getCardData",params).then((function(response){if(response.data&&response.data.cardResult&&response.data.cardResult.result){var result=response.data.cardResult.result;self.countSummary.data["dueToday"]=result.dueToday,self.countSummary.data["overdue"]=result.overdue,self.countSummary.data["unassigned"]=result.unassigned,self.countSummary.data["open"]=result.open}self.countSummary.loading=!1})).catch((function(error){self.countSummary.loading=!1}))},openfilterurl:function(url){if(!this.$mobile)if((0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)("workorder",router/* pageTypes */.As.LIST)||{},name=_ref.name;if(name){var viewname=url.split("orders/")[1],query={},_ref2=this.$route.query||{},filters=_ref2.filters;filters&&(query={search:filters,includeParentFilter:"true"}),this.$router.push({name:name,params:{viewname:viewname},query:query})}}else this.$route.query&&this.$route.query.filters?this.$router.push({path:url,query:{search:this.$route.query.filters,includeParentFilter:"true"}}):this.$router.push({path:url})}}},static_WorkorderSummaryvue_type_script_lang_js=WorkorderSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(static_WorkorderSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkorderSummary=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/46742.js.map