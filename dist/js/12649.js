"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[12649],{
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/622957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupEmptyState}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupEmptyState.vue?vue&type=template&id=839bdf38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-empty"},[_c("div",{staticClass:"fc-setup-empty-image"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}})],1),_c("div",{staticClass:"fc-setup-empty-txt"},[_vm._t("emptyHeading")],2),_c("div",{staticClass:"fc-setup-empty-txt-desc"},[_vm._t("emptyDescription")],2)])},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupEmptyState=component.exports},
/***/291612:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupHeaderTabs}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupHeaderTabs.vue?vue&type=template&id=86381c1c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{},[_c("el-header",{staticClass:"fc-v1-setup-header",attrs:{height:"150"}},[_c("div",{staticClass:"flex-middle justify-content-space fc-header-border-bottom p20"},[_c("div",[_c("div",{staticClass:"fc-v1-setup-heading"},[_vm._t("heading")],2),_c("div",{staticClass:"fc-v1-setup-description"},[_vm._t("description")],2)]),_c("div",{staticClass:"flex-middle"},[_vm._t("actions")],2)]),_c("div",[_c("div",{staticClass:"fc-setup-tab-content"},[_vm._t("tabs",(function(){return[_vm._t("tabFilter",(function(){return[_c("div",{staticClass:"flex-middle justify-content-space p20"},[_c("div",{},[_vm._t("filter")],2),_c("div",{},[_vm._t("searchAndPagination")],2)])]})),_vm._t("tabContent")]}))],2)])])],1)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={}
/* normalize component */,component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupHeaderTabs=component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports},
/***/612649:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return GlobalScopeVariable}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/globalscope/GlobalScopeVariable.vue?vue&type=template&id=64f04535&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-email-template-page"},[_c("SetupHeader",{scopedSlots:_vm._u([{key:"heading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("setup.globalscoping.globalscoping"))+" ")]},proxy:!0},{key:"description",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("setup.globalscoping.description"))+" ")]},proxy:!0},{key:"tabs",fn:function(){return[_c("div",{staticClass:"flex-middle p20 justify-content-space"},[_c("div",[_vm.canShowApps?_c("el-select",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("setup.globalscoping.selectapp"),filterable:""},on:{change:_vm.setApplication},model:{value:_vm.applicationId,callback:function($$v){_vm.applicationId=$$v},expression:"applicationId"}},_vm._l(_vm.applicationGroups,(function(applicationList,key){return _c("el-option-group",{key:key,attrs:{label:key}},_vm._l(applicationList,(function(app){return _c("el-option",{key:app.linkName,attrs:{label:app.name,value:app.id}})})),1)})),1):_vm._e()],1),_c("div",{staticClass:"flex-middle"},[_vm.showSearchIcon?[_vm.searchHide?_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{ arrow: true, arrowType: 'round', animation: 'fade' }"}],staticClass:"pointer mR15 fc-portal-filter-border",attrs:{content:_vm.$t("setup.globalscoping.search")},on:{click:_vm.searchShowHide}},[_c("i",{staticClass:"el-icon-search fc-black-14 text-right fwBold"})]):_vm._e(),_vm.searchShow?_c("div",{staticClass:"relative mR15"},[_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.querySearch,expression:"querySearch"}],ref:"querySearch",staticClass:"fc-input-full-border2 fc-log-search width250px",attrs:{placeholder:_vm.$t("setup.globalscoping.searchsubject")},domProps:{value:_vm.querySearch},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.searchLoadData(!0)},input:function($event){$event.target.composing||(_vm.querySearch=$event.target.value)}}}),_c("i",{staticClass:"el-icon-close fc-search-close fc-black-14 text-right fwBold",on:{click:_vm.searchClose}})]):_vm._e(),_c("span",{staticClass:"separator"},[_vm._v("|")])]:_vm._e(),_c("div",[_c("pagination",{staticClass:"nowrap",attrs:{pageNo:_vm.page,total:_vm.totalCount,perPage:20},on:{onPageChanged:_vm.setPage}})],1),_c("el-button",{staticClass:"setup-el-btn mL20",attrs:{type:"primary"},on:{click:_vm.addGlobalScope}},[_vm._v(" "+_vm._s(_vm.$t("setup.globalscoping.add_global_scope"))+" ")])],2)])]},proxy:!0}])}),_vm.loading?_c("setup-loader",{scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})]},proxy:!0}],null,!1,3199698086)}):_vm.$validation.isEmpty(_vm.globalScopeVariableList)&&!_vm.loading?_c("setup-empty",{scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("setup.globalscoping.no_global_scope"))+" ")]},proxy:!0}])}):_c("el-table",{staticClass:"width100 fc-setup-table fc-setup-table-th-borderTop",attrs:{data:_vm.globalScopeVariableList,height:"calc(100vh - 225px)","header-cell-style":{background:"#f7faff"},fit:!0}},[_c("el-table-column",{attrs:{label:_vm.$t("setup.globalscoping.name")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"textoverflow-ellipsis",attrs:{title:_vm.getValue(scope.row,"displayName")}},[_vm._v(" "+_vm._s(_vm.getValue(scope.row,"displayName"))+" ")])]}}])}),_c("el-table-column",{attrs:{label:_vm.$t("setup.globalscoping.scopemodule")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_vm._v(" "+_vm._s(_vm.getValue(scope.row,"applicableModuleDisplayName"))+" ")]}}])}),_c("el-table-column",{attrs:{label:_vm.$t("setup.globalscoping.valuegenerator")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return["SCOPED"===scope.row.typeEnum?_c("div",{staticClass:"textoverflow-ellipsis",attrs:{title:_vm.getValue(scope.row,"valueGeneratorDisplayName")}},[_vm._v(" "+_vm._s(_vm.getValue(scope.row,"valueGeneratorDisplayName"))+" ")]):_c("div",[_vm._v(" "+_vm._s(_vm.$t("setup.globalscoping.all"))+" ")])]}}])}),_c("el-table-column",{attrs:{label:_vm.$t("setup.globalscoping.isswitch")},scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"textoverflow-ellipsis"},[_vm._v(" "+_vm._s(scope.row.showSwitch?"Yes":"No")+" ")])]}}])}),_c("el-table-column",{scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("el-switch",{staticClass:"Notification-toggle",attrs:{"active-color":"#3ab2c2","inactive-color":"#e5e5e5"},on:{change:function($event){return _vm.changeScopeStatus(scope.row)}},model:{value:scope.row.status,callback:function($$v){_vm.$set(scope.row,"status",$$v)},expression:"scope.row.status"}})]}}])}),_c("el-table-column",{scopedSlots:_vm._u([{key:"default",fn:function(scope){return[_c("div",{staticClass:"width50px flex-middle justify-content-space"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit fc-black2-18 pointer visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.editGlobalScope(scope.row)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete fc-black2-18 pointer visibility-hide-actions mL10",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deleteGlobalScopeVariable(scope.row)}}}),_c("Popover",{key:"popover-"+scope.row.id,attrs:{data:scope.row},on:{refresh:function(data){return _vm.fetchGlobalScopeVariables(!0)}}})],1)]}}])})],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),SetupLoader=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(186466),__webpack_require__(670560),__webpack_require__(233432)),SetupEmptyState=__webpack_require__(622957),SetupHeaderTabs=__webpack_require__(291612),api=__webpack_require__(32284),router=__webpack_require__(329435),appUtil=__webpack_require__(843097),Popovervue_type_template_id_1052a6cf_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dropdown",{attrs:{trigger:"hover"},on:{command:_vm.handleCommand}},[_c("div",{staticClass:"pointer visibility-hide-actions mL15"},[_c("i",{staticClass:"el-icon-more rotate-90"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",[_vm._v(_vm._s(_vm.getDropdownLabel))])],1)],1)},Popovervue_type_template_id_1052a6cf_staticRenderFns=[],Popovervue_type_script_lang_js={props:["data"],data:function(){return{visible:!1}},computed:{getDropdownLabel:function(){var data=this.data,_ref=data||{},showSwitch=_ref.showSwitch;return showSwitch?"Disable switch":"Enable as switch"}},methods:{handleCommand:function(){var data=this.data,_ref2=data||{},showSwitch=_ref2.showSwitch;this.setSwitchStatus(!showSwitch)},setSwitchStatus:function(status){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var data,_ref3,id,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.visible=!1,data=_this.data,_ref3=data||{},id=_ref3.id,_context.next=5,api/* API */.bl.post("/v3/scopeVariable/setSwitchStatus",{id:id,status:status});case 5:_yield$API$post=_context.sent,error=_yield$API$post.error,error?_this.$message.error(error.message||"Error Occurred"):(status?_this.$message.success("Switch Enabled"):_this.$message.success("Switch Disabled"),_this.$emit("refresh"));case 8:case"end":return _context.stop()}}),_callee)})))()}}},globalscope_Popovervue_type_script_lang_js=Popovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(globalscope_Popovervue_type_script_lang_js,Popovervue_type_template_id_1052a6cf_render,Popovervue_type_template_id_1052a6cf_staticRenderFns,!1,null,null,null)
/* harmony default export */,Popover=component.exports,validation=__webpack_require__(990260),FPagination=__webpack_require__(929593),domainEnumVsName={FACILIO:"Facilio",SERVICE_PORTAL:"Occupant Portal",TENANT_PORTAL:"Tenant Portal",VENDOR_PORTAL:"Vendor Portal",CLIENT_PORTAL:"Client Portal",DEVELOPER:"Developer",EMPLOYEE_PORTAL:"Employee Portal"},GlobalScopeVariablevue_type_script_lang_js={data:function(){return{globalScopeVariableList:[],loading:!0,applications:[],applicationGroups:[],applicationId:null,totalCount:0,searchHide:!0,searchShow:!1,querySearch:null,page:1}},title:function(){return this.$t("setup.globalscoping.scoping")},components:{SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,SetupHeader:SetupHeaderTabs/* default */.Z,Popover:Popover,Pagination:FPagination/* default */.Z},created:function(){var _this=this;this.loadApps().then((function(){_this.fetchGlobalScopeVariables()}))},computed:{appId:function(){return this.$route.params.appId?parseInt(this.$route.params.appId):-1},canShowApps:function(){var applicationGroups=this.applicationGroups;return!(0,validation/* isEmpty */.xb)(applicationGroups)},selectedApp:function(){var _this2=this;return this.applications.find((function(app){return app.id===_this2.applicationId}))},showSearchIcon:function(){var globalScopeVariableList=this.globalScopeVariableList,querySearch=this.querySearch;return!(0,validation/* isEmpty */.xb)(querySearch)||!(0,validation/* isEmpty */.xb)(globalScopeVariableList)}},watch:{page:function(newVal,oldVal){oldVal!=newVal&&this.fetchGlobalScopeVariables()}},methods:{setApplication:function(){this.fetchGlobalScopeVariables();var applicationId=this.applicationId;this.$router.replace({name:"globalscopelist",params:{appId:applicationId}})},getValue:function(data,key){return data[key]?data[key]:"---"},setPage:function(page){this.page=page,this.fetchGlobalScopeVariables()},searchLoadData:function(){this.page=1,this.totalCount=0,this.fetchGlobalScopeVariables()},searchShowHide:function(){this.searchHide=!1,this.searchShow=!0},searchClose:function(){this.searchHide=!0,this.searchShow=!1,this.querySearch=null,this.totalCount=0,this.page=1,this.fetchGlobalScopeVariables()},loadApps:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$_loadApps,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,appUtil/* loadApps */.jJ)();case 2:_yield$_loadApps=_context.sent,error=_yield$_loadApps.error,data=_yield$_loadApps.data,error?_this3.$message.error(error.message||"Error Occured"):(_this3.applications=(0,appUtil/* getFilteredApps */.iN)(data),_this3.constructAppGroups(_this3.applications));case 6:case"end":return _context.stop()}}),_callee)})))()},changeScopeStatus:function(data){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _ref,id,status,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _ref=data||{},id=_ref.id,status=_ref.status,_context2.next=3,api/* API */.bl.post("/v3/scopeVariable/setStatus",{id:id,status:status});case 3:_yield$API$post=_context2.sent,error=_yield$API$post.error,error?_this4.$message.error(error.message||"Error Occurred"):_this4.$message.success("Status updated successfully");case 6:case"end":return _context2.stop()}}),_callee2)})))()},deleteGlobalScopeVariable:function(data){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var value,_ref2,id,_yield$API$post2,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,_this5.$dialog.confirm({title:_this5.$t("setup.globalscoping.dialogtitle"),message:_this5.$t("setup.globalscoping.dialogcontent"),rbDanger:!0,rbLabel:_this5.$t("setup.delete.delete")});case 2:if(value=_context3.sent,!value){_context3.next=14;break}return _ref2=data||{},id=_ref2.id,_this5.loading=!0,_context3.next=8,api/* API */.bl.post("/v3/scopeVariable/delete",{scopeVariable:{id:id}});case 8:return _yield$API$post2=_context3.sent,error=_yield$API$post2.error,error?_this5.$message.error(error.message||"Error Occurred"):_this5.$message.success("Deleted successfully"),_context3.next=13,_this5.fetchGlobalScopeVariables();case 13:_this5.loading=!1;case 14:case"end":return _context3.stop()}}),_callee3)})))()},constructAppGroups:function(applications){var _this6=this,_getApp=(0,router/* getApp */.wx)(),currentApp=_getApp.linkName,appGroups=Object.values(applications).reduce((function(groups,app){if(app.linkName===currentApp){var appId=_this6.appId;(0,validation/* isEmpty */.xb)(appId)?(_this6.applicationId=(app||{}).id,_this6.replaceRouter()):_this6.applicationId=appId}var _ref3=app||{},appDomain=_ref3.appDomain,_ref4=appDomain||{},appDomainTypeEnum=_ref4.appDomainTypeEnum,key=domainEnumVsName[appDomainTypeEnum];return(0,validation/* isEmpty */.xb)(groups[key])&&(groups[key]=[]),groups[key].push(app),groups}),{});(0,validation/* isEmpty */.xb)(this.applicationId)&&(this.applicationId=(applications[0]||{}).id),this.applicationGroups=appGroups},replaceRouter:function(){var appId=this.appId;if((0,validation/* isEmpty */.xb)(appId)){var applicationId=this.applicationId;this.$router.replace({name:"globalscopelist",params:{appId:applicationId}})}},fetchGlobalScopeVariables:function(){var _arguments=arguments,_this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var force,applicationId,page,querySearch,_yield$API$get,error,data,meta,_ref5,scopeVariable,_ref6,totalCount;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return force=!(_arguments.length>0&&void 0!==_arguments[0])||_arguments[0],_this7.loading=!0,applicationId=_this7.applicationId,page=_this7.page,querySearch=_this7.querySearch,_context4.next=5,api/* API */.bl.get("/v3/scopeVariable/list",{appId:applicationId,perPage:20,page:page,search:querySearch},{force:force});case 5:_yield$API$get=_context4.sent,error=_yield$API$get.error,data=_yield$API$get.data,meta=_yield$API$get.meta,(0,validation/* isEmpty */.xb)(error)?(_ref5=data||{},scopeVariable=_ref5.scopeVariable,_ref6=meta||{},totalCount=_ref6.totalCount,_this7.globalScopeVariableList=scopeVariable,_this7.totalCount=totalCount):_this7.$message.error(error.message||"Error Occurred"),_this7.loading=!1;case 11:case"end":return _context4.stop()}}),_callee4)})))()},addGlobalScope:function(){var applicationId=this.applicationId;this.$router.push({name:"globalscopenew",params:{applicationId:applicationId}})},editGlobalScope:function(data){var applicationId=this.applicationId,_ref7=data||{},id=_ref7.id;this.$router.push({name:"globalscopeedit",params:{applicationId:applicationId,id:id}})}}},globalscope_GlobalScopeVariablevue_type_script_lang_js=GlobalScopeVariablevue_type_script_lang_js,GlobalScopeVariable_component=(0,componentNormalizer/* default */.Z)(globalscope_GlobalScopeVariablevue_type_script_lang_js,render,staticRenderFns,!1,null,"64f04535",null)
/* harmony default export */,GlobalScopeVariable=GlobalScopeVariable_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/12649.js.map