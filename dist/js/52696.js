(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[52696],{
/***/490966:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ColumnCustomization}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ColumnCustomization.vue?vue&type=template&id=3753cf18
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.showDialog,fullscreen:!0,"custom-class":"cc-dialog",title:_vm.$t("common._common.column_settings"),"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event}}},[_c("div",{staticClass:"scrollable",staticStyle:{padding:"20px 0","max-height":"85vh"}},[_vm.fixedFields&&_vm.fixedFields.length?_c("div",{staticClass:"fixed-column"},[_c("el-checkbox-group",{model:{value:_vm.selectedFixedColumns,callback:function($$v){_vm.selectedFixedColumns=$$v},expression:"selectedFixedColumns"}},_vm._l(_vm.fixedFields,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",staticStyle:{border:"none"},attrs:{disabled:field.disabled,label:field.fieldId}},[_vm._v(_vm._s(_vm.getDisplayName(field)))])})),1)],1):_vm._e(),_c("el-divider",{staticClass:"mT0 mB20"}),_c("el-checkbox-group",{staticClass:"fc-column-checkbox pL20 pR20 pT0 pB0",model:{value:_vm.selectedColumns,callback:function($$v){_vm.selectedColumns=$$v},expression:"selectedColumns"}},[_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.sortedFields,"data-parent":"default"}},_vm._l(_vm.sortedFields,(function(field){return _c("el-checkbox",{key:field.name,staticClass:"column-item",class:{checkboxSelected:!0===field.edit},attrs:{label:field.name,value:field.name}},[_c("el-row",[_c("el-col",{attrs:{span:1}},[_c("inline-svg",{staticClass:"vertical-middle cursor-drag icon-right column-drag-icon",staticStyle:{cursor:"-webkit-grabbing"},attrs:{src:"drag-drop",iconClass:"icon icon-sm-md"}})],1),_c("el-col",{attrs:{span:22}},[field.edit?_c("el-input",{ref:"columnRenameInp",refInFor:!0,staticClass:"fc-input-border-remove width90 column-name-change-input",attrs:{placeholder:"Change your column name",autofocus:!0},on:{blur:function($event){field.edit=!1,_vm.$emit("update")},keyup:function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter"))return null;field.edit=!1,_vm.$emit("update")}},model:{value:field.columnDisplayName,callback:function($$v){_vm.$set(field,"columnDisplayName",$$v)},expression:"field.columnDisplayName"}}):_c("div",{},[_vm._v(" "+_vm._s(field.columnDisplayName)+" "),field.field&&field.field.displayName!==field.columnDisplayName?_c("span",{staticClass:"fc-grey-text12 pL5"},[_vm._v(_vm._s(field.field.displayName))]):_vm._e()])],1),_c("el-col",{staticClass:"visibility-hide-actions text-right",attrs:{span:1}},[_c("i",{staticClass:"el-icon-edit pR10 fc-grey3-text14 pL25 column-edit-icon",on:{click:function($event){return $event.stopPropagation(),$event.preventDefault(),_vm.showRenameColumn(field)}}})])],1)],1)})),1),_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.selectedlookupColumns,"data-parent":_vm.selectedLookup}},_vm._l(_vm.selectedlookupColumns,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",attrs:{label:field.fieldId,"data-field-id":field.fieldId},on:{change:function($event){return _vm.onLookupSelected(field)}}},[_vm._v(" "+_vm._s(field.columnDisplayName)+" ")])})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.showDialog=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.isSaving,disabled:_vm.isSaving},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.isSaving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),vuex_esm=(__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(634338),__webpack_require__(339772),__webpack_require__(947522),__webpack_require__(420629)),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),validation=__webpack_require__(990260),jquery=__webpack_require__(619755),jquery_default=__webpack_require__.n(jquery),columnConfigUtil=__webpack_require__(486613),ColumnCustomizationvue_type_script_lang_js={props:["visible","moduleName","viewName","relatedViewDetail","relatedMetaInfo","refreshRelatedList","excludeMainField"],data:function(){return{selectedColumns:[],selectedFixedColumns:[],showDialog:this.visible,sortedFields:this.allFields,nonSelectableColumns:["localId","photoId"],lookupMetaColumns:{},selectedLookup:"",dragOptions:{handle:".icon-right",ghostClass:"drag-ghost",dragClass:"custom-drag",animation:150},columnNameShow:!1,isSaving:!1,editedColumn:null}},components:{draggable:vuedraggable_umd_default()},created:function(){var _this$nonSelectableCo,nonSelectableColumns=this.$getProperty(this.columnConfig,"nonSelectableColumns");(0,validation/* isEmpty */.xb)(nonSelectableColumns)||(_this$nonSelectableCo=this.nonSelectableColumns).push.apply(_this$nonSelectableCo,(0,toConsumableArray/* default */.Z)(nonSelectableColumns));this.sortedFields=this.allFields},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({stateMetaInfo:function(state){return state.view.metaInfo},stateViewDetail:function(state){return state.view.currentViewDetail}})),{},{metaInfo:function(){var stateMetaInfo=this.stateMetaInfo,relatedMetaInfo=this.relatedMetaInfo;return(0,validation/* isEmpty */.xb)(relatedMetaInfo)?stateMetaInfo:relatedMetaInfo},viewDetail:function(){var stateViewDetail=this.stateViewDetail,relatedViewDetail=this.relatedViewDetail;return(0,validation/* isEmpty */.xb)(relatedViewDetail)?stateViewDetail:relatedViewDetail},currentView:function(){return this.viewName?this.viewName:this.$route.params.viewname?this.$route.params.viewname:"all"},columnConfig:function(){var _ref=this.$attrs||{},columnConfig=_ref.columnConfig;return(0,validation/* isEmpty */.xb)(columnConfig)?(0,columnConfigUtil/* getColumnConfig */.U)(this.moduleName):columnConfig},fixedColumns:function(){
// Will be disabled. User wont be able to select
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedColumns=columnConfig.fixedColumns;return fixedColumns}return[]},fixedSelectableColumns:function(){
// Cannot change the order
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedSelectableColumns=columnConfig.fixedSelectableColumns;return fixedSelectableColumns}return[]},availableColumns:function(){var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var availableColumns=columnConfig.availableColumns;return availableColumns}return[]},metaColumns:function(){var _this=this,columns=[];return this.metaInfo&&this.metaInfo.fields&&this.viewDetail&&(columns=this.metaInfo.fields.map((function(field){return field.columnDisplayName=_this.viewDetail.defaultModuleFields&&_this.viewDetail.defaultModuleFields[field.name]?_this.viewDetail.defaultModuleFields[field.name].columnDisplayName:field.displayName,field}))),columns},allFields:function(){var _this2=this,viewFields=this.viewFields.filter((function(field){return 17!==_this2.$getProperty(field,"field.dataType")})),metaColumns=this.metaColumns.filter((function(field){return!_this2.viewFields.find((function(val){return val.name===field.name}))&&!(_this2.nonSelectableColumns||[]).includes(field.name)&&(!(_this2.availableColumns||{}).length||-1!==_this2.availableColumns.indexOf(field.name)||!field.default)&&17!==field.dataType})),columns=[].concat((0,toConsumableArray/* default */.Z)(viewFields),(0,toConsumableArray/* default */.Z)(metaColumns)).filter((function(field){return!(_this2.allFixedColumns||[]).includes(field.name)}));return columns},viewFields:function(){var _this3=this,columns=[];return this.viewDetail&&this.viewDetail.fields&&(columns=this.viewDetail.fields.map((function(vf){vf.name=(vf.field||{}).name||vf.fieldName,vf.fieldId=(vf.field||{}).fieldId;var defaultColumnName=_this3.viewDetail.defaultModuleFields&&_this3.viewDetail.defaultModuleFields[vf.name]?_this3.viewDetail.defaultModuleFields[vf.name].columnDisplayName:null;return vf.columnDisplayName=vf.columnDisplayName||defaultColumnName||vf.field.displayName,vf}))),columns},fixedFields:function(){var _this4=this;return this.metaColumns.filter((function(field){return(_this4.allFixedColumns||[]).includes(field.name)})).map((function(field){return field.disabled=(_this4.fixedColumns||[]).includes(field.name),field}))},allFixedColumns:function(){return(0,validation/* isEmpty */.xb)(this.fixedSelectableColumns)?this.fixedColumns:this.fixedColumns.concat(this.fixedSelectableColumns)},lookupList:function(){var _this5=this,fields=[];return(this.columnConfig||{}).lookupToShow&&this.metaColumns&&(fields=this.metaColumns.filter((function(field){return field.lookupModule&&(!_this5.columnConfig.lookupToShow.length||(_this5.columnConfig.lookupToShow||[]).includes(field.name))}))),fields},selectedlookupColumns:function(){var _this6=this;return this.lookupMetaColumns[this.selectedLookup]?this.lookupMetaColumns[this.selectedLookup].filter((function(field){return-1===_this6.sortedFields.findIndex((function(vf){return vf.fieldId===field.fieldId}))})).map((function(field){return field.columnDisplayName=field.displayName,field.parentFieldId=_this6.selectedLookupObj.fieldId,field})):[]},selectedLookupObj:function(){var _this7=this;return this.lookupList.find((function(field){return field.name===_this7.selectedLookup}))},mainField:function(){return this.metaColumns.find((function(field){return field.mainField}))}}),watch:{visible:function(val,oldVal){val&&this.reInit(),this.showDialog=val},showDialog:function(val,oldVal){this.$emit("update:visible",val)},allFields:function(val){this.sortedFields=val}},methods:{showRenameColumn:function(field){var _this8=this;this.$set(field,"edit",!0),this.$nextTick((function(){_this8.$refs["columnRenameInp"][0].focus()}))},save:function(){var _this9=this;this.isSaving=!0;var excludeMainField=this.excludeMainField,fields=[];fields=(0,validation/* isEmpty */.xb)(excludeMainField)?[{fieldId:this.mainField.id}].concat((0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}})))):(0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}}))),fields=[].concat((0,toConsumableArray/* default */.Z)(fields),(0,toConsumableArray/* default */.Z)(this.selectedFixedColumns.map((function(id){return{fieldId:id}}))));var self=this;this.$store.dispatch("view/customizeColumns",{moduleName:this.moduleName,viewName:this.currentView,fields:fields}).then((function(){self.isSaving=!1,self.showDialog=!1,self.$emit("refreshRelatedList"),self.$message.success(self.$t("common._common.view_updated_successfully"))})).catch((function(error){_this9.$message.error(error.message||_this9.$t("common._common.error_occured"))}))},editColumn:function(){this.editedColumn=this.field},reInit:function(){var _this10=this;this.selectedLookup="",this.selectedColumns=[],this.selectedFixedColumns=[],this.viewFields.forEach((function(vf){(_this10.allFixedColumns||[]).includes(vf.name)&&-1===vf.parentFieldId?(_this10.fixedSelectableColumns||[]).includes(vf.name)&&_this10.selectedFixedColumns.push(vf.fieldId):_this10.selectedColumns.push(vf.name)}))},loadModuleMeta:function(){var _this11=this;this.selectedLookup&&!this.lookupMetaColumns[this.selectedLookup]&&this.$http.get("/module/meta?moduleName="+this.selectedLookupObj.lookupModule.name).then((function(response){_this11.$set(_this11.lookupMetaColumns,_this11.selectedLookup,response.data.meta.fields)}))},getDisplayName:function(field){var displayName=field.columnDisplayName;if(this.viewDetail&&this.viewDetail.fields){var vf=this.viewDetail.fields.find((function(vf){return vf.name===field.name}));vf&&(displayName=vf.columnDisplayName||displayName)}return displayName},onLookupSelected:function(field){this.animate(field.fieldId,(function(){this.selectedlookupColumns=this.selectedlookupColumns.filter((function(lf){return lf.fieldId!==field.fieldId})),field.columnDisplayName+=" ("+this.selectedLookupObj.displayName+")",this.sortedFields.push(field)}))},animate:function(fieldId,cbk){var $selectedElement=jquery_default()('[data-field-id="'+fieldId+'"]'),oldOffset=$selectedElement.offset();$selectedElement.appendTo(jquery_default()("[data-parent='default']"));var newOffset=$selectedElement.offset(),temp=$selectedElement.clone().appendTo("body");temp.css({position:"absolute",left:oldOffset.left,top:oldOffset.top,zIndex:3e3,width:$selectedElement[0].offsetWidth}),$selectedElement.css("visibility","hidden");var self=this;temp.animate({top:newOffset.top,left:newOffset.left},350,(function(){
// $selectedElement.css('visibility', 'visible')
$selectedElement.remove(),temp.remove(),cbk.call(self)}))}}},components_ColumnCustomizationvue_type_script_lang_js=ColumnCustomizationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ColumnCustomizationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ColumnCustomization=component.exports},
/***/21864:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return OutsideClick}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/OutsideClick.vue?vue&type=template&id=6761c108
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.onOutsideClick,expression:"onOutsideClick"}]},[_vm._t("default")],2):_vm._e()},staticRenderFns=[],OutsideClickvue_type_script_lang_js={props:["visibility"],methods:{onOutsideClick:function(){this.$emit("onOutsideClick"),this.$emit("update:visibility",!1)}}},components_OutsideClickvue_type_script_lang_js=OutsideClickvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_OutsideClickvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OutsideClick=component.exports},
/***/720096:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PreviewFile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PreviewFile.vue?vue&type=template&id=447c7e89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.currentFile?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"preview-file"},[_c("div",{staticClass:"top-toolbar"},[_c("div",{staticClass:"a-top-toolbar"},[_c("div",{staticClass:"file-name word-break-keep"},[_vm._v(" "+_vm._s(_vm.currentFile.fileName)+" ")]),_c("div",{staticClass:"top-toolbar-icon-right flex align-center"},[_vm.currentFile.contentType.includes("image")?[_c("div",{staticClass:"flex-middle pL15"},[_vm.showOriginalImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showOriginalPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_original"))+" ")]):_vm._e(),_vm.showCompressedImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showCompressedPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_default"))+" ")]):_vm._e()]),_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.currentFile.contentType.includes("pdf")?[_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.showDeleteOption()?_c("div",{staticClass:"flex-middle pL15",on:{click:function($event){return _vm.deletePreview()}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color close vertical-text-top",attrs:{src:"svgs/delete",iconClass:"icon icon-md"}})],1):_vm._e(),_c("div",{staticClass:"pL15"},[_c("i",{staticClass:"el-icon-close close",on:{click:_vm.closePreview}})])],2)])]),_vm.currentFileIndex>0?_c("a",{staticClass:"el-icon-arrow-left prev",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(-1)}}}):_vm._e(),_vm.currentFileIndex<_vm.files.length-1?_c("a",{staticClass:"el-icon-arrow-right next",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(1)}}}):_vm._e(),_c("div",{staticClass:"preview-content"},[_vm.currentFile.contentType.includes("image")?[_vm.compressedImage?_c("img",{staticClass:"content",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl)}}):_vm.originalImage?_c("img",{staticClass:"content original",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl+"?fetchOriginal=true")}}):_vm._e()]:_vm.currentFile.contentType.includes("pdf")?_c("div",{staticClass:"width100 height-100"},[_c("iframe",{staticClass:"fc-preview-pdf",attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl),height:"100%",width:"100%"}})]):_vm.isVideoSupported(_vm.currentFile.contentType)?_c("div",{staticClass:"width100 height-100 fc-preview-video"},[_c("video",{attrs:{controls:""}},[_c("source",{attrs:{src:_vm.$prependBaseUrl(_vm.$getProperty(_vm.currentFile,"downloadUrl",null)),type:_vm.$getProperty(_vm.currentFile,"contentType")}}),_vm._v(" "+_vm._s(_vm.$t("common._common.browser_not_supported"))+" ")])]):_c("div",{staticClass:"no-preview"},[_c("div",{staticClass:"flex justify-center pT24"},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:_vm.getFileIcon(_vm.currentFile),iconClass:"icon icon-60 overlay"}})],1),_c("div",{staticClass:"f14 pT12 pB12"},[_vm._v("No preview available")]),_c("div",{staticClass:"download-button"},[_c("a",{staticClass:"flex flex-row",staticStyle:{color:"#ffff"},on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("div",[_vm._v("Download")])])])])],2),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()]):_vm._e()},staticRenderFns=[],validation=(__webpack_require__(339772),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(228436),__webpack_require__(990260)),PreviewFilevue_type_script_lang_js={props:["previewFile","files","visibility","showDelete","isLockedState","isTaskClosed"],data:function(){return{show:!0,previewUrl:null,currentFileIndex:0,currentFile:null,imageMargin:null,exportDownloadUrl:null,originalImage:!1,compressedImage:!0,showOriginalImage:!0,showCompressedImage:!1}},destroyed:function(){window.removeEventListener("keyup",this.handler)},mounted:function(){window.addEventListener("keyup",this.handler),this.preloadImages()},watch:{},computed:{},methods:{handler:function(){
// If escape key is pressed...
27===event.keyCode?this.closePreview():37===event.keyCode?this.plusSlides(-1):39===event.keyCode&&this.plusSlides(1)},preloadImages:function(){this.currentFile=this.previewFile?this.previewFile:this.files[0],this.currentFileIndex=this.files.indexOf(this.currentFile)},plusSlides:function(n){var index=this.currentFileIndex+n;index<0&&(index=0),index>=this.files.length&&(index=this.files.length-1),this.currentFileIndex=index,this.currentFile=this.files[index]},closePreview:function(){this.$emit("update:visibility",!1)},deletePreview:function(){var currentFile=this.currentFile;this.$emit("onDelete",currentFile)},downloadAttachment:function(file){var _this=this,_ref=file||{},url=_ref.downloadUrl;this.exportDownloadUrl&&(this.exportDownloadUrl=null),this.$nextTick((function(){_this.exportDownloadUrl=url}))},showOriginalPhoto:function(){this.originalImage=!0,this.showCompressedImage=!0,this.showOriginalImage=!1,this.compressedImage=!1},showCompressedPhoto:function(){this.showCompressedImage=!1,this.originalImage=!1,this.showOriginalImage=!0,this.compressedImage=!0},getFileIcon:function(attachment){var contentType=attachment.contentType,FILE_TYPE_ICONS=this.$constants.FILE_TYPE_ICONS,selectedIndex=FILE_TYPE_ICONS.findIndex((function(icons){var fileTypes=icons.fileTypes;return fileTypes.some((function(type){return contentType.includes(type)}))}));return(0,validation/* isEmpty */.xb)(selectedIndex)?FILE_TYPE_ICONS[0].path:FILE_TYPE_ICONS[selectedIndex].path},isVideoSupported:function(contentType){contentType=contentType||"";var supportedTypes=["video/webm","video/mp4","video/ogg"];return supportedTypes.includes(contentType.trim().toLowerCase())},showDeleteOption:function(){var showDelete=this.showDelete,isLockedState=this.isLockedState,isTaskClosed=this.isTaskClosed;return showDelete&&!isLockedState&&!isTaskClosed}}},components_PreviewFilevue_type_script_lang_js=PreviewFilevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PreviewFilevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PreviewFile=component.exports},
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/579814:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FilePreviewColumn}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FilePreviewColumn.vue?vue&type=template&id=423924f8
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.canShowFileDisplay?_c("div",{staticClass:"d-flex file-column",on:{click:function($event){return _vm.openAttachment()}}},[_c("a",{staticClass:"truncate-text"},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue)+" ")])]):_c("div",[_vm._v("---")]),_vm.showPreview&&_vm.selectedFile?_c("preview-file",{attrs:{visibility:_vm.showPreview,previewFile:_vm.selectedFile,files:[_vm.selectedFile]},on:{"update:visibility":function($event){_vm.showPreview=$event}}}):_vm._e()],1)},staticRenderFns=[],validation=(__webpack_require__(434284),__webpack_require__(990260)),PreviewFile=__webpack_require__(720096),FilePreviewColumnvue_type_script_lang_js={props:["field","record","isV2"],components:{PreviewFile:PreviewFile/* default */.Z},data:function(){return{selectedFile:null,showPreview:!1}},computed:{getColumnDisplayValue:function(){var fileName,field=this.field,record=this.record,isV2=this.isV2,data=this.getRecordData(field,record);return fileName=isV2?data["".concat(field.name,"FileName")]:record["".concat(field.name,"FileName")],(0,validation/* isEmpty */.xb)(fileName)?"---":fileName},canShowFileDisplay:function(){var field=this.field,record=this.record,isV2=this.isV2,data=this.getRecordData(field,record);return isV2?!(0,validation/* isEmpty */.xb)(data["".concat(field.name,"FileName")]):!(0,validation/* isEmpty */.xb)(record["".concat(field.name,"FileName")])}},methods:{openAttachment:function(){var field=this.field,record=this.record,isV2=this.isV2,data=this.getRecordData(field,record);isV2?(this.selectedFile={contentType:data["".concat(field.name,"ContentType")],fileName:data["".concat(field.name,"FileName")],downloadUrl:data["".concat(field.name,"DownloadUrl")],previewUrl:data["".concat(field.name,"Url")]},this.showPreview=!0):(this.selectedFile={contentType:record["".concat(field.name,"ContentType")],fileName:record["".concat(field.name,"FileName")],downloadUrl:record["".concat(field.name,"DownloadUrl")],previewUrl:record["".concat(field.name,"Url")]},this.showPreview=!0)},getRecordData:function(field,record){var data;return data=field.default||(0,validation/* isEmpty */.xb)(record.data)?record:record.data,data}}},list_FilePreviewColumnvue_type_script_lang_js=FilePreviewColumnvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FilePreviewColumnvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FilePreviewColumn=component.exports},
/***/724460:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SignatureColumn}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/SignatureColumn.vue?vue&type=template&id=00c0fd35&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasSignature({field:_vm.field,record:_vm.record})?_c("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"hover","close-delay":100}},[_c("div",{staticClass:"signature-field-container"},[_c("img",{attrs:{src:_vm.getSignatureUrl({field:_vm.field,record:_vm.record})}})]),_c("a",{attrs:{slot:"reference"},slot:"reference"},[_vm._v("Signed")])]):_c("div",[_vm._v("Not Signed")])],1)},staticRenderFns=[],validation=(__webpack_require__(434284),__webpack_require__(990260)),baseUrl=__webpack_require__(420499),SignatureColumnvue_type_script_lang_js={props:["field","record"],methods:{hasSignature:function(props){var field=props.field,record=props.record,_ref=field||{},name=_ref.name,isDefaultField=this.$getProperty(field||{},"default");if(isDefaultField)return!(0,validation/* isEmpty */.xb)(record["".concat(name,"Id")]);var recordData=this.$getProperty(record,"data.".concat(name,"Id"));return!(0,validation/* isEmpty */.xb)(recordData)||!(0,validation/* isEmpty */.xb)(record["".concat(name,"Id")])},getSignatureUrl:function(props){
// TODO move this handling to some util
var field=props.field,record=props.record,_ref2=field||{},name=_ref2.name;if(!(0,validation/* isEmpty */.xb)(field)){var url="".concat((0,baseUrl/* getBaseURL */.BS)()),previewUrl=null,_field$default=field.default,isDefault=void 0!==_field$default&&_field$default;return previewUrl=isDefault?this.$getProperty(record,"".concat(name,"Url")):this.$getProperty(record.data,"".concat(name,"Url"))||this.$getProperty(record,"".concat(name,"Url")),(0,validation/* isEmpty */.xb)(previewUrl)?void 0:url+"".concat(previewUrl.split("/api")[1])}}}},list_SignatureColumnvue_type_script_lang_js=SignatureColumnvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_SignatureColumnvue_type_script_lang_js,render,staticRenderFns,!1,null,"00c0fd35",null)
/* harmony default export */,SignatureColumn=component.exports},
/***/930871:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FilterCondition}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/FilterCondition.vue?vue&type=template&id=07f5ab06&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"filter-condition-container"},[_c("el-popover",{attrs:{value:!0,visibleArrow:!1,popperClass:_vm.popoverClass}},[_c("outside-click",{staticClass:"filter-condition-block",attrs:{visibility:!0},on:{onOutsideClick:function($event){return _vm.close()}}},[_c("div",{staticClass:"filter-condition-body"},[_vm.isTag?_c("div",{staticClass:"fc-dark-blue-txt13 f13 pointer mL10 pT10 pB10 fwBold",on:{click:function($event){return $event.stopPropagation(),_vm.$emit("back")}}},[_c("i",{staticClass:"el-icon-back fw6 mR10 fc-dark-blue-txt13"}),_vm._v(" Back to Filter List ")]):_vm._e(),_vm.currentFilterProxy?_c("div",{staticClass:"filter-condition-radion-btn pT10"},[_vm.dateTimeFields.includes(_vm.fieldName)||["DATE_TIME","DATE"].includes(_vm.currentFilterProxy.operator)?_c("div",[_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-radio",{key:value,staticClass:"fc-radio-btn pB10",attrs:{label:value},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" "+_vm._s(label)+" ")])})),"date"===_vm.currentFilterProxy.type?_c("div",[_vm.currentFilterProxy.hideDateRange?_vm._e():_c("el-radio",{staticClass:"fc-radio-btn pB10",attrs:{label:"20",value:"20"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" Custom ")]),"20"===_vm.currentFilterValueProxy?_c("f-date-picker",{staticClass:"position-relative fc-subheader-right-search",attrs:{type:"datetimerange","value-format":"timestamp",format:"dd-MM-yyyy HH:mm"},on:{change:_vm.applyFilters},model:{value:_vm.currentFilterProxy.dateRange,callback:function($$v){_vm.$set(_vm.currentFilterProxy,"dateRange",$$v)},expression:"currentFilterProxy.dateRange"}}):_vm._e()],1):_vm._e()],2):_c("div",{staticClass:"filter-radio-display"},[_vm._l(_vm.conditionList,(function(condition){return[_vm.allowedConditions(condition)?_c("el-radio",{key:condition.operatorId,staticClass:"fc-radio-btn pB10",attrs:{label:condition.operatorId},model:{value:_vm.operatorId,callback:function($$v){_vm.operatorId=$$v},expression:"operatorId"}},[_vm._v(" "+_vm._s(condition.operator)+" "),"select"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-select",{staticClass:"search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"Select"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1)],1),["resourceType","lookup"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_vm.$fieldUtils.isLookupDropDownField(_vm.metaInfo.fields.find((function(v){return v.name===_vm.fieldName})))?_c("FLookupFieldWrapper",{staticClass:"search-input-comp search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{hideDropDown:_vm.hideDropDownForLookup,field:_vm.getFieldObj(_vm.currentFilterProxy,_vm.fieldName),label:_vm.currentFilterProxy.selectedLabel},on:{recordSelected:_vm.setLookUpFilter,showingLookupWizard:function($event){_vm.showingLookupWizard=!0}},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}}):_vm._e()],1):_vm._e(),"string"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"text",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"number"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"decimal"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),["asset","space"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_c("div",{staticClass:"resource-list"},[_c("el-select",{staticClass:"multi resource-list el-input-textbox-full-border fc-tag mT1 fc-search-select-width mT10 search-filter-border-left",attrs:{filterable:"",multiple:"","collapse-tags":"",value:_vm.$validation.isEmpty(_vm.currentFilterValueProxy)?null:[1],disabled:""}},[_c("el-option",{attrs:{label:_vm.spaceAssetFilter,value:1}})],1),_c("i",{staticClass:"el-input__icon el-icon-search filter-spacce-condition-search",attrs:{slot:"suffix"},on:{click:function($event){return _vm.spaceAssetProps(_vm.currentFilterProxy)}},slot:"suffix"})],1),_vm.chooserVisibility?_c("space-asset-multi-chooser",{staticClass:"fc-input-full-border-select2",attrs:{showAsset:"asset"===_vm.currentFilterProxy.displayType,initialValues:_vm.initialValues,visibility:_vm.chooserVisibility,hideBanner:!0},on:{associate:function($event){return _vm.associateResource($event,_vm.currentFilterProxy)},"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e()],1):_vm._e()]):_vm._e()]}))],2)]):_vm._e()]),_c("div",{staticClass:"search-select-filter-btn"},[_c("el-button",{staticClass:"btn-green-full filter-footer-btn fw-bold",on:{click:function($event){return _vm.applyFilters()}}},[_vm._v(" DONE ")])],1)])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),OutsideClick=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(21864)),validation=__webpack_require__(990260),SpaceAssetMultiChooser=__webpack_require__(673362),FDatePicker=__webpack_require__(358551),SearchTagMixin=__webpack_require__(200689),FLookupFieldWrapper=__webpack_require__(201117),FilterConditionvue_type_script_lang_js={props:["fieldName","isTag","popClass","hideDropDownForLookup"],components:{SpaceAssetMultiChooser:SpaceAssetMultiChooser/* default */.Z,FDatePicker:FDatePicker/* default */.Z,OutsideClick:OutsideClick/* default */.Z,FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},mixins:[SearchTagMixin/* default */.Z],data:function(){return{initialValues:null,chooserVisibility:!1,excludeOperators:[74,75,76,77,78,79,35,87,52,53],operatorId:null,operators:{subject:"STRING",title:"STRING",primaryContactName:"STRING",description:"STRING",name:"STRING",primaryContactEmail:"STRING",primaryContactPhone:"STRING",assetCategoryId:"LOOKUP",kpiCategory:"LOOKUP",assetDepartment:"LOOKUP",siteId:"LOOKUP",assetType:"LOOKUP",category:"LOOKUP",dueDate:"DATE",actualWorkEnd:"DATE",space:"LOOKUP",visitedSpace:"LOOKUP",asset:"LOOKUP",resource:"LOOKUP",sourceType:"NUMBER",ticketType:"LOOKUP",typeId:"LOOKUP",status:"LOOKUP",moduleState:"LOOKUP",assignedTo:"LOOKUP",registeredBy:"LOOKUP",executedBy:"LOOKUP",frequency:"LOOKUP",createdTime:"LOOKUP",tasks:"LOOKUP",priority:"LOOKUP",alarmType:"NUMBER",acknowledgedBy:"LOOKUP",severity:"LOOKUP",previousSeverity:"LOOKUP",readingAlarmCategory:"LOOKUP",readingrule:"LOOKUP",tenant:"LOOKUP"},popoverClass:"right-0 p0",showingLookupWizard:!1}},computed:{currentFilterProxy:{get:function(){var fieldName=this.fieldName,filterObjectsData=this.filterObjectsData;return filterObjectsData[fieldName]||{}},set:function(value){var filterObjectsData=this.filterObjectsData,fieldName=this.fieldName;this.$set(filterObjectsData,fieldName,value)}},currentFilterValueProxy:{get:function(){var currentFilterProxy=this.currentFilterProxy;return currentFilterProxy.value||[]},set:function(value){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value})}},spaceAssetFilter:function(){var currentFilterProxy=this.currentFilterProxy,filter="";return(0,validation/* isEmpty */.xb)(currentFilterProxy.value)||(filter=currentFilterProxy.value.length,"asset"===currentFilterProxy.displayType?filter+="Asset":filter+="Space",currentFilterProxy.value.length>1&&(filter+="s")),filter},conditionList:function(){var type=this.$getProperty(this.operators,this.fieldName,null),_ref=this.metaInfo||{},_ref$operators=_ref.operators,operators=void 0===_ref$operators?{}:_ref$operators;return(0,validation/* isEmpty */.xb)(type)?(type=this.currentFilterProxy,operators[type.operator]):operators[type]}},watch:{fieldName:{handler:function(){var currentFilterProxy=this.currentFilterProxy;this.operatorId=this.$getProperty(currentFilterProxy,"operatorId",null)},immediate:!0},popClass:{handler:function(newValue){newValue&&(this.popoverClass=newValue,this.popoverClass+=" p0")},immediate:!0}},methods:{allowedConditions:function(label){return!("BUILDING_IS"===label._name&&"space"!==this.fieldName||"LOOKUP"===label._name||this.excludeOperators.includes(label.operatorId))},associateResource:function(resource,field){this.chooserVisibility=!1,field.value=resource.resourceList?resource.resourceList.map((function(res){return res.id})):[],this.applyFilters()},applyFilters:function(){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{operatorId:this.operatorId}),this.applyFilter(),this.close()},close:function(){this.chooserVisibility||this.showingLookupWizard||this.$emit("close")}}},components_FilterConditionvue_type_script_lang_js=FilterConditionvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FilterConditionvue_type_script_lang_js,render,staticRenderFns,!1,null,"07f5ab06",null)
/* harmony default export */,FilterCondition=component.exports},
/***/200689:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SearchTagMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
var render,staticRenderFns,defineProperty=__webpack_require__(482482),slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(336585),__webpack_require__(450886),__webpack_require__(212826),__webpack_require__(420629)),validation=__webpack_require__(990260),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),SPACE_FIELDS=["space","visitedSpace","resourceIdSpace"],OPERATOR_CHECK={isEmpty:1,isNotEmpty:2,related:88},SearchTagMixinvue_type_script_lang_js={created:function(){var moduleName=this.moduleName,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)&&moduleName){var promises=[this.$store.dispatch("loadTicketType"),this.$store.dispatch("loadAssetType"),this.$store.dispatch("loadRoles"),this.$store.dispatch("loadAssetDepartment"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadInventoryCategory"),this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadAlarmSeverity"),this.$store.dispatch("loadReadingAlarmCategory"),this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadTicketStatus",moduleName),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadUsers")];this.searchMetaInfo||promises.push(this.$store.dispatch("view/loadModuleMeta",moduleName)),Promise.all(promises).catch((function(){})).finally(this.initSearchFields)}},data:function(){return{excludeCustomfieldsForSpecificModules:["readingrule","preventivemaintenance"],dateTimeFields:["createdTime","dueDate","responseDueDate","actualWorkEnd","acknowledgedTime","warrantyExpiryDate","clearedTime","modifiedTime"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({showSearch:function(state){return state.search.active},users:function(state){return state.users},groups:function(state){return state.groups},viewMetaInfo:function(state){return state.view.metaInfo}})),(0,vuex_esm/* mapGetters */.Se)({getFilterConfig:"search/getFilterConfig"})),{},{metaInfo:function(){return this.viewMetaInfo},appliedFilters:function(){var $route=this.$route,_ref=$route||{},search=_ref.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(this.$route.query.search)},filterObjectsData:{get:function(){var config=this.getFilterConfig;return this.$getProperty(config,"data",null)},set:function(value){var config=this.getFilterConfig||{};this.$store.dispatch("search/updateFilterConfig",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},config),{},{data:value}))}}}),watch:{moduleName:function(newVal,oldVal){if(newVal&&newVal!==oldVal&&(0,validation/* isUndefined */.o8)(this.singleFieldFilterObj)){var moduleName=this.moduleName,excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName),payload={moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:this.includeAllMetaFields};this.searchMetaInfo||this.$store.dispatch("view/loadModuleMeta",newVal),this.$store.dispatch("loadTicketStatus",newVal),this.$store.dispatch("search/init",payload)}}},methods:{initSearchFields:function(){var _this=this,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)){if(this.config){var config=cloneDeep_default()(this.config);this.$store.dispatch("search/updateFilterConfig",config)}var excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,moduleName=this.moduleName,metaInfo=this.metaInfo,includeAllMetaFields=this.includeAllMetaFields,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName);this.$store.dispatch("search/init",{moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:includeAllMetaFields,metaInfo:metaInfo}).finally((function(){return _this.setFilterApplied()}))}},getFieldObj:function(currentFilterProxy,fieldName){var metaInfo=this.metaInfo;if(88!==currentFilterProxy.operatorId){var searchFieldName=fieldName;["resourceIdSpace","resourceIdAsset"].includes(fieldName)&&(searchFieldName="space");var fieldObj=metaInfo.fields.find((function(field){return field.name===searchFieldName}));return"resourceType"===currentFilterProxy.displayType&&this.$set(fieldObj,"multiple",!0),"siteId"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"site",displayName:"Site"}),this.$set(fieldObj,"multiple",!0)):"resourceIdSpace"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"basespace",displayName:"Space"}),this.$set(fieldObj,"multiple",!0)):"resourceIdAsset"===fieldName&&(this.$set(fieldObj,"lookupModule",{name:"asset",displayName:"Asset"}),this.$set(fieldObj,"multiple",!0)),fieldObj}return"siteId"===fieldName?{lookupModule:{name:"site"}}:{lookupModule:{name:fieldName}}},setFilterApplied:function(){var _this2=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{}),filterObjectsData=clone_default()(this.filterObjectsData||{});Object.entries(filterObjectsData).forEach((function(_ref2){var _ref3=(0,slicedToArray/* default */.Z)(_ref2,2),fieldName=_ref3[0],filterData=_ref3[1],key=filterData.key?filterData.key:fieldName;if(filters.includes(key)){var filterObj=_this2.$getProperty(appliedFilters,key,{});(0,validation/* isArray */.kJ)(filterObj)&&(filterObj=filterObj[0]);var _filterObj=filterObj,operatorId=_filterObj.operatorId,value=_filterObj.value,selectedLabel=_filterObj.selectedLabel,_ref4=_this2.getFieldObj({},"siteId")||{},_ref4$multiple=_ref4.multiple,multiple=void 0!==_ref4$multiple&&_ref4$multiple;if(["string","number"].includes(filterData.displayType))filterData.value=(0,validation/* isEmpty */.xb)(value)?"":value[0];else if("lookup"===filterData.displayType)
//filterData.value = !isEmpty(value) ? value[0] : '' // replacement for this is given in below if-else condition
!(0,validation/* isEmpty */.xb)(value)&&(0,validation/* isArray */.kJ)(value)&&value.length>0?multiple||1!=value.length?filterData.value=value:filterData.value=value[0]:filterData.value="",filterData.selectedLabel=selectedLabel;else if(filterData.customdate){if(!(0,validation/* isEmpty */.xb)(value)){var dateRange=value.map((function(date){return parseInt(date)}));filterData.dateRange=dateRange}filterData.value=operatorId+""}else filterData.value=value;filterData.operatorId=operatorId}})),this.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.filterObjectsData),filterObjectsData)},spaceAssetProps:function(filterData){this.chooserVisibility=!0;var selectedResources=this.$getProperty(filterData,"value",[]).map((function(id){return{id:parseInt(id)}}));this.initialValues={isIncludeResource:!0,selectedResources:selectedResources}},operatorIdForFields:function(filterData,fieldName){var operatorId;return operatorId=(0,validation/* isEmpty */.xb)(filterData.operatorId)?"resourceIdSpace"===fieldName||"resourceIdAsset"===fieldName?15:SPACE_FIELDS.includes(fieldName)?38:["subject","name","title"].includes(fieldName)||"STRING"===this.$getProperty(filterData,"operator","")?5:["sourceType","alarmType"].includes(fieldName)||["NUMBER","DECIMAL"].includes(this.$getProperty(filterData,"operator",""))?9:"isAcknowledged"===fieldName||"BOOLEAN"===this.$getProperty(filterData,"operator","")?15:"ENUM"===this.$getProperty(filterData,"operator","")?54:36:filterData.operatorId,operatorId},setOperatorId:function(fieldData,fieldName){var returnId=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,validation/* isEmpty */.xb)(fieldName)&&(fieldName=this.fieldName),(0,validation/* isEmpty */.xb)(fieldData)&&(fieldData=this.$getProperty(this.filterObjectsData,fieldName,null));var operatorId=this.operatorIdForFields(fieldData,fieldName);if(returnId)return operatorId;this.$setProperty(fieldData,"operatorId",operatorId)},constructDateFilter:function(filterValue,fieldName){filterValue=filterValue.split("_");var operatorId=1===filterValue.length?parseInt(filterValue[0]):parseInt(filterValue[1]),filter={operatorId:operatorId};if(20===operatorId){var filterData=this.$getProperty(this.filterObjectsData,fieldName,null),dateRange=this.$getProperty(filterData,"dateRange",null);if((0,validation/* isEmpty */.xb)(dateRange))return!1;filter.value=dateRange.map((function(date){return date+""}))}else[39,40,41,50,59,60,61].includes(operatorId)&&(filter.value=[filterValue[0]]);return filter},setCustomDateFilters:function(filters,fieldName){var filter,_this3=this,filterData=this.$getProperty(this.filterObjectsData,fieldName),filterVal=filterData.value,key=filterData.key||fieldName;(0,validation/* isArray */.kJ)(filterVal)?(filters[key]=[],filterVal.forEach((function(fval){filter=_this3.constructDateFilter(fval,fieldName),filter&&filters[key].push(filter)}))):(filter=this.constructDateFilter(filterVal,fieldName),filter&&(filters[key]=filter))},applyFilter:function(filterData){(0,validation/* isEmpty */.xb)(filterData)?filterData=this.filterObjectsData:this.filterObjectsData=filterData;var filters=this.formatDataForFilter(filterData);(0,validation/* isEmpty */.xb)(filters)?this.$store.dispatch("search/resetFilters"):this.$store.dispatch("search/applyFilters",filters),this.showFilterCondition=!1,this.close()},formatDataForFilter:function(filterData){var _this4=this,filters={},_loop=function(){var field=filterData[fieldName],key=field.key?field.key:fieldName;if(!(0,validation/* isEmpty */.xb)(field.value)||[OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId))if(field.customdate)_this4.setCustomDateFilters(filters,fieldName);else{var filterObj={operatorId:_this4.setOperatorId(field,fieldName,!0)};if([OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId)){var _ref5=_this4.$getProperty(filterData,fieldName,null)||{},operator=_ref5.operator;["subject","name","title"].includes(fieldName)||!(0,validation/* isEmpty */.xb)(operator)&&"STRING"===operator?field.value="":field.value=[]}if("assignedTo"===fieldName){var users=[],groups=[];field.value.forEach((function(user){-1!==user.indexOf("_group")?groups.push(user.substring(0,user.indexOf("_group"))):users.push(user)})),users.length&&(filterObj.value=users),groups.length&&(filterObj.value=groups,key="assignedToId"===key?"assignmentGroupId":"assignmentGroup"),filters[key]=filterObj}else{var value;if((0,validation/* isArray */.kJ)(field.value)?(0,validation/* isObject */.Kn)(field.value[0])?(field.value[0].value=_this4.$getProperty(field.value[0],"value")+"",value=field.value):value=field.value.map((function(val){return val+""})):value=[field.value],filterObj.value=value,SPACE_FIELDS.includes(fieldName)||"asset"===fieldName||"resourceIdAsset"==fieldName?(key=field.key||fieldName,filters[key]||(filters[key]=[]),(0,validation/* isObject */.Kn)(filters[key])?(0,validation/* isEmpty */.xb)(filters[key].value)||(filters[key]=(0,objectSpread2/* default */.Z)({},filterObj)):filters[key].push(filterObj)):filters[key]=filterObj,"lookup"===field.displayType){
//Since fieldValue is array of only one object
(0,validation/* isArray */.kJ)(filters[key])&&(filters[key]=filters[key][0]);var fieldValue=filters[key].value,_ref6=_this4.getFieldObj(field,fieldName)||{},_ref6$multiple=_ref6.multiple,multiple=void 0!==_ref6$multiple&&_ref6$multiple;(0,validation/* isArray */.kJ)(fieldValue)&&!multiple&&(fieldValue=fieldValue[0]),filters[key]["selectedLabel"]=field.selectedLabel,
// filters[key].value = !isEmpty(fieldValue) ? [fieldValue.toString()]: []
(0,validation/* isEmpty */.xb)(fieldValue)?filters[key].value=[]:filters[key].value=multiple?fieldValue:[fieldValue.toString()],OPERATOR_CHECK.related===field.operatorId&&(filters[key].relatedFieldName=field.relatedFieldName)}}}};for(var fieldName in filterData)_loop();return filters},setLookUpFilter:function(filter){if((0,validation/* isArray */.kJ)(filter)){var valueArr=[];filter.forEach((function(item){var key=item.hasOwnProperty("id")?"id":"value";valueArr.push(item[key])})),this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:valueArr})}else{var value=filter.value,selectedLabel=filter.label;this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value,selectedLabel:selectedLabel})}this.showingLookupWizard=!1,this.applyFilter()},resetFilterData:function(){var _this5=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{});Object.entries(this.filterObjectsData||{}).forEach((function(_ref7){var _ref8=(0,slicedToArray/* default */.Z)(_ref7,2),fieldName=_ref8[0],filterData=_ref8[1],key=filterData.key?filterData.key:fieldName;filters.includes(key)||(filterData.value=(0,validation/* isArray */.kJ)(filterData.value)?[]:"",delete filterData.operatorId,_this5.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this5.filterObjectsData),{},(0,defineProperty/* default */.Z)({},fieldName,filterData)))}))}}},components_SearchTagMixinvue_type_script_lang_js=SearchTagMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SearchTagMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SearchTagMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules
},
/***/487390:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Sort}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/Sort.vue?vue&type=template&id=31d08398&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-sort-popover p0"},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"sort-popover page-sort-popover","visible-arrow":!0,tabindex:-1},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("el-input",{staticClass:"tag-list-search",attrs:{type:"text",placeholder:"Search..."},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}}),_c("div",{staticClass:"pointer user-select-none sort-icon-container",attrs:{slot:"reference"},slot:"reference"},[_c("img",{staticClass:"sort-icon",attrs:{src:__webpack_require__(137308)}})]),_c("div",{staticClass:"sort-popovernew",attrs:{link:""}},_vm._l(_vm.filteredSortFieldList,(function(field,index){return _c("div",{key:index,staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderBy(field.name),_vm.close()}}},[_c("div",{staticClass:"fc-div-hover page-sort-list",class:{"selected flex-middle":_vm.orderBy===field.name},attrs:{label:field.name}},[_vm._v(" "+_vm._s(field.displayName)+" ")]),_c("i",{class:{"el-icon-check":_vm.orderBy===field.name}})])})),0),_c("div",{staticClass:"scr-sep"}),_c("div",{staticClass:"sort-popovernew"},[_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("asc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle"},[_vm.config.orderType?_c("div",{attrs:{separator:""}},[_c("div",{class:{selected:"asc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.ascending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"asc"===_vm.orderType}})]),_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("desc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle active-sort-type"},[_vm.config.orderType?_c("div",[_c("div",{class:{selected:"desc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.descending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"desc"===_vm.orderType}})])])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),Sortvue_type_script_lang_js={props:["config","sortList","excludeFields"],data:function(){return{visible:!1,search:"",skipDisplayTypeHash:["MULTI_LOOKUP","MULTI_ENUM","MULTI_LOOKUP_SIMPLE","LOOKUP_SIMPLE","LOOKUP_POPUP"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{orderBy:function(){var orderBy=this.config.orderBy;return(0,validation/* isObject */.Kn)(orderBy)?orderBy.value:(0,validation/* isEmpty */.xb)(orderBy)?null:orderBy},orderType:function(){return this.config.orderType?this.config.orderType:null},filteredSortFieldList:function(){var search=this.search,sortListDataType=this.sortListDataType;return(0,validation/* isEmpty */.xb)(search)?sortListDataType||[]:(sortListDataType||[]).filter((function(fld){var displayName=fld.displayName,lcDisplayName=displayName.toLowerCase(),lcSearch=search.toLowerCase();return lcDisplayName.includes(lcSearch)}))},sortListDataType:function(){var _this=this,moduleMeta=this.moduleMeta,_this$excludeFields=this.excludeFields,excludeFields=void 0===_this$excludeFields?[]:_this$excludeFields,skipDisplayTypeHash=this.skipDisplayTypeHash;if(!(0,validation/* isEmpty */.xb)(moduleMeta)){var _ref=moduleMeta||{},fields=_ref.fields,currentSortFields=(fields||[]).filter((function(fld){return(_this.sortList||[]).includes(null===fld||void 0===fld?void 0:fld.name)})),filteredFields=(currentSortFields||[]).filter((function(fld){var _ref2=fld||{},displayType=_ref2.displayType,fieldName=_ref2.name,_ref3=displayType||{},_name=_ref3._name;return!skipDisplayTypeHash.includes(_name)&&!(excludeFields||[]).includes(fieldName)}));return(filteredFields||[]).map((function(fld){return{name:fld.name,displayName:fld.displayName}}))}return[]}}),methods:{close:function(){this.visible=!1},updateOrderBy:function(orderBy){this.config.orderBy=orderBy,this.$emit("onchange",{orderBy:orderBy,orderType:this.orderType})},updateOrderType:function(orderType){this.config.orderType=orderType,this.$emit("onchange",{orderBy:this.orderBy,orderType:orderType})}}},components_Sortvue_type_script_lang_js=Sortvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Sortvue_type_script_lang_js,render,staticRenderFns,!1,null,"31d08398",null)
/* harmony default export */,Sort=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/714218:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DeprecatedCommonLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/list/DeprecatedCommonLayout.vue?vue&type=template&id=33b4bc06
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout common-list-layout d-flex"},[_vm._t("views-list",(function(){return[_vm.canShowViewsSidePanel&&!_vm.hideViewSidebar?_c("ViewsList",{attrs:{canShowViewsSidePanel:_vm.canShowViewsSidePanel,groupViews:_vm.groupViews,moduleName:_vm.moduleName},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},onChange:_vm.goToView}}):_vm._e()]})),_c("div",{staticClass:"list-content-container"},[_c("div",{class:["view-header-container subheader-section",!0===_vm.hasQuery&&"filter-class"]},[_vm._t("views",(function(){return[_c("ViewHeader",{attrs:{moduleName:_vm.moduleName,showRearrange:_vm.showViewRearrange,showCurrentViewOnly:_vm.showSearch,maxVisibleMenu:_vm.visibleViewCount,showEditIcon:_vm.showViewEdit,pathPrefix:_vm.pathPrefix,retainFilters:_vm.filtersToRetain,canShowViewsSidePanel:_vm.canShowViewsSidePanel},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},viewsLoaded:function($event){return _vm.$emit("viewsLoaded")},hideViewSidebar:function(val){return _vm.hideViewSidebar=val}}})]})),_c("div",{staticClass:"fR fc-subheader-right"},[_vm._t("header")],2)],2),_c("div",{staticClass:"height100 common-content-container"},[_vm._t("content"),_vm._t("default")],2)])],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(169358),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(420629)),validation=__webpack_require__(990260),ViewHeader=__webpack_require__(629039),ViewsSidePanel=__webpack_require__(409886),router=__webpack_require__(329435),DeprecatedCommonLayoutvue_type_script_lang_js={props:["moduleName","getPageTitle","showViewRearrange","visibleViewCount","showViewEdit","pathPrefix","retainFilters"],components:{ViewHeader:ViewHeader/* default */.Z,ViewsList:ViewsSidePanel/* default */.Z},created:function(){this.$store.dispatch("view/clearViews").catch((function(){})),(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},data:function(){return{currentModuleName:this.moduleName,hideViewSidebar:!1,isSidePanelOpen:JSON.parse(localStorage.getItem("fc-view-sidepanel"))||!1}},title:function(){var title=this.getPageTitle();return(0,validation/* isEmpty */.xb)(title)?"":title},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo},viewDetail:function(state){return state.view.currentViewDetail},showSearch:function(state){return state.search.active},currentTab:function(state){return state.webtabs.selectedTab},groupViews:function(state){return(0,validation/* isEmpty */.xb)(state.view.groupViews)?[]:state.view.groupViews}})),{},{currentView:function(){var $route=this.$route;return $route.params.viewname?$route.params.viewname:null},filtersToRetain:function(){var retainFilters=this.retainFilters;return(0,validation/* isNull */.Ft)(retainFilters)?[]:(0,validation/* isEmpty */.xb)(retainFilters)?["search","includeParentFilter"]:retainFilters},hasQuery:function(){var query=this.$route.query;return""===query.filters||!!query.filters},canShowViewsSidePanel:{get:function(){var isSidePanelOpen=this.isSidePanelOpen,$slots=this.$slots,isViewHeaderOverriden=!(0,validation/* isEmpty */.xb)($slots.views);return isSidePanelOpen&&!isViewHeaderOverriden},set:function(value){this.isSidePanelOpen=value,localStorage.setItem("fc-view-sidepanel",value)}}}),watch:{moduleName:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},$route:function(newVal,oldVal){newVal.params.viewname!==oldVal.params.viewname&&this.setPageTitle()},metaInfo:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},currentView:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!newVal||oldVal===newVal){_context.next=5;break}return _context.next=3,_this.loadViewDetails();case 3:_this.getMetaInfo(),_this.setPageTitle();case 5:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{reloadList:function(){var routeParams=this.$getProperty(this,"$route.params");this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:""})}).catch((function(){})),this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:routeParams.viewname})}).catch((function(){}))},getMetaInfo:function(){this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){}))},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if("rearrange-views"===viewname)return void(this.showReorderPanel=!0);var currentTab=this.currentTab,_this$retainFilters=this.retainFilters,retainFilters=void 0===_this$retainFilters?[]:_this$retainFilters,query=this.$route.query,hasRetainableQuery=retainFilters.some((function(filterName){return query.hasOwnProperty(filterName)}));if((0,router/* isWebTabsEnabled */.tj)()){var route=(0,router/* findRouteForTab */.OD)(currentTab.id,{pageType:router/* pageTypes */.As.LIST})||{};route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{viewname:viewname},query:hasRetainableQuery?query:null})).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path,query:query}).catch((function(){}))}}},getPathForView:function(view){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(view.name)},loadViewDetails:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName}).catch((function(){}))},setPageTitle:function(){var getPageTitle=this.getPageTitle,setTitle=this.setTitle,currentView=this.currentView,title=getPageTitle(currentView);(0,validation/* isEmpty */.xb)(title)||setTitle(title)},keyDownHandler:function(e){if(e.shiftKey&&"N"===e.key&&(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref.name;"body"===e.target.localName&&name&&this.$router.push({name:name}).catch((function(){}))}}}},list_DeprecatedCommonLayoutvue_type_script_lang_js=DeprecatedCommonLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_DeprecatedCommonLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DeprecatedCommonLayout=component.exports},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/199633:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ModuleList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/base-module-v2/ModuleList.vue?vue&type=template&id=4023f708&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CommonListLayout",{key:_vm.moduleName+"-list-layout",attrs:{moduleName:_vm.moduleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.moduleDisplayName},pathPrefix:_vm.parentPath},scopedSlots:_vm._u([{key:"header",fn:function(){return[_vm.showSearch?_vm._e():[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.listCount,perPage:50}}),_vm.listCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"right"}},[_c("sort",{key:_vm.moduleName+"-sort",attrs:{config:_vm.sortConfig,sortList:_vm.sortConfigLists},on:{onchange:_vm.updateSort}})],1),_vm.canShowExport?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_vm.canShowExport?_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),placement:"left"}},[_c("f-export-settings",{attrs:{module:_vm.moduleName,viewDetail:_vm.viewDetail,showViewScheduler:!1,showMail:!1,filters:_vm.filters}})],1):_vm._e(),_c("span",{staticClass:"separator"},[_vm._v("|")])],_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.search"),placement:"left"}},[_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}})],1),_vm.showNewButton?[_c("span",{staticClass:"separator pL10"},[_vm._v("|")]),_c("div",[_c("button",{staticClass:"fc-create-btn create-btn",on:{click:function($event){return _vm.redirectToFormCreation()}}},[_vm._v(" "+_vm._s(_vm.$t("common.products.new_module",{moduleName:_vm.moduleDisplayName?_vm.moduleDisplayName:""}))+" ")])])]:_vm._e()]},proxy:!0},{key:"content",fn:function(){return[_c("div",[_c("FTags",{key:"ftags-list-"+_vm.moduleName})],1),_vm.showLoading?_c("Spinner",{staticClass:"mT40",attrs:{show:_vm.showLoading}}):_vm._e(),_vm.$validation.isEmpty(_vm.records)&&!_vm.showLoading?_c("div",{staticClass:"d-flex flex-direction-column m10 list-empty-state justify-content-center"},[_c("img",{staticClass:"mT20 self-center",attrs:{src:__webpack_require__(15482),width:"100",height:"100"}}),_c("div",{staticClass:"mT10 label-txt-black f14 self-center"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_module_available",{moduleName:_vm.moduleDisplayName?_vm.moduleDisplayName.toLowerCase():_vm.moduleName}))+" ")])]):_vm._e(),_vm.showLoading||_vm.$validation.isEmpty(_vm.records)?_vm._e():[_c("div",{staticClass:"fc-list-view p10 pT0 mT10 fc-list-table-container height100vh fc-table-td-height fc-table-viewchooser pB100",class:_vm.$route.query.search?"fc-list-table-search-scroll":""},[_c("div",{staticClass:"view-column-chooser",on:{click:function($event){_vm.showColumnSettings=!0}}},[_c("img",{staticClass:"text-center position-absolute",staticStyle:{top:"35%",right:"29%"},attrs:{src:__webpack_require__(266707)}})]),_vm.$validation.isEmpty(_vm.selectedListItems)?_vm._e():_c("div",{staticClass:"pull-left table-header-actions"},[_c("div",{staticClass:"action-btn-slide btn-block"},[_c("button",{staticClass:"btn btn--tertiary pointer",on:{click:function($event){return _vm.showConfirmDelete()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.delete"))+" ")])])]),_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.records,height:"100%",fit:!0,"row-class-name":"no-hover"},on:{"selection-change":_vm.selectItems}},[_c("el-table-column",{attrs:{type:"selection",width:"60",fixed:""},model:{value:_vm.selectAll,callback:function($$v){_vm.selectAll=$$v},expression:"selectAll"}}),_vm.$validation.isEmpty(_vm.nameColumn)?_vm._e():_c("el-table-column",{attrs:{label:_vm.nameColumn.displayName,prop:_vm.nameColumn.name,fixed:"","min-width":"250"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"table-subheading main-field-column"},[_c("div",{staticClass:"d-flex",on:{click:function($event){return _vm.redirectToOverview(item.row)}}},[item.row.photoId>0?_c("div",[_c("img",{staticClass:"img-container",attrs:{src:_vm.getImage(item.row.photoId)}})]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.getColumnDisplayValue(_vm.nameColumn,item.row)||"",placement:"top","open-delay":600}},[_c("div",{staticClass:"self-center mL5"},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(_vm.nameColumn,item.row)||"---")+" ")])])],1)])]}}],null,!1,516263878)}),_vm._l(_vm.filteredViewColumns,(function(field,index){return _c("el-table-column",{key:index,attrs:{prop:field.name,label:_vm.getColumnHeaderLabel(field),align:field.field&&"DECIMAL"===field.field.dataTypeEnum?"right":"left","min-width":"230"},scopedSlots:_vm._u([{key:"default",fn:function(scope){return["SIGNATURE"===_vm.$getProperty(field,"field.displayType")?_c("div",[_c("SignatureField",{attrs:{field:(field||{}).field,record:scope.row}})],1):_vm.isFileTypeField(_vm.$getProperty(field,"field"))?_c("div",[_c("FilePreviewColumn",{attrs:{field:field,record:scope.row,isV2:!0}})],1):_c("div",{staticClass:"table-subheading",class:{"text-right":field.field&&"DECIMAL"===field.field.dataTypeEnum}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,scope.row)||"---")+" ")])]}}],null,!0)})})),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:"130"},scopedSlots:_vm._u([{key:"default",fn:function(item){return[_c("div",{staticClass:"text-center"},[321===_vm.$org.id&&"custom_tenantbilling"===_vm.moduleName?_c("span",{on:{click:function($event){return _vm.downloadTenantBilling(item.row)}}},[_c("inline-svg",{staticClass:"download-icon visibility-hide-actions",attrs:{src:"svgs/download2",iconClass:"icon icon-sm mR20 pointer"}}),_vm.downloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.downloadUrl}}):_vm._e()],1):_vm._e(),_vm.canShowEdit?_c("span",{on:{click:function($event){return _vm.editModule(item.row)}}},[_c("inline-svg",{staticClass:"edit-icon-color visibility-hide-actions",attrs:{src:"svgs/edit",iconClass:"icon icon-sm mR5 icon-edit"}})],1):_vm._e(),_vm.canShowDelete?_c("span",{on:{click:function($event){return _vm.showConfirmDelete(item.row)}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color visibility-hide-actions mL10",attrs:{src:"svgs/delete",iconClass:"icon icon-sm icon-remove"}})],1):_vm._e()])]}}],null,!1,609090309)})],2)],1),_c("column-customization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.moduleName,viewName:_vm.view,columnConfig:_vm.columnConfig},on:{"update:visible":function($event){_vm.showColumnSettings=$event}}})]]},proxy:!0}])},[_vm.showBillSummary?_c("BillSummaryDialog",{attrs:{summary:_vm.selectedRow,viewname:_vm.viewname},on:{onClose:function($event){_vm.showBillSummary=!1}}}):_vm._e(),_c("portal",{attrs:{to:"view-manager-link"}},[_c("div",{staticClass:"view-manager-btn",on:{click:_vm.getViewManagerRoute}},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.views_manager"))+" ")])],1)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(634338),__webpack_require__(169358),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(670560),__webpack_require__(947522),__webpack_require__(450886),__webpack_require__(648324),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(420629)),ViewMixin=__webpack_require__(453877),validation=__webpack_require__(990260),ColumnCustomization=__webpack_require__(490966),Spinner=__webpack_require__(604947),api=__webpack_require__(32284),DeprecatedCommonLayout=__webpack_require__(714218),FPagination=__webpack_require__(929593),FExportSettings=__webpack_require__(641435),Sort=__webpack_require__(487390),SignatureColumn=__webpack_require__(724460),UtilityBillsSummaryDialog=__webpack_require__(398864),AdvancedSearch=__webpack_require__(784823),FTags=__webpack_require__(775676),router=__webpack_require__(329435),baseUrl=__webpack_require__(420499),FilePreviewColumn=__webpack_require__(579814),field=__webpack_require__(815872),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),routeUtil=__webpack_require__(405759),ModuleListvue_type_script_lang_js={name:"CustomModuleList",props:["moduleName","viewname"],mixins:[ViewMixin/* default */.Z],components:{ColumnCustomization:ColumnCustomization/* default */.Z,Spinner:Spinner/* default */.Z,CommonListLayout:DeprecatedCommonLayout/* default */.Z,Pagination:FPagination/* default */.Z,FExportSettings:FExportSettings/* default */.Z,Sort:Sort/* default */.Z,SignatureField:SignatureColumn/* default */.Z,BillSummaryDialog:UtilityBillsSummaryDialog/* default */.Z,AdvancedSearch:AdvancedSearch/* default */.Z,FTags:FTags["default"],FilePreviewColumn:FilePreviewColumn/* default */.Z},created:function(){this.init(),this.isFileTypeField=field/* isFileTypeField */.Lg},data:function(){return{showBillSummary:!1,selectAll:!1,selectedListItems:[],showColumnSettings:!1,columnConfig:{fixedColumns:["name"],fixedSelectableColumns:["photo"]},sortConfig:{orderBy:{label:"System Created Time",value:"sysCreatedTime"},orderType:"desc"},sortConfigLists:[],listCount:"",isLoading:!1,selectedRow:null,
// temp for tenant billing
downloadUrl:null}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({viewDetail:function(state){return state.view.currentViewDetail},isViewLoading:function(state){return state.view.isLoading},metaInfo:function(state){return state.view.metaInfo},showSearch:function(state){return state.search.active}})),{},{view:function(){var viewname=this.viewname;return(0,validation/* isEmpty */.xb)(viewname)?"all":viewname},moduleDisplayName:function(){var _this$metaInfo;return null===(_this$metaInfo=this.metaInfo)||void 0===_this$metaInfo?void 0:_this$metaInfo.displayName},parentPath:function(){var moduleName=this.moduleName,modulePath=this.modulePath;return"/app/".concat(modulePath,"/").concat(moduleName,"/")},modulePath:function(){return this.$helpers.isEtisalat()?this.getEtisalatRouterName().modulePath:"ca/modules"},showLoading:function(){return this.isLoading||this.isViewLoading},records:function(){return this.$store.state.customModule.customModuleList},page:function(){var $route=this.$route,_ref=$route||{},page=_ref.query.page;return page||1},filters:function(){var $route=this.$route,_ref2=$route||{},search=_ref2.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(this.$route.query.search)},filteredViewColumns:function(){var viewColumns=this.viewColumns,columnConfig=this.columnConfig,fixedColumns=columnConfig.fixedColumns,fixedSelectableColumns=columnConfig.fixedSelectableColumns,finalFixedColumns=fixedColumns.concat(fixedSelectableColumns);return(0,validation/* isEmpty */.xb)(viewColumns)?[]:viewColumns.filter((function(column){return!finalFixedColumns.includes(column.name)}))},nameColumn:function(){var viewColumns=this.viewColumns;return(0,validation/* isEmpty */.xb)(viewColumns)?{}:viewColumns.find((function(column){return"name"===column.name}))},showNewButton:function(){return!this.showSearch&&("custom_alert"!==this.moduleName&&(!this.$constants.isCustomModulePermissionsEnabled(this.$org.id)||this.$hasPermission("".concat(this.moduleName,":CREATE"))))},canShowEdit:function(){return!this.$constants.isCustomModulePermissionsEnabled(this.$org.id)||this.$hasPermission("".concat(this.moduleName,":UPDATE"))},canShowExport:function(){return!this.$constants.isCustomModulePermissionsEnabled(this.$org.id)||this.$hasPermission("".concat(this.moduleName,":EXPORT"))},canShowDelete:function(){return!this.$constants.isCustomModulePermissionsEnabled(this.$org.id)||this.$hasPermission("".concat(this.moduleName,":DELETE"))}}),watch:{moduleName:function(newVal,oldVal){newVal!==oldVal&&this.init()},filters:function(newVal,oldVal){newVal!==oldVal&&(this.loadCustomModulesList(),this.loadListCount())},view:function(newVal,oldVal){newVal!==oldVal&&(this.loadCustomModulesList(),this.loadListCount())},viewDetail:function(newVal,oldVal){if(!isEqual_default()(newVal,oldVal)){var _ref3=newVal||{},_ref3$sortFields=_ref3.sortFields,sortFields=void 0===_ref3$sortFields?[]:_ref3$sortFields;if(!(0,validation/* isEmpty */.xb)(sortFields)){var name=this.$getProperty(sortFields[0],"sortField.name",null),isAscending=this.$getProperty(sortFields[0],"isAscending",null);(0,validation/* isEmpty */.xb)(name)||(0,validation/* isEmpty */.xb)(isAscending)||(this.sortConfig={orderType:isAscending?"asc":"desc",orderBy:name||""})}}},metaInfo:{handler:function(value){var fields=value.fields;(0,validation/* isEmpty */.xb)(fields)||this.constructSortConfig(fields)},immediate:!0},page:function(newVal,oldVal){oldVal!==newVal&&(this.loadCustomModulesList(),this.loadListCount())},sortConfig:function(newVal,oldVal){oldVal!==newVal&&this.loadCustomModulesList()},selectAll:function(val){var _this=this;val?(this.selectedRecords=[],this.records.filter((function(module){_this.selectedRecords.push(module.id)}))):this.selectedRecords.length===this.records.length&&(this.selectedRecords=[])}},methods:{init:function(){this.$store.dispatch("loadTicketStatus",this.moduleName||""),this.loadCustomModulesList(),this.loadListCount()},getViewManagerRoute:function(){var appId=((0,router/* getApp */.wx)()||{}).id,moduleName=this.moduleName,$route=this.$route,query=$route.query,route=(0,routeUtil/* findRouterForModuleInApp */.E)(moduleName,router/* pageTypes */.As.VIEW_MANAGER);route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{appId:appId})}))},constructSortConfig:function(fields){var configArr=[];fields.forEach((function(field){configArr.push(field.name)})),this.$set(this,"sortConfigLists",configArr)},updateSort:function(sorting){var _this2=this,moduleName=this.moduleName,view=this.view,sortObj={moduleName:moduleName,viewName:view,orderBy:sorting.orderBy,orderType:sorting.orderType,skipDispatch:!0};this.$store.dispatch("view/savesorting",sortObj).then((function(){return _this2.loadCustomModulesList()}))},selectItems:function(selectedItem){this.selectedListItems=selectedItem.map((function(value){return value.id}))},loadListCount:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName,view,filters,page,url,params,_yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return moduleName=_this3.moduleName,view=_this3.view,filters=_this3.filters,page=_this3.page,url="v2/module/data/list",params={moduleName:moduleName,viewName:view,perPage:50,page:page,fetchCount:!0,includeParentFilter:!0,filters:(0,validation/* isEmpty */.xb)(filters)?null:JSON.stringify(filters)},_context.next=5,api/* API */.bl.get(url,params);case 5:_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this3.$message.error(error.message||"Error Occurred"):_this3.listCount=(0,validation/* isEmpty */.xb)(data.count)?0:data.count;case 9:case"end":return _context.stop()}}),_callee)})))()},loadCustomModulesList:function(){var _this4=this;this.isLoading=!0;var moduleName=this.moduleName,view=this.view,filters=this.filters,page=this.page,queryObj={viewname:view,page:page,filters:filters||"",includeParentFilter:!(0,validation/* isEmpty */.xb)(filters),moduleName:moduleName,isNew:!0};this.$store.dispatch("customModule/fetchCustomModuleList",queryObj).catch((function(){})).finally((function(){_this4.isLoading=!1}))},redirectToOverview:function(row){var moduleName=this.moduleName,view=this.view,modulePath=this.modulePath;if("custom_utilitybills"===moduleName)this.selectedRow=null,this.selectedRow=row,this.openEtisalatPopupView();else if((0,router/* isWebTabsEnabled */.tj)()){var _ref4=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref4.name;name&&this.$router.push({name:name,params:{viewname:view,id:row.id}})}else this.$router.push({path:"/app/".concat(modulePath,"/").concat(moduleName,"/").concat(view,"/").concat(row.id,"/summary"),query:this.$route.query})},openEtisalatPopupView:function(){this.showBillSummary=!0},editModule:function(row){var moduleName=this.moduleName,id=row.id;if((0,router/* isWebTabsEnabled */.tj)()){var _ref5=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.EDIT)||{},name=_ref5.name;name&&this.$router.push({name:name,params:{id:id}})}else{var creatioName=this.$helpers.isEtisalat()?this.getEtisalatRouterName().edit:"custommodules-edit";this.$router.push({name:creatioName,params:{moduleName:moduleName,id:id}})}},showConfirmDelete:function(module){var _this5=this,moduleDisplayName=this.moduleDisplayName,dialogObj={title:"Delete ".concat(moduleDisplayName),message:"Are you sure you want to delete this ".concat(moduleDisplayName,"?"),rbDanger:!0,rbLabel:"Delete"};this.$dialog.confirm(dialogObj).then((function(value){value&&_this5.deleteModule(module)}))},redirectToFormCreation:function(){var moduleName=this.moduleName;if((0,router/* isWebTabsEnabled */.tj)()){var _ref6=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref6.name;name&&this.$router.push({name:name})}else{var creatioName=this.$helpers.isEtisalat()?this.getEtisalatRouterName().new:"custommodules-new";this.$router.push({name:creatioName,params:{moduleName:moduleName}})}},getEtisalatRouterName:function(){var data={new:"custommodules-new",edit:"custommodules-edit",list:"custommodules-list",summary:"custommodules-summary"};if(this.$route&&this.$route.name){var name=this.$route.name;"et1custommodules-list"===name||"et1custommodules-new"===name||"et1custommodules-edit"===name||"et1custommodules-summary"===name?(data["new"]="et1custommodules-new",data["edit"]="et1custommodules-edit",data["list"]="et1custommodules-edit",data["summary"]="et1custommodules-summary",data["modulePath"]="supp"):"et-custommodules-list"===name||"et-custommodules-edit"===name||"et-custommodules-new"===name||"et-custommodules-summary"===name?(data["new"]="et-custommodules-new",data["edit"]="et-custommodules-edit",data["list"]="et-custommodules-list",data["summary"]="et-custommodules-summary",data["modulePath"]="al"):"et2-custommodules-list"!==name&&"et2-custommodules-edit"!==name&&"et2-custommodules-new"!==name&&"et2-custommodules-summary"!==name||(data["new"]="et2-custommodules-new",data["edit"]="et2-custommodules-edit",data["list"]="et2-custommodules-list",data["summary"]="et2-custommodules-summary",data["modulePath"]="home")}return data},deleteModule:function(selectedModule){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var records,moduleName,selectedListItems,url,params,_yield$API$post,error,selectedModuleIndex;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return records=_this6.records,moduleName=_this6.moduleName,selectedListItems=_this6.selectedListItems,url="/v2/module/data/delete",params={moduleName:moduleName,ids:(0,validation/* isEmpty */.xb)(selectedListItems)?[selectedModule.id]:selectedListItems},_context2.next=5,api/* API */.bl.post(url,params);case 5:_yield$API$post=_context2.sent,error=_yield$API$post.error,error?_this6.$message.error(error.message):(selectedListItems?_this6.loadCustomModulesList():(selectedModuleIndex=records.findIndex((function(module){return module.id===selectedModule.id})),records.splice(selectedModuleIndex,1)),_this6.$message.success("Deleted Successfully"));case 8:case"end":return _context2.stop()}}),_callee2)})))()},getImage:function(photoId){return"".concat((0,baseUrl/* getBaseURL */.BS)(),"/v2/files/preview/").concat(photoId)},
// Temp adding here for demo. Copied from summaryDownload in overview
// Please remove after checking if still required
downloadTenantBilling:function(record){var _this7=this;this.$message({message:"Downloading...",showClose:!0,duration:0}),this.downloadUrl=null;var additionalInfo={showFooter:!1,footerStyle:"p {font-size:12px; margin-left:500px}",footerHtml:'<p>Page  <span class="pageNumber"></span> / <span class="totalPages"></span></p>'},url="".concat(window.location.protocol,"//").concat(window.location.host,"/app/pdf/tenantbilling?id=").concat(record.id);api/* API */.bl.post("/v2/integ/pdf/create",{url:url,additionalInfo:additionalInfo}).then((function(_ref7){var data=_ref7.data,error=_ref7.error;if(_this7.$message.closeAll(),error){var _error$message=error.message,message=void 0===_error$message?"Unable to fetch quote download link":_error$message;_this7.$message.error(message)}else{var _ref8=data||{},fileUrl=_ref8.fileUrl;_this7.downloadUrl=fileUrl}}))}}},base_module_v2_ModuleListvue_type_script_lang_js=ModuleListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_module_v2_ModuleListvue_type_script_lang_js,render,staticRenderFns,!1,null,"4023f708",null)
/* harmony default export */,ModuleList=component.exports},
/***/398864:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return UtilityBillsSummaryDialog}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/etisalat/UtilityBills/UtilityBillsSummaryDialog.vue?vue&type=template&id=3b2d21b0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{attrs:{title:"Tips",visible:!0,width:"70%","before-close":_vm.closeDialog,"custom-class":"fc-dialog-right setup-dialog fc-utility-dialog slideInRight fc-animated",modalAppendToBody:!1}},[_vm.loading?_c("div",{staticClass:"mT50 fc-webform-loading"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",{staticClass:"position-relative"},[_c("div",{staticClass:"fc-dialog-sticky-header"},[_c("div",{staticClass:"flex-center-row-space pT30 pB30 pL20 pR20"},[_c("div",{},[_c("div",{staticClass:"fc-black2-18"},[_vm._v(" "+_vm._s(_vm.details&&_vm.details.name?_vm.details.name:"")+" ")]),_c("div",{staticClass:"flex-middle pT8"},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.details&&_vm.details.data?_vm.details.data.supplier.name:"")+" ")]),_c("el-divider",{attrs:{direction:"vertical"}}),_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("singleline_2"))+" ")]),_c("el-divider",{attrs:{direction:"vertical"}}),_c("div",{staticClass:"fc-red4-13 fw4"},[_vm._v(" "+_vm._s(_vm.details&&_vm.details.data?_vm.$getProperty(_vm.details,"moduleState.displayName"):"")+" ")])],1)]),_c("div",{staticClass:"flex-middle"},[_c("i",{staticClass:"el-icon-close fc-black2-20 mL20 f30 pointer",on:{click:_vm.closeDialog}})])])]),_c("div",{staticClass:"fc-billsummary-body-scroll"},[_c("div",{},[_c("el-row",{staticClass:"flex-middle white-bg-block"},[_vm.details&&_vm.details.data&&_vm.details.data.bill_document&&_vm.details.data.bill_document.data&&_vm.details.data.bill_document.photoUrl?_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fc-invoice-bill-block fc-utility-bill-preview",staticStyle:{overflow:"inherit"}},[_c("div",{staticClass:"fc-invoice-bill-img-hover",staticStyle:{display:"block"}},[_c("div",{staticClass:"fc-invoice-img-center"},[_c("a",{attrs:{href:_vm.details.data.bill_document.data.documentUrl,target:"_blank"}},[_c("img",{staticClass:"fc-invoice-bill-img",attrs:{src:_vm.details.data.bill_document.photoUrl}}),_c("div",{staticClass:"fc-white-12 text-uppercase bold fc-preview-text"},[_c("div",[_c("i",{staticClass:"el-icon-view f18"})]),_c("div",{staticClass:"fw6"},[_vm._v("Preview")])])])])])])]):_vm._e(),_c("el-col",{staticClass:"pL30",attrs:{span:20}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["date_5"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date_5"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["date_1"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date_1"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["date_2"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date_2"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Last Receipt")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date_4"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields border-none"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["date_3"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date_3"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["date"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("date"))+" ")])])],1)],1)])],1),_c("el-row",{staticClass:"flex-middle white-bg-block mT20"},[_c("el-col",{staticClass:"pL20 pR20",attrs:{span:24}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Site")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.details&&_vm.details.siteId?_vm.getSiteName(_vm.details.siteId):"---")+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Bill Template ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.details&&_vm.details.data&&_vm.details.data.bill_template&&_vm.details.data.bill_template.name?_vm.details.data.bill_template.name:"---")+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_vm.details&&_vm.details.data&&_vm.details.data.singleline_3?_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["singleline_3"])+" ")])]):_vm._e(),_vm.details&&_vm.details.data&&_vm.details.data.singleline_3?_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("singleline_3"))+" ")])]):_vm._e(),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Bill Document ")])]),_vm.details&&_vm.details.data&&_vm.details.data.bill_document?_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm.details.data.bill_document.data&&_vm.details.data.bill_document.data.documentUrl?_c("a",{staticClass:"fc-black-13",attrs:{href:_vm.details.data.bill_document.data.documentUrl,target:"_blank"}},[_vm._v(" "+_vm._s(_vm.details.data&&_vm.details.data.bill_document&&_vm.details.data.bill_document.name?_vm.details.data.bill_document.name:"---")+" ")]):_c("div",[_vm._v(" --- ")])])]):_vm._e()],1)],1),_c("div",{staticClass:"fc-invoice-fields border-none"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["singleline_1"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("singleline_1"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["singleline_2"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("singleline_2"))+" ")])])],1)],1)])],1),_c("div",{staticClass:"fc-blue-label pT20 pB20"},[_vm._v("Cost")]),_c("el-row",{staticClass:"flex-middle white-bg-block"},[_c("el-col",{staticClass:"pL20 pR20",attrs:{span:24}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_1"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_1"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["number"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("number"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_6"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_6"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["number_3"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("number_3"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_4"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_4"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_2"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_2"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_5"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_5"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_3"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_3"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_12"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_12"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_13"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_13"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_7"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_7"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_9"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_9"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_8"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_8"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_10"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_10"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_11"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_11"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_14"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_14"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["decimal_15"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("decimal_15"))+" ")])])],1)],1)])],1),_c("div",{staticClass:"fc-blue-label pT20 pB20"},[_vm._v("Payment Memo")]),_c("el-row",{staticClass:"flex-middle white-bg-block"},[_c("el-col",{staticClass:"pL20 pR20",attrs:{span:24}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s(_vm.fieldDisplayNames["number_2"])+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("number_2"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s("Arrear Payment Memo")+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("arrearinvoice","id"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s("Payment Memo")+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("invoice","id"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" "+_vm._s("Arrear Payment Memo Status")+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("arrearinvoice","status"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields border-none"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Payment Memo Status ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getFieldData("invoice","status"))+" ")])])],1)],1)])],1),_vm._l(_vm.lineItems,(function(lineItem,index){return _c("div",{key:index},[_c("div",{staticClass:"fc-blue-label pT20 pB20"},[_vm._v(_vm._s(lineItem.name))]),_c("div",{staticClass:"white-bg-block"},[_c("div",{staticClass:"fc-black-14 pT10 pL20 pR20 text-left border-bottom3 bold pB10"},[_vm._v(" Meter Details ")]),_c("el-row",{staticClass:"flex-middle pL20 pR20"},[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Meter Number ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"singleline"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Previous Reading ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_1"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Tariff - Account Number ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"number_2"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Current Reading ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_2"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields border-none"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Previous Reading Date ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"date"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Multiplication Factor ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_13"))+" ")])])],1)],1)])],1)],1),_c("div",{staticClass:"white-bg-block mT20"},[_c("div",{staticClass:"fc-black-14 pT10 pL20 pR20 pB10 text-left border-bottom3 bold"},[_vm._v(" Cost ")]),_c("el-row",{staticClass:"flex-middle pL20 pR20"},[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Slab 1")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_14"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Slab 2")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_15"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Slab 3")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_3"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Slab 4")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_16"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Adjustments ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_6"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Meter Charges ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_22"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Discounts ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_10"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Fuel Surcharge ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_12"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Transformer Charges ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_17"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Service Charges ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_9"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Vat on other charges ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_23"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("VAT")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_11"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Current Amount ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_5"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Arrears")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_4"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v("Receipts")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_7"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Total Amount ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Total Amount Due ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_24"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Sys Non-taxable Amount ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_19"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Sys Taxable Amount ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_18"))+" ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Sys Vat on Taxable Amount ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_20"))+" ")])])],1)],1),_c("div",{staticClass:"fc-invoice-fields"},[_c("el-row",[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left bold"},[_vm._v(" Sys Total ")])]),_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.getLineFieldData(lineItem,"decimal_21"))+" ")])])],1)],1)])],1)],1)])}))],2)])])])],1)},staticRenderFns=[],moment_timezone=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(480008)),moment_timezone_default=__webpack_require__.n(moment_timezone),formatter=__webpack_require__(676240),router=__webpack_require__(329435),UtilityBillsSummaryDialogvue_type_script_lang_js={props:["summary","viewname"],data:function(){return{loading:!1,fieldObject:null,detail:null,lineItems:null}},mounted:function(){this.getSummaryData()},computed:{fields:function(){return this.fieldObject?this.fieldObject.fields:[]},fieldDisplayNames:function(){var _this=this;if(this.fields){var fieldMap={};return this.fields.forEach((function(field){_this.$set(fieldMap,field.name,field.displayName)})),fieldMap}return{}},data:function(){return this.details.data||{}},details:function(){return this.detail?this.detail:this.summary}},methods:{getLineFieldData:function(item,fieldName){if(fieldName&&item&&item.data){this.fields.find((function(rt){return rt.name===fieldName}));var lineItem=item.data;if("singleline"===fieldName)return lineItem.singleline?lineItem.singleline:"---";if("decimal_1"===fieldName)return lineItem.decimal_1?"".concat(lineItem.decimal_1," kWh"):"---";if("decimal_2"===fieldName)return lineItem.decimal_2?"".concat(lineItem.decimal_2," kWh"):"---";if("number_2"===fieldName)return lineItem.number_2?"".concat(lineItem.number_2):"---";if("date"===fieldName)return lineItem.date?moment_timezone_default()(lineItem.date).tz(this.$timezone).format("DD MMM YYYY"):"---";if("date"===fieldName)return lineItem.date?moment_timezone_default()(lineItem.date).tz(this.$timezone).format("DD MMM YYYY"):"---";if("decimal_13"===fieldName)return lineItem.decimal_13?"".concat(this.formatCurrency(lineItem.decimal_13)," AED"):"0 AED";if("decimal_14"===fieldName)return lineItem.decimal_14?"".concat(this.formatCurrency(lineItem.decimal_14)," AED"):"0 AED";if("decimal_15"===fieldName)return lineItem.decimal_15?"".concat(this.formatCurrency(lineItem.decimal_15)," AED"):"0 AED";if("decimal_16"===fieldName)return lineItem.decimal_16?"".concat(this.formatCurrency(lineItem.decimal_16)," AED"):"0 AED";if("decimal_3"===fieldName)return lineItem.decimal_3?"".concat(this.formatCurrency(lineItem.decimal_3)," AED"):"0 AED";if("decimal_18"===fieldName)return lineItem.decimal_18?"".concat(this.formatCurrency(lineItem.decimal_18)," AED"):"0 AED";if("decimal_19"===fieldName)return lineItem.decimal_19?"".concat(this.formatCurrency(lineItem.decimal_19)," AED"):"0 AED";if("decimal_20"===fieldName)return lineItem.decimal_20?"".concat(this.formatCurrency(lineItem.decimal_20)," AED"):"0 AED";if("decimal_6"===fieldName)return lineItem.decimal_6?"".concat(this.formatCurrency(lineItem.decimal_6)," AED"):"0 AED";if("number_3"===fieldName)return lineItem.number_3?"".concat(this.formatCurrency(lineItem.number_3)," AED"):"0 AED";if("decimal_5"===fieldName)return lineItem.decimal_5?"".concat(this.formatCurrency(lineItem.decimal_5)," AED"):"0 AED";if("decimal_4"===fieldName)return lineItem.decimal_4?"".concat(this.formatCurrency(lineItem.decimal_4)," AED"):"0 AED";if("decimal"===fieldName)return lineItem.decimal?"".concat(this.formatCurrency(lineItem.decimal)," AED"):"0 AED";if("decimal_7"===fieldName)return lineItem.decimal_7?"".concat(this.formatCurrency(lineItem.decimal_7)," AED"):"0 AED";if("decimal_9"===fieldName)return lineItem.decimal_9?"".concat(this.formatCurrency(lineItem.decimal_9)," AED"):"0 AED";if("decimal_8"===fieldName)return lineItem.decimal_8?"".concat(this.formatCurrency(lineItem.decimal_8)," AED"):"0 AED";if("decimal_10"===fieldName)return lineItem.decimal_10?"".concat(this.formatCurrency(lineItem.decimal_10)," AED"):"0 AED";if("decimal_11"===fieldName)return lineItem.decimal_11?"".concat(this.formatCurrency(lineItem.decimal_11)," AED"):"0 AED";if("decimal_22"===fieldName)return lineItem.decimal_22?"".concat(this.formatCurrency(lineItem.decimal_22)," AED"):"0 AED";if("decimal_12"===fieldName)return lineItem.decimal_12?"".concat(this.formatCurrency(lineItem.decimal_12)," AED"):"0 AED";if("decimal_17"===fieldName)return lineItem.decimal_17?"".concat(this.formatCurrency(lineItem.decimal_17)," AED"):"0 AED";if("decimal_9"===fieldName)return lineItem.decimal_9?"".concat(this.formatCurrency(lineItem.decimal_9)," AED"):"0 AED";if("decimal_8"===fieldName)return lineItem.decimal_8?"".concat(this.formatCurrency(lineItem.decimal_8)," AED"):"0 AED";if("decimal_23"===fieldName)return lineItem.decimal_23?"".concat(this.formatCurrency(lineItem.decimal_23)," AED"):"0 AED";if("decimal_23"===fieldName)return lineItem.decimal_23?"".concat(this.formatCurrency(lineItem.decimal_23)," AED"):"0 AED";if("decimal_24"===fieldName)return lineItem.decimal_24?"".concat(this.formatCurrency(lineItem.decimal_24)," AED"):"0 AED";if("decimal_21"===fieldName)return lineItem.decimal_21?"".concat(this.formatCurrency(lineItem.decimal_21)," AED"):"0 AED"}return""},formatCurrency:function(data){return(0,formatter/* formatCurrency */.xG)(data,2)},loadutilityLineItem:function(){var _this2=this,filters='{"utilitybill":{"operatorId":36,"value":["'.concat(this.details.id,'"],"selectedLabel":"').concat(this.details.name,'"}}');this.$http.get("v2/module/data/list?moduleName=custom_utilitybilllineitems&page=1&perPage=50&filters=".concat(encodeURIComponent(filters),"&viewName=all&includeParentFilter=true")).then((function(response){0===response.data.responseCode&&response.data.result&&response.data.result.moduleDatas&&(_this2.lineItems=response.data.result.moduleDatas)}))},getSummaryData:function(){var _this3=this;this.loading=!0;var id=this.summary.id;this.$http.get("/v2/module/data/".concat(id,"?moduleName=custom_utilitybills")).then((function(response){0===response.data.responseCode&&response.data.result&&response.data.result.moduleData&&(_this3.detail=response.data.result.moduleData),_this3.getFields()}))},getFields:function(){var _this4=this;this.$http.get("/module/meta?moduleName=custom_utilitybills").then((function(response){response.data.meta&&(_this4.fieldObject=response.data.meta),_this4.loadutilityLineItem(),_this4.loading=!1}))},closeDialog:function(){if((0,router/* isWebTabsEnabled */.tj)()){var viewname=this.viewname,$route=this.$route,_findRouteForModule=(0,router/* findRouteForModule */.Jp)("custom_utilitybills",router/* pageTypes */.As.LIST),name=_findRouteForModule.name;name&&this.$router.push({name:name,params:{viewname:viewname},query:$route.query||{}})}this.$emit("onClose")},getSiteName:function(siteId){var site=(this.sites||[]).find((function(_ref){var id=_ref.id;return id===siteId}));return site?site.name:"---"},getFieldData:function(fieldName,field2){if(fieldName){var fieldobj=this.fields.find((function(rt){return rt.name===fieldName}));if("date_5"===fieldName)return moment_timezone_default()(this.data.date_5).tz(this.$timezone).format("MMM YYYY");if("date_1"===fieldName)return moment_timezone_default()(this.data.date_1).tz(this.$timezone).format("DD MMM YYYY");if("date_2"===fieldName)return moment_timezone_default()(this.data.date_2).tz(this.$timezone).format("DD MMM YYYY");if("date_3"===fieldName)return moment_timezone_default()(this.data.date_3).tz(this.$timezone).format("DD MMM YYYY");if("date_4"===fieldName)return moment_timezone_default()(this.data.date_4).tz(this.$timezone).format("DD MMM YYYY");if("date"===fieldName)return moment_timezone_default()(this.data.date).tz(this.$timezone).format("DD MMM YYYY");if("decimal_5"===fieldName)return this.data.decimal_5?"".concat(this.formatCurrency(this.data.decimal_5)," AED"):"0 AED";if("decimal_2"===fieldName)return this.data.decimal_2?"".concat(this.formatCurrency(this.data.decimal_2)," AED"):"0 AED";if("decimal_1"===fieldName)return this.data.decimal_1?"".concat(this.formatCurrency(this.data.decimal_1)," AED"):"0 AED";if("decimal_8"===fieldName)return this.data.decimal_8?"".concat(this.formatCurrency(this.data.decimal_8)," AED"):"0 AED";if("decimal_10"===fieldName)return this.data.decimal_10?"".concat(this.formatCurrency(this.data.decimal_10)," AED"):"0 AED";if("decimal_1"===fieldName)return this.data.decimal_1?"".concat(this.formatCurrency(this.data.decimal_1)," AED"):"0 AED";if("decimal_4"===fieldName)return this.data.decimal_4?"".concat(this.formatCurrency(this.data.decimal_4)," AED"):"0 AED";if("decimal_3"===fieldName)return this.data.decimal_3?"".concat(this.formatCurrency(this.data.decimal_3)," AED"):"0 AED";if("decimal_14"===fieldName)return this.data.decimal_14?"".concat(this.formatCurrency(this.data.decimal_14)," AED"):"0 AED";if("decimal_11"===fieldName)return this.data.decimal_11?"".concat(this.formatCurrency(this.data.decimal_11)," AED"):"0 AED";if("decimal_9"===fieldName)return this.data.decimal_9?"".concat(this.formatCurrency(this.data.decimal_9)," AED"):"0 AED";if("decimal_6"===fieldName)return this.data.decimal_6?"".concat(this.formatCurrency(this.data.decimal_6)," AED"):"0 AED";if("number_3"===fieldName)return this.data.number_3?"".concat(this.formatCurrency(this.data.number_3)," AED"):"0 AED";if("picklist_1"===fieldName){var enumMap=fieldobj.enumMap;return this.data.picklist_1?enumMap[this.data["picklist_1"]]:"---"}if("decimal_7"===fieldName)return this.data.decimal_7?"".concat(this.formatCurrency(this.data.decimal_7)," AED"):"0 AED";if("singleline_2"===fieldName)return this.data.singleline_2?this.data.singleline_2:"---";if("singleline_1"===fieldName)return this.data.singleline_1?this.data.singleline_1:"---";if("singleline_3"===fieldName)return this.data.singleline_3?this.data.singleline_3:"---";if("decimal_12"===fieldName)return this.data.decimal_12?this.data.decimal_12:"---";if("decimal_13"===fieldName)return this.data.decimal_13?"".concat(this.formatCurrency(this.data.decimal_13)," AED"):"0 AED";if("decimal_15"===fieldName)return this.data.decimal_15?this.data.decimal_15:"---";if("decimal"===fieldName)return this.data.decimal?"".concat(this.formatCurrency(this.data.decimal)," AED"):"0 AED";if("singleline"===fieldName)return this.data.singleline?this.data.singleline:"---";if("number_2"===fieldName)return this.data.number_2?this.data.number_2:"---";if("number"===fieldName)return this.data.number?"".concat(this.formatCurrency(this.data.number)," AED"):"0 AED";if("picklist"===fieldName){var _enumMap=fieldobj.enumMap;return this.data.picklist?_enumMap[this.data["picklist"]]:"---"}return"arrearinvoice"===fieldName&&"id"===field2?this.data.arrearinvoice&&this.data.arrearinvoice.id?this.data.arrearinvoice.id:"---":"arrearinvoice"===fieldName&&"status"===field2?this.data.arrearinvoice&&this.data.arrearinvoice.moduleState?this.$getProperty(this.data.arrearinvoice,"moduleState.displayName"):"---":"invoice"===fieldName&&"id"===field2?this.data.invoice&&this.data.invoice.id?this.data.invoice.id:"---":"invoice"===fieldName&&"status"===field2?this.data.invoice&&this.data.invoice.moduleState?this.$getProperty(this.data.invoice,"moduleState.displayName"):"---":""}}}},UtilityBills_UtilityBillsSummaryDialogvue_type_script_lang_js=UtilityBillsSummaryDialogvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(UtilityBills_UtilityBillsSummaryDialogvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,UtilityBillsSummaryDialog=component.exports},
/***/266707:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"aa8bf7d214fbcc77945abad62903a613.svg";
/***/},
/***/137308:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f5655b5c7d337eaaa1c310ef6456f44e.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/52696.js.map