(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[85371],{
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/786113:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkOrderSpecialFieldsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/WorkOrderSpecialFieldsList.vue?vue&type=template&id=c5129894
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",["resource"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position",staticStyle:{"min-width":"170px"}},[_vm.$validation.isEmpty(_vm.moduleData.resource)||_vm.$validation.isEmpty(_vm.moduleData.resource.id)?_c("div",[_c("span",{staticClass:"q-item-label secondary-color color-d"},[_vm._v("--- "+_vm._s(_vm.$t("maintenance.wr_list.space_asset"))+" ---")])]):_c("div",[_c("div",{staticClass:"flLeft mR7"},[1===_vm.moduleData.resource.resourceType?_c("img",{staticStyle:{height:"12px",width:"14px"},attrs:{src:__webpack_require__(572902)}}):_c("img",{staticStyle:{height:"11px",width:"14px"},attrs:{src:__webpack_require__(30684)}})]),_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"flLeft q-item-label ellipsis max-width140px",attrs:{small:"","data-position":"bottom",title:_vm.moduleData.resource.name}},[_vm._v(_vm._s(_vm.moduleData.resource.name))])])]):"assignedTo"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position wo_assignedto_avatarblock"},[_c("div",{staticClass:"wo-assigned-avatar fL"},[_c("user-avatar",{attrs:{size:"md",user:_vm.moduleData.assignedTo,group:_vm.moduleData.assignmentGroup,showLabel:!0,moduleName:"lookupModuleName"}})],1)]):"noOfNotes"===_vm.field.name?_c("div",[_vm._m(0),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.notesLabel))])]):"noOfTasks"===_vm.field.name?_c("div",[_vm.canShowTaskIcon?_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/task-list",iconClass:"icon icon-sm mT5 mR5 task-icon"}}):_vm._e(),_c("span",{staticClass:"q-item-sublabel pL5"},[_vm._v(_vm._s(_vm.taskLabel))])],1):"noOfAttachments"===_vm.field.name?_c("div",{staticStyle:{float:"left"}},[_vm._m(1),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.attachmentLabel))])]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(293656)}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(345265)}})])}],User=(__webpack_require__(634338),__webpack_require__(426803)),validation=__webpack_require__(990260),WorkOrderSpecialFieldsListvue_type_script_lang_js={components:{UserAvatar:User/* default */.Z},props:["field","moduleData"],computed:{canShowTaskIcon:function(){var moduleData=this.moduleData;return!(0,validation/* isEmpty */.xb)(moduleData.noOfTasks)&&0!==moduleData.noOfNotes},taskLabel:function(){var moduleData=this.moduleData,noOfTasks=moduleData.noOfTasks,noOfNotes=moduleData.noOfNotes,noOfClosedTasks=moduleData.noOfClosedTasks,taskLabel="---";return(0,validation/* isEmpty */.xb)(noOfTasks)||0===noOfNotes?taskLabel:(0,validation/* isEmpty */.xb)(noOfClosedTasks)?"0":"".concat(noOfClosedTasks,"/").concat(noOfTasks)},notesLabel:function(){var moduleData=this.moduleData,noOfNotes=moduleData.noOfNotes;return(0,validation/* isEmpty */.xb)(noOfNotes)||0===noOfNotes?"0":moduleData.noOfNotes},attachmentLabel:function(){var moduleData=this.moduleData,_ref=moduleData||{},noOfAttachments=_ref.noOfAttachments;return(0,validation/* isEmpty */.xb)(noOfAttachments)||0===noOfAttachments?"0":noOfAttachments}}},list_WorkOrderSpecialFieldsListvue_type_script_lang_js=WorkOrderSpecialFieldsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_WorkOrderSpecialFieldsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderSpecialFieldsList=component.exports},
/***/806339:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/utils/WidgetPagination.vue?vue&type=template&id=6b10cd5b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-widget-pagination"},[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_vm._v(" of "+_vm._s(_vm.total)+" "),_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],WidgetPaginationvue_type_script_lang_js={props:["currentPage","perPage","total","hideToggle"],data:function(){return{from:0,to:0,page:1}},mounted:function(){this.init()},watch:{total:function(){this.init()},currentPage:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage||1,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.updateCurrentPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.updateCurrentPage()},updateCurrentPage:function(){
// Update currentPage value
this.$emit("update:currentPage",this.page),this.$emit("onChange")}}},utils_WidgetPaginationvue_type_script_lang_js=WidgetPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(utils_WidgetPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WidgetPagination=component.exports},
/***/587365:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ReportFilter}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/energy/analytics/filter/ReportFilter.vue?vue&type=template&id=bf9f41e4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container fc-dialog-center-body-p0 fc-dialog-right-hide",attrs:{visible:_vm.visibility,width:"65%","append-to-body":!0,"show-close":!1,"before-close":_vm.close,"close-on-click-modal":!1},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("el-tabs",{staticClass:"fc-analytics-filter-tab",model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_vm.isTFEnable?_c("el-tab-pane",{attrs:{label:"Time Filter",name:"timeFilter"}},[_c("div",{staticClass:"p30"},[_c("time-filter",{attrs:{config:_vm.tConfig},on:{"update:config":function($event){_vm.tConfig=$event}}})],1)]):_vm._e(),_c("el-tab-pane",{attrs:{label:"Data Filter",name:"newDataFilter"}},[_c("div",{staticClass:"fDF_class"},[_c("FDataFilter",{ref:"f-data-filter",attrs:{excludeOperators:_vm.excludeOperators,rulesArr:_vm.dConfig,existingOptions:_vm.existingOptions,canShowMatchConditions:!1,loadAssetsInitial:!1,withReadings:!0}})],1)])],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.close}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.save}},[_vm._v("APPLY")])],1)],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),TimeFiltervue_type_template_id_6844c9f6_render=(__webpack_require__(670560),__webpack_require__(169358),__webpack_require__(865137),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height400 overflow-y-scroll pB80"},[_c("div",[_c("div",[_c("div",{staticClass:"label-txt-black f14 pB5 bold"},[_vm._v("Filter by Day")]),_c("el-row",{staticClass:"pT10 flex-middle"},[_c("el-select",{staticClass:"fc-input-full-border2 time_type",attrs:{placeholder:"Select"},on:{change:_vm.typeChange},model:{value:_vm.config.type,callback:function($$v){_vm.$set(_vm.config,"type",$$v)},expression:"config.type"}},[_c("el-option",{attrs:{label:"None",value:"0"}}),_c("el-option",{attrs:{label:"Weekend",value:"1"}}),_c("el-option",{attrs:{label:"Weekdays",value:"2"}}),_c("el-option",{attrs:{label:"Custom",value:"3"}})],1),_c("el-checkbox-group",{staticClass:"time_chgroup fc-checkbox-group mL20",on:{change:_vm.daysChange},model:{value:_vm.config.days,callback:function($$v){_vm.$set(_vm.config,"days",$$v)},expression:"config.days"}},_vm._l(_vm.daysObj,(function(value,key){return _c("el-checkbox-button",{key:key,attrs:{label:parseInt(key)}},[_vm._v(_vm._s(value)+" ")])})),1)],1)],1),_c("div",{staticClass:"mT40"},[_c("div",{staticClass:"label-txt-black f14 pB5 bold"},[_vm._v("Filter by Time")]),Object.keys(this.config.time).length>0?_c("div",_vm._l(_vm.config.time,(function(interval,key){return _c("el-row",{key:key,staticClass:"flex-middle pT10"},[_c("el-col",{attrs:{span:10}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Select time"},model:{value:interval[0],callback:function($$v){_vm.$set(interval,0,$$v)},expression:"interval[0]"}},_vm._l(_vm.rangeOptions,(function(option){return _c("el-option",{key:option.value,attrs:{label:option.label,value:option.value}})})),1)],1),_c("el-col",{attrs:{span:1}},[_c("i",{staticClass:"el-icon-minus lable-txt-black pL10 pR10 fwBold"})]),_c("el-col",{attrs:{span:10}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:"Select"},model:{value:interval[1],callback:function($$v){_vm.$set(interval,1,$$v)},expression:"interval[1]"}},_vm._l(_vm.rangeOptions,(function(option){return _c("el-option",{key:option.value,attrs:{label:option.label,value:option.value}})})),1)],1),_c("el-col",{attrs:{span:3}},[_c("div",{staticClass:"flex-middle pL20"},[Object.keys(_vm.config.time).length<3?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px",cursor:"pointer"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addInterval}}):_vm._e(),_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-left":"15px",cursor:"pointer"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteInterval(key)}}})])])],1)})),1):_c("div",[_c("el-button",{staticClass:"setup-el-btn mT10",attrs:{type:"primary"},on:{click:_vm.addInterval}},[_c("i",{staticClass:"el-icon-circle-plus-outline f20 bold pR5 vertical-sub"}),_vm._v("Add Filter")])],1)])])])}),TimeFiltervue_type_template_id_6844c9f6_staticRenderFns=[],isEqual=(__webpack_require__(879288),__webpack_require__(618446)),isEqual_default=__webpack_require__.n(isEqual),TimeFiltervue_type_script_lang_js={name:"TimeFilter",props:["config"],data:function(){return{daysObj:{1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat",7:"Sun"},monthsObj:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},rangeOptions:[{value:"00:00",label:"12:00 AM"},{value:"01:00",label:"01:00 AM"},{value:"02:00",label:"02:00 AM"},{value:"03:00",label:"03:00 AM"},{value:"04:00",label:"04:00 AM"},{value:"05:00",label:"05:00 AM"},{value:"06:00",label:"06:00 AM"},{value:"07:00",label:"07:00 AM"},{value:"08:00",label:"08:00 AM"},{value:"09:00",label:"09:00 AM"},{value:"10:00",label:"10:00 AM"},{value:"11:00",label:"11:00 AM"},{value:"12:00",label:"12:00 PM"},{value:"13:00",label:"01:00 PM"},{value:"14:00",label:"02:00 PM"},{value:"15:00",label:"03:00 PM"},{value:"16:00",label:"04:00 PM"},{value:"17:00",label:"05:00 PM"},{value:"18:00",label:"06:00 PM"},{value:"19:00",label:"07:00 PM"},{value:"20:00",label:"08:00 PM"},{value:"21:00",label:"09:00 PM"},{value:"22:00",label:"10:00 PM"},{value:"23:00",label:"11:00 PM"},{value:"23:59",label:"11:59 PM"}]}},methods:{typeChange:function(){0==this.config.type?this.config.days=[]:1==this.config.type?this.config.days=[6,7]:2==this.config.type&&(this.config.days=[1,2,3,4,5])},daysChange:function(){var dayLen=this.config.days.length,type="0";type=dayLen>0&&isEqual_default()(this.config.days,[6,7])?"1":dayLen>0&&isEqual_default()(this.config.days,[1,2,3,4,5])?"2":"3",this.$set(this.config,"type",type)},addInterval:function(){var key,intervalsLength=Object.keys(this.config.time).length;key=0===intervalsLength?1:Number(Object.keys(this.config.time)[intervalsLength-1])+1,this.$set(this.config.time,key,["09:00","18:00"])},deleteInterval:function(key){this.$delete(this.config.time,key)}}},filter_TimeFiltervue_type_script_lang_js=TimeFiltervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(filter_TimeFiltervue_type_script_lang_js,TimeFiltervue_type_template_id_6844c9f6_render,TimeFiltervue_type_template_id_6844c9f6_staticRenderFns,!1,null,null,null)
/* harmony default export */,TimeFilter=component.exports,FDataFiltervue_type_template_id_029d7621_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"data-filter-container"},[_vm.canShowMatchConditions?_c("div",[_c("el-radio-group",{model:{value:_vm.matchingCondition,callback:function($$v){_vm.matchingCondition=$$v},expression:"matchingCondition"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:1}},[_vm._v(_vm._s(_vm.$t("datafilter.conditions.match_all")))]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:0}},[_vm._v(_vm._s(_vm.$t("datafilter.conditions.match_any")))])],1)],1):_vm._e(),_vm.$validation.isEmpty(_vm.rules)?_vm._e():_c("div",{staticClass:"data-criteria-container"},_vm._l(_vm.rules,(function(rule,index){return _c("div",{key:index,staticClass:"criteria-item"},[_c("div",{staticClass:"criteria-index"},[_c("div",{staticClass:"label"},[_vm._v(_vm._s(index+1))])]),_c("div",{staticClass:"criteria-resource"},[_c("FLookupField",{key:""+index,attrs:{model:rule.resourceId,field:rule.field,disabled:(rule.field||{}).isDisabled,fetchOptionsOnLoad:_vm.loadAssetsInitial,fetchOptionsMethod:_vm.fetchOptions},on:{"update:model":function($event){return _vm.$set(rule,"resourceId",$event)},recordSelected:_vm.handleRecordSelected,showLookupWizard:_vm.showLookupWizard}})],1),_c("div",{staticClass:"criteria-reading"},[_c("el-select",{staticClass:"el-input-textbox-full-border",attrs:{loading:rule.field.isDataLoading,filterable:"",placeholder:_vm.$t("datafilter.conditions.reading")},on:{change:function($event){return _vm.onReadingChange({index:index,fieldId:rule.fieldId,resourceId:rule.resourceId})}},model:{value:rule.fieldId,callback:function($$v){_vm.$set(rule,"fieldId",$$v)},expression:"rule.fieldId"}},_vm._l(_vm.readingsMap[rule.resourceId],(function(field,index){return _c("el-option",{key:index,attrs:{label:field.label,value:field.value}})})),1)],1),_c("div",{staticClass:"criteria-operator"},[_c("el-select",{staticClass:"el-input-textbox-full-border",attrs:{loading:rule.field.isDataLoading,filterable:"",placeholder:_vm.$t("datafilter.conditions.operator")},on:{change:function($event){return _vm.onOperatorChange(index)}},model:{value:rule.operatorId,callback:function($$v){_vm.$set(rule,"operatorId",$$v)},expression:"rule.operatorId"}},_vm._l(rule.operators,(function(field,index){return _c("el-option",{key:index,attrs:{label:field.label,value:field.value}})})),1)],1),rule.valueNeeded?_c("div",{staticClass:"criteria-value"},["DECIMAL"===rule.dataTypeEnumName||"NUMBER"===rule.dataTypeEnumName?_c("el-input",{staticClass:"fc-input-full-border-select2",model:{value:rule.value,callback:function($$v){_vm.$set(rule,"value",$$v)},expression:"rule.value"}}):"BOOLEAN"===rule.dataTypeEnumName?_c("el-select",{staticClass:"el-input-textbox-full-border",model:{value:rule.value,callback:function($$v){_vm.$set(rule,"value",$$v)},expression:"rule.value"}},[_c("el-option",{attrs:{label:rule.trueVal,value:1}}),_c("el-option",{attrs:{label:rule.falseVal,value:0}})],1):"ENUM"===rule.dataTypeEnumName?_c("el-select",{staticClass:"el-input-textbox-full-border",model:{value:rule.value,callback:function($$v){_vm.$set(rule,"value",$$v)},expression:"rule.value"}},_vm._l(rule.enumArr,(function(option,index){return _c("el-option",{key:index,attrs:{label:option.label,value:option.value}})})),1):_c("el-input",{staticClass:"fc-input-full-border-select2",model:{value:rule.value,callback:function($$v){_vm.$set(rule,"value",$$v)},expression:"rule.value"}})],1):_c("div",{staticClass:"criteria-value"},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:"Input not needed",disabled:""}})],1),_c("div",{staticClass:"d-flex"},[_vm.canShowAddRule?_c("div",{staticClass:"self-center cursor-pointer",on:{click:function($event){return _vm.addRule(index)}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"add-icon",iconClass:"icon icon-md mR5"}})],1):_vm._e(),_vm.canShowRemoveRule?_c("div",{staticClass:"self-center cursor-pointer mL10",on:{click:function($event){return _vm.removeRule(index)}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"remove-icon",iconClass:"icon icon-md mR5"}})],1):_vm._e()])])})),0),_vm.canShowLookupWizard?_c("div",[_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.selectedLookupField,withReadings:!0},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue}})],1):_vm._e()])},FDataFiltervue_type_template_id_029d7621_staticRenderFns=[],slicedToArray=__webpack_require__(554621),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),FLookupField=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(891719),__webpack_require__(76265),__webpack_require__(336585),__webpack_require__(162506),__webpack_require__(855048)),FLookupFieldWizard=__webpack_require__(499751),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),validation=__webpack_require__(990260),picklist=__webpack_require__(961358),rulesObj={resourceId:null,fieldId:null,operatorId:null,operators:[],valueNeeded:!0,dataTypeEnumName:null,value:null,trueVal:"True",falseVal:"False",enumArr:[],field:{isDataLoading:!1,options:[],lookupModuleName:"asset",field:{lookupModule:{name:"asset",displayName:"Asset"}},forceFetchAlways:!0,filters:{},isDisabled:!1}},FDataFiltervue_type_script_lang_js={components:{FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:FLookupFieldWizard["default"]},props:{excludeOperators:{type:Array,default:function(){return[]}},rulesArr:{type:Array,default:function(){return[]}},existingOptions:{type:Array,default:function(){return[]}},canShowMatchConditions:{type:Boolean,default:!0},loadAssetsInitial:{type:Boolean,default:!0},withReadings:{type:Boolean,default:!1}},data:function(){return{matchingCondition:1,rules:[],selectedLookupField:null,canShowLookupWizard:!1,readingsMap:{},operatorsMap:{}}},computed:{canShowAddRule:function(){var rules=this.rules;return rules.length<=10},canShowRemoveRule:function(){var rules=this.rules;return rules.length>1}},created:function(){this.init()},methods:{init:function(){var _this=this,rulesArr=this.rulesArr,excludeOperators=this.excludeOperators,existingOptions=this.existingOptions;this.readingsPromiseMap={};var finalRules=[];(0,validation/* isEmpty */.xb)(rulesArr)?(finalRules=[cloneDeep_default()(rulesObj)],finalRules[0].field.name="0"):rulesArr.forEach((function(rule,index){var clonedRulesObj=cloneDeep_default()(rulesObj),obj=cloneDeep_default()(Object.assign(clonedRulesObj,rule));if(obj.field.name="".concat(index),obj.field.isDataLoading=!0,(0,validation/* isEmpty */.xb)(obj.resourceId)||_this.fetchReadingsAndOperators(obj.resourceId).then((function(options){var operatorsArr=[];if(!(0,validation/* isEmpty */.xb)(options)){var selectedOption=options.find((function(option){return option.value===obj.fieldId}))||{};if(!(0,validation/* isEmpty */.xb)(selectedOption)){var operators=selectedOption.operators,_name=selectedOption._name,trueVal=selectedOption.trueVal,falseVal=selectedOption.falseVal,enumArr=selectedOption.enumArr;operatorsArr=operators.filter((function(operator){return!excludeOperators.includes(operator.id)})),obj.dataTypeEnumName=_name,obj.trueVal=trueVal,obj.falseVal=falseVal,obj.enumArr=enumArr}}if(obj.field.isDataLoading=!1,obj.operators=operatorsArr,!(0,validation/* isEmpty */.xb)(obj.operatorId)&&!(0,validation/* isEmpty */.xb)(operatorsArr)){var selectedOperator=operatorsArr.find((function(operator){return operator.value===obj.operatorId}))||{},valueNeeded=selectedOperator.valueNeeded;obj.valueNeeded=!!valueNeeded}})),!(0,validation/* isEmpty */.xb)(obj.resourceName)&&!(0,validation/* isEmpty */.xb)(obj.resourceId)){var selectedResourceObj={label:obj.resourceName,value:obj.resourceId};existingOptions.push(selectedResourceObj),obj.field.selectedItems=[{name:obj.resourceName,id:obj.resourceId}]}finalRules.push(obj)})),(0,validation/* isEmpty */.xb)(existingOptions)||(finalRules[0].field.options=existingOptions),this.$set(this,"rules",finalRules)},fetchOptions:function(props){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var existingOptions,options,_yield$getFieldOption,_yield$getFieldOption2,optionsArr,error,_ref,message,existingOptionIds,filteredOptions;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return existingOptions=_this2.existingOptions,options=[],_context.next=4,(0,picklist/* getFieldOptions */._K)(props);case 4:return _yield$getFieldOption=_context.sent,_yield$getFieldOption2=_yield$getFieldOption.options,optionsArr=void 0===_yield$getFieldOption2?[]:_yield$getFieldOption2,error=_yield$getFieldOption.error,error?(_ref=error||{},message=_ref.message,_this2.$message.error(message||"Error Occured")):options=optionsArr,(0,validation/* isEmpty */.xb)(existingOptions)||(existingOptionIds=existingOptions.map((function(option){return option.value})),filteredOptions=options.filter((function(option){return!existingOptionIds.includes(option.value)})),existingOptions.forEach((function(option){filteredOptions.unshift(option)})),options=filteredOptions),_context.abrupt("return",{options:options});case 11:case"end":return _context.stop()}}),_callee)})))()},fetchReadingsAndOperators:function(resourceId){var _this3=this,readingsPromiseMap=this.readingsPromiseMap,readingsMap=this.readingsMap,excludeOperators=this.excludeOperators,cachedOptions=readingsMap[resourceId],isAlreadyCached=!(0,validation/* isEmpty */.xb)(cachedOptions);if(!isAlreadyCached){var promise,isPromiseAvailable=!(0,validation/* isEmpty */.xb)(readingsPromiseMap[resourceId]);return promise=isPromiseAvailable?readingsPromiseMap[resourceId]:new Promise((function(resolve){return _this3.$util.loadAssetReadingFields(resourceId).then((function(readingFields){var operatorsArr=[],enumArr=[],options=(readingFields||[]).map((function(field){var displayName=field.displayName,id=field.id,_field$dataTypeEnum=field.dataTypeEnum,operators=_field$dataTypeEnum.operators,_name=_field$dataTypeEnum._name,trueVal=field.trueVal,falseVal=field.falseVal,values=field.values;return(0,validation/* isEmpty */.xb)(trueVal)&&(trueVal="True"),(0,validation/* isEmpty */.xb)(falseVal)&&(falseVal="False"),(0,validation/* isEmpty */.xb)(values)||(enumArr=values.map((function(obj){var value=obj.value,index=obj.index;return{label:value,value:index}}))),(0,validation/* isEmpty */.xb)(operators)||(operatorsArr=Object.entries(operators).map((function(_ref2){var _ref3=(0,slicedToArray/* default */.Z)(_ref2,2),key=_ref3[0],value=_ref3[1];return{label:key,value:value.operatorId,valueNeeded:value.valueNeeded}})),operatorsArr=operatorsArr.filter((function(operator){return!excludeOperators.includes(operator.value)}))),{label:displayName,value:id,operators:operatorsArr,_name:_name,trueVal:trueVal,falseVal:falseVal,enumArr:enumArr}}));_this3.$set(_this3.readingsMap,"".concat(resourceId),options||[]),(0,validation/* isEmpty */.xb)(readingsPromiseMap[resourceId])||delete readingsPromiseMap[resourceId],resolve(options)}))})),promise}return Promise.resolve(cachedOptions)},handleRecordSelected:function(option,field){var name=field.name,_ref4=option||{},value=_ref4.value,index=Number(name),rules=this.rules,currentRule=rules[index],resourceId=currentRule.resourceId;if(!(0,validation/* isEmpty */.xb)(value)){var existingOptions=this.existingOptions,isAlreadyExists=!1;(0,validation/* isEmpty */.xb)(existingOptions)||(isAlreadyExists=!(0,validation/* isEmpty */.xb)(existingOptions.find((function(option){return option.value===value})))),isAlreadyExists||(existingOptions.unshift(option),this.$emit("update:existingOptions",existingOptions)),currentRule.field.isDataLoading=!0,this.fetchReadingsAndOperators(resourceId).then((function(){return currentRule.field.isDataLoading=!1}))}this.resetRowData({index:index,resourceId:resourceId})},resetRowData:function(props){var index=props.index,resourceId=props.resourceId,rules=this.rules,currentRule=rules[index];currentRule.resourceId=resourceId,currentRule.fieldId=null,currentRule.operatorId=null,currentRule.valueNeeded=!0,currentRule.value=null,currentRule.dataTypeEnumName=null,rules[index]=currentRule,this.$set(this,"rules",rules)},showLookupWizard:function(field,canShow){this.$set(this,"selectedLookupField",field),this.$set(this,"canShowLookupWizard",canShow)},setLookupFieldValue:function(props){var field=props.field,_ref5=field||{},selectedItems=_ref5.selectedItems,_ref6=selectedItems||[],_ref7=(0,slicedToArray/* default */.Z)(_ref6,1),selectedItem=_ref7[0],value=selectedItem.value,selectedLookupField=this.selectedLookupField,rules=this.rules,name=selectedLookupField.name,options=selectedLookupField.options;if((0,validation/* isEmpty */.xb)(options))options.push(selectedItem);else{var isAlreadyExists=!(0,validation/* isEmpty */.xb)(options.find((function(option){return option.value===selectedItem.value})));isAlreadyExists||options.unshift(selectedItem)}this.$set(this.selectedLookupField,"options",options),(0,validation/* isEmpty */.xb)(name)||(rules[Number(name)].resourceId=value,rules[Number(name)].field.isDataLoading=!0,this.fetchReadingsAndOperators(value).then((function(){return rules[Number(name)].field.isDataLoading=!1})),this.resetRowData({index:Number(name),resourceId:value}),this.$set(this,"rules",rules))},onReadingChange:function(props){var excludeOperators=this.excludeOperators,rules=this.rules,operatorsArr=[],index=props.index,fieldId=props.fieldId,resourceId=props.resourceId,currentRule=rules[index],readingsMap=this.readingsMap,options=readingsMap[resourceId];if(!(0,validation/* isEmpty */.xb)(options)){var selectedOption=options.find((function(option){return option.value===fieldId})),operators=selectedOption.operators,_name=selectedOption._name,trueVal=selectedOption.trueVal,falseVal=selectedOption.falseVal,enumArr=selectedOption.enumArr;(0,validation/* isEmpty */.xb)(operators)||(operatorsArr=operators.filter((function(operator){return!excludeOperators.includes(operator.value)}))),this.$set(currentRule,"dataTypeEnumName",_name),this.$set(currentRule,"trueVal",trueVal),this.$set(currentRule,"falseVal",falseVal),this.$set(currentRule,"enumArr",enumArr)}this.$set(currentRule,"operators",operatorsArr)},onOperatorChange:function(index){var rules=this.rules,valueNeeded=!1,currentRule=rules[index]||{},operatorId=currentRule.operatorId,operators=currentRule.operators;if(!(0,validation/* isEmpty */.xb)(operators)){var selectedOperator=operators.find((function(operator){return operator.value===operatorId}))||{};valueNeeded=!!selectedOperator.valueNeeded}this.$set(currentRule,"valueNeeded",valueNeeded)},addRule:function(index){var rules=this.rules,existingOptions=this.existingOptions,newRule=cloneDeep_default()(rulesObj);(0,validation/* isEmpty */.xb)(existingOptions)||(newRule.field.options=existingOptions),rules.splice(index+1,0,newRule),rules.forEach((function(rule,index){rule.field.name="".concat(index)})),this.$set(this,"rules",rules)},removeRule:function(index){var rules=this.rules;rules.splice(index,1),rules.forEach((function(rule,index){rule.field.name="".concat(index)})),this.$set(this,"rules",rules)},saveRules:function(){var rules=this.rules,serializedRule=[];return(0,validation/* isEmpty */.xb)(rules)||rules.forEach((function(rule){var resourceId=rule.resourceId,fieldId=rule.fieldId,field=rule.field,operatorId=rule.operatorId,value=rule.value;serializedRule.push({resourceId:resourceId,fieldId:fieldId,field:field,operatorId:operatorId,value:value})})),serializedRule}}},components_FDataFiltervue_type_script_lang_js=FDataFiltervue_type_script_lang_js,FDataFilter_component=(0,componentNormalizer/* default */.Z)(components_FDataFiltervue_type_script_lang_js,FDataFiltervue_type_template_id_029d7621_render,FDataFiltervue_type_template_id_029d7621_staticRenderFns,!1,null,null,null)
/* harmony default export */,FDataFilter=FDataFilter_component.exports,ReportFiltervue_type_script_lang_js={name:"ReportFilter",components:{TimeFilter:TimeFilter,
// DataFilter,
FDataFilter:FDataFilter},props:{visibility:Boolean,existingOptions:{type:Array,default:function(){return[]}},config:{type:Object,required:!0}},data:function(){return{alias:"",activeTab:"timeFilter",tConfig:{type:"0",time:{},
//Time ranges
days:[],
// 7 Days
months:[]},dConfig:[],excludeOperators:[74,75,76,77,78,79,35,87,81,82],rulesArr:[]}},computed:{isTFEnable:function(){return this.config.hasOwnProperty("timeFilter")},isDFEnable:function(){return this.config.hasOwnProperty("dataFilter")}},mounted:function(){this.load()},methods:{load:function(){this.isTFEnable&&((0,validation/* areValuesEmpty */.sD)(this.config.timeFilter.conditions)||(this.tConfig=this.getTimeFilterRenderObj(this.$helpers.cloneObject(this.config.timeFilter)))),this.isDFEnable&&((0,validation/* areValuesEmpty */.sD)(this.config.dataFilter.conditions)||(this.dConfig=this.getDataFilterRenderObj(this.$helpers.cloneObject(this.config.dataFilter))))},getAlias:function(){var alias=this.alias;return alias=(0,validation/* isEmpty */.xb)(alias)?"A":String.fromCharCode(alias.charCodeAt()+1),this.alias=alias,alias},getTimeFilter:function(){var conditions={},tConfig=this.tConfig;if(this.alias="",!(0,validation/* areValuesEmpty */.sD)(tConfig.days)){var alias=this.getAlias();conditions[alias]={field:"ttime",operatorId:85,value:tConfig.days}}if(tConfig.time)for(var interval in tConfig.time)if(!(0,validation/* isNullOrUndefined */.le)(tConfig.time[interval])){var _alias=this.getAlias();conditions[_alias]={field:"ttime",operatorId:86,value:tConfig.time[interval]}}return{conditions:conditions}},getDataFilter:function(){this.dConfig.conditions=this.$refs["f-data-filter"].saveRules();var conditions={};this.alias="";var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.dConfig.conditions);try{for(_iterator.s();!(_step=_iterator.n()).done;){var condition=_step.value;if(null!==condition.operatorId){var fieldObj=condition.field.options[0]?condition.field.options[0]:{label:null},alias=this.getAlias(),con={};con.parentId=condition.resourceId,con.fieldId=condition.fieldId,con.operatorId=condition.operatorId,con.value=condition.value,con.currentAsset="Current Asset"==fieldObj.label,conditions[alias]=con}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{conditions:conditions}},getFilter:function(){return{timeFilter:this.getTimeFilter(),dataFilter:this.getDataFilter()}},getDataFilterRenderObj:function(dConfig){var renderObj=this.dConfig;for(var key in dConfig.conditions){var condition=dConfig.conditions[key],rule={};rule.resourceId=condition.parentId,rule.fieldId=condition.fieldId,rule.operatorId=condition.operatorId,rule.value=condition.value,renderObj.push(rule)}return renderObj},getTimeFilterRenderObj:function(tConfig){var renderObj=this.tConfig;for(var key in tConfig.conditions){var condition=tConfig.conditions[key],operator=this.getOperatorObj(condition.operatorId);if(renderObj[operator])if("time"===operator){var intervals=renderObj[operator];if(Object.keys(intervals).length>0){var lastKey=Object.keys(intervals).sort().reverse()[0];intervals[lastKey+1]=condition.value}else renderObj[operator]={},renderObj[operator][0]=condition.value}else renderObj[operator]=condition.value}return renderObj.days||(renderObj.days=[]),renderObj.type=this.getTimeFilterType(renderObj),renderObj},getTimeFilterType:function(renderObj){var dayLen=renderObj.days.length,type="0";return type=dayLen>0&&isEqual_default()(renderObj.days,[6,7])?"1":dayLen>0&&isEqual_default()(renderObj.days,[1,2,3,4,5])?"2":"3",type},getOperatorObj:function(id){switch(id){case 85:return"days";case 86:return"time"}},save:function(){this.$emit("reportFilter",this.getFilter()),this.close()},close:function(){this.$emit("update:visibility",!1)}}},filter_ReportFiltervue_type_script_lang_js=ReportFiltervue_type_script_lang_js,ReportFilter_component=(0,componentNormalizer/* default */.Z)(filter_ReportFiltervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ReportFilter=ReportFilter_component.exports},
/***/706881:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CurrencyPopOver}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/organizationSetting/currency/CurrencyPopOver.vue?vue&type=template&id=434b446a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showCurrencyField?_c("div",{staticClass:"d-flex"},[_vm.showInfo?_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))]):_vm._e(),_vm.showMultiCurrencyInfo?_c("el-popover",{attrs:{placement:"right",title:_vm.$t("setup.currency.rate"),width:"230",trigger:"hover",content:_vm.currencyContent,"open-delay":5,disabled:_vm.isEmpty(_vm.baseValue)}},[_vm.showInfo?_vm._e():_c("div",{class:[_vm.baseValue&&"pointer"],attrs:{slot:"reference"},slot:"reference"},[_c("div",[_vm._v(_vm._s(""+_vm.getMultiCurrencyFieldValue))]),_c("div",{staticClass:"f12"},[_vm._v(_vm._s(_vm.baseValue))])]),_vm.isBaseCode||!_vm.showInfo||_vm.hideInfoBtn?_vm._e():_c("fc-icon",{staticClass:"pointer info-position mL2",attrs:{slot:"reference",group:"dsm",name:"info",size:"13"},slot:"reference"})],1):_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))])],1):_c("span",[_vm._v("---")])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(990260)),CurrencyUtil=__webpack_require__(15426),vuex_esm=__webpack_require__(420629),CurrencyPopOvervue_type_script_lang_js={props:["field","details","showInfo","hideInfoBtn"],data:function(){return{baseValue:"",isEmpty:validation/* isEmpty */.xb}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account},currencyList:function(state){return state.activeCurrencies}})),{},{showMultiCurrencyInfo:function(){var _ref=this.multiCurrency||{},multiCurrencyEnabled=_ref.multiCurrencyEnabled;return multiCurrencyEnabled},isBaseCode:function(){var _ref2=this.multiCurrency||{},baseCode=_ref2.currencyCode,_ref3=this.details||{},currencyCode=_ref3.currencyCode;return baseCode===currencyCode},showCurrencyField:function(){var currencyValue=this.currencyValue;return!(0,validation/* isEmpty */.xb)(currencyValue)&&"---"!=currencyValue},multiCurrency:function(){var _ref4=this.$getProperty(this.account,"data.currencyInfo")||{},displaySymbol=_ref4.displaySymbol,currencyCode=_ref4.currencyCode,multiCurrencyEnabled=_ref4.multiCurrencyEnabled;return{displaySymbol:displaySymbol,currencyCode:currencyCode,multiCurrencyEnabled:multiCurrencyEnabled}},currencyContent:function(){var details=this.details,currencyValue=this.currencyValue,baseSymbol=this.multiCurrency.displaySymbol;if(!(0,validation/* isEmpty */.xb)(currencyValue)){var _ref5=details||{},exchangeRate=_ref5.exchangeRate,currencyCode=_ref5.currencyCode,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)||currency.displaySymbol===baseSymbol)return null;var _ref6=currency||{},displaySymbol=_ref6.displaySymbol,content="".concat(baseSymbol," 1 = ").concat(displaySymbol," ").concat(exchangeRate);return content}return"---"},currencyValue:function(){var details=this.details,field=this.field,_ref7=details||{},data=_ref7.data;return field.displayValue||details[field.name]||(null===data||void 0===data?void 0:data[field.name])},getMultiCurrencyFieldValue:function(){var currencyValue=this.currencyValue,showInfo=this.showInfo,_this$multiCurrency=this.multiCurrency,baseSymbol=_this$multiCurrency.displaySymbol,baseCode=_this$multiCurrency.currencyCode,multiCurrencyEnabled=_this$multiCurrency.multiCurrencyEnabled,_ref8=this.details||{},currencyCode=_ref8.currencyCode,exchangeRate=_ref8.exchangeRate,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode})),baseCurrency=(this.currencyList||[]).find((function(currency){return baseCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)&&!(0,validation/* isEmpty */.xb)(currencyValue))return"".concat(baseSymbol," ").concat(currencyValue);var _ref9=currency||{},displaySymbol=_ref9.displaySymbol;displaySymbol=(0,validation/* isEmpty */.xb)(displaySymbol)?baseSymbol:displaySymbol;var baseValue="";if(multiCurrencyEnabled&&baseCode!==currencyCode){var value=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue/exchangeRate,baseCurrency);baseValue="( ".concat(baseSymbol," ").concat(value," )")}return currencyValue=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue,currency),this.setBaseValue(baseValue),showInfo?"".concat(displaySymbol," ").concat(currencyValue," ").concat(baseValue):"".concat(displaySymbol," ").concat(currencyValue)}}),created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$store.dispatch("getActiveCurrencyList");case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{setBaseValue:function(value){this.baseValue=value}}},currency_CurrencyPopOvervue_type_script_lang_js=CurrencyPopOvervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(currency_CurrencyPopOvervue_type_script_lang_js,render,staticRenderFns,!1,null,"434b446a",null)
/* harmony default export */,CurrencyPopOver=component.exports},
/***/345265:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"35079cf978684c9b6a17e182df923ff5.svg";
/***/},
/***/30684:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"52c2ff301190417db7febd08d4cd5153.svg";
/***/},
/***/572902:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"db5324b7cf9058a0aa45899e55bf6444.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/85371.js.map