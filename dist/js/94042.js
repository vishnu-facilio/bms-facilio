"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[94042],{
/***/297157:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ErrorBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ErrorBanner.vue?vue&type=template&id=3d9e5288
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasError?_c("div",{staticClass:"error-block",attrs:{id:"error"}},[_c("p",{staticClass:"error-txt"},[_c("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(_vm.errorMessage?_vm.errorMessage:"Please fill all mandatory fields.")+" ")]),_c("i",{staticClass:"el-icon-close error-close-icon",on:{click:_vm.closeBanner}})]):_vm._e()])},staticRenderFns=[],ErrorBannervue_type_script_lang_js={props:["error","errorMessage"],computed:{hasError:{get:function(){return this.error},set:function(value){this.$emit("update:error",value)}}},methods:{closeBanner:function(){this.hasError=!1,this.$emit("update:errorMessage","")}}},components_ErrorBannervue_type_script_lang_js=ErrorBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ErrorBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ErrorBanner=component.exports},
/***/436756:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialogNew}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialogNew.vue?vue&type=template&id=388b7f7a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"costdialog",class:["f-dialog",_vm.customClass],attrs:{visible:_vm.visible,"before-close":_vm.close,width:_vm.width,"append-to-body":!0},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("div",{staticClass:"f-dialog-title",attrs:{slot:"title"},slot:"title"},[_vm._t("header",(function(){return[_c("div",{staticClass:"label-txt-black fwBold"},[_vm._v(" "+_vm._s(_vm.title)+" ")])]}))],2),_c("div",{staticClass:"f-dialog-content",style:_vm.styleCss},[_vm._t("content"),_vm._t("default")],2),_c("div",{staticClass:"f-footer row",staticStyle:{height:"46px"}},[_vm._t("footer",(function(){return[_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.close}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.loading},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.loading?_vm.loadingTitle||"Saving...":_vm.confirmTitle||"Save"))])],1)]}))],2)])},staticRenderFns=[],FDialogNewvue_type_script_lang_js={props:["title","confirmTitle","visible","customClass","width","maxHeight","stayOnSave","loading","loadingTitle","record"],computed:{styleCss:function(){return this.maxHeight?{"max-height":this.maxHeight,overflow:"scroll"}:null}},methods:{close:function(){this.$emit("close"),this.$emit("update:visible",!1)},save:function(){this.$emit("save"),this.stayOnSave||this.$emit("update:visible",!1)}}},components_FDialogNewvue_type_script_lang_js=FDialogNewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogNewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDialogNew=component.exports},
/***/794948:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FFileUpload}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FFileUpload.vue?vue&type=template&id=e533b9a4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-img-container"},[_vm.imgUrl&&!_vm.isFileType?_c("div",{staticClass:"photo-container"},[_c("img",{staticClass:"f-img",attrs:{src:_vm.imgUrl}}),_vm.isDisabled||_vm.isUploading?_vm._e():_c("div",{staticClass:"f-img-delete",on:{click:function($event){return _vm.removeFile(_vm.field)}}},[_c("inline-svg",{staticClass:"f-delete",attrs:{src:"svgs/delete",iconClass:"icon icon-sm"}})],1)]):_vm.isFileType&&_vm.fileObject?_c("div",{staticClass:"fc-attachments"},[_c("div",{staticClass:"fc-attachment-row d-flex"},[_c("div",{staticClass:"attached-files"},[_c("div",{staticClass:"mB10"},[_vm._v(_vm._s(_vm.fileObject.name))]),_vm.$validation.isEmpty(_vm.fileObject.size)||_vm.preview?_vm._e():_c("div",{staticClass:"attached-file-size"},[_vm._v(" "+_vm._s(_vm._f("prettyBytes")(_vm.fileObject.size))+" ")])]),_c("div",{staticClass:"d-flex mL-auto"},[_vm.isUploading?_c("spinner",{attrs:{show:_vm.isUploading,size:"30"}}):_vm._e(),_vm.isDisabled||_vm.isUploading?_vm._e():_c("i",{staticClass:"el-icon-delete pointer attachment-delete",on:{click:function($event){return _vm.removeFile(_vm.field)}}})],1)])]):_c("div",{staticClass:"f-img-empty"},[_vm.showWebCamPhoto&&!_vm.isFileType?_c("div",{staticClass:"f-add-photo",on:{click:_vm.openPhoto}},[_c("inline-svg",{staticClass:"camera-icon self-center",attrs:{src:"svgs/camera",iconClass:"icon icon-xxl"}}),_c("div",{staticClass:"self-center"},[_c("p",{staticClass:"help-text"},[_vm._v(_vm._s(_vm.$t("common.attachment_form.add_photo")))])])],1):_vm._e(),_vm.showWebCamPhoto&&!_vm.isFileType?_c("div",{staticClass:"f-img-separator justify-center d-flex"},[_c("span",{staticClass:"self-center"},[_vm._v(_vm._s(_vm.$t("common.text.or")))])]):_vm._e(),_c("el-upload",{staticClass:"f-img-upload",attrs:{action:"","show-file-list":!1,"http-request":function(event){return _vm.uploadFile(_vm.field,event)},"on-remove":_vm.removeFile,"before-upload":_vm.beforeUpload,disabled:_vm.isDisabled,drag:""}},[_vm.isPlaceHolderAvailable?_vm._t("placeHolderSlot"):_c("div",{staticClass:"d-flex flex-direction-column"},[_c("inline-svg",{staticClass:"folder-icon self-center",attrs:{src:"svgs/folder",iconClass:"icon icon-xxl"}}),_c("div",{staticClass:"self-center"},[_c("p",{staticClass:"help-text"},[_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.drag_drop_text"))+" "+_vm._s(_vm.$t("common.attachment_form.click_to_browse"))+" ")])])],1)],2)],1),_vm.isUploading&&!_vm.isFileType?_c("div",{staticClass:"mT10"},[_vm._v(" "+_vm._s(_vm.$t("common._common.uploading"))+" ")]):_vm._e(),_vm.showPhotoContainer?_c("div",[_c("el-dialog",{staticClass:"f-img-webcam",attrs:{visible:_vm.showPhotoContainer,width:"650px","append-to-body":!0,"show-close":!1,"before-close":_vm.closeDialogBox},on:{"update:visible":function($event){_vm.showPhotoContainer=$event}}},[_c("div",{staticClass:"height400"},[_c("video",{ref:"player",attrs:{autoplay:""}}),_c("canvas",{ref:"canvas",staticStyle:{display:"none"},attrs:{width:"320",height:"240"}})]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialogBox}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.captureImg()}}},[_vm._v("Save Photo")])],1)])],1):_vm._e()])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(169358),__webpack_require__(634338),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(990260)),api=__webpack_require__(32284),Spinner=__webpack_require__(604947),uuid=__webpack_require__(455877),FFileUploadvue_type_script_lang_js={name:"FFileUpload",components:{Spinner:Spinner/* default */.Z},props:["field","showWebCamPhoto","isDisabled","imgContentUrl","isFileType","fileObj","additionalFileFormat","isV3Api","isSaveBtnDisabled","addImgFile","preview"],data:function(){return{showPhotoContainer:!1,authorizeImageFormats:["image/jpeg","image/png","image/jpg"],isUploading:!1,skipDefault:!1}},computed:{imgUrl:{get:function(){return this.imgContentUrl},set:function(value){this.$emit("update:imgContentUrl",value)}},fileObject:{get:function(){var fileObj=this.fileObj,defaultFileObject=this.defaultFileObject,skipDefault=this.skipDefault;return(0,validation/* isEmpty */.xb)(defaultFileObject)||skipDefault?fileObj:defaultFileObject},set:function(value){this.$emit("update:fileObj",value)}},defaultFileObject:function(){var field=this.field,_ref=field||{},value=_ref.value;if(!(0,validation/* isEmpty */.xb)(value)){if(!(0,validation/* isArray */.kJ)(value))try{value=JSON.parse(value)}catch(e){this.$message.warning(this.$t("common._common.error_parsing_value"))}var defaultFileObj=value[0]||{},_ref2=defaultFileObj||{},name=_ref2.fileName;return(0,validation/* isEmpty */.xb)(name)?null:{name:name}}return null},isPlaceHolderAvailable:function(){var $slots=this.$slots;return!(0,validation/* isEmpty */.xb)($slots.placeHolderSlot)}},methods:{beforeUpload:function(file){var authorizeImageFormats=this.authorizeImageFormats,isFileType=this.isFileType,additionalFileFormat=this.additionalFileFormat;if(!isFileType){(0,validation/* isEmpty */.xb)(additionalFileFormat)||(authorizeImageFormats=authorizeImageFormats.concat(additionalFileFormat));var isFileTypeAccessible=authorizeImageFormats.includes(file.type);return isFileTypeAccessible||this.$message.error("Picture must be under any of these (jpeg/png/jpg) format!"),isFileTypeAccessible}return!0},openPhoto:function(){var _this=this;if(this.hasGetUserMedia())this.showPhotoContainer=!0,this.$nextTick((function(){var player=_this.$refs.player,constraints={video:{width:{exact:600},height:{exact:350}}};navigator.mediaDevices.getUserMedia(constraints).then((function(stream){player.srcObject=stream}))}));else{var errMsg=this.$t("common.errorMsg.no_browser_support");this.$message.error(errMsg)}this.$set(this,"showPhotoContainer",!0)},hasGetUserMedia:function(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)},removeFile:function(field){var _ref3=field||{},value=_ref3.value;this.imgUrl=null,this.fileObject=null,(0,validation/* isEmpty */.xb)(value)||(this.skipDefault=!0),this.$emit("removeImgFile",field)},uploadFile:function(field,event){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var file,isFileType,fileReader,fileOrId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return file=event.file,isFileType=_this2.isFileType,fileReader=new FileReader,isFileType?_this2.fileObject=file:fileReader.addEventListener("load",(function(event){_this2.imgUrl=event.target.result})),fileReader.readAsDataURL(file),_context.next=7,_this2.getFileId(file);case 7:fileOrId=_context.sent,_this2.addImgFile(fileOrId,field);case 9:case"end":return _context.stop()}}),_callee)})))()},closeDialogBox:function(){var player=this.$refs.player;player.srcObject&&player.srcObject.getVideoTracks().forEach((function(track){return track.stop()})),this.showPhotoContainer=!1},captureImg:function(){var _this3=this,field=this.field,canvasElement=this.$refs.canvas,player=this.$refs.player,canvasContext=canvasElement.getContext("2d");canvasContext.drawImage(player,0,0,canvasElement.width,canvasElement.height),this.$nextTick((function(){var dataUrl=canvasElement.toDataURL("image/png");_this3.imgUrl=dataUrl,fetch(dataUrl).then((function(res){return res.blob()})).then(function(){var _ref4=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(blob){var fileOrId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return blob.name=blob.name||"file ".concat((0,uuid.v4)()),_context2.next=3,_this3.getFileId(blob);case 3:fileOrId=_context2.sent,_this3.addImgFile(fileOrId,field);case 5:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref4.apply(this,arguments)}}()),player.srcObject.getVideoTracks().forEach((function(track){return track.stop()})),_this3.showPhotoContainer=!1}))},getFileId:function(file){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var fileId,_yield$API$uploadFile,ids,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this4.$emit("update:isSaveBtnDisabled",!0),_this4.isUploading=!0,_context3.next=4,api/* API */.bl.uploadFiles([file]);case 4:return _yield$API$uploadFile=_context3.sent,ids=_yield$API$uploadFile.ids,error=_yield$API$uploadFile.error,error?_this4.$message.error(error.message||"Error Occured"):fileId=(0,validation/* isEmpty */.xb)(ids)?null:ids[0],_this4.isUploading=!1,_this4.$emit("update:isSaveBtnDisabled",!1),_context3.abrupt("return",fileId);case 11:case"end":return _context3.stop()}}),_callee3)})))()}}},components_FFileUploadvue_type_script_lang_js=FFileUploadvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FFileUploadvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FFileUpload=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/544843:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CatalogItemCreation}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/catalogs/CatalogItemCreation.vue?vue&type=template&id=a2e12598
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowDialog,fullscreen:!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog50 setup-dialog catalog-item-creation","append-to-body":!0,"before-close":_vm.beforeClose},on:{"update:visible":function($event){_vm.canShowDialog=$event}}},[_c("ErrorBanner",{attrs:{error:_vm.error,errorMessage:_vm.errorMessage},on:{"update:error":function($event){_vm.error=$event},"update:errorMessage":function($event){_vm.errorMessage=$event},"update:error-message":function($event){_vm.errorMessage=$event}}}),_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.title)+" ")])])]),_c("div",{staticClass:"f-webform-container catalog-creation pL40 pR40 pT10"},[_c("el-form",{ref:"newServiceCatalogItem",attrs:{rules:_vm.rules,model:_vm.serviceCatalogItem}},[_c("div",{staticClass:"d-flex"},[_c("FFileUpload",{attrs:{imgContentUrl:_vm.serviceCatalogItem.photoUrl,isFileType:!1,showWebCamPhoto:!1,additionalFileFormat:["image/svg+xml"],addImgFile:_vm.addImgFile},on:{"update:imgContentUrl":function($event){return _vm.$set(_vm.serviceCatalogItem,"photoUrl",$event)},"update:img-content-url":function($event){return _vm.$set(_vm.serviceCatalogItem,"photoUrl",$event)},removeImgFile:_vm.removeImgFile}},[_c("div",{staticClass:"d-flex flex-direction-column",attrs:{slot:"placeHolderSlot"},slot:"placeHolderSlot"},[_c("inline-svg",{staticClass:"folder-icon self-center",attrs:{src:"svgs/photo",iconClass:"icon icon-xxl"}}),_c("div",{staticClass:"self-center"},[_c("p",{staticClass:"upload-img-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.upload_logo"))+" ")])])],1)]),_c("div",{staticClass:"name-section"},[_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("common._common.name"),prop:"name",required:!0}},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("common._common.enter_name")},model:{value:_vm.serviceCatalogItem.name,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"name",$$v)},expression:"serviceCatalogItem.name"}})],1),_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("servicecatalog.setup.category"),prop:"groupId",required:!_vm.serviceCatalogItem.complaintType}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("servicecatalog.setup.select_category"),disabled:-1===_vm.serviceCatalogItem.groupId},model:{value:_vm.serviceCatalogItem.groupId,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"groupId",$$v)},expression:"serviceCatalogItem.groupId"}},_vm._l(_vm.catalogGroups,(function(group){return _c("el-option",{key:group.id,attrs:{label:group.name,value:group.id}})})),1)],1)],1)],1),_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("common.wo_report.report_description"),prop:"description"}},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},placeholder:_vm.$t("common._common.enter_desc")},model:{value:_vm.serviceCatalogItem.description,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"description",$$v)},expression:"serviceCatalogItem.description"}})],1),_c("el-form-item",{staticClass:"mB10 d-flex flex-direction-column catalog-type",attrs:{label:_vm.$t("asset.assets.asset_type"),prop:"type"}},[_c("el-radio-group",{model:{value:_vm.serviceCatalogItem.type,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"type",$$v)},expression:"serviceCatalogItem.type"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:1}},[_vm._v(_vm._s(_vm.$t("common._common.form")))]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:2}},[_vm._v(_vm._s(_vm.$t("servicecatalog.setup.external_url")))])],1)],1),_vm.canShowUrlBox?_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("servicecatalog.setup.external_url"),prop:"externalURL",required:!0}},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("servicecatalog.setup.enter_external_url")},model:{value:_vm.serviceCatalogItem.externalURL,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"externalURL",$$v)},expression:"serviceCatalogItem.externalURL"}})],1):_vm._e(),_c("div",{staticClass:"sub-header"},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.moduledetails"))+" ")]),_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("servicecatalog.setup.module_name"),prop:"moduleId"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("servicecatalog.setup.selectmodules"),loading:_vm.isModulesLoading},model:{value:_vm.serviceCatalogItem.moduleId,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"moduleId",$$v)},expression:"serviceCatalogItem.moduleId"}},_vm._l(_vm.modulesList,(function(module,index){return _c("el-option",{key:index,attrs:{label:module.displayName,value:module.moduleId}})})),1)],1),_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("servicecatalog.setup.forms"),prop:"formName"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("servicecatalog.setup.selectforms"),loading:_vm.isFormsLoading},model:{value:_vm.serviceCatalogItem.formName,callback:function($$v){_vm.$set(_vm.serviceCatalogItem,"formName",$$v)},expression:"serviceCatalogItem.formName"}},_vm._l(_vm.formsList,(function(form,index){return _c("el-option",{key:index,attrs:{label:form.displayName,value:form.name}})})),1)],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialogBox}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{loading:_vm.isSaving,type:"primary"},on:{click:_vm.saveRecord}},[_vm._v(_vm._s(_vm.$t("common._common.confirm")))])],1)],1)},staticRenderFns=[],ErrorBanner=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(821057),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(297157)),FFileUpload=__webpack_require__(794948),validation=__webpack_require__(990260),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),utility_methods=__webpack_require__(555005),constant=__webpack_require__(354754),CatalogItemCreationvue_type_script_lang_js={props:["canAddCatalogItem","isEdit","serviceCatalogItem","catalogGroups","cataLogModulesList","appId"],components:{ErrorBanner:ErrorBanner/* default */.Z,FFileUpload:FFileUpload/* default */.Z},data:function(){return{catalogLogo:null,formsList:[],rules:{name:[{required:!0,message:"Please enter name",trigger:"blur"}],groupId:[{required:!0,message:"Please select a category",trigger:"change"}],description:[{required:!0,message:"Please enter description",trigger:"blur"}],moduleId:[{required:!0,message:"Please select a module",trigger:"change"}],formName:[{required:!0,message:"Please select a form",trigger:"change"}],externalURL:[{required:!0,message:"Please enter the external url",trigger:"blur"}]},error:"",errorMessage:"",isSaving:!1,isModulesLoading:!1,isFormsLoading:!1}},computed:{canShowDialog:{get:function(){return this.canAddCatalogItem},set:function(value){this.$emit("update:canAddCatalogItem",value)}},modulesList:{get:function(){return this.cataLogModulesList},set:function(value){this.$emit("update:cataLogModulesList",value)}},title:function(){var isEdit=this.isEdit,title=this.$t("servicecatalog.setup.item");return isEdit?"Edit ".concat(title):"New ".concat(title)},canShowUrlBox:function(){var serviceCatalogItem=this.serviceCatalogItem,_ref=serviceCatalogItem||{},type=_ref.type;return 2===type}},watch:{"serviceCatalogItem.moduleId":{handler:function(newVal,oldVal){isEqual_default()(newVal,oldVal)||this.loadFormsList()}},"serviceCatalogItem.type":{handler:function(newVal){1===newVal&&this.$set(this.serviceCatalogItem,"externalURL","")}}},created:function(){var _this=this,modulesList=this.modulesList,isEdit=this.isEdit;(0,validation/* isEmpty */.xb)(modulesList)?this.loadCatalogModulesList().then((function(){isEdit&&_this.setCatalogFormData()})):isEdit&&this.setCatalogFormData(),isEdit||this.$set(this.serviceCatalogItem,"type",1)},methods:{setFormValid:function(){this.error=!1,this.errorMessage=""},setFormInvalid:function(msg){this.error=!0,this.errorMessage=msg},closeDialogBox:function(){this.canShowDialog=!1},beforeClose:function(done){this.$set(this,"errMsgVal",null),this.$set(this,"errVal",!1),done()},addImgFile:function(file){this.$set(this,"catalogLogo",file)},removeImgFile:function(){this.$set(this,"catalogLogo",null),this.$set(this.serviceCatalogItem,"photoId",null)},loadCatalogModulesList:function(){var _this2=this,url="v2/servicecatalog/modules";this.$set(this,"isModulesLoading",!0);var promise=this.$http.get(url).then((function(_ref2){var _ref2$data=_ref2.data,message=_ref2$data.message,responseCode=_ref2$data.responseCode,result=_ref2$data.result;if(0!==responseCode)throw new Error(message);var modules=result.modules,filteredModules=modules.filter((function(module){return!(0,validation/* isEmpty */.xb)(module)}));_this2.$set(_this2,"modulesList",filteredModules)})).catch((function(_ref3){var message=_ref3.message;_this2.$message.error(message)}));return Promise.all([promise]).finally((function(){return _this2.$set(_this2,"isModulesLoading",!1)}))},loadFormsList:function(){var _this3=this,serviceCatalogItem=this.serviceCatalogItem,appId=this.appId,moduleId=serviceCatalogItem.moduleId,selectedModuleName=this.getSelectedModuleName(moduleId);if(!(0,validation/* isEmpty */.xb)(selectedModuleName)){var url="v2/forms?moduleName=".concat(selectedModuleName);(0,validation/* isEmpty */.xb)(appId)||(url+="&appId=".concat(appId)),this.$set(this,"isFormsLoading",!0);var promise=this.$http.get(url).then((function(_ref4){var _ref4$data=_ref4.data,message=_ref4$data.message,responseCode=_ref4$data.responseCode,result=_ref4$data.result;if(0!==responseCode)throw new Error(message);var forms=result.forms;_this3.$set(_this3,"formsList",forms)})).catch((function(_ref5){var message=_ref5.message;_this3.$message.error(message)}));return Promise.all([promise]).finally((function(){return _this3.$set(_this3,"isFormsLoading",!1)}))}},getSelectedModuleName:function(moduleId){var modulesList=this.modulesList;return(modulesList.find((function(module){return module.moduleId===moduleId}))||{}).name},getSelectedForm:function(propValue,key){var formsList=this.formsList;return formsList.find((function(form){return form[key]===propValue}))||{}},setCatalogFormData:function(){var _this4=this,serviceCatalogItem=this.serviceCatalogItem,formId=serviceCatalogItem.formId;this.loadFormsList().then((function(){var selectedForm=_this4.getSelectedForm(formId,"id")||{};_this4.$set(_this4.serviceCatalogItem,"formName",selectedForm.name)}))},saveRecord:function(){var _this5=this;this.$refs["newServiceCatalogItem"].validate((function(valid){if(valid){var serviceCatalogItem=_this5.serviceCatalogItem,formName=serviceCatalogItem.formName,selectedForm=_this5.getSelectedForm(formName,"name");if(!(0,validation/* isEmpty */.xb)(selectedForm)){var id=selectedForm.id;(0,validation/* isEmpty */.xb)(id)?_this5.addNewForm(serviceCatalogItem,selectedForm):(_this5.$set(serviceCatalogItem,"formId",id),_this5.saveCatalogItemRecord(serviceCatalogItem))}}}))},addNewForm:function(serviceCatalogItem,selectedForm){var _this6=this,moduleId=serviceCatalogItem.moduleId,description=selectedForm.description,displayName=selectedForm.displayName,appLinkName=selectedForm.appLinkName,name=selectedForm.name,url="v2/forms/add",data={moduleName:this.getSelectedModuleName(moduleId),form:{description:description,displayName:displayName,appLinkName:appLinkName,name:name}};this.$http.post(url,data).then((function(_ref6){var _ref6$data=_ref6.data,message=_ref6$data.message,responseCode=_ref6$data.responseCode,result=_ref6$data.result;if(0!==responseCode)throw new Error(message);var _ref7=result||{},id=_ref7.form.id;_this6.$set(serviceCatalogItem,"formId",id),_this6.saveCatalogItemRecord(serviceCatalogItem)})).catch((function(_ref8){var message=_ref8.message;_this6.$message.error(message)}))},saveCatalogItemRecord:function(serviceCatalogItem){var _this7=this,catalogLogo=this.catalogLogo,moduleId=serviceCatalogItem.moduleId,_clonedCatalogItem=cloneDeep_default()(serviceCatalogItem);(0,validation/* isEmpty */.xb)(_clonedCatalogItem.formName)||delete _clonedCatalogItem.formName,_clonedCatalogItem=(0,utility_methods/* serializeProps */._$)(_clonedCatalogItem,constant/* default */.Z.CATALOG_RESOURCE_PROPS),_clonedCatalogItem.photoId=catalogLogo||serviceCatalogItem.photoId;var data={moduleName:this.getSelectedModuleName(moduleId),serviceCatalog:_clonedCatalogItem},url="v2/servicecatalog/addOrUpdate";this.$set(this,"isSaving",!0);var promise=this.$http.post(url,data).then((function(_ref9){var _ref9$data=_ref9.data,message=_ref9$data.message,responseCode=_ref9$data.responseCode,result=_ref9$data.result;if(0!==responseCode)throw new Error(message);_this7.$message.success(_this7.$t("common.products.service_item_created_successfully")),_this7.$emit("setActiveCatalog",result.serviceCatalog),_this7.closeDialogBox()})).catch((function(_ref10){var message=_ref10.message;_this7.$message.error(message)}));Promise.all([promise]).finally((function(){return _this7.$set(_this7,"isSaving",!1)}))}}},catalogs_CatalogItemCreationvue_type_script_lang_js=CatalogItemCreationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(catalogs_CatalogItemCreationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CatalogItemCreation=component.exports},
/***/994042:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return CatalogSetupList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/catalogs/CatalogSetupList.vue?vue&type=template&id=7f965c6e
var CatalogsSetupMixin_render,CatalogsSetupMixin_staticRenderFns,render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100 overflow-hidden"},[_c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.service_catalogs"))+" ")]),_c("div",{staticClass:"heading-description"},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.list_of_sc"))+" ")])]),_c("div",{staticClass:"setting-page-btn catalog-btn"},[_c("el-select",{staticClass:"fc-input-full-border2 width200px pR15",attrs:{placeholder:"Select App",filterable:""},on:{change:_vm.loadCatalogsList},model:{value:_vm.appId,callback:function($$v){_vm.appId=$$v},expression:"appId"}},_vm._l(_vm.apps,(function(app){return _c("el-option",{key:app.linkName,attrs:{label:app.name,value:app.id}})})),1),_c("el-dropdown",{staticClass:"mL10 pointer stateflow-btn-wrapper",attrs:{trigger:"click"},on:{command:function(catalogBtn){return _vm.openCreationDialog({},catalogBtn)}}},[_c("el-button",{attrs:{type:"primary"}},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.add_new"))),_c("i",{staticClass:"el-icon-arrow-down pL10 font-black"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.catalogBtnDropDwn,(function(catalogBtn,index){return _c("el-dropdown-item",{key:index,attrs:{command:catalogBtn.value}},[_vm._v(_vm._s(_vm.getCatalogBtnLabel(catalogBtn.label)))])})),1)],1)],1)]),_c("div",{staticClass:"pL30 d-flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:"Select","value-key":"id",filterable:""},on:{change:_vm.setActiveCatalog},model:{value:_vm.activeCatalog,callback:function($$v){_vm.activeCatalog=$$v},expression:"activeCatalog"}},_vm._l(_vm.catalogGroups,(function(catalog,index){return _c("el-option",{key:catalog.name+" "+index,attrs:{label:catalog.name,value:catalog}})})),1),_c("div",{staticClass:"pL15"},[_c("el-button",{staticClass:"setup-el-btn",staticStyle:{height:"40px !important"},on:{click:function($event){_vm.canShowGroupList=!0}}},[_vm._v(_vm._s(_vm.$t("common.wo_report.show_all_categories")))])],1)],1),_c("div",{staticClass:"container-scroll mT30 catalog-setup-container"},[_c("div",{staticClass:"row setting-Rlayout"},[_c("div",{staticClass:"col-lg-12 col-md-12 overflow-x"},[_c("v-infinite-scroll",{staticClass:"catalog-scroll-container",attrs:{loading:_vm.loadingMoreCatalogs,offset:10},on:{bottom:function($event){return _vm.loadCatalogsList({loadMore:!0})}}},[_c("table",{staticClass:"setting-list-view-table"},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"25%"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.report_description"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.form"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("home.reports.module"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),_vm.isLoading||_vm.isCatalogLoading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.isLoading||_vm.isCatalogLoading,size:"80"}})],1)])]):0===_vm.filteredCatalogItems.length?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.emptytext"))+" ")])])]):_c("tbody",_vm._l(_vm.filteredCatalogItems,(function(catalogItem,index){return _c("tr",{key:index,staticClass:"tablerow visibility-visible-actions "},[_c("td",[_c("div",[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(catalogItem.name)+" ")])])])]),_c("td",[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(catalogItem.description)+" ")])]),_c("td",[_c("div",{staticClass:"label-txt3-14 blue-background-link",on:{click:function($event){return _vm.redirectToBuilder(catalogItem)}}},[_vm._v(" "+_vm._s(catalogItem.form&&catalogItem.form.displayName?catalogItem.form.displayName:"---")+" ")])]),_c("td",[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(catalogItem.module.displayName)+" ")])]),_c("td",{staticClass:"pR0"},[_c("div",{staticClass:"d-flex self-center mL-auto"},[_c("inline-svg",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"d-flex mR15 self-center",attrs:{src:"svgs/share",iconClass:"icon icon-xs fill-grey pointer",title:_vm.$t("common._common.share"),"data-position":"top","data-arrow":"true"},nativeOn:{click:function($event){return _vm.openSharingPermissionDialog(catalogItem)}}}),_c("inline-svg",{staticClass:"d-flex mR15 self-center",attrs:{src:"svgs/edit-pencil",iconClass:"icon icon-xs fill-grey pointer"},nativeOn:{click:function($event){return _vm.openCreationDialog(catalogItem,"canAddCatalogItem",!0)}}}),_c("inline-svg",{staticClass:"d-flex mR15 self-center",attrs:{src:"svgs/delete",iconClass:"icon icon-sm icon-remove fill-grey pointer"},nativeOn:{click:function($event){return _vm.showConfirmDelete(catalogItem)}}})],1)])])})),0)]),_vm.loadingMoreCatalogs?_c("div",{staticClass:"catalog-loading-more"},[_c("Spinner",{attrs:{show:_vm.loadingMoreCatalogs}})],1):_vm._e()])],1)])]),_vm.showSharingPermissionDialog?_c("ViewSharingPermission",{attrs:{showDialog:_vm.showSharingPermissionDialog,currentUserId:_vm.currentUserId,sharingDetails:_vm.selectedCatalogItem.sharing,selectedAppId:_vm.appId,selectedApp:_vm.apps.find((function(app){return app.id===_vm.appId}))||{},roles:_vm.roles},on:{"update:showDialog":function($event){_vm.showSharingPermissionDialog=$event},"update:show-dialog":function($event){_vm.showSharingPermissionDialog=$event},sharing:_vm.saveViewSharingPermission}}):_vm._e(),_vm.canAddCatalogGroup?_c("CatalogGroupCreation",{attrs:{serviceCatalogGroup:_vm.catalogGroupObj,canAddCatalogGroup:_vm.canAddCatalogGroup,isEdit:_vm.isEdit},on:{"update:canAddCatalogGroup":function($event){_vm.canAddCatalogGroup=$event},"update:can-add-catalog-group":function($event){_vm.canAddCatalogGroup=$event},updateCatalogGroup:_vm.updateCatalogGroup}}):_vm._e(),_vm.canAddCatalogItem?_c("CatalogItemCreation",{attrs:{isEdit:_vm.isEdit,serviceCatalogItem:_vm.selectedCatalogItem,appId:_vm.appId,canAddCatalogItem:_vm.canAddCatalogItem,catalogGroups:_vm.filteredCatalogGroups,cataLogModulesList:_vm.cataLogModulesList},on:{"update:canAddCatalogItem":function($event){_vm.canAddCatalogItem=$event},"update:can-add-catalog-item":function($event){_vm.canAddCatalogItem=$event},"update:cataLogModulesList":function($event){_vm.cataLogModulesList=$event},"update:cata-log-modules-list":function($event){_vm.cataLogModulesList=$event},setActiveCatalog:_vm.setActiveCatalog}}):_vm._e(),_vm.canShowGroupList?_c("CatalogGroupList",{attrs:{canShowGroupList:_vm.canShowGroupList,catalogGroups:_vm.filteredCatalogGroups},on:{"update:canShowGroupList":function($event){_vm.canShowGroupList=$event},"update:can-show-group-list":function($event){_vm.canShowGroupList=$event},openCreationDialog:_vm.openCreationDialog}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(821057),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(488478)),validation=__webpack_require__(990260),api=__webpack_require__(32284),CatalogsSetupMixinvue_type_script_lang_js={methods:{loadCatalogsData:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",api/* API */.bl.get("v2/servicecataloggroup/list").then((function(_ref){var data=_ref.data,error=_ref.error;if(error)_this.$message.error(error.message);else{var _data$serviceCatalogG=data.serviceCatalogGroups,serviceCatalogGroups=void 0===_data$serviceCatalogG?[]:_data$serviceCatalogG;_this.catalogGroups=[{name:"All",id:-1}].concat((0,toConsumableArray/* default */.Z)(serviceCatalogGroups));var groupId=_this.groupId,catalogGroups=_this.catalogGroups;if((0,validation/* isEmpty */.xb)(groupId))(0,validation/* isEmpty */.xb)(catalogGroups)||(_this.activeCatalog=catalogGroups[0]);else{var selectedCatalog=catalogGroups.find((function(catalog){return catalog.id===groupId}));(0,validation/* isEmpty */.xb)(selectedCatalog)||(_this.activeCatalog=selectedCatalog)}}})));case 1:case"end":return _context.stop()}}),_callee)})))()},loadCatalogsList:function(){var _this2=this,_ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$loadMore=_ref2.loadMore,loadMore=void 0!==_ref2$loadMore&&_ref2$loadMore,_ref2$forceFetch=_ref2.forceFetch,forceFetch=void 0!==_ref2$forceFetch&&_ref2$forceFetch,allCatalogsLoaded=this.allCatalogsLoaded,activeCatalog=this.activeCatalog,searchText=this.searchText,appId=this.appId,_ref3=activeCatalog||{},_ref3$id=_ref3.id,groupId=void 0===_ref3$id?null:_ref3$id;if(forceFetch||!allCatalogsLoaded){loadMore&&(this.page=this.page+1);var page=this.page,perPage=this.perPage;return this.$set(this,"isCatalogLoading",!loadMore),this.$set(this,"loadingMoreCatalogs",loadMore),api/* API */.bl.get("v2/servicecatalog/list?fromSetup=true",{page:page,perPage:perPage,groupId:(0,validation/* isEmpty */.xb)(groupId)?null:groupId,searchString:searchText||null,appId:appId}).then((function(_ref4){var data=_ref4.data,error=_ref4.error;if(error)_this2.$message.error(error.message);else{var _data$serviceCatalogs=data.serviceCatalogs,serviceCatalogs=void 0===_data$serviceCatalogs?[]:_data$serviceCatalogs,filteredCatalogItems=_this2.filteredCatalogItems;if(loadMore){var filteredArr=[].concat((0,toConsumableArray/* default */.Z)(filteredCatalogItems),(0,toConsumableArray/* default */.Z)(serviceCatalogs||[]));_this2.filteredCatalogItems=filteredArr,_this2.allCatalogsLoaded=serviceCatalogs.length<perPage}else _this2.filteredCatalogItems=serviceCatalogs;_this2.loadRoles()}})).finally((function(){_this2.isCatalogLoading=!1,_this2.loadingMoreCatalogs=!1}))}},loadRoles:function(){var _this3=this,appId=this.appId;appId>0&&api/* API */.bl.get("/setup/roles?appId=".concat(appId)).then((function(_ref5){var data=_ref5.data,error=_ref5.error;if(error)_this3.$message.error(error.message||"Error Occured");else{var _ref6=data||[],roles=_ref6.roles;_this3.roles=roles}}))}}},catalogs_CatalogsSetupMixinvue_type_script_lang_js=CatalogsSetupMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(catalogs_CatalogsSetupMixinvue_type_script_lang_js,CatalogsSetupMixin_render,CatalogsSetupMixin_staticRenderFns,!1,null,null,null)
/* harmony default export */,CatalogsSetupMixin=component.exports,CatalogGroupCreationvue_type_template_id_4fa071d9_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.title,visible:_vm.canShowDialog,width:"30%","append-to-body":!0,"before-close":_vm.beforeClose},on:{"update:visible":function($event){_vm.canShowDialog=$event}}},[_c("ErrorBanner",{attrs:{error:_vm.error,errorMessage:_vm.errorMessage},on:{"update:error":function($event){_vm.error=$event},"update:errorMessage":function($event){_vm.errorMessage=$event},"update:error-message":function($event){_vm.errorMessage=$event}}}),_c("div",{staticClass:"height350"},[_c("el-form",{ref:"newServiceCatalogGroup",attrs:{rules:_vm.rules,model:_vm.serviceCatalogGroup}},[_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("common._common.name"),prop:"name",required:!0}},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("common._common.enter_name")},model:{value:_vm.serviceCatalogGroup.name,callback:function($$v){_vm.$set(_vm.serviceCatalogGroup,"name",$$v)},expression:"serviceCatalogGroup.name"}})],1),_c("el-form-item",{staticClass:"mB10",attrs:{label:_vm.$t("common.wo_report.report_description"),prop:"description"}},[_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:_vm.$t("common._common.enter_desc")},model:{value:_vm.serviceCatalogGroup.description,callback:function($$v){_vm.$set(_vm.serviceCatalogGroup,"description",$$v)},expression:"serviceCatalogGroup.description"}})],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialogBox}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{loading:_vm.isSaving,type:"primary"},on:{click:function($event){return _vm.addNewCatalogGroup()}}},[_vm._v(_vm._s(_vm.$t("common._common.confirm")))])],1)],1)},CatalogGroupCreationvue_type_template_id_4fa071d9_staticRenderFns=[],ErrorBanner=(__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(297157)),CatalogGroupCreationvue_type_script_lang_js={props:["canAddCatalogGroup","isEdit","serviceCatalogGroup"],components:{ErrorBanner:ErrorBanner/* default */.Z},data:function(){return{rules:{name:[{required:!0,message:"Please enter name",trigger:"blur"}]},error:"",errorMessage:"",isSaving:!1}},computed:{canShowDialog:{get:function(){return this.canAddCatalogGroup},set:function(value){this.$emit("update:canAddCatalogGroup",value)}},title:function(){var isEdit=this.isEdit,title=this.$t("servicecatalog.setup.group");return isEdit?"Edit ".concat(title):"New ".concat(title)}},methods:{setFormValid:function(){this.error=!1,this.errorMessage=""},setFormInvalid:function(msg){this.error=!0,this.errorMessage=msg},addNewCatalogGroup:function(){var _this=this,serviceCatalogGroup=this.serviceCatalogGroup,$refs=this.$refs,isEdit=this.isEdit;(0,validation/* isEmpty */.xb)($refs["newServiceCatalogGroup"])||(this.setFormValid(),this.$refs["newServiceCatalogGroup"].validate((function(valid){if(valid){var name=serviceCatalogGroup.name,description=serviceCatalogGroup.description,id=serviceCatalogGroup.id,sucessMsg="Service Category created successfully",data={serviceCatalogGroup:{name:name,description:description}};isEdit&&(data.serviceCatalogGroup.id=id,sucessMsg="Service Category updated successfully");var url="v2/servicecataloggroup/addOrUpdate";_this.$set(_this,"isSaving",!0);var promise=_this.$http.post(url,data).then((function(_ref){var _ref$data=_ref.data,message=_ref$data.message,responseCode=_ref$data.responseCode,result=_ref$data.result;if(0!==responseCode)throw new Error(message);var _serviceCatalogGroup=result.serviceCatalogGroup;_this.$emit("updateCatalogGroup",_serviceCatalogGroup),_this.closeDialogBox(),_this.$message.success(sucessMsg)})).catch((function(_ref2){var message=_ref2.message;_this.setFormInvalid(message)}));Promise.all([promise]).finally((function(){return _this.$set(_this,"isSaving",!1)}))}})))},closeDialogBox:function(){this.canShowDialog=!1},beforeClose:function(done){this.$set(this,"error",null),this.$set(this,"errorMessage",!1),done()}}},catalogs_CatalogGroupCreationvue_type_script_lang_js=CatalogGroupCreationvue_type_script_lang_js,CatalogGroupCreation_component=(0,componentNormalizer/* default */.Z)(catalogs_CatalogGroupCreationvue_type_script_lang_js,CatalogGroupCreationvue_type_template_id_4fa071d9_render,CatalogGroupCreationvue_type_template_id_4fa071d9_staticRenderFns,!1,null,null,null)
/* harmony default export */,CatalogGroupCreation=CatalogGroupCreation_component.exports,CatalogItemCreation=__webpack_require__(544843),CatalogGroupListvue_type_template_id_6874da1e_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container service-categories",attrs:{title:_vm.$t("servicecatalog.setup.service_categories"),visible:_vm.canShowDialog,width:"50%","append-to-body":!0},on:{"update:visible":function($event){_vm.canShowDialog=$event}}},[_c("div",{staticClass:"height550 overflow-auto"},[_c("div",{staticClass:"container-scroll catalog-setup-container"},[_c("div",{staticClass:"row setting-Rlayout"},[_c("div",{staticClass:"col-lg-12 col-md-12 overflow-x"},[_c("table",{staticClass:"setting-list-view-table"},[_c("thead",[_c("tr",[_c("th",{staticClass:"setting-table-th setting-th-text",staticStyle:{width:"25%"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.name"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.report_description"))+" ")]),_c("th",{staticClass:"setting-table-th setting-th-text"})])]),0===_vm.catalogGroups.length?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_vm._v(" "+_vm._s(_vm.$t("servicecatalog.setup.emptytext_category"))+" ")])])]):_c("tbody",_vm._l(_vm.catalogGroups,(function(catalogGroup,index){return _c("tr",{key:index,staticClass:"tablerow visibility-visible-actions "},[_c("td",[_c("div",[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(catalogGroup.name)+" ")])])])]),_c("td",[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(catalogGroup.description)+" ")])]),_c("td",{staticClass:"pR0",staticStyle:{width:"20%"}},[_c("div",{staticClass:"text-left actions text-center mL20",staticStyle:{"margin-top":"-3px"}},[_c("i",{staticClass:"el-icon-edit pointer",on:{click:function($event){return _vm.editCatalogGroup(catalogGroup)}}}),_vm._v("    "),_c("i",{staticClass:"el-icon-delete pointer",on:{click:function($event){return _vm.showConfirmDelete(catalogGroup)}}}),_vm._v("    ")])])])})),0)])])])])])])},CatalogGroupListvue_type_template_id_6874da1e_staticRenderFns=[],CatalogGroupListvue_type_script_lang_js={props:["canShowGroupList","catalogGroups"],data:function(){return{}},computed:{canShowDialog:{get:function(){return this.canShowGroupList},set:function(value){this.$emit("update:canShowGroupList",value)}}},methods:{editCatalogGroup:function(catalogGroup){this.$emit("openCreationDialog",catalogGroup,"canAddCatalogGroup",!0)},showConfirmDelete:function(catalogGroup){var _this=this,dialogObj={title:"Delete Service Catalog Group",message:"Are you sure you want to delete this service category?",rbDanger:!0,rbLabel:"Delete"};this.$dialog.confirm(dialogObj).then((function(value){value&&_this.deleteServiceCategory(catalogGroup)}))},deleteServiceCategory:function(_ref){var _this2=this,id=_ref.id,url="v2/servicecataloggroup/delete",data={id:id};this.$http.post(url,data).then((function(_ref2){var _ref2$data=_ref2.data,message=_ref2$data.message,responseCode=_ref2$data.responseCode;if(0!==responseCode)throw new Error(message);var serviceCategories=_this2.catalogGroups.filter((function(item){return item.id!==id}));_this2.$set(_this2,"catalogGroups",serviceCategories),_this2.$message.success("Successfully Deleted")})).catch((function(_ref3){var message=_ref3.message;_this2.$message.error(message)}))}}},catalogs_CatalogGroupListvue_type_script_lang_js=CatalogGroupListvue_type_script_lang_js,CatalogGroupList_component=(0,componentNormalizer/* default */.Z)(catalogs_CatalogGroupListvue_type_script_lang_js,CatalogGroupListvue_type_template_id_6874da1e_render,CatalogGroupListvue_type_template_id_6874da1e_staticRenderFns,!1,null,null,null)
/* harmony default export */,CatalogGroupList=CatalogGroupList_component.exports,Spinner=__webpack_require__(604947),v_infinite_scroll=__webpack_require__(561364),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),utility_methods=__webpack_require__(773258),SharingPermissionvue_type_template_id_0d8b9dca_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.canShowDialog?_c("f-dialog",{attrs:{title:_vm.$t("viewsmanager.sharing_permission.title"),visible:_vm.canShowDialog,width:"37%",confirmTitle:_vm.$t("common._common.share"),stayOnSave:!0,customClass:"qr-dialog"},on:{"update:visible":function($event){_vm.canShowDialog=$event},save:_vm.saveSharingPermission,close:function($event){_vm.canShowDialog=!1}}},[_c("div",{staticClass:"sharing-permission-container height350"},[_c("div",{staticClass:"header-label pB15"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.sharing_permission.share_with"))+" ")]),_c("div",{staticClass:"pB15"},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},_vm._l(_vm.shareWith,(function(option,index){return _c("el-option",{key:index,attrs:{label:option.label,value:option.value}})})),1)],1),_vm.isSpecific?_c("div",{staticClass:"sharing-desc"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.sharing_permission.desc"))+" ")]):_vm._e(),_vm.isSpecific?_c("div",{staticClass:"mT20"},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{multiple:"","collapse-tags":"",placeholder:_vm.$t("common.wo_report.choose_users")},model:{value:_vm.sharedUsers,callback:function($$v){_vm.sharedUsers=$$v},expression:"sharedUsers"}},_vm._l(_vm.users,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1)],1):_vm._e(),_vm.isSpecific?_c("div",{staticClass:"mT20"},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{multiple:"","collapse-tags":"",placeholder:_vm.$t("common.wo_report.choose_roles")},model:{value:_vm.sharedRoles,callback:function($$v){_vm.sharedRoles=$$v},expression:"sharedRoles"}},_vm._l(_vm.roles,(function(role){return _c("el-option",{key:role.id,attrs:{label:role.name,value:role.id}})})),1)],1):_vm._e(),_vm.isSpecific&&"newapp"===_vm.selectedApp.linkName?_c("div",{staticClass:"mT20"},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{multiple:"","collapse-tags":"",placeholder:_vm.$t("common.wo_report.choose_teams")},model:{value:_vm.sharedGroups,callback:function($$v){_vm.sharedGroups=$$v},expression:"sharedGroups"}},_vm._l(_vm.groups,(function(group){return _c("el-option",{key:group.id,attrs:{label:group.name,value:group.id}})})),1)],1):_vm._e()])]):_vm._e()],1)},SharingPermissionvue_type_template_id_0d8b9dca_staticRenderFns=[],FDialogNew=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(947522),__webpack_require__(436756)),vuex_esm=__webpack_require__(420629),router=__webpack_require__(329435),sharingTypeHash={1:{valueString:"userId",valueArrString:"sharedUsers"},2:{valueString:"roleId",valueArrString:"sharedRoles"},3:{valueString:"groupId",valueArrString:"sharedGroups"}},SharingPermissionvue_type_script_lang_js={props:["showDialog","sharingDetails","currentUserId","selectedAppId","selectedApp","roles"],components:{FDialog:FDialogNew/* default */.Z},created:function(){this.$store.dispatch("loadGroups"),this.init()},mounted:function(){this.loadUsersList()},data:function(){return{shareTo:3,sharedGroups:[],sharedUsers:[],sharedRoles:[],users:[],shareWith:[{label:this.$t("viewsmanager.sharing_permission.only_me"),value:1},{label:this.$t("viewsmanager.sharing_permission.everyone"),value:2}]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({groups:function(state){return state.groups}})),{},{canShowDialog:{get:function(){return this.showDialog},set:function(value){this.$emit("update:showDialog",value)}},isSpecific:function(){var shareTo=this.shareTo;return 3===shareTo}}),watch:{shareTo:function(val){var currentUserId=this.currentUserId,sharedUsers=this.sharedUsers,selectedAppId=this.selectedAppId,isAlreadyUserExists=sharedUsers.includes(currentUserId);3!==val||(0,validation/* isEmpty */.xb)(currentUserId)||isAlreadyUserExists||((0,router/* getApp */.wx)()||{}).id!==selectedAppId||this.sharedUsers.push(currentUserId)}},methods:{loadUsersList:function(){var _this=this,selectedAppId=this.selectedAppId;api/* API */.bl.get("/v2/application/users/list?appId=".concat(selectedAppId)).then((function(_ref){var data=_ref.data,error=_ref.error;error?_this.$message.error(error.message||"Error Occured"):_this.users=data.users}))},init:function(){var _this2=this,sharingDetails=this.sharingDetails,currentUserId=this.currentUserId,selectedApp=this.selectedApp,sharedList=(sharingDetails||[]).filter((function(viewSharingContext){return"APP"!=viewSharingContext.typeEnum}));if((0,validation/* isEmpty */.xb)(sharedList)||0===sharedList.length?this.shareTo=2:(sharedList.forEach((function(sharingInfo){var type=sharingInfo.type,sharingTypeObj=sharingTypeHash[type]||{},valueString=sharingTypeObj.valueString,valueArrString=sharingTypeObj.valueArrString;if(!(0,validation/* isEmpty */.xb)(valueString)&&!(0,validation/* isEmpty */.xb)(valueArrString)){var value=sharingInfo[valueString],typeArr=_this2.$getProperty(_this2,"".concat(valueArrString),[]);typeArr.push(value),_this2.$set(_this2,valueArrString,typeArr)}})),1===sharedList.length&&1===this.sharedUsers.length&&this.sharedUsers[0]===currentUserId?this.shareTo=1:this.shareTo=3),"newapp"!==selectedApp.linkName){var index=this.sharedUsers.indexOf(currentUserId);index>-1&&this.sharedUsers.splice(index,1);var labelObj={label:this.$t("viewsmanager.sharing_permission.specific_user"),value:3};this.shareWith.push(labelObj)}else{var _labelObj={label:this.$t("viewsmanager.sharing_permission.specific"),value:3};this.shareWith.push(_labelObj)}},saveSharingPermission:function(){var sharedUsers=this.sharedUsers,sharedRoles=this.sharedRoles,sharedGroups=this.sharedGroups,currentUserId=this.currentUserId,sharingDetails=[];1===this.shareTo?sharingDetails.push({type:1,userId:currentUserId}):3===this.shareTo&&((0,validation/* isEmpty */.xb)(sharedUsers)||(sharingDetails.push({type:1,userId:currentUserId}),sharedUsers.forEach((function(user){user!==currentUserId&&sharingDetails.push({type:1,userId:user})}))),(0,validation/* isEmpty */.xb)(sharedRoles)||sharedRoles.forEach((function(role){sharingDetails.push({type:2,roleId:role})})),(0,validation/* isEmpty */.xb)(sharedGroups)||sharedGroups.forEach((function(group){sharingDetails.push({type:3,groupId:group})}))),this.$emit("sharing",sharingDetails),this.canShowDialog=!1}}},catalogs_SharingPermissionvue_type_script_lang_js=SharingPermissionvue_type_script_lang_js,SharingPermission_component=(0,componentNormalizer/* default */.Z)(catalogs_SharingPermissionvue_type_script_lang_js,SharingPermissionvue_type_template_id_0d8b9dca_render,SharingPermissionvue_type_template_id_0d8b9dca_staticRenderFns,!1,null,null,null)
/* harmony default export */,SharingPermission=SharingPermission_component.exports,CatalogSetupListvue_type_script_lang_js={mixins:[CatalogsSetupMixin],components:{Spinner:Spinner/* default */.Z,VInfiniteScroll:v_infinite_scroll_default(),CatalogGroupCreation:CatalogGroupCreation,CatalogItemCreation:CatalogItemCreation/* default */.Z,CatalogGroupList:CatalogGroupList,ViewSharingPermission:SharingPermission},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,_context.next=3,_this.loadCatalogsData();case 3:_this.isLoading=!1;case 4:case"end":return _context.stop()}}),_callee)})))()},props:["isApp"],mounted:function(){this.availableApps()},data:function(){return{showSharingPermissionDialog:!1,appId:null,apps:[],catalogGroups:[],filteredCatalogItems:[],activeCatalog:null,searchText:null,isLoading:!1,isCatalogLoading:!1,loadingMoreCatalogs:!1,perPage:50,page:1,allCatalogsLoaded:!1,isEmptySearch:!1,catalogBtnDropDwn:[{label:"group",value:"canAddCatalogGroup"},{label:"item",value:"canAddCatalogItem"}],catalogGroupObj:{name:null,description:null},catalogItemObj:{name:null,description:null,groupId:null,moduleId:null,formId:null},selectedCatalogItem:null,isEdit:!1,canAddCatalogGroup:!1,canAddCatalogItem:!1,canShowGroupList:!1,cataLogModulesList:[],roles:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),{},{filteredCatalogGroups:function(){var catalogGroups=this.catalogGroups;return(0,validation/* isEmpty */.xb)(catalogGroups)?[]:catalogGroups.filter((function(catalogGroup){return!(0,validation/* isEmpty */.xb)(catalogGroup.id)}))},currentUserId:function(){var getCurrentUser=this.getCurrentUser,userDetails=getCurrentUser(),id=userDetails.id;return id||null}}),methods:{openSharingPermissionDialog:function(selectedObj){this.$set(this,"selectedCatalogItem",selectedObj),this.showSharingPermissionDialog=!0},saveViewSharingPermission:function(sharing){var _this2=this,selectedCatalogItem=this.selectedCatalogItem,module=selectedCatalogItem.module,name=module.name;selectedCatalogItem.sharing=sharing;var data={moduleName:name,serviceCatalog:selectedCatalogItem},url="v2/servicecatalog/addOrUpdate";api/* API */.bl.post(url,data).then((function(_ref){var error=_ref.error;error?_this2.$message.error(error.message||"Error Occured while saving the permission"):(_this2.selectedCatalogItem.sharing=sharing,_this2.$message.success(_this2.$t("Saved Successfully")))}))},availableApps:function(){var _this3=this;api/* API */.bl.get("v2/application/list").then((function(_ref2){var data=_ref2.data,error=_ref2.error;if(error)_this3.$message.error(error.message||"Error Occured");else{_this3.apps=data.application;var defaultApp=_this3.apps.find((function(app){return"newapp"===app.linkName}))||_this3.apps[0];_this3.appId=defaultApp.id,_this3.loadCatalogsList()}}))},redirectToBuilder:function(catalogItem){var form=catalogItem.form,module=catalogItem.module,moduleName=module.name,id=form.id;if(module.custom){var currentPath=this.$router.resolve({name:"modules-details",params:{moduleName:moduleName}}).href;this.$router.push({path:"".concat(currentPath,"/layouts/").concat(id,"/edit")})}},openCreationDialog:function(selectedObj,canShow){var isEdit=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("canAddCatalogGroup"===canShow){var catalogGroupObj=this.getDefaultCatalogGroupObj(),obj=(0,validation/* isEmpty */.xb)(selectedObj)?(0,utility_methods/* deepCloneObject */.kh)(catalogGroupObj):(0,utility_methods/* deepCloneObject */.kh)(selectedObj);this.$set(this,"catalogGroupObj",obj)}else{var catalogItemObj=this.getDefaultCatalogItemObj(),_obj=(0,validation/* isEmpty */.xb)(selectedObj)?(0,utility_methods/* deepCloneObject */.kh)(catalogItemObj):(0,utility_methods/* deepCloneObject */.kh)(selectedObj);this.$set(this,"selectedCatalogItem",_obj)}this.$set(this,"isEdit",isEdit),this.$set(this,canShow,!0)},getCatalogBtnLabel:function(label){return this.$t("servicecatalog.setup.".concat(label))},getDefaultCatalogGroupObj:function(){return{name:null,description:null}},getDefaultCatalogItemObj:function(){var appId=this.appId;return{name:null,description:null,groupId:null,moduleId:null,formId:null,appId:appId}},showConfirmDelete:function(serviceItem){var _this4=this,dialogObj={title:"Delete Service Item",message:"Are you sure you want to delete this service item?",rbDanger:!0,rbLabel:"Delete"};this.$dialog.confirm(dialogObj).then((function(value){value&&_this4.deleteServiceItem(serviceItem)}))},deleteServiceItem:function(_ref3){var _this5=this,id=_ref3.id,url="v2/servicecatalog/delete",data={id:id};this.$http.post(url,data).then((function(_ref4){var _ref4$data=_ref4.data,message=_ref4$data.message,responseCode=_ref4$data.responseCode;if(0!==responseCode)throw new Error(message);var serviceCatalogItems=_this5.filteredCatalogItems.filter((function(item){return item.id!==id}));_this5.$set(_this5,"filteredCatalogItems",serviceCatalogItems),_this5.$message.success(_this5.$t("common.wo_report.successfully_deleted"))})).catch((function(_ref5){var message=_ref5.message;_this5.$message.error(message)}))},updateCatalogGroup:function(catalogGroup){var catalogGroups=this.catalogGroups,isEdit=this.isEdit;if(!(0,validation/* isEmpty */.xb)(catalogGroup))if(isEdit){var selectedCatalogGroupIndex=(catalogGroups||[]).findIndex((function(group){return group.id===catalogGroup.id}));catalogGroups.splice(selectedCatalogGroupIndex,1,catalogGroup)}else catalogGroups.push(catalogGroup);this.$set(this,"catalogGroups",catalogGroups)},setActiveCatalog:function(){this.$set(this,"page",1),this.$set(this,"allCatalogsLoaded",!1),this.loadCatalogsList({}),this.loadRoles()}}},catalogs_CatalogSetupListvue_type_script_lang_js=CatalogSetupListvue_type_script_lang_js,CatalogSetupList_component=(0,componentNormalizer/* default */.Z)(catalogs_CatalogSetupListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CatalogSetupList=CatalogSetupList_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/94042.js.map