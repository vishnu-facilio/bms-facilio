"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[56307],{
/***/656307:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ConnectedAppLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/connectedapps/ConnectedAppLoader.vue?vue&type=template&id=16cdb4be
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.failed?_c("div",[_vm._v("Invalid connected app link.")]):_vm._e(),_c("form",{ref:"formSubmit",staticStyle:{display:"none"},attrs:{action:_vm.acsURL,method:"POST"}},[_c("input",{attrs:{type:"hidden",name:"SAMLResponse"},domProps:{value:_vm.samlResponse}}),_c("input",{attrs:{type:"hidden",name:"RelayState"},domProps:{value:_vm.relayState}})])])},staticRenderFns=[],http=(__webpack_require__(670560),__webpack_require__(218430)),ConnectedAppLoadervue_type_script_lang_js={data:function(){return{loading:!0,failed:!1,acsURL:null,samlResponse:null,relayState:null}},computed:{connectedAppLinkName:function(){return this.$route.params.linkName}},mounted:function(){this.loadConnectedApp()},watch:{connectedAppLinkName:function(){this.loadConnectedApp()}},methods:{loadConnectedApp:function(){var _this=this;this.loading=!0;var url="/v2/connectedApps/"+this.connectedAppLinkName,params=this.$route.query?this.$route.query:{};http/* default */.ZP.get(url,{params:params}).then((function(response){_this.loading=!1,response.data.result&&response.data.result.viewUrl?response.data.result.samlResponse?(_this.acsURL=response.data.result.acsURL,_this.samlResponse=response.data.result.samlResponse,_this.relayState=response.data.result.relay?response.data.result.relay:response.data.result.viewUrl,_this.$nextTick((function(){_this.$refs.formSubmit.submit()}))):window.location.href=response.data.result.viewUrl:1===response.data.responseCode?_this.failed=!0:(_this.failed=!0,_this.$router.push({name:"login",query:{redirect:_this.$route.path}}))})).catch((function(error){_this.$router.push({name:"login",query:{redirect:_this.$route.path}}),error&&(_this.failed=!0)}))}}},connectedapps_ConnectedAppLoadervue_type_script_lang_js=ConnectedAppLoadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(connectedapps_ConnectedAppLoadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppLoader=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/56307.js.map