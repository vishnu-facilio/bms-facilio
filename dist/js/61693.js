(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[61693],{
/***/309412:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AppBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/AppBanner.vue?vue&type=template&id=49a69bc5
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("portal",{attrs:{to:"app-banner"}},[_c("div",{staticClass:"app-banner",style:_vm.appBannerStyle},[_vm._t("default")],2)])},staticRenderFns=[],validation=__webpack_require__(990260),AppBannervue_type_script_lang_js={props:["backgroundColor","textColor"],computed:{appBannerStyle:function(){var backgroundColor=this.backgroundColor,textColor=this.textColor,style={background:"#ff9933",color:"#fff"};return(0,validation/* isEmpty */.xb)(backgroundColor)||(style.background="".concat(backgroundColor)),(0,validation/* isEmpty */.xb)(textColor)||(style.color="".concat(textColor)),style}}},pages_AppBannervue_type_script_lang_js=AppBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(pages_AppBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AppBanner=component.exports},
/***/161693:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return TabsAndLayouts}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/customization/TabsAndLayouts.vue?vue&type=template&id=3c5236f6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout-tabs"},[_vm.showReloadApp?_c("AppBanner",[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.app_has_changes_to"))+" "),_c("span",{staticClass:"fwBold pointer",on:{click:_vm.reload}},[_vm._v(" "+_vm._s(_vm.$t("common.products.reload")))]),_vm._v(" . ")]):_vm._e(),_vm._t("default"),_vm.isActive?_c("portal",{attrs:{to:"header-buttons"}},["layout"===_vm.activeTab?_c("el-dropdown",{on:{command:_vm.addTabGroup}},[_c("el-button",{staticClass:"setup-el-btn pL20 pR20 height40 f12",attrs:{type:"primary"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_tab_group"))+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{staticClass:"width200px",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{attrs:{command:"group"}},[_vm._v(_vm._s(_vm.$t("common._common.add_tab_group")))]),_c("el-dropdown-item",{attrs:{command:"tab"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_tab"))+" ")])],1)],1):_c("button",{staticClass:"setup-el-btn pL20 pR20",on:{click:function($event){return _vm.editTab()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.add_tab"))+" ")])],1):_vm._e(),"layout"===_vm.activeTab?_c("div",{staticClass:"layout-icons"},[_c("inline-svg",{staticClass:"mL5 active-border-radius web-view-icon",attrs:{src:"svgs/web-view",iconClass:_vm.getViewIconClass(_vm.layoutTypes.WEB_VIEW)},nativeOn:{click:function($event){return _vm.selectView(_vm.layoutTypes.WEB_VIEW)}}}),_c("inline-svg",{staticClass:"mL5 active-border-radius mobile-view-icon",attrs:{src:"svgs/mobile-view",iconClass:_vm.getViewIconClass(_vm.layoutTypes.MOBILE_VIEW)},nativeOn:{click:function($event){return _vm.selectView(_vm.layoutTypes.MOBILE_VIEW)}}})],1):_vm._e(),_c("el-tabs",{model:{value:_vm.activeTab,callback:function($$v){_vm.activeTab=$$v},expression:"activeTab"}},[_c("el-tab-pane",{staticClass:"height-100 fc-tabLayout-scroll",attrs:{label:_vm.$t("common.dashboard.tabs"),name:"tab"}},[_vm.loading||_vm.tabListLoading?_c("div",{staticClass:"height80vh flex-center-vH"},[_c("spinner",{attrs:{show:_vm.loading||_vm.tabListLoading,size:"80"}})],1):_vm.$validation.isEmpty(_vm.webtabs)?_c("div",{staticClass:"empty-tab-list"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-130 emptystate-icon-size"}}),_c("div",{staticClass:"empty-state-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_tabs_available"))+" ")]),_c("button",{staticClass:"add-tab-btn",on:{click:function($event){_vm.showAddTab=!0}}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.create_tab"))+" ")])],1):_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.webtabs,"cell-style":{padding:"12px 30px"},height:"100%"}},[_c("el-table-column",{attrs:{prop:"name",label:_vm.$t("common._common.tab_name")}}),_c("el-table-column",{attrs:{label:_vm.$t("maintenance.wr_list.type")},scopedSlots:_vm._u([{key:"default",fn:function(tab){return[_vm._v(" "+_vm._s(_vm.tabTypesDisplayName[tab.row.type]||"---")+" ")]}}])}),_c("el-table-column",{attrs:{prop:"route",label:_vm.$t("common.wo_report.route")}}),_c("el-table-column",{staticClass:"visibility-visible-actions",scopedSlots:_vm._u([{key:"default",fn:function(tab){return[_c("div",{staticClass:"text-center"},[_vm.canShowEditTab(tab.row.type)?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon visibility-hide-actions",attrs:{title:_vm.$t("common.products.edit_tab"),"data-arrow":"true"},on:{click:function($event){return _vm.editTab(tab.row)}}}):_vm._e(),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete webtab-delete-icon visibility-hide-actions",attrs:{"data-arrow":"true",title:_vm.$t("common.wo_report.delete_tab_title")},on:{click:function($event){return _vm.deleteTab(tab.row)}}})])]}}])})],1)],1),_c("el-tab-pane",{staticClass:"height-100",attrs:{label:_vm.$t("common._common.layouts"),name:"layout"}},[_vm.loading||_vm.groupListLoading?_c("div",{staticClass:"height80vh flex-center-vH"},[_c("spinner",{attrs:{show:_vm.loading||_vm.groupListLoading,size:"80"}})],1):_c("el-row",{staticClass:"layout-container"},[_c("el-col",{staticClass:"height-100 d-flex flex-col",attrs:{span:8}},[_vm.showSearch?_c("div",{staticClass:"group-list-search"},[_c("div",{staticClass:"d-flex"},[_c("i",{staticClass:"el-icon-search pT5 pR10 f16 fc-black-15 fwBold",staticStyle:{color:"#25243e"}}),_c("el-input",{attrs:{placeholder:_vm.$t("common._common.search_group"),autofocus:!0},model:{value:_vm.grpFilterVal,callback:function($$v){_vm.grpFilterVal=$$v},expression:"grpFilterVal"}})],1),_c("i",{staticClass:"el-icon-close pointer f16 fc-black-15 fwBold",on:{click:_vm.toggleSearch}})]):_c("div",{staticClass:"group-list-header"},[_c("div",{staticClass:"group-header"},[_vm._v(" "+_vm._s(_vm.$t("common._common.tab_group"))+" ")]),_c("div",{staticClass:"pointer",on:{click:_vm.toggleSearch}},[_c("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])]),_c("div",{staticClass:"group-list"},[_c("draggable",_vm._b({attrs:{group:"groups",draggable:".is-draggable",handle:".task-handle"},on:{end:_vm.updateGroupList},model:{value:_vm.filteredGroup,callback:function($$v){_vm.filteredGroup=$$v},expression:"filteredGroup"}},"draggable",_vm.fieldSectionDragOptions,!1),_vm._l(_vm.filteredGroup,(function(group){return _c("div",{key:group.id,class:["group-list-item visibility-visible-actions",_vm.activeGroupId===group.id&&"active",_vm.grpFilterVal?"is-default":"is-draggable"],on:{click:function($event){_vm.activeGroupId=group.id}}},[_c("div",{staticClass:"task-handle mR20 p5"},[_c("img",{attrs:{src:__webpack_require__(271791)}})]),_c("inline-svg",{attrs:{src:_vm.getGroupIcon(group.iconType),iconClass:"icon group-icon-color "+_vm.getGroupIconClass(group.iconType)}}),_c("div",{staticClass:"group-name"},[_vm._v(_vm._s(group.name))]),_c("div",{staticClass:"d-flex mL-auto"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon visibility-hide-actions",attrs:{title:_vm.$t("common.header.edit_group"),"data-arrow":"true"},on:{click:function($event){return _vm.editGroup(group)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete webtab-delete-icon visibility-hide-actions",attrs:{"data-arrow":"true",title:_vm.$t("common.wo_report.delete_group")},on:{click:function($event){return _vm.deleteGroup(group)}}})])],1)})),0)],1)]),_c("el-col",{staticClass:"selected-group-tabs pT0",attrs:{span:16}},[_c("div",{staticClass:"flex-center-row-space mB20 border-bottom23 pL20 pR20 flex-middle",staticStyle:{height:"67px"}},[_c("div",{staticClass:"group-header"},[_vm._v(" "+_vm._s(_vm.$t("common._common.selected_tabs"))+" ")]),_vm.$validation.isEmpty(_vm.tabListForGroup)?_vm._e():_c("div",{staticClass:"d-flex pointer fc-add-associate",on:{click:function($event){_vm.showTabPicker=!0}}},[_c("inline-svg",{staticClass:"fill-greeny-blue",attrs:{src:"svgs/plus-button"}}),_c("div",{staticClass:"add-tab"},[_vm._v(" "+_vm._s(_vm.$t("common._common.associate_tabs"))+" ")])],1)]),_vm.$validation.isEmpty(_vm.tabListForGroup)?_c("div",{staticClass:"empty-tab-list"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-130 emptystate-icon-size"}}),_vm.$validation.isEmpty(_vm.webTabGroups)?[_c("div",{staticClass:"empty-state-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_group_available"))+" ")]),_c("button",{staticClass:"add-tab-btn",on:{click:function($event){_vm.showAddGroup=!0}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.create_group"))+" ")])]:[_c("div",{staticClass:"empty-state-text"},[_vm._v(" "+_vm._s(_vm.$t("common._common.no_tabs_associated_click_here_associate"))+" ")]),_c("button",{staticClass:"add-tab-btn",on:{click:function($event){_vm.showTabPicker=!0}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.associate_tabs"))+" ")])]],2):_c("draggable",_vm._b({staticClass:"overflow-scroll pL20 pR20",staticStyle:{height:"calc(100vh - 333px)"},attrs:{group:"tabs",draggable:".is-draggable",handle:".task-handle"},on:{end:_vm.updateTabList},model:{value:_vm.tabListForGroup,callback:function($$v){_vm.tabListForGroup=$$v},expression:"tabListForGroup"}},"draggable",_vm.fieldSectionDragOptions,!1),_vm._l(_vm.tabListForGroup,(function(tab){return _c("div",{key:tab.id,staticClass:"mB15 is-draggable"},[_c("div",{staticClass:"selected-tab visibility-visible-actions"},[_c("div",{staticClass:"task-handle mR20 p5"},[_c("img",{attrs:{src:__webpack_require__(271791)}})]),_c("div",{staticClass:"mT-auto mB-auto"},[_c("div",{staticClass:"tab-name"},[_vm._v(_vm._s(tab.name))]),_c("div",{staticClass:"tab-type"},[_vm._v(" "+_vm._s(_vm.tabTypesDisplayName[tab.type])+" ")])]),_c("div",{staticClass:"mL-auto"},[_vm.canShowEditTab(tab.type)?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon visibility-hide-actions",attrs:{title:_vm.$t("common.products.edit_tab"),"data-arrow":"true"},on:{click:function($event){return _vm.editTab(tab)}}}):_vm._e(),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete trash-icon visibility-hide-actions",attrs:{"data-arrow":"true",title:_vm.$t("common._common.remove_tab")},on:{click:function($event){return _vm.disassociateTab(tab)}}})])])])})),0)],1)],1)],1)],1),_c("el-dialog",{staticClass:"fieldchange-Dialog pB15 fc-dialog-center-container",attrs:{visible:_vm.showTabDeletionWarning,width:"30%",title:_vm.$t("common.header.warning"),"custom-class":"dialog-header-padding","append-to-body":!0,"before-close":function(){_vm.showTabDeletionWarning=!1}}},[_c("div",{staticClass:"overflow-y-scroll pB40 pT10",staticStyle:{"word-break":"break-word"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.tab_associated_group"))+" "),_c("br"),_c("br"),_vm._v(" "+_vm._s(_vm.$t("common.header.remove_tabs_before_delete"))+" ")])]),_vm.showTabPicker?_c("tab-picker",{attrs:{webtabs:_vm.webtabs,webTabGroups:_vm.webTabGroups,activeGroupId:_vm.activeGroupId,tabTypes:_vm.tabTypesDisplayName},on:{updateGroupTabs:_vm.updateGroupTabs,createTab:_vm.openTabCreation,reload:_vm.toggleBanner,close:function($event){_vm.showTabPicker=!1}}}):_vm._e(),_vm.showAddGroup?_c("NewWebtabGroup",{attrs:{activeGroup:_vm.activeGroup,isNew:_vm.$validation.isEmpty(_vm.activeGroup),linkName:_vm.appName,disabledIcons:_vm.selectedIcons,layoutId:_vm.layoutId,appLayoutType:_vm.appLayoutType,currentAppDomain:_vm.currentAppDomain},on:{onSave:_vm.updateGroup,reload:_vm.toggleBanner,onClose:function($event){_vm.showAddGroup=!1}}}):_vm._e(),_vm.showAddTab?_c("NewWebTab",{attrs:{activeWebtab:_vm.activeWebTab,isNew:_vm.$validation.isEmpty(_vm.activeWebTab),tabTypes:_vm.tabTypes,tabTypesDisplayName:_vm.tabTypesForEdit,applicationId:_vm.appId},on:{onSave:_vm.updateTab,reload:_vm.toggleBanner,onClose:function($event){_vm.showAddTab=!1}}}):_vm._e()],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),defineProperty=__webpack_require__(482482),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(670560),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(990260)),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),TabPickervue_type_template_id_ffb54f2c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"tab-picker",attrs:{visible:!0,width:"50%","max-width":"750px","append-to-body":!0,"show-close":!1,"before-close":_vm.handleClose,"custom-class":"max-width750"}},[_c("div",{staticClass:"height500"},[_c("div",{staticClass:"header-content"},[_c("div",{staticClass:"header-title"},[_vm._v("Associate Tabs")]),_vm.showSearch?_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"d-flex"},[_c("i",{staticClass:"el-icon-search pT7 pR10",staticStyle:{color:"#25243e"}}),_c("el-input",{attrs:{placeholder:"Search Tab",autofocus:!0},model:{value:_vm.filterVal,callback:function($$v){_vm.filterVal=$$v},expression:"filterVal"}})],1),_c("i",{staticClass:"el-icon-close pointer",on:{click:_vm.toggleSearch}})]):_c("i",{staticClass:"fa fa-search fa-search-asste-icon pointer",staticStyle:{margin:"7px"},attrs:{"aria-hidden":"true"},on:{click:_vm.toggleSearch}})]),_c("el-row",{staticClass:"tab-list-header"},[_c("el-col",{attrs:{span:12}},[_vm._v("Tab Name")]),_c("el-col",{staticClass:"pL30",attrs:{span:12}},[_vm._v("Type")])],1),_vm.$validation.isEmpty(_vm.filteredTabList)?_c("div",{staticClass:"empty-tab-list"},[_c("InlineSvg",{attrs:{src:"svgs/emptystate/readings-empty",iconClass:"icon text-center icon-130 emptystate-icon-size"}}),_c("div",{staticClass:"empty-state-text"},[_vm._v(" There are no tabs avaiable to associated. Click here to create tab ")]),_c("button",{staticClass:"add-tab-btn",on:{click:_vm.createTab}},[_vm._v(" Create Tab ")])],1):[_c("el-checkbox-group",{staticClass:"tab-list",model:{value:_vm.tabList,callback:function($$v){_vm.tabList=$$v},expression:"tabList"}},_vm._l(_vm.filteredTabList,(function(tab){return _c("el-checkbox",{key:tab.id,staticClass:"checkbox",attrs:{label:tab.id,disabled:tab.disabled}},[_c("el-row",[_c("el-col",{attrs:{span:12}},[_vm._v(_vm._s(tab.name)+" ")]),_c("el-col",{staticClass:"pL5",attrs:{span:12}},[_vm._v(_vm._s(_vm.tabTypes[tab.type])+" ")])],1)],1)})),1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.handleClose()}}},[_vm._v(" CANCEL ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.save()}}},[_vm._v(" "+_vm._s(_vm.saving?"Associating...":"Associate")+" ")])],1)]],2)])],1)},TabPickervue_type_template_id_ffb54f2c_staticRenderFns=[],toConsumableArray=__webpack_require__(488478),api=(__webpack_require__(634338),__webpack_require__(32284)),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),TabPickervue_type_script_lang_js={props:["webtabs","webTabGroups","activeGroupId","tabTypes"],data:function(){return{filterVal:null,showSearch:!1,tabList:[],saving:!1}},created:function(){document.addEventListener("keydown",this.keyDownHandler),this.setSelectedTabs()},beforeDestroy:function(){document.removeEventListener("keydown",this.keyDownHandler)},computed:{filteredTabList:function(){var avaiableTabs=this.avaiableTabs,filterVal=this.filterVal;if((0,validation/* isEmpty */.xb)(filterVal))return sortBy_default()(avaiableTabs,["id"]);var filterObj=avaiableTabs.filter((function(tab){var name=tab.name.toLowerCase();return name.includes(filterVal)}));return sortBy_default()(filterObj,["id"])},disabledTabs:function(){var webTabGroups=this.webTabGroups,webtabs=this.webtabs,activeGroupId=this.activeGroupId,disabledTabIds=[],associatedTabs=[];return webTabGroups.forEach((function(group){if(group.id!==activeGroupId){var tabs=group.tabs;disabledTabIds=[].concat((0,toConsumableArray/* default */.Z)(disabledTabIds),(0,toConsumableArray/* default */.Z)(tabs.map((function(tab){return tab.id}))))}})),associatedTabs=webtabs.filter((function(tab){return disabledTabIds.includes(tab.id)})),associatedTabs.map((function(tab){var name=tab.name,id=tab.id,type=tab.type;return{name:name,id:id,type:type,disabled:!0}}))},avaiableTabs:function(){var webtabs=this.webtabs,disabledTabs=this.disabledTabs,avaiableTabs=[],disabledTabIds=disabledTabs.map((function(tab){return tab.id}));return avaiableTabs=webtabs.filter((function(tab){return!disabledTabIds.includes(tab.id)})),avaiableTabs}},methods:{setSelectedTabs:function(){var webtabs=this.webtabs,webTabGroups=this.webTabGroups,activeGroupId=this.activeGroupId,_webTabGroups$find=webTabGroups.find((function(group){return group.id===activeGroupId})),tabs=_webTabGroups$find.tabs,tabIds=tabs.map((function(tab){return tab.id}));this.tabList=webtabs.filter((function(tab){return tabIds.includes(tab.id)})).map((function(tab){return tab.id}))},toggleSearch:function(){this.filterVal=null,this.showSearch=!this.showSearch},keyDownHandler:function(e){"Escape"===e.key&&this.showSearch&&this.toggleSearch()},save:function(){var _this=this,webtabs=this.webtabs,tabList=this.tabList,activeGroupId=this.activeGroupId,activeGroupTabs=webtabs.filter((function(tab){return tabList.includes(tab.id)})).map((function(tab,order){var id=tab.id,name=tab.name,type=tab.type;return{id:id,name:name,type:type,order:order+1}})),params={tabList:tabList.map((function(tab){return{id:tab}})),tabGroupId:activeGroupId};this.saving=!0,api/* API */.bl.post("/v2/tab/addTabsToGroup",params).then((function(_ref){var error=_ref.error;error?(_this.saving=!1,_this.$message.error(error.message||"Error Occured")):(_this.$message.success("Tabs associated to group"),_this.$emit("updateGroupTabs",activeGroupTabs),_this.$emit("reload"),_this.saving=!1,_this.handleClose())}))},createTab:function(){this.$emit("createTab"),this.handleClose()},handleClose:function(){this.$emit("close")}}},customization_TabPickervue_type_script_lang_js=TabPickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(customization_TabPickervue_type_script_lang_js,TabPickervue_type_template_id_ffb54f2c_render,TabPickervue_type_template_id_ffb54f2c_staticRenderFns,!1,null,null,null)
/* harmony default export */,TabPicker=component.exports,NewWebtabGroupvue_type_template_id_6e56522c_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog fc-tabs-layout-page","before-close":_vm.closeDialog}},[_c("el-form",{ref:"webtab-group",staticClass:"fc-form webtab-group",attrs:{model:_vm.groupDetails,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common._common.add_tab_group"):_vm.$t("common.products.edit_tab_group"))+" ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"name"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.name"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_group_name")},model:{value:_vm.groupDetails.name,callback:function($$v){_vm.$set(_vm.groupDetails,"name",$$v)},expression:"groupDetails.name"}})],1)],1)],1),_vm.isNew?_vm._e():_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"route"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.route"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2 fc-tab-route-input",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_group_route")},model:{value:_vm.groupDetails.route,callback:function($$v){_vm.$set(_vm.groupDetails,"route",$$v)},expression:"groupDetails.route"}},[_c("template",{slot:"prepend"},[_vm._v(_vm._s(_vm.appUrl))])],2)],1)],1)],1),_c("el-row",{staticClass:"mT10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"iconType"}},[_c("p",{staticClass:"icon-header"},[_vm._v(" "+_vm._s(_vm.$t("common.visitor_forms.choose_icon"))+" ")]),_c("p",{staticClass:"icon-header-content"},[_vm._v(" "+_vm._s(_vm.$t("common.products.select_an_icon_for_this_tab_group"))+" ")]),_c("div",{staticClass:"flex-container"},_vm._l(_vm.icons,(function(iconObj,iconType){return _c("div",{key:iconType,on:{click:function($event){return _vm.setGroupIcon(iconType)}}},[_vm.getIconType(iconType)?_c("inline-svg",{class:_vm.getInlineClass(iconType),attrs:{src:iconObj.icon,iconClass:"icon pointer "+(iconObj.class||"")}}):_vm._e()],1)})),0)])],1)],1)],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")])],1)])],1)},NewWebtabGroupvue_type_template_id_6e56522c_staticRenderFns=[],webtab_icons=(__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(326884)),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),appLayoutTypes={SINGLE:1,DUAL:2},NewWebtabGroupvue_type_script_lang_js={props:["activeGroup","isNew","linkName","layoutId","appLayoutType","currentAppDomain"],data:function(){return{groupDetails:{name:null,iconType:0},saving:!1,icons:webtab_icons/* default */.Z,appLayoutTypes:appLayoutTypes,rules:{name:{required:!0,message:this.$t("common._common.please_enter_a_name"),trigger:"change"}}}},created:function(){this.isNew||(this.groupDetails=clone_default()(this.activeGroup))},computed:{appUrl:function(){var currentAppDomain=this.currentAppDomain,linkName=this.linkName;return"https://".concat(currentAppDomain,"/").concat(linkName,"/")}},methods:{getInlineClass:function(type){var iconType=parseInt(type),iconClass="icon-border  pointer";return this.groupDetails.iconType===iconType&&(iconClass+=" active"),iconClass},setGroupIcon:function(iconType){this.groupDetails.iconType=parseInt(iconType)},getIconType:function(iconType){var appLayoutType=this.appLayoutType,appLayoutTypes=this.appLayoutTypes;return appLayoutType==appLayoutTypes.SINGLE?iconType>99&&iconType<300:appLayoutType==appLayoutTypes.DUAL?iconType>0&&iconType<100:void 0},submitForm:function(){var _this=this;this.$refs["webtab-group"].validate((function(valid){if(!valid)return!1;var layoutId=_this.layoutId,groupDetails=_this.groupDetails,isNew=_this.isNew,name=groupDetails.name,route=groupDetails.route,iconType=groupDetails.iconType,id=groupDetails.id;isNew&&(route=name.replace(/\W+/g,"-").toLowerCase());var params={tabGroup:{name:name,route:route,iconType:iconType,layoutId:layoutId,id:id}};_this.saving=!0,api/* API */.bl.post("/v2/tabGroup/addOrUpdate",params).then((function(_ref){var error=_ref.error,data=_ref.data;error?(_this.saving=!1,_this.$message.error(error.message||"Error Occured")):(_this.$message.success(_this.$t("common.header.group_added_or_updated")),_this.$emit("onSave",data.webTabGroup),_this.$emit("reload"),_this.saving=!1,_this.closeDialog())}))}))},closeDialog:function(){this.$emit("onClose")}}},customization_NewWebtabGroupvue_type_script_lang_js=NewWebtabGroupvue_type_script_lang_js,NewWebtabGroup_component=(0,componentNormalizer/* default */.Z)(customization_NewWebtabGroupvue_type_script_lang_js,NewWebtabGroupvue_type_template_id_6e56522c_render,NewWebtabGroupvue_type_template_id_6e56522c_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewWebtabGroup=NewWebtabGroup_component.exports,NewWebTabvue_type_template_id_e975a572_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.$t("common._common.tab_types"),visible:_vm.canShowTabTypeForm,width:"30%","append-to-body":!0,"before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.canShowTabTypeForm=$event}}},[_c("div",{staticClass:"height200"},[_c("el-form",{ref:"tabTypeForm",attrs:{rules:_vm.rules,model:_vm.webtabObj}},[_c("el-form-item",{attrs:{label:_vm.$t("common._common.tabtype"),prop:"type",required:!0}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.products.select_tabtype"),filterable:""},model:{value:_vm.webtabObj.type,callback:function($$v){_vm.$set(_vm.webtabObj,"type",$$v)},expression:"webtabObj.type"}},_vm._l(_vm.tabTypesDisplayName,(function(tabType,tabTypeId){return _c("el-option",{key:tabTypeId,attrs:{label:tabType,value:parseInt(tabTypeId)}})})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:function($event){return _vm.openTabForm()}}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.confirm"))+" ")])],1)],1)]),_c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.canShowTabForm,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog40 setup-dialog new-web-tab","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.canShowTabForm=$event}}},[_c("el-form",{ref:"webtab",staticClass:"fc-form",attrs:{model:_vm.webtabObj,rules:_vm.rules,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text flex-center-vH"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common._common.add_tab"):_vm.$t("common.products.edit_tab"))+" ")]),_c("div",{staticClass:"mT10 f13"},[_vm._v(" "+_vm._s("Type : "+_vm.tabTypesDisplayName[_vm.webtabObj.type])+" ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_vm.loading?[_vm._l([1,2],(function(index){return[_c("el-row",{key:index,staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("span",{staticClass:"lines loading-shimmer width50 mB10"}),_c("span",{staticClass:"lines loading-shimmer width100 mB10 height40"})])],1)]})),_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("span",{staticClass:"lines loading-shimmer width50 mB10"})]),_c("el-col",{attrs:{span:24}},[_c("span",{staticClass:"lines loading-shimmer width50 mB10 height40"})])],1)]:[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"name"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_tab_name")},model:{value:_vm.webtabObj.name,callback:function($$v){_vm.$set(_vm.webtabObj,"name",$$v)},expression:"webtabObj.name"}})],1)],1)],1),_vm.isNew?_vm._e():_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"route"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.route"))+" ")]),_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common._common.enter_tab_route")},model:{value:_vm.webtabObj.route,callback:function($$v){_vm.$set(_vm.webtabObj,"route",$$v)},expression:"webtabObj.route"}})],1)],1)],1),_vm.tabTypes.DASHBOARD===_vm.webtabObj.type?[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"dashboardType"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.dashboard.show"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"all"},model:{value:_vm.webtabObj.dashboardType,callback:function($$v){_vm.$set(_vm.webtabObj,"dashboardType",$$v)},expression:"webtabObj.dashboardType"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.all_dashboards"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"specific"},model:{value:_vm.webtabObj.dashboardType,callback:function($$v){_vm.$set(_vm.webtabObj,"dashboardType",$$v)},expression:"webtabObj.dashboardType"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.selected_dashboard"))+" ")])],1)],1)],1),"specific"===_vm.webtabObj.dashboardType?_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt mL10"},[_vm._v(" "+_vm._s(_vm.$t("common.header.dashboards"))+" ")]),_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"config.dashboardLink"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{filterable:""},model:{value:_vm.webtabObj.config.dashboardLink,callback:function($$v){_vm.$set(_vm.webtabObj.config,"dashboardLink",$$v)},expression:"webtabObj.config.dashboardLink"}},_vm._l(_vm.dashboardList,(function(dashboard){return _c("el-option",{key:dashboard.id+"-"+dashboard.linkName,attrs:{label:dashboard.dashboardName,value:dashboard.linkName}})})),1)],1)],1)],1):_vm._e()]:_vm._e(),_vm.tabTypes.APPS===_vm.webtabObj.type?[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("p",{staticClass:"fc-input-label-txt mL10"},[_vm._v(" "+_vm._s(_vm.$t("common.products.connectedapps"))+" ")]),_c("el-col",{attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"connectedApp"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{filterable:""},on:{change:function($event){_vm.webtabObj.config.widgetId=null}},model:{value:_vm.webtabObj.connectedAppId,callback:function($$v){_vm.$set(_vm.webtabObj,"connectedAppId",$$v)},expression:"webtabObj.connectedAppId"}},_vm._l(_vm.connectedAppsList,(function(app){return _c("el-option",{key:app.id,attrs:{label:app.name,value:app.id}})})),1)],1)],1),_c("el-col",{attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"config.widgetId"}},[_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{disabled:!_vm.webtabObj.connectedAppId},model:{value:_vm.webtabObj.config.widgetId,callback:function($$v){_vm.$set(_vm.webtabObj.config,"widgetId",$$v)},expression:"webtabObj.config.widgetId"}},_vm._l(_vm.widgetList,(function(widget){return _c("el-option",{key:widget.id,attrs:{label:widget.widgetName,value:widget.id}})})),1)],1)],1)],1)]:_vm._e(),_vm.tabTypes.REPORT===_vm.webtabObj.type?[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"reportType"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.report_type"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"reading"},model:{value:_vm.webtabObj.reportType,callback:function($$v){_vm.$set(_vm.webtabObj,"reportType",$$v)},expression:"webtabObj.reportType"}},[_vm._v(" "+_vm._s(_vm.$t("common.header.reading_report"))+" ")]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:"module"},model:{value:_vm.webtabObj.reportType,callback:function($$v){_vm.$set(_vm.webtabObj,"reportType",$$v)},expression:"webtabObj.reportType"}},[_vm._v(" "+_vm._s(_vm.$t("common._common.module_report"))+" ")])],1)],1)],1)]:_vm._e(),[_vm.tabTypes.PIVOT,_vm.tabTypes.ANALYTICS,_vm.tabTypes.APPS,_vm.tabTypes.DASHBOARD,_vm.tabTypes.PORTAL_OVERVIEW,_vm.tabTypes.INDOOR_FLOORPLAN,_vm.tabTypes.KPI,_vm.tabTypes.NEW_KPI,_vm.tabTypes.HOMEPAGE,_vm.tabTypes.SERVICE_CATALOG,_vm.tabTypes.SHIFT_PLANNER,_vm.tabTypes.MY_ATTENDANCE,_vm.tabTypes.ATTENDANCE,_vm.tabTypes.RULES].includes(_vm.webtabObj.type)?_vm._e():["reading"!==_vm.webtabObj.reportType?_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"moduleNames"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s([_vm.tabTypes.MODULE,_vm.tabTypes.TIMELINE].includes(_vm.webtabObj.type)?"Module":"Modules")+" ")]),_c("el-select",{staticClass:"fc-input-full-border2 width100",attrs:{multiple:![_vm.tabTypes.MODULE,_vm.tabTypes.TIMELINE].includes(_vm.webtabObj.type),"collapse-tags":"",placeholder:_vm.$t("common.header.please_select_the_module"),filterable:""},model:{value:_vm.webtabObj.moduleNames,callback:function($$v){_vm.$set(_vm.webtabObj,"moduleNames",$$v)},expression:"webtabObj.moduleNames"}},_vm._l(_vm.modulesList,(function(moduleObj,moduleName){return _c("el-option-group",{key:moduleName,attrs:{label:moduleName.toUpperCase()}},_vm._l(moduleObj,(function(list){return _c("el-option",{key:list.moduleId,attrs:{label:list.displayName,value:list.name}})})),1)})),1)],1)],1)],1):_vm._e()],_vm.canShowConfigJson?[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.configuration"))+" ")]),_c("el-form-item",{attrs:{prop:"configJson"}},_vm._l(_vm.webtabObj.configJson,(function(config,index){return _c("div",{key:index,staticClass:"d-flex mB10"},[_c("el-input",{staticClass:"width50 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.key")},model:{value:config.key,callback:function($$v){_vm.$set(config,"key",$$v)},expression:"config.key"}}),_c("el-input",{staticClass:"width50 fc-input-full-border2 mL10 mR10",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.value")},model:{value:config.value,callback:function($$v){_vm.$set(config,"value",$$v)},expression:"config.value"}}),_c("div",{staticClass:"justify-between width50px flex-middle"},[_vm.showAddConfig&&index===_vm.lastConfigIndex?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addConfig}}):_vm._e(),1!==_vm.webtabObj.configJson.length?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-right":"3px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteConfig(index)}}}):_vm._e()])],1)})),0)],1)],1)]:_vm._e()]],2)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" "+_vm._s(_vm.$t("setup.users_management.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("panel.dashboard.save"))+" ")])],1)])],1)],1)},NewWebTabvue_type_template_id_e975a572_staticRenderFns=[],slicedToArray=__webpack_require__(554621),NewWebTabvue_type_script_lang_js=(__webpack_require__(821057),__webpack_require__(336585),__webpack_require__(648324),{props:["isNew","tabTypes","tabTypesDisplayName","activeWebtab","applicationId"],data:function(){return{webtabObj:{type:null,name:null,route:null,config:{},configJson:[]},loading:!1,modulesList:[],dashboardList:[],connectedAppsList:[],widgetListloading:!1,canShowTabTypeForm:!1,canShowTabForm:!1,saving:!1,rules:{type:{required:!0,message:this.$t("common.header.please_select_tab_type"),trigger:"blur"},name:{required:!0,message:this.$t("common._common.please_enter_a_name"),trigger:"change"},moduleNames:{validator:function(rule,value,callback){var webtabObj=this.webtabObj,tabTypes=this.tabTypes,_ref=webtabObj||{},type=_ref.type;![tabTypes.ANALYTICS,tabTypes.APPS,tabTypes.CUSTOM,tabTypes.PORTAL_OVERVIEW,tabTypes.INDOOR_FLOORPLAN,tabTypes.HOMEPAGE,tabTypes.SERVICE_CATALOG].includes(type)&&(0,validation/* isEmpty */.xb)(value)?callback(new Error(this.$t("common.header.please_select_modules"))):callback()}.bind(this),trigger:"blur"},"config.widgetId":{validator:function(rule,value,callback){var webtabObj=this.webtabObj,tabTypes=this.tabTypes,_ref2=webtabObj||{},config=_ref2.config,type=_ref2.type;type===tabTypes.APPS&&(0,validation/* isEmpty */.xb)(config.widgetId)?callback(new Error(this.$t("common.header.please_select_connected_app_widget"))):callback()}.bind(this),trigger:"change"},"config.dashboardLink":{validator:function(rule,value,callback){var webtabObj=this.webtabObj,tabTypes=this.tabTypes,_ref3=webtabObj||{},config=_ref3.config,type=_ref3.type,dashboardType=_ref3.dashboardType,canThrowError=type===tabTypes.DASHBOARD&&"specific"===dashboardType&&(0,validation/* isEmpty */.xb)(config.dashboardLink);canThrowError?callback(new Error(this.$t("common.header.please_select_specific_dashboard"))):callback()}.bind(this),trigger:"blur"},configJson:{validator:function(rule,value,callback){var webtabObj=this.webtabObj,tabTypes=this.tabTypes,_ref4=webtabObj||{},type=_ref4.type,config=value.some((function(config){return(0,validation/* isEmpty */.xb)(config.value)||(0,validation/* isEmpty */.xb)(config.key)}));[tabTypes.CUSTOM,tabTypes.PORTAL_OVERVIEW].includes(type)&&config?callback(new Error(this.$t("common.header.please_enter_special_criteria"))):callback()}.bind(this),trigger:"change"}}}},created:function(){this.init()},computed:{widgetList:function(){var connectedAppsList=this.connectedAppsList,webtabObj=this.webtabObj,_ref5=webtabObj||{},connectedAppId=_ref5.connectedAppId,connectedApp=connectedAppsList.find((function(app){return app.id===connectedAppId}))||{};return connectedApp.widgetList||[]},lastConfigIndex:function(){var webtabObj=this.webtabObj,_ref6=webtabObj||{},configJson=_ref6.configJson,lastIndex=configJson.length-1;return lastIndex},showAddConfig:function(){var webtabObj=this.webtabObj,lastConfigIndex=this.lastConfigIndex,_ref7=webtabObj||{},configJson=_ref7.configJson;return!(0,validation/* isEmpty */.xb)((configJson[lastConfigIndex]||{}).key)},canShowConfigJson:function(){var tabTypes=this.tabTypes,type=this.webtabObj.type,query=this.$route.query,isCustomTab=[tabTypes.CUSTOM,tabTypes.PORTAL_OVERVIEW].includes(type),canShowConfigForAll="true"===query.showConfig;return isCustomTab||canShowConfigForAll}},watch:{"webtabObj.dashboardType":function(value){"all"===value&&(this.webtabObj.config={})}},methods:{init:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var tabTypes,activeWebtab,_ref8,configJSON,moduleIds,type,modules,specialTypeModules,_ref9,widgetId,configType,dashboardLink,reportType,config,connectedAppId,configJson,dashboardType,moduleNames;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(tabTypes=_this.tabTypes,activeWebtab=_this.activeWebtab,_ref8=activeWebtab||{},configJSON=_ref8.configJSON,moduleIds=_ref8.moduleIds,type=_ref8.type,modules=_ref8.modules,specialTypeModules=_ref8.specialTypeModules,_this.loading=!0,!_this.isNew){_context.next=7;break}_this.canShowTabTypeForm=!0,_context.next=37;break;case 7:if(_this.$set(_this.webtabObj,"type",type),_this.canShowTabForm=!0,_ref9=configJSON||{},widgetId=_ref9.widgetId,configType=_ref9.type,dashboardLink=_ref9.dashboardLink,reportType="",configJson=[],dashboardType="",moduleNames=null,tabTypes.REPORT!==type){_context.next=18;break}"analytics_reports"===configType?reportType="reading":"module_reports"===configType&&(reportType="module"),_context.next=34;break;case 18:if(![tabTypes.MODULE,tabTypes.TIMELINE].includes(type)){_context.next=22;break}moduleNames=modules[0].name,_context.next=34;break;case 22:if(tabTypes.APPS!==type){_context.next=29;break}return _context.next=25,_this.getConnectedAppsList();case 25:connectedAppId=_this.getConnectedAppFromWidgetId(widgetId),config={widgetId:widgetId},_context.next=34;break;case 29:if(tabTypes.DASHBOARD!==type){_context.next=34;break}return dashboardType=(0,validation/* isEmpty */.xb)(dashboardLink)?"all":"specific",config={dashboardLink:dashboardLink},_context.next=34,_this.loadDashboard();case 34:(0,validation/* isEmpty */.xb)(config)&&(configJSON?Object.entries(configJSON).forEach((function(_ref10){var _ref11=(0,slicedToArray/* default */.Z)(_ref10,2),key=_ref11[0],value=_ref11[1];configJson.push({key:key,value:value})})):configJson.push({key:"type",value:null})),[tabTypes.MODULE,tabTypes.TIMELINE].includes(type)||(0,validation/* isEmpty */.xb)(moduleIds)&&(0,validation/* isEmpty */.xb)(specialTypeModules)||(moduleNames=modules.map((function(mod){return mod.name}))),_this.webtabObj=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this.activeWebtab),{},{reportType:reportType,moduleNames:moduleNames,config:config,configJson:configJson,connectedAppId:connectedAppId,dashboardType:dashboardType});case 37:return _context.next=39,_this.getModulesList();case 39:_this.loading=!1;case 40:case"end":return _context.stop()}}),_callee)})))()},getModulesList:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,modulesList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("/v3/modules/list/all");case 2:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||"Error Occured"):(modulesList=Object.assign(data,{"System Modules":data["systemModules"],"Custom Modules":data["customModules"]}),delete modulesList["systemModules"],delete modulesList["customModules"],_this2.modulesList=modulesList||{});case 6:case"end":return _context2.stop()}}),_callee2)})))()},getConnectedAppsList:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,api/* API */.bl.get("/v2/connectedApps/all");case 2:_yield$API$get2=_context3.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?_this3.$message.error(error.message||"Error Occured"):_this3.connectedAppsList=data.connectedApps.map((function(app){var _ref12=app||{},connectedAppWidgetsList=_ref12.connectedAppWidgetsList,id=_ref12.id,name=_ref12.name,webTabWidget={WEB_TAB:1},widgetList=(connectedAppWidgetsList||[]).filter((function(widget){return widget.entityType===webTabWidget.WEB_TAB})).map((function(widget){var id=widget.id,widgetName=widget.widgetName;return{id:id,widgetName:widgetName}}));return{widgetList:widgetList,id:id,name:name}}));case 6:case"end":return _context3.stop()}}),_callee3)})))()},getConnectedAppFromWidgetId:function(widgetId){var connectedApp=this.connectedAppsList.find((function(app){var widgetList=app.widgetList;return widgetList.find((function(widget){return widget.id===widgetId}))}));return(connectedApp||{}).id},loadDashboard:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _yield$API$get3,data,error,_ref13,dashboardFolders;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,api/* API */.bl.get("/dashboardWithFolder");case 2:_yield$API$get3=_context4.sent,data=_yield$API$get3.data,error=_yield$API$get3.error,error||(_ref13=data||{},dashboardFolders=_ref13.dashboardFolders,_this4.dashboardList=(dashboardFolders||[]).reduce((function(dashboards,folder){return(0,validation/* isArray */.kJ)(folder.dashboards)&&!(0,validation/* isEmpty */.xb)(folder.dashboards)&&(dashboards=[].concat((0,toConsumableArray/* default */.Z)(dashboards),(0,toConsumableArray/* default */.Z)(folder.dashboards))),dashboards}),[]));case 6:case"end":return _context4.stop()}}),_callee4)})))()},openTabForm:function(){var _this5=this;this.$refs["tabTypeForm"].validate(function(){var _ref14=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(valid){var tabTypes,webtabObj,type;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(valid){_context5.next=2;break}return _context5.abrupt("return",!1);case 2:if(tabTypes=_this5.tabTypes,webtabObj=_this5.webtabObj,type=webtabObj.type,tabTypes.REPORT!==type){_context5.next=8;break}_this5.$set(_this5.webtabObj,"reportType","reading"),_context5.next=22;break;case 8:if(![tabTypes.CUSTOM,tabTypes.PORTAL_OVERVIEW].includes(type)){_context5.next=12;break}_this5.webtabObj.configJson.push({key:"type",value:null}),_context5.next=22;break;case 12:if(tabTypes.APPS!==type){_context5.next=18;break}return _this5.webtabObj.config={widgetId:null},_context5.next=16,_this5.getConnectedAppsList();case 16:_context5.next=22;break;case 18:if(tabTypes.DASHBOARD!==type){_context5.next=22;break}return _this5.$set(_this5.webtabObj,"dashboardType","all"),_context5.next=22,_this5.loadDashboard();case 22:_this5.canShowTabTypeForm=!1,_this5.canShowTabForm=!0;case 24:case"end":return _context5.stop()}}),_callee5)})));return function(_x){return _ref14.apply(this,arguments)}}())},addConfig:function(){var config={key:null,value:null};this.webtabObj.configJson.push(config)},deleteConfig:function(index){this.webtabObj.configJson.splice(index,1)},submitForm:function(){var _this6=this;this.$refs["webtab"].validate((function(valid){if(!valid)return!1;var applicationId=_this6.applicationId,webtabObj=_this6.webtabObj,isNew=_this6.isNew,tabTypes=_this6.tabTypes,canShowConfigJson=_this6.canShowConfigJson,modulesList=_this6.modulesList,name=webtabObj.name,route=webtabObj.route,type=webtabObj.type,moduleNames=webtabObj.moduleNames,config=webtabObj.config,reportType=webtabObj.reportType,configJson=webtabObj.configJson,dashboardType=webtabObj.dashboardType,id=webtabObj.id,configJSON=null;isNew&&(route=name.replace(/\W+/g,"-").toLowerCase()),tabTypes.APPS===type?configJSON=config:tabTypes.DASHBOARD===type?configJSON="all"===dashboardType?null:config:tabTypes.REPORT===type?configJSON="reading"===reportType?{type:"analytics_reports"}:{type:"module_reports"}:tabTypes.ANALYTICS===type?configJSON={type:"analytics_building"}:canShowConfigJson&&(configJSON=configJson.reduce((function(configValue,config){var key=config.key,value=config.value;return configValue[key]=value,configValue}),{})),(0,validation/* isArray */.kJ)(moduleNames)||(moduleNames=(0,validation/* isEmpty */.xb)(moduleNames)?[]:[moduleNames]);var modules=[].concat((0,toConsumableArray/* default */.Z)(modulesList["System Modules"]),(0,toConsumableArray/* default */.Z)(modulesList["Custom Modules"])),selectedModules=modules.filter((function(m){return moduleNames.includes(m.name)})),moduleIds=selectedModules.filter((function(m){return!(0,validation/* isEmpty */.xb)(m.moduleId)})).map((function(m){return m.moduleId})),specialTypeModules=selectedModules.filter((function(m){return(0,validation/* isEmpty */.xb)(m.moduleId)})).map((function(m){return m.name})),params={tab:{name:name,route:route,applicationId:applicationId,type:type,moduleIds:moduleIds,specialTypeModules:specialTypeModules,id:id}};(0,validation/* isEmpty */.xb)(configJSON)||(params.tab.config=JSON.stringify(configJSON)),_this6.saving=!0,api/* API */.bl.post("/v2/tab/addOrUpdate",params).then((function(_ref15){var error=_ref15.error,data=_ref15.data;error?(_this6.saving=!1,_this6.$message.error(error.message||"Error Occured")):(_this6.$message.success(_this6.$t("common._common.tabs_added_or_updated")),_this6.$emit("onSave",data.webTab),_this6.$emit("reload"),_this6.saving=!1,_this6.closeDialog())}))}))},closeDialog:function(){this.$emit("onClose")}}}),customization_NewWebTabvue_type_script_lang_js=NewWebTabvue_type_script_lang_js,NewWebTab_component=(0,componentNormalizer/* default */.Z)(customization_NewWebTabvue_type_script_lang_js,NewWebTabvue_type_template_id_e975a572_render,NewWebTabvue_type_template_id_e975a572_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewWebTab=NewWebTab_component.exports,AppBanner=__webpack_require__(309412),webtabUtil=__webpack_require__(617494),layoutTypes={DEFAULT_VIEW:0,WEB_VIEW:1,MOBILE_VIEW:2},TabsAndLayoutsvue_type_script_lang_js={props:["appId","currentAppId","loading","isActive"],components:{draggable:vuedraggable_umd_default(),TabPicker:TabPicker,NewWebtabGroup:NewWebtabGroup,NewWebTab:NewWebTab,AppBanner:AppBanner/* default */.Z},data:function(){return{activeTab:"layout",webtabs:null,webTabGroups:[],selectedLayout:1,iconClass:"icon icon-40 p10 pointer",showSearch:!1,grpFilterVal:null,showTabPicker:!1,showAddGroup:!1,showAddTab:!1,reOpenAssociateTab:!1,activeGroup:null,activeWebTab:null,showReloadApp:!1,showTabDeletionWarning:!1,appName:null,groupListLoading:!1,tabListLoading:!1,appLayouts:null,appDomain:null,activeGroupId:null,tabTypes:{MODULE:1,APPROVAL:2,REPORT:4,ANALYTICS:5,KPI:6,DASHBOARD:7,CUSTOM:8,APPS:9,PORTAL_OVERVIEW:12,TIMELINE:11,INDOOR_FLOORPLAN:14,HOMEPAGE:15,SERVICE_CATALOG:16,SURVEY:38,PIVOT:78,SHIFT_PLANNER:83,MY_ATTENDANCE:84,ATTENDANCE:85,NEW_KPI:87,RULES:88},tabTypesDisplayName:{1:"Module",2:"Approval",4:"Report",5:"Analytics",6:"KPI",7:"Dashboard",8:"Custom",9:"Connected App",12:"WebView",11:"Timeline",14:"Indoor Floorplan",15:"Home Page",16:"Service Catalog",38:"Survey",78:"Pivot",
// 10: 'Setting',
83:"Shift Planner",84:"My Attendance",85:"Attendance",87:"New KPI",88:"Rules"},fieldSectionDragOptions:{animation:150,easing:"cubic-bezier(1, 0, 0, 1)",group:"tasksection",sort:!0},layoutTypes:layoutTypes,getGroupIcon:webtabUtil/* getGroupIcon */.rG,getGroupIconClass:webtabUtil/* getGroupIconClass */.Hg}},mounted:function(){document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){document.removeEventListener("keydown",this.keyDownHandler)},computed:{tabListForGroup:{get:function(){var webTabGroups=this.webTabGroups,activeGroupId=this.activeGroupId;if(activeGroupId){var _ref=webTabGroups.find((function(group){return group.id===activeGroupId}))||{},tabs=_ref.tabs;return sortBy_default()(tabs,["order"])}return[]},set:function(value){var _this=this,tabs=value.map((function(tab,order){var id=tab.id,name=tab.name,type=tab.type;return{id:id,name:name,order:order+1,type:type}}));this.webTabGroups.forEach((function(group){group.id===_this.activeGroupId&&_this.$set(group,"tabs",tabs)}))}},selectedIcons:function(){return this.webTabGroups.map((function(group){return group.iconType}))},tabTypesForEdit:function(){var canShowEditTab=this.canShowEditTab,tabTypesDisplayName=this.tabTypesDisplayName,tabTypes=(0,objectSpread2/* default */.Z)({},tabTypesDisplayName);return!canShowEditTab(8)&&delete tabTypes[8],tabTypes},filteredGroup:{get:function(){var grpFilterVal=this.grpFilterVal,webTabGroups=this.webTabGroups;if((0,validation/* isEmpty */.xb)(grpFilterVal))return webTabGroups;var filterObj=webTabGroups.filter((function(grp){var name=grp.name.toLowerCase();return name.includes(grpFilterVal)}));return filterObj},set:function(value){this.webTabGroups=value}},tabGroupHash:function(){var webTabGroups=this.webTabGroups;return webTabGroups?webTabGroups.reduce((function(tabGroupHash,group){var grpId=group.id,tabs=group.tabs,tabIds=tabs.map((function(tab){return tab.id}));return tabIds.forEach((function(tab){tabGroupHash[tab]=grpId})),tabGroupHash}),{}):{}},enabledLayouts:function(){var _enabledLayouts,appLayouts=this.appLayouts,_this$layoutTypes=this.layoutTypes,DEFAULT_VIEW=_this$layoutTypes.DEFAULT_VIEW,WEB_VIEW=_this$layoutTypes.WEB_VIEW,MOBILE_VIEW=_this$layoutTypes.MOBILE_VIEW,enabledLayouts=(_enabledLayouts={},(0,defineProperty/* default */.Z)(_enabledLayouts,DEFAULT_VIEW,!0),(0,defineProperty/* default */.Z)(_enabledLayouts,WEB_VIEW,!1),(0,defineProperty/* default */.Z)(_enabledLayouts,MOBILE_VIEW,!1),_enabledLayouts);return(0,validation/* isEmpty */.xb)(appLayouts)||appLayouts.forEach((function(layout){enabledLayouts[layout.layoutDeviceType]=!0})),enabledLayouts},currentAppLayout:function(){var appLayouts=this.appLayouts,selectedLayout=this.selectedLayout;return(appLayouts||[]).find((function(view){return view.layoutDeviceType===selectedLayout}))||{}},appLayoutType:function(){var currentAppLayout=this.currentAppLayout,appLayoutType=currentAppLayout.appLayoutType;return appLayoutType||2},layoutId:function(){var currentAppLayout=this.currentAppLayout;return currentAppLayout.id||null},currentAppDomain:function(){var domain=this.appDomain.domain;return domain}},watch:{selectedLayout:function(){this.constructWebtabGroups(),this.activeGroupId=this.$getProperty(this.webTabGroups,"0.id",null)},activeTab:function(newVal){var _this2=this;(0,validation/* isEmpty */.xb)(this.webTabGroups)||("layout"===newVal?this.activeGroupId=this.webTabGroups[0].id:(this.tabListLoading=!0,this.$nextTick((function(){return _this2.tabListLoading=!1})),this.activeGroupId=null))},appId:{handler:function(value){(0,validation/* isEmpty */.xb)(value)||this.init()},immediate:!0},showAddTab:function(value){!value&&this.reOpenAssociateTab&&(this.showTabPicker=!0,this.reOpenAssociateTab=!1)}},methods:{loadTabs:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$loadAppTabs,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,webtabUtil/* loadAppTabs */.V)(_this3.appId);case 2:_yield$loadAppTabs=_context.sent,error=_yield$loadAppTabs.error,data=_yield$loadAppTabs.data,error?_this3.$message.error(error.message||"Error Occured"):_this3.webtabs=data,_this3.tabListLoading=!1;case 7:case"end":return _context.stop()}}),_callee)})))()},loadAppLayouts:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$loadLayouts,error,data,_ref2,linkName,layouts,appDomain;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,webtabUtil/* loadLayouts */.H8)(_this4.appId);case 2:_yield$loadLayouts=_context2.sent,error=_yield$loadLayouts.error,data=_yield$loadLayouts.data,error?_this4.$message.error(error.message||"Error Occured"):(_ref2=data||{},linkName=_ref2.linkName,layouts=_ref2.layouts,appDomain=_ref2.appDomain,_this4.appLayouts=layouts,_this4.appName=linkName,_this4.appDomain=appDomain,_this4.selectedLayout=1,_this4.constructWebtabGroups()),_this4.groupListLoading=!1;case 7:case"end":return _context2.stop()}}),_callee2)})))()},init:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this5.tabListLoading=!0,_this5.groupListLoading=!0,_context3.next=4,_this5.loadTabs();case 4:return _context3.next=6,_this5.loadAppLayouts();case 6:case"end":return _context3.stop()}}),_callee3)})))()},constructWebtabGroups:function(){var groups=this.currentAppLayout.webTabGroupList;if((0,validation/* isEmpty */.xb)(groups))this.webTabGroups=[];else{var webTabGroups=groups.reduce((function(groupWithPermission,group){var id=group.id,name=group.name,iconType=group.iconType,route=group.route,webTabs=group.webTabs,order=group.order,tabs=(webTabs||[]).map((function(tab){var id=tab.id,name=tab.name,order=tab.order,type=tab.type;return{id:id,name:name,order:order,type:type}})),groupPermission={id:id,name:name,iconType:iconType,route:route,tabs:tabs,order:order};return groupWithPermission.push(groupPermission),groupWithPermission}),[]);this.webTabGroups=sortBy_default()(webTabGroups,["order"]),this.activeGroupId=this.webTabGroups[0].id}},canShowEditTab:function(type){var tabTypes=this.tabTypes,$route=this.$route,tabTypesDisplayName=this.tabTypesDisplayName,_ref3=$route||{},query=_ref3.query,isCustomTabEnabled=type===tabTypes.CUSTOM&&query.showCustom;return(![tabTypes.CUSTOM].includes(type)||isCustomTabEnabled)&&!(0,validation/* isEmpty */.xb)(tabTypesDisplayName[type])},addTabGroup:function(command){"tab"===command?this.editTab():"group"===command&&this.editGroup()},editTab:function(){var tab=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,webtab=tab?this.webtabs.find((function(t){return t.id===tab.id})):null;this.activeWebTab=webtab,this.showAddTab=!0},openTabCreation:function(){this.reOpenAssociateTab=!0,this.activeWebTab=null,this.showAddTab=!0},deleteTab:function(_ref4){var _this6=this,id=_ref4.id;if(this.tabGroupHash[id])this.showTabDeletionWarning=!0;else{var dialogObj={title:this.$t("common.wo_report.delete_tab_title"),htmlMessage:this.$t("common.wo_report.are_you_sure_want_to_delete_this_tab"),rbDanger:!0,rbLabel:this.$t("common.login_expiry.rbLabel")};this.$dialog.confirm(dialogObj).then(function(){var _ref5=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(value){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:value&&api/* API */.bl.post("/v2/tab/delete",{id:id}).then((function(_ref6){var error=_ref6.error;if(error)_this6.$message.error(error.message||"Error Occured");else{var index=_this6.webtabs.findIndex((function(tab){return tab.id===id}));(0,validation/* isEmpty */.xb)(index)||_this6.webtabs.splice(index,1),_this6.$message.success(_this6.$t("common._common.tab_deleted_success")),_this6.toggleBanner()}}));case 1:case"end":return _context4.stop()}}),_callee4)})));return function(_x){return _ref5.apply(this,arguments)}}())}},removeTab:function(id){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return params={tabList:[{id:id}],tabGroupId:_this7.activeGroupId},_context5.next=3,api/* API */.bl.post("v2/tab/disassociate",params).then((function(_ref7){var error=_ref7.error;error?_this7.$message.error(error.message||"Error Occured"):(_this7.$message.success(_this7.$t("common._common.tab_disassociated_from_this_group")),_this7.webTabGroups.forEach((function(group){var groupId=group.id,tabs=group.tabs;_this7.activeGroupId===groupId&&(group.tabs=tabs.filter((function(tab){return tab.id!==id})))})),_this7.toggleBanner())}));case 3:case"end":return _context5.stop()}}),_callee5)})))()},disassociateTab:function(_ref8){var _this8=this,id=_ref8.id,dialogObj={title:this.$t("common._common.disassciate_tab"),htmlMessage:this.$t("common._common.are_you_sure_want_to_remove_tab_from_this_group"),rbDanger:!0,rbLabel:this.$t("common.login_expiry.rbLabel")};this.$dialog.confirm(dialogObj).then((function(value){value&&_this8.removeTab(id)}))},editGroup:function(){var group=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.activeGroup=group,this.showAddGroup=!0},deleteGroup:function(_ref9){var _this9=this,id=_ref9.id,dialogObj={title:this.$t("common.wo_report.delete_group"),htmlMessage:this.$t("common._common.are_you_sure_want_to_delete_group_from_this_app"),rbDanger:!0,rbLabel:this.$t("common.login_expiry.rbLabel")};this.$dialog.confirm(dialogObj).then((function(value){value&&api/* API */.bl.post("/v2/tabGroup/delete",{id:id}).then((function(_ref10){var error=_ref10.error;if(error)_this9.$message.error(error.message||"Error Occured");else{var index=_this9.webTabGroups.findIndex((function(group){return group.id===id}));(0,validation/* isEmpty */.xb)(index)||_this9.webTabGroups.splice(index,1),_this9.$message.success(_this9.$t("common._common.group_deleted_sucess")),_this9.toggleBanner()}}))}))},updateTabList:function(){var _this10=this,activeGroupId=this.activeGroupId,webTabGroups=this.webTabGroups,_webTabGroups$find=webTabGroups.find((function(group){return group.id===activeGroupId})),tabs=_webTabGroups$find.tabs,tabsGroupsList=tabs.map((function(tab){var id=tab.id,order=tab.order;return{webTabId:id,order:order,webTabGroupId:activeGroupId}}));api/* API */.bl.post("/v2/tab/reorder",{tabsGroupsList:tabsGroupsList}).then((function(_ref11){var error=_ref11.error;error?_this10.$message.error(error.message||"Error Occured"):(_this10.$message.success(_this10.$t("common._common.tabs_reordered")),_this10.toggleBanner())}))},updateGroupList:function(){var _this11=this,groupList=this.filteredGroup.map((function(group,order){var id=group.id;return{id:id,order:order+1}}));api/* API */.bl.post("/v2/tabGroup/reorder",{groupList:groupList}).then((function(_ref12){var error=_ref12.error;error?_this11.$message.error(error.message||"Error Occured"):(_this11.$message.success(_this11.$t("common._common.groups_reordered")),_this11.toggleBanner())}))},updateTab:function(webtab){var index=this.webtabs.findIndex((function(tab){return webtab.id===tab.id}));if((0,validation/* isEmpty */.xb)(index))this.webtabs.push(webtab);else{var grpId=this.tabGroupHash[webtab.id];if(!(0,validation/* isEmpty */.xb)(grpId)){var grpIdx=this.webTabGroups.findIndex((function(group){return group.id===grpId}));if(!(0,validation/* isEmpty */.xb)(grpIdx)){var webtabGroup=this.webTabGroups[grpIdx],_ref13=webtabGroup||{},tabs=_ref13.tabs,idx=(tabs||[]).findIndex((function(t){return t.id===webtab.id}));if(!(0,validation/* isEmpty */.xb)(idx)){var id=webtab.id,name=webtab.name,order=webtab.order,type=webtab.type;tabs.splice(idx,1,{id:id,name:name,order:order,type:type}),this.webTabGroups.splice(grpIdx,1,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},webtabGroup),{},{tabs:tabs}))}}}this.webtabs.splice(index,1,webtab)}},updateGroup:function(webGroup){var index=this.webTabGroups.findIndex((function(group){return group.id===webGroup.id}));if((0,validation/* isEmpty */.xb)(index))this.webTabGroups.push(webGroup);else{var webtabGroup=this.webTabGroups[index],_ref14=webGroup||{},name=_ref14.name,route=_ref14.route,iconType=_ref14.iconType;this.webTabGroups.splice(index,1,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},webtabGroup),{},{name:name,route:route,iconType:iconType}))}},updateGroupTabs:function(groupTabs){var activeGroupId=this.activeGroupId,webTabGroups=this.webTabGroups,index=webTabGroups.findIndex((function(group){return group.id===activeGroupId}));if(!(0,validation/* isEmpty */.xb)(index)){var webtabGroup=webTabGroups[index];this.webTabGroups.splice(index,1,(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},webtabGroup),{},{tabs:groupTabs}))}},getViewIconClass:function(layoutType){var iconClass=this.iconClass;return this.enabledLayouts[layoutType]||(iconClass+=" fill-disabled-grey"),layoutType===this.selectedLayout&&(iconClass+=" fill-pink"),iconClass},selectView:function(layoutType){!this.groupListLoading&&this.enabledLayouts[layoutType]&&(this.selectedLayout=layoutType)},keyDownHandler:function(e){"Escape"===e.key&&this.showSearch&&this.toggleSearch()},toggleSearch:function(){this.grpFilterVal=null,this.showSearch=!this.showSearch},toggleBanner:function(){var _this12=this;this.$nextTick((function(){var currentAppId=_this12.currentAppId,appId=_this12.appId;appId===currentAppId&&(_this12.$emit("reloadApp"),_this12.showReloadApp=!0)}))},reload:function(){var path=this.$route.path;window.location.href=path}}},customization_TabsAndLayoutsvue_type_script_lang_js=TabsAndLayoutsvue_type_script_lang_js,TabsAndLayouts_component=(0,componentNormalizer/* default */.Z)(customization_TabsAndLayoutsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,TabsAndLayouts=TabsAndLayouts_component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/271791:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"8f181d382ffbfa8849763c3ada75c3c6.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/61693.js.map