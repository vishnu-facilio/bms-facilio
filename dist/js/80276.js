(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[80276],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/975165:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return TenantAvatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/tenants/components/TenantAvatar.vue?vue&type=template&id=50cbe910&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_c("div",{class:["fc-avatar","tenantunit"===_vm.moduleName?"avatar-size-tenant-unit":"avatar-size-tenant"],style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],Avatar=__webpack_require__(574752),TenantAvatarvue_type_script_lang_js={extends:Avatar["default"],props:["moduleName"]},components_TenantAvatarvue_type_script_lang_js=TenantAvatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_TenantAvatarvue_type_script_lang_js,render,staticRenderFns,!1,null,"50cbe910",null)
/* harmony default export */,TenantAvatar=component.exports},
/***/180276:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return TenantUnitTenant}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/tenantunit/components/TenantUnitTenant.vue?vue&type=template&id=3ff8ef41&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.isLoading?_c("div",{staticClass:"mT100"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_vm.isTenantAvailable?_c("div",{staticClass:"height100 flex-wrap"},[_c("el-row",[_c("div",{staticClass:"flex-middle justify-content-space p20"},[_c("div",{staticClass:"f13 bold text-uppercase fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.$t("common._common.occupancy"))+" ")]),_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"f11 bold view pointer",attrs:{title:"View Tenant Details"},on:{click:function($event){return _vm.redirectToOverview()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view"))+" ")])])]),_c("el-row",[_c("div",{staticClass:"flex justify-center mT10"},[_vm.getAvatarUrl?_c("img",{staticClass:"tenant-photo",attrs:{src:_vm.getAvatarUrl}}):_c("avatar",{attrs:{user:{name:_vm.getTenantName},moduleName:"tenantunit"}})],1)]),_c("el-row",[_c("div",{staticClass:"bold flex justify-center f16 mT20"},[_vm._v(" "+_vm._s(_vm.getTenantName)+" ")])]),_c("el-row",[_c("div",{staticClass:"flex justify-center f14 mT20"},[_c("i",{staticClass:"el-icon-phone fwBold f13 mT2 mR7",staticStyle:{color:"rgba(121,133,150,1)"}}),_vm._v(" "+_vm._s(_vm.getTenantPhone)+" ")])]),_c("el-row",[_c("div",{staticClass:"flex justify-center f14 mT20"},[_c("img",{staticClass:"tenant-primary-icon email-icon mR10 mT2",attrs:{src:__webpack_require__(920554)}}),_vm._v(" "+_vm._s(_vm.getTenantEmail)+" ")])])],1):_c("div",{staticClass:"height100 flex-wrap"},[_c("el-row",[_c("div",{staticClass:"flex-middle justify-content-space p20"},[_c("div",{staticClass:"f13 bold text-uppercase fc-black-13 text-left"},[_vm._v(" "+_vm._s(_vm.$t("common._common.occupancy"))+" ")])])]),_c("el-row",[_c("div",{staticClass:"flex justify-center"},[_c("img",{staticClass:"mT20",attrs:{src:__webpack_require__(785436),width:"140",height:"140"}})])]),_c("el-row",[_c("div",{staticClass:"bold flex justify-center mT10"},[_vm._v(" "+_vm._s(_vm.$t("common._common.tenant_unit_vacant"))+" ")])])],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),Spinner=(__webpack_require__(434284),__webpack_require__(604947)),TenantAvatar=__webpack_require__(975165),router=__webpack_require__(329435),TenantUnitTenantvue_type_script_lang_js={props:["details"],data:function(){return{lastClosedWorkorderId:null,lastClosedWorkorder:"---",mostOverdueWorkorderId:null,mostOverdueWorkorder:"---"}},components:{Spinner:Spinner/* default */.Z,Avatar:TenantAvatar/* default */.Z},created:function(){return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:case"end":return _context.stop()}}),_callee)})))()},computed:{getAvatarUrl:function(){var details=this.details,_ref=details||{},tenant=_ref.tenant,_ref2=tenant||{},avatarUrl=_ref2.avatarUrl;return avatarUrl},getTenantName:function(){var details=this.details,_ref3=details||{},tenant=_ref3.tenant,_ref4=tenant||{},name=_ref4.name;return name||"---"},getTenantPhone:function(){var details=this.details,_ref5=details||{},tenant=_ref5.tenant,_ref6=tenant||{},primaryContactPhone=_ref6.primaryContactPhone;return primaryContactPhone||"---"},getTenantEmail:function(){var details=this.details,_ref7=details||{},tenant=_ref7.tenant,_ref8=tenant||{},primaryContactEmail=_ref8.primaryContactEmail;return primaryContactEmail||"---"},isTenantAvailable:function(){var details=this.details,_ref9=details||{},tenant=_ref9.tenant;return!!tenant}},methods:{redirectToOverview:function(){var details=this.details,_ref10=details||{},tenant=_ref10.tenant,_ref11=tenant||{},id=_ref11.id;if(!this.$validation.isEmpty(id)){var route,params={id:id,viewname:"all"};if((0,router/* isWebTabsEnabled */.tj)()){var _ref12=(0,router/* findRouteForModule */.Jp)("tenant",router/* pageTypes */.As.OVERVIEW)||{},name=_ref12.name;name&&(route=this.$router.resolve({name:name,params:params}).href)}else route=this.$router.resolve({name:"tenantSummary",params:params}).href;route&&window.open(route,"_blank")}}}},components_TenantUnitTenantvue_type_script_lang_js=TenantUnitTenantvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_TenantUnitTenantvue_type_script_lang_js,render,staticRenderFns,!1,null,"3ff8ef41",null)
/* harmony default export */,TenantUnitTenant=component.exports},
/***/920554:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"39445569be723755f57b4cb9e93f233d.svg";
/***/},
/***/785436:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"38d5b13cbe2e513fd0f82af9e162a22a.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/80276.js.map