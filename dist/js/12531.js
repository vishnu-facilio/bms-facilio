(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[12531,57544,85050],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/201117:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLookupFieldWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FLookupFieldWrapper.vue?vue&type=template&id=0b196d62
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"lookup-wrapper"},[_vm.fieldObj.field?_c("FLookupField",{class:{"handle-wizard-icon":_vm.handleWizardIcon},attrs:{model:_vm.modelObj,field:_vm.fieldObj,disabled:_vm.disabled,siteId:_vm.siteId,hideLookupIcon:_vm.hideWizard,hideDropDown:_vm.hideDropDown,preHookFilterConstruction:_vm.filterConstruction,fetchOptionsOnLoad:_vm.fetchOptionsOnLoad,fetchOptionsMethod:_vm.fetchOptionsMethod},on:{"update:model":function($event){_vm.modelObj=$event},showLookupWizard:_vm.showLookupWizard,recordSelected:_vm.onRecordSelected}}):_c("el-input"),!_vm.hideWizard&&_vm.canShowLookupWizard?_c("div",[_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.canShowLookupWizard,selectedLookupField:_vm.fieldObj,siteId:_vm.siteId,withReadings:_vm.withReadings},on:{"update:canShowLookupWizard":function($event){_vm.canShowLookupWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.canShowLookupWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue,showMainFieldSearch:function($event){return _vm.onWizardShow(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),FLookupField=(__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(450886),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(891719),__webpack_require__(855048)),validation=__webpack_require__(990260),FLookupFieldWrappervue_type_script_lang_js={name:"f-lookup-field-wrapper",props:{value:[Number,String,Array],label:String,
// Label of selected value if any
formField:Object,field:Object,
// Pass field object if form field not available and field avaialble
moduleName:String,
// Pass module name and field name if field object not avaialble
fieldName:String,disabled:{type:Boolean,default:!1},siteId:Number,hideWizard:{type:Boolean,default:!1},hideDropDown:{type:Boolean,default:!1},fetchOptionsOnLoad:{type:Boolean,default:!0},fetchOptionsMethod:{type:Function},withReadings:Boolean,handleWizardIcon:{
// To handle wizard icon css
type:Boolean,default:!0},filterConstruction:{type:Function,default:function(field){return field.filters}}},components:{FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(99751),__webpack_require__.e(42054)]).then(__webpack_require__.bind(__webpack_require__,499751))}},data:function(){return{fieldObj:{isDataLoading:!1,options:[],lookupModuleName:"",field:null,filters:{},isDisabled:!1},canShowLookupWizard:!1}},computed:{modelObj:{get:function(){return(0,validation/* isEmpty */.xb)(this.value)?this.value:(0,validation/* isArray */.kJ)(this.value)?this.value.map((function(val){return parseInt(val)})):parseInt(this.value)},set:function(value){this.$emit("input",value)}}},created:function(){this.handleDefaultOption()},mounted:function(){var formField=this.formField,field=this.field;(0,validation/* isEmpty */.xb)(formField)?(0,validation/* isEmpty */.xb)(field)?this.fetchField():this.setField(field):this.fieldObj=formField},watch:{canShowLookupWizard:function(value){value||this.onWizardShow(value)}},methods:{showLookupWizard:function(field,canShow){this.fieldObj=field,this.canShowLookupWizard=canShow,this.onWizardShow(!0)},setLookupFieldValue:function(props){var _this=this,field=props.field,_ref=field||{},multiple=_ref.multiple,selectedItems=_ref.selectedItems;if(multiple){var valueArr=[];selectedItems.forEach((function(item){var value=item.value,label=item.label;_this.addOption(value,label),valueArr.push(value)})),this.modelObj=valueArr,this.onRecordSelected(selectedItems,valueArr)}else{var _ref2=selectedItems||[],_ref3=(0,slicedToArray/* default */.Z)(_ref2,1),selectedItem=_ref3[0],value=selectedItem.value,label=selectedItem.label;this.addOption(value,label),this.modelObj=value,this.onRecordSelected(selectedItem)}this.onWizardShow(!1)},onWizardShow:function(show){this.$emit("showingLookupWizard",show)},fetchField:function(){var _this2=this,moduleName=this.moduleName,fieldName=this.fieldName;this.$util.loadModuleMeta(moduleName).then((function(meta){var field=meta.fields.find((function(field){return field.name===fieldName}));_this2.setField(field)}))},onRecordSelected:function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];this.$emit.apply(this,["recordSelected"].concat(args))},handleDefaultOption:function(){var label=this.label,value=this.value;(0,validation/* isEmpty */.xb)(label)||(0,validation/* isEmpty */.xb)(value)||this.addOption(value,label)},setField:function(field){var fieldObj=this.fieldObj;fieldObj.field=field,fieldObj.multiple=field.multiple,fieldObj.lookupModuleName=field.lookupModule.name,(0,validation/* isArray */.kJ)(this.modelObj)?fieldObj.selectedItems=this.modelObj.map((function(id){return{value:id}})):fieldObj.selectedItems={value:this.modelObj}},addOption:function(id,label){var fieldObj=this.fieldObj,options=fieldObj.options,newOptionObj={label:label,value:id};(0,validation/* isEmpty */.xb)(options)?options.push(newOptionObj):options.some((function(option){return option.value===id}))||options.unshift(newOptionObj),this.$set(this.fieldObj,"options",options)}}},components_FLookupFieldWrappervue_type_script_lang_js=FLookupFieldWrappervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FLookupFieldWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLookupFieldWrapper=component.exports},
/***/21864:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return OutsideClick}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/OutsideClick.vue?vue&type=template&id=6761c108
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.visibility?_c("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.onOutsideClick,expression:"onOutsideClick"}]},[_vm._t("default")],2):_vm._e()},staticRenderFns=[],OutsideClickvue_type_script_lang_js={props:["visibility"],methods:{onOutsideClick:function(){this.$emit("onOutsideClick"),this.$emit("update:visibility",!1)}}},components_OutsideClickvue_type_script_lang_js=OutsideClickvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_OutsideClickvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,OutsideClick=component.exports},
/***/673362:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetMultiChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetMultiChooser.vue?vue&type=template&id=0ccc2fed
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top",width:"60%","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","before-close":_vm.handleclose,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"multi f-element",attrs:{id:"spaceassetchooser"}},[_vm.hideBanner?_vm._e():_c("banner",{attrs:{message:_vm.message,hideIcon:!_vm.selectedList.count}}),_c("div",{staticStyle:{height:"600px","overflow-y":"hidden"}},[_c("div",{staticStyle:{"background-color":"#ffffff",height:"100%",width:"100%",display:"inline-block"}},[_c("div",{staticClass:"flex-middle justify-content-space pT20 pL20 pR20"},[_vm.isAsset?_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.assetCategory.placeHolder,disabled:!_vm.isAsset||_vm.disable},on:{change:_vm.onCategoryChange},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:parseInt(value)}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategoryChange},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1),_vm.hideBanner?_vm._e():_c("div",{staticClass:"pull-right"},[_c("el-radio-group",{on:{change:_vm.onIncludeTypeChange},model:{value:_vm.includeType,callback:function($$v){_vm.includeType=$$v},expression:"includeType"}},[_c("el-radio",{staticClass:"fc-radio",attrs:{label:"all"}},[_vm._v("All")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"include"}},[_vm._v("Include")]),_c("el-radio",{staticClass:"fc-radio",attrs:{label:"exclude"}},[_vm._v("Exclude")])],1)],1)],1),_c("el-row",[_c("el-col",{attrs:{span:24}},[_c("div",{staticClass:"pT10 pB10",staticStyle:{"padding-left":"20px","padding-right":"20px","border-bottom":"1px solid #e6ecf3 !important"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v("search")]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.setResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"asset-chooser-select-block"},[_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"inline"},[!_vm.resourceType||_vm.resourceType.includes(field.spaceType+1)?_c("el-select",{attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"",placeholder:field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationChange(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id}})})),1):_vm._e()],1)})),_c("span",{staticClass:"searchicon pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])],2)])])],1),_c("div",{staticClass:"scroll-multichooser"},[_c("el-row",[_c("el-col",{staticClass:"table-scroll-chooser",attrs:{span:_vm.hideBanner?16:24}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px","overflow-y":"scroll","padding-bottom":"50px"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table border-right-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow "},[_c("el-checkbox",{attrs:{disabled:"exclude"===_vm.includeType&&!_vm.hideBanner},on:{change:_vm.onSelectAllChange},model:{value:_vm.selectall,callback:function($$v){_vm.selectall=$$v},expression:"selectall"}})],1),_c("td",{staticClass:"headerrow width30"},[_vm._v("#ID")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("NAME")]),_c("td",{staticClass:"headerrow width30"},[_vm._v("CATEGORY")])])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:space.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(space,!0)}},model:{value:space.selected,callback:function($$v){_vm.$set(space,"selected",$$v)},expression:"space.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(space)}}},[_vm._v(" "+_vm._s(space.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(space.spaceTypeVal)+" ")])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:asset.id,staticClass:"tablerow",class:{selectedrow:asset.selected}},[_c("td",{staticClass:"contentrow"},[_c("el-checkbox",{on:{change:function($event){return _vm.toggleSelect(asset,!0)}},model:{value:asset.selected,callback:function($$v){_vm.$set(asset,"selected",$$v)},expression:"asset.selected"}})],1),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" #"+_vm._s(asset.id)+" ")]),_c("td",{staticClass:"contentrow width30",on:{click:function($event){return $event.stopPropagation(),_vm.toggleSelect(asset)}}},[_vm._v(" "+_vm._s(asset.name)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")])]):_vm._e()})),_vm.spaceList&&_vm.spaceList.length<1&&_vm.assetList&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_vm.hideBanner?_c("el-col",{staticClass:"chooser-selected-container",attrs:{span:8}},[_c("div",{staticClass:"chooser-scroll-block"},[_vm.selectedList&&_vm.selectedList.length?_c("div",{staticClass:"count-message"},[_vm._v(" "+_vm._s(_vm.message)+" ")]):_vm._e(),_vm._l(_vm.selectedList,(function(resource,value){return _c("div",{key:value,staticClass:"selected-field"},[_vm._v(" "+_vm._s(resource.name)+" "),_c("i",{staticClass:"el-icon-close remove",on:{click:function($event){return _vm.deSelect(resource)}}})])}))],2)]):_vm._e()],1)],1),_c("div",{staticClass:"f-footer row"},[_c("button",{staticClass:"footer-btn footer-btn-secondary col-6",attrs:{type:"button"},on:{click:_vm.handleclose}},[_c("span",[_vm._v("Cancel")])]),_c("button",{staticClass:"footer-btn footer-btn-primary col-6",attrs:{type:"button"},on:{click:_vm.associate}},[_c("span",[_vm._v("Ok")])])])],1)]),_c("div",{staticStyle:{position:"absolute",top:"45%",left:"45%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),v_infinite_scroll=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(561364)),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),ResourceMixin=__webpack_require__(22637),FBannervue_type_template_id_85b57242_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.message?_c("div",{staticClass:"banner-block",style:{"background-color":_vm.bannerColor}},[_c("div",{staticClass:"banner-content"},[_c("i",{directives:[{name:"show",rawName:"v-show",value:!_vm.hideIcon,expression:"!hideIcon"}],class:["banner-icon flLeft",_vm.bannerIcon],style:{color:_vm.bannerTextColor},attrs:{"aria-hidden":"true"}}),_c("p",{staticClass:"banner-txt flLeft",style:{color:_vm.bannerTextColor}},[_vm._v(" "+_vm._s(_vm.message)+" ")])])]):_vm._e()])},FBannervue_type_template_id_85b57242_staticRenderFns=[],FBannervue_type_script_lang_js={props:["message","icon","color","textColor","hideIcon"],computed:{bannerColor:function(){var color;return this.color?color=this.color:this.isError||(color="#ecf3da"),color},bannerTextColor:function(){var color;return this.textColor?color=this.textColor:this.isError||(color="#67933a"),color},bannerIcon:function(){var icon;return this.icon?icon=this.icon:this.isError||(icon="el-icon-circle-check-outline"),icon}}},components_FBannervue_type_script_lang_js=FBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FBannervue_type_script_lang_js,FBannervue_type_template_id_85b57242_render,FBannervue_type_template_id_85b57242_staticRenderFns,!1,null,null,null)
/* harmony default export */,FBanner=component.exports,vuex_esm=__webpack_require__(420629),SpaceAssetMultiChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","disable","hideBanner"],components:{Banner:FBanner,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{selectall:!1,showQuickSearch:!1,includeType:"all",selectedList:[]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{message:function(){var message,selectedCount=this.selectedList.length;if("all"===this.includeType&&this.categoryName)message="All "+this.categoryName+"s have been selected";else if("all"!==this.includeType&&selectedCount){var includeMsg;includeMsg=this.hideBanner?" Selected":"include"===this.includeType?" Included":" Excluded";var resource=(this.categoryName?this.categoryName:"")+(this.showAsset?" Asset":" Space");message=selectedCount+" "+resource+(selectedCount>1?"s":"")+includeMsg}else message=this.resourceType?"No Space Selected":"No Asset Selected";return message},categoryName:function(){return!this.assetCategory||this.assetCategory.value<=0?"":this.assetCategory.options[this.assetCategory.value]}}),created:function(){var _this=this;this.$store.dispatch("loadSpaceCategory"),this.$store.dispatch("loadAssetCategory").then((function(){_this.initResourceData()}))},watch:{visibility:function(val){val?this.reInit():val||!this.query||this.selectedList&&this.selectedList.length||this.$emit("associate",{})},query:function(val){this.quickSearchQuery=val,val&&(this.showQuickSearch=!0,this.setResourceData())},initialResourcesFecthed:function(val){val&&this.setInitialData()}},methods:{reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.checkAndInitResourceData()},deSelect:function(object){var resource=this.resourceList.find((function(resource){return resource.id===object.id}));resource?resource.selected=!1:resource=object,this.setSelectedResource(resource),this.setIncludeTypeOnChange()},handleclose:function(){this.$emit("update:visibility",!1),this.$emit("update:siteId",null)},openSpace:function(){this.isAsset=!1,this.loadSpace()},openAsset:function(){this.isAsset=!0,this.loadAsset()},associate:function(){var obj={};"all"!==this.includeType&&(obj.resourceList=this.selectedList,obj.isInclude="include"===this.includeType),this.$emit("associate",obj)},toggleQuickSearch:function(){var _this2=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.setResourceData())},onCategoryChange:function(){this.assetCategory.value?this.includeType="all":this.setIncludeTypeOnChange(),this.onCategorySelected(),this.selectedList=[]},onSpaceCategoryChange:function(){this.spaceCategory;this.onSpaceCategorySelected(),this.selectedList=[]},onSelectAllChange:function(){var _this3=this;this.selectedList=[],this.resourceList.forEach((function(resource){_this3.$set(resource,"selected",_this3.selectall),_this3.setSelectedResource(resource)})),this.setIncludeTypeOnChange()},toggleSelect:function(resource,alreadyChanged){alreadyChanged||this.$set(resource,"selected",!resource.selected),this.setSelectedResource(resource),this.selectall=this.selectedList.length===this.resourceList.length,this.setIncludeTypeOnChange()},setInitialData:function(){var _this4=this;if(this.initialData){var selectedResources=this.initialData.selectedResources;this.includeType=selectedResources&&selectedResources.length?this.initialData.isIncludeResource?"include":"exclude":"all";var idArray=[];selectedResources&&(this.selectedList=[],this.resourceList.forEach((function(resource){var resourceSelectedObj=_this4.initialData.selectedResources.some((function(selctedResource){return selctedResource.id===resource.id}));_this4.$set(resource,"selected",resourceSelectedObj),_this4.setSelectedResource(resource)}))),this.selectedList&&selectedResources&&this.selectedList.length<selectedResources.length&&(this.selectedList=[],this.initialData.selectedResources.forEach((function(d){idArray.push(d.id)})),this.$util.loadResource(idArray).then((function(fields){_this4.selectedList=fields})))}},setIncludeTypeOnChange:function(){"all"===this.includeType?this.includeType="include":this.selectedList.length||(this.includeType="all")},onIncludeTypeChange:function(){var _this5=this;"all"===this.includeType&&(this.resourceList.forEach((function(resource){_this5.$set(resource,"selected",!1)})),this.selectedList=[],this.selectall=!1)},isSelected:function(resourceId){return this.selectedList.find((function(resource){return resource.id===resourceId}))},onLocationChange:function(field){var _this6=this;this.onLocationSelected(field).then((function(){_this6.setListSelected()})),this.setIncludeTypeOnChange()},setResourceData:function(){var _this7=this;this.loadResourceData().then((function(){_this7.setListSelected()}))},setListSelected:function(){var _this8=this,selectedIds=this.selectedList.map((function(resource){return resource.id}));this.isAsset?this.assetList.map((function(asset){return selectedIds.includes(asset.id)&&_this8.$set(asset,"selected",!0),asset})):this.spaceList.map((function(space){return selectedIds.includes(space.id)&&_this8.$set(space,"selected",!0),space}))},setSelectedResource:function(resource){if(resource.selected)this.selectedList.push(this.$helpers.cloneObject(resource));else{var idx=this.selectedList.findIndex((function(sr){return sr.id===resource.id}));-1!==idx&&this.selectedList.splice(idx,1)}}}},components_SpaceAssetMultiChooservue_type_script_lang_js=SpaceAssetMultiChooservue_type_script_lang_js,SpaceAssetMultiChooser_component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetMultiChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetMultiChooser=SpaceAssetMultiChooser_component.exports},
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/426803:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return User}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/avatar/User.vue?vue&type=template&id=c662fbbc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.userObj?_c("div",{staticClass:"inline"},[_c("div",{staticClass:"fc-avatar-element q-item-division relative-position"},[_c("div",{staticClass:"q-item-side-left q-item-section"},[_vm.showPopover&&-1!==_vm.userObj.id?_c("avatarPopover",{attrs:{user:_vm.userObj,moduleName:_vm.moduleName}},[_c("span",{attrs:{slot:"reference"},slot:"reference"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)]):_c("span",[_c("avatar",{attrs:{size:_vm.size,user:_vm.userObj,color:_vm.color}})],1)],1),_vm.showLabel?[_vm.user&&_vm.user.id>0||_vm.group&&_vm.group.id>0?_c("div",{staticClass:"wo-team-txt"},[_c("div",{staticClass:"assignment-avatar-name",class:{"color-d":!_vm.user}},[_vm._v(" "+_vm._s(_vm.user&&_vm.user.id>0?_vm.user.name||(_vm.users.find((function(usr){return usr.id===_vm.user.id}))||{}).name:"---")+" ")]),_c("div",{staticClass:"assignment-group-name",class:{"color-d":!_vm.group}},[_vm._v(" "+_vm._s(_vm.group?_vm.group.name||(_vm.$store.getters.getGroup(_vm.group.id)||{}).name:"---")+" ")])]):_c("div",{staticClass:"wo-team-txt",staticStyle:{"padding-top":"7px","font-size":"14px",color:"#aaa","letter-spacing":"0.2px"}},[_vm._v(" ---/--- ")])]:0!=_vm.name?_c("div",[_c("div",[_c("span",{staticClass:"q-item-label d-flex flex-wrap"},[_vm._v(_vm._s(_vm.userObj.name))])])]):_vm._e()],2)]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(574752)),AvatarPopovervue_type_template_id_8ef9b9ec_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"avatar-popover-container"},[_c("el-popover",{ref:"popover1",staticStyle:{display:"block",padding:"0"},attrs:{placement:"top-start",trigger:"hover",width:"383",clas:"avatar-popover","popper-class":"avatar-popover",height:_vm.defaultheight,"open-delay":600},model:{value:_vm.popoverShown,callback:function($$v){_vm.popoverShown=$$v},expression:"popoverShown"}},[_c("div",{staticClass:"popover-content-block"},[_c("div",{staticClass:"popover-avatar"},[_c("avatar",{attrs:{size:_vm.size,user:_vm.user,color:_vm.color,showPopover:!1}})],1),_c("div",{staticClass:"popover-avatar-det"},[_c("div",{staticClass:"avatar-name-txt"},[_vm._v(" "+_vm._s(_vm.user.name?_vm.user.name:"----")+" ")]),_c("div",{staticClass:"mail-block"},[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"13px","vertical-align":"middle"},attrs:{src:__webpack_require__(702638)}}),_c("span",{staticClass:"mail-txt"},[_vm._v(_vm._s(_vm.user.email?_vm.user.email:"----")+" ")])]),_c("div",[_c("img",{staticClass:"envelope-icon",staticStyle:{height:"15px"},attrs:{src:__webpack_require__(47424)}}),_c("span",{staticClass:"popover-phone-number"},[_vm._v(" "+_vm._s(_vm.user.mobile?_vm.user.mobile:"----")+" ")])])]),"workorder"===_vm.moduleName?_c("div",{staticClass:"popover-footer"},[_c("ul",[_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("open")}}},[_c("div",{staticClass:"open-result-txt"},[_vm._v(" "+_vm._s(_vm.result.openWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OPEN")])]),_c("li",{staticClass:"popover-footer-list border-RL",on:{click:function($event){return _vm.getOpen("overdue")}}},[_c("div",{staticClass:"overdue-result-txt"},[_vm._v(" "+_vm._s(_vm.result.overDueWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("OVERDUE")])]),_c("li",{staticClass:"popover-footer-list",on:{click:function($event){return _vm.getOpen("duetoday")}}},[_c("div",{staticClass:"dueday-result-txt"},[_vm._v(" "+_vm._s(_vm.result.dueTodayWorkOrdersCount)+" ")]),_c("div",{staticClass:"result-txt-black"},[_vm._v("DUE TODAY")])])])]):_vm._e()]),_c("template",{slot:"reference"},[_vm._t("reference")],2)],2)],1)},AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns=[],AvatarPopovervue_type_script_lang_js=(__webpack_require__(670560),__webpack_require__(648324),{props:["size","user","color","name","moduleName"],data:function(){return{defaultheight:"230px",result:{},popoverShown:!1,viewname:""}},components:{Avatar:Avatar["default"]},mounted:function(){
// this.showPopover = this.showpopoverFooter
this.moduleName&&(this.defaultheight="160px")},watch:{popoverShown:function(val){val&&this.userOpenDatas()}},methods:{userOpenDatas:function(){var self=this;self.$http.post("/widget/getUserCardData",{ouid:this.user.id}).then((function(response){200===response.status&&(self.result=response.data.result)}))},getOpen:function(viewName){var filter={assignedTo:{operator:"is",value:[this.user.id+""]}};this.$router.push("/app/wo/orders/"+viewName+"?search="+encodeURIComponent(JSON.stringify(filter)))}}}),components_AvatarPopovervue_type_script_lang_js=AvatarPopovervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_AvatarPopovervue_type_script_lang_js,AvatarPopovervue_type_template_id_8ef9b9ec_render,AvatarPopovervue_type_template_id_8ef9b9ec_staticRenderFns,!1,null,null,null)
/* harmony default export */,AvatarPopover=component.exports,vuex_esm=__webpack_require__(420629),Uservue_type_script_lang_js={created:function(){this.$store.dispatch("loadGroups")},components:{Avatar:Avatar["default"],AvatarPopover:AvatarPopover},props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},name:{type:Boolean,default:function(){return!0}},showLabel:{type:Boolean},showPopover:{type:Boolean},moduleName:{type:String},group:{type:Object},hovercard:{type:Boolean}},data:function(){return{hoverCardId:"userHoverCardId-"+(this.user?this.user.id:"unkown"),loadHoverCardData:!1,labelStatus:this.hideLabel}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),{},{userObj:function(){var _this=this,hasUser=this.user&&this.user.id>0,user=hasUser?this.$getProperty(this.user,"name")?this.user:this.users.find((function(usr){return usr.id===_this.user.id})):null;return user||{id:-1,name:"Unknown"}},color:function(){return-1!==this.userObj.id?"":this.group?"#c3c3c3":"#e3e3e3"}}),methods:{loadHoverCard:function(){this.loadHoverCardData=!0},hideHoverCard:function(){this.loadHoverCardData=!1}}},avatar_Uservue_type_script_lang_js=Uservue_type_script_lang_js,User_component=(0,componentNormalizer/* default */.Z)(avatar_Uservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,User=User_component.exports},
/***/855048:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FLookupField}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FLookupField.vue?vue&type=template&id=473d4b8e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isFieldLoading?_c("FieldLoader",{attrs:{isLoading:_vm.isFieldLoading}}):_c("div",{staticClass:"f-lookup-chooser f-lookup-chooser-container"},[_c("el-select",{ref:"selectBox",class:["fc-input-full-border-select2 width100",(!_vm.canHideLookupIcon||_vm.canShowQuickCreateIcon)&&"resource-search",_vm.isMultiple&&"fc-tag",_vm.hideDropDown&&!_vm.disabled&&"skip-disable"],attrs:{"collapse-tags":"",remote:_vm.isRemote,filterable:"",clearable:_vm.canHideLookupIcon,multiple:_vm.isMultiple,popperAppendToBody:_vm.popperAppendToBody,"remote-method":function(searchText){return _vm.remoteMethod(searchText)},loading:_vm.field.isDataLoading,"loading-text":_vm.$t("common._common.searching"),disabled:_vm.disabled||_vm.hideDropDown,placeholder:_vm.field.placeHolderText||"Select"},on:{change:_vm.recordSelected},model:{value:_vm.modelObj,callback:function($$v){_vm.modelObj=$$v},expression:"modelObj"}},[_c("div",{staticClass:"flRight d-flex",class:!_vm.disabled&&"pointer",attrs:{slot:"prefix"},slot:"prefix"},[_vm.canShowSystemClear?_c("div",{staticClass:"flookup-remove-icon-alignment flookup-remove-icon",on:{click:_vm.clearData}},[_c("i",{staticClass:"el-icon-circle-close pointer fc-lookup-icon f13"})]):_vm._e(),_vm.canHideLookupIcon?_vm._e():_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openLookupFieldWizard(_vm.field)}}},[_c("inline-svg",{attrs:{src:"lookup",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1),_vm.canShowQuickCreateIcon?_c("div",{staticClass:"icon-class-alignment",on:{click:function($event){return $event.stopPropagation(),_vm.openQuickCreate()}}},[_c("el-tooltip",{attrs:{effect:"dark",content:"Add\n          "+_vm.moduleDisplayName,placement:"top"}},[_c("inline-svg",{attrs:{src:"add-pink",iconClass:"icon icon-sm-md fc-lookup-icon"}})],1)],1):_vm._e()]),_vm._l(_vm.field.options,(function(option,index){return _c("el-option",{key:option.value+" "+index,staticClass:"fc-input-full-border-select2 width100",attrs:{label:option.label,value:option.value}},[_c("span",{staticClass:"fL"},[_vm._v(_vm._s(option.label))]),_vm.$validation.isEmpty(option.secondaryLabel)?_vm._e():_c("span",{staticClass:"select-float-right-text13"},[_vm._v(_vm._s(option.secondaryLabel))]),_vm.getIsSiteDecommissioned(option)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"select-float-right-text13 pL10",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{staticClass:"fR pT10",attrs:{group:"alert",name:"decommissioning",size:"16"}})],1):_vm._e()])}))],2),_vm.showQuickCreateData?_c("QuickCreateData",{attrs:{canShowDialog:_vm.showQuickCreateData,quickCreateField:_vm.field,setAddedRecord:_vm.setAddedRecord},on:{"update:canShowDialog":function($event){_vm.showQuickCreateData=$event},"update:can-show-dialog":function($event){_vm.showQuickCreateData=$event}}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),validation=(__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(990260)),constant=__webpack_require__(354754),picklist=__webpack_require__(961358),field_utils=__webpack_require__(455344),FieldLoader=__webpack_require__(62979),isEqual=__webpack_require__(618446),isEqual_default=__webpack_require__.n(isEqual),LOOKUP_FIELD_PLACEHOLDER_MAP={people:{value:"${LOGGED_PEOPLE}",label:"Current User"},users:{value:"${LOGGED_USER}",label:"Current User"}},FLookupFieldvue_type_script_lang_js={name:"f-lookup-field",props:{model:{},field:{type:Object},disabled:{type:Boolean},siteId:{type:[Number,String]},categoryId:{type:Number},hideLookupIcon:{type:Boolean,default:!1},popperAppendToBody:{required:!1,type:Boolean,default:!0},fetchOptionsOnLoad:{type:Boolean,default:!0},fetchOptionsMethod:{type:Function},preHookFilterConstruction:{type:Function,default:function(field){return field.filters}},hideDropDown:{type:Boolean,default:!1},skipLoading:{type:Boolean,default:!1},isClearable:{type:Boolean,default:!0},userfilmoduleEnum:{type:String},parentModuleId:{type:Number},selectedOptions:{type:Array}},components:{FieldLoader:FieldLoader/* default */.Z,QuickCreateData:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(99813)]).then(__webpack_require__.bind(__webpack_require__,676433))}},data:function(){return{localSearch:!1,isLoadedOnce:!1,currentModelValue:!1,showQuickCreateData:!1}},computed:{customOptions:function(){var _ref=this||{},field=_ref.field,_ref2=field||{},lookupModule=_ref2.lookupModule;if((0,validation/* isEmpty */.xb)(lookupModule))return[];var _ref3=lookupModule||{},name=_ref3.name;return(0,validation/* isEmpty */.xb)(LOOKUP_FIELD_PLACEHOLDER_MAP[name])?[]:[LOOKUP_FIELD_PLACEHOLDER_MAP[name]]},modelObj:{get:function(){return this.model},set:function(value){this.currentModelValue=value,this.$emit("update:model",value)}},moduleDisplayName:function(){var field=this.field,_ref4=field.field||{},lookupModule=_ref4.lookupModule,_ref5=lookupModule||{},displayName=_ref5.displayName;return displayName},isFieldLoading:function(){var field=this.field,defaultIds=this.defaultIds,skipLoading=this.skipLoading,isLoadedOnce=this.isLoadedOnce;return!skipLoading&&!isLoadedOnce&&!(0,validation/* isEmpty */.xb)(defaultIds)&&field.isDataLoading},isPickListTypeModule:function(){var field=this.field,fieldObj=field.field,_ref6=fieldObj||field,lookupModule=_ref6.lookupModule,_ref7=lookupModule||{},type=_ref7.type;
// type 1 is for base entity modules
return!!type&&1!==type},isRemote:function(){var localSearch=this.localSearch;return!localSearch},canHideLookupIcon:function(){var hideLookupIcon=this.hideLookupIcon,isPickListTypeModule=this.isPickListTypeModule,hideDropDown=this.hideDropDown,field=this.field,userfilmoduleEnum=this.userfilmoduleEnum,_ref8=field||{},config=_ref8.config,canHide=!1;if(!(0,validation/* isEmpty */.xb)(config)){var canShowLookupWizard=this.$getProperty(config,"canShowLookupWizard",null);(0,validation/* isNull */.Ft)(canShowLookupWizard)||(canHide=!canShowLookupWizard)}return!hideDropDown&&("PICK_LIST"===userfilmoduleEnum||(canHide||hideLookupIcon||isPickListTypeModule))},canShowQuickCreateIcon:function(){var disabled=this.disabled,field=this.field,_ref9=field||{},config=_ref9.config,canShow=!1;return(0,validation/* isEmpty */.xb)(config)||(canShow=this.$getProperty(config,"canShowQuickCreate")),disabled&&(canShow=!1),canShow},isSiteEnabled:function(){var siteId=Number(this.$cookie.get("fc.currentSite")),currentSiteId=siteId>0?siteId:-1;return!(0,validation/* isEmpty */.xb)(currentSiteId)},isMultiple:function(){var field=this.field;return!!field.multiple},resourceModuleName:function(){var field=this.field,config=field.config,lookupModuleName=field.lookupModuleName,_ref10=config||{},isFiltersEnabled=_ref10.isFiltersEnabled,filterValue=_ref10.filterValue;if(isFiltersEnabled&&constant/* default */.Z.LOOKUP_FILTER_ENABLED_FIELDS.includes(lookupModuleName)){var moduleName=constant/* default */.Z.LOOKUP_FILTERS_MAP[filterValue];return moduleName}return null},isResourceField:function(){var field=this.field,name=field.name,isResourceField=(0,field_utils/* isChooserTypeField */.Rq)(field)||"resource"===name;return isResourceField},
// To prefill the existing values, we have to send default ids in picklist api
defaultIds:function(){var modelObj=this.modelObj,selectedOptions=this.selectedOptions,isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(modelObj)||!1,defaultIds=[],selectedOptionsArr=(selectedOptions||[]).map((function(option){return parseInt(option)}));return(0,validation/* isEmpty */.xb)(selectedOptions)?(0,validation/* isEmpty */.xb)(modelObj)||isPlaceHoldersEnabled||(defaultIds=(0,validation/* isArray */.kJ)(modelObj)?(0,toConsumableArray/* default */.Z)(modelObj):[modelObj]):defaultIds=(0,toConsumableArray/* default */.Z)(selectedOptionsArr),defaultIds=defaultIds.filter((function(val){return!constant/* default */.Z.FIELD_PLACEHOLDERS.includes(val)})),defaultIds},operatorLookupModule:function(){var field=this.field,_ref11=field||{},operatorLookupModule=_ref11.operatorLookupModule;return operatorLookupModule||{}},skipSiteFilter:function(){var field=this.field,_ref12=field||{},config=_ref12.config,_ref13=config||{},_ref13$skipSiteFilter=_ref13.skipSiteFilter,skipSiteFilter=void 0!==_ref13$skipSiteFilter&&_ref13$skipSiteFilter;return skipSiteFilter},canShowSystemClear:function(){var canHideLookupIcon=this.canHideLookupIcon,isClearable=this.isClearable,modelObj=this.modelObj,disabled=this.disabled;return!canHideLookupIcon&&!disabled&&(isClearable&&!(0,validation/* isEmpty */.xb)(modelObj))}},watch:{model:function(newVal){var _this=this,currentModelValue=this.currentModelValue,isRemote=this.isRemote;isEqual_default()(newVal,currentModelValue)||(isRemote&&this.getOptions({initialFetch:!0}).then((function(options){_this.$set(_this.field,"options",options)})),this.$set(this,"modelObj",newVal))},siteId:{handler:function(newVal,oldVal){var _this2=this,isSiteEnabled=this.isSiteEnabled,skipSiteFilter=this.skipSiteFilter;skipSiteFilter||isSiteEnabled||newVal===oldVal||this.getOptions({initialFetch:!0}).then((function(options){_this2.$set(_this2.field,"options",options)}))}},parentModuleId:{handler:function(newVal,oldVal){var _this3=this;newVal!==oldVal&&this.getOptions({initialFetch:!0}).then((function(options){_this3.$set(_this3.field,"options",options)}))}},operatorLookupModule:{handler:function(newVal,oldVal){var _this4=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this4.$set(_this4.field,"options",options)}))}},"field.clientCriteria":{handler:function(newVal,oldVal){var _this5=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this5.$set(_this5.field,"options",options)}))}},categoryId:{handler:function(newVal,oldVal){var _this6=this;isEqual_default()(newVal,oldVal)||this.getOptions({initialFetch:!0}).then((function(options){_this6.$set(_this6.field,"options",options)}))}},"field.options":{handler:function(value){var modelObj=this.modelObj;if(!(0,validation/* isEmpty */.xb)(value))if((0,validation/* isEmpty */.xb)(modelObj))this.field.selectedItems=[];else if((0,validation/* isArray */.kJ)(modelObj)){var selectedItems=value.filter((function(option){return modelObj.includes(option.value)}));this.field.selectedItems=selectedItems}else{var selectedItem=value.find((function(option){return option.value===modelObj}));this.field.selectedItems=[selectedItem]}},immediate:!0},isLoadedOnce:{handler:function(value){value&&this.$emit("optionsLoadedOnce")}}},created:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var fetchOptionsOnLoad,field,modelObj,customOptions,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:
// Have to skip fetching options initially, when module is 'resource' and filters is not enabled
if(fetchOptionsOnLoad=_this7.fetchOptionsOnLoad,field=_this7.field,modelObj=_this7.modelObj,customOptions=_this7.customOptions,_this7.currentModelValue=modelObj,_this7.getIsSiteDecommissioned=picklist/* getIsSiteDecommissioned */.Yx,!fetchOptionsOnLoad){_context2.next=12;break}return _context2.next=6,_this7.getOptions({initialFetch:!0});case 6:if(_context2.t0=_context2.sent,_context2.t0){_context2.next=9;break}_context2.t0=[];case 9:options=_context2.t0,_this7.$set(_this7.field,"options",[].concat((0,toConsumableArray/* default */.Z)(customOptions),(0,toConsumableArray/* default */.Z)(options))),_this7.$set(_this7,"isLoadedOnce",!0);case 12:_this7.remoteMethod=_this7.$helpers.debounce(function(){var _ref14=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(searchText){var isDataLoading,_options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(isDataLoading=field.isDataLoading,isDataLoading){_context.next=6;break}return _context.next=4,_this7.getOptions({searchText:searchText});case 4:_options=_context.sent,_this7.$set(_this7.field,"options",_options);case 6:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref14.apply(this,arguments)}}(),1e3);case 13:case"end":return _context2.stop()}}),_callee2)})))()},methods:{focus:function(){(0,validation/* isEmpty */.xb)(this.$refs["selectBox"])||this.$refs["selectBox"].focus()},getOptions:function(params){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var searchText,initialFetch,fetchOptionsMethod,field,siteId,categoryId,isRemote,defaultIds,resourceModuleName,isResourceField,skipSiteFilter,selectedOptions,_field$filters,fieldFilters,options,filters,props,perPageCount,_yield$_this8$fetchOp,_yield$_this8$fetchOp2,optionsArr,error,_ref15,message,_yield$getFieldOption,_yield$getFieldOption2,_optionsArr,_error,meta,_ref16,_message,_meta$localSearch,localSearch;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:
/*
                Have to return empty options if field is of resourcetype, if filters havent be enabled
                and if no values selected already
              */
if(searchText=params.searchText,initialFetch=params.initialFetch,fetchOptionsMethod=_this8.fetchOptionsMethod,field=_this8.field,siteId=_this8.siteId,categoryId=_this8.categoryId,isRemote=_this8.isRemote,defaultIds=_this8.defaultIds,resourceModuleName=_this8.resourceModuleName,isResourceField=_this8.isResourceField,skipSiteFilter=_this8.skipSiteFilter,selectedOptions=_this8.selectedOptions,_field$filters=field.filters,fieldFilters=void 0===_field$filters?{}:_field$filters,options=[],(0,validation/* isEmpty */.xb)(resourceModuleName)||(field.resourceLookupModuleName=resourceModuleName),filters=_this8.preHookFilterConstruction(field),(0,validation/* isEmpty */.xb)(filters)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},fieldFilters),filters)),(0,validation/* isEmpty */.xb)(categoryId)||(field.filters=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field.filters),{},{category:{operator:"is",value:["".concat(categoryId)]}})),props={field:field,searchText:searchText},skipSiteFilter||(props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{siteId:siteId})),!(isResourceField&&(0,validation/* isEmpty */.xb)(resourceModuleName)&&(0,validation/* isEmpty */.xb)(defaultIds))){_context3.next=12;break}return _context3.abrupt("return",options);case 12:if(initialFetch&&isRemote&&(perPageCount=defaultIds.length>50?defaultIds.length:50,props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{page:1,perPage:perPageCount,defaultIds:defaultIds}),((0,validation/* isEmpty */.xb)(resourceModuleName)&&isResourceField||!(0,validation/* isEmpty */.xb)(selectedOptions))&&(
// Have to fetch only selected values, which is same as the number of defaultids
props=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},props),{},{perPage:defaultIds.length}))),_this8.$set(field,"isDataLoading",!0),(0,validation/* isEmpty */.xb)(fetchOptionsMethod)){_context3.next=25;break}return _context3.next=17,_this8.fetchOptionsMethod(props);case 17:_yield$_this8$fetchOp=_context3.sent,_yield$_this8$fetchOp2=_yield$_this8$fetchOp.options,optionsArr=void 0===_yield$_this8$fetchOp2?[]:_yield$_this8$fetchOp2,error=_yield$_this8$fetchOp.error,error&&(_ref15=error||{},message=_ref15.message,_this8.$message.error(message||"Error Occured")),options=optionsArr,_context3.next=35;break;case 25:return _context3.next=27,(0,picklist/* getFieldOptions */._K)(props);case 27:_yield$getFieldOption=_context3.sent,_yield$getFieldOption2=_yield$getFieldOption.options,_optionsArr=void 0===_yield$getFieldOption2?[]:_yield$getFieldOption2,_error=_yield$getFieldOption.error,meta=_yield$getFieldOption.meta,_error&&(_ref16=_error||{},_message=_ref16.message,_this8.$message.error(_message||"Error Occured")),meta&&(0,validation/* isEmpty */.xb)(searchText)&&(_meta$localSearch=meta.localSearch,localSearch=void 0!==_meta$localSearch&&_meta$localSearch,_this8.$set(_this8,"localSearch",localSearch)),options=_optionsArr;case 35:return _this8.$set(field,"isDataLoading",!1),_context3.abrupt("return",options);case 37:case"end":return _context3.stop()}}),_callee3)})))()},clearData:function(){this.$emit("update:model",""),this.recordSelected("")},recordSelected:function(value){var field=this.field,_this$field$options=this.field.options,options=void 0===_this$field$options?[]:_this$field$options,isMultiple=this.isMultiple,selectedValues=null;isMultiple?(selectedValues=options.filter((function(e){return(value||[]).includes(e.value)})),field.selectedItems=selectedValues):(selectedValues=options.find((function(e){return e.value==value}))||{},field.selectedItems=[],(0,validation/* isEmpty */.xb)(selectedValues)||(field.selectedItems=[selectedValues])),this.$emit("recordSelected",selectedValues,field)},openLookupFieldWizard:function(field){var disabled=this.disabled;disabled||this.$emit("showLookupWizard",field,!0)},openQuickCreate:function(){var disabled=this.disabled;disabled||(this.showQuickCreateData=!0)},setAddedRecord:function(props){var record=props.record,_ref17=record||{},id=_ref17.id,name=record.displayName||record.name||record.subject,field=this.field;field.selectedItems=[{value:id,label:name}],this.$emit("setLookupFieldValue",{field:(0,objectSpread2/* default */.Z)({},field)})}}},forms_FLookupFieldvue_type_script_lang_js=FLookupFieldvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FLookupFieldvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FLookupField=component.exports},
/***/62979:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FieldLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/FieldLoader.vue?vue&type=template&id=7252e23e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isLoading?_c("div",{staticClass:"field-loading loading-shimmer"}):_vm._e()},staticRenderFns=[],FieldLoadervue_type_script_lang_js={props:{isLoading:{type:Boolean,required:!0}}},forms_FieldLoadervue_type_script_lang_js=FieldLoadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_FieldLoadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FieldLoader=component.exports},
/***/874249:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return RichTextArea}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/forms/RichTextArea.vue?vue&type=template&id=7711575b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.isRichText?_c("div",{staticClass:"richtext-area"},[_c("RichText",{style:{minHeight:_vm.minHeight,maxHeight:_vm.maxHeight,overflow:_vm.overflow},attrs:{readOnly:_vm.disabled,placeholder:_vm.placeholder,hideImgTool:_vm.hideImgTool,hideUnorderedList:_vm.hideUnorderedList,hideOrderedList:_vm.hideOrderedList,secondaryToolbar:_vm.secondaryToolbar,istoolbarPositionBottom:_vm.istoolbarPositionBottom,isMoreOption:_vm.isMoreOption,customToolOrder:_vm.customToolOrder,iconColor:_vm.iconColor},scopedSlots:_vm._u([_vm.canShowModeToggle?{key:"editorMode",fn:function(){return[_c("div",{staticClass:"self-center marginL-auto mR15 cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.plain_text_mode"))+" ")])]},proxy:!0}:null],null,!0),model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1):_c("div",{staticClass:"richtext-area plain-text-mode"},[_c("div",{staticClass:"richtext-editor"},[_c("div",{staticClass:"richtext-toolbar"},[_c("div",{staticClass:"toolbar-button marginL-auto cursor-pointer mode-btn",on:{click:function($event){return _vm.changeMode()}}},[_vm._v(" "+_vm._s(_vm.$t("forms.builder.switch_to_richtext"))+" ")])]),_c("el-input",{key:"plain-text",staticClass:"richtext-content",attrs:{type:"textarea",resize:"none",placeholder:_vm.placeholder},model:{value:_vm.content,callback:function($$v){_vm.content=$$v},expression:"content"}})],1)])},staticRenderFns=[],ui_forms=(__webpack_require__(879288),__webpack_require__(141323)),filters=__webpack_require__(638203),RichTextAreavue_type_script_lang_js={props:{value:{type:String},field:{type:Object},rows:{type:Number,default:10},maxRows:{type:Number,default:12},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"Enter text here"},isEdit:{type:Boolean,default:!1},hideImgTool:{type:Boolean,default:!1},hideOrderedList:{type:Boolean,default:!1},hideUnorderedList:{type:Boolean,default:!1},isRichTextMode:{type:Boolean,default:!0},canShowModeToggle:{type:Boolean,default:!1},istoolbarPositionBottom:{type:Boolean},customToolOrder:{type:Array},isMoreOption:{type:Boolean},secondaryToolbar:{type:Boolean},iconColor:{type:String}},components:{RichText:ui_forms/* RichText */.Ho},computed:{content:{get:function(){return this.value},set:function(value){this.$emit("input",value)}},isRichText:{get:function(){return this.isRichTextMode},set:function(value){this.$emit("update:isRichTextMode",value)}},
// Assuming a <p></p> tag inside editor
// has fonts-size 1rem and margin-bottom 1rem
minHeight:function(){return"".concat(2*this.rows,"rem")},maxHeight:function(){return"".concat(2*this.maxRows,"rem")},overflow:function(){return"hidden"}},methods:{changeMode:function(){var isRichText=this.isRichText,value=this.value;if(isRichText)this.showConfirmModeSwitch();else{var htmlContent="<p>".concat(value,"</p>");this.content=htmlContent,this.proceedChangingModes()}},showConfirmModeSwitch:function(){var _this=this,dialogObj={htmlMessage:"".concat(this.$t("forms.builder.switch_alert")),rbDanger:!0,rbLabel:"Confirm"};this.$dialog.confirm(dialogObj).then((function(canProceed){if(canProceed){var value=_this.value,textContent=(0,filters/* htmlToText */.s9)(value);_this.content=textContent,_this.proceedChangingModes()}}))},proceedChangingModes:function(){var isRichText=this.isRichText;this.isRichText=!isRichText}}},forms_RichTextAreavue_type_script_lang_js=RichTextAreavue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_RichTextAreavue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,RichTextArea=component.exports},
/***/786113:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkOrderSpecialFieldsList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/WorkOrderSpecialFieldsList.vue?vue&type=template&id=c5129894
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",["resource"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position",staticStyle:{"min-width":"170px"}},[_vm.$validation.isEmpty(_vm.moduleData.resource)||_vm.$validation.isEmpty(_vm.moduleData.resource.id)?_c("div",[_c("span",{staticClass:"q-item-label secondary-color color-d"},[_vm._v("--- "+_vm._s(_vm.$t("maintenance.wr_list.space_asset"))+" ---")])]):_c("div",[_c("div",{staticClass:"flLeft mR7"},[1===_vm.moduleData.resource.resourceType?_c("img",{staticStyle:{height:"12px",width:"14px"},attrs:{src:__webpack_require__(572902)}}):_c("img",{staticStyle:{height:"11px",width:"14px"},attrs:{src:__webpack_require__(30684)}})]),_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"flLeft q-item-label ellipsis max-width140px",attrs:{small:"","data-position":"bottom",title:_vm.moduleData.resource.name}},[_vm._v(_vm._s(_vm.moduleData.resource.name))])])]):"assignedTo"===_vm.field.name?_c("div",{staticClass:"q-item-division relative-position wo_assignedto_avatarblock"},[_c("div",{staticClass:"wo-assigned-avatar fL"},[_c("user-avatar",{attrs:{size:"md",user:_vm.moduleData.assignedTo,group:_vm.moduleData.assignmentGroup,showLabel:!0,moduleName:"lookupModuleName"}})],1)]):"noOfNotes"===_vm.field.name?_c("div",[_vm._m(0),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.notesLabel))])]):"noOfTasks"===_vm.field.name?_c("div",[_vm.canShowTaskIcon?_c("inline-svg",{staticClass:"vertical-middle cursor-pointer",attrs:{src:"svgs/task-list",iconClass:"icon icon-sm mT5 mR5 task-icon"}}):_vm._e(),_c("span",{staticClass:"q-item-sublabel pL5"},[_vm._v(_vm._s(_vm.taskLabel))])],1):"noOfAttachments"===_vm.field.name?_c("div",{staticStyle:{float:"left"}},[_vm._m(1),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(_vm._s(_vm.attachmentLabel))])]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(293656)}})])},function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(345265)}})])}],User=(__webpack_require__(634338),__webpack_require__(426803)),validation=__webpack_require__(990260),WorkOrderSpecialFieldsListvue_type_script_lang_js={components:{UserAvatar:User/* default */.Z},props:["field","moduleData"],computed:{canShowTaskIcon:function(){var moduleData=this.moduleData;return!(0,validation/* isEmpty */.xb)(moduleData.noOfTasks)&&0!==moduleData.noOfNotes},taskLabel:function(){var moduleData=this.moduleData,noOfTasks=moduleData.noOfTasks,noOfNotes=moduleData.noOfNotes,noOfClosedTasks=moduleData.noOfClosedTasks,taskLabel="---";return(0,validation/* isEmpty */.xb)(noOfTasks)||0===noOfNotes?taskLabel:(0,validation/* isEmpty */.xb)(noOfClosedTasks)?"0":"".concat(noOfClosedTasks,"/").concat(noOfTasks)},notesLabel:function(){var moduleData=this.moduleData,noOfNotes=moduleData.noOfNotes;return(0,validation/* isEmpty */.xb)(noOfNotes)||0===noOfNotes?"0":moduleData.noOfNotes},attachmentLabel:function(){var moduleData=this.moduleData,_ref=moduleData||{},noOfAttachments=_ref.noOfAttachments;return(0,validation/* isEmpty */.xb)(noOfAttachments)||0===noOfAttachments?"0":noOfAttachments}}},list_WorkOrderSpecialFieldsListvue_type_script_lang_js=WorkOrderSpecialFieldsListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_WorkOrderSpecialFieldsListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderSpecialFieldsList=component.exports},
/***/806339:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/page/widget/utils/WidgetPagination.vue?vue&type=template&id=6b10cd5b
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-widget-pagination"},[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_vm._v(" of "+_vm._s(_vm.total)+" "),_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],WidgetPaginationvue_type_script_lang_js={props:["currentPage","perPage","total","hideToggle"],data:function(){return{from:0,to:0,page:1}},mounted:function(){this.init()},watch:{total:function(){this.init()},currentPage:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage||1,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.updateCurrentPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.updateCurrentPage()},updateCurrentPage:function(){
// Update currentPage value
this.$emit("update:currentPage",this.page),this.$emit("onChange")}}},utils_WidgetPaginationvue_type_script_lang_js=WidgetPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(utils_WidgetPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WidgetPagination=component.exports},
/***/930871:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FilterCondition}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/FilterCondition.vue?vue&type=template&id=07f5ab06&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"filter-condition-container"},[_c("el-popover",{attrs:{value:!0,visibleArrow:!1,popperClass:_vm.popoverClass}},[_c("outside-click",{staticClass:"filter-condition-block",attrs:{visibility:!0},on:{onOutsideClick:function($event){return _vm.close()}}},[_c("div",{staticClass:"filter-condition-body"},[_vm.isTag?_c("div",{staticClass:"fc-dark-blue-txt13 f13 pointer mL10 pT10 pB10 fwBold",on:{click:function($event){return $event.stopPropagation(),_vm.$emit("back")}}},[_c("i",{staticClass:"el-icon-back fw6 mR10 fc-dark-blue-txt13"}),_vm._v(" Back to Filter List ")]):_vm._e(),_vm.currentFilterProxy?_c("div",{staticClass:"filter-condition-radion-btn pT10"},[_vm.dateTimeFields.includes(_vm.fieldName)||["DATE_TIME","DATE"].includes(_vm.currentFilterProxy.operator)?_c("div",[_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-radio",{key:value,staticClass:"fc-radio-btn pB10",attrs:{label:value},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" "+_vm._s(label)+" ")])})),"date"===_vm.currentFilterProxy.type?_c("div",[_vm.currentFilterProxy.hideDateRange?_vm._e():_c("el-radio",{staticClass:"fc-radio-btn pB10",attrs:{label:"20",value:"20"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},[_vm._v(" Custom ")]),"20"===_vm.currentFilterValueProxy?_c("f-date-picker",{staticClass:"position-relative fc-subheader-right-search",attrs:{type:"datetimerange","value-format":"timestamp",format:"dd-MM-yyyy HH:mm"},on:{change:_vm.applyFilters},model:{value:_vm.currentFilterProxy.dateRange,callback:function($$v){_vm.$set(_vm.currentFilterProxy,"dateRange",$$v)},expression:"currentFilterProxy.dateRange"}}):_vm._e()],1):_vm._e()],2):_c("div",{staticClass:"filter-radio-display"},[_vm._l(_vm.conditionList,(function(condition){return[_vm.allowedConditions(condition)?_c("el-radio",{key:condition.operatorId,staticClass:"fc-radio-btn pB10",attrs:{label:condition.operatorId},model:{value:_vm.operatorId,callback:function($$v){_vm.operatorId=$$v},expression:"operatorId"}},[_vm._v(" "+_vm._s(condition.operator)+" "),"select"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-select",{staticClass:"search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{multiple:"","collapse-tags":"",filterable:"",placeholder:"Select"},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}},_vm._l(_vm.currentFilterProxy.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1)],1),["resourceType","lookup"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_vm.$fieldUtils.isLookupDropDownField(_vm.metaInfo.fields.find((function(v){return v.name===_vm.fieldName})))?_c("FLookupFieldWrapper",{staticClass:"search-input-comp search-select-comp2 fc-tag mT10 search-filter-border-left fc-search-select-width select-border-left",attrs:{hideDropDown:_vm.hideDropDownForLookup,field:_vm.getFieldObj(_vm.currentFilterProxy,_vm.fieldName),label:_vm.currentFilterProxy.selectedLabel},on:{recordSelected:_vm.setLookUpFilter,showingLookupWizard:function($event){_vm.showingLookupWizard=!0}},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}}):_vm._e()],1):_vm._e(),"string"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"text",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"number"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),"decimal"!==_vm.currentFilterProxy.displayType||[1,2].includes(condition.operatorId)||condition.operatorId!==_vm.operatorId?_vm._e():_c("div",[_c("el-input",{staticClass:"width270px fc-input-full-border2 filter-condition-input",attrs:{type:"number",autofocus:!0},model:{value:_vm.currentFilterValueProxy,callback:function($$v){_vm.currentFilterValueProxy=$$v},expression:"currentFilterValueProxy"}})],1),["asset","space"].includes(_vm.currentFilterProxy.displayType)&&![1,2].includes(condition.operatorId)&&condition.operatorId===_vm.operatorId?_c("div",[_c("div",{staticClass:"resource-list"},[_c("el-select",{staticClass:"multi resource-list el-input-textbox-full-border fc-tag mT1 fc-search-select-width mT10 search-filter-border-left",attrs:{filterable:"",multiple:"","collapse-tags":"",value:_vm.$validation.isEmpty(_vm.currentFilterValueProxy)?null:[1],disabled:""}},[_c("el-option",{attrs:{label:_vm.spaceAssetFilter,value:1}})],1),_c("i",{staticClass:"el-input__icon el-icon-search filter-spacce-condition-search",attrs:{slot:"suffix"},on:{click:function($event){return _vm.spaceAssetProps(_vm.currentFilterProxy)}},slot:"suffix"})],1),_vm.chooserVisibility?_c("space-asset-multi-chooser",{staticClass:"fc-input-full-border-select2",attrs:{showAsset:"asset"===_vm.currentFilterProxy.displayType,initialValues:_vm.initialValues,visibility:_vm.chooserVisibility,hideBanner:!0},on:{associate:function($event){return _vm.associateResource($event,_vm.currentFilterProxy)},"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e()],1):_vm._e()]):_vm._e()]}))],2)]):_vm._e()]),_c("div",{staticClass:"search-select-filter-btn"},[_c("el-button",{staticClass:"btn-green-full filter-footer-btn fw-bold",on:{click:function($event){return _vm.applyFilters()}}},[_vm._v(" DONE ")])],1)])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),OutsideClick=(__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(21864)),validation=__webpack_require__(990260),SpaceAssetMultiChooser=__webpack_require__(673362),FDatePicker=__webpack_require__(358551),SearchTagMixin=__webpack_require__(200689),FLookupFieldWrapper=__webpack_require__(201117),FilterConditionvue_type_script_lang_js={props:["fieldName","isTag","popClass","hideDropDownForLookup"],components:{SpaceAssetMultiChooser:SpaceAssetMultiChooser/* default */.Z,FDatePicker:FDatePicker/* default */.Z,OutsideClick:OutsideClick/* default */.Z,FLookupFieldWrapper:FLookupFieldWrapper/* default */.Z},mixins:[SearchTagMixin/* default */.Z],data:function(){return{initialValues:null,chooserVisibility:!1,excludeOperators:[74,75,76,77,78,79,35,87,52,53],operatorId:null,operators:{subject:"STRING",title:"STRING",primaryContactName:"STRING",description:"STRING",name:"STRING",primaryContactEmail:"STRING",primaryContactPhone:"STRING",assetCategoryId:"LOOKUP",kpiCategory:"LOOKUP",assetDepartment:"LOOKUP",siteId:"LOOKUP",assetType:"LOOKUP",category:"LOOKUP",dueDate:"DATE",actualWorkEnd:"DATE",space:"LOOKUP",visitedSpace:"LOOKUP",asset:"LOOKUP",resource:"LOOKUP",sourceType:"NUMBER",ticketType:"LOOKUP",typeId:"LOOKUP",status:"LOOKUP",moduleState:"LOOKUP",assignedTo:"LOOKUP",registeredBy:"LOOKUP",executedBy:"LOOKUP",frequency:"LOOKUP",createdTime:"LOOKUP",tasks:"LOOKUP",priority:"LOOKUP",alarmType:"NUMBER",acknowledgedBy:"LOOKUP",severity:"LOOKUP",previousSeverity:"LOOKUP",readingAlarmCategory:"LOOKUP",readingrule:"LOOKUP",tenant:"LOOKUP"},popoverClass:"right-0 p0",showingLookupWizard:!1}},computed:{currentFilterProxy:{get:function(){var fieldName=this.fieldName,filterObjectsData=this.filterObjectsData;return filterObjectsData[fieldName]||{}},set:function(value){var filterObjectsData=this.filterObjectsData,fieldName=this.fieldName;this.$set(filterObjectsData,fieldName,value)}},currentFilterValueProxy:{get:function(){var currentFilterProxy=this.currentFilterProxy;return currentFilterProxy.value||[]},set:function(value){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value})}},spaceAssetFilter:function(){var currentFilterProxy=this.currentFilterProxy,filter="";return(0,validation/* isEmpty */.xb)(currentFilterProxy.value)||(filter=currentFilterProxy.value.length,"asset"===currentFilterProxy.displayType?filter+="Asset":filter+="Space",currentFilterProxy.value.length>1&&(filter+="s")),filter},conditionList:function(){var type=this.$getProperty(this.operators,this.fieldName,null),_ref=this.metaInfo||{},_ref$operators=_ref.operators,operators=void 0===_ref$operators?{}:_ref$operators;return(0,validation/* isEmpty */.xb)(type)?(type=this.currentFilterProxy,operators[type.operator]):operators[type]}},watch:{fieldName:{handler:function(){var currentFilterProxy=this.currentFilterProxy;this.operatorId=this.$getProperty(currentFilterProxy,"operatorId",null)},immediate:!0},popClass:{handler:function(newValue){newValue&&(this.popoverClass=newValue,this.popoverClass+=" p0")},immediate:!0}},methods:{allowedConditions:function(label){return!("BUILDING_IS"===label._name&&"space"!==this.fieldName||"LOOKUP"===label._name||this.excludeOperators.includes(label.operatorId))},associateResource:function(resource,field){this.chooserVisibility=!1,field.value=resource.resourceList?resource.resourceList.map((function(res){return res.id})):[],this.applyFilters()},applyFilters:function(){this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{operatorId:this.operatorId}),this.applyFilter(),this.close()},close:function(){this.chooserVisibility||this.showingLookupWizard||this.$emit("close")}}},components_FilterConditionvue_type_script_lang_js=FilterConditionvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FilterConditionvue_type_script_lang_js,render,staticRenderFns,!1,null,"07f5ab06",null)
/* harmony default export */,FilterCondition=component.exports},
/***/200689:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SearchTagMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js
var render,staticRenderFns,defineProperty=__webpack_require__(482482),slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(336585),__webpack_require__(450886),__webpack_require__(212826),__webpack_require__(420629)),validation=__webpack_require__(990260),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),SPACE_FIELDS=["space","visitedSpace","resourceIdSpace"],OPERATOR_CHECK={isEmpty:1,isNotEmpty:2,related:88},SearchTagMixinvue_type_script_lang_js={created:function(){var moduleName=this.moduleName,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)&&moduleName){var promises=[this.$store.dispatch("loadTicketType"),this.$store.dispatch("loadAssetType"),this.$store.dispatch("loadRoles"),this.$store.dispatch("loadAssetDepartment"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadInventoryCategory"),this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadAlarmSeverity"),this.$store.dispatch("loadReadingAlarmCategory"),this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadTicketStatus",moduleName),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadUsers")];this.searchMetaInfo||promises.push(this.$store.dispatch("view/loadModuleMeta",moduleName)),Promise.all(promises).catch((function(){})).finally(this.initSearchFields)}},data:function(){return{excludeCustomfieldsForSpecificModules:["readingrule","preventivemaintenance"],dateTimeFields:["createdTime","dueDate","responseDueDate","actualWorkEnd","acknowledgedTime","warrantyExpiryDate","clearedTime","modifiedTime"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({showSearch:function(state){return state.search.active},users:function(state){return state.users},groups:function(state){return state.groups},viewMetaInfo:function(state){return state.view.metaInfo}})),(0,vuex_esm/* mapGetters */.Se)({getFilterConfig:"search/getFilterConfig"})),{},{metaInfo:function(){return this.viewMetaInfo},appliedFilters:function(){var $route=this.$route,_ref=$route||{},search=_ref.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(this.$route.query.search)},filterObjectsData:{get:function(){var config=this.getFilterConfig;return this.$getProperty(config,"data",null)},set:function(value){var config=this.getFilterConfig||{};this.$store.dispatch("search/updateFilterConfig",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},config),{},{data:value}))}}}),watch:{moduleName:function(newVal,oldVal){if(newVal&&newVal!==oldVal&&(0,validation/* isUndefined */.o8)(this.singleFieldFilterObj)){var moduleName=this.moduleName,excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName),payload={moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:this.includeAllMetaFields};this.searchMetaInfo||this.$store.dispatch("view/loadModuleMeta",newVal),this.$store.dispatch("loadTicketStatus",newVal),this.$store.dispatch("search/init",payload)}}},methods:{initSearchFields:function(){var _this=this,singleFieldFilterObj=this.singleFieldFilterObj;if((0,validation/* isUndefined */.o8)(singleFieldFilterObj)){if(this.config){var config=cloneDeep_default()(this.config);this.$store.dispatch("search/updateFilterConfig",config)}var excludeCustomfieldsForSpecificModules=this.excludeCustomfieldsForSpecificModules,moduleName=this.moduleName,metaInfo=this.metaInfo,includeAllMetaFields=this.includeAllMetaFields,canAddCustomFields=moduleName&&!excludeCustomfieldsForSpecificModules.includes(moduleName);this.$store.dispatch("search/init",{moduleName:moduleName,canAddCustomFields:canAddCustomFields,includeAllMetaFields:includeAllMetaFields,metaInfo:metaInfo}).finally((function(){return _this.setFilterApplied()}))}},getFieldObj:function(currentFilterProxy,fieldName){var metaInfo=this.metaInfo;if(88!==currentFilterProxy.operatorId){var searchFieldName=fieldName;["resourceIdSpace","resourceIdAsset"].includes(fieldName)&&(searchFieldName="space");var fieldObj=metaInfo.fields.find((function(field){return field.name===searchFieldName}));return"resourceType"===currentFilterProxy.displayType&&this.$set(fieldObj,"multiple",!0),"siteId"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"site",displayName:"Site"}),this.$set(fieldObj,"multiple",!0)):"resourceIdSpace"===fieldName?(this.$set(fieldObj,"lookupModule",{name:"basespace",displayName:"Space"}),this.$set(fieldObj,"multiple",!0)):"resourceIdAsset"===fieldName&&(this.$set(fieldObj,"lookupModule",{name:"asset",displayName:"Asset"}),this.$set(fieldObj,"multiple",!0)),fieldObj}return"siteId"===fieldName?{lookupModule:{name:"site"}}:{lookupModule:{name:fieldName}}},setFilterApplied:function(){var _this2=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{}),filterObjectsData=clone_default()(this.filterObjectsData||{});Object.entries(filterObjectsData).forEach((function(_ref2){var _ref3=(0,slicedToArray/* default */.Z)(_ref2,2),fieldName=_ref3[0],filterData=_ref3[1],key=filterData.key?filterData.key:fieldName;if(filters.includes(key)){var filterObj=_this2.$getProperty(appliedFilters,key,{});(0,validation/* isArray */.kJ)(filterObj)&&(filterObj=filterObj[0]);var _filterObj=filterObj,operatorId=_filterObj.operatorId,value=_filterObj.value,selectedLabel=_filterObj.selectedLabel,_ref4=_this2.getFieldObj({},"siteId")||{},_ref4$multiple=_ref4.multiple,multiple=void 0!==_ref4$multiple&&_ref4$multiple;if(["string","number"].includes(filterData.displayType))filterData.value=(0,validation/* isEmpty */.xb)(value)?"":value[0];else if("lookup"===filterData.displayType)
//filterData.value = !isEmpty(value) ? value[0] : '' // replacement for this is given in below if-else condition
!(0,validation/* isEmpty */.xb)(value)&&(0,validation/* isArray */.kJ)(value)&&value.length>0?multiple||1!=value.length?filterData.value=value:filterData.value=value[0]:filterData.value="",filterData.selectedLabel=selectedLabel;else if(filterData.customdate){if(!(0,validation/* isEmpty */.xb)(value)){var dateRange=value.map((function(date){return parseInt(date)}));filterData.dateRange=dateRange}filterData.value=operatorId+""}else filterData.value=value;filterData.operatorId=operatorId}})),this.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.filterObjectsData),filterObjectsData)},spaceAssetProps:function(filterData){this.chooserVisibility=!0;var selectedResources=this.$getProperty(filterData,"value",[]).map((function(id){return{id:parseInt(id)}}));this.initialValues={isIncludeResource:!0,selectedResources:selectedResources}},operatorIdForFields:function(filterData,fieldName){var operatorId;return operatorId=(0,validation/* isEmpty */.xb)(filterData.operatorId)?"resourceIdSpace"===fieldName||"resourceIdAsset"===fieldName?15:SPACE_FIELDS.includes(fieldName)?38:["subject","name","title"].includes(fieldName)||"STRING"===this.$getProperty(filterData,"operator","")?5:["sourceType","alarmType"].includes(fieldName)||["NUMBER","DECIMAL"].includes(this.$getProperty(filterData,"operator",""))?9:"isAcknowledged"===fieldName||"BOOLEAN"===this.$getProperty(filterData,"operator","")?15:"ENUM"===this.$getProperty(filterData,"operator","")?54:36:filterData.operatorId,operatorId},setOperatorId:function(fieldData,fieldName){var returnId=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,validation/* isEmpty */.xb)(fieldName)&&(fieldName=this.fieldName),(0,validation/* isEmpty */.xb)(fieldData)&&(fieldData=this.$getProperty(this.filterObjectsData,fieldName,null));var operatorId=this.operatorIdForFields(fieldData,fieldName);if(returnId)return operatorId;this.$setProperty(fieldData,"operatorId",operatorId)},constructDateFilter:function(filterValue,fieldName){filterValue=filterValue.split("_");var operatorId=1===filterValue.length?parseInt(filterValue[0]):parseInt(filterValue[1]),filter={operatorId:operatorId};if(20===operatorId){var filterData=this.$getProperty(this.filterObjectsData,fieldName,null),dateRange=this.$getProperty(filterData,"dateRange",null);if((0,validation/* isEmpty */.xb)(dateRange))return!1;filter.value=dateRange.map((function(date){return date+""}))}else[39,40,41,50,59,60,61].includes(operatorId)&&(filter.value=[filterValue[0]]);return filter},setCustomDateFilters:function(filters,fieldName){var filter,_this3=this,filterData=this.$getProperty(this.filterObjectsData,fieldName),filterVal=filterData.value,key=filterData.key||fieldName;(0,validation/* isArray */.kJ)(filterVal)?(filters[key]=[],filterVal.forEach((function(fval){filter=_this3.constructDateFilter(fval,fieldName),filter&&filters[key].push(filter)}))):(filter=this.constructDateFilter(filterVal,fieldName),filter&&(filters[key]=filter))},applyFilter:function(filterData){(0,validation/* isEmpty */.xb)(filterData)?filterData=this.filterObjectsData:this.filterObjectsData=filterData;var filters=this.formatDataForFilter(filterData);(0,validation/* isEmpty */.xb)(filters)?this.$store.dispatch("search/resetFilters"):this.$store.dispatch("search/applyFilters",filters),this.showFilterCondition=!1,this.close()},formatDataForFilter:function(filterData){var _this4=this,filters={},_loop=function(){var field=filterData[fieldName],key=field.key?field.key:fieldName;if(!(0,validation/* isEmpty */.xb)(field.value)||[OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId))if(field.customdate)_this4.setCustomDateFilters(filters,fieldName);else{var filterObj={operatorId:_this4.setOperatorId(field,fieldName,!0)};if([OPERATOR_CHECK.isEmpty,OPERATOR_CHECK.isNotEmpty].includes(field.operatorId)){var _ref5=_this4.$getProperty(filterData,fieldName,null)||{},operator=_ref5.operator;["subject","name","title"].includes(fieldName)||!(0,validation/* isEmpty */.xb)(operator)&&"STRING"===operator?field.value="":field.value=[]}if("assignedTo"===fieldName){var users=[],groups=[];field.value.forEach((function(user){-1!==user.indexOf("_group")?groups.push(user.substring(0,user.indexOf("_group"))):users.push(user)})),users.length&&(filterObj.value=users),groups.length&&(filterObj.value=groups,key="assignedToId"===key?"assignmentGroupId":"assignmentGroup"),filters[key]=filterObj}else{var value;if((0,validation/* isArray */.kJ)(field.value)?(0,validation/* isObject */.Kn)(field.value[0])?(field.value[0].value=_this4.$getProperty(field.value[0],"value")+"",value=field.value):value=field.value.map((function(val){return val+""})):value=[field.value],filterObj.value=value,SPACE_FIELDS.includes(fieldName)||"asset"===fieldName||"resourceIdAsset"==fieldName?(key=field.key||fieldName,filters[key]||(filters[key]=[]),(0,validation/* isObject */.Kn)(filters[key])?(0,validation/* isEmpty */.xb)(filters[key].value)||(filters[key]=(0,objectSpread2/* default */.Z)({},filterObj)):filters[key].push(filterObj)):filters[key]=filterObj,"lookup"===field.displayType){
//Since fieldValue is array of only one object
(0,validation/* isArray */.kJ)(filters[key])&&(filters[key]=filters[key][0]);var fieldValue=filters[key].value,_ref6=_this4.getFieldObj(field,fieldName)||{},_ref6$multiple=_ref6.multiple,multiple=void 0!==_ref6$multiple&&_ref6$multiple;(0,validation/* isArray */.kJ)(fieldValue)&&!multiple&&(fieldValue=fieldValue[0]),filters[key]["selectedLabel"]=field.selectedLabel,
// filters[key].value = !isEmpty(fieldValue) ? [fieldValue.toString()]: []
(0,validation/* isEmpty */.xb)(fieldValue)?filters[key].value=[]:filters[key].value=multiple?fieldValue:[fieldValue.toString()],OPERATOR_CHECK.related===field.operatorId&&(filters[key].relatedFieldName=field.relatedFieldName)}}}};for(var fieldName in filterData)_loop();return filters},setLookUpFilter:function(filter){if((0,validation/* isArray */.kJ)(filter)){var valueArr=[];filter.forEach((function(item){var key=item.hasOwnProperty("id")?"id":"value";valueArr.push(item[key])})),this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:valueArr})}else{var value=filter.value,selectedLabel=filter.label;this.currentFilterProxy=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.currentFilterProxy),{},{value:value,selectedLabel:selectedLabel})}this.showingLookupWizard=!1,this.applyFilter()},resetFilterData:function(){var _this5=this,appliedFilters=(0,validation/* isEmpty */.xb)(this.appliedFilters)?{}:this.appliedFilters,filters=Object.keys(appliedFilters||{});Object.entries(this.filterObjectsData||{}).forEach((function(_ref7){var _ref8=(0,slicedToArray/* default */.Z)(_ref7,2),fieldName=_ref8[0],filterData=_ref8[1],key=filterData.key?filterData.key:fieldName;filters.includes(key)||(filterData.value=(0,validation/* isArray */.kJ)(filterData.value)?[]:"",delete filterData.operatorId,_this5.filterObjectsData=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},_this5.filterObjectsData),{},(0,defineProperty/* default */.Z)({},fieldName,filterData)))}))}}},components_SearchTagMixinvue_type_script_lang_js=SearchTagMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SearchTagMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SearchTagMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules
},
/***/358551:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDatePicker}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/assets/overview/FDatePicker.vue?vue&type=template&id=fd3cfbc4
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"default-time":_vm.defaultTime},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},staticRenderFns=[],validation=(__webpack_require__(976801),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(756532),__webpack_require__(634338),__webpack_require__(450886),__webpack_require__(843843),__webpack_require__(990260)),constant=__webpack_require__(354754),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),FDatePickervue_type_script_lang_js={props:["appendToBody","value","value-format","format","default-value","placeholder","disabled","editable","picker-options","type","prefix-icon","clear-icon","start-placeholder","end-placeholder","hideClear","arrowControl","default-time"],mounted:function(){this.init()},data:function(){return{timeinorg:[]}},computed:{isRangeType:function(){var _ref=this||{},type=_ref.type;return["daterange","datetimerange"].includes(type)},defaultFormats:function(){var $timeformat=this.$timeformat,$dateformat=this.$dateformat,dateformat=($dateformat||"").replaceAll("Y","y");return dateformat=(dateformat||"").replaceAll("D","d"),{date:dateformat,month:"yyyy-MM",datetime:"".concat(dateformat," ").concat($timeformat),time:"".concat($timeformat),week:"yyyywWW",timerange:"".concat($timeformat),daterange:"".concat(dateformat),monthrange:"yyyy-MM",datetimerange:"".concat(dateformat," ").concat($timeformat),year:"yyyy"}},pickerFormat:function(){var _ref2=this||{},defaultFormats=_ref2.defaultFormats,type=_ref2.type,format=_ref2.format;return(0,validation/* isEmpty */.xb)(format)&&!(0,validation/* isEmpty */.xb)(defaultFormats[type])?defaultFormats[type]:format},ttime:{get:function(){var _this=this,_ref3=this||{},value=_ref3.value,isRangeType=_ref3.isRangeType;return(0,validation/* isEmpty */.xb)(value)?isRangeType?[]:"":isRangeType?value.map((function(val){return _this.getTimeInSystemZone(val)})):this.getTimeInSystemZone(value)},set:function(value){var isRangeType=this.isRangeType;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("input",this.timeinorg),this.$emit("change",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("input",modifiedTimeFormat),this.$emit("change",modifiedTimeFormat)}}}},methods:{pickerChange:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value)this.timeinorg[time]=this.$helpers.getTimeInOrg(value[time]);this.$emit("pickerChange",this.timeinorg)}else{var modifiedTimeFormat=this.$helpers.getTimeInOrg(value);this.$emit("pickerChange",modifiedTimeFormat)}},init:function(){var isRangeType=this.isRangeType,value=this.value;if(isRangeType){if((0,validation/* isEmpty */.xb)(value))this.timeinorg=[];else for(var time in value){var timeVal=parseInt(value[time]);this.timeinorg[time]=timeVal}this.$emit("input",this.timeinorg)}else if(!(0,validation/* isEmpty */.xb)(value)){var isPlaceHoldersEnabled=constant/* default */.Z.FIELD_PLACEHOLDERS.includes(value)||!1;isPlaceHoldersEnabled||this.$emit("input",value)}this.$emit("initialized")},focus:function(){this.$refs["date-picker"].focus()},getTimeInSystemZone:function(value){return new Date(moment_timezone_default().tz(value,this.$timezone).format("YYYY-MM-DD HH:mm:ss"))}}},overview_FDatePickervue_type_script_lang_js=FDatePickervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(overview_FDatePickervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDatePicker=component.exports},
/***/534536:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return IndoorFloorPlanBookingsListView}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/IndoorFloorPlanBookingsListView.vue?vue&type=template&id=48376a8e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"p25 floorplan-object-list-view"},[_vm.searchResult&&_vm.searchResult.length?_vm._l(_vm.searchResult,(function(list,listIndex){return _c("div",{key:listIndex,staticClass:"mB30"},[list.children.length>0?_c("div",{staticClass:"list-header"},[_c("span",{staticClass:"header-icon"},["Parkings"==list.title?_c("InlineSvg",{attrs:{src:"svgs/employeePortal/parking-list",iconClass:"icon-xxxs"}}):"Space"==list.title?_c("InlineSvg",{attrs:{src:"svgs/employeePortal/meeting-room4",iconClass:"icon-xxxs"}}):"Assignable Desk"==list.title||"Hot Desk"==list.title?_c("InlineSvg",{attrs:{src:"svgs/employeePortal/hot-desk-list",iconClass:"icon-xxxs"}}):"Hotel Desk"==list.title?_c("InlineSvg",{attrs:{src:"svgs/employeePortal/icon-hoteling",iconClass:"icon-xxxs"}}):_vm._e()],1),_c("span",[_vm._v(_vm._s(list.title))]),_c("span",{staticClass:"header-desc"},[_vm._v(" "+_vm._s(list.children.length)+"results")])]):_vm._e(),_vm._l(list.children,(function(feature,index){return _c("div",{key:index,staticClass:"list-catalog-items pL20 pR20 d-flex ",on:{mouseover:function($event){return _vm.selectFeatureId(feature)},mouseleave:function($event){return _vm.deSelectFeatureID(feature)}}},[_c("div",[_c("div",{staticClass:"list-catalog-name mL20"},[_vm._v(" "+_vm._s(feature.label)+" ")]),_c("div",{staticClass:"list-sub-text mL20"},[_vm._v(" "+_vm._s(feature.secondaryLabel)+" ")])]),_vm.hoverFeature===feature.objectId?_c("div",{staticClass:"locate-button-container",on:{click:function($event){return _vm.changed(feature.objectId)}}},[_c("div",{staticClass:"locate-button"},[_c("span",{staticClass:"mR5 h12"},[_c("inline-svg",{key:"parkingIdx-"+index,attrs:{src:"svgs/ic-my-location",iconClass:"icon-xs"}})],1),_vm._v("Locate in Map ")])]):_vm._e()])}))],2)})):[_vm._m(0)]],2)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mB30"},[_c("div",{staticClass:"list-header"},[_c("div",[_vm._v("No data")])])])}],validation=(__webpack_require__(634338),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(879288),__webpack_require__(990260)),InlineSvg=__webpack_require__(586166),eventBus=__webpack_require__(398011),IndoorFloorPlanBookingsListViewvue_type_script_lang_js={props:["searchText","showSearchList"],data:function(){return{hoverFeature:null,desksType:{1:"Assignable Desk",2:"Hot Desk",3:"Hotel Desk"},zones:null,markers:null}},mounted:function(){var _this=this;eventBus/* eventBus */.Y.$on("VIEWER_API_LOADED",(function(_ref){var zones=_ref.zones,markers=_ref.markers;zones&&(_this.zones=zones),markers&&(_this.markers=markers)}))},computed:{listData:function(){var zones=this.zones,desksType=this.desksType,markers=this.markers,zoneFeatures=null===zones||void 0===zones?void 0:zones.features,markersFeatures=null===markers||void 0===markers?void 0:markers.features,features=[].concat(zoneFeatures,markersFeatures),listData=[],parkings=[],space=[],AssignableDesk=[],hotdesk=[],hoteldesk=[];return features&&features.length&&(features.forEach((function(feature){var _feature$properties;if(null!==feature&&void 0!==feature&&null!==(_feature$properties=feature.properties)&&void 0!==_feature$properties&&_feature$properties.markerModuleName)if("parkingstall"===feature.properties.markerModuleName)parkings.push(feature.properties);else if("space"===feature.properties.markerModuleName)space.push(feature.properties);else if("desks"===feature.properties.markerModuleName){var _feature$properties2;if(null!==feature&&void 0!==feature&&null!==(_feature$properties2=feature.properties)&&void 0!==_feature$properties2&&_feature$properties2.deskType){var type=desksType[feature.properties.deskType];"Assignable Desk"==type?AssignableDesk.push(feature.properties):"Hot Desk"==type?hotdesk.push(feature.properties):"Hotel Desk"==type&&hoteldesk.push(feature.properties)}}})),(0,validation/* isEmpty */.xb)(parkings)||listData.push({children:parkings,title:"Parkings"}),(0,validation/* isEmpty */.xb)(space)||listData.push({children:space,title:"Space"}),(0,validation/* isEmpty */.xb)(AssignableDesk)||listData.push({children:AssignableDesk,title:"Assignable Desk"}),(0,validation/* isEmpty */.xb)(hotdesk)||listData.push({children:hotdesk,title:"Hot Desk"}),(0,validation/* isEmpty */.xb)(hoteldesk)||listData.push({children:hoteldesk,title:"Hotel Desk"})),listData},searchResult:function(){var searchText=this.searchText,listData=this.listData;if(listData&&listData.length&&null!==searchText&&""!==searchText){var result=[];return listData.forEach((function(rt){var data={};data.title=rt.title,data.children=[],rt.children&&rt.children.forEach((function(rl){return rl.label.toLowerCase().indexOf(searchText.toLowerCase())>-1&&data.children.push(rl),null})),data.children.length&&result.push(data)})),result}return listData}},methods:{selectFeatureId:function(feature){var objectId=feature.objectId;this.hoverFeature=objectId},deSelectFeatureID:function(){this.hoverFeature=null},changed:function(id){this.$emit("changed"),this.$router.replace({query:{featureId:Number(id)}})}},components:{InlineSvg:InlineSvg/* default */.Z}},indoorFloorPlan_IndoorFloorPlanBookingsListViewvue_type_script_lang_js=IndoorFloorPlanBookingsListViewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_IndoorFloorPlanBookingsListViewvue_type_script_lang_js,render,staticRenderFns,!1,null,"48376a8e",null)
/* harmony default export */,IndoorFloorPlanBookingsListView=component.exports},
/***/426692:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return IndoorFloorPlanBookingsView}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/IndoorFloorPlanBookingsView.vue?vue&type=template&id=718e8596
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"indoor-floorplan-bookings-view height100",attrs:{id:"viewer"}},[_c("div",{staticClass:"indoor-fp-mapbox-section relative"},[_vm.floorplanloading?_c("FloorPlanLoading"):_vm._e(),_c("base-map",{staticClass:"width100",attrs:{maxZoom:22,zoom:20,minZoom:10},on:{mapLoaded:_vm.mapLoaded}}),!_vm.floorplantypeSwicthLoading&&_vm.showEditLayout?_c("FloorplanTypeSwitcher",{attrs:{floorplanTypes:_vm.floorplanTypes,indoorFloorplanFields:_vm.indoorFloorplanFields,viewerMode:_vm.viewerMode}}):_vm._e()],1),_vm.fpEditor?_c("div",{staticClass:"formbuilder-fullscreen-popup floor-plan-builder height100"},[_c("FloorPlanEditor",{attrs:{id:_vm.floorplanId,visibile:_vm.fpEditor},on:{close:_vm.closeEditor,"update:visibile":function($event){_vm.fpEditor=$event}}})],1):_vm._e(),_vm.showBookingsForm?_c("FloorPlanBookingsForm",{attrs:{moduleName:_vm.bookingModuleName,formData:_vm.selectedForm,recordData:_vm.recordData},on:{"update:formData":function($event){_vm.selectedForm=$event},"update:form-data":function($event){_vm.selectedForm=$event},closeForm:_vm.closeForm,saved:_vm.savedForm}}):_vm._e(),_vm.floorplanloading||_vm.newBooking?_vm._e():_c("IndoorFloorplanSearch",{attrs:{loading:_vm.employeLoading,departments:_vm.departments,floorId:_vm.floorId,viewerMode:"BOOKING",lockers:_vm.lockerList,parkings:_vm.parkingList,floorplanId:_vm.floorplanId},on:{focus:_vm.focusMarker}}),_c("portal",{attrs:{to:"indoorFloorPlanLayout"}},[_vm.showBooking?_c("FloorMapBookingTimeRange",{attrs:{customTime:_vm.customTime},on:{change:_vm.timeRangeChanged},model:{value:_vm.timeRange,callback:function($$v){_vm.timeRange=$$v},expression:"timeRange"}}):_c("BookingTimeRange",{attrs:{customTime:_vm.customTime},on:{change:_vm.timeRangeChanged},model:{value:_vm.timeRange,callback:function($$v){_vm.timeRange=$$v},expression:"timeRange"}})],1),_c("IndoorFloorPlanMarkerTooltip",{ref:"markerTooltip",staticClass:"marker-tooltip",attrs:{tooltipData:_vm.tooltipData}}),_vm.floorplanloading||_vm.isNewSetting?_vm._e():_c("FloorplanSettings",{attrs:{settingsJson:_vm.settings,viewerMode:_vm.viewerMode,isPortal:_vm.isPortal},on:{handleSettings:_vm.handleSettings,applySettings:_vm.applySettings}}),!_vm.floorplanloading&&_vm.isNewSetting?_c("NewFloorplanSettings",{attrs:{settingsJson:_vm.settings,viewerMode:_vm.viewerMode,isPortal:_vm.isPortal,parkingList:_vm.parkingList},on:{handleSettings:_vm.handleSettings,applySettings:_vm.applySettings}}):_vm._e(),_vm.newBooking?[_vm.showBookingsPanel&&_vm.showBookingOption?_c("SpaceBookingProperty",{attrs:{visibility:_vm.showBookingsPanel,objectId:Number(_vm.selectedFeature.objectId),currentDate:_vm.currentDate,timeRange:_vm.timeRange,viewerMode:_vm.viewerMode},on:{"update:visibility":function($event){_vm.showBookingsPanel=$event},book:_vm.handleBookBtn}}):_vm._e()]:[_vm.showBookingsPanel&&_vm.showBookingOption?_c("BookingProperty",{attrs:{visibility:_vm.showBookingsPanel,objectId:Number(_vm.selectedFeature.objectId),currentDate:_vm.currentDate,timeRange:_vm.timeRange,viewerMode:_vm.viewerMode},on:{"update:visibility":function($event){_vm.showBookingsPanel=$event},book:_vm.handleBookBtn}}):_vm._e()],_c("BookingViewLeagends",{attrs:{deskList:_vm.deskList,spaceList:_vm.spaceList,departments:_vm.departments,bookings:_vm.bookings,isPortal:_vm.isPortal,lockers:_vm.lockerList,parkingList:_vm.parkingList,settings:_vm.settings}}),_c("portal",{attrs:{to:"floorplan-new-search-container"}})],2)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),ViewerActions=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(879288),__webpack_require__(947522),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(634338),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(381904)),FloorPlanBookingsFormvue_type_template_id_bce0f256_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:!0,"before-close":_vm.closeDialog,"append-to-body":!0,fullscreen:!0,"custom-class":"fc-dialog-form setup-dialog-right setup-dialog50 setup-dialog fc-web-form-dialog f-webform-right-dialog fc-floor-plan-booking"}},[_c("div",{staticClass:"fc-pm-main-content-H"},[_vm._v(_vm._s(_vm.$t("tenant.occupant.booking")))]),_vm.isLoading?_c("div",{staticClass:"loading-container d-flex"},[_c("Spinner",{attrs:{show:_vm.isLoading}})],1):_c("f-webform",{staticClass:"fp-bookings-form",attrs:{form:_vm.formObj,module:_vm.moduleName,moduleData:_vm.moduleData,moduleDataId:_vm.moduleDataId,moduleDisplayName:_vm.moduleDisplayName,isSaving:_vm.isSaving,isV3Api:_vm.isV3Api,isEdit:_vm.isEdit,canShowPrimaryBtn:!0,canShowSecondaryBtn:!0,formLabelPosition:"top"},on:{"update:form":function($event){_vm.formObj=$event},onBlur:_vm.onBlurHook,save:_vm.saveRecord,cancel:_vm.closeDialog}})],1)},FloorPlanBookingsFormvue_type_template_id_bce0f256_staticRenderFns=[],validation=(__webpack_require__(670560),__webpack_require__(990260)),FWebform=__webpack_require__(434500),FormCreation=__webpack_require__(373729),FloorPlanBookingsFormvue_type_script_lang_js={extends:FormCreation/* default */.Z,components:{FWebform:FWebform/* default */.Z},props:["formVisibility","formData","recordData","moduleName"],data:function(){return{isSaving:!1}},computed:{moduleDisplayName:function(){return this.formObj&&this.formObj.module?this.formObj.module.displayName:"Booking"},moduleDataId:function(){var moduleData=this.moduleData,_ref=moduleData||{},id=_ref.id;return id||null},isV3Api:function(){return!0}},methods:{init:function(){this.formData&&(this.formObj=this.formData,this.selectedForm=this.formData),this.recordData&&(this.moduleData=this.recordData)},afterSerializeHook:function(_ref2){var _data$internalAttende,data=_ref2.data,_data$bookingslot=data.bookingslot,bookingslot=void 0===_data$bookingslot?[]:_data$bookingslot,selectedList=[];return bookingslot.forEach((function(record){var id=record.id;selectedList.push({slot:{id:id}})})),data.noOfAttendees=(null===data||void 0===data||null===(_data$internalAttende=data.internalAttendees)||void 0===_data$internalAttende?void 0:_data$internalAttende.length)||1,this.$set(data,"bookingslot",selectedList),data},getFormattedSlotData:function(moduleData){var _moduleData$slotList=moduleData.slotList,slotList=void 0===_moduleData$slotList?[]:_moduleData$slotList,slotData=[];return(0,validation/* isEmpty */.xb)(slotList)||slotList.forEach((function(record){slotData.push(record.slot)})),slotData},afterSaveHook:function(_ref3){var error=_ref3.error;error||this.$emit("saved")},closeDialog:function(){this.$emit("closeForm")}}},indoorFloorPlan_FloorPlanBookingsFormvue_type_script_lang_js=FloorPlanBookingsFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_FloorPlanBookingsFormvue_type_script_lang_js,FloorPlanBookingsFormvue_type_template_id_bce0f256_render,FloorPlanBookingsFormvue_type_template_id_bce0f256_staticRenderFns,!1,null,null,null)
/* harmony default export */,FloorPlanBookingsForm=component.exports,BookingTimeRangevue_type_template_id_077dcd1e_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"booking-time-range d-flex mT5"},[_c("FDatePicker",{staticClass:"fc-input-full-border2 ",attrs:{hideClear:!0,type:"date"},on:{change:_vm.dateChanged},model:{value:_vm.date,callback:function($$v){_vm.date=$$v},expression:"date"}}),_c("TimeRangePicker",{attrs:{customTime:_vm.customTime},on:{change:_vm.dateChanged},model:{value:_vm.timeRange,callback:function($$v){_vm.timeRange=$$v},expression:"timeRange"}})],1)},BookingTimeRangevue_type_template_id_077dcd1e_staticRenderFns=[],FDatePicker=__webpack_require__(358551),moment=__webpack_require__(730381),moment_default=__webpack_require__.n(moment),TimeRangePickervue_type_template_id_5fd80456_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"booking-time-range-picker d-flex align-center pointer relative",on:{click:_vm.openPopover}},[_c("i",{staticClass:"el-icon-time time-icon pointer mR10"}),_c("div",{staticClass:"selected-time mR10"},[_vm._v(" "+_vm._s(_vm.startTimeString)+" ")]),_c("i",{staticClass:"el-icon-right bookings-between mR10"}),_c("div",{staticClass:"selected-time"},[_vm._v(" "+_vm._s(_vm.endTimeString)+" ")]),_vm.popoverOpen?_c("TimeRangePopover",{attrs:{popoverState:_vm.popoverState,visibility:_vm.popoverOpen,customIndex:_vm.indexof},on:{"update:visibility":function($event){_vm.popoverOpen=$event},save:_vm.saved}}):_vm._e()],1)},TimeRangePickervue_type_template_id_5fd80456_staticRenderFns=[],TimeRangePopovervue_type_template_id_8d78aaea_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:_vm.outsideClick,expression:"outsideClick"}],staticClass:"time-picker-popover d-flex flex-col align-center pT20 pL15 pR15 pB20"},[_vm._m(0),_c("div",{staticClass:"time-picker-popover-body d-flex align-center"},[_c("div",{staticClass:"start-time-slots-container"},[_c("div",{staticClass:"time-slots-container-title mB15"},[_vm._v(" Start time ")]),_c("div",{staticClass:"time-slot-list"},_vm._l(_vm.slotStrings,(function(slot,index){return _c("div",{key:index,staticClass:"time-slot",class:[{active:index==_vm.startTimeSlotIndex}],on:{click:function($event){return _vm.timeSlotClick("START_TIME",index)}}},[_vm._v(" "+_vm._s(slot)+" ")])})),0),_c("el-radio-group",{staticClass:"period-switch",model:{value:_vm.startTimeSlotPeriod,callback:function($$v){_vm.startTimeSlotPeriod=$$v},expression:"startTimeSlotPeriod"}},[_c("el-radio-button",{attrs:{label:"AM"}},[_vm._v(" AM ")]),_c("el-radio-button",{attrs:{label:"PM"}},[_vm._v(" PM ")])],1)],1),_c("div",{staticClass:"end-time-slots-container"},[_c("div",{staticClass:"time-slots-container-title mB10"},[_vm._v(" End time ")]),_c("div",{staticClass:"time-slot-list"},_vm._l(_vm.slotStrings,(function(slot,index){return _c("div",{key:index,staticClass:"time-slot",class:[{active:index==_vm.endTimeSlotIndex}],on:{click:function($event){return _vm.timeSlotClick("END_TIME",index)}}},[_vm._v(" "+_vm._s(slot)+" ")])})),0),_c("el-radio-group",{staticClass:"period-switch",model:{value:_vm.endTimeSlotPeriod,callback:function($$v){_vm.endTimeSlotPeriod=$$v},expression:"endTimeSlotPeriod"}},[_c("el-radio-button",{attrs:{label:"AM"}},[_vm._v(" AM ")]),_c("el-radio-button",{attrs:{label:"PM"}},[_vm._v(" PM ")])],1)],1)]),_c("div",{staticClass:"time-picker-popover-footer mT15 pointer ",on:{click:function($event){return $event.stopPropagation(),_vm.save.apply(null,arguments)}}},[_vm._v(" Done ")])])},TimeRangePopovervue_type_template_id_8d78aaea_staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"popper-arrow"},[_c("i",{staticClass:"el-icon-caret-top"})])}],slots=["12:00","12:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],TimeRangePopovervue_type_script_lang_js={created:function(){this.popoverState&&(this.startTimeSlotIndex=this.popoverState.start.index,this.endTimeSlotIndex=this.popoverState.end.index,this.startTimeSlotPeriod=this.popoverState.start.period,this.endTimeSlotPeriod=this.popoverState.end.period)},props:["popoverState","customIndex"],mounted:function(){this.customIndex.start&&(this.startTimeSlotIndex=slots.indexOf(this.customIndex.start),this.endTimeSlotIndex=slots.indexOf(this.customIndex.end),this.startTimeSlotPeriod=this.customIndex.startAmPm,this.endTimeSlotPeriod=this.customIndex.endAmPm)},data:function(){return{clickOutsideFirstTime:!0,slotStrings:["12:00","12:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30"],startTimeSlotIndex:18,startTimeSlotPeriod:"AM",endTimeSlotIndex:10,endTimeSlotPeriod:"PM"}},methods:{timeSlotClick:function(slotType,slotIndex){"START_TIME"==slotType?this.startTimeSlotIndex=slotIndex:"END_TIME"==slotType&&(this.endTimeSlotIndex=slotIndex)},outsideClick:function(){this.clickOutsideFirstTime?
// console.log('IGNORING FIRST TIME ') //bad hack
this.clickOutsideFirstTime=!1:
// console.log('outsideclick')
this.$emit("update:visibility",!1)},save:function(){this.$emit("save",{start:{index:this.startTimeSlotIndex,period:this.startTimeSlotPeriod,slotString:this.slotStrings[this.startTimeSlotIndex]},end:{index:this.endTimeSlotIndex,slotString:this.slotStrings[this.endTimeSlotIndex],period:this.endTimeSlotPeriod}})}}},indoorFloorPlan_TimeRangePopovervue_type_script_lang_js=TimeRangePopovervue_type_script_lang_js,TimeRangePopover_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_TimeRangePopovervue_type_script_lang_js,TimeRangePopovervue_type_template_id_8d78aaea_render,TimeRangePopovervue_type_template_id_8d78aaea_staticRenderFns,!1,null,null,null)
/* harmony default export */,TimeRangePopover=TimeRangePopover_component.exports,TimeRangePickervue_type_script_lang_js={components:{TimeRangePopover:TimeRangePopover},props:["customTime"],mounted:function(){var _this$customTime;null!==(_this$customTime=this.customTime)&&void 0!==_this$customTime&&_this$customTime.startTime&&this.customTimeEmit()},data:function(){return{popoverOpen:!1,startTimeString:"9:00 AM",endTimeString:"5:00 PM",popoverState:null,indexof:{start:"09:00",end:"05:00",startAmPm:"AM",endAmPm:"PM"}}},methods:{openPopover:function(){this.popoverOpen=!0},customTimeEmit:function(){var startTs=this.customTime.startTime,endTs=this.customTime.endTime,st=moment_default()().startOf("day").add(startTs,"milliseconds"),et=moment_default()().startOf("day").add(endTs,"milliseconds"),sthour=st.format("hh"),stminute=st.format("mm"),stamPm=st.format("A"),ethour=et.format("hh"),etminute=et.format("mm"),etamPm=et.format("A");this.indexof.start=sthour+":"+stminute,this.indexof.end=ethour+":"+etminute,this.indexof.startAmPm=stamPm,this.indexof.endAmPm=etamPm,this.startTimeString=sthour+":"+stminute+" : "+stamPm,this.endTimeString=ethour+":"+etminute+" : "+etamPm,this.$emit("input",{timeMillis:[startTs,endTs],timeStrings:[sthour+":"+stminute+" : "+stamPm,ethour+":"+etminute+" : "+etamPm]}),this.$emit("change",this.$emit("input",{timeMillis:[startTs,endTs],timeStrings:[sthour+":"+stminute+" : "+stamPm,ethour+":"+etminute+" : "+etamPm]}))},saved:function(e){this.popoverState=e;
//calculate start and end timestamps
var slotMillis=18e5,pmMillis=432e5,startTs=e.start.index*slotMillis,endTs=e.end.index*slotMillis;//30 min slot in millis
"PM"==e.start.period&&(startTs+=pmMillis),"PM"==e.end.period&&(endTs+=pmMillis),this.startTimeString=e.start.slotString+" : "+e.start.period,this.endTimeString=e.end.slotString+" : "+e.end.period,this.$emit("input",{timeMillis:[startTs,endTs],timeStrings:[e.start.slotString+" : "+e.start.period,e.end.slotString+" : "+e.end.period]}),this.$emit("change",this.$emit("input",{timeMillis:[startTs,endTs],timeStrings:[e.start.slotString+" : "+e.start.period,e.end.slotString+" : "+e.end.period]})),this.popoverOpen=!1}}},indoorFloorPlan_TimeRangePickervue_type_script_lang_js=TimeRangePickervue_type_script_lang_js,TimeRangePicker_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_TimeRangePickervue_type_script_lang_js,TimeRangePickervue_type_template_id_5fd80456_render,TimeRangePickervue_type_template_id_5fd80456_staticRenderFns,!1,null,null,null)
/* harmony default export */,TimeRangePicker=TimeRangePicker_component.exports,BookingTimeRangevue_type_script_lang_js={components:{FDatePicker:FDatePicker/* default */.Z,TimeRangePicker:TimeRangePicker},props:["value","customTime"],mounted:function(){this.customTime.date&&(this.date=parseInt(this.customTime.date))},data:function(){return{timeRange:{timeMillis:[324e5,612e5],
//default 9AM-5PM
timeStrings:["09:00 : AM","05:00 : PM"]},date:moment_default()().startOf("day").valueOf()}},methods:{dateChanged:function(){this.$emit("input",{startTime:this.date+parseInt(this.timeRange.timeMillis[0]),endTime:this.date+parseInt(this.timeRange.timeMillis[1])}),this.$emit("change",{startTime:this.date+parseInt(this.timeRange.timeMillis[0]),endTime:this.date+parseInt(this.timeRange.timeMillis[1])})}}},indoorFloorPlan_BookingTimeRangevue_type_script_lang_js=BookingTimeRangevue_type_script_lang_js,BookingTimeRange_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_BookingTimeRangevue_type_script_lang_js,BookingTimeRangevue_type_template_id_077dcd1e_render,BookingTimeRangevue_type_template_id_077dcd1e_staticRenderFns,!1,null,null,null)
/* harmony default export */,BookingTimeRange=BookingTimeRange_component.exports,IndoorFloorPlanViewer=__webpack_require__(769240),mapbox_gl=__webpack_require__(706158),mapbox_gl_default=__webpack_require__.n(mapbox_gl),IndoorFloorPlanMarkerToolipNew=__webpack_require__(742727),IndoorFloorplanSearch=__webpack_require__(103649),IndoorFloorplanSearch2=__webpack_require__(856071),BookingLeagendSelectvue_type_template_id_231595e8_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.componentName?_c(_vm.componentName,_vm._b({key:_vm.componentName,ref:_vm.componentName,tag:"component",attrs:{departments:_vm.departments,deskList:_vm.deskList,spaceList:_vm.spaceList,bookings:_vm.bookings,lockers:_vm.lockers,parkingList:_vm.parkingList,settings:_vm.settings}},"component",_vm.$attrs,!1)):_vm._e()},BookingLeagendSelectvue_type_template_id_231595e8_staticRenderFns=[],BookingLeagendSelectvue_type_script_lang_js={props:["departments","deskList","spaceList","bookings","lockers","parkingList","settings"],components:{newbookingleagend:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(87595)]).then(__webpack_require__.bind(__webpack_require__,787595))},bookingleagend:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(28899)]).then(__webpack_require__.bind(__webpack_require__,928899))}},computed:{componentName:function(){return this.$helpers.isLicenseEnabled("NEW_FLOORPLAN")?"newbookingleagend":"bookingleagend"}}},components_BookingLeagendSelectvue_type_script_lang_js=BookingLeagendSelectvue_type_script_lang_js,BookingLeagendSelect_component=(0,componentNormalizer/* default */.Z)(components_BookingLeagendSelectvue_type_script_lang_js,BookingLeagendSelectvue_type_template_id_231595e8_render,BookingLeagendSelectvue_type_template_id_231595e8_staticRenderFns,!1,null,null,null)
/* harmony default export */,BookingLeagendSelect=BookingLeagendSelect_component.exports,FloorPlanLoading=__webpack_require__(386046),FloorplanTypeSwitcher=__webpack_require__(758676),FloorplanSettings=__webpack_require__(327679),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),FloorMapBookingTimeRangevue_type_template_id_25dde257_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"floormap-time-booking d-flex "},[_c("FloorMapDatePicker",{staticClass:"floormap-datepicker mR15 fc-input-full-border2",attrs:{hideClear:!0,type:"date"},on:{change:_vm.dateChanged},model:{value:_vm.date,callback:function($$v){_vm.date=$$v},expression:"date"}}),_c("FloorMapTImeRangePicker",{staticClass:"mR15",attrs:{customTime:_vm.customTime},on:{change:_vm.timeChanged},model:{value:_vm.timeRange,callback:function($$v){_vm.timeRange=$$v},expression:"timeRange"}}),_c("el-button",{staticClass:"find-space-btn",attrs:{type:"primary"},on:{click:_vm.findSpace}},[_vm._v(_vm._s("Find Space"))])],1)},FloorMapBookingTimeRangevue_type_template_id_25dde257_staticRenderFns=[],FloorMapTImeRangePickervue_type_template_id_6a5f21fb_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"floormap-time-range-picker d-flex align-center pointer relative",on:{click:_vm.openPopover}},[_c("div",{staticClass:"icon-time el-icon-time"}),_c("div",{staticClass:"d-flex"},[_c("div",{staticClass:"selected-time"},[_vm._v(" "+_vm._s(_vm.startTimeString)+" ")]),_c("span",{staticClass:"time-seperator"},[_vm._v("-")]),_c("div",{staticClass:"selected-time"},[_vm._v(" "+_vm._s(_vm.endTimeString)+" ")])]),_vm.popoverOpen?_c("TimeRangePopover",{attrs:{popoverState:_vm.popoverState,visibility:_vm.popoverOpen,customIndex:_vm.indexof},on:{"update:visibility":function($event){_vm.popoverOpen=$event},save:_vm.saved}}):_vm._e()],1)},FloorMapTImeRangePickervue_type_template_id_6a5f21fb_scoped_true_staticRenderFns=[],FloorMapTImeRangePickervue_type_script_lang_js={components:{TimeRangePopover:TimeRangePopover},props:["customTime"],mounted:function(){var _this$customTime;null!==(_this$customTime=this.customTime)&&void 0!==_this$customTime&&_this$customTime.startTime&&this.customTimeEmit()},data:function(){return{popoverOpen:!1,startTimeString:"9:00 AM",endTimeString:"5:00 PM",popoverState:null,indexof:{start:"09:00",end:"05:00",startAmPm:"AM",endAmPm:"PM"}}},methods:{openPopover:function(){this.popoverOpen=!0},customTimeEmit:function(time){var _this$customTime2,_this$customTime3,startTs=(null===time||void 0===time?void 0:time.startTime)||(null===(_this$customTime2=this.customTime)||void 0===_this$customTime2?void 0:_this$customTime2.startTime),endTs=(null===time||void 0===time?void 0:time.endTime)||(null===(_this$customTime3=this.customTime)||void 0===_this$customTime3?void 0:_this$customTime3.endTime),st=moment_default()().startOf("day").add(startTs,"milliseconds"),et=moment_default()().startOf("day").add(endTs,"milliseconds"),sthour=st.format("hh"),stminute=st.format("mm"),stamPm=st.format("A"),ethour=et.format("hh"),etminute=et.format("mm"),etamPm=et.format("A");this.indexof.start=sthour+":"+stminute,this.indexof.end=ethour+":"+etminute,this.indexof.startAmPm=stamPm,this.indexof.endAmPm=etamPm,this.startTimeString=sthour+":"+stminute+" : "+stamPm,this.endTimeString=ethour+":"+etminute+" : "+etamPm,this.$emit("input",{timeMillis:[startTs,endTs],timeStrings:[sthour+":"+stminute+" : "+stamPm,ethour+":"+etminute+" : "+etamPm]}),this.$emit("change",{timeMillis:[startTs,endTs],timeStrings:[sthour+":"+stminute+" : "+stamPm,ethour+":"+etminute+" : "+etamPm]})},saved:function(e){this.popoverState=e;
//calculate start and end timestamps
var slotMillis=18e5,pmMillis=432e5,startTs=e.start.index*slotMillis,endTs=e.end.index*slotMillis;//30 min slot in millis
"PM"==e.start.period&&(startTs+=pmMillis),"PM"==e.end.period&&(endTs+=pmMillis),this.startTimeString=e.start.slotString+" : "+e.start.period,this.endTimeString=e.end.slotString+" : "+e.end.period,this.customTimeEmit({startTime:startTs,endTime:endTs}),this.popoverOpen=!1}}},indoorFloorPlan_FloorMapTImeRangePickervue_type_script_lang_js=FloorMapTImeRangePickervue_type_script_lang_js,FloorMapTImeRangePicker_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_FloorMapTImeRangePickervue_type_script_lang_js,FloorMapTImeRangePickervue_type_template_id_6a5f21fb_scoped_true_render,FloorMapTImeRangePickervue_type_template_id_6a5f21fb_scoped_true_staticRenderFns,!1,null,"6a5f21fb",null)
/* harmony default export */,FloorMapTImeRangePicker=FloorMapTImeRangePicker_component.exports,FloorMapDatePickervue_type_template_id_37219fbe_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-date-picker",{ref:"date-picker",attrs:{appendToBody:_vm.appendToBody,clearable:!_vm.hideClear,type:_vm.type,"value-format":_vm.valueFormat,format:_vm.pickerFormat,placeholder:_vm.placeholder,disabled:_vm.disabled,editable:_vm.editable,"default-value":_vm.defaultValue,"picker-options":_vm.pickerOptions,"prefix-icon":_vm.prefixIcon,"clear-icon":_vm.clearIcon,"start-placeholder":_vm.startPlaceholder,"end-placeholder":_vm.endPlaceholder,"time-arrow-control":_vm.arrowControl,"popper-class":"date-picker-panel"},on:{change:_vm.pickerChange},model:{value:_vm.ttime,callback:function($$v){_vm.ttime=$$v},expression:"ttime"}})},FloorMapDatePickervue_type_template_id_37219fbe_staticRenderFns=[],FloorMapDatePickervue_type_script_lang_js={extends:FDatePicker/* default */.Z},indoorFloorPlan_FloorMapDatePickervue_type_script_lang_js=FloorMapDatePickervue_type_script_lang_js,FloorMapDatePicker_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_FloorMapDatePickervue_type_script_lang_js,FloorMapDatePickervue_type_template_id_37219fbe_render,FloorMapDatePickervue_type_template_id_37219fbe_staticRenderFns,!1,null,null,null)
/* harmony default export */,FloorMapDatePicker=FloorMapDatePicker_component.exports,FloorMapBookingTimeRangevue_type_script_lang_js={props:["customTime"],components:{FloorMapDatePicker:FloorMapDatePicker,FloorMapTImeRangePicker:FloorMapTImeRangePicker},mounted:function(){this.customTime.date&&(this.date=parseInt(this.customTime.date))},data:function(){return{timeRange:{timeMillis:[324e5,612e5],
//default 9AM-5PM
timeStrings:["09:00 : AM","05:00 : PM"]},date:moment_default()().startOf("day").valueOf()}},methods:{timeChanged:function(data){this.timeRange=data},dateChanged:function(){
// this method should be empty to prevent the date change api calls
},findSpace:function(){this.$emit("input",{startTime:this.date+parseInt(this.timeRange.timeMillis[0]),endTime:this.date+parseInt(this.timeRange.timeMillis[1])}),this.$emit("change",{startTime:this.date+parseInt(this.timeRange.timeMillis[0]),endTime:this.date+parseInt(this.timeRange.timeMillis[1])})}}},indoorFloorPlan_FloorMapBookingTimeRangevue_type_script_lang_js=FloorMapBookingTimeRangevue_type_script_lang_js,FloorMapBookingTimeRange_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_FloorMapBookingTimeRangevue_type_script_lang_js,FloorMapBookingTimeRangevue_type_template_id_25dde257_render,FloorMapBookingTimeRangevue_type_template_id_25dde257_staticRenderFns,!1,null,null,null)
/* harmony default export */,FloorMapBookingTimeRange=FloorMapBookingTimeRange_component.exports,NewFloorPlanSettings=__webpack_require__(30903),router=__webpack_require__(329435),eventBus=__webpack_require__(398011),vue_runtime_esm=__webpack_require__(720144),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),IndoorFloorPlanBookingsViewvue_type_script_lang_js={extends:IndoorFloorPlanViewer/* default */.Z,mixins:[ViewerActions/* default */.Z],components:{FloorMapBookingTimeRange:FloorMapBookingTimeRange,BookingTimeRange:BookingTimeRange,FloorPlanBookingsForm:FloorPlanBookingsForm,IndoorFloorPlanMarkerTooltip:IndoorFloorPlanMarkerToolipNew/* default */.Z,IndoorFloorplanSearch:IndoorFloorplanSearch/* default */.Z,IndoorFloorplanNewSearch:IndoorFloorplanSearch2/* default */.Z,BookingViewLeagends:BookingLeagendSelect,FloorPlanLoading:FloorPlanLoading/* default */.Z,FloorplanTypeSwitcher:FloorplanTypeSwitcher/* default */.Z,FloorplanSettings:FloorplanSettings/* default */.Z,NewFloorplanSettings:NewFloorPlanSettings/* default */.Z,BookingProperty:function(){return __webpack_require__.e(/* import() */25016).then(__webpack_require__.bind(__webpack_require__,25016))},SpaceBookingProperty:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(81600),__webpack_require__.e(49609)]).then(__webpack_require__.bind(__webpack_require__,184894))},FloorPlanEditor:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(60713),__webpack_require__.e(82332)]).then(__webpack_require__.bind(__webpack_require__,760713))}},props:["customTime"],
// mounted() {
//   console.log('CT: ', this.cutsomTime)
//   console.log('TR: ', this.timeRange)
// },
data:function(){return{viewerMode:"BOOKING",timeRange:{startTime:null,endTime:null},floorDetails:null,
//form prefils
showBookingsForm:!1,selectedForm:null,recordData:null,showBookingsPanel:!1}},watch:{querryFeatureId:{handler:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_this.querryFeatureId&&_this.focusMarkerFromFeature(Number(_this.querryFeatureId));case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},created:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_this2.initializeTimeRange();case 2:case"end":return _context2.stop()}}),_callee2)})))()},mounted:function(){var _this3=this;this.loadBookingForms(),eventBus/* eventBus */.Y.$on("focusMarker",(function(modulesName,data){_this3.focusMarker(modulesName,data)}))},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),(0,vuex_esm/* mapGetters */.Se)("webtabs",["tabHasPermission"])),{},{hasEditPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("EDIT",currentTab)},hasViewAssignmentPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT",currentTab)},hasAssignmentDepartmentPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT_DEPARTMENT",currentTab)},hasAssignmentOwnPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT_OWN",currentTab)},showEditLayout:function(){return!(!this.hasViewPermission||!(this.hasEditPermission||this.hasViewAssignmentPermission||this.hasAssignmentDepartmentPermission||this.hasAssignmentOwnPermission))},recordIdVsFeature:function(){var _this$zones,_this$markers,_this4=this,data={};return null!==(_this$zones=this.zones)&&void 0!==_this$zones&&_this$zones.features&&this.zones.features.forEach((function(zone){var _zone$properties;null!==zone&&void 0!==zone&&null!==(_zone$properties=zone.properties)&&void 0!==_zone$properties&&_zone$properties.recordId&&_this4.$set(data,zone.properties.recordId,zone)})),null!==(_this$markers=this.markers)&&void 0!==_this$markers&&_this$markers.features&&this.markers.features.forEach((function(marker){var _marker$properties;null!==marker&&void 0!==marker&&null!==(_marker$properties=marker.properties)&&void 0!==_marker$properties&&_marker$properties.recordId&&_this4.$set(data,marker.properties.recordId,marker)})),data},bookingModuleName:function(){return this.newBooking?"spacebooking":"facilitybooking"},querryFeatureId:function(){return this.$route.query.featureId||null},querryFeatureRecordId:function(){return this.$route.query.featureRecordId||null},hasBookingPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("BOOKING",currentTab)},currentDate:function(){var _this$timeRange;return null!==(_this$timeRange=this.timeRange)&&void 0!==_this$timeRange&&_this$timeRange.startTime?this.$helpers.getOrgMoment(this.timeRange.startTime).format("DD-MM-YYYY"):null},building:function(){var floorDetails=this.floorDetails;return floorDetails&&floorDetails.building?floorDetails.building:null},floor:function(){return this.floorDetails||null},settings:function(){return this.customizationBooking?this.customizationBooking:null},hasViewPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW",currentTab)},showBookingOption:function(){return!(!this.hasViewPermission||!this.hasBookingPermission)},showBooking:function(){var linkname=(0,router/* getApp */.wx)().linkName;return"employee"===linkname},isNewSetting:function(){return this.$helpers.isLicenseEnabled("NEW_FLOORPLAN")}}),methods:{setQuerrData:function(){if(this.querryFeatureRecordId&&this.recordIdVsFeature[this.querryFeatureRecordId]){var feature=this.recordIdVsFeature[this.querryFeatureRecordId];feature&&(this.setHoverEffect(feature),this.focusAndActiveMarker(feature))}},handleSettings:function(settings){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_this5.applySettings(settings),_this5.patchUpdateFloorplan(settings);case 2:case"end":return _context3.stop()}}),_callee3)})))()},afterFloorplanLoadHook:function(){if(
// console.log('after floorplan hook called')
this.applySettings(this.settings),this.querryDeskId){var data={id:Number(this.querryDeskId)};this.focusMarker("desks",data)}},applySettings:function(settings){if(settings){var spacePrimaryLabel=settings.spacePrimaryLabel,deskPrimaryLabel=settings.deskPrimaryLabel,deskSecondaryLabel=settings.deskSecondaryLabel,spaceSecondaryLabel=settings.spaceSecondaryLabel,compactView=settings.compactView,textHalo=settings.textHalo,allowTextOverlap=settings.allowTextOverlap,imageOpacity=settings.imageOpacity,compactview=compactView,texthalo=textHalo,textoverlap=allowTextOverlap,deskfontColor=deskPrimaryLabel.color,deskNameColor=deskSecondaryLabel.color,spacePrimaryColor=spacePrimaryLabel.color,spaceSecondaryColor=spaceSecondaryLabel.color,deskPrimarySize=deskPrimaryLabel.fontSize,deskSecondarySize=deskSecondaryLabel.fontSize,spacePrimarySize=spacePrimaryLabel.fontSize,spaceSecondarySize=spaceSecondaryLabel.fontSize;deskfontColor||(deskfontColor="black"),compactview&&(textoverlap=!0);var deskSecondaryText="secondary-label-marker",spaceSecondaryText="space-secondary-text-zone",spacePrimaryText="space-text-zone",deskCenterLabel="formated-secondary-label-marker",deskLabel="marker";this.isLayerAvailable(deskSecondaryText)&&this.map.setPaintProperty(deskSecondaryText,"text-color",deskfontColor),this.isLayerAvailable(spaceSecondaryText)&&this.map.setPaintProperty(spaceSecondaryText,"text-color",spaceSecondaryColor),this.isLayerAvailable(spacePrimaryText)&&this.map.setPaintProperty(spacePrimaryText,"text-color",spacePrimaryColor),this.isLayerAvailable(deskLabel)&&this.map.setPaintProperty(deskLabel,"text-color",deskNameColor),this.isLayerAvailable("ImageLayer")&&this.map.setPaintProperty("ImageLayer","raster-opacity",imageOpacity),compactview?(this.isLayerAvailable(deskSecondaryText)&&this.map.setLayoutProperty(deskSecondaryText,"text-size",["interpolate",["linear"],["zoom"],this.minZoom,0,this.maxZoom,this.fontSize+1]),this.map.setLayoutProperty(deskLabel,"text-size",["interpolate",["linear"],["zoom"],this.minZoom,0,this.maxZoom,this.fontSize]),this.isLayerAvailable(spacePrimaryText)&&this.map.setLayoutProperty(spacePrimaryText,"text-size",["interpolate",["linear"],["zoom"],this.minZoom,0,this.maxZoom,this.fontSize+1]),this.map.setLayoutProperty(spaceSecondaryText,"text-size",["interpolate",["linear"],["zoom"],this.minZoom,0,this.maxZoom,this.fontSize+1])):(this.map.setLayoutProperty(deskSecondaryText,"text-size",["interpolate",["linear"],["zoom"],17,2,20,deskPrimarySize]),this.map.setLayoutProperty(deskLabel,"text-size",["interpolate",["linear"],["zoom"],17,0,20,deskSecondarySize-2]),this.isLayerAvailable(spacePrimaryText)&&this.map.setLayoutProperty(spacePrimaryText,"text-size",["interpolate",["linear"],["zoom"],17,2,20,spacePrimarySize]),this.map.setLayoutProperty(spaceSecondaryText,"text-size",["interpolate",["linear"],["zoom"],17,2,20,spaceSecondarySize])),texthalo?(this.map.setPaintProperty(deskCenterLabel,"text-halo-width",1),this.map.setPaintProperty(spacePrimaryText,"text-halo-width",1),this.map.setPaintProperty(spaceSecondaryText,"text-halo-width",1),this.map.setPaintProperty(deskSecondaryText,"text-halo-width",.2)):(this.map.setPaintProperty(deskCenterLabel,"text-halo-width",0),this.map.setPaintProperty(spacePrimaryText,"text-halo-width",0),this.map.setPaintProperty(spaceSecondaryText,"text-halo-width",0),this.map.setPaintProperty(deskSecondaryText,"text-halo-width",0)),textoverlap?(this.map.setLayoutProperty(deskSecondaryText,"text-allow-overlap",!0),this.map.setLayoutProperty(deskLabel,"text-allow-overlap",!0),this.map.setLayoutProperty(spacePrimaryText,"text-allow-overlap",!0),this.map.setLayoutProperty(spaceSecondaryText,"text-allow-overlap",!0)):(this.map.setLayoutProperty(deskSecondaryText,"text-allow-overlap",!1),this.map.setLayoutProperty(deskLabel,"text-allow-overlap",!1),this.map.setLayoutProperty(spacePrimaryText,"text-allow-overlap",!1),this.map.setLayoutProperty(spaceSecondaryText,"text-allow-overlap",!1))}this.removeImage(),this.generateIcons()},patchUpdateFloorplan:function(settings){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var customizationBooking;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return customizationBooking=settings,_context4.next=3,_this6.patchUpdateBookingRecord(customizationBooking);case 3:return _context4.next=5,_this6.loadViewerData();case 5:_this6.removeImage(),_this6.generateIcons(),_this6.refreshData(),_this6.$message.success("Updated!");case 9:case"end":return _context4.stop()}}),_callee4)})))()},loadViewerData:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var _yield$_this7$getView,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _this7.floorplanloading=!0,_context5.next=3,_this7.getViewerApi();case 3:_yield$_this7$getView=_context5.sent,data=_yield$_this7$getView.data,error=_yield$_this7$getView.error,error?_this7.$message.error("error loading bookings for floor plan"):(null!==data&&void 0!==data&&data.facility&&(_this7.facilities=data.facility),null!==data&&void 0!==data&&data.facilitybooking&&(_this7.bookings=data.facilitybooking)),_this7.floorplanloading=!1,_this7.deSerializeGeoJson(),_this7.refreshData();case 10:case"end":return _context5.stop()}}),_callee5)})))()},loadBookingData:function(){var _this8=this;this.$message("updating...."),this.getViewerApi().then((function(){_this8.deSerializeGeoJson(),_this8.refreshData(),_this8.$message.close()}))},timeRangeChanged:function(){this.floorplanloading=!0,this.loadViewerData()},refreshDeskMarkers:function(){var _this9=this;
//regenerate iconname(based on current availabilty status etc) and update desk markers
this.markers.features.forEach((function(feature){feature.desk&&_this9.map.setLayoutProperty(feature.id,"icon-image",_this9.getIconName(feature.desk))}))},markerMouseEnter:function(e,f,id){e.preventDefault();var map=this.map;this.mouseMouseEnter=!0;var canvas=map.getCanvasContainer();canvas.style.cursor="pointer",this.isDraging&&f.active?map.setLayoutProperty(id,"icon-image","".concat(f.properties.markerId,"_hover")):(this.popup&&(this.popup.remove(),this.popup=null),this.popup=new(mapbox_gl_default().Popup)({closeButton:!1,closeOnClick:!1}),this.popup.setLngLat(f.geometry.coordinates).setDOMContent(this.$refs["markerTooltip"].$el).addTo(map))},markerMouseLeave:function(e,f,id){this.popup&&this.popup.remove(),this.popup=null,e.preventDefault();var map=this.map,canvas=map.getCanvasContainer();canvas.style.cursor="",this.isDraging&&f.active&&map.setLayoutProperty(id,"icon-image","".concat(f.properties.markerId)),f&&f.properties.employeeId&&this.moveElement&&!this.mouseMouseEnter&&(map["dragPan"].disable(),map.setLayoutProperty(id,"icon-image","desk"),f.desk&&f.desk.employee&&f.desk.employee.id&&this.mouseDownElement(e,f.desk.employee,f),f.properties.employeeId=null,this.$set(f.properties,"secondaryLabel",this.getDeskSecondaryLabel(f)),this.unassignDesk(f),this.updateProperty(f)),this.mouseMouseEnter=!1},initializeTimeRange:function(){var _this$customTime,_this$customTime2;if(null!==(_this$customTime=this.customTime)&&void 0!==_this$customTime&&_this$customTime.date){var orgTzDate=moment_timezone_default().tz(moment_default().utc(parseInt(this.customTime.date)),vue_runtime_esm["default"].prototype.$timezone);this.timeRange.startTime=parseInt(orgTzDate.valueOf())+parseInt(this.customTime.startTime),this.timeRange.endTime=parseInt(orgTzDate.valueOf())+parseInt(this.customTime.endTime)}else if(null!==(_this$customTime2=this.customTime)&&void 0!==_this$customTime2&&_this$customTime2.startTime){var startMoment=this.$helpers.getOrgMoment();startMoment.startOf("day"),
// startMoment.add(8, 'hour')
this.timeRange.startTime=startMoment.valueOf()+parseInt(this.customTime.startTime);var endMoment=this.$helpers.getOrgMoment();endMoment.startOf("day"),
// endMoment.add(20, 'hour')
this.timeRange.endTime=endMoment.valueOf()+parseInt(this.customTime.endTime)}else{var _startMoment=this.$helpers.getOrgMoment();_startMoment.startOf("day"),_startMoment.add(9,"hour"),this.timeRange.startTime=_startMoment.valueOf();var _endMoment=this.$helpers.getOrgMoment();_endMoment.startOf("day"),_endMoment.add(17,"hour"),this.timeRange.endTime=_endMoment.valueOf()}},afterDeserialize:function(){
//set zone colors based on reservable and availabilty status
this.zones.features.forEach((function(feature){var _feature$properties;null!==feature&&void 0!==feature&&feature.isReservable,null!==feature&&void 0!==feature&&null!==(_feature$properties=feature.properties)&&void 0!==_feature$properties&&_feature$properties.isBooked}))},setHoverEffect:function(feature){if(feature){var _newFeature$propertie;this.selectedHoverZone&&this.removeHoverEffect(this.selectedHoverZone),this.selectedHoverZone=this.$helpers.cloneObject(feature);var newFeature=this.$helpers.cloneObject(feature);null!==newFeature&&void 0!==newFeature&&null!==(_newFeature$propertie=newFeature.properties)&&void 0!==_newFeature$propertie&&_newFeature$propertie.zoneBackgroundColor&&(this.$set(newFeature.properties,"zoneBackgroundColor","#00bfff"),this.$set(newFeature.properties,"fill-outline-color","#0073cf")),this.addZoneStrokeLayer(newFeature),this.replaceFeature(newFeature)}},removeHoverEffect:function(f){f?(this.removeZoneStrokeLayer("zone-outline"),this.selectedHoverZone=this.$helpers.cloneObject(f),this.replaceFeature(this.selectedHoverZone)):(this.removeZoneStrokeLayer("zone-outline"),this.replaceFeature(this.selectedHoverZone)),this.selectedHoverZone=null},zoneMouseEnter:function(e,f){e.preventDefault();var map=this.map;this.mouseMouseEnter=!0;var canvas=map.getCanvasContainer();canvas.style.cursor="pointer",this.popup&&(this.popup.remove(),this.popup=null),this.popup=new(mapbox_gl_default().Popup)({closeButton:!1,closeOnClick:!1}),null!==f&&void 0!==f&&f.geometry&&this.popup.setLngLat(this.getPolygonCenter([f.geometry.coordinates[0]])).setDOMContent(this.$refs["markerTooltip"].$el).addTo(map)},zoneMouseLeave:function(e){this.popup&&this.popup.remove(),this.popup=null,e.preventDefault();var map=this.map,canvas=map.getCanvasContainer();canvas.style.cursor=""},handleZoneClick:function(){this.initBookingsPanel()},loadBookingForms:function(){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var _yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,api/* API */.bl.get("/v2/forms",{moduleName:_this10.bookingModuleName});case 2:_yield$API$get=_context6.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this10.$message.error("error loading facility booking "):_this10.formList=data.forms;case 6:case"end":return _context6.stop()}}),_callee6)})))()},closeForm:function(){this.showBookingsForm=!1},savedForm:function(){var _this11=this;
// console.log('form saved')
this.showBookingsForm=!1,this.showBookingsPanel=!1,this.$nextTick((0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,_this11.loadViewerData();case 2:case"end":return _context7.stop()}}),_callee7)}))))},
//   @hook implemented
loadBookingsAndFacilities:function(){var _this12=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee8(){var url,deskIds,bookableSpaceIds,allIds,params,_yield$API$post,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context8){while(1)switch(_context8.prev=_context8.next){case 0:return url="v3/floorplan/getFacilityDetails",deskIds=_this12.indoorFloorPlan.markers.filter((function(marker){var _marker$desk;return 3==(null===marker||void 0===marker||null===(_marker$desk=marker.desk)||void 0===_marker$desk?void 0:_marker$desk.deskType)})).map((function(deskMarker){var _deskMarker$desk;return null===deskMarker||void 0===deskMarker||null===(_deskMarker$desk=deskMarker.desk)||void 0===_deskMarker$desk?void 0:_deskMarker$desk.id})),bookableSpaceIds=_this12.indoorFloorPlan.markedZones.filter((function(markedZone){return markedZone.isReservable})).map((function(markedZone){var _markedZone$space;return null===markedZone||void 0===markedZone||null===(_markedZone$space=markedZone.space)||void 0===_markedZone$space?void 0:_markedZone$space.id})),allIds=[].concat((0,toConsumableArray/* default */.Z)(bookableSpaceIds),(0,toConsumableArray/* default */.Z)(deskIds)),//collect reservable space and hot desk Ids and send to api
params={spaceIds:allIds,startTime:_this12.timeRange.startTime,endTime:_this12.timeRange.endTime},_context8.next=7,api/* API */.bl.post(url,params);case 7:_yield$API$post=_context8.sent,data=_yield$API$post.data,error=_yield$API$post.error,error?_this12.$message.error("error loading bookings for floor plan"):(_this12.facilities=data.facility,_this12.bookings=data.facilitybooking);case 11:case"end":return _context8.stop()}}),_callee8)})))()},afterDataLoadHook:function(){return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee9(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context9){while(1)switch(_context9.prev=_context9.next){case 0:case"end":return _context9.stop()}}),_callee9)})))()}//this.loadViewerData()
,initBookingsPanel:function(){var properties=this.selectedFeature.properties,basespaeceId=properties.deskId||properties.spaceId;this.clickedFacility=this.facilities[basespaeceId],basespaeceId&&(this.clickedFacilityBookings=this.bookings[basespaeceId],this.showBookingsPanel=!0)},specialHandelforMarkerClick:function(_ref2){var markerType=_ref2.markerType,properties=_ref2.properties;
// need to remove this method
(null===markerType||void 0===markerType?void 0:markerType.fileId)>0&&(null===markerType||void 0===markerType?void 0:markerType.recordModuleId)>0&&null!==properties&&void 0!==properties&&properties.recordId?this.redirectToSummary(markerType.recordModuleId,properties.recordId):this.initBookingsPanel()},handleMarkerClick:function(){this.specialHandelforMarkerClick(this.selectedFeature)},handleBookBtn:function(slots){var _this$selectedFeature;
//clicked from popup for both space and desk
(this.showBookingsPanel=!1,this.newBooking)?this.triggerBookingForm(slots):null!==(_this$selectedFeature=this.selectedFeature)&&void 0!==_this$selectedFeature&&null!==(_this$selectedFeature=_this$selectedFeature.properties)&&void 0!==_this$selectedFeature&&_this$selectedFeature.deskId?this.triggerForm(["hot_desk_facilitybooking_web","hot_desk_facilitybooking_workplace","hot_desk_facilitybooking_portal"],this.selectedFeature.properties.deskId,slots):this.selectedFeature.isReservable&&this.triggerForm(
//web and app forms cannot have same name
["Space_facilitybooking_web","space_facilitybooking_web","space_facilitybooking_workplace","Space_facilitybooking_portal"],this.selectedFeature.properties.spaceId,slots)},
//both marked zone ->space and desk extend SPACE->Basespace . so facilty map has facilities for all these
triggerForm:function(formNames,baseSpaceId,slots){var _this$selectedFeature2;if(this.selectedForm=null,null!==(_this$selectedFeature2=this.selectedFeature)&&void 0!==_this$selectedFeature2&&null!==(_this$selectedFeature2=_this$selectedFeature2.properties)&&void 0!==_this$selectedFeature2&&_this$selectedFeature2.bookingFormId){var bookingFormId=this.selectedFeature.properties.bookingFormId;this.selectedForm=this.formList.find((function(form){return form.id===bookingFormId}))}else this.selectedForm=this.formList.find((function(form){return formNames.includes(form.name)}));var facility={id:this.facilities[baseSpaceId].id},selectedDateOrgTime=this.$helpers.getOrgMoment(this.timeRange.startTime).startOf("day").format("YYYY-MM-DD HH:mm:ss");
//prefill today.,issue in picker needs converting back to UTC
//console.log('date in org',selectedDateOrgTime)
// let selectedDateUTCTime=moment.utc(selectedDateOrgTime)
this.recordData={facility:facility,bookingDate:moment_default()(selectedDateOrgTime).valueOf(),slotList:slots.map((function(e){return{slot:e}}))},this.showBookingsForm=!0},triggerBookingForm:function(slots){var _this$selectedFeature3,bookingStartTime=slots.bookingStartTime,bookingEndTime=slots.bookingEndTime;if(this.selectedForm=null,null!==(_this$selectedFeature3=this.selectedFeature)&&void 0!==_this$selectedFeature3&&null!==(_this$selectedFeature3=_this$selectedFeature3.properties)&&void 0!==_this$selectedFeature3&&_this$selectedFeature3.bookingFormId){var _this$selectedFeature4=this.selectedFeature.properties,bookingFormId=_this$selectedFeature4.bookingFormId,markerModuleName=_this$selectedFeature4.markerModuleName,recordId=_this$selectedFeature4.recordId;this.selectedForm=this.formList.find((function(form){return form.id===bookingFormId})),this.recordData=bookingStartTime&&bookingEndTime?{bookingStartTime:bookingStartTime,bookingEndTime:bookingEndTime}:{bookingStartTime:moment_default()(this.timeRange.startTime).valueOf(),bookingEndTime:moment_default()(this.timeRange.endTime).valueOf()},"desks"===markerModuleName&&this.$set(this.recordData,"desk",{id:recordId}),"parkingstall"===markerModuleName?this.$set(this.recordData,"parkingStall",{id:recordId}):this.$set(this.recordData,"space",{id:recordId}),this.showBookingsForm=!0}else this.$message.error("No booking form found");
// let facility = { id: this.facilities[baseSpaceId].id }
//prefill today.,issue in picker needs converting back to UTC
// let selectedDateOrgTime = this.$helpers
//   .getOrgMoment(this.timeRange.startTime)
//   .startOf('day')
//   .format('YYYY-MM-DD HH:mm:ss')
//console.log('date in org',selectedDateOrgTime)
// let selectedDateUTCTime=moment.utc(selectedDateOrgTime)
// this.recordData = {
//   bookingDate: moment(selectedDateOrgTime).valueOf(),
// }
},
//   @overridden
setDeskActiveState:function(feature){
// used to set desk active state
return feature},
//Generate icon Key for a given desk ,name generated based on TYPE+BOOKING STATE
//   @overridden
getIconName:function(desk){var name="desk";
// if (desk && desk.department) {
//   name += `_${desk.department.name}`
// }
return 3==desk.deskType&&(this.bookings[desk.id]&&this.bookings[desk.id].length?name+="_hot_booked":name+="_hot_available"),2==desk.deskType&&(this.bookings[desk.id]&&this.bookings[desk.id].length?name+="_hotel_booked":name+="_hotel_available"),name},
//for each  desk_type generate an icon key:'desk_type and value->icon canvas object
//   @overridden
generateIcons:function(){var _this13=this,availableColor=this.settings.bookingState.availableColor,bookedColor=this.settings.bookingState.notAvailableColor,nonReservableColor=this.settings.bookingState.nonReservableColor;
// NO department cases
this.addDeskIcon("desk",null,null),//for no desk type, rare, usually desk has type
this.addDeskIcon("desk_hot_available",availableColor,availableColor),this.addDeskIcon("desk_hot_booked",bookedColor,bookedColor),
// this.addDeskIcon('desk_hotel_available', '#22ae5c', '#22ae5c')
// this.addDeskIcon('desk_hotel_booked', '#dc4a4c', '#dc4a4c')
this.addDeskIcon("desk_hotel_available",null,null),// now hotel desk is non reserable
this.addDeskIcon("desk_hotel_booked",null,null),
//*** */
// this.departments.forEach(department => {
//   let name = ''
//   name = `desk_${department.name}`
//   //generate icons for each type where outercolor =type.color
//   this.addDeskIcon(name, null, department.color)
//   //for HOT desk ,generate two icons , with inner color  indicating booking state
//   this.addDeskIcon(name + '_available', '#0cff00', department.color)
//   this.addDeskIcon(name + '_booked', '#ff1900', department.color)
// })
// this is for assignable desks
this.deskTypes.forEach((function(type){var name="";name="desk_".concat(type.name),_this13.addDeskIcon(name.replace(/\s+/g,""),nonReservableColor,nonReservableColor),_this13.departments.forEach((function(department){name="desk_".concat(type.name),name+="_".concat(department.name),_this13.addDeskIcon(name.replace(/\s+/g,""),nonReservableColor,nonReservableColor)}))}))},loadMetaData:function(){this.fetchFloorDetails()},fetchFloorDetails:function(){var _this14=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee10(){var params;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context10){while(1)switch(_context10.prev=_context10.next){case 0:return params={floorId:_this14.floorId},_context10.next=3,api/* API */.bl.get("v2/floor/details",params).then((function(_ref3){var data=_ref3.data;data&&(_this14.floorDetails=data.floor)}));case 3:return _context10.abrupt("return",_context10.sent);case 4:case"end":return _context10.stop()}}),_callee10)})))()}}},indoorFloorPlan_IndoorFloorPlanBookingsViewvue_type_script_lang_js=IndoorFloorPlanBookingsViewvue_type_script_lang_js,IndoorFloorPlanBookingsView_component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_IndoorFloorPlanBookingsViewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,IndoorFloorPlanBookingsView=IndoorFloorPlanBookingsView_component.exports},
/***/365768:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return IndoorFloorplanObjectList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/IndoorFloorplanObjectList.vue?vue&type=template&id=2dbf19af&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.searchText?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.showSearchList,expression:"showSearchList"}],staticClass:"floorplan-object-list-view"},[_vm.isLoading?_c("div",[_c("spinner",{attrs:{show:!0,size:"40"}})],1):_vm.searchResult.length?_c("div",{staticClass:"floorplan-object-list"},_vm._l(_vm.searchResult,(function(list,listIndex){return _c("div",{key:listIndex,staticClass:"mB15"},[_c("div",{staticClass:"list-header"},[_c("span",{staticClass:"header-icon"},["Parkings"==list.title?_c("InlineSvg",{staticClass:"flex-middle",attrs:{src:"svgs/employeePortal/parking-list",iconClass:"icon-xxxs"}}):"Space"==list.title?_c("InlineSvg",{staticClass:"flex-middle",attrs:{src:"svgs/employeePortal/meeting-room4",iconClass:"icon-xxxs"}}):"Assignable Desk"==list.title||"Hot Desk"==list.title?_c("InlineSvg",{staticClass:"flex-middle",attrs:{src:"svgs/employeePortal/hot-desk-list",iconClass:"icon-xxxs"}}):"Hotel Desk"==list.title?_c("InlineSvg",{staticClass:"flex-middle",attrs:{src:"svgs/employeePortal/icon-hoteling",iconClass:"icon-xxxs"}}):"Employees"==list.title?_c("InlineSvg",{staticClass:"flex-middle",attrs:{src:"svgs/employeePortal/employee",iconClass:"icon-xxxs"}}):_vm._e()],1),_c("span",[_vm._v(_vm._s(list.title))]),"Employees"!==list.title?_c("span",{staticClass:"header-desc"},[_vm._v(" "+_vm._s(list.children.length)+" results")]):_vm._e()]),_vm._l(list.children,(function(feature,index){return _c("div",{key:index,staticClass:"list-catalog-items d-flex ",class:{disabled:!_vm.isSpaceAssociated(feature)},on:{click:function($event){return _vm.handleClick(feature)}}},[_c("div",[_c("div",{staticClass:"list-catalog-name mL20"},[_vm._v(" "+_vm._s(feature.label)+" ")])])])}))],2)})),0):_c("div",{staticClass:"floorplan-object-list"},[_vm._m(0)])]):_vm._e()},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"mB15"},[_c("div",{staticClass:"fp-s-no-data"},[_vm._v("No data")])])}],IndoorFloorPlanBookingsListView=(__webpack_require__(634338),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(534536)),validation=__webpack_require__(990260),IndoorFloorplanObjectListvue_type_script_lang_js={extends:IndoorFloorPlanBookingsListView/* default */.Z,props:["employeesList","isLoading","showSearchList","searchText"],data:function(){return{openfloorplanData:null}},
// watch: {
//   listData: {
//     handler(newVal, oldVal) {
//       if (this.listData.length) {
//       }
//     },
//   },
// },
computed:{listData:function(){var zones=this.zones,desksType=this.desksType,markers=this.markers,employeesList=this.employeesList,zoneFeatures=null===zones||void 0===zones?void 0:zones.features,markersFeatures=null===markers||void 0===markers?void 0:markers.features,features=[].concat(zoneFeatures,markersFeatures),listData=[],parkings=[],space=[],AssignableDesk=[],hotdesk=[],hoteldesk=[];if(features&&features.length&&(features.forEach((function(feature){var _feature$properties;if(null!==feature&&void 0!==feature&&null!==(_feature$properties=feature.properties)&&void 0!==_feature$properties&&_feature$properties.markerModuleName)if("parkingstall"===feature.properties.markerModuleName)parkings.push(feature.properties);else if("space"===feature.properties.markerModuleName)space.push(feature.properties);else if("desks"===feature.properties.markerModuleName){var _feature$properties2;if(null!==feature&&void 0!==feature&&null!==(_feature$properties2=feature.properties)&&void 0!==_feature$properties2&&_feature$properties2.deskType){var type=desksType[feature.properties.deskType];"Assignable Desk"==type?AssignableDesk.push(feature.properties):"Hot Desk"==type?hotdesk.push(feature.properties):"Hotel Desk"==type&&hoteldesk.push(feature.properties)}}})),(0,validation/* isEmpty */.xb)(parkings)||listData.push({children:parkings,title:"Parkings"}),(0,validation/* isEmpty */.xb)(space)||listData.push({children:space,title:"Space"}),(0,validation/* isEmpty */.xb)(AssignableDesk)||listData.push({children:AssignableDesk,title:"Assignable Desk"}),(0,validation/* isEmpty */.xb)(hotdesk)||listData.push({children:hotdesk,title:"Hot Desk"}),(0,validation/* isEmpty */.xb)(hoteldesk)||listData.push({children:hoteldesk,title:"Hotel Desk"})),employeesList.length){employeesList.forEach((function(element){element.label=element.name}));var obj={};obj={children:this.employeesList,title:"Employees"},listData.push(obj)}return listData}},methods:{isSpaceAssociated:function(feature){return!!feature.space||!(null===feature||void 0===feature||!feature.objectId)},handleClick:function(feature){feature.space?this.$emit("actionEmployee",feature):null!==feature&&void 0!==feature&&feature.objectId&&this.changed(feature.objectId)}}},indoorFloorPlan_IndoorFloorplanObjectListvue_type_script_lang_js=IndoorFloorplanObjectListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(indoorFloorPlan_IndoorFloorplanObjectListvue_type_script_lang_js,render,staticRenderFns,!1,null,"2dbf19af",null)
/* harmony default export */,IndoorFloorplanObjectList=component.exports},
/***/327679:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FloorplanSettings}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/components/FloorplanSettings.vue?vue&type=template&id=4f9929d6&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading||_vm.isPortal?_vm._e():_c("el-popover",{attrs:{"popper-class":"fp-seting-popover p0",placement:"left",width:"350",trigger:"click"},model:{value:_vm.visibility,callback:function($$v){_vm.visibility=$$v},expression:"visibility"}},[_c("div",{staticClass:"fp-s-title pL10 p10"},[_vm._v(_vm._s(_vm.i18_text.customization))]),_c("el-collapse",{attrs:{accordion:""},model:{value:_vm.activeName,callback:function($$v){_vm.activeName=$$v},expression:"activeName"}},[_c("el-collapse-item",{staticClass:"p0",attrs:{title:_vm.i18_text.tab1,name:"common"}},[_c("div",{staticClass:"p10"},[_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.compactview)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.compactView,callback:function($$v){_vm.$set(_vm.settings,"compactView",$$v)},expression:"settings.compactView"}})],1)])],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.texthalo)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.textHalo,callback:function($$v){_vm.$set(_vm.settings,"textHalo",$$v)},expression:"settings.textHalo"}})],1)])],1),_vm.settings.compactView?_vm._e():_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.overlaptext)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.allowTextOverlap,callback:function($$v){_vm.$set(_vm.settings,"allowTextOverlap",$$v)},expression:"settings.allowTextOverlap"}})],1)])],1),_vm.isImageOpacity?_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:10}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.opacity)+" ")])]),_c("el-col",{attrs:{span:12}},[_c("el-slider",{staticClass:"fp-slider-settings",attrs:{min:.1,max:1,step:.1},model:{value:_vm.settings.imageOpacity,callback:function($$v){_vm.$set(_vm.settings,"imageOpacity",$$v)},expression:"settings.imageOpacity"}})],1)],1):_vm._e()],1)]),_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab2,name:"desk"}},[_c("div",{staticClass:"p10"},[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent",width:"250px"},model:{value:_vm.settings.deskPrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"labelType",$$v)},expression:"settings.deskPrimaryLabel.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.deskPrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"fontSize",$$v)},expression:"settings.deskPrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.deskPrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"color",$$v)},expression:"settings.deskPrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.deskPrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.deskPrimaryCustomLabel)+" ")]),_c("el-input",{staticClass:"el-input-textbox-full-border width70",attrs:{width:"250px"},model:{value:_vm.settings.deskPrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"customText",$$v)},expression:"settings.deskPrimaryLabel.customText"}}),_c("el-popover",{attrs:{placement:"left",width:"300",trigger:"click"}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-input",{staticClass:"input-box-1 mt-1 el-input-textbox-full-border ",attrs:{size:"medium",placeholder:"Search variables","suffix-icon":"el-icon-search"},model:{value:_vm.deskSearchVariables,callback:function($$v){_vm.deskSearchVariables=$$v},expression:"deskSearchVariables"}})],1)],1),_c("div",{staticClass:"checkbox-popover"},_vm._l(_vm.filteredDeskFieldList,(function(field,index){return _c("div",{key:index,staticClass:"pT10"},[_c("el-checkbox",{on:{change:function($event){return _vm.addtext(field,"deskPrimaryLabel","customText","desks")}},model:{value:field.checked,callback:function($$v){_vm.$set(field,"checked",$$v)},expression:"field.checked"}},[_vm._v(_vm._s(field.displayName))])],1)})),0),_c("el-button",{staticClass:"mL20",attrs:{slot:"reference",icon:"el-icon-s-operation"},slot:"reference"})],1)],1):_vm._e()]),_c("div",[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.secondaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent",width:"250px"},model:{value:_vm.settings.deskSecondaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"labelType",$$v)},expression:"settings.deskSecondaryLabel.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.deskSecondaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"fontSize",$$v)},expression:"settings.deskSecondaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.deskSecondaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"color",$$v)},expression:"settings.deskSecondaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.deskSecondaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.deskSecondaryCustomLabel)+" ")]),_c("el-input",{staticClass:"el-input-textbox-full-border width70",attrs:{width:"250px"},model:{value:_vm.settings.deskSecondaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"customText",$$v)},expression:"settings.deskSecondaryLabel.customText"}}),_c("el-popover",{attrs:{placement:"left",width:"300",trigger:"click"}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-input",{staticClass:"input-box-1 mt-1 el-input-textbox-full-border ",attrs:{size:"medium",placeholder:"Search variables","suffix-icon":"el-icon-search"},model:{value:_vm.deskSearchVariables,callback:function($$v){_vm.deskSearchVariables=$$v},expression:"deskSearchVariables"}})],1)],1),_c("div",{staticClass:"checkbox-popover"},_vm._l(_vm.filteredDeskFieldList,(function(field,index){return _c("div",{key:index,staticClass:"pT10"},[_c("el-checkbox",{on:{change:function($event){return _vm.addtext(field,"deskSecondaryLabel","customText","desks")}},model:{value:field.checked,callback:function($$v){_vm.$set(field,"checked",$$v)},expression:"field.checked"}},[_vm._v(_vm._s(field.displayName))])],1)})),0),_c("el-button",{staticClass:"mL20",attrs:{slot:"reference",icon:"el-icon-s-operation"},slot:"reference"})],1)],1):_vm._e()])])])]),_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab3,name:"space"}},[_c("div",{staticClass:"p10"},[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.spacePrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"labelType",$$v)},expression:"settings.spacePrimaryLabel.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.spacePrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"fontSize",$$v)},expression:"settings.spacePrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spacePrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"color",$$v)},expression:"settings.spacePrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.spacePrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.spacePrimaryCustomLabel)+" ")]),_c("el-input",{staticClass:"el-input-textbox-full-border width70",attrs:{width:"250px"},model:{value:_vm.settings.spacePrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"customText",$$v)},expression:"settings.spacePrimaryLabel.customText"}}),_c("el-popover",{attrs:{placement:"left",width:"300",trigger:"click"}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-input",{staticClass:"input-box-1 mt-1 el-input-textbox-full-border ",attrs:{size:"medium",placeholder:"Search variables","suffix-icon":"el-icon-search"},model:{value:_vm.spaceSearchVariables,callback:function($$v){_vm.spaceSearchVariables=$$v},expression:"spaceSearchVariables"}})],1)],1),_c("div",{staticClass:"checkbox-popover"},_vm._l(_vm.filteredSpaceFieldList,(function(field,index){return _c("div",{key:index,staticClass:"pT10"},[_c("el-checkbox",{on:{change:function($event){return _vm.addtext(field,"spacePrimaryLabel","customText","space")}},model:{value:field.checked,callback:function($$v){_vm.$set(field,"checked",$$v)},expression:"field.checked"}},[_vm._v(_vm._s(field.displayName))])],1)})),0),_c("el-button",{staticClass:"mL20",attrs:{slot:"reference",icon:"el-icon-s-operation"},slot:"reference"})],1)],1):_vm._e()]),_c("div",[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.secondaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.spaceSecondaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"labelType",$$v)},expression:"settings.spaceSecondaryLabel.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.spaceSecondaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"fontSize",$$v)},expression:"settings.spaceSecondaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spaceSecondaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"color",$$v)},expression:"settings.spaceSecondaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.spaceSecondaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.spaceSecondaryCustomLabel)+" ")]),_c("el-input",{staticClass:"el-input-textbox-full-border width70",attrs:{width:"250px"},model:{value:_vm.settings.spaceSecondaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"customText",$$v)},expression:"settings.spaceSecondaryLabel.customText"}}),_c("el-popover",{attrs:{placement:"left",width:"300",trigger:"click"}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-input",{staticClass:"input-box-1 mt-1 el-input-textbox-full-border ",attrs:{size:"medium",placeholder:"Search variables","suffix-icon":"el-icon-search"},model:{value:_vm.spaceSearchVariables,callback:function($$v){_vm.spaceSearchVariables=$$v},expression:"spaceSearchVariables"}})],1)],1),_c("div",{staticClass:"checkbox-popover"},_vm._l(_vm.filteredSpaceFieldList,(function(field,index){return _c("div",{key:index,staticClass:"pT10"},[_c("el-checkbox",{on:{change:function($event){return _vm.addtext(field,"spaceSecondaryLabel","customText","space")}},model:{value:field.checked,callback:function($$v){_vm.$set(field,"checked",$$v)},expression:"field.checked"}},[_vm._v(_vm._s(field.displayName))])],1)})),0),_c("el-button",{staticClass:"mL20",attrs:{slot:"reference",icon:"el-icon-s-operation"},slot:"reference"})],1)],1):_vm._e()])]),"ASSIGNMENT"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.nonreservable)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spaceBookingState.nonReservableColor,callback:function($$v){_vm.$set(_vm.settings.spaceBookingState,"nonReservableColor",$$v)},expression:"settings.spaceBookingState.nonReservableColor"}})],1)])],1)],1):_vm._e()])]),"ASSIGNMENT"===_vm.viewerMode&&_vm.parkingList.length?_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab5,name:"assignemntState"}},[_c("div",{staticClass:"p10"},["ASSIGNMENT"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.unassigned)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},on:{change:function($event){return _vm.assignmentSpaceColorChange(_vm.settings.assignmentState,"unAssignedOpacity",_vm.settings.assignmentState.unAssignedColor)}},model:{value:_vm.settings.assignmentState.unAssignedColor,callback:function($$v){_vm.$set(_vm.settings.assignmentState,"unAssignedColor",$$v)},expression:"settings.assignmentState.unAssignedColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.assigned)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},on:{change:function($event){return _vm.assignmentSpaceColorChange(_vm.settings.assignmentState,"assignedOpacity",_vm.settings.assignmentState.assignedColor)}},model:{value:_vm.settings.assignmentState.assignedColor,callback:function($$v){_vm.$set(_vm.settings.assignmentState,"assignedColor",$$v)},expression:"settings.assignmentState.assignedColor"}})],1)])],1)],1):_vm._e()])]):_vm._e(),"BOOKING"===_vm.viewerMode?_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab4,name:"bookingstate"}},[_c("div",{staticClass:"p10"},["BOOKING"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.available)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.availableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"availableColor",$$v)},expression:"settings.bookingState.availableColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.booked)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.notAvailableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"notAvailableColor",$$v)},expression:"settings.bookingState.notAvailableColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.notreservable)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.nonReservableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"nonReservableColor",$$v)},expression:"settings.bookingState.nonReservableColor"}})],1)])],1)],1):_vm._e()])]):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.reset}},[_c("span",[_vm._v(_vm._s(_vm.$t("common._common.reset")))])]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.applying},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.applying?_vm.$t("common._common.applying"):_vm.$t("common._common.apply"))+" ")])],1),_vm.loading?_vm._e():_c("div",{staticClass:"fp-settings",attrs:{slot:"reference"},slot:"reference"},[_c("el-button",{staticClass:"fp-stng-btn",attrs:{icon:"el-icon-s-tools"}})],1)],1)},staticRenderFns=[],colors=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(648324),__webpack_require__(519898)),FloorplanSettingsvue_type_script_lang_js={props:["settingsJson","viewerMode","isPortal","parkingList"],data:function(){return{loading:!0,activeName:"common",settings:null,settingsClone:null,visibility:!0,applying:!1,i18_text:{compactview:"Compact View",texthalo:"Text Outline",overlaptext:"Overlap Text",fontSize:"Size",fontColor:"Color",fontA:"A",floorplansettings:"SETTINGS",customization:"CUSTOMIZATION",tab1:"General",tab2:"Desk",tab3:"Space",tab4:"Booking State",tab5:"Space Assignment State",primaryText:"Primary Label",deskPrimaryCustomLabel:"Desk Primary Custom Label",deskSecondaryCustomLabel:"Desk Secondary Custom Label",spacePrimaryCustomLabel:"Space Primary Custom Label",spaceSecondaryCustomLabel:"Space Secondary Custom Label",available:"Available",notreservable:"Non Reservable",booked:"Booked",nonreservable:"Space Background",opacity:"Image Opacity",secondaryText:"Secondary Label",unassigned:"Unassigned",assigned:"Assigned"},labelTypes:[{name:"Full Name",value:"FULL_NAME"},{name:"First Name",value:"FIRST_NAME"},{name:"Last Name",value:"LAST_NAME"},{name:"Initial With First Name",value:"INITIAL_WITH_FIRST_NAME"},{name:"Initial With Last Name",value:"INITIAL_WITH_LAST_NAME"},{name:"Desk Name",value:"DESK_NAME"},{name:"None",value:"RETURN_NULL"},{name:"Custom",value:"CUSTOM"}],fontSizeSet:[10,11,12,13,14,15,16,17,18,19,20],spaceLabelTypes:[{name:"Space Name",value:"DEFAULT"},{name:"Category",value:"CATEGORY"},{name:"None",value:"RETURN_NULL"},{name:"Custom",value:"CUSTOM"}],deskFields:[],spaceFields:[],deskSearchVariables:null,spaceSearchVariables:null}},mounted:function(){var _this=this;this.loading=!0,this.getSettings(),this.$nextTick((function(){_this.loading=!1}))},created:function(){this.loadFields()},computed:{filteredDeskFieldList:function(){var _this2=this,fields=[];return this.deskFields.forEach((function(rt){rt["checked"]=!1,(null===_this2.deskSearchVariables||rt.displayName.toLowerCase().indexOf(_this2.deskSearchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields},filteredSpaceFieldList:function(){var _this3=this,fields=[];return this.spaceFields.forEach((function(rt){rt["checked"]=!1,(null===_this3.spaceSearchVariables||rt.displayName.toLowerCase().indexOf(_this3.spaceSearchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields},isImageOpacity:function(){var _this$$route;return!(null===(_this$$route=this.$route)||void 0===_this$$route||null===(_this$$route=_this$$route.query)||void 0===_this$$route||!_this$$route.opacity)}},watch:{settings:{handler:function(newval,oldval){null!==oldval&&this.applyChanges()},deep:!0},settingsJson:{handler:function(){this.applying=!1,this.getSettings()},deep:!0}},methods:{assignmentSpaceColorChange:function(data,key,color){if(color){var opacity=color.replace(/^.*,(.+)\)/,"$1");opacity&&Number(opacity)>0?this.$set(data,key,opacity):this.$set(data,key,.3)}},reset:function(){this.getSettings(),this.visibility=!1},save:function(){this.applying=!0,this.saveChanges()},addtext:function(field,module,label,moduleName){var _field$lookupModule;field.checked?(null===this.settings[module][label]&&(this.settings[module][label]=""),this.settings[module][label]+="${",null!==field&&void 0!==field&&null!==(_field$lookupModule=field.lookupModule)&&void 0!==_field$lookupModule&&_field$lookupModule.name?this.settings[module][label]+="".concat(moduleName,".").concat(field.name,".name"):this.settings[module][label]+="".concat(moduleName,".").concat(field.name),this.settings[module][label]+="}"):this.removetext(field);this.applyChanges()},removetext:function(field,module,label){var text="${"+field.name+"}";this.settings[module][label]=this.settings[module][label].replace(text,"")},loadFields:function(){var _this4=this;this.$util.loadModuleMeta("desks").then((function(meta){meta.fields.forEach((function(rt){_this4.$set(rt,"checked",!1)})),_this4.deskFields=meta.fields})),this.$util.loadModuleMeta("space").then((function(meta){meta.fields.forEach((function(rt){_this4.$set(rt,"checked",!1)})),_this4.spaceFields=meta.fields}))},getPredefinedColors:function(){return colors/* default */.Z.readingcardColors},setFontSize:function(size){this.$set(this.settings.commonSettings,"fontSize",size)},getSettings:function(){this.checkmissingData(this.settingsJson),// need to remove this methods
this.settings=this.$helpers.cloneObject(this.settingsJson),this.settingsClone=this.$helpers.cloneObject(this.settingsJson)},checkmissingData:function(settingJson){var _settingJson$assignme;null!==settingJson&&void 0!==settingJson&&null!==(_settingJson$assignme=settingJson.assignmentState)&&void 0!==_settingJson$assignme&&_settingJson$assignme.unAssignedColor||this.$set(settingJson,"assignmentState",{assignedColor:"rgba(255, 0, 0,0.3)",unAssignedColor:"rgba(0, 0, 0,0.3)",unAssignedOpacity:.3,assignedOpacity:.3})},setSettings:function(){localStorage.setItem("fpSettings",JSON.stringify(this.settings))},saveChanges:function(){this.$emit("handleSettings",this.settings);
// this.setSettings()
},applyChanges:function(){this.$emit("applySettings",this.settings);
// this.setSettings()
}}},components_FloorplanSettingsvue_type_script_lang_js=FloorplanSettingsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FloorplanSettingsvue_type_script_lang_js,render,staticRenderFns,!1,null,"4f9929d6",null)
/* harmony default export */,FloorplanSettings=component.exports},
/***/758676:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FloorplanTypeSwitcher}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/components/FloorplanTypeSwitcher.vue?vue&type=template&id=6f1a97a8&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fp-tyoe-switch"},[_vm.floorplanTypes.size>1?_c("el-select",{staticClass:"mapbox-select  fc-floorplan-room mR10",attrs:{filterable:"","default-first-option":"",placeholder:"Type",size:"mini"},on:{change:_vm.setType},model:{value:_vm.floorplanId,callback:function($$v){_vm.floorplanId=$$v},expression:"floorplanId"}},_vm._l(_vm.floorplanTypes,(function(value,key){return _c("el-option",{key:key,attrs:{label:_vm.types[key],value:value.id}})})),1):_vm._e(),_vm.showDropdown?[_c("el-dropdown",{attrs:{trigger:"click"},on:{command:_vm.handleFloorplanSwitch}},[_c("el-button",{staticClass:"floorplan-mode-swicth"},[_vm._v(" Edit Layout"),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_vm._l(_vm.actionTypes,(function(value,index){return value.permission?_c("el-dropdown-item",{key:index,attrs:{command:value.viewerMode}},[_vm._v(_vm._s(value.name))]):_vm._e()})),_c("el-dropdown-item")],2)],1)]:_vm._e()],2)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),eventBus=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(398011)),vuex_esm=__webpack_require__(420629),FloorplanTypeSwitchervue_type_script_lang_js={props:["floorplanTypes","indoorFloorplanFields","viewerMode"],data:function(){return{types:{1:"Workstation",2:"Lockers",3:"Parkings"},floorplanId:null,viewType:null}},mounted:function(){this.setFloorplanTypes(),this.setFloorplanType(),this.setVieMode()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),(0,vuex_esm/* mapState */.rn)("webtabs",{currentTab:function(state){return state.selectedTab}})),(0,vuex_esm/* mapGetters */.Se)("webtabs",["tabHasPermission"])),{},{hasEditPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("EDIT",currentTab)},hasCreatePermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("CREATE",currentTab)},hasViewPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW",currentTab)},hasViewAssignmentPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT",currentTab)},hasAssignmentDepartmentPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT_DEPARTMENT",currentTab)},hasAssignmentOwnPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_ASSIGNMENT_OWN",currentTab)},hasViewBookingPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_BOOKING",currentTab)},hasBookingDepartmentPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_BOOKING_DEPARTMENT",currentTab)},hasBookingOwnPermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("VIEW_BOOKING_OWN",currentTab)},showEditOption:function(){return!(!this.hasViewPermission||!this.hasEditPermission)},showCreateOption:function(){return!(!this.hasViewPermission||!this.hasCreatePermission)},showViewOption:function(){return!!this.hasViewPermission},showViewAssignmentOption:function(){return!(!this.hasViewPermission||!this.hasViewAssignmentPermission)},showAssignmentDepartmentOption:function(){return!(!this.hasViewPermission||!this.hasAssignmentDepartmentPermission)},showAssignmentOwnOption:function(){return!(!this.hasViewPermission||!this.hasAssignmentOwnPermission)},showViewBookingOption:function(){return!(!this.hasViewPermission||!this.hasViewBookingPermission)},showBookingDepartmentOption:function(){return!(!this.hasViewPermission||!this.hasBookingDepartmentPermission)},showBookingOwnOption:function(){return!(!this.hasViewPermission||!this.hasBookingOwnPermission)},showDropdown:function(){return this.showViewOption&&(this.showEditOption||this.showCreateOption)&&"BOOKING"===this.viewerMode&&this.$helpers.isLicenseEnabled("NEW_FLOORPLAN")},actionTypes:function(){return[{name:"Edit Assignment",viewerMode:"ASSIGNMENT",permission:this.showViewAssignmentOption||this.showAssignmentDepartmentOption||this.showAssignmentOwnOption},{name:"Edit Floorplan",viewerMode:"edit",permission:this.showEditOption}]},floorplanFieldTypes:function(){if(this.indoorFloorplanFields&&this.indoorFloorplanFields.length){var field=this.indoorFloorplanFields.forEach((function(field){return"floorPlanType"===field.name}));return null!==field&&void 0!==field&&field.enumMap?field.enumMap:null}return null},floorplanquery:function(){return this.$route.query?(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},this.$route.query),{},{type:this.floorplanType}):{type:this.floorplanType}},indoorFloorplanId:function(){return this.$route&&this.$route.params.floorplanid?parseInt(this.$route.params.floorplanid):null}}),methods:{setVieMode:function(){this.viewType=this.viewerMode},handleFloorplanSwitch:function(data){"ASSIGNMENT"===data&&eventBus/* eventBus */.Y.$emit("OPEN_ASSIGNMENT_IN_DIALOG",data),eventBus/* eventBus */.Y.$emit("SWITCH_FLOORPLAN_MODE",data)},setFloorplanTypes:function(){this.floorplanFieldTypes&&(this.types=this.floorplanFieldTypes)},setFloorplanType:function(){this.indoorFloorplanId&&(this.floorplanId=Number(this.indoorFloorplanId))},setType:function(){this.floorplanId&&this.$router.push({params:{floorplanid:this.floorplanId}})}}},components_FloorplanTypeSwitchervue_type_script_lang_js=FloorplanTypeSwitchervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FloorplanTypeSwitchervue_type_script_lang_js,render,staticRenderFns,!1,null,"6f1a97a8",null)
/* harmony default export */,FloorplanTypeSwitcher=component.exports},
/***/856071:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return IndoorFloorplanSearch2}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/components/IndoorFloorplanSearch2.vue?vue&type=template&id=365b5968
var render=function(){var this$1=this,_vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"floorplan-search-new"},[_c("div",{staticClass:"fp-search-area-new",class:{"fc-search-box-shadow":_vm.scrollPosition>2}},[_c("div",{staticClass:"fc-search-bottom-border inline width100 inline-flex self-center"},[_c("el-input",{staticClass:"width100 fc-input-full-border2 fc-input-full-border2-prefix",attrs:{size:"medium",placeholder:"Search",clearable:""},on:{input:function($event){return _vm.searchContent()},focus:function(){this$1.focused=!0,this$1.showSearchList=!0},blur:function($event){return _vm.blurSearchBox()}},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}},[_c("i",{staticClass:"el-input__icon pointer fc-grey8 f14 fwBold el-icon-search mR5",attrs:{slot:"prefix"},slot:"prefix"})])],1),_vm.focused||Object.keys(_vm.serachResult).length?[_c("div",{},[_c("div",{staticClass:"fp-filter-section "},["employee"===_vm.selectedModule?_c("div",{staticClass:"flex"},[_c("div",{staticClass:"p10 pL0 pT0"},[_c("el-select",{staticClass:"fc-input-full-border-select2 round-select",attrs:{prop:"agents",filterable:"","default-first-option":"",placeholder:"Employee",size:"mini"},on:{change:_vm.searchContent},model:{value:_vm.selectedFilter[_vm.selectedModule]["assignment"],callback:function($$v){_vm.$set(_vm.selectedFilter[_vm.selectedModule],"assignment",$$v)},expression:"selectedFilter[selectedModule]['assignment']"}},_vm._l(_vm.filtersOptions[_vm.selectedModule]["assignment"],(function(filter,index){return _c("el-option",{key:index,attrs:{label:filter.name,value:filter.value,"no-data-text":"No filter",clearable:""}})})),1)],1),_c("div",{staticClass:"p10 pL0 pT0"},[_c("el-select",{staticClass:"fc-input-full-border-select2 round-select",attrs:{prop:"agents",filterable:"",clearable:"","default-first-option":"",placeholder:"Department",size:"mini"},on:{change:_vm.searchContent},model:{value:_vm.selectedFilter[_vm.selectedModule]["department"],callback:function($$v){_vm.$set(_vm.selectedFilter[_vm.selectedModule],"department",$$v)},expression:"selectedFilter[selectedModule]['department']"}},_vm._l(_vm.departments,(function(department,index){return _c("el-option",{key:index,attrs:{label:department.name,value:department.id,"no-data-text":"No Data"}})})),1)],1)]):"desks"===_vm.selectedModule?_c("div",{staticClass:"flex"},[_c("div",{staticClass:"p10 pL0 pT0"},[_c("el-select",{staticClass:"fc-input-full-border-select2 round-select",attrs:{filterable:"","default-first-option":"",placeholder:"Desk type",size:"mini"},on:{change:_vm.searchContent},model:{value:_vm.selectedFilter[_vm.selectedModule]["desktype"],callback:function($$v){_vm.$set(_vm.selectedFilter[_vm.selectedModule],"desktype",$$v)},expression:"selectedFilter[selectedModule]['desktype']"}},_vm._l(_vm.filtersOptions[_vm.selectedModule]["desktypes"],(function(filter,index){return _c("el-option",{key:index,attrs:{label:filter.name,value:filter.value,"no-data-text":"No filter",clearable:""}})})),1)],1)]):"space"===_vm.selectedModule?_c("div",{staticClass:"flex"},[_c("div",{staticClass:"p10 pL0 pT0"},[_c("el-select",{staticClass:"fc-input-full-border-select2 round-select fc-floorplan-room",attrs:{filterable:"","default-first-option":"",placeholder:"Capacity",size:"mini"},on:{change:_vm.searchContent},model:{value:_vm.selectedFilter[_vm.selectedModule]["capcity"],callback:function($$v){_vm.$set(_vm.selectedFilter[_vm.selectedModule],"capcity",$$v)},expression:"selectedFilter[selectedModule]['capcity']"}},[_c("i",{staticClass:"el-icon-user-solid f12",staticStyle:{color:"#a9aacb","padding-top":"9px"},attrs:{slot:"prefix"},slot:"prefix"}),_vm._l(_vm.filtersOptions[_vm.selectedModule]["capcity"],(function(filter,index){return _c("el-option",{key:index,attrs:{label:filter.name,value:filter.value,"no-data-text":"No filter",clearable:""}})}))],2)],1)]):"lockers"===_vm.selectedModule||"parkingstall"===_vm.selectedModule?_c("div",{staticClass:"flex"},[_c("div",{staticClass:"p10 pL0 pT0"},[_c("el-select",{staticClass:"fc-input-full-border-select2 round-select",attrs:{filterable:"","default-first-option":"",placeholder:"Status",size:"mini"},on:{change:_vm.searchContent},model:{value:_vm.selectedFilter[_vm.selectedModule]["status"],callback:function($$v){_vm.$set(_vm.selectedFilter[_vm.selectedModule],"status",$$v)},expression:"selectedFilter[selectedModule]['status']"}},_vm._l(_vm.filtersOptions[_vm.selectedModule]["status"],(function(filter,index){return _c("el-option",{key:index,attrs:{label:filter.name,value:filter.value,"no-data-text":"No filter",clearable:""}})})),1)],1)]):_vm._e()])])]:_vm._e(),_c("div",{staticClass:"sidebarhide",on:{click:function($event){return _vm.handleSideBar()}}},[_c("div",{staticClass:"sidebarhide-bar"},[_vm.hidesidebar?_c("i",{staticClass:"el-icon-arrow-right"}):_c("i",{staticClass:"el-icon-arrow-left"})])])],2),_vm.showSearchList?_c("div",{staticClass:"search-result-component"},[_c("IndoorFloorplanObjectList",{attrs:{searchText:_vm.search}})],1):_vm._e()])},staticRenderFns=[],IndoorFloorplanSearch=__webpack_require__(103649),IndoorFloorplanObjectList=__webpack_require__(365768),debounce=__webpack_require__(23279),debounce_default=__webpack_require__.n(debounce),IndoorFloorplanSearch2vue_type_script_lang_js={extends:IndoorFloorplanSearch/* default */.Z,components:{IndoorFloorplanObjectList:IndoorFloorplanObjectList/* default */.Z},data:function(){return{showSearchList:!1}},methods:{blurSearchBox:debounce_default()((function(){this.showSearchList=!1}),1e3)}},components_IndoorFloorplanSearch2vue_type_script_lang_js=IndoorFloorplanSearch2vue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_IndoorFloorplanSearch2vue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,IndoorFloorplanSearch2=component.exports},
/***/30903:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewFloorPlanSettings}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/indoorFloorPlan/components/NewFloorPlanSettings.vue?vue&type=template&id=0ac8f646&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading||_vm.isPortal?_vm._e():_c("el-popover",{attrs:{"popper-class":"fp-seting-popover p0",placement:"left",width:"350",trigger:"click"},model:{value:_vm.visibility,callback:function($$v){_vm.visibility=$$v},expression:"visibility"}},[_c("div",{staticClass:"fp-s-title pL10 p10"},[_vm._v(_vm._s(_vm.i18_text.customization))]),_c("el-collapse",{attrs:{accordion:""},model:{value:_vm.activeName,callback:function($$v){_vm.activeName=$$v},expression:"activeName"}},[_c("el-collapse-item",{staticClass:"p0",attrs:{title:_vm.i18_text.tab1,name:"common"}},[_c("div",{staticClass:"p10"},[_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.compactview)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.compactView,callback:function($$v){_vm.$set(_vm.settings,"compactView",$$v)},expression:"settings.compactView"}})],1)])],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.texthalo)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.textHalo,callback:function($$v){_vm.$set(_vm.settings,"textHalo",$$v)},expression:"settings.textHalo"}})],1)])],1),_vm.settings.compactView?_vm._e():_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:18}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.overlaptext)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"fp-setting-switch"},[_c("el-switch",{model:{value:_vm.settings.allowTextOverlap,callback:function($$v){_vm.$set(_vm.settings,"allowTextOverlap",$$v)},expression:"settings.allowTextOverlap"}})],1)])],1),_vm.isImageOpacity?_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:10}},[_c("div",{staticClass:"fp-stng-label pL5"},[_vm._v(" "+_vm._s(_vm.i18_text.opacity)+" ")])]),_c("el-col",{attrs:{span:12}},[_c("el-slider",{staticClass:"fp-slider-settings",attrs:{min:.1,max:1,step:.1},model:{value:_vm.settings.imageOpacity,callback:function($$v){_vm.$set(_vm.settings,"imageOpacity",$$v)},expression:"settings.imageOpacity"}})],1)],1):_vm._e()],1)]),_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab2,name:"desk"}},[_c("div",{staticClass:"fp-module-setting-dropdown"},[_c("div",{staticClass:"fp-stng-heading"},[_vm._v(_vm._s("Customise Marker"))]),_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent",width:"250px"},model:{value:_vm.settings.deskPrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"labelType",$$v)},expression:"settings.deskPrimaryLabel.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.deskPrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"fontSize",$$v)},expression:"settings.deskPrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.deskPrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"color",$$v)},expression:"settings.deskPrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.deskPrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.deskPrimaryCustomLabel)+" ")]),_vm.filteredDeskFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"desks",fieldList:_vm.filteredDeskFieldList},model:{value:_vm.settings.deskPrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.deskPrimaryLabel,"customText",$$v)},expression:"settings.deskPrimaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.secondaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Agent",width:"250px"},model:{value:_vm.settings.deskSecondaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"labelType",$$v)},expression:"settings.deskSecondaryLabel.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.deskSecondaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"fontSize",$$v)},expression:"settings.deskSecondaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.deskSecondaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"color",$$v)},expression:"settings.deskSecondaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.deskSecondaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.deskSecondaryCustomLabel)+" ")]),_vm.filteredDeskFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"desks",fieldList:_vm.filteredDeskFieldList},model:{value:_vm.settings.deskSecondaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.deskSecondaryLabel,"customText",$$v)},expression:"settings.deskSecondaryLabel.customText"}}):_vm._e()],1):_vm._e()])]),_c("div",{staticClass:"fp-stng-heading pT20"},[_vm._v(_vm._s("Customise Tooltip"))]),_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.deskToolTipPrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.deskToolTipPrimaryLabel,"labelType",$$v)},expression:"settings.deskToolTipPrimaryLabel.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.deskToolTipPrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.deskToolTipPrimaryLabel,"fontSize",$$v)},expression:"settings.deskToolTipPrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.deskToolTipPrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.deskToolTipPrimaryLabel,"color",$$v)},expression:"settings.deskToolTipPrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.deskToolTipPrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Primary Label")+" ")]),_vm.filteredDeskFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"desks",fieldList:_vm.filteredDeskFieldList},model:{value:_vm.settings.deskToolTipPrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.deskToolTipPrimaryLabel,"customText",$$v)},expression:"settings.deskToolTipPrimaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Secondary Label")+" ")]),_c("AddLabel",{attrs:{defaultdata:_vm.defaultData},scopedSlots:_vm._u([{key:"default",fn:function(slotData){return[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:slotData.data.labelType,callback:function($$v){_vm.$set(slotData.data,"labelType",$$v)},expression:"slotData.data.labelType"}},_vm._l(_vm.labelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1)],1),"CUSTOM"===slotData.data.labelType?_c("div",{staticClass:"pT10"},[_vm.filteredSpaceFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"space",fieldList:_vm.filteredDeskFieldList},model:{value:slotData.data.customText,callback:function($$v){_vm.$set(slotData.data,"customText",$$v)},expression:"slotData.data.customText"}}):_vm._e()],1):_vm._e()])]}}],null,!1,1940561845),model:{value:_vm.settings.deskToolTipSecondaryLabel,callback:function($$v){_vm.$set(_vm.settings,"deskToolTipSecondaryLabel",$$v)},expression:"settings.deskToolTipSecondaryLabel"}})],1)]),_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab3,name:"space"}},[_c("div",{staticClass:"fp-module-setting-dropdown"},[_c("div",{staticClass:"fp-stng-heading"},[_vm._v(_vm._s("Customise Marker"))]),_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.spacePrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"labelType",$$v)},expression:"settings.spacePrimaryLabel.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.spacePrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"fontSize",$$v)},expression:"settings.spacePrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spacePrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"color",$$v)},expression:"settings.spacePrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.spacePrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.spacePrimaryCustomLabel)+" ")]),_vm.filteredSpaceFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"space",fieldList:_vm.filteredSpaceFieldList},model:{value:_vm.settings.spacePrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.spacePrimaryLabel,"customText",$$v)},expression:"settings.spacePrimaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.secondaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.spaceSecondaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"labelType",$$v)},expression:"settings.spaceSecondaryLabel.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.spaceSecondaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"fontSize",$$v)},expression:"settings.spaceSecondaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spaceSecondaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"color",$$v)},expression:"settings.spaceSecondaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.spaceSecondaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s(_vm.i18_text.spaceSecondaryCustomLabel)+" ")]),_vm.spaceSearchVariables.length?_c("PlaceHolderInput",{attrs:{moduleName:"space",fieldList:_vm.spaceSearchVariables},model:{value:_vm.settings.spaceSecondaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.spaceSecondaryLabel,"customText",$$v)},expression:"settings.spaceSecondaryLabel.customText"}}):_vm._e()],1):_vm._e()])]),"ASSIGNMENT"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.nonreservable)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spaceBookingState.nonReservableColor,callback:function($$v){_vm.$set(_vm.settings.spaceBookingState,"nonReservableColor",$$v)},expression:"settings.spaceBookingState.nonReservableColor"}})],1)])],1)],1):_vm._e(),_c("div",{staticClass:"fp-stng-heading pT20"},[_vm._v(_vm._s(" Customise Tooltip"))]),_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.primaryText))]),_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5 width60",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:_vm.settings.spaceToolTipPrimaryLabel.labelType,callback:function($$v){_vm.$set(_vm.settings.spaceToolTipPrimaryLabel,"labelType",$$v)},expression:"settings.spaceToolTipPrimaryLabel.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1),_c("el-select",{staticClass:"fc-input-full-border-select2 mL5 mT5 pR5 width20",attrs:{filterable:"","default-first-option":"",placeholder:"Font Size",width:"250px"},model:{value:_vm.settings.spaceToolTipPrimaryLabel.fontSize,callback:function($$v){_vm.$set(_vm.settings.spaceToolTipPrimaryLabel,"fontSize",$$v)},expression:"settings.spaceToolTipPrimaryLabel.fontSize"}},_vm._l(_vm.fontSizeSet,(function(size){return _c("el-option",{key:size,attrs:{label:size,value:size,"no-data-text":"No data available",clearable:""}})})),1),_c("div",{staticClass:"p5"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.spaceToolTipPrimaryLabel.color,callback:function($$v){_vm.$set(_vm.settings.spaceToolTipPrimaryLabel,"color",$$v)},expression:"settings.spaceToolTipPrimaryLabel.color"}})],1)],1),"CUSTOM"===_vm.settings.spaceToolTipPrimaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Primary Label")+" ")]),_vm.filteredSpaceFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"space",fieldList:_vm.filteredSpaceFieldList},model:{value:_vm.settings.spaceToolTipPrimaryLabel.customText,callback:function($$v){_vm.$set(_vm.settings.spaceToolTipPrimaryLabel,"customText",$$v)},expression:"settings.spaceToolTipPrimaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",{staticClass:"fp-stng-label"},[_vm._v(_vm._s(_vm.i18_text.secondaryText))]),_c("AddLabel",{attrs:{defaultdata:_vm.defaultData},scopedSlots:_vm._u([{key:"default",fn:function(slotData){return[_c("div",{staticClass:"flex p5 flex-col"},[_c("div",{staticClass:"flex"},[_c("el-select",{staticClass:"fc-input-full-border-select2 mL0 mT5 pL0 pR5",attrs:{filterable:"","default-first-option":"",placeholder:"Select Primary Text",width:"250px"},model:{value:slotData.data.labelType,callback:function($$v){_vm.$set(slotData.data,"labelType",$$v)},expression:"slotData.data.labelType"}},_vm._l(_vm.spaceLabelTypes,(function(type,index){return _c("el-option",{key:index,attrs:{label:type.name,value:type.value,"no-data-text":"No data available",clearable:""}})})),1)],1),"CUSTOM"===slotData.data.labelType?_c("div",{staticClass:"pT10"},[_vm.filteredSpaceFieldList.length?_c("PlaceHolderInput",{attrs:{moduleName:"space",fieldList:_vm.filteredSpaceFieldList},model:{value:slotData.data.customText,callback:function($$v){_vm.$set(slotData.data,"customText",$$v)},expression:"slotData.data.customText"}}):_vm._e()],1):_vm._e()])]}}],null,!1,3367951820),model:{value:_vm.settings.spaceToolTipSecondaryLabel,callback:function($$v){_vm.$set(_vm.settings,"spaceToolTipSecondaryLabel",$$v)},expression:"settings.spaceToolTipSecondaryLabel"}})],1)]),"ASSIGNMENT"===_vm.viewerMode&&_vm.parkingList.length?_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab5,name:"assignemntState"}},[_c("div",{staticClass:"p10"},["ASSIGNMENT"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.unassigned)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},on:{change:function($event){return _vm.assignmentSpaceColorChange(_vm.settings.assignmentState,"unAssignedOpacity",_vm.settings.assignmentState.unAssignedColor)}},model:{value:_vm.settings.assignmentState.unAssignedColor,callback:function($$v){_vm.$set(_vm.settings.assignmentState,"unAssignedColor",$$v)},expression:"settings.assignmentState.unAssignedColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.assigned)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},on:{change:function($event){return _vm.assignmentSpaceColorChange(_vm.settings.assignmentState,"assignedOpacity",_vm.settings.assignmentState.assignedColor)}},model:{value:_vm.settings.assignmentState.assignedColor,callback:function($$v){_vm.$set(_vm.settings.assignmentState,"assignedColor",$$v)},expression:"settings.assignmentState.assignedColor"}})],1)])],1)],1):_vm._e()])]):_vm._e(),_vm._l(_vm.settings.modules,(function(module,index){return _c("el-collapse-item",{key:index,attrs:{title:module.moduleDisplayName}},[_c("div",{staticClass:"fp-module-setting-dropdown"},[_c("div",{staticClass:"fp-stng-heading"},[_vm._v(_vm._s("Customise Marker"))]),_c("div",{staticClass:"flex p5 flex-col"},["CUSTOM"===module.marker.primaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Primary Label")+" ")]),_vm.moduleFields[module.moduleName].length?_c("PlaceHolderInput",{attrs:{moduleName:module.moduleName,fieldList:_vm.moduleFields[module.moduleName]},model:{value:module.marker.primaryLabel.customText,callback:function($$v){_vm.$set(module.marker.primaryLabel,"customText",$$v)},expression:"module.marker.primaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",[_c("div",{staticClass:"flex p5 flex-col"},["CUSTOM"===module.marker.secondaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Secondary Label")+" ")]),_vm.spaceFields.length?_c("PlaceHolderInput",{attrs:{moduleName:module.moduleName,fieldList:_vm.spaceFields},model:{value:module.marker.secondaryLabel.customText,callback:function($$v){_vm.$set(module.marker.secondaryLabel,"customText",$$v)},expression:"module.marker.secondaryLabel.customText"}}):_vm._e()],1):_vm._e()])]),_c("div",{staticClass:"fp-stng-heading pT20"},[_vm._v(_vm._s("Customise Tooltip"))]),_c("div",{staticClass:"flex p5 flex-col"},["CUSTOM"===module.toolTip.primaryLabel.labelType?_c("div",{staticClass:"pT10"},[_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Primary Label")+" ")]),_vm.moduleFields[module.moduleName].length?_c("PlaceHolderInput",{attrs:{moduleName:module.moduleName,fieldList:_vm.moduleFields[module.moduleName]},model:{value:module.toolTip.primaryLabel.customText,callback:function($$v){_vm.$set(module.toolTip.primaryLabel,"customText",$$v)},expression:"module.toolTip.primaryLabel.customText"}}):_vm._e()],1):_vm._e()]),_c("div",{staticClass:"fp-stng-label"},[_vm._v(" "+_vm._s("Secondary Label")+" ")]),_c("AddLabel",{attrs:{defaultdata:_vm.defaultData,limit:5},scopedSlots:_vm._u([{key:"default",fn:function(slotData){return[_c("div",{key:slotData.index,staticClass:"flex p5 flex-col"},["CUSTOM"===slotData.data.labelType?_c("div",{staticClass:"pT5"},[_vm.moduleFields[module.moduleName]?_c("PlaceHolderInput",{key:slotData.index,attrs:{moduleName:module.moduleName,fieldList:_vm.moduleFields[module.moduleName]},model:{value:slotData.data.customText,callback:function($$v){_vm.$set(slotData.data,"customText",$$v)},expression:"slotData.data.customText"}}):_vm._e()],1):_vm._e()])]}}],null,!0),model:{value:module.toolTip.secondaryLabel,callback:function($$v){_vm.$set(module.toolTip,"secondaryLabel",$$v)},expression:"module.toolTip.secondaryLabel"}})],1)])})),"BOOKING"===_vm.viewerMode?_c("el-collapse-item",{attrs:{title:_vm.i18_text.tab4,name:"bookingstate"}},[_c("div",{staticClass:"p10"},["BOOKING"===_vm.viewerMode?_c("div",[_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.available)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.availableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"availableColor",$$v)},expression:"settings.bookingState.availableColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.booked)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.notAvailableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"notAvailableColor",$$v)},expression:"settings.bookingState.notAvailableColor"}})],1)])],1),_c("el-row",[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"fp-stng-label pL5 pT10"},[_vm._v(" "+_vm._s(_vm.i18_text.notreservable)+" ")])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"pL10"},[_c("el-color-picker",{attrs:{"show-alpha":"",predefine:_vm.getPredefinedColors()},model:{value:_vm.settings.bookingState.nonReservableColor,callback:function($$v){_vm.$set(_vm.settings.bookingState,"nonReservableColor",$$v)},expression:"settings.bookingState.nonReservableColor"}})],1)])],1)],1):_vm._e()])]):_vm._e()],2),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.reset}},[_c("span",[_vm._v(_vm._s(_vm.$t("common._common.reset")))])]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.applying},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.applying?_vm.$t("common._common.applying"):_vm.$t("common._common.apply"))+" ")])],1),_vm.loading?_vm._e():_c("div",{staticClass:"fp-settings",attrs:{slot:"reference"},slot:"reference"},[_c("el-button",{staticClass:"fp-stng-btn",attrs:{icon:"el-icon-s-tools"}})],1)],1)},staticRenderFns=[],colors=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(169358),__webpack_require__(648324),__webpack_require__(519898)),FloorPlanAddLabelvue_type_template_id_fcaf4790_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",_vm._l(_vm.data,(function(d,index){return _c("el-row",{key:index,staticClass:"fc-st-row-border"},[_c("el-col",{attrs:{span:20}},[_vm._t("default",null,{data:d,index:index})],2),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"addition-container pT20 pR10"},[index===_vm.data.length-1&&_vm.data.length<=_vm.limit?_c("div",{staticClass:"fc-st-add-label pointer",on:{click:function($event){return _vm.addData()}}},[_c("i",{staticClass:"el-icon-circle-plus-outline"})]):_vm._e(),_vm.data.length>1?_c("div",{staticClass:"fc-st-remove-label pointer",on:{click:function($event){return _vm.removeData(index)}}},[_c("i",{staticClass:"el-icon-remove-outline"})]):_vm._e()])])],1)})),1)},FloorPlanAddLabelvue_type_template_id_fcaf4790_staticRenderFns=[],lodash=(__webpack_require__(162506),__webpack_require__(496486)),FloorPlanAddLabelvue_type_script_lang_js={props:{value:{type:Array,required:!0},defaultdata:{type:Object,required:!0},limit:{type:Number,default:5}},data:function(){return{data:[]}},mounted:function(){this.init()},methods:{sync:function(){this.$emit("update:value",this.data)},addData:function(){this.data.push((0,lodash.cloneDeep)(this.defaultdata)),this.sync()},removeData:function(index){this.data.splice(index,1),this.sync()},init:function(){this.data=this.value}}},components_FloorPlanAddLabelvue_type_script_lang_js=FloorPlanAddLabelvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FloorPlanAddLabelvue_type_script_lang_js,FloorPlanAddLabelvue_type_template_id_fcaf4790_render,FloorPlanAddLabelvue_type_template_id_fcaf4790_staticRenderFns,!1,null,null,null)
/* harmony default export */,FloorPlanAddLabel=component.exports,PlaceHolderInputvue_type_template_id_74817746_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"placeholder-input "},[_c("el-input",{staticClass:"el-input-textbox-full-border",attrs:{width:"250px"},on:{change:_vm.applyChanges},model:{value:_vm.valueInput,callback:function($$v){_vm.valueInput=$$v},expression:"valueInput"}}),_vm.visible?_c("div",{staticClass:"ghost-click-elemnt",on:{click:function($event){_vm.visible=!1}}}):_vm._e(),_c("el-popover",{attrs:{placement:"left",width:"300",trigger:"manual"},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("el-row",{staticClass:"st-search-bar",attrs:{gutter:20}},[_c("el-col",{attrs:{span:22}},[_c("el-input",{staticClass:"input-box-1 mt-1 el-input-textbox-full-border ",attrs:{size:"medium",placeholder:"Search variables","suffix-icon":"el-icon-search"},model:{value:_vm.searchVariables,callback:function($$v){_vm.searchVariables=$$v},expression:"searchVariables"}})],1),_c("el-col",{staticClass:"p0",attrs:{span:2}},[_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Close",placement:"top"}},[_c("div",{staticClass:"pointer st-close-icon",on:{click:_vm.closePopover}},[_c("i",{staticClass:"el-icon-circle-close"})])])],1)],1),_vm.selectedField.length?_c("div",{staticClass:"filter-area"},[_vm._l(_vm.selectedField,(function(field,index){return _c("el-tag",{key:index,attrs:{closable:"",size:"small",type:"",color:"#deecff"},on:{close:function($event){return _vm.handleCloseTag(field)}}},[_vm._v(" "+_vm._s(field.displayName)+" ")])})),_c("el-button",{staticClass:"ft-clear-btn",attrs:{plain:"",size:"mini"},on:{click:function($event){return _vm.handleClearAll()}}},[_vm._v("Clear all")])],2):_vm._e(),_c("div",{staticClass:"checkbox-popover"},_vm._l(_vm.filterdFieldList,(function(field,index){return _c("div",{key:index,staticClass:"pT10"},[_c("el-checkbox",{on:{change:function($event){return _vm.addModuleText(field,_vm.moduleName)}},model:{value:field.checked,callback:function($$v){_vm.$set(field,"checked",$$v)},expression:"field.checked"}},[_vm._v(_vm._s(field.displayName))])],1)})),0),_c("div",{attrs:{slot:"reference"},on:{click:function($event){_vm.visible=!_vm.visible}},slot:"reference"},[_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"select variables",placement:"top"}},[_c("el-button",{staticClass:"filter-btn-new"},[_vm.selectedField.length?_c("div",{staticClass:"filter-indicator"}):_vm._e(),_c("inline-svg",{attrs:{src:"svgs/filter-new",iconClass:"icon text-center icon-md"}})],1)],1)],1)],1)],1)},PlaceHolderInputvue_type_template_id_74817746_staticRenderFns=[],PlaceHolderInputvue_type_script_lang_js=(__webpack_require__(538077),{props:["fieldList","moduleName","value"],data:function(){return{valueInput:"",searchVariables:null,selectedField:[],visible:!1}},mounted:function(){this.valueInput=this.value,this.getFilterdList()},computed:{fields:{get:function(){return this.$helpers.cloneObject(this.fieldList)}},filterdFieldList:function(){var _this=this,fields=[];return this.fields&&this.fields.length&&this.fields.forEach((function(rt){rt["checked"]=_this.validateTextField(rt,_this.moduleName),(null===_this.searchVariables||rt.displayName.toLowerCase().indexOf(_this.searchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields}},methods:{closePopover:function(){this.visible=!1},handleCloseTag:function(field){field.checked=!field.checked,this.addModuleText(field,this.moduleName)},getText:function(field,moduleName){var _field$lookupModule,text="${";return null!==field&&void 0!==field&&null!==(_field$lookupModule=field.lookupModule)&&void 0!==_field$lookupModule&&_field$lookupModule.name?text+="".concat(moduleName,".").concat(field.name,".name"):text+="".concat(moduleName,".").concat(field.name),text+="}",text},handleClearAll:function(){this.valueInput="",this.applyChanges(),this.selectedField=[]},validateTextField:function(field,moduleName){
// this method used to validate place holder presention and the will return
var text=this.getText(field,moduleName),valueInput=this.valueInput;return!!(valueInput&&valueInput.indexOf(text)>-1)},applyChanges:function(){
// this.$emit('update:value', this.valueInput)
this.$emit("input",this.valueInput),this.getFilterdList()},getFilterdList:function(){this.fields&&this.fields.length&&(this.selectedField=this.fields.filter((function(rt){return rt.checked})))},addModuleText:function(field,moduleName){null!==field&&void 0!==field&&field.checked?this.valueInput+=this.getText(field,moduleName):this.removeModuleText(field,moduleName),this.applyChanges()},removeModuleText:function(field,moduleName){var text=this.getText(field,moduleName);this.valueInput=this.valueInput.replace(text,"")}}}),components_PlaceHolderInputvue_type_script_lang_js=PlaceHolderInputvue_type_script_lang_js,PlaceHolderInput_component=(0,componentNormalizer/* default */.Z)(components_PlaceHolderInputvue_type_script_lang_js,PlaceHolderInputvue_type_template_id_74817746_render,PlaceHolderInputvue_type_template_id_74817746_staticRenderFns,!1,null,null,null)
/* harmony default export */,PlaceHolderInput=PlaceHolderInput_component.exports,NewFloorPlanSettingsvue_type_script_lang_js={props:["settingsJson","viewerMode","isPortal","parkingList"],components:{AddLabel:FloorPlanAddLabel,PlaceHolderInput:PlaceHolderInput},data:function(){return{loading:!0,activeName:"common",settings:null,settingsClone:null,visibility:!0,applying:!1,i18_text:{compactview:"Compact View",texthalo:"Text Outline",overlaptext:"Overlap Text",fontSize:"Size",fontColor:"Color",fontA:"A",floorplansettings:"SETTINGS",customization:"CUSTOMISATION",tab1:"General",tab2:"Desk",tab3:"Space",tab4:"Booking State",tab5:"Space Assignment State",primaryText:"Primary Label",deskPrimaryCustomLabel:"Desk Primary Label",deskSecondaryCustomLabel:"Desk Secondary Label",spacePrimaryCustomLabel:"Space Primary Label",spaceSecondaryCustomLabel:"Space Secondary Label",primaryLabel:"Primary Label",secondaryLabel:"Secondary Label",available:"Available",notreservable:"Non Reservable",booked:"Booked",nonreservable:"Space Background",opacity:"Image Opacity",secondaryText:"Secondary Label",unassigned:"Unassigned",assigned:"Assigned"},labelTypes:[{name:"Full Name",value:"FULL_NAME"},{name:"First Name",value:"FIRST_NAME"},{name:"Last Name",value:"LAST_NAME"},{name:"Initial With First Name",value:"INITIAL_WITH_FIRST_NAME"},{name:"Initial With Last Name",value:"INITIAL_WITH_LAST_NAME"},{name:"Desk Name",value:"DESK_NAME"},{name:"None",value:"RETURN_NULL"},{name:"Custom",value:"CUSTOM"}],fontSizeSet:[10,11,12,13,14,15,16,17,18,19,20],spaceLabelTypes:[{name:"Space Name",value:"DEFAULT"},{name:"Category",value:"CATEGORY"},{name:"None",value:"RETURN_NULL"},{name:"Custom",value:"CUSTOM"}],moduleLabelTypes:[{name:"Custom",value:"CUSTOM"}],deskFields:[],spaceFields:[],deskSearchVariables:null,spaceSearchVariables:null,moduleSearchVariables:null,moduleFields:{},defaultData:{color:"rgba(50, 64, 86, 1)",customText:" ",fontSize:11,labelType:"CUSTOM"}}},mounted:function(){var _this=this;this.loading=!0,this.getSettings(),this.$nextTick((function(){_this.loading=!1}))},created:function(){this.loadFields()},computed:{filteredDeskFieldList:function(){var _this2=this,fields=[];return this.deskFields.forEach((function(rt){rt["checked"]=!1,(null===_this2.deskSearchVariables||rt.displayName.toLowerCase().indexOf(_this2.deskSearchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields},filteredSpaceFieldList:function(){var _this3=this,fields=[];return this.spaceFields.forEach((function(rt){rt["checked"]=!1,(null===_this3.spaceSearchVariables||rt.displayName.toLowerCase().indexOf(_this3.spaceSearchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields},filteredModuleFieldList:function(){var _this4=this,fields=[];return this.spaceFields.forEach((function(rt){rt["checked"]=!1,(null===_this4.moduleSearchVariables||rt.displayName.toLowerCase().indexOf(_this4.moduleSearchVariables.toLowerCase())>=0)&&fields.push(rt)})),fields},isImageOpacity:function(){var _this$$route;return!(null===(_this$$route=this.$route)||void 0===_this$$route||null===(_this$$route=_this$$route.query)||void 0===_this$$route||!_this$$route.opacity)}},watch:{settings:{handler:function(newval,oldval){null!==oldval&&this.applyChanges()},deep:!0},settingsJson:{handler:function(){this.applying=!1,this.getSettings()},deep:!0}},methods:{assignmentSpaceColorChange:function(data,key,color){if(color){var opacity=color.replace(/^.*,(.+)\)/,"$1");opacity&&Number(opacity)>0?this.$set(data,key,opacity):this.$set(data,key,.3)}},reset:function(){this.getSettings(),this.visibility=!1},save:function(){this.applying=!0,this.saveChanges()},addtext:function(field,module,label,moduleName){var _field$lookupModule;field.checked?(null===this.settings[module][label]&&(this.settings[module][label]=""),this.settings[module][label]+="${",null!==field&&void 0!==field&&null!==(_field$lookupModule=field.lookupModule)&&void 0!==_field$lookupModule&&_field$lookupModule.name?this.settings[module][label]+="".concat(moduleName,".").concat(field.name,".name"):this.settings[module][label]+="".concat(moduleName,".").concat(field.name),this.settings[module][label]+="}"):this.removetext(field);this.applyChanges()},addModuleText:function(field,type,label,moduleName){var _field$lookupModule2;field.checked?(this.settings.modules[moduleName][type][label]["customText"]="",this.settings.modules[moduleName][type][label]["customText"]+="${",null!==field&&void 0!==field&&null!==(_field$lookupModule2=field.lookupModule)&&void 0!==_field$lookupModule2&&_field$lookupModule2.name?this.settings.modules[moduleName][type][label]["customText"]+="".concat(moduleName,".").concat(field.name,".name"):this.settings.modules[moduleName][type][label]["customText"]+="".concat(moduleName,".").concat(field.name),this.settings.modules[moduleName][type][label]["customText"]+="}"):this.removeModuleText(field);this.applyChanges()},addModuleSecondaryText:function(field,type,label,index,moduleName){var _field$lookupModule3;field.checked?(this.settings.modules[moduleName][type][label][index]["customText"]="",this.settings.modules[moduleName][type][label][index]["customText"]+="${",null!==field&&void 0!==field&&null!==(_field$lookupModule3=field.lookupModule)&&void 0!==_field$lookupModule3&&_field$lookupModule3.name?this.settings.modules[moduleName][type][label][index]["customText"]+="".concat(moduleName,".").concat(field.name,".name"):this.settings.modules[moduleName][type][label][index]["customText"]+="".concat(moduleName,".").concat(field.name),this.settings.modules[moduleName][type][label][index]["customText"]+="}"):this.removeModuleText(field);this.applyChanges()},removeModuleText:function(field,type,label,moduleName){var text="${"+field.name+"}";this.settings.modules[moduleName][type][label]["customText"]=this.settings.modules[moduleName][type][label]["customText"].replace(text,"")},removetext:function(field,module,label){var text="${"+field.name+"}";this.settings[module][label]=this.settings[module][label].replace(text,"")},loadFields:function(){var _this5=this;this.$util.loadModuleMeta("desks").then((function(meta){meta.fields.forEach((function(rt){_this5.$set(rt,"checked",!1)})),_this5.deskFields=meta.fields})),this.$util.loadModuleMeta("space").then((function(meta){meta.fields.forEach((function(rt){_this5.$set(rt,"checked",!1)})),_this5.spaceFields=meta.fields}));var modules=this.$getProperty(this.settingsJson,"modules"),names=Object.keys(modules);names.forEach((function(name){_this5.$util.loadModuleMeta(name).then((function(meta){meta.fields.forEach((function(rt){_this5.$set(rt,"checked",!1)})),_this5.$set(_this5.moduleFields,name,meta.fields)}))}))},getPredefinedColors:function(){return colors/* default */.Z.readingcardColors},setFontSize:function(size){this.$set(this.settings.commonSettings,"fontSize",size)},getSettings:function(){this.checkmissingData(this.settingsJson),// need to remove this methods
this.settings=this.$helpers.cloneObject(this.settingsJson),this.settingsClone=this.$helpers.cloneObject(this.settingsJson)},checkmissingData:function(settingJson){var _settingJson$assignme;null!==settingJson&&void 0!==settingJson&&null!==(_settingJson$assignme=settingJson.assignmentState)&&void 0!==_settingJson$assignme&&_settingJson$assignme.unAssignedColor||this.$set(settingJson,"assignmentState",{assignedColor:"rgba(255, 0, 0,0.3)",unAssignedColor:"rgba(0, 0, 0,0.3)",unAssignedOpacity:.3,assignedOpacity:.3})},setSettings:function(){localStorage.setItem("fpSettings",JSON.stringify(this.settings))},saveChanges:function(){this.$emit("handleSettings",this.settings);
// this.setSettings()
},applyChanges:function(){this.$emit("applySettings",this.settings);
// this.setSettings()
},loadModulesAndFields:function(){var _this6=this,modules=this.$getProperty(this.settingsJson,"modules"),names=Object.keys(modules);this.$util.loadModuleMeta(names[0]).then((function(meta){meta.fields.forEach((function(rt){_this6.$set(rt,"checked",!1)})),_this6.$set(_this6.moduleFields,name,meta.fields)}))}}},components_NewFloorPlanSettingsvue_type_script_lang_js=NewFloorPlanSettingsvue_type_script_lang_js,NewFloorPlanSettings_component=(0,componentNormalizer/* default */.Z)(components_NewFloorPlanSettingsvue_type_script_lang_js,render,staticRenderFns,!1,null,"0ac8f646",null)
/* harmony default export */,NewFloorPlanSettings=NewFloorPlanSettings_component.exports},
/***/706881:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CurrencyPopOver}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/organizationSetting/currency/CurrencyPopOver.vue?vue&type=template&id=434b446a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.showCurrencyField?_c("div",{staticClass:"d-flex"},[_vm.showInfo?_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))]):_vm._e(),_vm.showMultiCurrencyInfo?_c("el-popover",{attrs:{placement:"right",title:_vm.$t("setup.currency.rate"),width:"230",trigger:"hover",content:_vm.currencyContent,"open-delay":5,disabled:_vm.isEmpty(_vm.baseValue)}},[_vm.showInfo?_vm._e():_c("div",{class:[_vm.baseValue&&"pointer"],attrs:{slot:"reference"},slot:"reference"},[_c("div",[_vm._v(_vm._s(""+_vm.getMultiCurrencyFieldValue))]),_c("div",{staticClass:"f12"},[_vm._v(_vm._s(_vm.baseValue))])]),_vm.isBaseCode||!_vm.showInfo||_vm.hideInfoBtn?_vm._e():_c("fc-icon",{staticClass:"pointer info-position mL2",attrs:{slot:"reference",group:"dsm",name:"info",size:"13"},slot:"reference"})],1):_c("span",[_vm._v(_vm._s(_vm.getMultiCurrencyFieldValue||"---"))])],1):_c("span",[_vm._v("---")])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(990260)),CurrencyUtil=__webpack_require__(15426),vuex_esm=__webpack_require__(420629),CurrencyPopOvervue_type_script_lang_js={props:["field","details","showInfo","hideInfoBtn"],data:function(){return{baseValue:"",isEmpty:validation/* isEmpty */.xb}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account},currencyList:function(state){return state.activeCurrencies}})),{},{showMultiCurrencyInfo:function(){var _ref=this.multiCurrency||{},multiCurrencyEnabled=_ref.multiCurrencyEnabled;return multiCurrencyEnabled},isBaseCode:function(){var _ref2=this.multiCurrency||{},baseCode=_ref2.currencyCode,_ref3=this.details||{},currencyCode=_ref3.currencyCode;return baseCode===currencyCode},showCurrencyField:function(){var currencyValue=this.currencyValue;return!(0,validation/* isEmpty */.xb)(currencyValue)&&"---"!=currencyValue},multiCurrency:function(){var _ref4=this.$getProperty(this.account,"data.currencyInfo")||{},displaySymbol=_ref4.displaySymbol,currencyCode=_ref4.currencyCode,multiCurrencyEnabled=_ref4.multiCurrencyEnabled;return{displaySymbol:displaySymbol,currencyCode:currencyCode,multiCurrencyEnabled:multiCurrencyEnabled}},currencyContent:function(){var details=this.details,currencyValue=this.currencyValue,baseSymbol=this.multiCurrency.displaySymbol;if(!(0,validation/* isEmpty */.xb)(currencyValue)){var _ref5=details||{},exchangeRate=_ref5.exchangeRate,currencyCode=_ref5.currencyCode,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)||currency.displaySymbol===baseSymbol)return null;var _ref6=currency||{},displaySymbol=_ref6.displaySymbol,content="".concat(baseSymbol," 1 = ").concat(displaySymbol," ").concat(exchangeRate);return content}return"---"},currencyValue:function(){var details=this.details,field=this.field,_ref7=details||{},data=_ref7.data;return field.displayValue||details[field.name]||(null===data||void 0===data?void 0:data[field.name])},getMultiCurrencyFieldValue:function(){var currencyValue=this.currencyValue,showInfo=this.showInfo,_this$multiCurrency=this.multiCurrency,baseSymbol=_this$multiCurrency.displaySymbol,baseCode=_this$multiCurrency.currencyCode,multiCurrencyEnabled=_this$multiCurrency.multiCurrencyEnabled,_ref8=this.details||{},currencyCode=_ref8.currencyCode,exchangeRate=_ref8.exchangeRate,currency=(this.currencyList||[]).find((function(currency){return currencyCode===currency.currencyCode})),baseCurrency=(this.currencyList||[]).find((function(currency){return baseCode===currency.currencyCode}));if((0,validation/* isEmpty */.xb)(currency)&&!(0,validation/* isEmpty */.xb)(currencyValue))return"".concat(baseSymbol," ").concat(currencyValue);var _ref9=currency||{},displaySymbol=_ref9.displaySymbol;displaySymbol=(0,validation/* isEmpty */.xb)(displaySymbol)?baseSymbol:displaySymbol;var baseValue="";if(multiCurrencyEnabled&&baseCode!==currencyCode){var value=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue/exchangeRate,baseCurrency);baseValue="( ".concat(baseSymbol," ").concat(value," )")}return currencyValue=(0,CurrencyUtil/* getCurrencyInDecimalValue */.Jg)(currencyValue,currency),this.setBaseValue(baseValue),showInfo?"".concat(displaySymbol," ").concat(currencyValue," ").concat(baseValue):"".concat(displaySymbol," ").concat(currencyValue)}}),created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.$store.dispatch("getActiveCurrencyList");case 2:case"end":return _context.stop()}}),_callee)})))()},methods:{setBaseValue:function(value){this.baseValue=value}}},currency_CurrencyPopOvervue_type_script_lang_js=CurrencyPopOvervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(currency_CurrencyPopOvervue_type_script_lang_js,render,staticRenderFns,!1,null,"434b446a",null)
/* harmony default export */,CurrencyPopOver=component.exports},
/***/345265:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"35079cf978684c9b6a17e182df923ff5.svg";
/***/},
/***/293656:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e179f34e6169d9164845bf6c1d403c8e.svg";
/***/},
/***/702638:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"763b584b7aa649bd99722d2be3c8036a.svg";
/***/},
/***/47424:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"400bdd76d58614975db74618a6f968ef.svg";
/***/},
/***/30684:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"52c2ff301190417db7febd08d4cd5153.svg";
/***/},
/***/188742:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"22bc1f7e3fecc069519710728d363ce9.svg";
/***/},
/***/572902:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"db5324b7cf9058a0aa45899e55bf6444.svg";
/***/},
/***/15482:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/noData-light.3b5d6592.png"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/12531.js.map