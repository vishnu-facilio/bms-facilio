"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[64134],{
/***/436756:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FDialogNew}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FDialogNew.vue?vue&type=template&id=388b7f7a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"costdialog",class:["f-dialog",_vm.customClass],attrs:{visible:_vm.visible,"before-close":_vm.close,width:_vm.width,"append-to-body":!0},on:{"update:visible":function($event){_vm.visible=$event}}},[_c("div",{staticClass:"f-dialog-title",attrs:{slot:"title"},slot:"title"},[_vm._t("header",(function(){return[_c("div",{staticClass:"label-txt-black fwBold"},[_vm._v(" "+_vm._s(_vm.title)+" ")])]}))],2),_c("div",{staticClass:"f-dialog-content",style:_vm.styleCss},[_vm._t("content"),_vm._t("default")],2),_c("div",{staticClass:"f-footer row",staticStyle:{height:"46px"}},[_vm._t("footer",(function(){return[_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.close}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.loading},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.loading?_vm.loadingTitle||"Saving...":_vm.confirmTitle||"Save"))])],1)]}))],2)])},staticRenderFns=[],FDialogNewvue_type_script_lang_js={props:["title","confirmTitle","visible","customClass","width","maxHeight","stayOnSave","loading","loadingTitle","record"],computed:{styleCss:function(){return this.maxHeight?{"max-height":this.maxHeight,overflow:"scroll"}:null}},methods:{close:function(){this.$emit("close"),this.$emit("update:visible",!1)},save:function(){this.$emit("save"),this.stayOnSave||this.$emit("update:visible",!1)}}},components_FDialogNewvue_type_script_lang_js=FDialogNewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FDialogNewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FDialogNew=component.exports},
/***/264134:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return AgentIntegrations}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/agents/AgentIntegrations.vue?vue&type=template&id=73deeb56&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"height100"},[_vm._m(0),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"setting-Rlayout mT30 d-flex flex-direction-column"},_vm._l(_vm.availableIntegrations,(function(integration,index){return _c("div",{key:"integration"+index,staticClass:"integrations-card"},[integration?_c(integration,{tag:"component"}):_vm._e()],1)})),0)])])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v("Agent Integrations")]),_c("div",{staticClass:"heading-description"},[_vm._v(" List of all available agent integrations ")])]),_c("div",{staticClass:"action-btn setting-page-btn controller-right-actions"})])}],Wattsensevue_type_template_id_f2216c10_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-direction-row p30 display-flex-between-space"},[_c("div",{staticClass:"d-flex flex-direction-column",staticStyle:{"flex-grow":"1"}},[_c("div",[_c("InlineSvg",{attrs:{src:"svgs/integrations/wattsense",iconClass:"icon text-center",iconStyle:"width: 200px; height: 40px; margin-left: -8px;"}}),_vm.$validation.isEmpty(_vm.accountList)?_vm._e():_c("div",{staticClass:"fc-badge text-uppercase inline vertical-top mL15 mT10"},[_vm._v(" Configured ")])],1),_c("p",{staticClass:"desc mB0"},[_vm._v(" Wattsense is an on-demand, non-intrusive building connectivity service. ")]),_vm.$validation.isEmpty(_vm.accountList)?_vm._e():_c("div",{staticClass:"d-flex flex-direction-column mT25"},[_c("div",{staticClass:"f13 fc-blue-label mT10 text-capitalize"},[_vm._v(" Configured Accounts ")]),_c("table",{staticClass:"wattsense-table mT20 width100"},[_c("tbody",_vm._l(_vm.accountList,(function(account,index){return _c("tr",{key:index,staticClass:"tablerow-edit-delete-icon"},[_c("td",{staticClass:"f14"},[_vm._v(_vm._s(account.userName))]),_c("td",{staticClass:"f13"},[_vm._v("("+_vm._s(account.clientId)+")")]),_c("td",[_c("div",{staticClass:"hover-actions-view fR"},[_c("i",{staticClass:"el-icon-delete fc-delete pointer",attrs:{"data-arrow":"true"},on:{click:function($event){return _vm.deleteAccount(account)}}})])])])})),0)])])]),_c("div",{staticClass:"mT5"},[_c("el-button",{staticClass:"fc-wo-fill-btn",on:{click:_vm.addAccount}},[_vm._v("Add Account")])],1),_c("f-dialog",{staticClass:"agents-dialog",attrs:{title:_vm.dialogTitle,visible:_vm.canShowPopup,loading:_vm.isSaving,stayOnSave:!0,confirmTitle:_vm.isDeleteMode?"Remove":null,loadingTitle:_vm.isDeleteMode?"Remove":null,width:"30%"},on:{save:function($event){_vm.isCreateMode?_vm.configure():_vm.remove()},close:function($event){return _vm.resetValues()},"update:visible":function($event){_vm.canShowPopup=$event}}},[_c("el-form",{attrs:{model:_vm.activeAccount}},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_vm.isDeleteMode?_c("div",{staticStyle:{"word-break":"break-word"}},[_vm._v(" To remove the integration enter the password for the account "),_c("span",{staticClass:"bold"},[_vm._v(_vm._s(_vm.activeAccount.userName))]),_vm._v(": ")]):[_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v("Username")]),_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:"Enter your username"},model:{value:_vm.activeAccount.userName,callback:function($$v){_vm.$set(_vm.activeAccount,"userName",$$v)},expression:"activeAccount.userName"}})]],2)],1),_c("el-row",{staticClass:"mT20 mB25",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_vm.isDeleteMode?_vm._e():_c("p",{staticClass:"fc-input-label-txt pB10"},[_vm._v("Password")]),_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{type:"password",placeholder:"Enter your password",autocomplete:"new-password"},model:{value:_vm.activeAccount.password,callback:function($$v){_vm.$set(_vm.activeAccount,"password",$$v)},expression:"activeAccount.password"}})],1)],1)],1)],1)],1)},Wattsensevue_type_template_id_f2216c10_scoped_true_staticRenderFns=[],FDialogNew=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(436756)),validation=__webpack_require__(990260),Wattsensevue_type_script_lang_js={components:{FDialog:FDialogNew/* default */.Z},data:function(){return{canShowPopup:!1,isSaving:!1,accountList:null,activeAccount:{userName:"",password:"",clientId:null},isCreateMode:!1,isDeleteMode:!1}},mounted:function(){this.loadAccountList()},computed:{dialogTitle:function(){return this.isCreateMode?"Configure Wattsense Account":"Remove Wattsense Account"}},methods:{loadAccountList:function(){var _this=this;this.$http("/v2/setup/agent/integration/wattsense/list").then((function(response){0!==response.data.responseCode||(0,validation/* isEmpty */.xb)(response.data.result.wattsenseList)?_this.accountList=null:_this.accountList=response.data.result.wattsenseList.filter((function(account){return 200===account.integrationStatus}))})).catch((function(){_this.accountList=null}))},addAccount:function(){this.resetValues(),this.isCreateMode=!0,this.canShowPopup=!0},configure:function(){var _this2=this;this.isSaving=!0;var data={userName:this.activeAccount.userName,password:this.activeAccount.password};this.$http.post("/v2/setup/agent/integration/wattsense/add",data).then((function(response){0===response.data.responseCode?(_this2.$message.success("Account integrated successfully"),_this2.loadAccountList(),_this2.resetValues()):(_this2.isSaving=!1,_this2.$message({showClose:!0,message:"Error occurred while integrating account",type:"error"}))})).catch((function(error){error&&_this2.$message({showClose:!0,message:error.message,type:"error"}),_this2.isSaving=!1}))},deleteAccount:function(account){this.resetValues(),this.isDeleteMode=!0,this.canShowPopup=!0,this.$set(this,"activeAccount",{userName:account.userName,password:"",clientId:account.clientId})},remove:function(){var _this3=this;this.isSaving=!0,this.$http.post("/v2/setup/agent/integration/wattsense/delete",this.activeAccount).then((function(response){0===response.data.responseCode?(_this3.$message.success("Account removed successfully"),_this3.loadAccountList(),_this3.resetValues()):_this3.$message({showClose:!0,message:"Error while deleting account",type:"error"}),_this3.isSaving=!1})).catch((function(error){_this3.$message({showClose:!0,message:error.message||"Error while deleting account",type:"error"}),_this3.isSaving=!1}))},resetValues:function(){this.activeAccount={userName:"",password:"",clientId:null},this.canShowPopup=!1,this.isCreateMode=!1,this.isDeleteMode=!1,this.isSaving=!1}}},integrations_Wattsensevue_type_script_lang_js=Wattsensevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(integrations_Wattsensevue_type_script_lang_js,Wattsensevue_type_template_id_f2216c10_scoped_true_render,Wattsensevue_type_template_id_f2216c10_scoped_true_staticRenderFns,!1,null,"f2216c10",null)
/* harmony default export */,Wattsense=component.exports,AgentIntegrationsvue_type_script_lang_js={title:function(){return"Integrations"},components:{Wattsense:Wattsense},computed:{availableIntegrations:function(){return[Wattsense]}}},agents_AgentIntegrationsvue_type_script_lang_js=AgentIntegrationsvue_type_script_lang_js,AgentIntegrations_component=(0,componentNormalizer/* default */.Z)(agents_AgentIntegrationsvue_type_script_lang_js,render,staticRenderFns,!1,null,"73deeb56",null)
/* harmony default export */,AgentIntegrations=AgentIntegrations_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/64134.js.map