"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[76306,71569],{
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/622957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupEmptyState}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupEmptyState.vue?vue&type=template&id=839bdf38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-empty"},[_c("div",{staticClass:"fc-setup-empty-image"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}})],1),_c("div",{staticClass:"fc-setup-empty-txt"},[_vm._t("emptyHeading")],2),_c("div",{staticClass:"fc-setup-empty-txt-desc"},[_vm._t("emptyDescription")],2)])},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupEmptyState=component.exports},
/***/291612:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupHeaderTabs}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupHeaderTabs.vue?vue&type=template&id=86381c1c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{},[_c("el-header",{staticClass:"fc-v1-setup-header",attrs:{height:"150"}},[_c("div",{staticClass:"flex-middle justify-content-space fc-header-border-bottom p20"},[_c("div",[_c("div",{staticClass:"fc-v1-setup-heading"},[_vm._t("heading")],2),_c("div",{staticClass:"fc-v1-setup-description"},[_vm._t("description")],2)]),_c("div",{staticClass:"flex-middle"},[_vm._t("actions")],2)]),_c("div",[_c("div",{staticClass:"fc-setup-tab-content"},[_vm._t("tabs",(function(){return[_vm._t("tabFilter",(function(){return[_c("div",{staticClass:"flex-middle justify-content-space p20"},[_c("div",{},[_vm._t("filter")],2),_c("div",{},[_vm._t("searchAndPagination")],2)])]})),_vm._t("tabContent")]}))],2)])])],1)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={}
/* normalize component */,component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupHeaderTabs=component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports},
/***/674103:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return EmailLogs}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/emailLogs/EmailLogs.vue?vue&type=template&id=452099cc&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"fc-email-log-page"},[_c("setup-header",{scopedSlots:_vm._u([{key:"heading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("emailLogs.email_logs"))+" ")]},proxy:!0},{key:"description",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("emailLogs.description"))+" ")]},proxy:!0},{key:"filter",fn:function(){return[_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"flex-middle"},[_c("div",[_c("div",{staticClass:"fc-black-13 text-left bold pB5"},[_vm._v(" "+_vm._s(_vm.$t("setup.setupLabel.date_filter"))+" ")]),_c("el-select",{staticClass:"mR20 fc-input-full-border2",attrs:{placeholder:"Select time period",clearable:"",filterable:""},on:{change:function($event){return _vm.reloadFilteredData()}},model:{value:_vm.dateFilterModel,callback:function($$v){_vm.dateFilterModel=$$v},expression:"dateFilterModel"}},_vm._l(_vm.selectFilter,(function(filter,f){return _c("el-option",{key:f,attrs:{label:filter.label,value:filter.value}})})),1)],1),"Custom"===_vm.dateFilterModel?_c("div",[_c("div",{staticClass:"fc-black-13 text-left bold pB5"},[_vm._v(" "+_vm._s(_vm.$t("setup.setupLabel.custom"))+" ")]),_c("el-date-picker",{staticClass:"fc-input-full-border2 width250px",attrs:{type:"daterange",placeholder:"Select date and time","range-separator":"-","start-placeholder":"Start date","end-placeholder":"End date","value-format":"timestamp"},on:{change:function($event){return _vm.reloadFilteredData()}},model:{value:_vm.datePicker,callback:function($$v){_vm.datePicker=$$v},expression:"datePicker"}})],1):_vm._e()])])]},proxy:!0},{key:"searchAndPagination",fn:function(){return[_c("div",{staticClass:"flex-middle"},[_vm.totalRecords?[_c("div",{staticClass:"mR15 mT3"},[_c("pagination",{attrs:{total:_vm.totalRecords,perPage:_vm.recordsPerPage,pageNo:_vm.currentPage},on:{onPageChanged:_vm.setPage}})],1),_c("div",{staticClass:"vl"})]:_vm._e(),_c("div",{staticClass:"mR15 p5 pB10"},[_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,hideQuery:!0,onSave:_vm.applyMailLoggerFilters,filterList:_vm.mailLoggerFilterList}})],1),_c("div",{staticClass:"vl"}),_c("div",{staticClass:"mR15"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{ arrow: true, arrowType: 'round', animation: 'fade' }"}],staticClass:"fc-portal-filter-border",attrs:{content:_vm.$t("common._common.refresh")},on:{click:_vm.reloadEmailLogs}},[_c("i",{staticClass:"el-icon-refresh fwBold f16"})])])],2)]},proxy:!0}])}),_c("div",{staticClass:"mB15"},[_c("FTags",{key:"ftags-list-"+_vm.moduleName,attrs:{hideQuery:!0,hideSaveView:!0,filterList:_vm.mailLoggerFilterList},on:{updateFilters:_vm.applyMailLoggerFilters,resetFilters:_vm.resetFilters}})],1),_c("div",{staticClass:"p15 pB0 pT0 fc-setup-table-layout-scroll"},[_vm.isLoading?_c("setup-loader",{scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})]},proxy:!0}],null,!1,3036156284)}):_vm.$validation.isEmpty(_vm.emailLogsList)?_c("setup-empty",{scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("emailLogs.no_email_logs"))+" ")]},proxy:!0},{key:"emptyDescription",fn:function(){},proxy:!0}])}):_c("TableGroups",{attrs:{tableGroups:_vm.days,tableGroupData:_vm.groupedEmailLogs,sourceTypeMap:_vm.sourceTypeMap,displayNameMap:_vm.displayNameMap}})],1)],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),api=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(947522),__webpack_require__(670560),__webpack_require__(186466),__webpack_require__(865137),__webpack_require__(450886),__webpack_require__(212826),__webpack_require__(648324),__webpack_require__(32284)),validation=__webpack_require__(990260),SetupHeaderTabs=__webpack_require__(291612),SetupLoader=__webpack_require__(233432),SetupEmptyState=__webpack_require__(622957),FPagination=__webpack_require__(929593),TableGroupsvue_type_template_id_1fbcdf6e_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-col-reverse group-table-page"},_vm._l(_vm.tableGroups,(function(currentGroup,index){return _c("div",{key:index},[_vm.$validation.isEmpty(_vm.tableGroupData[currentGroup])?_vm._e():_c("div",[_c("div",[_c("div",{staticClass:"fc-setup-group-header header-lavender"},[_c("div",{staticClass:"fc-black-14 bold text-left flex-middle"},[_vm._v(" "+_vm._s(_vm.getFormatter(currentGroup))+" ")])]),_c("div",{staticClass:"mB20 fc-group-table"},[_c("el-table",{ref:"emailLogsTable",refInFor:!0,staticClass:"fc-setup-table",staticStyle:{width:"100%"},attrs:{data:_vm.tableGroupData[currentGroup],"cell-style":{padding:"12px 20px"},height:"auto",fit:!0},on:{"row-click":function(){var args=[],len=arguments.length;while(len--)args[len]=arguments[len];return _vm.handleRowClick.apply(void 0,[index].concat(args))}}},[_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"sourceType"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",[_vm._v(" "+_vm._s(_vm.getSourceType(emailLog.row))+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$t("setup.users_management.module"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",{staticClass:"capitalized"},[_vm._v(" "+_vm._s(_vm.$getProperty(emailLog.row,"recordsModuleName")||"---")+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"recordId"),width:"150"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",[_vm._v(" "+_vm._s(_vm.$getProperty(emailLog.row,"recordId")||"---")+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{fixed:"",label:_vm.$getProperty(_vm.displayNameMap,"sysCreatedTime"),width:"150"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",[_vm._v(" "+_vm._s(_vm.getFormatTime(_vm.$getProperty(emailLog.row,"sysCreatedTime"))||"---")+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"subject"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_vm.$validation.isEmpty(emailLog.row.subject)?_c("div",{staticClass:"pL5"},[_vm._v(" "+_vm._s("---")+" ")]):_c("div",[_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.$getProperty(emailLog.row,"subject"),placement:"top"}},[_c("span",{staticClass:"truncate-text m0"},[_vm._v(_vm._s(_vm.$getProperty(emailLog.row,"subject")||"---")+" ")])])],1)]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"to"),width:"400"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_vm.canShowToolTip(_vm.toList(emailLog))?_c("div",{staticClass:"width100 flex-middle"},[_c("div",{staticClass:"fc-black-14 text-left truncate-text"},[_vm._v(" "+_vm._s(_vm.getFirstItemInList(_vm.toList(emailLog)))+" ")]),_c("el-tooltip",{attrs:{placement:"bottom"}},[_c("div",{attrs:{slot:"content"},slot:"content"},_vm._l(_vm.toList(emailLog),(function(receiver,index){return _c("div",{key:index},[index?_c("div",[_vm._v(_vm._s(receiver||"---"))]):_vm._e()])})),0),_c("span",{staticClass:"plus-more"},[_vm._v(" "+_vm._s(_vm.getListToolTipText(_vm.toList(emailLog)))+" ")])])],1):_c("div",{staticClass:"fc-black-14 text-left truncate-text"},[_vm._v(" "+_vm._s(_vm.getFirstItemInList(_vm.toList(emailLog)))+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"mailStatus"),width:"150"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",[_vm._v(" "+_vm._s(_vm.$getProperty(emailLog.row,"mailStatus")||"---")+" ")])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"recipientCount"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",{staticClass:"fW500"},[_c("span",{staticClass:"p5"},[_vm._v(_vm._s(_vm.$getProperty(emailLog.row,"recipientCount")||_vm.$t("emailLogs.zero")))])])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"deliveredCount"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",{staticClass:"fW500"},[_c("span",{staticClass:"p5"},[_vm._v(_vm._s(_vm.$getProperty(emailLog.row,"deliveredCount")||_vm.$t("emailLogs.zero")))])])]}}],null,!0)}),_c("el-table-column",{attrs:{label:_vm.$getProperty(_vm.displayNameMap,"bouncedCount"),width:"200"},scopedSlots:_vm._u([{key:"default",fn:function(emailLog){return[_c("div",{staticClass:"fW500"},[_c("span",{staticClass:"p5"},[_vm._v(_vm._s(_vm.$getProperty(emailLog.row,"bouncedCount")||_vm.$t("emailLogs.zero")))])])]}}],null,!0)})],1)],1)])])])})),0)},TableGroupsvue_type_template_id_1fbcdf6e_scoped_true_staticRenderFns=[],moment_timezone=(__webpack_require__(634338),__webpack_require__(480008)),moment_timezone_default=__webpack_require__.n(moment_timezone),helpers=__webpack_require__(778390),TableGroupsvue_type_script_lang_js={name:"TableGroups",props:["tableGroups","tableGroupData","sourceTypeMap","displayNameMap"],data:function(){return{dialogTableData:[],showDialog:!1,status:"",loggerId:null}},methods:{canShowToolTip:function(dataList){return!(0,validation/* isEmpty */.xb)(dataList)&&dataList.length>1},getFirstItemInList:function(dataList){return(0,validation/* isEmpty */.xb)(dataList)?"---":dataList[0]},getListToolTipText:function(dataList){var _ref=dataList||[],dataListLen=_ref.length;return!(0,validation/* isEmpty */.xb)(dataList)&&dataListLen>1?"+ ".concat(dataListLen-1," ").concat(this.$t("common._common.more")):"---"},toList:function(emailLogRow){var _ref2=emailLogRow||{},emailLog=_ref2.row;return(null===emailLog||void 0===emailLog?void 0:emailLog.toList)||[]},handleRowClick:function(tableIndex,row){var _ref3=row||{},loggerId=_ref3.id;(0,validation/* isEmpty */.xb)(loggerId)||this.$router.push({name:"emailLogsSummary",params:{loggerId:loggerId}})},getSourceType:function(row){var sourceTypeMap=this.sourceTypeMap,_ref4=row||{},sourceType=_ref4.sourceType,_ref5=sourceTypeMap||{},sourceTypeDisplayName=_ref5[sourceType];return sourceTypeDisplayName||"---"},getFormatter:function(timeStamp){return moment_timezone_default()(timeStamp).tz(this.$timezone).format("dddd, DD MMM YYYY")},getFormatTime:function(timeStamp){return(0,helpers/* getTimeInOrgFormat */.eB)(timeStamp)}}},emailLogs_TableGroupsvue_type_script_lang_js=TableGroupsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(emailLogs_TableGroupsvue_type_script_lang_js,TableGroupsvue_type_template_id_1fbcdf6e_scoped_true_render,TableGroupsvue_type_template_id_1fbcdf6e_scoped_true_staticRenderFns,!1,null,"1fbcdf6e",null)
/* harmony default export */,TableGroups=component.exports,AdvancedSearch=__webpack_require__(784823),vuex_esm=__webpack_require__(420629),FTags=__webpack_require__(775676),EmailLogsvue_type_script_lang_js={name:"EmailLogs",data:function(){return{mailLoggerFilterList:{},showSearchInput:!1,totalRecords:0,currentPage:1,recordsPerPage:50,isLoading:!1,emailLogsList:[],groupedEmailLogs:{},dayMap:{},days:[],sourceTypeMap:{},displayNameMap:{},dateFilterModel:[],dateFilterMap:{"This Month":28,Today:22,Yesterday:25,"Last Month":27,"Last Week":30,"This Week":31,"Till Now":72,"Till Yesterday":26},datePicker:[],selectFilter:[{label:"Today",value:"Today"},{label:"Till Now",value:"Till Now"},{label:"Yesterday",value:"Yesterday"},{label:"Till Yesterday",value:"Till Yesterday"},{label:"This Week",value:"This Week"},{label:"Last Week",value:"Last Week"},{label:"This Month",value:"This Month"},{label:"Last Month",value:"Last Month"},{label:"Custom",value:"Custom"}]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo}})),{},{moduleName:function(){return"outgoingMailLogger"},moduleDisplayName:function(){return"Outgoing Mail Logger"}}),watch:{metaInfo:{handler:function(newVal){(0,validation/* isEmpty */.xb)(newVal)||(this.setSourceTypeMap(),this.setDisplayNameMap())},immediate:!0}},components:{SetupHeader:SetupHeaderTabs/* default */.Z,Pagination:FPagination/* default */.Z,SetupLoader:SetupLoader/* default */.Z,SetupEmpty:SetupEmptyState/* default */.Z,TableGroups:TableGroups,AdvancedSearch:AdvancedSearch/* default */.Z,FTags:FTags["default"]},created:function(){this.loadMetaAndData()},methods:{loadMetaAndData:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,moduleName=_this.moduleName,_context.next=4,_this.$store.dispatch("view/loadModuleMeta",moduleName);case 4:return _context.next=6,_this.fetchEmailLogsList();case 6:_this.isLoading=!1;case 7:case"end":return _context.stop()}}),_callee)})))()},applyMailLoggerFilters:function(_ref){var filters=_ref.filters;this.mailLoggerFilterList=filters,this.fetchEmailLogsList()},resetFilters:function(){this.mailLoggerFilterList=[],this.fetchEmailLogsList()},setPage:function(page){this.currentPage=page,this.fetchEmailLogsList()},reloadFilteredData:function(){var dateFilterModel=this.dateFilterModel;"Custom"!==dateFilterModel&&(this.datePicker=[]),this.totalRecords=0,this.currentPage=1,this.fetchEmailLogsList()},reloadEmailLogs:function(){this.totalRecords=0,this.currentPage=1,this.mailLoggerFilterList={},this.fetchEmailLogsList()},setSourceTypeMap:function(){var _ref2=this||{},metaInfo=_ref2.metaInfo,_ref3=metaInfo||{},fields=_ref3.fields;if(!(0,validation/* isEmpty */.xb)(fields)){var sourceTypeField=fields.filter((function(field){var _ref4=field||{},name=_ref4.name;return"sourceType"===name})),_ref5=sourceTypeField[0]||{},enumMap=_ref5.enumMap;this.sourceTypeMap=enumMap}},setDisplayNameMap:function(){var _this2=this,_ref6=this||{},metaInfo=_ref6.metaInfo,_ref7=metaInfo||{},fields=_ref7.fields;(0,validation/* isEmpty */.xb)(fields)||fields.forEach((function(field){var _ref8=field||{},fieldName=_ref8.name,fieldDisplayName=_ref8.displayName;_this2.$set(_this2.displayNameMap,fieldName,fieldDisplayName)}))},deserialize:function(emailLogsList){var _this3=this;this.groupedEmailLogs={},this.dayMap={},this.days=[];var dayMap=this.dayMap,groupedEmailLogs=this.groupedEmailLogs;emailLogsList.forEach((function(emailLog){var toMails=emailLog.to,toList=(null===toMails||void 0===toMails?void 0:toMails.split(","))||[];_this3.$set(emailLog,"day",moment_timezone_default()(emailLog.sysCreatedTime).tz(_this3.$timezone).format("DDMMYYYY")),_this3.$set(emailLog,"toList",toList);var _ref9=emailLog||{},day=_ref9.day,sysCreatedTime=_ref9.sysCreatedTime,dayMapHasDay=dayMap.hasOwnProperty(day);dayMapHasDay||_this3.$set(dayMap,day,sysCreatedTime);var currentGroupKey=dayMap[day],currentGroup=groupedEmailLogs[currentGroupKey]||[];currentGroup.push(emailLog),_this3.$set(groupedEmailLogs,currentGroupKey,currentGroup)})),this.days=Object.values(dayMap);var _this$days=this.days,days=void 0===_this$days?[]:_this$days;days.sort()},fetchEmailLogsList:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var currentPage,recordsPerPage,mailLoggerFilterList,moduleName,dateFilterModel,dateFilterMap,params,dateFilter,datePicker,operator,_yield$API$fetchAll,list,_yield$API$fetchAll$m,meta,error,_ref10,emailLogsList;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this4.isLoading=!0,currentPage=_this4.currentPage,recordsPerPage=_this4.recordsPerPage,mailLoggerFilterList=_this4.mailLoggerFilterList,moduleName=_this4.moduleName,dateFilterModel=_this4.dateFilterModel,dateFilterMap=_this4.dateFilterMap,params={page:currentPage,perPage:recordsPerPage,withCount:!0,orderType:"desc",orderBy:"SYS_CREATED_TIME"},dateFilter={},(0,validation/* isEmpty */.xb)(dateFilterModel)||("Custom"===dateFilterModel?(datePicker=_this4.datePicker,(0,validation/* isEmpty */.xb)(datePicker)||(dateFilter={sysCreatedTime:{operatorId:20,value:_this4.datePicker.map((function(a){return a.toString()}))}})):(operator=dateFilterMap[dateFilterModel],dateFilter={sysCreatedTime:{operatorId:operator}}),params["filters"]=JSON.stringify((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},mailLoggerFilterList),dateFilter))),(0,validation/* isEmpty */.xb)(mailLoggerFilterList)||(params["filters"]=JSON.stringify((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},mailLoggerFilterList),dateFilter))),_context2.next=8,api/* API */.bl.fetchAll(moduleName,params);case 8:_yield$API$fetchAll=_context2.sent,list=_yield$API$fetchAll.list,_yield$API$fetchAll$m=_yield$API$fetchAll.meta,meta=void 0===_yield$API$fetchAll$m?{}:_yield$API$fetchAll$m,error=_yield$API$fetchAll.error,error?_this4.$message.error(error.message||"Error Occured"):(_this4.totalRecords=_this4.$getProperty(meta,"pagination.totalCount",null),_this4.emailLogsList=list,_ref10=_this4||{},emailLogsList=_ref10.emailLogsList,_this4.deserialize(emailLogsList)),_this4.isLoading=!1;case 15:case"end":return _context2.stop()}}),_callee2)})))()}}},emailLogs_EmailLogsvue_type_script_lang_js=EmailLogsvue_type_script_lang_js,EmailLogs_component=(0,componentNormalizer/* default */.Z)(emailLogs_EmailLogsvue_type_script_lang_js,render,staticRenderFns,!1,null,"452099cc",null)
/* harmony default export */,EmailLogs=EmailLogs_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/76306.js.map