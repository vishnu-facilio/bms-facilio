(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[35650],{
/***/154219:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ModulesHeader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ModulesHeader.vue?vue&type=template&id=2aea4ae6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.modulesList.length)?_vm._e():_c("ul",{ref:"header",staticClass:"module-header"},[_vm._l(_vm.activeFilterList,(function(moduleList){return _c("router-link",{key:JSON.stringify(moduleList.path),attrs:{tag:"li",to:moduleList.path,title:moduleList.title}},[_c("a",{ref:moduleList.label,refInFor:!0,staticClass:"uppercase",attrs:{role:"navigation","aria-label":moduleList.label}},[_vm.overflowLabel(moduleList.label)?[_c("el-tooltip",{attrs:{"popper-class":"label-tooltip",effect:"dark",content:moduleList.label,placement:"bottom-start",tabindex:-1}},[_c("span",[_vm._v(_vm._s(moduleList.label))])])]:[_vm._v(" "+_vm._s(moduleList.label)+" ")]],2),_c("div",{staticClass:"module-selection-bar"})])})),_vm.canShowMoreMenu()?_c("li",{staticClass:"ellipsis-icon-hover"},[_c("el-dropdown",{attrs:{placement:"bottom-start",trigger:"click"},on:{command:_vm.handleCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_c("inline-svg",{attrs:{src:"svgs/header-more"}})],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-input",{staticClass:"modules-header-input",attrs:{placeholder:"Search"},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}),_vm._l(_vm.filteredMoreList,(function(moduleList){return _c("el-dropdown-item",{key:moduleList.path.path,attrs:{command:moduleList}},[_c("span",[_vm._v(_vm._s(moduleList.label))])])}))],2)],1)],1):_vm._e()],2)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(434284),__webpack_require__(339772),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(689730),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),OtherMixin=__webpack_require__(964967),ModulesHeadervue_type_script_lang_js={mixins:[OtherMixin/* default */.Z],props:{modulesList:{type:Array,required:!0},parentRef:{type:Object}},data:function(){return{maxActiveModuleCount:6,searchText:"",moreList:[],activeList:[],currentIndex:-1,menubarWidth:0}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({account:function(state){return state.account}})),{},{path:function(){var $route=this.$route,path=$route.path,name=$route.name;return{path:path,name:name}},currentTabIndex:function(){var modulesList=this.modulesList,$route=this.$route,currentRouteName=$route.name,currentRoutePath=$route.path;return modulesList.findIndex((function(tab){var _ref=tab||{},path=_ref.path,_ref2=path||{},tabRoutePath=_ref2.path,tabRouteName=_ref2.name;return tabRouteName===currentRouteName||currentRoutePath.includes(tabRoutePath)}))},activeFilterList:function(){var modulesList=this.modulesList,activeList=this.activeList,currentIndex=this.currentIndex,maxActiveModuleCount=activeList.length;if(modulesList=this.getAltayerFilteredModulesList(modulesList),currentIndex<maxActiveModuleCount)return modulesList.slice(0,maxActiveModuleCount);var activeTabs=modulesList.slice(0,maxActiveModuleCount-1),currentTab=modulesList[currentIndex];return activeTabs.push(currentTab),activeTabs},filteredMoreList:function(){var modulesList=this.modulesList,searchText=this.searchText,currentIndex=this.currentIndex,activeList=this.activeList,maxActiveModuleCount=activeList.length;modulesList=this.getAltayerFilteredModulesList(modulesList);var moreModulesList=(0,toConsumableArray/* default */.Z)(modulesList);if(currentIndex<maxActiveModuleCount?moreModulesList=moreModulesList.slice(maxActiveModuleCount):(moreModulesList.splice(currentIndex,1),moreModulesList=moreModulesList.slice(maxActiveModuleCount-1)),!(0,validation/* isEmpty */.xb)(searchText)){var text=searchText.replace(/\s/g,"").toLowerCase();return moreModulesList.filter((function(module){var moduleLabel="";return(0,validation/* isEmpty */.xb)((module||{}).label)||(moduleLabel=module.label.replace(/\s/g,"").toLowerCase()),moduleLabel.includes(text)}))}return moreModulesList}}),watch:{modulesList:{handler:function(){this.resize()},immediate:!0},path:{handler:function(newVal){this.setCurrentIndex(newVal)},immediate:!0}},mounted:function(){var _this$parentRef$menub,_this=this;this.$nextTick((function(){var _this$$route=_this.$route,path=_this$$route.path,name=_this$$route.name;_this.setCurrentIndex({path:path,name:name})}));var resizeObserver=new ResizeObserver(this.resize);this.$refs["header"]&&resizeObserver.observe(this.$refs["header"]),null!==(_this$parentRef$menub=this.parentRef["menubar"])&&void 0!==_this$parentRef$menub&&_this$parentRef$menub.$el&&resizeObserver.observe(this.parentRef["menubar"].$el)},methods:{setCurrentIndex:function(obj){var currentRoutePath=obj.path,currentRouteName=obj.name,index=this.modulesList.findIndex((function(tab){var _ref3=tab||{},path=_ref3.path,_ref4=path||{},tabRoutePath=_ref4.path,tabRouteName=_ref4.name;return currentRoutePath.includes(tabRoutePath)||!(0,validation/* isEmpty */.xb)(tabRouteName)&&tabRouteName===currentRouteName}));this.currentIndex=index},resize:function(){var _this2=this;requestAnimationFrame((function(){var _this2$parentRef$menu,_this2$parentRef$menu2,modulesList=_this2.modulesList;modulesList.length>0&&_this2.setCurrentIndex(_this2.path),_this2.menubarWidth=null!==(_this2$parentRef$menu=null===(_this2$parentRef$menu2=_this2.parentRef["menubar"])||void 0===_this2$parentRef$menu2?void 0:_this2$parentRef$menu2.$el.clientWidth)&&void 0!==_this2$parentRef$menu?_this2$parentRef$menu:150;var arr=[],font="13px Arial";if(!(0,validation/* isEmpty */.xb)(_this2.$refs["header"])){var _step,clientWidth=_this2.$refs["header"].clientWidth-_this2.menubarWidth-20,_iterator=(0,createForOfIteratorHelper/* default */.Z)(modulesList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var list=_step.value,canvas=document.createElement("canvas"),context=canvas.getContext("2d");context.font=font;var width=context.measureText(list.label).width+56,formattedWidth=Math.ceil(width);arr.push(formattedWidth)}}catch(err){_iterator.e(err)}finally{_iterator.f()}for(var summedArr=[],i=0;i<arr.length;i++)summedArr[i]=0===i?arr[i]:summedArr[i-1]+(arr[i]>=230?230:arr[i]);for(var popupArray=[],_i=0;_i<summedArr.length;_i++)summedArr[_i]+66>=clientWidth&&popupArray.push(_i);if(popupArray.length!==_this2.modulesList.length){for(var dropDownlist=[],cutoffIndex=popupArray[0],_i2=0,_popupArray=popupArray;_i2<_popupArray.length;_i2++){var _i3=_popupArray[_i2],link=modulesList[_i3];dropDownlist.push(link)}_this2.moreList=dropDownlist,_this2.activeList=modulesList.slice(0,cutoffIndex)}}}))},overflowLabel:function(label){var font="13px Arial",canvas=document.createElement("canvas"),context=canvas.getContext("2d");context.font=font;var width=context.measureText(label+", ").width,formattedWidth=Math.ceil(width);return formattedWidth>=80},handleCommand:function(selectedModule){var _ref5=selectedModule||{},path=_ref5.path;!(0,validation/* isEmpty */.xb)(path)&&this.$router.push(path).catch((function(){}))},canShowMoreMenu:function(){return this.modulesList.length>0&&this.moreList.length>0}}},components_ModulesHeadervue_type_script_lang_js=ModulesHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ModulesHeadervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ModulesHeader=component.exports},
/***/646716:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FetchViewsMixin}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(990260)),api=__webpack_require__(32284),FetchViewsMixinvue_type_script_lang_js={methods:{fetchView:function(moduleName){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$get,data,error,_ref,groupViews;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.prev=0,params={moduleName:moduleName,groupType:1,viewType:1},_context.next=4,api/* API */.bl.get("/v2/views/viewList",params);case 4:if(_yield$API$get=_context.sent,data=_yield$API$get.data,error=_yield$API$get.error,error){_context.next=10;break}return _ref=data||{},groupViews=_ref.groupViews,_context.abrupt("return",_this.getFirstView(groupViews));case 10:_context.next=15;break;case 12:return _context.prev=12,_context.t0=_context["catch"](0),_context.abrupt("return","all");case 15:case"end":return _context.stop()}}),_callee,null,[[0,12]])})))()},getFirstView:function(groupViews){var _ref2=(groupViews||[]).find((function(group){return!(0,validation/* isEmpty */.xb)(group.views)}))||{},views=_ref2.views,_this$$getProperty=this.$getProperty(views,"0",{}),name=_this$$getProperty.name;return name||"all"}}},base_FetchViewsMixinvue_type_script_lang_js=FetchViewsMixinvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(base_FetchViewsMixinvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FetchViewsMixin=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
},
/***/309182:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ReportIssue}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/feedback/ReportIssue.vue?vue&type=template&id=52bb7126
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"report-issue-dialog",staticStyle:{"z-index":"9999999999"},attrs:{title:"Report a problem",visible:!0,width:"40%","append-to-body":!0,"before-close":_vm.onClose}},[_c("el-form",{ref:"report_issue_form",attrs:{model:_vm.issue,rules:_vm.rules,"label-position":"top"}},[_c("el-row",{staticClass:"mB10"},[_c("el-col",{attrs:{span:24}},[_c("el-form-item",{staticClass:"mB10",attrs:{prop:"message"}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" Tell us what happened and our team will get to it in no time. ")]),_c("el-input",{staticClass:"fc-input-full-border-textarea",attrs:{type:"textarea",autofocus:!0,autosize:{minRows:6,maxRows:4},placeholder:"I clicked on 'X', then hit 'Configure'",resize:"none"},model:{value:_vm.issue.message,callback:function($$v){_vm.$set(_vm.issue,"message",$$v)},expression:"issue.message"}})],1)],1)],1)],1),_c("div",{staticClass:"d-flex mT-auto form-action-btn"},[_c("el-button",{staticClass:"form-btn f13 bold secondary text-center text-uppercase",on:{click:function($event){return _vm.onClose()}}},[_vm._v("Cancel")]),_c("el-button",{staticClass:"form-btn f13 bold primary m0 text-center text-uppercase",attrs:{type:"primary"},on:{click:function($event){return _vm.sendToSentry()}}},[_vm._v("Send")])],1)],1)},staticRenderFns=[],validation=(__webpack_require__(821057),__webpack_require__(990260)),ReportIssuevue_type_script_lang_js={props:["onClose"],data:function(){return{issue:{message:null},rules:{message:{trigger:"change",validator:function(rule,value,callback){(0,validation/* isEmpty */.xb)(value)?callback(new Error("This field is required")):callback()}}}}},computed:{preparedMessage:function(){return"[CX REPORTED]: "+this.issue.message}},methods:{sendToSentry:function(){var _this=this;this.$refs["report_issue_form"].validate().then((function(isValid){isValid&&
/*
            TODO
            send issue report
          */
_this.$nextTick((function(){return _this.onClose()}))}))}}},feedback_ReportIssuevue_type_script_lang_js=ReportIssuevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(feedback_ReportIssuevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ReportIssue=component.exports},
/***/196735:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Shortcuts}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/global/Shortcuts.vue?vue&type=template&id=eb326152
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"shortcut-dialog",attrs:{visible:_vm.showShortcut,"append-to-body":!0,"show-close":!1,"lock-scroll":!0,width:"40%",top:"8vh",title:_vm.$t("panel.panel.shortcuts")},on:{"update:visible":function($event){_vm.showShortcut=$event}}},[_c("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:_vm.shortcutsArray,border:!0,"header-cell-style":{"background-color":"#f4f4f4"}}},[_c("el-table-column",{attrs:{label:"ACTION"},scopedSlots:_vm._u([{key:"default",fn:function(shortcut){return[_c("div",{staticClass:"mL20"},[_vm._v(_vm._s(shortcut.row.element))])]}}])}),_c("el-table-column",{attrs:{label:"SHORTCUT"},scopedSlots:_vm._u([{key:"default",fn:function(shortcut){return[_c("div",{staticClass:"mL30 row"},[_c("div",{staticClass:"shortcut-keys col-4"},[_vm._v(" "+_vm._s(shortcut.row.shortcut_first_key)+" ")]),_c("div",{staticClass:"shortcut-keys col-1"},[_vm._v(" "+_vm._s(shortcut.row.shortcut_second_key)+" ")])])]}}])})],1)],1)},staticRenderFns=[],router=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(329435)),eventBus=__webpack_require__(398011),shortcutsArray=[{element:"Open QuickSwitch",shortcut_second_key:"k"},{element:"Focus to tab group",shortcut_first_key:"Shift",shortcut_second_key:"g"},{element:"Focus to tab",shortcut_first_key:"Shift",shortcut_second_key:"t"},{element:"Go to next page",shortcut_first_key:"Shift",shortcut_second_key:"→"},{element:"Go to previous page",shortcut_first_key:"Shift",shortcut_second_key:"←"},{element:"Open advanced filters",shortcut_first_key:"Shift",shortcut_second_key:"/"},{element:"Apply selected criteria in advanced filter",shortcut_second_key:"↵"},{element:"Create New",shortcut_first_key:"Shift",shortcut_second_key:"n"},{element:"Keyboard shortcuts",shortcut_second_key:"?"}],Shortcutsvue_type_script_lang_js={data:function(){return{showShortcut:!1,shortcutsArray:shortcutsArray}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler),this.windowsAndMacShortcuts},mounted:function(){eventBus/* eventBus */.Y.$on("openShortcutPanel",this.openShowcut)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler),eventBus/* eventBus */.Y.$off("openShortcutPanel",this.openShowcut)},computed:{windowsAndMacShortcuts:function(){var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref=userAgentData||{},userPlatform=_ref.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;shortcutsArray.filter((function(shortcut){"Open QuickSwitch"===shortcut.element?shortcut.shortcut_first_key=isMac?"Cmd":"Shift":"Keyboard shortcuts"!==shortcut.element&&"Apply selected criteria in advanced filter"!==shortcut.element||(shortcut.shortcut_first_key=isMac?"Cmd":"Ctrl")}))}},methods:{openShowcut:function(){this.showShortcut=!0},keyDownHandler:function(e){var _navigator2=navigator,userAgentData=_navigator2.userAgentData,platform=_navigator2.platform,_ref2=userAgentData||{},userPlatform=_ref2.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Slash"===e.code&&this.openShowcut()}}},global_Shortcutsvue_type_script_lang_js=Shortcutsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(global_Shortcutsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Shortcuts=component.exports},
/***/518783:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AppLauncher}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/AppLauncher.vue?vue&type=template&id=4c8f179f&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"app-launcher-dialog-block",attrs:{title:"App Launcher",width:"85%",visible:!0,"close-on-click-modal":!0,"before-close":_vm.close}},[_c("div",{staticClass:"app-launcher-dialog-body d-flex flex-col"},[_vm.loading?_c("spinner",{attrs:{show:_vm.loading}}):_vm.$validation.isEmpty(_vm.systemApps)&&_vm.$validation.isEmpty(_vm.connectedApps)?_c("div",{staticClass:"mT100 self-center"},[_vm._v(" No apps or work centers available. ")]):[_vm._l(_vm.typeVsAppListHash,(function(section,key){return[_vm.$validation.isEmpty(section.apps)?_vm._e():_c("div",{key:key},[_vm.isSystemAppsEmpty?_vm._e():_c("p",{staticClass:"fc-blue-label mL5 mB15 mT15"},[_vm._v(" "+_vm._s(section.label)+" ")]),_c("div",{staticClass:"d-flex flex-wrap"},_vm._l(section.apps,(function(app){return _c("a",{key:"system"+app.linkName,class:["app-launcher-box d-flex",_vm.isCurrentApp(app.linkName)&&"app-active"],on:{click:function(){return _vm.goToApp(app,section)}}},[app.logoUrl?_c("img",{staticClass:"app-launcher-icon",style:{backgroundColor:_vm.getAppIconBg(app)},attrs:{src:_vm.$prependBaseUrl(app.logoUrl)}}):_vm.getAppIcon(app)?_c("inline-svg",{staticClass:"app-launcher-icon",style:{backgroundColor:_vm.getAppIconBg(app)},attrs:{src:_vm.getAppIcon(app),iconClass:"icon icon-60 p10"}}):_c("inline-svg",{staticClass:"app-launcher-icon",style:{backgroundColor:_vm.getAppIconBg({})},attrs:{src:"product-icons/app-white",iconClass:"icon icon-60 p5"}}),_c("div",[_c("div",{staticClass:"fc-black3-16 bold"},[_vm._v(_vm._s(app.name))]),_c("div",{staticClass:"label-txt-black2 mT5 line-height18 app-desc"},[_vm._v(" "+_vm._s(app.description)+" ")])])],1)})),0)])]}))]],2)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),Spinner=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(648324),__webpack_require__(947522),__webpack_require__(689730),__webpack_require__(604947)),api=__webpack_require__(32284),validation=__webpack_require__(990260),appDetails={app:{icon:"svgs/apps/facilio",color:"#4e35a8"},iot:{icon:"svgs/apps/agent",color:"#7881f3"},operations:{icon:"svgs/apps/operations",color:"#f07575"},service:{icon:"svgs/apps/portal",color:"#2ec0b9"},tenant:{icon:"svgs/apps/tenant",color:"#f36ea5"},vendor:{icon:"svgs/apps/vendor",color:"#fdc63b"},cafm:{icon:"svgs/apps/facilio",color:"#4e35a8"},workplace:{icon:"svgs/apps/workplace",color:"#66B8F0"},iwms:{icon:"svgs/apps/workplace",color:"#66B8F0"}},AppLaunchervue_type_script_lang_js={props:["close"],components:{Spinner:Spinner/* default */.Z},data:function(){return{connectedApps:[],systemApps:[],loading:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,Promise.all([_this.loadConnectedApps(),_this.loadSystemApps()]);case 3:_this.loading=!1;case 4:case"end":return _context.stop()}}),_callee)})))()},computed:{typeVsAppListHash:function(){return{workcenters:{label:"Work Centers",apps:this.workcenterApps,getRoute:function(app){return{path:"/".concat(app.linkName)}}},portals:{label:"Portals",apps:this.portalApps,getRoute:function(app){var linkName=app.linkName,appDomain=app.appDomain,_ref=appDomain||{},domain=_ref.domain;return appDetails[linkName]?{href:"https://".concat(domain),external:!0}:{path:"/".concat(linkName)}}},connected:{label:"Connected Apps",apps:this.connectedApps,getRoute:function(app){return{path:"/app/connectedapp/"+app.linkName}}}}},workcenterApps:function(){var systemApps=this.systemApps,orgId=this.$org.id,_this$$constants$appC=this.$constants.appCategory,WORK_CENTERS=_this$$constants$appC.WORK_CENTERS,FEATURE_GROUPING=_this$$constants$appC.FEATURE_GROUPING;return systemApps.filter((function(app){return!![WORK_CENTERS,FEATURE_GROUPING].includes(app.appCategory)&&("app"!==app.linkName||429!==orgId)}))},portalApps:function(){var PORTALS=this.$constants.appCategory.PORTALS;return this.systemApps.filter((function(app){return app.appCategory===PORTALS&&"client"!==app.linkName}))},isSystemAppsEmpty:function(){return(0,validation/* isEmpty */.xb)(this.portalApps)&&(0,validation/* isEmpty */.xb)(this.workcenterApps)}},methods:{loadConnectedApps:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var filters,_yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return filters={showInLauncher:{operatorId:15,value:["true"]},isActive:{operatorId:15,value:["true"]}},_context2.next=3,api/* API */.bl.get("v2/connectedApps/all",{filters:JSON.stringify(filters)});case 3:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error||(_this2.connectedApps=data.connectedApps||[]);case 7:case"end":return _context2.stop()}}),_callee2)})))()},loadSystemApps:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _yield$API$get2,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,api/* API */.bl.get("v2/application/list?fetchMyApps=true");case 2:_yield$API$get2=_context3.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error||(_this3.systemApps=data.application||[],
// temp till newapp is not required
_this3.systemApps.forEach((function(app){"newapp"===app.linkName&&(app.linkName="app")})));case 6:case"end":return _context3.stop()}}),_callee3)})))()},getAppIcon:function(_ref2){var linkName=_ref2.linkName;return appDetails[linkName]?appDetails[linkName].icon:null},getAppIconBg:function(_ref3){var linkName=_ref3.linkName;return appDetails[linkName]?appDetails[linkName].color:"#a3cc85"},openAppLink:function(route){if(route.external)window.open(route.href,"_blank");else{var _this$$router$resolve=this.$router.resolve(route),href=_this$$router$resolve.href;window.open(href,"_blank")}},isCurrentApp:function(linkName){var appNameFromUrl=window.location.pathname.slice(1).split("/")[0]||null;return appNameFromUrl===linkName},goToApp:function(app,section){this.isCurrentApp(app.linkName)?this.close():this.openAppLink(section.getRoute(app))}}},home_AppLaunchervue_type_script_lang_js=AppLaunchervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_AppLaunchervue_type_script_lang_js,render,staticRenderFns,!1,null,"4c8f179f",null)
/* harmony default export */,AppLauncher=component.exports},
/***/443036:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ConnectedAppDialer}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/ConnectedAppDialer.vue?vue&type=template&id=e6dc1962
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.widget?_c("el-card",{staticClass:"dialer-card",class:{minimized:_vm.minimized,closed:_vm.closed},style:_vm.dialerStyle},[_c("div",{staticClass:"clearfix",attrs:{slot:"header"},on:{click:_vm.toggleDialer},slot:"header"},[_c("span",[_vm._v(_vm._s(_vm.widget.widgetName))]),_c("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",icon:_vm.minimized?"el-icon-arrow-up":"el-icon-arrow-down"}})],1),_vm.widget?_c("ConnectedAppViewWidget",{key:_vm.widget.id,ref:"ref-"+_vm.widget.id,attrs:{widgetId:_vm.widget.id,handlers:_vm.handlers}}):_vm._e()],1):_vm._e()},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=(__webpack_require__(648324),__webpack_require__(32284)),validation=__webpack_require__(990260),ConnectedAppViewWidget=__webpack_require__(767004),router=__webpack_require__(329435),ConnectedAppDialervue_type_script_lang_js={components:{ConnectedAppViewWidget:ConnectedAppViewWidget["default"]},data:function(){return{widget:null,dialerState:{width:"300px",height:"450px",top:null,bottom:"0px",right:"20px",left:null,theme:null,color:null},minimized:!1,closed:!0,handlers:{}}},mounted:function(){this.initWidgetHandlers(),this.loadWidgets()},computed:{dialerStyle:function(){var style="";return null!=this.dialerState.width&&(style+="width: "+this.dialerState.width+";"),null!=this.dialerState.height&&(style+="height: "+this.dialerState.height+";"),null!=this.dialerState.top&&(style+="top: "+this.dialerState.top+";"),null!=this.dialerState.bottom&&(style+="bottom: "+this.dialerState.bottom+";"),null!=this.dialerState.right&&(style+="right: "+this.dialerState.right+";"),null!=this.dialerState.left&&(style+="left: "+this.dialerState.left+";"),null!=this.dialerState.theme&&(style+="background: "+this.dialerState.theme+";",style+="border: 1px solid "+this.dialerState.theme+";"),null!=this.dialerState.color&&(style+="color: "+this.dialerState.color+";"),style},currentAppId:function(){return((0,router/* getApp */.wx)()||{}).id}},methods:{toggleDialer:function(){this.minimized=!this.minimized,this.minimized?this.sendEvent("dialer.inactive",!0):this.sendEvent("dialer.active",!0)},initWidgetHandlers:function(){var _this=this,open=function(){_this.closed=!1},close=function(){_this.closed=!0},maximize=function(){_this.minimized=!1},minimize=function(){_this.minimized=!0},resize=function(_ref){var width=_ref.width,height=_ref.height,top=_ref.top,bottom=_ref.bottom,left=_ref.left,right=_ref.right;_this.dialerState.width=width||"300px",_this.dialerState.height=height||"450px",_this.dialerState.top=top||null,_this.dialerState.bottom=bottom||"0px",_this.dialerState.right=right||"20px",_this.dialerState.left=left||null},style=function(_ref2){var theme=_ref2.theme,color=_ref2.color;_this.dialerState.theme=theme||null,_this.dialerState.color=color||null},subscribe=function(_ref3){var topic=_ref3.topic;topic&&_this.$wms.subscribe(topic,_this.onLiveData)},unsubscribe=function(_ref4){var topic=_ref4.topic;topic&&_this.$wms.unsubscribe(topic,_this.onLiveData)};this.handlers={open:open,close:close,maximize:maximize,minimize:minimize,resize:resize,style:style,subscribe:subscribe,unsubscribe:unsubscribe}},onLiveData:function(eventData){this.sendEvent("live.data.received",eventData)},sendEvent:function(eventName,eventData){var id=this.widget.id,refElement=this.$refs["ref-".concat(id)];(0,validation/* isEmpty */.xb)(refElement)||refElement.sendEvent(eventName,eventData)},loadWidgets:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var filters,encodedFilters,url,_yield$API$get,data,_ref5,connectedAppWidgets;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return filters={entityType:{operatorId:9,value:["4"]},entityId:{operatorId:9,value:["".concat(_this2.currentAppId)]}},encodedFilters=encodeURIComponent(JSON.stringify(filters)),url="/v2/connectedApps/widgetList?filters=".concat(encodedFilters),_context.next=5,api/* API */.bl.get(url);case 5:_yield$API$get=_context.sent,data=_yield$API$get.data,data&&(_ref5=data||{},connectedAppWidgets=_ref5.connectedAppWidgets,connectedAppWidgets&&connectedAppWidgets.length&&(_this2.widget=connectedAppWidgets[0]));case 8:case"end":return _context.stop()}}),_callee)})))()}}},home_ConnectedAppDialervue_type_script_lang_js=ConnectedAppDialervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_ConnectedAppDialervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppDialer=component.exports},
/***/707034:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FeatureReleaseBanner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/FeatureReleaseBanner.vue?vue&type=template&id=b08c27b6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.bannerListData)?_vm._e():_c("div",[1===_vm.bannerListData.type?_c("div",{staticClass:"position-relative flex-middle"},[_vm.showCloseBanner?_c("div",{staticClass:"fc-feature-nav-banner",class:_vm.getBackgroundClass(),domProps:{innerHTML:_vm._s(_vm.sanitize(_vm.bannerListData.subject))}}):_vm._e(),_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,arrowType:"round",animation:"fade"},expression:"{ arrow: true, arrowType: 'round', animation: 'fade' }"}],staticClass:"fc-close-banner pointer",attrs:{content:"Close"},on:{click:_vm.closeBanner}},[_c("i",{staticClass:"el-icon-close"})])]):_vm._e(),2===_vm.bannerListData.type?_c("div",{staticClass:"display-flex-between-space"},[_vm.showCollapseData?_c("div",{staticClass:"fc-feature-nav-banner pointer",class:_vm.getBackgroundClass(),on:{click:_vm.closeCollapse}},[_vm._m(0),_c("div",{domProps:{innerHTML:_vm._s(_vm.sanitize(_vm.bannerListData.subject))},on:{click:_vm.moveTodelegate}}),_c("div",{staticClass:"pL20 pointer",on:{click:_vm.moveTodelegate}},[_c("i",{staticClass:"el-icon-back fwBold f18 rotate180"})])]):_c("div",{staticClass:"fc-feature-nav-banner-close-state pointer",class:_vm.getBackgroundClass(),on:{click:_vm.openCollapseState}})]):_vm._e()])},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"pointer pR20 position-absolute fc-ab-right0"},[_c("i",{staticClass:"el-icon-arrow-up f14 fwBold"})])}],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),sanitize=__webpack_require__(678042),api=__webpack_require__(32284),FeatureReleaseBannervue_type_script_lang_js={props:["showCollapseData","bannerListData","showCloseBanner"],data:function(){return{loading:!0,activeNames:[1]}},created:function(){this.sanitize=sanitize/* sanitize */.N},computed:{},methods:{closeCollapse:function(){this.$emit("closeCollapseData")},openCollapseState:function(){this.$emit("openCollapseData")},getBackgroundClass:function(){return 1===this.bannerListData.priority?"bannerBgHigh":2===this.bannerListData.priority?"bannerBgMedium":3===this.bannerListData.priority?"bannerBgLow":"bannerBgHigh"},moveTodelegate:function(){var route=this.$router.resolve({path:"/app/personalsettings/delegate"});window.open(route.href)},closeBanner:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,api/* API */.bl.post("/v2/banner/close",{id:_this.bannerListData.id});case 3:_yield$API$post=_context.sent,error=_yield$API$post.error,error?_this.$message.error(error.message||"Error Occurred"):(_this.$message.success(_this.$t("setup.delete.closed_successfully")),window.location.reload()),_this.loading=!1;case 7:case"end":return _context.stop()}}),_callee)})))()}}},home_FeatureReleaseBannervue_type_script_lang_js=FeatureReleaseBannervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_FeatureReleaseBannervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FeatureReleaseBanner=component.exports},
/***/643951:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return MenuBar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/MenuBar.vue?vue&type=template&id=2ccdcd8f
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("ul",{staticClass:"header-tabs pull-right pL0 pR0"},[_c("li",{staticClass:"pL0 p0 building-hover p10"},[_vm.showSwitchVariable?_c("SwitchValue"):_c("SiteSwitch",{attrs:{currentSite:_vm.currentSite,sites:_vm.sites,setCurrentSite:_vm.setCurrentSite}})],1),_c("li",{staticClass:"custom-top-menu"},[_c("portal-target",{attrs:{name:"custom-topbar-menu"}})],1),_vm.newAlarms>0?_c("router-link",{staticStyle:{padding:"16px 12px"},attrs:{tag:"li",to:{path:"/app/fa/faults/active"}},nativeOn:{click:function($event){return _vm.resetAlarmUnseen.apply(null,arguments)}}},[_c("el-badge",{staticClass:"notifications-unread-new",attrs:{value:_vm.newAlarms,max:99}},[_c("a",[_c("i",{staticClass:"material-icons alarm-icon"},[_vm._v(_vm._s(_vm.$t("panel.panel.alarm")))])])])],1):_vm._e(),_vm.canShowQuickAddMenu?_c("li",{staticStyle:{padding:"10px 10px"}},[_c("el-popover",{attrs:{placement:"bottom-end",width:"250",trigger:"click","popper-class":"fc-maintenance-popover p0 mT0","visible-arrow":!1,tabindex:-1},model:{value:_vm.addbtn,callback:function($$v){_vm.addbtn=$$v},expression:"addbtn"}},[_c("div",{staticClass:"blue-round-plus",class:{active:_vm.addbtn},attrs:{slot:"reference",role:"img","aria-label":"Add Icon"},slot:"reference"},[_c("i",{staticClass:"el-icon-plus"})]),_c("div",{staticClass:"notifications-container"},[_c("div",{staticClass:"fc-grey2 f11 bold mL30 mR30 mT20 pB10"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.maintenance"))+" ")]),_c("div",{staticClass:"flex-middle maintenace-menu-list",on:{click:function($event){return _vm.redirectToWO()}}},[_c("InlineSvg",{attrs:{src:"svgs/monitor",iconClass:"icon icon-lg mR10 maintenace-menu-hover-icon"}}),_vm._v(" "+_vm._s(_vm.$t("panel.panel.work_order"))+" ")],1),_vm.$helpers.isLicenseEnabled("INVENTORY")?_c("div",{staticClass:"flex-middle maintenace-menu-list",on:{click:function($event){return _vm.redirectToIR()}}},[_c("InlineSvg",{attrs:{src:"svgs/monitor",iconClass:"icon icon-lg mR10 maintenace-menu-hover-icon"}}),_vm._v(" "+_vm._s(_vm.$t("panel.panel.inventory_req"))+" ")],1):_vm._e()])])],1):_vm._e(),_vm.canShowNotifications?_c("li",{staticStyle:{padding:"16px 10px"}},[_c("NotificationPopup",{ref:"notification"})],1):_vm._e(),_c("li",{staticStyle:{padding:"10px 10px 12px"},on:{click:function($event){return $event.stopPropagation(),_vm.toggleProfilePanel.apply(null,arguments)}}},[_c("avatar",{style:{border:"1px solid #666580","border-radius":"16px"},attrs:{size:"md",user:_vm.account.user,color:"#473a9e"}})],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(300268),__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(574752)),NotificationPopupvue_type_template_id_475ab98b_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-popover",{attrs:{placement:"bottom-end",width:"420",trigger:"click","popper-class":"notification-popover pT10 pB20 pL0 pR0",tabindex:-1},on:{show:_vm.notificationSeenUpdate},model:{value:_vm.canShowPopup,callback:function($$v){_vm.canShowPopup=$$v},expression:"canShowPopup"}},[_c("el-badge",{staticClass:"notifications-unread-new",attrs:{slot:"reference",value:_vm.unseenNotificationCount,max:99},slot:"reference"},[_c("i",{staticClass:"q-icon fa fa-bell-o",staticStyle:{"font-size":"18px"},attrs:{"aria-hidden":"true",role:"img","aria-label":"Notification"}})]),_c("div",{staticClass:"border-bottom16 flex-center-row-space pB15 pR15 pL15 pT10"},[_c("div",{staticClass:"notification-title fwBold f13 letter-spacing1"},[_vm._v(" "+_vm._s(_vm.$t("setup.setup.notifications"))+" ")]),_c("i",{staticClass:"el-icon-close pointer f16 fwBold",on:{click:function($event){_vm.canShowPopup=!1}}})]),_c("NotificationList",{attrs:{showNotificationInTab:!1},on:{notificationItemClicked:_vm.notificationItemClicked,hasNotificationData:_vm.hasNotificationData}}),_vm.hasNotification?_c("div",{staticClass:"notification-footer",on:{click:function($event){_vm.canShowPopup=!1}}},[_c("router-link",{staticClass:"notification-showmore",attrs:{to:_vm.getNotificationRoute()}},[_vm._v(_vm._s(_vm.$t("common.notification.show_more")))])],1):_vm._e()],1)},NotificationPopupvue_type_template_id_475ab98b_staticRenderFns=[],NotificationList=(__webpack_require__(689730),__webpack_require__(490962)),api=__webpack_require__(32284),vuex_esm=__webpack_require__(420629),NotificationPopupvue_type_script_lang_js={name:"NotificationPopup",components:{NotificationList:NotificationList/* default */.Z},data:function(){return{unseenNotificationCount:null,canShowPopup:!1,hasNotification:!1}},created:function(){var _this=this;this.getNotificationCount().then((function(){_this.notificationUnseen>0&&(_this.unseenNotificationCount=_this.notificationUnseen)}))},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({notificationUnseen:function(state){return state.notification.unseen}})),methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({getNotificationCount:"notification/fetchNotificationCount"})),{},{notificationSeenUpdate:function(){api/* API */.bl.get("v3/usernotification/update/seen"),this.unseenNotificationCount=null},notificationItemClicked:function(hasAction){this.canShowPopup=!1;var notificationPath="/app/personalsettings/notifications";hasAction||this.$router.push({path:notificationPath}).catch((function(){}))},hasNotificationData:function(isNotificationPresent){isNotificationPresent&&(this.hasNotification=!0)},getNotificationRoute:function(){var app=window.location.pathname.slice(1).split("/")[0];return{name:"notifications",params:{app:app}}}})},notifications_NotificationPopupvue_type_script_lang_js=NotificationPopupvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(notifications_NotificationPopupvue_type_script_lang_js,NotificationPopupvue_type_template_id_475ab98b_render,NotificationPopupvue_type_template_id_475ab98b_staticRenderFns,!1,null,null,null)
/* harmony default export */,NotificationPopup=component.exports,router=__webpack_require__(329435),SiteSwitchvue_type_template_id_ca24999a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.hasSites?_c("el-dropdown",{staticClass:"siteDropdown",attrs:{trigger:"click",tabindex:-1},on:{command:_vm.setCurrentSite,click:function($event){return _vm.setFocus()}}},[_c("div",{staticClass:"siteDropdownBtn"},[_c("div",{staticClass:"header__current__site__switch"},[_c("div",{staticClass:"header__current__site__display new-home-display p0 flex-middle"},[_vm.getCurrentSiteOptionIsDecommission(_vm.currentSiteObj)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"pR5 pT4",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{attrs:{group:"alert",name:"decommissioning",size:"15"}})],1):_c("span",[_c("img",{staticClass:"mR5 mT5",attrs:{src:__webpack_require__(283561),width:"13",height:"13",alt:_vm.$t("common.products.sites")}})]),_c("span",[_vm._v(_vm._s(_vm.currentSiteObj.label))])]),_c("i",{staticClass:"fa fa-sort-desc wl-icon-downarrow",class:{"arrow-push-bottom":_vm.getCurrentSiteOptionIsDecommission(_vm.currentSiteObj)}})])]),_c("el-dropdown-menu",{staticClass:"p5",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-input",{ref:"site-switch-search-box",staticClass:"site_switch_search_box  p5",attrs:{"prefix-icon":"el-icon-search",placeholder:_vm.$t("common.header.search_by_site_name")},on:{input:function($event){return _vm.getSitesList()}},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}),-1!==_vm.currentSiteObj.value?_c("el-dropdown-item",{staticClass:"dropdown-item pT20"},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.all"))+" "),-1===_vm.currentSiteObj.value?_c("span",{staticClass:"success-icon pL5"},[_c("i",{staticClass:"el-icon-success site_switch"})]):_vm._e()]):_vm._e(),_vm._l(_vm.sites,(function(site,key){return[_vm.$validation.isEmpty(_vm.sites)?_vm._e():_c("el-dropdown-item",{key:key,staticClass:"dropdown-item",attrs:{command:site}},[_c("span",[_vm._v(_vm._s(site.label))]),_vm.isCurrentSite(site)?_c("span",{staticClass:"success-icon pL5"},[_c("i",{staticClass:"el-icon-success site_switch"})]):_vm._e(),_vm.getCurrentSiteOptionIsDecommission(site)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"success-icon pL5",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{staticClass:"fR pT10",attrs:{group:"alert",name:"decommissioning",size:"16"}})],1):_vm._e()])]}))],2)],1):_vm._e()},SiteSwitchvue_type_template_id_ca24999a_scoped_true_staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),picklist=(__webpack_require__(879288),__webpack_require__(169358),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(961358)),validation=__webpack_require__(990260),debounce=__webpack_require__(23279),debounce_default=__webpack_require__.n(debounce),SiteSwitchvue_type_script_lang_js={data:function(){return{searchText:"",sites:[],hasSites:!1,currentSiteObj:{value:-1,label:"All",fourthLabel:!1}}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var currentSiteId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return currentSiteId=Number(_this.$cookie.get("fc.currentSite"))||-1,_context.next=3,_this.getSitePickList(currentSiteId);case 3:case"end":return _context.stop()}}),_callee)})))()},methods:{getCurrentSiteOptionIsDecommission:function(currentSiteObj){if(!(0,validation/* isEmpty */.xb)(currentSiteObj)){var _ref=currentSiteObj||{},fourthLabel=_ref.fourthLabel;return!(0,validation/* isEmpty */.xb)(fourthLabel)&&JSON.parse(fourthLabel)}return!1},setFocus:function(){this.setAutofocus("site-switch-search-box")},isCurrentSite:function(site){var currentSiteObj=this.currentSiteObj,_ref2=currentSiteObj||{},value=_ref2.value,_ref3=site||{},currentSiteId=_ref3.value;return value===currentSiteId},setCurrentSite:function(site){this.isCurrentSite(site)||(this.$cookie.set("fc.currentSite",this.$getProperty(site,"value",null),{expires:"10Y",path:"/"}),this.$router.go())},getSitesList:debounce_default()((0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.getSitePickList();case 2:case"end":return _context2.stop()}}),_callee2,this)}))),500),getSitePickList:function(currentSiteId){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var searchText,params,_yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return searchText=_this2.searchText,params={field:{lookupModuleName:"site",additionalParams:{isToFetchDecommissionedResource:!0}},apiOptions:{removeCurrentSiteFilter:!0}},(0,validation/* isEmpty */.xb)(searchText)||(params.searchText=searchText),_context3.next=5,(0,picklist/* getFieldOptions */._K)(params);case 5:_yield$getFieldOption=_context3.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error||(options.length>=1&&(_this2.hasSites=!0),_this2.sites=options),currentSiteId>0&&(_this2.currentSiteObj=options.find((function(site){return site.value===currentSiteId})));case 10:case"end":return _context3.stop()}}),_callee3)})))()}}},home_SiteSwitchvue_type_script_lang_js=SiteSwitchvue_type_script_lang_js,SiteSwitch_component=(0,componentNormalizer/* default */.Z)(home_SiteSwitchvue_type_script_lang_js,SiteSwitchvue_type_template_id_ca24999a_scoped_true_render,SiteSwitchvue_type_template_id_ca24999a_scoped_true_staticRenderFns,!1,null,"ca24999a",null)
/* harmony default export */,SiteSwitch=SiteSwitch_component.exports,SwitchValuevue_type_template_id_7c9d047c_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.hasSwitch?_c("div",[_c("el-dropdown",{staticClass:"siteDropdown",attrs:{trigger:"click",tabindex:-1},on:{command:_vm.setSwitchValue,click:_vm.setFocus}},[_c("div",{staticClass:"moduleSwitch"},[_c("div",{staticClass:"header__current__site__switch"},[_c("div",{staticClass:"header__current__site__display new-home-display p0 flex-middle"},[_vm.getSelectedOptionIsDecommission?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"pT5",attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{attrs:{group:"alert",name:"decommissioning",size:"15"}})],1):_c("span",{staticClass:"switch-dot"}),_c("span",{key:"switch-option-selected",staticClass:"dropdown-item mL10 max-width170px"},[_vm._v(_vm._s(_vm.getSelectedOptionValue))])]),_c("i",{staticClass:"fa fa-sort-desc wl-icon-downarrow",class:{"arrow-push-bottom":_vm.getSelectedOptionIsDecommission}})])]),_c("el-dropdown-menu",{staticClass:"p5",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-input",{ref:"site-switch-search-box",staticClass:"site_switch_search_box  p5",attrs:{"prefix-icon":"el-icon-search",placeholder:_vm.$t("common._common.search")},on:{input:_vm.loadFilteredOptions},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}),_vm._l(_vm.moduleOptionList,(function(option,optionKey){return _c("el-dropdown-item",{key:"option-"+optionKey,staticClass:"dropdown-item",attrs:{command:optionKey}},[_vm._v(_vm._s(option.label)+" "),optionKey===""+_vm.selectedId?_c("span",{staticClass:"success-icon pL8"},[_c("i",{staticClass:"el-icon-success"})]):_vm._e(),_vm.getWarningVisible(option)?_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],attrs:{title:_vm.$t("setup.decommission.decommissioned")}},[_c("fc-icon",{staticClass:"fR pT10 pL20",attrs:{group:"alert",name:"decommissioning",size:"16"}})],1):_vm._e()])}))],2)],1)],1):_vm._e()},SwitchValuevue_type_template_id_7c9d047c_scoped_true_staticRenderFns=[],defineProperty=__webpack_require__(482482),slicedToArray=__webpack_require__(554621),SwitchValuevue_type_script_lang_js=(__webpack_require__(652586),__webpack_require__(497337),__webpack_require__(313429),__webpack_require__(337462),__webpack_require__(212826),__webpack_require__(584645),__webpack_require__(648324),__webpack_require__(947522),__webpack_require__(186466),{data:function(){return{isLoading:!1,moduleName:null,moduleLinkName:null,moduleOptionList:{null:"All"},searchText:null,hasSwitch:!1}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.getSwitchVariable();case 2:return _context.next=4,_this.loadModuleOptions();case 4:case"end":return _context.stop()}}),_callee)})))()},computed:{getSelectedOptionValue:function(){var selectedId=this.selectedId,moduleOptionList=this.moduleOptionList;return!(0,validation/* isEmpty */.xb)(moduleOptionList)&&selectedId in moduleOptionList?this.$getProperty(moduleOptionList,"".concat(selectedId,".label"),"---"):"All"},getSelectedOptionIsDecommission:function(){var selectedId=this.selectedId,moduleOptionList=this.moduleOptionList;if(!(0,validation/* isEmpty */.xb)(moduleOptionList)&&selectedId in moduleOptionList){var _ref=moduleOptionList[selectedId]||{},fourthLabel=_ref.fourthLabel;return!(0,validation/* isEmpty */.xb)(fourthLabel)&&JSON.parse(fourthLabel)}return!1},selectedId:{get:function(){var _ref2=(0,router/* getApp */.wx)()||{},linkName=_ref2.linkName,cookieValue=this.switchCookieValue;if(cookieValue&&"null"!==cookieValue&&!(0,validation/* isEmpty */.xb)(linkName)){var convertedValue=atob(cookieValue),decodedValue=JSON.parse(convertedValue),_ref3=decodedValue||{},encodedAppSwitchValue=_ref3[linkName];if(!(0,validation/* isEmpty */.xb)(encodedAppSwitchValue)){var decodedAppValue=atob(encodedAppSwitchValue),appSpecificValue=JSON.parse(decodedAppValue),_ref4=appSpecificValue||{},selectedIdArr=_ref4[this.moduleLinkName],_ref5=selectedIdArr||[],_ref6=(0,slicedToArray/* default */.Z)(_ref5,1),selectedId=_ref6[0];return selectedId||null}}return null},set:function(value){var cookieValue=this.switchCookieValue;cookieValue=cookieValue&&"null"!==cookieValue&&!(0,validation/* isEmpty */.xb)(cookieValue)?JSON.parse(atob(cookieValue)):{};var encodedValue=null,appAllEncodedValue=null;if(!(0,validation/* isEmpty */.xb)(value)){var actualValue=(0,defineProperty/* default */.Z)({},this.moduleLinkName,[value.toString()]);encodedValue=btoa(JSON.stringify(actualValue))}var _ref7=(0,router/* getApp */.wx)()||{},linkName=_ref7.linkName;(0,validation/* isEmpty */.xb)(linkName)||(cookieValue[linkName]=encodedValue,appAllEncodedValue=btoa(JSON.stringify(cookieValue))),this.$cookie.set("fc.switchValue",appAllEncodedValue,{expires:"10Y",path:"/"}),this.$router.go()}},switchCookieValue:function(){var cookieValue=this.$cookie.get("fc.switchValue")||null;return cookieValue}},methods:{setFocus:function(){this.setAutofocus("site-switch-search-box")},loadFilteredOptions:debounce_default()((0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.loadModuleOptions();case 2:case"end":return _context2.stop()}}),_callee2,this)}))),500),setSwitchValue:function(id){this.selectedId=id&&"null"!==id?parseInt(id):null},getSwitchVariable:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var url,_yield$API$get,error,data,_ref9,_ref10,switchVariable;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this2.isLoading=!0,url="v3/switchVariable/getSwitchVariable",_context3.next=4,api/* API */.bl.get(url,{force:!0});case 4:_yield$API$get=_context3.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||"Error Occurred"):(_ref9=(null===data||void 0===data?void 0:data.switchVariable)||[],_ref10=(0,slicedToArray/* default */.Z)(_ref9,1),switchVariable=_ref10[0],(0,validation/* isEmpty */.xb)(switchVariable)||(_this2.hasSwitch=!0,_this2.moduleName=(null===switchVariable||void 0===switchVariable?void 0:switchVariable.applicableModuleName)||null,_this2.moduleLinkName=(null===switchVariable||void 0===switchVariable?void 0:switchVariable.linkName)||null)),_this2.isLoading=!1;case 9:case"end":return _context3.stop()}}),_callee3)})))()},loadModuleOptions:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var moduleName,searchText,optionList,params,_yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(moduleName=_this3.moduleName,searchText=_this3.searchText,!(0,validation/* isEmpty */.xb)(moduleName)){_context4.next=3;break}return _context4.abrupt("return");case 3:return optionList={},params={field:{lookupModuleName:_this3.moduleName,skipDeserialize:!1,additionalParams:{isToFetchDecommissionedResource:!0}},searchText:searchText||null,apiOptions:{removeSwitchFilter:!0},defaultIds:[_this3.selectedId]},_context4.next=7,(0,picklist/* getFieldOptions */._K)(params);case 7:_yield$getFieldOption=_context4.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error||(optionList={null:{label:"All",fourthLabel:"false"}},Object.values(options).forEach((function(option){var key=option.value;delete option["value"],optionList[key]=option}))),_this3.moduleOptionList=optionList;case 12:case"end":return _context4.stop()}}),_callee4)})))()},getWarningVisible:function(data){return!(0,validation/* isEmpty */.xb)(null===data||void 0===data?void 0:data.fourthLabel)&&JSON.parse(data.fourthLabel)}}}),home_SwitchValuevue_type_script_lang_js=SwitchValuevue_type_script_lang_js,SwitchValue_component=(0,componentNormalizer/* default */.Z)(home_SwitchValuevue_type_script_lang_js,SwitchValuevue_type_template_id_7c9d047c_scoped_true_render,SwitchValuevue_type_template_id_7c9d047c_scoped_true_staticRenderFns,!1,null,"7c9d047c",null)
/* harmony default export */,SwitchValue=SwitchValue_component.exports,MenuBarvue_type_script_lang_js={props:["OfflineOnly","currentSite","sites","setCurrentSite","newAlarms","resetAlarmUnseen","account","toggleProfilePanel"],components:{Avatar:Avatar["default"],NotificationPopup:NotificationPopup,SiteSwitch:SiteSwitch,SwitchValue:SwitchValue},data:function(){return{addbtn:!1}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("webtabs",["isAppPrefEnabled"])),{},{canShowQuickAddMenu:function(){return(0,router/* isWebTabsEnabled */.tj)()?this.isAppPrefEnabled("canShowQuickCreate"):!this.$helpers.isEtisalat()},canShowNotifications:function(){return(0,router/* isWebTabsEnabled */.tj)()?this.isAppPrefEnabled("canShowNotifications"):!this.$helpers.isEtisalat()},canShowSites:function(){var canShow=this.$store.state.site&&this.$store.state.site.length>1&&!this.$route.path.startsWith("/app/setup");return(0,router/* isWebTabsEnabled */.tj)()?this.isAppPrefEnabled("canShowSitesSwitch")&&canShow:canShow},showSwitchVariable:function(){return this.$helpers.isLicenseEnabled("SCOPE_VARIABLE")}}),methods:{redirectToWO:function(){if(this.addbtn=!1,(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)("workorder",router/* pageTypes */.As.CREATE)||{},name=_ref.name;name&&this.$router.push({name:name})}else this.$router.push({path:"/app/wo/create"})},redirectToIR:function(){if(this.addbtn=!1,(0,router/* isWebTabsEnabled */.tj)()){var _ref2=(0,router/* findRouteForModule */.Jp)("inventoryrequest",router/* pageTypes */.As.CREATE)||{},name=_ref2.name;name&&this.$router.push({name:name})}else this.$router.push({name:"inventoryrequest-create",params:{moduleName:"inventoryrequest"}})},redirectToServiceCatalog:function(){var params={};if((0,router/* isWebTabsEnabled */.tj)()){var _getApp=(0,router/* getApp */.wx)(),appName=_getApp.linkName;params={app:appName}}else params={app:"app"};this.addbtn=!1,this.$router.push({name:"service-catalog-list",params:params})}}},home_MenuBarvue_type_script_lang_js=MenuBarvue_type_script_lang_js,MenuBar_component=(0,componentNormalizer/* default */.Z)(home_MenuBarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,MenuBar=MenuBar_component.exports},
/***/978483:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NavBar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/NavBar.vue?vue&type=template&id=098d2993
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.tabsList.length)?_vm._e():_c("ul",{staticClass:"product-menu uppercase"},[_vm._l(_vm.activeTabsList,(function(tab){return _c("router-link",{key:"tab-"+tab.id,class:[_vm.isTabActive(tab.id)&&"active"],attrs:{tag:"li",to:tab.route}},[_c("a",{attrs:{id:"navbar-"+tab.id},on:{click:_vm.removeFocus}},[_vm._v(_vm._s(tab.label))]),_c("div",{staticClass:"sh-selection-bar"})])})),_vm.canShowMoreMenu()?_c("li",{staticClass:"mL10"},[_c("el-dropdown",{attrs:{placement:"bottom-start",trigger:"click"},on:{command:_vm.handleCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_c("inline-svg",{attrs:{src:"svgs/home/topbar-more"}})],1),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-input",{staticClass:"modules-header-input",model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}}),_vm._l(_vm.filteredMoreTabList,(function(tab){return _c("el-dropdown-item",{key:"tab-"+tab.id,attrs:{command:tab}},[_c("span",[_vm._v(_vm._s(tab.label))])])}))],2)],1)],1):_vm._e()],2)},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(689730),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(634338),__webpack_require__(538077),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(670560),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),sortBy=__webpack_require__(189734),sortBy_default=__webpack_require__.n(sortBy),router=__webpack_require__(329435),NavBarvue_type_script_lang_js={data:function(){return{maxActiveTabCount:6,searchText:""}},created:function(){document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){document.removeEventListener("keydown",this.keyDownHandler)},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)("webtabs",["selectedTabGroup","selectedTab"])),(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabs"])),{},{tabsList:function(){var _ref=this.selectedTabGroup||{},groupId=_ref.id,routePath=_ref.route;if(!(0,router/* isWebTabsEnabled */.tj)()||(0,validation/* isEmpty */.xb)(groupId)||"setup"===routePath)return[];var tabs=this.getTabs(groupId);return sortBy_default()(tabs,["order"]).map((function(_ref2){var id=_ref2.id,name=_ref2.name;return{id:id,label:name,route:(0,router/* findRouteForTab */.OD)(id)}}))},activeTabsList:function(){var tabsList=this.tabsList,selectedTab=this.selectedTab,maxActiveTabCount=this.maxActiveTabCount,activeTabs=tabsList.slice(0,maxActiveTabCount);if(!(0,validation/* isEmpty */.xb)(selectedTab)){var isCurrentTabInActive=activeTabs.some((function(t){return t.id===selectedTab.id}));if(!isCurrentTabInActive){var nonSelectedActiveTabs=activeTabs.slice(0,activeTabs.length-1),selectedTabObj=tabsList.find((function(t){return t.id===selectedTab.id}));activeTabs=selectedTabObj?[].concat((0,toConsumableArray/* default */.Z)(nonSelectedActiveTabs),[selectedTabObj]):(0,toConsumableArray/* default */.Z)(nonSelectedActiveTabs)}}return activeTabs},filteredMoreTabList:function(){var tabsList=this.tabsList,activeTabsList=this.activeTabsList,searchText=this.searchText,activeTabIds=activeTabsList.map((function(t){return t.id})),moreTabsList=tabsList.filter((function(t){return!activeTabIds.includes(t.id)})),filteredMoreTabList=moreTabsList;return(0,validation/* isEmpty */.xb)(searchText)||(filteredMoreTabList=moreTabsList.filter((function(tab){var tabLabel="";return(0,validation/* isEmpty */.xb)((tab||{}).label)||(tabLabel=tab.label.replace(/\s/g,"").toLowerCase()),tabLabel.includes(searchText)}))),filteredMoreTabList}}),methods:{handleCommand:function(selectedTab){(0,validation/* isEmpty */.xb)(selectedTab)||this.$router.push(selectedTab.route)},canShowMoreMenu:function(){var filteredMoreTabList=this.filteredMoreTabList,searchText=this.searchText,returnVal=filteredMoreTabList.length>0||!(0,validation/* isEmpty */.xb)(searchText);return returnVal},isTabActive:function(tabId){var selectedTab=this.selectedTab;return selectedTab&&selectedTab.id===tabId},removeFocus:function(){document.activeElement.blur()},keyDownHandler:function(e){if(e.shiftKey&&"T"===e.key){var _ref3=this.selectedTab||{},selectedTabId=_ref3.id;"body"===e.target.localName&&document.getElementById("navbar-".concat(selectedTabId)).focus()}}}},home_NavBarvue_type_script_lang_js=NavBarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_NavBarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NavBar=component.exports},
/***/808976:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewApp}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/NewApp.vue?vue&type=template&id=507108ea
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"fc-dialog-center-container close-icon-hide-dialog",attrs:{title:"CREATE NEW APP",visible:!0,width:"40%","before-close":_vm.closeDialog,"append-to-body":!0,"close-on-press-escape":!0,"close-on-click-modal":!0}},[_c("div",{staticClass:"height350 position-relative"},[_c("el-row",[_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"fc-lancher-circle-logo"},[_c("img",{attrs:{src:__webpack_require__(974423)}})])]),_c("el-col",{attrs:{span:16}},[_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"fc-dark-grey-txt14 pB5"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.appname"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Please input"}})],1),_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"fc-dark-grey-txt14 pB5"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.desq"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border-select2",attrs:{type:"textarea",autosize:{minRows:2,maxRows:2},resize:"none",placeholder:_vm.$t("common._common.enter_desc")}})],1),_c("div",{staticClass:"pB20"},[_c("div",{staticClass:"fc-dark-grey-txt14 pB5"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.urlapp"))+" ")]),_c("div",{staticClass:"fc-border-input-div p5"},[_c("div",{staticClass:"app-url-txt"},[_vm._v("http://sales-integration.com")])])])])],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.dialogFormVisible=!1}}},[_vm._v(_vm._s(_vm.$t("panel.panel.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"}},[_vm._v(_vm._s(_vm.$t("panel.panel.createapp")))])],1)])},staticRenderFns=[],NewAppvue_type_script_lang_js={props:["closeDialog"]},home_NewAppvue_type_script_lang_js=NewAppvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_NewAppvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewApp=component.exports},
/***/673178:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ProductLogo}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/ProductLogo.vue?vue&type=template&id=f665aff0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.orgCheckforLogoHide?_c("img",{attrs:{src:""}}):129===_vm.$org.id&&_vm.$account.org.logoUrl?_c("img",{staticClass:"fc-custom-logo",attrs:{src:_vm.$account.org.logoUrl,alt:"Logo"}}):146===_vm.$org.id?_c("img",{staticClass:"fc-custom-logo",staticStyle:{width:"183px","object-fit":"cover"},attrs:{src:__webpack_require__(236692),alt:"Logo"}}):360===_vm.$org.id?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(871482),alt:"Logo"}}):1===_vm.$org.id&&"heeren"===_vm.$org.domain||321===_vm.$org.id&&"jack@echoltech.com"===_vm.$account.user.email?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(672814),alt:"Logo"}}):321===_vm.$org.id&&"moro@facilio.com"===_vm.$account.user.email?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(23600),alt:"Logo"}}):"desiree.gonzalez+tutendemo@tutenlabs.com"===_vm.$account.user.email.toLowerCase()?_c("img",{staticStyle:{height:"17px",position:"relative",top:"0"},attrs:{alt:"Logo",src:__webpack_require__(814557)}}):"utcdemo"===_vm.$account.user.email?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(783675),alt:"Logo"}}):"tjacob@nxn.ae"===_vm.$account.user.email?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(534863),alt:"Logo"}}):351!==_vm.$org.id&&343!==_vm.$org.id&&(210!==_vm.$org.id&&321!==_vm.$org.id||"jasonsmith@sutherland.com"!==_vm.$account.user.email&&"lucascage@gmail.com"!==_vm.$account.user.email&&"sutherland@facilio.com"!==_vm.$account.user.email.toLowerCase())?_vm.isHoneywell&&"honeywell"===_vm.$account.data.orgInfo.toolbar_theme?_c("img",{staticClass:"fc-custom-logo",staticStyle:{"max-height":"20px"},attrs:{src:__webpack_require__(207064),alt:"Logo"}}):_vm.isHoneywell?_c("img",{staticClass:"fc-custom-logo",staticStyle:{"max-height":"20px"},attrs:{src:__webpack_require__(413695),alt:"Logo"}}):_vm.isBuildingsTalk?_c("img",{staticStyle:{height:"28px"},attrs:{src:__webpack_require__(230358),alt:"Logo"}}):_vm.isMoro?_c("img",{staticClass:"moro-log-nav",attrs:{src:__webpack_require__(23600),alt:"Logo"}}):396===_vm.$org.id?_c("img",{staticClass:"fc-custom-logo",attrs:{src:__webpack_require__(137019),alt:"Logo"}}):24===_vm.$org.id&&"emicool"===_vm.$org.domain?_c("img",{staticClass:"fc-logo fc-emi-view-logo",attrs:{src:__webpack_require__(310843),alt:"Logo"}}):_c("img",{staticClass:"fc-rebrand-logo",attrs:{src:_vm.brandConfig.logoLight,alt:"Logo"}}):_c("img",{staticClass:"fc-custom-logo",staticStyle:{"max-height":"28px"},attrs:{src:__webpack_require__(941671),alt:"Logo"}})},staticRenderFns=[],ProductLogovue_type_script_lang_js={props:["isHoneywell","isBuildingsTalk","isMoro"],computed:{orgCheckforLogoHide:function(){var _this$$account,_this$$account2,orgUid=null===(_this$$account=this.$account)||void 0===_this$$account||null===(_this$$account=_this$$account.user)||void 0===_this$$account?void 0:_this$$account.uid,userEmail=null===(_this$$account2=this.$account)||void 0===_this$$account2||null===(_this$$account2=_this$$account2.user)||void 0===_this$$account2?void 0:_this$$account2.email;return 22886===orgUid&&"shane+cb@facilio.com"===userEmail||22767===orgUid&&"ashokkumar+cb@facilio.com"===userEmail||22901===orgUid&&"megan+NHS@facilio.com"===userEmail},brandConfig:function(){return window.brandConfig}},methods:{getWebPackPublicPath:function(){return window.webpackPublicPath}}},home_ProductLogovue_type_script_lang_js=ProductLogovue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_ProductLogovue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ProductLogo=component.exports},
/***/735892:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ProfilePanel}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/ProfilePanel.vue?vue&type=template&id=49eb66b2&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("outside-click",{attrs:{visibility:_vm.visibilityProxy},on:{"update:visibility":function($event){_vm.visibilityProxy=$event}}},[_c("div",{staticClass:"height100vh z-index1234"},[_c("div",{staticClass:"fc-home-profile-container fc-animated slideInRight"},[_c("div",{staticClass:"fc-home-profile-header"},[_c("div",{staticClass:"position-absolute close-icon-header pointer",on:{click:function($event){return _vm.close()}}},[_c("i",{staticClass:"el-icon-close op5 white-color f30"})]),_c("div",{staticClass:"fc-home-profile-header-avatar text-center"},[_c("avatar",{attrs:{size:"xxxlg",user:_vm.account.user,color:"#473a9e"}}),_c("div",{staticClass:"fc-white-15 mT15"},[_vm._v(_vm._s(_vm.account.user.name))]),_c("div",{staticClass:"fc-white-13 mT10"},[_vm._v(_vm._s(_vm.account.user.email))]),_vm.canShowProfile?_c("div",{staticClass:"flex-middle mT30 justify-content-center pL20"},[_c("el-button",{staticClass:"fc-home-profile-btn",attrs:{round:""},on:{click:function($event){_vm.myprofile(),_vm.close()}}},[_vm._v(_vm._s(_vm.$t("common.profile.myprofile")))]),_c("div",{staticClass:"profile-container-divider",attrs:{direction:"vertical"}}),_c("el-button",{staticClass:"fc-home-profile-btn",attrs:{round:""},on:{click:function($event){_vm.changePassword(),_vm.close()}}},[_vm._v(_vm._s(_vm.$t("common.profile.changepassword")))])],1):_vm._e()],1)]),_c("div",{staticClass:"fc-home-profile-header-body"},[_c("div",{staticClass:"fc-profile-org-scroll p20"},[_vm.orgs?_c("div",[_c("div",{staticClass:"fc-blue-label"},[_vm._v(_vm._s(_vm.$t("panel.panel.profile")))]),_c("div",_vm._l(_vm.orgs,(function(org,index){return _c("el-row",{key:org.orgId+index,staticClass:"pT20",on:{mouseover:function($event){_vm.hoverOrg=!0},mouseleave:function($event){_vm.hoverOrg=!1}}},["roger@facilio.com"===_vm.$account.user.email?[_c("el-col",{attrs:{span:16}},[_c("div",{staticClass:"fc-violet-14 org-name pointer",on:{click:function($event){return _vm.switchAccount(org)}}},[_vm._v(" "+_vm._s(org.name)+" ")])])]:[_c("el-col",{attrs:{span:16}},[_c("div",{staticClass:"fc-violet-14 org-name pointer",class:{active:_vm.$account.org.id===org.id},on:{click:function($event){return _vm.switchAccount(org)}}},[_vm._v(" "+_vm._s(org.name)+" ")])]),_vm.$account.org.id===org.id?_c("el-col",{staticClass:"text-right pointer",attrs:{span:8},on:{click:function($event){return _vm.switchAccount(org)}}},[_c("img",{staticClass:"profile-c-icon",attrs:{src:__webpack_require__(947802)}})]):_c("el-col",{staticClass:"text-right pointer",attrs:{span:8},on:{click:function($event){return _vm.switchAccount(org)}}},[_c("img",{staticClass:"profile-c-icon",attrs:{src:__webpack_require__(788094)}})])]],2)})),1)]):_vm._e()]),_c("div",{staticClass:"fc-profile-external-links p20"},[_vm.$helpers.isEtisalat()?_vm._e():_c("div",[_vm.isReportIssueEnabled?_c("div",{staticClass:"flex-middle pB20 pointer",on:{click:function($event){_vm.reportIssue(!0),_vm.close()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/report-issue-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.report"))+" ")])],1):_vm._e(),_c("div",{staticClass:"row"},[_vm.isCustomDomain?_vm._e():_c("div",{staticClass:"flex-middle col-6 pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://facilio.com/help/",target:"_blank"}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/help-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.help"))+" ")])],1)]),_vm.isCustomDomain?_vm._e():_c("div",{staticClass:"flex-middle pointer col-6 pB20"},[_c("inline-svg",{staticClass:"vertical-middle shortcut-icon",attrs:{src:"svgs/profile/shortcuts-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-black mL15",on:{click:function($event){return _vm.canShowShortcut()}}},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.shortcuts"))+" ")])],1)]),_c("div",{staticClass:"row"},[_vm.isCustomDomain?_vm._e():_c("div",{staticClass:"flex-middle col-6 pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://facilio.com/about",target:"_blank"}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/about-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.about"))+" ")])],1)]),_vm.isCustomDomain?_vm._e():_c("div",{staticClass:"flex-middle col-6 pB20"},[_c("a",{staticClass:"label-txt-black pointer flex-middle",attrs:{href:"https://blog.facilio.com/",target:"_blank"}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/blog-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-black mL15"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.blog"))+" ")])],1)])])]),_c("div",{staticClass:"flex-middle pB20 pointer",on:{click:function($event){return _vm.logout()}}},[_c("inline-svg",{staticClass:"vertical-middle",attrs:{src:"svgs/profile/logout-icon",iconClass:"text-center icon-sm-md"}}),_c("div",{staticClass:"label-txt-red mL15"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.logout"))+" ")])],1)]),_c("div",{staticClass:"fc-profile-footer"},[_vm.isCustomDomain?_vm._e():_c("div",{staticClass:"flex-middle"},[_c("div",{staticClass:"fc-profile-txt"},[_vm._v(" "+_vm._s(_vm.$t("panel.panel.apps"))+" ")]),_c("div",{staticClass:"mL20"},[_c("a",{staticClass:"mR20",attrs:{href:_vm.iosApplicationLink,target:"_blank"}},[_c("inline-svg",{attrs:{src:"svgs/ios-logo",iconClass:"text-center icon-sm-md"}})],1),_c("a",{attrs:{href:_vm.androidApplicationLink,target:"_blank"}},[_c("inline-svg",{attrs:{src:"svgs/playstore-logo",iconClass:"text-center icon-sm-md"}})],1)])])]),_c("div",{staticClass:"clearboth"})])])])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),Avatar=(__webpack_require__(689730),__webpack_require__(670560),__webpack_require__(574752)),OutsideClick=__webpack_require__(21864),rebrandMixin=__webpack_require__(222174),router=__webpack_require__(329435),vuex_esm=__webpack_require__(420629),eventBus=__webpack_require__(398011),helpers=__webpack_require__(778390),ProfilePanelvue_type_script_lang_js={props:["close","reportIssue","account","isTvMode","switchScreen","switchAccount","switchTheme","orgs","screenTheame","logout"],mixins:[rebrandMixin/* default */.Z],components:{Avatar:Avatar["default"],OutsideClick:OutsideClick/* default */.Z},data:function(){return{hoverOrg:!1}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("webtabs",["isAppPrefEnabled"])),{},{isReportIssueEnabled:function(){return!1},visibilityProxy:{get:function(){return!0},set:function(value){value||this.close()}},appName:function(){return window.location.pathname.slice(1).split("/")[0]},canShowProfile:function(){return!(0,router/* isWebTabsEnabled */.tj)()||this.isAppPrefEnabled("canShowProfile")},iosApplicationLink:function(){return(0,helpers/* getAppDomain */.$$)()+"/auth/apps/ios"},androidApplicationLink:function(){return(0,helpers/* getAppDomain */.$$)()+"/auth/apps/android"}}),methods:{myprofile:function(){this.$router.push({name:"editprofile",params:{app:this.appName}})},changePassword:function(){this.$router.push({name:"userchangepassword",params:{app:this.appName}})},canShowShortcut:function(){eventBus/* eventBus */.Y.$emit("openShortcutPanel")}}},home_ProfilePanelvue_type_script_lang_js=ProfilePanelvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_ProfilePanelvue_type_script_lang_js,render,staticRenderFns,!1,null,"49eb66b2",null)
/* harmony default export */,ProfilePanel=component.exports},
/***/840174:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Sidebar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/home/Sidebar.vue?vue&type=template&id=6e4fb612
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("aside",{staticClass:"fc-layout-aside fc-layout-aside-new fc-wt-sidebar"},[_c("div",{staticClass:"fc-sidebar-list-con"},[_c("ul",{staticClass:"fc-sidebar d-flex flex-direction-column sidebar-ht"},[_vm._l(_vm.activeTabGroups,(function(item){return _c("router-link",{key:item.route,class:[_vm.isTabActive(item)?"active pointer":"pointer"],attrs:{tag:"li",to:_vm.getTabRoute(item)}},[_c("a",{staticClass:"sidebar-icon fc-icon-hover",class:_vm.getFcIconClass(item),attrs:{id:"sidebar-icon-"+item.id},on:{click:_vm.removeFocus}},[_vm.isTabsEnabled?_c("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"fc-popover-p02 sidebar-panel","open-delay":0,disabled:!_vm.isTabsEnabled,tabindex:-1}},[_vm._t("default",(function(){return[_vm.$validation.isEmpty(item.iconTypeEnum)?[_c("InlineSvg",{attrs:{src:_vm.getIconPath(item.iconType),title:item.name,"aria-label":item.name,iconClass:_vm.getIconClass(item.iconType)}})]:[_c("span",{staticClass:"icon-position"},[_c("fc-icon",{staticClass:"fc-icon",attrs:{name:item.iconTypeEnum,size:"20",group:"webtabs",color:_vm.isIconActive(item)}})],1)]]}),{slot:"reference"}),_c("div",{staticClass:"tabs-header"},[_vm._v(_vm._s(item.name))]),_vm._l(_vm.getOrderedTabs(item.webTabs),(function(tab,index){return _c("div",{key:index,class:["tabs",_vm.selectedTab&&_vm.selectedTab.id===tab.id&&"active"],on:{click:function($event){return _vm.redirectToTab(tab.id)}}},[_vm._v(" "+_vm._s(tab.name)+" ")])}))],2):_c("el-tooltip",{attrs:{effect:"dark",content:item.name,placement:"right"}},[_vm.$validation.isEmpty(item.iconTypeEnum)?[_c("InlineSvg",{attrs:{title:item.name,"aria-label":item.name,src:_vm.getIconPath(item.iconType),iconClass:_vm.getIconClass(item.iconType),tabindex:-1}})]:[_c("fc-icon",{staticClass:"fc-icon",attrs:{name:item.iconTypeEnum,size:"20",group:"webtabs"}})]],2)],1)])})),_vm.$validation.isEmpty(_vm.moreTabGroups)?_vm._e():_c("li",{staticClass:"more-icon-list"},[_c("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"fc-popover-p02 sidebar-panel"}},[_vm._t("default",(function(){return[_c("el-button",{staticClass:"more-icon",attrs:{slot:"reference"},slot:"reference"},[_c("i",{staticClass:"el-icon-more sidebar-more-icon"})])]}),{slot:"reference"}),_vm._l(_vm.moreTabGroups,(function(group){return _c("div",{key:""+group.name,staticClass:"groups flex-middle",on:{click:function($event){return _vm.redirectToTabFromGroup(group)}}},[_vm.$validation.isEmpty(group.iconTypeEnum)?[_c("InlineSvg",{staticClass:"pR10",attrs:{src:_vm.getIconPath(group.iconType),title:group.name,"aria-label":group.name,iconClass:_vm.getIconClass(group.iconType)}})]:[_c("fc-icon",{attrs:{name:group.iconTypeEnum,size:"20",group:"webtabs"}})],_vm._v(" "+_vm._s(group.name)+" ")],2)}))],2)],1),_vm.$helpers.isLicenseEnabled("NEW_SETUP")&&_vm.isTabsEnabled?[_vm.permissionSetup?_c("router-link",{staticClass:"bottom-15 position-absolute",attrs:{tag:"li",to:"/setup/"+_vm.appLinkName+"/home"}},[_c("a",{staticClass:"sidebar-icon fc-icon-hover",attrs:{role:"navigation",target:"_blank","aria-label":_vm.$t("setup.setup.settings"),id:"sidebar-icon-setting"},on:{click:_vm.removeFocus}},[_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("setup.setup.settings"),placement:"right"}},[_c("span",{staticClass:"icon-position"},[_c("fc-icon",{staticClass:"fc-icon",attrs:{group:"default",name:"settings",size:"20"}})],1)])],1)]):_vm._e()]:_vm.canShowSettings?[_c("router-link",{staticClass:"bottom-15 position-absolute",attrs:{tag:"li",to:_vm.settingsTab.route(_vm.appName)}},[_c("a",{staticClass:"sidebar-icon icon-hover",attrs:{role:"navigation","aria-label":_vm.settingsTab.name,id:"sidebar-icon-setting"},on:{click:_vm.removeFocus}},[_c("el-tooltip",{attrs:{effect:"dark",content:_vm.settingsTab.name,placement:"right"}},[_c("InlineSvg",{attrs:{title:_vm.settingsTab.name,"aria-label":_vm.settingsTab.name,src:"sidebar/settings-new",iconClass:"icon new-icon vertical-baseline icon-lg",tabindex:-1}})],1)],1)])]:_vm._e()],2)])])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),sortBy=(__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(425728),__webpack_require__(670560),__webpack_require__(300268),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(339772),__webpack_require__(189734)),sortBy_default=__webpack_require__.n(sortBy),vuex_esm=__webpack_require__(420629),validation=__webpack_require__(990260),router=__webpack_require__(329435),webtab_icons=__webpack_require__(326884),vue_runtime_esm=__webpack_require__(720144),defaultapp_groups=__webpack_require__(841165),Sidebarvue_type_script_lang_js={data:function(){var _this=this;return{maxActiveSidebarModuleCount:10,menu:defaultapp_groups/* tabGroup */.u.map((function(m){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},m),{},{name:_this.$t(m.name)})}))}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},watch:{$route:{handler:function(){(0,router/* isWebTabsEnabled */.tj)()||this.loadDefaultProduct()},immediate:!0}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({selectedTabGroup:function(state){return state.webtabs.selectedTabGroup},selectedTab:function(state){return state.webtabs.selectedTab},account:function(state){return state.account}})),(0,vuex_esm/* mapGetters */.Se)("webtabs",["getTabGroups"])),{},{tabGroups:function(){var getTabGroups=this.getTabGroups;return sortBy_default()(getTabGroups(),["order"]).filter((function(g){return"setup"!==g.route&&!(0,validation/* isEmpty */.xb)(g.webTabs)}))},isTabsEnabled:function(){return(0,router/* isWebTabsEnabled */.tj)()},accessibleMenu:function(){var menu=this.menu,$helpers=this.$helpers,$hasPermission=this.$hasPermission,$org=this.$org;return menu.filter((function(menuItem){var canShow,_ref=menuItem||{},license=_ref.license,permission=_ref.permission,isSetupTab=_ref.isSetupTab,enabledOrgId=_ref.enabledOrgId,result=!license||$helpers.isLicenseEnabled(license);return result?(0,validation/* isUndefined */.o8)(permission)?canShow=!(0,validation/* isEmpty */.xb)(menuItem):isSetupTab||(canShow=permission.some((function(permissionKey){return $hasPermission(permissionKey)})),enabledOrgId&&(enabledOrgId.includes($org.id)||(canShow=!0))):canShow=!1,canShow}))},activeTabGroups:function(){var selectedTabGroup=this.selectedTabGroup,tabGroups=this.tabGroups,accessibleMenu=this.accessibleMenu,activeGroupsCount=10,activeGroups=tabGroups.slice(0,activeGroupsCount);if((0,router/* isWebTabsEnabled */.tj)()){if(!(0,validation/* isEmpty */.xb)(selectedTabGroup)){var isCurrentGroupInActive=activeGroups.some((function(group){return group.id===selectedTabGroup.id}));if(!isCurrentGroupInActive){var nonSelectedActiveGroups=activeGroups.slice(0,activeGroupsCount-1);activeGroups=[].concat((0,toConsumableArray/* default */.Z)(nonSelectedActiveGroups),[selectedTabGroup])}}return activeGroups}return accessibleMenu.slice(0,activeGroupsCount).map((function(m,index){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},m),{},{id:index})}))},moreTabGroups:function(){if((0,router/* isWebTabsEnabled */.tj)()){var activeTabGroups=this.activeTabGroups,tabGroups=this.tabGroups,activeGroupsId=activeTabGroups.map((function(grp){return grp.id}));return tabGroups.filter((function(group){return!activeGroupsId.includes(group.id)}))||[]}var accessibleMenu=this.accessibleMenu,maxActiveSidebarModuleCount=this.maxActiveSidebarModuleCount,moreModulesList=accessibleMenu.slice(maxActiveSidebarModuleCount),filteredMoreSideList=moreModulesList;return filteredMoreSideList},canShowSettings:function(){if((0,router/* isWebTabsEnabled */.tj)()){var app=(0,router/* getApp */.wx)(),_ref2=this.account||{},user=_ref2.user,_ref3=user||{},role=_ref3.role;return app&&app.hasSetupPermission?app.hasSetupPermission:!!role&&role.isPrevileged}var settingsTab=this.settingsTab,$hasPermission=this.$hasPermission,_ref4=settingsTab||{},permission=_ref4.permission;return(permission||[]).some((function(permissionKey){return $hasPermission(permissionKey)}))},settingsTab:function(){return this.menu.find((function(m){return m.isSetupTab}))||{}},appLinkName:function(){var _getApp=(0,router/* getApp */.wx)(),linkName=_getApp.linkName;return linkName},appName:function(){return window.location.pathname.slice(1).split("/")[0]},permissionSetup:function(){return!0===(0,router/* getApp */.wx)().hasSetupPermission}}),methods:{loadDefaultProduct:function(){var currentPath=this.$route.path;if("/app"===currentPath||"/app/"===currentPath){var prd=this.accessibleMenu[0],lastaccessedpage=vue_runtime_esm["default"].cookie.get("lastvisit");lastaccessedpage?this.$router.push(lastaccessedpage).catch((function(){})):this.$router.push({path:prd.route}).catch((function(){}))}else{var currentMenuIndex,menu=this.menu,activeTabGroups=this.activeTabGroups,maxActiveSidebarModuleCount=this.maxActiveSidebarModuleCount,currentMenu=activeTabGroups.find((function(tabGroup){return currentPath.startsWith(tabGroup.route)}));if(!currentMenu)menu.forEach((function(tabGroup,index){currentPath.startsWith(tabGroup.route)&&(currentMenuIndex=index,currentMenu=tabGroup)})),currentMenuIndex&&(menu.splice(currentMenuIndex,1),menu.splice(maxActiveSidebarModuleCount,0,currentMenu))}},getTabRoute:function(item){if((0,router/* isWebTabsEnabled */.tj)()){var tabs=this.getOrderedTabs(item.webTabs);return(0,router/* findRouteForTab */.OD)(tabs[0].id)}return{path:item.route}},getIconPath:function(type){var iconType=webtab_icons/* default */.Z[type]||{};return iconType.icon||webtab_icons/* default */.Z[0].icon},getIconClass:function(type){var iconType=webtab_icons/* default */.Z[type]||{};return"icon new-icon vertical-baseline ".concat(iconType.class)||0},isTabActive:function(item){var selectedTabGroup=this.selectedTabGroup;return!(0,validation/* isEmpty */.xb)(selectedTabGroup)&&item.id===selectedTabGroup.id},getOrderedTabs:function(tabs){return tabs?sortBy_default()(tabs,["order"]):[]},redirectToTabFromGroup:function(group){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var menu,maxActiveSidebarModuleCount,selectedModuleIndex,$router,tabId,route;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:_this2.isTabsEnabled?($router=_this2.$router,tabId=group.webTabs[0].id,route=(0,router/* findRouteForTab */.OD)(tabId),route?$router.push(route).catch(console.warn):$router.push({path:"/*"}).catch((function(){}))):(menu=_this2.menu,maxActiveSidebarModuleCount=_this2.maxActiveSidebarModuleCount,selectedModuleIndex=menu.findIndex((function(m){return m.name===group.name})),menu.splice(selectedModuleIndex,1),menu.splice(maxActiveSidebarModuleCount,0,group),(0,validation/* isEmpty */.xb)(group)||_this2.$router.push({path:group.route}).catch((function(){})));case 1:case"end":return _context.stop()}}),_callee)})))()},redirectToTab:function(tabId){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var $router,route;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:$router=_this3.$router,route=(0,router/* findRouteForTab */.OD)(tabId),route?$router.push(route).catch(console.warn):$router.push({path:"/*"}).catch((function(){}));case 3:case"end":return _context2.stop()}}),_callee2)})))()},removeFocus:function(){document.activeElement.blur()},getFcIconClass:function(item){(0,validation/* isEmpty */.xb)(item.iconTypeEnum)},isIconActive:function(item){return this.isTabActive(item)?"#FF3184":"black"},keyDownHandler:function(e){if(e.shiftKey&&"G"===e.key){var _ref5=this.selectedTabGroup||{},selectedGrpId=_ref5.id,elementId="";elementId=selectedGrpId?"sidebar-icon-".concat(selectedGrpId):"sidebar-icon-setting","body"===e.target.localName&&document.getElementById(elementId).focus()}}}},home_Sidebarvue_type_script_lang_js=Sidebarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(home_Sidebarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Sidebar=component.exports},
/***/490962:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NotificationList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/notifications/NotificationList.vue?vue&type=template&id=ad08ce4a&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"notification-list-component"},[_c("portal",{attrs:{to:"#notification-pagination"}},[_vm.totalNotification?_c("pagination",{staticClass:"pL15 fc-black-small-txt-12 pagination-notification",attrs:{total:_vm.totalNotification,perPage:_vm.perPage}}):_vm._e()],1),_vm.$validation.isEmpty(_vm.notifications)?_c("div",{staticClass:"notifications-empty"},[_vm._v(" "+_vm._s(_vm.$t("common.notification.no_notification"))+" ")]):_c("div",{staticClass:"notifications-list"},[_vm.loading?_c("div",{staticClass:"full-layout-white height100 text-center"},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1):_c("div",_vm._l(_vm.notifications,(function(notification,index){return _c("div",{key:notification.id,class:["notifications-list-item-container",notification.isRead?"":"not-read pointer",_vm.showNotificationInTab?"":_vm.hasAction(notification)&&"pointer"]},[_c("div",{staticClass:"notifications-list-item"},[_c("div",{staticClass:"notification-seen-dot-container"},[_c("div",{class:["notification-dot",notification.isRead?"":"notification-seen-dot-unseen"]})]),_c("div",{staticClass:"notification-avatar-block",style:{backgroundColor:_vm.getBackgroundColor(notification.subject)},on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_c("InlineSvg",{attrs:{src:_vm.getIcon(_vm.getModuleName(notification)),iconClass:"icon vertical-middle"}})],1),_c("div",{staticClass:"notification-msg"},[_c("div",{class:["pB3 notification-title bold p0 fwBold",_vm.showNotificationInTab?"":"truncate-text"],on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_vm._v(" "+_vm._s(notification.title)+" ")]),_c("div",{class:_vm.getSubjectClassname(notification,index),on:{click:function($event){_vm.showNotificationInTab?_vm.markNotificationAsRead(notification):_vm.notificationClickAction(notification)}}},[_vm._v(" "+_vm._s(notification.subject)+" ")]),_vm.showNotificationInTab?_c("div",{staticClass:"flex flex-direction-row pT6"},[_vm.canShowViewMore(notification)?_c("a",{staticClass:"text-capitalize letter-spacing0_3 f13 pR8 pointer",on:{click:function($event){return _vm.toggleVisibility(index,notification)}}},[_vm._v(_vm._s(_vm.showMoreLinkText(index)))]):_vm._e(),_vm.canShowViewMore(notification)&&_vm.hasAction(notification)?_c("div",{staticClass:"margin-go-to-summary"}):_vm._e(),_vm.showNotificationInTab&&_vm.hasAction(notification)?_c("a",{class:["text-capitalize letter-spacing0_3 f13 pointer",_vm.canShowViewMore(notification)&&"pL8"],on:{click:function($event){return _vm.notificationClickAction(notification,_vm.showNotificationInTab)}}},[_vm._v("Go to Summary "),_c("InlineSvg",{attrs:{src:"svgs/new-tab",iconClass:"icon vertical-middle icon-xs mL3"}})],1):_vm._e()]):_vm._e(),_vm.showNotificationInTab?_c("div",{staticClass:"notifications-time pT4 pB10"},[_vm._v(" "+_vm._s(_vm.getTime(notification.sysCreatedTime))+" ")]):_vm._e()]),!_vm.showNotificationInTab&&_vm.hasAction(notification)?_c("div",{staticClass:"has-action",on:{click:function($event){return _vm.notificationClickAction(notification,_vm.showNotificationInTab)}}},[_c("InlineSvg",{attrs:{src:"svgs/new-tab",iconClass:"icon vertical-middle notification-svg icon-sm"}})],1):_vm._e()]),_vm.showNotificationInTab?_vm._e():_c("div",{staticClass:"notifications-time-in-popover"},[_vm._v(" "+_vm._s(_vm.getTime(notification.sysCreatedTime))+" ")])])})),0)])],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),ActivityPagination=(__webpack_require__(434284),__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(842912)),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),filters=__webpack_require__(638203),FetchViewsMixin=__webpack_require__(646716),router=__webpack_require__(329435),MODULE_NAME={alarm:"svgs/notifications/alarms",task:"svgs/notifications/tasks",workorder:"svgs/notifications/workorder",contact:"svgs/notifications/contact",asset:"svgs/notifications/assets",quote:"svgs/notifications/notifications-bell",purchaseorder:"svgs/notifications/notifications-bell",purchaserequest:"svgs/notifications/notifications-bell",default:"svgs/notifications/notifications-bell"},NOTIFICATION_BACKGROUND=["#6eb1f4","#f4d16e","#f4a66e","#ff8b8b","#dfd758"],NotificationListvue_type_script_lang_js={props:["showNotificationInTab"],components:{Pagination:ActivityPagination/* default */.Z},mixins:[FetchViewsMixin/* default */.Z],data:function(){return{totalCount:null,perPage:50,loading:!1,selectedIndex:null}},created:function(){this.showNotificationInTab?this.loadNotifications():this.loadNotificationForPopup()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({notificationListData:function(state){return state.notification.notifications},notificationPopupData:function(state){return state.notification.notificationsForPopup},totalNotification:function(state){return state.notification.totalCount}})),{},{page:function(){return this.$route.query.page||1},showNotificationsInTab:function(){return this.showNotificationInTab},notifications:function(){var notificationData;if(this.showNotificationsInTab){var notificationListData=this.notificationListData;notificationData=notificationListData}else{var notificationPopupData=this.notificationPopupData;notificationData=notificationPopupData}return notificationData}}),watch:{page:function(){this.showNotificationInTab&&this.loadNotifications()}},methods:{showMoreLinkText:function(index){return this.selectedIndex===index?"View Less":"View More"},hasAction:function(notification){var moduleName=this.getModuleName(notification),recordId=this.getRecordId(notification),actionType=this.getActionType(notification);return!(0,validation/* isEmpty */.xb)(moduleName)&&!(0,validation/* isEmpty */.xb)(recordId)&&!(0,validation/* isEmpty */.xb)(actionType)},loadNotifications:function(){var _this=this;this.showNotificationInTab&&(this.loading=!0),this.$store.dispatch("notification/fetchNotifications",{page:this.page||1,perPage:this.perPage}).then((function(){_this.loading=!1}))},loadNotificationForPopup:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this2.$store.dispatch("notification/fetchNotificationsPopup");case 2:(0,validation/* isEmpty */.xb)(_this2.notificationPopupData)?_this2.$emit("hasNotificationData",!1):_this2.$emit("hasNotificationData",!0);case 3:case"end":return _context.stop()}}),_callee)})))()},notificationClickAction:function(notification){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,recordId,actionType,hasAction,viewname,_ref,name,routerObj,routerData,routes,_routerObj,_routerData;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(notification.isRead=!0,moduleName=_this3.getModuleName(notification),recordId=_this3.getRecordId(notification),actionType=_this3.getActionType(notification),hasAction=!1,(0,validation/* isEmpty */.xb)(moduleName)||(0,validation/* isEmpty */.xb)(recordId)||(0,validation/* isEmpty */.xb)(actionType)){_context2.next=11;break}return _context2.next=8,_this3.fetchView(moduleName);case 8:viewname=_context2.sent,(0,router/* isWebTabsEnabled */.tj)()?(_ref=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref.name,name&&(routerObj={name:name,params:{viewname:viewname,id:recordId}},_this3.showNotificationsInTab?(routerData=_this3.$router.resolve(routerObj),window.open(routerData.href)):_this3.$router.push(routerObj))):(routes={asset:{name:"assetsummary",params:{viewname:viewname,assetid:recordId}},workorder:{name:"wosummarynew",params:{id:recordId}},alarms:{name:"FaultSummary",params:{viewName:viewname,id:recordId}},tenant:{name:"tenantSummary",params:{viewname:viewname,id:recordId}},quote:{name:"quotationSummary",params:{viewname:viewname,id:recordId}},purchaseorder:{name:"poSummary",params:{viewname:viewname,id:recordId}},purchaserequest:{name:"prSummary",params:{viewname:viewname,id:recordId}},custom:{name:"custommodules-summary",params:{viewname:viewname,id:recordId,moduleName:moduleName}}},_routerObj=routes[moduleName]||routes["custom"],_this3.showNotificationsInTab?(_routerData=_this3.$router.resolve(_routerObj)||null,_routerData&&window.open(_routerData.href)):_this3.$router.push(_routerObj).catch((function(){}))),hasAction=!0;case 11:return _this3.showNotificationInTab||_this3.$emit("notificationItemClicked",hasAction),_context2.next=14,_this3.$store.dispatch("notification/updateStatus",notification);case 14:_this3.loadNotificationForPopup();case 15:case"end":return _context2.stop()}}),_callee2)})))()},markNotificationAsRead:function(notification){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return notification.isRead=!0,_context3.next=3,_this4.$store.dispatch("notification/updateStatus",notification);case 3:_this4.loadNotificationForPopup();case 4:case"end":return _context3.stop()}}),_callee3)})))()},getTime:function(miliseconds){return this.$options.filters.fromNow(miliseconds)},getIcon:function(modulename){return MODULE_NAME[modulename]||MODULE_NAME["default"]},getBackgroundColor:function(item){var userKey=item,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%5;return NOTIFICATION_BACKGROUND[colorIndex]},getModuleName:function(item){var moduleObj=this.$getProperty(item,"action.actionData.module"),moduleName=this.$getProperty(moduleObj,"name"),extendedModuleName=this.$getProperty(moduleObj,"extendModule.name"),isBaseEntity="BASE_ENTITY"===this.$getProperty(moduleObj,"typeEnum");if(isBaseEntity)return moduleName||extendedModuleName},getRecordId:function(item){var recordId=this.$getProperty(item,"action.actionData.recordId");if(!(0,validation/* isEmpty */.xb)(recordId)&&-1!==recordId)return recordId},getActionType:function(item){var actionType=this.$getProperty(item,"action.actionType");if(!(0,validation/* isEmpty */.xb)(actionType))return actionType},canShowMore:function(item){var htmlToString=(0,filters/* htmlToText */.s9)(item.subject).split(/\r\n|\r|\n/).length;return htmlToString>4},toggleVisibility:function(index,notification){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(_this5.selectedIndex===index){_context4.next=8;break}return _this5.selectedIndex=index,notification.isRead=!0,_context4.next=5,_this5.$store.dispatch("notification/updateStatus",notification);case 5:_this5.loadNotificationForPopup(),_context4.next=9;break;case 8:_this5.selectedIndex=null;case 9:case"end":return _context4.stop()}}),_callee4)})))()},getSubjectClassname:function(notification,index){return this.showNotificationInTab&&this.canShowMore(notification)?this.selectedIndex===index?"notification-subject notification-subject-viewMore":"notification-subject notification-subject-viewLess":"popover-subject"},canShowViewMore:function(notification){return this.showNotificationInTab&&this.canShowMore(notification)}}},notifications_NotificationListvue_type_script_lang_js=NotificationListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(notifications_NotificationListvue_type_script_lang_js,render,staticRenderFns,!1,null,"ad08ce4a",null)
/* harmony default export */,NotificationList=component.exports},
/***/842912:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ActivityPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/approvals/components/ActivityPagination.vue?vue&type=template&id=18a06ee7
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" -")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm.hideToggle?_vm._e():[_c("span",{staticClass:"el-icon-arrow-left fc-black-small-txt-12 fw-bold f16 pointer mL10 mR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right fc-black-small-txt-12 f16 pointer mR10 fw-bold",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})]],2):_vm._e()])},staticRenderFns=[],FPagination=__webpack_require__(929593),ActivityPaginationvue_type_script_lang_js={extends:FPagination/* default */.Z},components_ActivityPaginationvue_type_script_lang_js=ActivityPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ActivityPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ActivityPagination=component.exports},
/***/767004:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ConnectedAppViewWidget}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/connectedapps/ConnectedAppViewWidget.vue?vue&type=template&id=2a629fff
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.loading?_vm._e():_c("div",{staticClass:"height100 customize-scroll-hidden"},[_c("form",{ref:"formSubmit",attrs:{action:_vm.actionUrl,method:_vm.samlResponse?"POST":"GET",target:"iframeWidget-"+_vm.widgetId}},[_c("input",{attrs:{type:"hidden",name:"origin"},domProps:{value:_vm.origin}}),_c("input",{attrs:{type:"hidden",name:"capp_id"},domProps:{value:_vm.instanceUid}}),_vm.urlParams?_vm._l(_vm.urlParams,(function(param,index){return _c("input",{key:index,attrs:{type:"hidden",name:param.name},domProps:{value:param.value}})})):_vm._e(),_vm.samlResponse?_c("input",{attrs:{type:"hidden",name:"SAMLResponse"},domProps:{value:_vm.samlResponse}}):_vm._e(),_vm.relay?_c("input",{attrs:{type:"hidden",name:"RelayState"},domProps:{value:_vm.relay}}):_vm._e()],2),_c("iframe",{ref:"cappFrame",staticClass:"fc-connected-app-iframe",staticStyle:{width:"100%",height:"100%",border:"0px"},attrs:{name:"iframeWidget-"+_vm.widgetId,allow:"geolocation *; microphone *;  camera *;"}},[_vm._v(" The URL cannot be loaded in iframe. ")])])},staticRenderFns=[],slicedToArray=__webpack_require__(554621),createForOfIteratorHelper=__webpack_require__(566347),api=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(478730),__webpack_require__(779307),__webpack_require__(398858),__webpack_require__(461318),__webpack_require__(33228),__webpack_require__(670560),__webpack_require__(32284)),ConnectedAppViewWidgetvue_type_script_lang_js={props:["widgetId","recordId","context","handlers","exportMode"],data:function(){return{loading:!0,origin:null,instanceUid:null,urlParams:null,actionUrl:null,samlResponse:null,relay:null}},computed:{widgetKey:function(){var key=this.widgetId+"";return this.recordId&&(key=key+"_"+this.recordId),key}},mounted:function(){this.loadConnectedAppWidget()},watch:{widgetKey:function(){this.loadConnectedAppWidget()}},beforeDestroy:function(){this.destroyCurrentInstance()},methods:{getActions:function(){var _this=this;return{fullscreen:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(_this.$refs.cappFrame.requestFullscreen?_this.$refs.cappFrame.requestFullscreen():_this.$refs.cappFrame.webkitRequestFullscreen?_this.$refs.cappFrame.webkitRequestFullscreen():_this.$refs.cappFrame.mozRequestFullScreen?_this.$refs.cappFrame.mozRequestFullScreen():_this.$refs.cappFrame.msRequestFullscreen&&_this.$refs.cappFrame.msRequestFullscreen(),!0)},trigger:function(namespace,options){if(_this.handlers&&_this.handlers[namespace]&&"function"===typeof _this.handlers[namespace]){var returnValue=_this.handlers[namespace](options);return"undefined"===typeof returnValue||returnValue}return!1}}},getWidgetLinkName:function(key){if(key&&(key+="",key.indexOf("_")>0&&2===key.split("_").length)){var cappLink=key.split("_")[0],widgetLink=key.split("_")[1];if(cappLink.length&&widgetLink.length)return cappLink+"."+widgetLink}return null},loadConnectedAppWidget:function(){var _this2=this;this.destroyCurrentInstance(),this.loading=!0;var url="/v2/connectedApps/viewWidget?";this.getWidgetLinkName(this.widgetId)?url+="&widgetLinkName="+this.getWidgetLinkName(this.widgetId):url+="&widgetId="+this.widgetId,this.recordId&&(url+="&recordId="+this.recordId),api/* API */.bl.get(url).then((function(response){var data=response.data;if(_this2.loading=!1,data.viewUrl){_this2.samlResponse=data.samlResponse,_this2.relay=data.relay,_this2.actionUrl=_this2.samlResponse?data.acsURL:data.viewUrl;var connectedAppWidget=data.connectedAppWidget||{};_this2.$nextTick((function(){var frame=_this2.$refs.cappFrame.contentWindow,widgetOrigin=new URL(data.viewUrl).protocol+"//"+new URL(data.viewUrl).host;_this2.instanceUid=_this2.$connectedAppEventChannel.attachWidget(connectedAppWidget,_this2.context,{frame:frame,origin:widgetOrigin},_this2.getActions(),_this2.exportMode||!1),_this2.origin=_this2.$connectedAppEventChannel.getOrigin();var _step,urlParamsList=[],urlSearchParams=new URL(data.viewUrl).searchParams,_iterator=(0,createForOfIteratorHelper/* default */.Z)(urlSearchParams.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _step$value=(0,slicedToArray/* default */.Z)(_step.value,2),key=_step$value[0],value=_step$value[1];urlParamsList.push({name:key,value:value})}}catch(err){_iterator.e(err)}finally{_iterator.f()}_this2.urlParams=urlParamsList,_this2.$nextTick((function(){_this2.$refs.formSubmit.submit()}))}))}}))},destroyCurrentInstance:function(){this.instanceUid&&(this.$connectedAppEventChannel.deattachWidget(this.instanceUid),this.instanceUid=null)},sendEvent:function(key,data){this.instanceUid&&this.$connectedAppEventChannel.sendEventToInstance(this.instanceUid,key,data)}}},connectedapps_ConnectedAppViewWidgetvue_type_script_lang_js=ConnectedAppViewWidgetvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(connectedapps_ConnectedAppViewWidgetvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppViewWidget=component.exports},
/***/283561:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d01607b79d8596e6a27ec744fceb53cb.svg";
/***/},
/***/871482:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"5e7b2535184c46513ad1c49ba551f666.svg";
/***/},
/***/236692:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"de113efd7abd2ecc6633037ef1fdf850.svg";
/***/},
/***/369499:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"ef766c72e45b65151be40a5ba152fcf7.svg";
/***/},
/***/207064:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e1078376c3c997c3f813e12ec2bbac43.svg";
/***/},
/***/413695:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f0159b8ce4ba549af1d9eb6da9619bbe.svg";
/***/},
/***/941671:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"5e72d55a568f0ced7fc1dfac645278d8.svg";
/***/},
/***/788094:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"37f0298b8516d743d73cf139934eb983.svg";
/***/},
/***/947802:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"e2251c0005a7f801142de7b0da10a014.svg";
/***/},
/***/814557:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"9862e97cbf07ddb1a7bf3e9e2238fddb.svg";
/***/},
/***/974423:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"cb0d2a089074e82f9561e128dca7ba71.svg";
/***/},
/***/230358:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/buildingstalk_home_logo.4d03f843.png"},
/***/137019:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/cit-facilio-logo.7b15562a.png"},
/***/672814:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/echo.594fa9d3.png"},
/***/310843:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/emi-view.d66e93b0.png"},
/***/23600:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/moro.2102be7d.png"},
/***/534863:
/***/function(module){"use strict";module.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNiYAAAAAkAAxkR2eQAAAAASUVORK5CYII="},
/***/783675:
/***/function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__.p+"img/utc-logo.140b833a.png"}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/35650.js.map