"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[88506],{
/***/110570:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return NewPageBuilder}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/pagebuilder/NewPageBuilder.vue?vue&type=template&id=70474020&lang=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{ref:"page-builder-wrapper",staticClass:"pb-container"},[_vm.loading?_c("div",{staticClass:"fc-empty-center height100vh"},[_c("spinner",{staticClass:"flex-middle height450",attrs:{show:_vm.loading,size:"80"}})],1):_c("el-tabs",{staticClass:"pb-tabs fpage-tabs",attrs:{lazy:""},on:{change:_vm.tabPaneChanged,"tab-click":_vm.pushCurrentTab},model:{value:_vm.currentTab,callback:function($$v){_vm.currentTab=$$v},expression:"currentTab"}},_vm._l(_vm.tabs,(function(tab){return _c("el-tab-pane",{key:tab.id+" "+tab.displayName,attrs:{name:tab.name,label:tab.displayName,"force-render":!0}},[_vm.loadingPage?_c("div",{staticClass:"fc-empty-center height-100"},[_c("spinner",{staticClass:"flex-middle height450",attrs:{show:_vm.loadingPage,size:"80"}})],1):_vm.currentTab===tab.name?_c("div",[_c("Page",{key:tab.id+"_"+tab.displayName,ref:"page-builder-"+tab.name,refInFor:!0,staticClass:"page-builder-wrapping",attrs:{grid:tab,cellHeight:_vm.cellHeight},scopedSlots:_vm._u([{key:"sectionHeader",fn:function(ref){var section=ref.section;return[_vm.isEmpty(section.displayName)&&_vm.isEmpty(section.description)?_vm._e():_c("div",{staticStyle:{"margin-top":"8px"}},[_vm.isEmpty(section.displayName)?_vm._e():_c("div",{staticClass:"npb-section-title mL10"},[_vm._v(" "+_vm._s(section.displayName)+" ")]),_vm.isEmpty(section.description)?_vm._e():_c("div",{staticClass:"npb-section-desc mL10"},[_vm._v(" "+_vm._s(section.description)+" ")])])]}},{key:"default",fn:function(ref){var widget=ref.widget;return[_c("widget-supplier",_vm._b({staticClass:"page-widget-container",attrs:{widget:widget,groupKey:widget.key,details:_vm.details,id:_vm.id,module:_vm.module,record:_vm.details,reloadSummary:_vm.reloadSummary,resizeWidgetOnPage:_vm.resizeWidgetOnPage,cellHeight:_vm.cellHeight,cellWidth:_vm.cellWidth,moduleName:_vm.module}},"widget-supplier",_vm.$attrs,!1))]}}],null,!0)})],1):_vm._e()])})),1)],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),toConsumableArray=__webpack_require__(488478),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),app=(__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(162506),__webpack_require__(976801),__webpack_require__(634338),__webpack_require__(339772),__webpack_require__(782080)),WidgetSupplier=__webpack_require__(665040),router=__webpack_require__(329435),api=__webpack_require__(32284),validation=__webpack_require__(990260),eventBus=__webpack_require__(398011),BULK_WIDGET=["bulkRelatedList","bulkRelationShipWidget"],NewPageBuildervue_type_script_lang_js={props:["module","id","details"],data:function(){return{pageId:null,currentTab:null,loading:!1,cellHeight:12,tabs:[],loadingPage:!1,preserveQueryTab:!1,isEmpty:validation/* isEmpty */.xb}},components:{Page:app/* Page */.T3,WidgetSupplier:WidgetSupplier/* default */.Z},mounted:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var tabName;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,tabName=_this.tabName,_context.next=4,_this.fetchPageData(tabName);case 4:_this.pushCurrentTab(),_this.loading=!1;case 6:case"end":return _context.stop()}}),_callee)})))()},computed:{tabName:function(){var query=this.$route.query,_ref=query||{},tabName=_ref.tabName;return tabName||null},showNewPageBuilder:function(){var query=this.$route.query,showNewPageBuilder=query.showNewPageBuilder;return showNewPageBuilder},gridCell:function(){return 12},cellWidth:function(){var _this$$refs$pageBuil;return Math.ceil((null===(_this$$refs$pageBuil=this.$refs["page-builder-wrapper"])||void 0===_this$$refs$pageBuil?void 0:_this$$refs$pageBuil.scrollWidth)/this.gridCell)||null},appId:function(){var _ref2=(0,router/* getApp */.wx)()||{},id=_ref2.id;return id}},beforeDestroy:function(){!this.preserveQueryTab&&this.removeTabQuery()},watch:{currentTab:function(newVal){this.tabPaneChanged(newVal)}},methods:{removeTabQuery:function(){var query=this.$route.query;(0,validation/* isEmpty */.xb)(query.tabName)||this.$router.replace({query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{tabName:null})})},fetchPageData:function(tabName){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var moduleName,appId,recordId,showNewPageBuilder,_yield$API$get,data,error,_data$customPage,_ref3,isNewPage,_ref4,id,tabs,foundTab;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return moduleName=_this2.module,appId=_this2.appId,recordId=_this2.id,showNewPageBuilder=_this2.showNewPageBuilder,_context2.next=3,api/* API */.bl.get("v2/customPage/fetchForRecord",{moduleName:moduleName,appId:appId,recordId:recordId,tabName:tabName,layoutType:"WEB",showNewPageBuilder:showNewPageBuilder});case 3:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this2.$message.error(_this2.$t("common._common.error_occured")):(_ref3=data||{},isNewPage=_ref3.isNewPage,!isNewPage&&_this2.$emit("forceOldPage"),_ref4=(null===data||void 0===data?void 0:data.customPage)||{},id=_ref4.id,_this2.pageId=id,tabs=(null===data||void 0===data||null===(_data$customPage=data.customPage)||void 0===_data$customPage||null===(_data$customPage=_data$customPage.layouts)||void 0===_data$customPage?void 0:_data$customPage.WEB)||[],foundTab=(tabs||[]).filter((function(tab){return tab.name==tabName})),_this2.currentTab=(0,validation/* isEmpty */.xb)(foundTab)?_this2.$getProperty(tabs,"0.name")||null:tabName,_this2.tabs=_this2.deserializeTabs(tabs));case 7:case"end":return _context2.stop()}}),_callee2)})))()},reloadSummary:function(){this.preserveQueryTab=!0,eventBus/* eventBus */.Y.$emit("refresh-overview")},deserializeTabs:function(rawTabs){var _this3=this,tabs=rawTabs.map((function(tab,tabIndex){var _tab$columns;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},tab),{},{id:tab.id,key:"t".concat(tabIndex),columns:(null!==(_tab$columns=tab.columns)&&void 0!==_tab$columns?_tab$columns:[]).map((function(column,columnIndex,columns){var _column$sections,columnWidth=column.width;if(columnIndex>0){var previousColumn=columns[columnIndex-1],x=previousColumn.x,width=previousColumn.width;column.x=x+width}else column.x=0;return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},column),{},{sections:(null!==(_column$sections=null===column||void 0===column?void 0:column.sections)&&void 0!==_column$sections?_column$sections:[]).map((function(section){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},section),{},{widgets:_this3.getSerializedWidgets(null===section||void 0===section?void 0:section.widgets,columnWidth)})}))})}))})}));return tabs},getSerializedWidgets:function(widgets,columnWidth){var iter=(widgets||[]).length-1,_loop=function(){var _widgets$iter,_ref5=null!==(_widgets$iter=widgets[iter])&&void 0!==_widgets$iter?_widgets$iter:{},positionX=_ref5.positionX,positionY=_ref5.positionY,width=_ref5.width,height=_ref5.height,widgetTypeObj=_ref5.widgetTypeObj,widgetDetail=_ref5.widgetDetail,configType=_ref5.configType,_ref6=widgetTypeObj||{},widgetTypeName=_ref6.name;
// to spread bulk widgets as seperate widgets  we iterate from end to start
widgets[iter].key=widgets[iter].id;var h=height,w=width;if("FLEXIBLE"===configType&&(w=columnWidth),BULK_WIDGET.includes(widgetTypeName)){var _ref7=widgetDetail||{},relatedList=_ref7.relatedList,relationships=_ref7.relationships,relatedWidgets=(relatedList||relationships||[]).map((function(relatedObj){return Object.assign((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},widgets[iter]),relatedObj),{},{h:h,w:w,noResize:!0,x:0,y:0,noMove:!0,id:"".concat(relatedObj.id," ").concat(widgets[iter].id),originalId:relatedObj.id}),{relatedList:relatedObj})}));widgets.splice.apply(widgets,[iter,1].concat((0,toConsumableArray/* default */.Z)(relatedWidgets)))}else widgets[iter]=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},widgets[iter]),{},{x:positionX,y:positionY,h:h,w:w,noResize:!0,noMove:!0});iter--};while(iter>-1)_loop();return widgets.splice(length,-1),widgets},resizeWidgetOnPage:function(widgetId,dimensions){var currentTab=this.currentTab,_this$$refs=(0,slicedToArray/* default */.Z)(this.$refs["page-builder-".concat(currentTab)],1),tabRef=_this$$refs[0];null===tabRef||void 0===tabRef||tabRef.resize(widgetId,dimensions)},pushCurrentTab:function(){var currentTab=this.currentTab,query=this.$route.query;currentTab&&currentTab!==query.tabName&&this.$router.replace({path:this.$route.fullPath,query:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},query),{},{tabName:currentTab})}).catch({})},fetchCurrentTab:function(tabIndex){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var currentTab,pageId,moduleName,_yield$API$get2,data,error,tab;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this4.loadingPage=!0,currentTab=_this4.currentTab,pageId=_this4.pageId,moduleName=_this4.module,_context3.next=4,api/* API */.bl.get("v2/customPage/tabs/fetch",{tabName:currentTab,moduleName:moduleName,layoutType:"WEB",pageId:pageId});case 4:_yield$API$get2=_context3.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error||(tab=_this4.deserializeTabs([data.tab]),_this4.$set(_this4.tabs,"".concat(tabIndex),tab[0])),_this4.loadingPage=!1;case 9:case"end":return _context3.stop()}}),_callee3)})))()},tabPaneChanged:function(tabName){var _this5=this,tabs=this.tabs;this.$nextTick((function(){var tabIndex=tabs.findIndex((function(tab){return tab.name==tabName}));if(-1!==tabIndex){var columns=_this5.$getProperty(_this5.tabs,"".concat(tabIndex,".columns"))||null;(0,validation/* isEmpty */.xb)(columns)&&_this5.fetchCurrentTab(tabIndex)}}))}}},pagebuilder_NewPageBuildervue_type_script_lang_js=NewPageBuildervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(pagebuilder_NewPageBuildervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewPageBuilder=component.exports},
/***/665040:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WidgetSupplier}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/pagebuilder/WidgetSupplier.vue?vue&type=template&id=2c182d08&scoped=true&lang=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"widget-container"},[_c(_vm.widgetName,_vm._b({tag:"component",staticStyle:{height:"100%"},attrs:{widget:_vm.widget,resizeWidgetOnPage:_vm.resizeWidgetOnPage,interWidgetCom:_vm.interWidgetCom,widgetId:_vm.widget.id,payloadDrop:_vm.payloadDrop,layoutParams:_vm.layoutParams,resizeWidget:_vm.resizeWidget,calculateDimensions:_vm.calculateDimensions,cellHeight:_vm.cellHeight,cellWidth:_vm.cellWidth}},"component",_vm.$attrs,!1)),_c("div",{directives:[{name:"show",rawName:"v-show",value:!_vm.widgetName,expression:"!widgetName"}],staticClass:"fc-align-center-column empty-widget-text"},[_c("span",[_vm._v(_vm._s(_vm.$t("common.products.widget_not_available")))])])],1)},staticRenderFns=[],slicedToArray=__webpack_require__(554621),eventBus=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(169358),__webpack_require__(947522),__webpack_require__(336585),__webpack_require__(96976),__webpack_require__(398011)),validation=__webpack_require__(990260),WidgetSuppliervue_type_script_lang_js={props:["resizeWidgetOnPage","cellHeight","resizeWidgetId","widget","cellWidth"],data:function(){return{payloadDrop:null,resizeId:null}},created:function(){var resizeWidgetId=this.resizeWidgetId,_this$widget=this.widget,id=_this$widget.id,originalId=_this$widget.originalId;//revert change when resize is fixed
this.widget.id=id||originalId,this.resizeId=resizeWidgetId||id||originalId},components:{summaryFieldsWidget:function(){return __webpack_require__.e(/* import() */90979).then(__webpack_require__.bind(__webpack_require__,190979))},bulkRelatedList:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(91853),__webpack_require__.e(57544),__webpack_require__.e(32612),__webpack_require__.e(20920),__webpack_require__.e(39152),__webpack_require__.e(34582),__webpack_require__.e(61215)]).then(__webpack_require__.bind(__webpack_require__,561215))},classification:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(80390),__webpack_require__.e(35972),__webpack_require__.e(17020)]).then(__webpack_require__.bind(__webpack_require__,735972))},activity:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(68122)]).then(__webpack_require__.bind(__webpack_require__,268122))},widgetGroup:function(){return __webpack_require__.e(/* import() */90559).then(__webpack_require__.bind(__webpack_require__,690559))},comment:function(){return __webpack_require__.e(/* import() */4119).then(__webpack_require__.bind(__webpack_require__,304119))},attachment:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(68715)]).then(__webpack_require__.bind(__webpack_require__,268715))},bulkRelationShipWidget:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(57544),__webpack_require__.e(32612),__webpack_require__.e(20920),__webpack_require__.e(19795),__webpack_require__.e(84550),__webpack_require__.e(15085)]).then(__webpack_require__.bind(__webpack_require__,384550))},statetransitiontimelog:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(67621)]).then(__webpack_require__.bind(__webpack_require__,767621))},failurereports:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(99751),__webpack_require__.e(60671)]).then(__webpack_require__.bind(__webpack_require__,913333))},history:function(){return __webpack_require__.e(/* import() */67386).then(__webpack_require__.bind(__webpack_require__,467386))}},mounted:function(){var _this=this,widgetType=this.widget.widgetType;eventBus/* eventBus */.Y.$on(widgetType,(function(payload){_this.payloadDrop=payload}))},beforeDestroy:function(){var _this2=this,widgetType=this.widget.widgetType;eventBus/* eventBus */.Y.$off(widgetType,(function(payload){_this2.payloadDrop=payload}))},computed:{widgetName:function(){var widgetTypeObj=this.widget.widgetTypeObj,_ref=widgetTypeObj||{},name=_ref.name,compAvail=Object.keys(this.$options.components).includes(name);return compAvail?name:null},layoutParams:function(){var _this$widget2=this.widget,height=_this$widget2.height,width=_this$widget2.width,positionY=_this$widget2.positionY,positionX=_this$widget2.positionX;return{h:height,w:width,x:positionX,y:positionY}}},methods:{interWidgetCom:function(widgetType,payload){var _this$widget3=this.widget,fromWidgetsType=_this$widget3.widgetType,id=_this$widget3.id,payloadObj={from:{widgetType:fromWidgetsType,id:id},payload:payload};eventBus/* eventBus */.Y.$emit(widgetType,payloadObj)},resizeWidget:function(params){var resizeId=this.resizeId,cellHeight=this.cellHeight,cellWidth=this.cellWidth,_ref2=params||{},h=_ref2.h,w=_ref2.w,height=_ref2.height,width=_ref2.width,dimensions={};if((0,validation/* isNullOrUndefined */.le)(h)&&(0,validation/* isNullOrUndefined */.le)(w)){var dim=this.calculateDimensions({height:height,width:width});h=dim.h,w=dim.w}Object.entries({w:w,h:h}).forEach((function(_ref3){var _ref4=(0,slicedToArray/* default */.Z)(_ref3,2),key=_ref4[0],value=_ref4[1],unitArr={w:cellWidth,h:cellHeight};1===Math.sign(value)&&(dimensions[key]=value*unitArr[key])})),this.resizeWidgetOnPage(resizeId,dimensions)},calculateDimensions:function(params){var height=params.height,width=params.width,cellHeight=this.cellHeight,cellWidth=this.cellWidth,reHeight=Math.ceil(height/cellHeight),reWidth=Math.ceil(width/cellWidth);return{w:reWidth,h:reHeight}}}},pagebuilder_WidgetSuppliervue_type_script_lang_js=WidgetSuppliervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(pagebuilder_WidgetSuppliervue_type_script_lang_js,render,staticRenderFns,!1,null,"2c182d08",null)
/* harmony default export */,WidgetSupplier=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/88506.js.map