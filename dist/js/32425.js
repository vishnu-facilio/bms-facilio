(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[32425],{
/***/932425:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return NewSchedule}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/controls/controlschedule/NewSchedule.vue?vue&type=template&id=3dd5524e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"flex flex-row pL5"},[_c("div",{staticClass:"schedule-form-container new-body-modal"},[_c("div",{staticClass:"section-header f20 pL30"},[_vm._v(" "+_vm._s(_vm.isEdit?_vm.$t("common.header.edit_schedule"):_vm.$t("common.products.new_schedule"))+" ")]),_vm.isLoading?_c("div",{staticClass:"flex-middle fc-empty-white"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):_c("div",{staticClass:"pT30"},[_c("div",{staticClass:"pR30 pL30"},[_c("el-form",{ref:"form",attrs:{model:_vm.scheduleObj,rules:_vm.rules,"label-position":"left","label-width":"150px"}},[_c("el-form-item",{staticClass:"mB25",attrs:{prop:"name",label:_vm.$t("common.header.schedule_name")}},[_c("el-input",{staticClass:"fc-input-full-border-select2 field-input width75",attrs:{placeholder:_vm.$t("common._common.enter_schedule_name")},model:{value:_vm.scheduleObj.name,callback:function($$v){_vm.$set(_vm.scheduleObj,"name",$$v)},expression:"scheduleObj.name"}})],1),_c("el-form-item",{staticClass:"mB25",attrs:{prop:"event",label:_vm.$t("common._common.schedule_event")}},[_c("el-select",{staticClass:"fc-input-full-border-select2 field-input width75",attrs:{placeholder:_vm.$t("common.products.select_a_schedule_event")},on:{change:_vm.changeScheduleFormat},model:{value:_vm.scheduleObj.event,callback:function($$v){_vm.$set(_vm.scheduleObj,"event",$$v)},expression:"scheduleObj.event"}},[_c("el-option",{attrs:{label:_vm.$t("common._common.same_timing_all_day"),value:"SAME_TIMING_ALLDAY"}}),_c("el-option",{attrs:{label:_vm.$t("common._common.different_timing_all_day"),value:"DIFFERENT_TIMING_ALLDAY"}})],1)],1),_c("el-form-item",{staticClass:"mB25",attrs:{prop:"mode",label:_vm.$t("common.products.command_only_for_schedule_change"),"label-width":"280px"}},[_c("el-radio-group",{staticClass:"mT10",model:{value:_vm.scheduleObj.mode,callback:function($$v){_vm.$set(_vm.scheduleObj,"mode",$$v)},expression:"scheduleObj.mode"}},[_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:1}},[_vm._v(_vm._s(_vm.$t("common.products.yes")))]),_c("el-radio",{staticClass:"fc-radio-btn",attrs:{label:null}},[_vm._v(_vm._s(_vm.$t("common.products.no")))])],1)],1)],1)],1),_c("div",{staticClass:"pL25 pR30"},[_c("el-table",{staticStyle:{width:"100%"},attrs:{data:_vm.scheduleDays}},[_c("el-table-column",{attrs:{prop:"label",label:_vm.$t("common.date_picker.day")},scopedSlots:_vm._u([{key:"default",fn:function(day){return[_c("el-checkbox",{model:{value:day.row.isChecked,callback:function($$v){_vm.$set(day.row,"isChecked",$$v)},expression:"day.row.isChecked"}},[_vm._v(_vm._s(day.row.label))])]}}])}),_c("el-table-column",{attrs:{label:_vm.$t("common.wo_report.from_time")},scopedSlots:_vm._u([{key:"default",fn:function(day){return _vm._l(day.row.hours,(function(hour,index){return _c("div",{key:hour+"-"+index,staticClass:"flex flex-row pB8 pR8"},[_c("el-select",{model:{value:hour.from,callback:function($$v){_vm.$set(hour,"from",$$v)},expression:"hour.from"}},_vm._l(_vm.getTimeInterval,(function(interval,intervalIndex){return _c("el-option",{key:interval+"-"+intervalIndex,attrs:{value:interval,label:interval,disabled:_vm.isOptionsDisabled(day.row.hours,interval,index,{isTo:!1})}})})),1)],1)}))}}])}),_c("el-table-column",{attrs:{label:_vm.$t("common._common.to_time")},scopedSlots:_vm._u([{key:"default",fn:function(day){return _vm._l(day.row.hours,(function(hour,index){return _c("div",{key:hour+"-"+index,staticClass:"flex flex-row pB8 pR8"},[_c("el-select",{model:{value:hour.to,callback:function($$v){_vm.$set(hour,"to",$$v)},expression:"hour.to"}},_vm._l(_vm.getTimeInterval,(function(interval,intervalIndex){return _c("el-option",{key:interval+"-"+intervalIndex,attrs:{value:interval,label:interval,disabled:_vm.isOptionsDisabled(day.row.hours,interval,index,{isTo:!0})}})})),1)],1)}))}}])}),_c("el-table-column",{attrs:{label:_vm.$t("common.products.split_day"),align:"center"},scopedSlots:_vm._u([{key:"default",fn:function(day){return[_c("img",{staticClass:"delete-icon pointer schedule-split-icon",attrs:{src:__webpack_require__(353654)},on:{click:function($event){return _vm.addSplitSchedule(day.row)}}}),_vm.$getProperty(day,"row.hours.length")>1?_c("img",{staticClass:"delete-icon pointer schedule-split-icon mL10",attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteSplitSchedule(day.row)}}}):_vm._e()]}}])})],1)],1)]),_c("div",{staticClass:"flex-grow flex-shrink white-background"}),_c("div",{staticClass:"schedule-btn-footer"},[_c("el-button",{staticClass:"modal-btn-cancel text-uppercase",on:{click:function($event){return _vm.redirectToList()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save mL0",attrs:{loading:_vm.saving},on:{click:_vm.save}},[_vm._v(" "+_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")])],1)]),_c("ScheduleVisualizer",{staticClass:"visualizer-container",attrs:{schedule:_vm.slots,isSameTimingForAll:_vm.isSameTimingForAll}})],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),ScheduleVisualizer=(__webpack_require__(670560),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(803582)),helpers=__webpack_require__(778390),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),clone=__webpack_require__(766678),clone_default=__webpack_require__.n(clone),validation=__webpack_require__(990260),api=__webpack_require__(32284),router=__webpack_require__(329435),moment=helpers/* default */.ZP.getOrgMoment,DAYS_IN_WEEK=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DEFAULT_SCHEDULE=[{label:"Sunday",isChecked:!1,hours:[],dayOfWeek:7},{label:"Monday",isChecked:!1,hours:[],dayOfWeek:1},{label:"Tuesday",isChecked:!1,hours:[],dayOfWeek:2},{label:"Wednesday",isChecked:!1,hours:[],dayOfWeek:3},{label:"Thursday",isChecked:!1,hours:[],dayOfWeek:4},{label:"Friday",isChecked:!1,hours:[],dayOfWeek:5},{label:"Saturday",isChecked:!1,hours:[],dayOfWeek:6}],NewSchedulevue_type_script_lang_js={props:["id"],components:{ScheduleVisualizer:ScheduleVisualizer/* default */.Z},data:function(){return{scheduleObj:{name:"",event:"",mode:null},rules:{name:[{required:!0,message:this.$t("common.header.schedule_is_required"),trigger:"blur"}],event:[{required:!0,message:this.$t("common.products.select_a_schedule_event_type"),trigger:"change"}]},saving:!1,startHour:0,endHour:24,scheduleDays:[],isSameTimingForAll:!1,isLoading:!1,currBusinessHourId:null,slots:[]}},created:function(){this.scheduleDays=cloneDeep_default()(DEFAULT_SCHEDULE),this.deserialize()},computed:{getTimeInterval:function(){var startTime=moment(this.startHour,"HH:mm"),endTime=moment(this.endHour,"HH:mm");endTime.isBefore(startTime)&&endTime.add(1,"day");var timeStops=[];while(startTime<=endTime)timeStops.push(new moment(startTime).format("hh:mm A")),startTime.add(1,"hours");return timeStops},defaultBusinessHour:function(){return{from:"9:00 AM",to:"6:00 PM"}},isEdit:function(){var id=this.id;return!(0,validation/* isEmpty */.xb)(id)},moduleName:function(){return"controlSchedule"}},watch:{scheduleDays:{handler:function(newVal){var visualizerSchedule=[];this.isSameTimingForAll?DAYS_IN_WEEK.forEach((function(val){var schedule=newVal[0],hours=schedule.hours;hours.forEach((function(currHour){var from=currHour.from,to=currHour.to,dayOfWeekEnum=val.toUpperCase();visualizerSchedule.push({dayOfWeekEnum:dayOfWeekEnum,startTime:from,endTime:to})}))})):newVal.forEach((function(schedule){var hours=schedule.hours,label=schedule.label,isChecked=schedule.isChecked;isChecked&&hours.forEach((function(currHour){var from=currHour.from,to=currHour.to,dayOfWeekEnum=label.toUpperCase();visualizerSchedule.push({dayOfWeekEnum:dayOfWeekEnum,startTime:from,endTime:to})}))})),this.slots=visualizerSchedule},immediate:!0,deep:!0}},methods:{deserialize:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$fetchRecor,controlSchedule,error,name,mode,currBusinessHour,customHourTypeEnum,singleDaybusinessHoursList,currBusinessHourId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!_this.isEdit){_context.next=10;break}return _this.isLoading=!0,_context.next=4,api/* API */.bl.fetchRecord("controlSchedule",{id:_this.id});case 4:_yield$API$fetchRecor=_context.sent,controlSchedule=_yield$API$fetchRecor.controlSchedule,error=_yield$API$fetchRecor.error,error?_this.$message.error(error.message||"Error Occured"):(name=controlSchedule.name,mode=controlSchedule.mode,_this.scheduleObj.mode=mode,_this.scheduleObj.name=name,currBusinessHour=controlSchedule.businessHoursContext,customHourTypeEnum=currBusinessHour.customHourTypeEnum,singleDaybusinessHoursList=currBusinessHour.singleDaybusinessHoursList,currBusinessHourId=currBusinessHour.id,_this.currBusinessHourId=currBusinessHourId,_this.scheduleObj.event=customHourTypeEnum,"SAME_TIMING_ALLDAY"===customHourTypeEnum&&(_this.isSameTimingForAll=!0,_this.scheduleDays=[{label:"All Day",isChecked:!0,hours:[]}]),_this.serializeBusinessHours(singleDaybusinessHoursList)),_context.next=12;break;case 10:_this.scheduleObj.event="SAME_TIMING_ALLDAY",_this.changeScheduleFormat("SAME_TIMING_ALLDAY");case 12:_this.scheduleDays.forEach((function(schedule){(0,validation/* isEmpty */.xb)(schedule.hours)&&schedule.hours.push(clone_default()(_this.defaultBusinessHour))})),_this.isLoading=!1;case 14:case"end":return _context.stop()}}),_callee)})))()},serializeBusinessHours:function(businessHours){var _this2=this;businessHours.forEach((function(currDaySchedule){var dayOfWeekEnum=currDaySchedule.dayOfWeekEnum,startTime=currDaySchedule.startTime,endTime=currDaySchedule.endTime,oldSchedule=_this2.scheduleDays.find((function(day){return _this2.isSameTimingForAll?"MONDAY"===dayOfWeekEnum:day.label.toUpperCase()===dayOfWeekEnum}));(0,validation/* isEmpty */.xb)(oldSchedule)||(oldSchedule.hours.push({from:_this2.getHourString(startTime),to:_this2.getHourString(endTime)}),oldSchedule.isChecked=!0)}))},addSplitSchedule:function(day){var scheduledHours=day.hours,endTime=scheduledHours[scheduledHours.length-1].to,formattedEndTime=this.getHour(endTime);if(0!==formattedEndTime&&formattedEndTime<this.endHour){var newEndTime=formattedEndTime;day.hours.push({from:this.getHourString(newEndTime),to:this.getHourString(this.endHour)})}else this.$message.error(this.$t("common.dashboard.maximum_time_limit_day_reached"))},deleteSplitSchedule:function(day){day.hours.pop()},getHour:function(timeString){var hour=moment(timeString,"hh:mm A").format("H");return parseInt(hour)},getHourString:function(time){return moment(time,"HH:mm").format("hh:mm A")},isOptionsDisabled:function(currHour,currTimeInterval,index,_ref){var isTo=_ref.isTo;if(isTo||index>0){var from=currHour[index].from,formattedFrom=this.getHour(from),formattedInterval=this.getHour(currTimeInterval);return isTo&&(formattedFrom-=1),formattedFrom>formattedInterval||formattedFrom===formattedInterval}return!1},changeScheduleFormat:function(eventType){"SAME_TIMING_ALLDAY"===eventType?(this.scheduleDays=[{label:"All Day",isChecked:!0,hours:[{from:"9:00 AM",to:"6:00 PM"}]}],this.isSameTimingForAll=!0):(this.scheduleDays=clone_default()(DEFAULT_SCHEDULE),this.scheduleDays.forEach((function(schedule){(0,validation/* isEmpty */.xb)(schedule.hours)&&schedule.hours.push({from:"09:00 AM",to:"06:00 PM"})})),this.isSameTimingForAll=!1)},save:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var data,id,currId;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:data=_this3.serialize(),id=_this3.id,_this3.$refs["form"].validate(function(){var _ref2=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(valid){var _yield$API$updateReco,error,_yield$API$createReco,controlSchedule,_error,moduleName,_ref3,name,route;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(!valid){_context2.next=18;break}if(_this3.saving=!0,!_this3.isEdit){_context2.next=10;break}return _context2.next=5,api/* API */.bl.updateRecord("controlSchedule",{id:id,data:data});case 5:_yield$API$updateReco=_context2.sent,error=_yield$API$updateReco.error,(0,validation/* isEmpty */.xb)(error)?(currId=id,_this3.$message.success(_this3.$t("common.products.schedule_edited_successfully"))):_this3.$message.error(error.message||"Error Occured"),_context2.next=16;break;case 10:return _context2.next=12,api/* API */.bl.createRecord("controlSchedule",{data:data});case 12:_yield$API$createReco=_context2.sent,controlSchedule=_yield$API$createReco.controlSchedule,_error=_yield$API$createReco.error,(0,validation/* isEmpty */.xb)(_error)?(currId=_this3.$getProperty(controlSchedule,"id"),_this3.$message.success(_this3.$t("common.products.schedule_created_successfully"))):_this3.$message.error(_error.message||"Error Occured");case 16:currId&&(moduleName=_this3.moduleName,(0,router/* isWebTabsEnabled */.tj)()?(_ref3=(0,router/* findRouteForModule */.Jp)(moduleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref3.name,route={name:name,params:{viewname:"all",id:currId}},_this3.$router.push(route)):_this3.$router.push({name:"schedule-summary",params:{id:currId,moduleName:moduleName,viewname:"all"},query:(0,objectSpread2/* default */.Z)({},_this3.$route.query)})),_this3.saving=!1;case 18:case"end":return _context2.stop()}}),_callee2)})));return function(_x){return _ref2.apply(this,arguments)}}());case 3:case"end":return _context3.stop()}}),_callee3)})))()},serialize:function(){var _this4=this,businessHours=[];this.isSameTimingForAll?DEFAULT_SCHEDULE.forEach((function(schedule){var _this4$scheduleDays$=_this4.scheduleDays[0],hours=_this4$scheduleDays$.hours,isChecked=_this4$scheduleDays$.isChecked,dayOfWeek=schedule.dayOfWeek;!(0,validation/* isEmpty */.xb)(hours)&&isChecked&&hours.forEach((function(hour){var from=hour.from,to=hour.to;if(isChecked){var perDaySchedule={dayOfWeek:dayOfWeek,startTime:_this4.getHour24(from),endTime:_this4.getHour24(to)};businessHours.push(perDaySchedule)}}))})):this.scheduleDays.forEach((function(schedule){var hours=schedule.hours,isChecked=schedule.isChecked,dayOfWeek=schedule.dayOfWeek;!(0,validation/* isEmpty */.xb)(hours)&&isChecked&&hours.forEach((function(hour){var from=hour.from,to=hour.to;if(isChecked){var perDaySchedule={dayOfWeek:dayOfWeek,startTime:_this4.getHour24(from),endTime:_this4.getHour24(to)};businessHours.push(perDaySchedule)}}))}));var params={name:this.scheduleObj.name,mode:this.scheduleObj.mode,businessHoursContext:{name:this.scheduleObj.name,businessHourType:"CUSTOM",customHourType:this.scheduleObj.event,id:this.currBusinessHourId,singleDaybusinessHoursList:businessHours}};return params},getHour24:function(timeString){var hour=moment(timeString,"hh:mm A").format("HH:mm");return hour},redirectToList:function(){if((0,router/* isWebTabsEnabled */.tj)()){var _findRouteForModule=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.LIST),name=_findRouteForModule.name;name&&this.$router.push({name:name,params:{viewname:"all"}})}else this.$router.push({name:"schedule-list",params:{viewname:"all"}})}}},controlschedule_NewSchedulevue_type_script_lang_js=NewSchedulevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(controlschedule_NewSchedulevue_type_script_lang_js,render,staticRenderFns,!1,null,"3dd5524e",null)
/* harmony default export */,NewSchedule=component.exports},
/***/803582:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ScheduleVisualizer}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/controls/controlschedule/components/ScheduleVisualizer.vue?vue&type=template&id=dbecb28c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"schedule-visualizer-container"},_vm._l(_vm.getTimeInterval,(function(hours,indexHours){return _c("div",{key:indexHours,class:["flex flex-row",0===indexHours&&"position-sticky bg-white zindex999"]},_vm._l(_vm.xAxis,(function(days,indexDays){return _c("div",{key:indexDays,class:[_vm.getCellClass(indexDays,indexHours)],style:_vm.cellDimension},[0===indexHours||0===indexDays?_c("div",[_vm._v(" "+_vm._s(_vm.getLabel(indexDays,indexHours))+" ")]):[_vm._l(_vm.getFifteenMinSplit(hours),(function(fifteenMinTime,index){return[_vm.getException(fifteenMinTime,days)?_c("el-popover",{key:index,staticClass:"fifteenMinCell",attrs:{placement:"right",title:_vm.getSchedule(fifteenMinTime,days).date,width:"200",trigger:"hover","open-delay":500,"close-delay":500}},[_c("div",{staticClass:"f13"},[_c("div",[_vm._v(" "+_vm._s(_vm.getException(fifteenMinTime,days).offSchedule?"Reduced Hours":"Extended Hours")+", ")]),_c("div",{staticClass:"font-bold"},[_vm._v(" "+_vm._s(_vm.getSchedule(fifteenMinTime,days).startTime)+" - "+_vm._s(_vm.getSchedule(fifteenMinTime,days).endTime)+" ")]),_c("div",{staticClass:"d-flex flex-column pT8"},[_c("div",{staticClass:"fc-link fc-link-animation f14 pointer mT3",on:{click:function($event){return _vm.editException(fifteenMinTime,days)}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.edit"))+" ")]),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("div",{staticClass:"fc-link fc-link-animation f14 pointer mT3",on:{click:function($event){_vm.deleteException(_vm.getException(fifteenMinTime,days).id,fifteenMinTime,days)}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.delete"))+" ")])])]),_c("template",{slot:"reference"},[_c("div",{class:["fifteenMinCell pointer",_vm.getScheduleClass(fifteenMinTime,days)]})])],2):_c("div",{key:index,class:["fifteenMinCell",_vm.getScheduleClass(fifteenMinTime,days)]})]}))]],2)})),0)})),0)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),helpers=(__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(169358),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(425728),__webpack_require__(778390)),validation=__webpack_require__(990260),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),ControlScheduleUtil=__webpack_require__(294323),moment=helpers/* default */.ZP.getOrgMoment,DAYS_IN_WEEK_FORMATTED=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DAYS={SUNDAY:{value:7},MONDAY:{value:1},TUESDAY:{value:2},WEDNESDAY:{value:3},THURSDAY:{value:4},FRIDAY:{value:5},SATURDAY:{value:6}},SCHEDULE_TYPE_ENUM={SCHEDULE:"actualSchedule",EXTENDED_HOURS:"extendedHours",REDUCED_HOURS:"reducedHours"},ScheduleVisualizervue_type_script_lang_js={props:["scheduleDays","isSameTimingForAll","schedule","cellHeight"],data:function(){return{startHour:0,endHour:23,scheduleLookup:{SUNDAY:{value:7},MONDAY:{value:1},TUESDAY:{value:2},WEDNESDAY:{value:3},THURSDAY:{value:4},FRIDAY:{value:5},SATURDAY:{value:6}}}},computed:{getTimeInterval:function(){var startTime=moment(this.startHour,"HH:mm"),endTime=moment(this.endHour,"HH:mm");endTime.isBefore(startTime)&&endTime.add(1,"day");var timeStops=[];timeStops.push(null);while(startTime<=endTime)timeStops.push(new moment(startTime).format("hh:mm A")),startTime.add(1,"hours");return timeStops},cellDimension:function(){return"height: ".concat(this.cellHeight||"40px")},xAxis:function(){return[""].concat((0,toConsumableArray/* default */.Z)(Object.keys(this.scheduleLookup)))}},watch:{schedule:{handler:function(newVal){(0,validation/* isEmpty */.xb)(newVal)?this.scheduleLookup=cloneDeep_default()(DAYS):this.serializeSchedule()},deep:!0,immediate:!0}},methods:{getFifteenMinSplit:function(hours){return(0,ControlScheduleUtil/* getFifteenMinSplit */.FV)(hours)},serializeSchedule:function(){var _this=this,schedule=this.schedule;this.scheduleLookup=cloneDeep_default()(DAYS),schedule.forEach((function(currSchedule){var dayOfWeekEnum=currSchedule.dayOfWeekEnum,startTime=currSchedule.startTime,endTime=currSchedule.endTime,exception=currSchedule.exception,offSchedule=currSchedule.offSchedule,startTimeMilli=currSchedule.startTimeMilli,currDay=Object.keys(_this.scheduleLookup).find((function(week){return week===dayOfWeekEnum}));(0,ControlScheduleUtil/* get15SplitFor24Hour */.Tc)((0,ControlScheduleUtil/* getHour */.ex)(startTime,"HH:mm"),(0,ControlScheduleUtil/* getHour */.ex)(endTime,"HH:mm"),!0).forEach((function(hour){_this.scheduleLookup[currDay][hour]=(0,objectSpread2/* default */.Z)({offSchedule:!(0,validation/* isEmpty */.xb)(exception)&&offSchedule,dayOfWeekEnum:dayOfWeekEnum,scheduleType:_this.getScheduleType(exception,offSchedule),isException:!(0,validation/* isEmpty */.xb)(exception),exception:exception,date:_this.getDate(startTimeMilli),startTime:(0,ControlScheduleUtil/* getHour */.ex)(startTime,"hh:mm a"),endTime:(0,ControlScheduleUtil/* getHour */.ex)(endTime,"hh:mm a"),startTimeMilli:startTimeMilli},currSchedule)}))})),this.$forceUpdate()},getLabel:function(indexDays,indexHours){return 0===indexDays&&0===indexHours?"GMT".concat(moment().format("Z")):0===indexDays?"12:00 AM"===this.getTimeInterval[indexHours]?"":this.getTimeInterval[indexHours]:0===indexHours?DAYS_IN_WEEK_FORMATTED[indexDays-1]:""},getScheduleType:function(exception,offSchedule){return(0,validation/* isEmpty */.xb)(exception)?SCHEDULE_TYPE_ENUM["SCHEDULE"]:offSchedule?SCHEDULE_TYPE_ENUM["REDUCED_HOURS"]:SCHEDULE_TYPE_ENUM["EXTENDED_HOURS"]},getScheduleClass:function(time,days){if((0,validation/* isEmpty */.xb)(this.scheduleLookup)||(0,validation/* isEmpty */.xb)(this.scheduleLookup[days][time]))return"noSchedule";var scheduleType=this.scheduleLookup[days][time].scheduleType;return"".concat(scheduleType," ").concat(time)},getException:function(time,days){var scheduleObj=this.getSchedule(time,days);if(!(0,validation/* isEmpty */.xb)(scheduleObj)){var exception=scheduleObj.exception;return exception}},getSchedule:function(time,days){if(!(0,validation/* isEmpty */.xb)(this.scheduleLookup)&&!(0,validation/* isEmpty */.xb)(this.scheduleLookup[days][time]))return this.scheduleLookup[days][time]},getCellClass:function(day,hour){return 0===day&&0==hour?"schedule-container hour-header-cell":0===day?"hour-axis-cell":"schedule-container cell"},getDate:function(time){return moment(time).format("ddd - DD MMM")},deleteException:function(id,hour,day){this.$emit("deleteException",{id:id,slot:this.scheduleLookup[day][hour]})},editException:function(hour,day){this.$emit("editException",this.scheduleLookup[day][hour])}}},components_ScheduleVisualizervue_type_script_lang_js=ScheduleVisualizervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ScheduleVisualizervue_type_script_lang_js,render,staticRenderFns,!1,null,"dbecb28c",null)
/* harmony default export */,ScheduleVisualizer=component.exports},
/***/353654:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d7f1f315aba97cd14240ee6f3d34465f.svg";
/***/},
/***/385769:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"4a9843791f38c4a28fdf9f0a4584780d.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/32425.js.map