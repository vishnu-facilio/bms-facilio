"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[78364,32686,39058,80865,55246,53021],{
/***/978288:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return announcement_AnnouncementSummary}});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js
var render,staticRenderFns,regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),AnnouncementSummary=(__webpack_require__(976801),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(697538)),api=__webpack_require__(32284),router=__webpack_require__(329435),vuex_esm=__webpack_require__(420629),AnnouncementSummaryvue_type_script_lang_js={extends:AnnouncementSummary["default"],computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({currentTab:function(state){return state.webtabs.selectedTab}})),(0,vuex_esm/* mapGetters */.Se)("webtabs",["tabHasPermission"])),{},{canShowActionButtons:function(){var _getApp=(0,router/* getApp */.wx)(),linkName=_getApp.linkName;if(["vendor","tenant","service"].includes(linkName)){var $getProperty=this.$getProperty,$account=this.$account,record=this.record,hasUpdatePermission=this.hasUpdatePermission,hasDeletePermission=this.hasDeletePermission;return(hasUpdatePermission||hasDeletePermission)&&$getProperty(record,"sysCreatedBy.id")===$getProperty($account,"user.id")}return!1},hasUpdatePermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("UPDATE",currentTab)},hasDeletePermission:function(){var currentTab=this.currentTab,tabHasPermission=this.tabHasPermission;return tabHasPermission("DELETE",currentTab)}}),watch:{loading:{handler:function(newVal){newVal||!this.record||this.record.isRead||this.markAsRead()},immediate:!0}},methods:{markAsRead:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var moduleName,param,_yield$API$updateReco,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return moduleName=_this.moduleName,param={id:_this.record.id,data:{isRead:!0}},_context.next=4,api/* API */.bl.updateRecord(moduleName,param);case 4:_yield$API$updateReco=_context.sent,error=_yield$API$updateReco.error,error&&_this.$message.error(error.message||"Error Occurred while marking as read");case 7:case"end":return _context.stop()}}),_callee)})))()},goToList:function(){var viewname=this.viewname,route=(0,router/* findRouteForModule */.Jp)("peopleannouncement",router/* pageTypes */.As.LIST);route&&this.$router.push({name:route.name,params:{viewname:viewname}})},goToEdit:function(){var route=(0,router/* findRouteForModule */.Jp)("peopleannouncement",router/* pageTypes */.As.EDIT);if(route){var id=this.id;this.$router.push({name:route.name,params:{id:id}})}},dropdownActionHandler:function(command){"edit"===command?this.goToEdit():"delete"===command&&this.deleteRecord()}}},announcement_AnnouncementSummaryvue_type_script_lang_js=AnnouncementSummaryvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(announcement_AnnouncementSummaryvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,announcement_AnnouncementSummary=component.exports;
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js
}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/78364.js.map