"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[55754],{
/***/143979:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(595082),vue__WEBPACK_IMPORTED_MODULE_23__=(__webpack_require__(169358),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(720144)),_Spinner__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(604947),_util_http__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(218430),_util_helpers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(778390),_util_filters__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(273861),moment_timezone__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(480008),moment_timezone__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_11__),util_constant__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(354754),_util_util__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(733313),_util_style__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(464889),_util_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(927698),dlv__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(226905),dlv__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(dlv__WEBPACK_IMPORTED_MODULE_16__),dset__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(444806),_util_convert__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(276788),_util_time__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(644227),_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(990260),_util_field_utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(455344),_facilio_utils_filters__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(638203),vuex__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(420629),pages_connectedapps_event_channel_ConnectedAppEventChannel__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(35876);
/* harmony import */
/* harmony default export */__webpack_exports__.Z={data:function(){return{loading:!1,isMobilePage:!0,outerData:null,rawdata:null,localloading:!0}},computed:(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)({},(0,vuex__WEBPACK_IMPORTED_MODULE_22__/* .mapState */.rn)({account:function(state){return state.account}})),methods:{appInit:function(){
// appInit
var CONNECTED_APP_EVENT_CHANNEL=null;CONNECTED_APP_EVENT_CHANNEL=new pages_connectedapps_event_channel_ConnectedAppEventChannel__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */.ZP({user:this.account.user,org:this.account.org}),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$connectedAppEventChannel=CONNECTED_APP_EVENT_CHANNEL||null},loadQData:function(){var _this=this;this.outerData=this.$route.query,this.outerData.timezone&&(vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$timezone=JSON.parse(this.outerData.timezone)),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$mobile=this.isMobilePage,this.outerData.account&&(vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$account=JSON.parse(this.outerData.account),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$org=JSON.parse(this.outerData.account).org),this.outerData.currency&&(vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$currency=JSON.parse(this.outerData.currency));var filterList=_util_filters__WEBPACK_IMPORTED_MODULE_10__;Object.keys(filterList).forEach((function(key){vue__WEBPACK_IMPORTED_MODULE_23__["default"].filter(key,filterList[key])})),vue__WEBPACK_IMPORTED_MODULE_23__["default"].filter("htmlToText",_facilio_utils_filters__WEBPACK_IMPORTED_MODULE_20__/* .htmlToText */.s9),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$dateformat=this.outerData.dateformat||"DD-MMM-YYYY",vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$timeformat=2===this.outerData.timeFormat?"hh:mm A":"HH:mm";var hasPermission=function(){return!0};vue__WEBPACK_IMPORTED_MODULE_23__["default"].component("spinner",_Spinner__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$http=_util_http__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.ZP,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$constants=util_constant__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$helpers=_util_helpers__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */.ZP,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$util=_util_util__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$style=_util_style__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$common=_util_common__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$getProperty=dlv__WEBPACK_IMPORTED_MODULE_16___default(),vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$setProperty=dset__WEBPACK_IMPORTED_MODULE_24__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$convert=_util_convert__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$time=_util_time__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */.Z,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$hasPermission=hasPermission,vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$dateformat="DD-MMM-YYYY",vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$validation={isEmpty:_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_25__/* .isEmpty */.xb,isBoolean:_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_25__/* .isBoolean */.jn},vue__WEBPACK_IMPORTED_MODULE_23__["default"].prototype.$fieldUtils={isBooleanField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isBooleanField */.Mw,isNumberField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isNumberField */.Z2,isDecimalField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isDecimalField */.No,isEnumField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isEnumField */.Ri,isDateField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isDateField */.y2,isDateTimeField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isDateTimeField */.K,isDateTypeField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isDateTypeField */.S6,isLookupField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isLookupField */.Qf,getDisplayValue:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .getDisplayValue */.UZ,isLookupDropDownField:_util_field_utils__WEBPACK_IMPORTED_MODULE_19__/* .isLookupDropDownField */.Nz},moment_timezone__WEBPACK_IMPORTED_MODULE_11___default().getDateInOrg=function(date){return moment_timezone__WEBPACK_IMPORTED_MODULE_11___default().tz(moment_timezone__WEBPACK_IMPORTED_MODULE_11___default()(date).format("YYYY-MM-DD HH:mm:ss"),_this.outerData.timezone)},this.loading=!0,Promise.all([this.$store.dispatch("getCurrentAccount"),this.$store.dispatch("getFeatureLicenses")]).then((function(){_this.loading=!1,_this.appInit()})),this.localloading=!1}}}},
/***/298563:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(150124),_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(548534),_facilio_api__WEBPACK_IMPORTED_MODULE_9__=(__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(564043),__webpack_require__(857267),__webpack_require__(670560),__webpack_require__(32284)),util_http__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(218430),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(720144),util_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(948288),dlv__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(226905),dlv__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(dlv__WEBPACK_IMPORTED_MODULE_12__),_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(990260),util_constant__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(354754),src_track_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(801055);
/* harmony import */
/* harmony default export */__webpack_exports__.Z={data:function(){return{loading:!0,account:null}},mounted:function(){vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$servicePortal=!0,document.body.classList.add("fc-white-theme")},computed:{isValidPortal:function(){return!!(this.account&&this.account.org&&this.account.org.domain)},portalDomain:function(){return this.account&&this.account.org?this.account.org.domain:document.domain},baseURL:function(){
// Temporary hack till /service is completely removed
return util_http__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */.ZP.defaults.baseURL},requiresAuth:function(){var requiresAuth=this.$route.matched.reduce((function(result,record){var required=record.meta.requiresAuth;return(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__/* .isNullOrUndefined */.le)(required)?result:required}),!0);return requiresAuth},loginPath:function(){return this.$appDomain?{name:"login"}:""}},methods:{loadPublicInfo:function(){var _this=this,baseURL=this.baseURL;return _facilio_api__WEBPACK_IMPORTED_MODULE_9__/* .API */.bl.get("/v2/v2fetchportalaccount",null,null,{baseURL:baseURL}).then((function(_ref){var data=_ref.data,error=_ref.error;if(!error&&data.account){vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$portalOrg=data.account.org,vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$portalInfo=data.account.portalInfo,vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$appDomain=data.account.appDomain,vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$portaluser=null,vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$isMFAEnabled=data.account.isMFAEnabled,_this.account=data.account;var org=_this.account.org,_ref2=org||{},orgLanguage=_ref2.language,browserLanguage=window.navigator.language.split("-")[0],haslanguage=util_constant__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.Z.languages.map((function(ln){return ln.value})).includes(browserLanguage);return!(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__/* .isEmpty */.xb)(browserLanguage)&&haslanguage?_this.$i18n.locale=browserLanguage:(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__/* .isEmpty */.xb)(orgLanguage)?_this.$i18n.locale="en":_this.$i18n.locale=orgLanguage,_this.account}_this.$message.error(error.message||"Error Occured")}))},loadAccount:function(){var _this2=this,force=arguments.length>0&&void 0!==arguments[0]&&arguments[0],baseURL=this.baseURL;return _facilio_api__WEBPACK_IMPORTED_MODULE_9__/* .API */.bl.get("/v2/v2portalaccount",null,{force:force},{baseURL:baseURL}).then((function(_ref3){var data=_ref3.data,error=_ref3.error;if(!error&&dlv__WEBPACK_IMPORTED_MODULE_12___default()(data,"account.user")){var _account=data.account;_this2.$store.dispatch("setServicePortalAccount",_account),vue__WEBPACK_IMPORTED_MODULE_15__["default"].prototype.$portaluser=_account.user,vue__WEBPACK_IMPORTED_MODULE_15__["default"].use(util_index__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */.Z,{account:_account});var user=_account.user,org=_account.org,_ref5=org||{},orgLanguage=_ref5.language,_ref6=user||{},userLanguage=_ref6.language;return(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__/* .isEmpty */.xb)(userLanguage)?(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_16__/* .isEmpty */.xb)(orgLanguage)?_this2.$i18n.locale="en":_this2.$i18n.locale=orgLanguage:_this2.$i18n.locale=userLanguage,_this2.$store.commit("LOGIN_REQUIRED",!1),_this2.account=_account,(0,src_track_js__WEBPACK_IMPORTED_MODULE_14__/* .initGoogleAnalytics */.Ah)(_account),_this2.account}
// In this case we still need $account so we set the value from response
// of v2fetchportalaccount
var _ref4=_this2||{},account=_ref4.account;vue__WEBPACK_IMPORTED_MODULE_15__["default"].use(util_index__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */.Z,{account:account||{}}),_this2.handleAuthError()}))},loadFeatures:function(){var _this3=this;return(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */.Z)((0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)().mark((function _callee(){return(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this3.$store.dispatch("getFeatureLicenses");case 2:case"end":return _context.stop()}}),_callee)})))()},isPublicRequest:function(){var isSubmitReq=this.$route.path.includes("/submitrequest"),isPubicCreateAllowed=dlv__WEBPACK_IMPORTED_MODULE_12___default()(this.account,"portalInfo.is_public_create_allowed");return isSubmitReq&&isPubicCreateAllowed},handleAuthError:function(){this.requiresAuth&&!this.isPublicRequest()&&this.$router.replace({name:"login"})},logout:function(){var _this4=this;if(window.identityServerURL&&window.identityServerURL.indexOf("http")>=0)if("localhost"==window.location.host){var logoutURL=window.identityServerURL+"/identity/logout";logoutURL=logoutURL+"?redirect="+encodeURIComponent(window.location.href),window.location.href=logoutURL}else{var _logoutURL="/identity/logout";_logoutURL=_logoutURL+"?redirect="+encodeURIComponent(this.$route.path),window.location.href=_logoutURL}else _facilio_api__WEBPACK_IMPORTED_MODULE_9__/* .API */.bl.get("/logout",null,{force:!0}).then((function(_ref7){var error=_ref7.error;error||(_this4.$store.commit("LOGIN_REQUIRED",!0),_this4.$helpers.logout())}))},profiledp:function(profileview){"myprofile"===profileview?this.$router.push({path:"/service/myProfile"}):"logout"===profileview&&this.logout()},isLoggedIn:function(){return"true"===vue__WEBPACK_IMPORTED_MODULE_15__["default"].cookie.get("fc.loggedIn")}}}},
/***/856270:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _facilio_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32284),moment_timezone__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(480008),moment_timezone__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_1__),vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(720144),src_util_helpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(778390);
/* harmony import */
/* harmony default export */__webpack_exports__.Z={data:function(){return{employee:[],serviceRequestData:[],desks:[],bookingData:[],loading:!0,visitorData:[]}},created:function(){this.loadServicePortalData()},methods:{loadServicePortalData:function(){var _this=this;this.loading=!0,_facilio_api__WEBPACK_IMPORTED_MODULE_0__/* .API */.bl.get("/v2/servicePortalHome?count=2",{}).then((function(_ref){var error=_ref.error,data=_ref.data;error||(_this.employee=data.employee[0],_this.serviceRequestData=data.serviceRequest,_this.desks=data.desks[0],_this.bookingData=data.facilitybooking,_this.visitorData=data.invitevisitor),_this.loading=!1}))},getFormattedDay:function(date){var today=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()().endOf("day").tz(vue__WEBPACK_IMPORTED_MODULE_3__["default"].prototype.$timezone),tomorrow=moment_timezone__WEBPACK_IMPORTED_MODULE_1___default()().add(1,"day").endOf("day").tz(vue__WEBPACK_IMPORTED_MODULE_3__["default"].prototype.$timezone);return date<today?"Today":date<tomorrow?"Tomorrow":src_util_helpers__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */.ZP.formatDateFull(date)}}}},
/***/906363:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */k:function(){/* binding */return isRequestedState},
/* harmony export */x:function(){/* binding */return isRecordLocked}
/* harmony export */});
/* harmony import */var _facilio_utils_validation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(990260),src_store_index__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(572602),dlv__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(226905),dlv__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(dlv__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */function isRecordLocked(record,moduleName){var hasState=!!dlv__WEBPACK_IMPORTED_MODULE_1___default()(record,"moduleState.id");if(hasState){var moduleState=dlv__WEBPACK_IMPORTED_MODULE_1___default()(record,"moduleState.id"),isLocked=src_store_index__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z.getters.isStatusLocked(moduleState,moduleName);return moduleState&&isLocked}return!1}function isRequestedState(record){var _ref=record||{},approvalStatus=_ref.approvalStatus;if((0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_2__/* .isEmpty */.xb)(approvalStatus))return!1;var statusObj=src_store_index__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z.getters.getApprovalStatus(approvalStatus.id);return dlv__WEBPACK_IMPORTED_MODULE_1___default()(statusObj,"requestedState",!1)}
/***/},
/***/838197:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(554621),d3__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(434284),__webpack_require__(348727));
/* harmony import */
/* harmony default export */__webpack_exports__.Z={drawAxis:function(chartContext){var defaultColors=["#7cb5ec","#ff7f00","#b2df8a","#1f78b4","#fdbf6f","#33a02c","#cab2d6","#6a3d9a","#fb9a99","#e31a1c","#ffff99","#b15928"],series=[];chartContext.selector=chartContext.$refs["f-timeseries"];var margin=chartContext.getMargin(),width=chartContext.getWidth()-margin.left-margin.right,height=chartContext.getHeight()-margin.bottom-margin.top,containerHeight=chartContext.getHeight(),arrayLenght=chartContext.data.length,chartLayerheight=height*(1/arrayLenght),minLayerHeight=120;function setEpsilon(context){var dates=chartContext.data[0].data.map((function(_ref){var label=_ref.label;return label}));context.epsilon=(context.xScale(dates[1])-context.xScale(dates[0]))/2}function drawHoverOverlay(context){context.overlay=context.svg.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",containerHeight-margin.bottom).attr("height",containerHeight-margin.bottom).attr("width",context.getWidth).attr("fill",context.overlayColor).style("display","none")}function drawVerticalMarker(context){context.verticalMarkerContainer=context.svg.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999,"+margin.bottom+")"),context.verticalMarkerLine=context.verticalMarkerContainer.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",containerHeight-margin.bottom).attr("x2",0).attr("y2",0)}function getNearestDataPoint(mouseX,context){var points=[];if(series.filter((function(d,i){points.push({data:d.data.filter((function(_ref2){var label=_ref2.label;return Math.abs(context.xScale(label)-mouseX)<=context.epsilon})),yScale:d.yScale,color:d.color})})),points.length)return points}function moveVerticalMarker(verticalMarkerXPosition,context){context.verticalMarkerContainer.attr("transform","translate(".concat(verticalMarkerXPosition,",0)"))}function highlightDataPoints(values,context,yLayerScale,color){var highlightCircleSize=12,highlightCircleRadius=5,highlightCircleStroke=1.8,marker=context.verticalMarkerContainer.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",highlightCircleSize).attr("cy",0).attr("r",highlightCircleRadius).style("stroke-width",highlightCircleStroke).style("stroke",color).style("cursor","pointer");marker.attr("transform","translate( ".concat(-highlightCircleSize,", ").concat(yLayerScale," )"))}function createChart(data){for(var charts=[],maxDataPoint=0,i=0;i<=arrayLenght;i++){var rawData=chartContext.data[i].data;maxDataPoint=d3__WEBPACK_IMPORTED_MODULE_7__.max(rawData,(function(d){return d.value})),chartContext.xScale=d3__WEBPACK_IMPORTED_MODULE_7__.scaleTime().range([0,width]).domain(d3__WEBPACK_IMPORTED_MODULE_7__.extent(rawData,(function(d){return new Date(d.label)}))),chartContext.yScale=d3__WEBPACK_IMPORTED_MODULE_7__.scaleLinear().range([chartLayerheight,0]).domain([0,maxDataPoint+maxDataPoint/2]),charts.push(new Chart({context:chartContext,data:rawData,id:i,xScale:chartContext.xScale,yScale:chartContext.yScale,name:chartContext.data[i].title,width:width,height:chartLayerheight,maxDataPoint:maxDataPoint+maxDataPoint/arrayLenght-1,svg:chartContext.series,margin:margin,color:defaultColors[i],showBottomAxis:i===arrayLenght-1})),series.push({context:chartContext,data:rawData,id:i,xScale:chartContext.xScale,yScale:chartContext.yScale,name:chartContext.data[i].title,width:width,height:chartLayerheight,maxDataPoint:maxDataPoint+maxDataPoint/arrayLenght-1,svg:chartContext.series,margin:margin,color:defaultColors[i],showBottomAxis:i===arrayLenght-1})}}function Chart(options){chartContext.areaOpacity=.24;
/* YScale is linear based on the maxData Point we found earlier */
var xS=chartContext.xScale,yS=options.yScale;options.area=d3__WEBPACK_IMPORTED_MODULE_7__.area().curve(d3__WEBPACK_IMPORTED_MODULE_7__.curveMonotoneX).x((function(d){return xS(new Date(d.label))})).y0(options.height).y1((function(d){return yS(d.value)})),options.areaOutline=d3__WEBPACK_IMPORTED_MODULE_7__.line().curve(d3__WEBPACK_IMPORTED_MODULE_7__.curveMonotoneX).x((function(d){return xS(new Date(d.label))})).y((function(d){return yS(d.value)}));var chartContainer=options.svg.append("g").attr("class",options.name.toLowerCase()).attr("transform","translate(0,"+(options.margin.top+options.height*options.id+5*options.id)+")");
/* We've created everything, let's actually add it to the page */options.yAxis=d3__WEBPACK_IMPORTED_MODULE_7__.axisLeft().scale(options.yScale).ticks(5),chartContainer.append("g").attr("class","y axis y-axis-group").attr("transform","translate(-0,0)").call(options.yAxis),chartContainer.selectAll(".y-axis-group .tick text").attr("class","yaxis-tick-label").attr("dy","-0.5em"),chartContainer.selectAll(".y-axis-group .tick line").attr("class","yaxis-tick-line").attr("x1","-20").attr("x2",width),chartContainer.append("path").data([options.data]).attr("class","chart").attr("clip-path","url(#clip-"+options.id+")").attr("d",options.area).style("opacity",chartContext.areaOpacity).style("fill",(function(d,i){return options.color})),chartContainer.append("path").data([options.data]).attr("class","area-outline").attr("d",options.areaOutline).style("stroke",(function(d,i){return options.color})),options.xAxisTop=d3__WEBPACK_IMPORTED_MODULE_7__.axisTop().scale(chartContext.xScale),options.xAxisBottom=d3__WEBPACK_IMPORTED_MODULE_7__.axisBottom().scale(chartContext.xScale),
/* We only want a top axis if it's the first country */
0===options.id?(chartContainer.append("g").attr("class","top x-axis-group axis brush-axis").attr("transform","translate(0,0)").call(options.xAxisTop).selectAll("line").attr("y2",0),chartContainer.select(".x-axis-group.axis path.domain").attr("d","M-20,0V0.5H"+width+".5V0").attr("class","x-axis-line-path")):options.svg.append("line").attr("transform","translate(0,"+(options.margin.top-5+options.height*options.id+5*options.id)+")").attr("x2",chartContext.chartWidth).attr("stroke","black")
/* Only want a bottom axis on the last country */,options.showBottomAxis&&(chartContainer.append("g").attr("class","x-axis-group axis brush-axis").attr("transform","translate(0,"+options.height+")").call(options.xAxisBottom).selectAll("line").attr("y2",0),chartContainer.select(".x-axis-group.axis path.domain").attr("d","M-20,0V0.5H"+width+".5V0").attr("class","x-axis-line-path")),options.context.label=options.svg.append("text").attr("class","label").attr("transform","translate(10,"+(options.margin.top+25+options.height*options.id+5*options.id)+")").text(options.name),options.context.value=chartContainer.append("text").attr("class","value").attr("transform","translate("+(options.width-options.margin.left-options.margin.right)+",25)")}chartLayerheight<minLayerHeight&&(chartLayerheight=120,height=120*arrayLenght,containerHeight=height+margin.bottom+margin.top),chartContext.svg.attr("width",chartContext.getWidth()).attr("height",containerHeight),chartContext.series=chartContext.svg.select(".chart-group").on("mouseover",(function(d){chartContext.verticalMarkerLine.classed("bc-is-active",!0)})).on("mouseout",(function(d){chartContext.overlay.style("display","none"),chartContext.verticalMarkerLine.classed("bc-is-active",!1),chartContext.verticalMarkerContainer.attr("transform","translate(9999,"+margin.bottom+")")})).on("mousemove",(function(d,i){chartContext.verticalMarkerContainer.selectAll(".circle-container").remove(),chartContext.epsilon||setEpsilon(chartContext);var dataPointXPosition,_d3$mouse=d3__WEBPACK_IMPORTED_MODULE_7__.mouse(this),_d3$mouse2=(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)(_d3$mouse,2),xPosition=_d3$mouse2[0],dataPoint=(_d3$mouse2[1],getNearestDataPoint(xPosition,chartContext));dataPoint&&dataPoint.filter((function(d,i){dataPointXPosition=chartContext.xScale(d.data[0].label),moveVerticalMarker(dataPointXPosition,chartContext);var yPostionLayer=d.yScale(d.data[0].value)+margin.top+chartLayerheight*i+5*i;highlightDataPoints(d.data[0],chartContext,yPostionLayer,d.color),d3__WEBPACK_IMPORTED_MODULE_7__.selectAll(".value").text((function(d,i){return dataPoint.formatted_value}))}))})),chartContext.categoryColorMap=chartContext.getLegends(),drawHoverOverlay(chartContext),drawVerticalMarker(chartContext),createChart()}}},
/***/114769:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{SO:function(){/* reexport */return core_area},ZZ:function(){/* reexport */return axis},Kb:function(){/* reexport */return bar},O7:function(){/* reexport */return core_boolean},nC:function(){/* reexport */return container},qm:function(){/* reexport */return funnel},Sd:function(){/* reexport */return heatmap},jv:function(){/* reexport */return line},ve:function(){/* reexport */return pie},YD:function(){/* reexport */return progress},GZ:function(){/* reexport */return runtime},U6:function(){/* reexport */return scatter}});
// UNUSED EXPORTS: brush, cubism
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js
var createForOfIteratorHelper=__webpack_require__(566347),d3=(__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(689730),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(348727)),formatter=__webpack_require__(676240),common=__webpack_require__(570743),vue_runtime_esm=__webpack_require__(720144),moment_timezone=__webpack_require__(480008),moment_timezone_default=__webpack_require__.n(moment_timezone),tooltip=__webpack_require__(460895),MomentRange=__webpack_require__(923542),textWidthCanvas=null,axis={getXAxisDomain:function(dateRange,axis){var momentRange=MomentRange.extendMoment(moment_timezone_default()),range=momentRange.range(new Date(dateRange[0]),new Date(dateRange[1])),currentTimezone=vue_runtime_esm["default"].prototype.$timezone,formatConfig=formatter/* default */.ZP.getDateFormatConfig(axis);return Array.from(range.by(formatConfig.interval)).map((function(r){return new Date(moment_timezone_default()(r.valueOf()).tz(currentTimezone).startOf(formatConfig.period).valueOf())}))},getSafelimitMaxValue:function(safelimit,ymax){if(safelimit){for(var maxvalue=0,i=0;i<safelimit.length;i++)safelimit[i].safelimitValue>maxvalue&&(maxvalue=safelimit[i].safelimitValue);return maxvalue>ymax?maxvalue:ymax}},buildScales:function(chartContext){var xaxisConfig=chartContext.getOptions().xaxis?chartContext.getOptions().xaxis:{datatype:"string"},yAxisRange=chartContext.getYAxisRange(),yMax=chartContext.getOptions().safelimit&&chartContext.getOptions().safelimit.length?this.getSafelimitMaxValue(chartContext.getOptions().safelimit,yAxisRange.y1axis.max):yAxisRange.y1axis.max;chartContext.yMax=chartContext.getOptions().safelimit&&chartContext.getOptions().safelimit.length?this.getSafelimitMaxValue(chartContext.getOptions().safelimit,yAxisRange.y1axis.max):yMax;var xDomain=null;if("date"!==xaxisConfig.datatype&&"date_time"!==xaxisConfig.datatype||!chartContext.getOptions().date_range?"number"===chartContext.getOptions().xaxis.datatype||"decimal"===chartContext.getOptions().xaxis.datatype?(common/* default */.Z.sortAscending1(chartContext.getMainData()),xDomain=chartContext.getMainData().map(chartContext.getLabel)):xDomain=chartContext.getMainData().map(chartContext.getLabel):(common/* default */.Z.sortDateAscending(chartContext.getMainData()),xDomain=this.getXAxisDomain(chartContext.getOptions().date_range,xaxisConfig)),chartContext.xDomain=xDomain,chartContext.getOptions().isHorizontal)chartContext.xScale=d3.scaleLinear().domain([0,yMax]).rangeRound([0,chartContext.chartWidth-1]),chartContext.yScale=d3.scaleBand().domain(xDomain).rangeRound([chartContext.chartHeight,0]).padding(.2),"groupedbar"===chartContext.getOptions().type&&(chartContext.yScale2=d3.scaleBand().domain(common/* default */.Z.getGroup(chartContext.getMainData())).rangeRound([chartContext.yScale.bandwidth(),1]).padding(.1));else if("number"===chartContext.getOptions().xaxis.datatype||"decimal"===chartContext.getOptions().xaxis.datatype?chartContext.xScale=d3.scaleLinear().domain([d3.min(xDomain),d3.max(xDomain)]).rangeRound([0,chartContext.chartWidth]).nice():"line"===chartContext.getOptions().type||"area"===chartContext.getOptions().type||"scatter"===chartContext.getOptions().type?chartContext.xScale=d3.scaleTime().domain([xDomain[0],xDomain[xDomain.length-1]]).rangeRound([0,chartContext.chartWidth]):chartContext.xScale=d3.scaleBand().domain(xDomain).rangeRound([0,chartContext.chartWidth]).padding("groupedbar"===chartContext.getOptions().type?.2:.1),"groupedbar"===chartContext.getOptions().type&&(chartContext.xScale2=d3.scaleBand().domain(common/* default */.Z.getGroup(chartContext.getMainData())).rangeRound([0,chartContext.xScale.bandwidth()]).padding(.05)),chartContext.yScale=d3.scaleLinear().domain([0,yMax]).rangeRound([chartContext.chartHeight,0]).nice(),chartContext.getOptions().yScale=chartContext.yScale,yAxisRange.y2axis&&(chartContext.yMax2=yAxisRange.y2axis.max,chartContext.yScale2=d3.scaleLinear().domain([0,yAxisRange.y2axis.max]).rangeRound([chartContext.chartHeight,0]).nice(),yAxisRange.y2axis.series)){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(yAxisRange.y2axis.series);try{for(_iterator.s();!(_step=_iterator.n()).done;){var serie=_step.value;serie.options.yScale=chartContext.yScale2}}catch(err){_iterator.e(err)}finally{_iterator.f()}}chartContext.categoryColorMap=chartContext.getLegends()},drawsafeLimit:function(chartContext){if(chartContext.getOptions().safelimit&&chartContext.getOptions().safelimit.length)for(var safelimit=chartContext.getOptions().safelimit,_loop=function(i){var safeLimitLineClass="safelimit-line",safeLimitLabelClass="safelimit-label",safeLimitValueClass="safelimit-value";safelimit[i].lineStyle?(safeLimitLineClass=safeLimitLineClass+"-"+safelimit[i].lineStyle,safeLimitLabelClass=safeLimitLabelClass+"-"+safelimit[i].lineStyle,safeLimitValueClass=safeLimitValueClass+"-"+safelimit[i].lineStyle):safeLimitLineClass+="-default";var safeLimits=chartContext.svg.select(".container-group").append("g");safeLimits.append("circle").attr("cx",0).attr("cy",chartContext.yScale(safelimit[i].safelimitValue)).attr("r",5).attr("class","safe-circle").on("mouseover",(function(d){chartContext.hover=!1,d3.select(this).transition().duration(500).attr("r",10),d3.select("#safe"+i).transition().duration(500).attr("stroke-width","2px");var tooltipData=[{label:safelimit[i].safelimitName?safelimit[i].safelimitName:"",value:safelimit[i].safelimitValue?safelimit[i].formated_value:""}],tooltipConfig={header:safelimit[i].header,title1:safelimit[i].title,position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:safelimit[i].color?safelimit[i].color:chartContext.getColorSchema()[safelimit[i].index]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartContext)})).on("mouseout",(function(d){chartContext.hover=!0,tooltip/* default */.Z.hideTooltip(),d3.select(this).transition().duration(500).attr("r",5),d3.select("#safe"+i).transition().duration(500).attr("stroke-width","1px")})).attr("fill",safelimit[i].color?safelimit[i].color:chartContext.getColorSchema()[safelimit[i].index]),safeLimits.append("circle").attr("cx",0).attr("cy",chartContext.yScale(safelimit[i].safelimitValue)).attr("r",1).attr("fill","#fff").on("mouseover",(function(){})),safeLimits.append("line").attr("x1",5).attr("y1",chartContext.yScale(safelimit[i].safelimitValue)).attr("y2",chartContext.yScale(safelimit[i].safelimitValue)).attr("x2",chartContext.chartWidth).style("shape-rendering","crispEdges").attr("id","safe"+i).attr("stroke",safelimit[i].color?safelimit[i].color:chartContext.getColorSchema()[safelimit[i].index]).attr("class","safelimit-line "+safeLimitLineClass),safeLimits.append("text").attr("x",10).attr("y",chartContext.yScale(safelimit[i].safelimitValue)-15).attr("dy","1em").attr("text-anchor","start").html(safelimit[i].formated_value).attr("fill",safelimit[i].color?safelimit[i].color:chartContext.getColorSchema()[safelimit[i].index]).attr("class","safelimit safelimit-value "+safeLimitValueClass)},i=0;i<chartContext.getOptions().safelimit.length;i++)_loop(i)},getTextWidth:function(text){
// re-use canvas object for better performance
var canvas=textWidthCanvas||(textWidthCanvas=document.createElement("canvas")),context=canvas.getContext("2d"),metrics=context.measureText(text);return metrics.width},gettextSliceLength:function(minwidth,length,maxwidth,chartContext){var l=Math.round(minwidth/length),newLocal=Math.round(maxwidth/l),len=Math.round(newLocal/100*80);return len},getFormatedLabel:function(bandwidth,d,chartContext,bw){var self=this;return chartContext&&(bw?self.getTextWidth(d)>bw&&(chartContext.lableroate=!0):self.getTextWidth(d)>bandwidth&&(chartContext.lableroate=!0)),self.getTextWidth(d)>bandwidth+bandwidth/10&&d.slice?d.slice(0,self.gettextSliceLength(self.getTextWidth(d),d.length,Math.round(bandwidth)),chartContext)+"...":d},lableLength:function(chartContext){for(var label=chartContext.xDomain,length=0,i=0;i<label.length;i++)length+=this.getTextWidth(label[i]);return length},buildAxis:function(chartContext){if(chartContext.getOptions().isHorizontal)chartContext.xAxis=d3.axisBottom(chartContext.xScale).tickSizeInner([-chartContext.chartHeight]),chartContext.yAxis=d3.axisLeft(chartContext.yScale);else{var ticks=10;chartContext.chartWidth>800?ticks=31:chartContext.chartWidth>500?ticks=15:chartContext.chartWidth>300?ticks=7:chartContext.chartWidth>200?ticks=4:chartContext.chartWidth>0&&chartContext.chartWidth<200&&(ticks=3);var ticksSplit=Math.round(chartContext.xDomain.length/ticks);if(chartContext.ticksSplit=Math.round(chartContext.xDomain.length/ticks),"number"===chartContext.getOptions().xaxis.datatype||"decimal"===chartContext.getOptions().xaxis.datatype)chartContext.xAxis=d3.axisBottom(chartContext.xScale).tickSize([0]).tickPadding(15);else{var self=this;chartContext.totalLabelWidth=0,chartContext.totalLabelWidth=self.lableLength(chartContext),chartContext.xAxis=d3.axisBottom(chartContext.xScale).tickValues(chartContext.xDomain.filter((function(d,i){return!(i%ticksSplit)}))).tickSize([0]).tickPadding(15)}if("date"===chartContext.getOptions().xaxis.datatype||"date_time"===chartContext.getOptions().xaxis.datatype){var formatConfig=formatter/* default */.ZP.getDateFormatConfig(chartContext.getOptions().xaxis);chartContext.xAxis.tickFormat((function(d){return moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatConfig.minor)})),chartContext.xMonthAxis=d3.axisBottom(chartContext.xScale).tickSize(0,0).tickValues(chartContext.xDomain.filter((function(d,i){return!(i%ticksSplit)})));var idx=0;chartContext.xMonthAxis.tickFormat((function(d){idx++;var minorVal=moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatConfig.minor);if(1!==idx){if("hour"===formatConfig.period&&"12am"!==minorVal)return"";if("day"===formatConfig.period&&"1"!==minorVal)return"";if("week"===formatConfig.period&&"1"!==minorVal)return"";if("month"===formatConfig.period&&"Jan"!==minorVal)return""}return formatConfig.major?moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatConfig.major):""}))}else if("string"===chartContext.getOptions().xaxis.datatype||"lookup"===chartContext.getOptions().xaxis.datatype||"text"===chartContext.getOptions().xaxis.datatype){var bandwidth=2,_self=this;chartContext.xScale&&chartContext.xScale.hasOwnProperty("bandwidth")&&(bandwidth=chartContext.xScale.bandwidth());var bandwidthChange=chartContext.ticksSplit&&0!==chartContext.ticksSplit?chartContext.ticksSplit:1;bandwidth*=bandwidthChange,3481===chartContext.options.id||3663===chartContext.options.id||3664===chartContext.options.id||3668===chartContext.options.id||3754===chartContext.options.id||1122===chartContext.options.id||1138===chartContext.options.id||2871===chartContext.options.id?chartContext.xAxis.tickFormat((function(d){return _self.getFormatedLabel(2*bandwidth,d,chartContext,1*bandwidth)})):chartContext.xAxis.tickFormat((function(d){return _self.getFormatedLabel(bandwidth,d)}))}chartContext.yAxis=d3.axisLeft(chartContext.yScale).ticks(chartContext.yMax>5?5:chartContext.yMax).tickSize(-chartContext.chartWidth-10).tickPadding(7);var yaxisConfig=chartContext.getOptions().y1axis?chartContext.getOptions().y1axis:{datatype:"number"};if(formatter/* default */.ZP.formatAxis(chartContext.yAxis,yaxisConfig),chartContext.yScale2){chartContext.yAxis2=d3.axisRight(chartContext.yScale2).ticks(chartContext.yMax2>5?5:chartContext.yMax2).tickSize(-chartContext.chartWidth-10).tickPadding(7);var y2axisConfig=chartContext.getOptions().y2axis?chartContext.getOptions().y2axis:{datatype:"number"};formatter/* default */.ZP.formatAxis(chartContext.yAxis2,y2axisConfig)}}},buildScaleDualAxis:function(chartContext){var yMax=common/* default */.Z.getMinMax(chartContext.getData2()).max;chartContext.yDualScale=d3.scaleLinear().domain([0,yMax]).rangeRound([chartContext.chartHeight,0]).nice(),chartContext.getOptions().y1axis.isTitle&&
// draw y axis label
chartContext.svg.select(".y1-axis-group.axis").append("text").attr("transform","rotate(-90)").attr("class","Yaxis-label").attr("x",0-chartContext.chartHeight/2).attr("y",chartContext.getMargin().right).style("text-anchor","middle").attr("dy","0em").html((chartContext.getOptions().y1axis?chartContext.getOptions().y1axis.title.toUpperCase():"")+(chartContext.getOptions().y1axis.unit?" ("+(chartContext.getOptions().y1axis?"currency"===chartContext.getOptions().y1axis.datatype?vue_runtime_esm["default"].prototype.$currency:"eui"===chartContext.getOptions().y1axis.unit?78===chartContext.$account.org.id?"kWh/m&sup2":"kWh/ft&sup2":chartContext.getOptions().y1axis.unit:"")+")":"")),chartContext.y2Axis=d3.axisRight(chartContext.yDualScale).ticks(5).tickPadding(7),chartContext.svg.select(".y1-axis-group.axis").call(chartContext.y2Axis)},drawAxis:function(chartContext){chartContext.svg.select(".x-axis-group .axis.x").attr("transform","translate(0, ".concat(chartContext.chartHeight,")")).call(chartContext.xAxis),chartContext.xMonthAxis&&chartContext.svg.select(".x-axis-group .month-axis").attr("transform","translate(0, ".concat(chartContext.chartHeight+34,")")).call(chartContext.xMonthAxis),chartContext.svg.select(".y-axis-group.axis").call(chartContext.yAxis),chartContext.svg.select(".x-axis-group .axis.x path.domain").attr("d","M-20,0V0.5H"+(chartContext.chartWidth+10)+".5V0").attr("class","x-axis-line-path"),chartContext.svg.selectAll(".y-axis-group.axis .tick text").attr("class","yaxis-tick-label").attr("dy","-0.5em"),chartContext.yAxis2&&(chartContext.svg.select(".y1-axis-group.axis").call(chartContext.yAxis2),chartContext.svg.selectAll(".y1-axis-group.axis .tick text").attr("class","yaxis-tick-label").attr("dy","-0.5em")),this.titleXYWrite(chartContext,!1)},titleXYWrite:function(chartContext,isLableRotating){chartContext.getOptions().y1axis&&chartContext.getOptions().y1axis.title&&
// draw y axis label
chartContext.svg.select(".y-axis-group.axis").append("text").attr("transform","rotate(-90)").attr("class","Yaxis-label").attr("x",0-chartContext.chartHeight/2).attr("y",0-chartContext.getMargin().left).style("text-anchor","middle").attr("dy","1em").html((chartContext.getOptions().y1axis?chartContext.getOptions().y1axis.title.toUpperCase():"")+(chartContext.getOptions().y1axis.unit?" ("+(chartContext.getOptions().y1axis?"currency"===chartContext.getOptions().y1axis.datatype?vue_runtime_esm["default"].prototype.$currency:"eui"===chartContext.getOptions().y1axis.unit?78===chartContext.$account.org.id?"kWh/m&sup2":"kWh/ft&sup2":chartContext.getOptions().y1axis.unit:"")+")":""));var y2AxisOptions=chartContext.data.find((function(d){return"undefined"!==typeof d.options.y2axis}));
// draw x axis label
if(y2AxisOptions&&y2AxisOptions.options.y2axis.title&&
// draw y1 axis label
chartContext.svg.select(".y1-axis-group.axis").append("text").attr("transform","rotate(-90)").attr("class","Yaxis-label").attr("x",0-chartContext.chartHeight/2).attr("y",chartContext.getMargin().right-25).style("text-anchor","middle").attr("dy","1em").html(y2AxisOptions.options.y2axis.title.toUpperCase()+(y2AxisOptions.options.y2axis.unit?" ("+(y2AxisOptions.options.y2axis?"currency"===y2AxisOptions.options.y2axis.datatype?vue_runtime_esm["default"].prototype.$currency:"eui"===y2AxisOptions.options.y2axis.unit?78===chartContext.$account.org.id?"kWh/m&sup2":"kWh/ft&sup2":y2AxisOptions.options.y2axis.unit:"")+")":"")),chartContext.getOptions().xaxis.title)if(isLableRotating){var text=chartContext.svg.select(".x-axis-group.axis").append("text").attr("class","Xaxis-label").style("text-anchor","middle");"fulldate"===chartContext.getOptions().xaxis.operation?text.attr("transform","translate("+chartContext.chartWidth/2+" ,100)").html(chartContext.getOptions().xaxis?chartContext.getOptions().xaxis.title.toUpperCase():""):"hoursofday"===chartContext.getOptions().xaxis.operation?text.attr("transform","translate("+chartContext.chartWidth/2+" ,60)").html(chartContext.getOptions().xaxis?chartContext.getOptions().xaxis.title.toUpperCase():""):text.attr("transform","translate("+chartContext.chartWidth/2+" ,120)").html(chartContext.getOptions().xaxis?chartContext.getOptions().xaxis.title.toUpperCase():"")}else chartContext.svg.select(".x-axis-group .axis.x").append("text").attr("transform","translate("+chartContext.chartWidth/2+" ,"+(3481!==chartContext.options.id&&3663!==chartContext.options.id&&3664!==chartContext.options.id&&3668!==chartContext.options.id&&3754!==chartContext.options.id&&1122!==chartContext.options.id&&1138!==chartContext.options.id&&2871!==chartContext.options.id||!chartContext.lableroate?60:85)+")").attr("class","Xaxis-label").style("text-anchor","middle").attr("dy","1em").html(chartContext.getOptions().xaxis?chartContext.getOptions().xaxis.title.toUpperCase():"");
/* temp fix for reportID */3481!==chartContext.options.id&&3663!==chartContext.options.id&&3664!==chartContext.options.id&&3668!==chartContext.options.id&&3754!==chartContext.options.id&&1122!==chartContext.options.id&&1138!==chartContext.options.id&&2871!==chartContext.options.id||chartContext.lableroate&&chartContext.svg.selectAll(".axis.x .tick text").attr("transform","rotate(45)").style("text-anchor","start")}},slicedToArray=__webpack_require__(554621),container=(__webpack_require__(634338),__webpack_require__(947522),{mixins:[tooltip/* default */.Z],buildContainerGroups:function(chartContext){chartContext.container=chartContext.svg.append("g").classed("container-group",!0).attr("transform","translate(".concat(chartContext.getMargin().left+chartContext.getOptions().yAxisPaddingBetweenChart,", ").concat(chartContext.getMargin().top,")")),chartContext.container.append("g").classed("grid-lines-group",!0),chartContext.container.append("g").attr("transform","translate(0, 0)").classed("y-axis-group axis",!0),chartContext.container.append("g").attr("transform","translate(".concat(chartContext.getWidth()-chartContext.getMargin().right-chartContext.getMargin().left,", 0)")).classed("y1-axis-group axis",!0),chartContext.container.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),chartContext.container.selectAll(".x-axis-group").append("g").classed("month-axis",!0),chartContext.container.append("g").classed("chart-group",!0).attr("width",400).attr("height",100),chartContext.container.append("g").classed("metadata-group",!0),chartContext.getOptions().withPoints&&chartContext.container.append("g").classed("metadata-group2",!0),chartContext.container.append("g").classed("brush-group",!0),chartContext.hover=!0},setEpsilon:function(context){var dates=context.getMainData().map((function(_ref){var label=_ref.label;return label}));context.xScale&&(context.epsilon=(context.xScale(dates[1])-context.xScale(dates[0]))/2,context.epsilon<=0&&(context.epsilon=2))},getNearestDataPoint:function(mouseX,context){if(context.xScale){var points=context.getMainData().filter((function(_ref2){var label=_ref2.label;return Math.abs(context.xScale(label)-mouseX)<=context.epsilon}));if(points.length)return points[0]}},highlightDataPoints:function(values,context){var highlightCircleSize=12,highlightCircleRadius=5,highlightCircleStroke=1.2;if(this.cleanDataPointHighlights(context),common/* default */.Z.isValueArray(context.getMainData()))values.value.forEach((function(d,index){var marker=context.verticalMarkerContainer.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",highlightCircleSize).attr("cy",0).attr("r",highlightCircleRadius).style("stroke-width",highlightCircleStroke).style("stroke",context.categoryColorMap[d.label]).style("cursor","pointer");marker.attr("transform","translate( ".concat(-highlightCircleSize,", ").concat(context.yScale(d.value)," )"))}));else{var marker=context.verticalMarkerContainer.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",highlightCircleSize).attr("cy",0).attr("r",highlightCircleRadius).style("stroke-width",highlightCircleStroke).style("stroke",context.categoryColorMap[0]).style("cursor","pointer");marker.attr("transform","translate( ".concat(-highlightCircleSize,", ").concat(context.yScale(values.value)," )"))}},cleanDataPointHighlights:function(context){context.verticalMarkerContainer.selectAll(".circle-container").remove()},addMouseEvents:function(context){var self=this;!1===context.hover?tooltip/* default */.Z.hideTooltip():context.svg.on("mouseover",(function(d){context.verticalMarkerLine.classed("bc-is-active",!0),context.dispatcher.call("customMouseOver",this,d,d3.mouse(this))})).on("mouseout",(function(d){!0===context.hover&&(context.overlay.style("display","none"),context.verticalMarkerLine.classed("bc-is-active",!1),context.verticalMarkerContainer.attr("transform","translate(9999, 0)"),tooltip/* default */.Z.hideTooltip(),context.dispatcher.call("customMouseOut",this,d,d3.mouse(this)))})).on("click",(function(d){context.dispatcher.call("customClick",this,d,d3.mouse(this))})).on("mousemove",(function(d){if(!0===context.hover){context.epsilon||self.setEpsilon(context);var dataPointXPosition,_d3$mouse=d3.mouse(this),_d3$mouse2=(0,slicedToArray/* default */.Z)(_d3$mouse,2),xPosition=_d3$mouse2[0],yPosition=_d3$mouse2[1],dataPoint=self.getNearestDataPoint(xPosition-context.getMargin().left,context);if(dataPoint){dataPointXPosition=context.xScale(dataPoint.label),self.moveVerticalMarker(dataPointXPosition,context),self.highlightDataPoints(dataPoint,context);var processedlabel,processLabel,typeTooltip=0,toolTipData=null,tooltipConfig={};if(dataPoint.value.length)toolTipData=dataPoint,typeTooltip=1,processedlabel=("date_time"===context.getOptions().xaxis.datatype||"date"===context.getOptions().xaxis.datatype)&&dataPoint.orgLabel?dataPoint.orgLabel:dataPoint.label,tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},title:processedlabel,data:toolTipData,mode:typeTooltip};else processLabel="actual"===context.getOptions().xaxis.operation||("date_time"===context.getOptions().xaxis.datatype||"date"===context.getOptions().xaxis.datatype)&&dataPoint.orgLabel?dataPoint.orgLabel:dataPoint.label,typeTooltip=2,toolTipData=[{label:context.getOptions().xaxis.title,value:processLabel,axis:context.getOptions().xaxis},{label:context.getOptions().y1axis.title,value:dataPoint.value,axis:context.getOptions().y1axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:toolTipData,mode:typeTooltip};tooltip/* default */.Z.showTooltip(tooltipConfig,context),context.dispatcher.call("customMouseMove",this,dataPoint,context.categoryColorMap,dataPointXPosition,yPosition)}}}))},moveVerticalMarker:function(verticalMarkerXPosition,context){context.verticalMarkerContainer.attr("transform","translate(".concat(verticalMarkerXPosition,",0)"))},drawHoverOverlay:function(context){context.overlay=context.svg.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",context.height).attr("height",context.getHeight).attr("width",context.getWidth).attr("fill",context.overlayColor).style("display","none")},drawVerticalMarker:function(context){context.verticalMarkerContainer=context.svg.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999, 0)"),context.verticalMarkerLine=context.verticalMarkerContainer.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",context.chartHeight).attr("x2",0).attr("y2",0)},drawStackedPointsOnFGraph:function(data,chartContext){function drawCirclesGroup(data){chartContext.circleContainer=chartContext.svg.select(".chart-group").append("g"),data.forEach((function(datum,index){var temps=data[index];common/* default */.Z.isValueArray(temps)?temps.forEach((function(drrr){drawCircle(drrr,index)})):datum.value.forEach((function(drrr){chartContext.circleContainer.datum(datum).append("circle").attr("class","lineChart--circle").attr("r",0).attr("cx",(function(d){return chartContext.xScale(d.label)})).attr("cy",(function(d){var val=d.value.find((function(v){return v.label===drrr.label}));return chartContext.yScale(val.value)})).style("fill",(function(d){return chartContext.categoryColorMap[drrr.label]})).transition().delay(150*index).attr("r",4)}))}))}function drawCircle(datum,index){chartContext.circleContainer.datum(datum).append("circle").attr("class","lineChart--circle").attr("r",0).attr("cx",(function(d){return chartContext.xScale(d.data.label)})).attr("cy",(function(d){return chartContext.yScale(d.data[d.subgroup])})).style("fill",(function(d){return chartContext.categoryColorMap[d.subgroup]})).transition().delay(150*index).attr("r",4)}drawCirclesGroup(data)},drawPointsOnGraph:function(data,chartContext){function drawCircles(data){chartContext.circleContainer=chartContext.svg.select(".chart-group").append("g").attr("class","area-point"),data.forEach((function(datum,index){drawCircle(datum,index)}))}function drawCircle(datum,index){chartContext.circleContainer.datum(datum).append("circle").attr("class","lineChart--circle").attr("r",0).attr("cx",(function(d){return chartContext.xScale(d.label)})).attr("cy",(function(d){return chartContext.yScale(d.value)})).transition().delay(150*index).attr("r",6)}drawCircles(data)}}),helpers_text=(__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(670560),__webpack_require__(506203),__webpack_require__(903650),{wrapText:function(xOffset,fontSize,availableWidth,node){var word,wrapConfig={lineHeight:1.2,smallTextOffset:10,smallTextLineHeightRatio:.9,smallTextRatio:.6,valueClassName:"value",labelClassName:"label"},text=d3.select(node),words=text.text().split(/\s+/).reverse(),line=[],lineNumber=0,smallLineHeight=wrapConfig.lineHeight*wrapConfig.smallTextLineHeightRatio,y=text.attr("y"),dy=parseFloat(text.attr("dy")),smallFontSize=fontSize*wrapConfig.smallTextRatio,tspan=text.text(null).append("tspan").attr("x",xOffset).attr("y",y-5).attr("dy",dy+"em").classed(wrapConfig.valueClassName,!0).style("font-size",fontSize+"px");tspan.text(words.pop()),tspan=text.append("tspan").classed(wrapConfig.labelClassName,!0).attr("x",xOffset).attr("y",y+wrapConfig.smallTextOffset).attr("dy",++lineNumber*smallLineHeight+dy+"em").style("font-size",smallFontSize+"px");while(word=words.pop())line.push(word),tspan.text(line.join(" ")),tspan.node()&&tspan.node().getComputedTextLength()>availableWidth-50&&(line.pop(),tspan.text(line.join(" ")),line=[word],tspan=text.append("tspan").classed(wrapConfig.labelClassName,!0).attr("x",xOffset).attr("y",y+wrapConfig.smallTextOffset).attr("dy",++lineNumber*smallLineHeight+dy+"em").text(word).style("font-size",smallFontSize+"px"))},wrapEllipse:function(xOffset,fontSize,availableWidth,node){var texts=d3.select(node),textLength=texts.node().getComputedTextLength(),text=self.text();while(textLength>68&&text.length>0)text=text.slice(0,-1),texts.text(text+"..."),textLength=texts.node().getComputedTextLength()},getTextWidth:function(text){var fontSize=12,fontFace="Aktiv-Grotesk",a=document.createElement("canvas"),b=a.getContext("2d");return b.font=fontSize+"px "+fontFace,b.measureText(text).width},wrapTextWithEllipses:function(text,width){var xpos=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,limit=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;text.each((function(){var words,word,line,lineNumber,lineHeight,y,dy,tspan;text=d3.select(this),words=text.text().split(/\s+/).reverse(),line=[],lineNumber=0,lineHeight=1.2,y=text.attr("y"),dy=parseFloat(text.attr("dy")),tspan=text.text(null).append("tspan").attr("x",xpos).attr("y",y);while(word=words.pop())if(line.push(word),tspan.text(line.join(" ")),tspan.node()&&tspan.node().getComputedTextLength()>width){if(line.pop(),tspan.text(line.join(" ")),!(lineNumber<limit-1)){line.push("..."),tspan.text(line.join(" "));break}line=[word],tspan=text.append("tspan").attr("x",xpos).attr("y",y).attr("dy",++lineNumber*lineHeight+dy+"em").text(word),
// if we need two lines for the text, move them both up to center them
text.classed("adjust-upwards",!0)}}))}}),pie={drawPie:function(chartObj){this.prepareChart(chartObj),this.buildSvg(chartObj),this.buildLayout(chartObj),this.buildShape(chartObj),this.drawSlices(chartObj)},drawDoughnut:function(chartObj){this.prepareChart(chartObj),this.buildSvg(chartObj),this.buildLayout(chartObj),this.buildShape(chartObj),this.drawSlices(chartObj)},drawCenterText:function(chartObj){chartObj.options.centerText&&(chartObj.text=chartObj.options.centerText),chartObj.legendWidth=chartObj.fchart.getHeight(),chartObj.chartGroup.append("text").attr("class","donut-text").attr("dy",".1em").attr("text-anchor","middle").text((function(){var value=chartObj.fchart.options.centerValue;if(isNaN(value)||(value=Number(chartObj.fchart.options.centerValue),value=value%1!==0?d3.format(".2f")(value):value),chartObj&&chartObj.innerRadius>0)return value})).attr("font-size",(function(){if(chartObj&&chartObj.innerRadius){var size=chartObj.innerRadius/2.2;return size}})),chartObj.chartGroup.append("text").attr("class","donut-text").attr("dy","1.8em").attr("text-anchor","middle").text((function(){var label=chartObj.fchart.options.centerLabel?chartObj.fchart.options.centerLabel:"";if(chartObj&&chartObj.innerRadius>0)return label.length>15?label.slice(0,14)+"...":label})).attr("font-size",(function(){if(chartObj&&chartObj.innerRadius>0){var size=chartObj.innerRadius/5;return size}}))},wrapText:function(text,legendWidth,fontSize){helpers_text.wrapText.call(null,0,fontSize,legendWidth,text.node())},deleteGraph:function(){var self=this,svg=d3.select(self.$refs["piechart"]).transition(),legends=d3.select(self.$refs["legend"]).transition();svg.selectAll("*").remove(),legends.selectAll("*").remove(),setTimeout((function(){self.render()}),500)},buildSvg:function(chartObj){chartObj.fchart.svg.data([chartObj.data]),chartObj.container=chartObj.fchart.svg.append("g").attr("class","container-group").attr("transform","translate("+(chartObj.fchart.chartWidth/2+chartObj.fchart.getMargin().left)+","+(chartObj.fchart.chartHeight/2+chartObj.fchart.getMargin().top)+")"),chartObj.chartGroup=chartObj.container.append("g").classed("chart-group",!0)},buildLayout:function(chartObj){chartObj.pieLayout=d3.pie().value((function(d){return d.value})),chartObj.temp=chartObj.r},buildShape:function(chartObj){chartObj.shape=d3.arc().innerRadius(chartObj.innerRadius).outerRadius((function(d){return chartObj.maxPercentage1=chartObj.maxPercentage1-chartObj.diff,chartObj.temp=chartObj.temp-chartObj.diff,chartObj.temp})),chartObj.arcShape=d3.arc().innerRadius((function(d){return chartObj.innerRadius})).outerRadius((function(d){return chartObj.maxPercentage1=chartObj.maxPercentage1-chartObj.diff,chartObj.temp=chartObj.temp-chartObj.diff,chartObj.temp+chartObj.temp/10})),chartObj.shapeOver=d3.arc().innerRadius(chartObj.innerRadius).outerRadius((function(d){return chartObj.maxPercentage1=chartObj.maxPercentage1-chartObj.diff,chartObj.temp=chartObj.temp-chartObj.diff,chartObj.temp+20})),chartObj.OuterLayers=d3.arc().innerRadius(chartObj.innerRadius+30).outerRadius((function(d){return chartObj.maxPercentage1=chartObj.maxPercentage1-chartObj.diff,chartObj.temp=chartObj.temp-chartObj.diff,chartObj.temp+30}))},drawSlices:function(chartObj){chartObj.categoryColorMap=chartObj.fchart.getLegends(),chartObj.slices=chartObj.chartGroup.selectAll("g.arc").data(chartObj.pieLayout),chartObj.newSlicesG=chartObj.slices.enter().append("g").classed("arc",!0),chartObj.newSlices=chartObj.newSlicesG.append("path"),chartObj.newSlices.merge(chartObj.slices).attr("fill",(function(d,i){return chartObj.categoryColorMap[d.data.label]})).on("click",(function(d,i){chartObj.onclick&&chartObj.onclick([{data:d.data,axis:chartObj.options.xaxis}])})).on("mousemove",(function(d,i){d3.select(this).transition().duration(400).attr("d",chartObj.shapeOver);var tooltipData=[{label:chartObj.options.xaxis.title,value:d.data.label},{label:chartObj.options.y1axis.title,value:d.data.formatted_value},{label:"Percentage",value:common/* default */.Z.calculatePercent(d.data.value,chartObj.data),unit:"%"}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.categoryColorMap[d.data.label]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){d3.select(this).transition().duration(400).attr("d",chartObj.shape),tooltip/* default */.Z.hideTooltip()})).attr("d",chartObj.shape).transition().ease(d3.easeCubicInOut).duration(500).attrTween("d",(function(d){var i;return i=d3.interpolate({startAngle:0,endAngle:0},d),function(t){return chartObj.shape(i(t))}})),chartObj.options.arcSliceEnable&&chartObj.newSlicesG.append("text").text((function(d){var value;if(d.endAngle-d.startAngle>.2){var showFormat="percent";return chartObj.options.arcSliceEnable&&(showFormat=chartObj.options.arcSliceValueFormat?chartObj.options.arcSliceValueFormat:"percent"),d&&showFormat&&(value="value"===showFormat?d.data.formatted_value:common/* default */.Z.calculatePercent(d.data.value,chartObj.data)+" %"),value}})).attr("transform",(function(d){// Set Inner Coordinate
return d.outerRadius=chartObj.innerRadius,// Set Outer Coordinate
d.innerRadius=chartObj.innerRadius,"translate("+chartObj.arcShape.centroid(d)+")"})).attr("fill","#fff"),chartObj.options.innerText&&this.drawCenterText(chartObj)},drawLabel:function(chartObj){var cDim=chartObj.temp+30;chartObj.container.append("g").attr("class","labelName");var enteringLabels=chartObj.container.select(".labelName").selectAll(".label").data(chartObj.pieLayout).enter(),labelGroups=enteringLabels.append("g").attr("class","label"),lines=labelGroups.append("line").attr({x1:function(d,i){return chartObj.shape.centroid(d)[0]},y1:function(d){return chartObj.shape.centroid(d)[1]},x2:function(d){var centroid=chartObj.shape.centroid(d),midAngle=Math.atan2(centroid[1],centroid[0]);return Math.cos(midAngle)*cDim},y2:function(d){var centroid=chartObj.shape.centroid(d),midAngle=Math.atan2(centroid[1],centroid[0]);return Math.sin(midAngle)*cDim},class:"label-line",stroke:"#000"}),textLabels=labelGroups.append("text").attr({x:function(d,i){var centroid=chartObj.shape.centroid(d),midAngle=Math.atan2(centroid[1],centroid[0]),x=Math.cos(midAngle)*cDim,sign=x>0?1:-1;return x+5*sign},y:function(d,i){var centroid=chartObj.shape.centroid(d),midAngle=Math.atan2(centroid[1],centroid[0]),y=Math.sin(midAngle)*cDim;return y},"text-anchor":function(d,i){var centroid=chartObj.shape.centroid(d),midAngle=Math.atan2(centroid[1],centroid[0]),x=Math.cos(midAngle)*cDim.labelRadius;return x>0?"start":"end"},class:"label-text"}).text((function(d){return d.data.name+" ( "+d.data.pct+" ) "})),alpha=.5,spacing=15;function relax(){var again=!1;if(textLabels.each((function(d,i){var a=this,da=d3.select(a),y1=da.attr("y");textLabels.each((function(d,j){var b=this;if(a!==b){var db=d3.select(b);if(da.attr("text-anchor")===db.attr("text-anchor")){var y2=db.attr("y"),deltaY=y1-y2;if(!(Math.abs(deltaY)>spacing)){again=!0;var sign=deltaY>0?1:-1,adjust=sign*alpha;da.attr("y",+y1+adjust),db.attr("y",+y2-adjust)}}}}))})),again){var labelElements=textLabels[0];lines.attr("y2",(function(d,i){var labelForLine=d3.select(labelElements[i]);return labelForLine.attr("y")})),setTimeout(relax,20)}}relax()},drawMapLabel:function(chartObj){function midAngle(d){return d.startAngle}var prev;chartObj.container.append("g").attr("class","labelName"),chartObj.container.append("g").attr("class","lines"),chartObj.container.select(".labelName").selectAll("text").data(chartObj.pieLayout(chartObj.data)).enter().append("text").attr("text-anchor","middle").attr("transform",(function(d,i){var pos=chartObj.OuterLayers.centroid(d);return pos[0]=1.55*chartObj.temp*(midAngle(d)<Math.PI?1:-1),pos[1]=pos[1]+3*i,"translate("+pos+")"})).attr("dy",".35em").text((function(d){return d.endAngle-d.startAngle<4*Math.PI/180?"":d.data.label})).style("text-anchor",(function(d){
// if slice centre is on the left, anchor text to start, otherwise anchor to end
return midAngle(d)<Math.PI?"start":"end"})).text((function(d){return d.data.label})).each((function(d){var bbox=this.getBBox();d.sx=d.x-bbox.width/2-2,d.ox=d.x+bbox.width/2+2,d.sy=d.oy=d.y+5}));var text=chartObj.container.select(".labelName").selectAll("text");text.each((function(d,i){if(i>0){var thisbb=this.getBoundingClientRect(),prevbb=prev.getBoundingClientRect();if(!(thisbb.right<prevbb.left||thisbb.left>prevbb.right||thisbb.bottom<prevbb.top||thisbb.top>prevbb.bottom)){var ctx=thisbb.left+(thisbb.right-thisbb.left)/2,cty=thisbb.top+(thisbb.bottom-thisbb.top)/2,cpx=prevbb.left+(prevbb.right-prevbb.left)/2,cpy=prevbb.top+(prevbb.bottom-prevbb.top)/2,off=Math.sqrt(Math.pow(ctx-cpx,2)+Math.pow(cty-cpy,2));d3.select(this).attr("transform","translate("+Math.sin((d.startAngle+d.endAngle-Math.PI)/2)*(chartObj.temp+20+off)+","+Math.cos((d.startAngle+d.endAngle-Math.PI)/2)*(chartObj.temp+20+off)+")")}}prev=this}));var polyline=chartObj.container.select(".lines").selectAll("polyline").data(chartObj.pieLayout(chartObj.data),(function(d){return d.data.label})).enter().append("polyline").attr("points",(function(d,i){var pos=chartObj.OuterLayers.centroid(d);return pos[0]=1.55*chartObj.temp*(midAngle(d)<Math.PI?1:-1),pos[1]=pos[1]+3*i,[chartObj.shape.centroid(d),chartObj.OuterLayers.centroid(d),pos]}));polyline.enter().append("polyline"),polyline.exit().remove()},prepareChart:function(chartObj){chartObj.diff=chartObj.options.diff,chartObj.innerRadius=chartObj.options.innerRadius;var chartType=chartObj.options.type;"pie"===chartType?(chartObj.innerRadius=0,chartObj.diff=0):"doughnut"===chartType?(chartObj.innerRadius=chartObj.fchart.getHeight()/4,chartObj.diff=0):"gear"===chartType&&(chartObj.innerRadius=chartObj.fchart.getHeight()/4),chartObj.r=chartObj.fchart.chartHeight/2,chartObj.selector=chartObj.fchart.$refs["f-chart"],chartObj.maxPercentage1=chartObj.r+chartObj.data.length*chartObj.diff}},bar=(__webpack_require__(865137),__webpack_require__(76265),{drawBars:function(chartObj,callbackFunc){if(chartObj.bars=null,"grouped"===chartObj.options.type)this.drawGroupedBars(chartObj);else if("stacked"===chartObj.options.type)this.drawStackedBars(chartObj);else{var dataZeroed=common/* default */.Z.cleanData(chartObj.data);chartObj.options.isAnimated?(chartObj.bars=chartObj.fchart.svg.select(".chart-group").selectAll(".bar").data(dataZeroed),chartObj.options.isHorizontal?this.drawHorizontalBars(chartObj):this.drawVerticalBars(chartObj),chartObj.bars=chartObj.fchart.svg.select(".chart-group").selectAll(".bar").data(chartObj.data),chartObj.options.isHorizontal?this.drawAnimatedHorizontalBars(chartObj):this.drawAnimatedVerticalBars(chartObj)):(chartObj.bars=chartObj.fchart.svg.select(".chart-group").selectAll(".bar").data(chartObj.data),chartObj.options.isHorizontal?this.drawHorizontalBars(chartObj):this.drawVerticalBars(chartObj)),callbackFunc(chartObj.fchart.xScale.bandwidth()),
// Exit
chartObj.bars.exit().transition().style("opacity",0).remove()}},drawHorizontalBars:function(chartObj){
// Enter + Update
chartObj.bars.enter().append("rect").classed("bar",!0).attr("y",chartObj.fchart.chartHeight).attr("x",0).attr("height",chartObj.fchart.yScale.bandwidth()).attr("width",(function(_ref){var value=_ref.value;return chartObj.fchart.xScale(value)})).on("mouseover",(function(d){chartObj.fchart.handleMouseOver&&chartObj.fchart.handleMouseOver(d)})).on("mousemove",(function(d){chartObj.fchart.handleMouseMove&&chartObj.fchart.handleMouseMove(d)})).on("mouseout",(function(d){chartObj.fchart.handleMouseOut&&chartObj.fchart.handleMouseOut(d)})).on("click",(function(d){chartObj.fchart.handleClick&&chartObj.fchart.handleClick(d)})).merge(chartObj.bars).attr("x",0).attr("y",(function(_ref2){var label=_ref2.label;return chartObj.fchart.yScale(label)})).attr("height",chartObj.fchart.yScale.bandwidth()).attr("width",(function(_ref3){var value=_ref3.value;return chartObj.fchart.xScale(value)})).attr("fill",(function(_ref4){var label=_ref4.label;return chartObj.fchart.categoryColorMap[label]}))},drawAnimatedHorizontalBars:function(chartObj){
// Enter + Update
chartObj.bars.enter().append("rect").classed("bar",!0).attr("x",0).attr("y",chartObj.fchart.chartHeight).attr("height",chartObj.fchart.yScale.bandwidth()).attr("width",(function(_ref5){var value=_ref5.value;return chartObj.fchart.xScale(value)})).on("mouseover",(function(d){chartObj.fchart.handleMouseOver&&chartObj.fchart.handleMouseOver(d)})).on("mousemove",(function(d){chartObj.fchart.handleMouseMove&&chartObj.fchart.handleMouseMove(d)})).on("mouseout",(function(d){chartObj.fchart.handleMouseOut&&chartObj.fchart.handleMouseOut(d)})).on("click",(function(d){chartObj.fchart.handleClick&&chartObj.fchart.handleClick(d)})),chartObj.bars.attr("x",0).attr("y",(function(_ref6){var label=_ref6.label;return chartObj.fchart.yScale(label)})).attr("height",chartObj.fchart.yScale.bandwidth()).attr("fill",(function(_ref7){var label=_ref7.label;return chartObj.fchart.categoryColorMap[label]})).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).attr("width",(function(_ref8){var value=_ref8.value;return chartObj.fchart.xScale(value)}))},drawVerticalBars:function(chartObj){
// Enter + Update
chartObj.bars.enter().append("rect").classed("bar",!0).attr("x",chartObj.fchart.chartWidth).attr("transform",(function(){if(3990===chartObj.fchart.options.id){if(chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth"))return"translate("+-chartObj.fchart.xScale.bandwidth()/2+" , 0)";if(chartObj.fchart.chartWidth){var width=chartObj.fchart.chartWidth/chartObj.data.length-2;return"translate("+-width/4+" , 0)"}return"translate(0,0)"}return"translate(0,0)"})).attr("y",(function(_ref9){var value=_ref9.value;return chartObj.fchart.yScale(value)})).attr("width",(function(d){if(chartObj.fchart.xScale.bandwidth)return chartObj.fchart.xScale.bandwidth();var width=chartObj.fchart.chartWidth/chartObj.data.length-2;return width})).attr("height",(function(_ref10){var value=_ref10.value;return chartObj.fchart.chartHeight-chartObj.fchart.yScale(value)})).merge(chartObj.bars).attr("x",(function(d){return chartObj.fchart.xScale(d.label)})).attr("y",(function(_ref11){var value=_ref11.value;return chartObj.fchart.yScale(value)})).attr("width",(function(d){if(chartObj.fchart.xScale.bandwidth)return chartObj.fchart.xScale.bandwidth();var width=chartObj.fchart.chartWidth/chartObj.data.length-2;return width})).attr("height",(function(_ref12){var value=_ref12.value;return chartObj.fchart.chartHeight-chartObj.fchart.yScale(value)})).attr("fill",(function(_ref13){_ref13.label;return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).on("mouseover",(function(d){var processLabel;processLabel=("date_time"===chartObj.options.xaxis.datatype||"date"===chartObj.options.xaxis.datatype)&&d.orgLabel?d.orgLabel:d.label;var tooltipData=[{label:chartObj.options.xaxis.title,value:processLabel,axis:chartObj.options.xaxis},{label:chartObj.options.y1axis.title,value:d.value,axis:chartObj.options.y1axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart),d3.select(this).style("fill",(function(){return d3.rgb(d3.select(this).style("fill")).darker(.6)}))})).on("mouseout",(function(d,i){d3.select(this).style("fill",chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d){chartObj.onclick&&chartObj.onclick([{data:d,axis:chartObj.options.xaxis}])}))},drawAnimatedVerticalBars:function(chartObj){
// Enter + Update
var bandwidth=0,bandwidthArray=[];if(chartObj.data)for(var i=0;i<chartObj.data.length-1;i++)bandwidth=chartObj.fchart.xScale(chartObj.data[i+1].label)-chartObj.fchart.xScale(chartObj.data[i].label),bandwidthArray[i]=bandwidth;for(var width=chartObj.fchart.chartWidth/chartObj.data.length-2,a=[],_i=0;_i<bandwidthArray.length;_i++)0!==bandwidthArray[_i]?a[_i]=bandwidthArray[_i]:bandwidthArray[bandwidthArray.length]?bandwidthArray[_i]=bandwidthArray[_i+0]:bandwidthArray[_i]=bandwidthArray[_i+1];a.length>0?(a=a.sort((function(a,b){return a-b})),bandwidth=a[0]):bandwidth=chartObj.fchart.chartWidth/chartObj.data.length-2,width=bandwidth-bandwidth/10;var newBarwidth=width;chartObj.bars.enter().append("rect").classed("bar",!0).attr("x",chartObj.fchart.chartWidth).attr("y",(function(_ref14){var value=_ref14.value;return chartObj.fchart.yScale(value)})).attr("width",(function(d){if(chartObj.fchart.xScale.bandwidth)return chartObj.fchart.xScale.bandwidth();var _width=chartObj.fchart.chartWidth/chartObj.data.length-2;return _width})).attr("height",(function(_ref15){var value=_ref15.value;return chartObj.fchart.chartHeight-chartObj.fchart.yScale(value)})).on("mouseover",(function(d){chartObj.fchart.handleMouseOver&&chartObj.fchart.handleMouseOver(d)})).on("mousemove",(function(d){chartObj.fchart.handleMouseMove&&chartObj.fchart.handleMouseMove(d)})).on("mouseout",(function(d){chartObj.fchart.handleMouseOut&&chartObj.fchart.handleMouseOut(d)})).merge(chartObj.bars).attr("x",(function(d){return chartObj.fchart.xScale(d.label)})).attr("width",(function(d){if(chartObj.fchart.xScale.bandwidth)return chartObj.fchart.xScale.bandwidth();var _width2=chartObj.fchart.chartWidth/chartObj.data.length-2,barwidth=chartObj.fchart.chartWidth/chartObj.data.length-2;return barwidth=newBarwidth>0?newBarwidth:chartObj.fchart.chartWidth/chartObj.data.length-2,barwidth>_width2&&(barwidth=_width2/2),barwidth<.5&&(barwidth=.5),barwidth})).attr("fill",(function(_ref16){_ref16.label;return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).attr("y",(function(_ref17){var value=_ref17.value;return chartObj.fchart.yScale(value)})).attr("height",(function(_ref18){var value=_ref18.value;return chartObj.fchart.chartHeight-chartObj.fchart.yScale(value)}))},drawGroupedBars:function(chartObj){chartObj.fchart.svg.selectAll(".layer").remove();var series=chartObj.fchart.svg.select(".chart-group").selectAll(".layer");chartObj.options.isHorizontal?this.drawGroupedHorizontalBars(chartObj,series):this.drawGroupedVerticalBars(chartObj,series),
// Exit
series.exit().transition().style("opacity",0).remove()},drawGroupedHorizontalBars:function(chartObj,layersSelection){var layerJoin=layersSelection.data(chartObj.data);chartObj.layerElements=layerJoin.enter().append("g").attr("transform",(function(_ref19){var label=_ref19.label;return"translate(0, ".concat(chartObj.fchart.yScale(label),")")})).classed("layer",!0);var barJoin=chartObj.layerElements.selectAll(".bar").data((function(d){return d.value.map((function(v){return v.group=d.label,v}))})),bars=barJoin.enter().append("rect").classed("bar",!0).attr("x",1).attr("y",(function(d){return chartObj.fchart.yScale2(d.label)})).attr("height",chartObj.fchart.yScale2.bandwidth()).attr("fill",(function(_ref20){var label=_ref20.label;return chartObj.fchart.categoryColorMap[label]}));chartObj.options.isAnimated?bars.style("opacity",.24).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).tween("attr.width",(function(d){var node=d3.select(this),i=d3.interpolateRound(0,chartObj.fchart.xScale(d.value)),j=d3.interpolateNumber(0,1);return function(t){node.attr("width",i(t)).style("opacity",j(t))}})):bars.attr("width",(function(d){return chartObj.fchart.xScale(d.value)}))},drawGroupedVerticalBars:function(chartObj,layersSelection){var layerJoin=layersSelection.data(chartObj.data);chartObj.layerElements=layerJoin.enter().append("g").attr("transform",(function(_ref21){var label=_ref21.label;return"translate(".concat(chartObj.fchart.xScale(label),",0)")})).classed("layer",!0);var barJoin=chartObj.layerElements.selectAll(".bar").data((function(d){return d.value.map((function(v){return v.group=d.label,v.data=d,v}))})),bars=barJoin.enter().append("rect").classed("bar",!0).attr("x",(function(d){return chartObj.fchart.xScale2(d.label)})).attr("y",(function(d){return chartObj.fchart.yScale(d.value)})).attr("width",chartObj.fchart.xScale2.bandwidth).attr("fill",(function(_ref22){var label=_ref22.label;return chartObj.fchart.categoryColorMap[label]}));chartObj.options.isAnimated?bars.style("opacity",.24).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).tween("attr.height",(function(d){var node=d3.select(this),i=d3.interpolateRound(0,chartObj.fchart.chartHeight-chartObj.fchart.yScale(chartObj.fchart.getValue(d))),y=d3.interpolateRound(chartObj.fchart.chartHeight,chartObj.fchart.yScale(chartObj.fchart.getValue(d))),j=d3.interpolateNumber(0,1);return function(t){node.attr("y",y(t)).attr("height",i(t)).style("opacity",j(t))}})):bars.attr("height",(function(d){return chartObj.fchart.chartHeight-chartObj.fchart.yScale(d.value)})),bars.on("mouseover",(function(d){var processLabel;processLabel=("date_time"===chartObj.options.xaxis.datatype||"date"===chartObj.options.xaxis.datatype)&&d.data.orgLabel?d.data.orgLabel:d.data.label;var tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},mode:1,title:processLabel,data:d.data,color:chartObj.fchart.categoryColorMap[d.label]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart),d3.select(this).style("fill",(function(){return d3.rgb(d3.select(this).style("fill")).darker(.6)}))})).on("mouseout",(function(d,i){d3.select(this).style("fill",chartObj.fchart.categoryColorMap[d.label]),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d,i){chartObj.onclick&&chartObj.onclick([{data:d.data,axis:chartObj.options.xaxis},{data:d,axis:chartObj.options.groupby}])}))},drawStackedBars:function(chartObj){var stacks=common/* default */.Z.getDescendingGroup(chartObj.data,chartObj.options),stack=d3.stack().keys(stacks),dataInitial=chartObj.data.map((function(item){var _step,ret={},_iterator=(0,createForOfIteratorHelper/* default */.Z)(item.value);try{for(_iterator.s();!(_step=_iterator.n()).done;){var v=_step.value;ret[v.label]=v.value}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Object.assign({},item,ret)})),layers=stack(dataInitial);
// Not ideal, we need to figure out how to call exit for nested elements
chartObj.fchart.svg.selectAll(".layer").remove();var series=chartObj.fchart.svg.select(".chart-group").selectAll(".layer");chartObj.options.isHorizontal?this.drawStackedHorizontalBars(chartObj,layers,series):this.drawStackedVerticalBars(chartObj,layers,series),
// Exit
series.exit().transition().style("opacity",0).remove()},drawStackedHorizontalBars:function(chartObj,layers,layersSelection){var layerJoin=layersSelection.data(layers),layerElements=layerJoin.enter().append("g").attr("fill",(function(_ref23){var key=_ref23.key;return chartObj.fchart.categoryColorMap[key]})).classed("layer",!0),barJoin=layerElements.selectAll(".bar").data((function(d){return d})),bars=barJoin.enter().append("rect").classed("bar",!0).attr("x",(function(d){return chartObj.fchart.xScale(d[0])})).attr("y",(function(d){return chartObj.fchart.yScale(d.data.label)})).attr("height",chartObj.fchart.yScale.bandwidth).attr("fill",(function(_ref24){var data=_ref24.data;return chartObj.fchart.categoryColorMap["".concat(data.label)]}));chartObj.options.isAnimated?bars.style("opacity",.24).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).tween("attr.width",(function(d){var node=d3.select(this),i=d3.interpolateRound(0,chartObj.fchart.xScale(d[1]-d[0])),j=d3.interpolateNumber(0,1);return function(t){node.attr("width",i(t)).style("opacity",j(t))}})):bars.attr("width",(function(d){return chartObj.fchart.xScale(d[1]-d[0])}))},drawStackedVerticalBars:function(chartObj,layers,layersSelection){var layerJoin=layersSelection.data(layers),layerElements=layerJoin.enter().append("g").attr("fill",(function(_ref25){var key=_ref25.key;return chartObj.fchart.categoryColorMap[key]})).attr("key",(function(_ref26){var key=_ref26.key;return key})).classed("layer",!0),barJoin=layerElements.selectAll(".bar").data((function(d){return d})),bars=barJoin.enter().append("rect").classed("bar",!0).attr("x",(function(d){return chartObj.fchart.xScale(d.data.label)})).attr("y",(function(d){return chartObj.fchart.yScale(d[1])})).attr("width",(function(d){if(chartObj.fchart.xScale.bandwidth)return chartObj.fchart.xScale.bandwidth();var width=chartObj.fchart.chartWidth/(chartObj.data.length+chartObj.data.length/2)-20;return width})).attr("fill",(function(_ref27){var data=_ref27.data;return chartObj.fchart.categoryColorMap["".concat(data.label)]}));chartObj.options.isAnimated?bars.style("opacity",.24).transition().duration(chartObj.options.animationDuration).delay(chartObj.options.interBarDelay).ease(chartObj.options.ease).tween("attr.height",(function(d){var node=d3.select(this),i=d3.interpolateRound(0,chartObj.fchart.yScale(d[0])-chartObj.fchart.yScale(d[1])),j=d3.interpolateNumber(0,1);return function(t){node.attr("height",i(t)).style("opacity",j(t))}})):bars.attr("height",(function(d){return chartObj.fchart.yScale(d[0])-chartObj.fchart.yScale(d[1])})),bars.on("mouseover",(function(d){var processLabel;processLabel=("date_time"===chartObj.options.xaxis.datatype||"date"===chartObj.options.xaxis.datatype)&&d.data.orgLabel?d.data.orgLabel:d.data.label;var tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},mode:1,title:processLabel,data:d.data,color:chartObj.fchart.categoryColorMap[d.label]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart),d3.select(this).style("fill",(function(){return d3.rgb(d3.select(this).style("fill")).darker(.6)}))})).on("mouseout",(function(d,i){d3.select(this).style("fill",chartObj.fchart.categoryColorMap[d.label]),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d,i){var stackedKey=d3.select(this).node().parentNode.getAttribute("key");if(chartObj.onclick){var stackedEntry=d.data.value.find((function(v){return v.label===stackedKey}));stackedEntry&&chartObj.onclick([{data:d.data,axis:chartObj.options.xaxis},{data:stackedEntry,axis:chartObj.options.groupby}])}}))}}),constant=(__webpack_require__(857267),__webpack_require__(150505)),line={drawLines:function(chartObj){common/* default */.Z.isValueArray(chartObj.data)?this.drawMultiLines(chartObj):this.drawSingleLine(chartObj)},drawSingleLine:function(chartObj){var lines,lineCurve=chartObj.options.curvetype||constant/* default */.Z.defaultCurve;chartObj.lineContainer=d3.line().curve(constant/* default */.Z.curveMap[lineCurve]).x((function(d){return chartObj.fchart.xScale(d.label)})).y((function(d){return chartObj.options.yScale?chartObj.options.yScale(d.value):chartObj.fchart.yScale(d.value)})),lines=chartObj.fchart.svg.select(".chart-group").selectAll(".line"+chartObj.options.id).data([chartObj.data]),chartObj.paths=lines.enter().append("g").attr("class","line-group").attr("transform",(function(d){return chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth")?"translate("+chartObj.fchart.xScale.bandwidth()/2+" ,0)":"translate(0 ,0)"})).append("path").attr("class","line").attr("id","singlePath").attr("d",(function(d){return chartObj.lineContainer(d)})).style("stroke",(function(d){return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})),lines.exit().remove(),chartObj.options.withPoints&&chartObj.fchart.svg.select(".chart-group").selectAll("dot").data(chartObj.data).enter().append("circle").attr("r",3.5).attr("transform",(function(d){return chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth")?"translate("+chartObj.fchart.xScale.bandwidth()/2+" ,0)":"translate(0 ,0)"})).style("fill",(function(d){return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).attr("cx",(function(d){return chartObj.fchart.xScale(d.label)})).attr("cy",(function(d){return chartObj.options.yScale?chartObj.options.yScale(d.value):chartObj.fchart.yScale(d.value)})).on("mouseover",(function(d){d3.select(this).transition().duration(300).attr("r",7);var tooltipData=[{label:chartObj.options.xaxis.title,value:d.label,axis:chartObj.options.xaxis},{label:chartObj.options.y1axis?chartObj.options.y1axis.title:chartObj.options.y2axis.title,value:d.value,axis:chartObj.options.y1axis?chartObj.options.y1axis:chartObj.options.y2axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.fchart.categoryColorMap[d.label]};d.formatted_date&&(tooltipConfig.title1=d.formatted_date),tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj)})).on("mouseout",(function(d){d3.select(this).transition().duration(300).attr("r",3.5),tooltip/* default */.Z.hideTooltip()})),chartObj.maskingRectangle=chartObj.fchart.svg.append("rect").attr("class","masking-rectangle").attr("width",chartObj.fchart.getWidth()-30).attr("height",chartObj.fchart.getHeight()-30).attr("x",0).attr("y",0),chartObj.fchart.svg.select(".chart-group").selectAll(".line").style("stroke-width",2).on("end",(function(d){})),chartObj.maskingRectangle.transition().duration(1e3).ease(d3.easeQuadInOut).attr("x",chartObj.fchart.getWidth()).on("end",(function(){return chartObj.maskingRectangle.remove()}))},drawMultiLines:function(chartObj){var lines,lineContainer,lineCurve=chartObj.options.curvetype||constant/* default */.Z.defaultCurve;lineContainer=d3.line().curve(constant/* default */.Z.curveMap[lineCurve]).x((function(d){return chartObj.fchart.xScale(d.label)})).y((function(d){var val=d.value.find((function(v){return v.label===d.subgroup}));return chartObj.fchart.yScale(val.value)})),lines=chartObj.fchart.svg.select(".chart-group").selectAll(".line").data(common/* default */.Z.getGroup(chartObj.data)),chartObj.paths=lines.enter().append("g").attr("class","line-group").append("path").attr("class","line").attr("id",(function(d){return d.replace(/\s/g,"")})).attr("d",(function(d){var _step,temp=chartObj.data,_iterator=(0,createForOfIteratorHelper/* default */.Z)(temp);try{for(_iterator.s();!(_step=_iterator.n()).done;){var t=_step.value;t.subgroup=d}}catch(err){_iterator.e(err)}finally{_iterator.f()}return temp.active=!0,temp[d]=!0,lineContainer(temp)})).style("stroke",(function(d){return chartObj.fchart.categoryColorMap[d]})),chartObj.fchart.svg.select(".chart-group").selectAll(".line").transition().duration(1e3).delay(100).ease(d3.easeLinear).style("stroke-width",2).on("end",(function(d){chartObj.options.withPoints&&container.drawStackedPointsOnFGraph(chartObj.data,chartObj)})),lines.exit().remove(),chartObj.maskingRectangle=chartObj.fchart.svg.append("rect").attr("class","masking-rectangle").attr("width",chartObj.fchart.getWidth()-30).attr("height",chartObj.fchart.getHeight()-30).attr("x",0).attr("y",0),chartObj.maskingRectangle.transition().duration(1e3).ease(d3.easeQuadInOut).attr("x",chartObj.fchart.getWidth()).on("end",(function(){return chartObj.maskingRectangle.remove()}))},dualAxisY2Plot:function(chartObj){var lineContainers,lineCurve=chartObj.options.curvetype||constant/* default */.Z.defaultCurve;lineContainers=d3.line().curve(constant/* default */.Z.curveMap[lineCurve]).x((function(d){return chartObj.fchart.xScale(d.label)})).y((function(d){return chartObj.fchart.yDualScale(d.value)})),chartObj.fchart.svg.select(".chart-group").append("path").style("stroke","red").attr("class","line").attr("d",lineContainers(chartObj.data))}},core_area={drawAreas:function(chartObj){common/* default */.Z.isValueArray(chartObj.data)?this.drawStackedAreas(chartObj):this.drawSingleArea(chartObj)},drawSingleArea:function(chartObj){var startData=chartObj.data.map((function(d){return{label:d.label,value:0}}));function tween(b,callback){return function(a){var i=d3.interpolateArray(a,b);return function(t){return callback(i(t))}}}chartObj.areaOpacity=.24,chartObj.ease=d3.easeQuadInOut,chartObj.maxAreaNumber=8,chartObj.areaAnimationDelayStep=20,chartObj.areaAnimationDelays=d3.range(chartObj.areaAnimationDelayStep,chartObj.maxAreaNumber*chartObj.areaAnimationDelayStep,chartObj.basechartareaAnimationDelayStep),chartObj.area=d3.area().x((function(d){return chartObj.fchart.xScale(d.label)})).y0((function(d){return chartObj.options.yScale?chartObj.options.yScale(d.value):chartObj.fchart.yScale(d.value)})).y1((function(d){return chartObj.fchart.chartHeight})),chartObj.areaOutline=d3.line().curve(chartObj.area.curve()).x((function(d){return chartObj.fchart.xScale(d.label)})).y((function(d){return chartObj.options.yScale?chartObj.options.yScale(d.value):chartObj.fchart.yScale(d.value)})),chartObj.series=chartObj.fchart.svg.select(".chart-group"),chartObj.series.data([startData]).append("path").attr("class","layer").attr("d",chartObj.area).style("opacity",chartObj.areaOpacity).style("fill",(function(d){return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).attr("transform",(function(d){return chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth")?"translate("+chartObj.fchart.xScale.bandwidth()/2+" ,0)":"translate(0 ,0)"})).transition().duration(1500).attrTween("d",tween(chartObj.data,chartObj.area)),chartObj.options.withPoints&&chartObj.fchart.svg.select(".chart-group").selectAll("dot").data(chartObj.data).enter().append("circle").attr("r",3.5).style("fill",(function(d){return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).attr("transform",(function(d){return chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth")?"translate("+chartObj.fchart.xScale.bandwidth()/2+" ,0)":"translate(0 ,0)"})).attr("cx",(function(d){return chartObj.fchart.xScale(d.label)})).attr("cy",(function(d){return chartObj.options.yScale?chartObj.options.yScale(d.value):chartObj.fchart.yScale(d.value)})).on("mouseover",(function(d){d3.select(this).transition().duration(300).attr("r",7);var tooltipData=[{label:chartObj.options.xaxis.title,value:d.label,axis:chartObj.options.xaxis},{label:chartObj.options.y1axis?chartObj.options.y1axis.title:chartObj.options.y2axis.title,value:d.value,axis:chartObj.options.y1axis?chartObj.options.y1axis:chartObj.options.y2axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.fchart.categoryColorMap[d.label]};d.formatted_date&&(tooltipConfig.title1=d.formatted_date),tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){d3.select(this).transition().duration(300).attr("r",3.5),tooltip/* default */.Z.hideTooltip()})),chartObj.series.data([startData]).append("path").attr("class","area-outline").attr("transform",(function(d){return chartObj.fchart.xScale&&chartObj.fchart.xScale.hasOwnProperty("bandwidth")?"translate("+chartObj.fchart.xScale.bandwidth()/2+" ,0)":"translate(0 ,0)"})).attr("d",chartObj.areaOutline).style("stroke",(function(d){return chartObj.options.color?chartObj.options.color:chartObj.fchart.categoryColorMap[0]})).transition().duration(1500).attrTween("d",tween(chartObj.data,chartObj.areaOutline)).on("end",(function(){
// if (chartObj.options.withPoints) {
//   container.drawPointsOnGraph(chartObj.data, chartObj)
// }
})),
// Exit
chartObj.series.exit().transition().style("opacity",0).remove()},drawStackedAreas:function(chartObj){chartObj.areaOpacity=.1,chartObj.ease=d3.easeQuadInOut,chartObj.maxAreaNumber=8,chartObj.areaAnimationDelayStep=20,chartObj.areaAnimationDelays=d3.range(chartObj.areaAnimationDelayStep,chartObj.maxAreaNumber*chartObj.areaAnimationDelayStep,chartObj.basechartareaAnimationDelayStep),chartObj.stacks=common/* default */.Z.getGroup(chartObj.data);var dataInitial=chartObj.data.map((function(item){var _step,ret={},_iterator=(0,createForOfIteratorHelper/* default */.Z)(item.value);try{for(_iterator.s();!(_step=_iterator.n()).done;){var v=_step.value;ret[v.label]=v.value}}catch(err){_iterator.e(err)}finally{_iterator.f()}return Object.assign({},item,ret)})),stack3=d3.stack().keys(chartObj.stacks).order(d3.stackOrderNone).offset(d3.stackOffsetNone),layers=stack3(dataInitial);chartObj.area=d3.area().curve(d3.curveMonotoneX).x((function(d){return chartObj.fchart.xScale(d.data.label)})).y0((function(d){return chartObj.fchart.yScale(d.data[d.subgroup])})).y1(chartObj.fchart.chartHeight),chartObj.areaOutline=d3.line().curve(chartObj.area.curve()).x((function(d){return chartObj.fchart.xScale(d.data.label)})).y((function(d){return chartObj.options.yScale?chartObj.options.yScale(d.data[d.subgroup]):chartObj.fchart.yScale(d.data[d.subgroup])})),chartObj.series=chartObj.fchart.svg.select(".chart-group").selectAll(".layer").data(common/* default */.Z.getGroup(chartObj.data)).enter().append("g").classed("layer-container",!0),chartObj.series.append("path").attr("class","layer").attr("d",(function(d,i){var _step2,temp=layers[i],_iterator2=(0,createForOfIteratorHelper/* default */.Z)(temp);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var t=_step2.value;t.subgroup=d}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return chartObj.area(temp)})).attr("id",(function(d){return d})).style("opacity",chartObj.areaOpacity).style("fill",(function(d){return chartObj.fchart.categoryColorMap[d]})),chartObj.series.append("path").attr("class","area-outline").attr("d",(function(d,i){var _step3,temp=layers[i],_iterator3=(0,createForOfIteratorHelper/* default */.Z)(temp);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var t=_step3.value;t.subgroup=d}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}return chartObj.areaOutline(temp)})).style("stroke",(function(d){return chartObj.fchart.categoryColorMap[d]})),
// Update
chartObj.fchart.svg.select(".chart-group").selectAll(".layer").data(layers).transition().delay((function(_,i){return chartObj.areaAnimationDelays[i]})).duration(1e3).ease(chartObj.ease).attr("d",chartObj.area).style("opacity",chartObj.areaOpacity).style("fill",(function(d){return chartObj.fchart.categoryColorMap[d]})),chartObj.fchart.svg.select(".chart-group").selectAll(".area-outline").data(layers).transition().delay((function(_,i){return chartObj.areaAnimationDelays[i]})).duration(1e3).ease(chartObj.ease).attr("d",chartObj.areaOutline),chartObj.options.withPoints&&container.drawStackedPointsOnFGraph(layers,chartObj),
// Exit
chartObj.series.exit().transition().style("opacity",0).remove()}},progress={drawProgress:function(chartObj){chartObj.fchart.$refs["f-chart"]&&d3.select(chartObj.fchart.$refs["f-chart"]).selectAll("*").remove();var count,charts=[];count=chartObj.data.length>7?7:chartObj.data.length;for(var i=0;i<count;i++)charts.push(chartObj.data[i]);chartObj.selector=chartObj.fchart.$refs["f-chart"],chartObj.arcColorFn=d3.interpolateHsl(d3.rgb(chartObj.options.gColors[0]),d3.rgb(chartObj.options.gColors[1])),chartObj.progressContianer=d3.select(chartObj.selector).attr("class","fchart-group").selectAll(".fchart div").data(charts),chartObj.progressContianerBack=chartObj.progressContianer.enter().append("div").attr("class","probar-background"),chartObj.progressContianerRow=chartObj.progressContianerBack.selectAll(".probar-background").append("div").attr("class","probar-data row"),
// progress label value and units elements
chartObj.progressTextContent=chartObj.progressContianerBack.append("div").attr("class","col-9 title-div"),chartObj.progressTextContent.append("span").attr("class","title-label").text((function(d,i){return formatter/* default */.ZP.formatValue(d.label,chartObj.options.xaxis)})),chartObj.progressTextContent.append("span").attr("class","title-value").html((function(d,i){return d.formatted_value}));var sumOfValue=d3.max(charts,(function(d){return d.value}));chartObj.progressContianerBack.append("div").append("div").attr("class","progbar-shadow").attr("width",chartObj.fchart.getWidth()).append("div").attr("class","progbar-fill").transition().delay((function(d,i){return 200*i})).duration(1e3).style("width",(function(d,i){return d.value/sumOfValue*100+"%"})).style("background-color",(function(d,i){
// eslint-disable-next-line no-loss-of-precision
return chartObj.arcColorFn(.12333333333333334*i)})),chartObj.progressContianerBack.selectAll(".probar-background").append("div").attr("class","progbar-shadow").attr("width",chartObj.fchart.getWidth())}},scatter={drawScatterPlot:function(chartObj){common/* default */.Z.isValueArray(chartObj.data)?this.drawMultiScatterPlot(chartObj):this.drawSingleScatterPlot(chartObj)},leastSquares:function(chartObj,data){var xSeries=data.map(chartObj.fchart.getLabel),ySeries=data.map(chartObj.fchart.getValue),reduceSumFunc=function(prev,cur){return prev+cur},xBar=1*xSeries.reduce(reduceSumFunc)/xSeries.length,yBar=1*ySeries.reduce(reduceSumFunc)/ySeries.length,ssXX=xSeries.map((function(d){return Math.pow(d-xBar,2)})).reduce(reduceSumFunc),ssYY=ySeries.map((function(d){return Math.pow(d-yBar,2)})).reduce(reduceSumFunc),ssXY=xSeries.map((function(d,i){return(d-xBar)*(ySeries[i]-yBar)})).reduce(reduceSumFunc),slope=ssXY/ssXX,intercept=yBar-xBar*slope,rSquare=Math.pow(ssXY,2)/(ssXX*ssYY);return[slope,intercept,rSquare]},regression:function(x,slope,intercept){return x*slope+intercept},drawSingleScatterPlot:function(chartObj){var circles=chartObj.fchart.svg.select(".chart-group").selectAll(".scatter-dot").data(chartObj.data).enter().append("circle").attr("class","scatter-dot").attr("r",5).attr("cx",(function(d){return chartObj.fchart.xScale(d.label)})).attr("cy",(function(d){return chartObj.fchart.yScale(d.value)})).style("fill",(function(d){return chartObj.fchart.categoryColorMap[0]})).style("opacity",0);if(circles.transition().delay(500).duration(500).ease(d3.easeCircleIn).style("opacity",(function(d,i){return d.value>0?1:0})),circles.on("mouseover",(function(d){d3.select(this).transition().duration(300).attr("r",10);var tooltipData=[{label:chartObj.options.xaxis.title,value:d.label,axis:chartObj.options.xaxis},{label:chartObj.options.y1axis.title,value:d.value,axis:chartObj.options.y1axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.fchart.categoryColorMap[d.label]};d.formatted_date&&(tooltipConfig.title1=d.formatted_date),tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){d3.select(this).transition().duration(300).attr("r",5),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d){chartObj.onclick&&chartObj.onclick([{data:d,axis:chartObj.options.xaxis}])})),chartObj.options.trendline){var leastSquaresCoeff=this.leastSquares(chartObj,chartObj.data),self=this,line=d3.line().curve(d3.curveLinear).x((function(d){return chartObj.fchart.xScale(d.label)})).y((function(d){return chartObj.fchart.yScale(self.regression(d.label,leastSquaresCoeff[0],leastSquaresCoeff[1]))}));chartObj.fchart.svg.select(".chart-group").append("path").datum(chartObj.data).attr("class","trendline").attr("d",line).attr("stroke",(function(d){return"#84e7f7"})).attr("stroke-width",1.6),chartObj.fchart.svg.select(".chart-group").append("text").text("R: "+d3.format("0.2f")(leastSquaresCoeff[2])).attr("class","r-squared-label").attr("x",(function(d){return chartObj.fchart.chartWidth-50})).attr("y",(function(d){return 0}))}},drawMultiScatterPlot:function(chartObj){var layersSelection=chartObj.fchart.svg.select(".chart-group").selectAll(".layer"),layerJoin=layersSelection.data(chartObj.data);chartObj.layerElements=layerJoin.enter().append("g").classed("layer",!0);var scatterJoin=chartObj.layerElements.selectAll(".scatter-plot").data((function(d){return d.value.map((function(v){return v.group=d.label,v.data=d,v}))})),circles=scatterJoin.enter().append("circle").attr("class","scatter-dot").attr("r",5).attr("cx",(function(d){return chartObj.fchart.xScale(d.group)})).attr("cy",(function(d){return chartObj.fchart.yScale(d.value)})).style("fill",(function(d){return chartObj.fchart.categoryColorMap[d.label]})).style("opacity",0);circles.transition().delay(500).duration(500).ease(d3.easeCircleIn).style("opacity",(function(d,i){return d.value>0?1:0})),circles.on("mouseover",(function(d){d3.select(this).transition().duration(300).attr("r",10);var tooltipData=[{label:chartObj.options.xaxis.title,value:d.group,axis:chartObj.options.xaxis},{label:chartObj.options.groupby.title,value:d.label,axis:chartObj.options.groupby},{label:chartObj.options.y1axis.title,value:d.value,axis:chartObj.options.y1axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:chartObj.fchart.categoryColorMap[d.label]};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){d3.select(this).transition().duration(300).attr("r",5),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d){chartObj.onclick&&chartObj.onclick([{data:d.data,axis:chartObj.options.xaxis},{data:d,axis:chartObj.options.groupby}])}))},drawAlarms:function(chartcontext,data){chartcontext.series=chartcontext.svg.select(".metadata-group"),chartcontext.series.selectAll("scatter-dots").data(data).enter().append("svg:rect").attr("x",(function(d,i){return chartcontext.xScale(moment_timezone_default()(d.from).tz(vue_runtime_esm["default"].prototype.$timezone))})).attr("y",(function(d){return 0})).attr("width",(function(d,i){var from=chartcontext.xScale(moment_timezone_default()(d.from).tz(vue_runtime_esm["default"].prototype.$timezone)),to=chartcontext.xScale(moment_timezone_default()(d.to).tz(vue_runtime_esm["default"].prototype.$timezone)),diff=to-from;return diff<=4?4:diff})).attr("height",(function(d,i){return chartcontext.yScale(0)})).attr("stroke","black").attr("stroke-width",0).attr("opacity","0.5").attr("class","alarm-indication").on("mouseover",(function(d){chartcontext.hover=!1,chartcontext.dispatcher.call("customMouseOut",this,d,d3.mouse(this)),d3.select(this).transition().duration(500).attr("opacity","0.6");var typeTooltip=2,toolTipData=[{label:"Message",value:d.message}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},clickToOpen:!0,data:toolTipData,mode:typeTooltip};tooltip/* default */.Z.showTooltip(tooltipConfig,chartcontext)})).on("mouseout",(function(){chartcontext.hover=!0,d3.select(this).transition().duration(500).attr("opacity","0.5"),tooltip/* default */.Z.hideTooltip()})).on("click",(function(d){tooltip/* default */.Z.hideTooltip();var alarmID=d.id;chartcontext.$router.push({path:"/app/fa/faults/summary/"+alarmID})}))}},funnel={drawTrapezoids:function(chartObj){chartObj.series=chartObj.fchart.svg.select(".chart-group");var color=["#255aee","#3a6fff","#4f84ff","rgb(101,154,302)","rgb(122,175,323)","rgb(144,197,345)","rgb(165,218,366)"];chartObj.series.append("g");var max1=454,max2=70,may=200,yx=d3.scaleLinear().domain([0,may]).range([0,1.15*may]),px=function(d,i){return d+10*i},nx=function(d,i){return d-10*i},layers=d3.range(8).map((function(val,ind){return{values:[{x:px(max2,val),y:yx(may)},{x:nx(max1,val),y:yx(may)},{x:nx(px(max1,1),val),y:may},{x:px(nx(max2,1),val),y:may}]}})),line=d3.line().curve("linear-closed").x((function(d,i){return d.x})).y((function(d,i){return d.y})),stack=d3.stack().keys(d3.range(8)).offset(d3.stackOffsetWiggle),g=chartObj.series.selectAll(".funnel-group").data(stack(layers)).enter().append("g").attr("class","funnel-group");g.append("path").attr("d",(function(d){return line(d.coordinates)})).style("fill",(function(d){return color(d.sales_process)})),g.append("text").attr({y:function(d,i){return 4===d.coordinates.length?(d.coordinates[0].y-d.coordinates[1].y)/2+d.coordinates[1].y+5:(d.coordinates[0].y+d.coordinates[1].y)/2+10},x:function(d,i){return chartObj.fchart.getWidth()/2}}).style("text-anchor","middle").text((function(d){return d.sales_process})),d3.select("body").append("table").attr({id:"footer",width:chartObj.fchart.getWidth()+"px"}),d3.select("body #footer").append("tr").attr({class:"PykCharts-credits",id:"credit-datasource"}).append("td").style("text-align","left").html("<span style='pointer-events:none;'>Credits: </span><a href='http://pykcharts.com' target='_blank'>Pykcharts</a>")}},ckmeans_min=(__webpack_require__(162506),__webpack_require__(897389),__webpack_require__(196009)),heatmap={drawHeatMap:function(chartObj,callbackFunc){var data=chartObj.data.filter((function(rt){return!rt.violated_value})),margin=chartObj.fchart.getMargin(),width=chartObj.fchart.chartWidth+margin.left-margin.left/4,height=chartObj.fchart.chartHeight,svg=chartObj.fchart.svg,x=d3.scaleLinear().range([0,width]),y=d3.scaleTime().range([height,0]),z=d3.scaleLinear().range(["#1d7f01","#6cb302","#e9f501","#fda504","#fb5905","#fa0000"]),Ydata=(d3.scalePoint().range([1,12]).domain(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),["Jul 20","Jul 21","Jul 22","Jul 23","Jul 24","Jul 25","Jul 26","Jul 27","Jul 28","Jul 29","Jul 30",""]),timeScale=(d3.scalePoint().range([0,height]).domain(Ydata),d3.scalePoint().range([0,width]).domain(["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12p","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p",""])),timeScale2=d3.scalePoint().range([0,width]).domain(["12 AM","01 AM","02 AM","03 AM","04 AM","05 AM","06 AM","07 AM","08 AM","09 AM","10 AM","11 AM","12 PM","01 PM","02 PM","03 PM","04 PM","05 PM","06 PM","07 PM","08 PM","09 PM","10 PM","11 PM",""]);
// preparing chart
d3.scalePoint().range([0,6]).domain(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);moment_timezone_default()().tz(vue_runtime_esm["default"].prototype.$timezone).format(WeekDay),moment_timezone_default()().tz(vue_runtime_esm["default"].prototype.$timezone).format(fullDate);data.forEach((function(d){d.formatedlabel=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatDate),d.fullDate=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(WeekDay)+","+moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(fullDate),d.value=+d.value,d.heatData=+d.heatData,d.month=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(monthFormat),d.time=Number(moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(timeFormat)),d.monthInNumber=Number(moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format("M"))-1,d.yearInNumber=Number(moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format("YYYY")),d.timeString=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(newtimeFormat),d.monthAndYear=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(monthAndYear),d.dayMonthYear=moment_timezone_default()(d.label).tz(vue_runtime_esm["default"].prototype.$timezone).format(dayMonthYear)}));var ylabelData=[],ylabelRawData=[];var yLabelData2=[],fullData=[];
// Compute the scale domains.
var xMin=common/* default */.Z.getMinMaxNumberLabel(data).min,xMax=common/* default */.Z.getMinMaxNumberLabel(data).max,yMin=d3.min(data,(function(d){return d.value})),yMax=d3.max(data,(function(d){return d.value})),culsertdata=data.map((function(rt){return rt.value}));
// let zvalue = (yMax - yMin) / 4
// let dataMin = yMin
x.domain([1,25]),y.domain([xMax,xMin]);var result=(0,ckmeans_min/* default */.Z)(culsertdata,5);result[4]<yMax&&result.push(yMax),z.domain(result),
// Extend the x- and y-domain to fit the last bucket.
// For example, the y-bucket 3200 corresponds to values [3200, 3300].
ylabelRawData.push(""),yLabelData2.push("");var w=width/24,h=height/(yLabelData2.length-1),ytileRange=d3.scalePoint().range([0,height]).domain(yLabelData2),ylabelRange=d3.scalePoint().range([0,height]).domain(ylabelData),minValue=yMin,maxValue=yMax,container=svg.append("g").attr("width",width-margin.left).attr("height",height-(margin.top+margin.bottom)).attr("class","heatMap").attr("transform","translate("+margin.left/4+","+("top"===chartObj.options.legendPostion?parseInt(margin.top)+60:margin.top)+")");
// Add an x-axis with label.
container.append("g").attr("class","x axis").call(d3.axisTop().scale(timeScale).ticks(d3.timeHour).tickSize([0])).append("text").attr("class","label").attr("x",width).attr("y",margin.top+5).attr("text-anchor","start"),container.select(".x").selectAll("text"),
// .attr('transform', 'translate(' + w / 2 + ', 0 )')
// Add a y-axis with label.
container.append("g").attr("class","y axis").call(d3.axisLeft().scale(ylabelRange).ticks(ylabelData.length-1).tickSize([-width])).append("text").attr("class","label").attr("y",0).attr("text-anchor","end").attr("transform","rotate(-90)"),container.append("g").attr("class","yRight").append("line").attr("x1",width).attr("y1",0).attr("y2",height).attr("x2",width).attr("stroke","#9E9E9E").attr("class","heatmap-rightScale"),container.select(".y").selectAll("text").attr("transform","translate( -10, "+((height-(margin.top+margin.bottom))/(ylabelData.length-1)/2+10)+")rotate(90)").style("text-transform","uppercase").style("letter-spacing","0.6px"),container.selectAll(".tile").data(fullData).enter().append("rect").attr("class","tile_empty").attr("x",(function(d){return timeScale2(d.time)})).attr("y",(function(d){return ytileRange(d.date)})).attr("width",w).attr("height",h).style("fill",(function(d){return"#f8f8f8"})).on("mousemove",(function(d){})).on("mouseover",(function(d){var tooltipData=[{label:chartObj.options.xaxis.title,value:d.day+","+d.label},{label:chartObj.options.y1axis.title,value:"No Data"}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:"#f8f8f8"};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){tooltip/* default */.Z.hideTooltip()})),container.selectAll(".tile").data(data).enter().append("rect").attr("class","tile").attr("x",(function(d){return timeScale2(d.timeString)})).attr("y",(function(d){return ytileRange(d.dayMonthYear)})).attr("width",w).attr("height",h).style("fill",(function(d){return d.violated_value?"#f8f8f8":d.value<=minValue?d.value>=maxValue?"#fa1000":"#1b7f01":z(d.value)})).on("mousemove",(function(d){})).on("click",(function(d){var data={view:!0,chartData:d,options:chartObj.options};callbackFunc("click",data),tooltip/* default */.Z.hideTooltip()})).on("mouseover",(function(d){var tooltipData=[{label:chartObj.options.xaxis.title,
// label: d.dayMonthYear + ((d.timeString === '12 AM') ? '12 AM to 01 AM' : ((d.timeString === '11 PM') ? '11 PM to 12 AM' : (' ' + d.timeString + ' to ' + (+d.timeString)))),
value:d.fullDate},{label:chartObj.options.y1axis.title,value:d.violated_value?"No Data":d.formatted_value}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:d.violated_value?"#f8f8f8":d.value<=minValue?d.value>=maxValue?"#fa1000":"#1b7f01":z(d.value)};tooltip/* default */.Z.showTooltip(tooltipConfig,chartObj.fchart)})).on("mouseout",(function(d){tooltip/* default */.Z.hideTooltip()}));var svgDefs=container.append("defs"),mainGradient=svgDefs.append("linearGradient").attr("id","legendGradient");
// Create the stops of the main gradient. Each stop will be assigned
// a class to style the stop using CSS.
// mainGradient.append('stop')
//   .style('stop-color', function (d) {
//     return z(legendData[0].value)
//   })
//   .attr('offset', '0%')
// mainGradient.append('stop')
//   .style('stop-color', function (d) {
//     return z(legendData[1].value)
//   })
//   .attr('offset', '25%')
// mainGradient.append('stop')
//   .style('stop-color', function (d) {
//     return z(legendData[2].value)
//   })
//   .attr('offset', '50%')
// mainGradient.append('stop')
//   .style('stop-color', function (d) {
//     return z(legendData[3].value)
//   })
//   .attr('offset', '75%')
// mainGradient.append('stop')
//   .style('stop-color', function (d) {
//     return z(legendData[4].value)
//   })
//   .attr('offset', '100%')
mainGradient.append("stop").style("stop-color",(function(d){return z(result[0])})).attr("offset","0%"),mainGradient.append("stop").style("stop-color",(function(d){return z(result[1])})).attr("offset","25%"),mainGradient.append("stop").style("stop-color",(function(d){return z(result[2])})).attr("offset","50%"),mainGradient.append("stop").style("stop-color",(function(d){return z(result[3])})).attr("offset","75%"),mainGradient.append("stop").style("stop-color",(function(d){return z(yMax)})).attr("offset","100%");var legendContainer=container.append("g"),legend=legendContainer.selectAll(".heatLegend").data(result),legendSection=legend.enter().append("g").attr("class","heatLegend");
// legendSection.append('rect')
//   .attr('x', function (d, i) {
//     return (((width / 4) / 3) * (i + 4))
//   })
//   .attr('y', function (d) {
//     if (chartContext.getOptions().legendPostion === 'top') {
//       return -45
//     }
//     else {
//       return height + (height / 10)
//     }
//   })
//   .attr('width', (width / 4) / 3)
//   .attr('height', 10)
//   .style('fill', function (d) {
//     return z(d.value)
//   })
legendSection.append("rect").attr("x",(function(d,i){return width/4/3+width/4})).attr("y",(function(d){return"top"===chartObj.options.legendPostion?-45:height+10})).attr("width",width/3).attr("height",10).style("fill","url(#legendGradient)"),
// legendSection.append('text')
//   .attr('class', 'legendLabel')
//   .attr('x', function (d, i) {
//     return (((width / 4) / 3) * (i + 5)) - 55
//   })
//   .attr('y', function (d) {
//     if (chartContext.getOptions().legendPostion === 'top') {
//       return -55
//     }
//     else {
//       return height + (height / 10) + 25
//     }
//   })
//   .text(function (d, i) {
//     return ' ' + d.value + ' ' + (chartContext.getOptions().y1axis.unit ? chartContext.getOptions().y1axis.unit : '')
//   })
legendSection.append("text").attr("class","legendLabel").attr("x",(function(d,i){return result.length>5?5===i?width/7/3*(i+8):width/7/3*(i+7):width/5/3*(i+5)})).attr("y",(function(d){return"top"===chartObj.options.legendPostion?-55:height+35})).text((function(d,i){if(result.length>5){if(0===i||3===i||5===i)return d.toFixed(2)+" "+(chartObj.options.y1axis.unit?chartObj.options.y1axis.unit:"")}else if(0===i||2===i||4===i)return d.toFixed(2)+" "+(chartObj.options.y1axis.unit?chartObj.options.y1axis.unit:"")}))}},runtime=(__webpack_require__(313873),__webpack_require__(414469),__webpack_require__(838197),{drawBool:function(chartContext){var margin=chartContext.margin,width=chartContext.chartWidth,height=chartContext.chartHeight,data=chartContext.getData(),renderData=[];data.forEach((function(currentValue,index,arr){(0===index||index+1===arr.length||currentValue.value!==arr[index-1].value)&&renderData.push(currentValue)}));var xscale=d3.scaleTime().domain([renderData[0].label,renderData[renderData.length-1].label]).range([0,width-(margin.right+margin.left)]),onColor=chartContext.options.onColor?chartContext.options.onColor:"#aa70ae",offColor=chartContext.options.offColor?chartContext.options.offColor:"#F7F8F9",container=chartContext.svg.append("g").attr("width",width-(margin.right+margin.left)).attr("height",height-(margin.top+margin.bottom)).attr("transform","translate("+margin.left+","+margin.bottom+")");container.selectAll("rect-bool").data(renderData).enter().append("rect").attr("x",(function(d,i){return xscale(d.label)})).attr("y",(function(d){return 0})).attr("width",(function(d,i){var from=xscale(d.label);if(renderData.length===i+1)return chartContext.chartWidth-(margin.right+margin.left)-from;var to=xscale(renderData[i+1].label);return to-from})).attr("height",(function(d,i){return height})).attr("opacity","0.5").attr("fill",(function(d){return 0===d.value?offColor:onColor})).on("mouseover",(function(d,i){var processLabel=renderData[i+1].label?[d.label,renderData[i+1].label]:d.label,tooltipData=[{label:chartContext.getOptions().xaxis.title,value:processLabel,axis:chartContext.getOptions().xaxis},{label:chartContext.getOptions().y1axis.title,value:d.value,axis:chartContext.getOptions().y1axis}],tooltipConfig={position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:"#95ACD0"};tooltip/* default */.Z.showTooltip(tooltipConfig,chartContext)})).on("mouseout",(function(d,i){tooltip/* default */.Z.hideTooltip()}));var xAxis=d3.axisBottom(xscale).tickSize([0]).tickPadding(15);formatter/* default */.ZP.formatAxis(xAxis,chartContext.getOptions().xaxis),container.append("g").attr("transform","translate(0,"+height+")").attr("class","x-axis-group axis").call(xAxis).append("text").attr("x",width).attr("y",0).attr("text-anchor","start"),container.append("text").attr("x",20).attr("y",height/2).text(chartContext.getOptions().chartname).attr("fill","#333333").attr("font-size","16px")}}),boolean_MomentRange=__webpack_require__(923542),core_boolean={drawBoolean:function(chartcontext){var datas=chartcontext.fchart.data.map((function(rt){return rt.data2}));chartcontext.datas=datas;var options=chartcontext.fchart.data.map((function(rt){return rt.title})),taskStatus={0:"bar",1:"bar-null"},names=[];
// let k = chartcontext.fchart.data[0].options.booleanKey
options.length&&(names=options);var data=[];if(datas.length)for(var i=0;i<datas.length;i++)data=data.concat(data,datas[i]);data.sort((function(a,b){return a.endTime-b.endTime}));var format="%H:%M",gantt=this.boolean(data,chartcontext).taskTypes(names).taskStatus(taskStatus).tickFormat(format);chartcontext.data=data,gantt(data,chartcontext)},boolean:function(data,chartcontext){var FIT_TIME_DOMAIN_MODE="fit",margin={top:50,right:80,bottom:0,left:60},min=chartcontext.options.date_range&&chartcontext.options.date_range.length?chartcontext.options.date_range[0]:null,max=chartcontext.options.date_range&&chartcontext.options.date_range.length?chartcontext.options.date_range[1]:null;chartcontext.min=min,chartcontext.max=max;d3.timeDay(min),d3.timeHour.offset(max);var timeDomainMode=FIT_TIME_DOMAIN_MODE,taskTypes=[],taskStatus=[],height=chartcontext.fchart.chartHeight?chartcontext.fchart.chartHeight:400,diff=chartcontext.fchart.getSecondChartType&&"timeseries"!==chartcontext.fchart.getSecondChartType?0:21,transulate=chartcontext.fchart.getSecondChartType&&"timeseries"!==chartcontext.fchart.getSecondChartType?35:0,width=chartcontext.fchart.chartWidth?chartcontext.fchart.chartWidth:800,keys=["0","1"];chartcontext.keys=keys;var x,y,xAxis,yAxis,monthAxis,tickFormat="%H:%M",keyFunction=function(d){return d.startTime+d.name+d.endTime},rectTransform=function(d){if(chartcontext.datas&&1===chartcontext.datas.length){var _transulate="";return _transulate=chartcontext.fchart.layout&&180===chartcontext.fchart.layout.height?(height-margin.left-margin.right-40)/2+22.5:(height-margin.left-margin.right-10)/2+25,"translate("+(x(d.startTime)+margin.left)+","+(y(d.name)+_transulate)+")"}return"translate("+(x(d.startTime)+margin.left)+","+y(d.name)+")"};function initAxis(min,max,chartcontext){function getXAxisDomain(dateRange,axis){var momentRange=boolean_MomentRange.extendMoment(moment_timezone_default()),range=momentRange.range(new Date(dateRange[0]),new Date(dateRange[1])),formatConfig=formatter/* default */.ZP.getDateFormatConfig(axis);return Array.from(range.by(formatConfig.interval)).map((function(r){return new Date(moment_timezone_default()(r.valueOf()).tz(vue_runtime_esm["default"].prototype.$timezone).startOf(formatConfig.period).valueOf())}))}
/* month axis */
if(x=chartcontext.fchart.layout&&180===chartcontext.fchart.layout.height&&chartcontext.datas&&1===chartcontext.datas.length?d3.scaleTime().domain([min,max]).range([0,width+diff]):d3.scaleTime().domain([min,max]).range([0,width-margin.left-margin.right]),y=d3.scaleBand().domain(taskTypes).rangeRound([0,height-margin.top-margin.bottom],.1),chartcontext&&chartcontext.options&&("date_time"===chartcontext.options.xaxis.datatype||"date"===chartcontext.options.xaxis.datatype)){var formatConfig=formatter/* default */.ZP.getDateFormatConfig(chartcontext.options.xaxis),idx=0;monthAxis=d3.axisBottom().scale(x).tickFormat((function(d){idx++;var minorVal=moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatConfig.minor);if(1!==idx){if("hour"===formatConfig.period&&"12am"!==minorVal)return"";if("day"===formatConfig.period&&"1"!==minorVal)return"";if("week"===formatConfig.period&&"1"!==minorVal)return"";if("month"===formatConfig.period&&"Jan"!==minorVal)return""}return formatConfig.major?moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(formatConfig.major):""})).tickSizeOuter(0).tickPadding(15).tickSize(0)}var xaxisConfig=chartcontext.options.xaxis?chartcontext.options.xaxis:{datatype:"string"},xDomain=getXAxisDomain(chartcontext.options.date_range,xaxisConfig),days=chartcontext.options.timeObject?chartcontext.options.timeObject.field:null,ticks="D"===days?15:20;ticks="W"===days?7:ticks,ticks="M"===days?15:ticks,ticks="Y"===days?12:ticks,chartcontext.fchart.chartWidth>500?ticks=Math.round(ticks):chartcontext.fchart.chartWidth>300?ticks=Math.round(ticks/3):chartcontext.fchart.chartWidth>200?ticks=Math.round(ticks/6):chartcontext.fchart.chartWidth>0&&chartcontext.fchart.chartWidth<200&&(ticks=Math.round(ticks/9));var ticksSplit=Math.round(xDomain.length/ticks);xAxis=d3.axisBottom().scale(x).tickFormat((function(d){if(chartcontext&&chartcontext.options&&("date_time"===chartcontext.options.xaxis.datatype||"date"===chartcontext.options.xaxis.datatype)){var _formatConfig=formatter/* default */.ZP.getDateFormatConfig(chartcontext.options.xaxis);return _formatConfig.minor?moment_timezone_default()(d).tz(vue_runtime_esm["default"].prototype.$timezone).format(_formatConfig.minor):""}})).tickSizeOuter(0).tickPadding(7).tickSize(0).ticks(ticks).tickValues(xDomain.filter((function(_d,i){return!(i%ticksSplit)}))),monthAxis.tickValues(xDomain.filter((function(d,i){return!(i%ticksSplit)}))),
// xAxis = d3.axisBottom().scale(x).tickFormat(d3.timeFormat(tickFormat)).tickSize([0]).tickPadding(8)
yAxis=d3.axisLeft().scale(y).tickSize(0)}function gantt(data,chartcontext){initAxis(chartcontext.min,chartcontext.max,chartcontext),height=chartcontext.fchart.chartHeight?chartcontext.fchart.chartHeight:400,width=chartcontext.fchart.chartWidth?chartcontext.fchart.chartWidth:800;var svg=chartcontext.fchart.svg;return chartcontext.fchart.layout&&180===chartcontext.fchart.layout.height&&chartcontext.datas&&1===chartcontext.datas.length?chartcontext.booleanConatiner=svg.append("g").attr("class","boolean-conatiner").attr("transform","translate("+transulate+",155)"):chartcontext.booleanConatiner=svg.append("g").attr("class","boolean-conatiner").attr("transform","translate("+margin.left+","+margin.left+" )"),chartcontext.booleanConatiner.selectAll("boolean-conatiner").data(data,keyFunction).enter().append("rect").attr("class",(function(d){return null==taskStatus[d.fo]?"bar":taskStatus[d.value]})).attr("y",0).attr("transform",rectTransform).attr("height",(function(){var length=chartcontext.datas.length;return chartcontext.fchart.layout&&180===chartcontext.fchart.layout.height&&chartcontext.datas&&1===chartcontext.datas.length?29:(height-margin.top-margin.bottom-(height-margin.top-margin.bottom)/3)/(1===length?5:length)})).attr("width",(function(d){return x(d.endTime)-x(d.startTime)})).attr("fill",(function(d){
// return colors.default[chartcontext.keys.indexOf(d.value + '')]
var color=chartcontext.options.color&&chartcontext.options.color.split(",");return"1"===d.value||1===d.value||!0===d.value||"true"===d.value||"on"===d.value||"ON"===d.value?color&&2===color.length?color[0]:"#74d2c8":color&&2===color.length?color[1]:"#f3fafa"})).on("mouseover",(function(d){chartcontext.hover=!1,d.value="1"===d.value||1===d.value||!0===d.value||"true"===d.value||"on"===d.value||"ON"===d.value?"ON":"0"===d.value||0===d.value||!1===d.value||"false"===d.value||"off"===d.value||"OFF"===d.value?"OFF":d.value;var diffTime=moment_timezone_default()(d.endTime).diff(d.startTime),duration=moment_timezone_default().duration(diffTime),data=chartcontext.options.timeObject?chartcontext.options.timeObject.field:null,description="D"===data?" "+duration.hours()+" hours "+duration.minutes()+" minutes":" "+duration.days()+" days";description=" "+duration.days()+" days"===" 0 days"?" "+duration.hours()+" hours "+duration.minutes()+" minutes":" "+duration.days()+" days";
// description = (' ' + duration.days() + ' hours' === ' 0 hours') ? ' ' + duration.days() + ' hours' + ' ' + duration.minutes() + ' minutes' : ' ' + duration.days() + ' hours'
var color=chartcontext.options.color&&chartcontext.options.color.split(","),tooltipData=[{label:chartcontext.options.xaxis.title,value:moment_timezone_default()(d.startTime).tz(vue_runtime_esm["default"].prototype.$timezone).format("DD MMM, HH:mm a")+" - "+moment_timezone_default()(d.endTime).tz(vue_runtime_esm["default"].prototype.$timezone).format("DD MMM, hh:mm a"),axis:chartcontext.options.xaxis},{label:chartcontext.options.y1axis?chartcontext.options.y1axis.title:chartcontext.options.y2axis.title,value:"1"===d.value||1===d.value||!0===d.value||"true"===d.value||"on"===d.value||"ON"===d.value?"ON":!1===d.value||"false"===d.value||"off"===d.value||"OFF"===d.value?"OFF":d.value,axis:chartcontext.options.y1axis?chartcontext.options.y1axis:chartcontext.options.y2axis,description:description}],tooltipConfig={title1:d.title,mode:"boolean",position:{left:d3.event.pageX,top:d3.event.pageY},data:tooltipData,color:"1"===d.value||1===d.value?color&&2===color.length?color[0]:"#74d2c8":color&&2===color.length?color[1]:"#f3fafa"};d.formatted_date&&(tooltipConfig.title1=d.formatted_date),tooltip/* default */.Z.showTooltip(tooltipConfig,chartcontext)})).on("mouseout",(function(_d){chartcontext.hover=!0,tooltip/* default */.Z.hideTooltip()})),chartcontext.booleanConatiner.append("g").attr("class","x axis").attr("transform","translate("+margin.left+","+(height-margin.top-margin.bottom)+")").transition().call(xAxis),chartcontext.booleanConatiner.append("g").attr("class","month-axis").attr("transform","translate("+margin.left+","+(height+10-margin.top-margin.bottom)+")").transition().call(monthAxis),chartcontext.yconatiner=chartcontext.booleanConatiner.append("g").attr("class","y  y-axis-group axis").transition().call(yAxis),chartcontext.datas&&1===chartcontext.datas.length?chartcontext.fchart.layout&&180===chartcontext.fchart.layout.height?chartcontext.yconatiner.attr("transform","translate(120, -55)"):chartcontext.yconatiner.attr("transform","translate(180, -45)"):chartcontext.yconatiner.attr("transform","translate("+(margin.left-10)+", -5)"),gantt}return initAxis(min,max,chartcontext),gantt.redraw=function(data){
// initTimeDomain()
initAxis();var svg=d3.select("svg"),ganttChartGroup=svg.select(".gantt-chart"),rect=ganttChartGroup.selectAll("rect").data(data,keyFunction);return rect.enter().insert("rect",":first-child").attr("rx",5).attr("ry",5).attr("class",(function(d){return null==taskStatus[d.value]?"bar":taskStatus[d.value]})).transition().attr("y",0).attr("transform",rectTransform).attr("height",(function(){return y.range()[1]})).attr("width",(function(d){return x(d.endTime)-x(d.startTime)})),rect.transition().attr("transform",rectTransform).attr("height",(function(){return y.range()[1]})).attr("width",(function(d){return x(d.endTime)-x(d.startTime)})),rect.exit().remove(),svg.select(".x").transition().call(xAxis),svg.select(".y").transition().call(yAxis),gantt},gantt.margin=function(value){return arguments.length?(margin=value,gantt):margin},
// gantt.timeDomain = function (value) {
//   if (!arguments.length) { return [ timeDomainStart, timeDomainEnd ]}
//   timeDomainStart = +value[0], timeDomainEnd = +value[1]
//   return gantt
// }
gantt.timeDomainMode=function(value){return arguments.length?(timeDomainMode=value,gantt):timeDomainMode},gantt.taskTypes=function(value){return arguments.length?(taskTypes=value,gantt):taskTypes},gantt.taskStatus=function(value){return arguments.length?(taskStatus=value,gantt):taskStatus},gantt.width=function(value){return arguments.length?(width=+value,gantt):width},gantt.height=function(value){return arguments.length?(height=+value,gantt):height},gantt.tickFormat=function(value){return arguments.length?(tickFormat=value,gantt):tickFormat},gantt}};
// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.map.js
},
/***/232406:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* export default binding */return __WEBPACK_DEFAULT_EXPORT__}
/* harmony export */});
/* harmony import */var _Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(566347),d3__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(450886),__webpack_require__(538077),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(879288),__webpack_require__(212826),__webpack_require__(947522),__webpack_require__(689730),__webpack_require__(348727)),_helpers_constant__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(150505),_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(676240),_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(460895),moment_timezone__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(480008),moment_timezone__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_15__),vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(720144),charts_helpers_colors__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(519898),defaultColors=["#a6cee3","#ff7f00","#b2df8a","#1f78b4","#fdbf6f","#33a02c","#cab2d6","#6a3d9a","#fb9a99","#e31a1c","#ffff99","#b15928"];
/* harmony import */
// utils
function functorkey(v){return"function"===typeof v?v:function(d){return d[v]}}function functorkeyscale(v,scale){var f="function"===typeof v?v:function(d){return d[v]};return function(d){return scale(f(d))}}function keyNotNull(k){return function(d){return d.hasOwnProperty(k)&&null!==d[k]&&!isNaN(d[k])}}function fk(v){return function(d){return d[v]}}
/* harmony default export */function __WEBPACK_DEFAULT_EXPORT__(){
// default
var route,storkeWidth,height=880,width=600,drawerHeight=0,drawerTopMargin=0,margin={top:40,right:40,bottom:55,left:60},series=[],isDual=!1,yscale=d3__WEBPACK_IMPORTED_MODULE_11__.scaleLinear(),y2scale=d3__WEBPACK_IMPORTED_MODULE_11__.scaleLinear(),xscale=d3__WEBPACK_IMPORTED_MODULE_11__.scaleTime(),xscaleOrg=d3__WEBPACK_IMPORTED_MODULE_11__.scaleTime();yscale.label="",xscale.label="",y2scale.label="";var svg,container,serieContainer,annotationsContainer,alarmsContainer,drawerContainer,mousevline,fullxscale,tooltipDiv,brush=d3__WEBPACK_IMPORTED_MODULE_11__.brushX();yscale.setformat=function(value){var format=".2s";return value<10?format=".2f":value<100&&(format=".1f"),d3__WEBPACK_IMPORTED_MODULE_11__.format(format)(value)},y2scale.setformat=function(value){return value},xscale.setformat=xscale.tickFormat(),xscaleOrg.setformat=xscaleOrg.tickFormat();
// default tool tip function
var _tipFunction=function(date,series,alarms){var simpleTooltip=series.length<=1,baseline=series.find((function(sr){return sr.options.dashed||sr.options.baseLineId}));baseline||(simpleTooltip=!0);var tooltipData=[],alarmsData=[],xaxis=null;if(
// let clickToOpen = false
series.filter((function(d){return void 0!==d.item&&null!==d.item})).map((function(d){xaxis=d.options.xaxis;var formatConfig=_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.ZP.getDateFormatConfig(xaxis),tipDate=d.item.orig_label?d.item.orig_label:d.item.label;if(alarms&&alarms.length){var toDate=alarms[0].to<=0?new Date(alarms[0].from.getTime()+12e4):alarms[0].to;date>=alarms[0].from&&date<=toDate&&alarmsData.push({isAlarms:!0,label:"Message",value:alarms[0].message})}d.inactive||tooltipData.push({label:simpleTooltip?d.options.label:moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(tipDate).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone).format(formatConfig.tooltip),type:simpleTooltip?"circle":"line",lineStyle:d.options.dashed?"dashed":"solid",color:d.options.color,value:_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.ZP.formatValue(d.item[d.aes.y],d.options.axis),unit:""})})),tooltipData.length){var formatConfig=_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.ZP.getDateFormatConfig(xaxis),tooltipConfig={position:{left:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageX,top:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageY},mode:1,title:simpleTooltip?moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(date).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone).format(formatConfig.tooltip):series[0].options.axis.title,data:tooltipData,clickToOpen:!1,alarm:alarmsData};_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.showTooltip1(tooltipConfig)}};function createLines(serie){var aes=serie.aes;serie.options.interpolate?
// translate curvenames
serie.options.interpolate="monotone"===serie.options.interpolate?"monotoneX":"step-after"===serie.options.interpolate?"stepAfter":"step-before"===serie.options.interpolate?"stepBefore":serie.options.interpolate:serie.options.interpolate="linear";
// to uppercase for d3 curve name
var curveName=serie.options.interpolate;serie.interpolationFunction=_helpers_constant__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */.Z.curveMap[curveName];var line=d3__WEBPACK_IMPORTED_MODULE_11__.line().x(functorkeyscale(aes.x,xscale)).y(functorkeyscale(aes.y,yscale)).curve(serie.interpolationFunction).defined(keyNotNull(aes.y)),area=d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(aes.x,xscale)).y0(functorkeyscale(aes.y,yscale)).y1(height).defined(keyNotNull(aes.y)),line2Dual=d3__WEBPACK_IMPORTED_MODULE_11__.line().x(functorkeyscale(aes.x,xscale)).y(functorkeyscale(aes.y,y2scale)).curve(serie.interpolationFunction).defined(keyNotNull(aes.y)),area2Dueal=d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(aes.x,xscale)).y0(functorkeyscale(aes.y,y2scale)).y1(height).defined(keyNotNull(aes.y));if(serie.aixs?(serie.line=line2Dual,serie.area=area2Dueal):(serie.line=line,serie.area=area),serie.options.label=serie.options.label||serie.options.name||serie.aes.label||serie.aes.y,aes.ci_up&&aes.ci_down){var ciArea=d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(aes.x,xscale)).y0(functorkeyscale(aes.ci_down,yscale)).y1(functorkeyscale(aes.ci_up,yscale)).curve(serie.interpolationFunction);serie.ciArea=ciArea}aes.diff&&(serie.diffAreas=[d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(aes.x,xscale)).y0(functorkeyscale(aes.y,yscale)).y1((function(d){return d[aes.y]>d[aes.diff]?yscale(d[aes.diff]):yscale(d[aes.y])})).curve(serie.interpolationFunction),d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(aes.x,xscale)).y1(functorkeyscale(aes.y,yscale)).y0((function(d){return d[aes.y]<d[aes.diff]?yscale(d[aes.diff]):yscale(d[aes.y])})).curve(serie.interpolationFunction)]),serie.find=function(date){var bisect=d3__WEBPACK_IMPORTED_MODULE_11__.bisector(fk(aes.x)).left,i=bisect(serie.data,date)-1;return-1===i||i===serie.data.length-1&&serie.data.length>1&&Number(date)-Number(serie.data[i][aes.x])>Number(serie.data[i][aes.x])-Number(serie.data[i-1][aes.x])?null:serie.data[i];
// look to far after serie is defined
}}function drawSerie(serie){if(serie.key||(serie.key=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),storkeWidth="area"===serie.options.chartType?1.2:1.8,serie.linepath)serie.linepath.attr("d",serie.line),"area"===serie.options.chartType&&serie.areapath.attr("d",serie.area),serie.ciArea&&serie.cipath.attr("d",serie.ciArea),serie.diffAreas&&(serie.diffpaths[0].attr("d",serie.diffAreas[0]),serie.diffpaths[1].attr("d",serie.diffAreas[1]));else{var areapath,linepath=serieContainer.append("path").datum(serie.data).attr("class","d3_timeseries line").attr("d",serie.line).attr("id",serie.key).attr("stroke",serie.options.color).attr("stroke-linecap","round").attr("stroke-width",serie.options.width||storkeWidth).attr("fill","none");"area"===serie.options.chartType&&(areapath=serieContainer.append("path").datum(serie.data).attr("class","layer").attr("d",serie.area).style("opacity",.24).style("fill",(function(d){return serie.options.color}))),serie.options.dashed&&(!0===serie.options.dashed||"dashed"===serie.options.dashed?serie["stroke-dasharray"]="5,5":"long"===serie.options.dashed?serie["stroke-dasharray"]="10,10":"dot"===serie.options.dashed?serie["stroke-dasharray"]="2,4":serie["stroke-dasharray"]=serie.options.dashed,linepath.attr("stroke-dasharray",serie["stroke-dasharray"])),serie.linepath=linepath,serie.areapath=areapath,serie.ciArea&&(serie.cipath=serieContainer.insert("path",":first-child").datum(serie.data).attr("class","d3_timeseries ci-area").attr("d",serie.ciArea).attr("stroke","none").attr("fill",serie.options.color).attr("opacity",serie.options.ci_opacity||.3)),serie.diffAreas&&(serie.diffpaths=serie.diffAreas.map((function(area,i){var c=(serie.options.diff_colors?serie.options.diff_colors:["green","red"])[i];return serieContainer.insert("path",(function(){return linepath.node()})).datum(serie.data).attr("class","d3_timeseries diff-area").attr("d",area).attr("stroke","none").attr("fill",c).attr("opacity",serie.options.diff_opacity||.5)})))}}function drawAlarms(alarms){if(alarms){alarmsContainer.rect&&alarmsContainer.rect.remove();var rect=alarmsContainer.selectAll("alarm-pointers").data(alarms).enter().append("svg:rect").attr("x",(function(d,i){return xscale(d.from)})).attr("y",(function(d){return 0})).attr("width",(function(d,i){var from=xscale(moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(d.from).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone)),to=xscale(moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(d.to).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone)),diff=to-from;return diff<=4?4:diff})).attr("height",(function(d,i){return yscale(0)})).attr("stroke","black").attr("stroke-width",0).attr("opacity","0.5").on("click",(function(d){clickAlarm(d)})).attr("class","alarm-indication");alarmsContainer.rect=rect,alarmsContainer.rect.on("click",(function(d){clickAlarm(d)})).on("mouseover",(function(d){var typeTooltip=2,toolTipData=[{label:"Message",value:d.message}],tooltipConfig={position:{left:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageX,top:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageY},clickToOpen:!0,data:toolTipData,mode:typeTooltip};_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.showTooltip1(tooltipConfig)})).on("mouseout",(function(d){_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.hideTooltip()}))}}function getTextWidth(text){
// re-use canvas object for better performance
var textWidthCanvas=null,canvas=textWidthCanvas||(textWidthCanvas=document.createElement("canvas")),context=canvas.getContext("2d"),metrics=context.measureText(text);return metrics.width}function drawLegends(series,elm,width){elm&&(elm.innerHTML="");var firstRowLength=0,secoundRowLength=0,firstRowComplete=!1,secoundRowComplete=!1,index=series.length;series.forEach((function(element,i){var len=getTextWidth(element.options.label)+50;if(firstRowLength+len<width-30&&!firstRowComplete?(1,firstRowLength+=len):firstRowComplete=!0,firstRowComplete){var len2=getTextWidth(element.options.label)+50;secoundRowLength+len2<width-70?(1,secoundRowLength+=len2):(secoundRowComplete||(index=i),secoundRowComplete=!0)}}));var baseline=series.find((function(sr){return sr.options.dashed||sr.options.baseLine}));if(!baseline){var sliceSeries=series.slice(0,index),legendsContainer=d3__WEBPACK_IMPORTED_MODULE_11__.select(elm).selectAll("legend").data(sliceSeries),legendRow=legendsContainer.enter().append("div").attr("class","d3_timeseries legends").append("div").attr("class","legend-entry");if(legendRow.append("div").attr("class",(function(d,i){return baseline?"linesmall legend-color":"circlesmall legend-color"})).style("border",(function(d,i){return baseline?d.options.dashed?"1px dashed "+d.options.color:"1px solid "+d.options.color:""})).style("background",(function(d,i){if(!baseline)return d.options.color})),legendRow.append("div").attr("class","legend-label").text((function(d,i){return d.options.label})),legendRow.on("click",(function(d,i){var inactive=!d.inactive,newOpacity=inactive?0:1;d.linepath.style("opacity",newOpacity),d.areapath&&d.areapath.style("opacity",0===newOpacity?0:.24),d3__WEBPACK_IMPORTED_MODULE_11__.select(this).classed("inactive",inactive),d.inactive=inactive})),index!==series.length){for(var data=series.slice(index,series.length),tooltipContent="",i=0;i<data.length;i++)tooltipContent+='<div style="padding: 8px 16px;min-height:40px;align-items: center;display: flex;justify-content: row;">',tooltipContent+='<div class="circlesmall legend-color" style="background: '+data[i].options.color+'"></div>',tooltipContent+='<div class="legend-label" style="font-size: 12px;padding-left: 10px;">'+data[i].options.label+"</div>",tooltipContent+="</div>";var tip=d3__WEBPACK_IMPORTED_MODULE_11__.select("body").append("div").attr("class","tip").html(tooltipContent).style("box-shadow","0 5px 10px rgba(0,0,0,0.12)").style("background","#fff").style("padding","5px").style("position","absolute").style("max-width","250px").style("display","none").style("z-index","4").on("mouseover",(function(d,i){tip.transition().duration(100)})).on("mouseout",(function(d,i){tip.style("display","none").transition().duration(1e3)})),textcontent="+"+data.length,legendsDropdownContainer=d3__WEBPACK_IMPORTED_MODULE_11__.select(elm).append("div").style("padding","5px 2px").style("font-size","12px").style("cursor","pointer");legendsDropdownContainer.text(textcontent).on("mouseover",(function(e){tip.transition().duration(0),tip.style("top",d3__WEBPACK_IMPORTED_MODULE_11__.event.pageY+5+"px"),tip.style("left",d3__WEBPACK_IMPORTED_MODULE_11__.event.pageX+"px"),tip.style("display","block")})).on("mouseout",(function(d,i){tip.transition().delay(1e3).style("display","none")}))}}}function updatefocusRing(xdate){var s=annotationsContainer.selectAll("circle.d3_timeseries.focusring"),focusing=d3__WEBPACK_IMPORTED_MODULE_11__.select(".cross-hair");focusing.style("display",null),s=null==xdate?s.data([]):s.data(series.map((function(s){return{x:xdate,item:s.find(xdate),aes:s.aes,axis:s.aixs,inactive:s.inactive,color:s.options.color}})).filter((function(d){return void 0!==d.item&&null!==d.item&&null!==d.item[d.aes.y]&&!isNaN(d.item[d.aes.y])&&!d.inactive})));var xPosition=0;s.transition().duration(50).attr("cx",(function(d){return xPosition=xscale(d.item[d.aes.x]),xscale(d.item[d.aes.x])})).attr("cy",(function(d){return d.axis?y2scale(d.item[d.aes.y]):yscale(d.item[d.aes.y])})),s.enter().append("circle").attr("class","d3_timeseries focusring").attr("fill","none").attr("stroke-width",2).attr("r",5).attr("stroke",fk("color")),mousevline.attr("transform",(function(d){return"translate("+(margin.left+xPosition)+","+margin.top+")"})).style("opacity",(function(d){return d.visible?1:0})),s.exit().remove()}function updateTip(xdate,alarms){if(null==xdate)tooltipDiv.style("opacity",0),_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.hideTooltip();else{var s=series.map((function(s){return{item:s.find(xdate),aes:s.aes,inactive:s.inactive,options:s.options}}));tooltipDiv.style("opacity",.9).style("left",margin.left+5+xscale(xdate)+"px").style("top","0px").html(_tipFunction(xdate,s,alarms))}}function drawMiniDrawer(){var smallyscale=yscale.copy().range([drawerHeight-30,0]),serie=series[0],area=d3__WEBPACK_IMPORTED_MODULE_11__.area().x(functorkeyscale(serie.aes.x,fullxscale)).y0(functorkeyscale(serie.aes.y,smallyscale)).y1((function(d){return drawerHeight-30})).curve(serie.interpolationFunction).defined(keyNotNull(serie.aes.y)),linepath=drawerContainer.insert("path",":first-child").datum(serie.data).attr("class","d3_timeseries.line").attr("transform","translate(0,"+(drawerTopMargin+10)+")").attr("d",area).attr("stroke",(function(d){var theme=window.localStorage.getItem("theme");return theme&&"black"===theme?"#eff2f550":"#eff2f5"})).attr("stroke-width",serie.options.width||1.5).attr("fill",(function(d){var theme=window.localStorage.getItem("theme");return theme&&"black"===theme?"#eff2f550":"#eff2f5"}));serie.hasOwnProperty("stroke-dasharray")&&linepath.attr("stroke-dasharray",serie["stroke-dasharray"])}function drawsafeLimit(chartContext,config){if(chartContext.options.safelimit&&chartContext.options.safelimit.length)for(var safelimit=chartContext.options.safelimit,_loop=function(i){var safeLimitLineClass="safelimit-line",safeLimitLabelClass="safelimit-label",safeLimitValueClass="safelimit-value";safelimit[i].lineStyle?(safeLimitLineClass=safeLimitLineClass+"-"+safelimit[i].lineStyle,safeLimitLabelClass=safeLimitLabelClass+"-"+safelimit[i].lineStyle,safeLimitValueClass=safeLimitValueClass+"-"+safelimit[i].lineStyle):safeLimitLineClass+="-default";var safeLimits=svg.append("g").attr("transform","translate("+config.margin.left+","+config.margin.top+")");safeLimits.append("circle").attr("cx",config.isDual?config.width-(config.margin.left+config.margin.right):0).attr("cy",yscale(safelimit[i].safelimitValue)).attr("r",5).attr("class","safe-circle").on("mouseover",(function(d){
// chartContext.hover = false
d3__WEBPACK_IMPORTED_MODULE_11__.select(this).transition().duration(500).attr("r",10),d3__WEBPACK_IMPORTED_MODULE_11__.select("#safe"+i).transition().duration(500).attr("stroke-width","2px");var tooltipData=[{label:safelimit[i].safelimitName?safelimit[i].safelimitName:"",value:safelimit[i].safelimitValue?safelimit[i].formated_value:""}],tooltipConfig={title1:safelimit[i].title,position:{left:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageX,top:d3__WEBPACK_IMPORTED_MODULE_11__.event.pageY},data:tooltipData,color:safelimit[i].color?safelimit[i].color:charts_helpers_colors__WEBPACK_IMPORTED_MODULE_16__/* ["default"]["default"] */.Z["default"][safelimit[i].index]};_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.showTooltip(tooltipConfig,chartContext)})).on("mouseout",(function(d){
// chartContext.hover = true
_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.hideTooltip(),d3__WEBPACK_IMPORTED_MODULE_11__.select(this).transition().duration(500).attr("r",5),d3__WEBPACK_IMPORTED_MODULE_11__.select("#safe"+i).transition().duration(500).attr("stroke-width","1px")})).attr("fill",safelimit[i].color?safelimit[i].color:charts_helpers_colors__WEBPACK_IMPORTED_MODULE_16__/* ["default"]["default"] */.Z["default"][safelimit[i].index]),safeLimits.append("circle").attr("cx",config.isDual?config.width-(config.margin.left+config.margin.right):0).attr("cy",config.yscale(safelimit[i].safelimitValue)).attr("r",1).attr("fill","#fff").on("mouseover",(function(){})),safeLimits.append("line").attr("x1",5).attr("y1",config.yscale(safelimit[i].safelimitValue)).attr("y2",config.yscale(safelimit[i].safelimitValue)).attr("x2",config.width-(config.margin.left+config.margin.right)).style("shape-rendering","crispEdges").attr("id","safe"+i).attr("stroke",safelimit[i].color?safelimit[i].color:charts_helpers_colors__WEBPACK_IMPORTED_MODULE_16__/* ["default"]["default"] */.Z["default"][safelimit[i].index]).attr("class","safelimit-line "+safeLimitLineClass),safeLimits.append("text").attr("x",20).attr("y",config.yscale(safelimit[i].safelimitValue)-15).attr("dy","1em").attr("text-anchor","start").text(safelimit[i].formated_value).attr("fill",safelimit[i].color?safelimit[i].color:charts_helpers_colors__WEBPACK_IMPORTED_MODULE_16__/* ["default"]["default"] */.Z["default"][safelimit[i].index]).attr("class","safelimit safelimit-value "+safeLimitValueClass)},i=0;i<chartContext.options.safelimit.length;i++)_loop(i)}function mouseMove(alarms){var x=d3__WEBPACK_IMPORTED_MODULE_11__.mouse(container.node())[0];x=xscale.invert(x),mousevline.datum({x:x,visible:!0}),
// mousevline.update()
updatefocusRing(x),updateTip(x,alarms)}function mouseOut(){mousevline.datum({x:null,visible:!1}),
// mousevline.update()
updatefocusRing(null),updateTip(null)}function clickAlarm(alarm){if(_graph_mixins_tooltip__WEBPACK_IMPORTED_MODULE_14__/* ["default"] */.Z.hideTooltip(),alarm){var alarmID=alarm.id;route.push({path:"/app/fa/faults/summary/"+alarmID})}}var chart=function(elem,clipId,alarms,legendsDiv,dateRange){clipId||(clipId="clip"),
// compute mins max on all series
series=series.map((function(s){var extent=d3__WEBPACK_IMPORTED_MODULE_11__.extent(s.data.map(functorkey(s.aes.y)));return s.min=extent[0],s.max=extent[1],s.aixs=s.options.y2Axis,extent=d3__WEBPACK_IMPORTED_MODULE_11__.extent(s.data.map(functorkey(s.aes.x))),dateRange?(s.dateMin=dateRange[0],s.dateMax=dateRange[1]):(s.dateMin=extent[0],s.dateMax=extent[1]),s}));var _step,y1MaxList=[],y2MaxList=[],y2AxisData=null,_iterator=(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)(series);try{for(_iterator.s();!(_step=_iterator.n()).done;){var serie=_step.value;serie.aixs?(y2AxisData=serie,y2MaxList.push(d3__WEBPACK_IMPORTED_MODULE_11__.extent(serie.data.map(functorkey(serie.aes.y)))[1])):y1MaxList.push(d3__WEBPACK_IMPORTED_MODULE_11__.extent(serie.data.map(functorkey(serie.aes.y)))[1])}}catch(err){_iterator.e(err)}finally{_iterator.f()}var y1max=d3__WEBPACK_IMPORTED_MODULE_11__.max(y1MaxList),safelimit=series[0].options.safelimit;if(safelimit){for(var maxvalue=0,i=0;i<safelimit.length;i++)safelimit[i].safelimitValue>maxvalue&&(maxvalue=safelimit[i].safelimitValue);maxvalue>y1max&&(y1max=maxvalue)}if(yscale.range([height-margin.top-margin.bottom-drawerHeight-drawerTopMargin,0]).domain([0,y1max]),y2MaxList&&y2MaxList.length){var y2max=d3__WEBPACK_IMPORTED_MODULE_11__.max(y2MaxList);y2scale.range([height-margin.top-margin.bottom-drawerHeight-drawerTopMargin,0]).domain([0,y2max]),isDual=!0}else isDual=!1;xscale.range([0,width-margin.left-margin.right]).domain([d3__WEBPACK_IMPORTED_MODULE_11__.min(series.map(fk("dateMin"))),d3__WEBPACK_IMPORTED_MODULE_11__.max(series.map(fk("dateMax")))]),xscaleOrg.range([0,width-margin.left-margin.right]).domain([d3__WEBPACK_IMPORTED_MODULE_11__.min(series.map(fk("dateMin"))),d3__WEBPACK_IMPORTED_MODULE_11__.max(series.map(fk("dateMax")))]),yscale.fixedomain&&(1===yscale.fixedomain.length&&yscale.fixedomain.push(yscale.domain()[1]),yscale.domain(yscale.fixedomain)),xscale.fixedomain&&xscale.domain(yscale.fixedomain),fullxscale=xscale.copy(),
// let fullxscaleY = xscale.copy()
// create svg
svg=d3__WEBPACK_IMPORTED_MODULE_11__.select(elem).append("svg").attr("width",width).attr("height",height+30).attr("class","timeseries");var gridline=svg.append("g");
// clipping for scrolling in focus area
svg.append("defs").append("clipPath").attr("id",clipId+"").append("rect").attr("width",width-margin.left-margin.right).attr("height",height-margin.bottom-drawerHeight-drawerTopMargin).attr("y",-margin.top),
// container for focus area
container=svg.insert("g","rect.mouse-catch").attr("transform","translate("+margin.left+","+margin.top+")").attr("clip-path","url(#"+clipId+")").attr("class","data-conatiner"),serieContainer=container.append("g"),annotationsContainer=container.append("g"),
// alarmsContainer = container.append('g').attr('class', 'alarmsGroups')
// mini container at the bottom
drawerContainer=svg.append("g").attr("transform","translate("+margin.left+","+(height+20-drawerHeight-margin.bottom)+")").attr("class","bottomaxis"),
// vertical line moving with mouse tip
mousevline=svg.append("g").datum({x:new Date,visible:!1}),mousevline.append("line").attr("x1",0).attr("x2",0).attr("y1",yscale.range()[0]).attr("y2",yscale.range()[1]).attr("class","focusLine mousevline"),mousevline.update=function(){},updatefocusRing(),brush.extent([[fullxscale.range()[0],0],[fullxscale.range()[1],drawerHeight-20-drawerTopMargin]]).on("end",(function(){var selection=d3__WEBPACK_IMPORTED_MODULE_11__.event.selection;null===selection&&resetScale()}));var brushAxis=d3__WEBPACK_IMPORTED_MODULE_11__.axisBottom().scale(xscale).tickFormat(xscale.setformat).tickSizeOuter(0).tickPadding(10).tickSize(0),xAxis=d3__WEBPACK_IMPORTED_MODULE_11__.axisBottom().scale(xscale).tickFormat((function(d){if(series&&series[0].options.xaxis&&("date_time"===series[0].options.xaxis.datatype||"date"===series[0].options.xaxis.datatype)){var formatConfig=_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.ZP.getDateFormatConfig(series[0].options.xaxis);return formatConfig.minor?moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(d).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone).format(formatConfig.minor):""}})).tickSizeOuter(0).tickPadding(7).tickSize(7).ticks(7),yAxis=d3__WEBPACK_IMPORTED_MODULE_11__.axisLeft().scale(yscale).tickFormat(yscale.setformat).ticks(5).tickPadding(7).tickSize(0),y2Axis=d3__WEBPACK_IMPORTED_MODULE_11__.axisRight().scale(y2scale).tickFormat(yscale.setformat).ticks(5).tickPadding(7).tickSize(0),monthAxis=null;if(series&&series[0].options.xaxis&&("date_time"===series[0].options.xaxis.datatype||"date"===series[0].options.xaxis.datatype)){var formatConfig=_helpers_formatter__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */.ZP.getDateFormatConfig(series[0].options.xaxis),idx=0;monthAxis=d3__WEBPACK_IMPORTED_MODULE_11__.axisBottom().scale(xscale).tickFormat((function(d){idx++;var minorVal=moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(d).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone).format(formatConfig.minor);if(1!==idx){if("hour"===formatConfig.period&&"12am"!==minorVal)return"";if("day"===formatConfig.period&&"1"!==minorVal)return"";if("week"===formatConfig.period&&"1"!==minorVal)return"";if("month"===formatConfig.period&&"Jan"!==minorVal)return""}return formatConfig.major?moment_timezone__WEBPACK_IMPORTED_MODULE_15___default()(d).tz(vue__WEBPACK_IMPORTED_MODULE_17__["default"].prototype.$timezone).format(formatConfig.major):""})).tickSizeOuter(0).tickPadding(7).tickSize(7)}gridline.append("g").attr("class","d3_timeseries y axis y-axis-group").attr("transform","translate("+margin.left+","+margin.top+")").call(yAxis).append("text").attr("transform","rotate(-90)").attr("x",-margin.top-d3__WEBPACK_IMPORTED_MODULE_11__.mean(yscale.range())).attr("dy",".71em").attr("y",5-margin.left).style("text-anchor","middle").text(yscale.label),isDual&&gridline.append("g").attr("class","d3_timeseries y2 axis y2-axis-group").attr("transform","translate("+(width-margin.left+10)+","+(margin.top-10)+")").call(y2Axis).append("text").attr("transform","rotate(-90)").attr("x",-margin.top-d3__WEBPACK_IMPORTED_MODULE_11__.mean(y2scale.range())).attr("dy",".71em").attr("y",10-margin.left).style("text-anchor","top").text((function(){return y2scale.label})),drawerContainer.append("g").attr("class","d3_timeseries x axis").attr("transform","translate(0,"+(drawerHeight-10)+")").call(xAxis),
// drawerContainer.append('g')
//   .attr('class', 'd3_timeseries brush')
//   .call(brush)
//   .attr('transform', `translate(0, ${drawerTopMargin + 10})`)
//   .attr('height', ((drawerHeight - 30) - drawerTopMargin))
svg.selectAll(".y-axis-group .tick text").attr("class","yaxis-tick-label").attr("dy","-0.5em"),svg.selectAll(".y-axis-group .tick line").attr("class","yaxis-tick-line").attr("x1","-20").attr("x2",width-margin.left-margin.right),svg.append("rect").attr("width",width).attr("class","d3_timeseries mouse-catch").attr("height",height-height/8).style("opacity",0).on("mousedown",(function(d){var e=this,origin=d3__WEBPACK_IMPORTED_MODULE_11__.mouse(e),rect=svg.append("rect").attr("class","zoom");d3__WEBPACK_IMPORTED_MODULE_11__.select("body").classed("noselect",!0),origin[0]=Math.max(0,Math.min(width,origin[0])),origin[1]=Math.max(0,Math.min(height,origin[1])),d3__WEBPACK_IMPORTED_MODULE_11__.select(window).on("mousemove.zoomRect",(function(){var m=d3__WEBPACK_IMPORTED_MODULE_11__.mouse(e);m[0]=Math.max(0,Math.min(width,m[0])),m[1]=Math.max(0,Math.min(height,m[1])),m&&rect.attr("x",Math.min(origin[0],m[0])).attr("y",Math.min(origin[1],m[1])).attr("width",Math.abs(m[0]-origin[0])).attr("height",Math.abs(m[1]-origin[1]))})).on("mouseup.zoomRect",(function(){if(rect.attr("x")+rect.attr("width")!==0&&rect.attr("width")*rect.attr("height")>1e3){var x1,x2,m=d3__WEBPACK_IMPORTED_MODULE_11__.mouse(e);m[0]=Math.max(0,Math.min(width,m[0])),m[1]=Math.max(0,Math.min(height,m[1])),x1=parseInt(rect.attr("x"))-63,x2=parseInt(rect.attr("x"))-63+parseInt(rect.attr("width"));var selection=[x1,x2];fullxscale=xscale.domain(selection.map(fullxscale.invert,fullxscale)),svg.select(".x-axis-group").call(brushAxis),svg.select(".month-axis").attr("opacity","0"),series.forEach(drawSerie),alarms&&drawAlarms(alarms),d3__WEBPACK_IMPORTED_MODULE_11__.select(window).on("mousemove.zoomRect",null).on("mouseup.zoomRect",null),d3__WEBPACK_IMPORTED_MODULE_11__.select("body").classed("noselect",!1),d3__WEBPACK_IMPORTED_MODULE_11__.select(elem).select(".resetButtom").attr("display","block"),rect.remove()}else rect.remove()}),!0),d3__WEBPACK_IMPORTED_MODULE_11__.event.stopPropagation()})).on("mousemove",(function(d){mouseMove(alarms)})).on("mouseout",mouseOut),svg.append("g").attr("class","resetButtom").attr("display","none").attr("cursor","pointer").on("click",(function(d){resetScale()})).append("rect").attr("width","85").attr("height","20").attr("x",width-120).attr("y",0).attr("rx",3).attr("ry",3).attr("display","block").attr("fill","rgba(0,0,0,0)").attr("stroke","#00d8d2").attr("stroke-width","1"),d3__WEBPACK_IMPORTED_MODULE_11__.select(elem).select(".resetButtom").append("text").text("Reset zoom").attr("y",1).attr("x",width-108).attr("y",5).attr("display","block").attr("dy","0.71em").attr("fill","#00d8d2").style("font-size","12px");var alarmSection=svg.append("g","rect.mouse-catch").attr("transform","translate("+margin.left+","+margin.top+")").attr("clip-path","url(#"+clipId+")");alarmsContainer=alarmSection.append("g").attr("class","alarmsGroups");var config={xscale:xscale,yscale:yscale,width:width,height:height,margin:margin,isDual:isDual};function resetScale(){xscale.domain(xscaleOrg.domain()),svg.select(".x-axis-group").call(xAxis),
// svg.select('.month-axis').call(monthAxis)
series.forEach(drawSerie),d3__WEBPACK_IMPORTED_MODULE_11__.select("body").classed("noselect",!1),alarms&&drawAlarms(alarms),
// mousevline.update()
d3__WEBPACK_IMPORTED_MODULE_11__.select(elem).select(".resetButtom").attr("display","none"),svg.select(".x-axis-group path.domain").attr("display","none"),svg.select(".month-axis").attr("opacity","1"),updatefocusRing()}drawsafeLimit(series[0],config),tooltipDiv=d3__WEBPACK_IMPORTED_MODULE_11__.select(elem).append("div").attr("class","d3_timeseries tooltip").style("opacity",0),svg.append("g").attr("class","x-axis-group axis brush-axis").attr("transform","translate("+margin.left+","+(height-margin.bottom-drawerHeight-drawerTopMargin)+")").call(xAxis).selectAll("line").attr("y2",0),svg.append("g").attr("class","month-axis").attr("transform","translate("+margin.left+","+(height+20-margin.bottom-drawerHeight-drawerTopMargin)+")").call(monthAxis).selectAll("line").attr("y2",0),svg.select(".x-axis-group.axis path.domain").attr("d","M-20,0V0.5H"+(width-80)+".5V0").attr("class","x-axis-line-path"),svg.select("x-axis-group.axis .domain").attr("d","M-20,0V0.5H"+(width-80)+".5V0").attr("class","x-axis-line-path"),drawerContainer.select(".d3_timeseries.x.axis path.domain").attr("d","M0 0 L0 0 L0 0").attr("class","x-axis-line-path"),
// left axis label
svg.append("g").append("text").attr("transform","rotate(-90)").attr("class","Yaxis-label timeseries").attr("x",0-height/2).attr("y",margin.left/2-10).style("text-anchor","middle").attr("dy","0em").text((function(d){var txt=series[0].options.axis?series[0].options.axis.title:"";return series[0].options.axis&&series[0].options.axis.unit&&(txt+=" ("+series[0].options.axis.unit+")"),txt})),isDual&&svg.append("g").append("text").attr("transform","rotate(-90)").attr("class","Yaxis-label timeseries").attr("x",0-height/2).attr("y",width+margin.right-margin.left/2-10).style("text-anchor","middle").attr("dy","0em").text((function(d){if(y2AxisData)return y2AxisData.options.label;var txt=series[1].options.axis?series[1].options.axis.title:"";return series[1].options.axis&&series[1].options.axis.unit&&(txt+=" ("+series[1].options.axis.unit+")"),txt})),svg.select(".x-axis-group.axis.brush-axis").append("text").attr("transform","translate("+(width/2-30)+" ,60)").attr("class","Yaxis-label timeseries").style("text-anchor","middle").text("TIMESTAMP"),series.forEach(createLines),series.forEach(drawSerie),drawLegends(series,legendsDiv,width),alarms&&drawAlarms(alarms),drawMiniDrawer()};chart.width=function(_){return arguments.length?(width=_,chart):width},chart.path=function(_){return arguments.length?(route=_,chart):route},chart.height=function(_){return arguments.length?(height=_,chart):height},chart.margin=function(_){return arguments.length?(margin=_,chart):margin},d3__WEBPACK_IMPORTED_MODULE_11__.keys(margin).forEach((function(k){chart.margin[k]=function(_){return arguments.length?(margin[k]=_,chart):margin[k]}}));
// scales accessors
var scaleGetSet=function(scale){return{tickFormat:function(_){return arguments.length?(scale.setformat=_,chart):scale.setformat},label:function(_){return arguments.length?(scale.label=_,chart):scale.label},domain:function(_){return!arguments.length&&scale.fixedomain?scale.fixedomain:arguments.length?(scale.fixedomain=_,chart):null}}};return chart.yscale=scaleGetSet(yscale),chart.xscale=scaleGetSet(xscale),chart.addSerie=function(data,aes,options){return!data&&series.length>0&&(data=series[0].data),options.color||(options.color=defaultColors[series.length%defaultColors.length]),series.push({data:data,aes:aes,options:options}),chart},chart}
/***/},
/***/519898:
/***/function(__unused_webpack_module,__webpack_exports__){
/* harmony default export */__webpack_exports__.Z={default:["#816bc5","#ec598c","#84e7f7","#ffc301","#5ab6b3","#2b7a9b","#add45f","#fe8e19","#ea4985","#69d0aa","#c95db4","#efd880","#5fa0c5","#aa70ae","#d0de86","#f7768c","#69d0aa","#a450c1","#fe8e19","#84e7f7","#ff5633","#aa70ae","#f7768c","#5f7dc5","#7e45bc","#2b7a9b","#6bc7c2","#00d8d2","#7e45bc","#c95db4"],benchmarkcolors:["#fe8e19","#84e7f7","#ff5633","#aa70ae","#f7768c","#5f7dc5","#7e45bc","#2b7a9b","#6bc7c2","#00d8d2","#7e45bc","#c95db4"],darkTheme:["#6920AB","#D54556","#54BEDB","#62D47A","#A9E148"],predefind:["#f7768c","#ec598c","#c95db4","#a450c1","#9339b3","#7e45bc","#8260bd","#5f7dc5","#5fa0c5","#6bc7c2","#5ab6b3","#69d0aa","#86de9b","#a3de86","#d0de86","#efd880","#efc580","#ee9671","#ee8171","#ee7171"],readingcardColors:["#ffffff","#663383","#933f95","#612b9b","#492fa9","#1d2da0","#2e52ad","#3964c5","#1f95da","#218fb8","#15a7a6","#f7768c","#ec598c","#c95db4","#a450c1","#9339b3","#7e45bc","#8260bd","#5f7dc5","#5fa0c5","#6bc7c2","#5ab6b3","#69d0aa","#86de9b","#a3de86","#d0de86","#efd880","#efc580","#ee9671","#ee8171","#ee7171","#000000"],textCardColors:["#ffffff","#000000","#663383","#933f95","#612b9b","#492fa9","#1d2da0","#2e52ad","#3964c5","#1f95da","#218fb8","#15a7a6","#f7768c","#ec598c","#c95db4","#a450c1","#9339b3","#7e45bc","#8260bd","#5f7dc5","#5fa0c5","#6bc7c2","#5ab6b3","#69d0aa","#86de9b","#a3de86","#d0de86","#efd880","#efc580","#ee9671","#ee8171","#ee7171"]};
/***/},
/***/570743:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(865137),__webpack_require__(434284),__webpack_require__(897389)
/* harmony import */;var d3__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(348727),d3Format=__webpack_require__(965594);
/* harmony default export */__webpack_exports__.Z={isValueArray:function(data){return!!(data&&data.length&&Array.isArray(data[0].value))},getGroup:function(data){return this.isValueArray(data)?data[0].value.map((function(d){return d.label})):data.map((function(d){return d.label}))},getDescendingGroup:function(data,options){if(!this.isValueArray(data))return data.map((function(d){return d.label}));if(!options||!options.widgetLegends)return data[0].value.map((function(d){return d.label}));var array=[];for(var d in options.widgetLegends)array.push(options.widgetLegends[d]);return array.sort((function(a,b){return a.convertedValue<b.convertedValue?1:b.convertedValue<a.convertedValue?-1:0})),array&&array.length&&data&&data.length?data[0].value.length===array.length?array.map((function(d,i){return d.stack?data[0].value[i].label:d.name?d.name:d.label})):data[0].value.map((function(d){return d.label})):void 0},getMinMax:function(data){var min=d3__WEBPACK_IMPORTED_MODULE_5__.min(data,(function(d){if(!d.violated_value)return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.min(d.value,(function(v){return v.value})):d.value})),max=d3__WEBPACK_IMPORTED_MODULE_5__.max(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.max(d.value,(function(v){return v.value})):d.value}));return{min:min,max:max}},
// only for number and time based label values //
getMinMaxLabel:function(data){var min=d3__WEBPACK_IMPORTED_MODULE_5__.min(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.min(d.value,(function(v){return v.orgLabel})):d.orgLabel})),max=d3__WEBPACK_IMPORTED_MODULE_5__.max(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.max(d.value,(function(v){return v.orgLabel})):d.orgLabel}));return{min:min,max:max}},getMinMaxNumberLabel:function(data){var min=d3__WEBPACK_IMPORTED_MODULE_5__.min(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.min(d.value,(function(v){return v.label})):d.label})),max=d3__WEBPACK_IMPORTED_MODULE_5__.max(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.max(d.value,(function(v){return v.label})):d.label}));return{min:min,max:max}},getTotalMinMax:function(data){var min=d3__WEBPACK_IMPORTED_MODULE_5__.min(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.sum(d.value,(function(v){return v.value})):d.value})),max=d3__WEBPACK_IMPORTED_MODULE_5__.max(data,(function(d){return Array.isArray(d.value)?d3__WEBPACK_IMPORTED_MODULE_5__.sum(d.value,(function(v){return v.value})):d.value}));return{min:min,max:max}},
// getMillsToFormater (chartContext,  date) {
//   let xaxisConfig = chartContext.getOptions().xaxis ? chartContext.getOptions().xaxis : {datatype: 'text'}
// }
addDays:function(date,days){var result=new Date(date);return result.setDate(result.getDate()+days),String(result)},calculatePercent:function(value,data){var total=d3__WEBPACK_IMPORTED_MODULE_5__.sum(data,(function(v){return v.value})),percent=total?value/total*100:0;return d3Format.format(".1f")(percent)},diffDays:function(date1,date2){var oneDay=864e5;return Math.ceil(Math.abs((new Date(date1).getTime()-new Date(date2).getTime())/oneDay))},isInteger:function(value){return value%1===0},cleanData:function(originalData){var dataZeroed=originalData.map((function(d){return{value:0,label:String(d["label"])}}));return dataZeroed},sortAscending:function(objectArray){var sortedArray=objectArray.sort((function(a,b){return a["value"]-b["value"]}));return sortedArray},sortAscending1:function(objectArray){return objectArray.sort((function(a,b){return a.label>b.label?-1:a.label<b.label?1:0})),objectArray.reverse()},sortDescending:function(objectArray){var sortedArray=objectArray.sort((function(a,b){return a["value"]-b["value"]}));return sortedArray.reverse()},sortDateAscending:function(objectArray){return objectArray.sort((function(a,b){return a=new Date(a.label),b=new Date(b.label),a>b?-1:a<b?1:0})),objectArray.reverse()},convertToMins:function(millis){if(millis){var formatted=millis/1e3/60>99?(millis/1e3/60/60).toFixed(2):(millis/1e3/60).toFixed(2),hours=Math.floor(Math.abs(formatted)),min=Math.floor(60*Math.abs(formatted)%60),val=(hours>0?hours+"h ":"")+min;return val+"min"}return"--"}// getThisContext () {
//   if (window.__VUE_DEVTOOLS_GLOBAL_HOOK__.store && window.__VUE_DEVTOOLS_GLOBAL_HOOK__.store.state) {
//     return window.__VUE_DEVTOOLS_GLOBAL_HOOK__.store.state
//   }
//   else {
//     return null
//   }
// }
}},
/***/150505:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var d3__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(348727);
/* harmony default export */__webpack_exports__.Z={defaultMargin:{top:20,right:40,bottom:100,left:60},colorServity:{high:"#ea5e5e",critical:"#ea5e5e",medium:"#f9bc3c",major:"#f9bc3c",low:"#f9ef72",minor:"#f9ef72",clear:"#b1cc5d",warning:"#7daeec"},defaultOptions:{common:{isWidget:!0,isAnimated:!0,isLableRotating:!1,yAxisPaddingBetweenChart:10},pie:{axis:!1,type:"pie",diff:5,legends:!0,innerText:!1,margin:{top:20,right:20,bottom:40,left:40}},progress:{axis:!1,type:"progress",sort:"desc",gColors:["#f7768c","#b16bbc"],innerText:!1,legends:!1,isWidget:!1,margin:{top:40,right:100,bottom:40,left:100}},funnel:{axis:!1},doughnut:{axis:!1,type:"doughnut",legends:!0,diff:5,isWidget:!1,innerText:!1,margin:{top:20,right:20,bottom:40,left:40},withPoints:!1},bar:{isHorizontal:!1,yAxisPaddingBetweenChart:10,ease:d3__WEBPACK_IMPORTED_MODULE_0__.easeQuadInOut,animationDuration:800,animationStepRatio:70,interBarDelay:function(d,i){return 20*i},withPoints:!1,legends:!1},line:{withPoints:!1},area:{withPoints:!1,legends:!0},cubsim:{legends:!1,yAxis:!1},stackedbar:{isHorizontal:!1,yAxisPaddingBetweenChart:10,ease:d3__WEBPACK_IMPORTED_MODULE_0__.easeQuadInOut,animationDuration:800,animationStepRatio:70,interBarDelay:function(d,i){return 70*i}},groupedbar:{isHorizontal:!1,yAxisPaddingBetweenChart:10,ease:d3__WEBPACK_IMPORTED_MODULE_0__.easeQuadInOut,animationDuration:800,animationStepRatio:70,interBarDelay:function(d,i){return 70*i}},heatMap:{axis:!1,axisTop:!1,type:"heatmap",diff:5,innerText:!1,margin:{top:40,right:10,bottom:40,left:60}},boolean:{type:"boolean",axis:!1,axisTop:!1,diff:5,innerText:!1,margin:{top:40,right:10,bottom:40,left:60}}},curveMap:{linear:d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear,basis:d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis,cardinal:d3__WEBPACK_IMPORTED_MODULE_0__.curveCardinal,catmullRom:d3__WEBPACK_IMPORTED_MODULE_0__.curveCatmullRom,monotoneX:d3__WEBPACK_IMPORTED_MODULE_0__.curveMonotoneX,monotoneY:d3__WEBPACK_IMPORTED_MODULE_0__.curveMonotoneY,natural:d3__WEBPACK_IMPORTED_MODULE_0__.curveNatural,step:d3__WEBPACK_IMPORTED_MODULE_0__.curveStep,stepAfter:d3__WEBPACK_IMPORTED_MODULE_0__.curveStepAfter,stepBefore:d3__WEBPACK_IMPORTED_MODULE_0__.curveStepBefore},defaultCurve:"linear"}},
/***/676240:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */LT:function(){/* binding */return formatCardDecimal},
/* harmony export */LU:function(){/* binding */return formatDuration},
/* harmony export */_9:function(){/* binding */return formatInterger},
/* harmony export */xG:function(){/* binding */return formatCurrency}
/* harmony export */});
/* unused harmony exports formatDecimal, formatDisplayValue, getSymbolsForTimeUnit */
/* harmony import */__webpack_require__(879288),__webpack_require__(897389),__webpack_require__(564043),__webpack_require__(857267)
/* harmony import */;var d3__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(348727),_helpers_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(570743),moment_timezone__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(480008),moment_timezone__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_6__),vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(720144),_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(990260),lodash_isString__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(747037),lodash_isString__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(lodash_isString__WEBPACK_IMPORTED_MODULE_7__);
/* harmony default export */__webpack_exports__.ZP={getDateFormatConfig:function(axisObj){var formatConfig=null;if("minute"===axisObj.operation)formatConfig={axis:"HH:mm",tooltip:"llll"};else if("hoursofdayonly"===axisObj.operation||"hoursofday"===axisObj.operation){var minor="ha",major="MMM D";"W"===axisObj.filterName?(minor="ddd",major=""):"M"===axisObj.filterName&&(minor="D",major="MMM"),formatConfig={period:"hour",interval:"hours",minor:minor,major:major,axis:"MM/DD HH",tooltip:"ddd, MMM D, YYYY h a"}}else if("daysofmonth"===axisObj.operation||"fulldate"===axisObj.operation){var _minor="D",_major="MMM";"W"===axisObj.filterName&&(_minor="ddd",_major=""),formatConfig={period:"day",interval:"days",minor:_minor,major:_major,axis:"DD",tooltip:"dddd, MMMM DD, YYYY"}}else formatConfig="weekday"===axisObj.operation?{period:"day",interval:"days",minor:"ddd",major:"",axis:"DD",tooltip:"dddd, MMMM DD, YYYY"}:"dateandtime"===axisObj.operation||"actual"===axisObj.operation?{axis:"HH:mm",tooltip:"llll"}:"weekandyear"===axisObj.operation||"week"===axisObj.operation?{period:"week",interval:"weeks",minor:"WW",major:"YYYY",axis:"WW YYYY",tooltip:"WW YYYY"}:"monthandyear"===axisObj.operation||"month"===axisObj.operation?{period:"month",interval:"months",minor:"MMM",major:"YYYY",axis:"MMMM YYYY",tooltip:"MMMM YYYY"}:"year"===axisObj.operation?{period:"year",interval:"years",minor:"YYYY",major:"",axis:"YYYY",tooltip:"YYYY"}:{period:"day",interval:"days",minor:"D",major:"MMM",axis:"DD",tooltip:"dddd, MMMM DD, YYYY"};return axisObj.is_highres_data&&(formatConfig.tooltip="LLLL"),formatConfig},multiFormat:function(date){var mFormatMinute="hh:mm a",mFormatHour="HH a",mFormatDay="ddd DD",mFormatWeek="MMM DD",mFormatMonth="MMMM",mFormatYear="YYYY",axisMultiFormat=d3__WEBPACK_IMPORTED_MODULE_4__.timeHour(date)<date?mFormatMinute:d3__WEBPACK_IMPORTED_MODULE_4__.timeDay(date)<date?mFormatHour:d3__WEBPACK_IMPORTED_MODULE_4__.timeMonth(date)<date?d3__WEBPACK_IMPORTED_MODULE_4__.timeWeek(date)<date?mFormatDay:mFormatWeek:d3__WEBPACK_IMPORTED_MODULE_4__.timeYear(date)<date?mFormatMonth:mFormatYear;return moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(date).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format(axisMultiFormat)},formatAxis:function(d3Axis,axisObj){if("number"===axisObj.datatype)d3Axis.tickFormat(this._formatNumber);else if("decimal"===axisObj.datatype)d3Axis.tickFormat(this._formatDecimal);else if("currency"===axisObj.datatype)d3Axis.tickFormat(this._formatCurrency);else if("percentage"===axisObj.datatype)d3Axis.tickFormat(this._formatPercentage);else if("date_time"===axisObj.datatype||"date"===axisObj.datatype){var formatConfig=this.getDateFormatConfig(axisObj);d3Axis.tickFormat((function(d){return moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(d).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format(formatConfig.axis)}))}},formatCardValue:function(value,unit,lUnit){return value&&unit&&lUnit&&(value=Number(value),unit===vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$currency?(value=parseInt(value),value=d3__WEBPACK_IMPORTED_MODULE_4__.format(",")(value)):"kwh"===lUnit.toLowerCase()&&value>1e3?(value/=1e3,value=value.toFixed(2),unit=" MWh"):"kwh"===lUnit.toLowerCase()?value=value.toFixed(2):"kg"===lUnit.toLowerCase()&&value>999?(value/=1e3,value=value.toFixed(2),unit=" Tons"):"kg"===lUnit.toLowerCase()&&(value=value.toFixed(2))),null!==value||value+""!==""?{value:value,unit:unit}:{value:"---",unit:""}},formatCardTime:function(time,xAgg,operatorId){if(time&&null!==xAgg&&operatorId)return 20===xAgg?moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("hh:mm A"):12===xAgg?31===operatorId||30===operatorId?moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("ddd"):moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("MMM DD"):0===xAgg?moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("hh:mm A"):10===xAgg?moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("MMM"):moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(time).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format("hh:mm A")},formatValue:function(value,axisObj){var returnType=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string";if("number"===axisObj.datatype)return"minute"===axisObj.unit?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:"min"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+" min":"Hrs"===axisObj.unit?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:"Hrs"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+" Hrs":"json"===returnType?{value:this._formatNumber(value),unit:" "}:this._formatNumber(value);if("celsius"===axisObj.datatype)return"json"===returnType?{value:value,unit:"C"}:value+"C";if("decimal"===axisObj.datatype)return axisObj.unit&&"kwh"===axisObj.unit.toLowerCase()?value>1e4?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value/1e3),unit:"MWh"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value/1e3)+" MWh":"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:"kWh"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+" kWh":axisObj.unit&&"kw"===axisObj.unit.toLowerCase()?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:"kw"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+" kw":axisObj.unit&&"eui"===axisObj.unit.toLowerCase()?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:"kw"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$account&&78===this.formatCurrency.$account.org.id?"kWh/m&sup2":"kWh/ft&sup2"):axisObj.unit&&"aed"===axisObj.unit.toLowerCase()?"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(value),unit:" AED"}:d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(value)+" AED":"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value),unit:axisObj.unit?axisObj.unit:""}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value)+(axisObj.unit?" "+axisObj.unit:"");if("currency"===axisObj.datatype)
// return d3.format('($.2f')(value)
return"json"===returnType?{value:vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$currency+" "+d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(Math.round(value)),unit:" "}:vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$currency+" "+d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(Math.round(value));if("percentage"===axisObj.datatype)return"json"===returnType?{value:this._formatPercentage(value),unit:" "}:this._formatPercentage(value);if("date_time"===axisObj.datatype||"date"===axisObj.datatype){var formatConfig=this.getDateFormatConfig(axisObj);return moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(value).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format(formatConfig.tooltip)}if("string"===axisObj.datatype&&"Hrs"===axisObj.unit){var data=Number(d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value));return data>0?"json"===returnType?{value:data,unit:axisObj.unit}:data+" "+axisObj.unit:"json"===returnType?{value:d3__WEBPACK_IMPORTED_MODULE_4__.format(".3f")(value),unit:axisObj.unit}:d3__WEBPACK_IMPORTED_MODULE_4__.format(".3f")(value)+" "+axisObj.unit}return"json"===returnType?{value:value,unit:""}:value;
// by default text datatype
// this._formatText(chartContext.getLayout().width)
},formatValueForTable:function(value,axisObj){if("number"===axisObj.datatype)return"minute"===axisObj.unit?d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value):this._formatNumber(value);if("celsius"===axisObj.datatype)return value;if("decimal"===axisObj.datatype)return axisObj.unit&&"aed"===axisObj.unit.toLowerCase()?d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(value):d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value);if("currency"===axisObj.datatype)return d3__WEBPACK_IMPORTED_MODULE_4__.format(",.2f")(value);if("percentage"===axisObj.datatype)return this._formatPercentage(value);if("date_time"===axisObj.datatype||"date"===axisObj.datatype){var formatConfig=this.getDateFormatConfig(axisObj);return moment_timezone__WEBPACK_IMPORTED_MODULE_6___default()(value).tz(vue__WEBPACK_IMPORTED_MODULE_8__["default"].prototype.$timezone).format(formatConfig.tooltip)}if("string"===axisObj.datatype&&"Hrs"===axisObj.unit){var data=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(value);return data>0?data:d3__WEBPACK_IMPORTED_MODULE_4__.format(".3f")(value)}return value},_formatUnitType:function(unitType,value){return unitType.unit?"hour"===unitType.unit?_helpers_common__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */.Z.convertToMins(value):unitType.operation?this.formatAxis(unitType,value):void 0:value},_formatNumber:function(value){var format=".2s";return(value<10||value<1e3)&&(format=""),d3__WEBPACK_IMPORTED_MODULE_4__.format(format)(value)},_formatDecimal:function(value){var format=".2f";return value<10?format=".2f":value<100&&(format=".1f"),d3__WEBPACK_IMPORTED_MODULE_4__.format(format)(value)},_formatCurrency:function(value){
// return d3.format('$,')(value)
return d3__WEBPACK_IMPORTED_MODULE_4__.format(".1s")(value)},_formatPercentage:function(value){return d3__WEBPACK_IMPORTED_MODULE_4__.format(".0%")(value)},_formatDate:function(value){return d3__WEBPACK_IMPORTED_MODULE_4__.timeFormat("%Y-%m-%dd")},_formatText:function(){}};var formatCardDecimal=function(value,config){var format=".2s";return value>1e3?parseInt(value):((value<10||value<100)&&(format=".2f"),d3__WEBPACK_IMPORTED_MODULE_4__.format(format)(value))},formatCurrency=function(value,decimalPoints){var format=".2f";return(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__/* .isEmpty */.xb)(decimalPoints)?value>1e3?d3__WEBPACK_IMPORTED_MODULE_4__.format(",")(parseInt(value)):(value<10?format=".2f":value<100&&(format=".1f"),d3__WEBPACK_IMPORTED_MODULE_4__.format(format)(value)):(format=",.".concat(decimalPoints,"f"),d3__WEBPACK_IMPORTED_MODULE_4__.format(format)(value))},formatInterger=function(value,config){return!(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__/* .isEmpty */.xb)(value)&&(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__/* .isNumber */.hj)(value)?parseInt(value):value},formatDuration=function(value){var duration,format=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",toFormat=arguments.length>2?arguments[2]:void 0,length=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,actual_unit=arguments.length>4?arguments[4]:void 0,isDefautlDuration=arguments.length>5?arguments[5]:void 0;if(actual_unit&&void 0===isDefautlDuration&&!(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__/* .isEmpty */.xb)(value)&&lodash_isString__WEBPACK_IMPORTED_MODULE_7___default()(value))return value=value.replace(",",""),Math.floor(parseFloat(value))+" "+getSymbolsForTimeUnit(actual_unit);var count=0,durationLabel="";if(!(0,_facilio_utils_validation__WEBPACK_IMPORTED_MODULE_9__/* .isEmpty */.xb)(value)&&lodash_isString__WEBPACK_IMPORTED_MODULE_7___default()(value)){var validString=value.replace(",","");duration=moment_timezone__WEBPACK_IMPORTED_MODULE_6___default().duration(parseFloat(validString),format)}else duration=moment_timezone__WEBPACK_IMPORTED_MODULE_6___default().duration(parseFloat(value),format);if(toFormat)switch(toFormat){case"Milliseconds":return durationLabel=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(parseFloat(duration.asMilliseconds())),"".concat(durationLabel,durationLabel<=1?" millisecond ":" milliseconds ");case"Seconds":return durationLabel=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(parseFloat(duration.asSeconds())),"".concat(durationLabel,durationLabel<=1?" second ":" seconds ");case"Minutes":return durationLabel=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(parseFloat(duration.asMinutes())),"".concat(durationLabel,durationLabel<=1?" minute ":" minutes ");case"Hours":return durationLabel=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(parseFloat(duration.asHours())),"".concat(durationLabel,durationLabel<=1?" hour ":" hours ");case"Days":return durationLabel=d3__WEBPACK_IMPORTED_MODULE_4__.format(".2f")(parseFloat(duration.asDays())),"".concat(durationLabel,durationLabel<=1?" day ":" days ")}var years=parseInt(duration.years()),months=parseInt(duration.months()),days=parseInt(duration.days()),hours=parseInt(duration.hours()),minutes=parseInt(duration.minutes()),seconds=parseInt(duration.seconds()),milliseconds=parseInt(duration.milliseconds());return years>0&&count<length&&(durationLabel+="".concat(years,1===years?" year ":" years "),count++),months>0&&count<length&&(durationLabel+="".concat(months,1===months?" month ":" months "),count++),days>0&&count<length&&(durationLabel+="".concat(days,1===days?" day ":" days "),count++),hours>0&&count<length&&(durationLabel+="".concat(hours,1===hours?" hour ":" hours "),count++),minutes>0&&count<length&&(durationLabel+="".concat(minutes,1===minutes?" minute ":" minutes "),count++),seconds>0&&count<length&&(durationLabel+="".concat(seconds,1===seconds?" second ":" seconds "),count++),milliseconds>0&&count<length&&(durationLabel+="".concat(milliseconds,1===milliseconds?" millisecond ":" milliseconds "),count++),""===durationLabel?"0 seconds":durationLabel},getSymbolsForTimeUnit=function(unit){var symbalsmap={hour:"h",day:"days",minute:"m",week:"W",year:"Y",milisecond:"ms",second:"s"},symbalsmaps={hours:"h",days:"days",minutes:"m",weeks:"W",years:"Y",miliseconds:"ms",seconds:"s"};return symbalsmap[unit]?symbalsmap[unit]:symbalsmaps[unit]?symbalsmaps[unit]:void 0}},
/***/51007:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony import */var _Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(566347),charts_helpers_colors__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__(670560),__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(450886),__webpack_require__(519898)),charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(150505),charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(570743),d3__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(348727);
/* harmony import */
/* harmony default export */__webpack_exports__.Z={props:["width","height","data","options","type","alarms","rightmar","config"],computed:{layout:function(){return this.width&&this.height?{width:this.width,height:this.height}:null}},methods:{getLayout:function(){var w={width:parseInt(d3__WEBPACK_IMPORTED_MODULE_9__.select(this.$el).style("width"))-(this.rightmar?this.rightmar:50),height:400};return this.layout&&(w.height=this.layout.height),w},getWidth:function(){return this.getLayout().width},getHeight:function(){return this.getLayout().height},getAlarms:function(){return this.alarms},getMainData:function(){return this.isMultiData()?this.data[0].data:this.data},getYAxisRange:function(){if(this.isMultiData()){var _step,y1axisArray=[],y2axisArray=[],y2Series=[],_iterator=(0,_Users_abishekrakavel_Desktop_facilioClient_facilio_client_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */.Z)(this.data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var d=_step.value,yMin=0,yMax=0;if("stackedbar"===d.options.type){var minMax=charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getTotalMinMax(d.data);yMin=minMax.min,yMax=minMax.max}else{var _minMax=charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getMinMax(d.data);yMin=_minMax.min,yMax=_minMax.max}d.options.y2axis?(y2axisArray.push(yMin),y2axisArray.push(yMax),y2Series.push(d)):(y1axisArray.push(yMin),y1axisArray.push(yMax))}}catch(err){_iterator.e(err)}finally{_iterator.f()}var result={y1axis:{min:d3__WEBPACK_IMPORTED_MODULE_9__.min(y1axisArray),max:d3__WEBPACK_IMPORTED_MODULE_9__.max(y1axisArray)}};return y2axisArray&&y2axisArray.length&&(result.y2axis={min:d3__WEBPACK_IMPORTED_MODULE_9__.min(y2axisArray),max:d3__WEBPACK_IMPORTED_MODULE_9__.max(y2axisArray),series:y2Series}),result}var _yMin=0,_yMax=0;if("stackedbar"===this.options.type){var _minMax2=charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getTotalMinMax(this.data);_yMin=_minMax2.min,_yMax=_minMax2.max}else{var _minMax3=charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getMinMax(this.data);_yMin=_minMax3.min,_yMax=_minMax3.max}return{y1axis:{min:_yMin,max:_yMax}}},isMultiData:function(){return!!(this.data&&this.data.length&&this.data[0].data)},isSeriesData:function(){return!!(this.data&&this.data.length>=2)},getColorSchema:function(){var options=this.getOptions();return options&&options.colorSchema?options.colorSchema:charts_helpers_colors__WEBPACK_IMPORTED_MODULE_6__/* ["default"]["default"] */.Z["default"]},getOptions:function(){var options=this.options?this.options:this.isMultiData()?this.getMainData()[0].options:{},commonOptions=charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions.common?charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions.common:{},barDefaultOptions=charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions[this.type]?charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions[this.type]:{},defaultOptions={};defaultOptions=Object.assign(defaultOptions,commonOptions,barDefaultOptions);var mergedOptions={};return Object.assign(mergedOptions,defaultOptions,options),mergedOptions},getChartOptions:function(options){options||(options={});var commonOptions=charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions.common?charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions.common:{},chartDefaultOptions=charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions[options.type]?charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultOptions[options.type]:{},defaultOptions={};defaultOptions=Object.assign(defaultOptions,commonOptions,chartDefaultOptions);var mergedOptions={};return Object.assign(mergedOptions,defaultOptions,options),mergedOptions},getMargin:function(){var marginObj=this.getOptions().margin?this.getOptions().margin:charts_helpers_constant__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */.Z.defaultMargin;if(this.isMultiData()){var y2Axis=this.data.find((function(d){return"undefined"!==typeof d.options.y2axis}));y2Axis&&(marginObj.right=70)}return marginObj},getLegends:function(){
// get legends with color
var colorMapping,colorSchema=null,isAarry=charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.isValueArray(this.getMainData()),arryColor=this.getColorSchema().length,colorNewMapping={};if(colorSchema="undefined"===typeof this.getOptions().axis||this.getOptions().axis?isAarry?this.getColorSchema():[this.getColorSchema()[0]]:this.getColorSchema(),isAarry){if(charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getGroup(this.getMainData()).forEach((function(v,i){colorNewMapping[v]=colorSchema[i%arryColor]})),this.getOptions()&&this.getOptions().metaJson){var options=this.getOptions();charts_helpers_common__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */.Z.getGroup(this.getMainData()).forEach((function(v,i){colorNewMapping[v]=options.metaJson[v]?options.metaJson[v]:colorNewMapping[v]}))}colorMapping=colorNewMapping}else"pie"===this.type||"doughnut"===this.type?(this.getMainData()&&this.getMainData().map((function(d,i){colorNewMapping[d.label]=colorSchema[i%arryColor]})),colorMapping=colorNewMapping):colorMapping=colorSchema;return colorMapping}},watch:{layout:function(){var _this=this;setTimeout((function(){_this.resize&&_this.resize()}),250)},options:{handler:function(){this.update&&this.update()},deep:!0}}}},
/***/978916:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */Z:function(){/* binding */return botTime}
/* harmony export */});
/* harmony import */var moment_timezone__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(480008),moment_timezone__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment_timezone__WEBPACK_IMPORTED_MODULE_0__),vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(720144);
/* harmony import */function botTime(timeStamp){var currentTime=moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()().tz(vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.$timezone).valueOf(),msPerMinute=6e4,msPer5Minutes=5*msPerMinute,msPerHour=60*msPerMinute,msPerDay=24*msPerHour,msPerWeek=7*msPerDay,elapsed=currentTime-timeStamp;if(elapsed<msPerMinute)return"now";if(elapsed<msPer5Minutes){var minutesAgo=Math.floor(elapsed/msPerMinute);return minutesAgo+" min ago"}if(elapsed<msPerDay){var formattedTime=moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(timeStamp).tz(vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.$timezone).format("h:mm a");return formattedTime}if(elapsed<msPerWeek){var _formattedTime=moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(timeStamp).tz(vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.$timezone).format("ddd h:mm a");return _formattedTime}var _formattedTime2=moment_timezone__WEBPACK_IMPORTED_MODULE_0___default()(timeStamp).tz(vue__WEBPACK_IMPORTED_MODULE_1__["default"].prototype.$timezone).format("MMM-DD h:mm a");return _formattedTime2}
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/chunk-common-e271a148.js.map