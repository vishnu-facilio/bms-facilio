(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[63040,32686,80865,71569,53021,20470],{
/***/574655:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return BulkUpdateViewer}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/BulkUpdateViewer.vue?vue&type=template&id=147d3385
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("f-dialog",{attrs:{"append-to-body":!0,visible:_vm.fieldUpdateValue,width:"45%",maxHeight:"300px",title:"Bulk Update",confirmTitle:"UPDATE"},on:{"update:visible":function($event){_vm.fieldUpdateValue=$event},save:function($event){return _vm.actionSave(_vm.fieldMatcher)},close:function($event){_vm.fieldUpdateValue=!1,_vm.actioncancel()}}},[_c("div",{staticClass:"height330 overflow-y-scroll pB50"},_vm._l(_vm.fieldMatcher,(function(element,index){return _c("div",{key:index},[_c("el-row",{staticClass:"visibility-visible-actions fc-row-hover pT10 pB10 pL10 pointer"},[_c("el-col",{attrs:{span:1}},[_c("div",{staticClass:"criteria-alphabet-block pT6"},[_c("div",{staticClass:"alphabet-circle"},[_vm._v(" "+_vm._s(index+1)+" ")])])]),_c("el-col",{staticClass:"mL10",attrs:{span:9}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{filterable:""},on:{change:function($event){return _vm.statusFieldName(element,index)}},model:{value:element.field,callback:function($$v){_vm.$set(element,"field",$$v)},expression:"element.field"}},_vm._l(_vm.updateFields,(function(field,index){return _c("el-option",{key:index,attrs:{disabled:!_vm.checkUpdate(field),label:field.displayName,value:field.name}})})),1)],1),_c("el-col",{attrs:{span:9}},[_c("div",[element.fieldObj?element.isSpacePicker?_c("div",[_c("el-input",{staticClass:"fc-input-full-border-select2 width100 mL40",attrs:{type:"text",placeholder:_vm.$t("common._common.to_search_type")},on:{change:function($event){return _vm.checkinput(element)}},model:{value:_vm.selectedspace,callback:function($$v){_vm.selectedspace=$$v},expression:"selectedspace"}},[_vm.searchbool?_c("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{"line-height":"0px !important","font-size":"16px !important",cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function($event){_vm.chooserVisibility=!0,_vm.assignindex(index)}},slot:"suffix"}):_vm._e()]),_c("space-asset-chooser",{attrs:{visibility:_vm.chooserVisibility},on:{associate:_vm.associate,"update:visibility":function($event){_vm.chooserVisibility=$event}}})],1):element.isAssigned?_c("div",[_c("div",{staticClass:"fc-border-input-div2 width100 mL40"},[_c("span",[_vm._v(_vm._s(_vm.getTeamStaffLabel(_vm.confirmRequest)))]),_c("span",{staticStyle:{float:"right","padding-right":"12px"}},[_c("img",{staticClass:"svg-icon team-down-icon",attrs:{src:__webpack_require__(620955)}})])]),_c("f-assignment",{attrs:{model:_vm.confirmRequest,viewtype:"form"},on:{value:function($event){return _vm.updateConfirmRequest($event,index)}}})],1):_c("div",["NUMBER"===element.fieldObj[0].dataTypeEnum._name||"DECIMAL"===element.fieldObj[0].dataType?_c("el-input",{staticClass:"fc-input-full-border-select2 mL40 width140px",attrs:{type:"number"},on:{change:function($event){return _vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}}):"BOOLEAN"===element.fieldObj[0].dataTypeEnum._name?_c("el-select",{staticClass:"fc-input-full-border-select2 mL40 width140px",on:{change:function($event){return _vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}},[_c("el-option",{attrs:{label:element.fieldObj[0].trueVal?element.fieldObj[0].trueVal:"Yes",value:"true"}}),_c("el-option",{attrs:{label:element.fieldObj[0].falseVal?element.fieldObj[0].falseVal:"No",value:"false"}})],1):"ENUM"===element.fieldObj[0].dataTypeEnum._name?_c("el-select",{staticClass:"fc-input-full-border-select2 width100 mL40",attrs:{filterable:"","collapse-tags":""},on:{change:function($event){return _vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}},_vm._l(_vm.picklistOptions[element.field],(function(value,key){return _c("el-option",{key:key,attrs:{label:value,value:key}})})),1):"DATE"===element.fieldObj[0].dataTypeEnum._name||"DATE_TIME"===element.fieldObj[0].dataTypeEnum._name?_c("el-row",{staticClass:"mL40"},[_c("el-date-picker",{staticClass:"fc-input-full-border-select2 width100 date-editor",staticStyle:{width:"290px"},attrs:{type:"datetime"},on:{change:function($event){_vm.changeDataType(element,index),_vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}})],1):"LOOKUP"!==element.fieldObj[0].dataTypeEnum._name||"LOOKUP_SIMPLE"!==element.fieldObj[0].displayType._name&&"LOOKUP_POPUP"!==element.fieldObj[0].displayType._name?_vm.isMultiLookUpField(element)?_c("FLookupField",{key:index+" "+element.fieldObj[0].id,staticClass:"width100 mL40 bulk-update-flookup",attrs:{"data-test-selector":""+element.fieldObj[0].name,model:element.valueArray,field:_vm.getMultiLookUpFieldObj(element.fieldObj[0]),canShowLookupWizard:_vm.showLookupFieldWizard},on:{recordSelected:function($event){_vm.changeDataType(element,index),_vm.checkinput(element)},"update:model":function($event){return _vm.$set(element,"valueArray",$event)},showLookupWizard:_vm.showLookupWizard,setLookupFieldValue:_vm.setLookupFieldValue}}):_c("el-input",{staticClass:"fc-input-full-border-select2 mL40 width100",on:{change:function($event){return _vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}}):_c("FLookupField",{key:index+" "+element.fieldObj[0].id,staticClass:"width100 mL40 bulk-update-flookup",attrs:{"data-test-selector":""+element.fieldObj[0].name,model:element.valueArray,field:element.fieldObj[0],canShowLookupWizard:_vm.showLookupFieldWizard},on:{recordSelected:function($event){_vm.changeDataType(element,index),_vm.checkinput(element)},"update:model":function($event){return _vm.$set(element,"valueArray",$event)},showLookupWizard:_vm.showLookupWizard,setLookupFieldValue:_vm.setLookupFieldValue}})],1):_c("div",[_c("el-input",{staticClass:"fc-input-full-border-select2 mL40 width100",on:{change:function($event){return _vm.checkinput(element)}},model:{value:element.value,callback:function($$v){_vm.$set(element,"value",$$v)},expression:"element.value"}})],1)])]),_c("el-col",{attrs:{span:4}},[_c("div",{staticClass:"visibility-hide-actions pT15 pL55 pointer"},[_c("img",{staticClass:"pointer",attrs:{src:__webpack_require__(353654)},on:{click:function($event){return _vm.addRow(element)}}}),_vm.indexbool?_c("img",{staticClass:"pointer mL5",attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteRow(element,index)}}}):_vm._e()])])],1)],1)})),0),_vm.showLookupFieldWizard?_c("FLookupFieldWizard",{attrs:{canShowLookupWizard:_vm.showLookupFieldWizard,selectedLookupField:_vm.selectedLookupField,withReadings:!0},on:{"update:canShowLookupWizard":function($event){_vm.showLookupFieldWizard=$event},"update:can-show-lookup-wizard":function($event){_vm.showLookupFieldWizard=$event},setLookupFieldValue:_vm.setLookupFieldValue}}):_vm._e()],1)],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(425728),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(339772),__webpack_require__(420629)),picklist=__webpack_require__(961358),FAssignment=__webpack_require__(383274),SpaceAssetChooser=__webpack_require__(372587),FDialogNew=__webpack_require__(436756),validation=__webpack_require__(990260),FLookupField=__webpack_require__(855048),FLookupFieldWizard=__webpack_require__(499751),TeamStaffMixin=__webpack_require__(462599),BulkUpdateViewervue_type_script_lang_js={created:function(){this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadGroups")},mixins:[TeamStaffMixin/* default */.Z],computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users},groups:function(state){return state.groups},ticketcategory:function(state){return state.ticketCategory},assetCategory:function(state){return state.assetCategory},ticketpriority:function(state){return state.ticketPriority},moduleFields:function(state){return state.view.metaInfo.fields}})),data:function(){return{confirmRequest:{assignedTo:{id:null},assignmentGroup:{id:null}},showLookupFieldWizard:!1,indexcount:0,checkbool:!1,indexbool:!1,updateFields:[],fieldbool:!1,fielddeletelist:[],fieldupdatelist:[],fieldnewlist:[],searchbool:!0,selectedspace:null,referindex:-1,index:null,fieldContext:"",chooserVisibility:!1,picklistOptions:{},fieldUpdateValue:!0,spacePicker:!1,fieldMatcher:[],selectedLookupField:null}},components:{FAssignment:FAssignment/* default */.Z,FDialog:FDialogNew/* default */.Z,SpaceAssetChooser:SpaceAssetChooser/* default */.Z,FLookupField:FLookupField/* default */.Z,FLookupFieldWizard:FLookupFieldWizard["default"]},props:["module","fieldlist"],watch:{},mounted:function(){this.addRow(),this.update()},methods:{updateConfirmRequest:function(value,index){null!=value.assignedTo.id&&(this.confirmRequest.assignedTo.id=value.assignedTo.id,this.fieldMatcher[index].value=value.assignedTo.id),null!=value.assignmentGroup.id&&(this.confirmRequest.assignmentGroup.id=value.assignmentGroup.id,this.fieldMatcher[index].valueArray=value.assignmentGroup.id)},checkinput:function(selectedField){this.fieldupdatelist.push(selectedField.field)},actioncancel:function(){this.$emit("closed")},assignindex:function(val){this.index=val},associate:function(selectedObj){this.searchbool=!1,this.fieldMatcher[this.index].parseLabel=selectedObj,this.selectedspace=selectedObj.name,this.chooserVisibility=!1},update:function(){var _this=this;this.fieldnewlist=this.fieldlist,this.moduleFields&&this.fieldnewlist&&(this.updateFields=this.moduleFields.filter((function(field){return!field.default||_this.fieldnewlist.includes(field.name)})),this.updateFields.find((function(fm){"assignedTo"===fm.name&&(fm.displayName="Team / Staff")})))},checkUpdate:function(field){return!this.fieldupdatelist.find((function(fm){return fm===field.name}))},statusFieldName:function(selectedField,index){void 0!=selectedField&&this.fieldupdatelist.push(selectedField.field);var field=this.moduleFields.filter((function(field){return field.name===selectedField.field}));if(this.fieldMatcher[index].fieldObj=field,this.fieldMatcher[index].isSpacePicker=!1,this.fieldMatcher[index].isAssigned=!1,field.length>0){if(this.fieldMatcher[index].columnName=field[0].completeColumnName,"ENUM"===field[0].dataTypeEnum._name&&this.$set(this.picklistOptions,field[0].name,field[0].enumMap),"LOOKUP"===field[0].dataTypeEnum._name&&field[0].specialType)"requester"===field[0].specialType?this.loadPickList(field[0].lookupModule.name,field[0].name):this.loadSpecialTypePickList(field[0].specialType,field[0].name,index);else if("LOOKUP"===field[0].dataTypeEnum._name&&field[0].lookupModule)if("ticketpriority"===field[0].lookupModule.name){var priority={};this.ticketpriority.forEach((function(d){priority[d.id]=d.displayName})),this.$set(this.picklistOptions,field[0].name,priority)}else"resource"===field[0].lookupModule.name?this.loadSpecialTypePickList(field[0].lookupModule.name,field[0].name,index):this.loadPickList(field[0].lookupModule.name,field[0].name);this.$forceUpdate()}},loadPickList:function(moduleName,fieldName){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:moduleName,skipDeserialize:!0}});case 2:_yield$getFieldOption=_context.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this2.$message.error(error.message||"Error Occured"):_this2.$set(_this2.picklistOptions,fieldName,options);case 6:case"end":return _context.stop()}}),_callee)})))()},changeDataType:function(criteria,index){if((0,validation/* isEmpty */.xb)(index)||(0,validation/* isEmpty */.xb)(criteria[index])||"DATE_TIME"!==criteria[index].fieldObj[0].dataTypeEnum._name&&"DATE"!==criteria[index].fieldObj[0].dataTypeEnum._name)criteria.valueArray&&(criteria.value={id:criteria.valueArray});else if(criteria[index].value){var interval=this.$helpers.daysHoursMinuToSec(criteria[index].value);criteria[index].value=1e3*interval,this.fieldMatcher[index].value=criteria[index].value}this.$forceUpdate()},actionSave:function(datas){var data=this.$helpers.cloneObject(datas);data&&this.$emit("submit",data)},addRow:function(){var _this3=this;this.indexcount++;var fieldMatcher=this.fieldMatcher;this.indexcount>1?this.indexbool=!0:this.indexbool=!1,this.moduleFields&&this.fieldlist&&(this.updateFields=this.moduleFields.filter((function(field){return!field.default||_this3.fieldlist.includes(field.name)})),this.updateFields.find((function(fm){"assignedTo"===fm.name&&(fm.displayName="Team / Staff")})));var newField={field:"",isSpacePicker:!1,isAssigned:!1,value:null,parseLabel:null,valueArray:null,dateObject:{},fieldObj:[{displayName:"",dataTypeEnum:{_name:""}}]};this.$set(this.fieldMatcher,fieldMatcher.length,newField)},deleteRow:function(element,index){this.indexcount--,this.indexcount>1?this.indexbool=!0:this.indexbool=!1;for(var i=0;i<this.fieldupdatelist.length;i++)this.fieldupdatelist[i]===element.field&&(this.referindex=i);-1!=this.referindex&&this.fieldupdatelist.splice(this.referindex,1),this.referindex=-1,
// this.fielddeletelist.push(element.field)
this.fieldMatcher.splice(index,1)},loadSpecialTypePickList:function(specialType,fieldName,index){var self=this,pickOption={};if("users"===specialType||"groups"===specialType)this.fieldMatcher[index].isAssigned=!0;else if("basespace"===specialType){this.fieldMatcher[index].isSpacePicker=!0;var _step,spaceList=self.$store.state.spaces,_iterator=(0,createForOfIteratorHelper/* default */.Z)(spaceList);try{for(_iterator.s();!(_step=_iterator.n()).done;){var space=_step.value;pickOption[space.id]=space.name}}catch(err){_iterator.e(err)}finally{_iterator.f()}self.$set(self.picklistOptions,fieldName,pickOption)}else"resource"===specialType?this.fieldMatcher[index].isSpacePicker=!0:"sourceType"===specialType&&self.$set(self.picklistOptions,fieldName,this.$constants.SourceType)},showLookupWizard:function(field,canShow){this.selectedLookupField=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},field),{},{config:{}}),this.showLookupFieldWizard=canShow},setLookupFieldValue:function(value){var _this4=this,field=value.field,selectedItems=field.selectedItems,fieldMatcher=this.fieldMatcher,selectedLookupField=this.selectedLookupField,currentFieldIndex=fieldMatcher.findIndex((function(field){var name=_this4.$getProperty(field,"fieldObj.0.name");return name===selectedLookupField.name})),currentField=fieldMatcher[currentFieldIndex];if(field.multiple){var valueArrayItems=[];selectedItems.forEach((function(selectedItem){var _ref=selectedItem||{},value=_ref.value;valueArrayItems.push(value)})),currentField=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},currentField),{},{valueArray:valueArrayItems})}else currentField=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},currentField),{},{valueArray:selectedItems[0].value});(0,validation/* isEmpty */.xb)(fieldMatcher[currentFieldIndex])||(this.$set(this.fieldMatcher,currentFieldIndex,currentField),this.changeDataType(currentField,currentFieldIndex),this.checkinput(currentField)),this.showLookupFieldWizard=!1},isMultiLookUpField:function(element){var _ref2=element||{},fieldObj=_ref2.fieldObj,_ref3=fieldObj[0]||{},displayType=_ref3.displayType,dataTypeEnum=_ref3.dataTypeEnum,_ref4=displayType||{},displayTypeName=_ref4._name,_ref5=dataTypeEnum||{},dataTypeEnumName=_ref5._name;return!("MULTI_LOOKUP"!==dataTypeEnumName||!["MULTI_LOOKUP_POPUP","MULTI_LOOKUP_SIMPLE"].includes(displayTypeName))},getMultiLookUpFieldObj:function(variable){return variable["multiple"]=!0,variable}}},components_BulkUpdateViewervue_type_script_lang_js=BulkUpdateViewervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_BulkUpdateViewervue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,BulkUpdateViewer=component.exports},
/***/490966:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ColumnCustomization}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/ColumnCustomization.vue?vue&type=template&id=3753cf18
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.showDialog,fullscreen:!0,"custom-class":"cc-dialog",title:_vm.$t("common._common.column_settings"),"append-to-body":!0},on:{"update:visible":function($event){_vm.showDialog=$event}}},[_c("div",{staticClass:"scrollable",staticStyle:{padding:"20px 0","max-height":"85vh"}},[_vm.fixedFields&&_vm.fixedFields.length?_c("div",{staticClass:"fixed-column"},[_c("el-checkbox-group",{model:{value:_vm.selectedFixedColumns,callback:function($$v){_vm.selectedFixedColumns=$$v},expression:"selectedFixedColumns"}},_vm._l(_vm.fixedFields,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",staticStyle:{border:"none"},attrs:{disabled:field.disabled,label:field.fieldId}},[_vm._v(_vm._s(_vm.getDisplayName(field)))])})),1)],1):_vm._e(),_c("el-divider",{staticClass:"mT0 mB20"}),_c("el-checkbox-group",{staticClass:"fc-column-checkbox pL20 pR20 pT0 pB0",model:{value:_vm.selectedColumns,callback:function($$v){_vm.selectedColumns=$$v},expression:"selectedColumns"}},[_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.sortedFields,"data-parent":"default"}},_vm._l(_vm.sortedFields,(function(field){return _c("el-checkbox",{key:field.name,staticClass:"column-item",class:{checkboxSelected:!0===field.edit},attrs:{label:field.name,value:field.name}},[_c("el-row",[_c("el-col",{attrs:{span:1}},[_c("inline-svg",{staticClass:"vertical-middle cursor-drag icon-right column-drag-icon",staticStyle:{cursor:"-webkit-grabbing"},attrs:{src:"drag-drop",iconClass:"icon icon-sm-md"}})],1),_c("el-col",{attrs:{span:22}},[field.edit?_c("el-input",{ref:"columnRenameInp",refInFor:!0,staticClass:"fc-input-border-remove width90 column-name-change-input",attrs:{placeholder:"Change your column name",autofocus:!0},on:{blur:function($event){field.edit=!1,_vm.$emit("update")},keyup:function($event){if(!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter"))return null;field.edit=!1,_vm.$emit("update")}},model:{value:field.columnDisplayName,callback:function($$v){_vm.$set(field,"columnDisplayName",$$v)},expression:"field.columnDisplayName"}}):_c("div",{},[_vm._v(" "+_vm._s(field.columnDisplayName)+" "),field.field&&field.field.displayName!==field.columnDisplayName?_c("span",{staticClass:"fc-grey-text12 pL5"},[_vm._v(_vm._s(field.field.displayName))]):_vm._e()])],1),_c("el-col",{staticClass:"visibility-hide-actions text-right",attrs:{span:1}},[_c("i",{staticClass:"el-icon-edit pR10 fc-grey3-text14 pL25 column-edit-icon",on:{click:function($event){return $event.stopPropagation(),$event.preventDefault(),_vm.showRenameColumn(field)}}})])],1)],1)})),1),_c("draggable",{attrs:{options:_vm.dragOptions,list:_vm.selectedlookupColumns,"data-parent":_vm.selectedLookup}},_vm._l(_vm.selectedlookupColumns,(function(field){return _c("el-checkbox",{key:field.fieldId,staticClass:"column-item",attrs:{label:field.fieldId,"data-field-id":field.fieldId},on:{change:function($event){return _vm.onLookupSelected(field)}}},[_vm._v(" "+_vm._s(field.columnDisplayName)+" ")])})),1)],1)],1),_c("div",{staticClass:"modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){_vm.showDialog=!1}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.isSaving,disabled:_vm.isSaving},on:{click:_vm.save}},[_vm._v(_vm._s(_vm.isSaving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),toConsumableArray=__webpack_require__(488478),vuex_esm=(__webpack_require__(670560),__webpack_require__(450886),__webpack_require__(434284),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(634338),__webpack_require__(339772),__webpack_require__(947522),__webpack_require__(420629)),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),validation=__webpack_require__(990260),jquery=__webpack_require__(619755),jquery_default=__webpack_require__.n(jquery),columnConfigUtil=__webpack_require__(486613),ColumnCustomizationvue_type_script_lang_js={props:["visible","moduleName","viewName","relatedViewDetail","relatedMetaInfo","refreshRelatedList","excludeMainField"],data:function(){return{selectedColumns:[],selectedFixedColumns:[],showDialog:this.visible,sortedFields:this.allFields,nonSelectableColumns:["localId","photoId"],lookupMetaColumns:{},selectedLookup:"",dragOptions:{handle:".icon-right",ghostClass:"drag-ghost",dragClass:"custom-drag",animation:150},columnNameShow:!1,isSaving:!1,editedColumn:null}},components:{draggable:vuedraggable_umd_default()},created:function(){var _this$nonSelectableCo,nonSelectableColumns=this.$getProperty(this.columnConfig,"nonSelectableColumns");(0,validation/* isEmpty */.xb)(nonSelectableColumns)||(_this$nonSelectableCo=this.nonSelectableColumns).push.apply(_this$nonSelectableCo,(0,toConsumableArray/* default */.Z)(nonSelectableColumns));this.sortedFields=this.allFields},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({stateMetaInfo:function(state){return state.view.metaInfo},stateViewDetail:function(state){return state.view.currentViewDetail}})),{},{metaInfo:function(){var stateMetaInfo=this.stateMetaInfo,relatedMetaInfo=this.relatedMetaInfo;return(0,validation/* isEmpty */.xb)(relatedMetaInfo)?stateMetaInfo:relatedMetaInfo},viewDetail:function(){var stateViewDetail=this.stateViewDetail,relatedViewDetail=this.relatedViewDetail;return(0,validation/* isEmpty */.xb)(relatedViewDetail)?stateViewDetail:relatedViewDetail},currentView:function(){return this.viewName?this.viewName:this.$route.params.viewname?this.$route.params.viewname:"all"},columnConfig:function(){var _ref=this.$attrs||{},columnConfig=_ref.columnConfig;return(0,validation/* isEmpty */.xb)(columnConfig)?(0,columnConfigUtil/* getColumnConfig */.U)(this.moduleName):columnConfig},fixedColumns:function(){
// Will be disabled. User wont be able to select
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedColumns=columnConfig.fixedColumns;return fixedColumns}return[]},fixedSelectableColumns:function(){
// Cannot change the order
var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var fixedSelectableColumns=columnConfig.fixedSelectableColumns;return fixedSelectableColumns}return[]},availableColumns:function(){var columnConfig=this.columnConfig;if(!(0,validation/* isEmpty */.xb)(columnConfig)){var availableColumns=columnConfig.availableColumns;return availableColumns}return[]},metaColumns:function(){var _this=this,columns=[];return this.metaInfo&&this.metaInfo.fields&&this.viewDetail&&(columns=this.metaInfo.fields.map((function(field){return field.columnDisplayName=_this.viewDetail.defaultModuleFields&&_this.viewDetail.defaultModuleFields[field.name]?_this.viewDetail.defaultModuleFields[field.name].columnDisplayName:field.displayName,field}))),columns},allFields:function(){var _this2=this,viewFields=this.viewFields.filter((function(field){return 17!==_this2.$getProperty(field,"field.dataType")})),metaColumns=this.metaColumns.filter((function(field){return!_this2.viewFields.find((function(val){return val.name===field.name}))&&!(_this2.nonSelectableColumns||[]).includes(field.name)&&(!(_this2.availableColumns||{}).length||-1!==_this2.availableColumns.indexOf(field.name)||!field.default)&&17!==field.dataType})),columns=[].concat((0,toConsumableArray/* default */.Z)(viewFields),(0,toConsumableArray/* default */.Z)(metaColumns)).filter((function(field){return!(_this2.allFixedColumns||[]).includes(field.name)}));return columns},viewFields:function(){var _this3=this,columns=[];return this.viewDetail&&this.viewDetail.fields&&(columns=this.viewDetail.fields.map((function(vf){vf.name=(vf.field||{}).name||vf.fieldName,vf.fieldId=(vf.field||{}).fieldId;var defaultColumnName=_this3.viewDetail.defaultModuleFields&&_this3.viewDetail.defaultModuleFields[vf.name]?_this3.viewDetail.defaultModuleFields[vf.name].columnDisplayName:null;return vf.columnDisplayName=vf.columnDisplayName||defaultColumnName||vf.field.displayName,vf}))),columns},fixedFields:function(){var _this4=this;return this.metaColumns.filter((function(field){return(_this4.allFixedColumns||[]).includes(field.name)})).map((function(field){return field.disabled=(_this4.fixedColumns||[]).includes(field.name),field}))},allFixedColumns:function(){return(0,validation/* isEmpty */.xb)(this.fixedSelectableColumns)?this.fixedColumns:this.fixedColumns.concat(this.fixedSelectableColumns)},lookupList:function(){var _this5=this,fields=[];return(this.columnConfig||{}).lookupToShow&&this.metaColumns&&(fields=this.metaColumns.filter((function(field){return field.lookupModule&&(!_this5.columnConfig.lookupToShow.length||(_this5.columnConfig.lookupToShow||[]).includes(field.name))}))),fields},selectedlookupColumns:function(){var _this6=this;return this.lookupMetaColumns[this.selectedLookup]?this.lookupMetaColumns[this.selectedLookup].filter((function(field){return-1===_this6.sortedFields.findIndex((function(vf){return vf.fieldId===field.fieldId}))})).map((function(field){return field.columnDisplayName=field.displayName,field.parentFieldId=_this6.selectedLookupObj.fieldId,field})):[]},selectedLookupObj:function(){var _this7=this;return this.lookupList.find((function(field){return field.name===_this7.selectedLookup}))},mainField:function(){return this.metaColumns.find((function(field){return field.mainField}))}}),watch:{visible:function(val,oldVal){val&&this.reInit(),this.showDialog=val},showDialog:function(val,oldVal){this.$emit("update:visible",val)},allFields:function(val){this.sortedFields=val}},methods:{showRenameColumn:function(field){var _this8=this;this.$set(field,"edit",!0),this.$nextTick((function(){_this8.$refs["columnRenameInp"][0].focus()}))},save:function(){var _this9=this;this.isSaving=!0;var excludeMainField=this.excludeMainField,fields=[];fields=(0,validation/* isEmpty */.xb)(excludeMainField)?[{fieldId:this.mainField.id}].concat((0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}})))):(0,toConsumableArray/* default */.Z)(this.sortedFields.filter((function(sf){return(_this9.selectedColumns||[]).includes(sf.name)})).map((function(sf){return{fieldId:sf.fieldId,parentFieldId:sf.parentFieldId,columnDisplayName:sf.columnDisplayName,fieldName:sf.name||sf.fieldName}}))),fields=[].concat((0,toConsumableArray/* default */.Z)(fields),(0,toConsumableArray/* default */.Z)(this.selectedFixedColumns.map((function(id){return{fieldId:id}}))));var self=this;this.$store.dispatch("view/customizeColumns",{moduleName:this.moduleName,viewName:this.currentView,fields:fields}).then((function(){self.isSaving=!1,self.showDialog=!1,self.$emit("refreshRelatedList"),self.$message.success(self.$t("common._common.view_updated_successfully"))})).catch((function(error){_this9.$message.error(error.message||_this9.$t("common._common.error_occured"))}))},editColumn:function(){this.editedColumn=this.field},reInit:function(){var _this10=this;this.selectedLookup="",this.selectedColumns=[],this.selectedFixedColumns=[],this.viewFields.forEach((function(vf){(_this10.allFixedColumns||[]).includes(vf.name)&&-1===vf.parentFieldId?(_this10.fixedSelectableColumns||[]).includes(vf.name)&&_this10.selectedFixedColumns.push(vf.fieldId):_this10.selectedColumns.push(vf.name)}))},loadModuleMeta:function(){var _this11=this;this.selectedLookup&&!this.lookupMetaColumns[this.selectedLookup]&&this.$http.get("/module/meta?moduleName="+this.selectedLookupObj.lookupModule.name).then((function(response){_this11.$set(_this11.lookupMetaColumns,_this11.selectedLookup,response.data.meta.fields)}))},getDisplayName:function(field){var displayName=field.columnDisplayName;if(this.viewDetail&&this.viewDetail.fields){var vf=this.viewDetail.fields.find((function(vf){return vf.name===field.name}));vf&&(displayName=vf.columnDisplayName||displayName)}return displayName},onLookupSelected:function(field){this.animate(field.fieldId,(function(){this.selectedlookupColumns=this.selectedlookupColumns.filter((function(lf){return lf.fieldId!==field.fieldId})),field.columnDisplayName+=" ("+this.selectedLookupObj.displayName+")",this.sortedFields.push(field)}))},animate:function(fieldId,cbk){var $selectedElement=jquery_default()('[data-field-id="'+fieldId+'"]'),oldOffset=$selectedElement.offset();$selectedElement.appendTo(jquery_default()("[data-parent='default']"));var newOffset=$selectedElement.offset(),temp=$selectedElement.clone().appendTo("body");temp.css({position:"absolute",left:oldOffset.left,top:oldOffset.top,zIndex:3e3,width:$selectedElement[0].offsetWidth}),$selectedElement.css("visibility","hidden");var self=this;temp.animate({top:newOffset.top,left:newOffset.left},350,(function(){
// $selectedElement.css('visibility', 'visible')
$selectedElement.remove(),temp.remove(),cbk.call(self)}))}}},components_ColumnCustomizationvue_type_script_lang_js=ColumnCustomizationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ColumnCustomizationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ColumnCustomization=component.exports},
/***/720096:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PreviewFile}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PreviewFile.vue?vue&type=template&id=447c7e89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.currentFile?_c("div",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"preview-file"},[_c("div",{staticClass:"top-toolbar"},[_c("div",{staticClass:"a-top-toolbar"},[_c("div",{staticClass:"file-name word-break-keep"},[_vm._v(" "+_vm._s(_vm.currentFile.fileName)+" ")]),_c("div",{staticClass:"top-toolbar-icon-right flex align-center"},[_vm.currentFile.contentType.includes("image")?[_c("div",{staticClass:"flex-middle pL15"},[_vm.showOriginalImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showOriginalPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_original"))+" ")]):_vm._e(),_vm.showCompressedImage?_c("div",{staticClass:"fc-white-14 word-break-keep pointer",on:{click:_vm.showCompressedPhoto}},[_vm._v(" "+_vm._s(_vm.$t("common._common.view_default"))+" ")]):_vm._e()]),_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.currentFile.contentType.includes("pdf")?[_c("div",{staticClass:"download-icon round flex-middle pL15",on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("i",{staticClass:"el-icon-download op8",staticStyle:{color:"#ffff"}})])]:_vm._e(),_vm.showDeleteOption()?_c("div",{staticClass:"flex-middle pL15",on:{click:function($event){return _vm.deletePreview()}}},[_c("inline-svg",{staticClass:"pointer edit-icon-color close vertical-text-top",attrs:{src:"svgs/delete",iconClass:"icon icon-md"}})],1):_vm._e(),_c("div",{staticClass:"pL15"},[_c("i",{staticClass:"el-icon-close close",on:{click:_vm.closePreview}})])],2)])]),_vm.currentFileIndex>0?_c("a",{staticClass:"el-icon-arrow-left prev",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(-1)}}}):_vm._e(),_vm.currentFileIndex<_vm.files.length-1?_c("a",{staticClass:"el-icon-arrow-right next",staticStyle:{"font-size":"30px"},on:{click:function($event){return _vm.plusSlides(1)}}}):_vm._e(),_c("div",{staticClass:"preview-content"},[_vm.currentFile.contentType.includes("image")?[_vm.compressedImage?_c("img",{staticClass:"content",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl)}}):_vm.originalImage?_c("img",{staticClass:"content original",staticStyle:{"box-shadow":"none"},attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl+"?fetchOriginal=true")}}):_vm._e()]:_vm.currentFile.contentType.includes("pdf")?_c("div",{staticClass:"width100 height-100"},[_c("iframe",{staticClass:"fc-preview-pdf",attrs:{src:_vm.$prependBaseUrl(_vm.currentFile.previewUrl),height:"100%",width:"100%"}})]):_vm.isVideoSupported(_vm.currentFile.contentType)?_c("div",{staticClass:"width100 height-100 fc-preview-video"},[_c("video",{attrs:{controls:""}},[_c("source",{attrs:{src:_vm.$prependBaseUrl(_vm.$getProperty(_vm.currentFile,"downloadUrl",null)),type:_vm.$getProperty(_vm.currentFile,"contentType")}}),_vm._v(" "+_vm._s(_vm.$t("common._common.browser_not_supported"))+" ")])]):_c("div",{staticClass:"no-preview"},[_c("div",{staticClass:"flex justify-center pT24"},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:_vm.getFileIcon(_vm.currentFile),iconClass:"icon icon-60 overlay"}})],1),_c("div",{staticClass:"f14 pT12 pB12"},[_vm._v("No preview available")]),_c("div",{staticClass:"download-button"},[_c("a",{staticClass:"flex flex-row",staticStyle:{color:"#ffff"},on:{click:function($event){return _vm.downloadAttachment(_vm.currentFile)}}},[_c("div",[_vm._v("Download")])])])])],2),_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e()]):_vm._e()},staticRenderFns=[],validation=(__webpack_require__(339772),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(228436),__webpack_require__(990260)),PreviewFilevue_type_script_lang_js={props:["previewFile","files","visibility","showDelete","isLockedState","isTaskClosed"],data:function(){return{show:!0,previewUrl:null,currentFileIndex:0,currentFile:null,imageMargin:null,exportDownloadUrl:null,originalImage:!1,compressedImage:!0,showOriginalImage:!0,showCompressedImage:!1}},destroyed:function(){window.removeEventListener("keyup",this.handler)},mounted:function(){window.addEventListener("keyup",this.handler),this.preloadImages()},watch:{},computed:{},methods:{handler:function(){
// If escape key is pressed...
27===event.keyCode?this.closePreview():37===event.keyCode?this.plusSlides(-1):39===event.keyCode&&this.plusSlides(1)},preloadImages:function(){this.currentFile=this.previewFile?this.previewFile:this.files[0],this.currentFileIndex=this.files.indexOf(this.currentFile)},plusSlides:function(n){var index=this.currentFileIndex+n;index<0&&(index=0),index>=this.files.length&&(index=this.files.length-1),this.currentFileIndex=index,this.currentFile=this.files[index]},closePreview:function(){this.$emit("update:visibility",!1)},deletePreview:function(){var currentFile=this.currentFile;this.$emit("onDelete",currentFile)},downloadAttachment:function(file){var _this=this,_ref=file||{},url=_ref.downloadUrl;this.exportDownloadUrl&&(this.exportDownloadUrl=null),this.$nextTick((function(){_this.exportDownloadUrl=url}))},showOriginalPhoto:function(){this.originalImage=!0,this.showCompressedImage=!0,this.showOriginalImage=!1,this.compressedImage=!1},showCompressedPhoto:function(){this.showCompressedImage=!1,this.originalImage=!1,this.showOriginalImage=!0,this.compressedImage=!0},getFileIcon:function(attachment){var contentType=attachment.contentType,FILE_TYPE_ICONS=this.$constants.FILE_TYPE_ICONS,selectedIndex=FILE_TYPE_ICONS.findIndex((function(icons){var fileTypes=icons.fileTypes;return fileTypes.some((function(type){return contentType.includes(type)}))}));return(0,validation/* isEmpty */.xb)(selectedIndex)?FILE_TYPE_ICONS[0].path:FILE_TYPE_ICONS[selectedIndex].path},isVideoSupported:function(contentType){contentType=contentType||"";var supportedTypes=["video/webm","video/mp4","video/ogg"];return supportedTypes.includes(contentType.trim().toLowerCase())},showDeleteOption:function(){var showDelete=this.showDelete,isLockedState=this.isLockedState,isTaskClosed=this.isTaskClosed;return showDelete&&!isLockedState&&!isTaskClosed}}},components_PreviewFilevue_type_script_lang_js=PreviewFilevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PreviewFilevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PreviewFile=component.exports},
/***/372587:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SpaceAssetChooser}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/SpaceAssetChooser.vue?vue&type=template&id=daefb110
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{visible:_vm.visibility,fullscreen:!1,open:"top","custom-class":" fc-dialog-up spaceassetchooser setup-dialog60","append-to-body":!0,"before-close":_vm.handleclose},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{attrs:{id:"spaceassetchooser"}},[_c("div",{staticStyle:{height:"600px","max-height":"600px"}},[_vm.hideSidebar?_vm._e():_c("div",{staticClass:"sidebar",staticStyle:{height:"100%",width:"33%",display:"inline-block"}},[_c("div",{staticClass:"pT30",staticStyle:{"margin-left":"30px","z-index":"100"}},[_c("div",{staticClass:"flLeft",staticStyle:{"padding-right":"30px"},attrs:{disabled:"asset"===_vm.picktype},on:{click:function($event){"asset"!==_vm.picktype&&_vm.openSpace()}}},[_c("div",{staticClass:"flLeft",staticStyle:{"padding-top":"1px"}},[_c("i",{staticClass:"el-icon-circle-check",class:_vm.isAsset?"normalspace":"selectedspace"})]),_c("div",{staticClass:"txtstyle pointer flLeft",staticStyle:{"padding-left":"5px"}},[_vm._v(" "+_vm._s(_vm.$t("common.space_asset_chooser.space"))+" ")]),_c("div",{staticClass:"clearboth"})]),_c("div",{staticClass:"flLeft",attrs:{disabled:"space"===_vm.picktype},on:{click:function($event){"space"!==_vm.picktype&&_vm.openAsset()}}},[_c("div",{staticClass:"flLeft",staticStyle:{"padding-top":"1px"}},[_c("i",{staticClass:"el-icon-circle-check",class:_vm.isAsset?"selectedspace":"normalspace"})]),_c("div",{staticClass:"flLeft"},[_c("span",{staticClass:"txtstyle pointer",staticStyle:{"padding-left":"5px"}},[_vm._v(_vm._s(_vm.$t("common.space_asset_chooser.asset")))])]),_c("div",{staticClass:"clearboth"})]),_c("div",{staticClass:"clearboth"})]),_c("div",{staticStyle:{"margin-left":"30px"}},[_c("div",{staticClass:"space-heading pT30 pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.space_asset_chooser.by_location"))+" ")]),_vm._l(_vm.resourceConfig,(function(field){return _c("div",{key:field.spaceType,staticClass:"pB15"},[_c("el-select",{attrs:{filterable:"",clearable:"",placeholder:field.placeHolder,"data-test-selector":""+field.placeHolder,disabled:4===field.spaceType&&!_vm.isAsset||field.disabled},on:{change:function($event){return _vm.onLocationSelected(field)}},model:{value:field.value,callback:function($$v){_vm.$set(field,"value",$$v)},expression:"field.value"}},_vm._l(field.options,(function(option){return _c("el-option",{key:option.id,attrs:{label:option.name,value:option.id,"data-test-selector":field.placeHolder+"_"+option.name}})})),1)],1)})),_c("div",{staticClass:"pT30"},[_c("div",{staticClass:"space-heading pT15 pB5"},[_vm._v(" "+_vm._s(_vm.$t("common.space_asset_chooser.by_category"))+" ")]),_c("div",[_vm.isAsset?_c("el-select",{attrs:{filterable:"",clearable:"",placeholder:_vm.assetCategory.placeHolder,"data-test-selector":""+_vm.$t("common.space_asset_chooser.by_category"),disabled:!_vm.isAsset},on:{change:_vm.onCategorySelected},model:{value:_vm.assetCategory.value,callback:function($$v){_vm.$set(_vm.assetCategory,"value",$$v)},expression:"assetCategory.value"}},_vm._l(_vm.assetCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value,"data-test-selector":_vm.$t("common.space_asset_chooser.by_category")+"_"+label}})})),1):_c("el-select",{staticClass:"inline asset-category fc-input-full-border2",attrs:{filterable:"",clearable:"",placeholder:_vm.spaceCategory.placeHolder},on:{change:_vm.onSpaceCategorySelected},model:{value:_vm.spaceCategory.value,callback:function($$v){_vm.$set(_vm.spaceCategory,"value",$$v)},expression:"spaceCategory.value"}},_vm._l(_vm.spaceCategory.options,(function(label,value){return _c("el-option",{key:value,attrs:{label:label,value:value}})})),1)],1)])],2)]),_c("div",{staticClass:"pull-right heightlist",style:{width:_vm.hideSidebar?"100%":"67%"}},[_c("div",{staticStyle:{"padding-left":"20px","padding-right":"20px"}},[_vm.showQuickSearch?_c("div",{staticStyle:{display:"inline-block",width:"100%"}},[_c("div",{staticClass:"col-6 fc-list-search"},[_c("div",{staticClass:"fc-list-search-wrapper relative chooser-search"},[_c("svg",{staticClass:"search-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[_c("title",[_vm._v(_vm._s(_vm.$t("common._common.search")))]),_c("path",{attrs:{d:"M21.487 22.927l7.037 7.037c.473.473 1.238.475 1.71.003s.47-1.237-.003-1.71l-7.037-7.037c3.96-4.82 3.675-11.967-.846-16.487C17.539-.076 9.757-.092 4.966 4.699S.191 17.272 5 22.081c4.52 4.52 11.667 4.805 16.487.846zM6.679 6.413c3.848-3.848 10.099-3.836 13.962.027s3.875 10.114.027 13.962c-3.848 3.848-10.099 3.836-13.962-.027S2.831 10.261 6.679 6.413z"}})]),_c("input",{directives:[{name:"model",rawName:"v-model",value:_vm.quickSearchQuery,expression:"quickSearchQuery"}],ref:"quickSearchQuery",staticClass:"quick-search-input",attrs:{autofocus:"autofocus",type:"text",placeholder:"Search"},domProps:{value:_vm.quickSearchQuery},on:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.loadResourceData.apply(null,arguments)},input:function($event){$event.target.composing||(_vm.quickSearchQuery=$event.target.value)}}}),_c("svg",{staticClass:"close-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32","aria-hidden":"true"},on:{click:_vm.toggleQuickSearch}},[_c("title",[_vm._v("close")]),_c("path",{attrs:{d:"M17.992 16l8.796-8.796a1.409 1.409 0 0 0-1.992-1.992L16 14.008 7.204 5.212a1.409 1.409 0 0 0-1.992 1.992L14.008 16l-8.796 8.796a1.409 1.409 0 0 0 1.992 1.992L16 17.992l8.796 8.796a1.409 1.409 0 0 0 1.992-1.992L17.992 16z"}})])])])]):_c("div",{staticClass:"flex-middle justify-content-space"},[_c("span",{staticClass:"spaceheading",staticStyle:{display:"inline-block"}},[_vm._v(_vm._s(_vm.isAsset?this.$t("common.space_asset_chooser.asset_list"):this.$t("common.space_asset_chooser.space_list")))]),_c("span",{staticClass:"pull-right pointer"},[_c("span",{on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})])])])]),_c("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:_vm.loadMores,expression:"loadMores"}],staticClass:"scroll",attrs:{"infinite-scroll-distance":"10","infinite-scroll-immediate-check":"true"}},[_c("v-infinite-scroll",{staticStyle:{"max-height":"500px",height:"500px","overflow-y":"scroll"},attrs:{loading:_vm.loading,offset:20},on:{bottom:_vm.nextPage}},[_c("table",{staticClass:" pT15 fc-list-view-table"},[_c("thead",[_c("tr",{staticClass:"tablerow pT30",staticStyle:{"background-color":"#ffffff",padding:"15px"}},[_c("td",{staticClass:"headerrow width30"},[_vm._v(" #"+_vm._s(_vm.$t("common._common.id"))+" ")]),_c("td",{staticClass:"headerrow width30"},[_vm._v(" "+_vm._s(_vm.$t("common.space_asset_chooser.name"))+" ")]),_vm.hideSidebar?_vm._e():_c("td",{staticClass:"headerrow width30"},[_vm._v(" "+_vm._s(_vm.$t("common.space_asset_chooser.category"))+" ")]),_c("td"),_c("td")])]),_c("tbody",[_vm._l(_vm.spaceList,(function(space){return _vm.isAsset?_vm._e():_c("tr",{key:space.id,staticClass:"tablerow",class:{selectedrow:_vm.selectedObj===space},attrs:{"data-test-selector":""+space.name},on:{click:function($event){return _vm.select(space,1)}}},[_c("td",{staticClass:"contentrow width30"},[_vm._v(" #"+_vm._s(1==space.spaceType?"SI"+space.id:2==space.spaceType?"BU"+space.id:3==space.spaceType?"FL"+space.id:4==space.spaceType?"SP"+space.id:space.id)+" ")]),_c("td",{staticClass:"contentrow width30"},[_vm._v(_vm._s(space.name))]),_c("td",{staticClass:"contentrow width30"},[_vm._v(_vm._s(space.spaceTypeVal))]),_c("td"),_c("td",[_c("i",{staticClass:"el-icon-check",staticStyle:{color:"#39b2c2","padding-left":"20px"},style:{visibility:_vm.selectedObj===space?"visible":"hidden"}})])])})),_vm._l(_vm.assetList,(function(asset){return _vm.isAsset?_c("tr",{key:"asset_"+asset.id,staticClass:"tablerow",class:{selectedrow:_vm.selectedObj===asset},attrs:{"data-test-selector":""+asset.name},on:{click:function($event){return _vm.select(asset,2)}}},[_c("td",{staticClass:"contentrow width30"},[_vm._v("#"+_vm._s(asset.id))]),_c("td",{staticClass:"contentrow width30"},[_vm._v(_vm._s(asset.name))]),_vm.hideSidebar?_vm._e():_c("td",{staticClass:"contentrow width30"},[_vm._v(" "+_vm._s(asset.category?_vm.getAssetCategory(asset.category.id).displayName:"---")+" ")]),_c("td"),_c("td",[_c("i",{staticClass:"el-icon-check",staticStyle:{color:"#39b2c2","padding-left":"20px"},style:{visibility:_vm.selectedObj===asset?"visible":"hidden"}})])]):_vm._e()})),_vm.spaceList.length<1&&_vm.assetList.length<1?_c("tr",{staticStyle:{background:"none",border:"none","margin-top":"20px"}},[_c("td",{staticClass:"text-center label-txt-black",staticStyle:{"border-bottom":"none","font-size":"14px","padding-top":"40px",cursor:"auto"},attrs:{colspan:"100%"}},[_vm._v(" No "+_vm._s(_vm.isAsset?"Asset":"Space")+" to display! ")])]):_vm._e()],2)])])],1),_c("div",{staticClass:"space-asset-footer"},[_c("div",{staticClass:"space-asset-footer-align"},[_c("el-button",{staticStyle:{"font-size":"13px","font-weight":"bold",border:"2px solid #cde2e5",color:"#8eb1b6","letter-spacing":"0.5px",padding:"8px",width:"100px","text-transform":"uppercase"},attrs:{"data-test-selector":"SpaceAsset_cancel"},on:{click:_vm.handleclose}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticStyle:{"font-size":"13px","font-weight":"bold","letter-spacing":"0.5px","background-color":"#39b2c2","border-color":"#39b2c2",padding:"8px","text-transform":"uppercase"},attrs:{"data-test-selector":"SpaceAsset_save",type:"primary"},on:{click:_vm.associate}},[_vm._v(_vm._s(_vm.$t("common._common.select")))])],1)])])]),_c("div",{staticStyle:{position:"absolute",top:"40%",left:"55%","z-index":"5"}},[_c("spinner",{attrs:{show:_vm.resourceLoading,size:"70"}})],1)])])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vue_infinite_scroll=__webpack_require__(49026),vue_infinite_scroll_default=__webpack_require__.n(vue_infinite_scroll),ResourceMixin=__webpack_require__(22637),v_infinite_scroll=__webpack_require__(561364),v_infinite_scroll_default=__webpack_require__.n(v_infinite_scroll),Spinner=__webpack_require__(604947),vuex_esm=__webpack_require__(420629),SpaceAssetChooservue_type_script_lang_js={mixins:[ResourceMixin/* default */.Z],props:["visibility","appendToBody","query","picktype","hideSidebar","isService"],directives:{infiniteScroll:vue_infinite_scroll_default()},components:{Spinner:Spinner/* default */.Z,VInfiniteScroll:v_infinite_scroll_default()},data:function(){return{fetchingMore:!1,selected:!1,selectedObj:{},showQuickSearch:!1}},created:function(){this.$store.dispatch("loadAssetCategory"),this.$store.dispatch("loadSpaceCategory")},mounted:function(){
// quickSearchQuery
"asset"===this.picktype&&(this.isAsset=!0),this.initResourceData()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)(["getAssetCategory"])),{},{scrollDisabled:function(){return!1}}),component:{Spinner:Spinner/* default */.Z},watch:{visibility:function(val){var _this=this;val&&!this.query?(this.reInit(),this.hideSidebar&&(this.showQuickSearch=!0,this.$nextTick((function(){_this.$refs.quickSearchQuery&&_this.$refs.quickSearchQuery.focus()})))):val||!this.query||this.selectedObj&&this.selectedObj.id||this.$emit("associate",{},this.isAsset?"asset":"space")},query:function(val){var _this2=this;this.quickSearchQuery=val,val&&this.$refs.quickSearchQuery&&(this.selectedObj={},this.showQuickSearch=!0,this.$nextTick((function(){_this2.$refs.quickSearchQuery.focus()})),this.loadResourceData())}},methods:{loadMores:function(){this.fetchingMore=!0,this.openAsset(!0)},reInit:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.paging.page=1,this.checkAndInitResourceData()},handleclose:function(){this.$emit("update:visibility",!1)},openSpace:function(){this.isAsset=!1,this.paging.page=1,this.loadSpace()},openAsset:function(isLoad){this.isAsset=!0,this.paging.page=1,this.loadAsset(isLoad)},select:function(obj,type){this.selectedObj=obj},associate:function(){this.$emit("associate",this.selectedObj,this.isAsset?"asset":"space")},toggleQuickSearch:function(){var _this3=this;this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch?this.$nextTick((function(){_this3.$refs.quickSearchQuery.focus()})):(this.quickSearchQuery=null,this.loadResourceData())}}},components_SpaceAssetChooservue_type_script_lang_js=SpaceAssetChooservue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SpaceAssetChooservue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SpaceAssetChooser=component.exports},
/***/724460:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SignatureColumn}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/SignatureColumn.vue?vue&type=template&id=00c0fd35&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.hasSignature({field:_vm.field,record:_vm.record})?_c("el-popover",{attrs:{placement:"bottom",width:"300",trigger:"hover","close-delay":100}},[_c("div",{staticClass:"signature-field-container"},[_c("img",{attrs:{src:_vm.getSignatureUrl({field:_vm.field,record:_vm.record})}})]),_c("a",{attrs:{slot:"reference"},slot:"reference"},[_vm._v("Signed")])]):_c("div",[_vm._v("Not Signed")])],1)},staticRenderFns=[],validation=(__webpack_require__(434284),__webpack_require__(990260)),baseUrl=__webpack_require__(420499),SignatureColumnvue_type_script_lang_js={props:["field","record"],methods:{hasSignature:function(props){var field=props.field,record=props.record,_ref=field||{},name=_ref.name,isDefaultField=this.$getProperty(field||{},"default");if(isDefaultField)return!(0,validation/* isEmpty */.xb)(record["".concat(name,"Id")]);var recordData=this.$getProperty(record,"data.".concat(name,"Id"));return!(0,validation/* isEmpty */.xb)(recordData)||!(0,validation/* isEmpty */.xb)(record["".concat(name,"Id")])},getSignatureUrl:function(props){
// TODO move this handling to some util
var field=props.field,record=props.record,_ref2=field||{},name=_ref2.name;if(!(0,validation/* isEmpty */.xb)(field)){var url="".concat((0,baseUrl/* getBaseURL */.BS)()),previewUrl=null,_field$default=field.default,isDefault=void 0!==_field$default&&_field$default;return previewUrl=isDefault?this.$getProperty(record,"".concat(name,"Url")):this.$getProperty(record.data,"".concat(name,"Url"))||this.$getProperty(record,"".concat(name,"Url")),(0,validation/* isEmpty */.xb)(previewUrl)?void 0:url+"".concat(previewUrl.split("/api")[1])}}}},list_SignatureColumnvue_type_script_lang_js=SignatureColumnvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_SignatureColumnvue_type_script_lang_js,render,staticRenderFns,!1,null,"00c0fd35",null)
/* harmony default export */,SignatureColumn=component.exports},
/***/487565:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Comments2}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/Comments2.vue?vue&type=template&id=baa28728
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-new-comments fc-comments row"},[_c("div",{staticClass:"col-12 scroll-new"},[_c("notes",{staticClass:"assetsnotes new-summary-block fc-visibility-gicon-visible flex-grow overflow-y-scroll",attrs:{module:"ticketnotes",parentModule:"workorder",record:_vm.record,notify:!0,layoutParams:500,resizeWidget:this.resizeWidget,isActive:!1,forWO:!0,listViewComments:!0}})],1)])},staticRenderFns=[],Notes=(__webpack_require__(228436),__webpack_require__(120470)),Comments2vue_type_script_lang_js={extends:Notes["default"],props:["record","moduleName","details","layoutParams","widget","resizeWidget"],components:{Notes:Notes["default"]},data:function(){return{markdownshow:!1}},methods:{markdownhelplist:function(){this.markdownshow=!0},focusCommentBox:function(){this.commentFocus=!0},blurCommentBox:function(){!this.newComment.body||this.newComment.body.trim()}}},relatedlist_Comments2vue_type_script_lang_js=Comments2vue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_Comments2vue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Comments2=component.exports},
/***/434579:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListAttachmentPreview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/ListAttachmentPreview.vue?vue&type=template&id=4dc204e5
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-image",{class:["fc-image-list-preview fc-avatar-square",_vm.customClass?_vm.customClass:null],attrs:{src:_vm.imageAttachment?_vm.$prependBaseUrl(_vm.imageAttachment.previewUrl):"",fit:"cover"},on:{click:function($event){return $event.target!==$event.currentTarget?null:($event.preventDefault(),_vm.openAttachmentsPreview(!0,_vm.imageAttachment))}}},[_c("div",{attrs:{slot:"error"},slot:"error"},[_c("div",{on:{click:function($event){return $event.preventDefault(),_vm.openAttachmentsPreview(!1)}}},[_vm.attachments.length>0?_vm._t("no-image",(function(){return[_c("InlineSvg",{attrs:{src:"clip",iconClass:"icon fill-grey icon-xxlll op5 vertical-middle object-contain"}})]})):_vm._t("no-data",(function(){return[_c("InlineSvg",{attrs:{src:"svgs/photo",iconClass:"icon fill-grey icon-xxlll op5 vertical-middle object-contain"}})]}))],2)])]),_vm.visibility?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.previewFile,files:_vm.attachments},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)},staticRenderFns=[],createForOfIteratorHelper=__webpack_require__(566347),PreviewFile=(__webpack_require__(670560),__webpack_require__(720096)),api=__webpack_require__(32284),ListAttachmentPreviewvue_type_script_lang_js={components:{PreviewFile:PreviewFile/* default */.Z},props:["module","record","customClass","id"],data:function(){return{loading:!1,attachments:[],visibility:!1,imageAttachment:null,previewFile:null,imageAttachments:[]}},created:function(){this.loadAttachments()},computed:{recordId:function(){return this.id?this.id:this.record.id}},methods:{openAttachmentsPreview:function(fileAttached,image){this.attachments.length>0&&(this.visibility=!0,this.previewFile=fileAttached?image:this.attachments[0])},setImageUrl:function(){var _step,_iterator=(0,createForOfIteratorHelper/* default */.Z)(this.attachments);try{for(_iterator.s();!(_step=_iterator.n()).done;){var attachment=_step.value;-1!==attachment.contentType.indexOf("image")&&(this.imageAttachment||(this.imageAttachment=attachment),this.imageAttachments.push(attachment))}}catch(err){_iterator.e(err)}finally{_iterator.f()}},loadAttachments:function(){var _this=this;return this.loading=!0,api/* API */.bl.get("/attachment",{module:this.module,recordId:this.recordId}).then((function(_ref){var error=_ref.error,data=_ref.data;error?_this.attachments=[]:(_this.attachments=data.attachments?data.attachments:[],_this.setImageUrl()),_this.loading=!1}))}}},relatedlist_ListAttachmentPreviewvue_type_script_lang_js=ListAttachmentPreviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_ListAttachmentPreviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ListAttachmentPreview=component.exports},
/***/526283:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListImagePreview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/ListImagePreview.vue?vue&type=template&id=4ff7495e
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-image",{staticClass:"fc-image-list-preview fc-avatar-square list-image-preview",attrs:{src:_vm.file.fileUrl,fit:"fill"},on:{click:function($event){return _vm.openAttachmentsPreview(_vm.file)}}},[_c("div",{staticClass:"image-slot",attrs:{slot:"error"},on:{click:function($event){return _vm.openAttachmentsPreview(_vm.file)}},slot:"error"},[_vm.file.fileUrl?_c("InlineSvg",{attrs:{src:"clip",iconClass:"icon fill-grey icon-xxlll op5"}}):_c("InlineSvg",{attrs:{src:"svgs/photo",iconClass:"icon fill-grey icon-xxlll op5"}})],1)]),_c("el-dialog",{staticClass:"f-list-attachment-dialog",attrs:{visible:_vm.visibility,"append-to-body":!0},on:{"update:visible":function($event){_vm.visibility=$event}}},[_vm.visibility?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.getFormattedFile,files:[_vm.getFormattedFile]},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)],1)},staticRenderFns=[],PreviewFile=__webpack_require__(720096),ListImagePreviewvue_type_script_lang_js={props:["file"],components:{PreviewFile:PreviewFile/* default */.Z},data:function(){return{visibility:!1}},computed:{getFormattedFile:function(){return{contentType:this.file.fileContentType||"",fileName:this.file.fileName,previewUrl:this.file.fileUrl,downloadUrl:this.file.fileUrl}}},methods:{openAttachmentsPreview:function(file){file.fileUrl&&(this.visibility=!0)}}},relatedlist_ListImagePreviewvue_type_script_lang_js=ListImagePreviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_ListImagePreviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ListImagePreview=component.exports},
/***/526971:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SummaryAttachment}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/relatedlist/SummaryAttachment.vue?vue&type=template&id=3eb46d89
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-attachments p0"},[_vm.exportDownloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.exportDownloadUrl}}):_vm._e(),_vm.loading?_c("div",{staticClass:"text-center"},[_c("spinner",{attrs:{show:_vm.loading}})],1):_c("div",[_c("div",{staticClass:"row fc-summary-attchment",staticStyle:{"padding-top":"20px","margin-left":"15px","margin-right":"15px","margin-bottom":"20px","padding-left":"0px"}},_vm._l(_vm.attachments,(function(attachment){return _c("el-row",{key:attachment.attachmentId,staticStyle:{"border-bottom":"1px solid #ededed",width:"100%","padding-top":"10px","padding-bottom":"10px"}},[_c("el-col",{attrs:{span:22}},[_c("el-col",{staticClass:"mT5",attrs:{span:2}},[_c("img",{staticClass:"svg-icon",staticStyle:{width:"20px"},attrs:{src:__webpack_require__(250620)}})]),_c("el-col",{attrs:{span:18}},[_c("div",[attachment.previewUrl?_c("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                  placement: 'top',\n                  animation: 'shift-away',\n                  arrow: true,\n                }"}],staticClass:"self-center show text-left fc-black-13 textoverflow-ellipsis max-width300px",staticStyle:{border:"none"},attrs:{title:attachment.fileName},on:{click:function($event){return _vm.selectedFile(attachment)}}},[_vm._v(_vm._s(attachment.fileName))]):_c("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",animation:"shift-away",arrow:!0},expression:"{\n                  placement: 'top',\n                  animation: 'shift-away',\n                  arrow: true,\n                }"}],staticClass:"self-center show text-left fc-black-13 textoverflow-ellipsis max-width300px",staticStyle:{border:"none"},attrs:{title:attachment.fileName}},[_vm._v(_vm._s(attachment.fileName))]),_vm.getUser(attachment)>0?_c("div",{staticClass:"col-4 comment-file mT2",staticStyle:{border:"none"}},[_vm._v(" "+_vm._s(_vm.getUser(attachment))+" "),attachment.createdTime?_c("span",[_vm._v("| "+_vm._s(_vm._f("formatDate")(attachment.createdTime,"DD-MM_YYYY")))]):_vm._e()]):_c("div",{staticClass:"col-4 comment-file mT2",staticStyle:{border:"none"}},[_vm._v(" "+_vm._s(_vm._f("formatDate")(attachment.createdTime,"DD-MM_YYYY"))+" ")])])])],1),_c("el-col",{staticClass:"mT5 pointer",attrs:{span:2}},[_c("img",{attrs:{src:__webpack_require__(365565),width:"16",height:"16"},on:{click:function($event){return _vm.downloadAttachment(attachment.downloadUrl)}}})])],1)})),1),_vm.diasbleAttachment?_vm._e():_c("form",{staticStyle:{"margin-left":"15px","margin-right":"15px"},attrs:{enctype:"multipart/form-data",novalidate:""}},[_c("div",{staticClass:"dropbox"},[_c("input",{staticClass:"input-file",attrs:{type:"file",multiple:""},on:{change:function($event){return _vm.filesChange($event.target.files)}}}),_c("img",{staticClass:"upload-img mT10 opacity-05",attrs:{src:__webpack_require__(581121),height:"20",width:"20"}}),_c("p",[_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.drag_and_drop_files"))),_c("br"),_vm._v(" "+_vm._s(_vm.$t("common.attachment_form.click_to_browse"))+" ")])])])]),_vm.visibility&&_vm.selectedAttachedFile?_c("preview-file",{attrs:{visibility:_vm.visibility,previewFile:_vm.selectedAttachedFile,files:_vm.attachments},on:{"update:visibility":function($event){_vm.visibility=$event}}}):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),PreviewFile=(__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(434284),__webpack_require__(891719),__webpack_require__(339772),__webpack_require__(720096)),validation=__webpack_require__(990260),SummaryAttachmentvue_type_script_lang_js={props:["module","record","diasbleAttachment"],data:function(){return{loading:!0,status:{UPLOADING:1,SUCCESS:2,FAILED:3},attachments:[],formFieldName:"attachment",exportDownloadUrl:null,selectedAttachedFile:null,visibility:!1}},components:{PreviewFile:PreviewFile/* default */.Z},mounted:function(){this.loadAttachments()},watch:{record:function(recordObj){this.loadAttachments()}},methods:{selectedFile:function(inList){this.selectedAttachedFile=inList,this.visibility=!0},loadAttachments:function(){var self=this;return self.loading=!0,this.$http.get("/attachment?module="+this.module+"&recordId="+this.record.id).then((function(response){self.loading=!1,self.attachments=response.data.attachments?response.data.attachments:[]})).catch((function(error){error&&(self.loading=!1,self.attachments=null)}))},filesChange:function(files){var _this=this,fileList=Array.from(files);if(fileList.length){
// append the files to FormData
var formData=new FormData;formData.append("module",this.module),formData.append("recordId",this.record.id);var _this$status=this.status,UPLOADING=_this$status.UPLOADING,SUCCESS=_this$status.SUCCESS,FAILED=_this$status.FAILED;fileList.forEach((function(file){var _ref=file||{},name=_ref.name,size=_ref.size,type=_ref.type,fileEntry={fileId:-1,fileName:name,fileSize:size,contentType:type,status:UPLOADING,error:null,previewUrl:null,uploadedBy:_this.$account.user.id};formData.append(_this.formFieldName,file,name),_this.attachments.unshift(fileEntry)})),this.$http.post("/attachment/add",formData).then((function(_ref2){var data=_ref2.data;data.attachments.forEach((function(attachment){var fileId=attachment.fileId,fileName=attachment.fileName,fileSize=attachment.fileSize,attachmentIdx=_this.attachments.findIndex((function(a){return a.fileName===fileName&&a.fileSize===fileSize}));if(!(0,validation/* isEmpty */.xb)(attachmentIdx)){var attachmentFile=_this.attachments[attachmentIdx];attachmentFile=fileId?(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),attachment),{},{status:SUCCESS}):(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),{},{status:FAILED,error:"Upload failed."}),_this.$set(_this.attachments,attachmentIdx,attachmentFile)}}))})).catch((function(){fileList.forEach((function(file){var _ref3=file||{},name=_ref3.name,size=_ref3.size,attachmentIdx=_this.attachments.findIndex((function(a){return a.fileName===name&&a.fileSize===size}));if(!(0,validation/* isEmpty */.xb)(attachmentIdx)){var attachmentFile=_this.attachments[attachmentIdx];attachmentFile=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},attachmentFile),{},{status:FAILED,error:"Upload failed."}),_this.$set(_this.attachments,attachmentIdx,attachmentFile)}}))}))}},getUser:function(assign){if(null!==assign&&assign.id){var assignto=this.$store.getters.getUser(assign.id);return assignto?assignto.name:"---"}return"---"},downloadAttachment:function(url){this.exportDownloadUrl=url},icon:function(file){return file&&"image/png"===file?"statics/icons/png.svg":"statics/icons/pdf.svg"}}},relatedlist_SummaryAttachmentvue_type_script_lang_js=SummaryAttachmentvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(relatedlist_SummaryAttachmentvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SummaryAttachment=component.exports},
/***/120470:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Notes}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/widget/Notes.vue?vue&type=template&id=3c8171f0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.componentName?_c(_vm.componentName,_vm._b({key:_vm.recordId,tag:"component"},"component",_vm.$attrs,!1)):_vm._e()],1)},staticRenderFns=[],Notesvue_type_script_lang_js=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),{components:{NewNotes:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(89142),__webpack_require__.e(19347)]).then(__webpack_require__.bind(__webpack_require__,116920))},OldNotes:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(19037)]).then(__webpack_require__.bind(__webpack_require__,919037))}},computed:{componentName:function(){return this.$helpers.isLicenseEnabled("NEW_COMMENTS")?"NewNotes":"OldNotes"},recordId:function(){return this.$getProperty(this.$attrs,"record.id")}}}),widget_Notesvue_type_script_lang_js=Notesvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(widget_Notesvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Notes=component.exports},
/***/890608:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ListPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/ListPagination.vue?vue&type=template&id=31fbeab9&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.canShowPagination?_c("div",{staticClass:"flex-center-row-space fc-black-small-txt-12"},[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow f16 pointer p5 fw-bold",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[0!==_vm.currentPageCount?_c("div",{staticClass:"p8",class:[_vm.canShowPopup&&"button-hover pointer"],attrs:{slot:"reference"},slot:"reference"},[_vm.canShowPaginationParts?_c("div",{staticClass:"flex-middle justify-between "},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",{staticClass:"mL5"},[_vm._v(_vm._s(_vm.to))]),_vm.skipTotalCount?_vm._e():_c("span",{staticClass:"d-flex lp-page"},[_c("span",[_vm._v(_vm._s("of"))]),_vm.shimmerLoading?_c("span",{staticClass:"count-shimmer-line loading-shimmer mT1 "}):_c("span",[_vm._v(_vm._s(_vm.total))])])]):_c("div",{staticClass:"page-shimmer-line loading-shimmer mT2"})]):_vm._e(),_vm.$validation.isEmpty(_vm.total)?_vm._e():_c("el-pagination",{staticClass:"pagination-without-count-popover",attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_c("span",[_c("span",{staticClass:"el-icon-arrow-right pagination-arrow  f16 pointer p5 fw-bold",class:{disable:!_vm.canGoNextPage},on:{click:function($event){_vm.canGoNextPage&&_vm.next()}}})])],1):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),validation=__webpack_require__(990260),ListPaginationvue_type_script_lang_js={props:{total:[Number,String],currentPageCount:Number,perPage:{type:Number,default:50},currentPage:Number,hidePopover:{type:Boolean,default:!1},skipTotalCount:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1,shimmerLoading:!0,navigatingToNextPage:!0}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage},canShowPages:function(){return!(0,validation/* isEmpty */.xb)(this.total)},canGoNextPage:function(){return(0,validation/* isEmpty */.xb)(this.total)?this.perPage==this.currentPageCount:this.to!==this.total},canShowPaginationParts:function(){return!(!this.currentPageCount&&!this.total)},canShowPagination:function(){return 1!==this.page||!this.navigatingToNextPage||(this.currentPageCount>0||!(0,validation/* isEmpty */.xb)(this.total))},canShowPopup:function(){return!this.disablePopup&&!(0,validation/* isEmpty */.xb)(this.total)}},watch:{total:{handler:function(newVal){this.shimmerLoading=!0,(0,validation/* isEmpty */.xb)(newVal)||(this.shimmerLoading=!1),this.init()},immediate:!0},currentPageCount:function(newVal){!(0,validation/* isEmpty */.xb)(newVal)&&(0,validation/* isEmpty */.xb)(this.total)&&this.init()},pageQuery:function(val){val!==this.page&&this.init()}},methods:{init:function(){this.page=this.currentPage?this.currentPage:this.pageQuery,this.from=(this.page-1)*this.perPage+1;var to=this.from+this.perPage-1;this.to=(0,validation/* isEmpty */.xb)(this.total)?this.from+this.currentPageCount-1:this.total>to?to:this.total},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){if(this.from=this.to+1,!(0,validation/* isEmpty */.xb)(this.total)){var to=this.from+this.perPage-1;to>this.total&&(to=this.total),this.to=to}this.page++,this.navigatingToNextPage=!0,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?(this.from=1,this.page=1):this.page--,this.navigatingToNextPage=!1,this.setPage()},setPage:function(){if(this.currentPage)this.$emit("update:currentPage",this.page);else{var query=(0,objectSpread2/* default */.Z)({},this.$route.query);(0,validation/* isEmpty */.xb)(query)?query={page:this.page}:query.page=this.page,this.$router.push({query:query})}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"!==e.key||this.to===this.total&&this.to===this.currentPageCount?"ArrowLeft"===e.key&&this.from>1&&this.prev():this.next())}}},components_ListPaginationvue_type_script_lang_js=ListPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ListPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"31fbeab9",null)
/* harmony default export */,ListPagination=component.exports},
/***/487390:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Sort}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/Sort.vue?vue&type=template&id=31d08398&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"page-sort-popover p0"},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click","popper-class":"sort-popover page-sort-popover","visible-arrow":!0,tabindex:-1},model:{value:_vm.visible,callback:function($$v){_vm.visible=$$v},expression:"visible"}},[_c("el-input",{staticClass:"tag-list-search",attrs:{type:"text",placeholder:"Search..."},model:{value:_vm.search,callback:function($$v){_vm.search=$$v},expression:"search"}}),_c("div",{staticClass:"pointer user-select-none sort-icon-container",attrs:{slot:"reference"},slot:"reference"},[_c("img",{staticClass:"sort-icon",attrs:{src:__webpack_require__(137308)}})]),_c("div",{staticClass:"sort-popovernew",attrs:{link:""}},_vm._l(_vm.filteredSortFieldList,(function(field,index){return _c("div",{key:index,staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderBy(field.name),_vm.close()}}},[_c("div",{staticClass:"fc-div-hover page-sort-list",class:{"selected flex-middle":_vm.orderBy===field.name},attrs:{label:field.name}},[_vm._v(" "+_vm._s(field.displayName)+" ")]),_c("i",{class:{"el-icon-check":_vm.orderBy===field.name}})])})),0),_c("div",{staticClass:"scr-sep"}),_c("div",{staticClass:"sort-popovernew"},[_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("asc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle"},[_vm.config.orderType?_c("div",{attrs:{separator:""}},[_c("div",{class:{selected:"asc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.ascending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"asc"===_vm.orderType}})]),_c("div",{staticClass:"position-relative sort-active-check",on:{click:function($event){$event.stopPropagation(),_vm.updateOrderType("desc"),_vm.close()}}},[_c("div",{staticClass:"q-item-bottom-p page-sort-list fc-div-hover flex-middle active-sort-type"},[_vm.config.orderType?_c("div",[_c("div",{class:{selected:"desc"===_vm.orderType}},[_vm._v(" "+_vm._s(_vm.$t("common._common.descending"))+" ")])]):_vm._e()]),_c("i",{class:{"el-icon-check":"desc"===_vm.orderType}})])])],1)],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),Sortvue_type_script_lang_js={props:["config","sortList","excludeFields"],data:function(){return{visible:!1,search:"",skipDisplayTypeHash:["MULTI_LOOKUP","MULTI_ENUM","MULTI_LOOKUP_SIMPLE","LOOKUP_SIMPLE","LOOKUP_POPUP"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{orderBy:function(){var orderBy=this.config.orderBy;return(0,validation/* isObject */.Kn)(orderBy)?orderBy.value:(0,validation/* isEmpty */.xb)(orderBy)?null:orderBy},orderType:function(){return this.config.orderType?this.config.orderType:null},filteredSortFieldList:function(){var search=this.search,sortListDataType=this.sortListDataType;return(0,validation/* isEmpty */.xb)(search)?sortListDataType||[]:(sortListDataType||[]).filter((function(fld){var displayName=fld.displayName,lcDisplayName=displayName.toLowerCase(),lcSearch=search.toLowerCase();return lcDisplayName.includes(lcSearch)}))},sortListDataType:function(){var _this=this,moduleMeta=this.moduleMeta,_this$excludeFields=this.excludeFields,excludeFields=void 0===_this$excludeFields?[]:_this$excludeFields,skipDisplayTypeHash=this.skipDisplayTypeHash;if(!(0,validation/* isEmpty */.xb)(moduleMeta)){var _ref=moduleMeta||{},fields=_ref.fields,currentSortFields=(fields||[]).filter((function(fld){return(_this.sortList||[]).includes(null===fld||void 0===fld?void 0:fld.name)})),filteredFields=(currentSortFields||[]).filter((function(fld){var _ref2=fld||{},displayType=_ref2.displayType,fieldName=_ref2.name,_ref3=displayType||{},_name=_ref3._name;return!skipDisplayTypeHash.includes(_name)&&!(excludeFields||[]).includes(fieldName)}));return(filteredFields||[]).map((function(fld){return{name:fld.name,displayName:fld.displayName}}))}return[]}}),methods:{close:function(){this.visible=!1},updateOrderBy:function(orderBy){this.config.orderBy=orderBy,this.$emit("onchange",{orderBy:orderBy,orderType:this.orderType})},updateOrderType:function(orderType){this.config.orderType=orderType,this.$emit("onchange",{orderBy:this.orderBy,orderType:orderType})}}},components_Sortvue_type_script_lang_js=Sortvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Sortvue_type_script_lang_js,render,staticRenderFns,!1,null,"31d08398",null)
/* harmony default export */,Sort=component.exports},
/***/700201:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ViewHeaderWithoutGroups}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/ViewHeaderWithoutGroups.vue?vue&type=template&id=d2a5b10e&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"view-header-wg"},[_c("div",{on:{click:_vm.toggleViewsSidePanel}},[_c("inline-svg",{class:["hamburger-icon",_vm.canShowViewsSidePanel&&"active"],attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}})],1),_vm.$validation.isEmpty(_vm.currentViewDisplayName)?_c("div",{staticClass:"view-name-loading loading-shimmer"}):!_vm.canShowViewsSidePanel&&_vm.currentGroupViews.length>1?_c("div",[_c("el-dropdown",{attrs:{trigger:"click",placement:"bottom-end"},on:{command:_vm.goToView}},[_c("span",{staticClass:"el-dropdown-link view-name view-header-dropdown"},[_vm._v(_vm._s(_vm.currentViewDisplayName)+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{staticClass:"pB0",attrs:{slot:"dropdown"},slot:"dropdown"},[_c("div",{staticClass:"dropdown-custom-class-scroll"},[_c("div",{staticClass:"view-header-group-title text-uppercase flex"},[_c("fc-icon",{attrs:{group:"files",name:"folder",color:"#ff3184"}}),_vm._v(" "+_vm._s(_vm.currentGroup.displayName)+" ")],1),_vm._l(_vm.currentGroupViews,(function(group,key){return _c("el-dropdown-item",{key:"group.id-"+key,staticClass:"view-drop-item",class:[_vm.currentViewDisplayName==group.label&&"selected-dropdown"],attrs:{command:group}},[_vm._v(" "+_vm._s(group.label))])}))],2),_c("el-dropdown-item",[_c("div",{staticClass:"view-all-btn",on:{click:_vm.toggleViewsSidePanel}},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.show_all"))+" ")])])],1)],1)],1):_c("div",{staticClass:"view-name cursor-auto pL5"},[_vm._v(" "+_vm._s(_vm.currentViewDisplayName)+" ")])])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),ViewHeader=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(634338),__webpack_require__(629039)),ViewHeaderWithoutGroupsvue_type_script_lang_js={extends:ViewHeader/* default */.Z,computed:{currentViewDisplayName:function(){var currentViews=this.currentViews,_this$currentView=this.currentView,currentView=void 0===_this$currentView?"":_this$currentView,_ref=(currentViews||[]).find((function(view){return view.name===currentView}))||{},label=_ref.label;return label||""},currentGroupViews:function(){var filteredViews=this.filteredViews,_ref2=filteredViews||{},list=_ref2.list,more=_ref2.more,views=[].concat((0,toConsumableArray/* default */.Z)(list||[]),(0,toConsumableArray/* default */.Z)(more||[]));return views||{}}},methods:{toggleViewsSidePanel:function(){this.$emit("update:canShowViewsSidePanel",!this.canShowViewsSidePanel)}}},components_ViewHeaderWithoutGroupsvue_type_script_lang_js=ViewHeaderWithoutGroupsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ViewHeaderWithoutGroupsvue_type_script_lang_js,render,staticRenderFns,!1,null,"d2a5b10e",null)
/* harmony default export */,ViewHeaderWithoutGroups=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/207001:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearchWrapper}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearchWrapper.vue?vue&type=template&id=780ce107&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex align-center filter-cont",class:_vm.filters&&"filter-list"},[_c("el-tooltip",{staticClass:"filter-icons",class:[_vm.filters?"icon-left":"fl-icon-hover"],attrs:{effect:"dark",content:_vm.$t("common._common.search"),"open-delay":500,placement:"top",tabindex:-1}},[_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("fc-icon",{staticClass:"pointer",attrs:{group:"filter",name:"filter",size:"16"}})]},proxy:!0}])})],1),_c("filter-tags",{staticClass:"filter-icons icon-right",attrs:{moduleName:_vm.moduleName,hideSaveView:_vm.hideSaveView}})],1)},staticRenderFns=[],AdvancedSearch=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(169358),__webpack_require__(784823)),FilterTagsvue_type_template_id_6cda4f8a_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.$validation.isEmpty(_vm.tagsArr)?_vm._e():_c("div",{staticClass:"filter-tags pointer"},[_c("el-popover",{attrs:{placement:"bottom-end",trigger:"click","popper-class":"filter-tags-popover"}},[_c("div",{staticClass:"d-flex align-center",attrs:{slot:"reference"},slot:"reference"},[_vm._v(" "+_vm._s(_vm.tagLength)+" "),_c("i",{staticClass:"el-icon-arrow-down"})]),_c("div",{staticClass:"filter-tag-container"},[_c("div",{staticClass:"d-flex justify-content-space f14 mB8"},[_c("span",{staticClass:"flt-txt"},[_vm._v(_vm._s(_vm.$t("common.filters.filtered_results")))]),_c("span",{staticClass:"fl-blue-txt pointer",on:{click:_vm.resetFilters}},[_vm._v(_vm._s(_vm.$t("common.filters.clear_all")))])]),_c("div",{staticClass:"d-flex filter-tags-holder"},_vm._l(_vm.filterTag,(function(tag,index){return _c("el-tag",{key:index,staticClass:"round-tag d-flex"},[_c("div",{staticClass:"pR5 truncate-text ftag-text"},[_vm._v(" "+_vm._s(tag.tagString)+" ")]),_vm.hideClose?_vm._e():_c("fc-icon",{staticClass:"pointer",attrs:{group:"action",name:"cross",size:"16",color:"#0074d1"},on:{click:function($event){return _vm.clearFilter(tag)}}})],1)})),1)]),_vm.canSaveView?_c("div",{staticClass:"tags-save-filter"},[_vm.isSystemView?_c("el-button",{staticClass:"save-filter",on:{click:function($event){return _vm.savingView("new")}}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_view")))]):_c("el-dropdown",{on:{command:_vm.savingView}},[_c("el-button",{staticClass:"save-filter"},[_vm._v(" "+_vm._s(_vm.$t("filters.tags.save_view_as"))),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[_c("el-dropdown-item",{staticClass:"text-capitalize",attrs:{command:"new"}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_as_new")))]),_c("el-dropdown-item",{staticClass:"text-capitalize",attrs:{command:"edit"}},[_vm._v(_vm._s(_vm.$t("filters.tags.save_to_existing")))])],1)],1)],1):_vm._e()])],1)},FilterTagsvue_type_template_id_6cda4f8a_scoped_true_staticRenderFns=[],objectSpread2=__webpack_require__(595082),FTags=(__webpack_require__(450886),__webpack_require__(634338),__webpack_require__(775676)),validation=__webpack_require__(990260),FilterTagsvue_type_script_lang_js={extends:FTags["default"],computed:{tagLength:function(){var _this$tagsArr=this.tagsArr,tagsArr=void 0===_this$tagsArr?[]:_this$tagsArr;return tagsArr.length},filterTag:function(){var _this$tagsArr2=this.tagsArr,tagsArr=void 0===_this$tagsArr2?[]:_this$tagsArr2;return tagsArr.map((function(tag){var _ref=tag||{},fieldDisplayName=_ref.fieldDisplayName,operatorDisplayName=_ref.operatorDisplayName,valueStr=_ref.valueStr,parentDisplayName=_ref.parentDisplayName,tagString="";return tagString=(0,validation/* isEmpty */.xb)(parentDisplayName)?"".concat(fieldDisplayName," ").concat(operatorDisplayName," ").concat(valueStr):"".concat(parentDisplayName,"/").concat(fieldDisplayName," ").concat(operatorDisplayName," ").concat(valueStr),(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},tag),{},{tagString:tagString})}))}}},components_FilterTagsvue_type_script_lang_js=FilterTagsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FilterTagsvue_type_script_lang_js,FilterTagsvue_type_template_id_6cda4f8a_scoped_true_render,FilterTagsvue_type_template_id_6cda4f8a_scoped_true_staticRenderFns,!1,null,"6cda4f8a",null)
/* harmony default export */,FilterTags=component.exports,AdvancedSearchWrappervue_type_script_lang_js={props:["moduleName","moduleDisplayName","hideSaveView"],components:{AdvancedSearch:AdvancedSearch/* default */.Z,FilterTags:FilterTags},computed:{filters:function(){var $route=this.$route,_ref=$route||{},search=_ref.query.search;return(0,validation/* isEmpty */.xb)(search)?null:JSON.parse(search)}}},search_AdvancedSearchWrappervue_type_script_lang_js=AdvancedSearchWrappervue_type_script_lang_js,AdvancedSearchWrapper_component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchWrappervue_type_script_lang_js,render,staticRenderFns,!1,null,"780ce107",null)
/* harmony default export */,AdvancedSearchWrapper=AdvancedSearchWrapper_component.exports},
/***/951478:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return CommonLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/list/CommonLayout.vue?vue&type=template&id=bf8b3d92
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout cm-common-list-layout d-flex"},[_vm._t("views-list",(function(){return[_vm.canShowViewsSidePanel?_c("ViewsList",{attrs:{canShowViewsSidePanel:_vm.canShowViewsSidePanel,groupViews:_vm.groupViews,moduleName:_vm.moduleName,hideArrowIcon:!0},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},onChange:_vm.goToView}}):_vm._e()]})),_c("div",{staticClass:"list-content-container"},[_c("div",{class:["view-header-container subheader-section d-flex justify-content-space",!0===_vm.hasQuery&&"filter-class"]},[_vm._t("views",(function(){return[_c("ViewHeader",{attrs:{moduleName:_vm.moduleName,showRearrange:_vm.showViewRearrange,showEditIcon:_vm.showViewEdit,pathPrefix:_vm.pathPrefix,retainFilters:_vm.filtersToRetain,canShowViewsSidePanel:_vm.canShowViewsSidePanel},on:{"update:canShowViewsSidePanel":function($event){_vm.canShowViewsSidePanel=$event},"update:can-show-views-side-panel":function($event){_vm.canShowViewsSidePanel=$event},viewsLoaded:function($event){return _vm.$emit("viewsLoaded")},hideViewSidebar:function(val){return _vm.hideViewSidebar=val}}})]})),_c("div",{staticClass:"header-right"},[_vm._t("header")],2)],2),_vm._t("sub-header",(function(){return[_vm.hideSubHeader?_vm._e():_c("div",{staticClass:"view-sub-header-container  d-flex  justify-content-space align-center"},[_vm._t("sub-header-content",(function(){return[_c("div",{staticClass:"cm-sub-header-txt"},[_vm.isEmpty(_vm.recordCount)?_c("span",{staticClass:"count-shimmer-line loading-shimmer"}):_c("span",{staticClass:"bold pR5"},[_vm._v(_vm._s(_vm.recordCount))]),_vm.recordCount>1?_c("span",[_vm._v(_vm._s(_vm.$t("common._common.tot_records")))]):_vm._e(),1===_vm.recordCount?_c("span",[_vm._v(_vm._s(_vm.$t("common._common.tot_record")))]):_vm._e()])]})),_c("div",{staticClass:"d-flex align-center"},[_vm._t("sub-header-actions")],2)],2)]})),_c("div",{staticClass:"select-all-container"},[_vm._t("sub-header-selectedall")],2),_c("div",{staticClass:"height100 common-content-container"},[_vm._t("content"),_vm._t("default")],2)],2)],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(169358),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(689730),__webpack_require__(634338),__webpack_require__(420629)),validation=__webpack_require__(990260),ViewHeaderWithoutGroups=__webpack_require__(700201),ViewsSidePanel=__webpack_require__(409886),router=__webpack_require__(329435),CommonLayoutvue_type_script_lang_js={props:["moduleName","getPageTitle","showViewRearrange","visibleViewCount","showViewEdit","pathPrefix","retainFilters","hideSubHeader","recordCount","recordLoading"],components:{ViewHeader:ViewHeaderWithoutGroups/* default */.Z,ViewsList:ViewsSidePanel/* default */.Z},created:function(){this.$store.dispatch("view/clearViews").catch((function(){})),(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},data:function(){return{isEmpty:validation/* isEmpty */.xb,currentModuleName:this.moduleName,hideViewSidebar:!1,isSidePanelOpen:!1}},title:function(){var title=this.getPageTitle();return(0,validation/* isEmpty */.xb)(title)?"":title},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({metaInfo:function(state){return state.view.metaInfo},viewDetail:function(state){return state.view.currentViewDetail},showSearch:function(state){return state.search.active},currentTab:function(state){return state.webtabs.selectedTab},groupViews:function(state){return(0,validation/* isEmpty */.xb)(state.view.groupViews)?[]:state.view.groupViews}})),{},{currentView:function(){var $route=this.$route;return $route.params.viewname?$route.params.viewname:null},filtersToRetain:function(){var retainFilters=this.retainFilters;return(0,validation/* isNull */.Ft)(retainFilters)?[]:(0,validation/* isEmpty */.xb)(retainFilters)?["search","includeParentFilter"]:retainFilters},hasQuery:function(){var query=this.$route.query;return""===query.filters||!!query.filters},canShowViewsSidePanel:{get:function(){var isSidePanelOpen=this.isSidePanelOpen,$slots=this.$slots,isViewHeaderOverriden=!(0,validation/* isEmpty */.xb)($slots.views);return isSidePanelOpen&&!isViewHeaderOverriden},set:function(value){this.isSidePanelOpen=value}}}),watch:{moduleName:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},$route:function(newVal,oldVal){newVal.params.viewname!==oldVal.params.viewname&&this.setPageTitle()},metaInfo:function(newVal,oldVal){newVal&&oldVal!==newVal&&this.setPageTitle()},currentView:{handler:function(newVal,oldVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!newVal||oldVal===newVal){_context.next=5;break}return _context.next=3,_this.loadViewDetails();case 3:_this.getMetaInfo(),_this.setPageTitle();case 5:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{reloadList:function(){var routeParams=this.$getProperty(this,"$route.params");this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:""})}).catch((function(){})),this.$router.push({params:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},routeParams),{},{viewname:routeParams.viewname})}).catch((function(){}))},getMetaInfo:function(){this.$store.dispatch("view/loadModuleMeta",this.moduleName).catch((function(){}))},goToView:function(view){var group=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,validation/* isEmpty */.xb)(view)){var viewname=view.name;if("rearrange-views"===viewname)return void(this.showReorderPanel=!0);var currentTab=this.currentTab,_this$filtersToRetain=this.filtersToRetain,filtersToRetain=void 0===_this$filtersToRetain?[]:_this$filtersToRetain,query=this.$route.query,filteredQuery=Object.keys(query||{}).reduce((function(obj,key){return filtersToRetain.includes(key)&&(obj[key]=query[key]),obj}),{});if((0,router/* isWebTabsEnabled */.tj)()){var route=(0,router/* findRouteForTab */.OD)(currentTab.id,{pageType:router/* pageTypes */.As.LIST})||{};route&&this.$router.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},route),{},{params:{viewname:viewname},query:filteredQuery})).catch((function(error){}))}else{var path=this.getPathForView(view,group);this.$router.push({path:path,query:filteredQuery}).catch((function(){}))}}},getPathForView:function(view){var pathPrefix=this.pathPrefix,prefix="/"===pathPrefix[pathPrefix.length-1]?pathPrefix.slice(0,-1):pathPrefix;return"".concat(prefix,"/").concat(view.name)},loadViewDetails:function(){this.$store.dispatch("view/loadViewDetail",{viewName:this.currentView,moduleName:this.moduleName}).catch((function(){}))},setPageTitle:function(){var getPageTitle=this.getPageTitle,setTitle=this.setTitle,currentView=this.currentView,title=getPageTitle(currentView);(0,validation/* isEmpty */.xb)(title)||setTitle(title)},keyDownHandler:function(e){if(e.shiftKey&&"N"===e.key&&(0,router/* isWebTabsEnabled */.tj)()){var _ref=(0,router/* findRouteForModule */.Jp)(this.moduleName,router/* pageTypes */.As.CREATE)||{},name=_ref.name;"body"===e.target.localName&&name&&this.$router.push({name:name}).catch((function(){}))}}}},list_CommonLayoutvue_type_script_lang_js=CommonLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_CommonLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,CommonLayout=component.exports},
/***/16297:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkHours}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/widgets/dialogs/WorkHours.vue?vue&type=template&id=4efda2fd
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticClass:"duration-dialog setup-dialog",attrs:{visible:_vm.showDialog,width:"40%"},on:{"update:visible":function($event){_vm.showDialog=$event}}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v("Set Work Hours")])])]),_c("div",{staticClass:"duration-body-scroll"},[_vm.id&&-1!=_vm.id?_c("div",[_c("div",{staticClass:"fc-dark-grey-txt14"},[_vm._v("Estimated Duration")]),_c("el-row",{staticClass:"el-row"},[_vm.estimatedDuration.days?_c("div",{staticClass:"el-col el-col-7"},[_vm._v(" "+_vm._s(_vm.estimatedDuration.days+" Days")+" ")]):_vm._e(),_c("div",{staticClass:"el-col el-col-11"},[_vm._v(" "+_vm._s(_vm.estimatedDuration.hours+" Hour"+(_vm.estimatedDuration.hours>1?"s":""))+" ")])])],1):_vm._e(),_c("div",[_c("duration",{staticClass:"fc-dark-grey-txt14",attrs:{label:"Work Hours"},model:{value:_vm.actualDuration,callback:function($$v){_vm.actualDuration=$$v},expression:"actualDuration"}})],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("span",{attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.close}},[_vm._v("CANCEL")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.setDuration}},[_vm._v("SET")])],1)])])},staticRenderFns=[],FWorkHourDurationvue_type_template_id_630dc428_render=(__webpack_require__(897389),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{class:_vm.labelClass},[_vm._v(_vm._s(_vm.label?_vm.label:"Duration"))]),_c("el-row",{attrs:{gutter:10}},[_vm._t("prefix"),_c("el-col",{attrs:{span:"l"==_vm.size?8:5}},[_c("el-input",{staticStyle:{width:"37%"},attrs:{type:"number",min:"0"},on:{change:function($event){return _vm.updateDuration("manual-entry")}},model:{value:_vm.duration.day,callback:function($$v){_vm.$set(_vm.duration,"day",$$v)},expression:"duration.day"}}),_c("span",{staticClass:"textcolor pL10"},[_vm._v("Day(s)")])],1),_c("el-col",{attrs:{span:11}},[_c("el-select",{staticStyle:{width:"50%"},on:{change:function($event){return _vm.updateDuration("manual-entry")}},model:{value:_vm.duration.hour,callback:function($$v){_vm.$set(_vm.duration,"hour",$$v)},expression:"duration.hour"}},_vm._l(_vm.getNumberRange(23),(function(hour){return _c("el-option",{key:hour.value,attrs:{label:hour.label,value:hour.value}})})),1),_c("span",{staticClass:"textcolor pL10"},[_vm._v("Hour(s)")])],1)],2),_vm._l(_vm.workTimings,(function(v,i){return _c("el-row",{key:i},[_c("div",{staticClass:"creteria-delete-new"},[_c("el-date-picker",{attrs:{type:"datetimerange","start-placeholder":"Start Time","end-placeholder":"End Time",format:"yyyy-MM-dd HH","value-format":"timestamp","range-separator":"To"},on:{change:function($event){return _vm.updateDuration("split")}},model:{value:_vm.workTimings[i],callback:function($$v){_vm.$set(_vm.workTimings,i,$$v)},expression:"workTimings[i]"}}),_vm.workTimings.length===parseInt(i)+1?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"37px"},attrs:{src:__webpack_require__(353654)},on:{click:_vm.addTiming}}):_vm._e(),0!==i?_c("img",{staticClass:"delete-icon",staticStyle:{height:"18px",width:"18px","margin-right":"3px"},attrs:{src:__webpack_require__(385769)},on:{click:function($event){return _vm.deleteTiming(i)}}}):_vm._e()],1)])}))],2)}),FWorkHourDurationvue_type_template_id_630dc428_staticRenderFns=[],moment_timezone=(__webpack_require__(670560),__webpack_require__(879288),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(480008)),moment_timezone_default=__webpack_require__.n(moment_timezone),FWorkHourDurationvue_type_script_lang_js={props:["value","label","labelClass","format","size"],data:function(){return{duration:{day:0,hour:0},workTimings:[],now:moment_timezone_default()()}},watch:{duration:{handler:function(){this.onValueChange()},deep:!0}},mounted:function(){this.workTimings.push([Number(this.now.format("x")),Number(this.now.format("x"))]);var unwatch=this.$watch("value",(function(value){if(value&&-1!==value.duration){var duration=value.duration,factor=1;factor="h"===this.format?1:3600;var days=Math.floor(duration/(24*factor));duration-=24*days*factor;var hours=Math.floor(duration/factor);this.duration.day=days,this.duration.hour=hours,unwatch()}}),{immediate:!0})},methods:{updateDuration:function(val){if("manual-entry"===val){var start=this.now.clone().subtract(this.duration.day,"days").subtract(this.duration.hour,"hours");this.workTimings=[[Number(start.format("x")),Number(this.now.format("x"))]],this.onValueChange()}else"split"===val&&this.setDuration(this.workTimings)},setDuration:function(val){var totalDuration=moment_timezone_default().duration(0);val.forEach((function(e){if(0!==e.length){var duration=moment_timezone_default().duration(moment_timezone_default()(e[1],"x").diff(moment_timezone_default()(e[0],"x")));totalDuration.add(duration)}})),this.$set(this.duration,"day",totalDuration.get("days")),this.$set(this.duration,"hour",totalDuration.get("hours"))},addTiming:function(){this.workTimings.push([])},deleteTiming:function(i){this.workTimings.splice(i,1)},getNumberRange:function(no){for(var list=[],i=0;i<=no;i++)list.push({label:i+"",value:i});return list},onValueChange:function(){var factor=1;factor="h"===this.format?1:3600;var duration=24*this.duration.day*factor;duration+=this.duration.hour*factor,duration=duration||-1,this.$emit("input",{workTimings:this.workTimings,duration:duration})}}},components_FWorkHourDurationvue_type_script_lang_js=FWorkHourDurationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FWorkHourDurationvue_type_script_lang_js,FWorkHourDurationvue_type_template_id_630dc428_render,FWorkHourDurationvue_type_template_id_630dc428_staticRenderFns,!1,null,null,null)
/* harmony default export */,FWorkHourDuration=component.exports,WorkHoursvue_type_script_lang_js={props:["visible","id","callback"],components:{Duration:FWorkHourDuration},data:function(){return{showDialog:this.visible,estimatedDuration:{hours:0,days:0},actualDuration:null}},watch:{visible:{handler:function(val){val&&this.getEstimatedDuration()},immediate:!0},showDialog:function(val){this.$emit("update:visible",val)}},methods:{getEstimatedDuration:function(){var _this=this;this.id&&-1!==this.id&&this.$http.get("/workorder/getEstimatedWorkDuration?workOrderId="+this.id).then((function(response){if(response&&response.data){var duration=response.data.estimatedDuration;if(duration&&-1!==duration){var days=Math.floor(duration/86400);duration-=86400*days;var hours=(duration/3600).toFixed(2);_this.estimatedDuration.days=days,_this.estimatedDuration.hours=hours}}}))},setDuration:function(){this.callback&&this.callback(this.actualDuration)},close:function(){this.showDialog=!1}}},dialogs_WorkHoursvue_type_script_lang_js=WorkHoursvue_type_script_lang_js,WorkHours_component=(0,componentNormalizer/* default */.Z)(dialogs_WorkHoursvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkHours=WorkHours_component.exports},
/***/494814:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkOrderList}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v1/WorkOrderList.vue?vue&type=template&id=070299de
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("CommonListLayout",{staticClass:"min-width0 min-height0 wo-list-container",attrs:{moduleName:_vm.currentModuleName,showViewRearrange:!0,showViewEdit:!0,visibleViewCount:3,getPageTitle:function(){return _vm.viewName},hideSubHeader:_vm.isEmpty(_vm.selectedWorkorders),pathPrefix:"/app/wo/orders",recordCount:_vm.listCount,recordLoading:_vm.loading},scopedSlots:_vm._u([{key:"header",fn:function(){return[_c("AdvancedSearchWrapper",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}}),_vm.showSearch?_vm._e():[_c("CustomButton",{staticClass:"custom-button-top",attrs:{moduleName:_vm.currentModuleName,position:_vm.POSITION.LIST_TOP,transformFn:_vm.transformFormData,updateUrl:"/v2/workorders/update"},on:{onSuccess:function(){_vm.loadWorkOrders()},onError:function(){}}}),_vm.$hasPermission("workorder:CREATE")?_c("button",{staticClass:"fc-create-btn uppercase",on:{click:function($event){return _vm.redirectToCreation()}}},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.newworkorder"))+" ")]):_vm._e()]]},proxy:!0},{key:"sub-header-actions",fn:function(){return[_vm.isEmpty(_vm.selectedWorkorders)?_vm._e():[_c("pagination",{staticClass:"pL15 fc-black-small-txt-12",attrs:{total:_vm.listCount,perPage:50,skipTotalCount:!0}}),_vm.listCount>0?_c("span",{staticClass:"separator"},[_vm._v("|")]):_vm._e(),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.sort"),placement:"right"}},[_c("sort",{key:_vm.currentModuleName+"-sort",attrs:{config:_vm.sortConfig,sortList:_vm.sortConfigLists,excludeFields:_vm.excludedSortFields},on:{onchange:_vm.updateSort}})],1),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.export"),placement:"left"}},[_c("f-export-settings",{attrs:{module:_vm.currentModuleName,viewDetail:_vm.viewDetail,showViewScheduler:!0,showMail:!0,filters:_vm.filters}})],1)]]},proxy:!0}])},[_c("div",{staticClass:"height100 overflow-scroll-flex min-width0 min-height0"},[_c("div",{staticClass:"p10 pT0  pB20 position-relative overflow-scroll-flex min-width0 min-height0 height100"},[_c("div",{staticClass:"full-layout-white fc-border-1 scrollbar-style overflow-scroll-flex min-width0 min-height0"},[_c("div",{staticClass:"fc-overflow-y"},[_c("table",{staticClass:"min-width100 fc-list-view-table wo-table workorder-table-list scrollbar-style new-fc-list-view-table pB100"},[_c("thead",[_vm.selectedWorkorders.length?_c("tr",[_c("th",{staticClass:"width25px"},[_c("el-checkbox",{staticClass:"mL3",on:{change:_vm.selectAllWorkorders},model:{value:_vm.selectAll,callback:function($$v){_vm.selectAll=$$v},expression:"selectAll"}})],1),_c("th",{staticClass:"p8",attrs:{colspan:"8"}},[_c("div",{staticClass:"pull-left"},[_c("div",{staticClass:"action-btn-slide btn-block flex"},[_c("button",{staticClass:"btn btn--tertiary",class:{disabled:_vm.actions.assignLoading}},[_vm.actions.assignLoading?_c("i",{staticClass:"fa fa-circle-o-notch b-icon fa-spin",attrs:{"aria-hidden":"true"}}):_c("i",{staticClass:"fa fa-user-o b-icon"}),_vm._v(" "+_vm._s(_vm.$t("common._common.assign"))+" "),!_vm.actions.assignLoading&&_vm.hasWorkOrderClosePermission?_c("q-popover",{ref:"globalAssignToPopover"},[_c("q-list",{staticClass:"scroll min-width150",attrs:{link:""}},[_vm._l(_vm.users,(function(user,usridx){return _c("q-item",{key:"user"+usridx,on:{click:function($event){_vm.assignWorkOrder(_vm.selectedWorkorders,user),_vm.$refs.globalAssignToPopover.close()}}},[_c("q-item-side",{staticClass:"assign-icon f11 secondary-color2 wo_assign-icon_user",attrs:{icon:"fa-user"}}),_c("q-item-main",{attrs:{label:user.name,sublabel:user.email}})],1)})),_vm._l(_vm.groups,(function(group,grpidx){return _c("q-item",{key:"grpidx"+grpidx,on:{click:function($event){_vm.assignWorkOrder(_vm.selectedWorkorders,null,group),_vm.$refs.globalAssignToPopover.close()}}},[_c("q-item-side",{staticClass:"assign-icon f11 secondary-color2 wo_assign-icon_user",attrs:{icon:"fa-users"}}),_c("q-item-main",{attrs:{label:group.name,sublabel:group.description?group.description:"---"}})],1)}))],2)],1):_vm._e()],1),_c("button",{staticClass:"btn btn--tertiary",class:{disabled:_vm.actions.closeLoading},on:{click:function($event){return _vm.closeWorkOrder(_vm.selectedWorkorders)}}},[_vm.actions.closeLoading?_c("i",{staticClass:"fa fa-circle-o-notch b-icon fa-spin",attrs:{"aria-hidden":"true"}}):_c("i",{staticClass:"fa fa-check-circle-o b-icon"}),_vm._v(" "+_vm._s(_vm.$t("common._common.close"))+" ")]),_c("button",{staticClass:"btn btn--tertiary",on:{click:function($event){_vm.bulkbool=!0}}},[_c("i",{staticClass:"fa fa-refresh b-icon"}),_vm._v(" "+_vm._s(_vm.$t("common._common.bulk_update"))+" ")]),_c("button",{staticClass:"btn btn--tertiary",class:{disabled:_vm.actions.deleteLoading},on:{click:function($event){return _vm.deleteWorkOrder(_vm.selectedWorkorders)}}},[_vm.actions.deleteLoading?_c("i",{staticClass:"fa fa-circle-o-notch b-icon fa-spin",attrs:{"aria-hidden":"true"}}):_c("i",{staticClass:"fa fa-trash-o b-icon"}),_vm._v(" "+_vm._s(_vm.$t("common._common.delete"))+" ")]),_c("button",{staticClass:"btn btn--tertiary",on:{click:function($event){_vm.openTaskOptions=!0}}},[_c("i",{staticClass:"el-icon-printer"}),_vm._v(" "+_vm._s(_vm.$t("common._common.print"))+" ")])])])])]):_c("tr",[_c("th",{staticClass:"width25px"},[_c("el-checkbox",{staticClass:"mL3",on:{change:_vm.selectAllWorkorders},model:{value:_vm.selectAll,callback:function($$v){_vm.selectAll=$$v},expression:"selectAll"}})],1),_c("th",{staticClass:"text-left wo_td_sub_width"},[_vm._v(" "+_vm._s(_vm.$t("common._common.id"))+" ")]),_c("th",{staticClass:"text-left wo_td_sub_width"},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.subject"))+" ")]),_vm._l(_vm.viewColumns,(function(field,index){return[_vm.isFixedColumn(field.name)?_vm._e():_c("th",{key:index,staticClass:"text-left min-width110px"},[_c("div",[_vm._v(_vm._s(_vm._f("upperCase")(field.displayName)))])])]})),_vm.canShowColumn("noOfTasks","noOfNotes","noOfAttachments","attachmentPreview")?_c("th",{staticClass:"text-left"}):_vm._e(),_c("th",{staticClass:"text-left width40px"}),_c("th",{staticClass:"text-left"}),_c("th")],2)]),_vm.loading?_c("tbody",[_c("tr",[_c("td",{staticClass:"text-center",attrs:{colspan:"100%"}},[_c("spinner",{attrs:{show:_vm.loading,size:"80"}})],1)])]):_c("tbody",[_vm.workorders.length?_vm._e():_c("tr",{staticClass:"nowotd"},[_c("td",{staticClass:"height80vh",attrs:{colspan:"100%"}},[_c("div",{staticClass:"row container"},[_c("div",{staticClass:"justify-center nowo"},[_c("div",[_c("inline-svg",{attrs:{src:"svgs/emptystate/workorder",iconClass:"icon text-center icon-xxxxlg"}}),_c("div",{staticClass:"nowo-label"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.no_wo_title"))+" ")])],1)])])])]),_vm._l(_vm.workorders,(function(workorder){return _c("tr",{key:workorder.id,staticClass:"tablerow workorder-row fc-new-table-row line-height24",class:{selected:_vm.selectedWorkorders.indexOf(workorder.id)>=0}},[_c("td",{staticClass:"width25px"},[_vm.$getProperty(workorder,"moduleState.id",null)?[_vm.isRecordLocked(workorder)?_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"fa fa-lock locked-wo",attrs:{"data-arrow":"true",title:_vm.$t("maintenance.approval.waiting_for_approval")}}):_c("el-checkbox",{staticClass:"pL3",attrs:{value:_vm.selectedWorkorders.indexOf(workorder.id)>=0},on:{change:function($event){return _vm.toggleSelection(workorder.id)}}})]:_c("el-checkbox",{staticClass:"pL3",attrs:{value:_vm.selectedWorkorders.indexOf(workorder.id)>=0},on:{change:function($event){return _vm.toggleSelection(workorder.id)}}})],2),workorder&&workorder.id?[_c("td",{staticClass:"text-left min_width100"},[_c("div",{staticClass:"q-item-division relative-position ellipsis"},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{staticClass:"flex-middle flex-no-wrap"},[_c("div",{staticClass:"q-item-sublabel wl-id color-2"},[_vm._v(" #"+_vm._s(workorder.serialNumber)+" ")])])])])]),_c("td",{staticClass:"text-left min_width100 main-field-column",on:{click:function($event){return _vm.openSummaryView(workorder.id)}}},[_c("div",{staticClass:"q-item-division relative-position ellipsis"},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top"},expression:"{ placement: 'top' }"}],staticClass:"q-item-label ellipsis primary-field",attrs:{small:"",title:workorder.subject}},[_vm._v(" "+_vm._s(workorder.subject)+" ")]),_c("div",{staticClass:"flex-middle flex-no-wrap"},[-1!==workorder.dueDate?_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"q-item-sublabel wl-duedate fc-due-date",attrs:{title:_vm.$t("maintenance.wr_list.due_by_time")}},[_c("i",{staticClass:"fa fa-clock-o fc-due-date-clock",attrs:{"aria-hidden":"true"}}),_vm._v("   "+_vm._s(_vm._f("fromNow")(workorder.dueDate))+" ")]):_vm._e()])])])])]:_vm._e(),_vm._l(_vm.viewColumns,(function(field,index){return[_vm.isFixedColumn(field.name)?_vm._e():_c("td",{key:index+field.name,staticClass:"text-left wo-table-width min-width100"},["siteId"===field.name?_c("div",[_c("span",{staticClass:"q-item-label"},[_vm._v(" "+_vm._s(workorder.siteId&&_vm.siteMap[workorder.siteId]?_vm.siteMap[workorder.siteId]:"---")+" ")])]):"category"===field.name&&-1===field.parentFieldId?_c("div",{staticClass:"min-width130"},[_c("span",{staticClass:"q-item-label",class:{"color-d":!workorder.category}},[_vm._v(" "+_vm._s(workorder.category&&(_vm.getTicketCategory(workorder.category.id)||{}).displayName||"---")+" ")]),_vm.canEditRecord(workorder)?_c("span",{staticClass:"picklist-downarrow"},[_c("i",{staticClass:"fa fa-sort-desc wl-icon-downarrow",attrs:{"aria-hidden":"true"}})]):_vm._e(),_vm.canEditRecord(workorder)?_c("q-popover",{ref:"categorypopover",refInFor:!0},[_c("q-list",{staticClass:"scroll min-width150",attrs:{link:""}},_vm._l(_vm.ticketcategory,(function(category){return _c("q-item",{key:category.id,on:{click:function($event){_vm.updateWorkOrder([workorder.id],{category:{id:category.id,name:category.displayName}}),_vm.$refs.categorypopover[index].close()}}},[_c("q-item-main",{attrs:{label:category.displayName}})],1)})),1)],1):_vm._e()],1):"resource"===field.name?_c("div",{staticClass:"q-item-division relative-position",staticStyle:{"min-width":"170px"},on:{click:function($event){return _vm.canShowSpaceAssetChooser(workorder)}}},[workorder.resource&&-1!==workorder.resource.id?_c("div",[_c("div",{staticClass:"flLeft mR7"},[1===workorder.resource.resourceType?_c("img",{staticStyle:{height:"12px",width:"14px"},attrs:{src:__webpack_require__(572902)}}):_c("img",{staticStyle:{height:"11px",width:"14px"},attrs:{src:__webpack_require__(30684)}})]),_c("span",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"flLeft q-item-label ellipsis max-width140px",attrs:{small:"","data-position":"bottom",title:workorder.resource.name}},[_vm._v(_vm._s(workorder.resource.name))])]):_c("div",[_c("span",{staticClass:"q-item-label secondary-color color-d"},[_vm._v(" ---"+_vm._s(_vm.$t("maintenance.wr_list.space_asset"))+"--- ")])])]):"assignedTo"!==field.name&&field.name?"status"===field.name?_c("div",{staticClass:"width110px"},[_c("span",{staticClass:"q-item-label"},[_vm._v(" "+_vm._s(_vm.$getProperty(workorder.moduleState,"displayName","---"))+" ")])]):"sourceType"===field.name?_c("div",{staticClass:"width110px"},[workorder.sourceType&&workorder.sourceTypeVal?_c("span",{staticClass:"q-item-label"},[_vm._v(" "+_vm._s(workorder.sourceTypeVal?workorder.sourceTypeVal:"---")+" ")]):_c("span",{staticClass:"q-item-label"},[_vm._v("---")])]):"priority"===field.name?_c("div",{staticClass:"width110px flex-middle"},[workorder.priority?_c("span",{staticClass:"q-item-label"},[_c("i",{staticClass:"fa fa-circle prioritytag",style:{color:_vm.getTicketPriority(workorder.priority.id).colour},attrs:{"aria-hidden":"true"}}),_vm._v(" "+_vm._s(workorder.priority.id>0?_vm.getTicketPriority(workorder.priority.id).displayName:"---")+" ")]):_c("span",{staticClass:"color-d"},[_vm._v("---")]),_vm.canEditRecord(workorder)?_c("span",{staticClass:"picklist-downarrow"},[_c("i",{staticClass:"fa fa-sort-desc wl-icon-downarrow",attrs:{"aria-hidden":"true"}})]):_vm._e(),_vm.canEditRecord(workorder)?_c("q-popover",{ref:"prioritypopover",refInFor:!0},[_c("q-list",{staticClass:"scroll min-width150",attrs:{link:""}},_vm._l(_vm.ticketpriority,(function(priority,index){return _c("q-item",{key:index,on:{click:function($event){_vm.updateWorkOrder([workorder.id],{priority:{id:priority.id,priority:priority.priority}}),_vm.$refs.prioritypopover[index].close()}}},[_c("q-item-main",{attrs:{label:priority.displayName}})],1)})),1)],1):_vm._e()],1):"SIGNATURE"===_vm.$getProperty(field,"field.displayType")?_c("div",[_c("SignatureField",{attrs:{field:(field||{}).field,record:workorder}})],1):"type"===field.name?_c("div",{staticClass:"q-item-division flex-middle width150px"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"q-item-label ellipsis table-field relative-position ellipsis",class:{"color-d":!_vm.getColumnDisplayValue(field,workorder)},attrs:{small:"",title:_vm.getColumnDisplayValue(field,workorder)}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,workorder)||"---")+" ")]),_c("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click","popper-class":"fcPopover"}},[_c("div",[_c("ul",_vm._l(_vm.ticketType,(function(value,key){return _c("li",{key:key,staticClass:"el-dropdown-menu__item",on:{click:function($event){var _obj;return _vm.updateWorkOrder([workorder.id],{data:(_obj={},_obj[field.name]=value,_obj)})}}},[_vm._v(" "+_vm._s(value.name)+" ")])})),0)]),_vm.canEditRecord(workorder)?_c("i",{staticClass:"fa fa-sort-desc wl-icon-downarrow picklist-downarrow",attrs:{slot:"reference","aria-hidden":"true"},slot:"reference"}):_vm._e()])],1):field.field&&33===field.field.displayTypeInt?_c("div",[_c("f-image-preview",{attrs:{file:_vm.$helpers.getFileObjectFromRecord(workorder,field)}})],1):field.isDefault?_c("div",{staticClass:"q-item-division relative-position ellipsis"},[_c("div",{staticClass:"q-item-main q-item-section"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"q-item-label ellipsis table-field",class:{"color-d":!_vm.getColumnDisplayValue(field,workorder)},attrs:{small:"",title:_vm.getColumnDisplayValue(field,workorder)}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,workorder)||"---")+" ")])])]):_c("div",{staticClass:"q-item-division flex-middle width150px"},[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"q-item-label ellipsis table-field relative-position",class:{"color-d":!_vm.getColumnDisplayValue(field,workorder)},attrs:{small:"",title:_vm.getColumnDisplayValue(field,workorder)}},[_vm._v(" "+_vm._s(_vm.getColumnDisplayValue(field,workorder)||"---")+" ")]),_c("el-popover",{attrs:{placement:"bottom",width:"200",trigger:"click","popper-class":"fcPopover"}},[_c("div",[field.field&&"ENUM"===field.field.dataTypeEnum?_c("ul",_vm._l(field.field.enumMap,(function(value,key){return _c("li",{key:key,staticClass:"el-dropdown-menu__item",attrs:{label:value,value:key},on:{click:function($event){var _obj;return _vm.updateWorkOrder([workorder.id],{data:(_obj={},_obj[field.name]=value,_obj)})}}},[_vm._v(" "+_vm._s(value)+" ")])})),0):_vm._e(),field.field&&"BOOLEAN"===field.field.dataTypeEnum?_c("ul",[_c("li",{staticClass:"el-dropdown-menu__item",attrs:{label:field.field.trueVal?field.field.trueVal:"Yes",value:"true"},on:{click:function($event){var _obj;return _vm.updateWorkOrder([workorder.id],{data:(_obj={},_obj[field.name]=!0,_obj)})}}},[_vm._v(" "+_vm._s(field.field.trueVal?field.field.trueVal:"Yes")+" ")]),_c("li",{staticClass:"el-dropdown-menu__item",attrs:{label:field.field.falseVal?field.field.falseVal:"No",value:"false"},on:{click:function($event){var _obj;return _vm.updateWorkOrder([workorder.id],{data:(_obj={},_obj[field.name]=!1,_obj)})}}},[_vm._v(" "+_vm._s(field.field.falseVal?field.field.falseVal:"No")+" ")])]):_vm._e()])])],1):_c("div",{staticClass:"q-item-division relative-position wo_assignedto_avatarblock"},[_c("div",{staticClass:"wo-assigned-avatar fL"},[_c("user-avatar",{attrs:{size:"md",user:workorder.assignedTo,group:workorder.assignmentGroup,showPopover:!0,showLabel:!0,moduleName:_vm.currentModuleName}})],1),_vm.canEditRecord(workorder)?_c("f-assignment",{attrs:{viewtype:"view",record:workorder,siteId:_vm.$getProperty(workorder,"siteId",null)},on:{assignactivity:_vm.onAssignWo}}):_vm._e()],1)])]})),_vm.canShowColumn("noOfNotes")?_c("td",{staticClass:"stats secondary-color2 wo_notes_count",on:{click:function($event){$event.stopPropagation(),_vm.workorderSelected=workorder,_vm.showcomment=!0}}},[_vm.canShowColumn("noOfNotes")?_c("div",{staticStyle:{float:"left"},on:{click:function($event){$event.stopPropagation(),_vm.workorderSelected=workorder,_vm.showcomment=!0}}},[_c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(293656)}})]),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(" "+_vm._s(-1==workorder.noOfNotes||0==workorder.noOfNotes?"0":workorder.noOfNotes)+" ")])]):_vm._e()]):_vm._e(),_vm.canShowColumn("noOfTasks")?_c("td",{staticClass:"stats secondary-color2"},[_vm.canShowColumn("noOfTasks")?_c("div",{staticClass:"fL"},[-1!=workorder.noOfTasks&&0!=workorder.noOfNotes?_c("q-icon",{staticStyle:{color:"#ddd !important"},attrs:{name:"fa-tasks wl-table-icon"}}):_vm._e(),_c("span",{staticClass:"q-item-sublabel pL5"},[_vm._v(" "+_vm._s(-1==workorder.noOfTasks||0==workorder.noOfNotes?"":(-1==workorder.noOfClosedTasks?"0":workorder.noOfClosedTasks)+"/"+workorder.noOfTasks)+" ")])],1):_vm._e(),_c("div",{staticStyle:{clear:"both"}})]):_vm._e(),_vm.canShowColumn("noOfAttachments")?_c("td",{staticClass:"stats secondary-color2"},[_vm.canShowColumn("noOfAttachments")&&workorder.noOfAttachments&&workorder.noOfAttachments>0?_c("div",{staticStyle:{float:"left"}},[_c("span",[_c("img",{staticStyle:{width:"14px",height:"12.8px"},attrs:{src:__webpack_require__(345265)},on:{click:function($event){$event.stopPropagation(),_vm.workorderSelected=workorder,_vm.showattachment=!0}}})]),_c("span",{staticClass:"width5px q-item-sublabel comment-counnt-txt"},[_vm._v(" "+_vm._s(-1==workorder.noOfAttachments||0==workorder.noOfAttachments?"0":workorder.noOfAttachments)+" ")])]):_vm._e()]):_vm._e(),_vm.canShowColumn("attachmentPreview")?_c("td",{staticClass:"secondary-color2"},[_vm.canShowColumn("attachmentPreview")?_c("div",{staticClass:"text-align-center"},[_c("f-list-attachment-preview",{attrs:{module:"ticketattachments",record:workorder}})],1):_vm._e()]):_vm._e(),_c("td",[_c("div",{staticClass:"d-flex flex-row mR3"},[_vm.showButtonsForListItems?_c("div",{staticClass:"d-flex mL-auto justify-center width200px custom-button-container"},[_c("CustomButton",{staticClass:"custom-button",attrs:{moduleName:_vm.currentModuleName,record:workorder,position:_vm.POSITION.LIST_ITEM,customButtonList:_vm.customButtonList,transformFn:_vm.transformFormData,updateUrl:"/v2/workorders/update"},on:{onSuccess:_vm.loadWorkOrders,onError:function(){}}})],1):_vm._e(),_c("div",{staticClass:"mR3"},[_c("i",{staticClass:"fa fa-ellipsis-v secondary-color2",attrs:{"aria-hidden":"true"}}),_c("q-popover",{ref:"morepopover",refInFor:!0,attrs:{width:"200",trigger:"click"}},[_c("q-list",[_c("q-item",{staticStyle:{padding:"5px 15px","text-align":"center"},attrs:{tag:"label"},on:{click:function($event){return _vm.deleteWorkOrder([workorder.id])}}},[_c("q-item-main",[_vm._v("Delete")])],1)],1)],1)],1)])])],2)}))],2)])]),_c("div",{staticClass:"view-column-chooser fc-new-view-column-chooser wo_fcnew_view_column_chooser",on:{click:function($event){_vm.showColumnSettings=!0}}},[_c("img",{staticClass:"wo_fcnew_view_column_chooser-edit",attrs:{src:__webpack_require__(266707)}})])])]),_c("q-modal",{ref:"basicModal"},[_c("div",{staticClass:"saveasview p20"},[_c("div",{staticClass:"saveasviewheader f20"},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.save_as"))+" ")]),_c("div"),_c("q-btn",{attrs:{small:"",color:"primary"},on:{click:_vm.saveAsNewView}},[_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.save"))+" ")])],1)]),_vm.bulkbool?_c("bulk-update-viewer",{attrs:{module:"workorder",fieldlist:_vm.bulkfieldlist,"content-css":{padding:"0px",background:"#f7f8fa",Width:"10vw",Height:"30vh"}},on:{submit:_vm.bulkAction,closed:_vm.closeBulkUpdateDialog}}):_vm._e(),_c("column-customization",{attrs:{visible:_vm.showColumnSettings,moduleName:_vm.currentModuleName,columnConfig:_vm.columnConfig,viewName:_vm.currentView},on:{"update:visible":function($event){_vm.showColumnSettings=$event}}}),_vm.chooserVisibility?_c("space-asset-chooser",{attrs:{visibility:_vm.chooserVisibility,filter:_vm.filter},on:{associate:_vm.associate,"update:visibility":function($event){_vm.chooserVisibility=$event}}}):_vm._e(),_vm.showWorkDurationDialog?_c("work-hours",{attrs:{visible:_vm.showWorkDurationDialog,id:_vm.workorderSelected,callback:_vm.workDurationCallBack},on:{"update:visible":function($event){_vm.showWorkDurationDialog=$event}}}):_vm._e(),_c("outside-click",{staticClass:"comment-dialog",staticStyle:{top:"50px",position:"fixed"},attrs:{visibility:_vm.showcomment},on:{"update:visibility":function($event){_vm.showcomment=$event}}},[_c("div",[_c("div",{staticClass:"comment-dialog-header"},[_c("h3",{staticClass:"comment-dialog-heading",staticStyle:{"text-transform":"uppercase"}},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.comments"))+" "),_c("span",[_vm._v(" "+_vm._s(_vm.workorderSelected.noOfNotes>0?"("+_vm.workorderSelected.noOfNotes+")":"")+" ")])]),_c("div",{staticClass:"comment-close"},[_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Close",placement:"bottom"}},[_c("i",{staticClass:"el-icon-close",attrs:{"aria-hidden":"true"},on:{click:function($event){_vm.showcomment=!1}}})])],1)]),_c("div",{staticClass:"comment-dialog-body"},[_c("comments",{attrs:{module:"ticketnotes",parentModule:"workorder",record:_vm.workorderSelected}})],1)])]),_c("outside-click",{staticClass:"comment-dialog",attrs:{visibility:_vm.showattachment},on:{"update:visibility":function($event){_vm.showattachment=$event}}},[_c("div",[_c("div",{staticClass:"comment-dialog-header"},[_c("h3",{staticClass:"comment-dialog-heading",staticStyle:{"text-transform":"uppercase"}},[_vm._v(" "+_vm._s(_vm.$t("maintenance.wr_list.attachments"))+" "),_c("span",[_vm._v(" "+_vm._s(_vm.workorderSelected.noOfAttachments>0?"("+_vm.workorderSelected.noOfAttachments+")":"")+" ")])]),_c("div",{staticClass:"comment-close"},[_c("i",{staticClass:"el-icon-close",attrs:{"aria-hidden":"true"},on:{click:function($event){_vm.showattachment=!1}}})])]),_c("div",{staticClass:"comment-dialog-body"},[_c("attachments",{attrs:{module:"ticketattachments",record:_vm.workorderSelected,diasbleAttachment:!0}})],1)])]),_vm.openTaskOptions?_c("workorder-options",{attrs:{workorders:_vm.selectedWorkorders,visibility:_vm.openTaskOptions},on:{"update:visibility":function($event){_vm.openTaskOptions=$event}}}):_vm._e(),_c("portal",{attrs:{to:"view-manager-link"}},[_c("router-link",{staticClass:"view-manager-btn",attrs:{tag:"div",to:"/app/wo/workorder/viewmanager"}},[_c("inline-svg",{staticClass:"d-flex",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("viewsmanager.list.views_manager"))+" ")])],1)],1)],1)])},staticRenderFns=[],objectSpread2=__webpack_require__(595082),validation=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(169358),__webpack_require__(879288),__webpack_require__(947522),__webpack_require__(919649),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(648324),__webpack_require__(339772),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(538077),__webpack_require__(450886),__webpack_require__(425728),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),Spinner=__webpack_require__(604947),SummaryAttachment=__webpack_require__(526971),User=__webpack_require__(426803),FAssignment=__webpack_require__(383274),ColumnCustomization=__webpack_require__(490966),SpaceAssetChooser=__webpack_require__(372587),ViewMixin=__webpack_require__(453877),WorkHours=__webpack_require__(16297),Comments2=__webpack_require__(487565),OutsideClick=__webpack_require__(21864),BulkUpdateViewer=__webpack_require__(574655),ListAttachmentPreview=__webpack_require__(434579),ListImagePreview=__webpack_require__(526283),WorkOrderSummaryPdfOptions=__webpack_require__(455360),CommonLayout=__webpack_require__(951478),ListPagination=__webpack_require__(890608),FExportSettings=__webpack_require__(641435),Sort=__webpack_require__(487390),api=__webpack_require__(32284),router=__webpack_require__(329435),quasar_esm=__webpack_require__(641358),CustomButton=__webpack_require__(623857),CustomButtonUtil=__webpack_require__(746095),workorderHelper=__webpack_require__(865764),SignatureColumn=__webpack_require__(724460),AdvancedSearchWrapper=__webpack_require__(207001),WorkOrderListvue_type_script_lang_js={mixins:[ViewMixin/* default */.Z,workorderHelper/* default */.Z],components:{QList:quasar_esm/* QList */.tu,QItem:quasar_esm/* QItem */.ry,QBtn:quasar_esm/* QBtn */.OV,QItemMain:quasar_esm/* QItemMain */.Ui,QItemSide:quasar_esm/* QItemSide */.hJ,QIcon:quasar_esm/* QIcon */.oF,QPopover:quasar_esm/* QPopover */.oe,QModal:quasar_esm/* QModal */.hc,UserAvatar:User/* default */.Z,Spinner:Spinner/* default */.Z,FAssignment:FAssignment/* default */.Z,ColumnCustomization:ColumnCustomization/* default */.Z,SpaceAssetChooser:SpaceAssetChooser/* default */.Z,Attachments:SummaryAttachment/* default */.Z,WorkHours:WorkHours/* default */.Z,Comments:Comments2/* default */.Z,OutsideClick:OutsideClick/* default */.Z,BulkUpdateViewer:BulkUpdateViewer/* default */.Z,FListAttachmentPreview:ListAttachmentPreview/* default */.Z,FImagePreview:ListImagePreview/* default */.Z,workorderOptions:WorkOrderSummaryPdfOptions/* default */.Z,CommonListLayout:CommonLayout/* default */.Z,FExportSettings:FExportSettings/* default */.Z,Sort:Sort/* default */.Z,Pagination:ListPagination/* default */.Z,CustomButton:CustomButton/* default */.Z,SignatureField:SignatureColumn/* default */.Z,AdvancedSearchWrapper:AdvancedSearchWrapper/* default */.Z},data:function(){return{isEmpty:validation/* isEmpty */.xb,excludedSortFields:["assignedTo","assignedBy","assignmentGroup","createdBy","requestedBy","requester","tenant"],bulkfieldlist:["requester","assignedTo","category","dueDate","priority","type","resource"],loading:!0,selectedWorkorders:[],selectAll:!1,showcomment:!1,showattachment:!1,actions:{assignLoading:!1,closeLoading:!1,deleteLoading:!1},sortConfig:{orderBy:"",orderType:"desc"},sortConfigLists:[],showColumnSettings:!1,bulkbool:!1,columnConfig:{fixedColumns:["subject"],fixedSelectableColumns:["noOfNotes","noOfTasks","noOfAttachments","attachmentPreview"],availableColumns:["category","description","dueDate","responseDueDate","status","sourceType","assignedTo","createdTime","createdBy","priority","resource","type","modifiedTime","actualWorkStart","actualWorkEnd","totalCost","siteId","vendor","requester",this.$helpers.isLicenseEnabled("TENANTS")?"tenant":"",this.$helpers.isLicenseEnabled("CLIENT")?"client":""],showLookupColumns:!1,lookupToShow:["resource",this.$helpers.isLicenseEnabled("TENANTS")?"tenant":"",this.$helpers.isLicenseEnabled("CLIENT")?"client":""]},chooserVisibility:!1,workorderSelected:-1,workOrder:-1,showWorkDurationDialog:!1,workDurationCallBack:null,openTaskOptions:!1,workorders:[],listCount:null,POSITION:CustomButtonUtil/* POSITION_TYPE */.Rz,filterConfig:{moduleName:"workorder",includeParentCriteria:!0,fetchModuleAction:"workorder/fetchWorkOrders",path:"/app/wo/orders/",data:{subject:{label:"Subject",displayType:"string",value:[]},siteId:{label:"Site",options:{},value:[],displayType:"select",key:"siteId"},category:{label:this.$t("maintenance.wr_list.category"),displayType:"select",options:{},value:[]},resource:{label:"Space / Asset",displayType:"resourceType",options:{},value:[],multiSelect:!0},assignedTo:{label:this.$t("maintenance.wr_list.staff/team"),displayType:"select",options:{},value:[]},ticketType:{label:this.$t("maintenance.wr_list.type"),displayType:"select",options:{},value:[],key:"type"},priority:{label:this.$t("maintenance.wr_list.priority"),displayType:"select",options:{},value:[]},sourceType:{label:this.$t("maintenance.wr_list.source_type"),displayType:"select",operatorId:9,options:this.$constants.SourceType,value:[]},serialNumber:{label:"ID",displayType:"number",value:[],operator:"NUMBER",operatorId:9},dueDate:{label:this.$t("maintenance.wr_list.duedate"),displayType:"select",type:"date",customdate:!0,options:{72:"Overdue",22:"Today",25:"Yesterday",26:"Till Yesterday",23:"Tomorrow","8_41":"Next 8 Hours"},value:[]},responseDueDate:{label:this.$t("maintenance.wr_list.responseDueDate"),displayType:"select",type:"date",customdate:!0,options:{72:"Overdue",25:"Yesterday",26:"Till Yesterday",22:"Today",23:"Tomorrow","8_41":"Next 8 Hours"},value:[]},createdTime:{label:this.$t("maintenance.wr_list.created_date"),displayType:"select",single:!0,type:"date",customdate:!0,options:{"1_40":"Within 1 Hour","12_40":"Within 12 Hours","24_40":"Within 24 Hours",22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""},actualWorkEnd:{label:"Resolved Time",displayType:"select",single:!0,type:"date",customdate:!0,options:{22:"Today",25:"Yesterday",31:"This Week",28:"This Month",27:"Last Month","2_39":"Last 2 Months","6_39":"Last 6 Months"},value:""}},showFilter:!1,availableColumns:["subject","category","resource","dueDate","responseDueDate","sourceType","status","assignedTo","createdTime","comments","tasks","priority","noOfNotes","noOfTasks","modifiedTime","actualWorkStart","actualWorkEnd",this.$helpers.isLicenseEnabled("TENANTS")?"tenant":"",this.$helpers.isLicenseEnabled("CLIENT")?"client":""],fixedCols:"subject",saveView:!0},customButtonList:null,moduleDisplayName:"".concat(this.$t("common._common.workorder"))}},created:function(){this.$store.dispatch("loadTicketCategory"),this.$store.dispatch("loadTicketStatus","workorder"),this.$store.dispatch("loadApprovalStatus"),this.$store.dispatch("loadTicketType"),this.$store.dispatch("loadSites"),this.$store.dispatch("loadTicketPriority"),this.$store.dispatch("loadGroups")},mounted:function(){this.addFilterFields(),this.metaFieldsLists()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users},groups:function(state){return state.groups},ticketcategory:function(state){return state.ticketCategory},siteList:function(state){return state.sites},ticketpriority:function(state){return state.ticketPriority},ticketType:function(state){return state.ticketType},showSearch:function(state){return state.search.active},viewDetail:function(state){return state.view.currentViewDetail},hasWorkOrderChangeOwnerPermission:function(){return(0,router/* isWebTabsEnabled */.tj)()?this.$hasPermission("".concat(this.moduleName,":UPDATE_CHANGE_OWNERSHIP")):this.$hasPermission("".concat(this.moduleName,":CHANGE_OWNERSHIP"))}})),(0,vuex_esm/* mapGetters */.Se)(["getTicketStatus","getTicketStatusByLabel","getTicketPriority","getApprovalStatus","isStatusLocked","getTicketCategory","getTicketType"])),{},{currentModuleName:function(){return this.$attrs.moduleName||"workorder"},viewName:function(){var viewList={open:"Open Work Orders",overdue:"Overdue Work Orders",duetoday:"Due Today Work Orders",myopen:"My Work Orders",myteamopen:"My Team Work Orders",myoverdue:"My Overdue Work Orders",myduetoday:"My Due Today Work Orders",openfirealarms:"Fire Alarm Work Orders",all:"All Work Orders",unassigned:"Unassigned Work Orders",closed:"Closed Work Orders",unplanned:"Unplanned Work Orders",planned:"Planned Work Orders",mytodaysworkorder1:"My Today Work Orders1",resolvedworkorder1:"Resolved Work Orders 1",resolvedworkorder:"resolved Work Orders",todaysplannedworkorders:"Todays Planned Work Orders"},title=this.currentView?this.$getProperty(viewList,this.currentView):null;return title||"Work Orders"},siteMap:function(){var siteList=this.siteList;return(siteList||[]).reduce((function(data,site){return data[site.id]=site.name,data}),{})},currentView:function(){var viewName=this.$attrs.viewname||this.$route.params.viewname;return viewName},filters:function(){return this.$route.query.search?JSON.parse(this.$route.query.search):null},page:function(){return this.$route.query.page||1},filter:function(){var filter={},_ref=this.workOrder||{},siteId=_ref.siteId;return(0,validation/* isEmpty */.xb)(siteId)||(filter.site=Number(siteId)),filter},showButtonsForListItems:function(){var customButtonList=this.customButtonList,workorders=this.workorders,evaluatedButtonIdSet=(workorders||[]).reduce((function(buttonIds,workorder){return(0,validation/* isEmpty */.xb)(workorder.evaluatedButtonIds)||workorder.evaluatedButtonIds.forEach((function(id){return buttonIds.add(id)})),buttonIds}),new Set);return(customButtonList||[]).some((function(button){return evaluatedButtonIdSet.has(button.id)}))}}),watch:{currentView:{handler:function(newVal,oldVal){oldVal===newVal||(0,validation/* isEmpty */.xb)(newVal)||(this.loadWorkOrders(),this.loadWOCounts())},immediate:!0},filters:function(newVal,oldVal){JSON.stringify(oldVal)!==JSON.stringify(newVal)&&(this.loadWorkOrders(),this.loadWOCounts())},page:function(newVal,oldVal){oldVal===newVal||this.loading||this.loadWorkOrders()},viewDetail:function(){var _ref2=this.viewDetail||{},_ref2$sortFields=_ref2.sortFields,sortFields=void 0===_ref2$sortFields?[]:_ref2$sortFields;if(!(0,validation/* isEmpty */.xb)(sortFields)){var _this$$getProperty=this.$getProperty(sortFields[0],"sortField",{}),name=_this$$getProperty.name;this.sortConfig={orderType:sortFields[0].isAscending?"asc":"desc",orderBy:name||""}}}},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({saveNewView:"view/saveNewView"})),{},{toggleSelection:function(woId){var _this=this,idx=this.selectedWorkorders.findIndex((function(id){return woId===id}));-1===idx?this.selectedWorkorders.push(woId):this.selectedWorkorders.splice(idx,1),this.selectAll&&this.selectedWorkorders.length!==this.workorders.filter((function(wo){return _this.canEditRecord(wo)})).length&&(this.selectAll=!1)},resetSelectAll:function(){this.selectedWorkorders=[],this.selectAll=!1},selectAllWorkorders:function(){var _this2=this,selectableWo=this.workorders.filter((function(wo){return _this2.canEditRecord(wo)}));this.selectAll?this.selectedWorkorders=selectableWo.map((function(wo){return wo.id})):this.selectedWorkorders.length===selectableWo.length&&(this.selectedWorkorders=[])},onAssignWo:function(assignToObj){var _this3=this;if(assignToObj){var woIds=this.$getProperty(assignToObj,"id",[]);woIds.forEach((function(woId){var workOrder=_this3.workorders.find((function(wo){return wo.id===woId}));if(!(0,validation/* isEmpty */.xb)(workOrder)){var assignedTo=assignToObj.assignedTo,assignmentGroup=assignToObj.assignmentGroup,status=assignToObj.status,_ref3=workOrder.status||{},wOStatus=_ref3.status,index=_this3.workorders.findIndex((function(wo){return wo.id===woId}));if(workOrder.id===woId){if(!(0,validation/* isEmpty */.xb)(assignedTo)){var id=assignedTo.id;workOrder.assignedTo=-1!==id?assignedTo:null}if(!(0,validation/* isEmpty */.xb)(assignmentGroup)){var _id=assignmentGroup.id;workOrder.assignmentGroup=-1!==_id?assignmentGroup:null}"Submitted"===wOStatus&&status&&(workOrder.status=status)}_this3.workorders.splice(index,1,workOrder)}}))}},loadWorkOrders:function(){var _this4=this,url="/v2/workorders/view/".concat(this.currentView),_ref4=this.$route.query||{},criteriaIds=_ref4.criteriaIds,fetchAllType=_ref4.fetchAllType,_ref5=this.sortConfig||{},orderType=_ref5.orderType,orderBy=_ref5.orderBy,params={page:this.page,perPage:50,filters:this.filters?JSON.stringify(this.filters):null,orderBy:orderBy,orderType:orderType,criteriaIds:criteriaIds||null,fetchAllType:!!fetchAllType||null,includeParentFilter:!0};Object.keys(params).forEach((function(key){(0,validation/* isEmpty */.xb)(params[key])&&delete params[key]})),this.loading=!0,this.workorders=[],api/* API */.bl.get(url,params).then((function(_ref6){var data=_ref6.data,error=_ref6.error;error?_this4.$message.error(error.message||"Error Occured"):(_this4.workorders=data.workorders,_this4.customButtonList=data.customButtons),_this4.loading=!1}))},loadWOCounts:function(){var _this5=this,url="/workorder/workOrderCount",_ref7=this.$route.query||{},criteriaIds=_ref7.criteriaIds,fetchAllType=_ref7.fetchAllType,params={viewName:this.currentView,count:!0,filters:this.filters?JSON.stringify(this.filters):null,criteriaIds:criteriaIds||null,fetchAllType:!!fetchAllType||null,includeParentFilter:!0};Object.keys(params).forEach((function(key){(0,validation/* isEmpty */.xb)(params[key])&&delete params[key]})),api/* API */.bl.get(url,params).then((function(_ref8){var data=_ref8.data,error=_ref8.error;error?_this5.$message.error(error.message||"Error Occured"):_this5.listCount=data.woCount}))},openSummaryView:function(id){if(id)if((0,router/* isWebTabsEnabled */.tj)()){var currentView=this.currentView,currentModuleName=this.currentModuleName,_ref9=(0,router/* findRouteForModule */.Jp)(currentModuleName,router/* pageTypes */.As.OVERVIEW)||{},name=_ref9.name;name&&this.$router.push({name:name,params:{viewname:currentView,id:id}})}else this.$router.push({path:"/app/wo/orders/summary/"+id})},assignWorkOrder:function(idList,assignedTo,assignmentGroup){var _this6=this,workorder={};assignedTo&&(workorder={assignedTo:assignedTo}),assignmentGroup&&(workorder=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},workorder),{},{assignmentGroup:assignmentGroup}));var assignToObj={id:idList,workorder:workorder};this.actions.assignLoading=!0,api/* API */.bl.post("/workorder/assign",assignToObj).then((function(){_this6.loadWorkOrders(),_this6.onAssignWo(assignToObj),_this6.$dialog.notify(_this6.$t("maintenance._workorder.wo_assigned_success")),_this6.resetSelectAll()})).finally((function(){return _this6.actions.assignLoading=!1}))},doCloseWO:function(idList,actualDuration){var _this7=this,paramObj={id:idList};if(actualDuration){var _ref10=actualDuration||{},duration=_ref10.duration,workTimings=_ref10.workTimings;-1!==duration&&(paramObj.actualWorkDuration=duration),paramObj.actualTimings=workTimings}this.actions.closeLoading=!0,this.$store.dispatch("workorder/closeWorkOrder",paramObj).then((function(){_this7.$message.success(_this7.$t("maintenance._workorder.wo_closed_success")),_this7.loadWorkOrders()})).catch((function(){_this7.$message.error(_this7.$t("maintenance._workorder.wo_close_error"))})).finally((function(){return _this7.actions.closeLoading=!1}))},closeWorkOrder:function(idList,actualDuration){var _this8=this;this.checkAndShowWorkDuration(idList,"Closed",(function(idList){return _this8.doCloseWO(idList)})),this.showWorkDurationDialog||(this.doCloseWO(idList,actualDuration),this.selectedWorkorders=[])},deleteWorkOrder:function(idList){var _this9=this;this.$dialog.confirm({title:this.$t("maintenance._workorder.delete_wo"),message:this.$t("maintenance._workorder.delete_wo_body"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&(_this9.actions.deleteLoading=!0,_this9.$store.dispatch("workorder/deleteWorkOrder",{id:idList}).then((function(){_this9.$dialog.notify(_this9.$t("maintenance._workorder.wo_delete_success")),_this9.resetSelectAll(),_this9.loadWorkOrders(),_this9.loadWOCounts()})).finally((function(){return _this9.actions.deleteLoading=!1})))}))},bulkAction:function(actions){var _this10=this,fields={};actions.forEach((function(action){var _ref11=action||{},field=_ref11.field,valueArray=_ref11.valueArray,value=_ref11.value,parseLabel=_ref11.parseLabel,fieldObj=_ref11.fieldObj;if("category"===field){var _this10$getTicketCate=_this10.getTicketCategory(parseInt(valueArray)),displayName=_this10$getTicketCate.displayName;fields[field]={id:valueArray,name:displayName}}else if("priority"===field)fields[field]={id:parseInt(valueArray)};else if("requester"===field)fields[field]={id:parseInt(valueArray)};else if("type"===field)fields[field]={id:valueArray,name:_this10.getTicketType(parseInt(valueArray)).name};else if("assignedTo"===field)(0,validation/* isEmpty */.xb)(value)||(fields[field]={id:parseInt(value)}),(0,validation/* isEmpty */.xb)(valueArray)||(fields.assignmentGroup={id:parseInt(valueArray)});else if("resource"===field)fields[field]={id:parseInt(parseLabel.id)};else if("dueDate"===field)fields[field]=Date.parse(value);else if(fields.data||(fields.data={}),(0,validation/* isEmpty */.xb)(fieldObj))fields.data[field]=action.value;else{var fieldObject=fieldObj[0];(0,validation/* isEmpty */.xb)(fieldObject)||(0,validation/* isEmpty */.xb)(fieldObject.dataType)||7!==fieldObject.dataType||(0,validation/* isEmpty */.xb)(action.value.id)||(action.value.id=parseInt(action.value.id),fields.data[field]=action.value)}})),this.updateWorkOrder(this.selectedWorkorders,fields),this.closeBulkUpdateDialog()},updateWorkOrder:function(idList,fields){var _this11=this;fields.status&&(this.checkAndShowWorkDuration(idList,fields.status.status,(function(idList){return _this11.doWorkOrderUpdate(idList,fields)})),this.showWorkDurationDialog)||this.doWorkOrderUpdate(idList,fields)},doWorkOrderUpdate:function(idList,fields,actualDuration){var _this12=this,paramObj={id:idList,fields:fields};if(actualDuration){var _ref12=actualDuration||{},duration=_ref12.duration,workTimings=_ref12.workTimings;-1!==duration&&(fields.actualWorkDuration=duration),paramObj.actualTimings=workTimings}this.$store.dispatch("workorder/updateWorkOrder",paramObj).then((function(){_this12.$message.success(_this12.$t("maintenance._workorder.wo_update_success")),_this12.resetSelectAll(),_this12.closeBulkUpdateDialog(),_this12.loadWorkOrders()})).catch((function(){_this12.$message.error(_this12.$t("maintenance._workorder.wo_update_failed"))}))},checkAndShowWorkDuration:function(idList,status,cbk){var _this13=this,showDuration=idList.some((function(id){var workorder=_this13.workorders.find((function(wo){return wo.id===id})),_ref13=workorder||{},isWorkDurationChangeAllowed=_ref13.isWorkDurationChangeAllowed,woStatus=_ref13.woStatus,_ref14=woStatus||{},woStatusId=_ref14.id,getTicketStatusObj=woStatusId&&_this13.getTicketStatus(woStatusId,"workorder")||{},closedOrResolvedState="Closed"===status&&"Resolved"!==getTicketStatusObj.status;return isWorkDurationChangeAllowed&&("Resolved"===status||closedOrResolvedState)}));showDuration&&(this.$refs.statuspopover&&this.$refs.statuspopover.forEach((function(popover){return popover.close()})),this.workorderSelected=1===idList.length?idList[0]:-1,this.workDurationCallBack=cbk,this.showWorkDurationDialog=!0)},closeBulkUpdateDialog:function(){this.bulkbool=!1},updateSort:function(sorting){var _this14=this;this.$store.dispatch("view/savesorting",{viewName:this.currentView,orderBy:sorting.orderBy,orderType:sorting.orderType,moduleName:"workorder"}).then((function(){return _this14.loadWorkOrders()}))},associate:function(selectedObj){this.chooserVisibility=!1,this.updateWorkOrder([this.workOrder.id],{resource:selectedObj}),this.workOrder=-1},isRequestedState:function(workorder){var _ref15=workorder||{},approvalStatus=_ref15.approvalStatus;if((0,validation/* isEmpty */.xb)(approvalStatus))return!1;var statusObj=this.getApprovalStatus(approvalStatus.id);return this.$getProperty(statusObj,"requestedState",!1)},isRecordLocked:function(workorder){var moduleState=this.$getProperty(workorder,"moduleState.id",null);return moduleState&&this.isStatusLocked(moduleState.id,"workorder")},canEditRecord:function(workorder){var isLocked=this.isRecordLocked(workorder),isRequestedState=this.isRequestedState(workorder);return!isLocked&&!isRequestedState},canShowSpaceAssetChooser:function(workorder){this.canEditRecord(workorder)&&(this.chooserVisibility=!0,this.workOrder=workorder,this.workorderSelected=workorder.id)},saveAsNewView:function(){var _this15=this;this.saveNewView({moduleName:"workorder",view:{displayName:this.newViewName},filters:JSON.stringify(this.filters),parentView:"open"}).then((function(){_this15.$refs.basicModal.close()}))},metaFieldsLists:function(){var _this16=this;this.$http.get("/module/metafields?moduleName=workorder").then((function(_ref16){var data=_ref16.data,_ref17=data.meta||{},_ref17$fields=_ref17.fields,fields=void 0===_ref17$fields?[]:_ref17$fields;fields.forEach((function(field){(7!==field.dataType||field.default)&&_this16.sortConfigLists.push(field.name)})),_this16.moduleMetaObject=data.meta}))},addFilterFields:function(){var filterField={label:"",displayType:"lookup",options:{},value:[]},filterObject={},data=this.filterConfig.data;this.$helpers.isLicenseEnabled("TENANTS")&&(filterObject["tenant"]=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},filterField),{},{label:"Tenant"})),this.$helpers.isLicenseEnabled("VENDOR")&&(filterObject["vendor"]=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},filterField),{},{label:"Vendor"})),this.$helpers.isLicenseEnabled("CLIENT")&&(filterObject["client"]=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},filterField),{},{label:"Client"})),this.$set(this.filterConfig,"data",(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},data),filterObject))},redirectToCreation:function(){if((0,router/* isWebTabsEnabled */.tj)()){var currentModuleName=this.currentModuleName,_ref18=(0,router/* findRouteForModule */.Jp)(currentModuleName,router/* pageTypes */.As.CREATE)||{},name=_ref18.name;name&&this.$router.push({name:name})}else this.$router.push({path:"/app/wo/create"})}})},v1_WorkOrderListvue_type_script_lang_js=WorkOrderListvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v1_WorkOrderListvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkOrderList=component.exports},
/***/455360:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return WorkOrderSummaryPdfOptions}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/workorders/v1/WorkOrderSummaryPdfOptions.vue?vue&type=template&id=0c2591ac&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.visibility?_c("el-dialog",{attrs:{"append-to-body":!0,title:_vm.title,visible:_vm.visibility,width:"28%","before-close":_vm.closeDialog,"custom-class":"fc-dialog-center-container scale-up-center"},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"height300"},[_c("el-checkbox",{model:{value:_vm.checked,callback:function($$v){_vm.checked=$$v},expression:"checked"}},[_vm._v(_vm._s(_vm.$t("common.wo_report.show_photo")))]),_c("el-checkbox",{staticClass:"pT20",model:{value:_vm.showAttachement,callback:function($$v){_vm.showAttachement=$$v},expression:"showAttachement"}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.show_attachement"))+" "),_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.$t("common.wo_report.prints_image_type"),placement:"bottom"}},[_c("i",{staticClass:"el-icon-info capp-linkname"})])],1),_c("el-checkbox",{staticClass:"pT20",model:{value:_vm.showComments,callback:function($$v){_vm.showComments=$$v},expression:"showComments"}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.show_comments"))+" ")]),_c("el-checkbox",{staticClass:"pT20 mR100",model:{value:_vm.showHistory,callback:function($$v){_vm.showHistory=$$v},expression:"showHistory"}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.show_history"))+" ")]),_c("el-checkbox",{staticClass:"pT20",model:{value:_vm.useSiteLogo,callback:function($$v){_vm.useSiteLogo=$$v},expression:"useSiteLogo"}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.use_site_logo"))+" ")]),_c("el-checkbox",{staticClass:"pT20",model:{value:_vm.showSignature,callback:function($$v){_vm.showSignature=$$v},expression:"showSignature"}},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.show_signature"))+" ")])],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.disableDownloadButton},on:{click:function($event){_vm.isDownloadOption?_vm.downloadWorkOrder():_vm.printWorkOrder()}}},[_vm._v(_vm._s(_vm.confirmButtonText)+" ")])],1)]):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(779307),__webpack_require__(398858),__webpack_require__(461318),__webpack_require__(33228),__webpack_require__(634338),__webpack_require__(212826),__webpack_require__(329435)),vuex_esm=__webpack_require__(420629),WorkOrderSummaryPdfOptionsvue_type_script_lang_js={
//props: ['visibility', 'workorders', 'viewName', 'isDownloadOption', 'pdfUrl'],
props:{visibility:{type:Boolean,default:!1},workorders:{type:Array,default:function(){return[]}},viewName:{type:String,default:""},isDownloadOption:{type:Boolean,default:!1},pdfUrl:{type:String,default:""},isPdfDownload:{type:Boolean,default:!1}},data:function(){return{checked:!1,showAttachement:!1,showComments:!1,showHistory:!1,useSiteLogo:!1,showSignature:!0}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({currentTab:function(state){return state.webtabs.selectedTab},currentGroup:function(state){return state.webtabs.selectedTabGroup}})),{},{selected:function(){return this.data.checked},title:function(){var isDownloadOption=this.isDownloadOption;return isDownloadOption?this.$t("common.wo_report.download_options"):this.$t("common.wo_report.print_options")},confirmButtonText:function(){var isDownloadOption=this.isDownloadOption;return isDownloadOption?this.$t("common.wo_report.download"):this.$t("common.wo_report.print")},disableDownloadButton:function(){var isDownloadOption=this.isDownloadOption,isPdfDownload=this.isPdfDownload;return isDownloadOption&&isPdfDownload}}),methods:{closeDialog:function(){this.$emit("update:visibility",!1)},getFileUrl:function(){var workorders=this.workorders,checked=this.checked,showAttachement=this.showAttachement,showComments=this.showComments,showHistory=this.showHistory,useSiteLogo=this.useSiteLogo,showSignature=this.showSignature,viewName=this.viewName,_getApp=(0,router/* getApp */.wx)(),linkName=_getApp.linkName,appName="newapp"===linkName?"app":linkName,query=new URLSearchParams;if(query.append("workorderId",workorders),query.append("showImage",checked),query.append("showAttachements",showAttachement),query.append("showComments",showComments),query.append("showHistory",showHistory),query.append("useSiteLogo",useSiteLogo),query.append("showSignature",showSignature),query.append("viewName",viewName),(0,router/* isWebTabsEnabled */.tj)()){var currentTab=this.currentTab,currentGroup=this.currentGroup;query.append("currentTabId",currentTab.id),query.append("currentGroupId",currentGroup.id)}var url="".concat(window.location.origin,"/").concat(appName,"/pdf/summarydownloadreport?").concat(query.toString());return url},printWorkOrder:function(){var getFileUrl=this.getFileUrl,url=getFileUrl();window.open(url)},downloadWorkOrder:function(){var getFileUrl=this.getFileUrl,url=getFileUrl();this.$emit("update:pdfUrl",url)}}},v1_WorkOrderSummaryPdfOptionsvue_type_script_lang_js=WorkOrderSummaryPdfOptionsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(v1_WorkOrderSummaryPdfOptionsvue_type_script_lang_js,render,staticRenderFns,!1,null,"0c2591ac",null)
/* harmony default export */,WorkOrderSummaryPdfOptions=component.exports},
/***/266707:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"aa8bf7d214fbcc77945abad62903a613.svg";
/***/},
/***/365565:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"d022638208d4baab3e4d8fbec8ac38ca.svg";
/***/},
/***/137308:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"f5655b5c7d337eaaa1c310ef6456f44e.svg";
/***/},
/***/250620:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"03daa5e7a5fe4964f41cd5e0c6dbcdb3.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/63040.js.map