"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[69484],{
/***/247703:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return HomePageLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/homepage/HomePageLayout.vue?vue&type=template&id=4c207212
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"h100"},[_vm.loading?_c("div"):_c("HomePageViewer",{attrs:{homepage:_vm.homepage,sections:_vm.sections}})],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),HomePageViewervue_type_template_id_71f6b5e8_scoped_true_render=(__webpack_require__(450886),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"container-fluid  h100 overflow-auto"},[_c("gridstack-layout",{attrs:{layout:_vm.sectionCopy,rowHeight:"15px",column:12,minRows:0,disableOneColumnMode:!0,disableResize:!0,float:!1,static:!0,margin:10},on:{"update:layout":function($event){_vm.sectionCopy=$event}}},_vm._l(_vm.sectionCopy,(function(section,index){return _c("gridstack-item",{key:section.id,attrs:{x:section.x,y:section.y,id:section.id,w:section.w,h:section.h,noScroll:!0}},[section.hasOwnProperty("children")?_c("section-header",{attrs:{name:section.name,infoMsg:section.infoMsg}},[_c("gridstack-section",{class:{"shadow-widgets":index>0},attrs:{id:section.id,item:section,rowHeight:"15px",margin:10}},_vm._l(section.children,(function(widget){return _c("gridstack-item",{key:widget.id,attrs:{id:widget.id,x:widget.layoutParams.x,y:widget.layoutParams.y,w:widget.layoutParams.w,h:widget.layoutParams.h,className:widget.class,itemContentCustomClass:widget.class}},[_c("HomePageWidget",{staticClass:"widget-items",attrs:{widget:widget}})],1)})),1)],1):_vm._e()],1)})),1)],1)}),HomePageViewervue_type_template_id_71f6b5e8_scoped_true_staticRenderFns=[],SectionHeadervue_type_template_id_2f8fd242_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.name?_c("div",{staticClass:"section-header flex-middle"},[_c("span",[_vm._v(_vm._s(_vm.name))]),_c("span",{staticClass:"mL5"},[_vm.infoMsg?_c("InfoIcon",{attrs:{content:_vm.infoMsg}}):_vm._e()],1)]):_vm._e(),_vm._t("default")],2)},SectionHeadervue_type_template_id_2f8fd242_scoped_true_staticRenderFns=[],InfoIconvue_type_template_id_4bc32fc2_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.content?_c("el-popover",{attrs:{placement:"right-start","popper-class":"break-normal text-left",width:"300",trigger:"hover"}},[_c("div",{attrs:{slot:"reference"},slot:"reference"},[_c("inline-svg",{staticClass:" flex-middle",attrs:{iconClass:"icon icon-sm",src:"svgs/ic-info-outline"}})],1),_c("div",[_vm._v(_vm._s(_vm.content))])]):_vm._e()],1)},InfoIconvue_type_template_id_4bc32fc2_scoped_true_staticRenderFns=[],InfoIconvue_type_script_lang_js={props:{content:{type:String}}},components_InfoIconvue_type_script_lang_js=InfoIconvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_InfoIconvue_type_script_lang_js,InfoIconvue_type_template_id_4bc32fc2_scoped_true_render,InfoIconvue_type_template_id_4bc32fc2_scoped_true_staticRenderFns,!1,null,"4bc32fc2",null)
/* harmony default export */,InfoIcon=component.exports,SectionHeadervue_type_script_lang_js={props:["name","infoMsg"],components:{InfoIcon:InfoIcon}},homepage_SectionHeadervue_type_script_lang_js=SectionHeadervue_type_script_lang_js,SectionHeader_component=(0,componentNormalizer/* default */.Z)(homepage_SectionHeadervue_type_script_lang_js,SectionHeadervue_type_template_id_2f8fd242_scoped_true_render,SectionHeadervue_type_template_id_2f8fd242_scoped_true_staticRenderFns,!1,null,"2f8fd242",null)
/* harmony default export */,SectionHeader=SectionHeader_component.exports,HomePagewidgetsvue_type_template_id_e37f12e8_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.componentName?_c(_vm.componentName,_vm._b({key:_vm.componentName,ref:_vm.componentName,tag:"component",staticClass:"h100",attrs:{widget:_vm.widget,eventBus:_vm.eventBus,widgetData:_vm.widgetData},on:{reload:_vm.handleReload}},"component",_vm.$attrs,!1)):_vm._e()},HomePagewidgetsvue_type_template_id_e37f12e8_staticRenderFns=[],eventBus=(__webpack_require__(260228),__webpack_require__(821694),__webpack_require__(76265),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(398011)),homepageApi=__webpack_require__(120696),HomePagewidgetsvue_type_script_lang_js={props:["widget"],components:{nutshellwidget:function(){return __webpack_require__.e(/* import() */89476).then(__webpack_require__.bind(__webpack_require__,89476))},groupedactioncard:function(){return Promise.all(/* import() */[__webpack_require__.e(93208),__webpack_require__.e(50232),__webpack_require__.e(93765),__webpack_require__.e(95953),__webpack_require__.e(35309),__webpack_require__.e(18778),__webpack_require__.e(12303),__webpack_require__.e(84290),__webpack_require__.e(31721),__webpack_require__.e(64418),__webpack_require__.e(5603),__webpack_require__.e(57432),__webpack_require__.e(435),__webpack_require__.e(72230),__webpack_require__.e(94255),__webpack_require__.e(67683),__webpack_require__.e(44178),__webpack_require__.e(91132),__webpack_require__.e(20280),__webpack_require__.e(78256),__webpack_require__.e(22200),__webpack_require__.e(49081),__webpack_require__.e(89472),__webpack_require__.e(12085),__webpack_require__.e(55754),__webpack_require__.e(86494),__webpack_require__.e(3037),__webpack_require__.e(49908),__webpack_require__.e(22061),__webpack_require__.e(31602),__webpack_require__.e(73609),__webpack_require__.e(41323),__webpack_require__.e(99751),__webpack_require__.e(11305),__webpack_require__.e(80390),__webpack_require__.e(89142),__webpack_require__.e(97770),__webpack_require__.e(76422),__webpack_require__.e(57544),__webpack_require__.e(84177)]).then(__webpack_require__.bind(__webpack_require__,883512))},recentreservedspacecard:function(){return __webpack_require__.e(/* import() */15600).then(__webpack_require__.bind(__webpack_require__,315600))},listview:function(){return __webpack_require__.e(/* import() */33300).then(__webpack_require__.bind(__webpack_require__,33300))},spacefinder:function(){return __webpack_require__.e(/* import() */61153).then(__webpack_require__.bind(__webpack_require__,161153))}},data:function(){return{eventBus:eventBus/* eventBus */.Y,widgetData:{}}},mounted:function(){this.init()},methods:{afterWidgetAPIHook:function(){var _this=this;if(this.componentName&&this.$refs[this.componentName])try{this.$nextTick((function(){_this.$refs[_this.componentName].widgetInit()}))}catch(e){}},handleReload:function(){this.loadWidgetData()},init:function(){this.loadWidgetData()},loadWidgetData:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var self,_yield$getHomePageWid,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return self=_this2,_context.next=3,(0,homepageApi/* getHomePageWidgetData */.b)(_this2.componentName);case 3:_yield$getHomePageWid=_context.sent,data=_yield$getHomePageWid.data,null!==data&&void 0!==data&&data.widgetData&&(self.widgetData=data.widgetData),self.afterWidgetAPIHook();case 7:case"end":return _context.stop()}}),_callee)})))()}},computed:{componentName:function(){var _this$widget;return null!==(_this$widget=this.widget)&&void 0!==_this$widget&&null!==(_this$widget=_this$widget.widgetTypeObj)&&void 0!==_this$widget&&_this$widget.name&&["nutshellwidget","groupedactioncard","recentreservedspacecard","listview","spacefinder"].includes(this.widget.widgetTypeObj.name)?this.widget.widgetTypeObj.name:null}}},homepage_HomePagewidgetsvue_type_script_lang_js=HomePagewidgetsvue_type_script_lang_js,HomePagewidgets_component=(0,componentNormalizer/* default */.Z)(homepage_HomePagewidgetsvue_type_script_lang_js,HomePagewidgetsvue_type_template_id_e37f12e8_render,HomePagewidgetsvue_type_template_id_e37f12e8_staticRenderFns,!1,null,null,null)
/* harmony default export */,HomePagewidgets=HomePagewidgets_component.exports,dashboard=__webpack_require__(292325),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),HomePageViewervue_type_script_lang_js={components:{HomePageWidget:HomePagewidgets,GridstackLayout:dashboard/* GridstackLayout */.CA,GridstackItem:dashboard/* GridstackItem */.Hn,GridstackSection:dashboard/* GridstackSection */.NS,SectionHeader:SectionHeader},data:function(){return{sectionCopy:[]}},created:function(){this.sectionCopy=cloneDeep_default()(this.sections);// Our gridstack lib will overwrite the prop which is passed to it, we don't want the prop which is passed to get updated.
},mounted:function(){},props:{sections:{type:Array,default:function(){return[]}}},methods:{}},homepage_HomePageViewervue_type_script_lang_js=HomePageViewervue_type_script_lang_js,HomePageViewer_component=(0,componentNormalizer/* default */.Z)(homepage_HomePageViewervue_type_script_lang_js,HomePageViewervue_type_template_id_71f6b5e8_scoped_true_render,HomePageViewervue_type_template_id_71f6b5e8_scoped_true_staticRenderFns,!1,null,"71f6b5e8",null)
/* harmony default export */,HomePageViewer=HomePageViewer_component.exports,HomePageLayoutvue_type_script_lang_js={components:{HomePageViewer:HomePageViewer},data:function(){return{loading:!0,homepage:{sections:[{h:32,homePageId:-1,id:"-1",name:"",orgId:-1,w:12,x:0,y:39,widgets:[{id:"-2",layoutParams:{x:0,y:0,w:6,h:10},class:["homepage-shadow-widget"],orgId:-1,sectionId:0,widgetType:3,widgetTypeEnum:"RESERVED_SPACES",widgetTypeObj:{name:"recentreservedspacecard",value:3}},{id:"-3",layoutParams:{x:6,y:0,w:6,h:25},class:["homepage-shadow-widget"],orgId:-1,sectionId:0,widgetParams:{moduleName:"servicerequest"},widgetType:5,widgetTypeEnum:"TINY_LIST_VIEW",widgetTypeObj:{name:"listview",value:5}},{id:"-4",layoutParams:{x:0,y:13,w:6,h:15},class:["homepage-shadow-widget"],orgId:-1,sectionId:0,widgetType:4,widgetTypeEnum:"SPACE_FINDER",widgetTypeObj:{name:"spacefinder",value:4}}]},{infoMsg:"You can perform live actions directly from the home screen thanks to interactive cards. for instance, approving a visitor who is about to visit you or extending a reserved room while you are in a meeting.",h:18,homePageId:-1,id:"-5",name:"Live Actions",orgId:-1,w:12,x:0,y:15,widgets:[{id:"-6",layoutParams:{x:0,y:0,w:12,h:16},orgId:-1,sectionId:0,widgetType:2,widgetTypeEnum:"GROUPED_ACTION_CARD",widgetTypeObj:{name:"groupedactioncard",value:2}}]},{infoMsg:"This section provides you with brief details on your daily bookings, visitors, announcements, etc. By clicking the card, you can view additional details.",h:15,homePageId:-1,id:"-7",name:"In a Nutshell",orgId:-1,w:12,x:0,y:0,widgets:[{id:"-8",layoutParams:{x:0,y:0,w:12,h:15},orgId:-1,sectionId:0,widgetType:1,widgetTypeEnum:"NUT_SHELL_WIDGET",widgetTypeObj:{name:"nutshellwidget",value:1}}]}]},sections:[]}},mounted:function(){this.init()},methods:{init:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$getHomepageDat,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,_context.next=3,(0,homepageApi/* getHomepageData */.r)();case 3:_yield$getHomepageDat=_context.sent,data=_yield$getHomepageDat.data,data.homepage&&(
// this.homepage = data.homepage
// 'sort' will sort the items and items inside of sections in descending order of 'y'.
_this.sections=(0,dashboard/* assign_uid */.P8)((0,dashboard/* sort */.DY)(_this.homepage.sections.map((function(i){return i["children"]=i["widgets"],delete i.widgets,i}))))),_this.loading=!1;case 7:case"end":return _context.stop()}}),_callee)})))()}}},homepage_HomePageLayoutvue_type_script_lang_js=HomePageLayoutvue_type_script_lang_js,HomePageLayout_component=(0,componentNormalizer/* default */.Z)(homepage_HomePageLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,HomePageLayout=HomePageLayout_component.exports},
/***/669484:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Play}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/Play.vue?vue&type=template&id=3b42ad47
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"h100"},[_c("HomePageLayout",{staticClass:"h100"})],1)},staticRenderFns=[],HomePageLayout=__webpack_require__(247703),Playvue_type_script_lang_js={components:{HomePageLayout:HomePageLayout/* default */.Z}},pages_Playvue_type_script_lang_js=Playvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(pages_Playvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Play=component.exports},
/***/292325:
/***/function(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__){
/* harmony export */__webpack_require__.d(__webpack_exports__,{
/* harmony export */CA:function(){/* binding */return __vue_component__$4},
/* harmony export */DY:function(){/* binding */return sort},
/* harmony export */Hn:function(){/* binding */return __vue_component__$3},
/* harmony export */NS:function(){/* binding */return __vue_component__$2},
/* harmony export */P8:function(){/* binding */return assign_uid}
/* harmony export */});
/* unused harmony exports CardComponent, SectionContainer, findIndicesUsingId */
/* harmony import */var gridstack_dist_gridstack_h5_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(334426),vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(720144),lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(150361);
/* harmony import */const findIndicesUsingId=(id,layout)=>{
// The way this function is used needs to be rewritten to improve dashboard's performance...
let parentIndex=-1,childIndex=-1,widget=null;if(layout&&id){if(layout&&layout.length>0)outerloop:for(let i=0;i<layout.length;i++){const w=layout[i];if(w.id==id){parentIndex=i,childIndex=-1,widget=layout[parentIndex];break outerloop;// Break out of the outer loop.
}if(w.children){const children=layout[i].children;for(let ci=0;ci<children.length;ci++){const cw=children[ci];if(cw.id==id){parentIndex=i,childIndex=ci,widget=layout[parentIndex].children[childIndex];break outerloop;// Break out of the outer loop.
}}}}return{idx:parentIndex,cidx:childIndex,w:widget}}return{idx:-1,cidx:-1,w:null}},sort=items=>(items=items.map((i=>(i.children&&(i.children=i.children.sort(((a,b)=>a.y<b.y))),i))),items=items.sort(((a,b)=>a.y<b.y)),items),assign_uid=items=>{let itemsCopy=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(items),uid=-1;const get_uid=()=>String(uid--);return itemsCopy=itemsCopy.map((i=>(i.id=get_uid(),i.children&&(i.children=i.children.map((i=>(i.id=get_uid(),i)))),i))),itemsCopy};
var script$4={props:{column:{type:Number,default:12},rowHeight:{type:String,default:"auto"},maxRows:{type:Number,default:0},minRows:{type:Number,default:0},margin:{default:function(){return 10}},resizable:{default:function(){return{autoHide:!0,handles:"se"}}},layout:{type:Array,required:!0},static:{type:Boolean,default:!1},alwaysShowResizeHandle:{type:Boolean,default:!1},float:{type:Boolean,default:!1},disableOneColumnMode:{type:Boolean,default:!1}},save(){},data(){return{loaded:!1,masterGridOption:{column:this.column,cellHeight:this.rowHeight,margin:this.margin,maxRow:this.maxRows,minRow:this.minRows,resizable:this.resizable,staticGrid:this.static,float:!0,alwaysShowResizeHandle:this.alwaysShowResizeHandle,disableOneColumnMode:this.disableOneColumnMode,acceptWidgets:!0},eventBus:new vue__WEBPACK_IMPORTED_MODULE_2__["default"],layoutRef:[],grid:null,removedItem:null,itemAdded:!1,itemsChanged:!1}},provide(){return{masterLayout:this,masterGridOption:this.masterGridOption,eventBus:this.eventBus}},created(){const self=this;this.$nextTick((()=>{self.grid=gridstack_dist_gridstack_h5_js__WEBPACK_IMPORTED_MODULE_0__.init(self.masterGridOption),self.subscribeToMasterGridEvents(),this.$nextTick((()=>{this.$nextTick((()=>{self.grid.float(self.float)}))}))}))},mounted(){this.layoutRef=this.layout},methods:{updateItem(id,opts){const el=this.$el.querySelector(`[gs-id='${id}']`);this.grid.update(el,opts)},removeItem(id){
// This is lame, will need refactoring.
const index=this.grid.engine.nodes.findIndex((n=>n.id==id));index>=0?this.grid.removeWidget(this.grid.engine.nodes[index].el,!1,!0):
// This items belongs in a subgrid.
this.eventBus.$emit("itemRemoved",id)},subscribeToMasterGridEvents(){const self=this;this.grid.on("removed",((event,items)=>{items.forEach((i=>{const{idx:idx,cidx:cidx,w:w}=findIndicesUsingId(i.id,self.layout);cidx>=0?(
// eslint-disable-next-line vue/no-mutating-props
self.layout[idx].children.splice(cidx,1),self.removedItem=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(w)):idx>=0&&(
// Element having cidx (childIndx) doesn't belong to the masterGrid.
self.removedItem=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(w),
// eslint-disable-next-line vue/no-mutating-props
self.layout.splice(idx,1))})),self.emitLayout()})),this.grid.on("change",((event,items)=>{items&&(1!=self.itemsChanged||0!=self.itemAdded?(items.forEach((i=>{const{w:w}=findIndicesUsingId(i.id,self.layout),pos={x:i.x,y:i.y,w:i.w,h:i.h};Object.assign(w,pos)})),self.emitLayout()):self.itemsChanged=!1)})),this.grid.on("added",((event,items)=>{if(1==self.itemAdded)return self.itemAdded=!1,void(self.itemsChanged=!0);items.forEach((i=>{const{w:w}=findIndicesUsingId(i.id,self.layout),pos={id:i.id,x:i.x,y:i.y,w:i.w,h:i.h};self.removedItem?.id==i.id&&null==w?(
// Widget has been moved from a subgrid into the masterGrid.
Object.assign(self.removedItem,pos),
// eslint-disable-next-line vue/no-mutating-props
self.layout.push(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(self.removedItem)),self.removedItem=null,self.itemAdded=!0,self.itemsChanged=!1):
// Use cases:
// 1) Widget has be relocated within the masterGrid.
Object.assign(w,pos)})),self.emitLayout()}))},emitLayout(sectionId=null){this.$emit("update:layout",this.layout),sectionId&&this.$emit("sectionHeightChanged",sectionId)}}};function normalizeComponent(template,style,script,scopeId,isFunctionalTemplate,moduleIdentifier/* server only */,shadowMode,createInjector,createInjectorSSR,createInjectorShadow){"boolean"!==typeof shadowMode&&(createInjectorSSR=createInjector,createInjector=shadowMode,shadowMode=!1);
// Vue.extend constructor export interop.
const options="function"===typeof script?script.options:script;
// render functions
let hook;if(template&&template.render&&(options.render=template.render,options.staticRenderFns=template.staticRenderFns,options._compiled=!0,
// functional template
isFunctionalTemplate&&(options.functional=!0)),
// scopedId
scopeId&&(options._scopeId=scopeId),moduleIdentifier?(
// server build
hook=function(context){
// 2.3 injection
context=context||
// cached call
this.$vnode&&this.$vnode.ssrContext||
// stateful
this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,// functional
// 2.2 with runInNewContext: true
context||"undefined"===typeof __VUE_SSR_CONTEXT__||(context=__VUE_SSR_CONTEXT__),
// inject component styles
style&&style.call(this,createInjectorSSR(context)),
// register component module identifier for async chunk inference
context&&context._registeredComponents&&context._registeredComponents.add(moduleIdentifier)},
// used by ssr in case component is cached and beforeCreate
// never gets called
options._ssrRegister=hook):style&&(hook=shadowMode?function(context){style.call(this,createInjectorShadow(context,this.$root.$options.shadowRoot))}:function(context){style.call(this,createInjector(context))}),hook)if(options.functional){
// register for functional component in vue file
const originalRender=options.render;options.render=function(h,context){return hook.call(context),originalRender(h,context)}}else{
// inject component registration as beforeCreate hook
const existing=options.beforeCreate;options.beforeCreate=existing?[].concat(existing,hook):[hook]}return script}
/* script */const __vue_script__$4=script$4;
/* template */var __vue_render__$4=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"grid-stack"},[_vm._t("default")],2)},__vue_staticRenderFns__$4=[];
/* style */
const __vue_inject_styles__$4=void 0,__vue_scope_id__$4=void 0,__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1,__vue_component__$4=normalizeComponent({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},__vue_inject_styles__$4,__vue_script__$4,__vue_scope_id__$4,__vue_is_functional_template__$4,__vue_module_identifier__$4,!1,void 0,void 0,void 0);
/* scoped */
var script$3={props:{className:{type:Array,default:()=>[]},id:{type:String,required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},w:{type:Number,required:!0},h:{type:Number,required:!0},minW:{type:Number,default:0},minH:{type:Number,default:0},maxW:{type:Number,default:0},maxH:{type:Number,default:0},noResize:{type:Boolean,default:!1},locked:{type:Boolean,default:!1},move:{type:Boolean,default:!1},resizeHandles:{type:String,default:null},noScroll:{
// Show scroll on gridItem or not...
type:Boolean,default:!0},itemStyle:{type:Object},itemContentStyle:{type:Object},itemContentCustomClass:{type:Array,default:()=>[]},itemCustomClass:{type:Array,default:()=>[]}},inject:{masterLayout:{default:null},subGridLayout:{default:null}},computed:{contentStyle(){const{itemContentStyle:itemContentStyle,noScroll:noScroll}=this;return{...itemContentStyle,overflow:noScroll?"hidden":"auto"}}},data(){return{loaded:!1}},mounted(){const self=this;this.$nextTick((()=>{self.loaded=!0,this.$nextTick((()=>{self.subGridLayout?.grid?self.subGridLayout.grid.makeWidget(self.$el):self.masterLayout?.grid&&self.masterLayout.grid.makeWidget(self.$el)}))}))},beforeDestroy(){this.subGridLayout?.grid?this.subGridLayout?.grid.removeWidget(this.$el,!0,!1):this.masterLayout?.grid&&this.masterGrid?.grid.removeWidget(this.$el,!0,!1)}};
/* script */const __vue_script__$3=script$3;
/* template */var __vue_render__$3=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{class:[{"grid-stack-item":_vm.loaded}].concat(_vm.itemCustomClass),attrs:{"gs-id":_vm.id,"gs-x":_vm.x,"gs-y":_vm.y,"gs-w":_vm.w,"gs-h":_vm.h,"gs-min-w":_vm.minW,"gs-min-h":_vm.minH,"gs-max-w":_vm.maxW,"gs-max-h":_vm.maxH,"gs-no-resize":_vm.noResize,"gs-no-move":_vm.move,"gs-locked":_vm.locked}},[_c("div",{class:[{"grid-stack-item-content":_vm.loaded}].concat(_vm.itemContentCustomClass),style:_vm.contentStyle},[_vm._t("default")],2)])},__vue_staticRenderFns__$3=[];
/* style */
const __vue_inject_styles__$3=void 0,__vue_scope_id__$3="data-v-a42a7a5c",__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1,__vue_component__$3=normalizeComponent({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},__vue_inject_styles__$3,__vue_script__$3,__vue_scope_id__$3,__vue_is_functional_template__$3,__vue_module_identifier__$3,!1,void 0,void 0,void 0);
/* scoped */
var script$2={data(){return{grid:null,itemAdded:!1,itemsChanged:!1}},props:{item:{type:Object,required:!0}},provide(){return{subGridLayout:this}},inject:["masterGridOption","eventBus","masterLayout"],created(){const self=this;this.$nextTick((()=>{const subgridOptions=Object.assign(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(self.masterGridOption),{acceptWidgets:el=>{let stackElm=el.getElementsByClassName("grid-stack");return!stackElm||!stackElm.length}});self.grid=gridstack_dist_gridstack_h5_js__WEBPACK_IMPORTED_MODULE_0__.addGrid(self.$el,subgridOptions),self.subsribeToSubGridEvents(),self.subscribeToEventBusEvents(),this.$nextTick((()=>{self.grid.float(self.masterLayout.float)}))}))},computed:{id(){return this.item.id}},methods:{subscribeToEventBusEvents(){const self=this;this.eventBus.$on("itemRemoved",(id=>{const index=self.grid.engine.nodes.findIndex((n=>n.id==id));index>=0&&self.grid.removeWidget(self.grid.engine.nodes[index].el,!1,!0)}))},subsribeToSubGridEvents(){const self=this;this.grid.on("change",((event,items)=>{items&&(1!=self.itemsChanged||0!=self.itemAdded?(items.forEach((i=>{const{w:w}=findIndicesUsingId(i.id,self.masterLayout.layout),pos={x:i.x,y:i.y,w:i.w,h:i.h};Object.assign(w,pos)})),self.masterLayout.emitLayout(this.id)):self.itemsChanged=!1)})),this.grid.on("added",((event,items)=>{if(1==self.itemAdded)return self.itemAdded=!1,void(self.itemsChanged=!0);items.forEach((i=>{const{w:w}=findIndicesUsingId(i.id,self.masterLayout.layout),pos={x:i.x,y:i.y,w:i.w,h:i.h};if(self.masterLayout.removedItem?.id==i.id&&null==w){
// Widget has been moved from a subgrid into the masterGrid.
Object.assign(self.masterLayout.removedItem,pos);const idx=self.masterLayout.layout.findIndex((i=>i.id==self.id));
// eslint-disable-next-line vue/no-mutating-props
self.masterLayout.layout[idx].children.push(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(self.masterLayout.removedItem)),self.masterLayout.removedItem=null,self.itemAdded=!0,self.itemsChanged=!1,setTimeout((()=>{
// 1) Widget present inside a section.
// 2) Widget held and dragged onto the mastergrid (dragged into not dropped).
// 3) Widget dropped into the same section from where it was taken out.
// These steps will remove the widget from the section and add it back again into the section,
// this would trigger `itemAdded = true`, and in the next operation done by the user
// `itemAdded` would contain
// the value `true` leading to  `this.grid.on('change',() => {})` to misbehave.
self.itemAdded=!1}),0)}else
// Use cases:
// 1) Widget has be relocated within the masterGrid.
Object.assign(w,pos)})),self.masterLayout.emitLayout(this.id)})),this.grid.on("removed",((event,items)=>{items.forEach((i=>{const{idx:idx,cidx:cidx,w:w}=findIndicesUsingId(i.id,self.masterLayout.layout);cidx>=0&&(self.masterLayout.removedItem=lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_1__(w),
// eslint-disable-next-line vue/no-mutating-props
self.masterLayout.layout[idx].children.splice(cidx,1))})),self.masterLayout.emitLayout(this.id)}))}}};
/* script */const __vue_script__$2=script$2;
/* template */var __vue_render__$2=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"grid-stack grid-stack-nested",class:{"shadow-widget-section":-1===_vm.item.id}},[_vm._t("default")],2)},__vue_staticRenderFns__$2=[];
/* style */
const __vue_inject_styles__$2=void 0,__vue_scope_id__$2="data-v-3ccda700",__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1,__vue_component__$2=normalizeComponent({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},__vue_inject_styles__$2,__vue_script__$2,__vue_scope_id__$2,__vue_is_functional_template__$2,__vue_module_identifier__$2,!1,void 0,void 0,void 0);
/* scoped */"undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/69484.js.map