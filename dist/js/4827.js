"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[4827],{
/***/604947:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return Spinner}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Spinner.vue?vue&type=template&id=06a81286&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("transition",[_c("svg",{directives:[{name:"show",rawName:"v-show",value:_vm.show,expression:"show"}],staticClass:"spinner",class:{show:_vm.show},attrs:{width:_vm.spinnerSize,height:_vm.spinnerSize,viewBox:"0 0 44 44"}},[_c("circle",{staticClass:"path",style:{stroke:_vm.strokeColor},attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns=[],Spinnervue_type_script_lang_js={name:"spinner",props:["show","size","colour"],computed:{spinnerSize:function(){return this.size?this.size+"px":"50px"},strokeColor:function(){return this.colour?this.colour:"#fd4b92"}}},components_Spinnervue_type_script_lang_js=Spinnervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Spinnervue_type_script_lang_js,render,staticRenderFns,!1,null,"06a81286",null)
/* harmony default export */,Spinner=component.exports},
/***/309743:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ConnectedAppForm}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/connectedapps/ConnectedAppForm.vue?vue&type=template&id=6eef768c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-dialog",{attrs:{visible:!0,width:"45%","custom-class":"fc-dialog-right fc-setup-modal-title setup-dialog55 setup-dialog-header-hide ",title:_vm.formTitle,"append-to-body":!0,"before-close":_vm.closeDialog}},[_c("el-form",{ref:"connectedApp",attrs:{rules:_vm.rules,model:_vm.connectedApp}},[_c("div",{staticClass:"new-body-modal"},[_c("el-form-item",{attrs:{label:_vm.$t("setup.approvalprocess.name"),prop:"name"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{type:"text",placeholder:"Enter name"},model:{value:_vm.connectedApp.name,callback:function($$v){_vm.$set(_vm.connectedApp,"name",$$v)},expression:"connectedApp.name"}})],1),_c("el-form-item",{attrs:{prop:"description",label:"Description"}},[_c("el-input",{staticClass:"fc-input-full-border-textarea text-capitalize",attrs:{type:"textarea",resize:"none",autosize:{minRows:5,maxRows:5},placeholder:_vm.$t("common.roles.description")},model:{value:_vm.connectedApp.description,callback:function($$v){_vm.$set(_vm.connectedApp,"description",$$v)},expression:"connectedApp.description"}})],1),_c("el-form-item",{attrs:{label:"Sandbox Base URL",prop:"sandBoxBaseUrl"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:!0,type:"text",placeholder:"Enter sandbox base URL"},model:{value:_vm.connectedApp.sandBoxBaseUrl,callback:function($$v){_vm.$set(_vm.connectedApp,"sandBoxBaseUrl",$$v)},expression:"connectedApp.sandBoxBaseUrl"}})],1),_c("el-form-item",{attrs:{label:"Production Base URL",prop:"productionBaseUrl"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:!0,type:"text",placeholder:"Enter production base URL"},model:{value:_vm.connectedApp.productionBaseUrl,callback:function($$v){_vm.$set(_vm.connectedApp,"productionBaseUrl",$$v)},expression:"connectedApp.productionBaseUrl"}})],1),_c("el-form-item",{attrs:{label:"Welcome URL",prop:"startUrl"}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:!0,type:"text",placeholder:"Enter Welcome URL"},model:{value:_vm.connectedApp.startUrl,callback:function($$v){_vm.$set(_vm.connectedApp,"startUrl",$$v)},expression:"connectedApp.startUrl"}})],1),_c("el-form-item",{attrs:{label:"Show in Launcher",prop:"lancher"}},[_c("el-checkbox",{model:{value:_vm.connectedApp.showInLauncher,callback:function($$v){_vm.$set(_vm.connectedApp,"showInLauncher",$$v)},expression:"connectedApp.showInLauncher"}})],1)],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.saveForm()}}},[_vm._v(_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save")))])],1)],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),cloneDeep=__webpack_require__(150361),cloneDeep_default=__webpack_require__.n(cloneDeep),ConnectedAppFormvue_type_script_lang_js={props:["isNew","connectedAppData"],data:function(){return{connectedApp:{name:"",description:"",productionBaseUrl:"",sandBoxBaseUrl:"",showInLauncher:!1,startUrl:"",hostingType:null,id:null,isActive:null,linkName:null,logoId:null},formTitle:"ADD CONNECTED APP",saving:!1,rules:{name:[{required:!0,message:"Please enter the name",trigger:"blur"}],sandBoxBaseUrl:[{required:!0,message:"Please enter the URL",trigger:"blur"}],productionBaseUrl:[{required:!0,message:"Please enter the URL",trigger:"blur"}],startUrl:[{required:!0,message:"Please enter the URL",trigger:"blur"}]}}},mounted:function(){if(!this.isNew){var connectedAppData=this.connectedAppData;this.connectedApp=cloneDeep_default()(connectedAppData),this.formTitle="EDIT CONNECTED APP"}},components:{},methods:{saveForm:function(){var _this=this;this.$refs["connectedApp"].validate(function(){var _ref=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var url,connectedApp,isNew,params,_yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return",!1);case 2:return _this.saving=!0,url=null,url=_this.isNew?"v2/connectedApps/add":"v2/connectedApps/update",connectedApp=_this.connectedApp,isNew=_this.isNew,isNew&&(connectedApp.id=null),params={connectedApp:connectedApp},_context.next=10,api/* API */.bl.post(url,params);case 10:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,error?_this.$message.error(error.message||_this.$t("common._common.error_occur")):(_this.$message.success(_this.$t("common._common.connected_saved_successfully")),_this.$emit("onSave",data.connectedContext),_this.saving=!1,_this.closeDialog()),_this.$forceUpdate();case 15:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())},closeDialog:function(){this.$emit("onClose")}}},connectedapps_ConnectedAppFormvue_type_script_lang_js=ConnectedAppFormvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(connectedapps_ConnectedAppFormvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppForm=component.exports},
/***/304827:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return ConnectedAppLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/connectedapps/ConnectedAppLayout.vue?vue&type=template&id=3ac5f808
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.loading?_c("div",[_c("Spinner",{attrs:{show:_vm.loading}})],1):_c("div",{staticClass:"height100 width100"},[_c("div",{staticClass:"setting-header2"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.connectedApp.name)+" "),_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.$t("common._common.link_name_connectedapp",{connectedApp:_vm.connectedApp.linkName}),placement:"bottom"}},[_c("i",{staticClass:"el-icon-info capp-linkname"})])],1),_c("div",{staticClass:"heading-description"},[_vm._v(_vm._s(_vm.connectedApp.description))])]),_c("div",{staticClass:"action-btn setting-page-btn controller-right-actions"},["widgets"===_vm.activeTabName?_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){return _vm.openWidgetDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.add_widget")))]):"variables"===_vm.activeTabName?_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){return _vm.openVariableDialog()}}},[_vm._v(_vm._s(_vm.$t("common.products.add_variable")))]):"connectors"===_vm.activeTabName?_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){_vm.showCreateNewConnector=!0}}},[_vm._v(_vm._s(_vm.$t("common.products.add_connector")))]):_c("el-button",{staticClass:"setup-el-btn",attrs:{type:"primary"},on:{click:function($event){_vm.showCreateNewDialog=!0}}},[_vm._v(_vm._s(_vm.$t("common.header.edit_connected_app")))])],1)]),_c("div",{staticClass:"container-scroll"},[_c("div",{staticClass:"row setting-Rlayout"},[_c("el-tabs",{staticClass:"width100",model:{value:_vm.activeTabName,callback:function($$v){_vm.activeTabName=$$v},expression:"activeTabName"}},[_c("el-tab-pane",{attrs:{label:_vm.$t("common.products.preferences"),name:"details"}},[_c("div",{staticClass:"visitor-setting-con-width mT20"},[_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"fc-black-15 bold"},[_vm._v(" "+_vm._s(_vm.$t("common.header.base_url"))+" ")]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(" "+_vm._s(_vm.connectedApp.productionBaseUrl)+" ")])]),_c("el-col",{staticClass:"text-right",attrs:{span:2}},[_c("div",[_c("div",{})])])],1)],1),_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"fc-black-15 bold"},[_vm._v(" "+_vm._s(_vm.$t("common.header.show_in_launcher"))+" ")]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(" "+_vm._s(_vm.$t("common.header.show_this_connected_app_application"))+" ")])]),_c("el-col",{staticClass:"text-right",attrs:{span:2}},[_c("div",[_c("div",{},[_c("el-switch",{on:{change:_vm.updateConnectedAppShowInLauncher},model:{value:_vm.connectedApp.showInLauncher,callback:function($$v){_vm.$set(_vm.connectedApp,"showInLauncher",$$v)},expression:"connectedApp.showInLauncher"}})],1)])])],1)],1),_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:22}},[_c("div",{staticClass:"fc-black-15 bold"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.app_status"))+" ")]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.activate_deactivate_this_connected_app"))+" ")])]),_c("el-col",{staticClass:"text-right",attrs:{span:2}},[_c("div",[_c("div",{},[_c("el-switch",{on:{change:_vm.updateConnectedAppIsActive},model:{value:_vm.connectedApp.isActive,callback:function($$v){_vm.$set(_vm.connectedApp,"isActive",$$v)},expression:"connectedApp.isActive"}})],1)])])],1)],1),_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:18}},[_c("div",{staticClass:"fc-black-15 bold"},[_vm._v(" "+_vm._s(_vm.$t("common._common.saml"))+" ")]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(" "+_vm._s(_vm.$t("common._common.to_enable_single_signon_facilio"))+" ")])]),_c("el-col",{staticClass:"text-right",attrs:{span:6}},[_c("div",[_c("div",{},[_vm.connectedApp.connectedAppSAML?_c("div",[_c("i",{staticClass:"el-icon-edit pointer",on:{click:_vm.openSamlConfigure}}),_vm._v("    "),_c("i",{staticClass:"el-icon-delete pointer",on:{click:_vm.deleteSaml}})]):_c("el-button",{staticClass:"el-button setup-el-btn el-button--primary scale-up-left",attrs:{type:"primary"},on:{click:_vm.openSamlConfigure}},[_vm._v(_vm._s(_vm.$t("common._common.configure_saml")))])],1)])])],1)],1)])]),_c("el-tab-pane",{attrs:{label:_vm.$t("common.dashboard._widgets"),name:"widgets"}},[_c("div",{},[_vm.connectedApp.connectedAppWidgetsList&&0!==_vm.connectedApp.connectedAppWidgetsList.length?_c("div",{staticClass:"mT20"},_vm._l(_vm.connectedApp.connectedAppWidgetsList,(function(widget){return _c("div",{key:widget.id,staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:10}},[_c("div",{staticClass:"agent-active-section flex-middle",staticStyle:{"align-items":"flex-start"}},[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(widget.widgetName)+" "),_c("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:_vm.$t("common._common.link_name_widget_linkname",{widget:widget.linkName}),placement:"bottom"}},[_c("i",{staticClass:"el-icon-info capp-linkname"})])],1),_c("div",{staticClass:"label-txt3-12 mT10 flex-middle"},[_vm._v(" "+_vm._s(widget.resourcePath?widget.resourcePath:"---")+" ")])])])]),_c("el-col",{attrs:{span:8}},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(widget.entityTypeEnum?_vm.entityTypes.find((function(et){return et.value===widget.entityTypeEnum})).label:"---")+" ")])]),_c("el-col",[_c("i",{staticClass:"el-icon-edit pointer",on:{click:function($event){return _vm.openWidgetDialog(widget)}}}),_vm._v("    "),_c("i",{staticClass:"el-icon-delete pointer",on:{click:function($event){return _vm.deleteWidget(widget)}}})])],1)],1)})),0):_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("div",{staticClass:"text-center"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_widget_available"))+" ")])])])]),_c("el-tab-pane",{attrs:{label:_vm.$t("common._common._variables"),name:"variables"}},[_c("div",{},[_vm.connectedApp.variablesList&&0!==_vm.connectedApp.variablesList.length?_c("div",{staticClass:"mT20"},_vm._l(_vm.connectedApp.variablesList,(function(variable){return _c("div",{key:variable.id,staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:6}},[_c("div",{staticClass:"agent-active-section flex-middle",staticStyle:{"align-items":"flex-start"}},[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(variable.name)+" ")])])])]),_c("el-col",{attrs:{span:14}},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(variable.value?variable.value:"---")+" ")])]),_c("el-col",{attrs:{span:4}},[_c("i",{staticClass:"el-icon-edit pointer",on:{click:function($event){return _vm.openVariableDialog(variable)}}}),_vm._v("    "),_c("i",{staticClass:"el-icon-delete pointer",on:{click:function($event){return _vm.deleteVariable(variable)}}})])],1)],1)})),0):_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("div",{staticClass:"text-center"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_variables_available"))+" ")])])])]),_c("el-tab-pane",{attrs:{label:_vm.$t("common.products._connectors"),name:"connectors"}},[_c("div",{},[_vm.connectedApp.connectedAppConnectorsList&&0!==_vm.connectedApp.connectedAppConnectorsList.length?_c("div",{staticClass:"mT20"},_vm._l(_vm.connectedApp.connectedAppConnectorsList,(function(connector){return _c("div",{key:connector.id,staticClass:"visitor-hor-card scale-up-left"},[_c("el-row",{staticClass:"flex-middle"},[_c("el-col",{attrs:{span:10}},[_c("div",{staticClass:"agent-active-section flex-middle",staticStyle:{"align-items":"flex-start"}},[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(connector.connection.serviceName)+" ")])])])]),_c("el-col",{attrs:{span:10}},[_c("div",{staticClass:"agent-active-section flex-middle",staticStyle:{"align-items":"flex-start"}},[_c("div",{staticClass:"mL10"},[_c("div",{staticClass:"label-txt3-14"},[_vm._v(" "+_vm._s(connector.connection.name)+" ")])])])]),_c("el-col",[_c("i",{staticClass:"el-icon-delete pointer",on:{click:function($event){return _vm.deleteConnector(connector)}}})])],1)],1)})),0):_c("div",{staticClass:"visitor-hor-card scale-up-left"},[_c("div",{staticClass:"text-center"},[_vm._v(" "+_vm._s(_vm.$t("common.products.no_connectors_available"))+" ")])])])])],1)],1)]),_vm.showSAMLConfig?_c("div",[_c("el-dialog",{attrs:{visible:_vm.showSAMLConfig,fullscreen:!1,title:_vm.$t("common._common.configure_saml"),width:"50%",open:"top","custom-class":"assetaddvaluedialog fc-dialog-center-container inventory-store-dialog fc-web-form-dialog","append-to-body":!0},on:{"update:visible":function($event){_vm.showSAMLConfig=$event}}},[_c("div",{staticClass:"mT20 mB20"},[_vm.connectedAppSAML?_c("el-form",{ref:"configureSAMLForm",attrs:{model:_vm.connectedAppSAML}},[_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"loginUrl"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.products.idp_entity_id_login"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{readonly:""},model:{value:_vm.idpLoginURL,callback:function($$v){_vm.idpLoginURL=$$v},expression:"idpLoginURL"}})],1)],1),_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"logoutUrl"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.header.logout_url"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{readonly:""},model:{value:_vm.idpLogoutURL,callback:function($$v){_vm.idpLogoutURL=$$v},expression:"idpLogoutURL"}})],1)],1),_c("el-col",{staticClass:"pB30",attrs:{span:24}},[_c("a",{attrs:{href:_vm.idpCertificateURL,target:"_blank"}},[_vm._v(_vm._s(_vm.$t("common._common.download_idp_certificate")))]),_c("a",{staticClass:"mL15",attrs:{href:_vm.idpMetadataURL,target:"_blank"}},[_vm._v(_vm._s(_vm.$t("common._common.download_idp_metadata")))])])],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"spEntityId"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common._common.sp_entity_id"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"This is an URI that uniquely identifies your Service Provider(SP)"},model:{value:_vm.connectedAppSAML.spEntityId,callback:function($$v){_vm.$set(_vm.connectedAppSAML,"spEntityId",$$v)},expression:"connectedAppSAML.spEntityId"}})],1)],1),_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"spAcsUrl"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common._common.sp_acs_url"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Assertion Consumer Service URL"},model:{value:_vm.connectedAppSAML.spAcsUrl,callback:function($$v){_vm.$set(_vm.connectedAppSAML,"spAcsUrl",$$v)},expression:"connectedAppSAML.spAcsUrl"}},[_c("template",{slot:"prepend"},[_vm._v(_vm._s(_vm.connectedApp.productionBaseUrl))])],2)],1)],1),_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"subjectType"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common._common.subject_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_subject_type")},model:{value:_vm.connectedAppSAML.subjectTypeEnum,callback:function($$v){_vm.$set(_vm.connectedAppSAML,"subjectTypeEnum",$$v)},expression:"connectedAppSAML.subjectTypeEnum"}},_vm._l(_vm.subjectTypes,(function(option){return _c("el-option",{key:option.label,attrs:{value:option.value,label:option.label}})})),1)],1)],1),_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-form-item",{attrs:{prop:"nameIdFormat"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.name_id_format"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_name_id_format")},model:{value:_vm.connectedAppSAML.nameIdFormatEnum,callback:function($$v){_vm.$set(_vm.connectedAppSAML,"nameIdFormatEnum",$$v)},expression:"connectedAppSAML.nameIdFormatEnum"}},_vm._l(_vm.nameIdFormats,(function(option){return _c("el-option",{key:option.label,attrs:{value:option.value,label:option.label}})})),1)],1)],1)],1)],1):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.cancelSAMLForm()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.samlConfigSaving},on:{click:function($event){return _vm.saveSAMLConfig()}}},[_vm._v(_vm._s(_vm.samlConfigSaving?_vm.$t("common._common.submitting"):_vm.$t("common._common._save")))])],1)])],1):_vm._e(),_vm.showWidgetDialog?_c("div",[_c("el-dialog",{attrs:{visible:_vm.showWidgetDialog,fullscreen:!1,title:_vm.$t("common._common.add_widget"),width:"50%",open:"top","custom-class":"assetaddvaluedialog fc-dialog-center-container inventory-store-dialog fc-web-form-dialog","append-to-body":!0},on:{"update:visible":function($event){_vm.showWidgetDialog=$event}}},[_c("div",{staticClass:"mT20 mB20"},[_vm.connectedAppWidget?_c("el-form",{ref:"configureWidgetForm",attrs:{model:_vm.connectedAppWidget}},[_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"name"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(_vm._s(_vm.$t("common.products.name")))]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.enter_widget_name")},model:{value:_vm.connectedAppWidget.widgetName,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"widgetName",$$v)},expression:"connectedAppWidget.widgetName"}})],1)],1)],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"entityType"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.products.widget_type"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common._common.choose_widget_type")},model:{value:_vm.connectedAppWidget.entityTypeEnum,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"entityTypeEnum",$$v)},expression:"connectedAppWidget.entityTypeEnum"}},_vm._l(_vm.entityTypes,(function(option){return _c("el-option",{key:option.label,attrs:{value:option.value,label:option.label}})})),1)],1)],1)],1),_c("el-row",{attrs:{gutter:20}},["SUMMARY_PAGE"===_vm.connectedAppWidget.entityTypeEnum||"RELATED_LIST"===_vm.connectedAppWidget.entityTypeEnum||"CREATE_RECORD"===_vm.connectedAppWidget.entityTypeEnum||"EDIT_RECORD"===_vm.connectedAppWidget.entityTypeEnum?_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"entity"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.module"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("setup.formulaBuilder.choose_module")},on:{change:_vm.loadModuleMeta},model:{value:_vm.connectedAppWidget.entityId,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"entityId",$$v)},expression:"connectedAppWidget.entityId"}},_vm._l(_vm.getModules(_vm.connectedAppWidget.entityTypeEnum),(function(option){return _c("el-option",{key:option.moduleId,attrs:{value:option.moduleId,label:option.displayName}})})),1)],1)],1):_vm._e(),_vm.specialFormTypes.includes(_vm.connectedAppWidget.entityTypeEnum)?_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"entity"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.module"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("setup.formulaBuilder.choose_module")},on:{change:function($event){return _vm.loadModuleMetafromModuleName(_vm.moduleName)}},model:{value:_vm.moduleName,callback:function($$v){_vm.moduleName=$$v},expression:"moduleName"}},_vm._l(_vm.getModules(_vm.connectedAppWidget.entityTypeEnum),(function(option){return _c("el-option",{key:option.moduleId,attrs:{value:option.name,label:option.displayName}})})),1)],1)],1):_vm._e(),_vm.specialFormTypes.includes(_vm.connectedAppWidget.entityTypeEnum)?_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"entity"}},["VIEW_BACKGROUND"===_vm.connectedAppWidget.entityTypeEnum?[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.view"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.products.select_form")},model:{value:_vm.connectedAppWidget.entityId,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"entityId",$$v)},expression:"connectedAppWidget.entityId"}},_vm._l(_vm.viewList,(function(form,index){return _c("el-option-group",{key:index,attrs:{label:form.displayName,value:form.id}},_vm._l(form.views,(function(item){return _c("el-option",{key:item.id,attrs:{label:item.displayName,value:item.id}})})),1)})),1)]:[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.forms"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.products.select_form")},model:{value:_vm.connectedAppWidget.entityId,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"entityId",$$v)},expression:"connectedAppWidget.entityId"}},_vm._l(_vm.forms,(function(form,index){return _c("el-option",{key:index,attrs:{value:form.id,label:form.displayName}})})),1)]],2)],1):_vm._e(),"TOPBAR"===_vm.connectedAppWidget.entityTypeEnum?_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"entity"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.placeholders.select_app"))+" ")]),_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("common.products.select_form")},model:{value:_vm.connectedAppWidget.entityId,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"entityId",$$v)},expression:"connectedAppWidget.entityId"}},_vm._l(_vm.apps,(function(app,index){return _c("el-option",{key:index,attrs:{label:app.name,value:app.id}})})),1)],1)],1):_vm._e()],1),_c("el-row",{staticClass:"pB10"},[_c("el-col",{attrs:{span:18}},[_c("el-form-item",{attrs:{prop:"path"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.header.resource_path"))+" ")]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.enter_resource_path")},model:{value:_vm.connectedAppWidget.resourcePath,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"resourcePath",$$v)},expression:"connectedAppWidget.resourcePath"}},[_c("template",{slot:"prepend"},[_vm._v(_vm._s(_vm.connectedApp.productionBaseUrl))])],2)],1)],1),_c("el-col",{staticClass:"mL10",attrs:{span:5}},["SUMMARY_PAGE"===_vm.connectedAppWidget.entityTypeEnum||"RELATED_LIST"===_vm.connectedAppWidget.entityTypeEnum||"CREATE_RECORD"===_vm.connectedAppWidget.entityTypeEnum||"EDIT_RECORD"===_vm.connectedAppWidget.entityTypeEnum||"CREATE_RECORD_SIDEBAR"===_vm.connectedAppWidget.entityTypeEnum?_c("el-form-item",{attrs:{prop:"insertfield"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.products.insert_fields"))+" ")]),_vm.moduleMeta?_c("el-select",{staticClass:"fc-input-full-border-select2",attrs:{placeholder:_vm.$t("common.products.select_fields"),filterable:!0},on:{change:_vm.insertFieldPlaceHolder},model:{value:_vm.selectedInsertField,callback:function($$v){_vm.selectedInsertField=$$v},expression:"selectedInsertField"}},[_c("el-option",{attrs:{label:_vm.$t("common.wo_report.none"),value:null}}),_vm._l(_vm.moduleMeta.fields,(function(field,index){return _c("el-option",{key:index,attrs:{label:field.displayName,value:field.name}})}))],2):_vm._e()],1):_vm._e()],1)],1),_c("el-row",["SUMMARY_PAGE"===_vm.connectedAppWidget.entityTypeEnum||"RELATED_LIST"===_vm.connectedAppWidget.entityTypeEnum||"CREATE_RECORD"===_vm.connectedAppWidget.entityTypeEnum||"EDIT_RECORD"===_vm.connectedAppWidget.entityTypeEnum||"CREATE_RECORD_SIDEBAR"===_vm.connectedAppWidget.entityTypeEnum?_c("el-col",{staticClass:"pB10",attrs:{span:24}},[_c("el-button",{attrs:{type:"text"},on:{click:function($event){return _vm.showHideWidgetCriteria()}}},[_c("i",{class:_vm.showWidgetCriteria?"el-icon-minus":"el-icon-plus"}),_vm._v(" "+_vm._s(_vm.showWidgetCriteria?"Remove Criteria":"Set Criteria"))]),_vm.showWidgetCriteria?_c("el-form-item",{attrs:{prop:"criteriaBuilder"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common._common._criteria"))+" ")]),_c("CriteriaBuilder",{ref:"criteria-builder",attrs:{moduleName:_vm.moduleName},on:{input:_vm.assignCriteria},model:{value:_vm.connectedAppWidget.criteria,callback:function($$v){_vm.$set(_vm.connectedAppWidget,"criteria",$$v)},expression:"connectedAppWidget.criteria"}})],1):_vm._e()],1):_vm._e()],1)],1):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.cancelWigetForm()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.widgetSaving},on:{click:function($event){return _vm.saveWidget()}}},[_vm._v(_vm._s(_vm.widgetSaving?_vm.$t("common._common.submitting"):_vm.$t("common._common._save")))])],1)])],1):_vm._e(),_vm.showVariableDialog?_c("div",[_c("el-dialog",{attrs:{visible:_vm.showVariableDialog,fullscreen:!1,title:_vm.$t("common.products.add_variable"),width:"50%",open:"top","custom-class":"assetaddvaluedialog fc-dialog-center-container inventory-store-dialog fc-web-form-dialog","append-to-body":!0},on:{"update:visible":function($event){_vm.showVariableDialog=$event}}},[_c("div",{staticClass:"mT20 mB20"},[_vm.connectedAppVariable?_c("el-form",{ref:"configureVariableForm",attrs:{model:_vm.connectedAppVariable}},[_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"name"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(_vm._s(_vm.$t("common.products.name")))]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.enter_variable_name")},model:{value:_vm.connectedAppVariable.name,callback:function($$v){_vm.$set(_vm.connectedAppVariable,"name",$$v)},expression:"connectedAppVariable.name"}})],1)],1)],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"value"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(_vm._s(_vm.$t("common.header.value")))]),_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:_vm.$t("common._common.enter_variable_value")},model:{value:_vm.connectedAppVariable.value,callback:function($$v){_vm.$set(_vm.connectedAppVariable,"value",$$v)},expression:"connectedAppVariable.value"}})],1)],1)],1),_c("el-row",[_c("el-col",{staticClass:"pB10",attrs:{span:12}},[_c("el-form-item",{attrs:{prop:"check"}},[_c("p",{staticClass:"grey-text2"},[_vm._v(" "+_vm._s(_vm.$t("common.products.checkbox"))+" ")]),_c("el-checkbox",{staticClass:"fc-input-full-border2",model:{value:_vm.connectedAppVariable.checkbox,callback:function($$v){_vm.$set(_vm.connectedAppVariable,"checkbox",$$v)},expression:"connectedAppVariable.checkbox"}})],1)],1)],1)],1):_vm._e()],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.cancelVariableForm()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.variableSaving},on:{click:function($event){return _vm.saveVariable()}}},[_vm._v(_vm._s(_vm.variableSaving?_vm.$t("common._common.submitting"):_vm.$t("common._common._save")))])],1)])],1):_vm._e(),_vm.showCreateNewDialog?_c("div",[_c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.showCreateNewDialog,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog100 setup-dialog assetaddvaluedialog fc-web-form-dialog fc-item-type-summary-dialog"},on:{"update:visible":function($event){_vm.showCreateNewDialog=$event}}},[_c("ConnectedAppForm",{staticClass:"facilio-inventory-web-form-body",attrs:{isNew:_vm.isNew,connectedAppData:_vm.connectedApp},on:{onClose:_vm.closeForm,onSave:_vm.loadConnectedApp}})],1)],1):_vm._e(),_vm.showCreateNewConnector?_c("new-connection",{attrs:{visibility:_vm.showCreateNewConnector,connectionObj:_vm.connection,isNew:_vm.showCreateNewConnector},on:{"update:visibility":function($event){_vm.showCreateNewConnector=$event},saved:_vm.saved}}):_vm._e(),_vm.showCredentials?_c("new-credentials",{attrs:{isNew:!1,visibility:_vm.showCredentials,connectionObj:_vm.connection},on:{"update:visibility":function($event){_vm.showCredentials=$event}}}):_vm._e()],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),NewConnection=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(425728),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(339772),__webpack_require__(162506),__webpack_require__(413448)),NewConnectionCredentials=__webpack_require__(899775),Spinner=__webpack_require__(604947),ConnectedAppForm=__webpack_require__(309743),dist=__webpack_require__(191853),baseUrl=__webpack_require__(420499),api=__webpack_require__(32284),appUtil=__webpack_require__(843097),validation=__webpack_require__(990260),ConnectedAppLayoutvue_type_script_lang_js={components:{NewConnection:NewConnection/* default */.Z,NewCredentials:NewConnectionCredentials/* default */.Z,Spinner:Spinner/* default */.Z,CriteriaBuilder:dist/* CriteriaBuilder */.IP,ConnectedAppForm:ConnectedAppForm/* default */.Z},computed:{connectedAppId:function(){return this.$route.params.connectedAppId}},created:function(){var _this=this;this.loadModules(),this.loadConnectedApp(),(0,appUtil/* loadApps */.jJ)().then((function(response){_this.apps=response.data}))},data:function(){return{forms:[],viewList:null,apps:[],isNew:!1,showCredentials:!1,showCreateNewConnector:!1,modules:[],specialFormTypes:["CREATE_RECORD_SIDEBAR","FORM_BACKGROUND","VIEW_BACKGROUND"],entityTypes:[{value:"WEB_TAB",label:"Web Tab"},{value:"DIALER",label:"Dialer"},{value:"SUMMARY_PAGE",label:"Summary Page"},{value:"DASHBOARD_WIDGET",label:"Dashboard Widget"},{value:"RELATED_LIST",label:"Related List"},
// { value: 'DIALER', label: 'Dialer' }, // to be supported later
{value:"CREATE_RECORD",label:"Create Record Page"},{value:"EDIT_RECORD",label:"Edit Record Page"},{value:"CREATE_RECORD_SIDEBAR",label:"Form - Sidebar"},{value:"FORM_BACKGROUND",label:"Form - Background"},{value:"CUSTOM_BUTTON",label:"Custom Button Widget"},{value:"VIEW_BACKGROUND",label:"View - Background"},{value:"TOPBAR",label:"Topbar"}],subjectTypes:[{value:"USERID_EMAIL",label:"User Id Email"}],nameIdFormats:[{value:"UNSPECIFIED",label:"Unspecified"},{value:"EMAIL_ADDRESS",label:"Email Address"}],connectedApp:null,loading:!0,activeTabName:"details",showSAMLConfig:!1,idpLoginURL:null,idpLogoutURL:null,idpCertificateURL:null,idpMetadataURL:null,samlConfigSaving:!1,widgetSaving:!1,variableSaving:!1,showWidgetDialog:!1,showVariableDialog:!1,showCreateNewDialog:!1,connectedAppWidget:{widgetName:null,linkName:null,connectedAppId:null,resourcePath:null,criteriaId:null,criteria:null,entityTypeEnum:null,entityId:null},connectedAppVariable:{connectorId:null,connectedAppId:null,connection:null},moduleMeta:null,showWidgetCriteria:!1,selectedInsertField:null,saving:!1,connectedAppSAML:null,connection:{name:"",id:null,authType:1,serviceName:"",clientId:null,clientSecretId:null,scope:null,authorizeUrl:"",accessTokenUrl:"",refreshTokenUrl:"",revokeTokenUrl:"",accessToken:"",authCode:"",refreshToken:"",callBackURL:""},moduleName:null}},methods:{getFormsList:function(moduleName){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var _yield$API$get,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(!moduleName){_context.next=6;break}return _context.next=3,api/* API */.bl.get("/v2/forms?moduleName=".concat(moduleName));case 3:_yield$API$get=_context.sent,data=_yield$API$get.data,data&&(_this2.forms=(data.forms||[]).filter((function(form){return form.id>0})));case 6:case"end":return _context.stop()}}),_callee)})))()},loadViewDetails:function(moduleName){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var viewDetailUrl,_yield$API$get2,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return viewDetailUrl="/v2/views/viewList?moduleName=".concat(moduleName),_context2.next=3,api/* API */.bl.get(viewDetailUrl);case 3:_yield$API$get2=_context2.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error?_this3.$message.error(error.message||_this3.$t("common._common.error_occured")):_this3.viewList=data.groupViews;case 7:case"end":return _context2.stop()}}),_callee2)})))()},saved:function(data,isNew){var _this4=this;isNew&&this.$nextTick((function(){_this4.addConnector(data),1===data.authType&&_this4.updateCredentials(data)}))},getModules:function(entityTypeEnum){return"CREATE_RECORD"===entityTypeEnum||"EDIT_RECORD"===entityTypeEnum?this.modules.filter((function(m){return m.custom})):this.modules},updateCredentials:function(connection){this.showCreateNewConnector=!1,this.connection=connection,this.showCredentials=!0},addConnector:function(data){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var param,url,_yield$API$post,error,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return param={connectedAppConnector:{connectorId:data.id,connectedAppId:_this5.connectedApp.id,connection:data}},url="/v2/connectedApps/addOrUpdateConnector",_context3.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post=_context3.sent,error=_yield$API$post.error,error?(message=error.message,_this5.$message.error(message)):(_this5.connectedApp.connectedAppConnectorsList||(_this5.connectedApp.connectedAppConnectorsList=[]),_this5.connectedApp.connectedAppConnectorsList.push(data.connectedAppConnector));case 7:case"end":return _context3.stop()}}),_callee3)})))()},loadModules:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _yield$API$get3,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,api/* API */.bl.get("/v2/connectedApps/modules");case 2:_yield$API$get3=_context4.sent,data=_yield$API$get3.data,data&&(_this6.modules=data.modules);case 5:case"end":return _context4.stop()}}),_callee4)})))()},assignCriteria:function(val){this.connectedAppWidget.criteria=val,this.$forceUpdate()},loadConnectedApp:function(){var _this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var _yield$API$get4,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _this7.loading=!0,_context5.next=3,api/* API */.bl.get("/v2/connectedApps/get?connectedAppId=".concat(_this7.connectedAppId));case 3:_yield$API$get4=_context5.sent,data=_yield$API$get4.data,data&&(_this7.connectedApp=data.connectedApp),_this7.loading=!1;case 7:case"end":return _context5.stop()}}),_callee5)})))()},insertFieldPlaceHolder:function(){if(this.selectedInsertField){var placeholder="${"+this.selectedInsertField+"}";this.connectedAppWidget&&(this.connectedAppWidget.resourcePath?this.connectedAppWidget.resourcePath=this.connectedAppWidget.resourcePath+placeholder:this.connectedAppWidget.resourcePath=placeholder)}},loadModuleMeta:function(moduleId){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var _yield$API$get5,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return _this8.moduleName=_this8.modules.find((function(m){return m.moduleId===moduleId})).name,_this8.getFormsList(_this8.moduleName),_context6.next=4,api/* API */.bl.get("/module/meta?moduleName=".concat(_this8.moduleName));case 4:_yield$API$get5=_context6.sent,data=_yield$API$get5.data,data&&(_this8.moduleMeta=data.meta);case 7:case"end":return _context6.stop()}}),_callee6)})))()},loadModuleMetafromModuleName:function(moduleName){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var _yield$API$get6,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return _this9.getFormsList(moduleName),_context7.next=3,api/* API */.bl.get("/module/meta?moduleName=".concat(moduleName));case 3:_yield$API$get6=_context7.sent,data=_yield$API$get6.data,data&&(_this9.moduleMeta=data.meta),_this9.loadViewDetails(moduleName);case 7:case"end":return _context7.stop()}}),_callee7)})))()},openWidgetDialog:function(widget){this.showWidgetDialog=!0,this.showWidgetCriteria=!1,this.selectedInsertField=null,this.moduleName=null,widget?(this.specialFormTypes.includes(widget.entityTypeEnum)&&widget.entityId>0&&this.loadformData(widget.entityId),widget.criteria&&(this.showWidgetCriteria=!0)):widget={widgetName:null,linkName:null,connectedAppId:null,resourcePath:null,criteriaId:null,criteria:null,entityTypeEnum:null,entityId:null},this.connectedAppWidget=widget},loadformData:function(formId){var _this10=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee8(){var _yield$API$get7,error,data,message,form;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context8){while(1)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,api/* API */.bl.get("v2/forms/null?formId=".concat(formId));case 2:_yield$API$get7=_context8.sent,error=_yield$API$get7.error,data=_yield$API$get7.data,error?(message=error.message,_this10.$message.error(message)):(form=data.form,form&&form.module&&form.module.name&&(_this10.moduleName=form.module.name,_this10.loadModuleMetafromModuleName(_this10.moduleName)));case 6:case"end":return _context8.stop()}}),_callee8)})))()},openVariableDialog:function(variable){this.showVariableDialog=!0,variable||(variable={name:null,value:null,connectedAppId:null}),this.connectedAppVariable=variable},showHideWidgetCriteria:function(){this.showWidgetCriteria=!this.showWidgetCriteria,this.showWidgetCriteria||(this.connectedAppWidget.criteria=null)},openSamlConfigure:function(){this.showSAMLConfig=!0,this.idpLoginURL=window.location.origin+"/app/connectedapp/"+this.connectedApp.linkName,this.idpLogoutURL=window.location.origin+"/auth/logout",this.idpCertificateURL=(0,baseUrl/* getBaseURL */.BS)()+"/v2/connectedApps/download/certificate",this.idpMetadataURL=(0,baseUrl/* getBaseURL */.BS)()+"/v2/connectedApps/download/metadata?connectedAppId="+this.connectedApp.id,this.connectedApp.connectedAppSAML?this.connectedAppSAML=this.connectedApp.connectedAppSAML:this.connectedAppSAML={connectedAppId:this.connectedApp.id}},updateConnectedAppShowInLauncher:function(){var _this11=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee9(){var param,url,_yield$API$post2,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context9){while(1)switch(_context9.prev=_context9.next){case 0:return param={connectedApp:{id:_this11.connectedApp.id,showInLauncher:_this11.connectedApp.showInLauncher}},url="/v2/connectedApps/update",_context9.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post2=_context9.sent,error=_yield$API$post2.error,error&&_this11.$message.error("Error Occurred");case 7:case"end":return _context9.stop()}}),_callee9)})))()},updateConnectedAppIsActive:function(){var _this12=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee10(){var param,url,_yield$API$post3,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context10){while(1)switch(_context10.prev=_context10.next){case 0:return param={connectedApp:{id:_this12.connectedApp.id,isActive:_this12.connectedApp.isActive}},url="/v2/connectedApps/update",_context10.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post3=_context10.sent,error=_yield$API$post3.error,error&&_this12.$message.error("Error Occurred");case 7:case"end":return _context10.stop()}}),_callee10)})))()},cancelSAMLForm:function(){this.showSAMLConfig=!1},cancelWigetForm:function(){this.showWidgetDialog=!1},cancelVariableForm:function(){this.showVariableDialog=!1},deleteWidget:function(widget){var _this13=this;this.$dialog.confirm({title:this.$t("common.header.delete_widget"),message:this.$t("common._common.are_you_sure_want_delete"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&_this13.deletWidgetCall(widget)}))},deletWidgetCall:function(widget){var _this14=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee11(){var url,param,_yield$API$post4,error,message,widgetIndex;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context11){while(1)switch(_context11.prev=_context11.next){case 0:return url="/v2/connectedApps/deleteWidget",param={connectedAppWidget:{id:widget.id,criteriaId:widget.criteriaId}},_context11.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post4=_context11.sent,error=_yield$API$post4.error,error?(message=error.message,_this14.$message.error(message)):(widgetIndex=_this14.connectedApp.connectedAppWidgetsList.findIndex((function(w){return w.id===widget.id})),_this14.connectedApp.connectedAppWidgetsList.splice(widgetIndex,1),_this14.$message.success(_this14.$t("common.products.widget_deleted_successfully")));case 7:case"end":return _context11.stop()}}),_callee11)})))()},deleteVariable:function(variable){var _this15=this;this.$dialog.confirm({title:this.$t("common.header.delete_variable"),message:this.$t("common._common.are_you_want_delete_this_variable"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&_this15.deleteVariableCall(variable)}))},deleteVariableCall:function(variable){var _this16=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee12(){var url,param,_yield$API$post5,error,message,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context12){while(1)switch(_context12.prev=_context12.next){case 0:return url="/v2/connectedApps/deleteVariable",param={connectedAppId:_this16.connectedApp.id,name:variable.name},_context12.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post5=_context12.sent,error=_yield$API$post5.error,error?(message=error.message,_this16.$message.error(message)):(index=_this16.connectedApp.variablesList.findIndex((function(w){return w.id===variable.id})),_this16.connectedApp.variablesList.splice(index,1),_this16.$message.success(_this16.$t("common._common.variable_deleted_successfully")));case 7:case"end":return _context12.stop()}}),_callee12)})))()},deleteConnector:function(connector){var _this17=this;this.$dialog.confirm({title:this.$t("common.header.delete_connector"),message:this.$t("common._common.are_you_want_delete_this_connector"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&_this17.deleteConnectorCall(connector)}))},deleteConnectorCall:function(connector){var _this18=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee13(){var url,param,_yield$API$post6,error,message,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context13){while(1)switch(_context13.prev=_context13.next){case 0:return url="/v2/connectedApps/deleteConnector",param={connectedAppConnector:{id:connector.id}},_context13.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post6=_context13.sent,error=_yield$API$post6.error,error?(message=error.message,_this18.$message.error(message)):(index=_this18.connectedApp.connectedAppConnectorsList.findIndex((function(w){return w.id===connector.id})),_this18.connectedApp.connectedAppConnectorsList.splice(index,1),_this18.$message.success(_this18.$t("common.products.connector_deleted_successfully")));case 7:case"end":return _context13.stop()}}),_callee13)})))()},deleteSaml:function(){var _this19=this;this.$dialog.confirm({title:this.$t("common.header.delete_saml"),message:this.$t("common.header.are_you_want_delete_saml"),rbDanger:!0,rbLabel:this.$t("common._common.delete")}).then((function(value){value&&_this19.deleteSamalCall()}))},deleteSamalCall:function(){var _this20=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee14(){var url,param,_yield$API$post7,error,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context14){while(1)switch(_context14.prev=_context14.next){case 0:return url="/v2/connectedApps/deleteSAML",param={connectedAppId:_this20.connectedApp.id},_context14.next=4,api/* API */.bl.post(url,param);case 4:_yield$API$post7=_context14.sent,error=_yield$API$post7.error,error?(message=error.message,_this20.$message.error(message)):(_this20.connectedApp.connectedAppSAML=null,_this20.$message.success(_this20.$t("common._common.saml_deleted_successfully")));case 7:case"end":return _context14.stop()}}),_callee14)})))()},saveSAMLConfig:function(){var _this21=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee15(){var url,param,_yield$API$post8,error,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context15){while(1)switch(_context15.prev=_context15.next){case 0:return url="/v2/connectedApps/addOrUpdateSAML",_this21.connectedApp.connectedAppSAML=_this21.connectedAppSAML,param={connectedAppSAML:_this21.connectedApp.connectedAppSAML},_this21.samlConfigSaving=!0,_context15.next=6,api/* API */.bl.post(url,param);case 6:_yield$API$post8=_context15.sent,error=_yield$API$post8.error,error?(message=error.message,_this21.$message.error(message)):_this21.$message.success(_this21.$t("common._common.saml_configured_successfully")),_this21.cancelSAMLForm();case 10:case"end":return _context15.stop()}}),_callee15)})))()},saveWidget:function(){var _this22=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee16(){var criteriaValidate,_this22$$refs$criteri,url,param,_yield$API$post9,error,data,message,connectedAppWidget,widgetIndex;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context16){while(1)switch(_context16.prev=_context16.next){case 0:if(_this22.connectedAppWidget.connectedAppId=_this22.connectedApp.id,"SUMMARY_PAGE"!==_this22.connectedAppWidget.entityTypeEnum&&"RELATED_LIST"!==_this22.connectedAppWidget.entityTypeEnum&&"CREATE_RECORD"!==_this22.connectedAppWidget.entityTypeEnum&&"EDIT_RECORD"!==_this22.connectedAppWidget.entityTypeEnum&&"CREATE_RECORD_SIDEBAR"!==_this22.connectedAppWidget.entityTypeEnum&&"VIEW_BACKGROUND"!==_this22.connectedAppWidget.entityTypeEnum&&"FORM_BACKGROUND"!==_this22.connectedAppWidget.entityTypeEnum&&"TOPBAR"!==_this22.connectedAppWidget.entityTypeEnum&&(_this22.connectedAppWidget.entityId=-99,_this22.connectedAppWidget.criteria=null),criteriaValidate=!0,_this22.connectedAppWidget.criteria&&!(0,validation/* isEmpty */.xb)(_this22.$refs["criteria-builder"])&&(criteriaValidate=null===(_this22$$refs$criteri=_this22.$refs["criteria-builder"])||void 0===_this22$$refs$criteri?void 0:_this22$$refs$criteri.validate()),!criteriaValidate){_context16.next=15;break}return url="/v2/connectedApps/addOrUpdateWidget",param={connectedAppWidget:_this22.connectedAppWidget},_this22.widgetSaving=!0,_context16.next=10,api/* API */.bl.post(url,param);case 10:_yield$API$post9=_context16.sent,error=_yield$API$post9.error,data=_yield$API$post9.data,_this22.widgetSaving=!1,error?(message=error.message,_this22.$message.error(message)):(connectedAppWidget=data.connectedAppWidget,_this22.connectedAppWidget.id?(widgetIndex=_this22.connectedApp.connectedAppWidgetsList.findIndex((function(w){return w.id===connectedAppWidget.id})),_this22.connectedApp.connectedAppWidgetsList[widgetIndex]=connectedAppWidget,_this22.$message.success(_this22.$t("common.products.widget_updated_successfully"))):(_this22.connectedApp.connectedAppWidgetsList||(_this22.connectedApp.connectedAppWidgetsList=[]),_this22.connectedApp.connectedAppWidgetsList.push(connectedAppWidget),_this22.$message.success(_this22.$t("common._common.widget_added_successfully"))));case 15:_this22.cancelWigetForm();case 16:case"end":return _context16.stop()}}),_callee16)})))()},saveVariable:function(){var _this23=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee17(){var url,param,_yield$API$post10,error,data,message,connectedAppVariable,index;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context17){while(1)switch(_context17.prev=_context17.next){case 0:if(!_this23.connectedApp.variablesList||!_this23.connectedApp.variablesList.find((function(v){return v.name===_this23.connectedAppVariable.name&&v.id!==_this23.connectedAppVariable.id}))){_context17.next=4;break}
//  this.cancelVariableForm()
_this23.$message.error(_this23.$t("common.header.variable_name_already_exists")+_this23.connectedAppVariable.name),_context17.next=16;break;case 4:return _this23.connectedAppVariable.connectedAppId=_this23.connectedApp.id,url="/v2/connectedApps/addOrUpdateVariable",param={variable:_this23.connectedAppVariable},_this23.variableSaving=!0,_context17.next=10,api/* API */.bl.post(url,param);case 10:_yield$API$post10=_context17.sent,error=_yield$API$post10.error,data=_yield$API$post10.data,_this23.variableSaving=!1,error?(message=error.message,_this23.$message.error(message)):(connectedAppVariable=data.variable,_this23.connectedAppVariable.id?(index=_this23.connectedApp.variablesList.findIndex((function(v){return v.id===connectedAppVariable.id})),_this23.connectedApp.variablesList[index]=connectedAppVariable,_this23.$message.success(_this23.$t("common._common.variable_updated_successfully"))):(_this23.connectedApp.variablesList||(_this23.connectedApp.variablesList=[]),_this23.connectedApp.variablesList.push(connectedAppVariable),_this23.$message.success(_this23.$t("common._common.variable_added_successfully")))),_this23.cancelVariableForm();case 16:case"end":return _context17.stop()}}),_callee17)})))()},closeForm:function(){this.showCreateNewDialog=!1}}},connectedapps_ConnectedAppLayoutvue_type_script_lang_js=ConnectedAppLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(connectedapps_ConnectedAppLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ConnectedAppLayout=component.exports},
/***/413448:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewConnection}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/new/NewConnection.vue?vue&type=template&id=3c7f911c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:!0,fullscreen:!0,"append-to-body":!0,"custom-class":"fc-dialog-form fc-dialog-right setup-dialog50 setup-dialog","before-close":_vm.closeDialog}},[_c("div",{attrs:{id:"newenpi"}},[_c("el-form",{ref:"meterForm",staticClass:"fc-form",attrs:{model:_vm.connection,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.isNew?_vm.$t("common.products.new_connector"):_vm.$t("common.header.edit_connector"))+" ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_c("el-row",{staticClass:"pB5",attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.wo_report.authentication_types"))+" ")]),_c("el-select",{staticClass:"width100 fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.$t("common.products.select_auth_type")},on:{change:function($event){return _vm.resetForm(_vm.connection.authType)}},model:{value:_vm.connection.authType,callback:function($$v){_vm.$set(_vm.connection,"authType",$$v)},expression:"connection.authType"}},[_c("el-option",{attrs:{label:"OAuth2",value:parseInt(1)}}),_c("el-option",{attrs:{label:_vm.$t("common.header.basic_authentication"),value:parseInt(2)}})],1)],1)],1),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.grand_type"))+" ")]),_c("el-select",{staticClass:"width100 fc-input-full-border2",attrs:{filterable:"",placeholder:_vm.$t("common.products.select_auth_type")},model:{value:_vm.connection.grantType,callback:function($$v){_vm.$set(_vm.connection,"grantType",$$v)},expression:"connection.grantType"}},[_c("el-option",{attrs:{label:_vm.$t("common.header.authorization_code"),value:1}}),_c("el-option",{attrs:{label:_vm.$t("common.header.client_credentials"),value:2}}),_c("el-option",{attrs:{label:_vm.$t("common.header.password_credentials"),value:3}}),_c("el-option",{attrs:{label:_vm.$t("common.header.implicit"),value:4}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.connectors_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_connection_name")},model:{value:_vm.connection.name,callback:function($$v){_vm.$set(_vm.connection,"name",$$v)},expression:"connection.name"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.display_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_service_name")},model:{value:_vm.connection.serviceName,callback:function($$v){_vm.$set(_vm.connection,"serviceName",$$v)},expression:"connection.serviceName"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType&&1===_vm.connection.grantType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.authorize_url"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_uri")},model:{value:_vm.connection.authorizeUrl,callback:function($$v){_vm.$set(_vm.connection,"authorizeUrl",$$v)},expression:"connection.authorizeUrl"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.access_token_url"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_uri")},model:{value:_vm.connection.accessTokenUrl,callback:function($$v){_vm.$set(_vm.connection,"accessTokenUrl",$$v)},expression:"connection.accessTokenUrl"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.refresh_token_url"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_uri")},model:{value:_vm.connection.refreshTokenUrl,callback:function($$v){_vm.$set(_vm.connection,"refreshTokenUrl",$$v)},expression:"connection.refreshTokenUrl"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.client_id"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.client_id")},model:{value:_vm.connection.clientId,callback:function($$v){_vm.$set(_vm.connection,"clientId",$$v)},expression:"connection.clientId"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.client_secret"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.client_secret")},model:{value:_vm.connection.clientSecretId,callback:function($$v){_vm.$set(_vm.connection,"clientSecretId",$$v)},expression:"connection.clientSecretId"}})],1)],1)],1)]:_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.scope"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_scope")},model:{value:_vm.connection.scope,callback:function($$v){_vm.$set(_vm.connection,"scope",$$v)},expression:"connection.scope"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.audience"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_audience")},model:{value:_vm.connection.audience,callback:function($$v){_vm.$set(_vm.connection,"audience",$$v)},expression:"connection.audience"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.resource_"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_resource")},model:{value:_vm.connection.resource,callback:function($$v){_vm.$set(_vm.connection,"resource",$$v)},expression:"connection.resource"}})],1)],1)],1):_vm._e(),1===_vm.connection.authType&&3===_vm.connection.grantType?[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.user_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_user_name")},model:{value:_vm.connection.userName,callback:function($$v){_vm.$set(_vm.connection,"userName",$$v)},expression:"connection.userName"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.password"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{"show-password":"",autofocus:"",type:"password",placeholder:_vm.$t("common._common.enter_password"),autocomplete:"new-password"},model:{value:_vm.connection.password,callback:function($$v){_vm.$set(_vm.connection,"password",$$v)},expression:"connection.password"}})],1)],1)],1)]:_vm._e(),2===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:20}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_name")},model:{value:_vm.connectionBasic.name,callback:function($$v){_vm.$set(_vm.connectionBasic,"name",$$v)},expression:"connectionBasic.name"}})],1)],1)],1):_vm._e(),2===_vm.connection.authType?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.service_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_service_name")},model:{value:_vm.connectionBasic.serviceName,callback:function($$v){_vm.$set(_vm.connectionBasic,"serviceName",$$v)},expression:"connectionBasic.serviceName"}})],1)],1)],1):_vm._e(),2===_vm.connection.authType?_c("div",[_vm.isNew?_c("div",[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.user_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_user_name")},model:{value:_vm.connectionBasic.connectionParams.userName,callback:function($$v){_vm.$set(_vm.connectionBasic.connectionParams,"userName",$$v)},expression:"connectionBasic.connectionParams.userName"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.password"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"password",autocomplete:"new-password",placeholder:_vm.$t("common._common.enter_password"),"show-password":""},model:{value:_vm.connectionBasic.connectionParams.password,callback:function($$v){_vm.$set(_vm.connectionBasic.connectionParams,"password",$$v)},expression:"connectionBasic.connectionParams.password"}})],1)],1)],1)],1):_c("div",_vm._l(_vm.connectionBasic.connectionParams,(function(connection,key){return _c("div",{key:key},[0===key?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.user_name"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common._common.enter_user_name")},model:{value:connection.value,callback:function($$v){_vm.$set(connection,"value",$$v)},expression:"connection.value"}})],1)],1)],1):_vm._e(),1===key?_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common._common.password"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"password",autocomplete:"new-password",placeholder:_vm.$t("common._common.enter_password"),"show-password":""},model:{value:connection.value,callback:function($$v){_vm.$set(connection,"value",$$v)},expression:"connection.value"}})],1)],1)],1):_vm._e()],1)})),0)]):_vm._e()],2)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:_vm.closeDialog}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel")))]),1===_vm.connection.authType?_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.submitForm()}}},[_vm._v(_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")]):_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:_vm.submitBasicForm}},[_vm._v(_vm._s(_vm.saving?_vm.$t("common._common._saving"):_vm.$t("common._common._save"))+" ")])],1)])],1)])},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),api=(__webpack_require__(434284),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(162506),__webpack_require__(32284)),NewConnectionvue_type_script_lang_js={props:["isNew","connectionObj","kpiCategoryId"],data:function(){return{saving:!1,connection:{id:null,name:"",authType:1,grantType:1,serviceName:"",clientId:null,clientSecretId:null,scope:null,audience:null,resource:null,authorizeUrl:"",accessTokenUrl:"",refreshTokenUrl:"",revokeTokenUrl:"",accessToken:"",authCode:"",refreshToken:"",userName:"",password:""},connectionBasic:{name:"",serviceName:"",ParamType:1,connectionParams:[{key:"userName",value:null},{key:"password",value:null}]}}},mounted:function(){this.isNew?this.resetForm():(this.connectionBasic=(0,objectSpread2/* default */.Z)({},this.connectionObj),this.connection=this.connectionObj,this.connectionBasic=this.connectionObj)},methods:{getConnectionParams:function(){
// if (this.isNew) {
//   return {
//     authType: this.connection.authType,
//     name: this.connection.name,
//     serviceName: this.connection.serviceName,
//     scope: this.connection.scope,
//     authorizeUrl: this.connection.authorizeUrl,
//     accessTokenUrl: this.connection.accessTokenUrl,
//     refreshTokenUrl: this.connection.refreshTokenUrl,
//   }
// } else {
//   return this.connection
return this.connection},getConnectionBasicParams:function(){return{authType:this.connection.authType,name:this.connectionBasic.name,id:this.connection.id,ParamType:this.connectionBasic.ParamType,serviceName:this.connectionBasic.serviceName,connectionParams:[{key:"userName",value:this.connectionBasic.connectionParams&&this.connectionBasic.connectionParams.userName},{key:"password",value:this.connectionBasic.connectionParams&&this.connectionBasic.connectionParams.password}]}},editGetConnectionBasicParams:function(){return{authType:this.connection.authType,name:this.connectionBasic.name,id:this.connection.id,ParamType:this.connectionBasic.ParamType,serviceName:this.connectionBasic.serviceName,connectionParams:[{key:"userName",value:this.connectionBasic.connectionParams[0]&&this.connectionBasic.connectionParams[0].value},{key:"password",value:this.connectionBasic.connectionParams[1]&&this.connectionBasic.connectionParams[1].value}]}},toObject:function(array){var obj={};return array.forEach((function(rt){obj[rt.key]=rt.value})),obj},removeParam:function(index){this.connectionBasic.connectionParams.splice(index,1)},submitBasicForm:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var self,param,url,_yield$API$post,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return self=_this,self.saving=!0,param=null,param=_this.isNew?{connectionContext:_this.getConnectionBasicParams()}:{connectionContext:_this.editGetConnectionBasicParams()},url=_this.isNew?"/v2/connection/add":"/v2/connection/update",_context.next=7,api/* API */.bl.post(url,param);case 7:_yield$API$post=_context.sent,error=_yield$API$post.error,data=_yield$API$post.data,data?self.isNew?self.$message.success(_this.$t("common._common.connection_created_successfully")):self.$message.success(_this.$t("common._common.connection_updated_successfully")):error&&self.$message.error(error.message),self.saving=!1,_this.$emit("reloadList"),_this.closeDialog();case 14:case"end":return _context.stop()}}),_callee)})))()},agentVersion:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,api/* API */.bl.get("v2/agent/versions?latestVersion=true");case 2:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?(message=error.message,_this2.$message.error(message)):_this2.versionData=data||[];case 6:case"end":return _context2.stop()}}),_callee2)})))()},submitForm:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var self,param,url,_yield$API$post2,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return self=_this3,self.saving=!0,param={connectionContext:_this3.getConnectionParams()},url=_this3.isNew?"/v2/connection/add":"/v2/connection/update",_context3.next=6,api/* API */.bl.post(url,param);case 6:_yield$API$post2=_context3.sent,data=_yield$API$post2.data,data?(_this3.isNew?_this3.$message.success(_this3.$t("common._common.connection_created_successfully")):_this3.$message.success(_this3.$t("common._common.connection_updated_successfully")),_this3.toggleCredentials(data)):_this3.$message.error(_this3.$t("common.wo_report.unable_to_create_connection")),_this3.saving=!1,_this3.closeDialog();case 11:case"end":return _context3.stop()}}),_callee3)})))()},resetForm:function(authType){this.connection={name:"",authType:authType||1,grantType:1,serviceName:"",clientId:null,clientSecretId:null,scope:null,audience:null,resource:null,authorizeUrl:"",accessTokenUrl:"",refreshTokenUrl:"",revokeTokenUrl:"",accessToken:"",authCode:"",refreshToken:"",userName:"",password:""},this.connectionBasic={name:"",ParamType:1,serviceName:"",connectionParams:[]}},
// cancel() {
//   this.resetForm()
//   this.$emit('canceled')
//   this.closeDialog()
// },
save:function(){var self=this;self.saving=!0},toggleCredentials:function(data){var self=this;data.connection&&self.isNew?self.$emit("saved",data.connection,!0):self.$emit("saved")},closeDialog:function(){this.$emit("onClose")}}},new_NewConnectionvue_type_script_lang_js=NewConnectionvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(new_NewConnectionvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewConnection=component.exports},
/***/899775:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewConnectionCredentials}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/new/NewConnectionCredentials.vue?vue&type=template&id=1a5ad2e0
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,"custom-class":"setup-dialog-2","before-close":_vm.closeDialog},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticStyle:{height:"400px"},attrs:{id:"newenpi"}},[_c("el-form",{ref:"meterForm",staticClass:"fc-form",attrs:{model:_vm.connection,"label-position":"top"}},[_c("div",{staticClass:"new-header-container"},[_c("div",{staticClass:"new-header-text"},[_c("div",{staticClass:"fc-setup-modal-title"},[_vm._v(" "+_vm._s(_vm.$t("common.header.client_credentials"))+" ")])])]),_c("div",{staticClass:"new-body-modal enpi-body-modal"},[_c("div",{staticClass:"body-scroll"},[_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.client_id"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.client_id")},model:{value:_vm.connection.clientId,callback:function($$v){_vm.$set(_vm.connection,"clientId",$$v)},expression:"connection.clientId"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.client_secret"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.client_secret")},model:{value:_vm.connection.clientSecretId,callback:function($$v){_vm.$set(_vm.connection,"clientSecretId",$$v)},expression:"connection.clientSecretId"}})],1)],1)],1),_c("el-row",{attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.header.redirect_url"))+" ")]),_c("el-form-item",[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",autocomplete:"off",placeholder:_vm.$t("common.header.redirect_url")},model:{value:_vm.connection.callBackURL,callback:function($$v){_vm.$set(_vm.connection,"callBackURL",$$v)},expression:"connection.callBackURL"}})],1)],1)],1)],1)]),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:_vm.submitForm}},[_vm._v(_vm._s(_vm.saving?_vm.$t("common._common.updating"):_vm.$t("common._common.update"))+" ")])],1)])],1)])},staticRenderFns=[],NewConnectionCredentialsvue_type_script_lang_js=(__webpack_require__(434284),{props:["isNew","connectionObj","visibility","kpiCategoryId"],data:function(){return{saving:!1,connection:{id:null,name:"",authType:1,serviceName:"",clientId:null,clientSecretId:null,scope:null,authorizeUrl:"",accessTokenUrl:"",refreshTokenUrl:"",revokeTokenUrl:"",accessToken:"",authCode:"",refreshToken:"",callBackURL:""},connectionBasic:{name:"",ParamType:1,connectionParams:[{key:"",value:""}]}}},mounted:function(){this.isNew?this.resetForm():this.connection=this.$helpers.cloneObject(this.connectionObj)},methods:{getConnectionParams:function(){return this.isNew?{authType:this.connection.authType,name:this.connection.name,serviceName:this.connection.serviceName,scope:this.connection.scope,authorizeUrl:this.connection.authorizeUrl,accessTokenUrl:this.connection.accessTokenUrl,refreshTokenUrl:this.connection.refreshTokenUrl}:{id:this.connection.id,clientId:this.connection.clientId,clientSecretId:this.connection.clientSecretId}},submitForm:function(){var _this=this,self=this;this.showCreateNewDialog=!1;var param={connectionContext:this.getConnectionParams()},url="/v2/connection/update";self.$http.post(url,param).then((function(response){0===response.data.responseCode?self.isNew?self.$message.success(_this.$t("common._common.connection_created_successfully")):self.$message.success(_this.$t("common._common.connection_updated_successfully")):self.$message.error(response.data.message),self.resetForm(),self.$emit("saved"),self.cancel()})).catch((function(error){self.$message.error(_this.$t("common.wo_report.unable_to_create_connection"))}))},resetForm:function(){this.connection={name:"",authType:1,serviceName:"",clientId:null,clientSecretId:null,scope:null,authorizeUrl:"",accessTokenUrl:"",refreshTokenUrl:"",revokeTokenUrl:"",accessToken:"",authCode:"",refreshToken:"",callBackURL:""},this.connectionBasic={name:"",ParamType:1,connectionParams:{}}},cancel:function(){this.resetForm(),this.$emit("canceled"),this.closeDialog()},save:function(){var self=this;self.saving=!0},closeDialog:function(){this.$emit("update:visibility",!1),this.$emit("closed")}}}),new_NewConnectionCredentialsvue_type_script_lang_js=NewConnectionCredentialsvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(new_NewConnectionCredentialsvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewConnectionCredentials=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/4827.js.map