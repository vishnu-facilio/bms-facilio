(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[35059],{
/***/615987:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return PDFDownload}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/PDFDownload.vue?vue&type=template&id=be2ef4d6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.downloadUrl?_c("iframe",{staticStyle:{display:"none"},attrs:{src:_vm.downloadUrl}}):_vm._e()},staticRenderFns=[],api=__webpack_require__(32284),validation=__webpack_require__(990260),PDFDownloadvue_type_script_lang_js={props:["url","additionalInfo","isDownload"],data:function(){return{downloadUrl:null}},watch:{isDownload:{handler:function(val){var url=this.url;!(0,validation/* isEmpty */.xb)(url)&&val&&this.downloadPdf()},immediate:!0}},methods:{downloadPdf:function(){var _this=this,url=this.url,additionalInfo=this.additionalInfo;this.$message({message:"Downloading...",showClose:!0,duration:0}),api/* API */.bl.post("/v2/integ/pdf/create",{url:url,additionalInfo:additionalInfo}).then((function(_ref){var data=_ref.data,error=_ref.error;if(_this.$message.closeAll(),error){var _error$message=error.message,message=void 0===_error$message?"Unable to fetch download link":_error$message;_this.$message.error(message)}else _this.downloadUrl=(data||{}).fileUrl;_this.$emit("update:isDownload",!1)}))}}},components_PDFDownloadvue_type_script_lang_js=PDFDownloadvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_PDFDownloadvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,PDFDownload=component.exports},
/***/151581:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return NewDashboardLayout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/NewDashboardLayout.vue?vue&type=template&id=2bb16919
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"pleft"},[_c("div",{staticClass:"layout new-dashboard-layout-page"},[!_vm.loading&&_vm.headerList&&!_vm.headerList.length&&_vm.isPermission?_c("div",[_c("div",{staticClass:"col-12 flex-middle justify-content-center flex-direction-column height80vh pT30"},[_c("inline-svg",{attrs:{src:"svgs/empty-dashboard",iconClass:"text-center icon-xxxlg"}}),_c("div",{staticClass:"fc-black-24 pT20"},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.no_widgets"))+" ")]),_c("div",{staticClass:"fc-grayish f18 pT10"},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.add_widgets"))+" ")]),_c("el-button",{staticClass:"fc-create-btn mT20 letter-spacing0_4",staticStyle:{padding:"15px 30px"},on:{click:_vm.addDashboard}},[_vm._v(" "+_vm._s(_vm.$t("panel.dashboard.ADD"))+" ")])],1)]):[!_vm.loading&&_vm.isPermission?_c("div",{staticClass:"subheader-section  flex-align-start flex-middle"},[_c("div",{staticClass:" pointer flex flex-shrink-0 flex-no-wrap"},[_c("inline-svg",{staticClass:"d-flex pointer hamburger-icon self-center",attrs:{src:"svgs/hamburger-menu",iconClass:"icon icon-sm"},nativeOn:{click:function($event){_vm.showListWorkorder=!0}}}),_c("el-dropdown",{staticClass:"fc-dropdown-menu pL10 bold",attrs:{placement:"bottom-start",trigger:"click"},on:{command:_vm.handleCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_vm._v(" "+_vm._s(_vm.headerList.find((function(rt){return rt.id===_vm.activeFolderNames}))?_vm.headerList.find((function(rt){return rt.id===_vm.activeFolderNames})).label:"")+" "),_c("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),_c("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},_vm._l(_vm.headerList.filter((function(rt){return 0!==rt.childrens.length})),(function(header,index){return _c("el-dropdown-item",{key:index,attrs:{command:header.id}},[_c("span",{},[_vm._v(_vm._s(header.label))])])})),1)],1),_c("div",{staticClass:"fc-separator-lg mL25 mR10 self-center"})],1),_c("div",{staticClass:"d-flex flex-grow "},[_vm._l(_vm.activeDashboardList,(function(dashboard,index){return _c("div",{key:index,class:["dashboard-link",dashboard.linkName===_vm.dashboardLink&&"active-dashboard"],on:{click:function($event){return _vm.openDashboard(dashboard)}}},[_c("div",{staticClass:"dashboard-link-name active-dashboard-link"},[_vm._v(" "+_vm._s(dashboard.label)+" ")]),_c("div",{staticClass:"active"})])})),_c("OutsideClick",{attrs:{visibility:!0},on:{onOutsideClick:function($event){_vm.canShowDashboardLinks=!1}}},[_vm.$validation.isEmpty(_vm.moreDashboardList)?_vm._e():_c("div",{staticClass:"pL15 pR15 pointer",on:{click:function($event){_vm.canShowDashboardLinks=!_vm.canShowDashboardLinks}}},[_c("svg",{staticStyle:{"enable-background":"new 0 0 408 408"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"18px",height:"18px",viewBox:"0 0 408 408","xml:space":"preserve"}},[_c("g",[_c("g",{attrs:{id:"more-horiz"}},[_c("path",{attrs:{d:"M51,153c-28.05,0-51,22.95-51,51s22.95,51,51,51s51-22.95,51-51S79.05,153,51,153z M357,153c-28.05,0-51,22.95-51,51    s22.95,51,51,51s51-22.95,51-51S385.05,153,357,153z M204,153c-28.05,0-51,22.95-51,51s22.95,51,51,51s51-22.95,51-51    S232.05,153,204,153z",fill:"#b1bdc9"}})])])])])]),_c("el-popover",{attrs:{placement:"bottom-start",trigger:"manual",value:_vm.canShowDashboardLinks,"popper-class":"more-dashboard-list"}},_vm._l(_vm.moreDashboardList,(function(dashboard,index){return _c("div",{key:index,staticClass:"more-dashboard-name",on:{click:function($event){return _vm.openDashboard(dashboard)}}},[_vm._v(" "+_vm._s(dashboard.label)+" ")])})),0)],2),_c("div",{staticClass:"d-flex flex-shrink-0 self-center  mL-auto height-auto"},[_vm.isAltayerNonPrivilagedUser?_vm._e():_c("portal-target",{staticClass:"dashboard-filter-portal d-flex",attrs:{name:"dashboardFilter"}}),_c("div",{staticClass:"flex-middle  fc-new-dashboard-full-more mR20 mT2"},[_vm.$route.path.endsWith("withfilter")?_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"perspective"},expression:"{ arrow: true, animation: 'perspective' }"}],staticClass:"pR10 pL10 pointer",attrs:{title:"Filters","data-position":"left"},on:{click:_vm.toggleFilters}},[_c("img",{attrs:{src:__webpack_require__(970041)}})]):_vm._e(),_vm.$route.path.endsWith("withbuilding")?_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"perspective"},expression:"{ arrow: true, animation: 'perspective' }"}],staticClass:"pR10 pL10 pointer",attrs:{title:"Filters","data-position":"left"},on:{click:_vm.toggleFilters}},[_c("img",{attrs:{src:__webpack_require__(970041)}})]):_vm._e(),_vm.$route.path.endsWith("withtemplate")?_c("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"perspective"},expression:"{ arrow: true, animation: 'perspective' }"}],staticClass:"pointer user-select-none border-right2",staticStyle:{"padding-bottom":"36px","padding-left":"10px","padding-right":"33px",opacity:"0.6"},attrs:{title:"Filters","data-position":"left"},on:{click:_vm.toggleTemplate}},[_vm._m(0)]):_vm._e(),_c("div",{staticClass:"pointer pR10 pL10 border-right2",on:{click:_vm.goInFullscreenBody,keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"esc",27,$event.key,["Esc","Escape"])?null:_vm.exitfullscreen()}}},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{arrow:!0,animation:"perspective"},expression:"{ arrow: true, animation: 'perspective' }"}],staticClass:"fa fa-expand fc-grey6 f14",attrs:{title:"Fullscreen","data-position":"top"}})]),_c("el-dropdown",{staticClass:"dashboard-dropdown-right pR10 pL10",attrs:{trigger:"click"},on:{command:_vm.dashboardCommand}},[_c("span",{staticClass:"el-dropdown-link"},[_c("i",{staticClass:"el-icon-more rotate-90 pointer f14 fc-grey6"})]),_c("el-dropdown-menu",{staticClass:"dashboard-subheader-dp",attrs:{slot:"dropdown"},slot:"dropdown"},[_vm.hasEditPermission(_vm.dashboard)&&_vm.hasDashboardEditPermission?_c("el-dropdown-item",{attrs:{command:"edit"}},[_c("div",[_vm._v(" "+_vm._s(_vm.$t("common._common.edit"))+" ")])]):_vm._e(),_vm.hasDashboardEditPermission?_c("el-dropdown-item",{attrs:{command:"editFilters"}},[_c("div",[_vm._v(" "+_vm._s(_vm.$t("dashboardfilters.configure"))+" ")])]):_vm._e(),_vm.hasSharePermission?_c("el-dropdown-item",{attrs:{command:"share"}},[_c("span",[_vm._v(_vm._s(_vm.$t("common._common.share")))])]):_vm._e(),_c("el-dropdown-item",[_c("div",{on:{click:function($event){_vm.isPdfDownload=!0}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.download"))+" ")])]),_vm.hasCreatePermission||_vm.hasDashboardEditPermission?_c("el-dropdown-item",{attrs:{command:"mobile"}},[_c("span",{staticClass:"mobiledashboard",class:{active:_vm.isMobileDashboard}},[_vm._v(_vm._s(_vm.isMobileDashboard?_vm.$t("home.dashboard.disable_mobile_dashboard"):_vm.$t("home.dashboard.enable_mobile_dashboard")))])]):_vm._e(),_vm.hasCreatePermission?_c("el-dropdown-item",{attrs:{command:"openClonePopup"}},[_c("span",[_vm._v(_vm._s("Clone"))])]):_vm._e(),_c("el-dropdown-item",{staticClass:"mobiledashboard",class:{active:_vm.changetheme},attrs:{command:"enableDarkMode"}},[_c("span",[_vm._v(_vm._s(_vm.changetheme?"Disable Dark Mode":"Enable Dark Mode"))])]),_vm.hasCreatePermission||_vm.hasDashboardEditPermission?_c("el-dropdown-item",{attrs:{command:"dashboardmanager",divided:""}},[_c("img",{staticClass:"mR10",attrs:{src:__webpack_require__(55604)}}),_vm._v(_vm._s(_vm.$t("home.dashboard.dashboard_manager")))]):_vm._e()],1)],1)],1)],1)]):_vm._e(),_c("el-drawer",{attrs:{title:"Dashboard","custom-class":"dashboard-picker",visible:_vm.showListWorkorder,"modal-append-to-body":!1,modal:!1,direction:"ltr","before-close":_vm.drawerClose,withHeader:!1},on:{"update:visible":function($event){_vm.showListWorkorder=$event}}},[_c("div",{staticClass:"view-panel"},[_c("div",{staticClass:"view-list-container"},[_c("div",{staticClass:"header-container"},[_c("div",{staticClass:"label-txt-black fwBold text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("home.dashboard.Dashboard"))+" ")]),_c("inline-svg",{staticClass:"rotate-90 pointer d-flex back-icon mL-auto",attrs:{src:"svgs/arrow",iconClass:"icon icon-xs"},nativeOn:{click:function($event){return _vm.drawerClose()}}})],1),_c("div",{staticClass:"search-container mT20 mb25"},[_c("el-input",{staticClass:"fc-input-full-border2",attrs:{placeholder:"Search",type:"search","prefix-icon":"el-icon-search"},model:{value:_vm.searchDashboard,callback:function($$v){_vm.searchDashboard=$$v},expression:"searchDashboard"}})],1),_c("div",{staticClass:"views-group dashboard-chooser-container"},_vm._l(_vm.newDashboardList.filter((function(rt){return 0!==rt.childrens.length})),(function(subheader,index){return _c("div",{key:index},[[_c("div",{staticClass:"folder-name pB10 mT20 text-uppercase"},[_vm._v(" "+_vm._s(subheader.label)+" ")]),_vm._l(subheader.childrens.filter((function(rt){return!rt.dashboardDiabled})),(function(dashboard,idx){return[_c("div",{key:idx,staticClass:"view-item pT10 pB15 pointer",class:{active:dashboard.path.path===_vm.$route.path},on:{click:function($event){_vm.openDashboard(dashboard),_vm.handleCommand(subheader.id,this,!0)}}},[_c("div",{staticClass:"view-name ellipsis"},[_vm._v(" "+_vm._s(dashboard.label)+" "),dashboard.path.path===_vm.$route.path?_c("span",{staticClass:"pull-right"},[_c("i",{staticClass:"el-icon-check"})]):_vm._e()])])]}))]],2)})),0)]),_vm.hasCreatePermission||_vm.hasDashboardEditPermission?_c("div",{staticClass:"view-manager-btn",on:{click:function($event){return _vm.dashboardCommand("dashboardmanager")}}},[_c("img",{attrs:{src:__webpack_require__(55604)}}),_c("span",{staticClass:"label mL10 text-uppercase"},[_vm._v(" "+_vm._s(_vm.$t("home.dashboard.dashboard_manager"))+" ")])]):_vm._e()])]),_c("new-dashboard",{ref:"newDashboard"}),_c("dashboard-manager",{attrs:{module:_vm.getCurrentModule(),visibility:_vm.showDashboardManager},on:{"update:visibility":function($event){_vm.showDashboardManager=$event}}}),_c("router-view",{attrs:{sites:{data:_vm.sites,linkName:_vm.linkName},buildings:_vm.buildings},on:{mobiledashboard:_vm.mobiledashboardstatus,dashboardobj:_vm.getdashboardObj,updatePermission:_vm.updatePermission}}),_vm.sharedialogVisible&&_vm.dashboard?_c("ShareWith",{ref:"viewer-dashboard-sharing-section",attrs:{appId:_vm.appId,dashboard:_vm.dashboard,dialogVisible:_vm.sharedialogVisible},on:{"update:dialogVisible":function($event){_vm.sharedialogVisible=$event},"update:dialog-visible":function($event){_vm.sharedialogVisible=$event}}}):_vm._e(),_vm.isClone?_c("div",{staticClass:"dashboard-share dialog-box"},[_c("el-dialog",{staticClass:"fc-dialog-center-container",attrs:{title:_vm.title,visible:_vm.isClone,width:"35%","append-to-body":!0},on:{"update:visible":function($event){_vm.isClone=$event}}},[_c("div",{staticClass:"height200"},[_c("el-form",{ref:"cloneDashboardForm",attrs:{rules:_vm.rules,model:_vm.dashboardNameObj}},[_c("el-form-item",{attrs:{label:"Dashboard Name",prop:"name",required:!0}},[_c("el-input",{staticClass:"width100 fc-input-full-border2",attrs:{autofocus:"",type:"text",placeholder:_vm.$t("common.placeholders.enter_dashboard_name")},model:{value:_vm.dashboardNameObj.name,callback:function($$v){_vm.$set(_vm.dashboardNameObj,"name",$$v)},expression:"dashboardNameObj.name"}})],1)],1)],1),_c("span",{staticClass:"dialog-footer row"},[_c("el-button",{staticClass:"col-6 shareoverbtn shrbtn1",on:{click:function($event){_vm.isClone=!1}}},[_vm._v(" "+_vm._s(_vm.$t("common._common.cancel"))+" ")]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary",loading:_vm.saving},on:{click:function($event){return _vm.dashboardCommand("clone")}}},[_vm._v(" "+_vm._s(_vm.$t("common.header.clone_dashboard"))+" ")])],1)])],1):_vm._e()]],2),_c("pdf-download",{attrs:{url:_vm.pdfUrl,isDownload:_vm.isPdfDownload},on:{"update:isDownload":function($event){_vm.isPdfDownload=$event},"update:is-download":function($event){_vm.isPdfDownload=$event}}}),_vm.isPermission?_vm._e():_c("div",{staticStyle:{"text-align":"center","margin-top":"20%","font-size":"20px"}},[_c("span",[_vm._v(" You don't have dashboard access")])])],1)},staticRenderFns=[function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("span",{staticClass:"rotate90"},[_c("img",{staticStyle:{width:"15px"},attrs:{src:__webpack_require__(684890)}})])}],toConsumableArray=__webpack_require__(488478),api=(__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(538077),__webpack_require__(670560),__webpack_require__(434284),__webpack_require__(339772),__webpack_require__(689730),__webpack_require__(891719),__webpack_require__(425728),__webpack_require__(32284)),OutsideClick=__webpack_require__(21864),newDashboardlayoutHelper=__webpack_require__(915552),ShareDashboard=__webpack_require__(840225),router=__webpack_require__(329435),validation=__webpack_require__(990260),PDFDownload=__webpack_require__(615987),OtherMixin=__webpack_require__(964967),DashboardlayoutHelper=__webpack_require__(579924),DashboardPermissions=__webpack_require__(463491),NewDashboardLayoutvue_type_script_lang_js={mixins:[newDashboardlayoutHelper/* default */.Z,OtherMixin/* default */.Z,DashboardlayoutHelper/* default */.Z,DashboardPermissions/* default */.Z],components:{PdfDownload:PDFDownload/* default */.Z,ShareWith:ShareDashboard/* default */.Z,OutsideClick:OutsideClick/* default */.Z},data:function(){return{changetheme:!1,searchDashboard:"",sharedialogVisible:!1,publishdialogVisible:!1,activeDashboardList:[],moreDashboardList:[],canShowDashboardLinks:!1,isPdfDownload:!1,isClone:!1,rules:{name:{required:!0,message:this.$t("common.placeholders.enter_dashboard_name"),trigger:"change"}},dashboardNameObj:{name:null},saving:!1,isPermission:!0,appId:null}},created:function(){this.changetheme="black"===window.localStorage.getItem("theme"),this.appId=(0,router/* getApp */.wx)().id},computed:{title:function(){return"Clone Dashboard"},dashboardList:function(){var _this=this,headerList=this.headerList;return headerList.forEach((function(folder){folder.childrens&&folder.childrens.length&&folder.childrens.filter((function(dashboard){_this.$set(dashboard,"dashboardDiabled",!1)}))})),headerList},newDashboardList:function(){var _this2=this,dashboardList=this.dashboardList;if(dashboardList&&dashboardList.length){dashboardList.forEach((function(folder){folder.childrens&&folder.childrens.length&&folder.childrens.filter((function(dashboard){_this2.compareString(dashboard.label,_this2.searchDashboard)?_this2.$set(dashboard,"dashboardDiabled",!1):_this2.$set(dashboard,"dashboardDiabled",!0)}))}));var selectedList=dashboardList.filter((function(rt){if(rt.childrens){var childrens=rt.childrens.filter((function(dashboard){return!dashboard.dashboardDiabled}));if(childrens&&childrens.length)return childrens}}));return selectedList}return[]}},watch:{$route:function(to,from){"/app/home/dashboard"===to.path&&this.activeFolderNames&&this.subheaderMenu&&this.subheaderMenu.length&&this.$router.push({path:this.subheaderMenu[0].path.path}).catch((function(){}))},dashboardLink:{handler:function(value){(0,validation/* isEmpty */.xb)(value)||this.setHeaderList()},immediate:!0},subheaderMenu:function(value){(0,validation/* isEmpty */.xb)(value)||this.setHeaderList()}},mounted:function(){this.loadDashboards()},destroyed:function(){
// Cancel pending http calls here to prevent redirection...
api/* API */.bl.cancel({uniqueKey:"get-dashboard-list"})},methods:{updatePermission:function(permission){this.isPermission=permission},compareString:function(string1,string2){return""===string2||!!(string1&&string2&&string1.toLowerCase().indexOf(string2.toLowerCase())>=0)},switchTheme:function(){var storedTheme=window.localStorage.getItem("theme");""===storedTheme||"white"===storedTheme?(document.body.classList.remove("fc-white-theme"),document.body.classList.remove("fc-black-theme"),window.localStorage.setItem("theme","black"),document.body.classList.add("fc-black-theme"),this.themeClassNew="fc-black-theme",this.changetheme=!0):"black"===storedTheme&&(document.body.classList.remove("fc-white-theme"),document.body.classList.remove("fc-black-theme"),window.localStorage.setItem("theme","white"),document.body.classList.add("fc-white-theme"),this.themeClassNew="fc-white-theme",this.changetheme=!1),location.reload()},isActiveDashboard:function(dashboard){return!1},changeDashboard:function(dashboard){
// this.$emit('onChange', view, group)
// this.closeViewSidePanel()
},drawerClose:function(){this.showListWorkorder=!1},openDashboard:function(dashboardObj){var _ref=dashboardObj||{},linkName=_ref.linkName,path=_ref.path;if((0,router/* isWebTabsEnabled */.tj)()){var _ref2=(0,router/* findRouteForTab */.OD)(router/* pageTypes */.As.DASHBOARD_VIEWER)||{},name=_ref2.name;name&&this.$router.push({name:name,params:{dashboardlink:linkName}})}else this.$router.push({path:path.path});this.showListWorkorder=!1,this.canShowDashboardLinks=!1},addDashboard:function(){if((0,router/* isWebTabsEnabled */.tj)()){var _ref3=(0,router/* findRouteForTab */.OD)(router/* pageTypes */.As.DASHBOARD_CREATION)||{},name=_ref3.name;name&&this.$router.push({name:name,query:{create:"new"}})}else this.$router.push({path:"/app/home/editdashboard/new?create=new"})},setHeaderList:function(){var _this3=this,dashboardLink=this.dashboardLink,subheaderMenu=this.subheaderMenu;if(!(0,validation/* isEmpty */.xb)(dashboardLink)&&!(0,validation/* isEmpty */.xb)(subheaderMenu)){var _this$activeDashboard;this.activeDashboardList=[],this.moreDashboardList=[],subheaderMenu.forEach((function(dashboard){if(dashboard.linkName===dashboardLink){var index=subheaderMenu.findIndex((function(dashboard){return dashboard.linkName===dashboardLink}));index>2&&
//not first 3 elements
_this3.activeDashboardList.push(dashboard)}}));var remainingElements=3-this.activeDashboardList.length,remainingActiveDashboard=subheaderMenu.slice(0,remainingElements);// default 3 elemnts to display
(_this$activeDashboard=this.activeDashboardList).unshift.apply(_this$activeDashboard,(0,toConsumableArray/* default */.Z)(remainingActiveDashboard)),this.moreDashboardList=subheaderMenu.filter((function(dashboard){var isActive=_this3.activeDashboardList.find((function(activeDashboard){return activeDashboard.linkName===dashboard.linkName}));return!isActive}))}}}},dashboard_NewDashboardLayoutvue_type_script_lang_js=NewDashboardLayoutvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(dashboard_NewDashboardLayoutvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewDashboardLayout=component.exports},
/***/595118:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DashboardShare}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/components/DashboardShare.vue?vue&type=template&id=81a2e1e6
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-popover",{ref:"popover5",attrs:{placement:"bottom",width:"350",height:"400","popper-class":"sharepopover"},model:{value:_vm.sharingDialogVisible,callback:function($$v){_vm.sharingDialogVisible=$$v},expression:"sharingDialogVisible"}},[_c("div",{staticClass:"share-container"},[_c("el-row",{staticClass:"share-header",attrs:{align:"middle ",guttr:20}},[_c("el-col",{staticStyle:{"padding-right":"35px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"add"},[_c("el-radio",{attrs:{label:1},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.me")))]),_c("el-radio",{attrs:{label:2},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(_vm._s(_vm.$t("panel.share.everyone")))]),_c("el-radio",{attrs:{label:3},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(_vm._s(_vm.$t("panel.share.specific")))])],1)])],1),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.users")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_users")},model:{value:_vm.sharedUsers,callback:function($$v){_vm.sharedUsers=$$v},expression:"sharedUsers"}},_vm._l(_vm.users,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1)],1)])],1):_vm._e(),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.roles")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_roles")},model:{value:_vm.sharedRoles,callback:function($$v){_vm.sharedRoles=$$v},expression:"sharedRoles"}},_vm._l(_vm.roles,(function(role){return _c("el-option",{key:role.id,attrs:{label:role.name,value:role.id}})})),1)],1)])],1):_vm._e(),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.teams")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_teams")},model:{value:_vm.sharedGroups,callback:function($$v){_vm.sharedGroups=$$v},expression:"sharedGroups"}},_vm._l(_vm.groups,(function(group){return _c("el-option",{key:group.id,attrs:{label:group.name,value:group.id}})})),1)],1)])],1):_vm._e(),4===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.portal")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_users")},model:{value:_vm.portalusers,callback:function($$v){_vm.portalusers=$$v},expression:"portalusers"}},_vm._l(_vm.portalusers,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1)],1)])],1):_vm._e()],1),_c("div",{staticClass:"dialog-footer row"},[_c("div",{staticClass:"col-6 shareoverbtn shrbtn1",on:{click:function($event){_vm.sharingDialogVisible=!1}}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.cancel"))+" ")]),_c("div",{staticClass:"col-6 shareoverbtn shrbtn2",on:{click:_vm.applySharing}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.confirm"))+" ")])])]),_c("div",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}]},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-share default dashboard-edit share-icon",attrs:{title:"Share","data-position":"top","data-arrow":"true"}})])],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),ReportHelper=(__webpack_require__(670560),__webpack_require__(507815)),vuex_esm=__webpack_require__(420629),DashboardSharevue_type_script_lang_js={mixins:[ReportHelper/* default */.Z],props:["id","dashboard"],data:function(){return{shareTo:2,sharedUsers:[],sharedRoles:[],portalusers:[],sharedGroups:[],sharingDialogVisible:!1}},watch:{dashboard:{handler:function(newData,oldData){newData!==oldData&&this.loadSharing()},deep:!0}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({groups:function(state){return state.groups},users:function(state){return state.users},roles:function(state){return state.roles}})),(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),{},{dashboardLink:function(){return this.$route.params.dashboardlink}}),created:function(){this.$store.dispatch("loadRoles"),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadUsers")},mounted:function(){this.loadSharing(),this.loadPortalUsers()},methods:{loadPortalUsers:function(){var self=this;self.$http.get("/setup/portalusers").then((function(response){self.portalusers=response.data.users}))},loadSharing:function(){var self=this;null!==self.dashboard&&self.$http.get("/dashboardsharing/"+self.dashboard.id).then((function(response){if(response.data.dashboardSharing)if(0===response.data.dashboardSharing.length)self.shareTo=2;else{self.sharedUsers=[],self.sharedRoles=[],self.sharedGroups=[];for(var i=0;i<response.data.dashboardSharing.length;i++){var dashboardSharing=response.data.dashboardSharing[i];1===dashboardSharing.sharingType?self.sharedUsers.push(dashboardSharing.orgUserId):2===dashboardSharing.sharingType?self.sharedRoles.push(dashboardSharing.roleId):3===dashboardSharing.sharingType?self.sharedGroups.push(dashboardSharing.groupId):4===dashboardSharing.sharingType&&self.sharedUsers.push(dashboardSharing.orgUserId)}1===response.data.dashboardSharing.length&&1===self.sharedUsers.length&&self.sharedUsers[0]===self.getCurrentUser().ouid?self.shareTo=1:self.shareTo=3}}))},applySharing:function(){var self=this;self.sharingDialogVisible=!1;var dashboardSharing=[];if(1===self.shareTo)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.getCurrentUser().ouid});else if(3===self.shareTo){if(self.sharedUsers.length>0){dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.getCurrentUser().ouid});for(var i=0;i<self.sharedUsers.length;i++)self.sharedUsers[i]!==self.getCurrentUser().ouid&&dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.sharedUsers[i]})}if(self.sharedRoles.length>0)for(var _i=0;_i<self.sharedRoles.length;_i++)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:2,roleId:self.sharedRoles[_i]});if(self.sharedGroups.length>0)for(var _i2=0;_i2<self.sharedGroups.length;_i2++)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:3,groupId:self.sharedGroups[_i2]})}else if(4===self.shareTo&&self.sharedUsers.length>0)for(var _i3=0;_i3<self.sharedUsers.length;_i3++)self.sharedUsers[_i3]!==self.getCurrentUser().ouid&&dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.sharedUsers[_i3]});self.$http.post("/dashboardsharing/apply",{dashboardId:self.dashboard.id,dashboardSharing:dashboardSharing}).then((function(response){self.$message({message:"Sharing applied successfully!",type:"success"})}))}}},components_DashboardSharevue_type_script_lang_js=DashboardSharevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_DashboardSharevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DashboardShare=component.exports},
/***/840225:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return ShareDashboard}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/components/ShareDashboard.vue?vue&type=template&id=344179d1
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{attrs:{title:"Share the Dashboard",visible:_vm.dialogVisible,width:"51%","custom-class":"dashboardShare-dialog","before-close":_vm.handleClose},on:{"update:visible":function($event){_vm.dialogVisible=$event}}},[_vm.isSelectedUserLoading?_c("div",{staticClass:"dashboard-share-form-with-container pB51"},_vm._l(2,(function(i){return _c("div",{key:"option_available_list-"+i,staticClass:"lines loading-shimmer"})})),0):_c("div",{staticClass:"dashboard-share-form-with-container pB51"},[_c("el-radio-group",{staticClass:"sharing-radio-icon",model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},_vm._l(_vm.shareWithTypes,(function(displayLabel,value){return _c("el-radio",{key:value,staticClass:"fc-radio-btn",attrs:{label:parseInt(value)},on:{change:_vm.onChangeSharingTo}},[_vm._v(" "+_vm._s(displayLabel)+" ")])})),1),_vm.isSpecific?_c("div",{staticClass:"specific-pb"},[_c("div",{staticClass:"specific_user-header"},[_vm._v(" "+_vm._s(_vm.$t("common.sharing_permission.select_user"))+" ")]),_c("div",{staticClass:"specific_user-descrp"},[_vm._v(" "+_vm._s(_vm.$t("common.dashboard.dashboard_sharing_desc"))+" ")]),_c("div",{staticClass:"user-selection-container"},[_c("div",{staticClass:"user-selection-container-block avaiable-user-container"},[_c("div",{staticClass:"header-section"},[_vm._v(" "+_vm._s(_vm.$t("common.sharing_permission.available_user"))+" ")]),_c("div",{staticClass:"user-selection-filter-container"},[_c("el-select",{staticClass:"width100 border-right2",on:{change:function($event){_vm.searchText=null}},model:{value:_vm.shareWithSelected,callback:function($$v){_vm.shareWithSelected=$$v},expression:"shareWithSelected"}},_vm._l(_vm.specificUser,(function(option,index){return _c("el-option",{key:index,attrs:{label:option,value:parseInt(index)}})})),1),_c("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"Search",clearable:""},on:{input:_vm.searchContent,clear:_vm.searchContent},model:{value:_vm.searchText,callback:function($$v){_vm.searchText=$$v},expression:"searchText"}})],1),_c("div",{staticClass:"list-container"},[_vm.isLoading?_c("div",{staticClass:"pT20"},_vm._l(6,(function(i){return _c("div",{key:"available_list-"+i,staticClass:"lines loading-shimmer"})})),0):_vm._l(_vm.filteredList,(function(element,index){return _c("div",{key:"filteredList-"+index,staticClass:"block-card"},[_c("span",{staticClass:"block-text"},[_vm._v(_vm._s(element.name))]),_c("i",{staticClass:"el-icon-plus addition-plus-icon",on:{click:function($event){return _vm.addcolumn(element)}}})])}))],2)]),_c("div",{staticClass:"user-selection-container-block selected-user-container"},[_c("div",{staticClass:"header-section"},[_vm._v(" "+_vm._s(_vm.$t("common.sharing_permission.selected_user"))+" ")]),_c("div",{staticClass:"list-container"},[_vm.isLoading?_c("div",{staticClass:"pT20"},_vm._l(3,(function(i){return _c("div",{key:"selected_list-"+i,staticClass:"lines loading-shimmer"})})),0):_vm.$validation.isEmpty(_vm.selectedUsers)?_c("div",{staticClass:"empty-state"},[_vm._v(" "+_vm._s(_vm.$t("common.sharing_permission.add_here"))+" ")]):_c("draggable",{staticClass:"dragArea",attrs:{group:"people",handle:".rearrange-icon"},model:{value:_vm.selectedUsers,callback:function($$v){_vm.selectedUsers=$$v},expression:"selectedUsers"}},_vm._l(_vm.selectedUsers,(function(element,index){return _c("div",{key:"selected-user-"+index,staticClass:"block-card"},[_c("div",{staticClass:"flex-middle"},[_c("el-tooltip",{staticStyle:{height:"16px"},attrs:{effect:"dark",content:_vm.$t("common.sharing_permission.reorder"),placement:"top"}},[_c("inline-svg",{staticClass:"rearrange-icon cursor-move",attrs:{src:"svgs/ic-drag-handle",iconClass:"icon icon-sm-md"}})],1),_c("div",{staticClass:"block-text2 mL5"},[_vm._v(_vm._s(element.name))])],1),_c("i",{staticClass:"el-icon-close addition-plus-icon",on:{click:function($event){return _vm.removeColumn(index)}}})])})),0)],1)])])]):_vm._e(),_vm.isOnlyMe?_vm._e():_c("div",{staticClass:"mT30"},[_c("el-checkbox",{model:{value:_vm.hasEditPermission,callback:function($$v){_vm.hasEditPermission=$$v},expression:"hasEditPermission"}},[_vm._v(" "+_vm._s(_vm.$t("common.sharing_permission.permission_desc"))+" ")])],1)],1),_c("span",{staticClass:"dialog-footer row"},[_c("div",{staticClass:"col-6 shareoverbtn shrbtn1",on:{click:_vm.handleClose}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.cancel"))+" ")]),_c("div",{staticClass:"col-6 shareoverbtn shrbtn2",on:{click:_vm.applySharing}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.save"))+" ")])])])},staticRenderFns=[],toConsumableArray=__webpack_require__(488478),slicedToArray=__webpack_require__(554621),objectSpread2=__webpack_require__(595082),regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),validation=(__webpack_require__(538077),__webpack_require__(260228),__webpack_require__(425728),__webpack_require__(434284),__webpack_require__(976801),__webpack_require__(843843),__webpack_require__(450886),__webpack_require__(634338),__webpack_require__(670560),__webpack_require__(162506),__webpack_require__(990260)),vuex_esm=__webpack_require__(420629),api=__webpack_require__(32284),vuedraggable_umd=__webpack_require__(909980),vuedraggable_umd_default=__webpack_require__.n(vuedraggable_umd),debounce=__webpack_require__(23279),debounce_default=__webpack_require__.n(debounce),picklist=__webpack_require__(961358),shareWithTypeValue={ONLY_ME:1,EVERYONE:2,SELECT_USER:3},specificUserValue={USER:1,ROLE:2,GROUP:3},ShareDashboardvue_type_script_lang_js={props:["dashboard","dialogVisible","appId"],components:{draggable:vuedraggable_umd_default()},data:function(){return{shareWithTypeValue:shareWithTypeValue,specificUserValue:specificUserValue,viewSharingDetails:{},hasEditPermission:!1,sharingDetails:null,isLoading:!1,shareTo:shareWithTypeValue.EVERYONE,roleList:[],selectedUsers:[],userList:[],searchText:null,shareWithSelected:specificUserValue.USER,shareWithTypes:{1:"Only Me",2:"Everyone",3:"Select User"},specificUser:{1:"User",2:"Role",3:"Team"},isSelectedUserLoading:!1}},watch:{dashboard:{handler:function(newData,oldData){newData!==oldData&&this.loadSharing()},deep:!0}},created:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.loadSharing();case 2:case"end":return _context.stop()}}),_callee)})))()},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({groupList:function(state){return state.groups}})),(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),{},{currentUserId:function(){var _ref=this.getCurrentUser()||{},id=_ref.id;return id||null},isSpecific:function(){var shareTo=this.shareTo;return shareTo===shareWithTypeValue.SELECT_USER},isOnlyMe:function(){var shareTo=this.shareTo;return shareTo===this.shareWithTypeValue.ONLY_ME},filteredList:function(){var _this2=this,shareWithSelected=this.shareWithSelected,USER=specificUserValue.USER,ROLE=specificUserValue.ROLE,GROUP=specificUserValue.GROUP,currentList=shareWithSelected===USER?this.userList:shareWithSelected===ROLE?this.roleList:shareWithSelected===GROUP?this.groupList:[],currentUserList=currentList.filter((function(filt){return!_this2.selectedUsers.find((function(element){return element.name===filt.name}))}));return this.searchText&&shareWithSelected!=USER?currentUserList.filter((function(user){var _ref2=user||{},name=_ref2.name;return name.toLowerCase().includes(_this2.searchText.toLowerCase())})):currentUserList}}),methods:{deserializedDashboardSharingDetails:function(dashboardSharing){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var USER,ROLE,GROUP,_dashboardSharing,sharedData,orgUserId,sharingType,userId,roleId,groupId,linkName,_yield$API$get,data,error,_this3$dashboard;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if((0,validation/* isEmpty */.xb)(dashboardSharing)){_context2.next=14;break}return USER=specificUserValue.USER,ROLE=specificUserValue.ROLE,GROUP=specificUserValue.GROUP,(0,validation/* isEmpty */.xb)(dashboardSharing)?_this3.shareTo=shareWithTypeValue.EVERYONE:(_this3.shareTo=shareWithTypeValue.SELECT_USER,1===dashboardSharing.length&&(_dashboardSharing=(0,slicedToArray/* default */.Z)(dashboardSharing,1),sharedData=_dashboardSharing[0],orgUserId=sharedData.orgUserId,sharingType=sharedData.sharingType,1===sharingType&&_this3.currentUserId===orgUserId&&(_this3.shareTo=shareWithTypeValue.ONLY_ME))),userId=dashboardSharing.filter((function(user){return user.sharingType===USER})).map((function(user){return user.orgUserId})),roleId=dashboardSharing.filter((function(user){return user.sharingType===ROLE})).map((function(user){return user.roleId})),groupId=dashboardSharing.filter((function(user){return user.sharingType===GROUP})).map((function(user){return user.groupId})),_context2.next=8,_this3.getUserManagementList(userId);case 8:_this3.loadUserIds(userId),_this3.loadRoleIds(roleId),_this3.loadGroupIds(groupId),_this3.isSelectedUserLoading=!1,_context2.next=16;break;case 14:_this3.shareTo=shareWithTypeValue.EVERYONE,_this3.isSelectedUserLoading=!1;case 16:if(linkName=_this3.$getProperty(_this3,"dashboard.linkName",null),(0,validation/* isEmpty */.xb)(linkName)){_context2.next=24;break}return _context2.next=20,api/* API */.bl.get("v3/dashboard/".concat(linkName));case 20:_yield$API$get=_context2.sent,data=_yield$API$get.data,error=_yield$API$get.error,error||(_this3.hasEditPermission=_this3.$getProperty(data,"dashboardJson.0.locked",null===(_this3$dashboard=_this3.dashboard)||void 0===_this3$dashboard?void 0:_this3$dashboard.locked));case 24:case"end":return _context2.stop()}}),_callee2)})))()},loadSharing:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var self,_yield$API$get2,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(self=_this4,null!==_this4.dashboard){_context3.next=3;break}return _context3.abrupt("return");case 3:return _this4.isSelectedUserLoading=!0,_this4.shareTo=null,self.isLoading=!0,_context3.next=8,api/* API */.bl.get("/dashboardsharing/"+self.dashboard.id);case 8:_yield$API$get2=_context3.sent,data=_yield$API$get2.data,error=_yield$API$get2.error,error?self.isSelectedUserLoading=!1:data.dashboardSharing?_this4.deserializedDashboardSharingDetails(data.dashboardSharing):self.isSelectedUserLoading=!1,self.isLoading=!1;case 13:case"end":return _context3.stop()}}),_callee3)})))()},applySharing:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var self,sharingData,dashboardSharing,params,_API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:self=_this5,sharingData=_this5.serializeData(),dashboardSharing=sharingData.dashboardSharing,params={dashboard:{locked:self.hasEditPermission,id:self.dashboard.id,dashboardSharingContext:(0,toConsumableArray/* default */.Z)(dashboardSharing)}},_API$post=api/* API */.bl.post("/dashboard/updateDashboard",params),_API$post.data,error=_API$post.error,error||self.$message({message:"Sharing applied successfully!",type:"success"}),_this5.handleClose();case 7:case"end":return _context4.stop()}}),_callee4)})))()},handleClose:function(){this.$emit("update:dialogVisible",!1)},onChangeSharingTo:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_this6.shareTo===shareWithTypeValue.ONLY_ME&&(_this6.hasEditPermission=!1),_this6.shareTo===shareWithTypeValue.SELECT_USER&&_this6.getUserManagementList(),_this6.shareWithSelected=specificUserValue.USER,_this6.selectedUsers=[];case 4:case"end":return _context5.stop()}}),_callee5)})))()},getUserManagementList:function(){var _arguments=arguments,_this7=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var userIds;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return userIds=_arguments.length>0&&void 0!==_arguments[0]?_arguments[0]:null,_this7.isLoading=!0,_context6.next=4,_this7.loadUsersList(userIds);case 4:return _context6.next=6,_this7.loadRoleList();case 6:return _context6.next=8,_this7.$store.dispatch("loadGroups");case 8:_this7.isLoading=!1;case 9:case"end":return _context6.stop()}}),_callee6)})))()},loadUsersList:function(){var _arguments2=arguments,_this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var userIds,appId,searchText,_yield$getFieldOption,error,options;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return userIds=_arguments2.length>0&&void 0!==_arguments2[0]?_arguments2[0]:null,appId=_this8.appId,searchText=_this8.searchText,_context7.next=4,(0,picklist/* getFieldOptions */._K)({field:{lookupModuleName:"users",filters:{applicationId:{value:[appId]}}},searchText:searchText,defaultIds:userIds});case 4:_yield$getFieldOption=_context7.sent,error=_yield$getFieldOption.error,options=_yield$getFieldOption.options,error?_this8.$message.error(error.message||"Error Occured"):_this8.userList=options.map((function(user){return{name:user.label,id:user.value}}));case 8:case"end":return _context7.stop()}}),_callee7)})))()},loadRoleList:function(){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee8(){var appId,params,_yield$API$get3,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context8){while(1)switch(_context8.prev=_context8.next){case 0:if(appId=_this9.appId,!(0,validation/* isEmpty */.xb)(appId)){_context8.next=3;break}return _context8.abrupt("return");case 3:return params={search:_this9.searchText,appId:appId},_context8.next=6,api/* API */.bl.get("/setup/roles",params);case 6:_yield$API$get3=_context8.sent,data=_yield$API$get3.data,error=_yield$API$get3.error,error?_this9.$message.error(error.message||"Error Occured"):_this9.roleList=data.roles||[];case 10:case"end":return _context8.stop()}}),_callee8)})))()},searchContent:debounce_default()((function(){var shareWithSelected=this.shareWithSelected,USER=specificUserValue.USER;shareWithSelected===USER&&this.loadUsersList()}),500),loadUserIds:function(usersId){var userList=this.userList,userDetails=(userList||[]).filter((function(user){return(usersId||[]).includes(user.id)})).map((function(user){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},user),{},{userId:user.id})}));this.selectedUsers=[].concat((0,toConsumableArray/* default */.Z)(this.selectedUsers),(0,toConsumableArray/* default */.Z)(userDetails))},loadRoleIds:function(roleId){var roleList=this.roleList,roleDetails=(roleList||[]).filter((function(user){return(roleId||[]).includes(user.roleId)})).map((function(user){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},user),{},{roleIdKey:user.id})}));this.selectedUsers=[].concat((0,toConsumableArray/* default */.Z)(this.selectedUsers),(0,toConsumableArray/* default */.Z)(roleDetails))},loadGroupIds:function(groupId){var groupList=this.groupList,groupDetails=(groupList||[]).filter((function(user){return(groupId||[]).includes(user.groupId)})).map((function(user){return(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},user),{},{groupId:user.id})}));this.selectedUsers=[].concat((0,toConsumableArray/* default */.Z)(this.selectedUsers),(0,toConsumableArray/* default */.Z)(groupDetails))},addcolumn:function(element){var shareWithSelected=this.shareWithSelected,USER=specificUserValue.USER,ROLE=specificUserValue.ROLE,GROUP=specificUserValue.GROUP;shareWithSelected===USER?this.selectedUsers.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},element),{},{userId:element.id})):shareWithSelected===ROLE?this.selectedUsers.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},element),{},{roleIdKey:element.id})):shareWithSelected===GROUP&&this.selectedUsers.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},element),{},{groupId:element.id}))},removeColumn:function(index){this.selectedUsers.splice(index,1)},serializeData:function(){var _this10=this,currentUserId=this.currentUserId,selectedUsers=this.selectedUsers,sharedUserIds=selectedUsers.filter((function(user){return user.userId})).map((function(user){return user.userId})),sharedRoleIds=selectedUsers.filter((function(user){return user.roleIdKey})).map((function(user){return user.roleIdKey})),sharedGroupIds=selectedUsers.filter((function(user){return user.groupId})).map((function(user){return user.groupId})),sharedUserDetails=[],sharedRoleDetails=[],sharedGroupDetails=[];this.shareTo===shareWithTypeValue.ONLY_ME?sharedUserDetails.push({sharingType:1,orgUserId:currentUserId,dashboardId:this.dashboard.id}):this.shareTo===shareWithTypeValue.SELECT_USER&&((0,validation/* isEmpty */.xb)(sharedUserIds)||(sharedUserDetails=sharedUserIds.map((function(userId){return userId!==currentUserId?{sharingType:1,orgUserId:userId,dashboardId:_this10.dashboard.id}:{sharingType:1,orgUserId:currentUserId,dashboardId:_this10.dashboard.id}}))),(0,validation/* isEmpty */.xb)(sharedRoleIds)||(sharedRoleDetails=sharedRoleIds.map((function(roleId){return{sharingType:2,roleId:roleId,dashboardId:_this10.dashboard.id}}))),(0,validation/* isEmpty */.xb)(sharedGroupIds)||(sharedGroupDetails=sharedGroupIds.map((function(groupId){return{sharingType:3,groupId:groupId,dashboardId:_this10.dashboard.id}}))));var sharingDetails=[].concat((0,toConsumableArray/* default */.Z)(sharedUserDetails),(0,toConsumableArray/* default */.Z)(sharedRoleDetails),(0,toConsumableArray/* default */.Z)(sharedGroupDetails));return{dashboardSharing:sharingDetails}}}},components_ShareDashboardvue_type_script_lang_js=ShareDashboardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_ShareDashboardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,ShareDashboard=component.exports},
/***/171140:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewDashboard}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/dashboard/forms/NewDashboard.vue?vue&type=template&id=32f74c7c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("f-form",{ref:"newDashboardForm",attrs:{type:"dialog50",title:"New Dashboard",model:_vm.model},on:{save:_vm.save},scopedSlots:_vm._u([{key:"form",fn:function(fscope){return[_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Name"},model:{value:fscope.formModel.dashboardName,callback:function($$v){_vm.$set(fscope.formModel,"dashboardName",$$v)},expression:"fscope.formModel.dashboardName"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Description",type:"textarea"},model:{value:fscope.formModel.dashboardDesc,callback:function($$v){_vm.$set(fscope.formModel,"dashboardDesc",$$v)},expression:"fscope.formModel.dashboardDesc"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-select",{staticClass:"form-item",attrs:{"float-label":"Module",options:_vm._f("options")(_vm.supportedModules,"displayName","moduleId")},model:{value:fscope.formModel.moduleId,callback:function($$v){_vm.$set(fscope.formModel,"moduleId",$$v)},expression:"fscope.formModel.moduleId"}})],1)],1)]}}])})},staticRenderFns=[],quasar_esm=__webpack_require__(641358),FForm=__webpack_require__(570992),NewDashboardvue_type_script_lang_js={components:{QInput:quasar_esm/* QInput */.Ke,QSelect:quasar_esm/* QSelect */.zO,FForm:FForm/* default */.Z},data:function(){return{model:{dashboardName:null,dashboardDesc:null,moduleId:null},supportedModules:[]}},
// watch: {
//   visibility: function (newVal) {
//     this.visibilityState = newVal
//     if (this.visibilityState) {
//       this.$refs.newDashboardForm.open()
//     }
//     else {
//       this.$refs.newDashboardForm.close()
//     }
//   }
// },
mounted:function(){this.loadSupportedModules()},methods:{loadSupportedModules:function(){var self=this,url="/dashboard/supportedmodules";this.$http.get(url).then((function(response){response.data.modules&&(self.supportedModules=response.data.modules)}))},open:function(){this.$refs.newDashboardForm.open()},close:function(){this.$refs.newDashboardForm.close()},save:function(){var self=this,formModel=self.$refs.newDashboardForm.getFormModel(),formdata={dashboard:{dashboardName:formModel.dashboardName,moduleId:formModel.moduleId}};self.$http.post("/dashboard/add",formdata).then((function(response){self.$message({message:"Dashboard created successfully!",type:"success"}),self.close()}))}}},forms_NewDashboardvue_type_script_lang_js=NewDashboardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(forms_NewDashboardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewDashboard=component.exports},
/***/733569:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return DashboardShare}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/new-dashboard/components/dashboard/DashboardShare.vue?vue&type=template&id=f6fc7b0a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("el-popover",{ref:"popover5",attrs:{placement:"bottom",width:"350",height:"400","popper-class":"sharepopover"},model:{value:_vm.sharingDialogVisible,callback:function($$v){_vm.sharingDialogVisible=$$v},expression:"sharingDialogVisible"}},[_c("div",{staticClass:"share-container"},[_c("el-row",{staticClass:"share-header",attrs:{align:"middle ",guttr:20}},[_c("el-col",{staticStyle:{"padding-right":"35px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"add"},[_c("el-radio",{attrs:{label:1},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.me")))]),_c("el-radio",{attrs:{label:2},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(_vm._s(_vm.$t("panel.share.everyone")))]),_c("el-radio",{attrs:{label:3},model:{value:_vm.shareTo,callback:function($$v){_vm.shareTo=$$v},expression:"shareTo"}},[_vm._v(_vm._s(_vm.$t("panel.share.specific")))])],1)])],1),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.users")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_users")},model:{value:_vm.sharedUsers,callback:function($$v){_vm.sharedUsers=$$v},expression:"sharedUsers"}},_vm._l(_vm.users,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1)],1)])],1):_vm._e(),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.roles")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_roles")},model:{value:_vm.sharedRoles,callback:function($$v){_vm.sharedRoles=$$v},expression:"sharedRoles"}},_vm._l(_vm.roles,(function(role){return _c("el-option",{key:role.id,attrs:{label:role.name,value:role.id}})})),1)],1)])],1):_vm._e(),3===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.teams")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_teams")},model:{value:_vm.sharedGroups,callback:function($$v){_vm.sharedGroups=$$v},expression:"sharedGroups"}},_vm._l(_vm.groups,(function(group){return _c("el-option",{key:group.id,attrs:{label:group.name,value:group.id}})})),1)],1)])],1):_vm._e(),4===_vm.shareTo?_c("el-row",{staticStyle:{margin:"0px","padding-top":"20px"},attrs:{align:"middle",gutter:20}},[_c("el-col",{staticStyle:{"padding-right":"0px","padding-left":"0px"},attrs:{span:24}},[_c("div",{staticClass:"textcolor"},[_vm._v(_vm._s(_vm.$t("panel.share.portal")))]),_c("div",{staticClass:"add"},[_c("el-select",{staticClass:"form-item ",staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:_vm.$t("common.wo_report.choose_users")},model:{value:_vm.portalusers,callback:function($$v){_vm.portalusers=$$v},expression:"portalusers"}},_vm._l(_vm.portalusers,(function(user){return _c("el-option",{key:user.id,attrs:{label:user.name,value:user.id}})})),1)],1)])],1):_vm._e()],1),_c("div",{staticClass:"dialog-footer row"},[_c("div",{staticClass:"col-6 shareoverbtn shrbtn1",on:{click:function($event){_vm.sharingDialogVisible=!1}}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.cancel"))+" ")]),_c("div",{staticClass:"col-6 shareoverbtn shrbtn2",on:{click:_vm.applySharing}},[_vm._v(" "+_vm._s(_vm.$t("panel.share.confirm"))+" ")])])]),_c("div",{directives:[{name:"popover",rawName:"v-popover:popover5",arg:"popover5"}]},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-share default dashboard-edit share-icon",attrs:{title:"Share","data-position":"top","data-arrow":"true"}})])],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),ReportHelper=(__webpack_require__(670560),__webpack_require__(507815)),vuex_esm=__webpack_require__(420629),DashboardSharevue_type_script_lang_js={mixins:[ReportHelper/* default */.Z],props:["id","dashboard"],data:function(){return{shareTo:2,sharedUsers:[],sharedRoles:[],portalusers:[],sharedGroups:[],sharingDialogVisible:!1}},watch:{dashboard:{handler:function(newData,oldData){newData!==oldData&&this.loadSharing()},deep:!0}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({groups:function(state){return state.groups},users:function(state){return state.users},roles:function(state){return state.roles}})),(0,vuex_esm/* mapGetters */.Se)(["getCurrentUser"])),{},{dashboardLink:function(){return this.$route.params.dashboardlink}}),created:function(){this.$store.dispatch("loadRoles"),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadUsers")},mounted:function(){this.loadSharing(),this.loadPortalUsers()},methods:{loadPortalUsers:function(){var self=this;self.$http.get("/setup/portalusers").then((function(response){self.portalusers=response.data.users}))},loadSharing:function(){var self=this;null!==self.dashboard&&self.$http.get("/dashboardsharing/"+self.dashboard.id).then((function(response){if(response.data.dashboardSharing)if(0===response.data.dashboardSharing.length)self.shareTo=2;else{self.sharedUsers=[],self.sharedRoles=[],self.sharedGroups=[];for(var i=0;i<response.data.dashboardSharing.length;i++){var dashboardSharing=response.data.dashboardSharing[i];1===dashboardSharing.sharingType?self.sharedUsers.push(dashboardSharing.orgUserId):2===dashboardSharing.sharingType?self.sharedRoles.push(dashboardSharing.roleId):3===dashboardSharing.sharingType?self.sharedGroups.push(dashboardSharing.groupId):4===dashboardSharing.sharingType&&self.sharedUsers.push(dashboardSharing.orgUserId)}1===response.data.dashboardSharing.length&&1===self.sharedUsers.length&&self.sharedUsers[0]===self.getCurrentUser().ouid?self.shareTo=1:self.shareTo=3}}))},applySharing:function(){var self=this;self.sharingDialogVisible=!1;var dashboardSharing=[];if(1===self.shareTo)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.getCurrentUser().ouid});else if(3===self.shareTo){if(self.sharedUsers.length>0){dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.getCurrentUser().ouid});for(var i=0;i<self.sharedUsers.length;i++)self.sharedUsers[i]!==self.getCurrentUser().ouid&&dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.sharedUsers[i]})}if(self.sharedRoles.length>0)for(var _i=0;_i<self.sharedRoles.length;_i++)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:2,roleId:self.sharedRoles[_i]});if(self.sharedGroups.length>0)for(var _i2=0;_i2<self.sharedGroups.length;_i2++)dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:3,groupId:self.sharedGroups[_i2]})}else if(4===self.shareTo&&self.sharedUsers.length>0)for(var _i3=0;_i3<self.sharedUsers.length;_i3++)self.sharedUsers[_i3]!==self.getCurrentUser().ouid&&dashboardSharing.push({dashboardId:self.dashboard.id,sharingType:1,orgUserId:self.sharedUsers[_i3]});self.$http.post("/dashboardsharing/apply",{dashboardId:self.dashboard.id,dashboardSharing:dashboardSharing}).then((function(response){self.$message({message:"Sharing applied successfully!",type:"success"})}))}}},dashboard_DashboardSharevue_type_script_lang_js=DashboardSharevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(dashboard_DashboardSharevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,DashboardShare=component.exports},
/***/186267:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return NewDashboard}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/new-dashboard/components/dashboard/NewDashboard.vue?vue&type=template&id=9438a20a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("f-form",{ref:"newDashboardForm",attrs:{type:"dialog50",title:"New Dashboard",model:_vm.model},on:{save:_vm.save},scopedSlots:_vm._u([{key:"form",fn:function(fscope){return[_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Name"},model:{value:fscope.formModel.dashboardName,callback:function($$v){_vm.$set(fscope.formModel,"dashboardName",$$v)},expression:"fscope.formModel.dashboardName"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-input",{staticClass:"form-item",attrs:{"float-label":"Description",type:"textarea"},model:{value:fscope.formModel.dashboardDesc,callback:function($$v){_vm.$set(fscope.formModel,"dashboardDesc",$$v)},expression:"fscope.formModel.dashboardDesc"}})],1)],1),_c("el-row",{attrs:{gutter:50,align:"middle"}},[_c("el-col",{attrs:{span:24}},[_c("q-select",{staticClass:"form-item",attrs:{"float-label":"Module",options:_vm._f("options")(_vm.supportedModules,"displayName","moduleId")},model:{value:fscope.formModel.moduleId,callback:function($$v){_vm.$set(fscope.formModel,"moduleId",$$v)},expression:"fscope.formModel.moduleId"}})],1)],1)]}}])})},staticRenderFns=[],quasar_esm=__webpack_require__(641358),FForm=__webpack_require__(570992),NewDashboardvue_type_script_lang_js={components:{QInput:quasar_esm/* QInput */.Ke,QSelect:quasar_esm/* QSelect */.zO,FForm:FForm/* default */.Z},data:function(){return{model:{dashboardName:null,dashboardDesc:null,moduleId:null},supportedModules:[]}},
// watch: {
//   visibility: function (newVal) {
//     this.visibilityState = newVal
//     if (this.visibilityState) {
//       this.$refs.newDashboardForm.open()
//     }
//     else {
//       this.$refs.newDashboardForm.close()
//     }
//   }
// },
mounted:function(){this.loadSupportedModules()},methods:{loadSupportedModules:function(){var self=this,url="/dashboard/supportedmodules";this.$http.get(url).then((function(response){response.data.modules&&(self.supportedModules=response.data.modules)}))},open:function(){this.$refs.newDashboardForm.open()},close:function(){this.$refs.newDashboardForm.close()},save:function(){var self=this,formModel=self.$refs.newDashboardForm.getFormModel(),formdata={dashboard:{dashboardName:formModel.dashboardName,moduleId:formModel.moduleId}};self.$http.post("/dashboard/add",formdata).then((function(response){self.$message({message:"Dashboard created successfully!",type:"success"}),self.close()}))}}},dashboard_NewDashboardvue_type_script_lang_js=NewDashboardvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(dashboard_NewDashboardvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,NewDashboard=component.exports},
/***/55604:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"ba1442f8e480ed2c9f199aa3cb8c7639.svg";
/***/},
/***/970041:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"c5f834129b8ef9763aa56ce88f843444.svg";
/***/},
/***/684890:
/***/function(module,__unused_webpack_exports,__webpack_require__){module.exports=__webpack_require__.p+"c5bbcb00b28261c206e2f2de4a9fe124.svg";
/***/}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/35059.js.map