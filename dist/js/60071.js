"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[60071,71569],{
/***/947748:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/FSearch.vue?vue&type=template&id=aca29d08
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"f-search-container mR20"},[void 0!=_vm.boolval?_c("div",[_c("el-input",{ref:"quickSearchQuery",staticClass:"fc-input-full-border-h35 mT15 mR10 wo-assigned-search",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_vm.quickSearchQuery?_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"}):_vm._e()])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&void 0==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},nativeOn:{keyup:function($event){return!$event.type.indexOf("key")&&_vm._k($event.keyCode,"enter",13,$event.key,"Enter")?null:_vm.quickSearch.apply(null,arguments)}},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):_vm._e(),1==_vm.showQuickSearch&&void 0==_vm.boolval&&1==_vm.remote?_c("div",[_c("el-input",{directives:[{name:"show",rawName:"v-show",value:_vm.showQuickSearch,expression:"showQuickSearch"}],ref:"quickSearchQuery",staticClass:"f-quick-search-input ",attrs:{autofocus:!0,placeholder:"Search","prefix-icon":"el-icon-search"},on:{change:_vm.remoteSearch},model:{value:_vm.quickSearchQuery,callback:function($$v){_vm.quickSearchQuery=$$v},expression:"quickSearchQuery"}},[_c("i",{staticClass:"el-icon-close pointer",attrs:{slot:"suffix"},on:{click:_vm.closeSearch},slot:"suffix"})])],1):void 0==_vm.boolval&&_vm.searchHide?_c("div",{staticClass:"pointer flRight",on:{click:_vm.toggleQuickSearch}},[_c("i",{staticClass:"el-icon-search"})]):_vm._e()])},staticRenderFns=[],FSearchvue_type_script_lang_js=(__webpack_require__(538077),__webpack_require__(260228),{props:["value","searchKey","","boolval","remote"],data:function(){return{showQuickSearch:!1,quickSearchQuery:null,initialList:null,searchHide:!0}},beforeDestroy:function(){this.closeSearch()},mounted:function(){void 0!=this.boolval&&(this.showQuickSearch=this.boolval)},methods:{quickSearch:function(){var list,_this=this;this.value&&(this.quickSearchQuery?(this.initialList||(this.initialList=this.$helpers.cloneObject(this.value)),list=this.initialList.filter((function(item){return item[_this.searchKey||"name"].toLowerCase().indexOf(_this.quickSearchQuery.toLowerCase())>=0}))):(list=this.initialList,this.initialList=null),list&&this.$emit("input",list))},remoteSearch:function(){this.$emit("search",this.quickSearchQuery)},toggleQuickSearch:function(){var _this2=this;this.searchHide=!1,this.showQuickSearch=!this.showQuickSearch,this.showQuickSearch&&this.$nextTick((function(){_this2.$refs.quickSearchQuery&&_this2.$refs.quickSearchQuery.focus()}))},clearSearch:function(){this.showQuickSearch=!1,this.quickSearchQuery=null,this.searchHide=!0},closeSearch:function(){void 0===this.boolval&&this.toggleQuickSearch(),this.quickSearchQuery=null,this.remote?this.remoteSearch():this.quickSearch(),this.searchHide=!0,this.showQuickSearch=!1,this.$emit("close")}}}),components_FSearchvue_type_script_lang_js=FSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_FSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,FSearch=component.exports},
/***/929593:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return FPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/list/FPagination.vue?vue&type=template&id=7641710c&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"flex-center-row-space mT-5",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"p8 pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" of "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",[_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer p5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})])],1):_vm._e()])},staticRenderFns=[],router=(__webpack_require__(879288),__webpack_require__(670560),__webpack_require__(329435)),FPaginationvue_type_script_lang_js={props:{total:[Number,String],perPage:Number,hideToggle:{type:Boolean,default:!1},pageNo:Number,hidePopover:{type:Boolean,default:!1}},data:function(){return{from:0,to:0,page:1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.addEventListener("keydown",this.keyDownHandler)},mounted:function(){this.init()},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&document.removeEventListener("keydown",this.keyDownHandler)},computed:{pageQuery:function(){var _ref=this.$route||{},query=_ref.query,_ref2=query||{},page=_ref2.page;return parseInt(page)||1},hasMorePage:function(){return this.total/this.perPage>1},disablePopup:function(){return this.hidePopover||!this.hasMorePage}},watch:{total:function(){this.init()},pageQuery:function(){this.init()}},methods:{init:function(){if(this.page=this.pageQuery,this.from=(this.page-1)*this.perPage+1,this.from>this.total&&this.from&&this.from>0&&this.total&&this.total>0)this.reset();else{var to=this.from+this.perPage-1;this.to=this.total>to?to:this.total}},handleCurrentChange:function(val){this.page=val,this.from=(this.page-1)*this.perPage+1,this.to=this.total>=this.from+this.perPage?this.from+this.perPage-1:this.total,this.setPage()},next:function(){this.from=this.to+1,this.to+=this.perPage,this.to>this.total&&(this.to=this.total),this.page++,this.setPage()},prev:function(){this.to=this.from-1,this.from-=this.perPage,this.from<=1?this.from=this.page=1:this.page--,this.setPage()},reset:function(){this.page=1,this.setPage(!0)},setPage:function(isReset){if(this.pageNo)this.$emit("onPageChanged",this.page);else{var query={};Object.assign(query,this.$route.query),query?query.page=this.page:query={page:this.page},this.$router.push({query:query}),isReset||this.$emit("onPageChanged",this.page)}},keyDownHandler:function(e){e.shiftKey&&("ArrowRight"===e.key&&this.to!==this.total?this.next():"ArrowLeft"===e.key&&this.from>1&&this.prev())}}},list_FPaginationvue_type_script_lang_js=FPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(list_FPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,"7641710c",null)
/* harmony default export */,FPagination=component.exports},
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/64354:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return WorkplaceSettingsHome}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/WorkplaceSettings/WorkplaceSettingsHome.vue?vue&type=template&id=a119cb2c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-col"},[_c("portal-target",{key:_vm.currentTab,attrs:{name:"booking-policy-settings-header-"+_vm.currentTab}}),_c("el-tabs",{staticClass:"alarm-action-tab",model:{value:_vm.currentTab,callback:function($$v){_vm.currentTab=$$v},expression:"currentTab"}},[_c("el-tab-pane",{attrs:{label:"Booking Policies",name:"booking-policies",lazy:""}},[_c("NewBookingPolicies")],1),_c("el-tab-pane",{attrs:{label:"Form Relation",name:"form-relation",lazy:""}},[_c("FormRelation")],1)],1)],1)},staticRenderFns=[],FormRelationvue_type_template_id_c7efcb66_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"form-relation-container"},[_c("portal",{attrs:{to:"booking-policy-settings-header-form-relation"}},[_c("div",{staticClass:"display-flex-between-space m20"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.$t("workplace.form_relation.formrelations"))+" ")]),_c("div",{staticClass:"heading-description"},[_vm._v(" "+_vm._s(_vm.$t("workplace.form_relation.description"))+" ")])]),_c("el-select",{staticClass:"fc-input-full-border2 width200px pR15",attrs:{placeholder:"Select App",filterable:""},on:{change:function($event){return _vm.init()}},model:{value:_vm.appId,callback:function($$v){_vm.appId=$$v},expression:"appId"}},_vm._l(_vm.apps,(function(app){return _c("el-option",{key:app.linkName,attrs:{label:app.name,value:app.id}})})),1)],1)]),_c("div",[_vm.isLoading?_c("div"):_c("div",[_vm.$validation.isEmpty(_vm.spaceCategoryList)&&!_vm.isLoading?_c("SetupEmpty",{staticClass:"m10",class:_vm.resourceEmpty,scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("workplace.form_relation.no_form_relation"))+" ")]},proxy:!0}],null,!1,1113932398)}):_vm._l(_vm.spaceCategoryList,(function(category,index){return _c("div",{key:index,staticClass:"visitor-hor-card scale-up-left flex-middle select-input"},[_c("div",[_c("div",{staticClass:"fc-black-15 fwBold"},[_vm._v(_vm._s(category.name))]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(_vm._s(category.description))])]),_c("div",[_c("el-select",{staticClass:"fc-input-full-border-select2  height100 scrollable ",attrs:{placeholder:_vm.$t("common._common.select")},on:{change:function($event){return _vm.updateFormRelation(category)}},model:{value:_vm.selectedForm[category.id],callback:function($$v){_vm.$set(_vm.selectedForm,category.id,$$v)},expression:"selectedForm[category.id]"}},_vm._l(_vm.forms,(function(form){return _c("el-option",{key:form.id,attrs:{label:form.displayName,value:form.id}})})),1)],1)])}))],2)])],1)},FormRelationvue_type_template_id_c7efcb66_scoped_true_staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),SetupEmptyState=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(947522),__webpack_require__(622957)),api=__webpack_require__(32284),validation=__webpack_require__(990260),FormRelationvue_type_script_lang_js={data:function(){return{isLoading:!0,appId:null,apps:[],moduleName:"spacebooking",spaceCategoryList:[],formRelationList:[],forms:[],selectedForm:{},formRelationData:{appId:null,parentModuleName:null,parentModuleId:null,categoryId:null,moduleFormId:null}}},mounted:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.next=2,_this.init();case 2:case"end":return _context.stop()}}),_callee)})))()},components:{SetupEmpty:SetupEmptyState/* default */.Z},computed:{resourceEmpty:function(){var spaceCategoryList=this.spaceCategoryList;return(0,validation/* isEmpty */.xb)(spaceCategoryList)?"resource-empty":"resource-filter-applied-empty"}},methods:{init:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.isLoading=!0,_context2.next=3,_this2.setAppId();case 3:return _context2.next=5,_this2.availableApps();case 5:return _context2.next=7,_this2.loadSpaceCategoryList();case 7:return _context2.next=9,_this2.loadForms();case 9:return _context2.next=11,_this2.loadFormRelation();case 11:return _context2.next=13,_this2.afterInithook();case 13:_this2.isLoading=!1;case 14:case"end":return _context2.stop()}}),_callee2)})))()},afterInithook:function(){this.setSelectedForm()},setAppId:function(){var query=this.$route.query,_ref=query||{},appId=_ref.appId;!(0,validation/* isEmpty */.xb)(appId)&&appId>0&&(this.appId=parseInt(appId))},availableApps:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var moduleName,_yield$API$get,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return moduleName=_this3.moduleName,_context3.next=3,api/* API */.bl.get("v2/application/fetchList",{moduleName:moduleName});case 3:_yield$API$get=_context3.sent,data=_yield$API$get.data,error=_yield$API$get.error,error?_this3.$message.error(error.message||"Error Occured"):(_this3.apps=data.application||[],(0,validation/* isEmpty */.xb)(_this3.appId)&&(_this3.appId=(_this3.apps.find((function(app){return"newapp"===app.linkName}))||_this3.apps[0]).id));case 7:case"end":return _context3.stop()}}),_callee3)})))()},loadSpaceCategoryList:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var _spaceCategory,moduleName,url,params,_yield$API$get2,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _spaceCategory="spaceCategory",moduleName=_spaceCategory.moduleName,url="spacecategory/getlist",params={moduleName:moduleName},_context4.next=5,api/* API */.bl.get(url,params);case 5:_yield$API$get2=_context4.sent,error=_yield$API$get2.error,data=_yield$API$get2.data,error?_this4.$message.error(error.message||"Error Occurred"):_this4.spaceCategoryList=data.spaceCategories;case 9:case"end":return _context4.stop()}}),_callee4)})))()},loadForms:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var appId,moduleName,params,_yield$API$get3,data,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return appId=_this5.appId,moduleName="spacebooking",params={moduleName:moduleName,appId:appId},_context5.next=5,api/* API */.bl.get("/v2/forms",params);case 5:_yield$API$get3=_context5.sent,data=_yield$API$get3.data,error=_yield$API$get3.error,error?_this5.$message.error(error.message||"Error Occured"):_this5.forms=data.forms||[];case 9:case"end":return _context5.stop()}}),_callee5)})))()},updateSelectedForm:function(){var _this6=this;this.formRelationList.length&&this.formRelationList.forEach((function(value){_this6.appId===value.appId&&_this6.$set(_this6.selectedForm,"".concat(value.categoryId),value.moduleFormId)}))},setSelectedForm:function(){var _this7=this;this.selectedForm={},this.formRelationList.length&&this.formRelationList.forEach((function(value){_this7.appId===value.appId&&_this7.$set(_this7.selectedForm,"".concat(value.categoryId),value.moduleFormId)}))},loadFormRelation:function(){var _this8=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var url,_yield$API$get4,error,data;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return url="v3/formrelation/list",_context6.next=3,api/* API */.bl.get(url);case 3:_yield$API$get4=_context6.sent,error=_yield$API$get4.error,data=_yield$API$get4.data,error?_this8.$message.error(error.message||"Error Occurred"):_this8.formRelationList=null!==data&&void 0!==data&&data.getFormRelationData?data.getFormRelationData:[];case 7:case"end":return _context6.stop()}}),_callee6)})))()},updateFormRelation:function(object){var _this9=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee7(){var url,params,_yield$API$post,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context7){while(1)switch(_context7.prev=_context7.next){case 0:return url="v3/formrelation/addOrUpdate",params={},_this9.formRelationData.appId=_this9.appId,_this9.formRelationData.parentModuleName="spacebooking",_this9.formRelationData.categoryId=object.id,_this9.formRelationData.moduleFormId=_this9.selectedForm[object.id],params.formRelationData=_this9.formRelationData,_context7.next=9,api/* API */.bl.post(url,params);case 9:_yield$API$post=_context7.sent,error=_yield$API$post.error,error?_this9.$message.error(error.message||"Error occurred while updating Form Relation"):(_this9.showFormCreation=!1,_this9.$message.success("Updated successfully"));case 12:case"end":return _context7.stop()}}),_callee7)})))()}}},WorkplaceSettings_FormRelationvue_type_script_lang_js=FormRelationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(WorkplaceSettings_FormRelationvue_type_script_lang_js,FormRelationvue_type_template_id_c7efcb66_scoped_true_render,FormRelationvue_type_template_id_c7efcb66_scoped_true_staticRenderFns,!1,null,"c7efcb66",null)
/* harmony default export */,FormRelation=component.exports,BookingPoliciesListViewvue_type_template_id_7ac97242_scoped_true_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"policy-container"},[_c("portal",{attrs:{to:"booking-policy-settings-header-booking-policies"}},[_c("div",{staticClass:"display-flex-between-space m20"},[_c("div",{staticClass:"setting-title-block"},[_c("div",{staticClass:"setting-form-title"},[_vm._v(" "+_vm._s(_vm.$t("workplace.general.bookingpolicies"))+" ")]),_c("div",{staticClass:"heading-description"},[_vm._v(" "+_vm._s(_vm.$t("workplace.policies.description"))+" ")])]),_c("div",{staticClass:"action-btn setting-page-btn"},[_c("el-button",{staticClass:"el-button setup-el-btn el-button--primary",attrs:{type:"primary"},on:{click:_vm.addPolicy}},[_vm._v(_vm._s(_vm.$t("workplace.general.add_policy")))])],1)])]),_c("div",{staticClass:"pull-right mB15"},[[_c("div",{staticClass:"flex-middle filter-container"},[_c("f-search",{key:"name",staticClass:"mR10",class:_vm.disableQuickSearch,attrs:{remote:!0},on:{search:_vm.quickSearch},model:{value:_vm.policyList,callback:function($$v){_vm.policyList=$$v},expression:"policyList"}}),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("AdvancedSearch",{key:_vm.moduleName+"-search",class:_vm.disableAdvancedSearch,attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName,hideQuery:!0,onSave:_vm.applyPolicyFilters,filterList:_vm.policyFilterList},scopedSlots:_vm._u([{key:"icon",fn:function(){return[_c("div",{staticClass:"resource-icons pT5"},[_c("InlineSvg",{staticClass:"pointer",attrs:{src:"svgs/dashboard/filter",iconClass:"icon icon-sm fc-fill-path-grey"}})],1)]},proxy:!0}])}),_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("pagination",{ref:"f-page",staticClass:"nowrap pT5",attrs:{total:_vm.policyCount,perPage:_vm.perPage,pageNo:_vm.policyPage},on:{onPageChanged:_vm.setPage}})],1)]],2),_vm.$validation.isEmpty(_vm.policyFilterList)?_vm._e():_c("div",{staticClass:"mB15"},[_c("FTags",{key:"ftags-list-"+_vm.moduleName,staticClass:"setup-filter-tags",attrs:{hideQuery:!0,hideSaveView:!0,filterList:_vm.policyFilterList},on:{updateFilters:_vm.applyPolicyFilters,resetFilters:_vm.resetFilters}})],1),_vm.isLoading?_c("SetupLoader",{staticClass:"m10",class:_vm.resourceEmpty,scopedSlots:_vm._u([{key:"setupLoading",fn:function(){return[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})]},proxy:!0}],null,!1,3036156284)}):_vm.$validation.isEmpty(_vm.policyList)&&!_vm.isLoading?_c("SetupEmpty",{staticClass:"empty-container",class:_vm.resourceEmpty,scopedSlots:_vm._u([{key:"emptyImage",fn:function(){return[_c("inline-svg",{attrs:{src:"svgs/copy2",iconClass:"icon icon-sm-md"}})]},proxy:!0},{key:"emptyHeading",fn:function(){return[_vm._v(" "+_vm._s(_vm.$t("workplace.policy_status.no_policy"))+" ")]},proxy:!0}])}):_c("div",[_c("el-table",{staticClass:"width100 fc-setup-table fc-setup-table-th-borderTop list-table",attrs:{data:_vm.policyList,height:_vm.tableHeight,fit:!0,"header-cell-style":{background:"#f3f1fc"}}},[_c("el-table-column",{attrs:{label:_vm.$t("workplace.general.name"),fixed:"",width:200},scopedSlots:_vm._u([{key:"default",fn:function(policySlot){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"truncate-text",attrs:{title:_vm.getPolicyDetail(policySlot,"name")}},[_vm._v(" "+_vm._s(_vm.getPolicyDetail(policySlot,"name"))+" ")])]}}])}),_c("el-table-column",{attrs:{prop:"criteriaId",label:_vm.$t("workplace.general.criteriaId"),width:130},scopedSlots:_vm._u([{key:"default",fn:function(policySlot){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"truncate-text",attrs:{title:_vm.getPolicyDetail(policySlot,"criteriaId")}},[_vm._v(" "+_vm._s(_vm.getPolicyDetail(policySlot,"criteriaId"))+" ")])]}}])}),_c("el-table-column",{attrs:{prop:"description",label:_vm.$t("workplace.general.policydescription"),width:330},scopedSlots:_vm._u([{key:"default",fn:function(policySlot){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"truncate-text",attrs:{title:_vm.getPolicyDetail(policySlot,"description")}},[_vm._v(" "+_vm._s(_vm.getPolicyDetail(policySlot,"description"))+" ")])]}}])}),_c("el-table-column",{attrs:{prop:"moduleName",label:_vm.$t("workplace.general.moduleName"),width:130},scopedSlots:_vm._u([{key:"default",fn:function(policySlot){return[_c("div",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"truncate-text",attrs:{title:_vm.getPolicyDetail(policySlot,"moduleName")}},[_vm._v(" "+_vm._s(_vm.getPolicyDetail(policySlot,"moduleName"))+" ")])]}}])}),_c("el-table-column",{staticClass:"visibility-visible-actions",attrs:{prop:"",label:"",width:180,fixed:"right"},scopedSlots:_vm._u([{key:"default",fn:function(policySlot){return[_c("div",{staticClass:"text-center template-actions"},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit edit-icon visibility-hide-actions pR15",attrs:{"data-arrow":"true",title:_vm.$t("common._common.edit")},on:{click:function($event){return _vm.editPolicy(policySlot.row)}}}),_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-delete fc-delete-icon visibility-hide-actions",attrs:{"data-arrow":"true",title:_vm.$t("common._common.delete")},on:{click:function($event){return _vm.deletePolicy(policySlot.row.id)}}})])]}}])})],1)],1),_vm.showDialog?_c("AddNewPolicy",{attrs:{selectedPolicy:_vm.selectedPolicy,id:_vm.id,isNew:_vm.isNew,visibility:_vm.showDialog},on:{closeDialog:_vm.closeDialog,savePolicy:_vm.savePolicy,"update:visibility":function($event){_vm.showDialog=$event}}}):_vm._e()],1)},BookingPoliciesListViewvue_type_template_id_7ac97242_scoped_true_staticRenderFns=[],objectSpread2=__webpack_require__(595082),SetupLoader=(__webpack_require__(648324),__webpack_require__(670560),__webpack_require__(233432)),SetupPagination=__webpack_require__(353324),AdvancedSearch=__webpack_require__(784823),FTags=__webpack_require__(775676),FSearch=__webpack_require__(947748),NewBookingPoliciesvue_type_template_id_e7554aac_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("el-dialog",{staticStyle:{"z-index":"999999"},attrs:{visible:_vm.visibility,"before-close":_vm.closeDialog,"append-to-body":!0,fullscreen:!0,"custom-class":"fc-dialog-form setup-dialog-right setup-dialog50 setup-dialog fc-web-form-dialog f-webform-right-dialog fc-floor-plan-booking"},on:{"update:visible":function($event){_vm.visibility=$event}}},[_c("div",{staticClass:"overflow-y-scroll pB70 pL5 pR5 booking-policies-container"},[_c("el-form",{ref:"criteria-builder",attrs:{model:_vm.bookingpolicies}},[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:12}},[_c("p",{staticClass:"fc-input-label-txt"},[_vm._v(" "+_vm._s(_vm.$t("common.products.name"))+" ")]),_c("el-form-item",{attrs:{prop:"name"}},[_c("el-input",{staticClass:"width65 fc-input-full-border2",attrs:{autofocus:"",placeholder:_vm.$t("Name"),required:!0},model:{value:_vm.bookingpolicies.name,callback:function($$v){_vm.$set(_vm.bookingpolicies,"name",$$v)},expression:"bookingpolicies.name"}})],1)],1),_c("el-col",{attrs:{span:12}},[_c("el-form-item",{staticClass:"mL30 mB20",attrs:{label:_vm.$t("servicecatalog.setup.module_name"),prop:"moduleName"}},[_c("el-select",{staticClass:"fc-input-full-border-select2 width100",attrs:{placeholder:_vm.$t("servicecatalog.setup.selectmodules")},on:{change:_vm.updateCriteria},model:{value:_vm.bookingpolicies.moduleName,callback:function($$v){_vm.$set(_vm.bookingpolicies,"moduleName",$$v)},expression:"bookingpolicies.moduleName"}},_vm._l(_vm.modulesList,(function(moduleName){return _c("el-option",{key:moduleName.value,attrs:{label:moduleName.displayName,value:moduleName.value}})})),1)],1)],1)],1),_c("el-form-item",{attrs:{label:_vm.$t("common.wo_report.report_description"),prop:"description"}},[_c("el-input",{staticClass:"fc-input-full-border-textarea",attrs:{type:"textarea",autosize:{minRows:4,maxRows:4},placeholder:_vm.$t("setup.setupLabel.add_a_decs"),resize:"none"},model:{value:_vm.bookingpolicies.description,callback:function($$v){_vm.$set(_vm.bookingpolicies,"description",$$v)},expression:"bookingpolicies.description"}})],1),_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:24}},[_c("el-collapse",{staticClass:"fc-agent-collapse fc-pushing-data-collapse",attrs:{accordion:""},model:{value:_vm.activeNames,callback:function($$v){_vm.activeNames=$$v},expression:"activeNames"}},[_vm.bookingpolicies.moduleName?_c("el-collapse-item",{staticClass:"fc-input-label-txt",attrs:{title:"Criteria",name:"1"}},[_c("el-form-item",{attrs:{prop:"criteria"}},[_vm.showCriteria?_c("CriteriaBuilder",{attrs:{moduleName:_vm.bookingpolicies.moduleName,required:!0},model:{value:_vm.bookingpolicies.criteria,callback:function($$v){_vm.$set(_vm.bookingpolicies,"criteria",$$v)},expression:"bookingpolicies.criteria"}}):_vm._e()],1)],1):_vm._e()],1)],1),_c("div",{},[_c("el-col",{attrs:{span:24}},[_c("el-collapse",{staticClass:"fc-agent-collapse fc-pushing-data-collapse card-scroll ",attrs:{accordion:""},model:{value:_vm.activeNames,callback:function($$v){_vm.activeNames=$$v},expression:"activeNames"}},[_c("el-collapse-item",{attrs:{title:"Policies list",name:"2"}},[_c("el-form-item",{attrs:{prop:"policies"}},[_c("BookingPoliciesList",{model:{value:_vm.bookingpolicies.policy,callback:function($$v){_vm.$set(_vm.bookingpolicies,"policy",$$v)},expression:"bookingpolicies.policy"}})],1)],1)],1)],1)],1)],1),_c("div",{staticClass:"modal-dialog-footer"},[_c("el-button",{staticClass:"modal-btn-cancel",on:{click:function($event){return _vm.closeDialog()}}},[_vm._v(_vm._s(_vm.$t("common._common.cancel")))]),_c("el-button",{staticClass:"modal-btn-save",attrs:{type:"primary"},on:{click:_vm.savePolicy}},[_vm._v(_vm._s(_vm.$t("common.roles.save")))])],1)],1)],1)])},NewBookingPoliciesvue_type_template_id_e7554aac_staticRenderFns=[],dist=(__webpack_require__(434284),__webpack_require__(659749),__webpack_require__(386544),__webpack_require__(191853)),BookingPoliciesListvue_type_template_id_2ddb1034_render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",_vm._l(_vm.policiesList,(function(policie,key){return _c("div",{key:key,staticClass:"app-list visibility-visible-actions"},[_c("el-row",{staticClass:"mB10",attrs:{gutter:20}},[_c("el-row",{key:key,staticClass:"visitor-hor-card scale-up-left flex-middle"},[_c("el-col",{attrs:{span:19}},[_c("div",{staticClass:"pull-left"},[_c("div",{staticClass:"app-name"},[_vm._v(" "+_vm._s(policie.name)+" ")]),_c("div",{staticClass:"fc-grey4-13 pT5"},[_vm._v(" "+_vm._s(policie.description)+" ")])])]),_c("el-col",{staticClass:"text-right",attrs:{span:7}},[["maximumAttendees","IsChargeable","securityDeposit","bookingAdvanceDays","bookingAdvanceHours","cancellationPeriodInDays","cancellationPeriodInHours","cancellationCharges"].includes(key)?_c("div",[!0===policie.enable?_c("el-input",{staticClass:"fc-input-full-border2 width80",attrs:{type:"number",min:5},model:{value:policie.value,callback:function($$v){_vm.$set(policie,"value",$$v)},expression:"policie.value"}}):_vm._e()],1):_vm._e()]),_c("el-col",{staticClass:"text-right",attrs:{span:3}},[_c("div",{staticClass:"pull-right"},[_c("el-switch",{on:{change:function($event){return _vm.toggleGroup(policie)}},model:{value:policie.enable,callback:function($$v){_vm.$set(policie,"enable",$$v)},expression:"policie.enable"}})],1)])],1)],1)],1)})),0)},BookingPoliciesListvue_type_template_id_2ddb1034_staticRenderFns=[],BookingPoliciesListvue_type_script_lang_js={props:["value"],computed:{policiesList:{get:function(){return this.value},set:function(value){this.$emit("update:value",value)}}}},WorkplaceSettings_BookingPoliciesListvue_type_script_lang_js=BookingPoliciesListvue_type_script_lang_js,BookingPoliciesList_component=(0,componentNormalizer/* default */.Z)(WorkplaceSettings_BookingPoliciesListvue_type_script_lang_js,BookingPoliciesListvue_type_template_id_2ddb1034_render,BookingPoliciesListvue_type_template_id_2ddb1034_staticRenderFns,!1,null,null,null)
/* harmony default export */,BookingPoliciesList=BookingPoliciesList_component.exports,NewBookingPoliciesvue_type_script_lang_js={props:["visibility","formData","recordData","moduleName","selectedPolicy","isNew","id"],created:function(){var isNew=this.isNew,selectedPolicy=this.selectedPolicy;isNew||(0,validation/* isEmpty */.xb)(selectedPolicy)||(this.bookingpolicies=selectedPolicy)},components:{CriteriaBuilder:dist/* CriteriaBuilder */.IP,BookingPoliciesList:BookingPoliciesList},data:function(){return{displayName:"",isDefault:!1,activeNames:"1",
// criteria: null,
bookingpolicies:{name:null,criteria:null,description:null,policy:{maximumAttendees:{name:"Maximum Attendees",description:"Can specify Maximum number of Attendees for the selected space",enable:!1,value:null,unit:null},isChargeable:{name:"Is Chargeable",description:"Can specify the Charges for the selected space",enable:!1,value:null,unit:null},isMultipleDayBooking:{name:"Is Multiple Day Booking",description:"Can specify whether Multiple days booking is allowed",enable:!1,value:null,unit:null},securityDeposit:{name:"Security Deposit",description:"Can specify the deposit amount",enable:!1,value:null,unit:null},bookingAdvanceDays:{name:"Booking Advance Days",description:"Can specify Advance booking days",enable:!1,value:null,unit:null},bookingAdvanceHours:{name:"Booking Advance Hours",description:"Can specify Advance booking hours",enable:!1,value:null,unit:null},cancellationPeriodInDays:{name:"Cancellation Period In Days",description:"Can specify Cancellation period in days",enable:!1,value:null,unit:null},cancellationPeriodInHours:{name:"Cancellation Period In Hours",description:"Can specify Cancellation Period In Hours",enable:!1,value:null,unit:null},cancellationCharges:{name:"Cancellation Charges",description:"Can specify Cancellation Charges for the booking",enable:!1,value:null,unit:null}},isModulesLoading:!0,moduleName:null,selectedModuleName:null},
// selectedModuleName: null,
modulesList:[{value:"space",displayName:"Space"},{value:"desks",displayName:"Desk"},{value:"parkingstall",displayName:"Parking"}],showCriteria:!0}},computed:{},mounted:function(){},methods:{close:function(){this.$emit("close")},updateCriteria:function(){this.rerenderCriteria()},rerenderCriteria:function(){var _this=this;this.showCriteria=!1,this.$nextTick((function(){_this.showCriteria=!0}))},savePolicy:function(){var _this2=this;this.$refs["criteria-builder"].validate(function(){var _ref=(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(valid){var isNew,id,spaceBookingPolicies,promise,_ref2,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:if(valid){_context.next=2;break}return _context.abrupt("return");case 2:if(isNew=_this2.isNew,_this2,id=_this2.id,spaceBookingPolicies={name:_this2.bookingpolicies.name,description:_this2.bookingpolicies.description,moduleName:_this2.bookingpolicies.moduleName,criteria:_this2.bookingpolicies.criteria,policy:_this2.bookingpolicies.policy},!_this2.isNew){_context.next=12;break}return _context.next=9,api/* API */.bl.createRecord("spaceBookingPolicy",{data:spaceBookingPolicies});case 9:promise=_context.sent,_context.next=15;break;case 12:return _context.next=14,api/* API */.bl.updateRecord("spaceBookingPolicy",{id:id,data:spaceBookingPolicies});case 14:promise=_context.sent;case 15:_ref2=promise||{},error=_ref2.error,error?_this2.$message.error(error.message||"Error Occured"):(_this2.$emit("savePolicy"),isNew?_this2.$message.success(_this2.$t("workplace.policy_status.added")):_this2.$message.success(_this2.$t("workplace.policy_status.updated")));case 17:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())},cancel:function(){this.$emit("canceled")},closeDialog:function(){this.$emit("update:visibility",!1)}}},WorkplaceSettings_NewBookingPoliciesvue_type_script_lang_js=NewBookingPoliciesvue_type_script_lang_js,NewBookingPolicies_component=(0,componentNormalizer/* default */.Z)(WorkplaceSettings_NewBookingPoliciesvue_type_script_lang_js,NewBookingPoliciesvue_type_template_id_e7554aac_render,NewBookingPoliciesvue_type_template_id_e7554aac_staticRenderFns,!1,null,null,null)
/* harmony default export */,NewBookingPolicies=NewBookingPolicies_component.exports,BookingPoliciesListViewvue_type_script_lang_js={name:"Policylist",title:function(){return this.$t("workplace.general.bookingpolicies")},data:function(){return{showDialog:!1,selectedPolicy:null,isLoading:!0,policyList:[],perPage:50,policyCount:null,policyPage:1,isNew:!1,policyFilterList:[],policyQuickSearch:null,id:null}},components:{SetupEmpty:SetupEmptyState/* default */.Z,SetupLoader:SetupLoader/* default */.Z,Pagination:SetupPagination/* default */.Z,AddNewPolicy:NewBookingPolicies,AdvancedSearch:AdvancedSearch/* default */.Z,FTags:FTags["default"],FSearch:FSearch/* default */.Z},computed:{disableAction:function(){var policyList=this.policyList;return(0,validation/* isEmpty */.xb)(policyList)?"disable-actions":""},moduleName:function(){return"spaceBookingPolicy"},moduleDisplayName:function(){return"Space Booking Policy"},tableHeight:function(){var policyFilterList=this.policyFilterList;return(0,validation/* isEmpty */.xb)(policyFilterList)?"calc(100vh - 200px)":"calc(100vh - 260px)"},resourceEmpty:function(){var policyFilterList=this.policyFilterList;return(0,validation/* isEmpty */.xb)(policyFilterList)?"resource-empty":"resource-filter-applied-empty"},disableQuickSearch:function(){var policyFilterList=this.policyFilterList;return(0,validation/* isEmpty */.xb)(policyFilterList)?"":"disable-search-actions"},disableAdvancedSearch:function(){var policyQuickSearch=this.policyQuickSearch;return(0,validation/* isEmpty */.xb)(policyQuickSearch)?"":"disable-search-actions"}},created:function(){this.loadPolicy()},watch:{policyPage:{handler:function(newVal){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var policyFilterList,policyQuickSearch,filters;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:(0,validation/* isEmpty */.xb)(newVal)||(policyFilterList=_this.policyFilterList,policyQuickSearch=_this.policyQuickSearch,filters=(0,validation/* isEmpty */.xb)(policyFilterList)?policyQuickSearch:policyFilterList,(0,validation/* isEmpty */.xb)(filters)?_this.loadPolicy():_this.loadPolicy({filters:filters}));case 1:case"end":return _context.stop()}}),_callee)})))()},immediate:!0}},methods:{editPolicy:function(policySlot){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var _yield$API$get,error,data,_ref,spaceBookingPolicy;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.id=policySlot.id,_context2.next=3,api/* API */.bl.get("/v3/modules/data/summary?id="+_this2.id+"&moduleName=spaceBookingPolicy");case 3:_yield$API$get=_context2.sent,error=_yield$API$get.error,data=_yield$API$get.data,error?_this2.$message.error(error.message||"Error Occurred"):(_ref=data||{},spaceBookingPolicy=_ref.spaceBookingPolicy,null!=spaceBookingPolicy&&(_this2.selectedPolicy=spaceBookingPolicy,_this2.isLoading=!1,_this2.isNew=!1,_this2.showDialog=!0));case 7:case"end":return _context2.stop()}}),_callee2)})))()},loadPolicy:function(props){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var _ref2,filters,policyPage,perPage,moduleName,params,_yield$API$fetchAll,list,error,meta,_ref3,pagination;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this3.isLoading=!0,_ref2=props||{},filters=_ref2.filters,policyPage=_this3.policyPage,perPage=_this3.perPage,moduleName=_this3.moduleName,params={page:policyPage,perPage:perPage,withCount:!0,orderType:"desc",orderBy:"SYS_CREATED_TIME"},(0,validation/* isEmpty */.xb)(filters)||(params=(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},params),{},{filters:filters}),params["filters"]=JSON.stringify(filters)),_context3.next=7,api/* API */.bl.fetchAll(moduleName,params);case 7:_yield$API$fetchAll=_context3.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,meta=_yield$API$fetchAll.meta,error?_this3.$message.error(error.message||"Error Occured"):(_this3.policyList=list||[],_ref3=meta||{},pagination=_ref3.pagination,_this3.policyCount=_this3.$getProperty(pagination,"totalCount",null)),_this3.isLoading=!1;case 13:case"end":return _context3.stop()}}),_callee3)})))()},getPolicyDetail:function(policySlot,property){var _ref4=policySlot||{},row=_ref4.row;return this.$getProperty(row,property,"---")},addPolicy:function(){this.isNew=!0,this.showDialog=!0},showEdit:function(policySlot){this.$router.push({name:"bookingpolicy.edit",params:{id:policySlot.id,moduleName:this.moduleName}})},setPage:function(page){this.policyPage=page},closeDialog:function(canClose){canClose&&(this.showDialog=!1)},resetPage:function(){this.policyPage=1},applyPolicyFilters:function(_ref5){var filters=_ref5.filters;this.policyFilterList=filters,this.resetPage(),this.loadPolicy({filters:filters})},quickSearch:function(searchText){if(this.resetPage(),(0,validation/* isEmpty */.xb)(searchText))this.policyQuickSearch=null,this.loadPolicy();else{var filters={name:{operatorId:5,value:["".concat(searchText)]}};this.policyQuickSearch=filters,this.loadPolicy({filters:filters})}},savePolicy:function(){this.loadPolicy(),this.isNew=!1,this.showDialog=!1,this.selectedPolicy=null},resetFilters:function(){this.policyFilterList=[],this.resetPage(),this.loadPolicy()},deletePolicy:function(policyId){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var value,moduleName,_yield$API$deleteReco,error;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,_this4.$dialog.confirm({title:_this4.$t("workplace.policy_status.delete_title"),message:_this4.$t("workplace.policy_status.delete_policy"),rbDanger:!0,rbLabel:"Delete"});case 2:if(value=_context4.sent,!value){_context4.next=17;break}return moduleName=_this4.moduleName,_context4.next=7,api/* API */.bl.deleteRecord(moduleName,policyId);case 7:if(_yield$API$deleteReco=_context4.sent,error=_yield$API$deleteReco.error,!error){_context4.next=13;break}_this4.$message.error(error.message||"Error Occured"),_context4.next=17;break;case 13:return _this4.resetPage(),_context4.next=16,_this4.loadPolicy();case 16:_this4.$message.success(_this4.$t("workplace.policy_status.deleted"));case 17:case"end":return _context4.stop()}}),_callee4)})))()}}},WorkplaceSettings_BookingPoliciesListViewvue_type_script_lang_js=BookingPoliciesListViewvue_type_script_lang_js,BookingPoliciesListView_component=(0,componentNormalizer/* default */.Z)(WorkplaceSettings_BookingPoliciesListViewvue_type_script_lang_js,BookingPoliciesListViewvue_type_template_id_7ac97242_scoped_true_render,BookingPoliciesListViewvue_type_template_id_7ac97242_scoped_true_staticRenderFns,!1,null,"7ac97242",null)
/* harmony default export */,BookingPoliciesListView=BookingPoliciesListView_component.exports,WorkplaceSettingsHomevue_type_script_lang_js={components:{NewBookingPolicies:BookingPoliciesListView,FormRelation:FormRelation},data:function(){return{currentTab:"booking-policies"}}},WorkplaceSettings_WorkplaceSettingsHomevue_type_script_lang_js=WorkplaceSettingsHomevue_type_script_lang_js,WorkplaceSettingsHome_component=(0,componentNormalizer/* default */.Z)(WorkplaceSettings_WorkplaceSettingsHomevue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,WorkplaceSettingsHome=WorkplaceSettingsHome_component.exports},
/***/622957:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupEmptyState}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupEmptyState.vue?vue&type=template&id=839bdf38
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-empty"},[_c("div",{staticClass:"fc-setup-empty-image"},[_c("inline-svg",{attrs:{src:"svgs/list-empty",iconClass:"icon text-center icon-xxxxlg"}})],1),_c("div",{staticClass:"fc-setup-empty-txt"},[_vm._t("emptyHeading")],2),_c("div",{staticClass:"fc-setup-empty-txt-desc"},[_vm._t("emptyDescription")],2)])},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupEmptyState=component.exports},
/***/233432:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupLoader}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupLoader.vue?vue&type=template&id=367e612c
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-setup-loader"},[_vm._t("setupLoading")],2)},staticRenderFns=[],componentNormalizer=__webpack_require__(801001),script={},component=(0,componentNormalizer/* default */.Z)(script,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupLoader=component.exports},
/***/353324:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return SetupPagination}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/setup/components/SetupPagination.vue?vue&type=template&id=0e7c1e5a
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_vm.total>0?_c("div",{staticClass:"mT-5 d-flex",class:{"fc-black-small-txt-12":!_vm.hideToggle}},[_vm.hideToggle?_vm._e():_c("span",{staticClass:"el-icon-arrow-left pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer pR5",class:{disable:_vm.from<=1},on:{click:function($event){_vm.from>1&&_vm.prev()}}}),_c("el-popover",{attrs:{placement:"bottom",trigger:"click",disabled:_vm.disablePopup}},[_c("span",{staticClass:"pointer",class:[!_vm.disablePopup&&"button-hover"],attrs:{slot:"reference"},slot:"reference"},[_vm.from!==_vm.to?_c("span",[_vm._v(_vm._s(_vm.from)+" - ")]):_vm._e(),_c("span",[_vm._v(_vm._s(_vm.to))]),_vm._v(" "+_vm._s(_vm.$t("maintenance._workorder.of"))+" "+_vm._s(_vm.total)+" ")]),_c("el-pagination",{attrs:{layout:"prev, pager, next",total:_vm.total,"pager-count":5,"page-size":_vm.perPage,"current-page":_vm.page},on:{"current-change":_vm.handleCurrentChange,"update:pageSize":function($event){_vm.perPage=$event},"update:page-size":function($event){_vm.perPage=$event},"update:currentPage":function($event){_vm.page=$event},"update:current-page":function($event){_vm.page=$event}}})],1),_vm.hideToggle?_vm._e():_c("span",{staticClass:"el-icon-arrow-right pagination-arrow fc-black-small-txt-12 f16 fw-bold pointer pL5",class:{disable:_vm.to===_vm.total},on:{click:function($event){_vm.to!==_vm.total&&_vm.next()}}})],1):_vm._e()])},staticRenderFns=[],FPagination=__webpack_require__(929593),SetupPaginationvue_type_script_lang_js={extends:FPagination/* default */.Z},components_SetupPaginationvue_type_script_lang_js=SetupPaginationvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_SetupPaginationvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,SetupPagination=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/60071.js.map