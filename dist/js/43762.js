"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[43762,71569],{
/***/784823:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// EXPORTS
__webpack_require__.d(__webpack_exports__,{Z:function(){/* binding */return AdvancedSearch}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/newapp/components/search/AdvancedSearch.vue?vue&type=template&id=66305202
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",[_c("div",{staticClass:"d-flex align-center",on:{click:function($event){return _vm.openCloseSearch(!0)}}},[_vm._t("icon",(function(){return[_c("InlineSvg",{staticClass:"d-flex mT3 cursor-pointer",attrs:{src:"svgs/search",iconClass:"icon icon-sm self-center mR5"}})]}))],2),_vm.canShowSearchWiz?_c("el-dialog",{attrs:{title:_vm.title,visible:_vm.canShowSearchWiz,fullscreen:!0,"append-to-body":!0,"custom-class":"advance-search-container"},on:{"update:visible":function($event){_vm.canShowSearchWiz=$event}}},[_c("AdvancedSearch",{attrs:{moduleName:_vm.moduleName,searchParam:_vm.searchParam,hideQuery:_vm.hideQuery,filterList:_vm.filterList},on:{applyFilters:_vm.applyFilters,closeDialog:function(){return _vm.openCloseSearch(!1)}}})],1):_vm._e()],1)},staticRenderFns=[],objectSpread2=__webpack_require__(595082),router=(__webpack_require__(634338),__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(329435)),dist=__webpack_require__(191853),validation=__webpack_require__(990260),vuex_esm=__webpack_require__(420629),AdvancedSearchvue_type_script_lang_js={props:["moduleName","moduleDisplayName","filterList","hideQuery","onSave"],components:{AdvancedSearch:dist/* AdvancedSearch */.ZJ},data:function(){return{searchText:"",canShowSearchWiz:!1,isSaving:!1,searchableFields:[],isOpenWizPressed:!1}},created:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.addEventListener("keydown",this.keyDownHandler),document.addEventListener("keyup",this.keyUpHandler))},beforeDestroy:function(){(0,router/* isWebTabsEnabled */.tj)()&&(document.removeEventListener("keydown",this.keyDownHandler),document.removeEventListener("keyup",this.keyUpHandler))},computed:{title:function(){var moduleDisplayName=this.moduleDisplayName,title="".concat(this.$t("commissioning.sheet.filter")," ").concat(moduleDisplayName," ").concat(this.$t("filters.search.by"));return title},searchParam:function(){var $route=this.$route,_ref=$route||{},query=_ref.query,_ref2=query||{},search=_ref2.search;return(0,validation/* isEmpty */.xb)(search)?"":search}},mounted:function(){this.fetchSearchableFields({moduleName:this.moduleName})},methods:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapActions */.nv)({fetchSearchableFields:"search/fetchSearchableFields"})),{},{openCloseSearch:function(canShow){this.searchText="",this.canShowSearchWiz=canShow},applyFilters:function(filters){var hideQuery=this.hideQuery;hideQuery?this.onSave({filters:filters}):this.$store.dispatch("search/applyFilters",filters),this.openCloseSearch(!1)},keyDownHandler:function(e){if(e.shiftKey&&"Slash"===e.code)this.isOpenWizPressed=!0;else{var _navigator=navigator,userAgentData=_navigator.userAgentData,platform=_navigator.platform,_ref3=userAgentData||{},userPlatform=_ref3.platform,currentOS=userPlatform||platform,isMac=currentOS.toUpperCase().indexOf("MAC")>=0;(isMac&&e.metaKey||!isMac&&e.ctrlKey)&&"Enter"===e.key&&this.applyFilter()}},keyUpHandler:function(){this.isOpenWizPressed&&(this.openCloseSearch(!0),this.isOpenWizPressed=!1)}})},search_AdvancedSearchvue_type_script_lang_js=AdvancedSearchvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(search_AdvancedSearchvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,AdvancedSearch=component.exports},
/***/959483:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Layout}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/workorder/calendar/Layout.vue?vue&type=template&id=1d01c62f&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"layout container common-list-layout reading-kpi wo-calendar-max-width"},[_c("div",{staticClass:"view-header-container subheader-section"},[_c("calendar-header",{attrs:{showWoFilters:_vm.showWoFilters}})],1),_c("div",{staticClass:"height100 fc__layout__has__row"},[_c("div",[_c("FTags",{key:"ftags-list-"+_vm.moduleName})],1),_c("tags",{attrs:{disableSaveFilters:!0}}),_c("div",{staticClass:"height100 f-list-view"},[_c("router-view",{staticClass:"mT15"})],1)],1)])},staticRenderFns=[],CalendarHeadervue_type_template_id_f54eb3b2_scoped_true_render=(__webpack_require__(260228),__webpack_require__(976801),__webpack_require__(843843),function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"d-flex flex-row"},[_c("ul",{staticClass:"subheader-tabs pull-left pB10"},[_vm._l(_vm.views,(function(view){return[_c("router-link",{key:view.name,attrs:{tag:"li",to:_vm.parentPath+"/"+view.path,"active-class":"active"}},[_c("a",[_vm._v(_vm._s(view.label))]),_c("div",{staticClass:"sh-selection-bar"})])]}))],2),_c("div",{staticClass:"mL-auto d-flex flex-row"},[_vm.showSearch?_vm._e():_c("portal-target",{attrs:{name:"pmPagination"}}),_vm.showWoFilters?[_vm.showSearch?_vm._e():_c("span",{staticClass:"separator"},[_vm._v("|")]),_c("el-tooltip",{attrs:{effect:"dark",content:_vm.$t("common._common.search"),placement:"left"}},[_c("AdvancedSearch",{key:_vm.moduleName+"-search",attrs:{moduleName:_vm.moduleName,moduleDisplayName:_vm.moduleDisplayName}})],1)]:_vm._e()],2)])}),CalendarHeadervue_type_template_id_f54eb3b2_scoped_true_staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(564043),__webpack_require__(61514),__webpack_require__(538077),__webpack_require__(879288),__webpack_require__(434284),__webpack_require__(450886),__webpack_require__(670560),__webpack_require__(634338),__webpack_require__(420629)),router=__webpack_require__(329435),AdvancedSearch=__webpack_require__(784823),validation=__webpack_require__(990260),CalendarHeadervue_type_script_lang_js={props:["showWoFilters"],components:{AdvancedSearch:AdvancedSearch/* default */.Z},data:function(){return{moduleDisplayName:"".concat(this.$t("common._common.workorder")),moduleName:"workorder"}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapGetters */.Se)("webtabs",["tabHasPermission"])),(0,vuex_esm/* mapState */.rn)({currentTab:function(state){return state.webtabs.selectedTab},showSearch:function(state){return state.search.active}})),{},{views:function(){var _this=this,views=[{name:"pmCalender",label:this.$t("maintenance.calender.calender_pm"),path:"planned",permission:"planned:CALENDAR",hideIfOrg:[274]},{name:"pmPlanner",label:this.$t("maintenance.calender.asset_planner"),path:"pmplannernew",permission:"planned:PM_PLANNER",hide_if_license:"PM_PLANNER"},{name:"staffPlanner",label:this.$t("maintenance.calender.staff_planner"),path:"staffplannernew",permission:"planned:PM_PLANNER",hide_if_license:"PM_PLANNER"},{name:"spacePlanner",label:this.$t("maintenance.calender.space_planner"),path:"spaceplanner",permission:"planned:PM_PLANNER",hide_if_license:"PM_PLANNER"}];return views.filter((function(view){var _ref=view||{},hide_if_license=_ref.hide_if_license,canHide=(view.hideIfOrg||[]).includes(Number(_this.$org.id)),isPmV2Enabled=!(0,validation/* isEmpty */.xb)(hide_if_license)&&_this.$helpers.isLicenseEnabled(hide_if_license),hasPermission=!1;hasPermission=(0,router/* isWebTabsEnabled */.tj)()?_this.tabHasPermission(view.permission,_this.currentTab):_this.$hasPermission(view.permission);var canShowView=!canHide&&hasPermission&&!isPmV2Enabled;return canShowView}))},parentPath:function(){return(0,router/* isWebTabsEnabled */.tj)()?this.findRoute():"/app/wo/calendar"}}),watch:{"$route.path":{handler:"openFirstView",immediate:!0}},methods:{findRoute:function(){var _this$currentTab=this.currentTab,currentTab=void 0===_this$currentTab?{}:_this$currentTab,$router=this.$router,route=(0,router/* findRouteForTab */.OD)(currentTab.id)||{};return $router.resolve({name:route.name}).href},openFirstView:function(){var _this2=this,availableViews=this.views.map((function(v){return v.path})),isViewNotAvailable=!availableViews.some((function(path){return _this2.$route.path.includes(path)}))&&(0,validation/* isEmpty */.xb)(this.$route.params.viewname);if(isViewNotAvailable){var path=availableViews[0]||{};path&&this.$router.push("".concat(this.parentPath,"/").concat(path))}}}},calendar_CalendarHeadervue_type_script_lang_js=CalendarHeadervue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(calendar_CalendarHeadervue_type_script_lang_js,CalendarHeadervue_type_template_id_f54eb3b2_scoped_true_render,CalendarHeadervue_type_template_id_f54eb3b2_scoped_true_staticRenderFns,!1,null,"f54eb3b2",null)
/* harmony default export */,CalendarHeader=component.exports,FTags=__webpack_require__(775676),Layoutvue_type_script_lang_js={components:{CalendarHeader:CalendarHeader,FTags:FTags["default"]},data:function(){return{moduleName:"workorder"}},computed:{showWoFilters:function(){var _this=this,routerPath=["pmplannernew","staffplannernew","spaceplanner"];return routerPath.some((function(path){return _this.$route.path.includes(path)}))}},created:function(){this.$store.dispatch("view/clearViews")}},calendar_Layoutvue_type_script_lang_js=Layoutvue_type_script_lang_js,Layout_component=(0,componentNormalizer/* default */.Z)(calendar_Layoutvue_type_script_lang_js,render,staticRenderFns,!1,null,"1d01c62f",null)
/* harmony default export */,Layout=Layout_component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/43762.js.map