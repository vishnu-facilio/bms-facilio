"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[62187],{
/***/574752:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return Avatar}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/components/Avatar.vue?vue&type=template&id=7f0d5689
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _vm.user||_vm.name?_c("div",{staticClass:"fc-avatar-inline"},[_vm.avatarUrl?_c("img",{staticClass:"fc-avatar",class:_vm.sizeClass,attrs:{src:_vm.avatarUrl,alt:"Profile Avatar"}}):_c("div",{staticClass:"fc-avatar",class:_vm.sizeClass,style:_vm.bgColor},[_vm._v(" "+_vm._s(_vm.trimmedName)+" ")])]):_vm._e()},staticRenderFns=[],objectSpread2=__webpack_require__(595082),vuex_esm=(__webpack_require__(425728),__webpack_require__(260228),__webpack_require__(434284),__webpack_require__(564043),__webpack_require__(709873),__webpack_require__(228436),__webpack_require__(450886),__webpack_require__(677049),__webpack_require__(821694),__webpack_require__(420629)),Avatarvue_type_script_lang_js={props:{size:{type:String},user:{type:Object},avatarStyle:{type:Object},color:{type:String},name:{type:Boolean}},data:function(){return{sizeClass:"fc-avatar-"+this.size,fullName:"",trimmedName:null,avatarUrl:null,bgColor:"background-color: "+(this.color?this.color:this.getRandomBgColor())}},computed:(0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({users:function(state){return state.users}})),mounted:function(){var _this=this;if(this.user){var userName="";if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this.user.id}));userObj&&userObj.avatarUrl&&(this.avatarUrl=userObj.avatarUrl),userObj&&userObj.name&&(userName=userObj.name)}userName=userName||this.user.name,userName&&(this.fullName=userName,this.trimmedName=this.getAvatarName(userName),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))}else this.name&&(this.trimmedName=this.getAvatarName(this.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},watch:{user:function(){var _this2=this;if(this.user.avatarUrl)this.avatarUrl=this.user.avatarUrl;else if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this2.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null;this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.name":function(){this.user.name&&(this.fullName=this.user.name,this.trimmedName=this.getAvatarName(this.user.name),this.bgColor="background-color: "+(this.color?this.color:this.getRandomBgColor()))},"user.avatarUrl":function(){this.user.avatarUrl?this.avatarUrl=this.user.avatarUrl:this.avatarUrl=null},"user.id":function(){var _this3=this;if(this.user.id){var userObj=this.users.find((function(user){return user.id===_this3.user.id}));userObj&&userObj.avatarUrl?this.avatarUrl=userObj.avatarUrl:this.avatarUrl=null}else this.avatarUrl=null}},methods:{getAvatarName:function(name){for(var parts=name.split(/[ -]/),initials="",initialLen=2,count=0,i=0;i<parts.length;i++)if(""!==parts[i].trim()&&(initials+=parts[i].charAt(0),count++,count>=initialLen))break;initials.length<initialLen&&name.length>=initialLen&&(initials=name.trim().substring(0,initialLen));var avatarName=initials.toUpperCase();return avatarName},getRandomBgColor:function(){var colors=["#FFBA51","#34BFA3","#FF2F82","#29D9A7","#ECDC74","#927FED","#FF61A8","#fbf383","#ac4352","#6db1f4"],userKey=this.user.email?this.user.email:this.user.name,userUniqueNum=Array.from(userKey).map((function(letter){return letter.charCodeAt(0)})).reduce((function(current,previous){return previous+current})),colorIndex=userUniqueNum%colors.length,color=colors[colorIndex];return color}}},components_Avatarvue_type_script_lang_js=Avatarvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(components_Avatarvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,Avatar=component.exports},
/***/162187:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return VendorHomepage}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/webViews/pages/Vendor/VendorHomepage.vue?vue&type=template&id=0a6170c0&scoped=true
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"fc-vendor-homepage"},[_c("div",{staticClass:"fc-black-14 text-left"},[_vm._v(" "+_vm._s(_vm.$t("tenant.vendor.profile_info"))+" ")]),_c("el-card",{staticClass:"fc-profile-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"flex-middle justify-content-center"},[_c("div",[_c("i",{staticClass:"el-icon-user-solid pR3"}),_vm._v(" "+_vm._s(_vm.$t("portal.webview.hi"))+", "+_vm._s(_vm.$getProperty(_vm.$account,"org.name"))+" ")]),_vm.$getProperty(_vm.$account,"org.state")?_c("div",{staticClass:"fc-vendor-status"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.$account,"org.state"))+" ")]):_vm._e()])]),_c("div",{staticClass:"fc-black-14 text-left pT20"},[_vm._v(" "+_vm._s(_vm.$t("tenant.vendor.company_info"))+" ")]),_c("el-card",{staticClass:"fc-profile-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"text-center"},[_c("avatar",{attrs:{size:"lg",user:_vm.$portaluser,color:"#3e2a8c"}})],1),_c("div",{staticClass:"text-center fc-black3-18"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.vendorDetailsData,"vendor.name"))+" ")]),_c("div",{staticClass:"flex-middle justify-content-center mT10"},[_vm.$getProperty(_vm.vendorDetailsData.vendor,"moduleState.displayName")?_c("div",{staticClass:"fc-vendor-status"},[_vm._v(" "+_vm._s(_vm.$getProperty(_vm.vendorDetailsData.vendor,"moduleState.displayName"))+" ")]):_vm._e()]),_vm.vendorDetailsData?_c("div",[_c("div",{staticClass:"fc-grey4-12"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.scope"))+" ")]),_c("div",{staticClass:"mT10"},[_c("div",{staticClass:"fc-black2-14 fw6"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.services"))+" ")]),_vm._l(_vm.vendorDetailsData,(function(service,iex){return _c("div",{key:iex},_vm._l(_vm.vendorDetailsData.services,(function(serve,inx){return _c("div",{key:inx,staticClass:"fc-black-13 pT10"},[_vm._v(" "+_vm._s(serve.name)+" ")])})),0)}))],2),_c("div",{staticClass:"fc-grey8-11 pT20 f14 text-center bold"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.show_more"))+" ")])]):_vm._e()]),_c("el-row",{staticClass:"mT20",attrs:{gutter:20}},[_c("el-col",{attrs:{span:12},on:{click:_vm.goToListInsurance}},[_c("el-card",{staticClass:"fc-profile-blue-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"fc-white-28 text-center pB10"},[_vm._v(" "+_vm._s(_vm.totalInsuranceCount?_vm.totalInsuranceCount:"0")+" ")]),_c("div",{staticClass:"fc-white-14 text-center"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.insurance_pending"))+" ")]),_c("div",{staticClass:"pT20"},[_c("i",{staticClass:"el-icon-right fc-white-22"})])])],1),_c("el-col",{attrs:{span:12},on:{click:_vm.goToListContact}},[_c("el-card",{staticClass:"fc-profile-blue-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"fc-white-28 text-center pB10 bold"},[_vm._v(" "+_vm._s(_vm.contactTotal?_vm.contactTotal:"0")+" ")]),_c("div",{staticClass:"fc-white-14 text-center"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.admin_workers"))+" ")]),_c("div",{staticClass:"pT20"},[_c("i",{staticClass:"el-icon-right fc-white-22"})])])],1)],1),_c("el-row",{staticClass:"mT10",attrs:{gutter:20}},[_c("el-col",{attrs:{span:12},on:{click:_vm.goToListInduction}},[_c("el-card",{staticClass:"fc-profile-blue-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"fc-white-28 text-center pB10"},[_vm._v(" "+_vm._s(_vm.inductionTotal?_vm.inductionTotal:"0")+" ")]),_c("div",{staticClass:"fc-white-14 text-center"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.induction_pending"))+" ")]),_c("div",{staticClass:"pT20"},[_c("i",{staticClass:"el-icon-right fc-white-22"})])])],1),_c("el-col",{attrs:{span:12},on:{click:_vm.goToListLicense}},[_c("el-card",{staticClass:"fc-profile-blue-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"fc-white-28 text-center pB10 bold"},[_vm._v(" "+_vm._s(_vm.licenseTotal?_vm.licenseTotal:"0")+" ")]),_c("div",{staticClass:"fc-white-14 text-center"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.worker_license"))+" ")]),_c("div",{staticClass:"pT20"},[_c("i",{staticClass:"el-icon-right fc-white-22"})])])],1)],1),_c("el-row",{staticClass:"mT10",attrs:{gutter:20},on:{click:_vm.goToListSwms}},[_c("el-col",{attrs:{span:12}},[_c("el-card",{staticClass:"fc-profile-blue-card mT10",attrs:{shadow:"never"}},[_c("div",{staticClass:"fc-white-28 text-center pB10"},[_vm._v(" "+_vm._s(_vm.swmsTotal?_vm.swmsTotal:"0")+" ")]),_c("div",{staticClass:"fc-white-14 text-center"},[_vm._v(" "+_vm._s(_vm.$t("portal.webview.swms_uploaded"))+" ")]),_c("div",{staticClass:"pT20"},[_c("i",{staticClass:"el-icon-right fc-white-22"})])])],1)],1)],1)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),asyncToGenerator=__webpack_require__(548534),api=__webpack_require__(32284),Avatar=__webpack_require__(574752),router=__webpack_require__(329435),mobileapps=__webpack_require__(590372),VendorHomepagevue_type_script_lang_js={data:function(){return{loading:!0,inusranceList:[],totalInsuranceCount:null,swmsData:[],swmsTotal:null,inductionTotal:null,inductionData:[],licenseTotal:null,vendorContactLicenseData:[],vendorContactDataListData:[],contactTotal:null,vendorDetailsData:[]}},components:{Avatar:Avatar["default"]},created:function(){this.loadInsurance(),this.loadWorkorderCretificated(),this.loadSwms(),this.loadInduction(),this.loadContacts(),this.loadProperityService()},methods:{loadProperityService:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var params,_yield$API$fetchAll,list,error,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.loading=!0,params={viewName:"allservices",perPage:10,withCount:!0,includeParentFilter:_this.includeParentFilter,filters:'{"vendor":{"operatorId":36,"value":["'.concat(_this.$portaluser.peopleId,'"]}}')},_context.next=4,api/* API */.bl.fetchAll("custom_vendorservices",params);case 4:_yield$API$fetchAll=_context.sent,list=_yield$API$fetchAll.list,error=_yield$API$fetchAll.error,error?(message=error.message,_this.$message.error(message||"Error occured while Vendor data")):_this.vendorDetailsData=list||[],_this.loading=!1;case 9:case"end":return _context.stop()}}),_callee)})))()},loadInsurance:function(){var _this2=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee2(){var params,_yield$API$fetchAll2,list,error,meta,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return _this2.loading=!0,params={viewName:"allinsurance",perPage:10,withCount:!0,includeParentFilter:_this2.includeParentFilter},_context2.next=4,api/* API */.bl.fetchAll("insurance",params);case 4:_yield$API$fetchAll2=_context2.sent,list=_yield$API$fetchAll2.list,error=_yield$API$fetchAll2.error,meta=_yield$API$fetchAll2.meta,error?(message=error.message,_this2.$message.error(message||"Error occured while fetching insurance")):(_this2.inusranceList=list||[],_this2.totalInsuranceCount=_this2.$getProperty(meta,"pagination.totalCount",null)),_this2.loading=!1;case 10:case"end":return _context2.stop()}}),_callee2)})))()},loadSwms:function(){var _this3=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee3(){var params,_yield$API$fetchAll3,list,error,meta,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context3){while(1)switch(_context3.prev=_context3.next){case 0:return _this3.loading=!0,params={viewName:"all",perPage:10,withCount:!0,includeParentFilter:_this3.includeParentFilter},_context3.next=4,api/* API */.bl.fetchAll("custom_swms",params);case 4:_yield$API$fetchAll3=_context3.sent,list=_yield$API$fetchAll3.list,error=_yield$API$fetchAll3.error,meta=_yield$API$fetchAll3.meta,error?(message=error.message,_this3.$message.error(message||"Error occured while SWMS data")):(_this3.swmsData=list||[],_this3.swmsTotal=_this3.$getProperty(meta,"pagination.totalCount",null)),_this3.loading=!1;case 10:case"end":return _context3.stop()}}),_callee3)})))()},loadInduction:function(){var _this4=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee4(){var params,_yield$API$fetchAll4,list,error,meta,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context4){while(1)switch(_context4.prev=_context4.next){case 0:return _this4.loading=!0,params={viewName:"allinductions",perPage:10,withCount:!0,includeParentFilter:_this4.includeParentFilter},_context4.next=4,api/* API */.bl.fetchAll("inductionResponse",params);case 4:_yield$API$fetchAll4=_context4.sent,list=_yield$API$fetchAll4.list,error=_yield$API$fetchAll4.error,meta=_yield$API$fetchAll4.meta,error?(message=error.message,_this4.$message.error(message||"Error occured while Induction data")):(_this4.inductionData=list||[],_this4.inductionTotal=_this4.$getProperty(meta,"pagination.totalCount",null)),_this4.loading=!1;case 10:case"end":return _context4.stop()}}),_callee4)})))()},loadWorkorderCretificated:function(){var _this5=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee5(){var params,_yield$API$fetchAll5,list,error,meta,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context5){while(1)switch(_context5.prev=_context5.next){case 0:return _this5.loading=!0,params={viewName:"alllicensecertificates",perPage:10,withCount:!0,includeParentFilter:_this5.includeParentFilter},_context5.next=4,api/* API */.bl.fetchAll("custom_vendorcontactlicensecertificates",params);case 4:_yield$API$fetchAll5=_context5.sent,list=_yield$API$fetchAll5.list,error=_yield$API$fetchAll5.error,meta=_yield$API$fetchAll5.meta,error?(message=error.message,_this5.$message.error(message||"Error occured while Contact data")):(_this5.vendorContactLicenseData=list||[],_this5.licenseTotal=_this5.$getProperty(meta,"pagination.totalCount",null)),_this5.loading=!1;case 10:case"end":return _context5.stop()}}),_callee5)})))()},loadContacts:function(){var _this6=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee6(){var params,_yield$API$fetchAll6,list,error,meta,message;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return _this6.loading=!0,params={viewName:"active",perPage:10,withCount:!0,includeParentFilter:_this6.includeParentFilter},_context6.next=4,api/* API */.bl.fetchAll("vendorcontact",params);case 4:_yield$API$fetchAll6=_context6.sent,list=_yield$API$fetchAll6.list,error=_yield$API$fetchAll6.error,meta=_yield$API$fetchAll6.meta,error?(message=error.message,_this6.$message.error(message||"Error occured while Contact data")):(_this6.vendorContactDataListData=list||[],_this6.contactTotal=_this6.$getProperty(meta,"pagination.totalCount",null)),_this6.loading=!1;case 10:case"end":return _context6.stop()}}),_callee6)})))()},goToListInsurance:function(){var routeData={pageType:router/* pageTypes */.As.LIST,moduleName:"insurance",viewName:"allinsurance"};(0,mobileapps/* emitEvent */.Kn)("navigate",routeData)},goToListContact:function(){var routeData={pageType:router/* pageTypes */.As.LIST,moduleName:"vendorcontact",viewName:"active"};(0,mobileapps/* emitEvent */.Kn)("navigate",routeData)},goToListInduction:function(){var routeData={pageType:router/* pageTypes */.As.LIST,moduleName:"inductionResponse",viewName:"allinductions"};(0,mobileapps/* emitEvent */.Kn)("navigate",routeData)},goToListLicense:function(){var routeData={pageType:router/* pageTypes */.As.LIST,moduleName:"custom_vendorcontactlicensecertificates",viewName:"alllicensecertificates"};(0,mobileapps/* emitEvent */.Kn)("navigate",routeData)},goToListSwms:function(){var routeData={pageType:router/* pageTypes */.As.LIST,moduleName:"custom_swms",viewName:"all"};(0,mobileapps/* emitEvent */.Kn)("navigate",routeData)}}},Vendor_VendorHomepagevue_type_script_lang_js=VendorHomepagevue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(Vendor_VendorHomepagevue_type_script_lang_js,render,staticRenderFns,!1,null,"0a6170c0",null)
/* harmony default export */,VendorHomepage=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/62187.js.map