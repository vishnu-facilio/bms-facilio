"use strict";(self["webpackChunkfacilio_web"]=self["webpackChunkfacilio_web"]||[]).push([[67674,32686,80865,53021],{
/***/524583:
/***/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__),
// EXPORTS
__webpack_require__.d(__webpack_exports__,{default:function(){/* binding */return movesOverview}});// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"5f5f0a0c-vue-loader-template"}!./node_modules/@vue/vue-loader-v15/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!./node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./src/pages/moves/movesOverview.vue?vue&type=template&id=73bb34cc
var render=function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"custom-modules-overview overflow-y-scroll",class:_vm.$validation.isEmpty(_vm.customClass)?"":_vm.customClass},[_vm.isLoading?_c("div",{staticClass:"text-center width100 pT50 mT50"},[_c("spinner",{attrs:{show:_vm.isLoading,size:"80"}})],1):[_c("div",{staticClass:"header pT10 pB15 pL20 pR20"},[_vm.$validation.isEmpty(_vm.customModuleData)?_vm._e():_c("div",{staticClass:"asset-details"},[_c("div",{staticClass:"d-flex flex-middle"},[_vm.showPhotoField?_c("div",[_vm.customModuleData[_vm.photoFieldName]?_c("div",[_c("img",{staticClass:"img-container",attrs:{src:_vm.getImage(_vm.customModuleData[_vm.photoFieldName])}})]):_vm.showAvatar?_c("div",[_c("avatar",{attrs:{size:"lg",user:{name:_vm.customModuleData.name}}})],1):_vm._e()]):_vm._e(),_c("div",{staticClass:"mL5"},[_c("div",{staticClass:"asset-id mT10"},[_vm.$account.portalInfo?_c("i",{directives:[{name:"tippy",rawName:"v-tippy",value:{animateFill:!1,animation:"shift-toward"},expression:"{ animateFill: false, animation: 'shift-toward' }"}],staticClass:"el-icon-back fc-grey3-text14 fw6 pR10 pointer",attrs:{content:"back",arrow:""},on:{click:_vm.back}}):_vm._e(),_vm._v(" #"+_vm._s(_vm.customModuleData[_vm.idFieldKey])+" ")]),_c("div",{staticClass:"asset-name mb5 d-flex"},[_vm._v(" "+_vm._s(_vm.customModuleData[_vm.mainFieldKey].name||_vm.$getProperty(_vm.customModuleData,_vm.mainFieldKey))+" "),_vm.currentModuleState?_c("div",{staticClass:"fc-badge text-uppercase inline vertical-middle mL15"},[_vm._v(" "+_vm._s(_vm.currentModuleState)+" ")]):_vm._e()])])])]),_c("div",{staticClass:"d-flex flex-direction-row",staticStyle:{"margin-left":"auto"}},[_c("CustomButton",{staticClass:"p10",attrs:{record:_vm.customModuleData,moduleName:_vm.moduleName,position:_vm.POSITION.SUMMARY},on:{refresh:function($event){return _vm.refreshObj()},onError:function(){}}}),_vm.isStateFlowEnabled?[_c("TransitionButtons",{key:_vm.customModuleData.id,attrs:{moduleName:_vm.moduleName,record:_vm.customModuleData,disabled:_vm.isApprovalEnabled,transitionFilter:_vm.transitionFilter,buttonClass:"asset-el-btn"},on:{currentState:function(){},transitionSuccess:function($event){return _vm.refreshObj()},transitionFailure:function(){}}})]:_vm._e(),_vm.isApprovalEnabled?_c("portal",{attrs:{to:"pagebuilder-sticky-top"}},[_c("ApprovalBar",{key:_vm.customModuleData.id+"approval-bar",staticClass:"approval-bar-shadow",attrs:{moduleName:_vm.moduleName,record:_vm.customModuleData,hideApprovers:_vm.shouldHideApprovers},on:{onSuccess:function($event){return _vm.refreshObj()},onFailure:function(){}}})],1):_vm._e(),_vm.showEdit?_c("el-button",{staticClass:"fc-wo-border-btn pL15 pR15 self-center",attrs:{type:"button"},on:{click:function($event){return _vm.editCustomModuleData(_vm.customModuleData)}}},[_c("i",{directives:[{name:"tippy",rawName:"v-tippy"}],staticClass:"el-icon-edit",attrs:{title:"Edit"}})]):_vm._e()],2)]),_vm.customModuleData&&_vm.customModuleData.id?_c("page",{key:_vm.customModuleData.id,attrs:{module:_vm.moduleName,id:_vm.customModuleData.id,details:_vm.customModuleData,primaryFields:_vm.primaryFields,notesModuleName:_vm.notesModuleName,attachmentsModuleName:_vm.attachmentsModuleName,isV3Api:_vm.isV3Api}}):_vm._e()]],2)},staticRenderFns=[],regeneratorRuntime=__webpack_require__(150124),objectWithoutProperties=__webpack_require__(62078),asyncToGenerator=__webpack_require__(548534),objectSpread2=__webpack_require__(595082),Overview=__webpack_require__(422273),api=__webpack_require__(32284),vuex_esm=__webpack_require__(420629),_excluded=["error"],movesOverviewvue_type_script_lang_js={extends:Overview/* default */.Z,name:"Overview",created:function(){this.$store.dispatch("loadTicketStatus",this.moduleName),this.loadMeta()},data:function(){return{metaInfo:null,record:null,primaryFields:["approvalFlowId","approvalStatus","stateFlowId","scheduledTime"]}},computed:(0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({},(0,vuex_esm/* mapState */.rn)({moduleMeta:function(state){return state.view.metaInfo}})),{},{idFieldKey:function(){return"id"},showEdit:function(){return!1},shouldHideApprovers:function(){return!0},customModuleData:function(){return this.record},isV3Api:function(){return!0},mainFieldKey:function(){return"employee"},moduleName:function(){return"moves"}}),methods:{loadCustomModuleData:function(){var _this=this;return(0,asyncToGenerator/* default */.Z)((0,regeneratorRuntime/* default */.Z)().mark((function _callee(){var id,moduleName,_yield$API$fetchRecor,error,rest;return(0,regeneratorRuntime/* default */.Z)().wrap((function(_context){while(1)switch(_context.prev=_context.next){case 0:return _this.isLoading=!0,id=_this.id,moduleName=_this.moduleName,_context.next=4,api/* API */.bl.fetchRecord(moduleName,{id:id});case 4:_yield$API$fetchRecor=_context.sent,error=_yield$API$fetchRecor.error,rest=(0,objectWithoutProperties/* default */.Z)(_yield$API$fetchRecor,_excluded),error?_this.$message.error("Could not load details"):(_this.record=rest[moduleName],_this.getFormMeta()),_this.isLoading=!1;case 9:case"end":return _context.stop()}}),_callee)})))()},loadMeta:function(){var _this2=this;api/* API */.bl.get("/module/meta",{moduleName:this.moduleName}).then((function(_ref){var data=_ref.data,error=_ref.error;!error&&data&&(_this2.metaInfo=data.meta)}))},transitionFilter:function(state){return this.canShowState(state)},canShowState:function(state){var user=this.$account.user,_ref2=user||{},appType=_ref2.appType;return!appType||(2===appType?Boolean(state.showInTenantPortal):3!==appType||Boolean(state.showInVendorPortal))},editCustomModuleData:function(){
// TODO
}}},moves_movesOverviewvue_type_script_lang_js=movesOverviewvue_type_script_lang_js,componentNormalizer=__webpack_require__(801001),component=(0,componentNormalizer/* default */.Z)(moves_movesOverviewvue_type_script_lang_js,render,staticRenderFns,!1,null,null,null)
/* harmony default export */,movesOverview=component.exports}}]);
//# sourceMappingURL=http://localhost:5050/sourcemaps/js/67674.js.map